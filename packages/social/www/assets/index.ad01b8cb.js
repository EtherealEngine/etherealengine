import{_ as W,t as V}from"./_app.f0a72417.js";import{r as u,j as D,R as o}from"./vendor.475cb2ff.js";import{w as U}from"./capitalize.fc001633.js";import{a as q,F as k}from"./useFormControl.a2039fae.js";import{T as F}from"./Typography.19cbe78d.js";import{c as T,S as m}from"./createSvgIcon.896642b4.js";var Z={root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},$=u.exports.forwardRef(function(e,t){var n=e.children,r=e.classes,s=e.className,c=e.component,l=c===void 0?"div":c,a=e.disablePointerEvents,d=a===void 0?!1:a,h=e.disableTypography,p=h===void 0?!1:h,S=e.position,M=e.variant,N=D(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),w=q()||{},_=M;return M&&w.variant,w&&!_&&(_=w.variant),u.exports.createElement(k.Provider,{value:null},u.exports.createElement(l,W({className:V(r.root,s,S==="end"?r.positionEnd:r.positionStart,d&&r.disablePointerEvents,w.hiddenLabel&&r.hiddenLabel,_==="filled"&&r.filled,w.margin==="dense"&&r.marginDense),ref:t},N),typeof n=="string"&&!p?u.exports.createElement(F,{color:"textSecondary"},n):n))}),Te=U(Z,{name:"MuiInputAdornment"})($),xe=T(u.exports.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),Ie=T(u.exports.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}));const He=i=>o.createElement(m,{...i},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 29.9824 7.31367 38.2566 16.875 39.757V25.7813H11.7969V20H16.875V15.5938C16.875 10.5813 19.8609 7.8125 24.4293 7.8125C26.6168 7.8125 28.9062 8.20312 28.9062 8.20312V13.125H26.3844C23.9 13.125 23.125 14.6668 23.125 16.25V20H28.6719L27.7852 25.7813H23.125V39.757C32.6863 38.2566 40 29.9824 40 20Z",fill:"#1877F2"}),o.createElement("path",{d:"M27.7852 25.7812L28.6719 20H23.125V16.25C23.125 14.6684 23.9 13.125 26.3844 13.125H28.9062V8.20312C28.9062 8.20312 26.6176 7.8125 24.4293 7.8125C19.8609 7.8125 16.875 10.5813 16.875 15.5938V20H11.7969V25.7812H16.875V39.757C18.9457 40.081 21.0543 40.081 23.125 39.757V25.7812H27.7852Z",fill:"white"}))),Re=i=>o.createElement(m,{...i},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0)"},o.createElement("path",{d:"M39.6104 20.4604C39.6104 19.1009 39.5002 17.734 39.265 16.3965H20.4004V24.0981H31.2033C30.755 26.582 29.3146 28.7794 27.2055 30.1756V35.1729H33.6505C37.4352 31.6895 39.6104 26.5453 39.6104 20.4604Z",fill:"#4285F4"}),o.createElement("path",{d:"M20.3998 40.0015C25.7939 40.0015 30.3429 38.2305 33.6572 35.1733L27.2123 30.1761C25.4191 31.396 23.1042 32.0868 20.4072 32.0868C15.1895 32.0868 10.7654 28.5667 9.17809 23.834H2.52734V28.9856C5.92253 35.7392 12.8378 40.0015 20.3998 40.0015Z",fill:"#34A853"}),o.createElement("path",{d:"M9.17129 23.8345C8.33351 21.3506 8.33351 18.6609 9.17129 16.177V11.0254H2.52789C-0.308777 16.6767 -0.308777 23.3348 2.52789 28.9861L9.17129 23.8345Z",fill:"#FBBC04"}),o.createElement("path",{d:"M20.3998 7.9161C23.2512 7.87201 26.007 8.94494 28.0721 10.9144L33.7822 5.20436C30.1665 1.80917 25.3677 -0.0574433 20.3998 0.00134778C12.8378 0.00134778 5.92253 4.2637 2.52734 11.0247L9.17074 16.1763C10.7507 11.4362 15.1821 7.9161 20.3998 7.9161Z",fill:"#EA4335"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0"},o.createElement("rect",{width:"40",height:"40",fill:"white"}))))),je=i=>o.createElement(m,{...i},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0)"},o.createElement("path",{d:"M37.0472 0H2.95278C2.16965 0 1.4186 0.311096 0.864849 0.864849C0.311096 1.4186 0 2.16965 0 2.95278V37.0472C0 37.8303 0.311096 38.5814 0.864849 39.1352C1.4186 39.6889 2.16965 40 2.95278 40H37.0472C37.8303 40 38.5814 39.6889 39.1352 39.1352C39.6889 38.5814 40 37.8303 40 37.0472V2.95278C40 2.16965 39.6889 1.4186 39.1352 0.864849C38.5814 0.311096 37.8303 0 37.0472 0ZM11.9222 34.075H5.90833V14.9722H11.9222V34.075ZM8.91111 12.325C8.22894 12.3212 7.56319 12.1153 6.99789 11.7335C6.43259 11.3516 5.99307 10.8109 5.7348 10.1795C5.47652 9.54808 5.41108 8.85432 5.54672 8.18576C5.68236 7.5172 6.013 6.90379 6.49693 6.42297C6.98085 5.94214 7.59636 5.61544 8.26578 5.4841C8.9352 5.35276 9.62852 5.42266 10.2583 5.68498C10.888 5.9473 11.4259 6.39028 11.8041 6.95802C12.1823 7.52576 12.3839 8.19282 12.3833 8.875C12.3898 9.33172 12.3042 9.78506 12.1317 10.208C11.9592 10.6309 11.7033 11.0148 11.3793 11.3368C11.0553 11.6587 10.6697 11.9121 10.2457 12.0819C9.82167 12.2517 9.36778 12.3344 8.91111 12.325ZM34.0889 34.0917H28.0778V23.6556C28.0778 20.5778 26.7694 19.6278 25.0806 19.6278C23.2972 19.6278 21.5472 20.9722 21.5472 23.7333V34.0917H15.5333V14.9861H21.3167V17.6333H21.3944C21.975 16.4583 24.0083 14.45 27.1111 14.45C30.4667 14.45 34.0917 16.4417 34.0917 22.275L34.0889 34.0917Z",fill:"#137EEA"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0"},o.createElement("rect",{width:"40",height:"40",fill:"white"}))))),Le=i=>o.createElement(m,{...i},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M12.5792 36.2521C27.6736 36.2521 35.9296 23.7465 35.9296 12.9017C35.9296 12.5465 35.9296 12.1929 35.9056 11.8409C37.5117 10.6791 38.8982 9.24069 40 7.59288C38.5023 8.25688 36.9134 8.69214 35.2864 8.88408C36.9997 7.85856 38.2819 6.24539 38.8944 4.34488C37.2835 5.30089 35.5211 5.97459 33.6832 6.33688C32.4459 5.02118 30.8094 4.14995 29.027 3.85802C27.2446 3.56609 25.4157 3.86974 23.8233 4.72197C22.2309 5.5742 20.9637 6.9275 20.2179 8.57246C19.4721 10.2174 19.2892 12.0623 19.6976 13.8217C16.4348 13.658 13.2429 12.8101 10.3291 11.3329C7.41526 9.85571 4.84461 7.78231 2.784 5.24728C1.73455 7.05394 1.41312 9.19266 1.88517 11.228C2.35721 13.2633 3.58724 15.0422 5.3248 16.2025C4.01872 16.1642 2.74108 15.8119 1.6 15.1753V15.2793C1.60052 17.174 2.25642 19.0103 3.45645 20.4766C4.65648 21.9428 6.32677 22.9489 8.184 23.3241C6.9758 23.6536 5.70812 23.7018 4.4784 23.4649C5.00302 25.0954 6.02405 26.5213 7.39873 27.5431C8.77342 28.5649 10.433 29.1317 12.1456 29.1641C10.4441 30.5015 8.49552 31.4904 6.41146 32.0741C4.32739 32.6578 2.14869 32.8248 0 32.5657C3.75306 34.974 8.11987 36.2515 12.5792 36.2457",fill:"#1DA1F2"})));/*!
 * Utilities for Web Request RPC.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */const x={ParseError:{message:"Parse error",code:-32700},InvalidRequest:{message:"Invalid Request",code:-32600},MethodNotFound:{message:"Method not found",code:-32601},InvalidParams:{message:"Invalid params",code:-32602},InternalError:{message:"Internal Error",code:-32603},ServerError:{message:"Server error",code:-32e3}};function g(i,e){if(e===void 0&&(e=window.location.href),typeof URL=="function")return new URL(i,e);if(typeof i!="string")throw new TypeError('"url" must be a string.');i.includes(":")||(e.startsWith("http")&&!i.startsWith("/")?i=e+"/"+i:i=e+i);const t=document.createElement("a");t.href=i;let n=(t.protocol||window.location.protocol)+"//";t.host?t.protocol==="http:"&&t.port==="80"||t.protocol==="https:"&&t.port==="443"?n+=t.hostname:n+=t.host:n+=window.location.host;let r=t.pathname;return r.startsWith("/")||(r="/"+r),{host:t.host||window.location.host,hostname:t.hostname,origin:n,protocol:t.protocol,pathname:r}}function B(i,e){for(e=i="";i++<36;e+=i*51&52?(i^15?8^Math.random()*(i^20?16:4):4).toString(16):"-");return e}function I(i){return i&&typeof i=="object"&&i.jsonrpc==="2.0"&&i.id&&typeof i.id=="string"}function z(i){return I(i)&&Array.isArray(i.params)}function G(i){return I(i)&&!!("result"in i^"error"in i)&&(!("error"in i)||K(i.error))}function K(i){return i&&typeof i=="object"&&typeof i.code=="number"&&typeof i.message=="string"}function Q(i){const e={message:i.message};return i.constructor.name!=="Error"&&(e.constructor=i.constructor.name),"name"in i&&(e.name=i.name),"code"in i?e.code=i.code:e.code=x.ServerError.code,"details"in i&&(e.details=i.details),e}function X(i){let e;return i.constructor==="DOMException"?e=new DOMException(i.message,i.name):(e=new Error(i.message),"code"in i&&(e.code=i.code)),i.details&&(e.details=i.details),e}function H({listener:i,origin:e,handle:t,expectRequest:n}){if(y(t)){const r=t;t=!1,r.then(s=>t=s)}return r=>{!(r.source===t&&r.origin===e&&(n&&z(r.data)||!n&&G(r.data)))||i(r.data,r)}}function Y(i){let[e,...t]=i.split(".");const n=t.pop();return e=[e,...t].join("."),{name:e,method:n}}function y(i){try{return typeof i.then=="function"}catch(e){}return!1}/*!
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */const J=3e4;class R{constructor(){this.origin=null,this._handle=null,this._listener=null,this._pending=new Map}async connect(e,t){if(this._listener)throw new Error("Already connected.");t=t||{};const n=this;n.origin=g(e).origin,n._handle=t.handle||window.parent||window.opener;const r=n._pending;return n._listener=H({origin:n.origin,handle:n._handle,expectRequest:!1,listener:s=>{if(!r.has(s.id))return;const{resolve:c,reject:l,cancelTimeout:a}=r.get(s.id);if(a(),"result"in s)return c(s.result);l(X(s.error))}}),window.addEventListener("message",n._listener),new ee(n)}async send(e,t,{timeout:n=J}){if(!this._listener)throw new Error("RPC client not connected.");const r=this,s={jsonrpc:"2.0",id:B(),method:e,params:t};return y(r._handle)?(await r._handle).postMessage(s,r.origin):r._handle.postMessage(s,r.origin),new Promise((c,l)=>{const a=r._pending;let d;if(n>0){const h=setTimeout(()=>{a.delete(s.id),l(new Error("RPC call timed out."))},n);d=()=>{a.delete(s.id),clearTimeout(h)}}else d=()=>{a.delete(s.id)};a.set(s.id,{resolve:c,reject:l,cancelTimeout:d})})}close(){if(this._listener){window.removeEventListener("message",this._listener),this._handle=this.origin=this._listener=null;for(const e of this._pending.values())e.reject(new Error("RPC client closed."));this._pending=new Map}}}class ee{constructor(e){this.client=e,this._apis=new Map}define(e,t){if(!(e&&typeof e=="string"))throw new TypeError("`name` must be a non-empty string.");if(!(t&&typeof t=="object"&&Array.isArray(t.functions)))throw new TypeError("`definition.function` must be an array of function names or function definition objects to be defined.");const n=this,r={};return t.functions.forEach(s=>{typeof s=="string"&&(s={name:s,options:{}}),r[s.name]=async function(){return n.client.send(e+"."+s.name,[...arguments],s.options)}}),n._apis[e]=r,r}get(e,t){if(!this._apis[e]){if(t)return this.define(e,t);throw new Error(`API "${e}" has not been defined.`)}return this._apis[e]}}/*!
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class te{constructor({deserialize:e=n=>n,waitUntil:t=async()=>{}}={}){this._listeners=[],this._deserialize=e,this._waitUntil=t}async emit(e){return e=this._deserialize(e),(this._listeners[e.type]||[]).forEach(t=>t(e)),this._waitUntil(e)}addEventListener(e,t){this._listeners[e]?this._listeners[e].push(t):this._listeners[e]=[t]}removeEventListener(e,t){const n=this._listeners[e];if(!n)return;const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}/*!
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class j{constructor(){this.origin=null,this._handle=null,this._apis=new Map}define(e,t){if(!(e&&typeof e=="string"))throw new TypeError("`name` must be a non-empty string.");if(!(t&&t!=="object"))throw new TypeError("`api` must be an object.");if(e in this._apis)throw new Error(`The "${e}" API is already defined.`);this._apis[e]=t}async listen(e,t){if(this._listener)throw new Error("Already listening.");t=t||{};const n=this;n.origin=g(e).origin,n._handle=t.handle||window.parent||window.opener;const r=t.ignoreUnknownApi==="true"||!1;n._listener=H({origin:n.origin,handle:n._handle,expectRequest:!0,listener:s=>{const{name:c,method:l}=Y(s.method),a=n._apis[c];if(l&&l.startsWith("_"))return L(n._handle,n.origin,s);if(!a&&r)return;if(!a||typeof a[l]!="function")return L(n._handle,n.origin,s);const d=a[l];(async()=>{const h={jsonrpc:"2.0",id:s.id};try{h.result=await d.apply(a,s.params)}catch(p){h.error=Q(p)}n._handle&&(y(n._handle)?n._handle.then(p=>p.postMessage(h,n.origin)):n._handle.postMessage(h,n.origin))})()}}),window.addEventListener("message",n._listener)}close(){this._listener&&(window.removeEventListener("message",this._listener),this._handle=this.origin=this._listener=null)}}function L(i,e,t){const n={jsonrpc:"2.0",id:t.id,error:Object.assign({},x.MethodNotFound)};return y(i)?i.then(r=>r.postMessage(n,e)):i.postMessage(n,e)}/*!
 * A WebApp is a remote application that runs in a WebAppContext.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class ie{constructor(e){this.relyingOrigin=g(e).origin,this.client=null,this.injector=null,this.client=new R,this.server=new j,this._control=null,this._connected=!1}async connect(){return this.injector=await this.client.connect(this.relyingOrigin),this._connected=!0,this._control=this.injector.define("core.control",{functions:["ready","show","hide"]}),this.server.listen(this.relyingOrigin),this.injector}async ready(){if(!this._connected)throw new Error('WebApp not connected. Did you call ".connect()"?');return await this._control.ready(),this}close(){this._connected&&(this.server.close(),this.client.close(),this._connected=!1)}async show(){if(!this._connected)throw new Error('Cannot "show" yet; not connected. Did you call ".connect()"?');return this._control.show()}async hide(){if(!this._connected)throw new Error('Cannot "hide" yet; not connected. Did you call ".connect()?"');return this._control.hide()}}/*!
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */const ne=6e4;class C{constructor(e,{timeout:t=ne,handle:n,iframe:r,windowControl:s,className:c=null,customize:l=null}={}){if(this.visible=!1,this.dialog=null,this.iframe=null,this.handle=null,this.windowControl=null,this._ready=!1,this._private={},this._timeoutId=null,this._private._readyPromise=new Promise((d,h)=>{this._timeoutId=setTimeout(()=>h(new DOMException("Loading Web application window timed out.","TimeoutError")),t),this._private._resolveReady=p=>{clearTimeout(this.timeoutId),this._timeoutId=null,d(p)},this._private._rejectReady=p=>{clearTimeout(this.timeoutId),this._timeoutId=null,h(p)}}),this._private.isReady=async()=>this._private._readyPromise,this._private.destroy=()=>{this._timeoutId&&this._private._rejectReady(new DOMException("Web application window closed before ready.","AbortError")),this.dialog&&(this.dialog.parentNode.removeChild(this.dialog),this.dialog=null)},r){if(!(typeof r=="object"&&r.contentWindow))throw new TypeError("`options.iframe` must be an iframe element.");this.windowControl={handle:r.contentWindow,show(){r.style.visibility="visible"},hide(){r.style.visibility="hidden"}},this.iframe=r,this.handle=this.iframe.contentWindow;return}if(s){this.windowControl=s,this.handle=this.windowControl.handle;return}if(n){this.handle=n;return}if(l&&!typeof l==="function")throw new TypeError("`options.customize` must be a function.");this.dialog=document.createElement("dialog"),E(this.dialog,{position:"fixed",top:0,left:0,width:"100%",height:"100%","max-width":"100%","max-height":"100%",display:"none",margin:0,padding:0,border:"none",background:"transparent",color:"black","box-sizing":"border-box",overflow:"hidden","z-index":1e6}),this.dialog.className="web-app-window",typeof c=="string"&&(this.dialog.className=this.dialog.className+" "+c);const a=document.createElement("style");if(a.appendChild(document.createTextNode(`dialog.web-app-window::backdrop {
        background-color: transparent;
      }`)),this.container=document.createElement("div"),E(this.container,{position:"relative",width:"100%",height:"100%",margin:0,padding:0,display:"flex","flex-direction":"column"}),this.container.className="web-app-window-backdrop",this.iframe=document.createElement("iframe"),this.iframe.src=e,this.iframe.scrolling="auto",E(this.iframe,{position:"fixed",top:0,left:0,width:"100%",height:"100%",border:"none",background:"transparent",overflow:"hidden",margin:0,padding:0,"flex-grow":1}),this.dialog.appendChild(a),this.container.appendChild(this.iframe),this.dialog.appendChild(this.container),this.dialog.addEventListener("cancel",d=>{d.preventDefault(),this.hide()}),document.body.appendChild(this.dialog),this.handle=this.iframe.contentWindow,l)try{l({dialog:this.dialog,container:this.container,iframe:this.iframe,webAppWindow:this})}catch(d){console.error(d)}}ready(){this._ready=!0,this._private._resolveReady(!0)}show(){if(!this.visible){this.visible=!0;const e=document.querySelector("body");this._bodyOverflowStyle=e.style.overflow,e.style.overflow="hidden",this.dialog?(this.dialog.style.display="block",this.dialog.showModal&&this.dialog.showModal()):this.windowControl.show&&this.windowControl.show()}}hide(){if(this.visible){this.visible=!1;const e=document.querySelector("body");if(this._bodyOverflowStyle?e.style.overflow=this._bodyOverflowStyle:e.style.overflow="",this.dialog){if(this.dialog.style.display="none",this.dialog.close)try{this.dialog.close()}catch(t){console.error(t)}}else this.windowControl.hide&&this.windowControl.hide()}}}function E(i,e){for(const t in e)i.style[t]=e[t]}/*!
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */const re=1e4;class se{constructor(){this.client=new R,this.server=new j,this.injector=null,this.control=null,this.loaded=!1,this.closed=!1}async createWindow(e,{timeout:t=re,iframe:n,handle:r,windowControl:s,className:c,customize:l}={}){if(this.loaded)throw new Error("AppContext already loaded.");this.loaded=!0,this.control=new C(e,{timeout:t,iframe:n,handle:r,windowControl:s,className:c,customize:l}),this.server.define("core.control",this.control);const a=g(e).origin;return this.server.listen(a,{handle:this.control.handle,ignoreUnknownApi:!0}),await this.control._private.isReady(),this.injector=await this.client.connect(a,{handle:this.control.handle}),this.injector}close(){this.closed||(this.closed=!0,this.control._private.destroy(),this.server.close(),this.client.close())}}/*!
 * A CredentialRequestEvent is emitted when a request has been made for
 * credentials.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class oe{constructor({credentialHandler:e,credentialRequestOrigin:t,credentialRequestOptions:n,hintKey:r}){this.type="credentialrequest",this._credentialHandler=e,this.credentialRequestOrigin=t,this.credentialRequestOptions=n,this.hintKey=r}async openWindow(e){await this._credentialHandler.show();const t=new C(e,{className:"credential-handler"});return t.ready(),t.show(),t.handle}respondWith(e){this._promise=e}}/*!
 * A CredentialStoreEvent is emitted when a request has been made to
 * store a credential.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class ae{constructor({credentialHandler:e,credentialRequestOrigin:t,credential:n,hintKey:r}){this.type="credentialstore",this._credentialHandler=e,this.credentialRequestOrigin=t,this.credential=n,this.hintKey=r}async openWindow(e){await this._credentialHandler.show();const t=new C(e);return t.ready(),t.show(),t.handle}respondWith(e){this._promise=e}}/*!
 * A CredentialHandlerService handles remote calls to a CredentialHandler.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class le{constructor(e){this._credentialHandler=e}async request(e){return await this._credentialHandler._emitter.emit(new oe(Object.assign({credentialHandler:this._credentialHandler},e)))}async store(e){return await this._credentialHandler._emitter.emit(new ae(Object.assign({credentialHandler:this._credentialHandler},e)))}}/*!
 * The core CredentialHandler class.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */const P=["credentialrequest","credentialstore"];class ce extends ie{constructor(e){if(typeof e!="string")throw new TypeError('"mediatorOrigin" must be a string.');super(e);this._emitter=new te({async waitUntil(t){return t._promise||Promise.reject(new DOMException('No "credentialrequest" event handler found.',"NotFoundError"))}})}async connect(){const e=await super.connect();return this.server.define("credentialHandler",new le(this)),await this.ready(),e}addEventListener(e,t){if(!P.includes(e))throw new DOMException(`Unsupported event type "${e}"`,"NotSupportedError");return this._emitter.addEventListener(e,t)}removeEventListener(e,t){if(!P.includes(e))throw new DOMException(`Unsupported event type "${e}"`,"NotSupportedError");return this._emitter.removeEventListener(e,t)}}/*!
 * API for managing CredentialHints.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class de{constructor(e,t){const n=t.get("credentialHints",{functions:["delete","get","keys","has","set","clear"]});for(let r in n)r!=="set"&&(this[r]=n[r].bind(this,e));this._remoteSet=n.set.bind(this,e)}async set(e,t){t.icons=t.icons||[];const n=t.icons.map(r=>he(r.src).then(s=>{r.fetchedImage=s}));return await Promise.all(n),this._remoteSet(e,t)}}function he(i){return new Promise(e=>{const t=new Image;t.crossOrigin="Anonymous",t.onload=()=>{let n=document.createElement("canvas");const r=n.getContext("2d");n.height=t.height,n.width=t.width,r.drawImage(t,0,0);const s=n.toDataURL();e(s),n=null},t.onerror=()=>e(null),t.src=i})}/*!
 * A CredentialManager for a Web Credential Mediator.
 *
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */class v{constructor(e,t){if(!(e&&typeof e=="string"))throw new TypeError('"url" must be a non-empty string.');this.hints=new de(e,t)}static async requestPermission(){return(await navigator.credentialsPolyfill.permissions.request({name:"credentialhandler"})).state}}/*!
 * A CredentialHandlerRegistration provides a CredentialManager to enable Web
 * apps to register Profiles that can be presented to websites.
 *
 * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.
 */class O{constructor(e,t){if(!(e&&typeof e=="string"))throw new TypeError('"url" must be a non-empty string.');this.credentialManager=new v(e,t)}}/*!
 * Provides an API for working with CredentialHandlerRegistrations.
 *
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */class pe{constructor(e){this._init=(async()=>{this._injector=await e,this._remote=this._injector.get("credentialHandlers",{functions:["register","unregister","getRegistration","hasRegistration"]})})()}async register(e){return await this._init,e=await this._remote.register("credential",e),new O(e,this._injector)}async unregister(e){return await this._init,this._remote.unregister("credential",e)}async getRegistration(e){return await this._init,e=await this._remote.getRegistration("credential",e),e?new O(e,this._injector):null}async hasRegistration(e){return await this._init,await this._remote.hasRegistration("credential",e)}}/*!
 * A WebCredential is a Credential that can be retrieved from or stored by a
 * "credential handler" that runs in a third party Web application.
 *
 * Copyright (c) 2017-2021 Digital Bazaar, Inc. All rights reserved.
 */class f{constructor(e,t,{recommendedHandlerOrigins:n=[]}={}){if(typeof e!="string")throw new TypeError('"dataType" must be a string.');this.type="web",this.dataType=e,this.data=t,this.options={recommendedHandlerOrigins:n}}}/*!
 * Wrapper for native CredentialsContainer that uses remote Credential Mediator
 * for WebCredential-related operations.
 *
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */const ue=0,we=0;class fe{constructor(e){this._nativeCredentialsContainer={get:navigator.credentials&&navigator.credentials.get&&navigator.credentials.get.bind(navigator.credentials),store:navigator.credentials&&navigator.credentials.store&&navigator.credentials.store.bind(navigator.credentials)},this._init=(async()=>{this._remote=(await e).get("credentialsContainer",{functions:[{name:"get",options:{timeout:ue}},{name:"store",options:{timeout:we}}]})})()}async get(e={}){if(e.web){await this._init;const t=await this._remote.get(e);return t?new f(t.dataType,t.data):null}if(this._nativeCredentialsContainer.get)return this._nativeCredentialsContainer.get(e);throw new DOMException("Not implemented.","NotSupportedError")}async store(e){if(e instanceof f){await this._init;const t=await this._remote.store(e);return t?new f(t.dataType,t.data):null}if(this._nativeCredentialsContainer.store)return this._nativeCredentialsContainer.store(e);throw new DOMException("Not implemented.","NotSupportedError")}}/*!
 * Provides an API for working with permissions.
 *
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */const me=0;class ge{constructor(e){this._init=(async()=>{this._remote=(await e).get("permissionManager",{functions:["query",{name:"request",options:{timeout:me}},"revoke"]})})()}async query(e){return await this._init,await this._remote.query(e)}async request(e){return await this._init,await this._remote.request(e)}async revoke(e){return await this._init,await this._remote.revoke(e)}}/*!
 * Credential Handler API Polyfill.
 *
 * Copyright (c) 2017-2021 Digital Bazaar, Inc. All rights reserved.
 */const A="https://authn.io/mediator?origin="+encodeURIComponent(window.location.origin);let b;async function Pe(i=A){return b||(b=!0,ye(i))}async function ye(i=A){const t=new se().createWindow(i,{className:"credential-mediator",timeout:3e4}),n=document.createElement("style");n.appendChild(document.createTextNode(`dialog.web-app-window.credential-mediator > .web-app-window-backdrop {
      background-color: rgba(0, 0, 0, 0.25);
    }`)),document.body.appendChild(n);const r={};return r.permissions=new ge(t),r.CredentialHandlers=new pe(t),r.CredentialHandler=ce,r.CredentialManager=v,r.credentials=new fe(t),r.WebCredential=f,navigator.credentialsPolyfill=r,"credentials"in navigator?(navigator.credentials.get=r.credentials.get.bind(r.credentials),navigator.credentials.store=r.credentials.store.bind(r.credentials)):navigator.credentials=r.credentials,window.CredentialManager=v,window.WebCredential=f,r}export{xe as C,He as F,Re as G,Te as I,je as L,Le as T,Ie as a,Pe as l};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYWQwMWI4Y2IuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vSW5wdXRBZG9ybm1lbnQvSW5wdXRBZG9ybm1lbnQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL2VzbS9DaGVjay5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvZXNtL0dpdEh1Yi5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vY29tcG9uZW50cy9JY29ucy9GYWNlYm9va0ljb24udHN4IiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9jb21wb25lbnRzL0ljb25zL0dvb2dsZUljb24udHN4IiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9jb21wb25lbnRzL0ljb25zL0xpbmtlZEluSWNvbi50c3giLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvY29tbW9uL2NvbXBvbmVudHMvSWNvbnMvVHdpdHRlckljb24udHN4IiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1yZXF1ZXN0LXJwYy91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItcmVxdWVzdC1ycGMvQ2xpZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1yZXF1ZXN0LXJwYy9FdmVudEVtaXR0ZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvd2ViLXJlcXVlc3QtcnBjL1NlcnZlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItcmVxdWVzdC1ycGMvV2ViQXBwLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1yZXF1ZXN0LXJwYy9XZWJBcHBXaW5kb3cuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvd2ViLXJlcXVlc3QtcnBjL1dlYkFwcENvbnRleHQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3JlZGVudGlhbC1oYW5kbGVyLXBvbHlmaWxsL0NyZWRlbnRpYWxSZXF1ZXN0RXZlbnQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3JlZGVudGlhbC1oYW5kbGVyLXBvbHlmaWxsL0NyZWRlbnRpYWxTdG9yZUV2ZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWRlbnRpYWwtaGFuZGxlci1wb2x5ZmlsbC9DcmVkZW50aWFsSGFuZGxlclNlcnZpY2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3JlZGVudGlhbC1oYW5kbGVyLXBvbHlmaWxsL0NyZWRlbnRpYWxIYW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWRlbnRpYWwtaGFuZGxlci1wb2x5ZmlsbC9DcmVkZW50aWFsSGludHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3JlZGVudGlhbC1oYW5kbGVyLXBvbHlmaWxsL0NyZWRlbnRpYWxNYW5hZ2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWRlbnRpYWwtaGFuZGxlci1wb2x5ZmlsbC9DcmVkZW50aWFsSGFuZGxlclJlZ2lzdHJhdGlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jcmVkZW50aWFsLWhhbmRsZXItcG9seWZpbGwvQ3JlZGVudGlhbEhhbmRsZXJzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWRlbnRpYWwtaGFuZGxlci1wb2x5ZmlsbC9XZWJDcmVkZW50aWFsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWRlbnRpYWwtaGFuZGxlci1wb2x5ZmlsbC9DcmVkZW50aWFsc0NvbnRhaW5lci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jcmVkZW50aWFsLWhhbmRsZXItcG9seWZpbGwvUGVybWlzc2lvbk1hbmFnZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3JlZGVudGlhbC1oYW5kbGVyLXBvbHlmaWxsL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJy4uL1R5cG9ncmFwaHknO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IEZvcm1Db250cm9sQ29udGV4dCwgeyB1c2VGb3JtQ29udHJvbCB9IGZyb20gJy4uL0Zvcm1Db250cm9sL0Zvcm1Db250cm9sQ29udGV4dCc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IHtcbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgcm9vdDoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBoZWlnaHQ6ICcwLjAxZW0nLFxuICAgIC8vIEZpeCBJRSAxMSBmbGV4Ym94IGFsaWdubWVudC4gVG8gcmVtb3ZlIGF0IHNvbWUgcG9pbnQuXG4gICAgbWF4SGVpZ2h0OiAnMmVtJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJ1xuICB9LFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHZhcmlhbnQ9XCJmaWxsZWRcImAuICovXG4gIGZpbGxlZDoge1xuICAgICcmJHBvc2l0aW9uU3RhcnQ6bm90KCRoaWRkZW5MYWJlbCknOiB7XG4gICAgICBtYXJnaW5Ub3A6IDE2XG4gICAgfVxuICB9LFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHBvc2l0aW9uPVwic3RhcnRcImAuICovXG4gIHBvc2l0aW9uU3RhcnQ6IHtcbiAgICBtYXJnaW5SaWdodDogOFxuICB9LFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHBvc2l0aW9uPVwiZW5kXCJgLiAqL1xuICBwb3NpdGlvbkVuZDoge1xuICAgIG1hcmdpbkxlZnQ6IDhcbiAgfSxcblxuICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBkaXNhYmxlUG9pbnRlckV2ZW50cz10cnVlYC4gKi9cbiAgZGlzYWJsZVBvaW50ZXJFdmVudHM6IHtcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgfSxcblxuICAvKiBTdHlsZXMgYXBwbGllZCBpZiB0aGUgYWRvcm5tZW50IGlzIHVzZWQgaW5zaWRlIDxGb3JtQ29udHJvbCBoaWRkZW5MYWJlbCAvPi4gKi9cbiAgaGlkZGVuTGFiZWw6IHt9LFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIGlmIHRoZSBhZG9ybm1lbnQgaXMgdXNlZCBpbnNpZGUgPEZvcm1Db250cm9sIG1hcmdpbj1cImRlbnNlXCIgLz4uICovXG4gIG1hcmdpbkRlbnNlOiB7fVxufTtcbnZhciBJbnB1dEFkb3JubWVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIElucHV0QWRvcm5tZW50KHByb3BzLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBDb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnZGl2JyA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBfcHJvcHMkZGlzYWJsZVBvaW50ZXIgPSBwcm9wcy5kaXNhYmxlUG9pbnRlckV2ZW50cyxcbiAgICAgIGRpc2FibGVQb2ludGVyRXZlbnRzID0gX3Byb3BzJGRpc2FibGVQb2ludGVyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlUG9pbnRlcixcbiAgICAgIF9wcm9wcyRkaXNhYmxlVHlwb2dyYSA9IHByb3BzLmRpc2FibGVUeXBvZ3JhcGh5LFxuICAgICAgZGlzYWJsZVR5cG9ncmFwaHkgPSBfcHJvcHMkZGlzYWJsZVR5cG9ncmEgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGRpc2FibGVUeXBvZ3JhLFxuICAgICAgcG9zaXRpb24gPSBwcm9wcy5wb3NpdGlvbixcbiAgICAgIHZhcmlhbnRQcm9wID0gcHJvcHMudmFyaWFudCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJjb21wb25lbnRcIiwgXCJkaXNhYmxlUG9pbnRlckV2ZW50c1wiLCBcImRpc2FibGVUeXBvZ3JhcGh5XCIsIFwicG9zaXRpb25cIiwgXCJ2YXJpYW50XCJdKTtcblxuICB2YXIgbXVpRm9ybUNvbnRyb2wgPSB1c2VGb3JtQ29udHJvbCgpIHx8IHt9O1xuICB2YXIgdmFyaWFudCA9IHZhcmlhbnRQcm9wO1xuXG4gIGlmICh2YXJpYW50UHJvcCAmJiBtdWlGb3JtQ29udHJvbC52YXJpYW50KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh2YXJpYW50UHJvcCA9PT0gbXVpRm9ybUNvbnRyb2wudmFyaWFudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogVGhlIGBJbnB1dEFkb3JubWVudGAgdmFyaWFudCBpbmZlcnMgdGhlIHZhcmlhbnQgcHJvcCAnICsgJ3lvdSBkbyBub3QgaGF2ZSB0byBwcm92aWRlIG9uZS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobXVpRm9ybUNvbnRyb2wgJiYgIXZhcmlhbnQpIHtcbiAgICB2YXJpYW50ID0gbXVpRm9ybUNvbnRyb2wudmFyaWFudDtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udHJvbENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogbnVsbFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUsIHBvc2l0aW9uID09PSAnZW5kJyA/IGNsYXNzZXMucG9zaXRpb25FbmQgOiBjbGFzc2VzLnBvc2l0aW9uU3RhcnQsIGRpc2FibGVQb2ludGVyRXZlbnRzICYmIGNsYXNzZXMuZGlzYWJsZVBvaW50ZXJFdmVudHMsIG11aUZvcm1Db250cm9sLmhpZGRlbkxhYmVsICYmIGNsYXNzZXMuaGlkZGVuTGFiZWwsIHZhcmlhbnQgPT09ICdmaWxsZWQnICYmIGNsYXNzZXMuZmlsbGVkLCBtdWlGb3JtQ29udHJvbC5tYXJnaW4gPT09ICdkZW5zZScgJiYgY2xhc3Nlcy5tYXJnaW5EZW5zZSksXG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpLCB0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnICYmICFkaXNhYmxlVHlwb2dyYXBoeSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICBjb2xvcjogXCJ0ZXh0U2Vjb25kYXJ5XCJcbiAgfSwgY2hpbGRyZW4pIDogY2hpbGRyZW4pKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gSW5wdXRBZG9ybm1lbnQucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudCwgbm9ybWFsbHkgYW4gYEljb25CdXR0b25gIG9yIHN0cmluZy5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlc1xuICAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovXG4gIC5lbGVtZW50VHlwZSxcblxuICAvKipcbiAgICogRGlzYWJsZSBwb2ludGVyIGV2ZW50cyBvbiB0aGUgcm9vdC5cbiAgICogVGhpcyBhbGxvd3MgZm9yIHRoZSBjb250ZW50IG9mIHRoZSBhZG9ybm1lbnQgdG8gZm9jdXMgdGhlIGlucHV0IG9uIGNsaWNrLlxuICAgKi9cbiAgZGlzYWJsZVBvaW50ZXJFdmVudHM6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBjaGlsZHJlbiBpcyBhIHN0cmluZyB0aGVuIGRpc2FibGUgd3JhcHBpbmcgaW4gYSBUeXBvZ3JhcGh5IGNvbXBvbmVudC5cbiAgICovXG4gIGRpc2FibGVUeXBvZ3JhcGh5OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgbXVpRm9ybUNvbnRyb2w6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbiB0aGlzIGFkb3JubWVudCBzaG91bGQgYXBwZWFyIHJlbGF0aXZlIHRvIHRoZSBgSW5wdXRgLlxuICAgKi9cbiAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbJ3N0YXJ0JywgJ2VuZCddKS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBUaGUgdmFyaWFudCB0byB1c2UuXG4gICAqIE5vdGU6IElmIHlvdSBhcmUgdXNpbmcgdGhlIGBUZXh0RmllbGRgIGNvbXBvbmVudCBvciB0aGUgYEZvcm1Db250cm9sYCBjb21wb25lbnRcbiAgICogeW91IGRvIG5vdCBoYXZlIHRvIHNldCB0aGlzIG1hbnVhbGx5LlxuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzLm9uZU9mKFsnc3RhbmRhcmQnLCAnb3V0bGluZWQnLCAnZmlsbGVkJ10pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUlucHV0QWRvcm5tZW50J1xufSkoSW5wdXRBZG9ybm1lbnQpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4vdXRpbHMvY3JlYXRlU3ZnSWNvbic7XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXpcIlxufSksICdDaGVjaycpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4vdXRpbHMvY3JlYXRlU3ZnSWNvbic7XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xMiAuM2ExMiAxMiAwIDAgMC0zLjggMjMuNGMuNi4xLjgtLjMuOC0uNnYtMmMtMy4zLjctNC0xLjYtNC0xLjYtLjYtMS40LTEuNC0xLjgtMS40LTEuOC0xLS43LjEtLjcuMS0uNyAxLjIgMCAxLjkgMS4yIDEuOSAxLjIgMSAxLjggMi44IDEuMyAzLjUgMSAwLS44LjQtMS4zLjctMS42LTIuNy0uMy01LjUtMS4zLTUuNS02IDAtMS4yLjUtMi4zIDEuMy0zLjEtLjItLjQtLjYtMS42IDAtMy4yIDAgMCAxLS4zIDMuNCAxLjJhMTEuNSAxMS41IDAgMCAxIDYgMGMyLjMtMS41IDMuMy0xLjIgMy4zLTEuMi42IDEuNi4yIDIuOCAwIDMuMi45LjggMS4zIDEuOSAxLjMgMy4yIDAgNC42LTIuOCA1LjYtNS41IDUuOS41LjQuOSAxIC45IDIuMnYzLjNjMCAuMy4xLjcuOC42QTEyIDEyIDAgMCAwIDEyIC4zXCJcbn0pLCAnR2l0SHViJyk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFN2Z0ljb24sIHsgU3ZnSWNvblByb3BzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU3ZnSWNvbidcblxuZXhwb3J0IGNvbnN0IEZhY2Vib29rSWNvbiA9IChwcm9wczogU3ZnSWNvblByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFN2Z0ljb24gey4uLnByb3BzfT5cbiAgICAgIDxzdmcgd2lkdGg9XCI0MFwiIGhlaWdodD1cIjQwXCIgdmlld0JveD1cIjAgMCA0MCA0MFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNNDAgMjBDNDAgOC45NTQzIDMxLjA0NTcgMCAyMCAwQzguOTU0MyAwIDAgOC45NTQzIDAgMjBDMCAyOS45ODI0IDcuMzEzNjcgMzguMjU2NiAxNi44NzUgMzkuNzU3VjI1Ljc4MTNIMTEuNzk2OVYyMEgxNi44NzVWMTUuNTkzOEMxNi44NzUgMTAuNTgxMyAxOS44NjA5IDcuODEyNSAyNC40MjkzIDcuODEyNUMyNi42MTY4IDcuODEyNSAyOC45MDYyIDguMjAzMTIgMjguOTA2MiA4LjIwMzEyVjEzLjEyNUgyNi4zODQ0QzIzLjkgMTMuMTI1IDIzLjEyNSAxNC42NjY4IDIzLjEyNSAxNi4yNVYyMEgyOC42NzE5TDI3Ljc4NTIgMjUuNzgxM0gyMy4xMjVWMzkuNzU3QzMyLjY4NjMgMzguMjU2NiA0MCAyOS45ODI0IDQwIDIwWlwiXG4gICAgICAgICAgZmlsbD1cIiMxODc3RjJcIlxuICAgICAgICAvPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNMjcuNzg1MiAyNS43ODEyTDI4LjY3MTkgMjBIMjMuMTI1VjE2LjI1QzIzLjEyNSAxNC42Njg0IDIzLjkgMTMuMTI1IDI2LjM4NDQgMTMuMTI1SDI4LjkwNjJWOC4yMDMxMkMyOC45MDYyIDguMjAzMTIgMjYuNjE3NiA3LjgxMjUgMjQuNDI5MyA3LjgxMjVDMTkuODYwOSA3LjgxMjUgMTYuODc1IDEwLjU4MTMgMTYuODc1IDE1LjU5MzhWMjBIMTEuNzk2OVYyNS43ODEySDE2Ljg3NVYzOS43NTdDMTguOTQ1NyA0MC4wODEgMjEuMDU0MyA0MC4wODEgMjMuMTI1IDM5Ljc1N1YyNS43ODEySDI3Ljc4NTJaXCJcbiAgICAgICAgICBmaWxsPVwid2hpdGVcIlxuICAgICAgICAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9TdmdJY29uPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgU3ZnSWNvbiwgeyBTdmdJY29uUHJvcHMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TdmdJY29uJ1xuXG5leHBvcnQgY29uc3QgR29vZ2xlSWNvbiA9IChwcm9wczogU3ZnSWNvblByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFN2Z0ljb24gey4uLnByb3BzfT5cbiAgICAgIDxzdmcgd2lkdGg9XCI0MFwiIGhlaWdodD1cIjQwXCIgdmlld0JveD1cIjAgMCA0MCA0MFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8ZyBjbGlwUGF0aD1cInVybCgjY2xpcDApXCI+XG4gICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgIGQ9XCJNMzkuNjEwNCAyMC40NjA0QzM5LjYxMDQgMTkuMTAwOSAzOS41MDAyIDE3LjczNCAzOS4yNjUgMTYuMzk2NUgyMC40MDA0VjI0LjA5ODFIMzEuMjAzM0MzMC43NTUgMjYuNTgyIDI5LjMxNDYgMjguNzc5NCAyNy4yMDU1IDMwLjE3NTZWMzUuMTcyOUgzMy42NTA1QzM3LjQzNTIgMzEuNjg5NSAzOS42MTA0IDI2LjU0NTMgMzkuNjEwNCAyMC40NjA0WlwiXG4gICAgICAgICAgICBmaWxsPVwiIzQyODVGNFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgZD1cIk0yMC4zOTk4IDQwLjAwMTVDMjUuNzkzOSA0MC4wMDE1IDMwLjM0MjkgMzguMjMwNSAzMy42NTcyIDM1LjE3MzNMMjcuMjEyMyAzMC4xNzYxQzI1LjQxOTEgMzEuMzk2IDIzLjEwNDIgMzIuMDg2OCAyMC40MDcyIDMyLjA4NjhDMTUuMTg5NSAzMi4wODY4IDEwLjc2NTQgMjguNTY2NyA5LjE3ODA5IDIzLjgzNEgyLjUyNzM0VjI4Ljk4NTZDNS45MjI1MyAzNS43MzkyIDEyLjgzNzggNDAuMDAxNSAyMC4zOTk4IDQwLjAwMTVaXCJcbiAgICAgICAgICAgIGZpbGw9XCIjMzRBODUzXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTkuMTcxMjkgMjMuODM0NUM4LjMzMzUxIDIxLjM1MDYgOC4zMzM1MSAxOC42NjA5IDkuMTcxMjkgMTYuMTc3VjExLjAyNTRIMi41Mjc4OUMtMC4zMDg3NzcgMTYuNjc2NyAtMC4zMDg3NzcgMjMuMzM0OCAyLjUyNzg5IDI4Ljk4NjFMOS4xNzEyOSAyMy44MzQ1WlwiXG4gICAgICAgICAgICBmaWxsPVwiI0ZCQkMwNFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgZD1cIk0yMC4zOTk4IDcuOTE2MUMyMy4yNTEyIDcuODcyMDEgMjYuMDA3IDguOTQ0OTQgMjguMDcyMSAxMC45MTQ0TDMzLjc4MjIgNS4yMDQzNkMzMC4xNjY1IDEuODA5MTcgMjUuMzY3NyAtMC4wNTc0NDMzIDIwLjM5OTggMC4wMDEzNDc3OEMxMi44Mzc4IDAuMDAxMzQ3NzggNS45MjI1MyA0LjI2MzcgMi41MjczNCAxMS4wMjQ3TDkuMTcwNzQgMTYuMTc2M0MxMC43NTA3IDExLjQzNjIgMTUuMTgyMSA3LjkxNjEgMjAuMzk5OCA3LjkxNjFaXCJcbiAgICAgICAgICAgIGZpbGw9XCIjRUE0MzM1XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2c+XG4gICAgICAgIDxkZWZzPlxuICAgICAgICAgIDxjbGlwUGF0aCBpZD1cImNsaXAwXCI+XG4gICAgICAgICAgICA8cmVjdCB3aWR0aD1cIjQwXCIgaGVpZ2h0PVwiNDBcIiBmaWxsPVwid2hpdGVcIiAvPlxuICAgICAgICAgIDwvY2xpcFBhdGg+XG4gICAgICAgIDwvZGVmcz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvU3ZnSWNvbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFN2Z0ljb24sIHsgU3ZnSWNvblByb3BzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU3ZnSWNvbidcblxuZXhwb3J0IGNvbnN0IExpbmtlZEluSWNvbiA9IChwcm9wczogU3ZnSWNvblByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFN2Z0ljb24gey4uLnByb3BzfT5cbiAgICAgIDxzdmcgd2lkdGg9XCI0MFwiIGhlaWdodD1cIjQwXCIgdmlld0JveD1cIjAgMCA0MCA0MFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8ZyBjbGlwUGF0aD1cInVybCgjY2xpcDApXCI+XG4gICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgIGQ9XCJNMzcuMDQ3MiAwSDIuOTUyNzhDMi4xNjk2NSAwIDEuNDE4NiAwLjMxMTA5NiAwLjg2NDg0OSAwLjg2NDg0OUMwLjMxMTA5NiAxLjQxODYgMCAyLjE2OTY1IDAgMi45NTI3OFYzNy4wNDcyQzAgMzcuODMwMyAwLjMxMTA5NiAzOC41ODE0IDAuODY0ODQ5IDM5LjEzNTJDMS40MTg2IDM5LjY4ODkgMi4xNjk2NSA0MCAyLjk1Mjc4IDQwSDM3LjA0NzJDMzcuODMwMyA0MCAzOC41ODE0IDM5LjY4ODkgMzkuMTM1MiAzOS4xMzUyQzM5LjY4ODkgMzguNTgxNCA0MCAzNy44MzAzIDQwIDM3LjA0NzJWMi45NTI3OEM0MCAyLjE2OTY1IDM5LjY4ODkgMS40MTg2IDM5LjEzNTIgMC44NjQ4NDlDMzguNTgxNCAwLjMxMTA5NiAzNy44MzAzIDAgMzcuMDQ3MiAwWk0xMS45MjIyIDM0LjA3NUg1LjkwODMzVjE0Ljk3MjJIMTEuOTIyMlYzNC4wNzVaTTguOTExMTEgMTIuMzI1QzguMjI4OTQgMTIuMzIxMiA3LjU2MzE5IDEyLjExNTMgNi45OTc4OSAxMS43MzM1QzYuNDMyNTkgMTEuMzUxNiA1Ljk5MzA3IDEwLjgxMDkgNS43MzQ4IDEwLjE3OTVDNS40NzY1MiA5LjU0ODA4IDUuNDExMDggOC44NTQzMiA1LjU0NjcyIDguMTg1NzZDNS42ODIzNiA3LjUxNzIgNi4wMTMgNi45MDM3OSA2LjQ5NjkzIDYuNDIyOTdDNi45ODA4NSA1Ljk0MjE0IDcuNTk2MzYgNS42MTU0NCA4LjI2NTc4IDUuNDg0MUM4LjkzNTIgNS4zNTI3NiA5LjYyODUyIDUuNDIyNjYgMTAuMjU4MyA1LjY4NDk4QzEwLjg4OCA1Ljk0NzMgMTEuNDI1OSA2LjM5MDI4IDExLjgwNDEgNi45NTgwMkMxMi4xODIzIDcuNTI1NzYgMTIuMzgzOSA4LjE5MjgyIDEyLjM4MzMgOC44NzVDMTIuMzg5OCA5LjMzMTcyIDEyLjMwNDIgOS43ODUwNiAxMi4xMzE3IDEwLjIwOEMxMS45NTkyIDEwLjYzMDkgMTEuNzAzMyAxMS4wMTQ4IDExLjM3OTMgMTEuMzM2OEMxMS4wNTUzIDExLjY1ODcgMTAuNjY5NyAxMS45MTIxIDEwLjI0NTcgMTIuMDgxOUM5LjgyMTY3IDEyLjI1MTcgOS4zNjc3OCAxMi4zMzQ0IDguOTExMTEgMTIuMzI1Wk0zNC4wODg5IDM0LjA5MTdIMjguMDc3OFYyMy42NTU2QzI4LjA3NzggMjAuNTc3OCAyNi43Njk0IDE5LjYyNzggMjUuMDgwNiAxOS42Mjc4QzIzLjI5NzIgMTkuNjI3OCAyMS41NDcyIDIwLjk3MjIgMjEuNTQ3MiAyMy43MzMzVjM0LjA5MTdIMTUuNTMzM1YxNC45ODYxSDIxLjMxNjdWMTcuNjMzM0gyMS4zOTQ0QzIxLjk3NSAxNi40NTgzIDI0LjAwODMgMTQuNDUgMjcuMTExMSAxNC40NUMzMC40NjY3IDE0LjQ1IDM0LjA5MTcgMTYuNDQxNyAzNC4wOTE3IDIyLjI3NUwzNC4wODg5IDM0LjA5MTdaXCJcbiAgICAgICAgICAgIGZpbGw9XCIjMTM3RUVBXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2c+XG4gICAgICAgIDxkZWZzPlxuICAgICAgICAgIDxjbGlwUGF0aCBpZD1cImNsaXAwXCI+XG4gICAgICAgICAgICA8cmVjdCB3aWR0aD1cIjQwXCIgaGVpZ2h0PVwiNDBcIiBmaWxsPVwid2hpdGVcIiAvPlxuICAgICAgICAgIDwvY2xpcFBhdGg+XG4gICAgICAgIDwvZGVmcz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvU3ZnSWNvbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFN2Z0ljb24sIHsgU3ZnSWNvblByb3BzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvU3ZnSWNvbidcblxuZXhwb3J0IGNvbnN0IFR3aXR0ZXJJY29uID0gKHByb3BzOiBTdmdJY29uUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8U3ZnSWNvbiB7Li4ucHJvcHN9PlxuICAgICAgPHN2ZyB3aWR0aD1cIjQwXCIgaGVpZ2h0PVwiNDBcIiB2aWV3Qm94PVwiMCAwIDQwIDQwXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD1cIk0xMi41NzkyIDM2LjI1MjFDMjcuNjczNiAzNi4yNTIxIDM1LjkyOTYgMjMuNzQ2NSAzNS45Mjk2IDEyLjkwMTdDMzUuOTI5NiAxMi41NDY1IDM1LjkyOTYgMTIuMTkyOSAzNS45MDU2IDExLjg0MDlDMzcuNTExNyAxMC42NzkxIDM4Ljg5ODIgOS4yNDA2OSA0MCA3LjU5Mjg4QzM4LjUwMjMgOC4yNTY4OCAzNi45MTM0IDguNjkyMTQgMzUuMjg2NCA4Ljg4NDA4QzM2Ljk5OTcgNy44NTg1NiAzOC4yODE5IDYuMjQ1MzkgMzguODk0NCA0LjM0NDg4QzM3LjI4MzUgNS4zMDA4OSAzNS41MjExIDUuOTc0NTkgMzMuNjgzMiA2LjMzNjg4QzMyLjQ0NTkgNS4wMjExOCAzMC44MDk0IDQuMTQ5OTUgMjkuMDI3IDMuODU4MDJDMjcuMjQ0NiAzLjU2NjA5IDI1LjQxNTcgMy44Njk3NCAyMy44MjMzIDQuNzIxOTdDMjIuMjMwOSA1LjU3NDIgMjAuOTYzNyA2LjkyNzUgMjAuMjE3OSA4LjU3MjQ2QzE5LjQ3MjEgMTAuMjE3NCAxOS4yODkyIDEyLjA2MjMgMTkuNjk3NiAxMy44MjE3QzE2LjQzNDggMTMuNjU4IDEzLjI0MjkgMTIuODEwMSAxMC4zMjkxIDExLjMzMjlDNy40MTUyNiA5Ljg1NTcxIDQuODQ0NjEgNy43ODIzMSAyLjc4NCA1LjI0NzI4QzEuNzM0NTUgNy4wNTM5NCAxLjQxMzEyIDkuMTkyNjYgMS44ODUxNyAxMS4yMjhDMi4zNTcyMSAxMy4yNjMzIDMuNTg3MjQgMTUuMDQyMiA1LjMyNDggMTYuMjAyNUM0LjAxODcyIDE2LjE2NDIgMi43NDEwOCAxNS44MTE5IDEuNiAxNS4xNzUzVjE1LjI3OTNDMS42MDA1MiAxNy4xNzQgMi4yNTY0MiAxOS4wMTAzIDMuNDU2NDUgMjAuNDc2NkM0LjY1NjQ4IDIxLjk0MjggNi4zMjY3NyAyMi45NDg5IDguMTg0IDIzLjMyNDFDNi45NzU4IDIzLjY1MzYgNS43MDgxMiAyMy43MDE4IDQuNDc4NCAyMy40NjQ5QzUuMDAzMDIgMjUuMDk1NCA2LjAyNDA1IDI2LjUyMTMgNy4zOTg3MyAyNy41NDMxQzguNzczNDIgMjguNTY0OSAxMC40MzMgMjkuMTMxNyAxMi4xNDU2IDI5LjE2NDFDMTAuNDQ0MSAzMC41MDE1IDguNDk1NTIgMzEuNDkwNCA2LjQxMTQ2IDMyLjA3NDFDNC4zMjczOSAzMi42NTc4IDIuMTQ4NjkgMzIuODI0OCAwIDMyLjU2NTdDMy43NTMwNiAzNC45NzQgOC4xMTk4NyAzNi4yNTE1IDEyLjU3OTIgMzYuMjQ1N1wiXG4gICAgICAgICAgZmlsbD1cIiMxREExRjJcIlxuICAgICAgICAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9TdmdJY29uPlxuICApXG59XG4iLCIvKiFcbiAqIFV0aWxpdGllcyBmb3IgV2ViIFJlcXVlc3QgUlBDLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNyBEaWdpdGFsIEJhemFhciwgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG4vKiBnbG9iYWwgVVJMICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBSUENfRVJST1JTID0ge1xuICBQYXJzZUVycm9yOiB7XG4gICAgbWVzc2FnZTogJ1BhcnNlIGVycm9yJyxcbiAgICBjb2RlOiAtMzI3MDBcbiAgfSxcbiAgSW52YWxpZFJlcXVlc3Q6IHtcbiAgICBtZXNzYWdlOiAnSW52YWxpZCBSZXF1ZXN0JyxcbiAgICBjb2RlOiAtMzI2MDBcbiAgfSxcbiAgTWV0aG9kTm90Rm91bmQ6IHtcbiAgICBtZXNzYWdlOiAnTWV0aG9kIG5vdCBmb3VuZCcsXG4gICAgY29kZTogLTMyNjAxXG4gIH0sXG4gIEludmFsaWRQYXJhbXM6IHtcbiAgICBtZXNzYWdlOiAnSW52YWxpZCBwYXJhbXMnLFxuICAgIGNvZGU6IC0zMjYwMlxuICB9LFxuICBJbnRlcm5hbEVycm9yOiB7XG4gICAgbWVzc2FnZTogJ0ludGVybmFsIEVycm9yJyxcbiAgICBjb2RlOiAtMzI2MDNcbiAgfSxcbiAgU2VydmVyRXJyb3I6IHtcbiAgICBtZXNzYWdlOiAnU2VydmVyIGVycm9yJyxcbiAgICBjb2RlOiAtMzIwMDBcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHVybCwgYmFzZSkge1xuICBpZihiYXNlID09PSB1bmRlZmluZWQpIHtcbiAgICBiYXNlID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIH1cblxuICBpZih0eXBlb2YgVVJMID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlKTtcbiAgfVxuXG4gIGlmKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ1cmxcIiBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICB9XG5cbiAgLy8gRklYTUU6IHJ1ZGltZW50YXJ5IHJlbGF0aXZlIFVSTCByZXNvbHV0aW9uXG4gIGlmKCF1cmwuaW5jbHVkZXMoJzonKSkge1xuICAgIGlmKGJhc2Uuc3RhcnRzV2l0aCgnaHR0cCcpICYmICF1cmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICB1cmwgPSBiYXNlICsgJy8nICsgdXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBiYXNlICsgdXJsO1xuICAgIH1cbiAgfVxuXG4gIC8vIGBVUkxgIEFQSSBub3Qgc3VwcG9ydGVkLCB1c2UgRE9NIHRvIHBhcnNlIFVSTFxuICBjb25zdCBwYXJzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIHBhcnNlci5ocmVmID0gdXJsO1xuICBsZXQgb3JpZ2luID0gKHBhcnNlci5wcm90b2NvbCB8fCB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wpICsgJy8vJztcbiAgaWYocGFyc2VyLmhvc3QpIHtcbiAgICAvLyB1c2UgaG9zdG5hbWUgd2hlbiB1c2luZyBkZWZhdWx0IHBvcnRzXG4gICAgLy8gKElFIGFkZHMgYWx3YXlzIGFkZHMgcG9ydCB0byBgcGFyc2VyLmhvc3RgKVxuICAgIGlmKChwYXJzZXIucHJvdG9jb2wgPT09ICdodHRwOicgJiYgcGFyc2VyLnBvcnQgPT09ICc4MCcpIHx8XG4gICAgICAocGFyc2VyLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiBwYXJzZXIucG9ydCA9PT0gJzQ0MycpKSB7XG4gICAgICBvcmlnaW4gKz0gcGFyc2VyLmhvc3RuYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcmlnaW4gKz0gcGFyc2VyLmhvc3Q7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9yaWdpbiArPSB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgfVxuXG4gIC8vIGVuc3VyZSBwYXRobmFtZSBiZWdpbnMgd2l0aCBgL2BcbiAgbGV0IHBhdGhuYW1lID0gcGFyc2VyLnBhdGhuYW1lO1xuICBpZighcGF0aG5hbWUuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLy8gVE9ETzogaXMgdGhpcyBzYWZlIGZvciBnZW5lcmFsIHVzZSBvbiBldmVyeSBicm93c2VyIHRoYXQgZG9lc24ndFxuICAgIC8vICAgc3VwcG9ydCBXSEFUV0cgVVJMP1xuICAgIGhvc3Q6IHBhcnNlci5ob3N0IHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0LFxuICAgIGhvc3RuYW1lOiBwYXJzZXIuaG9zdG5hbWUsXG4gICAgb3JpZ2luOiBvcmlnaW4sXG4gICAgcHJvdG9jb2w6IHBhcnNlci5wcm90b2NvbCxcbiAgICBwYXRobmFtZTogcGF0aG5hbWVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yaWdpbk1hdGNoZXModXJsLCBvcmlnaW4pIHtcbiAgcmV0dXJuIHBhcnNlVXJsKHVybCwgb3JpZ2luKS5vcmlnaW4gPT09IG9yaWdpbjtcbn1cblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vTGV2ZXJPbmUvMTMwODM2OFxuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NChhLGIpIHtcbiAgZm9yKGI9YT0nJzthKys8MzY7Yis9YSo1MSY1Mj8oYV4xNT84Xk1hdGgucmFuZG9tKCkqKGFeMjA/MTY6NCk6NCkudG9TdHJpbmcoMTYpOictJyk7cmV0dXJuIGI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkT3JpZ2luKHVybCwgb3JpZ2luKSB7XG4gIGlmKCFvcmlnaW5NYXRjaGVzKHVybCwgb3JpZ2luKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBPcmlnaW4gbWlzbWF0Y2guIFVybCBcIiR7dXJsfVwiIGRvZXMgbm90IGhhdmUgYW4gb3JpZ2luIG9mIFwiJHtvcmlnaW59XCIuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIChcbiAgICBtZXNzYWdlICYmIHR5cGVvZiBtZXNzYWdlID09PSAnb2JqZWN0JyAmJlxuICAgIG1lc3NhZ2UuanNvbnJwYyA9PT0gJzIuMCcgJiZcbiAgICBtZXNzYWdlLmlkICYmIHR5cGVvZiBtZXNzYWdlLmlkID09PSAnc3RyaW5nJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUmVxdWVzdChtZXNzYWdlKSB7XG4gIHJldHVybiBpc1ZhbGlkTWVzc2FnZShtZXNzYWdlKSAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UucGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRSZXNwb25zZShtZXNzYWdlKSB7XG4gIHJldHVybiAoXG4gICAgaXNWYWxpZE1lc3NhZ2UobWVzc2FnZSkgJiZcbiAgICAhISgncmVzdWx0JyBpbiBtZXNzYWdlIF4gJ2Vycm9yJyBpbiBtZXNzYWdlKSAmJlxuICAgICghKCdlcnJvcicgaW4gbWVzc2FnZSkgfHwgaXNWYWxpZEVycm9yKG1lc3NhZ2UuZXJyb3IpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIChcbiAgICBlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIGVycm9yLmNvZGUgPT09ICdudW1iZXInICYmXG4gICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yKGVycm9yKSB7XG4gIGNvbnN0IGVyciA9IHtcbiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gIH07XG4gIGlmKGVycm9yLmNvbnN0cnVjdG9yLm5hbWUgIT09ICdFcnJvcicpIHtcbiAgICBlcnIuY29uc3RydWN0b3IgPSBlcnJvci5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG4gIGlmKCduYW1lJyBpbiBlcnJvcikge1xuICAgIGVyci5uYW1lID0gZXJyb3IubmFtZTtcbiAgfVxuICBpZignY29kZScgaW4gZXJyb3IpIHtcbiAgICBlcnIuY29kZSA9IGVycm9yLmNvZGU7XG4gIH0gZWxzZSB7XG4gICAgZXJyLmNvZGUgPSBSUENfRVJST1JTLlNlcnZlckVycm9yLmNvZGU7XG4gIH1cbiAgaWYoJ2RldGFpbHMnIGluIGVycm9yKSB7XG4gICAgZXJyLmRldGFpbHMgPSBlcnJvci5kZXRhaWxzO1xuICB9XG4gIHJldHVybiBlcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9yKGVycm9yKSB7XG4gIGxldCBlcnI7XG4gIC8vIHNwZWNpYWwgY2FzZSBrbm93biB0eXBlcywgb3RoZXJ3aXNlIHVzZSBnZW5lcmljIEVycm9yXG4gIGlmKGVycm9yLmNvbnN0cnVjdG9yID09PSAnRE9NRXhjZXB0aW9uJykge1xuICAgIGVyciA9IG5ldyBET01FeGNlcHRpb24oZXJyb3IubWVzc2FnZSwgZXJyb3IubmFtZSlcbiAgICAvLyBpZ25vcmUgY29kZSwgbmFtZSB3aWxsIHNldCBpdFxuICB9IGVsc2Uge1xuICAgIGVyciA9IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICBpZignY29kZScgaW4gZXJyb3IpIHtcbiAgICAgIGVyci5jb2RlID0gZXJyb3IuY29kZTtcbiAgICB9XG4gIH1cbiAgaWYoZXJyb3IuZGV0YWlscykge1xuICAgIGVyci5kZXRhaWxzID0gZXJyb3IuZGV0YWlscztcbiAgfVxuICByZXR1cm4gZXJyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVzc2FnZUxpc3RlbmVyKFxuICB7bGlzdGVuZXIsIG9yaWdpbiwgaGFuZGxlLCBleHBlY3RSZXF1ZXN0fSkge1xuICAvLyBIQUNLOiB3ZSBjYW4ndCBqdXN0IGBQcm9taXNlLnJlc29sdmUoaGFuZGxlKWAgYmVjYXVzZSBDaHJvbWUgaGFzXG4gIC8vIGEgYnVnIHRoYXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgaGFuZGxlIGlzIGNyb3NzIGRvbWFpblxuICBpZihpc0hhbmRsZVByb21pc2UoaGFuZGxlKSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBoYW5kbGU7XG4gICAgaGFuZGxlID0gZmFsc2U7XG4gICAgcHJvbWlzZS50aGVuKGggPT4gaGFuZGxlID0gaCk7XG4gIH1cbiAgcmV0dXJuIGUgPT4ge1xuICAgIC8vIGlnbm9yZSBtZXNzYWdlcyBmcm9tIGEgbm9uLW1hdGNoaW5nIGhhbmRsZSBvciBvcmlnaW5cbiAgICAvLyBvciB0aGF0IGRvbid0IGZvbGxvdyB0aGUgcHJvdG9jb2xcbiAgICBpZighKGUuc291cmNlID09PSBoYW5kbGUgJiYgZS5vcmlnaW4gPT09IG9yaWdpbiAmJlxuICAgICAgKChleHBlY3RSZXF1ZXN0ICYmIGlzVmFsaWRSZXF1ZXN0KGUuZGF0YSkpIHx8XG4gICAgICAgICghZXhwZWN0UmVxdWVzdCAmJiBpc1ZhbGlkUmVzcG9uc2UoZS5kYXRhKSkpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsaXN0ZW5lcihlLmRhdGEsIGUpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJ1Y3R1cmVNZXRob2ROYW1lKGZxTWV0aG9kTmFtZSkge1xuICAvLyBmdWxseS1xdWFsaWZpZWQgbWV0aG9kIG5hbWUgaXM6IGA8YXBpLW5hbWU+LjxtZXRob2QtbmFtZT5gXG4gIC8vIHdoZXJlIGA8YXBpLW5hbWU+YCBpcyBhbGwgYnV0IHRoZSBsYXN0IGRvdC1kZWxpbWl0ZWQgc2VnbWVudCBhbmRcbiAgLy8gYDxtZXRob2QtbmFtZT5gIGlzIHRoZSBsYXN0IGRvdC1kZWxpbWl0ZWQgc2VnbWVudFxuICBsZXQgW25hbWUsIC4uLnJlc3RdID0gZnFNZXRob2ROYW1lLnNwbGl0KCcuJyk7XG4gIGNvbnN0IG1ldGhvZCA9IHJlc3QucG9wKCk7XG4gIG5hbWUgPSBbbmFtZSwgLi4ucmVzdF0uam9pbignLicpO1xuICByZXR1cm4ge25hbWUsIG1ldGhvZH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0hhbmRsZVByb21pc2UoaGFuZGxlKSB7XG4gIHRyeSB7XG4gICAgLy8gSEFDSzogd2UgY2FuJ3QganVzdCBgUHJvbWlzZS5yZXNvbHZlKGhhbmRsZSlgIGJlY2F1c2UgQ2hyb21lIGhhc1xuICAgIC8vIGEgYnVnIHRoYXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgaGFuZGxlIGlzIGNyb3NzIGRvbWFpblxuICAgIHJldHVybiB0eXBlb2YgaGFuZGxlLnRoZW4gPT09ICdmdW5jdGlvbic7XG4gIH0gY2F0Y2goZSkge31cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyohXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gMzAgc2Vjb25kIGRlZmF1bHQgdGltZW91dFxuY29uc3QgUlBDX0NMSUVOVF9DQUxMX1RJTUVPVVQgPSAzMDAwMDtcblxuZXhwb3J0IGNsYXNzIENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub3JpZ2luID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGUgPSBudWxsO1xuICAgIHRoaXMuX2xpc3RlbmVyID0gbnVsbDtcbiAgICAvLyBhbGwgcGVuZGluZyByZXF1ZXN0c1xuICAgIHRoaXMuX3BlbmRpbmcgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdHMgdG8gYSBXZWIgUmVxdWVzdCBSUEMgc2VydmVyLlxuICAgKlxuICAgKiBUaGUgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gUlBDIGluamVjdG9yIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ2V0IG9yXG4gICAqIGRlZmluZSBBUElzIHRvIGVuYWJsZSBjb21tdW5pY2F0aW9uIHdpdGggdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHBhcmFtIG9yaWdpbiB0aGUgb3JpZ2luIHRvIHNlbmQgbWVzc2FnZXMgdG8uXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHRvIHVzZTpcbiAgICogICAgICAgICAgW2hhbmRsZV0gYSBoYW5kbGUgdG8gdGhlIHdpbmRvdyAob3IgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG9cbiAgICogICAgICAgICAgICBhIGhhbmRsZSkgdG8gc2VuZCBtZXNzYWdlcyB0b1xuICAgKiAgICAgICAgICAgIChkZWZhdWx0cyB0byBgd2luZG93LnBhcmVudCB8fCB3aW5kb3cub3BlbmVyYCkuXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gUlBDIGluamVjdG9yIG9uY2UgY29ubmVjdGVkLlxuICAgKi9cbiAgYXN5bmMgY29ubmVjdChvcmlnaW4sIG9wdGlvbnMpIHtcbiAgICBpZih0aGlzLl9saXN0ZW5lcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IGNvbm5lY3RlZC4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIFRPRE86IHZhbGlkYXRlIGBvcmlnaW5gIGFuZCBgb3B0aW9ucy5oYW5kbGVgXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5vcmlnaW4gPSB1dGlscy5wYXJzZVVybChvcmlnaW4pLm9yaWdpbjtcbiAgICBzZWxmLl9oYW5kbGUgPSBvcHRpb25zLmhhbmRsZSB8fCB3aW5kb3cucGFyZW50IHx8IHdpbmRvdy5vcGVuZXI7XG5cbiAgICBjb25zdCBwZW5kaW5nID0gc2VsZi5fcGVuZGluZztcbiAgICBzZWxmLl9saXN0ZW5lciA9IHV0aWxzLmNyZWF0ZU1lc3NhZ2VMaXN0ZW5lcih7XG4gICAgICBvcmlnaW46IHNlbGYub3JpZ2luLFxuICAgICAgaGFuZGxlOiBzZWxmLl9oYW5kbGUsXG4gICAgICBleHBlY3RSZXF1ZXN0OiBmYWxzZSxcbiAgICAgIGxpc3RlbmVyOiBtZXNzYWdlID0+IHtcbiAgICAgICAgLy8gaWdub3JlIG1lc3NhZ2VzIHRoYXQgaGF2ZSBubyBtYXRjaGluZywgcGVuZGluZyByZXF1ZXN0XG4gICAgICAgIGlmKCFwZW5kaW5nLmhhcyhtZXNzYWdlLmlkKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc29sdmUgb3IgcmVqZWN0IFByb21pc2UgYXNzb2NpYXRlZCB3aXRoIG1lc3NhZ2VcbiAgICAgICAgY29uc3Qge3Jlc29sdmUsIHJlamVjdCwgY2FuY2VsVGltZW91dH0gPSBwZW5kaW5nLmdldChtZXNzYWdlLmlkKTtcbiAgICAgICAgY2FuY2VsVGltZW91dCgpO1xuICAgICAgICBpZigncmVzdWx0JyBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUobWVzc2FnZS5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCh1dGlscy5kZXNlcmlhbGl6ZUVycm9yKG1lc3NhZ2UuZXJyb3IpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHNlbGYuX2xpc3RlbmVyKTtcblxuICAgIHJldHVybiBuZXcgSW5qZWN0b3Ioc2VsZik7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYSBSUEMgYnkgc2VuZGluZyBhIG1lc3NhZ2UgdG8gdGhlIFdlYiBSZXF1ZXN0IFJQQyBzZXJ2ZXIgYW5kXG4gICAqIGF3YWl0aW5nIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSBxdWFsaWZpZWRNZXRob2ROYW1lIHRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZSBvZiB0aGUgbWV0aG9kIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgbWV0aG9kLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyB0byB1c2U6XG4gICAqICAgICAgICAgIFt0aW1lb3V0XSBhIHRpbWVvdXQsIGluIG1pbGxpc2Vjb25kcywgZm9yIGF3YWl0aW5nIGEgcmVzcG9uc2U7XG4gICAqICAgICAgICAgICAgYSBub24tcG9zaXRpdmUgdGltZW91dCAoPD0gMCkgd2lsbCBjYXVzZSBhbiBpbmRlZmluaXRlIHdhaXQuXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHJlc3VsdCAob3IgZXJyb3IpIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgYXN5bmMgc2VuZChxdWFsaWZpZWRNZXRob2ROYW1lLCBwYXJhbWV0ZXJzLCB7XG4gICAgdGltZW91dCA9IFJQQ19DTElFTlRfQ0FMTF9USU1FT1VUXG4gIH0pIHtcbiAgICBpZighdGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUlBDIGNsaWVudCBub3QgY29ubmVjdGVkLicpO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgaWQ6IHV0aWxzLnV1aWR2NCgpLFxuICAgICAgbWV0aG9kOiBxdWFsaWZpZWRNZXRob2ROYW1lLFxuICAgICAgcGFyYW1zOiBwYXJhbWV0ZXJzXG4gICAgfTtcblxuICAgIC8vIEhBQ0s6IHdlIGNhbid0IGp1c3QgYFByb21pc2UucmVzb2x2ZShoYW5kbGUpYCBiZWNhdXNlIENocm9tZSBoYXNcbiAgICAvLyBhIGJ1ZyB0aGF0IHRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGhhbmRsZSBpcyBjcm9zcyBkb21haW5cbiAgICBpZih1dGlscy5pc0hhbmRsZVByb21pc2Uoc2VsZi5faGFuZGxlKSkge1xuICAgICAgY29uc3QgaGFuZGxlID0gYXdhaXQgc2VsZi5faGFuZGxlO1xuICAgICAgaGFuZGxlLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHNlbGYub3JpZ2luKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5faGFuZGxlLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHNlbGYub3JpZ2luKTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbmNlIGEgcmVzcG9uc2UgbWVzc2FnZSBoYXMgYmVlblxuICAgIC8vIHJlY2VpdmVkIG9yIG9uY2UgYSB0aW1lb3V0IG9jY3Vyc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBwZW5kaW5nID0gc2VsZi5fcGVuZGluZztcbiAgICAgIGxldCBjYW5jZWxUaW1lb3V0O1xuICAgICAgaWYodGltZW91dCA+IDApIHtcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcGVuZGluZy5kZWxldGUobWVzc2FnZS5pZCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUlBDIGNhbGwgdGltZWQgb3V0LicpKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIGNhbmNlbFRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgcGVuZGluZy5kZWxldGUobWVzc2FnZS5pZCk7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW5jZWxUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgICAgIHBlbmRpbmcuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcGVuZGluZy5zZXQobWVzc2FnZS5pZCwge3Jlc29sdmUsIHJlamVjdCwgY2FuY2VsVGltZW91dH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIGZyb20gdGhlIHJlbW90ZSBXZWIgUmVxdWVzdCBSUEMgc2VydmVyIGFuZCBjbG9zZXMgZG93biB0aGlzXG4gICAqIGNsaWVudC5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGlmKHRoaXMuX2xpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICAgIHRoaXMuX2hhbmRsZSA9IHRoaXMub3JpZ2luID0gdGhpcy5fbGlzdGVuZXIgPSBudWxsO1xuICAgICAgLy8gcmVqZWN0IGFsbCBwZW5kaW5nIGNhbGxzXG4gICAgICBmb3IoY29uc3QgdmFsdWUgb2YgdGhpcy5fcGVuZGluZy52YWx1ZXMoKSkge1xuICAgICAgICB2YWx1ZS5yZWplY3QobmV3IEVycm9yKCdSUEMgY2xpZW50IGNsb3NlZC4nKSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wZW5kaW5nID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBJbmplY3RvciB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMuX2FwaXMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lcyBhIG5hbWVkIEFQSSB0aGF0IHdpbGwgdXNlIGFuIFJQQyBjbGllbnQgdG8gaW1wbGVtZW50IGl0c1xuICAgKiBmdW5jdGlvbnMuIEVhY2ggb2YgdGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgYXN5bmNocm9ub3VzIGFuZCByZXR1cm4gYVxuICAgKiBQcm9taXNlIHdpdGggdGhlIHJlc3VsdCBmcm9tIHRoZSBSUEMgc2VydmVyLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGFuIGludGVyZmFjZSB3aXRoIGZ1bmN0aW9ucyBkZWZpbmVkIGFjY29yZGluZ1xuICAgKiB0byB0aG9zZSBwcm92aWRlZCBpbiB0aGUgZ2l2ZW4gYGRlZmluaXRpb25gLiBUaGUgYG5hbWVgIHBhcmFtZXRlciBjYW4gYmVcbiAgICogdXNlZCB0byBvYnRhaW4gdGhpcyBjYWNoZWQgaW50ZXJmYWNlIHZpYSBgLmdldChuYW1lKWAuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBBUEkuXG4gICAqIEBwYXJhbSBkZWZpbml0aW9uIHRoZSBkZWZpbml0aW9uIGZvciB0aGUgQVBJLCBpbmNsdWRpbmc6XG4gICAqICAgICAgICAgIGZ1bmN0aW9uczogYW4gYXJyYXkgb2YgZnVuY3Rpb24gbmFtZXMgKGFzIHN0cmluZ3MpIG9yIG9iamVjdHNcbiAgICogICAgICAgICAgICBjb250YWluaW5nOiB7bmFtZTogPGZ1bmN0aW9uTmFtZT4sIG9wdGlvbnM6IDxycGNDbGllbnRPcHRpb25zPn0uXG4gICAqXG4gICAqIEByZXR1cm4gYW4gaW50ZXJmYWNlIHdpdGggdGhlIGZ1bmN0aW9ucyBwcm92aWRlZCB2aWEgYGRlZmluaXRpb25gIHRoYXRcbiAgICogICAgICAgICAgIHdpbGwgbWFrZSBSUEMgY2FsbHMgdG8gYW4gUlBDIHNlcnZlciB0byBwcm92aWRlIHRoZWlyXG4gICAqICAgICAgICAgICBpbXBsZW1lbnRhdGlvbi5cbiAgICovXG4gIGRlZmluZShuYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgaWYoIShuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BuYW1lYCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nKTtcbiAgICB9XG4gICAgLy8gVE9ETzogc3VwcG9ydCBXZWIgSURMIGFzIGEgZGVmaW5pdGlvbiBmb3JtYXQ/XG4gICAgaWYoIShkZWZpbml0aW9uICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnb2JqZWN0JyAmJlxuICAgICAgQXJyYXkuaXNBcnJheShkZWZpbml0aW9uLmZ1bmN0aW9ucykpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnYGRlZmluaXRpb24uZnVuY3Rpb25gIG11c3QgYmUgYW4gYXJyYXkgb2YgZnVuY3Rpb24gbmFtZXMgb3IgJyArXG4gICAgICAgICdmdW5jdGlvbiBkZWZpbml0aW9uIG9iamVjdHMgdG8gYmUgZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBhcGkgPSB7fTtcblxuICAgIGRlZmluaXRpb24uZnVuY3Rpb25zLmZvckVhY2goZm4gPT4ge1xuICAgICAgaWYodHlwZW9mIGZuID09PSAnc3RyaW5nJykge1xuICAgICAgICBmbiA9IHtuYW1lOiBmbiwgb3B0aW9uczoge319O1xuICAgICAgfVxuICAgICAgYXBpW2ZuLm5hbWVdID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNsaWVudC5zZW5kKFxuICAgICAgICAgIG5hbWUgKyAnLicgKyBmbi5uYW1lLCBbLi4uYXJndW1lbnRzXSwgZm4ub3B0aW9ucyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgc2VsZi5fYXBpc1tuYW1lXSA9IGFwaTtcbiAgICByZXR1cm4gYXBpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIG5hbWVkIEFQSSwgZGVmaW5pbmcgaXQgaWYgbmVjZXNzYXJ5IHdoZW4gYSBkZWZpbml0aW9uIGlzIHByb3ZpZGVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgQVBJLlxuICAgKiBAcGFyYW0gW2RlZmluaXRpb25dIHRoZSBkZWZpbml0aW9uIGZvciB0aGUgQVBJOyBpZiB0aGUgQVBJIGlzIGFscmVhZHlcbiAgICogICAgICAgICAgZGVmaW5lZCwgdGhpcyBkZWZpbml0aW9uIGlzIGlnbm9yZWQuXG4gICAqXG4gICAqIEByZXR1cm4gdGhlIGludGVyZmFjZS5cbiAgICovXG4gIGdldChuYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgY29uc3QgYXBpID0gdGhpcy5fYXBpc1tuYW1lXTtcbiAgICBpZighYXBpKSB7XG4gICAgICBpZihkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluZShuYW1lLCBkZWZpbml0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIFwiJHtuYW1lfVwiIGhhcyBub3QgYmVlbiBkZWZpbmVkLmApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYXBpc1tuYW1lXTtcbiAgfVxufVxuIiwiLyohXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Ioe2Rlc2VyaWFsaXplID0gZSA9PiBlLCB3YWl0VW50aWwgPSBhc3luYyAoKSA9PiB7fX0gPSB7fSkge1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuX2Rlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gICAgdGhpcy5fd2FpdFVudGlsID0gd2FpdFVudGlsO1xuICB9XG5cbiAgYXN5bmMgZW1pdChldmVudCkge1xuICAgIGV2ZW50ID0gdGhpcy5fZGVzZXJpYWxpemUoZXZlbnQpO1xuICAgICh0aGlzLl9saXN0ZW5lcnNbZXZlbnQudHlwZV0gfHwgW10pLmZvckVhY2gobCA9PiBsKGV2ZW50KSk7XG4gICAgcmV0dXJuIHRoaXMuX3dhaXRVbnRpbChldmVudCk7XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4pIHtcbiAgICBpZighdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV0pIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdID0gW2ZuXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV0ucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGZuKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV07XG4gICAgaWYoIWxpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpZHggPSBsaXN0ZW5lcnMuaW5kZXhPZihmbik7XG4gICAgaWYoaWR4ICE9PSAtMSkge1xuICAgICAgbGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xuICAgIH1cbiAgfVxufVxuIiwiLyohXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGNsYXNzIFNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub3JpZ2luID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGUgPSBudWxsO1xuICAgIHRoaXMuX2FwaXMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gZm9yIGEgbmFtZWQgQVBJLiBBbGwgZnVuY3Rpb25zIGluIHRoZSBnaXZlblxuICAgKiBBUEkgd2lsbCBiZSBtYWRlIGNhbGxhYmxlIHZpYSBSUEMgY2xpZW50cyBjb25uZWN0ZWQgdG8gdGhpcyBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBBUEkuXG4gICAqIEBwYXJhbSBhcGkgdGhlIEFQSSB0byBhZGQuXG4gICAqL1xuICBkZWZpbmUobmFtZSwgYXBpKSB7XG4gICAgaWYoIShuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BuYW1lYCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nKTtcbiAgICB9XG4gICAgaWYoIShhcGkgJiYgYXBpICE9PSAnb2JqZWN0JykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BhcGlgIG11c3QgYmUgYW4gb2JqZWN0LicpO1xuICAgIH1cbiAgICBpZihuYW1lIGluIHRoaXMuX2FwaXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIFwiJHtuYW1lfVwiIEFQSSBpcyBhbHJlYWR5IGRlZmluZWQuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5fYXBpc1tuYW1lXSA9IGFwaTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0ZW5zIGZvciBSUEMgbWVzc2FnZXMgZnJvbSBjbGllbnRzIGZyb20gYSBwYXJ0aWN1bGFyIG9yaWdpbiBhbmRcbiAgICogd2luZG93IGhhbmRsZSBhbmQgdXNlcyB0aGVtIHRvIGV4ZWN1dGUgQVBJIGNhbGxzIGJhc2VkIG9uIHByZWRlZmluZWRcbiAgICogQVBJcy5cbiAgICpcbiAgICogSWYgbWVzc2FnZXMgYXJlIG5vdCBmcm9tIHRoZSBnaXZlbiBvcmlnaW4gb3Igd2luZG93IGhhbmRsZSwgdGhleSBhcmVcbiAgICogaWdub3JlZC4gSWYgdGhlIG1lc3NhZ2VzIHJlZmVyIHRvIG5hbWVkIEFQSXMgdGhhdCBoYXZlIG5vdCBiZWVuIGRlZmluZWRcbiAgICogdGhlbiBhbiBlcnJvciBtZXNzYWdlIGlzIHNlbnQgaW4gcmVzcG9uc2UuIFRoZXNlIGVycm9yIG1lc3NhZ2VzIGNhblxuICAgKiBiZSBzdXBwcmVzc2VkIGJ5IHVzaW5nIHRoZSBgaWdub3JlVW5rbm93bkFwaWAgb3B0aW9uLlxuICAgKlxuICAgKiBJZiBhIG1lc3NhZ2UgcmVmZXJzIHRvIGFuIHVua25vd24gbWV0aG9kIG9uIGEga25vd24gbmFtZWQgQVBJLCB0aGVuIGFuXG4gICAqIGVycm9yIG1lc3NhZ2UgaXMgc2VudCBpbiByZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIG9yaWdpbiB0aGUgb3JpZ2luIHRvIGxpc3RlbiBmb3IuXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHRvIHVzZTpcbiAgICogICAgICAgICAgW2hhbmRsZV0gYSBoYW5kbGUgdG8gdGhlIHdpbmRvdyAob3IgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG9cbiAgICogICAgICAgICAgICBhIGhhbmRsZSkgdG8gbGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tXG4gICAqICAgICAgICAgICAgKGRlZmF1bHRzIHRvIGB3aW5kb3cucGFyZW50IHx8IHdpbmRvdy5vcGVuZXJgKS5cbiAgICogICAgICAgICAgW2lnbm9yZVVua25vd25BcGldIGB0cnVlYCB0byBpZ25vcmUgdW5rbm93biBBUEkgbWVzc2FnZXMuXG4gICAqL1xuICBhc3luYyBsaXN0ZW4ob3JpZ2luLCBvcHRpb25zKSB7XG4gICAgaWYodGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWxyZWFkeSBsaXN0ZW5pbmcuJyk7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBUT0RPOiB2YWxpZGF0ZSBgb3JpZ2luYCBhbmQgYG9wdGlvbnMuaGFuZGxlYFxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYub3JpZ2luID0gdXRpbHMucGFyc2VVcmwob3JpZ2luKS5vcmlnaW47XG4gICAgc2VsZi5faGFuZGxlID0gb3B0aW9ucy5oYW5kbGUgfHwgd2luZG93LnBhcmVudCB8fCB3aW5kb3cub3BlbmVyO1xuXG4gICAgY29uc3QgaWdub3JlVW5rbm93bkFwaSA9IChvcHRpb25zLmlnbm9yZVVua25vd25BcGkgPT09ICd0cnVlJykgfHwgZmFsc2U7XG5cbiAgICBzZWxmLl9saXN0ZW5lciA9IHV0aWxzLmNyZWF0ZU1lc3NhZ2VMaXN0ZW5lcih7XG4gICAgICBvcmlnaW46IHNlbGYub3JpZ2luLFxuICAgICAgaGFuZGxlOiBzZWxmLl9oYW5kbGUsXG4gICAgICBleHBlY3RSZXF1ZXN0OiB0cnVlLFxuICAgICAgbGlzdGVuZXI6IG1lc3NhZ2UgPT4ge1xuICAgICAgICBjb25zdCB7bmFtZSwgbWV0aG9kfSA9IHV0aWxzLmRlc3RydWN0dXJlTWV0aG9kTmFtZShtZXNzYWdlLm1ldGhvZCk7XG4gICAgICAgIGNvbnN0IGFwaSA9IHNlbGYuX2FwaXNbbmFtZV07XG5cbiAgICAgICAgLy8gZG8gbm90IGFsbG93IGNhbGxpbmcgXCJwcml2YXRlXCIgbWV0aG9kcyAoc3RhcnRzIHdpdGggYF9gKVxuICAgICAgICBpZihtZXRob2QgJiYgbWV0aG9kLnN0YXJ0c1dpdGgoJ18nKSkge1xuICAgICAgICAgIHJldHVybiBzZW5kTWV0aG9kTm90Rm91bmQoc2VsZi5faGFuZGxlLCBzZWxmLm9yaWdpbiwgbWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBUEkgbm90IGZvdW5kIGJ1dCBpZ25vcmUgZmxhZyBpcyBvblxuICAgICAgICBpZighYXBpICYmIGlnbm9yZVVua25vd25BcGkpIHtcbiAgICAgICAgICAvLyBBUEkgbm90IHJlZ2lzdGVyZWQsIGlnbm9yZSB0aGUgbWVzc2FnZSByYXRoZXIgdGhhbiByYWlzZSBlcnJvclxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGlnbm9yZSBmbGFnIGFuZCB1bmtub3duIEFQSSBvciB1bmtub3duIHNwZWNpZmljIG1ldGhvZFxuICAgICAgICBpZighYXBpIHx8IHR5cGVvZiBhcGlbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBzZW5kTWV0aG9kTm90Rm91bmQoc2VsZi5faGFuZGxlLCBzZWxmLm9yaWdpbiwgbWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBUEkgYW5kIHNwZWNpZmljIGZ1bmN0aW9uIGZvdW5kXG4gICAgICAgIGNvbnN0IGZuID0gYXBpW21ldGhvZF07XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0ID0gYXdhaXQgZm4uYXBwbHkoYXBpLCBtZXNzYWdlLnBhcmFtcyk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICByZXNwb25zZS5lcnJvciA9IHV0aWxzLnNlcmlhbGl6ZUVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzZXJ2ZXIgZGlkIG5vdCBgY2xvc2VgIHdoaWxlIHdlIHdhaXRlZCBmb3IgYSByZXNwb25zZVxuICAgICAgICAgIGlmKHNlbGYuX2hhbmRsZSkge1xuICAgICAgICAgICAgLy8gSEFDSzogd2UgY2FuJ3QganVzdCBgUHJvbWlzZS5yZXNvbHZlKGhhbmRsZSlgIGJlY2F1c2UgQ2hyb21lIGhhc1xuICAgICAgICAgICAgLy8gYSBidWcgdGhhdCB0aHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSBoYW5kbGUgaXMgY3Jvc3MgZG9tYWluXG4gICAgICAgICAgICBpZih1dGlscy5pc0hhbmRsZVByb21pc2Uoc2VsZi5faGFuZGxlKSkge1xuICAgICAgICAgICAgICBzZWxmLl9oYW5kbGUudGhlbihoID0+IGgucG9zdE1lc3NhZ2UocmVzcG9uc2UsIHNlbGYub3JpZ2luKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLl9oYW5kbGUucG9zdE1lc3NhZ2UocmVzcG9uc2UsIHNlbGYub3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBzZWxmLl9saXN0ZW5lcik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZih0aGlzLl9saXN0ZW5lcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgICB0aGlzLl9oYW5kbGUgPSB0aGlzLm9yaWdpbiA9IHRoaXMuX2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VuZE1ldGhvZE5vdEZvdW5kKGhhbmRsZSwgb3JpZ2luLCBtZXNzYWdlKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgIGpzb25ycGM6ICcyLjAnLFxuICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgIGVycm9yOiBPYmplY3QuYXNzaWduKHt9LCB1dGlscy5SUENfRVJST1JTLk1ldGhvZE5vdEZvdW5kKVxuICB9O1xuICAvLyBIQUNLOiB3ZSBjYW4ndCBqdXN0IGBQcm9taXNlLnJlc29sdmUoaGFuZGxlKWAgYmVjYXVzZSBDaHJvbWUgaGFzXG4gIC8vIGEgYnVnIHRoYXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgaGFuZGxlIGlzIGNyb3NzIGRvbWFpblxuICBpZih1dGlscy5pc0hhbmRsZVByb21pc2UoaGFuZGxlKSkge1xuICAgIHJldHVybiBoYW5kbGUudGhlbihoID0+IGgucG9zdE1lc3NhZ2UocmVzcG9uc2UsIG9yaWdpbikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBoYW5kbGUucG9zdE1lc3NhZ2UocmVzcG9uc2UsIG9yaWdpbik7XG4gIH1cbn1cbiIsIi8qIVxuICogQSBXZWJBcHAgaXMgYSByZW1vdGUgYXBwbGljYXRpb24gdGhhdCBydW5zIGluIGEgV2ViQXBwQ29udGV4dC5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge0NsaWVudH0gZnJvbSAnLi9DbGllbnQuanMnO1xuaW1wb3J0IHtTZXJ2ZXJ9IGZyb20gJy4vU2VydmVyLmpzJztcbmltcG9ydCB7cGFyc2VVcmx9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5leHBvcnQgY2xhc3MgV2ViQXBwIHtcbiAgY29uc3RydWN0b3IocmVseWluZ09yaWdpbikge1xuICAgIC8vIHRoaXMgaXMgdGhlIG9yaWdpbiB0aGF0IGNyZWF0ZWQgdGhlIFdlYkFwcENvbnRleHQgdG8gcnVuIGl0IGluXG4gICAgLy8gVE9ETzogYmV0dGVyIG5hbWU/IGBjb250ZXh0T3JpZ2luYD9cbiAgICB0aGlzLnJlbHlpbmdPcmlnaW4gPSBwYXJzZVVybChyZWx5aW5nT3JpZ2luKS5vcmlnaW47XG4gICAgdGhpcy5jbGllbnQgPSBudWxsO1xuICAgIHRoaXMuaW5qZWN0b3IgPSBudWxsO1xuICAgIHRoaXMuY2xpZW50ID0gbmV3IENsaWVudCgpO1xuICAgIHRoaXMuc2VydmVyID0gbmV3IFNlcnZlcigpO1xuXG4gICAgdGhpcy5fY29udHJvbCA9IG51bGw7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdHMgdGhpcyBXZWJBcHAgdG8gdGhlIHJlbHlpbmcgb3JpZ2luIHRoYXQgaW5zdGFudGlhdGVkIGl0LiBPbmNlXG4gICAqIGNvbm5lY3RlZCwgdGhlIFdlYkFwcCBjYW4gc3RhcnQgc2VydmljaW5nIGNhbGxzIGZyb20gdGhhdCBvcmlnaW4uXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gaW5qZWN0b3IgZm9yIGNyZWF0aW5nIGN1c3RvbSBjbGllbnRcbiAgICogICAgICAgICAgIEFQSXMgb25jZSB0aGUgY29ubmVjdGlvbiBpcyByZWFkeS5cbiAgICovXG4gIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5pbmplY3RvciA9IGF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3QodGhpcy5yZWx5aW5nT3JpZ2luKTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmluamVjdG9yLmRlZmluZSgnY29yZS5jb250cm9sJywge1xuICAgICAgZnVuY3Rpb25zOiBbJ3JlYWR5JywgJ3Nob3cnLCAnaGlkZSddXG4gICAgfSk7XG4gICAgdGhpcy5zZXJ2ZXIubGlzdGVuKHRoaXMucmVseWluZ09yaWdpbik7XG4gICAgcmV0dXJuIHRoaXMuaW5qZWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYGNvbm5lY3RgIHdoZW4gdGhpcyBXZWJBcHAgaXMgcmVhZHkgdG8gc3RhcnRcbiAgICogcmVjZWl2aW5nIGNhbGxzIGZyb20gdGhlIHJlbW90ZSBlbmQuXG4gICAqL1xuICBhc3luYyByZWFkeSgpIHtcbiAgICBpZighdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkFwcCBub3QgY29ubmVjdGVkLiBEaWQgeW91IGNhbGwgXCIuY29ubmVjdCgpXCI/Jyk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuX2NvbnRyb2wucmVhZHkoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhpcyBXZWJBcHAncyBjb25uZWN0aW9uIHRvIHRoZSByZWx5aW5nIG9yaWdpbi5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGlmKHRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5zZXJ2ZXIuY2xvc2UoKTtcbiAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIFVJIGZvciB0aGlzIFdlYkFwcCBvbiB0aGUgcmVseWluZyBvcmlnaW4uXG4gICAqL1xuICBhc3luYyBzaG93KCkge1xuICAgIGlmKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0Nhbm5vdCBcInNob3dcIiB5ZXQ7IG5vdCBjb25uZWN0ZWQuIERpZCB5b3UgY2FsbCBcIi5jb25uZWN0KClcIj8nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRyb2wuc2hvdygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBVSSBmb3IgdGhpcyBXZWJBcHAgb24gdGhlIHJlbHlpbmcgb3JpZ2luLlxuICAgKi9cbiAgYXN5bmMgaGlkZSgpIHtcbiAgICBpZighdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgXCJoaWRlXCIgeWV0OyBub3QgY29ubmVjdGVkLiBEaWQgeW91IGNhbGwgXCIuY29ubmVjdCgpP1wiJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb250cm9sLmhpZGUoKTtcbiAgfVxufVxuIiwiLyohXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBEaWdpdGFsIEJhemFhciwgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIGRlZmF1bHQgdGltZW91dCBpcyA2MCBzZWNvbmRzXG5jb25zdCBMT0FEX1dJTkRPV19USU1FT1VUID0gNjAwMDA7XG5cbi8qKlxuICogUHJvdmlkZXMgYSB3aW5kb3cgYW5kIEFQSSBmb3IgcmVtb3RlIFdlYiBhcHBsaWNhdGlvbnMuIFRoaXMgQVBJIGlzIHR5cGljYWxseVxuICogdXNlZCBieSBSUEMgV2ViQXBwcyB0aGF0IHJ1biBpbiBhIFdlYkFwcENvbnRleHQgdG8gaW5kaWNhdGUgd2hlbiB0aGV5IGFyZVxuICogcmVhZHkgYW5kIHRvIHNob3cvaGlkZSB0aGVpciBVSS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkFwcFdpbmRvdyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHVybCwge1xuICAgICAgdGltZW91dCA9IExPQURfV0lORE9XX1RJTUVPVVQsXG4gICAgICBoYW5kbGUsXG4gICAgICBpZnJhbWUsXG4gICAgICB3aW5kb3dDb250cm9sLFxuICAgICAgY2xhc3NOYW1lID0gbnVsbCxcbiAgICAgIGN1c3RvbWl6ZSA9IG51bGxcbiAgICB9ID0ge30pIHtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmRpYWxvZyA9IG51bGw7XG4gICAgdGhpcy5pZnJhbWUgPSBudWxsO1xuICAgIHRoaXMuaGFuZGxlID0gbnVsbDtcbiAgICB0aGlzLndpbmRvd0NvbnRyb2wgPSBudWxsO1xuICAgIHRoaXMuX3JlYWR5ID0gZmFsc2U7XG4gICAgdGhpcy5fcHJpdmF0ZSA9IHt9O1xuICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG5cbiAgICAvLyBwcml2YXRlIHRvIGFsbG93IGNhbGxlciB0byB0cmFjayByZWFkaW5lc3NcbiAgICB0aGlzLl9wcml2YXRlLl9yZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyByZWplY3QgaWYgdGltZW91dCByZWFjaGVkXG4gICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiByZWplY3QobmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgICAnTG9hZGluZyBXZWIgYXBwbGljYXRpb24gd2luZG93IHRpbWVkIG91dC4nLCAnVGltZW91dEVycm9yJykpLFxuICAgICAgICB0aW1lb3V0KTtcbiAgICAgIHRoaXMuX3ByaXZhdGUuX3Jlc29sdmVSZWFkeSA9IHZhbHVlID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgdGhpcy5fcHJpdmF0ZS5fcmVqZWN0UmVhZHkgPSBlcnIgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5fcHJpdmF0ZS5pc1JlYWR5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3ByaXZhdGUuX3JlYWR5UHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLy8gcHJpdmF0ZSB0byBkaXNhbGxvdyBkZXN0cnVjdGlvbiB2aWEgY2xpZW50XG4gICAgdGhpcy5fcHJpdmF0ZS5kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgLy8gd2luZG93IG5vdCByZWFkeSB5ZXQsIGJ1dCBkZXN0cm95ZWRcbiAgICAgIGlmKHRoaXMuX3RpbWVvdXRJZCkge1xuICAgICAgICB0aGlzLl9wcml2YXRlLl9yZWplY3RSZWFkeShuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICAgICdXZWIgYXBwbGljYXRpb24gd2luZG93IGNsb3NlZCBiZWZvcmUgcmVhZHkuJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICB9XG4gICAgICBpZih0aGlzLmRpYWxvZykge1xuICAgICAgICB0aGlzLmRpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGlhbG9nKTtcbiAgICAgICAgdGhpcy5kaWFsb2cgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZihpZnJhbWUpIHtcbiAgICAgIC8vIFRPRE86IHZhbGlkYXRlIGBpZnJhbWVgIG9wdGlvbiBhcyBtdWNoIGFzIHBvc3NpYmxlXG4gICAgICBpZighKHR5cGVvZiBpZnJhbWUgPT09ICdvYmplY3QnICYmIGlmcmFtZS5jb250ZW50V2luZG93KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgb3B0aW9ucy5pZnJhbWVgIG11c3QgYmUgYW4gaWZyYW1lIGVsZW1lbnQuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLndpbmRvd0NvbnRyb2wgPSB7XG4gICAgICAgIGhhbmRsZTogaWZyYW1lLmNvbnRlbnRXaW5kb3csXG4gICAgICAgIHNob3coKSB7XG4gICAgICAgICAgaWZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGUoKSB7XG4gICAgICAgICAgaWZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMuaWZyYW1lID0gaWZyYW1lO1xuICAgICAgdGhpcy5oYW5kbGUgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmKHdpbmRvd0NvbnRyb2wpIHtcbiAgICAgIC8vIFRPRE86IHZhbGlkYXRlIGB3aW5kb3dDb250cm9sYFxuICAgICAgdGhpcy53aW5kb3dDb250cm9sID0gd2luZG93Q29udHJvbDtcbiAgICAgIHRoaXMuaGFuZGxlID0gdGhpcy53aW5kb3dDb250cm9sLmhhbmRsZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZihoYW5kbGUpIHtcbiAgICAgIC8vIFRPRE86IHZhbGlkYXRlIGBoYW5kbGVgXG4gICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZihjdXN0b21pemUpIHtcbiAgICAgIGlmKCF0eXBlb2YgY3VzdG9taXplID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BvcHRpb25zLmN1c3RvbWl6ZWAgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIHRvcC1sZXZlbCBkaWFsb2cgb3ZlcmxheVxuICAgIHRoaXMuZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGlhbG9nJyk7XG4gICAgYXBwbHlTdHlsZSh0aGlzLmRpYWxvZywge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgJ21heC13aWR0aCc6ICcxMDAlJyxcbiAgICAgICdtYXgtaGVpZ2h0JzogJzEwMCUnLFxuICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgIGNvbG9yOiAnYmxhY2snLFxuICAgICAgJ2JveC1zaXppbmcnOiAnYm9yZGVyLWJveCcsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAnei1pbmRleCc6IDEwMDAwMDBcbiAgICB9KTtcbiAgICB0aGlzLmRpYWxvZy5jbGFzc05hbWUgPSAnd2ViLWFwcC13aW5kb3cnO1xuICAgIGlmKHR5cGVvZiBjbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmRpYWxvZy5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWU7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIGJhY2tkcm9wIGlzIHRyYW5zcGFyZW50IGJ5IGRlZmF1bHRcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoXG4gICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgZGlhbG9nLndlYi1hcHAtd2luZG93OjpiYWNrZHJvcCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfWApKTtcblxuICAgIC8vIGNyZWF0ZSBmbGV4IGNvbnRhaW5lciBmb3IgaWZyYW1lXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhcHBseVN0eWxlKHRoaXMuY29udGFpbmVyLCB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAnZmxleC1kaXJlY3Rpb24nOiAnY29sdW1uJ1xuICAgIH0pO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9ICd3ZWItYXBwLXdpbmRvdy1iYWNrZHJvcCc7XG5cbiAgICAvLyBjcmVhdGUgaWZyYW1lXG4gICAgdGhpcy5pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICB0aGlzLmlmcmFtZS5zcmMgPSB1cmw7XG4gICAgdGhpcy5pZnJhbWUuc2Nyb2xsaW5nID0gJ2F1dG8nO1xuICAgIGFwcGx5U3R5bGUodGhpcy5pZnJhbWUsIHtcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAnZmxleC1ncm93JzogMVxuICAgIH0pO1xuXG4gICAgLy8gYXNzZW1ibGUgZGlhbG9nXG4gICAgdGhpcy5kaWFsb2cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTtcbiAgICB0aGlzLmRpYWxvZy5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG5cbiAgICAvLyBoYW5kbGUgY2FuY2VsICh1c2VyIHByZXNzZWQgZXNjYXBlKVxuICAgIHRoaXMuZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbmNlbCcsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBhdHRhY2ggdG8gRE9NXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpYWxvZyk7XG4gICAgdGhpcy5oYW5kbGUgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgaWYoY3VzdG9taXplKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjdXN0b21pemUoe1xuICAgICAgICAgIGRpYWxvZzogdGhpcy5kaWFsb2csXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICBpZnJhbWU6IHRoaXMuaWZyYW1lLFxuICAgICAgICAgIHdlYkFwcFdpbmRvdzogdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIGNsaWVudCB3aGVuIGl0IGlzIHJlYWR5IHRvIHJlY2VpdmUgbWVzc2FnZXMuXG4gICAqL1xuICByZWFkeSgpIHtcbiAgICB0aGlzLl9yZWFkeSA9IHRydWU7XG4gICAgdGhpcy5fcHJpdmF0ZS5fcmVzb2x2ZVJlYWR5KHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUgY2xpZW50IHdoZW4gaXQgd2FudHMgdG8gc2hvdyBVSS5cbiAgICovXG4gIHNob3coKSB7XG4gICAgaWYoIXRoaXMudmlzaWJsZSkge1xuICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vIGRpc2FibGUgc2Nyb2xsaW5nIG9uIGJvZHlcbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICB0aGlzLl9ib2R5T3ZlcmZsb3dTdHlsZSA9IGJvZHkuc3R5bGUub3ZlcmZsb3c7XG4gICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBpZih0aGlzLmRpYWxvZykge1xuICAgICAgICB0aGlzLmRpYWxvZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgaWYodGhpcy5kaWFsb2cuc2hvd01vZGFsKSB7XG4gICAgICAgICAgdGhpcy5kaWFsb2cuc2hvd01vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZih0aGlzLndpbmRvd0NvbnRyb2wuc2hvdykge1xuICAgICAgICB0aGlzLndpbmRvd0NvbnRyb2wuc2hvdygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIGNsaWVudCB3aGVuIGl0IHdhbnRzIHRvIGhpZGUgVUkuXG4gICAqL1xuICBoaWRlKCkge1xuICAgIGlmKHRoaXMudmlzaWJsZSkge1xuICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAvLyByZXN0b3JlIGBvdmVyZmxvd2Agc3R5bGUgb24gYm9keVxuICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICAgIGlmKHRoaXMuX2JvZHlPdmVyZmxvd1N0eWxlKSB7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSB0aGlzLl9ib2R5T3ZlcmZsb3dTdHlsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuZGlhbG9nKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGlmKHRoaXMuZGlhbG9nLmNsb3NlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKHRoaXMud2luZG93Q29udHJvbC5oaWRlKSB7XG4gICAgICAgIHRoaXMud2luZG93Q29udHJvbC5oaWRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5U3R5bGUoZWxlbWVudCwgc3R5bGUpIHtcbiAgZm9yKGNvbnN0IG5hbWUgaW4gc3R5bGUpIHtcbiAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gIH1cbn1cbiIsIi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDE3IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtDbGllbnR9IGZyb20gJy4vQ2xpZW50LmpzJztcbmltcG9ydCB7U2VydmVyfSBmcm9tICcuL1NlcnZlci5qcyc7XG5pbXBvcnQge1dlYkFwcFdpbmRvd30gZnJvbSAnLi9XZWJBcHBXaW5kb3cuanMnO1xuaW1wb3J0IHtwYXJzZVVybH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIDEwIHNlY29uZHNcbmNvbnN0IFdFQl9BUFBfQ09OVEVYVF9MT0FEX1RJTUVPVVQgPSAxMDAwMDtcblxuZXhwb3J0IGNsYXNzIFdlYkFwcENvbnRleHQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBDbGllbnQoKTtcbiAgICB0aGlzLnNlcnZlciA9IG5ldyBTZXJ2ZXIoKTtcbiAgICB0aGlzLmluamVjdG9yID0gbnVsbDtcbiAgICB0aGlzLmNvbnRyb2wgPSBudWxsO1xuICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgd2luZG93IChvciBhdHRhY2hlcyB0byBhbiBleGlzdGluZyBvbmUpIHRoYXQgbG9hZHMgYSBwYWdlIHRoYXRcbiAgICogaXMgZXhwZWN0ZWQgdG8gdW5kZXJzdGFuZCB0aGUgd2ViIHJlcXVlc3QgUlBDIHByb3RvY29sLiBUaGlzIG1ldGhvZFxuICAgKiByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbmNlIHRoZSBwYWdlIHVzZXMgUlBDIHRvIGluZGljYXRlXG4gICAqIHRoYXQgaXQgaXMgcmVhZHkgdG8gYmUgY29tbXVuaWNhdGVkIHdpdGggb3Igb25jZSBhIHRpbWVvdXQgb2NjdXJzLlxuICAgKlxuICAgKiBUaGUgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gUlBDIGluamVjdG9yIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ2V0IG9yXG4gICAqIGRlZmluZSBBUElzIHRvIGVuYWJsZSBjb21tdW5pY2F0aW9uIHdpdGggdGhlIFdlYkFwcCBydW5uaW5nIGluIHRoZVxuICAgKiBXZWJBcHBDb250ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHRoZSBVUkwgdG8gdGhlIHBhZ2UgdG8gY29ubmVjdCB0by5cbiAgICogQHBhcmFtIG9wdGlvbnMgdGhlIG9wdGlvbnMgdG8gdXNlOlxuICAgKiAgICAgICAgICBbdGltZW91dF0gdGhlIHRpbWVvdXQgZm9yIHdhaXRpbmcgZm9yIHRoZSBjbGllbnQgdG8gYmUgcmVhZHkuXG4gICAqICAgICAgICAgIFtoYW5kbGVdIGEgd2luZG93IGhhbmRsZSB0byBjb25uZWN0IHRvOyBtYXkgYmUgYSBQcm9taXNlIHRoYXRcbiAgICogICAgICAgICAgICB0aGF0IHJlc29sdmVzIHRvIGEgaGFuZGxlLlxuICAgKiAgICAgICAgICBbaWZyYW1lXSBhbiBpZnJhbWUgZWxlbWVudCB0byBjb25uZWN0IHRvLlxuICAgKiAgICAgICAgICBbd2luZG93Q29udHJvbF0gYSB3aW5kb3cgY29udHJvbCBpbnRlcmZhY2UgdG8gY29ubmVjdCB0by5cbiAgICogICAgICAgICAgW2NsYXNzTmFtZV0gYSBjbGFzc05hbWUgdG8gYXNzaWduIHRvIHRoZSB3aW5kb3cgZm9yIENTUyBwdXJwb3Nlcy5cbiAgICogICAgICAgICAgW2N1c3RvbWl6ZShvcHRpb25zKV0gYSBmdW5jdGlvbiB0byBjdXN0b21pemUgdGhlIGRpYWxvZyB0aGF0XG4gICAqICAgICAgICAgICAgbG9hZHMgdGhlIHdpbmRvdyBhZnRlciBpdHMgY29uc3RydWN0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIFJQQyBpbmplY3RvciBvbmNlIHRoZSB3aW5kb3cgaXNcbiAgICogICAgICAgICAgIHJlYWR5LlxuICAgKi9cbiAgYXN5bmMgY3JlYXRlV2luZG93KFxuICAgIHVybCwge1xuICAgICAgdGltZW91dCA9IFdFQl9BUFBfQ09OVEVYVF9MT0FEX1RJTUVPVVQsXG4gICAgICBpZnJhbWUsXG4gICAgICBoYW5kbGUsXG4gICAgICB3aW5kb3dDb250cm9sLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY3VzdG9taXplXG4gICAgfSA9IHt9KSB7XG4gICAgLy8gZGlzYWxsb3cgbG9hZGluZyB0aGUgc2FtZSBXZWJBcHBDb250ZXh0IG1vcmUgdGhhbiBvbmNlXG4gICAgaWYodGhpcy5sb2FkZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXBwQ29udGV4dCBhbHJlYWR5IGxvYWRlZC4nKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuXG4gICAgLy8gY3JlYXRlIGNvbnRyb2wgQVBJIGZvciBXZWJBcHAgdG8gY2FsbCB2aWEgaXRzIG93biBSUEMgY2xpZW50XG4gICAgdGhpcy5jb250cm9sID0gbmV3IFdlYkFwcFdpbmRvdyh1cmwsIHtcbiAgICAgIHRpbWVvdXQsXG4gICAgICBpZnJhbWUsXG4gICAgICBoYW5kbGUsXG4gICAgICB3aW5kb3dDb250cm9sLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY3VzdG9taXplXG4gICAgfSk7XG5cbiAgICAvLyBkZWZpbmUgY29udHJvbCBjbGFzczsgdGhpcyBlbmFibGVzIHRoZSBXZWJBcHAgdGhhdCBpcyBydW5uaW5nIGluIHRoZVxuICAgIC8vIFdlYkFwcENvbnRleHQgdG8gY29udHJvbCBpdHMgVUkgb3IgY2xvc2UgaXRzZWxmIGRvd25cbiAgICB0aGlzLnNlcnZlci5kZWZpbmUoJ2NvcmUuY29udHJvbCcsIHRoaXMuY29udHJvbCk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIGNhbGxzIGZyb20gdGhlIHdpbmRvdywgaWdub3JpbmcgY2FsbHMgdG8gdW5rbm93biBBUElzXG4gICAgLy8gdG8gYWxsb3cgdGhvc2UgdG8gYmUgaGFuZGxlZCBieSBvdGhlciBzZXJ2ZXJzXG4gICAgY29uc3Qgb3JpZ2luID0gcGFyc2VVcmwodXJsKS5vcmlnaW47XG4gICAgdGhpcy5zZXJ2ZXIubGlzdGVuKG9yaWdpbiwge1xuICAgICAgaGFuZGxlOiB0aGlzLmNvbnRyb2wuaGFuZGxlLFxuICAgICAgaWdub3JlVW5rbm93bkFwaTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLy8gd2FpdCBmb3IgY29udHJvbCB0byBiZSByZWFkeVxuICAgIGF3YWl0IHRoaXMuY29udHJvbC5fcHJpdmF0ZS5pc1JlYWR5KCk7XG5cbiAgICAvLyBjb25uZWN0IHRvIHRoZSBXZWJBcHBDb250ZXh0IGFuZCByZXR1cm4gdGhlIGluamVjdG9yXG4gICAgdGhpcy5pbmplY3RvciA9IGF3YWl0IHRoaXMuY2xpZW50LmNvbm5lY3Qob3JpZ2luLCB7XG4gICAgICBoYW5kbGU6IHRoaXMuY29udHJvbC5oYW5kbGVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5pbmplY3RvcjtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGlmKCF0aGlzLmNsb3NlZCkge1xuICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb250cm9sLl9wcml2YXRlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuc2VydmVyLmNsb3NlKCk7XG4gICAgICB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiLyohXG4gKiBBIENyZWRlbnRpYWxSZXF1ZXN0RXZlbnQgaXMgZW1pdHRlZCB3aGVuIGEgcmVxdWVzdCBoYXMgYmVlbiBtYWRlIGZvclxuICogY3JlZGVudGlhbHMuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbi8qIGdsb2JhbCBFdmVudCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyBycGMgZnJvbSAnd2ViLXJlcXVlc3QtcnBjJztcblxuLy8gY2FuJ3QgdXNlIFwiRXh0ZW5kYWJsZUV2ZW50XCI7IG9ubHkgYWNjZXNzaWJsZSBmcm9tIFdvcmtlcnNcbi8vIFRPRE86IG1heSBub3QgYmUgYWJsZSB0byBldmVuIGV4dGVuZCBgRXZlbnRgIGhlcmU7IGNvdWxkIHByb2R1Y2UgXCJpbmNvcnJlY3RcIlxuLy8gICBjb3JlIGF0dHJpYnV0ZXNcbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsUmVxdWVzdEV2ZW50IC8qZXh0ZW5kcyBFdmVudCovIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGNyZWRlbnRpYWxIYW5kbGVyLFxuICAgIGNyZWRlbnRpYWxSZXF1ZXN0T3JpZ2luLFxuICAgIGNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucyxcbiAgICBoaW50S2V5XG4gIH0pIHtcbiAgICAvL3N1cGVyKCdjcmVkZW50aWFscmVxdWVzdCcpO1xuICAgIHRoaXMudHlwZSA9ICdjcmVkZW50aWFscmVxdWVzdCc7XG4gICAgdGhpcy5fY3JlZGVudGlhbEhhbmRsZXIgPSBjcmVkZW50aWFsSGFuZGxlcjtcbiAgICB0aGlzLmNyZWRlbnRpYWxSZXF1ZXN0T3JpZ2luID0gY3JlZGVudGlhbFJlcXVlc3RPcmlnaW47XG4gICAgdGhpcy5jcmVkZW50aWFsUmVxdWVzdE9wdGlvbnMgPSBjcmVkZW50aWFsUmVxdWVzdE9wdGlvbnM7XG4gICAgdGhpcy5oaW50S2V5ID0gaGludEtleTtcbiAgfVxuXG4gIGFzeW5jIG9wZW5XaW5kb3codXJsKSB7XG4gICAgLy8gVE9ETzogZGlzYWxsb3cgbW9yZSB0aGFuIG9uZSBjYWxsXG5cbiAgICAvLyBUT0RPOiBlbnN1cmUgYHVybGAgaXMgdG8gdGhlIHNhbWUgb3JpZ2luXG4gICAgYXdhaXQgdGhpcy5fY3JlZGVudGlhbEhhbmRsZXIuc2hvdygpO1xuICAgIGNvbnN0IGFwcFdpbmRvdyA9IG5ldyBycGMuV2ViQXBwV2luZG93KHVybCwge1xuICAgICAgY2xhc3NOYW1lOiAnY3JlZGVudGlhbC1oYW5kbGVyJ1xuICAgIH0pO1xuICAgIGFwcFdpbmRvdy5yZWFkeSgpO1xuICAgIGFwcFdpbmRvdy5zaG93KCk7XG4gICAgLy8gVE9ETzogbm90ZSB0aGF0IGBhcHBXaW5kb3cuaGFuZGxlYCBpcyBub3QgYSBTZXJ2aWNlV29ya2VyXG4gICAgLy8gICBgV2luZG93Q2xpZW50YCBwb2x5ZmlsbC4uLiBjb3VsZCBiZSBjb25mdXNpbmcgaGVyZSwgc2hvdWxkIHdlXG4gICAgLy8gICBpbXBsZW1lbnQgb25lIHRvIHdyYXAgaXQ/IC0tIHRoZXJlIGlzLCBmb3IgZXhhbXBsZSwgYVxuICAgIC8vICAgYG5hdmlnYXRlYCBjYWxsIG9uIGBXaW5kb3dDbGllbnRgIHRoYXQgZW5mb3JjZXMgc2FtZSBvcmlnaW4sIHdvdWxkXG4gICAgLy8gICBuZWVkIHRvIGF0dGVtcHQgdG8gYWRkIG9yIGFwcHJveGltYXRlIHRoYXRcbiAgICByZXR1cm4gYXBwV2luZG93LmhhbmRsZTtcbiAgfVxuXG4gIHJlc3BvbmRXaXRoKGhhbmRsZXJSZXNwb25zZSkge1xuICAgIC8vIFRPRE86IHRocm93IGV4Y2VwdGlvbiBpZiBgX3Byb21pc2VgIGlzIGFscmVhZHkgc2V0XG5cbiAgICAvLyBUT0RPOiB2YWxpZGF0ZSBoYW5kbGVyUmVzcG9uc2VcbiAgICB0aGlzLl9wcm9taXNlID0gaGFuZGxlclJlc3BvbnNlO1xuICB9XG59XG4iLCIvKiFcbiAqIEEgQ3JlZGVudGlhbFN0b3JlRXZlbnQgaXMgZW1pdHRlZCB3aGVuIGEgcmVxdWVzdCBoYXMgYmVlbiBtYWRlIHRvXG4gKiBzdG9yZSBhIGNyZWRlbnRpYWwuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbi8qIGdsb2JhbCBFdmVudCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyBycGMgZnJvbSAnd2ViLXJlcXVlc3QtcnBjJztcblxuLy8gY2FuJ3QgdXNlIFwiRXh0ZW5kYWJsZUV2ZW50XCI7IG9ubHkgYWNjZXNzaWJsZSBmcm9tIFdvcmtlcnNcbi8vIFRPRE86IG1heSBub3QgYmUgYWJsZSB0byBldmVuIGV4dGVuZCBgRXZlbnRgIGhlcmU7IGNvdWxkIHByb2R1Y2UgXCJpbmNvcnJlY3RcIlxuLy8gICBjb3JlIGF0dHJpYnV0ZXNcbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsU3RvcmVFdmVudCAvKmV4dGVuZHMgRXZlbnQqLyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjcmVkZW50aWFsSGFuZGxlcixcbiAgICBjcmVkZW50aWFsUmVxdWVzdE9yaWdpbixcbiAgICBjcmVkZW50aWFsLFxuICAgIGhpbnRLZXlcbiAgfSkge1xuICAgIC8vc3VwZXIoJ2NyZWRlbnRpYWxzdG9yZScpO1xuICAgIHRoaXMudHlwZSA9ICdjcmVkZW50aWFsc3RvcmUnO1xuICAgIHRoaXMuX2NyZWRlbnRpYWxIYW5kbGVyID0gY3JlZGVudGlhbEhhbmRsZXI7XG4gICAgdGhpcy5jcmVkZW50aWFsUmVxdWVzdE9yaWdpbiA9IGNyZWRlbnRpYWxSZXF1ZXN0T3JpZ2luO1xuICAgIHRoaXMuY3JlZGVudGlhbCA9IGNyZWRlbnRpYWw7XG4gICAgdGhpcy5oaW50S2V5ID0gaGludEtleTtcbiAgfVxuXG4gIGFzeW5jIG9wZW5XaW5kb3codXJsKSB7XG4gICAgLy8gVE9ETzogZGlzYWxsb3cgbW9yZSB0aGFuIG9uZSBjYWxsXG5cbiAgICAvLyBUT0RPOiBlbnN1cmUgYHVybGAgaXMgdG8gdGhlIHNhbWUgb3JpZ2luXG4gICAgYXdhaXQgdGhpcy5fY3JlZGVudGlhbEhhbmRsZXIuc2hvdygpO1xuICAgIGNvbnN0IGFwcFdpbmRvdyA9IG5ldyBycGMuV2ViQXBwV2luZG93KHVybCk7XG4gICAgYXBwV2luZG93LnJlYWR5KCk7XG4gICAgYXBwV2luZG93LnNob3coKTtcbiAgICAvLyBUT0RPOiBub3RlIHRoYXQgYGFwcFdpbmRvdy5oYW5kbGVgIGlzIG5vdCBhIFNlcnZpY2VXb3JrZXJcbiAgICAvLyAgIGBXaW5kb3dDbGllbnRgIHBvbHlmaWxsLi4uIGNvdWxkIGJlIGNvbmZ1c2luZyBoZXJlLCBzaG91bGQgd2VcbiAgICAvLyAgIGltcGxlbWVudCBvbmUgdG8gd3JhcCBpdD8gLS0gdGhlcmUgaXMsIGZvciBleGFtcGxlLCBhXG4gICAgLy8gICBgbmF2aWdhdGVgIGNhbGwgb24gYFdpbmRvd0NsaWVudGAgdGhhdCBlbmZvcmNlcyBzYW1lIG9yaWdpbiwgd291bGRcbiAgICAvLyAgIG5lZWQgdG8gYXR0ZW1wdCB0byBhZGQgb3IgYXBwcm94aW1hdGUgdGhhdFxuICAgIHJldHVybiBhcHBXaW5kb3cuaGFuZGxlO1xuICB9XG5cbiAgcmVzcG9uZFdpdGgoaGFuZGxlclJlc3BvbnNlKSB7XG4gICAgLy8gVE9ETzogdGhyb3cgZXhjZXB0aW9uIGlmIGBfcHJvbWlzZWAgaXMgYWxyZWFkeSBzZXRcblxuICAgIC8vIFRPRE86IHZhbGlkYXRlIGhhbmRsZXJSZXNwb25zZVxuICAgIHRoaXMuX3Byb21pc2UgPSBoYW5kbGVyUmVzcG9uc2U7XG4gIH1cbn1cbiIsIi8qIVxuICogQSBDcmVkZW50aWFsSGFuZGxlclNlcnZpY2UgaGFuZGxlcyByZW1vdGUgY2FsbHMgdG8gYSBDcmVkZW50aWFsSGFuZGxlci5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge0NyZWRlbnRpYWxSZXF1ZXN0RXZlbnR9IGZyb20gJy4vQ3JlZGVudGlhbFJlcXVlc3RFdmVudC5qcyc7XG5pbXBvcnQge0NyZWRlbnRpYWxTdG9yZUV2ZW50fSBmcm9tICcuL0NyZWRlbnRpYWxTdG9yZUV2ZW50LmpzJztcblxuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxIYW5kbGVyU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKGNyZWRlbnRpYWxIYW5kbGVyKSB7XG4gICAgdGhpcy5fY3JlZGVudGlhbEhhbmRsZXIgPSBjcmVkZW50aWFsSGFuZGxlcjtcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3QoY3JlZGVudGlhbFJlcXVlc3RFdmVudCkge1xuICAgIC8vIFRPRE86IHZhbGlkYXRlIGNyZWRlbnRpYWxSZXF1ZXN0RXZlbnRcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlZGVudGlhbEhhbmRsZXIuX2VtaXR0ZXIuZW1pdChcbiAgICAgIG5ldyBDcmVkZW50aWFsUmVxdWVzdEV2ZW50KE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtjcmVkZW50aWFsSGFuZGxlcjogdGhpcy5fY3JlZGVudGlhbEhhbmRsZXJ9LCBjcmVkZW50aWFsUmVxdWVzdEV2ZW50KSkpO1xuICB9XG5cbiAgYXN5bmMgc3RvcmUoY3JlZGVudGlhbFN0b3JlRXZlbnQpIHtcbiAgICAvLyBUT0RPOiB2YWxpZGF0ZSBjcmVkZW50aWFsU3RvcmVFdmVudFxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVkZW50aWFsSGFuZGxlci5fZW1pdHRlci5lbWl0KFxuICAgICAgbmV3IENyZWRlbnRpYWxTdG9yZUV2ZW50KE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtjcmVkZW50aWFsSGFuZGxlcjogdGhpcy5fY3JlZGVudGlhbEhhbmRsZXJ9LCBjcmVkZW50aWFsU3RvcmVFdmVudCkpKTtcbiAgfVxufVxuIiwiLyohXG4gKiBUaGUgY29yZSBDcmVkZW50aWFsSGFuZGxlciBjbGFzcy5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuLyogZ2xvYmFsIERPTUV4Y2VwdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyBycGMgZnJvbSAnd2ViLXJlcXVlc3QtcnBjJztcblxuaW1wb3J0IHtDcmVkZW50aWFsSGFuZGxlclNlcnZpY2V9IGZyb20gJy4vQ3JlZGVudGlhbEhhbmRsZXJTZXJ2aWNlLmpzJztcblxuY29uc3QgRVZFTlRfVFlQRVMgPSBbJ2NyZWRlbnRpYWxyZXF1ZXN0JywgJ2NyZWRlbnRpYWxzdG9yZSddO1xuXG5leHBvcnQgY2xhc3MgQ3JlZGVudGlhbEhhbmRsZXIgZXh0ZW5kcyBycGMuV2ViQXBwIHtcbiAgY29uc3RydWN0b3IobWVkaWF0b3JPcmlnaW4pIHtcbiAgICBpZih0eXBlb2YgbWVkaWF0b3JPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm1lZGlhdG9yT3JpZ2luXCIgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICB9XG4gICAgc3VwZXIobWVkaWF0b3JPcmlnaW4pO1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgcnBjLkV2ZW50RW1pdHRlcih7XG4gICAgICBhc3luYyB3YWl0VW50aWwoZXZlbnQpIHtcbiAgICAgICAgLy8gVE9ETzogbWF5IG5lZWQgdG8gZG8gYHRoaXMuaGlkZSgpYCBhZnRlciB0aGlzIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgLy8gICB0byBoYW5kbGUgY2FzZSB3aGVyZSBlLm9wZW5XaW5kb3coKSB3YXMgY2FsbGVkXG4gICAgICAgIHJldHVybiBldmVudC5fcHJvbWlzZSB8fCBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICAgICAgJ05vIFwiY3JlZGVudGlhbHJlcXVlc3RcIiBldmVudCBoYW5kbGVyIGZvdW5kLicsICdOb3RGb3VuZEVycm9yJykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICBjb25zdCBpbmplY3RvciA9IGF3YWl0IHN1cGVyLmNvbm5lY3QoKTtcblxuICAgIC8vIGRlZmluZSBBUEkgdGhhdCBDcmVkZW50aWFsTWVkaWF0b3IgY2FuIGNhbGwgb24gdGhpcyBjcmVkZW50aWFsIGhhbmRsZXJcbiAgICB0aGlzLnNlcnZlci5kZWZpbmUoJ2NyZWRlbnRpYWxIYW5kbGVyJywgbmV3IENyZWRlbnRpYWxIYW5kbGVyU2VydmljZSh0aGlzKSk7XG5cbiAgICAvLyBhdXRvLWNhbGwgYHJlYWR5YFxuICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcblxuICAgIHJldHVybiBpbmplY3RvcjtcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBmbikge1xuICAgIGlmKCFFVkVOVF9UWVBFUy5pbmNsdWRlcyhldmVudFR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICBgVW5zdXBwb3J0ZWQgZXZlbnQgdHlwZSBcIiR7ZXZlbnRUeXBlfVwiYCwgJ05vdFN1cHBvcnRlZEVycm9yJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBmbik7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4pIHtcbiAgICBpZighRVZFTlRfVFlQRVMuaW5jbHVkZXMoZXZlbnRUeXBlKSkge1xuICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgYFVuc3VwcG9ydGVkIGV2ZW50IHR5cGUgXCIke2V2ZW50VHlwZX1cImAsICdOb3RTdXBwb3J0ZWRFcnJvcicpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4pO1xuICB9XG59XG4iLCIvKiFcbiAqIEFQSSBmb3IgbWFuYWdpbmcgQ3JlZGVudGlhbEhpbnRzLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNyBEaWdpdGFsIEJhemFhciwgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG4vKiBnbG9iYWwgSW1hZ2UgKi9cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxIaW50cyB7XG4gIGNvbnN0cnVjdG9yKHVybCwgaW5qZWN0b3IpIHtcbiAgICBjb25zdCByZW1vdGUgPSBpbmplY3Rvci5nZXQoJ2NyZWRlbnRpYWxIaW50cycsIHtcbiAgICAgIGZ1bmN0aW9uczogWydkZWxldGUnLCAnZ2V0JywgJ2tleXMnLCAnaGFzJywgJ3NldCcsICdjbGVhciddXG4gICAgfSk7XG4gICAgZm9yKGxldCBtZXRob2ROYW1lIGluIHJlbW90ZSkge1xuICAgICAgaWYobWV0aG9kTmFtZSAhPT0gJ3NldCcpIHtcbiAgICAgICAgdGhpc1ttZXRob2ROYW1lXSA9IHJlbW90ZVttZXRob2ROYW1lXS5iaW5kKHRoaXMsIHVybCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3JlbW90ZVNldCA9IHJlbW90ZS5zZXQuYmluZCh0aGlzLCB1cmwpO1xuICB9XG5cbiAgYXN5bmMgc2V0KGhpbnRLZXksIGNyZWRlbnRpYWxIaW50KSB7XG4gICAgLy8gVE9ETzogdmFsaWRhdGUgY3JlZGVudGlhbCBoaW50XG5cbiAgICAvLyBlbnN1cmUgaW1hZ2VzIGFyZSBwcmVmZXRjaGVkIHNvIHRoYXQgdGhleSB3aWxsIG5vdCBsZWFrIGluZm9ybWF0aW9uXG4gICAgLy8gd2hlbiBmZXRjaGVkIGxhdGVyXG4gICAgY3JlZGVudGlhbEhpbnQuaWNvbnMgPSBjcmVkZW50aWFsSGludC5pY29ucyB8fCBbXTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGNyZWRlbnRpYWxIaW50Lmljb25zLm1hcChpY29uID0+XG4gICAgICBpbWFnZVRvRGF0YVVybChpY29uLnNyYykudGhlbihmZXRjaGVkSW1hZ2UgPT4ge1xuICAgICAgICBpY29uLmZldGNoZWRJbWFnZSA9IGZldGNoZWRJbWFnZTtcbiAgICAgIH0pKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW90ZVNldChoaW50S2V5LCBjcmVkZW50aWFsSGludCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW1hZ2VUb0RhdGFVcmwodXJsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnQW5vbnltb3VzJztcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgIGNvbnN0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgY2FudmFzID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIFRPRE86IGByZWplY3RgIGFzIGFuIGVycm9yIGFuZCBmYWlsIGAuc2V0YD9cbiAgICBpbWcub25lcnJvciA9ICgpID0+IHJlc29sdmUobnVsbCk7XG4gICAgaW1nLnNyYyA9IHVybDtcbiAgfSk7XG59XG4iLCIvKiFcbiAqIEEgQ3JlZGVudGlhbE1hbmFnZXIgZm9yIGEgV2ViIENyZWRlbnRpYWwgTWVkaWF0b3IuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuLyogZ2xvYmFsIG5hdmlnYXRvciAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge0NyZWRlbnRpYWxIaW50c30gZnJvbSAnLi9DcmVkZW50aWFsSGludHMuanMnO1xuXG5leHBvcnQgY2xhc3MgQ3JlZGVudGlhbE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih1cmwsIGluamVjdG9yKSB7XG4gICAgaWYoISh1cmwgJiYgdHlwZW9mIHVybCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInVybFwiIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLicpO1xuICAgIH1cbiAgICB0aGlzLmhpbnRzID0gbmV3IENyZWRlbnRpYWxIaW50cyh1cmwsIGluamVjdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyB0aGF0IHRoZSB1c2VyIGdyYW50ICdjcmVkZW50aWFsaGFuZGxlcicgcGVybWlzc2lvbiB0byB0aGUgY3VycmVudFxuICAgKiBvcmlnaW4uXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG5ldyBQZXJtaXNzaW9uU3RhdGUgb2YgdGhlXG4gICAqICAgICAgICAgICBwZXJtaXNzaW9uIChlLmcuICdncmFudGVkJy8nZGVuaWVkJykuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgcmVxdWVzdFBlcm1pc3Npb24oKSB7XG4gICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLmNyZWRlbnRpYWxzUG9seWZpbGwucGVybWlzc2lvbnMucmVxdWVzdChcbiAgICAgIHtuYW1lOiAnY3JlZGVudGlhbGhhbmRsZXInfSk7XG4gICAgcmV0dXJuIHN0YXR1cy5zdGF0ZTtcbiAgfVxufVxuIiwiLyohXG4gKiBBIENyZWRlbnRpYWxIYW5kbGVyUmVnaXN0cmF0aW9uIHByb3ZpZGVzIGEgQ3JlZGVudGlhbE1hbmFnZXIgdG8gZW5hYmxlIFdlYlxuICogYXBwcyB0byByZWdpc3RlciBQcm9maWxlcyB0aGF0IGNhbiBiZSBwcmVzZW50ZWQgdG8gd2Vic2l0ZXMuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtDcmVkZW50aWFsTWFuYWdlcn0gZnJvbSAnLi9DcmVkZW50aWFsTWFuYWdlci5qcyc7XG5cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsSGFuZGxlclJlZ2lzdHJhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHVybCwgaW5qZWN0b3IpIHtcbiAgICBpZighKHVybCAmJiB0eXBlb2YgdXJsID09PSAnc3RyaW5nJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widXJsXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7XG4gICAgfVxuICAgIHRoaXMuY3JlZGVudGlhbE1hbmFnZXIgPSBuZXcgQ3JlZGVudGlhbE1hbmFnZXIodXJsLCBpbmplY3Rvcik7XG4gIH1cbn1cbiIsIi8qIVxuICogUHJvdmlkZXMgYW4gQVBJIGZvciB3b3JraW5nIHdpdGggQ3JlZGVudGlhbEhhbmRsZXJSZWdpc3RyYXRpb25zLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtDcmVkZW50aWFsSGFuZGxlclJlZ2lzdHJhdGlvbn1cbiAgZnJvbSAnLi9DcmVkZW50aWFsSGFuZGxlclJlZ2lzdHJhdGlvbi5qcyc7XG5cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsSGFuZGxlcnMge1xuICBjb25zdHJ1Y3RvcihpbmplY3Rvcikge1xuICAgIHRoaXMuX2luaXQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5faW5qZWN0b3IgPSBhd2FpdCBpbmplY3RvcjtcbiAgICAgIHRoaXMuX3JlbW90ZSA9IHRoaXMuX2luamVjdG9yLmdldCgnY3JlZGVudGlhbEhhbmRsZXJzJywge1xuICAgICAgICBmdW5jdGlvbnM6IFtcbiAgICAgICAgICAncmVnaXN0ZXInLCAndW5yZWdpc3RlcicsICdnZXRSZWdpc3RyYXRpb24nLCAnaGFzUmVnaXN0cmF0aW9uJ11cbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgaGFuZGxlciByZWdpc3RyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgdGhlIHVuaXF1ZSBVUkwgZm9yIHRoZSBjcmVkZW50aWFsIGhhbmRsZXIuXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIENyZWRlbnRpYWxIYW5kbGVyUmVnaXN0cmF0aW9uLlxuICAgKi9cbiAgYXN5bmMgcmVnaXN0ZXIodXJsKSB7XG4gICAgYXdhaXQgdGhpcy5faW5pdDtcbiAgICAvLyByZWdpc3RlciB3aXRoIGNyZWRlbnRpYWwgbWVkaWF0b3JcbiAgICB1cmwgPSBhd2FpdCB0aGlzLl9yZW1vdGUucmVnaXN0ZXIoJ2NyZWRlbnRpYWwnLCB1cmwpO1xuICAgIHJldHVybiBuZXcgQ3JlZGVudGlhbEhhbmRsZXJSZWdpc3RyYXRpb24odXJsLCB0aGlzLl9pbmplY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgYSBjcmVkZW50aWFsIGhhbmRsZXIsIGRlc3Ryb3lpbmcgaXRzIHJlZ2lzdHJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVybCB0aGUgdW5pcXVlIFVSTCBmb3IgdGhlIGNyZWRlbnRpYWwgaGFuZGxlci5cbiAgICpcbiAgICogQHJldHVybiBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBgdHJ1ZWAgaWYgdGhlIGhhbmRsZXIgd2FzIHJlZ2lzdGVyZWRcbiAgICogICAgICAgICAgIGFuZCBgZmFsc2VgIGlmIG5vdC5cbiAgICovXG4gIGFzeW5jIHVucmVnaXN0ZXIodXJsKSB7XG4gICAgYXdhaXQgdGhpcy5faW5pdDtcbiAgICAvLyB1bnJlZ2lzdGVyIHdpdGggY3JlZGVudGlhbCBtZWRpYXRvclxuICAgIHJldHVybiB0aGlzLl9yZW1vdGUudW5yZWdpc3RlcignY3JlZGVudGlhbCcsIHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBleGlzdGluZyBjcmVkZW50aWFsIGhhbmRsZXIgcmVnaXN0cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHRoZSBVUkwgZm9yIHRoZSBjcmVkZW50aWFsIGhhbmRsZXIuXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIENyZWRlbnRpYWxIYW5kbGVyUmVnaXN0cmF0aW9uIG9yXG4gICAqICAgICAgICAgICBgbnVsbGAgaWYgbm8gc3VjaCByZWdpc3RyYXRpb24gZXhpc3RzLlxuICAgKi9cbiAgYXN5bmMgZ2V0UmVnaXN0cmF0aW9uKHVybCkge1xuICAgIGF3YWl0IHRoaXMuX2luaXQ7XG4gICAgdXJsID0gYXdhaXQgdGhpcy5fcmVtb3RlLmdldFJlZ2lzdHJhdGlvbignY3JlZGVudGlhbCcsIHVybCk7XG4gICAgaWYoIXVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3JlZGVudGlhbEhhbmRsZXJSZWdpc3RyYXRpb24odXJsLCB0aGlzLl9pbmplY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBjcmVkZW50aWFsIGhhbmRsZXIgaGFzIGJlZW4gcmVnaXN0ZXJlZCBhbmRcbiAgICogZmFsc2UgaWYgbm90LlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHRoZSBVUkwgZm9yIHRoZSBjcmVkZW50aWFsIGhhbmRsZXIuXG4gICAqXG4gICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYHRydWVgIGlmIHRoZSByZWdpc3RyYXRpb24gZXhpc3RzIGFuZFxuICAgKiAgICAgICAgICAgYGZhbHNlYCBpZiBub3QuXG4gICAqL1xuICBhc3luYyBoYXNSZWdpc3RyYXRpb24odXJsKSB7XG4gICAgYXdhaXQgdGhpcy5faW5pdDtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVtb3RlLmhhc1JlZ2lzdHJhdGlvbignY3JlZGVudGlhbCcsIHVybCk7XG4gIH1cbn1cbiIsIi8qIVxuICogQSBXZWJDcmVkZW50aWFsIGlzIGEgQ3JlZGVudGlhbCB0aGF0IGNhbiBiZSByZXRyaWV2ZWQgZnJvbSBvciBzdG9yZWQgYnkgYVxuICogXCJjcmVkZW50aWFsIGhhbmRsZXJcIiB0aGF0IHJ1bnMgaW4gYSB0aGlyZCBwYXJ0eSBXZWIgYXBwbGljYXRpb24uXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMjEgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkNyZWRlbnRpYWwge1xuICBjb25zdHJ1Y3RvcihkYXRhVHlwZSwgZGF0YSwge3JlY29tbWVuZGVkSGFuZGxlck9yaWdpbnMgPSBbXX0gPSB7fSkge1xuICAgIGlmKHR5cGVvZiBkYXRhVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZGF0YVR5cGVcIiBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgIH1cbiAgICB0aGlzLnR5cGUgPSAnd2ViJztcbiAgICB0aGlzLmRhdGFUeXBlID0gZGF0YVR5cGU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7cmVjb21tZW5kZWRIYW5kbGVyT3JpZ2luc307XG4gIH1cbn1cbiIsIi8qIVxuICogV3JhcHBlciBmb3IgbmF0aXZlIENyZWRlbnRpYWxzQ29udGFpbmVyIHRoYXQgdXNlcyByZW1vdGUgQ3JlZGVudGlhbCBNZWRpYXRvclxuICogZm9yIFdlYkNyZWRlbnRpYWwtcmVsYXRlZCBvcGVyYXRpb25zLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IERpZ2l0YWwgQmF6YWFyLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbi8qIGdsb2JhbCBuYXZpZ2F0b3IsIERPTUV4Y2VwdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1dlYkNyZWRlbnRpYWx9IGZyb20gJy4vV2ViQ3JlZGVudGlhbC5qcyc7XG5cbi8vIFJQQyB0aW1lb3V0cywgMCA9IGluZGVmaW5pdGVcbmNvbnN0IENSRURFTlRJQUxfR0VUX1RJTUVPVVQgPSAwO1xuY29uc3QgQ1JFREVOVElBTF9TVE9SRV9USU1FT1VUID0gMDtcblxuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxzQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3IoaW5qZWN0b3IpIHtcbiAgICB0aGlzLl9uYXRpdmVDcmVkZW50aWFsc0NvbnRhaW5lciA9IHtcbiAgICAgIGdldDogbmF2aWdhdG9yLmNyZWRlbnRpYWxzICYmIG5hdmlnYXRvci5jcmVkZW50aWFscy5nZXQgJiZcbiAgICAgICAgbmF2aWdhdG9yLmNyZWRlbnRpYWxzLmdldC5iaW5kKG5hdmlnYXRvci5jcmVkZW50aWFscyksXG4gICAgICBzdG9yZTogbmF2aWdhdG9yLmNyZWRlbnRpYWxzICYmIG5hdmlnYXRvci5jcmVkZW50aWFscy5zdG9yZSAmJlxuICAgICAgICBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuc3RvcmUuYmluZChuYXZpZ2F0b3IuY3JlZGVudGlhbHMpLFxuICAgIH07XG5cbiAgICB0aGlzLl9pbml0ID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuX3JlbW90ZSA9IChhd2FpdCBpbmplY3RvcikuZ2V0KCdjcmVkZW50aWFsc0NvbnRhaW5lcicsIHtcbiAgICAgICAgZnVuY3Rpb25zOiBbXG4gICAgICAgICAge25hbWU6ICdnZXQnLCBvcHRpb25zOiB7dGltZW91dDogQ1JFREVOVElBTF9HRVRfVElNRU9VVH19LFxuICAgICAgICAgIHtuYW1lOiAnc3RvcmUnLCBvcHRpb25zOiB7dGltZW91dDogQ1JFREVOVElBTF9TVE9SRV9USU1FT1VUfX1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGFzeW5jIGdldCgvKkNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucyovIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmKG9wdGlvbnMud2ViKSB7XG4gICAgICBhd2FpdCB0aGlzLl9pbml0O1xuICAgICAgY29uc3QgY3JlZGVudGlhbCA9IGF3YWl0IHRoaXMuX3JlbW90ZS5nZXQob3B0aW9ucyk7XG4gICAgICBpZighY3JlZGVudGlhbCkge1xuICAgICAgICAvLyBubyBjcmVkZW50aWFsIHNlbGVjdGVkXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogdmFsaWRhdGUgY3JlZGVudGlhbFxuICAgICAgcmV0dXJuIG5ldyBXZWJDcmVkZW50aWFsKGNyZWRlbnRpYWwuZGF0YVR5cGUsIGNyZWRlbnRpYWwuZGF0YSk7XG4gICAgfVxuICAgIGlmKHRoaXMuX25hdGl2ZUNyZWRlbnRpYWxzQ29udGFpbmVyLmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUNyZWRlbnRpYWxzQ29udGFpbmVyLmdldChvcHRpb25zKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbignTm90IGltcGxlbWVudGVkLicsICdOb3RTdXBwb3J0ZWRFcnJvcicpO1xuICB9XG5cbiAgYXN5bmMgc3RvcmUoY3JlZGVudGlhbCkge1xuICAgIGlmKGNyZWRlbnRpYWwgaW5zdGFuY2VvZiBXZWJDcmVkZW50aWFsKSB7XG4gICAgICBhd2FpdCB0aGlzLl9pbml0O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fcmVtb3RlLnN0b3JlKGNyZWRlbnRpYWwpO1xuICAgICAgaWYoIXJlc3VsdCkge1xuICAgICAgICAvLyBub3RoaW5nIHN0b3JlZFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IHZhbGlkYXRlIHJlc3VsdFxuICAgICAgcmV0dXJuIG5ldyBXZWJDcmVkZW50aWFsKHJlc3VsdC5kYXRhVHlwZSwgcmVzdWx0LmRhdGEpO1xuICAgIH1cbiAgICBpZih0aGlzLl9uYXRpdmVDcmVkZW50aWFsc0NvbnRhaW5lci5zdG9yZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUNyZWRlbnRpYWxzQ29udGFpbmVyLnN0b3JlKGNyZWRlbnRpYWwpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdOb3QgaW1wbGVtZW50ZWQuJywgJ05vdFN1cHBvcnRlZEVycm9yJyk7XG4gIH1cbn1cbiIsIi8qIVxuICogUHJvdmlkZXMgYW4gQVBJIGZvciB3b3JraW5nIHdpdGggcGVybWlzc2lvbnMuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBSUEMgdGltZW91dHMsIDAgPSBpbmRlZmluaXRlXG5jb25zdCBQRVJNSVNTSU9OX1JFUVVFU1RfVElNRU9VVCA9IDA7XG5cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKGluamVjdG9yKSB7XG4gICAgdGhpcy5faW5pdCA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLl9yZW1vdGUgPSAoYXdhaXQgaW5qZWN0b3IpLmdldCgncGVybWlzc2lvbk1hbmFnZXInLCB7XG4gICAgICAgIGZ1bmN0aW9uczogW1xuICAgICAgICAgICdxdWVyeScsXG4gICAgICAgICAge25hbWU6ICdyZXF1ZXN0Jywgb3B0aW9uczoge3RpbWVvdXQ6IFBFUk1JU1NJT05fUkVRVUVTVF9USU1FT1VUfX0sXG4gICAgICAgICAgJ3Jldm9rZSddXG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9XG5cbiAgYXN5bmMgcXVlcnkocGVybWlzc2lvbkRlc2MpIHtcbiAgICBhd2FpdCB0aGlzLl9pbml0O1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZW1vdGUucXVlcnkocGVybWlzc2lvbkRlc2MpO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdChwZXJtaXNzaW9uRGVzYykge1xuICAgIGF3YWl0IHRoaXMuX2luaXQ7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlbW90ZS5yZXF1ZXN0KHBlcm1pc3Npb25EZXNjKTtcbiAgfVxuXG4gIGFzeW5jIHJldm9rZShwZXJtaXNzaW9uRGVzYykge1xuICAgIGF3YWl0IHRoaXMuX2luaXQ7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlbW90ZS5yZXZva2UocGVybWlzc2lvbkRlc2MpO1xuICB9XG59XG4iLCIvKiFcbiAqIENyZWRlbnRpYWwgSGFuZGxlciBBUEkgUG9seWZpbGwuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMjEgRGlnaXRhbCBCYXphYXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuLyogZ2xvYmFsIG5hdmlnYXRvciwgd2luZG93ICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIHJwYyBmcm9tICd3ZWItcmVxdWVzdC1ycGMnO1xuXG5pbXBvcnQge0NyZWRlbnRpYWxIYW5kbGVyfSBmcm9tICcuL0NyZWRlbnRpYWxIYW5kbGVyLmpzJztcbmltcG9ydCB7Q3JlZGVudGlhbEhhbmRsZXJzfSBmcm9tICcuL0NyZWRlbnRpYWxIYW5kbGVycy5qcyc7XG5pbXBvcnQge0NyZWRlbnRpYWxNYW5hZ2VyfSBmcm9tICcuL0NyZWRlbnRpYWxNYW5hZ2VyLmpzJztcbmltcG9ydCB7Q3JlZGVudGlhbHNDb250YWluZXJ9IGZyb20gJy4vQ3JlZGVudGlhbHNDb250YWluZXIuanMnO1xuaW1wb3J0IHtQZXJtaXNzaW9uTWFuYWdlcn0gZnJvbSAnLi9QZXJtaXNzaW9uTWFuYWdlci5qcyc7XG5pbXBvcnQge1dlYkNyZWRlbnRpYWx9IGZyb20gJy4vV2ViQ3JlZGVudGlhbC5qcyc7XG5cbmNvbnN0IERFRkFVTFRfTUVESUFUT1IgPSAnaHR0cHM6Ly9hdXRobi5pby9tZWRpYXRvcicgKyAnP29yaWdpbj0nICtcbiAgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuXG4vLyBleHBvcnQgY2xhc3NlcyBmb3IgdGVzdGluZy9UeXBlU2NyaXB0XG5leHBvcnQge1xuICBDcmVkZW50aWFsSGFuZGxlcixcbiAgQ3JlZGVudGlhbE1hbmFnZXIsXG4gIFdlYkNyZWRlbnRpYWxcbn07XG5cbmxldCBsb2FkZWQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZE9uY2UobWVkaWF0b3JVcmwgPSBERUZBVUxUX01FRElBVE9SKSB7XG4gIGlmKGxvYWRlZCkge1xuICAgIHJldHVybiBsb2FkZWQ7XG4gIH1cblxuICBsb2FkZWQgPSB0cnVlO1xuICByZXR1cm4gbG9hZChtZWRpYXRvclVybCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKG1lZGlhdG9yVXJsID0gREVGQVVMVF9NRURJQVRPUikge1xuICBjb25zdCBhcHBDb250ZXh0ID0gbmV3IHJwYy5XZWJBcHBDb250ZXh0KCk7XG4gIGNvbnN0IGluamVjdG9yID0gYXBwQ29udGV4dC5jcmVhdGVXaW5kb3cobWVkaWF0b3JVcmwsIHtcbiAgICBjbGFzc05hbWU6ICdjcmVkZW50aWFsLW1lZGlhdG9yJyxcbiAgICAvLyAzMCBzZWNvbmQgdGltZW91dCBmb3IgbG9hZGluZyB0aGUgbWVkaWF0b3JcbiAgICB0aW1lb3V0OiAzMDAwMFxuICB9KTtcbiAgLy8gZW5zdXJlIGJhY2tkcm9wIGlzIHRyYW5zcGFyZW50IGJ5IGRlZmF1bHRcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICBgZGlhbG9nLndlYi1hcHAtd2luZG93LmNyZWRlbnRpYWwtbWVkaWF0b3IgPiAud2ViLWFwcC13aW5kb3ctYmFja2Ryb3Age1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgICB9YCkpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICBjb25zdCBwb2x5ZmlsbCA9IHt9O1xuXG4gIC8vIFRPRE86IG9ubHkgZXhwb3NlIGNlcnRhaW4gQVBJcyB3aGVuIGFwcHJvcHJpYXRlXG4gIHBvbHlmaWxsLnBlcm1pc3Npb25zID0gbmV3IFBlcm1pc3Npb25NYW5hZ2VyKGluamVjdG9yKTtcbiAgcG9seWZpbGwuQ3JlZGVudGlhbEhhbmRsZXJzID0gbmV3IENyZWRlbnRpYWxIYW5kbGVycyhpbmplY3Rvcik7XG4gIHBvbHlmaWxsLkNyZWRlbnRpYWxIYW5kbGVyID0gQ3JlZGVudGlhbEhhbmRsZXI7XG4gIHBvbHlmaWxsLkNyZWRlbnRpYWxNYW5hZ2VyID0gQ3JlZGVudGlhbE1hbmFnZXI7XG4gIHBvbHlmaWxsLmNyZWRlbnRpYWxzID0gbmV3IENyZWRlbnRpYWxzQ29udGFpbmVyKGluamVjdG9yKTtcbiAgcG9seWZpbGwuV2ViQ3JlZGVudGlhbCA9IFdlYkNyZWRlbnRpYWw7XG5cbiAgLy8gZXhwb3NlIHBvbHlmaWxsXG4gIG5hdmlnYXRvci5jcmVkZW50aWFsc1BvbHlmaWxsID0gcG9seWZpbGw7XG5cbiAgLy8gcG9seWZpbGxcbiAgaWYoJ2NyZWRlbnRpYWxzJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuZ2V0ID0gcG9seWZpbGwuY3JlZGVudGlhbHMuZ2V0LmJpbmQoXG4gICAgICBwb2x5ZmlsbC5jcmVkZW50aWFscyk7XG4gICAgbmF2aWdhdG9yLmNyZWRlbnRpYWxzLnN0b3JlID0gcG9seWZpbGwuY3JlZGVudGlhbHMuc3RvcmUuYmluZChcbiAgICAgIHBvbHlmaWxsLmNyZWRlbnRpYWxzKTtcbiAgfSBlbHNlIHtcbiAgICBuYXZpZ2F0b3IuY3JlZGVudGlhbHMgPSBwb2x5ZmlsbC5jcmVkZW50aWFscztcbiAgfVxuICB3aW5kb3cuQ3JlZGVudGlhbE1hbmFnZXIgPSBDcmVkZW50aWFsTWFuYWdlcjtcbiAgd2luZG93LldlYkNyZWRlbnRpYWwgPSBXZWJDcmVkZW50aWFsO1xuXG4gIHJldHVybiBwb2x5ZmlsbDtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdC5mb3J3YXJkUmVmIiwiUmVhY3QuY3JlYXRlRWxlbWVudCIsInV0aWxzLnBhcnNlVXJsIiwidXRpbHMuY3JlYXRlTWVzc2FnZUxpc3RlbmVyIiwidXRpbHMuZGVzZXJpYWxpemVFcnJvciIsInV0aWxzLnV1aWR2NCIsInV0aWxzLmlzSGFuZGxlUHJvbWlzZSIsInV0aWxzLmRlc3RydWN0dXJlTWV0aG9kTmFtZSIsInV0aWxzLnNlcmlhbGl6ZUVycm9yIiwidXRpbHMuUlBDX0VSUk9SUyIsInJwYy5XZWJBcHBXaW5kb3ciLCJycGMuV2ViQXBwIiwicnBjLkV2ZW50RW1pdHRl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
