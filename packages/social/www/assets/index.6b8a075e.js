import{A as $t}from"./AuthService.e8999ddc.js";import{r,R as e,u as Y,g as Dt}from"./vendor.475cb2ff.js";import{u as Z,a as _,P as Ot,b as Lt,c as zt,d as A,e as qe,f as Ue,g as qt,p as Xe,C as He,h as Ge,i as Ve,j as Ut}from"./_app.f0a72417.js";import{C as de,a as Xt}from"./CreatorService.46518bb7.js";import{W as Ye}from"./WebxrNativeService.bf3f0be0.js";import{s as $}from"./index.module.bb0750b5.js";import{A as Ht}from"./index.07b783b7.js";import{d as Gt,C as Vt}from"./index.301f4863.js";import{c as Ee,i as X,a as Q}from"./createSvgIcon.57924123.js";import{P as E}from"./PopupsStateService.a3af5f05.js";import{C as Ze,a as Qe}from"./CardContent.1f497982.js";import{C as me}from"./CardMedia.b80c1774.js";import{A as Yt}from"./Avatar.7391d47d.js";import{T as D}from"./Typography.19cbe78d.js";import{d as Zt,a as Je,F as Qt}from"./index.3f644741.js";import{T as Jt,a as Kt}from"./TheFeedsService.9620790e.js";import{d as er,F as tr}from"./index.8b1cb91a.js";import{A as Ce}from"./AlertService.5d8abaff.js";import{c as Se}from"./feathers.32f4d4e8.js";import{F as Ke}from"./FeedService.76ef4a42.js";import{B as P}from"./Button.a7dce846.js";import{A as J,X as k}from"./index.e9ab7b95.js";import{C as rr}from"./index.b93ee66e.js";import{S as et,m as ar}from"./Slide.a5edb72c.js";import{D as tt}from"./Dialog.016d78d4.js";import{D as or}from"./DialogTitle.30786a4b.js";import{C as sr}from"./index.81a70c71.js";import{d as nr}from"./ArrowBackIos.d81b172a.js";import{A as be,_ as xe,d as cr,r as ir,o as lr,a as ur}from"./index.c1f5a49b.js";import{P as dr,F as mr}from"./index.51d3e235.js";import{S as pr}from"./index.4ce46cdd.js";import{B as fr}from"./Box.03b1797a.js";import{S as rt}from"./index.7b02be28.js";import{Q as vr,V as hr,S as _r,G as gr,P as Er,W as Cr,s as Sr}from"./three.module.493739a3.js";import br from"./Player.1091a6aa.js";import xr from"./workerFunction.efd6a346.js";import Fr from"./terms.345e1479.js";import yr from"./policy.430946f1.js";import"./avatarFunctions.6d66cf01.js";import"./upload.bd537b46.js";import"./capitalize.fc001633.js";import"./IconButton.ce216bbb.js";import"./ButtonBase.fb193a96.js";import"./Modal.58912532.js";import"./ownerWindow.3d7152ce.js";import"./createSvgIcon.896642b4.js";import"./useControlled.8dca0ac1.js";import"./Grid.07f86457.js";import"./TextField.6a51581a.js";import"./Input.1feafe2f.js";import"./useFormControl.a2039fae.js";import"./InputLabel.f59c7db7.js";import"./Select.d94966eb.js";import"./List.bc139f02.js";import"./Snackbar.6d62c301.js";import"./Alert.94d06d4f.js";import"./index.eadf06b5.js";import"./DialogContentText.58aee466.js";import"./Backdrop.724616ec.js";import"./styled.00afe216.js";import"./createStyles.1d8ebf67.js";import"./index.d8244ba1.js";import"./index.81138b53.js";import"./index.ebe70c7a.js";import"./Paragraph.b674cc44.js";const pe=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;var Fe={},wr=X.exports,kr=Q.exports;Object.defineProperty(Fe,"__esModule",{value:!0});var at=Fe.default=void 0,Nr=kr(r.exports),Ir=wr(Ee),Pr=(0,Ir.default)(Nr.createElement("path",{d:"M12 2c-4.97 0-9 4.03-9 9 0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11c0-4.97-4.03-9-9-9zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.3c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"PersonPin");at=Fe.default=Pr;const Rr="_creatorContainer_1mzwg_1",Tr="_creatorItem_1mzwg_18",Br="_previewImage_1mzwg_21",Mr="_avatarPlaceholder_1mzwg_28",jr="_titleContainer_1mzwg_31",Ar="_usernameContainer_1mzwg_36";var O={creatorContainer:Rr,creatorItem:Tr,previewImage:Br,avatarPlaceholder:Mr,titleContainer:jr,usernameContainer:Ar};const Wr=o=>{const t=Z(),a=_();r.exports.useEffect(()=>{a(de.getCreators())},[]);const s=t.creators.creators?.value&&t.creators.fetchingCreators?.value===!1?t.creators.creators.value:null,n=c=>{a(E.updateCreatorPageState(!1)),a(E.updateCreatorPageState(!0,c))},i=t.creators.currentCreator?.id?.value;r.exports.useEffect(()=>{a(de.getBlockedList(i))},[]);const u=t?.creators?.blocked.value;return e.createElement("section",{className:O.creatorContainer},s&&u&&s.length>0&&s?.filter(c=>c.isBlocked<1).map((c,d)=>e.createElement(Ze,{className:O.creatorItem,elevation:0,key:d,onClick:()=>n(c.id)},c.avatar?e.createElement(me,{className:O.previewImage,image:c.avatar||e.createElement(at,null),title:c.name}):e.createElement("section",{className:O.previewImage},e.createElement(Yt,{className:O.avatarPlaceholder})),e.createElement(Qe,null,e.createElement(D,{className:O.titleContainer},c.name,c.verified===1&&e.createElement(Gt,{htmlColor:"#007AFF",style:{fontSize:"13px",margin:"0 0 0 5px"}})),e.createElement(D,{className:O.usernameContainer},c.username)))))},ye={getTheFeedsFires:(o,t)=>async(a,s)=>{try{const n=await Se.service("thefeeds-fires").find({query:{thefeedsId:o}});t(n)}catch(n){console.log(n),Ce.dispatchAlertError(a,n.message)}},addFireToTheFeeds:o=>async t=>{try{const s={id:(await Se.service("thefeeds-fires").create({thefeedsId:o})).creatorId};t(addTheFeedsFire(s))}catch(a){console.log(a),Ce.dispatchAlertError(t,a.message)}},removeFireToTheFeeds:o=>async t=>{try{await Se.service("thefeeds-fires").remove(o),t(Jt.removeTheFeedsFire(o))}catch(a){console.log(a),Ce.dispatchAlertError(t,a.message)}}},$r="_tipItem_160j6_1",Dr="_previewImage_160j6_6",Or="_eyeLine_160j6_12",Lr="_cardContent_160j6_27",zr="_iconsContainer_160j6_33",qr="_titleContainer_160j6_38",Ur="_flamesCount_160j6_42",Xr="_cartText_160j6_46";var R={tipItem:$r,previewImage:Dr,eyeLine:Or,cardContent:Lr,iconsContainer:zr,titleContainer:qr,flamesCount:Ur,cartText:Xr};const{Share:Hr}=Ot,Gr=o=>{r.exports.useState(!1);const[t,a]=r.exports.useState(!1),{feed:s}=o,[n,i]=r.exports.useState(s.fires),u=_(),[c,d]=r.exports.useState(null),b=F=>{u(ye.addFireToTheFeeds(F)),i(n+1),a(!0)},p=F=>{u(ye.removeFireToTheFeeds(F)),i(n-1),a(!1)};r.exports.useEffect(()=>{u(ye.getTheFeedsFires(s.id,d))},[]);const{t:C}=Y(),h=()=>{Hr.share({title:C("social:shareForm.arcMedia"),text:C("social:shareForm.videoCreated"),url:encodeURI(s.videoUrl),dialogTitle:C("social:shareForm.shareWithBuddies")})},x=Z().creators.currentCreator?.id?.value;return r.exports.useEffect(()=>{a(!!c?.data.find(F=>F.id===x))},[c]),s?e.createElement(e.Fragment,null,e.createElement(Ze,{className:R.tipItem,square:!1,elevation:0,key:s.id},s.videoUrl?e.createElement(me,{className:R.previewImage,component:"video",src:s.videoUrl,title:s.title,controls:!0}):"",e.createElement("span",{className:R.eyeLine},s.viewsCount,e.createElement(Zt,{style:{fontSize:"16px"}})),e.createElement(Qe,{className:R.cardContent},e.createElement("section",{className:R.iconsContainer},e.createElement(D,{className:R.titleContainer,gutterBottom:!0,variant:"h4"},s.title),e.createElement(Vt,{creator:s.creator}),e.createElement("section",{className:R.iconSubContainer},t?e.createElement(Je,{className:R.fireIcon,htmlColor:"#FF6201",onClick:()=>p(s.id)}):e.createElement(Je,{className:R.fireIcon,htmlColor:"#DDDDDD",onClick:()=>b(s.id)}),e.createElement(er,{onClick:h}))),e.createElement(D,{variant:"subtitle2"},n," flames"),e.createElement(D,{className:R.cartText,variant:"h6"},s.description)))):e.createElement(e.Fragment,null)},Vr="_theFeedItem_m1i9m_1",Yr="_thefeedContainer_m1i9m_6",Zr="_fireIcon_m1i9m_11",Qr="_noContent_m1i9m_15";var ot={theFeedItem:Vr,thefeedContainer:Yr,fireIcon:Zr,noContent:Qr};const Jr=o=>{const t=_();r.exports.useEffect(()=>{t(Kt.getTheFeedsNew())},[]);const s=Lt()?.thefeeds?.value||[];return e.createElement("section",{className:ot.thefeedContainer},s&&s.length>0?s.map((n,i)=>e.createElement(Gr,{key:i,feed:n})):e.createElement("p",{className:ot.noContent},"Coming soon..."))},Kr="_feedMenuContainer_v4zby_1",ea="_subWrapper_v4zby_7",ta="_feedMenu_v4zby_1",ra="_active_v4zby_51",aa="_featuredButton_v4zby_54",oa="_creatorsButton_v4zby_57",sa="_thefeedButton_v4zby_60",na="_tipsandtricksButton_v4zby_63",ca="_content_v4zby_67";var w={feedMenuContainer:Kr,subWrapper:ea,feedMenu:ta,active:ra,featuredButton:aa,creatorsButton:oa,thefeedButton:sa,tipsandtricksButton:na,content:ca};const ia=({view:o,setView:t})=>{const a=r.exports.useRef(),s=r.exports.useRef(),n=r.exports.useRef(),i=r.exports.useRef(),u=r.exports.useRef(),{t:c}=Y(),d=_(),b=zt();r.exports.useEffect(()=>{d(Ke.getFeeds("featured"))},[]);const p=40,C=F=>{t(F);let M=0;switch(F){case"creators":M=n.current.offsetLeft-p;break;case"thefeed":M=i.current.offsetLeft-p;break;case"tipsandtricks":M=u.current.offsetLeft-p;break;default:M=0;break}a.current.scrollTo({left:M,behavior:"smooth"})};let h=null;switch(o){case"creators":h=e.createElement(Wr,null);break;case"thefeed":h=e.createElement(Jr,null);break;default:h=e.createElement(Qt,{thisData:b.feeds.feedsFeatured.value});break}const x={featured:[w.featuredButton,o==="featured"&&w.active],creators:[w.creatorsButton,o==="creators"&&w.active],thefeed:[w.thefeedButton,o==="thefeed"&&w.active],tipsandtricks:[w.tipsandtricksButton,o==="tipsandtricks"&&w.active]};return e.createElement(e.Fragment,null,e.createElement("nav",{className:w.feedMenuContainer},e.createElement("section",{className:w.subWrapper,ref:a},e.createElement("section",{className:w.feedMenu},e.createElement(P,{ref:s,variant:"contained",className:x.featured.join(" "),onClick:()=>C("featured")},c("social:feedMenu.featured")),e.createElement(P,{ref:n,variant:"contained",className:x.creators.join(" "),onClick:()=>C("creators")},c("social:feedMenu.creators"))))),e.createElement("section",{className:w.content},h))},la=e.forwardRef((o,t)=>e.createElement(et,{direction:"up",ref:t,...o})),K=o=>{const{children:t,open:a,onClose:s,title:n,className:i}=o;return e.createElement(tt,{open:a,TransitionComponent:la,keepMounted:!0,onClose:s,className:i,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},n&&e.createElement(or,{id:"alert-dialog-slide-title"},n),t)},ua="_creatorPopup_18hmn_1";var da={creatorPopup:ua};const ma=({webxrRecorderActivity:o,setView:t})=>{const a=A(),s=_(),n=()=>{s(E.updateCreatorPageState(!1))},i=()=>a?.popups?.creatorPage?.value===!0&&a?.popups?.creatorId?.value&&!o&&e.createElement(K,{open:a?.popups?.creatorPage?.value,onClose:n,className:da.creatorPopup},e.createElement(rr,{creatorId:a?.popups?.creatorId?.value}),e.createElement(J,{setView:t}));return r.exports.useEffect(()=>{i()},[a?.popups?.creatorPage?.value,a?.popups?.creatorId?.value]),i()},pa="_isIos_1iqvw_1",fa="_feedPageIosWrapper_1iqvw_4",va="_feedPagePopup_1iqvw_9";var we={isIos:pa,feedPageIosWrapper:fa,feedPagePopup:va};const ha=({webxrRecorderActivity:o,setView:t})=>{const a=A(),s=pe?we.isIos:"",n=_(),i=()=>{n(E.updateFeedPageState(!1))},u=()=>a?.popups?.feedPage?.value===!0&&!o&&e.createElement(K,{open:a?.popups?.feedPage?.value,onClose:i,className:we.feedPagePopup+" "+s},e.createElement("div",{className:we.feedPageIosWrapper},e.createElement(tr,null),e.createElement(J,{setView:t})));return r.exports.useEffect(()=>{u()},[a?.popups?.feedPage?.value,a?.popups?.feedId?.value]),u()},_a="_isIos_sl85y_1",ga="_creatorFormPopup_sl85y_6";var st={isIos:_a,creatorFormPopup:ga};const Ea=({webxrRecorderActivity:o,setView:t})=>{const a=_(),s=A(),n=()=>{a(E.updateCreatorFormState(!1))},i=pe?st.isIos:"",u=()=>s?.popups?.creatorForm?.value===!0&&!o&&e.createElement(K,{open:s?.popups?.creatorForm?.value,onClose:n,className:st.creatorFormPopup+" "+i},e.createElement(sr,null),e.createElement(J,{setView:t}));return r.exports.useEffect(()=>{u()},[s?.popups.creatorForm.value]),u()},Ca="_arMediaContainer_1cnq4_1",Sa="_switcher_1cnq4_1",ba="_switchButton_1cnq4_8",xa="_active_1cnq4_17",Fa="_flexContainer_1cnq4_20",ya="_previewImageContainer_1cnq4_24",wa="_previewImage_1cnq4_24",ka="_textC_1cnq4_39",Na="_backButton_1cnq4_42",Ia="_startRecirding_1cnq4_48";var T={arMediaContainer:Ca,switcher:Sa,switchButton:ba,active:xa,flexContainer:Fa,previewImageContainer:ya,previewImage:wa,textC:ka,backButton:Na,startRecirding:Ia};const Pa=o=>{const[t,a]=r.exports.useState("clip"),[s,n]=r.exports.useState([]),[i,u]=r.exports.useState(!1),[c,d]=r.exports.useState(null),b=qe();r.exports.useEffect(()=>{C(be.getArMedia())},[]);const{t:p}=Y();Ue();const C=_();return r.exports.useEffect(()=>{b.fetching.value===!1&&n(b?.list?.value?.filter(h=>h.type===t)||[])},[b.fetching.value,t]),e.createElement("section",{className:T.arMediaContainer},i&&e.createElement(dr,{text:"Loading..."}),e.createElement(P,{variant:"text",className:T.backButton,onClick:()=>{C(E.updateArMediaState(!1))}},e.createElement(nr,null),p("social:arMedia.back")),e.createElement("section",{className:T.switcher},e.createElement(P,{variant:t==="clip"?"contained":"text",className:T.switchButton+(t==="clip"?" "+T.active:""),onClick:()=>a("clip")},p("social:arMedia.clip"))),e.createElement("section",{className:T.flexContainer},s.map((h,x)=>e.createElement("section",{key:h.id,className:T.previewImageContainer},e.createElement(me,{onClick:()=>d(h),className:T.previewImage,image:h.previewUrl}),e.createElement(D,null,h.title)))),t=="background"?e.createElement("text",{className:T.textC},"Coming soon ..."):" ",c?e.createElement(P,{className:T.startRecirding,onClick:async()=>{u(!0),k.uploadFiles!==void 0&&await k.uploadFiles({audioPath:c.audioUrl,audioId:c.audioId}),u(!1),C(E.updateArMediaState(!1)),C(E.updateWebXRState(!0,c.id))},variant:"contained"},p("social:arMedia.start")):null)},Ra="_arMediaPopup_1sxy7_1";var Ta={arMediaPopup:Ra};const Ba=o=>{const t=A(),a=_(),s=()=>{a(E.updateArMediaState(!1))},n=()=>t?.popups.arMedia?.value===!0&&e.createElement(K,{open:t?.popups.arMedia?.value,onClose:s,className:Ta.arMediaPopup},e.createElement(Pa,null));return r.exports.useEffect(()=>{n()},[t?.popups?.arMedia?.value]),n()},Ma=({setView:o})=>{_();const t=A(),a=()=>t.popups.shareFeedPage?.value===!0&&e.createElement(mr,null);return r.exports.useEffect(()=>{a()},[t.popups.shareFeedPage.value]),a()},ja="_shareFormContainer_1cvkg_1",Aa="_btnAction_1cvkg_7",Wa="_btnDisableAction_1cvkg_12",$a="_media_1cvkg_15";var ke={shareFormContainer:ja,btnAction:Aa,btnDisableAction:Wa,media:$a};const Da=ar({root:{maxWidth:"375pt"},media:{height:"340pt",width:"375pt"},btn_share:{backgroundColor:"black",color:"white",bottom:"0",width:"100%",borderRadius:"12px","&:hover":{backgroundColor:"black",color:"white"}}}),Oa=o=>{const t=A(),a=t.popups.videoUrl?.value,s=t.popups.imgSrc?.value,n=Da(),{t:i}=Y(),u=_(),c=()=>{u(E.updateShareFormState(!1)),u(E.updateNewFeedPageState(!1))},d=()=>{pr.share({title:i("social:shareForm.arcMedia"),text:i("social:shareForm.videoCreated"),url:encodeURI(a),dialogTitle:i("social:shareForm.shareWithBuddies")})};return r.exports.useEffect(()=>{console.log("previewUrlpreviewUrl",s)}),e.createElement("div",{className:ke.shareFormContainer},e.createElement(fr,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"45vh"},e.createElement(me,{className:n.media+" "+ke.media,component:"img",alt:"Contemplative Reptile",src:s,title:"Arc",style:{maxWidth:"calc(100% - 36pt)",maxHeight:"40vh"}})),e.createElement(P,{size:"large",color:"primary",onClick:d,className:n.btn_share},i("social:shareForm.shareVideo")),e.createElement(P,{size:"large",color:"primary",onClick:()=>{c()},className:ke.btnDisableAction},i("social:shareForm.close")))},La="_shareFormPopup_2fj50_1",za="_popUpFooter_2fj50_14";var nt={shareFormPopup:La,popUpFooter:za};const qa=({setView:o})=>{const t=_(),a=A(),s=()=>{t(E.updateShareFormState(!1))},n=()=>a?.popups?.shareForm?.value===!0&&e.createElement(K,{open:a?.popups.shareForm.value,onClose:s,className:nt.shareFormPopup},e.createElement(Oa,null),e.createElement("div",{className:nt.popUpFooter},e.createElement(J,{setView:o})));return r.exports.useEffect(()=>{n()},[a?.popups.shareForm?.value]),n()},Ua="_styleLink_1yeto_1",Xa="_mainBlock_1yeto_6",Ha="_bottomBox_1yeto_10",Ga="_popup_1yeto_23",Va="_media_1yeto_30",Ya="_media2_1yeto_41",Za="_title_1yeto_53",Qa="_box_1yeto_71",Ja="_btn_start_1yeto_74",Ka="_btn_cancel_1yeto_84",eo="_dialogWindow_1yeto_136",to="_horizontalMode_1yeto_142",ro="_ldsring_1yeto_1";var Ne={styleLink:Ua,mainBlock:Xa,bottomBox:Ha,popup:Ga,media:Va,media2:Ya,title:Za,box:Qa,btn_start:Ja,btn_cancel:Ka,dialogWindow:eo,horizontalMode:to,ldsring:ro},ee={},ao=Dt(qt),te={},ct=X.exports;Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var oo=ct(xe.exports),so=ir,no=ct(cr);function co(o,t){return(0,so.withStyles)(o,(0,oo.default)({defaultTheme:no.default},t))}var io=co;te.default=io;var lo=Q.exports,re=X.exports;Object.defineProperty(ee,"__esModule",{value:!0});var it=ee.default=ee.styles=void 0,uo=re(xe.exports),mo=re(lr.exports),lt=lo(r.exports);re(Xe.exports);var po=re(ao),fo=re(te),ut=function(t){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}}};ee.styles=ut;var vo=lt.forwardRef(function(t,a){var s=t.classes,n=t.className,i=t.dividers,u=i===void 0?!1:i,c=(0,mo.default)(t,["classes","className","dividers"]);return lt.createElement("div",(0,uo.default)({className:(0,po.default)(s.root,n,u&&s.dividers),ref:a},c))}),ho=(0,fo.default)(ut,{name:"MuiDialogContent"})(vo);it=ee.default=ho;var ae={},_o=Q.exports,fe=X.exports;Object.defineProperty(ae,"__esModule",{value:!0});var dt=ae.default=ae.styles=void 0,go=fe(xe.exports),mt=_o(r.exports);fe(Xe.exports);var Eo=fe(te),Co=fe(ur),pt={root:{marginBottom:12}};ae.styles=pt;var So=mt.forwardRef(function(t,a){return mt.createElement(Co.default,(0,go.default)({component:"p",variant:"body1",color:"textSecondary",ref:a},t))}),bo=(0,Eo.default)(pt,{name:"MuiDialogContentText"})(So);dt=ae.default=bo;const xo=e.forwardRef((o,t)=>e.createElement(et,{direction:"up",ref:t,...o})),Fo=({setView:o})=>{const t=Z(),a=t.creators.currentCreator.value,s=_(),[n,i]=r.exports.useState(!a.terms),[u,c]=r.exports.useState(a.terms?!a.policy:!1);Y(),r.exports.useState(!1),r.exports.useState(!1);const d=()=>{i(!1),c(!1),s(de.updateCreator({id:t.creators.currentCreator?.id?.value,terms:!0,policy:!0,name:t.creators.currentCreator?.name?.value}))};return e.createElement("div",{className:Ne.mainBlock},e.createElement(tt,{open:n,TransitionComponent:xo,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:Ne.dialogWindow,PaperProps:{style:{width:"100%",maxWidth:"100%",height:"max-content",borderRadius:"12px"}}},e.createElement(it,null,e.createElement(dt,null,e.createElement(D,{align:"center",variant:"subtitle1"},'By tapping "I agree to Terms of Service and Policy of Service", you agree to our ',e.createElement(P,{style:{padding:"0"},onClick:()=>{o("terms")}},e.createElement("b",null,"Terms of Service"))," and acknowledge that you have our ",e.createElement(P,{style:{padding:"0"},onClick:()=>{o("policy")}},e.createElement("b",null,"Privacy Policy"))," to learn how we collect, use, and share your data."))),e.createElement("div",{className:Ne.bottomBox},e.createElement("div",null,e.createElement(P,{variant:"contained",onClick:d},"Agree and continue")))))},yo="_wrap_1rles_1",wo="_container_1rles_12",ko="_mail_1rles_45";var Ie={wrap:yo,container:wo,mail:ko};const No=()=>e.createElement("div",{className:Ie.wrap},e.createElement("div",{className:Ie.container},e.createElement("p",null,"You have been temporarily blocked pending further review"),e.createElement("p",null,"Please contact support with any questions"),e.createElement("hr",null),e.createElement("div",{className:Ie.mail},e.createElement("a",{href:"mailto:info@arcmedia.us"},"info@arcmedia.us"))));var Pe={},Io=X.exports,Po=Q.exports;Object.defineProperty(Pe,"__esModule",{value:!0});var ft=Pe.default=void 0,Ro=Po(r.exports),To=Io(Ee),Bo=(0,To.default)(Ro.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");ft=Pe.default=Bo;var Re={},Mo=X.exports,jo=Q.exports;Object.defineProperty(Re,"__esModule",{value:!0});var vt=Re.default=void 0,Ao=jo(r.exports),Wo=Mo(Ee),$o=(0,Wo.default)(Ao.createElement("path",{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5H5l2.5-2.5L10 13H8c0 2.21 1.79 4 4 4 .58 0 1.13-.13 1.62-.35l.74.74c-.71.37-1.5.61-2.36.61zm4.5-2.5L14 13h2c0-2.21-1.79-4-4-4-.58 0-1.13.13-1.62.35l-.74-.73C10.35 8.24 11.14 8 12 8c2.76 0 5 2.24 5 5h2l-2.5 2.5z"}),"FlipCameraIos");vt=Re.default=$o;const Do="_waterMarkWrapper_11g2p_1",Oo="_waterMark_11g2p_1",Lo="_subContainer_11g2p_19",zo="_startButtonWrapper_11g2p_28",qo="_stopButtonWrapper_11g2p_29",Uo="_startButton_11g2p_28",Xo="_stopButton_11g2p_29",Ho="_flipCamera_11g2p_69",Go="_changeOrientation_11g2p_84",Vo="_closeButtonWrapper_11g2p_99",Yo="_closeButton_11g2p_99",Zo="_horizontalOrientation_11g2p_116",Qo="_hideButtons_11g2p_147";var B={waterMarkWrapper:Do,waterMark:Oo,subContainer:Lo,startButtonWrapper:zo,stopButtonWrapper:qo,startButton:Uo,stopButton:Xo,flipCamera:Ho,changeOrientation:Go,closeButtonWrapper:Vo,closeButton:Yo,horizontalOrientation:Zo,hideButtons:Qo};const Jo="_hideButtons_k86sc_1",Ko="_waterMarkWrapper_k86sc_4",es="_startButtonWrapper_k86sc_7",ts="_stopButtonWrapper_k86sc_8",rs="_hintOne_k86sc_15",as="_onboarding_k86sc_15",os="_skip_k86sc_29",ss="_mobImage_k86sc_38",ns="_hintButtonTwo_k86sc_79",cs="_offsetImg_k86sc_82",is="_loadingFrame_k86sc_89",ls="_circle_k86sc_95",us="_animate_k86sc_1",ds="_firstScreen_k86sc_150",ms="_relativeImage_k86sc_158",ps="_secondScreen_k86sc_162",fs="_thirdScreen_k86sc_168",vs="_relativePointer_k86sc_175",hs="_hintTwo_k86sc_192";var l={hideButtons:Jo,waterMarkWrapper:Ko,startButtonWrapper:es,stopButtonWrapper:ts,hintOne:rs,onboarding:as,skip:os,mobImage:ss,hintButtonTwo:ns,offsetImg:cs,loadingFrame:is,circle:ls,animate:us,firstScreen:ds,relativeImage:ms,secondScreen:ps,thirdScreen:fs,relativePointer:vs,hintTwo:hs};const _s=({hintOneShow:o})=>e.createElement("div",{className:l.hintOne},e.createElement("div",{className:l.thirdScreen+" "+l.onboarding},e.createElement("div",{className:l.relativeImage},e.createElement("img",{src:"/assets/feedOnboarding/camera.png",className:l.mobImage}),e.createElement("div",{className:l.relativePointer},e.createElement("ul",{className:l.loadingFrame},e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle})),e.createElement("p",{className:l.offsetImg},"Tap the screen to lock me in place."))),e.createElement("button",{type:"button",onClick:()=>{o(!1)}}," ","Got it!"," "))),gs=({hintTwoShow:o})=>e.createElement("div",{className:`${l.hintOne} ${l.hintTwo}`},e.createElement("div",{className:l.thirdScreen+" "+l.onboarding},e.createElement("div",{className:l.relativeImage},e.createElement("div",{className:l.relativePointer},e.createElement("ul",{className:l.loadingFrame+" "+l.hintButtonTwo},e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle}),e.createElement("div",{className:l.circle})),e.createElement("p",{className:l.offsetImg},"Hit record to start the performance."))),e.createElement("button",{type:"button",onClick:()=>{o(!1)}}," ","Got it!"," ")));class Es{element;callback;previousGestureDistance=0;scale=1;constructor(t,a){this.element=t,this.callback=a,this.element.addEventListener("touchstart",this.onTouchStart)}dispose(){this.element.removeEventListener("touchstart",this.onTouchStart),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchmove",this.onTouchMove)}onTouchStart=t=>{t.touches.length===2&&(this.previousGestureDistance=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchmove",this.onTouchMove))};onTouchEnd=()=>{this.element.removeEventListener("touchmove",this.onTouchMove)};onTouchMove=t=>{const a=Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY);this.scale=a/this.previousGestureDistance,this.previousGestureDistance=a,this.callback(this.scale)}}const{isNative:Cs}=He;var S;(function(o){o.OFF="off",o.ON="on",o.STARTING="starting",o.ENDING="ending"})(S||(S={}));const Ss=new vr().setFromAxisAngle(new hr(0,0,1),Math.PI/2),bs=({setContentHidden:o,webxrRecorderActivity:t,feedHintsOnborded:a,setFeedHintsOnborded:s})=>{const n=e.useRef(),[i,u]=r.exports.useState(""),[c,d]=r.exports.useState("");r.exports.useState("");const[b,p]=r.exports.useState(""),[C,h]=r.exports.useState(""),[x,F]=r.exports.useState(""),[M,oe]=r.exports.useState(!1),[se,ne]=r.exports.useState(!1),[N,ht]=r.exports.useState(null),[Te,_t]=r.exports.useState(null),[I,gt]=r.exports.useState(S.OFF),y=r.exports.useRef(null),L=r.exports.useRef(null),ce=r.exports.useRef(null),H=r.exports.useRef(null),z=r.exports.useRef(null),ve=r.exports.useRef(0),G=r.exports.useRef(null),q=_(),V=qe(),he=e.useRef(I),ie=m=>{he.current=m,gt(m)},Et=A(),le=e.useRef(N),Ct=m=>{le.current=m,ht(m)},_e=e.useRef(!1),St=()=>{t||o()};function Be(){console.log("onBackButton recordingState:",he.current),_e.current=!0,ge(),q(E.updateWebXRState(!1,null)),St()}r.exports.useEffect(()=>{console.log("recordingState USE EFFECT:",I)},[I]),r.exports.useEffect(()=>(document.addEventListener("backbutton",Be),G.current||(G.current=new Es(n.current,m=>{L.current&&L.current.scale.multiplyScalar(m)})),a||oe(!0),()=>{document.removeEventListener("backbutton",Be),ve.current&&cancelAnimationFrame(ve.current),y.current&&(console.log("WebXRComponent - dispose player"),y.current.dispose(),y.current=null),G.current&&(console.log("WebXRComponent - dispose zoom handler"),G.current.dispose(),G.current=null),console.log("WebXRComponent - stop plugin"),k.removeAllListeners(),k.stop({}),window.screen.orientation.unlock()}),[]);const Me=()=>{ve.current=requestAnimationFrame(Me);const m=ce.current,g=H.current,j=z.current;!j||(y.current?.handleRender(()=>{}),j.render(m,g))},ue=Et.popups.itemId?.value;r.exports.useEffect(()=>{q(be.getArMediaItem(ue))},[ue]),r.exports.useEffect(()=>{V.fetchingItem.value||Ct(V.item.value)},[V.fetchingItem.value,V,ue]);const je=N?.id;r.exports.useEffect(()=>{if(!je){console.log("Media item is not here yet",ue,V?.fetchingItem.value);return}(async function(){ce.current||(ce.current=new _r);const m=ce.current;L.current||(L.current=new gr);const g=L.current;g.visible=!1,H.current||(H.current=new Er(75,window.innerWidth/window.innerHeight,.001,100));const j=H.current;m.background=null,z.current?(console.log("USE ref Renderer",z.current),console.log("CANVAS is same??",z.current.domElement===n.current)):(console.log("CREATE new Renderer"),z.current=new Cr({alpha:!0,canvas:n.current}));const v=z.current;v.outputEncoding=Sr,v.setSize(window.innerWidth,window.innerHeight),v.domElement.style.position="fixed",v.domElement.style.width="100vw",v.domElement.style.height="100vh",v.domElement.style.zIndex="-1",v.domElement.style.top="0",v.domElement.style.left="0",v.domElement.style.margin="0",v.domElement.style.padding="0",m.add(j),m.add(g),g.position.set(0,0,0),g.scale.setScalar(1),y.current||(y.current=new br({scene:g,renderer:v,worker:new xr,meshFilePath:N.dracosisUrl,videoFilePath:N.audioUrl,manifestFilePath:N.manifestUrl,onMeshBuffering:f=>{},onFrameShow:()=>{}})),requestAnimationFrame(Me),await k.initialize({}).then(f=>{u(f.status),o()}).catch(f=>console.log(f.message)),k.addListener("poseDataReceived",f=>{const W=H.current,U=L.current,{cameraPositionX:wt,cameraPositionY:kt,cameraPositionZ:Nt,cameraRotationX:It,cameraRotationY:Pt,cameraRotationZ:Rt,cameraRotationW:Tt}=f;if(W.quaternion.set(It,Pt,Rt,Tt).multiply(Ss),W.position.set(wt,kt,Nt),W.updateProjectionMatrix(),f.placed){const{anchorPositionX:Ae,anchorPositionY:We,anchorPositionZ:$e,anchorRotationX:De,anchorRotationY:Oe,anchorRotationZ:Le,anchorRotationW:ze}=f,Bt=JSON.stringify([Ae,We,$e,De,Oe,Le,ze]);if(p(Bt),U.quaternion.set(De,Oe,Le,ze),U.position.set(Ae,We,$e),!U.visible){console.log("SET ANCHOR VISIBLE!");const Mt=2,jt=W.position.distanceTo(U.position),At=W.fov*Math.PI/180/2,Wt=jt*Math.tan(At)/Mt*.75;U.scale.setScalar(Wt),U.visible=!0,a||setTimeout(()=>{ne(!0),s(!0)},1e3)}}}),k.addListener("cameraIntrinsicsReceived",f=>{h(JSON.stringify({fX:f.fX,fY:f.fY,cX:f.cX,cY:f.cy,x:f.x,y:f.y}))}),k.start({}).then(()=>{d(Cs?"Camera started on native":"Camera started on web")}).catch(f=>console.log(f.message))})()},[je]);let ge=()=>{if(console.log("finishRecord recordingState:",I),he.current===S.ON){console.log("finishRecord"),console.log("mediaItemRef.current.audioId",le.current),console.log("closeBtnAction",_e),console.log("VIDEO DELAY",Te);const m=le.current.title.replace(/ /gi,"_"),g=new Date().toLocaleTimeString().replace(/[\:\ ]/gi,"_");console.log(g),console.log(m),k.stopRecording({audioId:le.current.audioId,videoDelay:Te,clipTitle:m,clipTime:g}).then(({result:j,filePath:v,nameId:f})=>{if(q(Ke.setLastFeedVideoUrl(v)),q(be.getArMediaItem(null)),F("file://"+v),!_e.current){const W=He.convertFileSrc(v);console.log(W),q(E.updateNewFeedPageState(!0,W,v,f))}ie(S.OFF),q(E.updateWebXRState(!1,null))}).catch(j=>alert(j.message))}else return console.log("Record state is OFF")};function bt(m){return(m/1e3).toFixed(1)}const xt=()=>{if(!window.confirm("Double click to finish the record."))return;ie(S.STARTING);const m=new Date,g=Math.floor(screen.height/2)*2,j=Math.floor(screen.width/2)*2;k.startRecording({isAudio:!0,width:j,height:g,bitRate:6e6,dpi:100,filePath:"/test.mp4"}).then(({status:v})=>{if(console.log("RECORDING, STATUS IS",v),y.current){y.current.video.muted=!0,console.log("Player.play()!"),y.current.play();const f=new Date;_t(parseFloat(bt(f.getTime()-m.getTime())))}ie(S.ON)}).catch(v=>{alert(v.message),ie(S.OFF)})},Ft=()=>{I===S.OFF?xt():I===S.ON&&ge()},yt=m=>{if(I!==S.OFF)return;const g={x:m.clientX*window.devicePixelRatio,y:m.clientY*window.devicePixelRatio};y.current&&y.current.currentFrame<=0&&y.current.playOneFrame(),k.handleTap(g)};return e.createElement(e.Fragment,null,M?e.createElement(_s,{hintOneShow:oe}):"",se?e.createElement(gs,{hintTwoShow:ne}):"",e.createElement("div",{className:"plugintestControls"},e.createElement("div",{className:I===S.OFF?"":B.hideButtons},e.createElement("section",{className:B.waterMarkWrapper},e.createElement("section",{className:B.waterMark},e.createElement("section",{className:B.subContainer}))),e.createElement("button",{type:"button",className:B.flipCamera,onClick:()=>{}},e.createElement(vt,null)),e.createElement("section",{className:I===S.OFF?B.startButtonWrapper:B.stopButtonWrapper},e.createElement("button",{type:"button",className:I===S.OFF?B.startButton:B.stopButton,onClick:()=>Ft()},e.createElement(ft,null))))),e.createElement("canvas",{ref:n,className:B.arcCanvas,id:"arcCanvas",onClick:m=>yt(m),onDoubleClick:ge}))},xs=({webxrRecorderActivity:o,feedHintsOnborded:t,setFeedHintsOnborded:a,setContentHidden:s})=>{const n=A(),i=()=>n?.popups?.webxr?.value===!0&&e.createElement("div",null,e.createElement(bs,{feedHintsOnborded:t,setFeedHintsOnborded:a,setContentHidden:s,webxrRecorderActivity:o}));return r.exports.useEffect(()=>{i()},[n?.popups?.webxr.value]),i()},Fs=({view:o,setView:t})=>e.createElement(e.Fragment,null,o==="terms"?e.createElement(Fr,{setView:t}):null,o==="policy"?e.createElement(yr,{setView:t}):null),ys=o=>{Ue();const t=_(),a=Ge(),[s,n]=r.exports.useState(!0);r.exports.useState(!0);const[i,u]=r.exports.useState(!0);r.exports.useState(!0);const[c,d]=r.exports.useState("featured"),b=Z(),p=b.creators.currentCreator,C=new Date(Date.now()).toISOString();r.exports.useEffect(()=>{!!p?.value&&!!p?.createdAt?.value&&C.slice(0,-5)===p?.createdAt?.value?.slice(0,-5)&&n(!1)},[p]);const x=Ve().webxrnative.value,F=pe?$.isIos:"",M=b.creators.splashTimeout.value,oe=x?$.hideContentOnRecord:"";if(!p?.value||p?.value===null||M&&p?.isBlocked?.value==!1){const N=setTimeout(()=>{t(Xt.setStateCreators(!1)),clearTimeout(N)},5e3);return e.createElement(rt,null)}const se=N=>{N&&N()};if(p?.isBlocked?.value==!0)return e.createElement("div",null,e.createElement(rt,null),e.createElement(No,null));const ne=()=>{t(Ye.changeWebXrNative())};return e.createElement(e.Fragment,null,c==="terms"||c==="policy"?e.createElement(Fs,{view:c,setView:d}):e.createElement("div",{className:F+" "+oe},e.createElement("div",{className:x?$.hideContent+" "+$.viewport:$.viewport},e.createElement(Ht,{setView:d,onGoRegistration:se}),e.createElement(ia,{view:c,setView:d}),e.createElement(J,{setView:d,onGoRegistration:se}),p?.value&&(!p.terms.value||!p.policy.value)&&a.user.userRole.value==="user"||a.user.userRole.value==="guest"&&e.createElement(Fo,{view:c,setView:d}),e.createElement(Ba,null),e.createElement(xs,{feedHintsOnborded:i,webxrRecorderActivity:x,setContentHidden:ne,setFeedHintsOnborded:u}),e.createElement(ma,{webxrRecorderActivity:x,setView:d}),e.createElement(ha,{webxrRecorderActivity:x,setView:d}),e.createElement(Ea,{webxrRecorderActivity:x,setView:d}),e.createElement(Ma,{setView:d}),e.createElement(qa,{setView:d}))))},Dn=({})=>{const o=_(),t=Ge(),a=Ut(),s=a?.authUser?a.authUser.accessToken:void 0;r.exports.useEffect(()=>{o($t.doLoginAuto(!0)),o(Ye.getWebXrNative())},[s]),r.exports.useEffect(()=>{t?.authUser?.accessToken&&t.user.id.value&&o(de.createCreator())},[t.isLoggedIn.value,t.user.id.value]);const[n,i]=r.exports.useState(!0);r.exports.useState(!0),r.exports.useState(!0),r.exports.useState(!0),r.exports.useState(!0),r.exports.useState("featured");const c=Z().creators.currentCreator.value,d=new Date(Date.now()).toISOString();r.exports.useEffect(()=>{!!c&&!!c.createdAt&&d.slice(0,-5)===c.createdAt.slice(0,-5)&&i(!1)},[c]);const b=Ve().webxrnative.value;return pe&&$.isIos,b&&$.hideContentOnRecord,e.createElement(ys,null)};export{Dn as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguNmI4YTA3NWUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy91dGlsL3BsYXRmb3JtQ2hlY2sudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL1BlcnNvblBpbi5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0NyZWF0b3JzL2luZGV4LnRzeCIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvdGhlZmVlZHNGaXJlcy9UaGVGZWVkc0ZpcmVzU2VydmljZS50cyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1RoZUZlZWRzQ2FyZC9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9UaGVGZWVkL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0ZlZWRNZW51L2luZGV4LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1NoYXJlZE1vZGFsL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3BvcHVwcy9DcmVhdG9yUG9wdXAvaW5kZXgudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRQb3B1cC9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9wb3B1cHMvQ3JlYXRvckZvcm1Qb3B1cC9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9Bck1lZGlhL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3BvcHVwcy9Bck1lZGlhUG9wdXAvaW5kZXgudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRGb3JtUG9wdXAvaW5kZXgudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvU2hhcmVGb3JtL1NoYXJlRm9ybS50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9wb3B1cHMvU2hhcmVkRm9ybVBvcHVwL2luZGV4LnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvd2l0aFN0eWxlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50L0RpYWxvZ0NvbnRlbnQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudFRleHQvRGlhbG9nQ29udGVudFRleHQuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9UZXJtc2FuZFBvbGljeS9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9CbG9ja2VkL2luZGV4LnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvVmlkZW9jYW0uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL0ZsaXBDYW1lcmFJb3MuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9XZWJYckhpbnRzL0hpbnRPbmUudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvV2ViWHJIaW50cy9IaW50VHdvLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1dlYlhSUGx1Z2luL1pvb21HZXN0dXJlSGFuZGxlci50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9XZWJYUlBsdWdpbi9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9wb3B1cHMvV2ViWFIvaW5kZXgudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL1RlbXBvcmFyeVNvbHV0aW9uLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9BcHAudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaXNJT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhKHdpbmRvdyBhcyBhbnkpLk1TU3RyZWFtXG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTIgMmMtNC45NyAwLTkgNC4wMy05IDkgMCA0LjE3IDIuODQgNy42NyA2LjY5IDguNjlMMTIgMjJsMi4zMS0yLjMxQzE4LjE2IDE4LjY3IDIxIDE1LjE3IDIxIDExYzAtNC45Ny00LjAzLTktOS05em0wIDJjMS42NiAwIDMgMS4zNCAzIDNzLTEuMzQgMy0zIDMtMy0xLjM0LTMtMyAxLjM0LTMgMy0zem0wIDE0LjNjLTIuNSAwLTQuNzEtMS4yOC02LTMuMjIuMDMtMS45OSA0LTMuMDggNi0zLjA4IDEuOTkgMCA1Ljk3IDEuMDkgNiAzLjA4LTEuMjkgMS45NC0zLjUgMy4yMi02IDMuMjJ6XCJcbn0pLCAnUGVyc29uUGluJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRNZWRpYSwgVHlwb2dyYXBoeSwgQXZhdGFyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnXG5pbXBvcnQgVmVyaWZpZWRVc2VySWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvVmVyaWZpZWRVc2VyJ1xuaW1wb3J0IFBlcnNvblBpbkljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1BlcnNvblBpbidcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0LCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHsgdXNlQ3JlYXRvclN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU3RhdGUnXG5pbXBvcnQgeyBDcmVhdG9yU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2NyZWF0b3IvQ3JlYXRvclNlcnZpY2UnXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vQ3JlYXRvcnMubW9kdWxlLnNjc3MnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVNlcnZpY2UnXG5cbmludGVyZmFjZSBQcm9wcyB7fVxuXG5jb25zdCBDcmVhdG9ycyA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgY3JlYXRvcnNTdGF0ZSA9IHVzZUNyZWF0b3JTdGF0ZSgpXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRpc3BhdGNoKENyZWF0b3JTZXJ2aWNlLmdldENyZWF0b3JzKCkpXG4gIH0sIFtdKVxuICBjb25zdCBjcmVhdG9ycyA9XG4gICAgY3JlYXRvcnNTdGF0ZS5jcmVhdG9ycy5jcmVhdG9ycz8udmFsdWUgJiYgY3JlYXRvcnNTdGF0ZS5jcmVhdG9ycy5mZXRjaGluZ0NyZWF0b3JzPy52YWx1ZSA9PT0gZmFsc2VcbiAgICAgID8gY3JlYXRvcnNTdGF0ZS5jcmVhdG9ycy5jcmVhdG9ycy52YWx1ZVxuICAgICAgOiBudWxsXG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRvclZpZXcgPSAoaWQpID0+IHtcbiAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlQ3JlYXRvclBhZ2VTdGF0ZShmYWxzZSkpXG4gICAgZGlzcGF0Y2goUG9wdXBzU3RhdGVTZXJ2aWNlLnVwZGF0ZUNyZWF0b3JQYWdlU3RhdGUodHJ1ZSwgaWQpKVxuICB9XG5cbiAgY29uc3QgY3VycmVudENyZWF0b3IgPSBjcmVhdG9yc1N0YXRlLmNyZWF0b3JzLmN1cnJlbnRDcmVhdG9yPy5pZD8udmFsdWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChDcmVhdG9yU2VydmljZS5nZXRCbG9ja2VkTGlzdChjdXJyZW50Q3JlYXRvcikpXG4gIH0sIFtdKVxuICBjb25zdCBibGFja0xpc3QgPSBjcmVhdG9yc1N0YXRlPy5jcmVhdG9ycz8uYmxvY2tlZC52YWx1ZVxuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMuY3JlYXRvckNvbnRhaW5lcn0+XG4gICAgICB7LyogICAgIDxoMz5GZWF0dXJlZCBDcmVhdG9yczwvaDM+ICovfVxuICAgICAge2NyZWF0b3JzICYmXG4gICAgICAgIGJsYWNrTGlzdCAmJlxuICAgICAgICBjcmVhdG9ycy5sZW5ndGggPiAwICYmXG4gICAgICAgIGNyZWF0b3JzXG4gICAgICAgICAgPy5maWx0ZXIoKHBlcnNvbikgPT4gcGVyc29uLmlzQmxvY2tlZCA8IDEpXG4gICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jcmVhdG9ySXRlbX1cbiAgICAgICAgICAgICAgZWxldmF0aW9uPXswfVxuICAgICAgICAgICAgICBrZXk9e2l0ZW1JbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ3JlYXRvclZpZXcoaXRlbS5pZCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpdGVtLmF2YXRhciA/IChcbiAgICAgICAgICAgICAgICA8Q2FyZE1lZGlhIGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdJbWFnZX0gaW1hZ2U9e2l0ZW0uYXZhdGFyIHx8IDxQZXJzb25QaW5JY29uIC8+fSB0aXRsZT17aXRlbS5uYW1lfSAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdJbWFnZX0+XG4gICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT17c3R5bGVzLmF2YXRhclBsYWNlaG9sZGVyfSAvPlxuICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17c3R5bGVzLnRpdGxlQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICB7aXRlbS52ZXJpZmllZCA9PT0gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxWZXJpZmllZFVzZXJJY29uIGh0bWxDb2xvcj1cIiMwMDdBRkZcIiBzdHlsZT17eyBmb250U2l6ZTogJzEzcHgnLCBtYXJnaW46ICcwIDAgMCA1cHgnIH19IC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e3N0eWxlcy51c2VybmFtZUNvbnRhaW5lcn0+e2l0ZW0udXNlcm5hbWV9PC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICkpfVxuICAgIDwvc2VjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDcmVhdG9yc1xuIiwiLyoqXG4gKiBAYXV0aG9yIEdsZWIgT3JkaW5za3kgPGdsZWJvcmRpbnNraWpqQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IHsgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvY29tbW9uL3JlZHVjZXJzL2FsZXJ0L0FsZXJ0U2VydmljZSdcbmltcG9ydCB7IGNsaWVudCB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvZmVhdGhlcnMnXG5pbXBvcnQgeyBUaGVGZWVkc0FjdGlvbiB9IGZyb20gJy4uL3RoZWZlZWRzL1RoZUZlZWRzQWN0aW9ucydcblxuLy8gdGhlZmVlZHNcbi8vIFRoZUZlZWRzXG4vLyBUSEVGRUVEU1xuXG5leHBvcnQgY29uc3QgVGhlRmVlZHNGaXJlc1NlcnZpY2UgPSB7XG4gIGdldFRoZUZlZWRzRmlyZXM6ICh0aGVmZWVkc0lkOiBzdHJpbmcsIHNldFRoZWZlZWRzRmlyZXM6IGFueSkgPT4ge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoLCBnZXRTdGF0ZTogYW55KTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vICAgICAgIGRpc3BhdGNoKGZldGNoaW5nVGhlRmVlZHNGaXJlcygpKTtcbiAgICAgICAgY29uc3QgdGhlZmVlZHNSZXN1bHRzID0gYXdhaXQgY2xpZW50LnNlcnZpY2UoJ3RoZWZlZWRzLWZpcmVzJykuZmluZCh7IHF1ZXJ5OiB7IHRoZWZlZWRzSWQ6IHRoZWZlZWRzSWQgfSB9KVxuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyh0aGVmZWVkc1Jlc3VsdHMpXG5cbiAgICAgICAgLy8gICAgICAgZGlzcGF0Y2godGhlZmVlZHNGaXJlc1JldHJpZXZlZCh0aGVmZWVkc1Jlc3VsdHMuZGF0YSwgdGhlZmVlZHNJZCkpO1xuICAgICAgICBzZXRUaGVmZWVkc0ZpcmVzKHRoZWZlZWRzUmVzdWx0cylcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIEFsZXJ0U2VydmljZS5kaXNwYXRjaEFsZXJ0RXJyb3IoZGlzcGF0Y2gsIGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYWRkRmlyZVRvVGhlRmVlZHM6ICh0aGVmZWVkc0lkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmZWVkc0ZpcmUgPSBhd2FpdCBjbGllbnQuc2VydmljZSgndGhlZmVlZHMtZmlyZXMnKS5jcmVhdGUoeyB0aGVmZWVkc0lkIH0pXG4gICAgICAgIGNvbnN0IGZlZWRzRmlyZVN0b3JlID0ge1xuICAgICAgICAgIGlkOiBmZWVkc0ZpcmUuY3JlYXRvcklkXG4gICAgICAgIH1cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGRpc3BhdGNoKGFkZFRoZUZlZWRzRmlyZShmZWVkc0ZpcmVTdG9yZSkpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICBBbGVydFNlcnZpY2UuZGlzcGF0Y2hBbGVydEVycm9yKGRpc3BhdGNoLCBlcnIubWVzc2FnZSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlbW92ZUZpcmVUb1RoZUZlZWRzOiAodGhlZmVlZHNJZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2gpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LnNlcnZpY2UoJ3RoZWZlZWRzLWZpcmVzJykucmVtb3ZlKHRoZWZlZWRzSWQpXG4gICAgICAgIGRpc3BhdGNoKFRoZUZlZWRzQWN0aW9uLnJlbW92ZVRoZUZlZWRzRmlyZSh0aGVmZWVkc0lkKSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIEFsZXJ0U2VydmljZS5kaXNwYXRjaEFsZXJ0RXJyb3IoZGlzcGF0Y2gsIGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPiwgR2xlYiBPcmRpbnNreVxuICovXG5pbXBvcnQgeyBQbHVnaW5zIH0gZnJvbSAnQGNhcGFjaXRvci9jb3JlJ1xuaW1wb3J0IENhcmQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZCdcbmltcG9ydCBDYXJkQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DYXJkQ29udGVudCdcbmltcG9ydCBDYXJkTWVkaWEgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZE1lZGlhJ1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSdcbmltcG9ydCBUZWxlZ3JhbUljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1RlbGVncmFtJ1xuaW1wb3J0IFZpc2liaWxpdHlJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9WaXNpYmlsaXR5J1xuaW1wb3J0IFdoYXRzaG90SWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvV2hhdHNob3QnXG5pbXBvcnQgeyBGZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9GZWVkJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyB1c2VDcmVhdG9yU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9jcmVhdG9yL0NyZWF0b3JTdGF0ZSdcbmltcG9ydCB7IFRoZUZlZWRzRmlyZXNTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvdGhlZmVlZHNGaXJlcy9UaGVGZWVkc0ZpcmVzU2VydmljZSdcbmltcG9ydCBDcmVhdG9yQXNUaXRsZSBmcm9tICcuLi9DcmVhdG9yQXNUaXRsZSdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9UaGVGZWVkc0NhcmQubW9kdWxlLnNjc3MnXG5cbmNvbnN0IHsgU2hhcmUgfSA9IFBsdWdpbnNcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgZmVlZDogRmVlZFxufVxuY29uc3QgVGhlRmVlZHNDYXJkID0gKHByb3BzOiBQcm9wcyk6IGFueSA9PiB7XG4gIGNvbnN0IFtidXR0b25Qb3B1cCwgc2V0QnV0dG9uUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtmaXJlZCwgc2V0RmlyZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgZmVlZCB9ID0gcHJvcHNcbiAgY29uc3QgW2ZpcmVkQ291bnQsIHNldEZpcmVkQ291bnRdID0gdXNlU3RhdGUoZmVlZC5maXJlcylcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG4gIGNvbnN0IFt0aGVmZWVkc0ZpcmVzQ3JlYXRvcnMsIHNldFRoZWZlZWRzRmlyZXNDcmVhdG9yc10gPSB1c2VTdGF0ZShudWxsKVxuXG4gIGNvbnN0IGhhbmRsZUFkZEZpcmVDbGljayA9IChmZWVkSWQpID0+IHtcbiAgICBkaXNwYXRjaChUaGVGZWVkc0ZpcmVzU2VydmljZS5hZGRGaXJlVG9UaGVGZWVkcyhmZWVkSWQpKVxuICAgIHNldEZpcmVkQ291bnQoZmlyZWRDb3VudCArIDEpXG4gICAgc2V0RmlyZWQodHJ1ZSlcbiAgfVxuICBjb25zdCBoYW5kbGVSZW1vdmVGaXJlQ2xpY2sgPSAoZmVlZElkKSA9PiB7XG4gICAgZGlzcGF0Y2goVGhlRmVlZHNGaXJlc1NlcnZpY2UucmVtb3ZlRmlyZVRvVGhlRmVlZHMoZmVlZElkKSlcbiAgICBzZXRGaXJlZENvdW50KGZpcmVkQ291bnQgLSAxKVxuICAgIHNldEZpcmVkKGZhbHNlKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChUaGVGZWVkc0ZpcmVzU2VydmljZS5nZXRUaGVGZWVkc0ZpcmVzKGZlZWQuaWQsIHNldFRoZWZlZWRzRmlyZXNDcmVhdG9ycykpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oKVxuICBjb25zdCBzaGFyZVZpYSA9ICgpID0+IHtcbiAgICBTaGFyZS5zaGFyZSh7XG4gICAgICB0aXRsZTogdCgnc29jaWFsOnNoYXJlRm9ybS5hcmNNZWRpYScpLFxuICAgICAgdGV4dDogdCgnc29jaWFsOnNoYXJlRm9ybS52aWRlb0NyZWF0ZWQnKSxcbiAgICAgIHVybDogZW5jb2RlVVJJKGZlZWQudmlkZW9VcmwpLFxuICAgICAgZGlhbG9nVGl0bGU6IHQoJ3NvY2lhbDpzaGFyZUZvcm0uc2hhcmVXaXRoQnVkZGllcycpXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGNyZWF0b3JJZCA9IHVzZUNyZWF0b3JTdGF0ZSgpLmNyZWF0b3JzLmN1cnJlbnRDcmVhdG9yPy5pZD8udmFsdWVcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEZpcmVkKCEhdGhlZmVlZHNGaXJlc0NyZWF0b3JzPy5kYXRhLmZpbmQoKGkpID0+IGkuaWQgPT09IGNyZWF0b3JJZCkpXG4gIH0sIFt0aGVmZWVkc0ZpcmVzQ3JlYXRvcnNdKVxuXG4gIHJldHVybiBmZWVkID8gKFxuICAgIDw+XG4gICAgICA8Q2FyZCBjbGFzc05hbWU9e3N0eWxlcy50aXBJdGVtfSBzcXVhcmU9e2ZhbHNlfSBlbGV2YXRpb249ezB9IGtleT17ZmVlZC5pZH0+XG4gICAgICAgIHtmZWVkLnZpZGVvVXJsID8gKFxuICAgICAgICAgIDxDYXJkTWVkaWFcbiAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdJbWFnZX1cbiAgICAgICAgICAgIGNvbXBvbmVudD1cInZpZGVvXCJcbiAgICAgICAgICAgIHNyYz17ZmVlZC52aWRlb1VybH1cbiAgICAgICAgICAgIHRpdGxlPXtmZWVkLnRpdGxlfVxuICAgICAgICAgICAgY29udHJvbHNcbiAgICAgICAgICAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgICcnXG4gICAgICAgICl9XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmV5ZUxpbmV9PlxuICAgICAgICAgIHtmZWVkLnZpZXdzQ291bnR9XG4gICAgICAgICAgPFZpc2liaWxpdHlJY29uIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX0gLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPXtzdHlsZXMuY2FyZENvbnRlbnR9PlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLmljb25zQ29udGFpbmVyfT5cbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17c3R5bGVzLnRpdGxlQ29udGFpbmVyfSBndXR0ZXJCb3R0b20gdmFyaWFudD1cImg0XCI+XG4gICAgICAgICAgICAgIHtmZWVkLnRpdGxlfVxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgPENyZWF0b3JBc1RpdGxlIGNyZWF0b3I9e2ZlZWQuY3JlYXRvcn0gLz5cbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLmljb25TdWJDb250YWluZXJ9PlxuICAgICAgICAgICAgICB7ZmlyZWQgPyAoXG4gICAgICAgICAgICAgICAgPFdoYXRzaG90SWNvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZmlyZUljb259XG4gICAgICAgICAgICAgICAgICBodG1sQ29sb3I9XCIjRkY2MjAxXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJlbW92ZUZpcmVDbGljayhmZWVkLmlkKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxXaGF0c2hvdEljb25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmZpcmVJY29ufVxuICAgICAgICAgICAgICAgICAgaHRtbENvbG9yPVwiI0RERERERFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRGaXJlQ2xpY2soZmVlZC5pZCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPFRlbGVncmFtSWNvbiBvbkNsaWNrPXtzaGFyZVZpYX0gLz5cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cInN1YnRpdGxlMlwiPntmaXJlZENvdW50fSBmbGFtZXM8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtzdHlsZXMuY2FydFRleHR9IHZhcmlhbnQ9XCJoNlwiPlxuICAgICAgICAgICAge2ZlZWQuZGVzY3JpcHRpb259XG4gICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgPC9DYXJkPlxuICAgIDwvPlxuICApIDogKFxuICAgIDw+PC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGhlRmVlZHNDYXJkXG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5cbmltcG9ydCB7IFRoZUZlZWRzU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3RoZWZlZWRzL1RoZUZlZWRzU2VydmljZSdcbmltcG9ydCB7IHVzZVRoZUZlZWRzU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy90aGVmZWVkcy9UaGVGZWVkc1N0YXRlJ1xuXG5pbXBvcnQgVGhlRmVlZHNDYXJkIGZyb20gJy4uL1RoZUZlZWRzQ2FyZCdcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1RoZUZlZWQubW9kdWxlLnNjc3MnXG5cbmludGVyZmFjZSBQcm9wcyB7fVxuXG5jb25zdCBUaGVGZWVkID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAgbGV0IGZlZWRzTGlzdCA9IG51bGxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChUaGVGZWVkc1NlcnZpY2UuZ2V0VGhlRmVlZHNOZXcoKSlcbiAgfSwgW10pXG4gIGNvbnN0IHRoZUZlZWRzU3RhdGUgPSB1c2VUaGVGZWVkc1N0YXRlKClcblxuICBjb25zdCBUaGVGZWVkc0xpc3QgPSB0aGVGZWVkc1N0YXRlPy50aGVmZWVkcz8udmFsdWUgfHwgW11cbiAgLy8gICAgIHVzZUVmZmVjdCgoKT0+IGNvbnNvbGUubG9nKFRoZUZlZWRzTGlzdCksIFtUaGVGZWVkc0xpc3RdKTtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy50aGVmZWVkQ29udGFpbmVyfT5cbiAgICAgIHtUaGVGZWVkc0xpc3QgJiYgVGhlRmVlZHNMaXN0Lmxlbmd0aCA+IDAgPyAoXG4gICAgICAgIFRoZUZlZWRzTGlzdC5tYXAoKGl0ZW0sIGtleSkgPT4gPFRoZUZlZWRzQ2FyZCBrZXk9e2tleX0gZmVlZD17aXRlbX0gLz4pXG4gICAgICApIDogKFxuICAgICAgICA8cCBjbGFzc05hbWU9e3N0eWxlcy5ub0NvbnRlbnR9PkNvbWluZyBzb29uLi4uPC9wPlxuICAgICAgKX1cbiAgICA8L3NlY3Rpb24+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGhlRmVlZFxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPlxuICovXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbidcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IENyZWF0b3JzIGZyb20gJy4uL0NyZWF0b3JzJ1xuaW1wb3J0IEZlYXR1cmVkIGZyb20gJy4uL0ZlYXR1cmVkJ1xuaW1wb3J0IFRoZUZlZWQgZnJvbSAnLi4vVGhlRmVlZCdcbi8vIGltcG9ydCBUaXBzQW5kVHJpY2tzIGZyb20gJy4uL1RpcHNBbmRUcmlja3MnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgRmVlZFNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9mZWVkL0ZlZWRTZXJ2aWNlJ1xuaW1wb3J0IHsgdXNlRmVlZFN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZC9GZWVkU3RhdGUnXG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9GZWVkTWVudS5tb2R1bGUuc2NzcydcblxuY29uc3QgRmVlZE1lbnUgPSAoeyB2aWV3LCBzZXRWaWV3IH0pID0+IHtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KClcbiAgY29uc3QgZmVhdHVyZWRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4oKVxuICBjb25zdCBjcmVhdG9yc1JlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PigpXG4gIGNvbnN0IHRoZWZlZWRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4oKVxuICBjb25zdCB0aXBzYW5kdHJpY2tzUmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KClcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCBmZWVkc1N0YXRlID0gdXNlRmVlZFN0YXRlKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRpc3BhdGNoKEZlZWRTZXJ2aWNlLmdldEZlZWRzKCdmZWF0dXJlZCcpKVxuICB9LCBbXSlcblxuICBjb25zdCBwYWRkaW5nID0gNDBcbiAgY29uc3QgaGFuZGxlTWVudUNsaWNrID0gKHZpZXcpID0+IHtcbiAgICBzZXRWaWV3KHZpZXcpXG5cbiAgICBsZXQgbGVmdFNjcm9sbFBvcyA9IDBcbiAgICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAgIGNhc2UgJ2NyZWF0b3JzJzpcbiAgICAgICAgbGVmdFNjcm9sbFBvcyA9IGNyZWF0b3JzUmVmLmN1cnJlbnQub2Zmc2V0TGVmdCAtIHBhZGRpbmdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3RoZWZlZWQnOlxuICAgICAgICBsZWZ0U2Nyb2xsUG9zID0gdGhlZmVlZFJlZi5jdXJyZW50Lm9mZnNldExlZnQgLSBwYWRkaW5nXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd0aXBzYW5kdHJpY2tzJzpcbiAgICAgICAgbGVmdFNjcm9sbFBvcyA9IHRpcHNhbmR0cmlja3NSZWYuY3VycmVudC5vZmZzZXRMZWZ0IC0gcGFkZGluZ1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGVmdFNjcm9sbFBvcyA9IDBcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG8oeyBsZWZ0OiBsZWZ0U2Nyb2xsUG9zLCBiZWhhdmlvcjogJ3Ntb290aCcgfSlcbiAgfVxuICBsZXQgY29udGVudCA9IG51bGxcbiAgc3dpdGNoICh2aWV3KSB7XG4gICAgY2FzZSAnY3JlYXRvcnMnOlxuICAgICAgY29udGVudCA9IDxDcmVhdG9ycyAvPlxuICAgICAgYnJlYWtcbiAgICBjYXNlICd0aGVmZWVkJzpcbiAgICAgIGNvbnRlbnQgPSA8VGhlRmVlZCAvPlxuICAgICAgYnJlYWtcbiAgICAvLyBjYXNlICd0aXBzYW5kdHJpY2tzJzpcbiAgICAvLyAgIGNvbnRlbnQgPSA8VGlwc0FuZFRyaWNrcyAvPlxuICAgIC8vICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgY29udGVudCA9IDxGZWF0dXJlZCB0aGlzRGF0YT17ZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0ZlYXR1cmVkLnZhbHVlfSAvPlxuICAgICAgYnJlYWtcbiAgfVxuICBjb25zdCBjbGFzc2VzID0ge1xuICAgIGZlYXR1cmVkOiBbc3R5bGVzLmZlYXR1cmVkQnV0dG9uLCB2aWV3ID09PSAnZmVhdHVyZWQnICYmIHN0eWxlcy5hY3RpdmVdLFxuICAgIGNyZWF0b3JzOiBbc3R5bGVzLmNyZWF0b3JzQnV0dG9uLCB2aWV3ID09PSAnY3JlYXRvcnMnICYmIHN0eWxlcy5hY3RpdmVdLFxuICAgIHRoZWZlZWQ6IFtzdHlsZXMudGhlZmVlZEJ1dHRvbiwgdmlldyA9PT0gJ3RoZWZlZWQnICYmIHN0eWxlcy5hY3RpdmVdLFxuICAgIHRpcHNhbmR0cmlja3M6IFtzdHlsZXMudGlwc2FuZHRyaWNrc0J1dHRvbiwgdmlldyA9PT0gJ3RpcHNhbmR0cmlja3MnICYmIHN0eWxlcy5hY3RpdmVdXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPG5hdiBjbGFzc05hbWU9e3N0eWxlcy5mZWVkTWVudUNvbnRhaW5lcn0+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLnN1YldyYXBwZXJ9IHJlZj17Y29udGFpbmVyUmVmfT5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy5mZWVkTWVudX0+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHJlZj17ZmVhdHVyZWRSZWZ9XG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXNbJ2ZlYXR1cmVkJ10uam9pbignICcpfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNZW51Q2xpY2soJ2ZlYXR1cmVkJyl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0KCdzb2NpYWw6ZmVlZE1lbnUuZmVhdHVyZWQnKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICByZWY9e2NyZWF0b3JzUmVmfVxuICAgICAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzWydjcmVhdG9ycyddLmpvaW4oJyAnKX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTWVudUNsaWNrKCdjcmVhdG9ycycpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnc29jaWFsOmZlZWRNZW51LmNyZWF0b3JzJyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIHsvKjxCdXR0b24qL31cbiAgICAgICAgICAgIHsvKiAgcmVmPXt0aGVmZWVkUmVmfSovfVxuICAgICAgICAgICAgey8qICB2YXJpYW50PVwiY29udGFpbmVkXCIqL31cbiAgICAgICAgICAgIHsvKiAgY2xhc3NOYW1lPXtjbGFzc2VzWyd0aGVmZWVkJ10uam9pbignICcpfSovfVxuICAgICAgICAgICAgey8qICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNZW51Q2xpY2soJ3RoZWZlZWQnKX0qL31cbiAgICAgICAgICAgIHsvKj4qL31cbiAgICAgICAgICAgIHsvKiAge3QoJ3NvY2lhbDpmZWVkTWVudS5mZWVkJyl9Ki99XG4gICAgICAgICAgICB7Lyo8L0J1dHRvbj4qL31cbiAgICAgICAgICAgIHsvKjxCdXR0b24qL31cbiAgICAgICAgICAgIHsvKiAgcmVmPXt0aXBzYW5kdHJpY2tzUmVmfSovfVxuICAgICAgICAgICAgey8qICB2YXJpYW50PVwiY29udGFpbmVkXCIqL31cbiAgICAgICAgICAgIHsvKiAgY2xhc3NOYW1lPXtjbGFzc2VzWyd0aXBzYW5kdHJpY2tzJ10uam9pbignICcpfSovfVxuICAgICAgICAgICAgey8qICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNZW51Q2xpY2soJ3RpcHNhbmR0cmlja3MnKX0qL31cbiAgICAgICAgICAgIHsvKj4qL31cbiAgICAgICAgICAgIHsvKiAge3QoJ3NvY2lhbDpmZWVkTWVudS50aXBzJyl9Ki99XG4gICAgICAgICAgICB7Lyo8L0J1dHRvbj4qL31cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvbmF2PlxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0+e2NvbnRlbnR9PC9zZWN0aW9uPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlZWRNZW51XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbidcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJ1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQWN0aW9ucydcbmltcG9ydCBEaWFsb2dUaXRsZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dUaXRsZSdcbmludGVyZmFjZSBQcm9wcyB7XG4gIGNoaWxkcmVuPzogYW55XG4gIG9wZW46IGJvb2xlYW5cbiAgVHJhbnNpdGlvbkNvbXBvbmVudD86IGFueVxuICBvbkNsb3NlPzogYW55XG4gIHRpdGxlPzogc3RyaW5nXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5pbXBvcnQgeyBUcmFuc2l0aW9uUHJvcHMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS90cmFuc2l0aW9ucydcbmltcG9ydCBTbGlkZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbGlkZSdcblxuY29uc3QgVHJhbnNpdGlvbiA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wczogVHJhbnNpdGlvblByb3BzICYgeyBjaGlsZHJlbj86IFJlYWN0LlJlYWN0RWxlbWVudDxhbnksIGFueT4gfSwgcmVmOiBSZWFjdC5SZWY8dW5rbm93bj4pID0+IHtcbiAgICByZXR1cm4gPFNsaWRlIGRpcmVjdGlvbj1cInVwXCIgcmVmPXtyZWZ9IHsuLi5wcm9wc30gLz5cbiAgfVxuKVxuXG5jb25zdCBTaGFyZWRNb2RhbCA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgb3Blbiwgb25DbG9zZSwgdGl0bGUsIGNsYXNzTmFtZSB9ID0gcHJvcHNcbiAgcmV0dXJuIChcbiAgICA8RGlhbG9nXG4gICAgICBvcGVuPXtvcGVufVxuICAgICAgVHJhbnNpdGlvbkNvbXBvbmVudD17VHJhbnNpdGlvbn1cbiAgICAgIGtlZXBNb3VudGVkXG4gICAgICBvbkNsb3NlPXtvbkNsb3NlfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICBhcmlhLWxhYmVsbGVkYnk9XCJhbGVydC1kaWFsb2ctc2xpZGUtdGl0bGVcIlxuICAgICAgYXJpYS1kZXNjcmliZWRieT1cImFsZXJ0LWRpYWxvZy1zbGlkZS1kZXNjcmlwdGlvblwiXG4gICAgPlxuICAgICAgey8qIDxEaWFsb2dBY3Rpb25zPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiAgdmFyaWFudD1cIm91dGxpbmVkXCIgb25DbGljaz17b25DbG9zZX0gY29sb3I9XCJwcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+ICovfVxuICAgICAge3RpdGxlICYmIDxEaWFsb2dUaXRsZSBpZD1cImFsZXJ0LWRpYWxvZy1zbGlkZS10aXRsZVwiPnt0aXRsZX08L0RpYWxvZ1RpdGxlPn1cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0RpYWxvZz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFyZWRNb2RhbFxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IHVzZVBvcHVwc1N0YXRlU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVN0YXRlJ1xuaW1wb3J0IHsgUG9wdXBzU3RhdGVTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTZXJ2aWNlJ1xuaW1wb3J0IENyZWF0b3IgZnJvbSAnLi4vLi4vQ3JlYXRvcidcbmltcG9ydCBTaGFyZWRNb2RhbCBmcm9tICcuLi8uLi9TaGFyZWRNb2RhbCdcbmltcG9ydCBBcHBGb290ZXIgZnJvbSAnLi4vLi4vRm9vdGVyJ1xuXG4vL0B0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9DcmVhdG9yUG9wdXAubW9kdWxlLnNjc3MnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHdlYnhyUmVjb3JkZXJBY3Rpdml0eTogYW55XG4gIHNldFZpZXc/OiBhbnlcbn1cbmV4cG9ydCBjb25zdCBDcmVhdG9yUG9wdXAgPSAoeyB3ZWJ4clJlY29yZGVyQWN0aXZpdHksIHNldFZpZXcgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgcG9wdXBzU3RhdGUgPSB1c2VQb3B1cHNTdGF0ZVN0YXRlKClcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRvckNsb3NlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVDcmVhdG9yUGFnZVN0YXRlKGZhbHNlKSlcbiAgfVxuICBjb25zdCByZW5kZXJDcmVhdG9yTW9kYWwgPSAoKSA9PlxuICAgIHBvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JQYWdlPy52YWx1ZSA9PT0gdHJ1ZSAmJlxuICAgIHBvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JJZD8udmFsdWUgJiZcbiAgICAhd2VieHJSZWNvcmRlckFjdGl2aXR5ICYmIChcbiAgICAgIDxTaGFyZWRNb2RhbFxuICAgICAgICBvcGVuPXtwb3B1cHNTdGF0ZT8ucG9wdXBzPy5jcmVhdG9yUGFnZT8udmFsdWV9XG4gICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNyZWF0b3JDbG9zZX1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY3JlYXRvclBvcHVwfVxuICAgICAgPlxuICAgICAgICA8Q3JlYXRvciBjcmVhdG9ySWQ9e3BvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JJZD8udmFsdWV9IC8+XG4gICAgICAgIDxBcHBGb290ZXIgc2V0Vmlldz17c2V0Vmlld30gLz5cbiAgICAgIDwvU2hhcmVkTW9kYWw+XG4gICAgKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlbmRlckNyZWF0b3JNb2RhbCgpXG4gIH0sIFtwb3B1cHNTdGF0ZT8ucG9wdXBzPy5jcmVhdG9yUGFnZT8udmFsdWUsIHBvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JJZD8udmFsdWVdKVxuICByZXR1cm4gcmVuZGVyQ3JlYXRvck1vZGFsKClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3JlYXRvclBvcHVwXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0LCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgdXNlUG9wdXBzU3RhdGVTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU3RhdGUnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVNlcnZpY2UnXG5pbXBvcnQgU2hhcmVkTW9kYWwgZnJvbSAnLi4vLi4vU2hhcmVkTW9kYWwnXG5pbXBvcnQgQXBwRm9vdGVyIGZyb20gJy4uLy4uL0Zvb3RlcidcbmltcG9ydCBGZWVkIGZyb20gJy4uLy4uL0ZlZWQnXG5cbi8vQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0ZlZWRQb3B1cC5tb2R1bGUuc2NzcydcbmltcG9ydCB7IGlzSU9TIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91dGlsL3BsYXRmb3JtQ2hlY2snXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHdlYnhyUmVjb3JkZXJBY3Rpdml0eTogYW55XG4gIHNldFZpZXc/OiBhbnlcbn1cbmV4cG9ydCBjb25zdCBGZWVkUG9wdXAgPSAoeyB3ZWJ4clJlY29yZGVyQWN0aXZpdHksIHNldFZpZXcgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgcG9wdXBzU3RhdGUgPSB1c2VQb3B1cHNTdGF0ZVN0YXRlKClcbiAgLy9jb21tb24gZm9yIGZlZWQgcGFnZVxuXG4gIGNvbnN0IHBsYXRmb3JtQ2xhc3MgPSBpc0lPUyA/IHN0eWxlcy5pc0lvcyA6ICcnXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuXG4gIGNvbnN0IGhhbmRsZUZlZWRDbG9zZSA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlRmVlZFBhZ2VTdGF0ZShmYWxzZSkpXG4gIH1cbiAgY29uc3QgcmVuZGVyRmVlZE1vZGFsID0gKCkgPT5cbiAgICBwb3B1cHNTdGF0ZT8ucG9wdXBzPy5mZWVkUGFnZT8udmFsdWUgPT09IHRydWUgJiZcbiAgICAhd2VieHJSZWNvcmRlckFjdGl2aXR5ICYmIChcbiAgICAgIDxTaGFyZWRNb2RhbFxuICAgICAgICBvcGVuPXtwb3B1cHNTdGF0ZT8ucG9wdXBzPy5mZWVkUGFnZT8udmFsdWV9XG4gICAgICAgIG9uQ2xvc2U9e2hhbmRsZUZlZWRDbG9zZX1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZmVlZFBhZ2VQb3B1cCArICcgJyArIHBsYXRmb3JtQ2xhc3N9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZmVlZFBhZ2VJb3NXcmFwcGVyfT5cbiAgICAgICAgICA8RmVlZCAvPlxuICAgICAgICAgIDxBcHBGb290ZXIgc2V0Vmlldz17c2V0Vmlld30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1NoYXJlZE1vZGFsPlxuICAgIClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZW5kZXJGZWVkTW9kYWwoKVxuICB9LCBbcG9wdXBzU3RhdGU/LnBvcHVwcz8uZmVlZFBhZ2U/LnZhbHVlLCBwb3B1cHNTdGF0ZT8ucG9wdXBzPy5mZWVkSWQ/LnZhbHVlXSlcbiAgcmV0dXJuIHJlbmRlckZlZWRNb2RhbCgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlZWRQb3B1cFxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IHVzZVBvcHVwc1N0YXRlU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVN0YXRlJ1xuaW1wb3J0IHsgUG9wdXBzU3RhdGVTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTZXJ2aWNlJ1xuaW1wb3J0IFNoYXJlZE1vZGFsIGZyb20gJy4uLy4uL1NoYXJlZE1vZGFsJ1xuaW1wb3J0IEFwcEZvb3RlciBmcm9tICcuLi8uLi9Gb290ZXInXG5cbi8vQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0NyZWF0b3JGb3JtUG9wdXAubW9kdWxlLnNjc3MnXG5pbXBvcnQgQ3JlYXRvckZvcm0gZnJvbSAnLi4vLi4vQ3JlYXRvckZvcm0nXG5pbXBvcnQgeyBpc0lPUyB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXRpbC9wbGF0Zm9ybUNoZWNrJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB3ZWJ4clJlY29yZGVyQWN0aXZpdHk6IGFueVxuICBzZXRWaWV3PzogYW55XG59XG5leHBvcnQgY29uc3QgQ3JlYXRvckZvcm1Qb3B1cCA9ICh7IHdlYnhyUmVjb3JkZXJBY3Rpdml0eSwgc2V0VmlldyB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcblxuICBjb25zdCBwb3B1cHNTdGF0ZSA9IHVzZVBvcHVwc1N0YXRlU3RhdGUoKVxuXG4gIC8vY29tbW9uIGZvciBjcmVhdG9yIGZvcm1cbiAgY29uc3QgaGFuZGxlQ3JlYXRvckZvcm1DbG9zZSA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlQ3JlYXRvckZvcm1TdGF0ZShmYWxzZSkpXG4gIH1cbiAgY29uc3QgcGxhdGZvcm1DbGFzcyA9IGlzSU9TID8gc3R5bGVzLmlzSW9zIDogJydcblxuICBjb25zdCByZW5kZXJDcmVhdG9Gb3JtTW9kYWwgPSAoKSA9PlxuICAgIHBvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JGb3JtPy52YWx1ZSA9PT0gdHJ1ZSAmJlxuICAgICF3ZWJ4clJlY29yZGVyQWN0aXZpdHkgJiYgKFxuICAgICAgPFNoYXJlZE1vZGFsXG4gICAgICAgIG9wZW49e3BvcHVwc1N0YXRlPy5wb3B1cHM/LmNyZWF0b3JGb3JtPy52YWx1ZX1cbiAgICAgICAgb25DbG9zZT17aGFuZGxlQ3JlYXRvckZvcm1DbG9zZX1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY3JlYXRvckZvcm1Qb3B1cCArICcgJyArIHBsYXRmb3JtQ2xhc3N9XG4gICAgICA+XG4gICAgICAgIDxDcmVhdG9yRm9ybSAvPlxuICAgICAgICA8QXBwRm9vdGVyIHNldFZpZXc9e3NldFZpZXd9IC8+XG4gICAgICA8L1NoYXJlZE1vZGFsPlxuICAgIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlbmRlckNyZWF0b0Zvcm1Nb2RhbCgpXG4gIH0sIFtwb3B1cHNTdGF0ZT8ucG9wdXBzLmNyZWF0b3JGb3JtLnZhbHVlXSlcbiAgcmV0dXJuIHJlbmRlckNyZWF0b0Zvcm1Nb2RhbCgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IENyZWF0b3JGb3JtUG9wdXBcbiIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBCdXR0b24sIENhcmRNZWRpYSwgVHlwb2dyYXBoeSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJ1xuaW1wb3J0IEFycm93QmFja0lvc0ljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Fycm93QmFja0lvcydcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IEFyTWVkaWFTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvYXJNZWRpYS9Bck1lZGlhU2VydmljZSdcbmltcG9ydCB7IHVzZUFyTWVkaWFTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2FyTWVkaWEvQXJNZWRpYVN0YXRlJ1xuaW1wb3J0IHsgUG9wdXBzU3RhdGVTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTZXJ2aWNlJ1xuLy8gaW1wb3J0IHsgIFBsdWdpbnMgfSBmcm9tICdAY2FwYWNpdG9yL2NvcmUnO1xuaW1wb3J0IFByZWxvYWRlciBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL1ByZWxvYWRlcidcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0FyTWVkaWEubW9kdWxlLnNjc3MnXG5cbi8vIGNvbnN0IHtYUlBsdWdpbn0gPSBQbHVnaW5zO1xuaW1wb3J0IHsgWFJQbHVnaW4gfSBmcm9tICd3ZWJ4ci1uYXRpdmUnXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCB7IEFyTWVkaWEgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0FyTWVkaWEnXG5pbnRlcmZhY2UgUHJvcHMge1xuICBwcm9qZWN0cz86IGFueVtdXG4gIHZpZXc/OiBhbnlcbn1cblxuY29uc3QgQXJNZWRpYSA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgW3R5cGUsIHNldFR5cGVdID0gdXNlU3RhdGUoJ2NsaXAnKVxuICBjb25zdCBbbGlzdCwgc2V0TGlzdF0gPSB1c2VTdGF0ZTxBck1lZGlhW10+KFtdKVxuICBjb25zdCBbcHJlbG9hZGluZywgc2V0UHJlbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkSXRlbSwgc2V0U2VsZWN0ZWRJdGVtXSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IGFyTWVkaWFTdGF0ZSA9IHVzZUFyTWVkaWFTdGF0ZSgpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goQXJNZWRpYVNlcnZpY2UuZ2V0QXJNZWRpYSgpKVxuICB9LCBbXSlcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpXG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KClcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFyTWVkaWFTdGF0ZS5mZXRjaGluZy52YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHNldExpc3QoYXJNZWRpYVN0YXRlPy5saXN0Py52YWx1ZT8uZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09IHR5cGUpIHx8IFtdKVxuICAgIH1cbiAgfSwgW2FyTWVkaWFTdGF0ZS5mZXRjaGluZy52YWx1ZSwgdHlwZV0pXG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy5hck1lZGlhQ29udGFpbmVyfT5cbiAgICAgIHtwcmVsb2FkaW5nICYmIDxQcmVsb2FkZXIgdGV4dD17J0xvYWRpbmcuLi4nfSAvPn1cbiAgICAgIDxCdXR0b25cbiAgICAgICAgdmFyaWFudD1cInRleHRcIlxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5iYWNrQnV0dG9ufVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goUG9wdXBzU3RhdGVTZXJ2aWNlLnVwZGF0ZUFyTWVkaWFTdGF0ZShmYWxzZSkpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxBcnJvd0JhY2tJb3NJY29uIC8+XG4gICAgICAgIHt0KCdzb2NpYWw6YXJNZWRpYS5iYWNrJyl9XG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLnN3aXRjaGVyfT5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9e3R5cGUgPT09ICdjbGlwJyA/ICdjb250YWluZWQnIDogJ3RleHQnfVxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnN3aXRjaEJ1dHRvbiArICh0eXBlID09PSAnY2xpcCcgPyAnICcgKyBzdHlsZXMuYWN0aXZlIDogJycpfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFR5cGUoJ2NsaXAnKX1cbiAgICAgICAgPlxuICAgICAgICAgIHt0KCdzb2NpYWw6YXJNZWRpYS5jbGlwJyl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICB7Lyo8QnV0dG9uKi99XG4gICAgICAgIHsvKiAgdmFyaWFudD17dHlwZSA9PT0gJ2JhY2tncm91bmQnID8gJ2NvbnRhaW5lZCcgOiAndGV4dCd9Ki99XG4gICAgICAgIHsvKiAgY2xhc3NOYW1lPXtzdHlsZXMuc3dpdGNoQnV0dG9uICsgKHR5cGUgPT09ICdiYWNrZ3JvdW5kJyA/ICcgJyArIHN0eWxlcy5hY3RpdmUgOiAnJyl9Ki99XG4gICAgICAgIHsvKiAgb25DbGljaz17KCkgPT4gc2V0VHlwZSgnYmFja2dyb3VuZCcpfSovfVxuICAgICAgICB7Lyo+Ki99XG4gICAgICAgIHsvKiAge3QoJ3NvY2lhbDphck1lZGlhLmJhY2tncm91bmRzJyl9Ki99XG4gICAgICAgIHsvKjwvQnV0dG9uPiovfVxuICAgICAgPC9zZWN0aW9uPlxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMuZmxleENvbnRhaW5lcn0+XG4gICAgICAgIHtsaXN0Lm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiAoXG4gICAgICAgICAgPHNlY3Rpb24ga2V5PXtpdGVtLmlkfSBjbGFzc05hbWU9e3N0eWxlcy5wcmV2aWV3SW1hZ2VDb250YWluZXJ9PlxuICAgICAgICAgICAgPENhcmRNZWRpYSBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEl0ZW0oaXRlbSl9IGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdJbWFnZX0gaW1hZ2U9e2l0ZW0ucHJldmlld1VybH0gLz5cbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5PntpdGVtLnRpdGxlfTwvVHlwb2dyYXBoeT5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICkpfVxuICAgICAgPC9zZWN0aW9uPlxuICAgICAge3R5cGUgPT0gJ2JhY2tncm91bmQnID8gPHRleHQgY2xhc3NOYW1lPXtzdHlsZXMudGV4dEN9PkNvbWluZyBzb29uIC4uLjwvdGV4dD4gOiAnICd9XG4gICAgICB7IXNlbGVjdGVkSXRlbSA/IG51bGwgOiAoXG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zdGFydFJlY2lyZGluZ31cbiAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRQcmVsb2FkaW5nKHRydWUpXG4gICAgICAgICAgICBpZiAoWFJQbHVnaW4udXBsb2FkRmlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBhd2FpdCBYUlBsdWdpbi51cGxvYWRGaWxlcyh7XG4gICAgICAgICAgICAgICAgYXVkaW9QYXRoOiBzZWxlY3RlZEl0ZW0uYXVkaW9VcmwsXG4gICAgICAgICAgICAgICAgYXVkaW9JZDogc2VsZWN0ZWRJdGVtLmF1ZGlvSWRcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFByZWxvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlQXJNZWRpYVN0YXRlKGZhbHNlKSlcbiAgICAgICAgICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVXZWJYUlN0YXRlKHRydWUsIHNlbGVjdGVkSXRlbS5pZCkpXG4gICAgICAgICAgfX1cbiAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0KCdzb2NpYWw6YXJNZWRpYS5zdGFydCcpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICl9XG4gICAgPC9zZWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFyTWVkaWFcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyB1c2VQb3B1cHNTdGF0ZVN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTdGF0ZSdcbmltcG9ydCB7IFBvcHVwc1N0YXRlU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU2VydmljZSdcbmltcG9ydCBBck1lZGlhIGZyb20gJy4uLy4uL0FyTWVkaWEnXG5pbXBvcnQgU2hhcmVkTW9kYWwgZnJvbSAnLi4vLi4vU2hhcmVkTW9kYWwnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vQXJNZWRpYVBvcHVwLm1vZHVsZS5zY3NzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge31cblxuZXhwb3J0IGNvbnN0IEFyTWVkaWFQb3B1cCA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgcG9wdXBzU3RhdGUgPSB1c2VQb3B1cHNTdGF0ZVN0YXRlKClcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG4gIC8vY29tbW9uIGZvciBBck1lZGlhIGNob29zZVxuICBjb25zdCBoYW5kbGVBck1lZGlhbUNsb3NlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVBck1lZGlhU3RhdGUoZmFsc2UpKVxuICB9XG4gIGNvbnN0IHJlbmRlckFyTWVkaWFNb2RhbCA9ICgpID0+XG4gICAgcG9wdXBzU3RhdGU/LnBvcHVwcy5hck1lZGlhPy52YWx1ZSA9PT0gdHJ1ZSAmJiAoXG4gICAgICA8U2hhcmVkTW9kYWxcbiAgICAgICAgb3Blbj17cG9wdXBzU3RhdGU/LnBvcHVwcy5hck1lZGlhPy52YWx1ZX1cbiAgICAgICAgb25DbG9zZT17aGFuZGxlQXJNZWRpYW1DbG9zZX1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuYXJNZWRpYVBvcHVwfVxuICAgICAgPlxuICAgICAgICA8QXJNZWRpYSAvPlxuICAgICAgPC9TaGFyZWRNb2RhbD5cbiAgICApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZW5kZXJBck1lZGlhTW9kYWwoKVxuICB9LCBbcG9wdXBzU3RhdGU/LnBvcHVwcz8uYXJNZWRpYT8udmFsdWVdKVxuICByZXR1cm4gcmVuZGVyQXJNZWRpYU1vZGFsKClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJNZWRpYVBvcHVwXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgdXNlUG9wdXBzU3RhdGVTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU3RhdGUnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVNlcnZpY2UnXG5pbXBvcnQgRmVlZEZvcm0gZnJvbSAnLi4vLi4vRmVlZEZvcm0nXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHNldFZpZXc/OiBhbnlcbn1cbmV4cG9ydCBjb25zdCBGZWVkRm9ybVBvcHVwID0gKHsgc2V0VmlldyB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAgY29uc3QgcG9wdXBzU3RhdGUgPSB1c2VQb3B1cHNTdGF0ZVN0YXRlKClcbiAgLy9jb21tb24gZm9yIG5ldyBmZWVkIHBhZ2VcbiAgY29uc3QgaGFuZGxlTmV3RmVlZENsb3NlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVOZXdGZWVkUGFnZVN0YXRlKGZhbHNlKSlcbiAgfVxuXG4gIGNvbnN0IHJlbmRlck5ld0ZlZWRNb2RhbCA9ICgpID0+XG4gICAgcG9wdXBzU3RhdGUucG9wdXBzLnNoYXJlRmVlZFBhZ2U/LnZhbHVlID09PSB0cnVlICYmIChcbiAgICAgIC8vIDxTaGFyZWRNb2RhbFxuICAgICAgLy8gICAgIG9wZW49e3BvcHVwc1N0YXRlPy5nZXQoJ3NoYXJlRmVlZFBhZ2UnKX1cbiAgICAgIC8vICAgICBvbkNsb3NlPXtoYW5kbGVOZXdGZWVkQ2xvc2V9XG4gICAgICAvLyAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZmVlZEZvcm1Qb3B1cH1cbiAgICAgIC8vID5cblxuICAgICAgPEZlZWRGb3JtIC8+XG4gICAgKVxuICAvLyA8QXBwRm9vdGVyIC8+XG4gIC8vICA8L1NoYXJlZE1vZGFsPjtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlbmRlck5ld0ZlZWRNb2RhbCgpXG4gIH0sIFtwb3B1cHNTdGF0ZS5wb3B1cHMuc2hhcmVGZWVkUGFnZS52YWx1ZV0pXG4gIHJldHVybiByZW5kZXJOZXdGZWVkTW9kYWwoKVxufVxuXG5leHBvcnQgZGVmYXVsdCBGZWVkRm9ybVBvcHVwXG4iLCJpbXBvcnQgeyBCb3gsIENhcmRBY3Rpb25BcmVhLCBDYXJkQWN0aW9ucywgQ2FyZENvbnRlbnQsIENhcmRNZWRpYSwgbWFrZVN0eWxlcywgVHlwb2dyYXBoeSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nXG5pbXBvcnQgQ2FyZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DYXJkJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IFBvcHVwc1N0YXRlU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU2VydmljZSdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9TaGFyZUZvcm0ubW9kdWxlLnNjc3MnXG5pbXBvcnQgeyBQbHVnaW5zIH0gZnJvbSAnQGNhcGFjaXRvci9jb3JlJ1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuaW1wb3J0IHsgdXNlUG9wdXBzU3RhdGVTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU3RhdGUnXG5pbXBvcnQgeyBTaGFyZSB9IGZyb20gJ0BjYXBhY2l0b3Ivc2hhcmUnXG5cbmludGVyZmFjZSBQcm9wcyB7fVxuXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIG1heFdpZHRoOiAnMzc1cHQnXG4gIH0sXG4gIG1lZGlhOiB7XG4gICAgaGVpZ2h0OiAnMzQwcHQnLFxuICAgIHdpZHRoOiAnMzc1cHQnXG4gIH0sXG4gIGJ0bl9zaGFyZToge1xuICAgIGJhY2tncm91bmRDb2xvcjogJ2JsYWNrJyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBib3R0b206ICcwJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICcmOmhvdmVyJzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmxhY2snLFxuICAgICAgY29sb3I6ICd3aGl0ZSdcbiAgICB9XG4gIH1cbn0pXG5cbmNvbnN0IFNoYXJlRm9ybSA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgcG9wdXBzU3RhdGUgPSB1c2VQb3B1cHNTdGF0ZVN0YXRlKClcbiAgY29uc3QgdmlkZW9VcmwgPSBwb3B1cHNTdGF0ZS5wb3B1cHMudmlkZW9Vcmw/LnZhbHVlXG4gIGNvbnN0IHByZXZpZXdVcmwgPSBwb3B1cHNTdGF0ZS5wb3B1cHMuaW1nU3JjPy52YWx1ZVxuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKClcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCBjbG9zZVBvcFVwcyA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlU2hhcmVGb3JtU3RhdGUoZmFsc2UpKVxuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVOZXdGZWVkUGFnZVN0YXRlKGZhbHNlKSlcbiAgfVxuXG4gIGNvbnN0IHNoYXJlVmlhID0gKCkgPT4ge1xuICAgIFNoYXJlLnNoYXJlKHtcbiAgICAgIHRpdGxlOiB0KCdzb2NpYWw6c2hhcmVGb3JtLmFyY01lZGlhJyksXG4gICAgICB0ZXh0OiB0KCdzb2NpYWw6c2hhcmVGb3JtLnZpZGVvQ3JlYXRlZCcpLFxuICAgICAgdXJsOiBlbmNvZGVVUkkodmlkZW9VcmwpLFxuICAgICAgZGlhbG9nVGl0bGU6IHQoJ3NvY2lhbDpzaGFyZUZvcm0uc2hhcmVXaXRoQnVkZGllcycpXG4gICAgfSlcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdwcmV2aWV3VXJscHJldmlld1VybCcsIHByZXZpZXdVcmwpXG4gIH0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNoYXJlRm9ybUNvbnRhaW5lcn0+XG4gICAgICA8Qm94IGRpc3BsYXk9XCJmbGV4XCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgbWluSGVpZ2h0PVwiNDV2aFwiPlxuICAgICAgICA8Q2FyZE1lZGlhXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLm1lZGlhICsgJyAnICsgc3R5bGVzLm1lZGlhfVxuICAgICAgICAgIGNvbXBvbmVudD1cImltZ1wiXG4gICAgICAgICAgYWx0PVwiQ29udGVtcGxhdGl2ZSBSZXB0aWxlXCJcbiAgICAgICAgICBzcmM9e3ByZXZpZXdVcmx9XG4gICAgICAgICAgLy8gaW1hZ2U9e3ByZXZpZXdVcmx9XG4gICAgICAgICAgdGl0bGU9XCJBcmNcIlxuICAgICAgICAgIHN0eWxlPXt7IG1heFdpZHRoOiAnY2FsYygxMDAlIC0gMzZwdCknLCBtYXhIZWlnaHQ6ICc0MHZoJyB9fVxuICAgICAgICAvPlxuICAgICAgPC9Cb3g+XG4gICAgICA8QnV0dG9uIHNpemU9XCJsYXJnZVwiIGNvbG9yPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3NoYXJlVmlhfSBjbGFzc05hbWU9e2NsYXNzZXMuYnRuX3NoYXJlfT5cbiAgICAgICAge3QoJ3NvY2lhbDpzaGFyZUZvcm0uc2hhcmVWaWRlbycpfVxuICAgICAgPC9CdXR0b24+XG4gICAgICB7Lyo8QnV0dG9uIHNpemU9XCJsYXJnZVwiIGNvbG9yPVwicHJpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHt1cGRhdGVTaGFyZUZvcm1TdGF0ZShmYWxzZSk7fX0qL31cbiAgICAgIHsvKiAgY2xhc3NOYW1lPXtzdHlsZXMuYnRuQWN0aW9ufT4qL31cbiAgICAgIHsvKiAge3QoJ3NvY2lhbDpzaGFyZUZvcm0uc2F2ZScpfSovfVxuICAgICAgey8qPC9CdXR0b24+Ki99XG4gICAgICA8QnV0dG9uXG4gICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBjbG9zZVBvcFVwcygpXG4gICAgICAgIH19XG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmJ0bkRpc2FibGVBY3Rpb259XG4gICAgICA+XG4gICAgICAgIHt0KCdzb2NpYWw6c2hhcmVGb3JtLmNsb3NlJyl9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFyZUZvcm1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyB1c2VQb3B1cHNTdGF0ZVN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTdGF0ZSdcbmltcG9ydCB7IFBvcHVwc1N0YXRlU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU2VydmljZSdcbmltcG9ydCBTaGFyZWRNb2RhbCBmcm9tICcuLi8uLi9TaGFyZWRNb2RhbCdcbmltcG9ydCBBcHBGb290ZXIgZnJvbSAnLi4vLi4vRm9vdGVyJ1xuaW1wb3J0IFNoYXJlRm9ybSBmcm9tICcuLi8uLi9TaGFyZUZvcm0vU2hhcmVGb3JtJ1xuXG4vL0B0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9TaGFyZWRGb3JtUG9wdXAubW9kdWxlLnNjc3MnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHNldFZpZXc/OiBhbnlcbn1cbmV4cG9ydCBjb25zdCBTaGFyZWRGb3JtUG9wdXAgPSAoeyBzZXRWaWV3IH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCBwb3B1cHNTdGF0ZSA9IHVzZVBvcHVwc1N0YXRlU3RhdGUoKVxuICAvL2NvbW1vbiBmb3Igc2hhcmUgZm9ybSBwYWdlXG4gIGNvbnN0IGhhbmRsZVNoYXJlRm9ybUNsb3NlID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVTaGFyZUZvcm1TdGF0ZShmYWxzZSkpXG4gIH1cbiAgY29uc3QgcmVuZGVyU2hhcmVGb3JtTW9kYWwgPSAoKSA9PlxuICAgIHBvcHVwc1N0YXRlPy5wb3B1cHM/LnNoYXJlRm9ybT8udmFsdWUgPT09IHRydWUgJiYgKFxuICAgICAgPFNoYXJlZE1vZGFsXG4gICAgICAgIG9wZW49e3BvcHVwc1N0YXRlPy5wb3B1cHMuc2hhcmVGb3JtLnZhbHVlfVxuICAgICAgICBvbkNsb3NlPXtoYW5kbGVTaGFyZUZvcm1DbG9zZX1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2hhcmVGb3JtUG9wdXB9XG4gICAgICA+XG4gICAgICAgIDxTaGFyZUZvcm0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wb3BVcEZvb3Rlcn0+XG4gICAgICAgICAgPEFwcEZvb3RlciBzZXRWaWV3PXtzZXRWaWV3fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvU2hhcmVkTW9kYWw+XG4gICAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVuZGVyU2hhcmVGb3JtTW9kYWwoKVxuICB9LCBbcG9wdXBzU3RhdGU/LnBvcHVwcy5zaGFyZUZvcm0/LnZhbHVlXSlcbiAgcmV0dXJuIHJlbmRlclNoYXJlRm9ybU1vZGFsKClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcmVkRm9ybVBvcHVwXG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgX3N0eWxlcyA9IHJlcXVpcmUoXCJAbWF0ZXJpYWwtdWkvc3R5bGVzXCIpO1xuXG52YXIgX2RlZmF1bHRUaGVtZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZGVmYXVsdFRoZW1lXCIpKTtcblxuZnVuY3Rpb24gd2l0aFN0eWxlcyhzdHlsZXNPckNyZWF0b3IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuICgwLCBfc3R5bGVzLndpdGhTdHlsZXMpKHN0eWxlc09yQ3JlYXRvciwgKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7XG4gICAgZGVmYXVsdFRoZW1lOiBfZGVmYXVsdFRoZW1lLmRlZmF1bHRcbiAgfSwgb3B0aW9ucykpO1xufVxuXG52YXIgX2RlZmF1bHQgPSB3aXRoU3R5bGVzO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5zdHlsZXMgPSB2b2lkIDA7XG5cbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIikpO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX2Nsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbHN4XCIpKTtcblxudmFyIF93aXRoU3R5bGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vc3R5bGVzL3dpdGhTdHlsZXNcIikpO1xuXG52YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgICByb290OiB7XG4gICAgICBmbGV4OiAnMSAxIGF1dG8nLFxuICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gICAgICAvLyBBZGQgaU9TIG1vbWVudHVtIHNjcm9sbGluZy5cbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgcGFkZGluZzogJzhweCAyNHB4JyxcbiAgICAgICcmOmZpcnN0LWNoaWxkJzoge1xuICAgICAgICAvLyBkaWFsb2cgd2l0aG91dCB0aXRsZVxuICAgICAgICBwYWRkaW5nVG9wOiAyMFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBkaXZpZGVycz17dHJ1ZX1gLiAqL1xuICAgIGRpdmlkZXJzOiB7XG4gICAgICBwYWRkaW5nOiAnMTZweCAyNHB4JyxcbiAgICAgIGJvcmRlclRvcDogXCIxcHggc29saWQgXCIuY29uY2F0KHRoZW1lLnBhbGV0dGUuZGl2aWRlciksXG4gICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIFwiLmNvbmNhdCh0aGVtZS5wYWxldHRlLmRpdmlkZXIpXG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0cy5zdHlsZXMgPSBzdHlsZXM7XG52YXIgRGlhbG9nQ29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpYWxvZ0NvbnRlbnQocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkZGl2aWRlcnMgPSBwcm9wcy5kaXZpZGVycyxcbiAgICAgIGRpdmlkZXJzID0gX3Byb3BzJGRpdmlkZXJzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXZpZGVycyxcbiAgICAgIG90aGVyID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIuZGVmYXVsdCkocHJvcHMsIFtcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJkaXZpZGVyc1wiXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICBjbGFzc05hbWU6ICgwLCBfY2xzeC5kZWZhdWx0KShjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwgZGl2aWRlcnMgJiYgY2xhc3Nlcy5kaXZpZGVycyksXG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGlhbG9nQ29udGVudC5wcm9wVHlwZXMgPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5ub2RlLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcblxuICAvKipcbiAgICogRGlzcGxheSB0aGUgdG9wIGFuZCBib3R0b20gZGl2aWRlcnMuXG4gICAqL1xuICBkaXZpZGVyczogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2xcbn0gOiB2b2lkIDA7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfd2l0aFN0eWxlcy5kZWZhdWx0KShzdHlsZXMsIHtcbiAgbmFtZTogJ011aURpYWxvZ0NvbnRlbnQnXG59KShEaWFsb2dDb250ZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5zdHlsZXMgPSB2b2lkIDA7XG5cbnZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIikpO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3dpdGhTdHlsZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9zdHlsZXMvd2l0aFN0eWxlc1wiKSk7XG5cbnZhciBfVHlwb2dyYXBoeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1R5cG9ncmFwaHlcIikpO1xuXG52YXIgc3R5bGVzID0ge1xuICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50LiAqL1xuICByb290OiB7XG4gICAgbWFyZ2luQm90dG9tOiAxMlxuICB9XG59O1xuZXhwb3J0cy5zdHlsZXMgPSBzdHlsZXM7XG52YXIgRGlhbG9nQ29udGVudFRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBEaWFsb2dDb250ZW50VGV4dChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVHlwb2dyYXBoeS5kZWZhdWx0LCAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHtcbiAgICBjb21wb25lbnQ6IFwicFwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTFcIixcbiAgICBjb2xvcjogXCJ0ZXh0U2Vjb25kYXJ5XCIsXG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGlhbG9nQ29udGVudFRleHQucHJvcFR5cGVzID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzLmRlZmF1bHQubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0XG59IDogdm9pZCAwO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX3dpdGhTdHlsZXMuZGVmYXVsdCkoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlEaWFsb2dDb250ZW50VGV4dCdcbn0pKERpYWxvZ0NvbnRlbnRUZXh0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgRGlhbG9nIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZydcbmltcG9ydCBTbGlkZSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9TbGlkZSdcbmltcG9ydCB7IFRyYW5zaXRpb25Qcm9wcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3RyYW5zaXRpb25zJ1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vVGVybXNhbmRQb2xpY3kubW9kdWxlLnNjc3MnXG5pbXBvcnQgRGlhbG9nQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50L0RpYWxvZ0NvbnRlbnQnXG5pbXBvcnQgRGlhbG9nQ29udGVudFRleHQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudFRleHQvRGlhbG9nQ29udGVudFRleHQnXG5pbXBvcnQgeyBCdXR0b24sIFR5cG9ncmFwaHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSdcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IENyZWF0b3JTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU2VydmljZSdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyB1c2VDcmVhdG9yU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9jcmVhdG9yL0NyZWF0b3JTdGF0ZSdcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuXG5jb25zdCBUcmFuc2l0aW9uID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzOiBUcmFuc2l0aW9uUHJvcHMgJiB7IGNoaWxkcmVuPzogUmVhY3QuUmVhY3RFbGVtZW50PGFueSwgYW55PiB9LCByZWY6IFJlYWN0LlJlZjx1bmtub3duPikgPT4ge1xuICAgIHJldHVybiA8U2xpZGUgZGlyZWN0aW9uPVwidXBcIiByZWY9e3JlZn0gey4uLnByb3BzfSAvPlxuICB9XG4pXG5cbmNvbnN0IFRlcm1zQW5kUG9saWN5ID0gKHsgc2V0VmlldyB9OiBhbnkpID0+IHtcbiAgY29uc3QgY3JlYXRvcnNTdGF0ZSA9IHVzZUNyZWF0b3JTdGF0ZSgpXG4gIGNvbnN0IGN1cnJlbnRDcmVhdG9yID0gY3JlYXRvcnNTdGF0ZS5jcmVhdG9ycy5jdXJyZW50Q3JlYXRvci52YWx1ZVxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcblxuICAvLyBNYWRlIGF0IHRoZSB0aW1lIG9mIHRoZSB0ZXN0IEFsZWtzOTUxXG4gIGNvbnN0IFtvcGVuVGVybXMsIHNldE9wZW5UZXJtc10gPSB1c2VTdGF0ZSghISFjdXJyZW50Q3JlYXRvci50ZXJtcylcbiAgLy8gY29uc3QgW29wZW5UZXJtcywgc2V0T3BlblRlcm1zXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtvcGVuUG9saWN5LCBzZXRPcGVuUG9saWN5XSA9IHVzZVN0YXRlKCEhIWN1cnJlbnRDcmVhdG9yLnRlcm1zID8gZmFsc2UgOiAhISFjdXJyZW50Q3JlYXRvci5wb2xpY3kpXG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oKVxuICBjb25zdCBbYWdyZWUsIHNldEFncmVlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbYWdyZWVQUCwgc2V0QWdyZWVQUF0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBjaGVja2JveEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgLy8gaWYgYWdyZWUgPT09IHRydWUsIGl0IHdpbGwgYmUgc2V0IHRvIGZhbHNlXG4gICAgLy8gaWYgYWdyZWUgPT09IGZhbHNlLCBpdCB3aWxsIGJlIHNldCB0byB0cnVlXG4gICAgc2V0QWdyZWUoIWFncmVlKVxuICAgIC8vIERvbid0IG1pc3MgdGhlIGV4Y2xhbWF0aW9uIG1hcmtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrYm94SGFuZGxlclBQID0gKCkgPT4ge1xuICAgIC8vIGlmIGFncmVlID09PSB0cnVlLCBpdCB3aWxsIGJlIHNldCB0byBmYWxzZVxuICAgIC8vIGlmIGFncmVlID09PSBmYWxzZSwgaXQgd2lsbCBiZSBzZXQgdG8gdHJ1ZVxuICAgIHNldEFncmVlUFAoIWFncmVlUFApXG4gICAgLy8gRG9uJ3QgbWlzcyB0aGUgZXhjbGFtYXRpb24gbWFya1xuICB9XG5cbiAgLy8gY29uc3QgaGFuZGxlVGVybXNBY2NlcHQgPSAoKSA9PiB7XG4gIC8vICAgc2V0T3BlblRlcm1zKGZhbHNlKVxuICAvLyAgIHVwZGF0ZUNyZWF0b3IoeyBpZDogY3JlYXRvcnNTdGF0ZS5nZXQoJ2N1cnJlbnRDcmVhdG9yJykuaWQsIHRlcm1zOiB0cnVlIH0pXG4gIC8vICAgISEhY3VycmVudENyZWF0b3IucG9saWN5ICYmIHNldE9wZW5Qb2xpY3kodHJ1ZSlcbiAgLy8gfVxuXG4gIC8vIGNvbnN0IGhhbmRsZVBvbGljeUFjY2VwdCA9ICgpID0+IHtcbiAgLy8gICB1cGRhdGVDcmVhdG9yKHsgaWQ6IGNyZWF0b3JzU3RhdGUuZ2V0KCdjdXJyZW50Q3JlYXRvcicpLmlkLCBwb2xpY3k6IHRydWUgfSlcbiAgLy8gICBzZXRPcGVuUG9saWN5KGZhbHNlKVxuICAvLyB9XG5cbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gKCkgPT4ge1xuICAgIHNldE9wZW5UZXJtcyhmYWxzZSlcbiAgICBzZXRPcGVuUG9saWN5KGZhbHNlKVxuICAgIGRpc3BhdGNoKFxuICAgICAgQ3JlYXRvclNlcnZpY2UudXBkYXRlQ3JlYXRvcih7XG4gICAgICAgIGlkOiBjcmVhdG9yc1N0YXRlLmNyZWF0b3JzLmN1cnJlbnRDcmVhdG9yPy5pZD8udmFsdWUsXG4gICAgICAgIHRlcm1zOiB0cnVlLFxuICAgICAgICBwb2xpY3k6IHRydWUsXG4gICAgICAgIG5hbWU6IGNyZWF0b3JzU3RhdGUuY3JlYXRvcnMuY3VycmVudENyZWF0b3I/Lm5hbWU/LnZhbHVlXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tYWluQmxvY2t9PlxuICAgICAgPERpYWxvZ1xuICAgICAgICBvcGVuPXtvcGVuVGVybXN9XG4gICAgICAgIFRyYW5zaXRpb25Db21wb25lbnQ9e1RyYW5zaXRpb259XG4gICAgICAgIGtlZXBNb3VudGVkXG4gICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImFsZXJ0LWRpYWxvZy1zbGlkZS10aXRsZVwiXG4gICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJhbGVydC1kaWFsb2ctc2xpZGUtZGVzY3JpcHRpb25cIlxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5kaWFsb2dXaW5kb3d9XG4gICAgICAgIFBhcGVyUHJvcHM9e3tcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQ6ICdtYXgtY29udGVudCcsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMnB4J1xuICAgICAgICAgIH1cbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPERpYWxvZ0NvbnRlbnQ+XG4gICAgICAgICAgPERpYWxvZ0NvbnRlbnRUZXh0PlxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgYWxpZ249XCJjZW50ZXJcIiB2YXJpYW50PVwic3VidGl0bGUxXCI+XG4gICAgICAgICAgICAgIHsnQnkgdGFwcGluZyBcIkkgYWdyZWUgdG8gVGVybXMgb2YgU2VydmljZSBhbmQgUG9saWN5IG9mIFNlcnZpY2VcIiwgeW91IGFncmVlIHRvIG91ciAnfVxuICAgICAgICAgICAgICB7LyogPExpbmsgY2xhc3NOYW1lPXtzdHlsZXMuc3R5bGVMaW5rfSB0bz1cIi90ZXJtc1wiPlxuICAgICAgICAgICAgICAgIFRlcm1zIG9mIFNlcnZpY2VcbiAgICAgICAgICAgICAgPC9MaW5rPiAqL31cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMCdcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFZpZXcoJ3Rlcm1zJylcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGI+VGVybXMgb2YgU2VydmljZTwvYj5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIHsnIGFuZCBhY2tub3dsZWRnZSB0aGF0IHlvdSBoYXZlIG91ciAnfVxuICAgICAgICAgICAgICB7LyogPExpbmsgY2xhc3NOYW1lPXtzdHlsZXMuc3R5bGVMaW5rfSB0bz1cIi9wb2xpY3lcIj5cbiAgICAgICAgICAgICAgICBQcml2YWN5IFBvbGljeVxuICAgICAgICAgICAgICA8L0xpbms+ICovfVxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0VmlldygncG9saWN5JylcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGI+UHJpdmFjeSBQb2xpY3k8L2I+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICB7JyB0byBsZWFybiBob3cgd2UgY29sbGVjdCwgdXNlLCBhbmQgc2hhcmUgeW91ciBkYXRhLid9XG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgPC9EaWFsb2dDb250ZW50VGV4dD5cbiAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJvdHRvbUJveH0+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHsvKiBEb24ndCBtaXNzIHRoZSBleGNsYW1hdGlvbiBtYXJrKiAqL31cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIG9uQ2xpY2s9e2hhbmRsZUFjY2VwdH0+XG4gICAgICAgICAgICAgIEFncmVlIGFuZCBjb250aW51ZVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9EaWFsb2c+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGVybXNBbmRQb2xpY3lcbiIsIi8qKlxuICogQGF1dGhvciBZZXZoZW55aSBQZXRyZW5rbyA8ZXZoZW55aXBldHJlbmtvQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL0Jsb2NrZWQubW9kdWxlLnNjc3MnXG5cbmNvbnN0IEJsb2NrZWQgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy53cmFwfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgICAgPHA+WW91IGhhdmUgYmVlbiB0ZW1wb3JhcmlseSBibG9ja2VkIHBlbmRpbmcgZnVydGhlciByZXZpZXc8L3A+XG4gICAgICAgIDxwPlBsZWFzZSBjb250YWN0IHN1cHBvcnQgd2l0aCBhbnkgcXVlc3Rpb25zPC9wPlxuICAgICAgICA8aHIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tYWlsfT5cbiAgICAgICAgICA8YSBocmVmPVwibWFpbHRvOmluZm9AYXJjbWVkaWEudXNcIj5pbmZvQGFyY21lZGlhLnVzPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJsb2NrZWRcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xNyAxMC41VjdjMC0uNTUtLjQ1LTEtMS0xSDRjLS41NSAwLTEgLjQ1LTEgMXYxMGMwIC41NS40NSAxIDEgMWgxMmMuNTUgMCAxLS40NSAxLTF2LTMuNWw0IDR2LTExbC00IDR6XCJcbn0pLCAnVmlkZW9jYW0nKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTIwIDVoLTMuMTdMMTUgM0g5TDcuMTcgNUg0Yy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjdjMC0xLjEtLjktMi0yLTJ6bS04IDEzYy0yLjc2IDAtNS0yLjI0LTUtNUg1bDIuNS0yLjVMMTAgMTNIOGMwIDIuMjEgMS43OSA0IDQgNCAuNTggMCAxLjEzLS4xMyAxLjYyLS4zNWwuNzQuNzRjLS43MS4zNy0xLjUuNjEtMi4zNi42MXptNC41LTIuNUwxNCAxM2gyYzAtMi4yMS0xLjc5LTQtNC00LS41OCAwLTEuMTMuMTMtMS42Mi4zNWwtLjc0LS43M0MxMC4zNSA4LjI0IDExLjE0IDggMTIgOGMyLjc2IDAgNSAyLjI0IDUgNWgybC0yLjUgMi41elwiXG59KSwgJ0ZsaXBDYW1lcmFJb3MnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1dlYlhSSGludHMubW9kdWxlLnNjc3MnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGhpbnRPbmVTaG93PzogYW55XG59XG5cbmNvbnN0IEhpbnRPbmUgPSAoeyBoaW50T25lU2hvdyB9OiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuaGludE9uZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRoaXJkU2NyZWVuICsgJyAnICsgc3R5bGVzLm9uYm9hcmRpbmd9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJlbGF0aXZlSW1hZ2V9PlxuICAgICAgICAgIDxpbWcgc3JjPVwiL2Fzc2V0cy9mZWVkT25ib2FyZGluZy9jYW1lcmEucG5nXCIgY2xhc3NOYW1lPXtzdHlsZXMubW9iSW1hZ2V9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5yZWxhdGl2ZVBvaW50ZXJ9PlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT17c3R5bGVzLmxvYWRpbmdGcmFtZX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17c3R5bGVzLm9mZnNldEltZ30+VGFwIHRoZSBzY3JlZW4gdG8gbG9jayBtZSBpbiBwbGFjZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgaGludE9uZVNob3coZmFsc2UpXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHsnICd9XG4gICAgICAgICAgR290IGl0IXsnICd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGludE9uZVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1dlYlhSSGludHMubW9kdWxlLnNjc3MnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGhpbnRUd29TaG93PzogYW55XG59XG5cbmNvbnN0IEhpbnRUd28gPSAoeyBoaW50VHdvU2hvdyB9OiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzdHlsZXMuaGludE9uZX1gICsgJyAnICsgYCR7c3R5bGVzLmhpbnRUd299YH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRoaXJkU2NyZWVuICsgJyAnICsgc3R5bGVzLm9uYm9hcmRpbmd9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJlbGF0aXZlSW1hZ2V9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucmVsYXRpdmVQb2ludGVyfT5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9e3N0eWxlcy5sb2FkaW5nRnJhbWUgKyAnICcgKyBzdHlsZXMuaGludEJ1dHRvblR3b30+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNpcmNsZX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jaXJjbGV9IC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY2lyY2xlfSAvPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17c3R5bGVzLm9mZnNldEltZ30+SGl0IHJlY29yZCB0byBzdGFydCB0aGUgcGVyZm9ybWFuY2UuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIGhpbnRUd29TaG93KGZhbHNlKVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7JyAnfVxuICAgICAgICAgIEdvdCBpdCF7JyAnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhpbnRUd29cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb21HZXN0dXJlSGFuZGxlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsYmFjazogKHpvb206IG51bWJlcikgPT4gdm9pZFxuICBwcml2YXRlIHByZXZpb3VzR2VzdHVyZURpc3RhbmNlID0gMFxuICBwdWJsaWMgc2NhbGUgPSAxXG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNhbGxiYWNrOiAoem9vbTogbnVtYmVyKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydClcbiAgfVxuXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydClcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQpXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpXG4gIH1cblxuICBvblRvdWNoU3RhcnQgPSAoZTogVG91Y2hFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLnByZXZpb3VzR2VzdHVyZURpc3RhbmNlID0gTWF0aC5oeXBvdChcbiAgICAgICAgZS50b3VjaGVzWzBdLnBhZ2VYIC0gZS50b3VjaGVzWzFdLnBhZ2VYLFxuICAgICAgICBlLnRvdWNoZXNbMF0ucGFnZVkgLSBlLnRvdWNoZXNbMV0ucGFnZVlcbiAgICAgIClcblxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kKVxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpXG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaEVuZCA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSlcbiAgfVxuXG4gIG9uVG91Y2hNb3ZlID0gKGU6IFRvdWNoRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBjdXJyZW50R2VzdHVyZURpc3RhbmNlID0gTWF0aC5oeXBvdChcbiAgICAgIGUudG91Y2hlc1swXS5wYWdlWCAtIGUudG91Y2hlc1sxXS5wYWdlWCxcbiAgICAgIGUudG91Y2hlc1swXS5wYWdlWSAtIGUudG91Y2hlc1sxXS5wYWdlWVxuICAgIClcblxuICAgIHRoaXMuc2NhbGUgPSBjdXJyZW50R2VzdHVyZURpc3RhbmNlIC8gdGhpcy5wcmV2aW91c0dlc3R1cmVEaXN0YW5jZVxuICAgIHRoaXMucHJldmlvdXNHZXN0dXJlRGlzdGFuY2UgPSBjdXJyZW50R2VzdHVyZURpc3RhbmNlXG5cbiAgICB0aGlzLmNhbGxiYWNrKHRoaXMuc2NhbGUpXG4gIH1cbn1cbiIsImltcG9ydCB7IENhcGFjaXRvciB9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSdcbmltcG9ydCB7IFhSUGx1Z2luIH0gZnJvbSAnd2VieHItbmF0aXZlJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtcbiAgQ2FtZXJhSGVscGVyLFxuICBDb2xvcixcbiAgR3JvdXAsXG4gIE9ydGhvZ3JhcGhpY0NhbWVyYSxcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFF1YXRlcm5pb24sXG4gIFNjZW5lLFxuICBzUkdCRW5jb2RpbmcsXG4gIFZlY3RvcjMsXG4gIFdlYkdMUmVuZGVyZXJcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgVmlkZW9jYW1JY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9WaWRlb2NhbSdcbmltcG9ydCBGbGlwQ2FtZXJhSW9zSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRmxpcENhbWVyYUlvcydcbmltcG9ydCBQbGF5ZXIgZnJvbSAndm9sdW1ldHJpYy93ZWIvZGVjb2Rlci9QbGF5ZXInXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgUGxheWVyV29ya2VyIGZyb20gJ3ZvbHVtZXRyaWMvd2ViL2RlY29kZXIvd29ya2VyRnVuY3Rpb24udHM/d29ya2VyJ1xuXG4vL0B0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9XZWJYUlBsdWdpbi5tb2R1bGUuc2NzcydcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVNlcnZpY2UnXG5pbXBvcnQgeyB1c2VQb3B1cHNTdGF0ZVN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTdGF0ZSdcbmltcG9ydCB7IHVzZUFyTWVkaWFTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2FyTWVkaWEvQXJNZWRpYVN0YXRlJ1xuaW1wb3J0IHsgQXJNZWRpYVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9hck1lZGlhL0FyTWVkaWFTZXJ2aWNlJ1xuLy8gaW1wb3J0IEhpbnRPbmUgZnJvbSAnLi4vV2ViWHJIaW50cy9IaW50T25lJ1xuLy8gaW1wb3J0IEhpbnRUd28gZnJvbSAnLi4vV2ViWHJIaW50cy9IaW50VHdvJ1xuaW1wb3J0IHsgRmVlZFNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9mZWVkL0ZlZWRTZXJ2aWNlJ1xuaW1wb3J0IEhpbnRPbmUgZnJvbSAnLi4vV2ViWHJIaW50cy9IaW50T25lJ1xuaW1wb3J0IEhpbnRUd28gZnJvbSAnLi4vV2ViWHJIaW50cy9IaW50VHdvJ1xuaW1wb3J0IFpvb21HZXN0dXJlSGFuZGxlciBmcm9tICcuL1pvb21HZXN0dXJlSGFuZGxlcidcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgc2V0Q29udGVudEhpZGRlbj86IGFueVxuICB3ZWJ4clJlY29yZGVyQWN0aXZpdHk/OiBhbnlcbiAgZmVlZEhpbnRzT25ib3JkZWQ/OiBhbnlcbiAgc2V0RmVlZEhpbnRzT25ib3JkZWQ/OiBhbnlcbn1cblxuY29uc3QgeyBpc05hdGl2ZSB9ID0gQ2FwYWNpdG9yXG5cbmVudW0gUmVjb3JkaW5nU3RhdGVzIHtcbiAgT0ZGID0gJ29mZicsXG4gIE9OID0gJ29uJyxcbiAgU1RBUlRJTkcgPSAnc3RhcnRpbmcnLFxuICBFTkRJTkcgPSAnZW5kaW5nJ1xufVxuXG5jb25zdCBjb3JyZWN0aW9uUXVhdGVybmlvblogPSBuZXcgUXVhdGVybmlvbigpLnNldEZyb21BeGlzQW5nbGUobmV3IFZlY3RvcjMoMCwgMCwgMSksIE1hdGguUEkgLyAyKVxuXG4vLyBUT0RPOiByZXR1cm4gaXQgdG8gZmFsc2VcbmNvbnN0IF9ERUJVRyA9IGZhbHNlXG5jb25zdCBERUJVR19NSU5JX1ZJRVdQT1JUX1NJWkUgPSAxMDBcblxuZXhwb3J0IGNvbnN0IFdlYlhSUGx1Z2luID0gKHtcbiAgc2V0Q29udGVudEhpZGRlbixcbiAgd2VieHJSZWNvcmRlckFjdGl2aXR5LFxuICBmZWVkSGludHNPbmJvcmRlZCxcbiAgc2V0RmVlZEhpbnRzT25ib3JkZWRcbn06IFByb3BzKSA9PiB7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IFJlYWN0LnVzZVJlZigpXG4gIGNvbnN0IFtpbml0aWFsaXphdGlvblJlc3BvbnNlLCBzZXRJbml0aWFsaXphdGlvblJlc3BvbnNlXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbY2FtZXJhU3RhcnRlZFN0YXRlLCBzZXRDYW1lcmFTdGFydGVkU3RhdGVdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtjYW1lcmFQb3NlU3RhdGUsIHNldENhbWVyYVBvc2VTdGF0ZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2FuY2hvclBvc2VTdGF0ZSwgc2V0QW5jaG9yUG9zZVN0YXRlXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaW50cmluc2ljc1N0YXRlLCBzZXRDYW1lcmFJbnRyaW5zaWNzU3RhdGVdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzYXZlZEZpbGVQYXRoLCBzZXRTYXZlZEZpbGVQYXRoXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaGludE9uZSwgaGludE9uZVNob3ddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtoaW50VHdvLCBoaW50VHdvU2hvd10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgLy8gICAgIGNvbnN0IFtob3Jpem9udGFsT3JpZW50YXRpb24sIHNldEhvcml6b250YWxPcmllbnRhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZWRpYUl0ZW0sIF9zZXRNZWRpYUl0ZW1dID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW3ZpZGVvRGVsYXksIHNldFZpZGVvRGVsYXldID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW3JlY29yZGluZ1N0YXRlLCBfc2V0UmVjb3JkaW5nU3RhdGVdID0gdXNlU3RhdGUoUmVjb3JkaW5nU3RhdGVzLk9GRilcbiAgY29uc3QgcGxheWVyUmVmID0gdXNlUmVmPFBsYXllciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGFuY2hvclJlZiA9IHVzZVJlZjxHcm91cCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IHNjZW5lUmVmID0gdXNlUmVmPFNjZW5lIHwgbnVsbD4obnVsbClcbiAgY29uc3QgY2FtZXJhUmVmID0gdXNlUmVmPFBlcnNwZWN0aXZlQ2FtZXJhIHwgbnVsbD4obnVsbClcbiAgY29uc3QgcmVuZGVyZXJSZWYgPSB1c2VSZWY8V2ViR0xSZW5kZXJlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGFuaW1hdGlvbkZyYW1lSWRSZWYgPSB1c2VSZWY8bnVtYmVyPigwKVxuICBjb25zdCB6b29tSGFuZGxlclJlZiA9IHVzZVJlZjxab29tR2VzdHVyZUhhbmRsZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAgY29uc3QgYXJNZWRpYVN0YXRlID0gdXNlQXJNZWRpYVN0YXRlKClcbiAgY29uc3QgcmVjb3JkaW5nU3RhdGVSZWYgPSBSZWFjdC51c2VSZWYocmVjb3JkaW5nU3RhdGUpXG4gIGNvbnN0IHNldFJlY29yZGluZ1N0YXRlID0gKGRhdGEpID0+IHtcbiAgICByZWNvcmRpbmdTdGF0ZVJlZi5jdXJyZW50ID0gZGF0YVxuICAgIF9zZXRSZWNvcmRpbmdTdGF0ZShkYXRhKVxuICB9XG4gIGNvbnN0IHBvcHVwc1N0YXRlID0gdXNlUG9wdXBzU3RhdGVTdGF0ZSgpXG4gIGNvbnN0IG1lZGlhSXRlbVJlZiA9IFJlYWN0LnVzZVJlZihtZWRpYUl0ZW0pXG4gIGNvbnN0IHNldE1lZGlhSXRlbSA9IChkYXRhKSA9PiB7XG4gICAgbWVkaWFJdGVtUmVmLmN1cnJlbnQgPSBkYXRhXG4gICAgX3NldE1lZGlhSXRlbShkYXRhKVxuICB9XG4gIGNvbnN0IGNsb3NlQnRuQWN0aW9uID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuXG4gIGNvbnN0IGRlYnVnQ2FtZXJhOiB7XG4gICAgdXNlckNhbWVyYUhlbHBlcjogQ2FtZXJhSGVscGVyXG4gICAgb3ZlcnZpZXc6IFBlcnNwZWN0aXZlQ2FtZXJhXG4gICAgeHo6IE9ydGhvZ3JhcGhpY0NhbWVyYVxuICAgIHh5OiBPcnRob2dyYXBoaWNDYW1lcmFcbiAgICB6eTogT3J0aG9ncmFwaGljQ2FtZXJhXG4gIH0gPSB7XG4gICAgdXNlckNhbWVyYUhlbHBlcjogbnVsbCxcbiAgICBvdmVydmlldzogbnVsbCxcbiAgICB4ejogbnVsbCxcbiAgICB4eTogbnVsbCxcbiAgICB6eTogbnVsbFxuICB9XG5cbiAgY29uc3Qgc2hvd0NvbnRlbnQgPSAoKSA9PiB7XG4gICAgaWYgKCF3ZWJ4clJlY29yZGVyQWN0aXZpdHkpIHtcbiAgICAgIHNldENvbnRlbnRIaWRkZW4oKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQmFja0J1dHRvbigpIHtcbiAgICBjb25zb2xlLmxvZygnb25CYWNrQnV0dG9uIHJlY29yZGluZ1N0YXRlOicsIHJlY29yZGluZ1N0YXRlUmVmLmN1cnJlbnQpXG4gICAgY2xvc2VCdG5BY3Rpb24uY3VycmVudCA9IHRydWVcbiAgICBmaW5pc2hSZWNvcmQoKVxuICAgIC8vIGV4aXQgdGhpcyBwb3B1cFxuICAgIGRpc3BhdGNoKFBvcHVwc1N0YXRlU2VydmljZS51cGRhdGVXZWJYUlN0YXRlKGZhbHNlLCBudWxsKSlcblxuICAgIHNob3dDb250ZW50KClcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3JlY29yZGluZ1N0YXRlIFVTRSBFRkZFQ1Q6JywgcmVjb3JkaW5nU3RhdGUpXG4gIH0sIFtyZWNvcmRpbmdTdGF0ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygnV2ViWFJDb21wb25lbnQgTU9VTlRFRCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JhY2tidXR0b24nLCBvbkJhY2tCdXR0b24pXG5cbiAgICBpZiAoIXpvb21IYW5kbGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHpvb21IYW5kbGVyUmVmLmN1cnJlbnQgPSBuZXcgWm9vbUdlc3R1cmVIYW5kbGVyKGNhbnZhc1JlZi5jdXJyZW50LCAoc2NhbGUpID0+IHtcbiAgICAgICAgaWYgKGFuY2hvclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgYW5jaG9yUmVmLmN1cnJlbnQuc2NhbGUubXVsdGlwbHlTY2FsYXIoc2NhbGUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKCFmZWVkSGludHNPbmJvcmRlZCkge1xuICAgICAgaGludE9uZVNob3codHJ1ZSlcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ1dlYlhSQ29tcG9uZW50IFVOTU9VTlQnKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JhY2tidXR0b24nLCBvbkJhY2tCdXR0b24pXG5cbiAgICAgIGlmIChhbmltYXRpb25GcmFtZUlkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZFJlZi5jdXJyZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAocGxheWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlhSQ29tcG9uZW50IC0gZGlzcG9zZSBwbGF5ZXInKVxuICAgICAgICBwbGF5ZXJSZWYuY3VycmVudC5kaXNwb3NlKClcbiAgICAgICAgcGxheWVyUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAoem9vbUhhbmRsZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnV2ViWFJDb21wb25lbnQgLSBkaXNwb3NlIHpvb20gaGFuZGxlcicpXG4gICAgICAgIHpvb21IYW5kbGVyUmVmLmN1cnJlbnQuZGlzcG9zZSgpXG4gICAgICAgIHpvb21IYW5kbGVyUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdXZWJYUkNvbXBvbmVudCAtIHN0b3AgcGx1Z2luJylcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIFhSUGx1Z2luLnJlbW92ZUFsbExpc3RlbmVycygpXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBYUlBsdWdpbi5zdG9wKHt9KVxuICAgICAgd2luZG93LnNjcmVlbi5vcmllbnRhdGlvbi51bmxvY2soKVxuXG4gICAgICAvLyBzZXRDb250ZW50SGlkZGVuKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnV2ViWFJDb21wb25lbnQgLSBVTk1PVU5UIEVORCcpO1xuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgcmFmID0gKCkgPT4ge1xuICAgIGFuaW1hdGlvbkZyYW1lSWRSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpIC8vIGFsd2F5cyByZXF1ZXN0IG5ldyBmcmFtZVxuICAgIGNvbnN0IHNjZW5lID0gc2NlbmVSZWYuY3VycmVudFxuICAgIGNvbnN0IGNhbWVyYSA9IGNhbWVyYVJlZi5jdXJyZW50XG4gICAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlclJlZi5jdXJyZW50XG4gICAgaWYgKCFyZW5kZXJlcikge1xuICAgICAgLy8gaWYgcmVuZGVyZXIgaXMgbm90IGNyZWF0ZWQgeWV0LCB3ZSBoYXZlIG5vdGhpbmcgdG8gcmVuZGVyXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBwbGF5ZXJSZWYuY3VycmVudD8uaGFuZGxlUmVuZGVyKCgpID0+IHt9KVxuXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpXG5cbiAgICBpZiAoX0RFQlVHKSB7XG4gICAgICBjb25zdCBjbGVhckNvbG9yID0gbmV3IENvbG9yKClcbiAgICAgIHJlbmRlcmVyLmdldENsZWFyQ29sb3IoY2xlYXJDb2xvcilcbiAgICAgIGNvbnN0IGNsZWFyQWxwaGEgPSByZW5kZXJlci5nZXRDbGVhckFscGhhKClcblxuICAgICAgZGVidWdDYW1lcmEudXNlckNhbWVyYUhlbHBlci52aXNpYmxlID0gdHJ1ZVxuXG4gICAgICByZW5kZXJlci5zZXRTY2lzc29yVGVzdCh0cnVlKVxuICAgICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweGEwYTBhMCwgMSlcblxuICAgICAgcmVuZGVyZXIuc2V0Vmlld3BvcnQoMTAsIDEwICogMiArIERFQlVHX01JTklfVklFV1BPUlRfU0laRSwgREVCVUdfTUlOSV9WSUVXUE9SVF9TSVpFLCBERUJVR19NSU5JX1ZJRVdQT1JUX1NJWkUpXG4gICAgICByZW5kZXJlci5zZXRTY2lzc29yKDEwLCAxMCAqIDIgKyBERUJVR19NSU5JX1ZJRVdQT1JUX1NJWkUsIERFQlVHX01JTklfVklFV1BPUlRfU0laRSwgREVCVUdfTUlOSV9WSUVXUE9SVF9TSVpFKVxuICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBkZWJ1Z0NhbWVyYS5vdmVydmlldylcbiAgICAgIDtbZGVidWdDYW1lcmEueHosIGRlYnVnQ2FtZXJhLnh5LCBkZWJ1Z0NhbWVyYS56eV0uZm9yRWFjaCgoY2FtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBsZWZ0ID0gMTAgKyAoREVCVUdfTUlOSV9WSUVXUE9SVF9TSVpFICsgMTApICogaW5kZXhcbiAgICAgICAgcmVuZGVyZXIuc2V0Vmlld3BvcnQobGVmdCwgMTAsIERFQlVHX01JTklfVklFV1BPUlRfU0laRSwgREVCVUdfTUlOSV9WSUVXUE9SVF9TSVpFKVxuICAgICAgICByZW5kZXJlci5zZXRTY2lzc29yKGxlZnQsIDEwLCBERUJVR19NSU5JX1ZJRVdQT1JUX1NJWkUsIERFQlVHX01JTklfVklFV1BPUlRfU0laRSlcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW0pXG4gICAgICB9KVxuXG4gICAgICAvLyByZXNldCBjaGFuZ2VzXG4gICAgICBkZWJ1Z0NhbWVyYS51c2VyQ2FtZXJhSGVscGVyLnZpc2libGUgPSBmYWxzZVxuICAgICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihjbGVhckNvbG9yLCBjbGVhckFscGhhKVxuICAgICAgcmVuZGVyZXIuc2V0U2Npc3NvclRlc3QoZmFsc2UpXG4gICAgICByZW5kZXJlci5zZXRWaWV3cG9ydCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGl0ZW1JZCA9IHBvcHVwc1N0YXRlLnBvcHVwcy5pdGVtSWQ/LnZhbHVlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goQXJNZWRpYVNlcnZpY2UuZ2V0QXJNZWRpYUl0ZW0oaXRlbUlkKSlcbiAgfSwgW2l0ZW1JZF0pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhck1lZGlhU3RhdGUuZmV0Y2hpbmdJdGVtLnZhbHVlKSB7XG4gICAgICBzZXRNZWRpYUl0ZW0oYXJNZWRpYVN0YXRlLml0ZW0udmFsdWUpXG4gICAgfVxuICB9LCBbYXJNZWRpYVN0YXRlLmZldGNoaW5nSXRlbS52YWx1ZSwgYXJNZWRpYVN0YXRlLCBpdGVtSWRdKVxuXG4gIGNvbnN0IG1lZGlhSXRlbUlkID0gbWVkaWFJdGVtPy5pZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWVkaWFJdGVtSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdNZWRpYSBpdGVtIGlzIG5vdCBoZXJlIHlldCcsIGl0ZW1JZCwgYXJNZWRpYVN0YXRlPy5mZXRjaGluZ0l0ZW0udmFsdWUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICA7KGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc2NlbmVSZWYuY3VycmVudCkge1xuICAgICAgICBzY2VuZVJlZi5jdXJyZW50ID0gbmV3IFNjZW5lKClcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNjZW5lID0gc2NlbmVSZWYuY3VycmVudFxuXG4gICAgICBpZiAoX0RFQlVHKSB7XG4gICAgICAgIGRlYnVnQ2FtZXJhLnh6ID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSgyLCAtMiwgMiwgLTIsIDAuMDAxLCAxMDApXG4gICAgICAgIGRlYnVnQ2FtZXJhLnh6LnBvc2l0aW9uLnkgPSAxMFxuICAgICAgICBkZWJ1Z0NhbWVyYS54ei5yb3RhdGVYKC1NYXRoLlBJIC8gMilcblxuICAgICAgICBkZWJ1Z0NhbWVyYS54eSA9IG5ldyBPcnRob2dyYXBoaWNDYW1lcmEoMiwgLTIsIDIsIC0yLCAwLjAwMSwgMTAwKVxuICAgICAgICBkZWJ1Z0NhbWVyYS54eS5wb3NpdGlvbi56ID0gMTBcblxuICAgICAgICBkZWJ1Z0NhbWVyYS56eSA9IG5ldyBPcnRob2dyYXBoaWNDYW1lcmEoMiwgLTIsIDIsIC0yLCAwLjAwMSwgMTAwKVxuICAgICAgICBkZWJ1Z0NhbWVyYS56eS5wb3NpdGlvbi54ID0gMTBcbiAgICAgICAgZGVidWdDYW1lcmEuenkucm90YXRlWShNYXRoLlBJIC8gMilcbiAgICAgIH1cblxuICAgICAgLy8gICAgICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoLjEsIC4xLCAuMSk7XG4gICAgICAvLyAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbFggPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwMDAgfSk7XG4gICAgICAvLyAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbFkgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAgfSk7XG4gICAgICAvLyAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbFogPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHgwMDAwZmYgfSk7XG4gICAgICAvLyAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbEMgPSBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmZmYgfSk7XG5cbiAgICAgIGlmICghYW5jaG9yUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYW5jaG9yUmVmLmN1cnJlbnQgPSBuZXcgR3JvdXAoKVxuICAgICAgfVxuICAgICAgY29uc3QgYW5jaG9yID0gYW5jaG9yUmVmLmN1cnJlbnRcbiAgICAgIC8vIFRPRE86IHJldHVybiBpdCB0byBmYWxzZVxuICAgICAgYW5jaG9yLnZpc2libGUgPSBmYWxzZVxuXG4gICAgICAvLyAgICAgICAgICAgICBhbmNob3IuYWRkKG5ldyBBeGVzSGVscGVyKDAuMykpO1xuICAgICAgLy8gICAgICAgICAgICAgY29uc3QgYW5jaG9yQyA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbEMpO1xuICAgICAgLy8gICAgICAgICAgICAgYW5jaG9yLmFkZChhbmNob3JDKTtcbiAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IGFuY2hvclggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWxYKTtcbiAgICAgIC8vICAgICAgICAgICAgIGFuY2hvclgucG9zaXRpb24ueCA9IDAuMztcbiAgICAgIC8vICAgICAgICAgICAgIGFuY2hvci5hZGQoYW5jaG9yWCk7XG4gICAgICAvLyAgICAgICAgICAgICBjb25zdCBhbmNob3JZID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsWSk7XG4gICAgICAvLyAgICAgICAgICAgICBhbmNob3JZLnBvc2l0aW9uLnkgPSAwLjM7XG4gICAgICAvLyAgICAgICAgICAgICBhbmNob3IuYWRkKGFuY2hvclkpO1xuICAgICAgLy8gICAgICAgICAgICAgY29uc3QgYW5jaG9yWiA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbFopO1xuICAgICAgLy8gICAgICAgICAgICAgYW5jaG9yWi5wb3NpdGlvbi56ID0gMC4zO1xuICAgICAgLy8gICAgICAgICAgICAgYW5jaG9yLmFkZChhbmNob3JaKTtcbiAgICAgIC8vXG4gICAgICAvLyAgICAgICAgICAgICBzY2VuZS5hZGQobmV3IEF4ZXNIZWxwZXIoMC4yKSk7XG5cbiAgICAgIGlmICghY2FtZXJhUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2FtZXJhUmVmLmN1cnJlbnQgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNzUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjAwMSwgMTAwKVxuICAgICAgfVxuICAgICAgY29uc3QgY2FtZXJhID0gY2FtZXJhUmVmLmN1cnJlbnRcblxuICAgICAgaWYgKF9ERUJVRykge1xuICAgICAgICBkZWJ1Z0NhbWVyYS5vdmVydmlldyA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMDAxLCAxMDApXG4gICAgICAgIGRlYnVnQ2FtZXJhLm92ZXJ2aWV3LnBvc2l0aW9uLnNldCgzLCAzLCAzKVxuICAgICAgICBkZWJ1Z0NhbWVyYS5vdmVydmlldy5sb29rQXQobmV3IFZlY3RvcjMoKSlcbiAgICAgIH1cbiAgICAgIHNjZW5lLmJhY2tncm91bmQgPSBudWxsXG5cbiAgICAgIGlmICghcmVuZGVyZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ1JFQVRFIG5ldyBSZW5kZXJlcicpXG4gICAgICAgIHJlbmRlcmVyUmVmLmN1cnJlbnQgPSBuZXcgV2ViR0xSZW5kZXJlcih7IGFscGhhOiB0cnVlLCBjYW52YXM6IGNhbnZhc1JlZi5jdXJyZW50IH0pXG4gICAgICAgIC8vZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVU0UgcmVmIFJlbmRlcmVyJywgcmVuZGVyZXJSZWYuY3VycmVudClcbiAgICAgICAgY29uc29sZS5sb2coJ0NBTlZBUyBpcyBzYW1lPz8nLCByZW5kZXJlclJlZi5jdXJyZW50LmRvbUVsZW1lbnQgPT09IGNhbnZhc1JlZi5jdXJyZW50KVxuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlclJlZi5jdXJyZW50XG5cbiAgICAgIHJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gc1JHQkVuY29kaW5nXG4gICAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICAgICAgcmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDB2dydcbiAgICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJ1xuICAgICAgcmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnXG5cbiAgICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUudG9wID0gJzAnXG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLmxlZnQgPSAnMCdcbiAgICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUubWFyZ2luID0gJzAnXG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMCdcblxuICAgICAgc2NlbmUuYWRkKGNhbWVyYSlcblxuICAgICAgaWYgKF9ERUJVRykge1xuICAgICAgICBkZWJ1Z0NhbWVyYS51c2VyQ2FtZXJhSGVscGVyID0gbmV3IENhbWVyYUhlbHBlcihjYW1lcmEpXG4gICAgICAgIHNjZW5lLmFkZChkZWJ1Z0NhbWVyYS51c2VyQ2FtZXJhSGVscGVyKVxuICAgICAgfVxuXG4gICAgICBzY2VuZS5hZGQoYW5jaG9yKVxuICAgICAgYW5jaG9yLnBvc2l0aW9uLnNldCgwLCAwLCAwKVxuICAgICAgYW5jaG9yLnNjYWxlLnNldFNjYWxhcigxKVxuXG4gICAgICAvLyBzY2VuZS5hZGQobmV3IEF4ZXNIZWxwZXIoMikpO1xuICAgICAgLy8gY29uc3QgZ2ggPSBuZXcgR3JpZEhlbHBlcigyKTtcbiAgICAgIC8vIHNjZW5lLmFkZChnaCk7XG5cbiAgICAgIGlmICghcGxheWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gc2V0dXAgcGxheWVyIGlmIG5vdCBleGlzdHNcbiAgICAgICAgLy8gc3IxLnVybCBhcyBtYW5pZmVzdFVybCwgc3IyLnVybCBhcyBwcmV2aWV3VXJsLCBzcjMudXJsIGFzIGRyYWNvc2lzVXJsLCBzcjQudXJsIGFzIGF1ZGlvVXJsXG4gICAgICAgIHBsYXllclJlZi5jdXJyZW50ID0gbmV3IFBsYXllcih7XG4gICAgICAgICAgc2NlbmU6IGFuY2hvcixcbiAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICB3b3JrZXI6IG5ldyBQbGF5ZXJXb3JrZXIoKSxcbiAgICAgICAgICBtZXNoRmlsZVBhdGg6IG1lZGlhSXRlbS5kcmFjb3Npc1VybCxcbiAgICAgICAgICB2aWRlb0ZpbGVQYXRoOiBtZWRpYUl0ZW0uYXVkaW9VcmwsXG4gICAgICAgICAgbWFuaWZlc3RGaWxlUGF0aDogbWVkaWFJdGVtLm1hbmlmZXN0VXJsLFxuICAgICAgICAgIG9uTWVzaEJ1ZmZlcmluZzogKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0JVRkZFUklORyEhJywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8gc2V0QnVmZmVyaW5nUHJvZ3Jlc3MoTWF0aC5yb3VuZChwcm9ncmVzcyAqIDEwMCkpO1xuICAgICAgICAgICAgLy8gc2V0SXNCdWZmZXJpbmcodHJ1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkZyYW1lU2hvdzogKCkgPT4ge1xuICAgICAgICAgICAgLy8gc2V0SXNCdWZmZXJpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB2aWRlbzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1wiKVxuICAgICAgICB9KVxuICAgICAgICAvL2NvbnN0IHZpZGVvID0gcGxheWVyUmVmLmN1cnJlbnQudmlkZW8gYXMgSFRNTE1lZGlhRWxlbWVudDtcbiAgICAgICAgLy92aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWYpXG5cbiAgICAgIC8vIGNvbnN0IHsgWFJQbHVnaW4gfSA9IFBsdWdpbnM7XG5cbiAgICAgIGF3YWl0IFhSUGx1Z2luLmluaXRpYWxpemUoe30pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHNldEluaXRpYWxpemF0aW9uUmVzcG9uc2UocmVzcG9uc2Uuc3RhdHVzKVxuICAgICAgICAgIHNldENvbnRlbnRIaWRkZW4oKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKSlcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgWFJQbHVnaW4uYWRkTGlzdGVuZXIoJ3Bvc2VEYXRhUmVjZWl2ZWQnLCAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IGNhbWVyYVJlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGFuY2hvclJlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGNhbWVyYVBvc2l0aW9uWCxcbiAgICAgICAgICBjYW1lcmFQb3NpdGlvblksXG4gICAgICAgICAgY2FtZXJhUG9zaXRpb25aLFxuICAgICAgICAgIGNhbWVyYVJvdGF0aW9uWCxcbiAgICAgICAgICBjYW1lcmFSb3RhdGlvblksXG4gICAgICAgICAgY2FtZXJhUm90YXRpb25aLFxuICAgICAgICAgIGNhbWVyYVJvdGF0aW9uV1xuICAgICAgICB9ID0gZGF0YVxuXG4gICAgICAgIC8vIHNldENhbWVyYVBvc2VTdGF0ZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIC8vICAgICBjYW1lcmFQb3NpdGlvblgsXG4gICAgICAgIC8vICAgICBjYW1lcmFQb3NpdGlvblksXG4gICAgICAgIC8vICAgICBjYW1lcmFQb3NpdGlvblosXG4gICAgICAgIC8vICAgICBjYW1lcmFSb3RhdGlvblgsXG4gICAgICAgIC8vICAgICBjYW1lcmFSb3RhdGlvblksXG4gICAgICAgIC8vICAgICBjYW1lcmFSb3RhdGlvblosXG4gICAgICAgIC8vICAgICBjYW1lcmFSb3RhdGlvbldcbiAgICAgICAgLy8gfSkpO1xuXG4gICAgICAgIGNhbWVyYS5xdWF0ZXJuaW9uXG4gICAgICAgICAgLnNldChjYW1lcmFSb3RhdGlvblgsIGNhbWVyYVJvdGF0aW9uWSwgY2FtZXJhUm90YXRpb25aLCBjYW1lcmFSb3RhdGlvblcpXG4gICAgICAgICAgLm11bHRpcGx5KGNvcnJlY3Rpb25RdWF0ZXJuaW9uWilcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldChjYW1lcmFQb3NpdGlvblgsIGNhbWVyYVBvc2l0aW9uWSwgY2FtZXJhUG9zaXRpb25aKVxuXG4gICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcblxuICAgICAgICBpZiAoX0RFQlVHKSB7XG4gICAgICAgICAgLy8gc3luYyBjYW1zXG4gICAgICAgICAgZGVidWdDYW1lcmEub3ZlcnZpZXc/Lmxvb2tBdChjYW1lcmEucG9zaXRpb24pXG4gICAgICAgICAgaWYgKGRlYnVnQ2FtZXJhLnh6KSB7XG4gICAgICAgICAgICBkZWJ1Z0NhbWVyYS54ei5wb3NpdGlvbi54ID0gY2FtZXJhLnBvc2l0aW9uLnhcbiAgICAgICAgICAgIGRlYnVnQ2FtZXJhLnh6LnBvc2l0aW9uLnogPSBjYW1lcmEucG9zaXRpb24uelxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVidWdDYW1lcmEueHkpIHtcbiAgICAgICAgICAgIGRlYnVnQ2FtZXJhLnh5LnBvc2l0aW9uLnggPSBjYW1lcmEucG9zaXRpb24ueFxuICAgICAgICAgICAgZGVidWdDYW1lcmEueHkucG9zaXRpb24ueSA9IGNhbWVyYS5wb3NpdGlvbi55XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkZWJ1Z0NhbWVyYS56eSkge1xuICAgICAgICAgICAgZGVidWdDYW1lcmEuenkucG9zaXRpb24ueiA9IGNhbWVyYS5wb3NpdGlvbi56XG4gICAgICAgICAgICBkZWJ1Z0NhbWVyYS56eS5wb3NpdGlvbi55ID0gY2FtZXJhLnBvc2l0aW9uLnlcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gc3luYyBjYW1zXG5cbiAgICAgICAgaWYgKGRhdGEucGxhY2VkKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb25YLFxuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb25ZLFxuICAgICAgICAgICAgYW5jaG9yUG9zaXRpb25aLFxuICAgICAgICAgICAgYW5jaG9yUm90YXRpb25YLFxuICAgICAgICAgICAgYW5jaG9yUm90YXRpb25ZLFxuICAgICAgICAgICAgYW5jaG9yUm90YXRpb25aLFxuICAgICAgICAgICAgYW5jaG9yUm90YXRpb25XXG4gICAgICAgICAgfSA9IGRhdGFcblxuICAgICAgICAgIGNvbnN0IG5ld0FuY2hvclRyYW5zZm9ybVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgICAgIGFuY2hvclBvc2l0aW9uWCxcbiAgICAgICAgICAgIGFuY2hvclBvc2l0aW9uWSxcbiAgICAgICAgICAgIGFuY2hvclBvc2l0aW9uWixcbiAgICAgICAgICAgIGFuY2hvclJvdGF0aW9uWCxcbiAgICAgICAgICAgIGFuY2hvclJvdGF0aW9uWSxcbiAgICAgICAgICAgIGFuY2hvclJvdGF0aW9uWixcbiAgICAgICAgICAgIGFuY2hvclJvdGF0aW9uV1xuICAgICAgICAgIF0pXG4gICAgICAgICAgc2V0QW5jaG9yUG9zZVN0YXRlKG5ld0FuY2hvclRyYW5zZm9ybVN0cmluZylcblxuICAgICAgICAgIGFuY2hvci5xdWF0ZXJuaW9uLnNldChhbmNob3JSb3RhdGlvblgsIGFuY2hvclJvdGF0aW9uWSwgYW5jaG9yUm90YXRpb25aLCBhbmNob3JSb3RhdGlvblcpXG4gICAgICAgICAgYW5jaG9yLnBvc2l0aW9uLnNldChhbmNob3JQb3NpdGlvblgsIGFuY2hvclBvc2l0aW9uWSwgYW5jaG9yUG9zaXRpb25aKVxuXG4gICAgICAgICAgaWYgKCFhbmNob3IudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NFVCBBTkNIT1IgVklTSUJMRSEnKVxuXG4gICAgICAgICAgICAvLyBhdXRvc2l6ZSBhbmNob3JcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZXRyaWNIZWlnaHQgPSAyIC8vIGFzc3VtaW5nIHRoaXMgYXMgaGlnaGVzdCBoZWlnaHRcbiAgICAgICAgICAgIGNvbnN0IGsgPSBjYW1lcmEucG9zaXRpb24uZGlzdGFuY2VUbyhhbmNob3IucG9zaXRpb24pXG4gICAgICAgICAgICBjb25zdCBhID0gKGNhbWVyYS5mb3YgKiBNYXRoLlBJKSAvIDE4MCAvIDJcblxuICAgICAgICAgICAgY29uc3QgaGFsZlNjcmVlbkhlaWdodEF0UG9pbnQgPSBrICogTWF0aC50YW4oYSlcbiAgICAgICAgICAgIGNvbnN0IG5ld1NjYWxlID0gKGhhbGZTY3JlZW5IZWlnaHRBdFBvaW50IC8gdm9sdW1ldHJpY0hlaWdodCkgKiAwLjc1XG4gICAgICAgICAgICBhbmNob3Iuc2NhbGUuc2V0U2NhbGFyKG5ld1NjYWxlKVxuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGxheWVyID0gJywgcGxheWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgYW5jaG9yLnZpc2libGUgPSB0cnVlXG5cbiAgICAgICAgICAgIGlmICghZmVlZEhpbnRzT25ib3JkZWQpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGludFR3b1Nob3codHJ1ZSlcbiAgICAgICAgICAgICAgICBzZXRGZWVkSGludHNPbmJvcmRlZCh0cnVlKVxuICAgICAgICAgICAgICB9LCAxMDAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBUT0RPOiBhZGQgdm9sdW1ldHJpYyBpc1BsYXlpbmcgcHJvcGVydHlcbiAgICAgICAgICAvLyBpZiAocGxheWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGxheWVyIHBsYXkhJywgZGF0YSk7XG4gICAgICAgICAgLy8gcGxheWVyUmVmLmN1cnJlbnQubWVzaC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAvLyBpZiAoKHBsYXllclJlZi5jdXJyZW50LnZpZGVvIGFzIEhUTUxNZWRpYUVsZW1lbnQpLnBhdXNlZCkge1xuICAgICAgICAgIC8vICAgICBwbGF5ZXJSZWYuY3VycmVudC5wbGF5KCk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgWFJQbHVnaW4uYWRkTGlzdGVuZXIoJ2NhbWVyYUludHJpbnNpY3NSZWNlaXZlZCcsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgc2V0Q2FtZXJhSW50cmluc2ljc1N0YXRlKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGZYOiBkYXRhLmZYLFxuICAgICAgICAgICAgZlk6IGRhdGEuZlksXG4gICAgICAgICAgICBjWDogZGF0YS5jWCxcbiAgICAgICAgICAgIGNZOiBkYXRhLmN5LFxuICAgICAgICAgICAgeDogZGF0YS54LFxuICAgICAgICAgICAgeTogZGF0YS55XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrb3V0IGZvY2FsIGxlbmd0aFxuICAgICAgICAvLyBjYW1lcmEuc2V0Rm9jYWxMZW5ndGgoZGF0YS5mWS8xMCk7XG4gICAgICAgIC8vIGNhbWVyYS5zZXRGb2NhbExlbmd0aCg1MCk7XG5cbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgLy8gU2V0IGNhbWVyYSBwb3NpdGlvbiBhbmQgcm90YXRpb25cbiAgICAgICAgLy8gRW5hYmxlIGN1YmUgYW5kIG1vdmUgdG8gcG9zaXRpb24vcm90YXRpb24gaWYgcGxhY2VkIGlzIHRydWVcbiAgICAgIH0pXG5cbiAgICAgIFhSUGx1Z2luLnN0YXJ0KHt9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2V0Q2FtZXJhU3RhcnRlZFN0YXRlKGlzTmF0aXZlID8gJ0NhbWVyYSBzdGFydGVkIG9uIG5hdGl2ZScgOiAnQ2FtZXJhIHN0YXJ0ZWQgb24gd2ViJylcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSkpXG4gICAgfSkoKVxuICB9LCBbbWVkaWFJdGVtSWRdKVxuXG4gIGxldCBmaW5pc2hSZWNvcmQgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2ZpbmlzaFJlY29yZCByZWNvcmRpbmdTdGF0ZTonLCByZWNvcmRpbmdTdGF0ZSlcbiAgICBpZiAocmVjb3JkaW5nU3RhdGVSZWYuY3VycmVudCA9PT0gUmVjb3JkaW5nU3RhdGVzLk9OKSB7XG4gICAgICBjb25zb2xlLmxvZygnZmluaXNoUmVjb3JkJylcbiAgICAgIGNvbnNvbGUubG9nKCdtZWRpYUl0ZW1SZWYuY3VycmVudC5hdWRpb0lkJywgbWVkaWFJdGVtUmVmLmN1cnJlbnQpXG4gICAgICBjb25zb2xlLmxvZygnY2xvc2VCdG5BY3Rpb24nLCBjbG9zZUJ0bkFjdGlvbilcbiAgICAgIGNvbnNvbGUubG9nKCdWSURFTyBERUxBWScsIHZpZGVvRGVsYXkpXG4gICAgICBjb25zdCBjbGlwVGl0bGUgPSBtZWRpYUl0ZW1SZWYuY3VycmVudC50aXRsZS5yZXBsYWNlKC8gL2dpLCAnXycpXG4gICAgICBjb25zdCBjbGlwVGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCkucmVwbGFjZSgvW1xcOlxcIF0vZ2ksICdfJylcbiAgICAgIGNvbnNvbGUubG9nKGNsaXBUaW1lKVxuICAgICAgY29uc29sZS5sb2coY2xpcFRpdGxlKVxuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBYUlBsdWdpbi5zdG9wUmVjb3JkaW5nKHtcbiAgICAgICAgYXVkaW9JZDogbWVkaWFJdGVtUmVmLmN1cnJlbnQuYXVkaW9JZCxcbiAgICAgICAgdmlkZW9EZWxheTogdmlkZW9EZWxheSxcbiAgICAgICAgY2xpcFRpdGxlOiBjbGlwVGl0bGUsXG4gICAgICAgIGNsaXBUaW1lOiBjbGlwVGltZVxuICAgICAgfSlcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAudGhlbigoeyByZXN1bHQsIGZpbGVQYXRoLCBuYW1lSWQgfSkgPT4ge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coJ0VORCBSRUNPUkRJTkcsIHJlc3VsdCBJUycsIHJlc3VsdClcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmlsZVBhdGggaXMnLCBmaWxlUGF0aClcbiAgICAgICAgICBkaXNwYXRjaChGZWVkU2VydmljZS5zZXRMYXN0RmVlZFZpZGVvVXJsKGZpbGVQYXRoKSlcbiAgICAgICAgICBkaXNwYXRjaChBck1lZGlhU2VydmljZS5nZXRBck1lZGlhSXRlbShudWxsKSlcbiAgICAgICAgICBzZXRTYXZlZEZpbGVQYXRoKCdmaWxlOi8vJyArIGZpbGVQYXRoKVxuICAgICAgICAgIGlmICghY2xvc2VCdG5BY3Rpb24uY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgdmlkZW9QYXRoID0gQ2FwYWNpdG9yLmNvbnZlcnRGaWxlU3JjKGZpbGVQYXRoKVxuICAgICAgICAgICAgY29uc29sZS5sb2codmlkZW9QYXRoKVxuICAgICAgICAgICAgZGlzcGF0Y2goUG9wdXBzU3RhdGVTZXJ2aWNlLnVwZGF0ZU5ld0ZlZWRQYWdlU3RhdGUodHJ1ZSwgdmlkZW9QYXRoLCBmaWxlUGF0aCwgbmFtZUlkKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0UmVjb3JkaW5nU3RhdGUoUmVjb3JkaW5nU3RhdGVzLk9GRilcbiAgICAgICAgICBkaXNwYXRjaChQb3B1cHNTdGF0ZVNlcnZpY2UudXBkYXRlV2ViWFJTdGF0ZShmYWxzZSwgbnVsbCkpXG5cbiAgICAgICAgICAvLyBpZiAocGxheWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyAgICAgY29uc3QgdmlkZW8gPSBwbGF5ZXJSZWYuY3VycmVudC52aWRlbyBhcyBIVE1MTWVkaWFFbGVtZW50O1xuICAgICAgICAgIC8vICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIHNldENvbnRlbnRIaWRkZW4oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gYWxlcnQoZXJyb3IubWVzc2FnZSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnUmVjb3JkIHN0YXRlIGlzIE9GRicpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbXNUb1RpbWUobXMpIHtcbiAgICBsZXQgc2Vjb25kcyA9IChtcyAvIDEwMDApLnRvRml4ZWQoMSlcbiAgICByZXR1cm4gc2Vjb25kc1xuICB9XG5cbiAgY29uc3Qgc3RhcnRSZWNvcmQgPSAoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuY29uZmlybSgnRG91YmxlIGNsaWNrIHRvIGZpbmlzaCB0aGUgcmVjb3JkLicpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc2V0UmVjb3JkaW5nU3RhdGUoUmVjb3JkaW5nU3RhdGVzLlNUQVJUSU5HKVxuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IE1hdGguZmxvb3Ioc2NyZWVuLmhlaWdodCAvIDIpICogMlxuICAgIGNvbnN0IHNjcmVlbldpZHRoID0gTWF0aC5mbG9vcihzY3JlZW4ud2lkdGggLyAyKSAqIDJcblxuICAgIC8vVE9ETzogY2hlY2sgd2h5IHRoZXJlIGFyZSBlcnJvcnNcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgWFJQbHVnaW4uc3RhcnRSZWNvcmRpbmcoe1xuICAgICAgaXNBdWRpbzogdHJ1ZSxcbiAgICAgIHdpZHRoOiBzY3JlZW5XaWR0aCxcbiAgICAgIGhlaWdodDogc2NyZWVuSGVpZ2h0LFxuICAgICAgYml0UmF0ZTogNjAwMDAwMCxcbiAgICAgIGRwaTogMTAwLFxuICAgICAgZmlsZVBhdGg6ICcvdGVzdC5tcDQnXG4gICAgfSlcbiAgICAgIC50aGVuKCh7IHN0YXR1cyB9KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSRUNPUkRJTkcsIFNUQVRVUyBJUycsIHN0YXR1cylcbiAgICAgICAgaWYgKHBsYXllclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gY29uc3QgdmlkZW8gPSBwbGF5ZXJSZWYuY3VycmVudC52aWRlbyBhcyBIVE1MTWVkaWFFbGVtZW50O1xuICAgICAgICAgIC8vIHZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgICBwbGF5ZXJSZWYuY3VycmVudC52aWRlby5tdXRlZCA9IHRydWVcbiAgICAgICAgICBjb25zb2xlLmxvZygnUGxheWVyLnBsYXkoKSEnKVxuICAgICAgICAgIHBsYXllclJlZi5jdXJyZW50LnBsYXkoKVxuICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKClcbiAgICAgICAgICBzZXRWaWRlb0RlbGF5KHBhcnNlRmxvYXQobXNUb1RpbWUoZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkpKVxuICAgICAgICB9XG4gICAgICAgIHNldFJlY29yZGluZ1N0YXRlKFJlY29yZGluZ1N0YXRlcy5PTilcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGFsZXJ0KGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIHNldFJlY29yZGluZ1N0YXRlKFJlY29yZGluZ1N0YXRlcy5PRkYpXG4gICAgICB9KVxuICB9XG5cbiAgY29uc3QgdG9nZ2xlUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgIGlmIChyZWNvcmRpbmdTdGF0ZSA9PT0gUmVjb3JkaW5nU3RhdGVzLk9GRikge1xuICAgICAgc3RhcnRSZWNvcmQoKVxuICAgIH0gZWxzZSBpZiAocmVjb3JkaW5nU3RhdGUgPT09IFJlY29yZGluZ1N0YXRlcy5PTikge1xuICAgICAgZmluaXNoUmVjb3JkKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVUYXAgPSAoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MQ2FudmFzRWxlbWVudD4pID0+IHtcbiAgICBpZiAocmVjb3JkaW5nU3RhdGUgIT09IFJlY29yZGluZ1N0YXRlcy5PRkYpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICB4OiBlLmNsaWVudFggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgIHk6IGUuY2xpZW50WSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXG4gICAgfVxuXG4gICAgaWYgKHBsYXllclJlZi5jdXJyZW50ICYmIHBsYXllclJlZi5jdXJyZW50LmN1cnJlbnRGcmFtZSA8PSAwKSB7XG4gICAgICBwbGF5ZXJSZWYuY3VycmVudC5wbGF5T25lRnJhbWUoKVxuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgWFJQbHVnaW4uaGFuZGxlVGFwKHBhcmFtcylcbiAgfVxuXG4gIGNvbnN0IHBsYXlWaWRlbyA9ICgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgWFJQbHVnaW4ucGxheVZpZGVvKClcbiAgfVxuXG4gIGNvbnN0IHBhdXNlVmlkZW8gPSAoKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIFhSUGx1Z2luLnBhdXNlVmlkZW8oKVxuICB9XG5cbiAgY29uc3QgY2xlYXJBbmNob3JzID0gKCkgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBYUlBsdWdpbi5jbGVhckFuY2hvcnMoKVxuICB9XG5cbiAgY29uc3Qgc3RvcFJlY29yZCA9ICgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgWFJQbHVnaW4uc3RvcCh7fSlcbiAgfVxuXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgICBzZXRTZWNvbmRTdGF0ZShcIkluaXRpYWxpemVkIGFuZCBlZmZlY3RlZFwiKTtcbiAgLy8gfSwgW2luaXRpYWxpemF0aW9uUmVzcG9uc2VdKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJwbHVnaW50ZXN0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsdWdpbnRlc3RSZWFkb3V0XCI+XG4gICAgICAgICAgICAgICAgPHA+SVI6e2luaXRpYWxpemF0aW9uUmVzcG9uc2V9PC9wPlxuICAgICAgICAgICAgICAgIDxwPkNTUzp7Y2FtZXJhU3RhcnRlZFN0YXRlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD5JUzp7aW50cmluc2ljc1N0YXRlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD5DUFM6e2NhbWVyYVBvc2VTdGF0ZX08L3A+XG4gICAgICAgICAgICAgICAgPHA+QVBTOnthbmNob3JQb3NlU3RhdGV9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PiAqL31cbiAgICAgIHtoaW50T25lID8gPEhpbnRPbmUgaGludE9uZVNob3c9e2hpbnRPbmVTaG93fSAvPiA6ICcnfVxuICAgICAge2hpbnRUd28gPyA8SGludFR3byBoaW50VHdvU2hvdz17aGludFR3b1Nob3d9IC8+IDogJyd9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsdWdpbnRlc3RDb250cm9sc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cmVjb3JkaW5nU3RhdGUgPT09IFJlY29yZGluZ1N0YXRlcy5PRkYgPyAnJyA6IHN0eWxlcy5oaWRlQnV0dG9uc30+XG4gICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMud2F0ZXJNYXJrV3JhcHBlcn0+XG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy53YXRlck1hcmt9PlxuICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy5zdWJDb250YWluZXJ9IC8+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17c3R5bGVzLmZsaXBDYW1lcmF9IG9uQ2xpY2s9eygpID0+IHt9fT5cbiAgICAgICAgICAgIDxGbGlwQ2FtZXJhSW9zSWNvbiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHsvKiAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPXtzdHlsZXMuY2hhbmdlT3JpZW50YXRpb259IG9uQ2xpY2s9eygpID0+IHtzZXRIb3Jpem9udGFsT3JpZW50YXRpb24oIWhvcml6b250YWxPcmllbnRhdGlvbik7fX0+PEZsaXBDYW1lcmFJb3NJY29uIC8+PC9idXR0b24+ICovfVxuICAgICAgICAgIDxzZWN0aW9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3JlY29yZGluZ1N0YXRlID09PSBSZWNvcmRpbmdTdGF0ZXMuT0ZGID8gc3R5bGVzLnN0YXJ0QnV0dG9uV3JhcHBlciA6IHN0eWxlcy5zdG9wQnV0dG9uV3JhcHBlcn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Lyp7cmVjb3JkaW5nU3RhdGUgPT09IFJlY29yZGluZ1N0YXRlcy5PRkYgPyBcIlJlY29yZFwiIDogXCJTdG9wIFJlY29yZGluZ1wifSovfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtyZWNvcmRpbmdTdGF0ZSA9PT0gUmVjb3JkaW5nU3RhdGVzLk9GRiA/IHN0eWxlcy5zdGFydEJ1dHRvbiA6IHN0eWxlcy5zdG9wQnV0dG9ufVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVSZWNvcmRpbmcoKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFZpZGVvY2FtSWNvbiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgIHsvKiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBzdHlsZT17eyBwYWRkaW5nOiBcIjFlbVwiIH19IG9uQ2xpY2s9eygpID0+IGhhbmRsZVRhcCgpfT5QbGFjZSBBUjwvYnV0dG9uPiAqL31cbiAgICAgICAgICB7LyogPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgc3R5bGU9e3sgcGFkZGluZzogXCIxZW1cIiB9fSBvbkNsaWNrPXsoKSA9PiBjbGVhckFuY2hvcnMoKX0+Y2xlYXJBbmNob3JzPC9idXR0b24+ICovfVxuICAgICAgICAgIHsvKiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBzdHlsZT17eyBwYWRkaW5nOiBcIjFlbVwiIH19IG9uQ2xpY2s9eygpID0+IHBsYXlWaWRlbygpfT5wbGF5VmlkZW88L2J1dHRvbj4gKi99XG4gICAgICAgICAgey8qIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHN0eWxlPXt7IHBhZGRpbmc6IFwiMWVtXCIgfX0gb25DbGljaz17KCkgPT4gcGF1c2VWaWRlbygpfT5wYXVzZVZpZGVvPC9idXR0b24+ICovfVxuICAgICAgICAgIHsvKlxuICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLmNsb3NlQnV0dG9uV3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17c3R5bGVzLmNsb3NlQnV0dG9ufSBvbkNsaWNrPXsoKSA9PiBzdG9wUmVjb3JkKCl9PjxDaGV2cm9uTGVmdEljb24gLz5TbGlkZSB0byBjYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICAgICovfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuYXJjQ2FudmFzfVxuICAgICAgICBpZD17J2FyY0NhbnZhcyd9XG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBoYW5kbGVUYXAoZSl9XG4gICAgICAgIG9uRG91YmxlQ2xpY2s9e2ZpbmlzaFJlY29yZH1cbiAgICAgIC8+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2ViWFJQbHVnaW5cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IHVzZVBvcHVwc1N0YXRlU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVN0YXRlJ1xuXG5pbXBvcnQgV2ViWFJQbHVnaW4gZnJvbSAnLi4vLi4vV2ViWFJQbHVnaW4nXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHNldENvbnRlbnRIaWRkZW4/OiBhbnlcbiAgZmVlZEhpbnRzT25ib3JkZWQ/OiBhbnlcbiAgc2V0RmVlZEhpbnRzT25ib3JkZWQ/OiBhbnlcbiAgd2VieHJSZWNvcmRlckFjdGl2aXR5PzogYW55XG59XG5leHBvcnQgY29uc3QgV2ViWFJTdGFydCA9ICh7XG4gIHdlYnhyUmVjb3JkZXJBY3Rpdml0eSxcbiAgZmVlZEhpbnRzT25ib3JkZWQsXG4gIHNldEZlZWRIaW50c09uYm9yZGVkLFxuICBzZXRDb250ZW50SGlkZGVuXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCBwb3B1cHNTdGF0ZSA9IHVzZVBvcHVwc1N0YXRlU3RhdGUoKVxuICAvL2NvbW1vbiBmb3Igd2ViIHhyXG5cbiAgY29uc3QgcmVuZGVyV2ViWFJNb2RhbCA9ICgpID0+XG4gICAgcG9wdXBzU3RhdGU/LnBvcHVwcz8ud2VieHI/LnZhbHVlID09PSB0cnVlICYmIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxXZWJYUlBsdWdpblxuICAgICAgICAgIGZlZWRIaW50c09uYm9yZGVkPXtmZWVkSGludHNPbmJvcmRlZH1cbiAgICAgICAgICBzZXRGZWVkSGludHNPbmJvcmRlZD17c2V0RmVlZEhpbnRzT25ib3JkZWR9XG4gICAgICAgICAgc2V0Q29udGVudEhpZGRlbj17c2V0Q29udGVudEhpZGRlbn1cbiAgICAgICAgICB3ZWJ4clJlY29yZGVyQWN0aXZpdHk9e3dlYnhyUmVjb3JkZXJBY3Rpdml0eX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlbmRlcldlYlhSTW9kYWwoKVxuICB9LCBbcG9wdXBzU3RhdGU/LnBvcHVwcz8ud2VieHIudmFsdWVdKVxuICByZXR1cm4gcmVuZGVyV2ViWFJNb2RhbCgpXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlhSU3RhcnRcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBUZXJtcyBmcm9tICcuL1Rlcm1zQW5kUG9saWN5L3Rlcm1zJ1xuaW1wb3J0IFBvbGljeSBmcm9tICcuL1Rlcm1zQW5kUG9saWN5L3BvbGljeSdcblxuY29uc3QgVGVtcG9yYXJ5U29sdXRpb24gPSAoeyB2aWV3LCBzZXRWaWV3IH06IGFueSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7dmlldyA9PT0gJ3Rlcm1zJyA/IDxUZXJtcyBzZXRWaWV3PXtzZXRWaWV3fSAvPiA6IG51bGx9XG4gICAgICB7dmlldyA9PT0gJ3BvbGljeScgPyA8UG9saWN5IHNldFZpZXc9e3NldFZpZXd9IC8+IDogbnVsbH1cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZW1wb3JhcnlTb2x1dGlvblxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBTbmFja2JhclByb3ZpZGVyIH0gZnJvbSAnbm90aXN0YWNrJ1xuXG5pbXBvcnQgQXBwSGVhZGVyIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvSGVhZGVyJ1xuaW1wb3J0IEZlZWRNZW51IGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvRmVlZE1lbnUnXG5pbXBvcnQgQXBwRm9vdGVyIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvRm9vdGVyJ1xuaW1wb3J0IHsgdXNlQ3JlYXRvclN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU3RhdGUnXG4vLyBpbXBvcnQge1N0b3JpZXN9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsbWVkaWEvY29tcG9uZW50cy9TdG9yaWVzJztcbmltcG9ydCB7IHVzZUF1dGhTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhTdGF0ZSdcbmltcG9ydCB7IHVzZVdlYnhyTmF0aXZlU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy93ZWJ4cl9uYXRpdmUvV2VieHJOYXRpdmVTdGF0ZSdcblxuaW1wb3J0IHsgV2VieHJOYXRpdmVTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvd2VieHJfbmF0aXZlL1dlYnhyTmF0aXZlU2VydmljZSdcblxuaW1wb3J0IENyZWF0b3JQb3B1cCBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL3BvcHVwcy9DcmVhdG9yUG9wdXAnXG5pbXBvcnQgRmVlZFBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRQb3B1cCdcbmltcG9ydCBDcmVhdG9yRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0NyZWF0b3JGb3JtUG9wdXAnXG5pbXBvcnQgQXJNZWRpYVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0FyTWVkaWFQb3B1cCdcbmltcG9ydCBGZWVkRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRGb3JtUG9wdXAnXG5pbXBvcnQgU2hhcmVkRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL1NoYXJlZEZvcm1Qb3B1cCdcbmltcG9ydCBPbmJvYXJkIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvT25Cb2FyZCdcbmltcG9ydCBGZWVkT25ib2FyZGluZyBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL0ZlZWRPbmJvYXJkaW5nJ1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nXG5cbi8vIGltcG9ydCBpbWFnZSBmcm9tICcvc3RhdGljL2ltYWdlcy9pbWFnZS5qcGcnXG4vLyBpbXBvcnQgbW9ja3VwSVBob25lIGZyb20gJy9zdGF0aWMvaW1hZ2VzL21vY2t1cElQaG9uZS5qcGcnXG5pbXBvcnQgU3BsYXNoIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvU3BsYXNoJ1xuaW1wb3J0IHsgaXNJT1MgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3V0aWwvcGxhdGZvcm1DaGVjaydcbmltcG9ydCBUZXJtc0FuZFBvbGljeSBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL1Rlcm1zYW5kUG9saWN5J1xuaW1wb3J0IEJsb2NrZWQgZnJvbSAnQHhyZW5naW5lL3NvY2lhbC9zcmMvY29tcG9uZW50cy9CbG9ja2VkJ1xuaW1wb3J0IFdlYlhSU3RhcnQgZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cHMvV2ViWFInXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCBUZW1wb3JhcnlTb2x1dGlvbiBmcm9tICcuL1RlbXBvcmFyeVNvbHV0aW9uJ1xuXG5pbXBvcnQgeyBDcmVhdG9yQWN0aW9uIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yQWN0aW9ucydcblxuaW50ZXJmYWNlIFByb3BzIHt9XG5cbmNvbnN0IEhvbWUgPSAocHJvcHM6IFByb3BzKSA9PiB7XG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KClcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXG4gIGNvbnN0IGF1dGggPSB1c2VBdXRoU3RhdGUoKVxuICAvKmhpZGVkIGZvciBub3cqL1xuICBjb25zdCBbb25ib3JkZWQsIHNldE9uYm9yZGVkXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtmZWVkT25ib3JkZWQsIHNldEZlZWRPbmJvcmRlZF0gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbZmVlZEhpbnRzT25ib3JkZWQsIHNldEZlZWRIaW50c09uYm9yZGVkXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtyZWdpc3RyYXRpb25Gb3JtLCBzZXRSZWdpc3RyYXRpb25Gb3JtXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlKCdmZWF0dXJlZCcpXG4gIGNvbnN0IGNyZWF0b3JzU3RhdGUgPSB1c2VDcmVhdG9yU3RhdGUoKVxuICBjb25zdCBjdXJyZW50Q3JlYXRvciA9IGNyZWF0b3JzU3RhdGUuY3JlYXRvcnMuY3VycmVudENyZWF0b3JcbiAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoISFjdXJyZW50Q3JlYXRvcj8udmFsdWUgJiYgISFjdXJyZW50Q3JlYXRvcj8uY3JlYXRlZEF0Py52YWx1ZSkge1xuICAgICAgY3VycmVudFRpbWUuc2xpY2UoMCwgLTUpID09PSBjdXJyZW50Q3JlYXRvcj8uY3JlYXRlZEF0Py52YWx1ZT8uc2xpY2UoMCwgLTUpICYmIHNldE9uYm9yZGVkKGZhbHNlKVxuICAgIH1cbiAgfSwgW2N1cnJlbnRDcmVhdG9yXSlcbiAgY29uc3Qgd2VieHJuYXRpdmVTdGF0ZSA9IHVzZVdlYnhyTmF0aXZlU3RhdGUoKVxuICBjb25zdCB3ZWJ4clJlY29yZGVyQWN0aXZpdHkgPSB3ZWJ4cm5hdGl2ZVN0YXRlLndlYnhybmF0aXZlLnZhbHVlXG5cbiAgY29uc3QgY2hhbmdlT25ib2FyZGluZyA9ICgpID0+IHtcbiAgICBzZXRPbmJvcmRlZCh0cnVlKVxuICAgIHNldEZlZWRPbmJvcmRlZChmYWxzZSlcbiAgICBzZXRGZWVkSGludHNPbmJvcmRlZChmYWxzZSlcbiAgfVxuICBjb25zdCBwbGF0Zm9ybUNsYXNzID0gaXNJT1MgPyBzdHlsZXMuaXNJb3MgOiAnJ1xuICBjb25zdCBzcGxhc2hUaW1lb3V0ID0gY3JlYXRvcnNTdGF0ZS5jcmVhdG9ycy5zcGxhc2hUaW1lb3V0LnZhbHVlXG4gIGNvbnN0IGhpZGVDb250ZW50T25SZWNvcmQgPSB3ZWJ4clJlY29yZGVyQWN0aXZpdHkgPyBzdHlsZXMuaGlkZUNvbnRlbnRPblJlY29yZCA6ICcnXG5cbiAgaWYgKFxuICAgICFjdXJyZW50Q3JlYXRvcj8udmFsdWUgfHxcbiAgICBjdXJyZW50Q3JlYXRvcj8udmFsdWUgPT09IG51bGwgfHxcbiAgICAoc3BsYXNoVGltZW91dCAmJiBjdXJyZW50Q3JlYXRvcj8uaXNCbG9ja2VkPy52YWx1ZSA9PSBmYWxzZSlcbiAgKSB7XG4gICAgLy9hZGQgYWRkaXRpb25hbCBkdXJhdGlvbiBTcGxhc2ggYWZ0ZXIgaW5pdGlhbGl6ZWQgdXNlclxuICAgIGNvbnN0IHNwbGFzaCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goQ3JlYXRvckFjdGlvbi5zZXRTdGF0ZUNyZWF0b3JzKGZhbHNlKSlcbiAgICAgIGNsZWFyVGltZW91dChzcGxhc2gpXG4gICAgfSwgNTAwMClcbiAgICByZXR1cm4gPFNwbGFzaCAvPlxuICB9XG5cbiAgY29uc3Qgb25Hb1JlZ2lzdHJhdGlvbiA9IChjYWxsQmFjaz8pID0+IHtcbiAgICAvLyBpZiAoYXV0aC51c2VyLnVzZXJSb2xlLnZhbHVlID09PSAnZ3Vlc3QnKSB7XG4gICAgaWYgKGZhbHNlKSB7XG4gICAgICBoaXN0b3J5LnB1c2goJy9yZWdpc3RyYXRpb24nKVxuICAgIH0gZWxzZSBpZiAoY2FsbEJhY2spIHtcbiAgICAgIGNhbGxCYWNrKClcbiAgICB9XG4gIH1cblxuICBpZiAoY3VycmVudENyZWF0b3I/LmlzQmxvY2tlZD8udmFsdWUgPT0gdHJ1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8U3BsYXNoIC8+XG4gICAgICAgIDxCbG9ja2VkIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBjb25zdCBjaGFuZ2VXZWJYck5hdGl2ZSA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChXZWJ4ck5hdGl2ZVNlcnZpY2UuY2hhbmdlV2ViWHJOYXRpdmUoKSlcbiAgfVxuXG4gIC8vIGlmICghb25ib3JkZWQpIHJldHVybiA8T25ib2FyZCBzZXRPbmJvcmRlZD17Y2hhbmdlT25ib2FyZGluZ30gaW1hZ2U9e2ltYWdlfSBtb2NrdXBJUGhvbmU9e21vY2t1cElQaG9uZX0gLz5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3ZpZXcgPT09ICd0ZXJtcycgfHwgdmlldyA9PT0gJ3BvbGljeScgPyAoXG4gICAgICAgIDxUZW1wb3JhcnlTb2x1dGlvbiB2aWV3PXt2aWV3fSBzZXRWaWV3PXtzZXRWaWV3fSAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3BsYXRmb3JtQ2xhc3MgKyAnICcgKyBoaWRlQ29udGVudE9uUmVjb3JkfT5cbiAgICAgICAgICB7Lyp7IWZlZWRPbmJvcmRlZCAmJiA8RmVlZE9uYm9hcmRpbmcgc2V0RmVlZE9uYm9yZGVkPXtzZXRGZWVkT25ib3JkZWR9IC8+fSovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt3ZWJ4clJlY29yZGVyQWN0aXZpdHkgPyBzdHlsZXMuaGlkZUNvbnRlbnQgKyAnICcgKyBzdHlsZXMudmlld3BvcnQgOiBzdHlsZXMudmlld3BvcnR9PlxuICAgICAgICAgICAgPEFwcEhlYWRlciBzZXRWaWV3PXtzZXRWaWV3fSBvbkdvUmVnaXN0cmF0aW9uPXtvbkdvUmVnaXN0cmF0aW9ufSAvPlxuICAgICAgICAgICAgey8qIDxTdG9yaWVzIHN0b3JpZXM9e3N0b3JpZXN9IC8+ICovfVxuICAgICAgICAgICAgPEZlZWRNZW51IHZpZXc9e3ZpZXd9IHNldFZpZXc9e3NldFZpZXd9IC8+XG4gICAgICAgICAgICA8QXBwRm9vdGVyIHNldFZpZXc9e3NldFZpZXd9IG9uR29SZWdpc3RyYXRpb249e29uR29SZWdpc3RyYXRpb259IC8+XG4gICAgICAgICAgICB7KGN1cnJlbnRDcmVhdG9yPy52YWx1ZSAmJlxuICAgICAgICAgICAgICAvLyBNYWRlIGF0IHRoZSB0aW1lIG9mIHRoZSB0ZXN0IEFsZWtzOTUxXG4gICAgICAgICAgICAgICghISFjdXJyZW50Q3JlYXRvci50ZXJtcy52YWx1ZSB8fCAhISFjdXJyZW50Q3JlYXRvci5wb2xpY3kudmFsdWUpICYmXG4gICAgICAgICAgICAgIGF1dGgudXNlci51c2VyUm9sZS52YWx1ZSA9PT0gJ3VzZXInKSB8fFxuICAgICAgICAgICAgICAoYXV0aC51c2VyLnVzZXJSb2xlLnZhbHVlID09PSAnZ3Vlc3QnICYmIDxUZXJtc0FuZFBvbGljeSB2aWV3PXt2aWV3fSBzZXRWaWV3PXtzZXRWaWV3fSAvPil9XG4gICAgICAgICAgICA8QXJNZWRpYVBvcHVwIC8+XG4gICAgICAgICAgICA8V2ViWFJTdGFydFxuICAgICAgICAgICAgICBmZWVkSGludHNPbmJvcmRlZD17ZmVlZEhpbnRzT25ib3JkZWR9XG4gICAgICAgICAgICAgIHdlYnhyUmVjb3JkZXJBY3Rpdml0eT17d2VieHJSZWNvcmRlckFjdGl2aXR5fVxuICAgICAgICAgICAgICBzZXRDb250ZW50SGlkZGVuPXtjaGFuZ2VXZWJYck5hdGl2ZX1cbiAgICAgICAgICAgICAgc2V0RmVlZEhpbnRzT25ib3JkZWQ9e3NldEZlZWRIaW50c09uYm9yZGVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxDcmVhdG9yUG9wdXAgd2VieHJSZWNvcmRlckFjdGl2aXR5PXt3ZWJ4clJlY29yZGVyQWN0aXZpdHl9IHNldFZpZXc9e3NldFZpZXd9IC8+XG4gICAgICAgICAgICA8RmVlZFBvcHVwIHdlYnhyUmVjb3JkZXJBY3Rpdml0eT17d2VieHJSZWNvcmRlckFjdGl2aXR5fSBzZXRWaWV3PXtzZXRWaWV3fSAvPlxuICAgICAgICAgICAgPENyZWF0b3JGb3JtUG9wdXAgd2VieHJSZWNvcmRlckFjdGl2aXR5PXt3ZWJ4clJlY29yZGVyQWN0aXZpdHl9IHNldFZpZXc9e3NldFZpZXd9IC8+XG4gICAgICAgICAgICA8RmVlZEZvcm1Qb3B1cCBzZXRWaWV3PXtzZXRWaWV3fSAvPlxuICAgICAgICAgICAgPFNoYXJlZEZvcm1Qb3B1cCBzZXRWaWV3PXtzZXRWaWV3fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9tZVxuIiwiLy8gaW1wb3J0IHtTdG9yaWVzfSBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL1N0b3JpZXMnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU2VydmljZSdcbmltcG9ydCB7IGlzSU9TIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91dGlsL3BsYXRmb3JtQ2hlY2snXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzLCBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuXG5pbXBvcnQgQXBwSGVhZGVyIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvSGVhZGVyJ1xuaW1wb3J0IEZlZWRNZW51IGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvRmVlZE1lbnUnXG5pbXBvcnQgQXBwRm9vdGVyIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvRm9vdGVyJ1xuXG4vLyBpbXBvcnQge1N0b3JpZXN9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsbWVkaWEvY29tcG9uZW50cy9TdG9yaWVzJztcblxuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcblxuaW1wb3J0IENyZWF0b3JQb3B1cCBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL3BvcHVwcy9DcmVhdG9yUG9wdXAnXG5pbXBvcnQgRmVlZFBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRQb3B1cCdcbmltcG9ydCBDcmVhdG9yRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0NyZWF0b3JGb3JtUG9wdXAnXG5pbXBvcnQgQXJNZWRpYVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0FyTWVkaWFQb3B1cCdcbmltcG9ydCBGZWVkRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL0ZlZWRGb3JtUG9wdXAnXG5pbXBvcnQgU2hhcmVkRm9ybVBvcHVwIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL1NoYXJlZEZvcm1Qb3B1cCdcbmltcG9ydCBXZWJYUlN0YXJ0IGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvcG9wdXBzL1dlYlhSJ1xuaW1wb3J0IHsgdXNlQ3JlYXRvclN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU3RhdGUnXG5pbXBvcnQgeyBDcmVhdG9yU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2NyZWF0b3IvQ3JlYXRvclNlcnZpY2UnXG5pbXBvcnQgeyB1c2VXZWJ4ck5hdGl2ZVN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvd2VieHJfbmF0aXZlL1dlYnhyTmF0aXZlU3RhdGUnXG5pbXBvcnQgeyBXZWJ4ck5hdGl2ZVNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy93ZWJ4cl9uYXRpdmUvV2VieHJOYXRpdmVTZXJ2aWNlJ1xuXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nXG5cbi8vIGltcG9ydCBpbWFnZSBmcm9tICcvc3RhdGljL2ltYWdlcy9pbWFnZS5qcGcnXG4vLyBpbXBvcnQgbW9ja3VwSVBob25lIGZyb20gJy9zdGF0aWMvaW1hZ2VzL21vY2t1cElQaG9uZS5qcGcnXG5pbXBvcnQgU3BsYXNoIGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvU3BsYXNoJ1xuaW1wb3J0IFRlcm1zQW5kUG9saWN5IGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL2NvbXBvbmVudHMvVGVybXNhbmRQb2xpY3knXG5pbXBvcnQgQmxvY2tlZCBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9jb21wb25lbnRzL0Jsb2NrZWQnXG4vLyBpbXBvcnQgeyBXZWJYUlN0YXJ0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cHMvV2ViWFInXG5pbXBvcnQgeyB1c2VBdXRoU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU3RhdGUnXG5pbXBvcnQgeyBSZWRpcmVjdCB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5cbmltcG9ydCB7IGdldFN0b3JlZEF1dGhTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvcGVyc2lzdGVkLnN0b3JlJ1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCdcblxuY29uc3QgSG9tZSA9ICh7fSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAgY29uc3QgYXV0aCA9IHVzZUF1dGhTdGF0ZSgpXG5cbiAgLypoaWRlZCBmb3Igbm93Ki9cblxuICBjb25zdCBhdXRoRGF0YSA9IGdldFN0b3JlZEF1dGhTdGF0ZSgpXG4gIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXV0aERhdGE/LmF1dGhVc2VyID8gYXV0aERhdGEuYXV0aFVzZXIuYWNjZXNzVG9rZW4gOiB1bmRlZmluZWRcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGlmIChhY2Nlc3NUb2tlbikge1xuICAgIGRpc3BhdGNoKEF1dGhTZXJ2aWNlLmRvTG9naW5BdXRvKHRydWUpKVxuICAgIGRpc3BhdGNoKFdlYnhyTmF0aXZlU2VydmljZS5nZXRXZWJYck5hdGl2ZSgpKVxuICAgIC8vIH1cbiAgfSwgW2FjY2Vzc1Rva2VuXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRoPy5hdXRoVXNlcj8uYWNjZXNzVG9rZW4pIHtcbiAgICAgIGlmIChhdXRoLnVzZXIuaWQudmFsdWUpIHtcbiAgICAgICAgZGlzcGF0Y2goQ3JlYXRvclNlcnZpY2UuY3JlYXRlQ3JlYXRvcigpKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2F1dGguaXNMb2dnZWRJbi52YWx1ZSwgYXV0aC51c2VyLmlkLnZhbHVlXSlcblxuICBjb25zdCBbb25ib3JkZWQsIHNldE9uYm9yZGVkXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtmZWVkT25ib3JkZWQsIHNldEZlZWRPbmJvcmRlZF0gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbc3BsYXNoVGltZW91dCwgc2V0U3BsYXNoVGltZW91dF0gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbZmVlZEhpbnRzT25ib3JkZWQsIHNldEZlZWRIaW50c09uYm9yZGVkXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtyZWdpc3RyYXRpb25Gb3JtLCBzZXRSZWdpc3RyYXRpb25Gb3JtXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlKCdmZWF0dXJlZCcpXG5cbiAgY29uc3QgY3JlYXRvcnNTdGF0ZSA9IHVzZUNyZWF0b3JTdGF0ZSgpXG5cbiAgY29uc3QgY3VycmVudENyZWF0b3IgPSBjcmVhdG9yc1N0YXRlLmNyZWF0b3JzLmN1cnJlbnRDcmVhdG9yLnZhbHVlXG4gIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCEhY3VycmVudENyZWF0b3IgJiYgISFjdXJyZW50Q3JlYXRvci5jcmVhdGVkQXQpIHtcbiAgICAgIGN1cnJlbnRUaW1lLnNsaWNlKDAsIC01KSA9PT0gY3VycmVudENyZWF0b3IuY3JlYXRlZEF0LnNsaWNlKDAsIC01KSAmJiBzZXRPbmJvcmRlZChmYWxzZSlcbiAgICB9XG4gIH0sIFtjdXJyZW50Q3JlYXRvcl0pXG5cbiAgY29uc3Qgd2VieHJSZWNvcmRlckFjdGl2aXR5ID0gdXNlV2VieHJOYXRpdmVTdGF0ZSgpLndlYnhybmF0aXZlLnZhbHVlXG5cbiAgY29uc3QgY2hhbmdlT25ib2FyZGluZyA9ICgpID0+IHtcbiAgICBzZXRPbmJvcmRlZCh0cnVlKVxuICAgIHNldEZlZWRPbmJvcmRlZChmYWxzZSlcbiAgICBzZXRGZWVkSGludHNPbmJvcmRlZChmYWxzZSlcbiAgfVxuICBjb25zdCBwbGF0Zm9ybUNsYXNzID0gaXNJT1MgPyBzdHlsZXMuaXNJb3MgOiAnJ1xuICBjb25zdCBoaWRlQ29udGVudE9uUmVjb3JkID0gd2VieHJSZWNvcmRlckFjdGl2aXR5ID8gc3R5bGVzLmhpZGVDb250ZW50T25SZWNvcmQgOiAnJ1xuXG4gIC8vIGlmICghY3VycmVudENyZWF0b3IgfHwgY3VycmVudENyZWF0b3IgPT09IG51bGwgfHwgKHNwbGFzaFRpbWVvdXQgJiYgY3VycmVudENyZWF0b3IuaXNCbG9ja2VkID09IGZhbHNlKSkge1xuICAvLyAgIC8vYWRkIGFkZGl0aW9uYWwgZHVyYXRpb24gU3BsYXNoIGFmdGVyIGluaXRpYWxpemVkIHVzZXJcbiAgLy8gICBjb25zdCBzcGxhc2ggPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgLy8gICAgIHNldFNwbGFzaFRpbWVvdXQoZmFsc2UpXG4gIC8vICAgICBjbGVhclRpbWVvdXQoc3BsYXNoKVxuICAvLyAgIH0sIDUwMDApXG4gIC8vICAgcmV0dXJuIDxTcGxhc2ggLz5cbiAgLy8gfVxuXG4gIC8vIGlmIChjdXJyZW50Q3JlYXRvci5pc0Jsb2NrZWQgPT0gdHJ1ZSkge1xuICAvLyAgIHJldHVybiAoXG4gIC8vICAgICA8ZGl2PlxuICAvLyAgICAgICA8U3BsYXNoIC8+XG4gIC8vICAgICAgIDxCbG9ja2VkIC8+XG4gIC8vICAgICA8L2Rpdj5cbiAgLy8gICApXG4gIC8vIH1cblxuICAvLyBpZiAoYXV0aC5nZXQoJ3VzZXInKS51c2VyUm9sZSAhPT0gJ3VzZXInKSB7XG4gIC8vICAgcmV0dXJuIDxSZWdpc3RyYXRpb24gLz5cbiAgLy8gfVxuXG4gIC8vIGlmICghb25ib3JkZWQpIHJldHVybiA8T25ib2FyZCBzZXRPbmJvcmRlZD17Y2hhbmdlT25ib2FyZGluZ30gaW1hZ2U9e2ltYWdlfSBtb2NrdXBJUGhvbmU9e21vY2t1cElQaG9uZX0gLz5cblxuICAvLyBpZiAoIWFjY2Vzc1Rva2VuKSB7XG4gIC8vICAgcmV0dXJuIDxSZWRpcmVjdCB0bz1cIi9yZWdpc3RyYXRpb25cIiAvPlxuICAvLyB9XG5cbiAgcmV0dXJuIDxBcHAgLz5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9tZVxuIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlJCQwIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlJCQxIiwiUmVhY3QiLCJyZXF1aXJlJCQyIiwiX2NyZWF0ZVN2Z0ljb24iLCJyZXF1aXJlJCQzIiwiX2RlZmF1bHQiLCJkZWZhdWx0XzEiLCJzdHlsZXMiLCJQZXJzb25QaW5JY29uIiwiVmVyaWZpZWRVc2VySWNvbiIsInVzZVN0YXRlIiwiVmlzaWJpbGl0eUljb24iLCJXaGF0c2hvdEljb24iLCJUZWxlZ3JhbUljb24iLCJ1c2VSZWYiLCJUcmFuc2l0aW9uIiwiQXJyb3dCYWNrSW9zSWNvbiIsIndpdGhTdHlsZXNfMSIsIl9leHRlbmRzMiIsIkRpYWxvZ0NvbnRlbnRfMSIsInJlcXVpcmUkJDQiLCJyZXF1aXJlJCQ1IiwiX3dpdGhTdHlsZXMiLCJyZXF1aXJlJCQ3IiwiRGlhbG9nQ29udGVudFRleHRfMSIsInJlcXVpcmUkJDYiLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nQ29udGVudFRleHQiLCJQbGF5ZXJXb3JrZXIiLCJGbGlwQ2FtZXJhSW9zSWNvbiIsIlZpZGVvY2FtSWNvbiIsIkhvbWUiLCJBcHAiXSwibWFwcGluZ3MiOiJnd0ZBQWEsSUFBUSxtQkFBbUIsS0FBSyxVQUFVLFlBQWMsQ0FBRSxPQUFlLG1CQ0VsRkEsR0FBeUJDLFVBRXpCQyxHQUEwQkMsVUFFOUIsT0FBTyxlQUFlLEdBQVMsYUFBYyxDQUMzQyxNQUFPLEtBRVQsa0JBQWtCLE9BRWRDLEdBQVFGLEdBQXdCRyxXQUVoQ0MsR0FBaUJOLEdBQXVCTyxJQUV4Q0MsTUFBZUYsR0FBZSxTQUF1QkYsR0FBTSxjQUFjLE9BQVEsQ0FDbkYsRUFBRyx1UkFDRCxhQUVKSyxjQUFrQkQsc1RDRmxCLEtBQU0sSUFBVyxBQUFDLEdBQWlCLE1BQzNCLEdBQWdCLElBQ2hCLEVBQVcsd0JBQ1AsSUFBTSxHQUNMLEdBQWUsZ0JBQ3ZCLFNBQ0csR0FDSixFQUFjLFNBQVMsVUFBVSxPQUFTLEVBQWMsU0FBUyxrQkFBa0IsUUFBVSxHQUN6RixFQUFjLFNBQVMsU0FBUyxNQUNoQyxLQUVBLEVBQW9CLEFBQUMsR0FBTyxHQUN2QixFQUFtQix1QkFBdUIsT0FDMUMsRUFBbUIsdUJBQXVCLEdBQU0sS0FHckQsRUFBaUIsRUFBYyxTQUFTLGdCQUFnQixJQUFJLDBCQUN4RCxJQUFNLEdBQ0wsR0FBZSxlQUFlLEtBQ3RDLFNBQ0csR0FBWSxHQUFlLFVBQVUsUUFBUSw2QkFHaEQsVUFBRCxDQUFTLFVBQVdFLEVBQU8sa0JBRXhCLEdBQ0MsR0FDQSxFQUFTLE9BQVMsR0FDbEIsR0FDSSxPQUFPLEFBQUMsR0FBVyxFQUFPLFVBQVksR0FDdkMsSUFBSSxDQUFDLEVBQU0sb0JBQ1QsR0FBRCxDQUNFLFVBQVdBLEVBQU8sWUFDbEIsVUFBVyxFQUNYLElBQUssRUFDTCxRQUFTLElBQU0sRUFBa0IsRUFBSyxLQUVyQyxFQUFLLHVCQUNILEdBQUQsQ0FBVyxVQUFXQSxFQUFPLGFBQWMsTUFBTyxFQUFLLHdCQUFXQyxHQUFELE1BQW1CLE1BQU8sRUFBSyx1QkFFL0YsVUFBRCxDQUFTLFVBQVdELEVBQU8sOEJBQ3hCLEdBQUQsQ0FBUSxVQUFXQSxFQUFPLHFDQUc3QixHQUFELHFCQUNHLEVBQUQsQ0FBWSxVQUFXQSxFQUFPLGdCQUMzQixFQUFLLEtBQ0wsRUFBSyxXQUFhLG1CQUNoQkUsR0FBRCxDQUFrQixVQUFVLFVBQVUsTUFBTyxDQUFFLFNBQVUsT0FBUSxPQUFRLGdDQUc1RSxFQUFELENBQVksVUFBV0YsRUFBTyxtQkFBb0IsRUFBSyxlQ3hEMUQsR0FBdUIsQ0FDbEMsaUJBQWtCLENBQUMsRUFBb0IsSUFDOUIsTUFBTyxFQUFvQixJQUFnQyxJQUM1RCxNQUVJLEdBQWtCLEtBQU0sSUFBTyxRQUFRLGtCQUFrQixLQUFLLENBQUUsTUFBTyxDQUFFLGtCQUk5RCxTQUNWLFdBQ0MsSUFBSSxNQUNDLG1CQUFtQixFQUFVLEVBQUksV0FJcEQsa0JBQW1CLEFBQUMsR0FDWCxLQUFPLElBQXFDLElBQzdDLE1BRUksR0FBaUIsQ0FDckIsR0FBSSxBQUZZLE1BQU0sSUFBTyxRQUFRLGtCQUFrQixPQUFPLENBQUUsZ0JBRWxELGFBR1AsZ0JBQWdCLFVBQ2xCLFdBQ0MsSUFBSSxNQUNDLG1CQUFtQixFQUFVLEVBQUksV0FJcEQscUJBQXNCLEFBQUMsR0FDZCxLQUFPLElBQXFDLElBQzdDLE1BQ0ksSUFBTyxRQUFRLGtCQUFrQixPQUFPLEtBQ3JDLEdBQWUsbUJBQW1CLFVBQ3BDLFdBQ0MsSUFBSSxNQUNDLG1CQUFtQixFQUFVLEVBQUksMFZDN0J0RCxLQUFNLENBQUUsVUFBVSxHQUtaLEdBQWUsQUFBQyxHQUFzQixDQUNKRyxtQkFBUyxTQUN6QyxDQUFDLEVBQU8sR0FBWUEsbUJBQVMsSUFDN0IsQ0FBRSxRQUFTLEVBQ1gsQ0FBQyxFQUFZLEdBQWlCQSxtQkFBUyxFQUFLLE9BQzVDLEVBQVcsSUFDWCxDQUFDLEVBQXVCLEdBQTRCQSxtQkFBUyxNQUU3RCxFQUFxQixBQUFDLEdBQVcsR0FDNUIsR0FBcUIsa0JBQWtCLE1BQ2xDLEVBQWEsS0FDbEIsS0FFTCxFQUF3QixBQUFDLEdBQVcsR0FDL0IsR0FBcUIscUJBQXFCLE1BQ3JDLEVBQWEsS0FDbEIseUJBR0QsSUFBTSxHQUNMLEdBQXFCLGlCQUFpQixFQUFLLEdBQUksS0FDdkQsU0FFRyxDQUFFLEtBQU0sSUFDUixFQUFXLElBQU0sSUFDZixNQUFNLENBQ1YsTUFBTyxFQUFFLDZCQUNULEtBQU0sRUFBRSxpQ0FDUixJQUFLLFVBQVUsRUFBSyxVQUNwQixZQUFhLEVBQUUsd0NBSWIsRUFBWSxJQUFrQixTQUFTLGdCQUFnQixJQUFJLGlDQUV2RCxJQUFNLEdBQ0wsQ0FBQyxDQUFDLEdBQXVCLEtBQUssS0FBSyxBQUFDLEdBQU0sRUFBRSxLQUFPLEtBQzNELENBQUMsSUFFRyxrREFFRixHQUFELENBQU0sVUFBV0gsRUFBTyxRQUFTLE9BQVEsR0FBTyxVQUFXLEVBQUcsSUFBSyxFQUFLLElBQ3JFLEVBQUsseUJBQ0gsR0FBRCxDQUNFLFVBQVdBLEVBQU8sYUFDbEIsVUFBVSxRQUNWLElBQUssRUFBSyxTQUNWLE1BQU8sRUFBSyxNQUNaLFNBQVEsS0FHVixtQkFFRCxPQUFELENBQU0sVUFBV0EsRUFBTyxTQUNyQixFQUFLLDJCQUNMSSxHQUFELENBQWdCLE1BQU8sQ0FBRSxTQUFVLDJCQUVwQyxHQUFELENBQWEsVUFBV0osRUFBTyw2QkFDNUIsVUFBRCxDQUFTLFVBQVdBLEVBQU8sZ0NBQ3hCLEVBQUQsQ0FBWSxVQUFXQSxFQUFPLGVBQWdCLGFBQVksR0FBQyxRQUFRLE1BQ2hFLEVBQUssdUJBRVAsR0FBRCxDQUFnQixRQUFTLEVBQUssMEJBQzdCLFVBQUQsQ0FBUyxVQUFXQSxFQUFPLGtCQUN4QixrQkFDRUssR0FBRCxDQUNFLFVBQVdMLEVBQU8sU0FDbEIsVUFBVSxVQUNWLFFBQVMsSUFBTSxFQUFzQixFQUFLLHNCQUczQ0ssR0FBRCxDQUNFLFVBQVdMLEVBQU8sU0FDbEIsVUFBVSxVQUNWLFFBQVMsSUFBTSxFQUFtQixFQUFLLHNCQUcxQ00sR0FBRCxDQUFjLFFBQVMsc0JBRzFCLEVBQUQsQ0FBWSxRQUFRLGFBQWEsRUFBVywyQkFDM0MsRUFBRCxDQUFZLFVBQVdOLEVBQU8sU0FBVSxRQUFRLE1BQzdDLEVBQUssaU9DM0ZsQixLQUFNLElBQVUsQUFBQyxHQUFpQixNQUMxQixHQUFXLHdCQUVQLElBQU0sR0FDTCxHQUFnQixtQkFDeEIsU0FHRyxHQUFlLEFBRkMsTUFFYyxVQUFVLE9BQVMsMEJBR3BELFVBQUQsQ0FBUyxVQUFXQSxHQUFPLGtCQUN4QixHQUFnQixFQUFhLE9BQVMsRUFDckMsRUFBYSxJQUFJLENBQUMsRUFBTSxvQkFBUyxHQUFELENBQWMsTUFBVSxLQUFNLHFCQUU3RCxJQUFELENBQUcsVUFBV0EsR0FBTyxXQUFXLHFhQ2R4QyxLQUFNLElBQVcsQ0FBQyxDQUFFLE9BQU0sYUFBYyxNQUNoQyxHQUFlTyxtQkFDZixFQUFjQSxtQkFDZCxFQUFjQSxtQkFDZCxFQUFhQSxtQkFDYixFQUFtQkEsbUJBQ25CLENBQUUsS0FBTSxJQUNSLEVBQVcsSUFDWCxFQUFhLHlCQUVULElBQU0sR0FDTCxHQUFZLFNBQVMsY0FDN0IsU0FFRyxHQUFVLEdBQ1YsRUFBa0IsQUFBQyxHQUFTLEdBQ3hCLE1BRUosR0FBZ0IsU0FDWixPQUNELGFBQ2EsRUFBWSxRQUFRLFdBQWEsWUFFOUMsWUFDYSxFQUFXLFFBQVEsV0FBYSxZQUU3QyxrQkFDYSxFQUFpQixRQUFRLFdBQWEsa0JBR3RDLFVBR1AsUUFBUSxTQUFTLENBQUUsS0FBTSxFQUFlLFNBQVUsZUFFN0QsR0FBVSxZQUNOLE9BQ0QsNkJBQ1EsR0FBRCxnQkFFUCw0QkFDUSxHQUFELHNDQU1DLEdBQUQsQ0FBVSxTQUFVLEVBQVcsTUFBTSxjQUFjLG1CQUczRCxHQUFVLENBQ2QsU0FBVSxDQUFDUCxFQUFPLGVBQWdCLElBQVMsWUFBY0EsRUFBTyxRQUNoRSxTQUFVLENBQUNBLEVBQU8sZUFBZ0IsSUFBUyxZQUFjQSxFQUFPLFFBQ2hFLFFBQVMsQ0FBQ0EsRUFBTyxjQUFlLElBQVMsV0FBYUEsRUFBTyxRQUM3RCxjQUFlLENBQUNBLEVBQU8sb0JBQXFCLElBQVMsaUJBQW1CQSxFQUFPLGdFQUk1RSxNQUFELENBQUssVUFBV0EsRUFBTyxtQ0FDcEIsVUFBRCxDQUFTLFVBQVdBLEVBQU8sV0FBWSxJQUFLLG1CQUN6QyxVQUFELENBQVMsVUFBV0EsRUFBTywwQkFDeEIsRUFBRCxDQUNFLElBQUssRUFDTCxRQUFRLFlBQ1IsVUFBVyxFQUFRLFNBQVksS0FBSyxLQUNwQyxRQUFTLElBQU0sRUFBZ0IsYUFFOUIsRUFBRSw2Q0FFSixFQUFELENBQ0UsSUFBSyxFQUNMLFFBQVEsWUFDUixVQUFXLEVBQVEsU0FBWSxLQUFLLEtBQ3BDLFFBQVMsSUFBTSxFQUFnQixhQUU5QixFQUFFLGdEQXFCVixVQUFELENBQVMsVUFBV0EsRUFBTyxTQUFVLEtDakdyQ1EsR0FBYWQsRUFBTSxXQUN2QixDQUFDLEVBQXNFLG9CQUM3RCxHQUFELENBQU8sVUFBVSxLQUFLLFNBQWMsS0FJekMsRUFBYyxBQUFDLEdBQWlCLE1BQzlCLENBQUUsV0FBVSxPQUFNLFVBQVMsUUFBTyxhQUFjLHlCQUVuRCxHQUFELENBQ0UsT0FDQSxvQkFBcUJjLEdBQ3JCLFlBQVcsR0FDWCxVQUNBLFlBQ0Esa0JBQWdCLDJCQUNoQixtQkFBaUIsa0NBT2hCLG1CQUFVLEdBQUQsQ0FBYSxHQUFHLDRCQUE0QixHQUNyRCw2REMxQk0sSUFBZSxDQUFDLENBQUUsd0JBQXVCLGFBQXFCLE1BQ25FLEdBQWMsSUFDZCxFQUFXLElBRVgsRUFBcUIsSUFBTSxHQUN0QixFQUFtQix1QkFBdUIsTUFFL0MsRUFBcUIsSUFDekIsR0FBYSxRQUFRLGFBQWEsUUFBVSxJQUM1QyxHQUFhLFFBQVEsV0FBVyxPQUNoQyxDQUFDLG1CQUNFLEVBQUQsQ0FDRSxLQUFNLEdBQWEsUUFBUSxhQUFhLE1BQ3hDLFFBQVMsRUFDVCxVQUFXUixHQUFPLDhCQUVqQixHQUFELENBQVMsVUFBVyxHQUFhLFFBQVEsV0FBVyx3QkFDbkQsRUFBRCxDQUFXLHdDQUdQLElBQU0sTUFFYixDQUFDLEdBQWEsUUFBUSxhQUFhLE1BQU8sR0FBYSxRQUFRLFdBQVcsUUFDdEUsb0pDdEJJLElBQVksQ0FBQyxDQUFFLHdCQUF1QixhQUFxQixNQUNoRSxHQUFjLElBR2QsRUFBZ0IsR0FBUUEsR0FBTyxNQUFRLEdBQ3ZDLEVBQVcsSUFFWCxFQUFrQixJQUFNLEdBQ25CLEVBQW1CLG9CQUFvQixNQUU1QyxFQUFrQixJQUN0QixHQUFhLFFBQVEsVUFBVSxRQUFVLElBQ3pDLENBQUMsbUJBQ0UsRUFBRCxDQUNFLEtBQU0sR0FBYSxRQUFRLFVBQVUsTUFDckMsUUFBUyxFQUNULFVBQVdBLEdBQU8sY0FBZ0IsSUFBTSxtQkFFdkMsTUFBRCxDQUFLLFVBQVdBLEdBQU8sb0NBQ3BCLEdBQUQsc0JBQ0MsRUFBRCxDQUFXLHlDQUlULElBQU0sTUFFYixDQUFDLEdBQWEsUUFBUSxVQUFVLE1BQU8sR0FBYSxRQUFRLFFBQVEsUUFDaEUsbUdDMUJJLElBQW1CLENBQUMsQ0FBRSx3QkFBdUIsYUFBcUIsTUFDdkUsR0FBVyxJQUVYLEVBQWMsSUFHZCxFQUF5QixJQUFNLEdBQzFCLEVBQW1CLHVCQUF1QixNQUUvQyxFQUFnQixHQUFRQSxHQUFPLE1BQVEsR0FFdkMsRUFBd0IsSUFDNUIsR0FBYSxRQUFRLGFBQWEsUUFBVSxJQUM1QyxDQUFDLG1CQUNFLEVBQUQsQ0FDRSxLQUFNLEdBQWEsUUFBUSxhQUFhLE1BQ3hDLFFBQVMsRUFDVCxVQUFXQSxHQUFPLGlCQUFtQixJQUFNLG1CQUUxQyxHQUFELHNCQUNDLEVBQUQsQ0FBVyx3Q0FJUCxJQUFNLE1BRWIsQ0FBQyxHQUFhLE9BQU8sWUFBWSxRQUM3Qiw0YkNqQlQsS0FBTSxJQUFVLEFBQUMsR0FBaUIsTUFDMUIsQ0FBQyxFQUFNLEdBQVdHLG1CQUFTLFFBQzNCLENBQUMsRUFBTSxHQUFXQSxtQkFBb0IsSUFDdEMsQ0FBQyxFQUFZLEdBQWlCQSxtQkFBUyxJQUN2QyxDQUFDLEVBQWMsR0FBbUJBLG1CQUFTLE1BQzNDLEVBQWUseUJBQ1gsSUFBTSxHQUNMLEdBQWUsZUFDdkIsU0FDRyxDQUFFLEtBQU0sSUFDRSxVQUNWLEdBQVcsK0JBQ1AsSUFBTSxDQUNWLEVBQWEsU0FBUyxRQUFVLE1BQzFCLEdBQWMsTUFBTSxPQUFPLE9BQU8sQUFBQyxHQUFTLEVBQUssT0FBUyxJQUFTLEtBRTVFLENBQUMsRUFBYSxTQUFTLE1BQU8sb0JBRzlCLFVBQUQsQ0FBUyxVQUFXSCxFQUFPLGtCQUN4QixtQkFBZSxHQUFELENBQVcsS0FBTSwrQkFDL0IsRUFBRCxDQUNFLFFBQVEsT0FDUixVQUFXQSxFQUFPLFdBQ2xCLFFBQVMsSUFBTSxHQUNKLEVBQW1CLG1CQUFtQix1QkFHaERTLEdBQUQsTUFDQyxFQUFFLHdDQUVKLFVBQUQsQ0FBUyxVQUFXVCxFQUFPLDBCQUN4QixFQUFELENBQ0UsUUFBUyxJQUFTLE9BQVMsWUFBYyxPQUN6QyxVQUFXQSxFQUFPLGtCQUF5QixPQUFTLElBQU1BLEVBQU8sT0FBUyxJQUMxRSxRQUFTLElBQU0sRUFBUSxTQUV0QixFQUFFLHlDQVVOLFVBQUQsQ0FBUyxVQUFXQSxFQUFPLGVBQ3hCLEVBQUssSUFBSSxDQUFDLEVBQU0sb0JBQ2QsVUFBRCxDQUFTLElBQUssRUFBSyxHQUFJLFVBQVdBLEVBQU8sdUNBQ3RDLEdBQUQsQ0FBVyxRQUFTLElBQU0sRUFBZ0IsR0FBTyxVQUFXQSxFQUFPLGFBQWMsTUFBTyxFQUFLLDZCQUM1RixFQUFELEtBQWEsRUFBSyxVQUl2QixHQUFRLDZCQUFnQixPQUFELENBQU0sVUFBV0EsRUFBTyxPQUFPLG1CQUF5QixJQUMvRSxBQUFDLGtCQUNDLEVBQUQsQ0FDRSxVQUFXQSxFQUFPLGVBQ2xCLFFBQVMsU0FBWSxHQUNMLElBQ1YsRUFBUyxjQUFnQixhQUNyQixHQUFTLFlBQVksQ0FDekIsVUFBVyxFQUFhLFNBQ3hCLFFBQVMsRUFBYSxZQUdaLE1BQ0wsRUFBbUIsbUJBQW1CLE9BQ3RDLEVBQW1CLGlCQUFpQixHQUFNLEVBQWEsTUFFbEUsUUFBUSxhQUVQLEVBQUUseUJBakJVLGdFQ3hFVixJQUFlLEFBQUMsR0FBaUIsTUFDdEMsR0FBYyxJQUNkLEVBQVcsSUFFWCxFQUFzQixJQUFNLEdBQ3ZCLEVBQW1CLG1CQUFtQixNQUUzQyxFQUFxQixJQUN6QixHQUFhLE9BQU8sU0FBUyxRQUFVLG9CQUNwQyxFQUFELENBQ0UsS0FBTSxHQUFhLE9BQU8sU0FBUyxNQUNuQyxRQUFTLEVBQ1QsVUFBV0EsR0FBTyw4QkFFakIsR0FBRCxrQ0FJSSxJQUFNLE1BRWIsQ0FBQyxHQUFhLFFBQVEsU0FBUyxRQUMzQixLQ3ZCSSxHQUFnQixDQUFDLENBQUUsYUFBcUIsQ0FDbEMsU0FDWCxHQUFjLElBTWQsRUFBcUIsSUFDekIsRUFBWSxPQUFPLGVBQWUsUUFBVSxvQkFPekMsR0FBRCxpQ0FLTSxJQUFNLE1BRWIsQ0FBQyxFQUFZLE9BQU8sY0FBYyxRQUM5Qiw0TENsQlQsS0FBTSxJQUFZLEdBQVcsQ0FDM0IsS0FBTSxDQUNKLFNBQVUsU0FFWixNQUFPLENBQ0wsT0FBUSxRQUNSLE1BQU8sU0FFVCxVQUFXLENBQ1QsZ0JBQWlCLFFBQ2pCLE1BQU8sUUFDUCxPQUFRLElBQ1IsTUFBTyxPQUNQLGFBQWMsT0FDZCxVQUFXLENBQ1QsZ0JBQWlCLFFBQ2pCLE1BQU8sWUFLUCxHQUFZLEFBQUMsR0FBaUIsTUFDNUIsR0FBYyxJQUNkLEVBQVcsRUFBWSxPQUFPLFVBQVUsTUFDeEMsRUFBYSxFQUFZLE9BQU8sUUFBUSxNQUN4QyxFQUFVLEtBQ1YsQ0FBRSxLQUFNLElBQ1IsRUFBVyxJQUNYLEVBQWMsSUFBTSxHQUNmLEVBQW1CLHFCQUFxQixPQUN4QyxFQUFtQix1QkFBdUIsTUFHL0MsRUFBVyxJQUFNLElBQ2YsTUFBTSxDQUNWLE1BQU8sRUFBRSw2QkFDVCxLQUFNLEVBQUUsaUNBQ1IsSUFBSyxVQUFVLEdBQ2YsWUFBYSxFQUFFLG1FQUdULElBQU0sU0FDTixJQUFJLHVCQUF3QixxQkFJbkMsTUFBRCxDQUFLLFVBQVdBLEdBQU8sb0NBQ3BCLEdBQUQsQ0FBSyxRQUFRLE9BQU8sZUFBZSxTQUFTLFdBQVcsU0FBUyxVQUFVLHdCQUN2RSxHQUFELENBQ0UsVUFBVyxFQUFRLE1BQVEsSUFBTUEsR0FBTyxNQUN4QyxVQUFVLE1BQ1YsSUFBSSx3QkFDSixJQUFLLEVBRUwsTUFBTSxNQUNOLE1BQU8sQ0FBRSxTQUFVLG9CQUFxQixVQUFXLDJCQUd0RCxFQUFELENBQVEsS0FBSyxRQUFRLE1BQU0sVUFBVSxRQUFTLEVBQVUsVUFBVyxFQUFRLFdBQ3hFLEVBQUUsZ0RBTUosRUFBRCxDQUNFLEtBQUssUUFDTCxNQUFNLFVBQ04sUUFBUyxJQUFNLE1BR2YsVUFBV0EsR0FBTyxrQkFFakIsRUFBRSxvSUN6RUUsSUFBa0IsQ0FBQyxDQUFFLGFBQXFCLE1BQy9DLEdBQVcsSUFDWCxFQUFjLElBRWQsRUFBdUIsSUFBTSxHQUN4QixFQUFtQixxQkFBcUIsTUFFN0MsRUFBdUIsSUFDM0IsR0FBYSxRQUFRLFdBQVcsUUFBVSxvQkFDdkMsRUFBRCxDQUNFLEtBQU0sR0FBYSxPQUFPLFVBQVUsTUFDcEMsUUFBUyxFQUNULFVBQVdBLEdBQU8sZ0NBRWpCLEdBQUQsc0JBQ0MsTUFBRCxDQUFLLFVBQVdBLEdBQU8sNkJBQ3BCLEVBQUQsQ0FBVyx5Q0FLVCxJQUFNLE1BRWIsQ0FBQyxHQUFhLE9BQU8sV0FBVyxRQUM1QixxZkNyQ0xWLEdBQXlCQyxVQUU3QixPQUFPLGVBQWVtQixHQUFTLGFBQWMsQ0FDM0MsTUFBTyxnQkFFUyxPQUVsQixHQUFJQyxJQUFZckIsR0FBdUJHLFlBRW5DLEdBQVUsR0FFVixHQUFnQkgsR0FBdUJPLElBRTNDLFlBQW9CLEVBQWlCLEVBQVMsQ0FDNUMsU0FBVyxHQUFRLFlBQVksS0FBcUJjLEdBQVUsU0FBUyxDQUNyRSxhQUFjLEdBQWMsU0FDM0IsSUFHTCxHQUFJYixJQUFXLGNBQ0dBLEdDcEJsQixHQUFJTixJQUEwQkQsVUFFMUJELEdBQXlCRyxVQUU3QixPQUFPLGVBQWVtQixHQUFTLGFBQWMsQ0FDM0MsTUFBTyxLQUVULDRCQUFtQyxPQUUvQkQsR0FBWXJCLEdBQXVCSyxZQUVuQyxHQUE0QkwsR0FBdUJPLFlBRW5ESCxHQUFRRixHQUF3QnFCLFdBRW5CdkIsR0FBdUJ3QixZQUV4QyxHQUFJLElBQVF4QixHQUF1QixJQUUvQnlCLEdBQWN6QixHQUF1QjBCLElBRXJDaEIsR0FBUyxTQUFnQixFQUFPLENBQ2xDLE1BQU8sQ0FFTCxLQUFNLENBQ0osS0FBTSxXQUNOLHdCQUF5QixRQUV6QixVQUFXLE9BQ1gsUUFBUyxXQUNULGdCQUFpQixDQUVmLFdBQVksS0FLaEIsU0FBVSxDQUNSLFFBQVMsWUFDVCxVQUFXLGFBQWEsT0FBTyxFQUFNLFFBQVEsU0FDN0MsYUFBYyxhQUFhLE9BQU8sRUFBTSxRQUFRLHNCQUtyQ0EsR0FDakIsR0FBSSxJQUE2Qk4sR0FBTSxXQUFXLFNBQXVCLEVBQU8sRUFBSyxDQUNuRixHQUFJLEdBQVUsRUFBTSxRQUNoQixFQUFZLEVBQU0sVUFDbEIsRUFBa0IsRUFBTSxTQUN4QixFQUFXLElBQW9CLE9BQVMsR0FBUSxFQUNoRCxLQUFZLEdBQTBCLFNBQVMsRUFBTyxDQUFDLFVBQVcsWUFBYSxhQUNuRixNQUFvQkEsSUFBTSxjQUFjLFNBQVdpQixHQUFVLFNBQVMsQ0FDcEUsYUFBZSxHQUFNLFNBQVMsRUFBUSxLQUFNLEVBQVcsR0FBWSxFQUFRLFVBQzNFLElBQUssR0FDSixNQThCRGIsTUFBZWlCLEdBQVksU0FBU2YsR0FBUSxDQUM5QyxLQUFNLHFCQUNMLElBRUhELGNBQWtCRCxhQ3pGZE4sR0FBMEJELFVBRTFCRCxHQUF5QkcsVUFFN0IsT0FBTyxlQUFld0IsR0FBUyxhQUFjLENBQzNDLE1BQU8sS0FFVCw0QkFBbUMsT0FFL0IsR0FBWTNCLEdBQXVCSyxZQUVuQ0QsR0FBUUYsR0FBd0JLLFdBRW5CUCxHQUF1QnVCLFlBRXhDLEdBQUksSUFBY3ZCLEdBQXVCd0IsSUFFckMsR0FBY3hCLEdBQXVCNEIsSUFFckNsQixHQUFTLENBRVgsS0FBTSxDQUNKLGFBQWMsZUFHREEsR0FDakIsR0FBSSxJQUFpQ04sR0FBTSxXQUFXLFNBQTJCLEVBQU8sRUFBSyxDQUMzRixNQUFvQkEsSUFBTSxjQUFjLEdBQVksV0FBYSxHQUFVLFNBQVMsQ0FDbEYsVUFBVyxJQUNYLFFBQVMsUUFDVCxNQUFPLGdCQUNQLElBQUssR0FDSixNQW9CREksTUFBZSxHQUFZLFNBQVNFLEdBQVEsQ0FDOUMsS0FBTSx5QkFDTCxJQUVIRCxjQUFrQkQsR0N6Q2xCLEtBQU0sSUFBYUosRUFBTSxXQUN2QixDQUFDLEVBQXNFLG9CQUM3RCxHQUFELENBQU8sVUFBVSxLQUFLLFNBQWMsS0FJekMsR0FBaUIsQ0FBQyxDQUFFLGFBQW1CLE1BQ3JDLEdBQWdCLElBQ2hCLEVBQWlCLEVBQWMsU0FBUyxlQUFlLE1BQ3ZELEVBQVcsSUFHWCxDQUFDLEVBQVcsR0FBZ0JTLG1CQUFTLENBQUcsRUFBZSxPQUV2RCxDQUFDLEVBQVksR0FBaUJBLG1CQUFTLEFBQUcsRUFBZSxNQUFnQixDQUFHLEVBQWUsT0FBMUIsSUFDekQsSUFDWUEsbUJBQVMsSUFDTEEsbUJBQVMsU0EyQmpDLEdBQWUsSUFBTSxHQUNaLE1BQ0MsTUFFWixHQUFlLGNBQWMsQ0FDM0IsR0FBSSxFQUFjLFNBQVMsZ0JBQWdCLElBQUksTUFDL0MsTUFBTyxHQUNQLE9BQVEsR0FDUixLQUFNLEVBQWMsU0FBUyxnQkFBZ0IsTUFBTSxpQ0FNdEQsTUFBRCxDQUFLLFVBQVdILEdBQU8sMkJBQ3BCLEdBQUQsQ0FDRSxLQUFNLEVBQ04sb0JBQXFCLEdBQ3JCLFlBQVcsR0FDWCxrQkFBZ0IsMkJBQ2hCLG1CQUFpQixpQ0FDakIsVUFBV0EsR0FBTyxhQUNsQixXQUFZLENBQ1YsTUFBTyxDQUNMLE1BQU8sT0FDUCxTQUFVLE9BQ1YsT0FBUSxjQUNSLGFBQWMsMEJBSWpCbUIsR0FBRCxxQkFDR0MsR0FBRCxxQkFDRyxFQUFELENBQVksTUFBTSxTQUFTLFFBQVEsYUFDaEMsb0dBSUEsRUFBRCxDQUNFLE1BQU8sQ0FDTCxRQUFTLEtBRVgsUUFBUyxJQUFNLEdBQ0wsMkJBR1QsSUFBRCxLQUFHLHFCQUVKLHNEQUlBLEVBQUQsQ0FDRSxNQUFPLENBQ0wsUUFBUyxLQUVYLFFBQVMsSUFBTSxHQUNMLDRCQUdULElBQUQsS0FBRyxtQkFFSix5RUFJTixNQUFELENBQUssVUFBV3BCLEdBQU8sMkJBQ3BCLE1BQUQscUJBRUcsRUFBRCxDQUFRLFFBQVEsWUFBWSxRQUFTLEdBQWMsaUlDM0gvRCxLQUFNLElBQVUsb0JBRVgsTUFBRCxDQUFLLFVBQVdBLEdBQU8sc0JBQ3BCLE1BQUQsQ0FBSyxVQUFXQSxHQUFPLDJCQUNwQixJQUFELEtBQUcsNEVBQ0YsSUFBRCxLQUFHLDZEQUNGLEtBQUQsc0JBQ0MsTUFBRCxDQUFLLFVBQVdBLEdBQU8sc0JBQ3BCLElBQUQsQ0FBRyxLQUFLLDJCQUEwQixpQ0NieENWLEdBQXlCQyxVQUV6QkMsR0FBMEJDLFVBRTlCLE9BQU8sZUFBZSxHQUFTLGFBQWMsQ0FDM0MsTUFBTyxLQUVULGtCQUFrQixPQUVkQyxHQUFRRixHQUF3QkcsV0FFaENDLEdBQWlCTixHQUF1Qk8sSUFFeENDLE1BQWVGLEdBQWUsU0FBdUJGLEdBQU0sY0FBYyxPQUFRLENBQ25GLEVBQUcsMEdBQ0QsWUFFSkssY0FBa0JELGFDakJkLEdBQXlCUCxVQUV6QixHQUEwQkUsVUFFOUIsT0FBTyxlQUFlLEdBQVMsYUFBYyxDQUMzQyxNQUFPLEtBRVQsa0JBQWtCLE9BRWQsR0FBUSxHQUF3QkUsV0FFaEMsR0FBaUIsR0FBdUJFLElBRXhDLE1BQWUsR0FBZSxTQUF1QixHQUFNLGNBQWMsT0FBUSxDQUNuRixFQUFHLGdWQUNELGlCQUVKLGNBQWtCLHc2Q0NabEIsS0FBTSxJQUFVLENBQUMsQ0FBRSxpQ0FFZCxNQUFELENBQUssVUFBVyxFQUFPLHlCQUNwQixNQUFELENBQUssVUFBVyxFQUFPLFlBQWMsSUFBTSxFQUFPLDRCQUMvQyxNQUFELENBQUssVUFBVyxFQUFPLCtCQUNwQixNQUFELENBQUssSUFBSSxvQ0FBb0MsVUFBVyxFQUFPLDJCQUM5RCxNQUFELENBQUssVUFBVyxFQUFPLGlDQUNwQixLQUFELENBQUksVUFBVyxFQUFPLDhCQUNuQixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLHlCQUN0QixNQUFELENBQUssVUFBVyxFQUFPLDBCQUV4QixJQUFELENBQUcsVUFBVyxFQUFPLFdBQVcseURBR25DLFNBQUQsQ0FDRSxLQUFLLFNBQ0wsUUFBUyxJQUFNLEdBQ0QsTUFHYixJQUFJLFVBQ0csT0M3QlosR0FBVSxDQUFDLENBQUUsaUNBRWQsTUFBRCxDQUFLLFVBQVcsR0FBRyxFQUFPLFdBQXFCLEVBQU8sMkJBQ25ELE1BQUQsQ0FBSyxVQUFXLEVBQU8sWUFBYyxJQUFNLEVBQU8sNEJBQy9DLE1BQUQsQ0FBSyxVQUFXLEVBQU8sK0JBQ3BCLE1BQUQsQ0FBSyxVQUFXLEVBQU8saUNBQ3BCLEtBQUQsQ0FBSSxVQUFXLEVBQU8sYUFBZSxJQUFNLEVBQU8sK0JBQy9DLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8seUJBQ3RCLE1BQUQsQ0FBSyxVQUFXLEVBQU8sMEJBRXhCLElBQUQsQ0FBRyxVQUFXLEVBQU8sV0FBVywwREFHbkMsU0FBRCxDQUNFLEtBQUssU0FDTCxRQUFTLElBQU0sR0FDRCxNQUdiLElBQUksVUFDRyxlQ25Dc0IsQ0FDckIsUUFDQSxTQUNULHdCQUEwQixFQUMzQixNQUFRLEVBRWYsWUFBWSxFQUFzQixFQUFrQyxNQUM3RCxRQUFVLE9BQ1YsU0FBVyxPQUVYLFFBQVEsaUJBQWlCLGFBQWMsS0FBSyxjQUduRCxTQUFnQixNQUNULFFBQVEsb0JBQW9CLGFBQWMsS0FBSyxtQkFDL0MsUUFBUSxvQkFBb0IsV0FBWSxLQUFLLGlCQUM3QyxRQUFRLG9CQUFvQixZQUFhLEtBQUssYUFHckQsYUFBZSxBQUFDLEdBQXdCLENBQ2xDLEVBQUUsUUFBUSxTQUFXLFNBQ2xCLHdCQUEwQixLQUFLLE1BQ2xDLEVBQUUsUUFBUSxHQUFHLE1BQVEsRUFBRSxRQUFRLEdBQUcsTUFDbEMsRUFBRSxRQUFRLEdBQUcsTUFBUSxFQUFFLFFBQVEsR0FBRyxZQUcvQixRQUFRLGlCQUFpQixXQUFZLEtBQUssaUJBQzFDLFFBQVEsaUJBQWlCLFlBQWEsS0FBSyxlQUlwRCxXQUFhLElBQVksTUFDbEIsUUFBUSxvQkFBb0IsWUFBYSxLQUFLLGNBR3JELFlBQWMsQUFBQyxHQUF3QixNQUMvQixHQUF5QixLQUFLLE1BQ2xDLEVBQUUsUUFBUSxHQUFHLE1BQVEsRUFBRSxRQUFRLEdBQUcsTUFDbEMsRUFBRSxRQUFRLEdBQUcsTUFBUSxFQUFFLFFBQVEsR0FBRyxZQUcvQixNQUFRLEVBQXlCLEtBQUssNkJBQ3RDLHdCQUEwQixPQUUxQixTQUFTLEtBQUssUUNGdkIsS0FBTSxDQUFFLGFBQWEsR0FFckIsR0FBSyxHQUFMLFVBQUssRUFBTCxPQUNRLFdBQ0QsZ0JBQ00sb0JBQ0YsV0FKTixXQU9MLEtBQU0sSUFBd0IsR0FBSSxNQUFhLGlCQUFpQixHQUFJLElBQVEsRUFBRyxFQUFHLEdBQUksS0FBSyxHQUFLLEdBTW5GLEdBQWMsQ0FBQyxDQUMxQixtQkFDQSx3QkFDQSxvQkFDQSwwQkFDVyxNQUNMLEdBQVlILEVBQU0sU0FDbEIsQ0FBQyxFQUF3QixHQUE2QlMsbUJBQVMsSUFDL0QsQ0FBQyxFQUFvQixHQUF5QkEsbUJBQVMsSUFDZkEsbUJBQVMsU0FDakQsQ0FBQyxFQUFpQixHQUFzQkEsbUJBQVMsSUFDakQsQ0FBQyxFQUFpQixHQUE0QkEsbUJBQVMsSUFDdkQsQ0FBQyxFQUFlLEdBQW9CQSxtQkFBUyxJQUM3QyxDQUFDLEVBQVMsSUFBZUEsbUJBQVMsSUFDbEMsQ0FBQyxHQUFTLElBQWVBLG1CQUFTLElBRWxDLENBQUMsRUFBVyxJQUFpQkEsbUJBQVMsTUFDdEMsQ0FBQyxHQUFZLElBQWlCQSxtQkFBUyxNQUN2QyxDQUFDLEVBQWdCLElBQXNCQSxtQkFBUyxFQUFnQixLQUNoRSxFQUFZSSxpQkFBc0IsTUFDbEMsRUFBWUEsaUJBQXFCLE1BQ2pDLEdBQVdBLGlCQUFxQixNQUNoQyxFQUFZQSxpQkFBaUMsTUFDN0MsRUFBY0EsaUJBQTZCLE1BQzNDLEdBQXNCQSxpQkFBZSxHQUNyQyxFQUFpQkEsaUJBQWtDLE1BQ25ELEVBQVcsSUFDWCxFQUFlLEtBQ2YsR0FBb0JiLEVBQU0sT0FBTyxHQUNqQyxHQUFvQixBQUFDLEdBQVMsSUFDaEIsUUFBVSxLQUNULElBRWYsR0FBYyxJQUNkLEdBQWVBLEVBQU0sT0FBTyxHQUM1QixHQUFlLEFBQUMsR0FBUyxJQUNoQixRQUFVLEtBQ1QsSUFFVixHQUFpQkEsRUFBTSxPQUFPLElBZ0I5QixHQUFjLElBQU0sQ0FDbkIscUJBS2lCLFNBQ2QsSUFBSSwrQkFBZ0MsR0FBa0IsWUFDL0MsUUFBVSxVQUdoQixFQUFtQixpQkFBaUIsR0FBTyxnQ0FLNUMsSUFBTSxTQUNOLElBQUksNkJBQThCLElBQ3pDLENBQUMsd0JBRU0sY0FFQyxpQkFBaUIsYUFBYyxJQUVuQyxFQUFlLFlBQ0gsUUFBVSxHQUFJLElBQW1CLEVBQVUsUUFBUyxBQUFDLEdBQVUsQ0FDeEUsRUFBVSxXQUNGLFFBQVEsTUFBTSxlQUFlLE1BS3hDLE1BQ1MsSUFHUCxJQUFNLFVBRUYsb0JBQW9CLGFBQWMsSUFFdkMsR0FBb0IsOEJBQ0QsR0FBb0IsU0FHdkMsRUFBVSxrQkFDSixJQUFJLHFDQUNGLFFBQVEsWUFDUixRQUFVLE1BRWxCLEVBQWUsa0JBQ1QsSUFBSSwyQ0FDRyxRQUFRLFlBQ1IsUUFBVSxjQUduQixJQUFJLGtDQUVILHVCQUVBLEtBQUssV0FDUCxPQUFPLFlBQVksV0FLM0IsU0FFRyxJQUFNLElBQU0sSUFDSSxRQUFVLHNCQUFzQixTQUM5QyxHQUFRLEdBQVMsUUFDakIsRUFBUyxFQUFVLFFBQ25CLEVBQVcsRUFBWSxRQUN6QixDQUFDLE1BS0ssU0FBUyxhQUFhLElBQU0sTUFFN0IsT0FBTyxFQUFPLEtBOEJuQixHQUFTLEdBQVksT0FBTyxRQUFRLDBCQUNoQyxJQUFNLEdBQ0wsR0FBZSxlQUFlLE1BQ3RDLENBQUMseUJBQ00sSUFBTSxDQUNULEVBQWEsYUFBYSxVQUNoQixFQUFhLEtBQUssUUFFaEMsQ0FBQyxFQUFhLGFBQWEsTUFBTyxFQUFjLFVBRTdDLElBQWMsR0FBVyx1QkFDckIsSUFBTSxJQUNWLENBQUMsR0FBYSxTQUNSLElBQUksNkJBQThCLEdBQVEsR0FBYyxhQUFhLGNBSTdFLGlCQUFrQixDQUNiLEdBQVMsYUFDSCxRQUFVLEdBQUksVUFFbkIsR0FBUSxHQUFTLFFBcUJsQixFQUFVLFlBQ0gsUUFBVSxHQUFJLFVBRXBCLEdBQVMsRUFBVSxVQUVsQixRQUFVLEdBaUJaLEVBQVUsWUFDSCxRQUFVLEdBQUksSUFBa0IsR0FBSSxPQUFPLFdBQWEsT0FBTyxZQUFhLEtBQU8sV0FFekYsR0FBUyxFQUFVLFVBT25CLFdBQWEsS0FFZCxFQUFZLGlCQUtQLElBQUksbUJBQW9CLEVBQVksaUJBQ3BDLElBQUksbUJBQW9CLEVBQVksUUFBUSxhQUFlLEVBQVUsbUJBTHJFLElBQUkseUJBQ0EsUUFBVSxHQUFJLElBQWMsQ0FBRSxNQUFPLEdBQU0sT0FBUSxFQUFVLGdCQU1yRSxHQUFXLEVBQVksVUFFcEIsZUFBaUIsS0FDakIsUUFBUSxPQUFPLFdBQVksT0FBTyxlQUNsQyxXQUFXLE1BQU0sU0FBVyxVQUM1QixXQUFXLE1BQU0sTUFBUSxVQUN6QixXQUFXLE1BQU0sT0FBUyxVQUMxQixXQUFXLE1BQU0sT0FBUyxPQUUxQixXQUFXLE1BQU0sSUFBTSxNQUN2QixXQUFXLE1BQU0sS0FBTyxNQUN4QixXQUFXLE1BQU0sT0FBUyxNQUMxQixXQUFXLE1BQU0sUUFBVSxNQUU5QixJQUFJLEtBT0osSUFBSSxLQUNILFNBQVMsSUFBSSxFQUFHLEVBQUcsS0FDbkIsTUFBTSxVQUFVLEdBTWxCLEVBQVUsWUFHSCxRQUFVLEdBQUksSUFBTyxDQUM3QixNQUFPLEVBQ1AsV0FDQSxPQUFRLEdBQUkyQixJQUNaLGFBQWMsRUFBVSxZQUN4QixjQUFlLEVBQVUsU0FDekIsaUJBQWtCLEVBQVUsWUFDNUIsZ0JBQWlCLEFBQUMsR0FBYSxHQUsvQixZQUFhLElBQU0sNEJBU0QsU0FJaEIsR0FBUyxXQUFXLElBQ3ZCLEtBQUssQUFBQyxHQUFhLEdBQ1EsRUFBUyxjQUdwQyxNQUFNLEFBQUMsR0FBVSxRQUFRLElBQUksRUFBTSxZQUc3QixZQUFZLG1CQUFvQixBQUFDLEdBQWMsTUFDaEQsR0FBUyxFQUFVLFFBQ25CLEVBQVMsRUFBVSxRQUVuQixDQUNKLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG1CQUNBLG9CQUNFLE9BWUcsV0FDSixJQUFJLEdBQWlCLEdBQWlCLEdBQWlCLElBQ3ZELFNBQVMsTUFDTCxTQUFTLElBQUksR0FBaUIsR0FBaUIsTUFFL0MseUJBbUJILEVBQUssT0FBUSxNQUNULENBQ0osbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0EsbUJBQ0Esb0JBQ0UsRUFFRSxHQUEyQixLQUFLLFVBQVUsQ0FDOUMsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsVUFFaUIsTUFFWixXQUFXLElBQUksR0FBaUIsR0FBaUIsR0FBaUIsTUFDbEUsU0FBUyxJQUFJLEdBQWlCLEdBQWlCLElBRWxELENBQUMsRUFBTyxRQUFTLFNBQ1gsSUFBSSw0QkFHTixJQUFtQixFQUNuQixHQUFJLEVBQU8sU0FBUyxXQUFXLEVBQU8sVUFDdEMsR0FBSyxFQUFPLElBQU0sS0FBSyxHQUFNLElBQU0sRUFHbkMsR0FBWSxBQURjLEdBQUksS0FBSyxJQUFJLElBQ0QsR0FBb0IsTUFDekQsTUFBTSxVQUFVLE1BR2hCLFFBQVUsR0FFWixjQUNRLElBQU0sSUFDSCxNQUNTLEtBQ3BCLFdBZUYsWUFBWSwyQkFBNEIsQUFBQyxHQUFjLEdBRTVELEtBQUssVUFBVSxDQUNiLEdBQUksRUFBSyxHQUNULEdBQUksRUFBSyxHQUNULEdBQUksRUFBSyxHQUNULEdBQUksRUFBSyxHQUNULEVBQUcsRUFBSyxFQUNSLEVBQUcsRUFBSyxTQWFMLE1BQU0sSUFDWixLQUFLLElBQU0sR0FDWSxHQUFXLDJCQUE2QiwyQkFFL0QsTUFBTSxBQUFDLEdBQVUsUUFBUSxJQUFJLEVBQU0sZUFFdkMsQ0FBQyxRQUVBLElBQWUsSUFBTSxZQUNmLElBQUksK0JBQWdDLEdBQ3hDLEdBQWtCLFVBQVksRUFBZ0IsR0FBSSxTQUM1QyxJQUFJLHdCQUNKLElBQUksK0JBQWdDLEdBQWEsaUJBQ2pELElBQUksaUJBQWtCLFlBQ3RCLElBQUksY0FBZSxTQUNyQixHQUFZLEdBQWEsUUFBUSxNQUFNLFFBQVEsTUFBTyxLQUN0RCxFQUFXLEdBQUksUUFBTyxxQkFBcUIsUUFBUSxXQUFZLGFBQzdELElBQUksV0FDSixJQUFJLEtBR0gsY0FBYyxDQUNyQixRQUFTLEdBQWEsUUFBUSxRQUM5QixjQUNBLFlBQ0EsYUFHQyxLQUFLLENBQUMsQ0FBRSxTQUFRLFdBQVUsWUFBYSxNQUc3QixHQUFZLG9CQUFvQixNQUNoQyxHQUFlLGVBQWUsU0FDdEIsVUFBWSxHQUN6QixDQUFDLEdBQWUsUUFBUyxNQUNyQixHQUFZLEdBQVUsZUFBZSxXQUNuQyxJQUFJLEtBQ0gsRUFBbUIsdUJBQXVCLEdBQU0sRUFBVyxFQUFVLE9BRTlELEVBQWdCLE9BQ3pCLEVBQW1CLGlCQUFpQixHQUFPLFNBUXJELE1BQU0sQUFBQyxHQUFVLE1BQU0sRUFBTSxxQkFFekIsU0FBUSxJQUFJLG9DQUlMLEVBQUksVUFDQSxLQUFNLFFBQVEsUUFJOUIsSUFBYyxJQUFNLElBQ3BCLENBQUMsT0FBTyxRQUFRLGdEQUdGLEVBQWdCLGVBQzVCLEdBQVEsR0FBSSxNQUNaLEVBQWUsS0FBSyxNQUFNLE9BQU8sT0FBUyxHQUFLLEVBQy9DLEVBQWMsS0FBSyxNQUFNLE9BQU8sTUFBUSxHQUFLLElBSTFDLGVBQWUsQ0FDdEIsUUFBUyxHQUNULE1BQU8sRUFDUCxPQUFRLEVBQ1IsUUFBUyxJQUNULElBQUssSUFDTCxTQUFVLGNBRVQsS0FBSyxDQUFDLENBQUUsWUFBYSxZQUNaLElBQUksdUJBQXdCLEdBQ2hDLEVBQVUsUUFBUyxHQUdYLFFBQVEsTUFBTSxNQUFRLFdBQ3hCLElBQUksb0JBQ0YsUUFBUSxZQUNaLEdBQU0sR0FBSSxTQUNGLFdBQVcsR0FBUyxFQUFJLFVBQVksRUFBTSxnQkFFeEMsRUFBZ0IsTUFFbkMsTUFBTSxBQUFDLEdBQVUsT0FDVixFQUFNLFlBQ00sRUFBZ0IsUUFJbEMsR0FBa0IsSUFBTSxDQUN4QixJQUFtQixFQUFnQixTQUU1QixJQUFtQixFQUFnQixVQUsxQyxHQUFZLEFBQUMsR0FBMkMsSUFDeEQsSUFBbUIsRUFBZ0IsZ0JBR2pDLEdBQVMsQ0FDYixFQUFHLEVBQUUsUUFBVSxPQUFPLGlCQUN0QixFQUFHLEVBQUUsUUFBVSxPQUFPLGtCQUdwQixFQUFVLFNBQVcsRUFBVSxRQUFRLGNBQWdCLEtBQy9DLFFBQVEsaUJBR1gsVUFBVSwyQ0FzQ2hCLGtCQUFXLEdBQUQsQ0FBUyxpQkFBK0IsR0FDbEQsbUJBQVcsR0FBRCxDQUFTLGlCQUErQixtQkFDbEQsTUFBRCxDQUFLLFVBQVUsc0NBQ1osTUFBRCxDQUFLLFVBQVcsSUFBbUIsRUFBZ0IsSUFBTSxHQUFLckIsRUFBTyw2QkFDbEUsVUFBRCxDQUFTLFVBQVdBLEVBQU8sa0NBQ3hCLFVBQUQsQ0FBUyxVQUFXQSxFQUFPLDJCQUN4QixVQUFELENBQVMsVUFBV0EsRUFBTyxpQ0FHOUIsU0FBRCxDQUFRLEtBQUssU0FBUyxVQUFXQSxFQUFPLFdBQVksUUFBUyxJQUFNLG9CQUNoRXNCLEdBQUQsdUJBR0QsVUFBRCxDQUNFLFVBQVcsSUFBbUIsRUFBZ0IsSUFBTXRCLEVBQU8sbUJBQXFCQSxFQUFPLG1DQUd0RixTQUFELENBQ0UsS0FBSyxTQUNMLFVBQVcsSUFBbUIsRUFBZ0IsSUFBTUEsRUFBTyxZQUFjQSxFQUFPLFdBQ2hGLFFBQVMsSUFBTSxzQkFFZHVCLEdBQUQsMEJBY1AsU0FBRCxDQUNFLElBQUssRUFDTCxVQUFXdkIsRUFBTyxVQUNsQixHQUFJLFlBQ0osUUFBUyxBQUFDLEdBQU0sR0FBVSxHQUMxQixjQUFlLE9DMXFCVixHQUFhLENBQUMsQ0FDekIsd0JBQ0Esb0JBQ0EsdUJBQ0Esc0JBQ1csTUFDTCxHQUFjLElBR2QsRUFBbUIsSUFDdkIsR0FBYSxRQUFRLE9BQU8sUUFBVSxvQkFDbkMsTUFBRCxxQkFDRyxHQUFELENBQ0Usb0JBQ0EsdUJBQ0EsbUJBQ0Esc0RBS0UsSUFBTSxNQUViLENBQUMsR0FBYSxRQUFRLE1BQU0sUUFDeEIsS0NqQ0gsR0FBb0IsQ0FBQyxDQUFFLE9BQU0sNkNBRzVCLElBQVMsd0JBQVcsR0FBRCxDQUFPLFlBQXVCLEtBQ2pELElBQVMseUJBQVksR0FBRCxDQUFRLFlBQXVCLE1DaUNwRHdCLEdBQU8sQUFBQyxHQUFpQixDQUNiLFVBQ1YsR0FBVyxJQUNYLEVBQU8sS0FFUCxDQUFDLEVBQVUsR0FBZXJCLG1CQUFTLElBQ0RBLG1CQUFTLFNBQzNDLENBQUMsRUFBbUIsR0FBd0JBLG1CQUFTLElBQ1hBLG1CQUFTLFNBQ25ELENBQUMsRUFBTSxHQUFXQSxtQkFBUyxZQUMzQixFQUFnQixJQUNoQixFQUFpQixFQUFjLFNBQVMsZUFDeEMsRUFBYyxHQUFJLE1BQUssS0FBSyxPQUFPLGtDQUUvQixJQUFNLENBQ1YsQ0FBQyxDQUFDLEdBQWdCLE9BQVMsQ0FBQyxDQUFDLEdBQWdCLFdBQVcsU0FDOUMsTUFBTSxFQUFHLE1BQVEsR0FBZ0IsV0FBVyxPQUFPLE1BQU0sRUFBRyxLQUFPLEVBQVksS0FFNUYsQ0FBQyxTQUVFLEdBQXdCLEFBREwsS0FDc0IsWUFBWSxNQU9yRCxFQUFnQixHQUFRSCxFQUFPLE1BQVEsR0FDdkMsRUFBZ0IsRUFBYyxTQUFTLGNBQWMsTUFDckQsR0FBc0IsRUFBd0JBLEVBQU8sb0JBQXNCLE1BRy9FLENBQUMsR0FBZ0IsT0FDakIsR0FBZ0IsUUFBVSxNQUN6QixHQUFpQixHQUFnQixXQUFXLE9BQVMsR0FDdEQsTUFFTSxHQUFTLFdBQVcsSUFBTSxHQUNyQixHQUFjLGlCQUFpQixrQkFDM0IsSUFDWiw0QkFDSyxHQUFELFdBR0gsSUFBbUIsQUFBQyxHQUFjLENBSTNCLFdBS1QsR0FBZ0IsV0FBVyxPQUFTLDBCQUVuQyxNQUFELHFCQUNHLEdBQUQsc0JBQ0MsR0FBRCxZQUtBLElBQW9CLElBQU0sR0FDckIsR0FBbUIsNkRBTXpCLElBQVMsU0FBVyxJQUFTLHlCQUMzQixHQUFELENBQW1CLE9BQVksNEJBRTlCLE1BQUQsQ0FBSyxVQUFXLEVBQWdCLElBQU0sb0JBRW5DLE1BQUQsQ0FBSyxVQUFXLEVBQXdCQSxFQUFPLFlBQWMsSUFBTUEsRUFBTyxTQUFXQSxFQUFPLDBCQUN6RixHQUFELENBQVcsVUFBa0Isc0NBRTVCLEdBQUQsQ0FBVSxPQUFZLDRCQUNyQixFQUFELENBQVcsVUFBa0Isc0JBQzNCLEdBQWdCLFNBRVosRUFBZSxNQUFNLE9BQVMsQ0FBRyxFQUFlLE9BQU8sUUFDM0QsRUFBSyxLQUFLLFNBQVMsUUFBVSxRQUM1QixFQUFLLEtBQUssU0FBUyxRQUFVLHlCQUFZLEdBQUQsQ0FBZ0IsT0FBWSw0QkFDdEUsR0FBRCxzQkFDQyxHQUFELENBQ0Usb0JBQ0Esd0JBQ0EsaUJBQWtCLEdBQ2xCLHlDQUVELEdBQUQsQ0FBYyx3QkFBOEMsNEJBQzNELEdBQUQsQ0FBVyx3QkFBOEMsNEJBQ3hELEdBQUQsQ0FBa0Isd0JBQThDLDRCQUMvRCxHQUFELENBQWUsNEJBQ2QsR0FBRCxDQUFpQixnQkM1RnZCLEdBQU8sQ0FBQyxLQUFPLE1BQ2IsR0FBVyxJQUNYLEVBQU8sS0FJUCxFQUFXLEtBQ1gsRUFBYyxHQUFVLFNBQVcsRUFBUyxTQUFTLFlBQWMsMkJBRS9ELElBQU0sR0FFTCxHQUFZLFlBQVksT0FDeEIsR0FBbUIsbUJBRTNCLENBQUMsd0JBRU0sSUFBTSxDQUNWLEdBQU0sVUFBVSxhQUNkLEVBQUssS0FBSyxHQUFHLFNBQ04sR0FBZSxrQkFHM0IsQ0FBQyxFQUFLLFdBQVcsTUFBTyxFQUFLLEtBQUssR0FBRyxhQUVsQyxDQUFDLEVBQVUsR0FBZUcsbUJBQVMsSUFDREEsbUJBQVMsSUFDUEEsbUJBQVMsSUFDREEsbUJBQVMsSUFDWEEsbUJBQVMsSUFDakNBLG1CQUFTLGlCQUkzQixHQUFpQixBQUZELElBRWUsU0FBUyxlQUFlLE1BQ3ZELEVBQWMsR0FBSSxNQUFLLEtBQUssT0FBTyxrQ0FFL0IsSUFBTSxDQUNWLENBQUMsQ0FBQyxHQUFrQixDQUFDLENBQUMsRUFBZSxhQUMzQixNQUFNLEVBQUcsTUFBUSxFQUFlLFVBQVUsTUFBTSxFQUFHLEtBQU8sRUFBWSxLQUVuRixDQUFDLFNBRUUsR0FBd0IsS0FBc0IsWUFBWSxNQU8xQyxXQUFRSCxFQUFPLE1BQ1QsR0FBd0JBLEVBQU8sb0NBOEJuRHlCLEdBQUQifQ==
