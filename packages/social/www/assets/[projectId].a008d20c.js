import{_ as C}from"./index.7b02be28.js";import{f as yr,r as Ye,R as Pt}from"./vendor.475cb2ff.js";import{$ as Sr,a as gr,h as Er}from"./_app.f0a72417.js";import{N as Jt,a as Zt,b as Fi,M as _r,A as Pr}from"./AuthService.e8999ddc.js";import{O as wr,aD as vr,aE as Tr,V as P,Q as Y,h as Fn,o as _e,aF as ki,aG as De,aH as kn,al as Ar,ak as Ce,ag as Me,aI as Or,a0 as Rr,ai as Ui,a3 as Wi,aJ as br,aK as Lr,aL as qe,aM as oe,a9 as J,G as Bi,av as Dr,P as Un,W as Cr,aN as Ir,s as Mr,aO as Nr,N as Hi,Y as xr,L as Fr,F as kr,aP as Ur,aQ as Wr,aR as Br,p as Hr,aq as jr,M as Vr,ap as Xr,B as ji,S as Wn}from"./three.module.493739a3.js";import{c as H,g as D,a as $,h as Qe,r as Gr,u as ae,E as f,A as Ne,i as ue,b as I,d as xe,e as Vi,f as wt,j as en,k as zr,l as $r,m as Kr,C as Xi,n as Yr,o as qr}from"./avatarFunctions.6d66cf01.js";import{C as ne,T as Pe,c as Qr,W as Bn,E as Gi,d as Jr,R as Zr,N as eo,D as to,e as no,S as io,a as so,O as ro,b as oo,B as ao,f as co,g as lo,h as O}from"./SystemUpdateType.772fc25d.js";import"./index.81138b53.js";import"./upload.bd537b46.js";var uo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<n;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,s++)i[s]=r[o];return i},fo=function(){function e(t,n,i){this.name=t,this.version=n,this.os=i,this.type="browser"}return e}(),ho=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),po=function(){function e(t,n,i,s){this.name=t,this.version=n,this.os=i,this.bot=s,this.type="bot-device"}return e}(),mo=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),yo=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),So=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,go=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zi=3,Eo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",So]],$i=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _o(e){return e?Ki(e):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new yo:typeof navigator!="undefined"?Ki(navigator.userAgent):wo()}function Po(e){return e!==""&&Eo.reduce(function(t,n){var i=n[0],s=n[1];if(t)return t;var r=s.exec(e);return!!r&&[i,r]},!1)}function Ki(e){var t=Po(e);if(!t)return null;var n=t[0],i=t[1];if(n==="searchbot")return new mo;var s=i[1]&&i[1].split(/[._]/).slice(0,3);s?s.length<zi&&(s=uo(s,vo(zi-s.length))):s=[];var r=s.join("."),o=Yi(e),a=go.exec(e);return a&&a[1]?new po(n,r,o,a[1]):new fo(n,r,o)}function Yi(e){for(var t=0,n=$i.length;t<n;t++){var i=$i[t],s=i[0],r=i[1],o=r.exec(e);if(o)return s}return null}function wo(){var e=typeof process!="undefined"&&process.version;return e?new ho(process.version.slice(1)):null}function vo(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}const To=new P,Ao=new Y,Oo=new P;class Ro extends wr{constructor(){super();this.type="AudioListener",this.context=vr.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Tr}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t),this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(To,Ao,Oo)}}const qi=0,bo=1,Lo=2,Qi=2,Ji=1.25,Do=1;class tn{constructor(){}}function we(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function Zi(e){let t=-1,n=-1/0;for(let i=0;i<3;i++){const s=e[i+3]-e[i];s>n&&(n=s,t=i)}return t}function es(e,t){t.set(e)}function ts(e,t,n){let i,s;for(let r=0;r<3;r++){const o=r+3;i=e[r],s=t[r],n[r]=i<s?i:s,i=e[o],s=t[o],n[o]=i>s?i:s}}function Hn(e){const t=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return 2*(t*n+n*i+i*t)}const Co=Math.pow(2,-24);function Io(e,t){if(!e.index){const n=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;let s;n>65535?s=new Uint32Array(new i(4*n)):s=new Uint16Array(new i(2*n)),e.setIndex(new Fn(s,1));for(let r=0;r<n;r++)s[r]=r}}function Mo(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const t=[],n=new Set;for(const s of e.groups)n.add(s.start),n.add(s.start+s.count);const i=Array.from(n.values()).sort((s,r)=>s-r);for(let s=0;s<i.length-1;s++){const r=i[s],o=i[s+1];t.push({offset:r/3,count:(o-r)/3})}return t}function jn(e,t,n,i,s=null){let r=1/0,o=1/0,a=1/0,c=-1/0,l=-1/0,u=-1/0,d=1/0,h=1/0,p=1/0,m=-1/0,y=-1/0,S=-1/0;const _=s!==null;for(let E=t*6,g=(t+n)*6;E<g;E+=6){const w=e[E+0],T=e[E+1],R=w-T,x=w+T;R<r&&(r=R),x>c&&(c=x),_&&w<d&&(d=w),_&&w>m&&(m=w);const b=e[E+2],A=e[E+3],M=b-A,B=b+A;M<o&&(o=M),B>l&&(l=B),_&&b<h&&(h=b),_&&b>y&&(y=b);const V=e[E+4],K=e[E+5],ie=V-K,te=V+K;ie<a&&(a=ie),te>u&&(u=te),_&&V<p&&(p=V),_&&V>S&&(S=V)}i[0]=r,i[1]=o,i[2]=a,i[3]=c,i[4]=l,i[5]=u,_&&(s[0]=d,s[1]=h,s[2]=p,s[3]=m,s[4]=y,s[5]=S)}function No(e,t,n,i){let s=1/0,r=1/0,o=1/0,a=-1/0,c=-1/0,l=-1/0;for(let u=t*6,d=(t+n)*6;u<d;u+=6){const h=e[u+0];h<s&&(s=h),h>a&&(a=h);const p=e[u+2];p<r&&(r=p),p>c&&(c=p);const m=e[u+4];m<o&&(o=m),m>l&&(l=m)}i[0]=s,i[1]=r,i[2]=o,i[3]=a,i[4]=c,i[5]=l}function xo(e,t,n,i,s){let r=n,o=n+i-1;const a=s.pos,c=s.axis*2;for(;;){for(;r<=o&&t[r*6+c]<a;)r++;for(;r<=o&&t[o*6+c]>=a;)o--;if(r<o){for(let l=0;l<3;l++){let u=e[r*3+l];e[r*3+l]=e[o*3+l],e[o*3+l]=u;let d=t[r*6+l*2+0];t[r*6+l*2+0]=t[o*6+l*2+0],t[o*6+l*2+0]=d;let h=t[r*6+l*2+1];t[r*6+l*2+1]=t[o*6+l*2+1],t[o*6+l*2+1]=h}r++,o--}else return r}}const Fe=32,Je=new Array(Fe).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),candidate:0})),nn=new Float32Array(6);function Fo(e,t,n,i,s,r){let o=-1,a=0;if(r===qi)o=Zi(t),o!==-1&&(a=(t[o]+t[o+3])/2);else if(r===bo)o=Zi(e),o!==-1&&(a=ko(n,i,s,o));else if(r===Lo){const c=Hn(e);let l=Ji*s;const u=i*6,d=(i+s)*6;for(let h=0;h<3;h++){const p=t[h],S=(t[h+3]-p)/Fe;for(let g=0;g<Fe;g++){const w=Je[g];w.count=0,w.candidate=p+S+g*S;const T=w.bounds;for(let R=0;R<3;R++)T[R]=1/0,T[R+3]=-1/0}for(let g=u;g<d;g+=6){let R=~~((n[g+2*h]-p)/S);R>=Fe&&(R=Fe-1);const x=Je[R];x.count++;const b=x.bounds;for(let A=0;A<3;A++){const M=n[g+2*A],B=n[g+2*A+1],V=M-B,K=M+B;V<b[A]&&(b[A]=V),K>b[A+3]&&(b[A+3]=K)}}const _=Je[Fe-1];es(_.bounds,_.rightCacheBounds);for(let g=Fe-2;g>=0;g--){const w=Je[g],T=Je[g+1];ts(w.bounds,T.rightCacheBounds,w.rightCacheBounds)}let E=0;for(let g=0;g<Fe-1;g++){const w=Je[g],T=w.count,R=w.bounds,b=Je[g+1].rightCacheBounds;T!==0&&(E===0?es(R,nn):ts(R,nn,nn)),E+=T;let A=0,M=0;E!==0&&(A=Hn(nn)/c);const B=s-E;B!==0&&(M=Hn(b)/c);const V=Do+Ji*(A*E+M*B);V<l&&(o=h,l=V,a=w.candidate)}}}return{axis:o,pos:a}}function ko(e,t,n,i){let s=0;for(let r=t,o=t+n;r<o;r++)s+=e[r*6+i*2];return s/n}function Uo(e,t){const n=e.attributes.position,i=n.array,s=e.index.array,r=s.length/3,o=new Float32Array(r*6),a=n.offset||0;let c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);for(let l=0;l<r;l++){const u=l*3,d=l*6,h=s[u+0]*c+a,p=s[u+1]*c+a,m=s[u+2]*c+a;for(let y=0;y<3;y++){const S=i[h+y],_=i[p+y],E=i[m+y];let g=S;_<g&&(g=_),E<g&&(g=E);let w=S;_>w&&(w=_),E>w&&(w=E);const T=(w-g)/2,R=y*2;o[d+R+0]=g+T,o[d+R+1]=T+(Math.abs(g)+T)*Co,g<t[y]&&(t[y]=g),w>t[y+3]&&(t[y+3]=w)}}return o}function Wo(e,t){function n(m,y,S,_=null,E=0){if(!d&&E>=a&&(d=!0,c&&(console.warn(`MeshBVH: Max depth of ${a} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),S<=l||E>=a)return m.offset=y,m.count=S,m;const g=Fo(m.boundingData,_,r,y,S,u);if(g.axis===-1)return m.offset=y,m.count=S,m;const w=xo(o,r,y,S,g);if(w===y||w===y+S)m.offset=y,m.count=S;else{m.splitAxis=g.axis;const T=new tn,R=y,x=w-y;m.left=T,T.boundingData=new Float32Array(6),jn(r,R,x,T.boundingData,s),n(T,R,x,s,E+1);const b=new tn,A=w,M=S-x;m.right=b,b.boundingData=new Float32Array(6),jn(r,A,M,b.boundingData,s),n(b,A,M,s,E+1)}return m}Io(e,t);const i=new Float32Array(6),s=new Float32Array(6),r=Uo(e,i),o=e.index.array,a=t.maxDepth,c=t.verbose,l=t.maxLeafTris,u=t.strategy;let d=!1;const h=[],p=Mo(e);if(p.length===1){const m=p[0],y=new tn;y.boundingData=i,No(r,m.offset,m.count,s),n(y,m.offset,m.count,s),h.push(y)}else for(let m of p){const y=new tn;y.boundingData=new Float32Array(6),jn(r,m.offset,m.count,y.boundingData,s),n(y,m.offset,m.count,s),h.push(y)}return h}const sn=6*4+4+4,Vn=65535;function Bo(e,t){const n=Wo(e,t);let i,s,r;const o=[],a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<n.length;u++){const d=n[u];let h=c(d);const p=new a(sn*h);i=new Float32Array(p),s=new Uint32Array(p),r=new Uint16Array(p),l(0,d),o.push(p)}return o;function c(u){return u.count?1:1+c(u.left)+c(u.right)}function l(u,d){const h=u/4,p=u/2,m=!!d.count,y=d.boundingData;for(let S=0;S<6;S++)i[h+S]=y[S];if(m){const S=d.offset,_=d.count;return s[h+6]=S,r[p+14]=_,r[p+15]=Vn,u+sn}else{const S=d.left,_=d.right,E=d.splitAxis;let g;if(g=l(u+sn,S),g/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return s[h+6]=g/4,g=l(g,_),s[h+7]=E,g}}}class ve{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(t,n){let i=1/0,s=-1/0;for(let r=0,o=t.length;r<o;r++){const c=t[r][n];i=c<i?c:i,s=c>s?c:s}this.min=i,this.max=s}setFromPoints(t,n){let i=1/0,s=-1/0;for(let r=0,o=n.length;r<o;r++){const a=n[r],c=t.dot(a);i=c<i?c:i,s=c>s?c:s}this.min=i,this.max=s}isSeparated(t){return this.min>t.max||t.min>this.max}}ve.prototype.setFromBox=function(){const e=new P;return function(n,i){const s=i.min,r=i.max;let o=1/0,a=-1/0;for(let c=0;c<=1;c++)for(let l=0;l<=1;l++)for(let u=0;u<=1;u++){e.x=s.x*c+r.x*(1-c),e.y=s.y*l+r.y*(1-l),e.z=s.z*u+r.z*(1-u);const d=n.dot(e);o=Math.min(d,o),a=Math.max(d,a)}this.min=o,this.max=a}}();(function(){const e=new ve;return function(n,i){const s=n.points,r=n.satAxes,o=n.satBounds,a=i.points,c=i.satAxes,l=i.satBounds;for(let u=0;u<3;u++){const d=o[u],h=r[u];if(e.setFromPoints(h,a),d.isSeparated(e))return!1}for(let u=0;u<3;u++){const d=l[u],h=c[u];if(e.setFromPoints(h,s),d.isSeparated(e))return!1}}})();const Ho=function(){const e=new P,t=new P,n=new P;return function(s,r,o){const a=s.start,c=e,l=r.start,u=t;n.subVectors(a,l),e.subVectors(s.end,r.start),t.subVectors(r.end,r.start);const d=n.dot(u),h=u.dot(c),p=u.dot(u),m=n.dot(c),S=c.dot(c)*p-h*h;let _,E;S!==0?_=(d*h-m*p)/S:_=0,E=(d+_*h)/p,o.x=_,o.y=E}}(),Xn=function(){const e=new _e,t=new P,n=new P;return function(s,r,o,a){Ho(s,r,e);let c=e.x,l=e.y;if(c>=0&&c<=1&&l>=0&&l<=1){s.at(c,o),r.at(l,a);return}else if(c>=0&&c<=1){l<0?r.at(0,a):r.at(1,a),s.closestPointToPoint(a,!0,o);return}else if(l>=0&&l<=1){c<0?s.at(0,o):s.at(1,o),r.closestPointToPoint(o,!0,a);return}else{let u;c<0?u=s.start:u=s.end;let d;l<0?d=r.start:d=r.end;const h=t,p=n;if(s.closestPointToPoint(d,!0,t),r.closestPointToPoint(u,!0,n),h.distanceToSquared(d)<=p.distanceToSquared(u)){o.copy(h),a.copy(d);return}else{o.copy(u),a.copy(p);return}}}}(),jo=function(){const e=new P,t=new P,n=new ki,i=new De;return function(r,o){const{radius:a,center:c}=r,{a:l,b:u,c:d}=o;if(i.start=l,i.end=u,i.closestPointToPoint(c,!0,e).distanceTo(c)<=a||(i.start=l,i.end=d,i.closestPointToPoint(c,!0,e).distanceTo(c)<=a)||(i.start=u,i.end=d,i.closestPointToPoint(c,!0,e).distanceTo(c)<=a))return!0;const y=o.getPlane(n);if(Math.abs(y.distanceToPoint(c))<=a){const _=y.projectPoint(c,t);if(o.containsPoint(_))return!0}return!1}}();class Ie extends kn{constructor(...t){super(...t);this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new P),this.satBounds=new Array(4).fill().map(()=>new ve),this.points=[this.a,this.b,this.c],this.sphere=new Ar,this.plane=new ki,this.needsUpdate=!1}intersectsSphere(t){return jo(t,this)}update(){const t=this.a,n=this.b,i=this.c,s=this.points,r=this.satAxes,o=this.satBounds,a=r[0],c=o[0];this.getNormal(a),c.setFromPoints(a,s);const l=r[1],u=o[1];l.subVectors(t,n),u.setFromPoints(l,s);const d=r[2],h=o[2];d.subVectors(n,i),h.setFromPoints(d,s);const p=r[3],m=o[3];p.subVectors(i,t),m.setFromPoints(p,s),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,t),this.needsUpdate=!1}}Ie.prototype.closestPointToSegment=function(){const e=new P,t=new P,n=new De;return function(s,r=null,o=null){const{start:a,end:c}=s,l=this.points;let u,d=1/0;for(let h=0;h<3;h++){const p=(h+1)%3;n.start.copy(l[h]),n.end.copy(l[p]),Xn(n,s,e,t),u=e.distanceToSquared(t),u<d&&(d=u,r&&r.copy(e),o&&o.copy(t))}return this.closestPointToPoint(a,e),u=a.distanceToSquared(e),u<d&&(d=u,r&&r.copy(e),o&&o.copy(a)),this.closestPointToPoint(c,e),u=c.distanceToSquared(e),u<d&&(d=u,r&&r.copy(e),o&&o.copy(c)),Math.sqrt(d)}}();Ie.prototype.intersectsTriangle=function(){const e=new Ie,t=new Array(3),n=new Array(3),i=new ve,s=new ve,r=new P,o=new P,a=new P,c=new P,l=new De,u=new De,d=new De;return function(p,m=null){this.needsUpdate&&this.update(),p.isSeparatingAxisTriangle?p.needsUpdate&&p.update():(e.copy(p),e.update(),p=e);const y=this.satBounds,S=this.satAxes;n[0]=p.a,n[1]=p.b,n[2]=p.c;for(let g=0;g<4;g++){const w=y[g],T=S[g];if(i.setFromPoints(T,n),w.isSeparated(i))return!1}const _=p.satBounds,E=p.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let g=0;g<4;g++){const w=_[g],T=E[g];if(i.setFromPoints(T,t),w.isSeparated(i))return!1}for(let g=0;g<4;g++){const w=S[g];for(let T=0;T<4;T++){const R=E[T];if(r.crossVectors(w,R),i.setFromPoints(r,t),s.setFromPoints(r,n),i.isSeparated(s))return!1}}if(m){const g=this.plane,w=p.plane;if(Math.abs(g.normal.dot(w.normal))>1-1e-10)console.warn("SeparatingAxisTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),m.start.set(0,0,0),m.end.set(0,0,0);else{const T=this.points;let R=!1;for(let A=0;A<3;A++){const M=T[A],B=T[(A+1)%3];if(l.start.copy(M),l.end.copy(B),w.intersectLine(l,R?u.start:u.end)){if(R)break;R=!0}}const x=p.points;let b=!1;for(let A=0;A<3;A++){const M=x[A],B=x[(A+1)%3];if(l.start.copy(M),l.end.copy(B),g.intersectLine(l,b?d.start:d.end)){if(b)break;b=!0}}if(u.delta(o),d.delta(a),o.dot(a)<0){let A=d.start;d.start=d.end,d.end=A}c.subVectors(u.start,d.start),c.dot(o)>0?m.start.copy(u.start):m.start.copy(d.start),c.subVectors(u.end,d.end),c.dot(o)<0?m.end.copy(u.end):m.end.copy(d.end)}}return!0}}();Ie.prototype.distanceToPoint=function(){const e=new P;return function(n){return this.closestPointToPoint(n,e),n.distanceTo(e)}}();Ie.prototype.distanceToTriangle=function(){const e=new P,t=new P,n=["a","b","c"],i=new De,s=new De;return function(o,a=null,c=null){const l=a||c?i:null;if(this.intersectsTriangle(o,l))return(a||c)&&(a&&l.getCenter(a),c&&l.getCenter(c)),0;let u=1/0;for(let d=0;d<3;d++){let h;const p=n[d],m=o[p];this.closestPointToPoint(m,e),h=m.distanceToSquared(e),h<u&&(u=h,a&&a.copy(e),c&&c.copy(m));const y=this[p];o.closestPointToPoint(y,e),h=y.distanceToSquared(e),h<u&&(u=h,a&&a.copy(y),c&&c.copy(e))}for(let d=0;d<3;d++){const h=n[d],p=n[(d+1)%3];i.set(this[h],this[p]);for(let m=0;m<3;m++){const y=n[m],S=n[(m+1)%3];s.set(o[y],o[S]),Xn(i,s,e,t);const _=e.distanceToSquared(t);_<u&&(u=_,a&&a.copy(e),c&&c.copy(t))}}return Math.sqrt(u)}}();class Te extends Ce{constructor(...t){super(...t);this.isOrientedBox=!0,this.matrix=new Me,this.invMatrix=new Me,this.points=new Array(8).fill().map(()=>new P),this.satAxes=new Array(3).fill().map(()=>new P),this.satBounds=new Array(3).fill().map(()=>new ve),this.alignedSatBounds=new Array(3).fill().map(()=>new ve),this.needsUpdate=!1}set(t,n,i){super.set(t,n),this.matrix=i,this.needsUpdate=!0}copy(t){super.copy(t),this.matrix.copy(t.matrix),this.needsUpdate=!0}}Te.prototype.update=function(){return function(){const t=this.matrix,n=this.min,i=this.max,s=this.points;for(let l=0;l<=1;l++)for(let u=0;u<=1;u++)for(let d=0;d<=1;d++){const h=(1<<0)*l|(1<<1)*u|(1<<2)*d,p=s[h];p.x=l?i.x:n.x,p.y=u?i.y:n.y,p.z=d?i.z:n.z,p.applyMatrix4(t)}const r=this.satBounds,o=this.satAxes,a=s[0];for(let l=0;l<3;l++){const u=o[l],d=r[l],h=1<<l,p=s[h];u.subVectors(a,p),d.setFromPoints(u,s)}const c=this.alignedSatBounds;c[0].setFromPointsField(s,"x"),c[1].setFromPointsField(s,"y"),c[2].setFromPointsField(s,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Te.prototype.intersectsBox=function(){const e=new ve;return function(n){this.needsUpdate&&this.update();const i=n.min,s=n.max,r=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(e.min=i.x,e.max=s.x,a[0].isSeparated(e)||(e.min=i.y,e.max=s.y,a[1].isSeparated(e))||(e.min=i.z,e.max=s.z,a[2].isSeparated(e)))return!1;for(let c=0;c<3;c++){const l=o[c],u=r[c];if(e.setFromBox(l,n),u.isSeparated(e))return!1}return!0}}();Te.prototype.intersectsTriangle=function(){const e=new Ie,t=new Array(3),n=new ve,i=new ve,s=new P;return function(o){this.needsUpdate&&this.update(),o.isSeparatingAxisTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);const a=this.satBounds,c=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let h=0;h<3;h++){const p=a[h],m=c[h];if(n.setFromPoints(m,t),p.isSeparated(n))return!1}const l=o.satBounds,u=o.satAxes,d=this.points;for(let h=0;h<3;h++){const p=l[h],m=u[h];if(n.setFromPoints(m,d),p.isSeparated(n))return!1}for(let h=0;h<3;h++){const p=c[h];for(let m=0;m<4;m++){const y=u[m];if(s.crossVectors(p,y),n.setFromPoints(s,t),i.setFromPoints(s,d),n.isSeparated(i))return!1}}return!0}}();Te.prototype.closestPointToPoint=function(){return function(t,n){return this.needsUpdate&&this.update(),n.copy(t).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),n}}();Te.prototype.distanceToPoint=function(){const e=new P;return function(n){return this.closestPointToPoint(n,e),n.distanceTo(e)}}();Te.prototype.distanceToBox=function(){const e=["x","y","z"],t=new Array(12).fill().map(()=>new De),n=new Array(12).fill().map(()=>new De),i=new P,s=new P;return function(o,a=0,c=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(c||l)&&(o.getCenter(s),this.closestPointToPoint(s,i),o.closestPointToPoint(i,s),c&&c.copy(i),l&&l.copy(s)),0;const u=a*a,d=o.min,h=o.max,p=this.points;let m=1/0;for(let S=0;S<8;S++){const _=p[S];s.copy(_).clamp(d,h);const E=_.distanceToSquared(s);if(E<m&&(m=E,c&&c.copy(_),l&&l.copy(s),E<u))return Math.sqrt(E)}let y=0;for(let S=0;S<3;S++)for(let _=0;_<=1;_++)for(let E=0;E<=1;E++){const g=(S+1)%3,w=(S+2)%3,T=_<<g|E<<w,R=1<<S|_<<g|E<<w,x=p[T],b=p[R];t[y].set(x,b);const M=e[S],B=e[g],V=e[w],K=n[y],ie=K.start,te=K.end;ie[M]=d[M],ie[B]=_?d[B]:h[B],ie[V]=E?d[V]:h[B],te[M]=h[M],te[B]=_?d[B]:h[B],te[V]=E?d[V]:h[B],y++}for(let S=0;S<=1;S++)for(let _=0;_<=1;_++)for(let E=0;E<=1;E++){s.x=S?h.x:d.x,s.y=_?h.y:d.y,s.z=E?h.z:d.z,this.closestPointToPoint(s,i);const g=s.distanceToSquared(i);if(g<m&&(m=g,c&&c.copy(i),l&&l.copy(s),g<u))return Math.sqrt(g)}for(let S=0;S<12;S++){const _=t[S];for(let E=0;E<12;E++){const g=n[E];Xn(_,g,i,s);const w=i.distanceToSquared(s);if(w<m&&(m=w,c&&c.copy(i),l&&l.copy(s),w<u))return Math.sqrt(w)}}return Math.sqrt(m)}}();const rn=new P,on=new P,an=new P,ns=new _e,is=new _e,ss=new _e,rs=new P;function Vo(e,t,n,i,s,r){let o;return r===Or?o=e.intersectTriangle(i,n,t,!0,s):o=e.intersectTriangle(t,n,i,r!==Rr,s),o===null?null:{distance:e.origin.distanceTo(s),point:s.clone()}}function Xo(e,t,n,i,s,r,o){rn.fromBufferAttribute(t,i),on.fromBufferAttribute(t,s),an.fromBufferAttribute(t,r);const a=Vo(e,rn,on,an,rs,o);if(a){n&&(ns.fromBufferAttribute(n,i),is.fromBufferAttribute(n,s),ss.fromBufferAttribute(n,r),a.uv=kn.getUV(rs,rn,on,an,ns,is,ss,new _e));const c={a:i,b:s,c:r,normal:new P,materialIndex:0};kn.getNormal(rn,on,an,c.normal),a.face=c,a.faceIndex=i}return a}function os(e,t,n,i,s){const r=i*3,o=e.index.getX(r),a=e.index.getX(r+1),c=e.index.getX(r+2),l=Xo(n,e.attributes.position,e.attributes.uv,o,a,c,t);return l?(l.faceIndex=i,s&&s.push(l),l):null}function Go(e,t,n,i,s,r){for(let o=i,a=i+s;o<a;o++)os(e,t,n,o,r)}function zo(e,t,n,i,s){let r=1/0,o=null;for(let a=i,c=i+s;a<c;a++){const l=os(e,t,n,a);l&&l.distance<r&&(o=l,r=l.distance)}return o}function cn(e,t,n){return e===null||(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(n.ray.origin),e.object=t,e.distance<n.near||e.distance>n.far)?null:e}function Ae(e,t,n,i){const s=e.a,r=e.b,o=e.c;let a=t,c=t+1,l=t+2;n&&(a=n.getX(t),c=n.getX(t+1),l=n.getX(t+2)),s.x=i.getX(a),s.y=i.getY(a),s.z=i.getZ(a),r.x=i.getX(c),r.y=i.getY(c),r.z=i.getZ(c),o.x=i.getX(l),o.y=i.getY(l),o.z=i.getZ(l)}function as(e,t,n,i,s,r,o){const a=n.index,c=n.attributes.position;for(let l=e,u=t+e;l<u;l++)if(Ae(o,l*3,a,c),o.needsUpdate=!0,i(o,l,s,r))return!0;return!1}class cs{constructor(t){this._getNewPrimitive=t,this._primitives=[]}getPrimitive(){const t=this._primitives;return t.length===0?this._getNewPrimitive():t.pop()}releasePrimitive(t){this._primitives.push(t)}}function ke(e,t){return t[e+15]===65535}function lt(e,t){return t[e+6]}function vt(e,t){return t[e+14]}function Tt(e){return e+8}function At(e,t){return t[e+6]}function $o(e,t){return t[e+7]}function Ue(e){return e}const ut=new Ce,ln=new P,Ko=["x","y","z"];function Gn(e,t,n,i,s){let r=e*2,o=dt,a=We,c=Be;if(ke(r,a)){const u=lt(e,c),d=vt(r,a);Go(t,n,i,u,d,s)}else{const u=Tt(e);un(u,o,i,ln)&&Gn(u,t,n,i,s);const d=At(e,c);un(d,o,i,ln)&&Gn(d,t,n,i,s)}}function zn(e,t,n,i){let s=e*2,r=dt,o=We,a=Be;if(ke(s,o)){const l=lt(e,a),u=vt(s,o);return zo(t,n,i,l,u)}else{const l=$o(e,a),u=Ko[l],h=i.direction[u]>=0;let p,m;h?(p=Tt(e),m=At(e,a)):(p=At(e,a),m=Tt(e));const S=un(p,r,i,ln)?zn(p,t,n,i):null;if(S){const g=S.point[u];if(h?g<=r[m+l]:g>=r[m+l+3])return S}const E=un(m,r,i,ln)?zn(m,t,n,i):null;return S&&E?S.distance<=E.distance?S:E:S||E||null}}const Yo=function(){let e,t;const n=[],i=new cs(()=>new Ce);return function(...o){e=i.getPrimitive(),t=i.getPrimitive(),n.push(e,t);const a=s(...o);i.releasePrimitive(e),i.releasePrimitive(t),n.pop(),n.pop();const c=n.length;return c>0&&(t=n[c-1],e=n[c-2]),a};function s(r,o,a,c,l=null,u=0,d=0){function h(g){let w=g*2,T=We,R=Be;for(;!ke(w,T);)g=Tt(g),w=g*2;return lt(g,R)}function p(g){let w=g*2,T=We,R=Be;for(;!ke(w,T);)g=At(g,R),w=g*2;return lt(g,R)+vt(w,T)}let m=r*2,y=dt,S=We,_=Be;if(ke(m,S)){const g=lt(r,_),w=vt(m,S);return we(Ue(r),y,e),c(g,w,!1,d,u+r,e)}else{const g=Tt(r),w=At(r,_);let T=g,R=w,x,b,A,M;if(l&&(A=e,M=t,we(Ue(T),y,A),we(Ue(R),y,M),x=l(A),b=l(M),b<x)){T=w,R=g;const re=x;x=b,b=re,A=M}A||(A=e,we(Ue(T),y,A));const B=ke(T*2,S),V=a(A,B,x,d+1,u+T);let K;if(V===Qi){const re=h(T),ct=p(T)-re;K=c(re,ct,!0,d+1,u+T,A)}else K=V&&s(T,o,a,c,l,u,d+1);if(K)return!0;M=t,we(Ue(R),y,M);const ie=ke(R*2,S),te=a(M,ie,b,d+1,u+R);let se;if(te===Qi){const re=h(R),ct=p(R)-re;se=c(re,ct,!0,d+1,u+R,M)}else se=te&&s(R,o,a,c,l,u,d+1);return!!se}}}(),qo=function(){const e=new Ie,t=new Ie,n=new Me,i=new Te,s=new Te;return function r(o,a,c,l,u=null){let d=o*2,h=dt,p=We,m=Be;if(u===null&&(c.boundingBox||c.computeBoundingBox(),i.set(c.boundingBox.min,c.boundingBox.max,l),u=i),ke(d,p)){const S=a,_=S.index,E=S.attributes.position,g=c.index,w=c.attributes.position,T=lt(o,m),R=vt(d,p);if(n.copy(l).invert(),c.boundsTree)return we(Ue(o),h,s),s.matrix.copy(n),s.needsUpdate=!0,c.boundsTree.shapecast({intersectsBounds:b=>s.intersectsBox(b),intersectsTriangle:b=>{b.a.applyMatrix4(l),b.b.applyMatrix4(l),b.c.applyMatrix4(l),b.needsUpdate=!0;for(let A=T*3,M=(R+T)*3;A<M;A+=3)if(Ae(t,A,_,E),t.needsUpdate=!0,b.intersectsTriangle(t))return!0;return!1}});for(let x=T*3,b=R+T*3;x<b;x+=3){Ae(e,x,_,E),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let A=0,M=g.count;A<M;A+=3)if(Ae(t,A,g,w),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{const S=o+8,_=m[o+6];return we(Ue(S),h,ut),!!(u.intersectsBox(ut)&&r(S,a,c,l,u)||(we(Ue(_),h,ut),u.intersectsBox(ut)&&r(_,a,c,l,u)))}}}();function un(e,t,n,i){return we(e,t,ut),n.intersectBox(ut,i)}const $n=[];let dn,dt,We,Be;function Ot(e){dn&&$n.push(dn),dn=e,dt=new Float32Array(e),We=new Uint16Array(e),Be=new Uint32Array(e)}function fn(){dn=null,dt=null,We=null,Be=null,$n.length&&Ot($n.pop())}const Kn=Symbol("skip tree generation"),Yn=new Ce,qn=new Ce,ft=new Me,Ze=new Te,Rt=new Te,bt=new P,hn=new P,Qo=new P,Jo=new P,Zo=new P,ls=new Ce,Oe=new cs(()=>new Ie);class Z{static serialize(t,n={}){if(n.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Z.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});n={cloneBuffers:!0,...n};const i=t.geometry,s=t._roots,r=i.getIndex();let o;return n.cloneBuffers?o={roots:s.map(a=>a.slice()),index:r.array.slice()}:o={roots:s,index:r.array},o}static deserialize(t,n,i={}){if(typeof i=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Z.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});i={setIndex:!0,...i};const{index:s,roots:r}=t,o=new Z(n,{...i,[Kn]:!0});if(o._roots=r,i.setIndex){const a=n.getIndex();if(a===null){const c=new Fn(t.index,1,!1);n.setIndex(c)}else a.array!==s&&(a.array.set(s),a.needsUpdate=!0)}return o}constructor(t,n={}){if(t.isBufferGeometry){if(t.index&&t.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(n=Object.assign({strategy:qi,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,[Kn]:!1},n),n.useSharedArrayBuffer&&typeof SharedArrayBuffer=="undefined")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,n[Kn]||(this._roots=Bo(t,n),!t.boundingBox&&n.setBoundingBox&&(t.boundingBox=this.getBoundingBox(new Ce))),this.geometry=t}refit(t=null){t&&Array.isArray(t)&&(t=new Set(t));const n=this.geometry,i=n.index.array,s=n.attributes.position,r=s.array,o=s.offset||0;let a=3;s.isInterleavedBufferAttribute&&(a=s.data.stride);let c,l,u,d,h=0;const p=this._roots;for(let y=0,S=p.length;y<S;y++)c=p[y],l=new Uint32Array(c),u=new Uint16Array(c),d=new Float32Array(c),m(0,h),h+=c.byteLength;function m(y,S,_=!1){const E=y*2;if(u[E+15]===Vn){const w=l[y+6],T=u[E+14];let R=1/0,x=1/0,b=1/0,A=-1/0,M=-1/0,B=-1/0;for(let V=3*w,K=3*(w+T);V<K;V++){const ie=i[V]*a+o,te=r[ie+0],se=r[ie+1],re=r[ie+2];te<R&&(R=te),te>A&&(A=te),se<x&&(x=se),se>M&&(M=se),re<b&&(b=re),re>B&&(B=re)}return d[y+0]!==R||d[y+1]!==x||d[y+2]!==b||d[y+3]!==A||d[y+4]!==M||d[y+5]!==B?(d[y+0]=R,d[y+1]=x,d[y+2]=b,d[y+3]=A,d[y+4]=M,d[y+5]=B,!0):!1}else{const w=y+8,T=l[y+6],R=w+S,x=T+S;let b=_,A=!1,M=!1;t?b||(A=t.has(R),M=t.has(x),b=!A&&!M):(A=!0,M=!0);const B=b||A,V=b||M;let K=!1;B&&(K=m(w,S,b));let ie=!1;V&&(ie=m(T,S,b));const te=K||ie;if(te)for(let se=0;se<3;se++){const re=w+se,Qt=T+se,ct=d[re],Mi=d[re+3],Ni=d[Qt],xi=d[Qt+3];d[y+se]=ct<Ni?ct:Ni,d[y+se+3]=Mi>xi?Mi:xi}return te}}}traverse(t,n=0){const i=this._roots[n],s=new Uint32Array(i),r=new Uint16Array(i);o(0);function o(a,c=0){const l=a*2,u=r[l+15]===Vn;if(u){const d=s[a+6],h=r[l+14];t(c,u,new Float32Array(i,a*4,6),d,h)}else{const d=a+sn/4,h=s[a+6],p=s[a+7];t(c,u,new Float32Array(i,a*4,6),p)||(o(d,c+1),o(h,c+1))}}}raycast(t,n=Ui){const i=this._roots,s=this.geometry,r=[],o=n.isMaterial,a=Array.isArray(n),c=s.groups,l=o?n.side:n;for(let u=0,d=i.length;u<d;u++){const h=a?n[c[u].materialIndex].side:l,p=r.length;if(Ot(i[u]),Gn(0,s,h,t,r),fn(),a){const m=c[u].materialIndex;for(let y=p,S=r.length;y<S;y++)r[y].face.materialIndex=m}}return r}raycastFirst(t,n=Ui){const i=this._roots,s=this.geometry,r=n.isMaterial,o=Array.isArray(n);let a=null;const c=s.groups,l=r?n.side:n;for(let u=0,d=i.length;u<d;u++){const h=o?n[c[u].materialIndex].side:l;Ot(i[u]);const p=zn(0,s,h,t);fn(),p!=null&&(a==null||p.distance<a.distance)&&(a=p,o&&(p.face.materialIndex=c[u].materialIndex))}return a}intersectsGeometry(t,n){const i=this.geometry;let s=!1;for(const r of this._roots)if(Ot(r),s=qo(0,i,t,n),fn(),s)break;return s}shapecast(t,n,i){const s=this.geometry;if(t instanceof Function){if(n){const h=n;n=(p,m,y,S)=>{const _=m*3;return h(p,_,_+1,_+2,y,S)}}t={boundsTraverseOrder:i,intersectsBounds:t,intersectsTriangle:n,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}const r=Oe.getPrimitive();let{boundsTraverseOrder:o,intersectsBounds:a,intersectsRange:c,intersectsTriangle:l}=t;if(c&&l){const h=c;c=(p,m,y,S,_)=>h(p,m,y,S,_)?!0:as(p,m,s,l,y,S,r)}else c||(l?c=(h,p,m,y)=>as(h,p,s,l,m,y,r):c=(h,p,m)=>m);let u=!1,d=0;for(const h of this._roots){if(Ot(h),u=Yo(0,s,a,c,o,d),fn(),u)break;d+=h.byteLength}return Oe.releasePrimitive(r),u}bvhcast(t,n,i){let{intersectsRanges:s,intersectsTriangles:r}=i;const o=t.geometry,a=o.index,c=o.attributes.position;ft.copy(n).invert();const l=Oe.getPrimitive(),u=Oe.getPrimitive();if(r){let h=function(p,m,y,S,_,E,g,w){for(let T=y,R=y+S;T<R;T++){Ae(u,T*3,a,c),u.a.applyMatrix4(n),u.b.applyMatrix4(n),u.c.applyMatrix4(n),u.needsUpdate=!0;for(let x=p,b=p+m;x<b;x++)if(Ae(l,x*3,a,c),l.needsUpdate=!0,r(l,u,x,T,_,E,g,w))return!0}return!1};if(s){const p=s;s=function(m,y,S,_,E,g,w,T){return p(m,y,S,_,E,g,w,T)?!0:h(m,y,S,_,E,g,w,T)}}else s=h}this.getBoundingBox(qn),qn.applyMatrix4(n);const d=this.shapecast({intersectsBounds:h=>qn.intersectsBox(h),intersectsRange:(h,p,m,y,S,_)=>(Yn.copy(_),Yn.applyMatrix4(ft),t.shapecast({intersectsBounds:E=>Yn.intersectsBox(E),intersectsRange:(E,g,w,T,R)=>s(h,p,E,g,y,S,T,R)}))});return Oe.releasePrimitive(l),Oe.releasePrimitive(u),d}intersectsBox(t,n){return Ze.set(t.min,t.max,n),Ze.needsUpdate=!0,this.shapecast({intersectsBounds:i=>Ze.intersectsBox(i),intersectsTriangle:i=>Ze.intersectsTriangle(i)})}intersectsSphere(t){return this.shapecast({intersectsBounds:n=>t.intersectsBox(n),intersectsTriangle:n=>n.intersectsSphere(t)})}closestPointToGeometry(t,n,i={},s={},r=0,o=1/0){t.boundingBox||t.computeBoundingBox(),Ze.set(t.boundingBox.min,t.boundingBox.max,n),Ze.needsUpdate=!0;const a=this.geometry,c=a.attributes.position,l=a.index,u=t.attributes.position,d=t.index,h=Oe.getPrimitive(),p=Oe.getPrimitive();let m=hn,y=Qo,S=null,_=null;s&&(S=Jo,_=Zo);let E=1/0,g=null,w=null;return ft.copy(n).invert(),Rt.matrix.copy(ft),this.shapecast({boundsTraverseOrder:T=>Ze.distanceToBox(T,Math.min(E,o)),intersectsBounds:(T,R,x)=>x<E&&x<o?(R&&(Rt.min.copy(T.min),Rt.max.copy(T.max),Rt.needsUpdate=!0),!0):!1,intersectsRange:(T,R)=>{if(t.boundsTree)return t.boundsTree.shapecast({boundsTraverseOrder:x=>Rt.distanceToBox(x,Math.min(E,o)),intersectsBounds:(x,b,A)=>A<E&&A<o,intersectsRange:(x,b)=>{for(let A=x*3,M=(x+b)*3;A<M;A+=3){Ae(p,A,d,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let B=T*3,V=(T+R)*3;B<V;B+=3){Ae(h,B,l,c),h.needsUpdate=!0;const K=h.distanceToTriangle(p,m,S);if(K<E&&(y.copy(m),_&&_.copy(S),E=K,g=B/3,w=A/3),K<r)return!0}}}});{const x=d?d.count:u.count;for(let b=0,A=x;b<A;b+=3){Ae(p,b,d,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let M=T*3,B=(T+R)*3;M<B;M+=3){Ae(h,M,l,c),h.needsUpdate=!0;const V=h.distanceToTriangle(p,m,S);if(V<E&&(y.copy(m),_&&_.copy(S),E=V,g=M/3,w=b/3),V<r)return!0}}}}}),Oe.releasePrimitive(h),Oe.releasePrimitive(p),E===1/0?null:(i.point?i.point.copy(y):i.point=y.clone(),i.distance=E,i.faceIndex=g,s&&(s.point?s.point.copy(_):s.point=_.clone(),s.point.applyMatrix4(ft),y.applyMatrix4(ft),s.distance=y.sub(s.point).length(),s.faceIndex=w),i)}closestPointToPoint(t,n={},i=0,s=1/0){const r=i*i,o=s*s;let a=1/0,c=null;if(this.shapecast({boundsTraverseOrder:u=>(bt.copy(t).clamp(u.min,u.max),bt.distanceToSquared(t)),intersectsBounds:(u,d,h)=>h<a&&h<o,intersectsTriangle:(u,d)=>{u.closestPointToPoint(t,bt);const h=t.distanceToSquared(bt);return h<a&&(hn.copy(bt),a=h,c=d),h<r}}),a===1/0)return null;const l=Math.sqrt(a);return n.point?n.point.copy(hn):n.point=hn.clone(),n.distance=l,n.faceIndex=c,n}getBoundingBox(t){return t.makeEmpty(),this._roots.forEach(i=>{we(0,new Float32Array(i),ls),t.union(ls)}),t}}const us=Z.prototype.raycast;Z.prototype.raycast=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');const[t,n,i,s]=e;return us.call(this,i,t.material).forEach(o=>{o=cn(o,t,n),o&&s.push(o)}),s}else return us.apply(this,e)};const ds=Z.prototype.raycastFirst;Z.prototype.raycastFirst=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');const[t,n,i]=e;return cn(ds.call(this,i,t.material),t,n)}else return ds.apply(this,e)};const fs=Z.prototype.closestPointToPoint;Z.prototype.closestPointToPoint=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),e.unshift();const t=e[1],n={};return e[1]=n,fs.apply(this,e),t&&t.copy(n.point),n.distance}else return fs.apply(this,e)};const hs=Z.prototype.closestPointToGeometry;Z.prototype.closestPointToGeometry=function(...e){const t=e[2],n=e[3];if(t&&t.isVector3||n&&n.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');const i={},s={},r=e[1];return e[2]=i,e[3]=s,hs.apply(this,e),t&&t.copy(i.point),n&&n.copy(s.point).applyMatrix4(r),i.distance}else return hs.apply(this,e)};const ps=Z.prototype.refit;Z.prototype.refit=function(...e){const t=e[0],n=e[1];if(n&&(n instanceof Set||Array.isArray(n))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');const i=new Set;n.forEach(s=>i.add(s)),t&&t.forEach(s=>i.add(s)),ps.call(this,i)}else ps.apply(this,e)};["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach(e=>{const t=Z.prototype[e];Z.prototype[e]=function(...n){return(n[0]===null||n[0].isMesh)&&(n.shift(),console.warn(`MeshBVH: The function signature for "${e}" has changed and no longer takes Mesh. See docs for new signature.`)),t.apply(this,n)}});const Qn=new br,ms=new Me,ea=Wi.prototype.raycast;function ta(e,t){if(this.geometry.boundsTree){if(this.material===void 0)return;ms.copy(this.matrixWorld).invert(),Qn.copy(e.ray).applyMatrix4(ms);const n=this.geometry.boundsTree;if(e.firstHitOnly===!0){const i=cn(n.raycastFirst(Qn,this.material),this,e);i&&t.push(i)}else{const i=n.raycast(Qn,this.material);for(let s=0,r=i.length;s<r;s++){const o=cn(i[s],this,e);o&&t.push(o)}}}else ea.call(this,e,t)}function na(e){return this.boundsTree=new Z(this,e),this.boundsTree}function ia(){this.boundsTree=null}const sa=H("SpawnPointComponent"),ra="Razer1",Jn=H("InputComponent");class oa{mass;damping;frameTime;offset;constructor(t,n,i){this.mass=n,this.damping=i,this.frameTime=1/t,this.offset=0}setFPS(t){this.frameTime=1/t}lastFrame(){return this.cache[this.cache.length-1]}generateFrames(t){const n=this.offset+t,i=Math.floor(n/this.frameTime);if(this.offset=n%this.frameTime,i>0){for(let s=0;s<i;s++)this.cache.push(this.getFrame(s+1===i));this.cache=this.cache.slice(-2)}}}class ys{position;velocity;constructor(t,n){this.position=t,this.velocity=n}}const aa=new P;class ca extends oa{position;velocity;target;cache;constructor(t,n,i){super(t,n,i);this.init()}init(){this.position=new P,this.velocity=new P,this.target=new P,this.cache=[];for(let t=0;t<2;t++)this.cache.push(new ys(new P,new P))}simulate(t){this.generateFrames(t),this.position.lerpVectors(this.cache[0].position,this.cache[1].position,this.offset/this.frameTime),this.velocity.lerpVectors(this.cache[0].velocity,this.cache[1].velocity,this.offset/this.frameTime)}getFrame(t){const n=new ys(this.lastFrame().position.clone(),this.lastFrame().velocity.clone()),i=aa.subVectors(this.target,n.position);return i.divideScalar(this.mass),n.velocity.add(i),n.velocity.multiplyScalar(this.damping),n.position.add(n.velocity),n}}const la={mode:ne.ThirdPerson,zoomLevel:3,zoomVelocity:{value:0},distance:3,minDistance:2,maxDistance:7,theta:Math.PI,phi:0,shoulderSide:!0,locked:!0,raycaster:new Lr},He=H("FollowCameraComponent"),pn=H("TargetCameraRotationComponent"),L={Started:"Started",Continued:"Continued",Ended:"Ended",Changed:"Changed",Unchanged:"Unchanged"};var Lt;(function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT"})(Lt||(Lt={}));function ua(e,t,n){let i,s,r,o,a=0;n||(n={});const c=function(){a=n.leading===!1?0:Date.now(),i=null,o=e.apply(s,r),i||(s=r=null)},l=function(){const u=Date.now();!a&&n.leading===!1&&(a=u);const d=t-(u-a);return s=this,r=arguments,d<=0||d>t?(i&&(clearTimeout(i),i=null),a=u,o=e.apply(s,r),i||(s=r=null)):!i&&n.trailing!==!1&&(i=setTimeout(c,d)),o};return l.cancel=function(){clearTimeout(i),a=0,i=s=r=null},l}var v;(function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.FORWARD=2]="FORWARD",e[e.BACKWARD=3]="BACKWARD",e[e.UP=4]="UP",e[e.DOWN=5]="DOWN",e[e.LEFT=6]="LEFT",e[e.RIGHT=7]="RIGHT",e[e.INTERACT=8]="INTERACT",e[e.GRAB_LEFT=9]="GRAB_LEFT",e[e.GRAB_RIGHT=10]="GRAB_RIGHT",e[e.CROUCH=11]="CROUCH",e[e.JUMP=12]="JUMP",e[e.WALK=13]="WALK",e[e.RUN=14]="RUN",e[e.SPRINT=15]="SPRINT",e[e.SNEAK=16]="SNEAK",e[e.SCREENXY=17]="SCREENXY",e[e.SCREENXY_START=18]="SCREENXY_START",e[e.ROTATION_START=19]="ROTATION_START",e[e.MOVEMENT_PLAYERONE=20]="MOVEMENT_PLAYERONE",e[e.LOOKTURN_PLAYERONE=21]="LOOKTURN_PLAYERONE",e[e.MOVEMENT_PLAYERTWO=22]="MOVEMENT_PLAYERTWO",e[e.LOOKTURN_PLAYERTWO=23]="LOOKTURN_PLAYERTWO",e[e.ALTERNATE=24]="ALTERNATE",e[e.MOUSE_MOVEMENT=25]="MOUSE_MOVEMENT",e[e.SWITCH_CAR=26]="SWITCH_CAR",e[e.POINTER_LOCK=27]="POINTER_LOCK",e[e.CAMERA_SCROLL=28]="CAMERA_SCROLL",e[e.CAMERA_ROTATE_RIGHT=29]="CAMERA_ROTATE_RIGHT",e[e.CAMERA_ROTATE_LEFT=30]="CAMERA_ROTATE_LEFT",e[e.SWITCH_CAMERA=31]="SWITCH_CAMERA",e[e.LOCKING_CAMERA=32]="LOCKING_CAMERA",e[e.POINTER1_POSITION=33]="POINTER1_POSITION",e[e.POINTER2_POSITION=34]="POINTER2_POSITION",e[e.GAMEPAD_STICK_LEFT=35]="GAMEPAD_STICK_LEFT",e[e.GAMEPAD_STICK_RIGHT=36]="GAMEPAD_STICK_RIGHT",e[e.XR_AXIS_MOVE=37]="XR_AXIS_MOVE",e[e.XR_AXIS_LOOK=38]="XR_AXIS_LOOK",e[e.XR_HEAD=39]="XR_HEAD",e[e.XR_CONTROLLER_LEFT_HAND=40]="XR_CONTROLLER_LEFT_HAND",e[e.XR_CONTROLLER_RIGHT_HAND=41]="XR_CONTROLLER_RIGHT_HAND",e[e.SWITCH_SHOULDER_SIDE=42]="SWITCH_SHOULDER_SIDE"})(v||(v={}));var U;(function(e){e[e.LeftButton=0]="LeftButton",e[e.MiddleButton=1]="MiddleButton",e[e.RightButton=2]="RightButton",e[e.MousePosition=3]="MousePosition",e[e.MouseClickDownPosition=4]="MouseClickDownPosition",e[e.MouseClickDownTransformRotation=5]="MouseClickDownTransformRotation",e[e.MouseMovement=6]="MouseMovement",e[e.MouseScroll=7]="MouseScroll",e[e.MouseClickDownMovement=8]="MouseClickDownMovement"})(U||(U={}));var G;(function(e){e[e.Touch=10]="Touch",e[e.DoubleTouch=11]="DoubleTouch",e[e.LongTouch=12]="LongTouch",e[e.Touch1Position=13]="Touch1Position",e[e.Touch2Position=14]="Touch2Position",e[e.Touch1Movement=15]="Touch1Movement",e[e.Touch2Movement=16]="Touch2Movement",e[e.SwipeLeft=17]="SwipeLeft",e[e.SwipeRight=18]="SwipeRight",e[e.SwipeUp=19]="SwipeUp",e[e.SwipeDown=20]="SwipeDown",e[e.Scale=21]="Scale"})(G||(G={}));var ht;(function(e){e[e.Left=22]="Left",e[e.Right=23]="Right"})(ht||(ht={}));var Dt;(function(e){e[e.HMD=24]="HMD",e[e.LeftHand=25]="LeftHand",e[e.RightHand=26]="RightHand"})(Dt||(Dt={}));var je;(function(e){e[e.Left=28]="Left",e[e.Right=29]="Right"})(je||(je={}));var W;(function(e){e[e.A=30]="A",e[e.B=31]="B",e[e.X=32]="X",e[e.Y=33]="Y",e[e.LBumper=34]="LBumper",e[e.RBumper=35]="RBumper",e[e.LTrigger=36]="LTrigger",e[e.RTrigger=37]="RTrigger",e[e.Back=38]="Back",e[e.Start=39]="Start",e[e.LPad=40]="LPad",e[e.RPad=41]="RPad",e[e.LStick=42]="LStick",e[e.RStick=43]="RStick",e[e.DPad1=44]="DPad1",e[e.DPad2=45]="DPad2",e[e.DPad3=46]="DPad3",e[e.DPad4=47]="DPad4"})(W||(W={}));var j;(function(e){e[e.Neutral=100]="Neutral",e[e.Angry=101]="Angry",e[e.Disgusted=102]="Disgusted",e[e.Fearful=103]="Fearful",e[e.Happy=104]="Happy",e[e.Surprised=105]="Surprised",e[e.Sad=106]="Sad",e[e.Pucker=107]="Pucker",e[e.Widen=108]="Widen",e[e.Open=109]="Open"})(j||(j={}));var N;(function(e){e[e.BUTTON=0]="BUTTON",e[e.ONEDIM=1]="ONEDIM",e[e.TWODIM=2]="TWODIM",e[e.THREEDIM=3]="THREEDIM",e[e.SIXDOF=4]="SIXDOF"})(N||(N={}));const da=H("InteractedComponent"),Ss=H("InteractorComponent"),ce=H("Object3DComponent");var gs;(function(e){e[e.HEAD=0]="HEAD",e[e.CONTROLLER=1]="CONTROLLER"})(gs||(gs={}));var mn;(function(e){e[e.ANGLED=0]="ANGLED",e[e.SMOOTH=1]="SMOOTH"})(mn||(mn={}));const Zn={invertRotationAndMoveSticks:!0,moving:1,rotation:0,rotationSmoothSpeed:.1,rotationAngle:30,rotationInvertAxes:!0},ye=H("AvatarControllerComponent"),Ct=(e,t)=>{D(e,ce).value.traverse(i=>{const s=i.material;s&&(t?(s.opacity=1,s.transparent=!1):(s.opacity=0,s.transparent=!0))})};let yn;const Sn=(e,t={pointerLock:!1,cameraMode:ne.ThirdPerson},n=!1)=>{if(!n){if(yn!==void 0)return;yn=setTimeout(()=>{clearTimeout(yn),yn=void 0},250)}const i=D(e,He);switch(i.mode=t.cameraMode,t.cameraMode){case ne.FirstPerson:i.phi=0,i.locked=!0,Ct(e,!1);break;case ne.ShoulderCam:Ct(e,!0);break;default:case ne.ThirdPerson:Ct(e,!0);break;case ne.TopDown:Ct(e,!0);break;case ne.Strategic:Ct(e,!0);break}},fa=e=>{switch(e){case v.GRAB_LEFT:return Lt.LEFT;case v.GRAB_RIGHT:return Lt.RIGHT;default:return Lt.NONE}},ei=(e,t,n,i)=>{if(n.lifecycleState!==L.Started)return;const s=fa(t),r=D(e,Ss);!r?.focusedInteractive||$(r.focusedInteractive,da,{interactor:e,parity:s})},ha=(e,t,n,i)=>{if(n.lifecycleState!==L.Started)return;const s=D(e,He);switch(s?.mode){case ne.FirstPerson:Sn(e,{cameraMode:ne.ShoulderCam});break;case ne.ShoulderCam:Sn(e,{cameraMode:ne.ThirdPerson}),s.distance=s.minDistance+1;break;case ne.ThirdPerson:Sn(e,{cameraMode:ne.TopDown});break;case ne.TopDown:Sn(e,{cameraMode:ne.FirstPerson});break}},pa=(e,t,n,i)=>{if(n.lifecycleState!==L.Started)return;const s=D(e,He);s&&s.mode!==ne.FirstPerson&&(s.locked=!s.locked)},ma=(e,t,n,i)=>{if(n.lifecycleState!==L.Started)return;const s=D(e,He);s&&(s.shoulderSide=!s.shoulderSide)},ti=(e,t,n)=>{const i=D(e,pn);i?(i.phi=t,i.theta=n):$(e,pn,{phi:t,phiVelocity:{value:0},theta:n,thetaVelocity:{value:0},time:.3})};let Es=0;const ya=(e,t,n,i)=>{const s=n.value[0],r=Math.sign(s-Es);if(Es=s,r===0)return;const o=D(e,He);if(!o)return;const a=.001,c=Qr(o.zoomLevel+r,a,o.maxDistance);if(o.zoomLevel<=a&&r>0){o.zoomLevel=o.minDistance;return}if(c<o.minDistance){o.zoomLevel=a,ti(e,0,o.theta);return}Math.abs(o.maxDistance-c)<=1&&r>0&&ti(e,85,o.theta),Math.abs(o.maxDistance-o.zoomLevel)<=1&&r<0&&o.phi>=80&&ti(e,45,o.theta),o.zoomLevel=c},_s=(e,t,n,i)=>{const s=D(e,He);switch(t){case v.CAMERA_ROTATE_LEFT:s.theta+=50*i;break;case v.CAMERA_ROTATE_RIGHT:s.theta-=50*i;break}},Sa={[j.Neutral]:"None",[j.Angry]:"Frown",[j.Disgusted]:"Frown",[j.Fearful]:"Frown",[j.Happy]:"Smile",[j.Surprised]:"Frown",[j.Sad]:"Frown",[j.Pucker]:"None",[j.Widen]:"Frown",[j.Open]:"Happy"},Ps=(e,t,n,i)=>{const s=D(e,ce);let r;if(s.value.traverse(l=>{!r&&l.morphTargetDictionary&&(r=l)}),!r?.isMesh||!r?.morphTargetDictionary){console.warn("[Avatar Emotions]: This avatar does not support expressive visemes.");return}const o=n.value,a=Sa[t],c=r.morphTargetDictionary[a];if(typeof c!="number"){console.warn("[Avatar Emotions]: This avatar does not support the",a," expression.");return}a&&o!==null&&typeof o=="number"&&(r.morphTargetInfluences[c]=o)},ga=(e,t,n,i)=>{const s=D(e,ye);n.type===N.TWODIM?(s.localMovementDirection.z=n.value[0],s.localMovementDirection.x=n.value[1]):n.type===N.THREEDIM&&(s.localMovementDirection.z=n.value[2],s.localMovementDirection.x=n.value[0])},Ea=(e,t,n,i)=>{const s=D(e,ye);s.isWalking=n.lifecycleState!==L.Ended},It=(e,t,n,i)=>{const s=D(e,ye),r=n.lifecycleState===L.Ended;switch(t){case v.JUMP:s.localMovementDirection.y=r?0:1;break;case v.FORWARD:s.localMovementDirection.z=r?0:1;break;case v.BACKWARD:s.localMovementDirection.z=r?0:-1;break;case v.LEFT:s.localMovementDirection.x=r?0:1;break;case v.RIGHT:s.localMovementDirection.x=r?0:-1;break}s.localMovementDirection.normalize()},_a=(e,t,n,i)=>{const s=D(e,ye),r=n.value;s.localMovementDirection.x=r[0]??s.localMovementDirection.x,s.localMovementDirection.z=r[1]??s.localMovementDirection.z,s.localMovementDirection.normalize()};let pt=!0;const Pa=Math.PI/180,ws=new Y,wa=new P(0,1,0),va=(e,t,n,i)=>{const s=n.value,r=Zn.rotationAngle;let o=0;switch(Zn.rotation){case mn.ANGLED:if(pt&&s[0]!=0){const c=-1,l=1;o=s[0]>0?r*c:r*l,pt=!1}else!pt&&s[0]==0?pt=!0:pt?pt&&s[0]==0&&(o=0):o=0;break;case mn.SMOOTH:o=s[0]*Zn.rotationSmoothSpeed*-1;break}const a=D(e,Pe);ws.setFromAxisAngle(wa,o*Pa),a.rotation.multiply(ws)},Ta=(e,t,n,i)=>{const s=D(e,He);Qe(e,pn)&&Gr(e,pn),s&&(s.theta-=n.value[0]*100,s.phi-=n.value[1]*100)},vs=e=>{const t=D(e,Jn),n=t.data.get(v.GAMEPAD_STICK_RIGHT);console.log("gamepadLook",n),n.type===N.TWODIM?t.data.set(v.LOOKTURN_PLAYERONE,{type:n.type,value:[n.value[0],n.value[1]],lifecycleState:L.Changed}):n.type===N.THREEDIM&&t.data.set(v.LOOKTURN_PLAYERONE,{type:n.type,value:[n.value[0],n.value[2]],lifecycleState:L.Changed})},Aa=(e,t,n)=>{if(n.lifecycleState!==L.Ended)return;D(e,Jn).data.get(v.SCREENXY)?.value},Oa=()=>{const e=new Map;return e.set(U.LeftButton,v.PRIMARY),e.set(U.RightButton,v.SECONDARY),e.set(U.MiddleButton,v.INTERACT),e.set(U.MouseMovement,v.MOUSE_MOVEMENT),e.set(U.MousePosition,v.SCREENXY),e.set(U.MouseClickDownPosition,v.SCREENXY_START),e.set(U.MouseClickDownTransformRotation,v.ROTATION_START),e.set(U.MouseClickDownMovement,v.LOOKTURN_PLAYERONE),e.set(U.MouseScroll,v.CAMERA_SCROLL),e.set(G.Touch,v.INTERACT),e.set(G.Touch1Position,v.SCREENXY),e.set(G.Touch1Movement,v.LOOKTURN_PLAYERONE),e.set(G.Scale,v.CAMERA_SCROLL),e.set(W.A,v.INTERACT),e.set(W.B,v.JUMP),e.set(W.LTrigger,v.GRAB_LEFT),e.set(W.RTrigger,v.GRAB_RIGHT),e.set(W.DPad1,v.FORWARD),e.set(W.DPad2,v.BACKWARD),e.set(W.DPad3,v.LEFT),e.set(W.DPad4,v.RIGHT),e.set(je.Left,v.MOVEMENT_PLAYERONE),e.set(je.Right,v.GAMEPAD_STICK_RIGHT),e.set(ht.Left,v.XR_AXIS_LOOK),e.set(ht.Right,v.XR_AXIS_MOVE),e.set(Dt.HMD,v.XR_HEAD),e.set(Dt.LeftHand,v.XR_CONTROLLER_LEFT_HAND),e.set(Dt.RightHand,v.XR_CONTROLLER_RIGHT_HAND),e.set("KeyW",v.FORWARD),e.set("ArrowUp",v.FORWARD),e.set("KeyA",v.LEFT),e.set("KeyS",v.BACKWARD),e.set("ArrowDown",v.BACKWARD),e.set("KeyD",v.RIGHT),e.set("KeyE",v.INTERACT),e.set("Space",v.JUMP),e.set("ShiftLeft",v.WALK),e.set("KeyP",v.POINTER_LOCK),e.set("KepV",v.SWITCH_CAMERA),e.set("KeyC",v.SWITCH_SHOULDER_SIDE),e.set("KeyF",v.LOCKING_CAMERA),e.set("ArrowLeft",v.CAMERA_ROTATE_LEFT),e.set("ArrowRight",v.CAMERA_ROTATE_RIGHT),e.set(j.Neutral,j.Neutral),e.set(j.Angry,j.Angry),e.set(j.Disgusted,j.Disgusted),e.set(j.Fearful,j.Fearful),e.set(j.Happy,j.Happy),e.set(j.Surprised,j.Surprised),e.set(j.Sad,j.Sad),e.set(j.Pucker,j.Pucker),e.set(j.Widen,j.Widen),e.set(j.Open,j.Open),e},Ra=()=>{const e=new Map;return e.set(v.INTERACT,ei),e.set(v.GRAB_LEFT,ei),e.set(v.GRAB_RIGHT,ei),e.set(v.JUMP,It),e.set(v.WALK,Ea),e.set(v.FORWARD,It),e.set(v.BACKWARD,It),e.set(v.LEFT,It),e.set(v.RIGHT,It),e.set(v.CAMERA_ROTATE_LEFT,_s),e.set(v.CAMERA_ROTATE_RIGHT,_s),e.set(j.Happy,Ps),e.set(j.Sad,Ps),e.set(v.LOOKTURN_PLAYERONE,Ta),e.set(v.MOVEMENT_PLAYERONE,ga),e.set(v.GAMEPAD_STICK_LEFT,vs),e.set(v.GAMEPAD_STICK_RIGHT,vs),e.set(v.XR_AXIS_LOOK,va),e.set(v.XR_AXIS_MOVE,_a),e.set(v.SWITCH_CAMERA,ha),e.set(v.LOCKING_CAMERA,pa),e.set(v.SWITCH_SHOULDER_SIDE,ma),e.set(v.CAMERA_SCROLL,ua(ya,30,{leading:!0,trailing:!1})),e.set(v.PRIMARY,Aa),e},Ts={inputMap:Oa(),behaviorMap:Ra()},ni=H("VelocityComponent");var de;(function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Avatars=2]="Avatars",e[e.Car=4]="Car",e[e.Trigger=8]="Trigger",e[e.Ground=16]="Ground"})(de||(de={}));const ba=H("ColliderComponent"),As=H("RaycastComponent");var Os={},Se={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.booleanOnParse=ee.empty=ee.isString=ee.isNumber=ee.isFunctionTest=ee.isObject=void 0;const La=e=>typeof e=="object"&&e!=null;ee.isObject=La;const Da=e=>typeof e=="function";ee.isFunctionTest=Da;const Ca=e=>typeof e=="number";ee.isNumber=Ca;const Ia=e=>typeof e=="string";ee.isString=Ia;ee.empty=[];ee.booleanOnParse={parsed(e){return!0},invalid(e){return!1}};var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.GuardParser=void 0;class Ma{constructor(t,n,i={name:"Guard",children:[],extras:[n]}){this.checkIsA=t,this.typeName=n,this.description=i}parse(t,n){return this.checkIsA(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Mt.GuardParser=Ma;var Nt={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.saferStringify=void 0;function Na(e){try{return JSON.stringify(e)}catch(t){return""+e}}mt.saferStringify=Na;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.AnyParser=void 0;class xa{constructor(t={name:"Any",children:[],extras:[]}){this.description=t}parse(t,n){return n.parsed(t)}}xt.AnyParser=xa;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ArrayParser=void 0;class Fa{constructor(t={name:"Array",children:[],extras:[]}){this.description=t}parse(t,n){return Array.isArray(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Ft.ArrayParser=Fa;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.BoolParser=void 0;class ka{constructor(t={name:"Boolean",children:[],extras:[]}){this.description=t}parse(t,n){return t===!0||t===!1?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}kt.BoolParser=ka;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.ConcatParsers=void 0;class ii{constructor(t,n,i={name:"Concat",children:[t,n],extras:[]}){this.parent=t,this.otherParser=n,this.description=i}static of(t,n){return t.unwrappedParser().description.name==="Any"?n:n.unwrappedParser().description.name==="Any"?t:new ii(t,n)}parse(t,n){const i=this.parent.enumParsed(t);if("error"in i)return n.invalid(i.error);const s=this.otherParser.enumParsed(i.value);return"error"in s?n.invalid(s.error):n.parsed(s.value)}}gn.ConcatParsers=ii;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.DefaultParser=void 0;class Ua{constructor(t,n,i={name:"Default",children:[t],extras:[n]}){this.parent=t,this.defaultValue=n,this.description=i}parse(t,n){const i=this,s=this.defaultValue;if(t==null)return n.parsed(s);const r=this.parent.enumParsed(t);return"error"in r?(r.error.parser=i,n.invalid(r.error)):n.parsed(r.value)}}En.DefaultParser=Ua;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.FunctionParser=void 0;const Wa=ee;class Ba{constructor(t={name:"Function",children:[],extras:[]}){this.description=t}parse(t,n){return(0,Wa.isFunctionTest)(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Ut.FunctionParser=Ba;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.MappedAParser=void 0;class Ha{constructor(t,n,i=n.name,s={name:"Mapped",children:[t],extras:[i]}){this.parent=t,this.map=n,this.mappingName=i,this.description=s}parse(t,n){const i=this.map,s=this.parent.enumParsed(t);return"error"in s?n.invalid(s.error):n.parsed(i(s.value))}}_n.MappedAParser=Ha;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.MaybeParser=void 0;class ja{constructor(t,n={name:"Maybe",children:[t],extras:[]}){this.parent=t,this.description=n}parse(t,n){if(t==null)return n.parsed(null);const i=this,s=this.parent.enumParsed(t);if("error"in s){const{error:r}=s;return r.parser=i,n.invalid(r)}return n.parsed(s.value)}}Pn.MaybeParser=ja;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.parserName=et.NamedParser=void 0;const Va=Se;class Rs{constructor(t,n,i={name:"Named",children:[t],extras:[n]}){this.parent=t,this.name=n,this.description=i}parse(t,n){const i=this,s=this.parent.enumParsed(t);if("error"in s){const{error:r}=s;return r.parser=i,n.invalid(r)}return n.parsed(s.value)}}et.NamedParser=Rs;function Xa(e,t){return new Va.Parser(new Rs(t,e))}et.parserName=Xa;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.NilParser=void 0;class Ga{constructor(t={name:"Null",children:[],extras:[]}){this.description=t}parse(t,n){return t==null?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Wt.NilParser=Ga;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.NumberParser=void 0;const za=Se;class $a{constructor(t={name:"Number",children:[],extras:[]}){this.description=t}parse(t,n){return(0,za.isNumber)(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Bt.NumberParser=$a;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.ObjectParser=void 0;const Ka=ee;class Ya{constructor(t={name:"Object",children:[],extras:[]}){this.description=t}parse(t,n){return(0,Ka.isObject)(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Ht.ObjectParser=Ya;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.OrParsers=void 0;class qa{constructor(t,n,i={name:"Or",children:[t,n],extras:[]}){this.parent=t,this.otherParser=n,this.description=i}parse(t,n){const i=this,s=this.parent.enumParsed(t);if("value"in s)return n.parsed(s.value);const r=this.otherParser.enumParsed(t);if("error"in r){const{error:o}=r;return o.parser=i,n.invalid(o)}return n.parsed(r.value)}}wn.OrParsers=qa;var si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shape=e.isShape=e.partial=e.isPartial=e.ShapeParser=void 0;const t=Se,n=mt;class i{constructor(c,l,u=Object.keys(c),d={name:l?"Partial":"Shape",children:u.map(h=>c[h]),extras:u}){this.parserMap=c,this.isPartial=l,this.parserKeys=u,this.description=d}parse(c,l){const u=this;if(!t.object.test(c))return l.invalid({value:c,keys:[],parser:u});const{parserMap:d,isPartial:h}=this,p=Object.assign({},c);Array.isArray(c)&&(p.length=c.length);for(const m in d)if(m in p){const S=d[m].enumParsed(c[m]);if("error"in S){const{error:E}=S;return E.keys.push((0,n.saferStringify)(m)),l.invalid(E)}const _=S.value;p[m]=_}else if(!h)return l.invalid({value:"missingProperty",parser:u,keys:[(0,n.saferStringify)(m)]});return l.parsed(p)}}e.ShapeParser=i;const s=a=>new t.Parser(new i(a,!0));e.isPartial=s,e.partial=e.isPartial;const r=a=>new t.Parser(new i(a,!1));e.isShape=r;const o=a=>(0,e.isShape)(a);e.shape=o})(si);var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.StringParser=void 0;const Qa=ee;class Ja{constructor(t={name:"String",children:[],extras:[]}){this.description=t}parse(t,n){return(0,Qa.isString)(t)?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}jt.StringParser=Ja;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.Parser=void 0;const ri=Se,vn=mt,Za=xt,ec=Ft,tc=kt,oi=gn,nc=En,ic=Ut,sc=Mt,rc=_n,bs=Pn,oc=et,ac=Wt,cc=Bt,lc=Ht,ai=wn,uc=si,dc=jt,fc=ee;function ci(e){return e instanceof z?ci(e.parser):e}const hc={parsed(e){return{value:e}},invalid(e){return{error:e}}};class z{constructor(t,n={name:"Wrapper",children:[t],extras:[]}){this.parser=t,this.description=n,this._TYPE=null,this.test=i=>this.parse(i,fc.booleanOnParse)}parse(t,n){return this.parser.parse(t,n)}static isA(t,n){return new z(new ri.IsAParser(t,n))}static parserAsString(t){const n=ci(t),{description:{name:i,extras:s,children:r}}=n;if(n instanceof uc.ShapeParser)return`${i}<{${n.description.children.map((c,l)=>`${String(n.description.extras[l])||"?"}:${z.parserAsString(c)}`).join(",")}}>`;if(n instanceof ai.OrParsers){const c=ci(n.parent),l=z.parserAsString(c);return c instanceof ai.OrParsers?l:`${i}<${l},...>`}if(n instanceof sc.GuardParser)return String(s[0]||i);if(n instanceof dc.StringParser||n instanceof lc.ObjectParser||n instanceof cc.NumberParser||n instanceof tc.BoolParser||n instanceof Za.AnyParser)return i.toLowerCase();if(n instanceof ic.FunctionParser)return i;if(n instanceof ac.NilParser)return"null";if(n instanceof ec.ArrayParser)return"Array<unknown>";const a=`<${[...s.map(vn.saferStringify),...r.map(z.parserAsString)].join(",")}>`;return r.length,`${i}${a}`}unsafeCast(t){const n=this.enumParsed(t);if("value"in n)return n.value;const{error:i}=n;throw new TypeError(`Failed type: ${z.validatorErrorAsString(i)} given input ${(0,vn.saferStringify)(t)}`)}castPromise(t){const n=this.enumParsed(t);if("value"in n)return Promise.resolve(n.value);const{error:i}=n;return Promise.reject(new TypeError(`Failed type: ${z.validatorErrorAsString(i)} given input ${(0,vn.saferStringify)(t)}`))}map(t,n){return new z(new rc.MappedAParser(this,t,n))}concat(t){return new z(oi.ConcatParsers.of(this,new z(t)))}orParser(t){return new z(new ai.OrParsers(this,new z(t)))}optional(t){return new z(new bs.MaybeParser(this))}defaultTo(t){return new z(new nc.DefaultParser(new z(new bs.MaybeParser(this)),t))}validate(t,n){return new z(oi.ConcatParsers.of(this,new z(new ri.IsAParser(t,n))))}refine(t,n=t.name){return new z(oi.ConcatParsers.of(this,new z(new ri.IsAParser(t,n))))}name(t){return(0,oc.parserName)(t,this)}enumParsed(t){return this.parse(t,hc)}unwrappedParser(){let t=this;for(;;){const n=t.parser;if(n instanceof z)t=n;else return n}}}Nt.Parser=z;z.validatorErrorAsString=e=>{const{parser:t,value:n,keys:i}=e;return`${i.length?i.map(r=>`[${r}]`).reverse().join(""):""}${z.parserAsString(t)}(${(0,vn.saferStringify)(n)})`};var Tn={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.UnknownParser=void 0;class pc{constructor(t={name:"Unknown",children:[],extras:[]}){this.description=t}parse(t,n){return n.parsed(t)}}An.UnknownParser=pc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regex=e.instanceOf=e.string=e.isArray=e.object=e.boolean=e.isFunction=e.natural=e.isNill=e.number=e.unknown=e.any=e.guard=void 0;const t=Se,n=xt,i=Ft,s=kt,r=Ut,o=Wt,a=Bt,c=Ht,l=jt,u=An;function d(m,y){return t.Parser.isA(m,y||m.name)}e.guard=d,e.any=new t.Parser(new n.AnyParser),e.unknown=new t.Parser(new u.UnknownParser),e.number=new t.Parser(new a.NumberParser),e.isNill=new t.Parser(new o.NilParser),e.natural=e.number.refine(m=>m>=0&&m===Math.floor(m)),e.isFunction=new t.Parser(new r.FunctionParser),e.boolean=new t.Parser(new s.BoolParser),e.object=new t.Parser(new c.ObjectParser),e.isArray=new t.Parser(new i.ArrayParser),e.string=new t.Parser(new l.StringParser);const h=m=>d(y=>y instanceof m,`is${m.name}`);e.instanceOf=h;const p=m=>e.string.refine(function(y){return m.test(y)},m.toString());e.regex=p})(Tn);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.some=void 0;const mc=Tn;function yc(...e){if(e.length<=0)return mc.any;const t=e.splice(0,1)[0];return e.reduce((n,i)=>n.orParser(i),t)}On.some=yc;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.every=void 0;const Ls=Se;function Sc(...e){const t=e.filter(i=>i!==Ls.any);if(t.length<=0)return Ls.any;const n=t.splice(0,1)[0];return t.reduce((i,s)=>i.concat(s),n)}Rn.every=Sc;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.dictionary=yt.DictionaryParser=void 0;const gc=Se;class Ds{constructor(t,n={name:"Dictionary",children:t.reduce((i,[s,r])=>(i.push(s,r),i),[]),extras:[]}){this.parsers=t,this.description=n}parse(t,n){const{parsers:i}=this,s=this,r=Object.assign({},t);e:for(const o in t){let a=[];for(const[l,u]of i){const d=l.enumParsed(o);if("error"in d){const{error:m}=d;m.parser=s,m.keys.push(""+o),a.push(m);continue}const h=d.value,p=u.enumParsed(t[o]);if("error"in p){const{error:m}=p;m.keys.push(""+h),a.unshift(m);continue}delete r[o],r[h]=p.value;break e}const c=a[0];if(c)return n.invalid(c)}return n.parsed(r)}}yt.DictionaryParser=Ds;const Ec=(...e)=>gc.object.concat(new Ds([...e]));yt.dictionary=Ec;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.tuple=St.TupleParser=void 0;const li=Se,Cs=mt;class Is{constructor(t,n=(0,li.literal)(t.length),i={name:"Tuple",children:t,extras:[]}){this.parsers=t,this.lengthMatcher=n,this.description=i}parse(t,n){const i=li.isArray.enumParsed(t);if("error"in i)return n.invalid(i.error);const s=t,r=this.lengthMatcher.enumParsed(s.length);if("error"in r)return r.error.keys.push((0,Cs.saferStringify)("length")),n.invalid(r.error);const o=new Array(this.parsers.length);for(const a in this.parsers){const c=this.parsers[a],l=s[a],u=c.enumParsed(l);if("error"in u){const{error:d}=u;return d.keys.push((0,Cs.saferStringify)(a)),n.invalid(d)}o[a]=u.value}return n.parsed(o)}}St.TupleParser=Is;function _c(...e){return new li.Parser(new Is(e))}St.tuple=_c;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.arrayOf=gt.ArrayOfParser=void 0;const Pc=Se;class Ms{constructor(t,n={name:"ArrayOf",children:[t],extras:[]}){this.parser=t,this.description=n}parse(t,n){const i=[...t];for(let s=0;s<i.length;s++){const r=this.parser.enumParsed(i[s]);if("error"in r)return r.error.keys.push(""+s),n.invalid(r.error);i[s]=r.value}return n.parsed(i)}}gt.ArrayOfParser=Ms;function wc(e){return Pc.isArray.concat(new Ms(e))}gt.arrayOf=wc;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.literals=Ve.literal=Ve.LiteralsParser=void 0;const Ns=Nt;class ui{constructor(t,n={name:"Literal",children:[],extras:t}){this.values=t,this.description=n}parse(t,n){return this.values.indexOf(t)>=0?n.parsed(t):n.invalid({value:t,keys:[],parser:this})}}Ve.LiteralsParser=ui;function vc(e){return new Ns.Parser(new ui([e]))}Ve.literal=vc;function Tc(e,...t){return new Ns.Parser(new ui([e,...t]))}Ve.literals=Tc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shape=e.tuple=e.partial=e.dictionary=e.some=e.every=e.isNill=e.natural=e.arrayOf=e.regex=e.object=e.number=e.boolean=e.isFunction=e.string=e.isNumber=e.isArray=e.instanceOf=e.literals=e.any=e.guard=e.literal=e.Parser=e.IsAParser=void 0;const t=ee;Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return t.isNumber}});const n=Mt;Object.defineProperty(e,"IsAParser",{enumerable:!0,get:function(){return n.GuardParser}});const i=Nt;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return i.Parser}});const s=Tn;Object.defineProperty(e,"guard",{enumerable:!0,get:function(){return s.guard}}),Object.defineProperty(e,"any",{enumerable:!0,get:function(){return s.any}}),Object.defineProperty(e,"string",{enumerable:!0,get:function(){return s.string}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return s.isFunction}}),Object.defineProperty(e,"boolean",{enumerable:!0,get:function(){return s.boolean}}),Object.defineProperty(e,"object",{enumerable:!0,get:function(){return s.object}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return s.isArray}}),Object.defineProperty(e,"instanceOf",{enumerable:!0,get:function(){return s.instanceOf}}),Object.defineProperty(e,"number",{enumerable:!0,get:function(){return s.number}}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return s.regex}}),Object.defineProperty(e,"isNill",{enumerable:!0,get:function(){return s.isNill}}),Object.defineProperty(e,"natural",{enumerable:!0,get:function(){return s.natural}});const r=On;Object.defineProperty(e,"some",{enumerable:!0,get:function(){return r.some}});const o=Rn;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return o.every}});const a=yt;Object.defineProperty(e,"dictionary",{enumerable:!0,get:function(){return a.dictionary}});const c=si;Object.defineProperty(e,"partial",{enumerable:!0,get:function(){return c.partial}}),Object.defineProperty(e,"shape",{enumerable:!0,get:function(){return c.shape}});const l=St;Object.defineProperty(e,"tuple",{enumerable:!0,get:function(){return l.tuple}});const u=gt;Object.defineProperty(e,"arrayOf",{enumerable:!0,get:function(){return u.arrayOf}});const d=Ve;Object.defineProperty(e,"literal",{enumerable:!0,get:function(){return d.literal}}),Object.defineProperty(e,"literals",{enumerable:!0,get:function(){return d.literals}})})(Se);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.matches=e.Validator=void 0;const t=Se;Object.defineProperty(e,"Validator",{enumerable:!0,get:function(){return t.Parser}});const n=et,i=Tn;class s{constructor(a){this.value=a}when(...a){return this}defaultTo(a){return this.value}defaultToLazy(a){return this.value}unwrap(){return this.value}}class r{constructor(a){this.a=a}when(...a){const[c,...l]=a.reverse(),u=this,h=e.matches.some(...l.map(m=>m instanceof t.Parser?m:(0,t.literal)(m))).enumParsed(this.a);if("error"in h)return u;const{value:p}=h;return c instanceof Function?new s(c(p)):new s(c)}defaultTo(a){return a}defaultToLazy(a){return a()}unwrap(){throw new Error("Expecting that value is matched")}}e.matches=Object.assign(function(a){return new r(a)},{array:t.isArray,arrayOf:t.arrayOf,some:t.some,tuple:t.tuple,regex:t.regex,number:t.number,natural:t.natural,isFunction:t.isFunction,object:t.object,string:t.string,shape:t.shape,partial:t.partial,literal:t.literal,every:t.every,guard:t.guard,unknown:i.unknown,any:t.any,boolean:t.boolean,dictionary:t.dictionary,literals:t.literals,nill:t.isNill,instanceOf:t.instanceOf,Parse:t.Parser,parserName:n.parserName}),e.default=e.matches})(Os);var F=yr(Os);function Re(e,t){const n=Object.entries(e),i=n.filter(([h,p])=>typeof p=="object"&&"callback"in p),s=Object.fromEntries(i.map(([h,p])=>[h,p.matches])),r=n.filter(([h,p])=>typeof p!="object"),o=Object.fromEntries(r.map(([h,p])=>[h,F.literal(p)])),a=Object.assign({},e,o,s),c=Object.fromEntries(Object.entries(a).map(([h])=>[h,null])),l=h=>{const p=Object.fromEntries(i.map(([m,y])=>[m,h[m]??y.callback()]));return{...c,...h,...Object.fromEntries(r),...p}},u=F.shape(a);l.actionShape=e,l.resolvedActionShape=a,l.type=e.type,l.matches=F.every(u,Lc),l.matchesFromAny=u,l.matchesFromUser=h=>F.every(u,bc(h));const d=t?.extensions?.(u);return Object.assign(l,d),l}const Ac=F.shape({x:F.number,y:F.number,z:F.number}),Oc=F.some(F.shape({_x:F.number,_y:F.number,_z:F.number,_w:F.number}),F.shape({x:F.number,y:F.number,z:F.number,w:F.number})),xs=F.guard(e=>Ac.test(e)),Rc=F.guard(e=>Oc.test(e)),Vt=F.string,bn=F.number,bc=e=>F.shape({$from:F.literal(e)}),Lc=F.guard(e=>typeof e!="object"?!1:e&&"$from"in e?e.$from===ae().hostId:!1),Dc=(e,t)=>({matches:e,callback:t}),q={DEFAULT:"DEFAULT",IDLE:"IDLE",WALK:"WALK",RUN:"RUN",JUMP:"JUMP",INTERACTING:"INTERACTING",EMOTE:"EMOTE",LOOPABLE_EMOTE:"LOOPABLE_EMOTE"};F.some(...Object.keys(q).map(e=>F.literal(e)));const Q={JUMP:"jump",FALLING:"falling",LANDING_AFTER_FALL:"falling_to_land",ROLLING_AFTER_FALL:"falling_to_roll",IDLE:"idle",FALLING_LONG:"abcd",WALK_FORWARD:"walk_forward",WALK_BACKWARD:"walk_backward",WALK_STRAFE_RIGHT:"walk_right",WALK_STRAFE_LEFT:"walk_left",RUN_FORWARD:"run_forward",RUN_BACKWARD:"run_backward",RUN_STRAFE_RIGHT:"run_right",RUN_STRAFE_LEFT:"run_left",CLAP:"clapping",DANCING_1:"dance1",DANCING_2:"dance2",DANCING_3:"dance3",DANCING_4:"dance4",LAUGH:"laugh",WAVE:"wave",KISS:"kiss",DEFEAT:"defeat",PAUSE:"pause",CRY:"cry"},Cc=F.shape({velocity:xs,distanceFromGround:F.number});var fe;(function(e){e[e.STATIC=0]="STATIC",e[e.VELOCITY_BASED=1]="VELOCITY_BASED"})(fe||(fe={}));const Ic=F.partial({movement:Cc,resetAnimation:F.boolean,forceTransition:F.boolean});class Xe{name;type=fe.STATIC;nextStates=[];animations=[];timeElapsedSinceUpdate=0;pauseTransitionDuration;transitionDuration=1;autoTransitionTo;weightParams;syncActions;updateWeights;getTotalWeightsOfAnimations=()=>{let t=0;return this.animations.forEach(n=>t+=Number.isNaN(n.weight)?0:n.weight),t}}class Mc extends Xe{name=q.LOOPABLE_EMOTE;type=fe.STATIC;animations=[{name:Q.DANCING_1,weight:0,timeScale:1,loopType:oe},{name:Q.DANCING_2,weight:0,timeScale:1,loopType:oe},{name:Q.DANCING_3,weight:0,timeScale:1,loopType:oe},{name:Q.DANCING_4,weight:0,timeScale:1,loopType:oe}];updateWeights=()=>{!this.weightParams.animationName||(this.weightParams.interpolate=!0,this.timeElapsedSinceUpdate=0,this.animations.forEach(t=>{this.weightParams.animationName===t.name?(t.transitionStartWeight=t.weight,t.transitionEndWeight=1):(t.transitionStartWeight=t.weight,t.transitionEndWeight=0)}))}}class Fs extends Xe{name=q.EMOTE;type=fe.STATIC;pauseTransitionDuration=1e4;animations=[{name:Q.CLAP,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}},{name:Q.CRY,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}},{name:Q.KISS,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}},{name:Q.WAVE,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}},{name:Q.DEFEAT,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}},{name:Q.LAUGH,weight:0,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}}];updateWeights=()=>{!this.weightParams.animationName||(this.weightParams.interpolate=!0,this.timeElapsedSinceUpdate=0,this.animations.forEach(t=>{this.weightParams.animationName===t.name?(t.transitionStartWeight=t.weight,t.transitionEndWeight=1):(t.transitionStartWeight=t.weight,t.transitionEndWeight=0)}))}}class Xt extends Xe{name=q.IDLE;type=fe.VELOCITY_BASED;transitionDuration=.5;animations=[{name:Q.IDLE,weight:1,timeScale:1,loopType:oe,loopCount:1/0}];updateWeights=()=>{this.weightParams.interpolate=!0,this.animations[0].transitionStartWeight=this.animations[0].weight,this.animations[0].transitionEndWeight=1}}class Gt extends Xe{name=q.JUMP;type=fe.VELOCITY_BASED;transitionDuration=.2;animations=[{name:Q.JUMP,weight:1,timeScale:1,loopType:qe,decorateAction:function(t){t.reset(),t.setLoop(this.loopType,this.loopCount),t.clampWhenFinished=!0}}];updateWeights=()=>{this.animations.forEach(t=>t.weight=1)}}class zt extends Xe{name=q.WALK;type=fe.VELOCITY_BASED;syncActions=!0;animations=[{name:Q.WALK_FORWARD,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.WALK_BACKWARD,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.WALK_STRAFE_LEFT,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.WALK_STRAFE_RIGHT,weight:0,timeScale:1,loopType:oe,loopCount:1/0}];updateWeights=()=>{const{velocity:t,distanceFromGround:n}=this.weightParams.movement,i=n?.5:1;t.x>0?(this.animations[2].weight=J.clamp(J.mapLinear(t.x,0,.02,0,i),0,1),this.animations[3].weight=0):(this.animations[3].weight=J.clamp(J.mapLinear(t.x,0,-.02,0,i),0,1),this.animations[2].weight=0),t.z>0?(this.animations[0].weight=J.clamp(J.mapLinear(t.z,0,.02,0,i),0,1),this.animations[1].weight=0):(this.animations[1].weight=J.clamp(J.mapLinear(t.z,0,-.02,0,i),0,1),this.animations[0].weight=0)}}class $t extends Xe{name=q.RUN;type=fe.VELOCITY_BASED;syncActions=!0;animations=[{name:Q.RUN_FORWARD,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.RUN_BACKWARD,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.RUN_STRAFE_LEFT,weight:0,timeScale:1,loopType:oe,loopCount:1/0},{name:Q.RUN_STRAFE_RIGHT,weight:0,timeScale:1,loopType:oe,loopCount:1/0}];updateWeights=()=>{const{velocity:t,distanceFromGround:n}=this.weightParams.movement,i=n?.5:1;t.x>0?(this.animations[2].weight=J.clamp(J.mapLinear(t.x,0,.04,0,i),0,1),this.animations[3].weight=0):(this.animations[3].weight=J.clamp(J.mapLinear(t.x,0,-.04,0,i),0,1),this.animations[2].weight=0),t.z>0?(this.animations[0].weight=J.clamp(J.mapLinear(t.z,0,.08,0,i),0,1),this.animations[1].weight=0):(this.animations[1].weight=J.clamp(J.mapLinear(t.z,0,-.08,0,i),0,1),this.animations[0].weight=0)}}const di=H("NameComponent");var he;(function(e){e[e.STATIC=0]="STATIC",e[e.DYNAMIC=1]="DYNAMIC",e[e.KINEMATIC=2]="KINEMATIC",e[e.CONTROLLER=3]="CONTROLLER"})(he||(he={}));var Ln;(function(e){e[e.Closest=0]="Closest"})(Ln||(Ln={}));var Kt;(function(e){e.CONTROLLER_SHAPE_HIT="CONTROLLER_SHAPE_HIT",e.CONTROLLER_CONTROLLER_HIT="CONTROLLER_CONTROLLER_HIT",e.CONTROLLER_OBSTACLE_HIT="CONTROLLER_OBSTACLE_HIT"})(Kt||(Kt={}));var tt;(function(e){e.COLLISION_START="COLLISION_START",e.COLLISION_PERSIST="COLLISION_PERSIST",e.COLLISION_END="COLLISION_END",e.TRIGGER_START="TRIGGER_START",e.TRIGGER_PERSIST="TRIGGER_PERSIST",e.TRIGGER_END="TRIGGER_END"})(tt||(tt={}));const fi=H("CollisionComponent"),ks=H("SpawnPoseComponent"),Us=(e,t)=>{let n;const i=f.defaultWorld,s={to(r){if(!!n)return n.$to=r,s},delay(r){if(!!n)return n.$tick=i.fixedTick+r,s}};return f.userId!==e||(n=t(),n.$to=n.$to??"all",n.$tick=n.$tick??i.fixedTick+2,i.outgoingActions.add(n)),s},Nc=e=>{const t=ae();return typeof t.localClientEntity!="undefined"&&t.localClientEntity===e},xc=F.arrayOf(F.number),Fc=F.guard(e=>!Array.isArray(e)||!xc.test(e)?!1:e.length===7),kc=F.shape({avatarURL:F.string,thumbnailURL:F.string,avatarId:F.string});class Yt{static createClient=Re({type:"network.CREATE_CLIENT",userId:Vt,name:F.string,avatarDetail:kc});static destroyClient=Re({type:"network.DESTROY_CLIENT",userId:Vt});static setXRMode=Re({type:"network.SET_XR_MODE",userId:Vt,enabled:F.boolean},{allowDispatchFromAny:!0});static xrHandsConnected=Re({type:"network.XR_HANDS_CONNECTED",userId:Vt},{allowDispatchFromAny:!0});static spawnObject=Re({type:"network.SPAWN_OBJECT",userId:Vt,prefab:F.string,networkId:Dc(bn,()=>Jt.getNetworkId()),parameters:F.any.optional()});static spawnAvatar=Re({...Yt.spawnObject.actionShape,prefab:"avatar",parameters:F.shape({position:xs,rotation:Rc})});static destroyObject=Re({type:"network.DESTROY_OBJECT",networkId:bn});static setEquippedObject=Re({type:"network.SET_EQUIPPED_OBJECT",networkId:bn,equip:F.boolean});static avatarAnimation=Re({type:"network.AVATAR_ANIMATION",newStateName:F.string,params:Ic},{allowDispatchFromAny:!0});static teleportObject=Re({type:"network.TELEPORT_OBJECT",networkId:bn,pose:Fc})}const Ws=H("LocalInputTagComponent"),qt=H("XRInputSourceComponent"),Uc=new P(0,1,0),Dn=new Y,Bs=new Me,nt=new P,hi=new P,Ge=new P,Wc=new P(0,0,1),Hs=1/60,Bc=(e,t)=>{const n=D(e,Ne),i=D(e,ni),s=D(e,ye);if(!s.movementEnabled)return;const r=s.collisions[0]||n.isGrounded;Ge.copy(s.localMovementDirection).multiplyScalar(Hs),s.velocitySimulator.target.copy(Ge),s.velocitySimulator.simulate(t*(r?1:.2));const o=s.isWalking?ze.instance.walkSpeed:ze.instance.runSpeed;if(nt.copy(s.velocitySimulator.position).multiplyScalar(o),i.velocity.setX(nt.x),i.velocity.setZ(nt.z),i.velocity.y-=.15*t,Qe(e,qt)?D(e,qt).head.getWorldDirection(Ge):f.camera.getWorldDirection(Ge),Ge.setY(0).normalize(),Dn.setFromUnitVectors(Wc,Ge),nt.applyQuaternion(Dn),r){const d=D(e,As).hits[0];d&&(hi.copy(nt).setY(0),Ge.set(d.normal.x,d.normal.y,d.normal.z),Dn.setFromUnitVectors(Uc,Ge),Bs.makeRotationFromQuaternion(Dn),hi.applyMatrix4(Bs)),i.velocity.y=hi.y,s.isJumping&&(s.isJumping=!1),s.localMovementDirection.y>0&&!s.isJumping&&(i.velocity.y=ze.instance.jumpHeight*Hs,s.isJumping=!0)}const a=ae(),c=new PhysX.PxControllerFilters(s.filterData,a.physics.defaultCCTQueryCallback,null),l=s.controller.move({x:nt.x,y:i.velocity.y,z:nt.z},.001,a.fixedDelta,c,a.physics.obstacleContext);s.collisions=[l.isSet(PhysX.PxControllerCollisionFlag.eCOLLISION_DOWN),l.isSet(PhysX.PxControllerCollisionFlag.eCOLLISION_SIDES),l.isSet(PhysX.PxControllerCollisionFlag.eCOLLISION_UP)]},js=H("PortalComponent"),Hc=(e,t)=>{const n=D(e,ye),i=D(e,fi);if(n&&i){for(const s of i.collisions)if(typeof s.body!="undefined"){const r=s.body.userData.entity;if(Qe(r,t))return{controllerCollisionEvent:s,controllerCollisionEntity:r}}}return{controllerCollisionEvent:void 0,controllerCollisionEntity:void 0}},jc=e=>{D(e,fi).collisions;const t=Hc(e,js).controllerCollisionEntity;if(typeof t=="undefined")return;const n=D(t,js);if(ue){if(f.defaultWorld.isInPortal)return;I.instance.dispatchEvent({type:I.EVENTS.PORTAL_REDIRECT_EVENT,portalComponent:n})}},Vc=e=>{const{position:t,rotation:n}=D(e,ks),i=D(e,Zt);Us(ae().hostId,()=>Yt.teleportObject({networkId:i.networkId,pose:[t.x,t.y,t.z,n.x,n.y,n.z,n.w]}))};class ze{static instance=new ze;walkSpeed=1.5;runSpeed=5;jumpHeight=4}async function Xc(e){const t=new P,n=new Y,i=new Y,s=xe([ye]),r=xe([Ws,qt,ye]);return()=>{const{delta:o}=e;for(const a of s.exit(e)){const c=D(a,ye);c?.controller&&e.physics.removeController(c.controller);const l=D(a,Ne);l&&(l.isGrounded=!1)}for(const a of r.enter(e))D(a,Ne).modelContainer?.traverse(l=>{l.visible&&(l.visible=!1)});for(const a of r.exit(e))D(a,Ne)?.modelContainer?.traverse(l=>{l.visible&&(l.visible=!0)});for(const a of r(e)){const c=D(a,qt),l=D(a,Pe);c.container.updateWorldMatrix(!0,!0),c.container.updateMatrixWorld(!0),n.copy(l.rotation).invert(),i.copy(f.camera.quaternion).premultiply(n),c.head.quaternion.copy(i),t.subVectors(f.camera.position,l.position),t.applyQuaternion(n),c.head.position.copy(t)}for(const a of s(e)){const c=D(a,ye),l=D(a,Ne),u=D(a,Pe),d=c.controller.getPosition();if(u.position.set(d.x,d.y-l.avatarHalfHeight,d.z),jc(a),Bc(a,o),u.position.y<-10){Vc(a);continue}}return e}}var Gc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",AvatarSettings:ze,default:Xc});const Vs=new _e;class zc{states={};defaultState;EPSILON=.005;isTransitionPaused;pauseTransitionFor=t=>{this.isTransitionPaused=!0,setTimeout(()=>{this.isTransitionPaused=!1},t)};validateTransition=(t,n)=>{if(!n)return!1;if(t.nextStates.length===0)return!0;for(let i=0;i<t.nextStates.length;i++)if(n.constructor.name===t.nextStates[i].name)return!0;return!1};transitionState=(t,n,i)=>{const s=D(t,Vi),r=D(t,wt);if(this.isTransitionPaused||!i.forceTransition&&n===r.currentState.name)return;const o=this.states[n];if(!!this.validateTransition(r.currentState,o)){if(r.prevState&&(r.prevState.name===n?en.resetPreviousState(t,!0):en.unmountPreviousState(t,0,!0)),r.currentState.name!==this.defaultState.name&&(r.prevState=r.currentState,en.resetPreviousState(t)),r.currentState=this.states[n],r.currentState.weightParams=i,en.mountCurrentState(t),r.currentState.autoTransitionTo){const a=()=>{this.isTransitionPaused=!1,r.currentState&&this.transitionState(t,r.currentState.autoTransitionTo,i),s.mixer.removeEventListener("finished",a)};s.mixer.addEventListener("finished",a)}r.currentState.pauseTransitionDuration&&this.pauseTransitionFor(r.currentState.pauseTransitionDuration),this.updateNetwork(t,n,i)}};render=(t,n)=>{const i=D(t,wt),s=D(t,Ne);let r={};const o=D(t,ni),a={velocity:o.velocity,distanceFromGround:s.isGrounded?0:o.velocity.y};if(r.movement=a,i.currentState.type===fe.VELOCITY_BASED&&(i.currentState.weightParams=r),!s.isGrounded)i.currentState.name!==q.JUMP&&i.animationGraph.transitionState(t,q.JUMP,{...r,forceTransition:!0});else{let c="";Vs.set(a.velocity.x,a.velocity.z).multiplyScalar(1/n);const l=Vs.lengthSq();l>this.EPSILON?c=l<ze.instance.walkSpeed*ze.instance.walkSpeed?q.WALK:q.RUN:c=q.IDLE,i.currentState.name!==c&&i.animationGraph.transitionState(t,c,r)}i.currentState.type===fe.VELOCITY_BASED&&i.currentState.updateWeights?.(),i.prevVelocity.copy(a.velocity)};updateNetwork=(t,n,i)=>{const s=D(t,wt);Nc(t)&&s.currentState.type===fe.STATIC&&Us(f.userId,()=>Yt.avatarAnimation({newStateName:n,params:i}))};static forceUpdateAnimationState=(t,n,i)=>{const s=D(t,wt),r=s.animationGraph.states[n];s.currentState.name===r.name?(i.resetAnimation=!0,s.currentState.weightParams=i,s.animationGraph.updateNetwork(t,r.name,i)):s.animationGraph.transitionState(t,r.name,i),s.currentState.updateWeights?.()}}class $c extends zc{constructor(){super();const t=new Xt,n=new zt,i=new $t,s=new Mc,r=new Fs,o=new Gt;n.nextStates.push(Xt,$t,Gt),i.nextStates.push(Xt,zt,Gt),s.nextStates.push(zt,$t,Gt,Fs),o.nextStates.push(Xt,zt,$t),r.nextStates.push(Xt,zt,$t,Gt),r.autoTransitionTo=q.IDLE,this.states[q.IDLE]=t,this.states[q.WALK]=n,this.states[q.RUN]=i,this.states[q.JUMP]=o,this.states[q.LOOPABLE_EMOTE]=s,this.states[q.EMOTE]=r,this.defaultState=this.states[q.IDLE]}}const Kc=H("AudioTagComponent"),Xs=H("ShadowComponent"),Gs=H("PersistTagComponent"),pi=.25,mi=1.8,zs=mi-pi*2,it=mi/2,Yc=e=>{const t=ae(),n=e.userId,i=t.getNetworkObject(e.networkId);ue&&(Qe(i,Fi)||$(i,Fi,{isAfk:!1,prevPosition:new P(0,0,0),cStep:0,cStep2:0,timer:0}));const s=$(i,Pe,{position:new P().copy(e.parameters.position),rotation:new Y().copy(e.parameters.rotation),scale:new P(1,1,1)});$(i,ni,{velocity:new P});const r=new Bi;r.name="Actor (tiltContainer)"+i,r.position.setY(it);const o=new Bi;o.name="Actor (modelContainer)"+i,r.add(o),$(i,Ne,{...t.clients.get(n)?.avatarDetail||{avatarId:ra},avatarHalfHeight:it,avatarHeight:mi,modelContainer:o,isGrounded:!1}),$(i,di,{name:n}),console.log("userID: "+n),$(i,Vi,{mixer:new Dr(o),animations:[],animationSpeed:1}),$(i,wt,{animationGraph:new $c,currentState:new Xe,prevState:new Xe,prevVelocity:new P}),$(i,ce,{value:r});const a=new PhysX.PxQueryFilterData;a.setWords(de.Default|de.Ground|de.Trigger,0);const c=PhysX.PxQueryFlag.eSTATIC.value|PhysX.PxQueryFlag.eDYNAMIC.value|PhysX.PxQueryFlag.eANY_HIT.value;if(a.setFlags(c),$(i,As,{filterData:a,type:Ln.Closest,hits:[],origin:new P(0,it,0),direction:new P(0,-1,0),maxDistance:it+.05,flags:c}),$(i,fi,{collisions:[]}),n===f.userId)$(i,ks,{position:new P().copy(e.parameters.position),rotation:new Y().copy(e.parameters.rotation)}),qc(i),$(i,Kc,{}),$(i,Xs,{receiveShadow:!0,castShadow:!0}),$(t.localClientEntity,Ws,{}),$(t.localClientEntity,He,la),$(t.localClientEntity,Gs,{});else{const l=t.physics.createShape(new PhysX.PxCapsuleGeometry(pi,zs/2),t.physics.physics.createMaterial(0,0,0),{collisionLayer:de.Avatars,collisionMask:de.Default|de.Ground}),u=t.physics.addBody({shapes:[l],type:he.STATIC,transform:{translation:{x:s.position.x,y:s.position.y+it,z:s.position.z},rotation:new Y},userData:{entity:i}});$(i,ba,{body:u})}return i},qc=e=>{const{position:t}=D(e,Pe),{value:n}=D(e,ce);$(e,Jn,{schema:Ts,data:new Map});const i=ae(),s=i.physics.createController({isCapsule:!0,material:i.physics.createMaterial(),position:{x:t.x,y:t.y+it,z:t.z},contactOffset:.01,stepOffset:.25,slopeLimit:0,height:zs,radius:pi,userData:{entity:e}}),r=new Un(60,2,.1,3);r.position.setY(it),r.rotateY(Math.PI),n.add(r),$(e,Ss,{focusedInteractive:null,frustumCamera:r,subFocusedArray:[]});const o=new ca(60,50,.8);$(e,ye,{controller:s,filterData:new PhysX.PxFilterData(de.Avatars,de.Default|de.Ground|de.Trigger,0,0),collisions:[!1,!1,!1],movementEnabled:!0,isJumping:!1,isWalking:!1,localMovementDirection:new P,velocitySimulator:o})},$s=e=>new P((Math.random()-.5)*e.x,(Math.random()-.5)*e.y,(Math.random()-.5)*e.z);class st{static instance;spawnPoints=[];lastSpawnIndex=0;constructor(){st.instance=this}getRandomSpawnPoint(){if(typeof this.spawnPoints[this.lastSpawnIndex]!="undefined"){const t=D(this.spawnPoints[this.lastSpawnIndex],Pe);if(t&&this.spawnPoints.length>0)return this.lastSpawnIndex=(this.lastSpawnIndex+1)%this.spawnPoints.length,{position:t.position.clone().add($s(new P(t.scale.x,0,t.scale.z))),rotation:new Y}}return console.warn("Couldn't spawn entity at spawn point, no spawn points available"),{position:$s(new P(2,0,2)),rotation:new Y}}}async function Qc(e){if(e.receptors.add(t=>{F(t).when(Yt.spawnAvatar.matches,Yc)}),ue)return()=>{};{const t=xe([sa,Pe]);return()=>{for(const n of t.enter(e)){if(!Qe(n,Pe)){console.warn("Can't add spawn point, no transform component on entity");continue}st.instance.spawnPoints.push(n)}for(const n of t.exit(e)){const i=st.instance.spawnPoints.indexOf(n);i>-1&&st.instance.spawnPoints.splice(i)}}}}var Ks=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SpawnPoints:st,default:Qc}),rt;(function(e){e.InitializeBot="BotHooks_InitializeBot",e.LocationLoaded="BotHooks_LocationLoaded",e.GetPlayerPosition="BotHooks_GetPlayerPosition",e.RotatePlayer="BotHooks_RotatePlayer",e.GetClients="BotHooks_GetClients"})(rt||(rt={}));var pe;(function(e){e.OverrideXR="XRBotHooks_OverrideXR",e.XRSupported="XRBotHooks_XRSupported",e.XRInitialized="XRBotHooks_XRInitialized",e.StartXR="XRBotHooks_StartXR",e.UpdateHead="XRBotHooks_UpdateHead",e.UpdateController="XRBotHooks_UpdateController",e.PressControllerButton="XRBotHooks_PressControllerButton",e.MoveControllerStick="XRBotHooks_MoveControllerStick",e.GetXRInputPosition="XRBotHooks_GetXRInputPosition",e.TweenXRInputSource="XRBotHooks_TweenXRInputSource"})(pe||(pe={}));async function Jc(){const{XREngineWebXRPolyfill:e}=await C(()=>import("./CustomWebXRPolyfill.c1087ad9.js"),["assets/CustomWebXRPolyfill.c1087ad9.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js"]);new e,navigator.xr.isSessionSupported=()=>!0;const t={id:"Oculus Quest",name:"Oculus Quest",modes:["inline","immersive-vr"],headset:{hasPosition:!0,hasRotation:!0},controllers:[{id:"Oculus Touch (Right)",buttonNum:7,primaryButtonIndex:0,primarySqueezeButtonIndex:1,hasPosition:!0,hasRotation:!0,hasSqueezeButton:!0,isComplex:!0},{id:"Oculus Touch (Left)",buttonNum:7,primaryButtonIndex:0,primarySqueezeButtonIndex:1,hasPosition:!0,hasRotation:!0,hasSqueezeButton:!0,isComplex:!0}]};I.instance.dispatchEvent({type:"webxr-device-init",detail:{stereoEffect:!1,deviceDefinition:t}})}async function Zc(){const e=await navigator.xr.isSessionSupported("immersive-vr");return f.xrSupported=e,e}function el(){return Boolean(f.xrSession)}function tl(){I.instance.dispatchEvent({type:I.EVENTS.XR_START}),I.instance.dispatchEvent({type:"webxr-pose",detail:{position:[0,1.6,0],quaternion:[0,0,0,1]}}),I.instance.dispatchEvent({type:"webxr-input-pose",detail:{objectName:"rightController",position:[.5,1.5,-1],quaternion:[0,0,0,1]}}),I.instance.dispatchEvent({type:"webxr-input-pose",detail:{objectName:"leftController",position:[-.5,1.5,-1],quaternion:[0,0,0,1]}})}function nl(e){I.instance.dispatchEvent({type:"webxr-input-button",detail:e})}function il(e){I.instance.dispatchEvent({type:"webxr-input-axes",detail:e})}function sl(){const e=D(ae().localClientEntity,qt),t=e.head.position.toArray().concat(e.head.quaternion.toArray()),n=e.controllerLeft.position.toArray().concat(e.controllerLeft.quaternion.toArray()),i=e.controllerRight.position.toArray().concat(e.controllerRight.quaternion.toArray());return{headInputValue:t,leftControllerInputValue:n,rightControllerInputValue:i}}const yi=new P(0,1.6,0),Si=new Y,gi=new P(-.5,1.5,-1),Ei=new Y,_i=new P(.5,1.5,-1),Pi=new Y,rl=e=>{switch(e){case"head":return yi;case"leftController":return gi;case"rightController":return _i}},ol=e=>{switch(e){case"head":return Si;case"leftController":return Ei;case"rightController":return Pi}},Cn=[],ku=()=>{Cn.forEach(e=>e()),I.instance.dispatchEvent({type:"webxr-pose",detail:{position:yi.toArray(),quaternion:Si.toArray()}}),I.instance.dispatchEvent({type:"webxr-input-pose",detail:{objectName:"leftController",position:gi.toArray(),quaternion:Ei.toArray()}}),I.instance.dispatchEvent({type:"webxr-input-pose",detail:{objectName:"rightController",position:_i.toArray(),quaternion:Pi.toArray()}})};function al(e){let t=0;const n=rl(e.objectName),i=ol(e.objectName),s=()=>{n.lerpVectors(e.positionFrom,e.positionTo,t/e.time),i.slerpQuaternions(e.quaternionFrom,e.quaternionTo,t/e.time),t>=e.time&&(Cn.splice(Cn.indexOf(s)),e.callback()),t++};Cn.push(s)}function cl(e){e.position&&yi.fromArray(e.position),e.rotation&&Si.fromArray(e.rotation)}function ll(e){e.objectName==="leftController"?(gi.fromArray(e.position),Ei.fromArray(e.rotation)):(_i.fromArray(e.position),Pi.fromArray(e.rotation))}const ul={[rt.InitializeBot]:dl,[rt.LocationLoaded]:fl,[rt.GetPlayerPosition]:hl,[rt.RotatePlayer]:pl,[rt.GetClients]:ml,[pe.OverrideXR]:Jc,[pe.XRSupported]:Zc,[pe.XRInitialized]:el,[pe.StartXR]:tl,[pe.UpdateHead]:cl,[pe.UpdateController]:ll,[pe.PressControllerButton]:nl,[pe.MoveControllerStick]:il,[pe.GetXRInputPosition]:sl,[pe.TweenXRInputSource]:al};function dl(){f.isBot=!0}function fl(){return f.hasJoinedWorld}function hl(){return D(ae().localClientEntity,Pe)?.position}function pl({angle:e}){D(ae().localClientEntity,Pe).rotation.multiply(new Y().setFromAxisAngle(new P(0,1,0),J.degToRad(e)))}function ml(){return ae().clients}const ot=typeof window!="undefined"&&typeof window.performance!="undefined"?performance.now.bind(performance):Date.now.bind(Date),yl=1e4;function Sl(e){let t=null,n=0,i=0,s;const r={fixed:0,net:0,update:0,render:0},o={fixed:0,net:0,update:0,render:0};let a;function c(E,g){f.xrFrame=g,t!==null&&(i=(E-t)/1e3,n+=i,e(i,n)),t=E}I.instance.addEventListener(I.EVENTS.XR_START,async E=>{S()}),I.instance.addEventListener(I.EVENTS.XR_SESSION,async E=>{f.xrRenderer.setAnimationLoop(c)}),I.instance.addEventListener(I.EVENTS.XR_END,async E=>{y()});function l(E){t!==null&&(i=(E-t)/1e3,n+=i,d("update"),e(i,n),h("update")),t=E}const u=new Map;function d(E){let g;u.has(E)?g=u.get(E):(g={time:0,ticks:0},u.set(E,g)),g.ticks=f.tick,g.time=ot()}function h(E){const g=u.get(E);r[E]+=f.tick-g.ticks,o[E]+=ot()-g.time}function p(){ot(),ot(),ot()+yl}const m=1e3/60;function y(){if(n=0,t=null,ue){const E=g=>{s=window.requestAnimationFrame(E),l(g)};s=window.requestAnimationFrame(E)}else a=()=>{const E=ot();E-t>=m&&(l(E),t=E),setImmediate(a)},a();p()}function S(){ue?cancelAnimationFrame(s):clearImmediate(a)}function _(){S(),I.instance.removeAllListenersForEvent(I.EVENTS.XR_START),I.instance.removeAllListenersForEvent(I.EVENTS.XR_SESSION),I.instance.removeAllListenersForEvent(I.EVENTS.XR_END)}return{start:y,stop:S,clear:_}}const gl=typeof window!="undefined"&&typeof window.document!="undefined",El=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,_l=()=>typeof window!="undefined"&&window.name==="nodejs"||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom");function Pl(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let t;return new Promise(n=>{const i=()=>indexedDB.databases().finally(n);t=setInterval(i,100),i()}).finally(()=>clearInterval(t))}function be(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Ys(e,t){const n=Pl().then(()=>{const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),be(i)});return(i,s)=>n.then(r=>s(r.transaction(t,i).objectStore(t)))}let wi;function Le(){return wi||(wi=Ys("keyval-store","keyval")),wi}function wl(e,t=Le()){return t("readonly",n=>be(n.get(e)))}function vl(e,t,n=Le()){return n("readwrite",i=>(i.put(t,e),be(i.transaction)))}function Tl(e,t=Le()){return t("readwrite",n=>(e.forEach(i=>n.put(i[1],i[0])),be(n.transaction)))}function Al(e,t=Le()){return t("readonly",n=>Promise.all(e.map(i=>be(n.get(i)))))}function Ol(e,t,n=Le()){return n("readwrite",i=>new Promise((s,r)=>{i.get(e).onsuccess=function(){try{i.put(t(this.result),e),s(be(i.transaction))}catch(o){r(o)}}}))}function Rl(e,t=Le()){return t("readwrite",n=>(n.delete(e),be(n.transaction)))}function bl(e=Le()){return e("readwrite",t=>(t.clear(),be(t.transaction)))}function vi(e,t){return e("readonly",n=>(n.openCursor().onsuccess=function(){!this.result||(t(this.result),this.result.continue())},be(n.transaction)))}function Ll(e=Le()){const t=[];return vi(e,n=>t.push(n.key)).then(()=>t)}function Dl(e=Le()){const t=[];return vi(e,n=>t.push(n.value)).then(()=>t)}function Cl(e=Le()){const t=[];return vi(e,n=>t.push([n.key,n.value])).then(()=>t)}var Il=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clear:bl,createStore:Ys,del:Rl,entries:Cl,get:wl,getMany:Al,keys:Ll,promisifyRequest:be,set:vl,setMany:Tl,update:Ol,values:Dl});const Ti={};let In={get:e=>Ti[e],set:(e,t)=>{Ti[e]=t},del:e=>{delete Ti[e]}};gl&&!_l()&&!El&&(In=Il);class $e{static async get(t){const n=await In.get(String(t));try{return JSON.parse(n)}catch(i){return n}}static async set(t,n){return typeof n!="string"&&(n=JSON.stringify(n)),await In.set(String(t),n)}static async del(t){return await In.del(String(t))}}var ge;(function(e){e.AUTOMATIC="automatic",e.PBR="usePBR",e.POST_PROCESSING="usePostProcessing",e.SHADOW_QUALITY="shadowQuality",e.SCALE_FACTOR="scaleFactor"})(ge||(ge={}));const Ke="graphics-settings-";let qs=0;class le{static EVENTS={QUALITY_CHANGED:"WEBGL_RENDERER_SYSTEM_EVENT_QUALITY_CHANGE",SET_RESOLUTION:"WEBGL_RENDERER_SYSTEM_EVENT_SET_RESOLUTION",USE_SHADOWS:"WEBGL_RENDERER_SYSTEM_EVENT_SET_SHADOW_QUALITY",SET_POST_PROCESSING:"WEBGL_RENDERER_SYSTEM_EVENT_SET_POST_PROCESSING",SET_USE_AUTOMATIC:"WEBGL_RENDERER_SYSTEM_EVENT_SET_USE_AUTOMATIC"};static instance;needsResize;postProcessingSchema;maxQualityLevel=5;qualityLevel=this.maxQualityLevel;prevQualityLevel=this.qualityLevel;maxRenderDelta=1e3/40;minRenderDelta=1e3/60;automatic=!0;usePBR=!0;usePostProcessing=!0;useShadows=!0;scaleFactor=1;renderPass;normalPass;renderContext;supportWebGL2;rendereringEnabled=!0;canvas;averageFrameTime=1e3/60;timeSamples=new Array(60*1).fill(1e3/60);index=0;constructor(t){le.instance=this,this.onResize=this.onResize.bind(this),this.supportWebGL2=Bn.isWebGL2Available(),!this.supportWebGL2&&!Bn.isWebGLAvailable()&&Bn.dispatchWebGLDisconnectedEvent();const n=t.canvas??document.querySelector("canvas"),i=this.supportWebGL2?n.getContext("webgl2"):n.getContext("webgl");i||I.instance.dispatchEvent({type:I.EVENTS.BROWSER_NOT_SUPPORTED,message:"Your brower does not support webgl,or it disable webgl,Please enable webgl"}),this.renderContext=i;const s={canvas:n,context:i,antialias:!f.isHMD,preserveDrawingBuffer:!f.isHMD};this.canvas=n;const r=this.supportWebGL2?new Cr(s):new Ir(s);f.renderer=r,f.renderer.physicallyCorrectLights=!0,f.renderer.outputEncoding=Mr,f.xrRenderer=r.xr,r.xr.cameraAutoUpdate=!1,f.xrRenderer.enabled=!0,window.addEventListener("resize",this.onResize,!1),this.onResize(),this.needsResize=!0,f.renderer.autoClear=!0,f.effectComposer=new Gi(f.renderer),I.instance.addEventListener(le.EVENTS.SET_POST_PROCESSING,o=>{this.setUsePostProcessing(this.supportWebGL2&&o.payload)}),I.instance.addEventListener(le.EVENTS.SET_RESOLUTION,o=>{this.setResolution(o.payload)}),I.instance.addEventListener(le.EVENTS.USE_SHADOWS,o=>{this.setShadowQuality(o.payload)}),I.instance.addEventListener(le.EVENTS.SET_USE_AUTOMATIC,o=>{this.setUseAutomatic(o.payload)}),I.instance.addEventListener(I.EVENTS.ENABLE_SCENE,o=>{typeof o.renderer!="undefined"&&(this.rendereringEnabled=o.renderer)})}onResize(){this.needsResize=!0}resetPostProcessing(){console.log("resetPostProcessing"),f.effectComposer.dispose(),f.effectComposer=new Gi(f.renderer),this.postProcessingSchema=void 0,console.log("resetPostProcessing done")}configurePostProcessing(t=Jr){this.postProcessingSchema=t;const n=new Zr(f.scene,f.camera);n.scene=f.scene,n.camera=f.camera,f.effectComposer.addPass(n);const i=[],s=new eo(n.scene,n.camera,{renderTarget:new Nr(1,1,{minFilter:Hi,magFilter:Hi,format:xr,stencilBuffer:!1})}),r=new to({normalBuffer:s.texture,resolutionScale:.5}),o=r.texture;let a;Object.keys(this.postProcessingSchema).forEach(l=>{a=this.postProcessingSchema[l];const u=no[l].effect;if(a.isActive)if(u===io){const d=new u(f.camera,s.texture,{...a,normalDepthBuffer:o});f.effectComposer[l]=d,i.push(d)}else if(u===so){const d=new u(f.camera,a);f.effectComposer[l]=d,i.push(d)}else if(u===ro){const d=new u(f.scene,f.camera,a);f.effectComposer[l]=d,i.push(d)}else{const d=new u(a);f.effectComposer[l]=d,i.push(d)}});const c=new oo({blendFunction:ao.SKIP,texture:r.texture});i.length&&(f.effectComposer.addPass(r),f.effectComposer.addPass(new co(f.camera,...i,c)))}execute(t){if(f.xrRenderer.isPresenting)f.csm?.update(),f.renderer.render(f.scene,f.camera);else if(this.changeQualityLevel(),this.rendereringEnabled){if(this.needsResize){const n=f.renderer.getPixelRatio(),i=window.devicePixelRatio*this.scaleFactor;n!==i&&f.renderer.setPixelRatio(i);const s=window.innerWidth,r=window.innerHeight;if(f.camera.isPerspectiveCamera){const o=f.camera;o.aspect=s/r,o.updateProjectionMatrix()}this.qualityLevel>0&&f.csm?.updateFrustums(),f.renderer.setSize(s,r,!1),f.effectComposer.setSize(s,r,!1),this.needsResize=!1}this.qualityLevel>0&&f.csm?.update(),this.usePostProcessing&&this.postProcessingSchema?f.effectComposer.render(t):(f.renderer.autoClear=!0,f.renderer.render(f.scene,f.camera)),f.isHMD&&(this.rendereringEnabled=!1)}}calculateMovingAverage=t=>(this.averageFrameTime=(this.averageFrameTime*this.timeSamples.length+t-this.timeSamples[this.index])/this.timeSamples.length,this.timeSamples[this.index]=t,this.index=(this.index+1)%this.timeSamples.length,this.averageFrameTime);changeQualityLevel(){const t=ot(),n=t-qs;if(qs=t,!this.automatic)return;const i=this.calculateMovingAverage(n);ae().elapsedTime>5&&(i>this.minRenderDelta&&this.qualityLevel--,i<this.maxRenderDelta&&this.qualityLevel++),this.qualityLevel=Math.round(J.clamp(this.qualityLevel,1,this.maxQualityLevel)),this.prevQualityLevel!==this.qualityLevel&&(this.prevQualityLevel=this.qualityLevel,this.doAutomaticRenderQuality(),this.dispatchSettingsChangeEvent())}doAutomaticRenderQuality(){this.setShadowQuality(this.qualityLevel>1),this.setResolution(this.qualityLevel/this.maxQualityLevel),this.setUsePostProcessing(this.qualityLevel>2)}dispatchSettingsChangeEvent(){I.instance.dispatchEvent({type:le.EVENTS.QUALITY_CHANGED,shadows:this.useShadows,resolution:this.scaleFactor,postProcessing:this.usePostProcessing,pbr:this.usePBR,automatic:this.automatic})}setUseAutomatic(t){this.automatic=t,this.automatic&&this.doAutomaticRenderQuality(),$e.set(Ke+ge.AUTOMATIC,this.automatic)}setResolution(t){this.scaleFactor=t,f.renderer.setPixelRatio(window.devicePixelRatio*this.scaleFactor),this.needsResize=!0,$e.set(Ke+ge.SCALE_FACTOR,this.scaleFactor)}setShadowQuality(t){this.useShadows!==t&&(this.useShadows=t,f.renderer.shadowMap.enabled=t,$e.set(Ke+ge.SHADOW_QUALITY,this.useShadows))}setUsePostProcessing(t){this.usePostProcessing!==t&&(this.usePostProcessing=this.supportWebGL2&&t,$e.set(Ke+ge.POST_PROCESSING,this.usePostProcessing))}async loadGraphicsSettingsFromStorage(){this.automatic=await $e.get(Ke+ge.AUTOMATIC)??!0,this.scaleFactor=await $e.get(Ke+ge.SCALE_FACTOR)??1,this.useShadows=await $e.get(Ke+ge.SHADOW_QUALITY)??!0,this.usePostProcessing=await $e.get(Ke+ge.POST_PROCESSING)??!0}}async function Ml(e,t){return new le(t),await le.instance.loadGraphicsSettingsFromStorage(),le.instance.dispatchSettingsChangeEvent(),()=>{t.enabled&&le.instance.execute(e.delta)}}var Nl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get RENDERER_SETTINGS(){return ge},EngineRenderer:le,default:Ml});const Qs=(e=ae())=>{const t=zr(e);return e.entities.push(t),t},Uu=(e,t=ae())=>{if(Qe(e,di)){const{name:n}=D(e,di);e===t.namedEntities.get(n)&&t.namedEntities.delete(n)}$r(e,t),t.entities.splice(t.entities.indexOf(e),1),Kr(t,e)},Wu=H("InteractableComponent"),xl=async()=>{const{default:e}=await(ue?C(()=>import("./physx.release.esm.aff4c40b.js"),[]):C(()=>import("./physx.release.cjs.e1214094.js"),[]));let t=ue?void 0:await C(()=>import("./__vite-browser-external.b6126e45.js").then(function(n){return n._}),[]);globalThis.PhysX=await e({locateFile(n){return n.endsWith(".wasm")?ue?"/workers/physx.release.wasm":t.resolve(__dirname,"./physx.release.wasm"):n}})},Mn=(e,t)=>{const n=PhysX._malloc(4*t.length);let i=0;for(let s=0;s<t.length;s++)e[n+i>>2]=t[s],i+=4;return n},Js=0;let Fl=0,kl=0,Ul=0;class Wl{physxVersion;defaultErrorCallback;allocator;foundation;cookingParamas;cooking;physics;sceneDesc;scene;controllerManager;obstacleContext;defaultCCTQueryCallback;stepTime=1e3/60;substeps=1;collisionEventQueue=[];bodies=new Map;shapes=new Map;shapeIDByPointer=new Map;controllerIDByPointer=new Map;bodyIDByShapeID=new Map;controllers=new Map;obstacles=new Map;dispose(){}onEvent(t){this.collisionEventQueue.push(t)}getOriginalShapeObject(t){const n=t.length?t[0]:t;return this.shapes.get(this.shapeIDByPointer.get(n.$$.ptr))}async createScene(t={}){await xl(),this.physxVersion=PhysX.PX_PHYSICS_VERSION,this.defaultErrorCallback=new PhysX.PxDefaultErrorCallback,this.allocator=new PhysX.PxDefaultAllocator;const n=new PhysX.PxTolerancesScale;n.length=t.lengthScale??1,this.foundation=PhysX.PxCreateFoundation(this.physxVersion,this.allocator,this.defaultErrorCallback),this.cookingParamas=new PhysX.PxCookingParams(n),this.cooking=PhysX.PxCreateCooking(this.physxVersion,this.foundation,this.cookingParamas),this.physics=PhysX.PxCreatePhysics(this.physxVersion,this.foundation,n,!1,null);const i={onContactBegin:(s,r,o,a,c)=>{const l=[];for(let u=0;u<o.size();u++)c.get(u)>0&&l.push({point:o.get(u),normal:a.get(u),impulse:c.get(u)});this.collisionEventQueue.push({type:tt.COLLISION_START,shapeA:this.getOriginalShapeObject(s),shapeB:this.getOriginalShapeObject(r),contacts:l})},onContactEnd:(s,r)=>{this.collisionEventQueue.push({type:tt.COLLISION_END,shapeA:this.getOriginalShapeObject(s),shapeB:this.getOriginalShapeObject(r)})},onContactPersist:(s,r)=>{this.collisionEventQueue.push({type:tt.COLLISION_PERSIST,shapeA:this.getOriginalShapeObject(s),shapeB:this.getOriginalShapeObject(r)})},onTriggerBegin:(s,r)=>{this.collisionEventQueue.push({type:tt.TRIGGER_START,shapeA:this.getOriginalShapeObject(s),shapeB:this.getOriginalShapeObject(r)})},onTriggerEnd:(s,r)=>{this.collisionEventQueue.push({event:tt.TRIGGER_END,shapeA:this.getOriginalShapeObject(s),shapeB:this.getOriginalShapeObject(r)})}};this.sceneDesc=PhysX.getDefaultSceneDesc(n,0,PhysX.PxSimulationEventCallback.implement(i)),this.scene=this.physics.createScene(this.sceneDesc),this.scene.setBounceThresholdVelocity(t.bounceThresholdVelocity??.001),this.controllerManager=PhysX.PxCreateControllerManager(this.scene,!1),this.obstacleContext=this.controllerManager.createObstacleContext(),this.defaultCCTQueryCallback=PhysX.getDefaultCCTQueryFilter(),t.gravity&&this.scene.setGravity(t.gravity)}addBody(t){const{transform:n,shapes:i,type:s}=t,r=this._getNextAvailableBodyID(),o=s===he.STATIC?this.physics.createRigidStatic(n):this.physics.createRigidDynamic(n);o._type=s,o._id=r,o._shapes=i;for(const a of i)o.attachShape(a),this.bodyIDByShapeID.set(a._id,r);if(this.bodies.set(r,o),this.scene.addActor(o,null),!Bl(o)){if(typeof t.useCCD!="undefined"&&o.setRigidBodyFlag(PhysX.PxRigidBodyFlag.eENABLE_CCD,t.useCCD),typeof t.type!="undefined"){const a=o.getGlobalPose();t.type===he.KINEMATIC?(o.setRigidBodyFlag(PhysX.PxRigidBodyFlag.eKINEMATIC,!0),o._type=he.KINEMATIC):(o.setRigidBodyFlag(PhysX.PxRigidBodyFlag.eKINEMATIC,!1),o._type=he.DYNAMIC),o.setGlobalPose(a,!0)}t.mass&&o.setMass(t.mass),t.linearDamping&&o.setLinearDamping(t.linearDamping),t.angularDamping&&o.setAngularDamping(t.angularDamping)}return o.userData=t.userData,o}createMaterial(t=0,n=0,i=0){return this.physics.createMaterial(t,n,i)}createShape(t,n=this.createMaterial(),i={}){if(!t)throw new Error("Expcted geometry");const s=this._getNextAvailableShapeID(),r=new PhysX.PxShapeFlags(PhysX.PxShapeFlag.eSCENE_QUERY_SHAPE.value|(i?.isTrigger?PhysX.PxShapeFlag.eTRIGGER_SHAPE.value:PhysX.PxShapeFlag.eSIMULATION_SHAPE.value)),o=this.physics.createShape(t,n,!1,r);let a=i.collisionLayer??Js,c=i.collisionMask??Js;return o._collisionLayer=a,o._collisionMask=c,o.setSimulationFilterData(new PhysX.PxFilterData(a,c,0,0)),o.setQueryFilterData(new PhysX.PxFilterData(a,c,0,0)),o._id=s,this.shapeIDByPointer.set(o.$$.ptr,s),this.shapes.set(s,o),typeof i.contactOffset!="undefined"&&o.setContactOffset(i.contactOffset),typeof i.restOffset!="undefined"&&o.setRestOffset(i.restOffset),o._debugNeedsUpdate=!0,o}createTrimesh(t,n,i){const s=Mn(PhysX.HEAPF32,n),r=Mn(PhysX.HEAPF32,i),o=this.cooking.createTriMesh(s,n.length,r,i.length/3,!1,this.physics);if(o===null)throw new Error("Unable to create trimesh");const a=new PhysX.PxMeshScale(t,new Y),c=new PhysX.PxTriangleMeshGeometry(o,a,new PhysX.PxMeshGeometryFlags(PhysX.PxMeshGeometryFlag.eDOUBLE_SIDED.value));return PhysX._free(s),PhysX._free(r),c}createConvexMesh(t,n){const i=Mn(PhysX.HEAPF32,n),s=this.cooking.createConvexMesh(i,n.length,this.physics),r=new PhysX.PxMeshScale(t,new Y),o=new PhysX.PxConvexMeshGeometry(s,r,new PhysX.PxConvexMeshGeometryFlags(0));return PhysX._free(i),o}removeBody(t){const n=t._id,i=t.getShapes();if((i.length?i:[i]).forEach(r=>{const o=this.shapeIDByPointer.get(r.$$.ptr);this.shapes.delete(o),this.shapeIDByPointer.delete(r.$$.ptr)}),!!t)try{return this.scene.removeActor(t,!1),this.bodies.delete(n),!0}catch(r){console.log(r,n,t)}}createController(t){const n=this._getNextAvailableBodyID(),i=t.isCapsule?new PhysX.PxCapsuleControllerDesc:new PhysX.PxBoxControllerDesc;i.setMaterial(t.material),i.position={x:t.position?.x??0,y:t.position?.y??0,z:t.position?.z??0},t.isCapsule?(i.height=t.height,i.radius=t.radius,i.climbingMode=t.climbingMode??PhysX.PxCapsuleClimbingMode.eEASY):(i.halfForwardExtent=t.halfForwardExtent,i.halfHeight=t.halfHeight,i.halfSideExtent=t.halfSideExtent),i.stepOffset=t.stepOffset??.1,i.maxJumpHeight=t.maxJumpHeight??.1,i.contactOffset=t.contactOffset??.01,i.invisibleWallHeight=t.invisibleWallHeight??.25,i.slopeLimit=t.slopeLimit??Math.cos(45*Math.PI/180),i.setReportCallback(PhysX.PxUserControllerHitReport.implement({onShapeHit:c=>{const l=c.getShape(),u=this.shapeIDByPointer.get(l.$$.ptr),d=this.bodyIDByShapeID.get(u),h=c.getWorldPos(),p=c.getWorldNormal(),m=c.getLength();this.collisionEventQueue.push({type:Kt.CONTROLLER_SHAPE_HIT,controller:s,bodyID:d,shapeID:u,position:h,normal:p,length:m})},onControllerHit:c=>{const l=c.getOther(),u=this.controllerIDByPointer.get(l.$$.ptr),d=this.shapeIDByPointer.get(l.getActor().getShapes().$$.ptr),h=c.getWorldPos(),p=c.getWorldNormal(),m=c.getLength();this.collisionEventQueue.push({type:Kt.CONTROLLER_CONTROLLER_HIT,controller:s,bodyID:u,shapeID:d,position:h,normal:p,length:m})},onObstacleHit:c=>{const l=c.getUserData(),u=c.getWorldPos(),d=c.getWorldNormal(),h=c.getLength();this.collisionEventQueue.push({type:Kt.CONTROLLER_OBSTACLE_HIT,controller:s,obstacleID:l,position:u,normal:d,length:h})}})),i.isValid()||console.warn("[WARN] Controller Description invalid!");const s=t.isCapsule?this.controllerManager.createCapsuleController(i):this.controllerManager.createBoxController(i);this.controllers.set(n,s),this.controllerIDByPointer.set(s.$$.ptr,n);const r=s.getActor();this.bodies.set(n,r);const o=r.getShapes(),a=this._getNextAvailableShapeID();return r._shapes=[o],this.shapeIDByPointer.set(o.$$.ptr,n),this.shapes.set(a,o),o._id=a,r._type=he.CONTROLLER,r._debugNeedsUpdate=!0,s._id=n,s}removeController(t){const n=t._id,s=t.getActor().getShapes();this.controllerIDByPointer.delete(t.$$.ptr),this.shapeIDByPointer.delete(s.$$.ptr),this.controllers.delete(n),this.bodies.delete(n),t.release()}createObstacle(t,n,i){const{isCapsule:s,halfExtents:r,halfHeight:o,radius:a}=i,c=this._getNextAvailableObstacleID(),l=new(s?PhysX.PxCapsuleObstacle:PhysX.PxBoxObstacle);l._id=c,l._isCapsule=s,l.setUserData(Mn(PhysX.HEAPU32,[c])),l.setPosition(t),l.setRotation(n),s?(l.setHalfHeight(o),l.setRadius(a)):l.setHalfExtents(r);const u=this.obstacleContext.addObstacle(l);l._handle=u,this.obstacles.set(c,l)}removeObstacle(t){const n=t._handle,i=t._id;this.obstacleContext.removeObstacle(n),this.obstacles.delete(i)}getRigidbodyShapes(t){const n=t.getShapes();return n.length?n:[n]}doRaycast(t){if(t.hits=[],t.type===Ln.Closest){const n=new PhysX.PxRaycastHit;if(this.scene.raycastSingle(t.origin,t.direction,t.maxDistance,t.flags,n,t.filterData)){const s=n.getShape();s&&t.hits.push({distance:n.distance,normal:n.normal,position:n.position,_bodyID:this.bodyIDByShapeID.get(this.shapeIDByPointer.get(s.$$.ptr))})}}}_getNextAvailableBodyID(){return Fl++}_getNextAvailableShapeID(){return kl++}_getNextAvailableObstacleID(){return Ul++}}const Bu=e=>e.getFlags().isSet(PhysX.PxShapeFlag.eTRIGGER_SHAPE),Hu=e=>e.getGeometry().getType().value,ju=e=>e._type===he.KINEMATIC,Vu=e=>e._type===he.CONTROLLER,Xu=e=>e._type===he.DYNAMIC,Bl=e=>e._type===he.STATIC;new Y;new Y;new P(1,0,0);new P(0,1,0);new P(0,0,1);const Gu=H("CopyTransformComponent"),zu=H("PositionalAudioSettingsComponent");H("ScenePreviewCameraTagComponent");const Hl=H("UpdatableComponent");H("UserdataComponent");const Zs=H("VisibleComponent"),$u=H("NavMeshComponent");new Y().setFromAxisAngle(new P(1,0,0),-Math.PI/2);const Ku=H("DebugNavMeshComponent"),Yu=H("GeoLabelSetComponent");H("VolumetricComponent");const qu=H("RenderedComponent");const Qu=H("PositionalAudioComponent");ue&&Promise.all([C(()=>import("./Player.1091a6aa.js"),["assets/Player.1091a6aa.js","assets/three.module.493739a3.js"]),C(()=>import("./workerFunction.efd6a346.js"),[])]).then(([e,t])=>{});class jl extends Fr{constructor(t){super(t)}load(t,n,i,s){const r=this,o=new kr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(a){let c;try{c=JSON.parse(a)}catch(u){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}const l=r.parse(c);n&&n(l)},i,s)}parse(t){return new Vl(t)}}class Vl{data;type="Font";isFont=!0;constructor(t){this.data=t}generateShapes(t,n=100){const i=[],s=Xl(t,n,this.data);for(let r=0,o=s.length;r<o;r++)Array.prototype.push.apply(i,s[r].toShapes());return i}}function Xl(e,t,n){const i=Array.from(e),s=t/n.resolution,r=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,o=[];let a=0,c=0;for(let l=0;l<i.length;l++){const u=i[l];if(u===`
`)a=0,c-=r;else{const d=Gl(u,s,a,c,n);a+=d.offsetX,o.push(d.path)}}return o}function Gl(e,t,n,i,s){const r=s.glyphs[e]||s.glyphs["?"];if(!r){console.error('THREE.Font: character "'+e+'" does not exists in font family '+s.familyName+".");return}const o=new Ur;let a,c,l,u,d,h,p,m;if(r.o){const y=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let S=0,_=y.length;S<_;)switch(y[S++]){case"m":a=y[S++]*t+n,c=y[S++]*t+i,o.moveTo(a,c);break;case"l":a=y[S++]*t+n,c=y[S++]*t+i,o.lineTo(a,c);break;case"q":l=y[S++]*t+n,u=y[S++]*t+i,d=y[S++]*t+n,h=y[S++]*t+i,o.quadraticCurveTo(d,h,l,u);break;case"b":l=y[S++]*t+n,u=y[S++]*t+i,d=y[S++]*t+n,h=y[S++]*t+i,p=y[S++]*t+n,m=y[S++]*t+i,o.bezierCurveTo(d,h,p,m,l,u);break}}return{offsetX:r.ha*t,path:o}}class Ai{static instance=new Ai;_loader=new jl;_defaultFont;create3dText(t,n=new P(1,1,1),i=120){const s=this._defaultFont.generateShapes(t,i),r=new Wr(s,{bevelEnabled:!1}),o=1/i;r.scale(n.x*o,n.y*o,n.z*o),r.computeBoundingBox();const a=-.5*(r.boundingBox?.max.x-r.boundingBox?.min.x);return r.translate(a,0,1),r}getDefaultFont(){return new Promise(t=>{this._defaultFont&&t(this._defaultFont),this._loader.load(f.publicPath+"/fonts/IBMPlexSans-Regular.json",n=>{this._defaultFont=n,t(this._defaultFont)})})}}new P;const Ju=H("TriggerVolumeComponent"),Oi=new Me;class Ri{vertices;constructor(t={}){this.vertices={near:[new P,new P,new P,new P],far:[new P,new P,new P,new P]},t.projectionMatrix!==void 0&&this.setFromProjectionMatrix(t.projectionMatrix,t.maxFar||1e4)}setFromProjectionMatrix(t,n){const i=t.elements[2*4+3]===0;return Oi.copy(t).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(s=>{s.applyMatrix4(Oi)}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(s=>{s.applyMatrix4(Oi);const r=Math.abs(s.z);i?s.z*=Math.min(n/r,1):s.multiplyScalar(Math.min(n/r,1))}),this.vertices}split(t,n){for(;t.length>n.length;)n.push(new Ri);n.length=t.length;for(let i=0;i<t.length;i++){const s=n[i];if(i===0)for(let r=0;r<4;r++)s.vertices.near[r].copy(this.vertices.near[r]);else for(let r=0;r<4;r++)s.vertices.near[r].lerpVectors(this.vertices.near[r],this.vertices.far[r],t[i-1]);if(i===t.length-1)for(let r=0;r<4;r++)s.vertices.far[r].copy(this.vertices.far[r]);else for(let r=0;r<4;r++)s.vertices.far[r].lerpVectors(this.vertices.near[r],this.vertices.far[r],t[i])}}toSpace(t,n){for(var i=0;i<4;i++)n.vertices.near[i].copy(this.vertices.near[i]).applyMatrix4(t),n.vertices.far[i].copy(this.vertices.far[i]).applyMatrix4(t)}}""+Br.lights_pars_begin;new Me;new Ri;new P;new Ce;var er;(function(e){e[e.UNIFORM=0]="UNIFORM",e[e.LOGARITHMIC=1]="LOGARITHMIC",e[e.PRACTICAL=2]="PRACTICAL",e[e.CUSTOM=3]="CUSTOM"})(er||(er={}));var tr=Worker;class zl{running;worker;constructor(){this.running=!1,ue?this.worker=new tr("/workers/generateBVHAsync.worker.js"):this._serverWorker()}async _serverWorker(){const n=(await require("path")).resolve(__dirname,"./generateBVHAsync.worker.js");this.worker=new tr(n,{type:"module"})}generate(t,n={}){if(this.running)throw new Error("GenerateMeshBVHWorker: Already running job.");const{worker:i}=this;return this.running=!0,new Promise((s,r)=>{if(i.onmessage=l=>{this.running=!1,i.onmessage=null;const{serialized:u,position:d,error:h}=l.data;if(h)r(new Error(h));else{t.setIndex(new Fn(u.index,1));const p=Z.deserialize(u,t,!1);Object.assign({setBoundingBox:!0},n).setBoundingBox&&(t.boundingBox=p.getBoundingBox(new Ce)),s(p)}},t.attributes.position.isInterleavedBufferAttribute||t.index&&t.index.isInterleavedBufferAttribute)throw new Error("GenerateMeshBVHWorker: InterleavedBufferAttribute are not supported for the geometry attributes.");const o=t.index?Uint32Array.from(t.index.array):null,a=Float32Array.from(t.attributes.position.array),c=[a];o&&c.push(o),i.postMessage({index:o,position:a,options:n},c.map(l=>l.buffer))})}terminate(){this.worker.terminate()}}let nr=2;ue&&(nr=window.navigator?.hardwareConcurrency||2);let bi=[],Li=[];function $l(e){if(!!e.isMesh){if(!bi.length)for(let t=0;t<nr;t++)bi.push(new zl);Li.push(e),ir()}}function ir(){for(let e of bi){if(Li.length<1)break;if(e.running)continue;const t=Li.shift();e.generate(t.geometry).then(n=>{t.geometry.boundsTree=n,ir()})}}class at{static instance;bpcemOptions={bakeScale:new P(1,1,1),bakePositionOffset:new P};envMapIntensity=1;boxProjection=!1}const sr=xe([ce]),Kl=xe([ce,Gs]),Yl=xe([ce,Zs]),ql=xe([ce,Hl]);async function Ql(e){return at.instance=new at,()=>{for(const t of sr.enter()){const n=D(t,ce),i=D(t,Xs);n.value.entity=t,f.scene.children.includes(n.value)?console.warn("[Object3DComponent]: Scene object has been added manually.",n.value):f.scene.add(n.value),n.value.layers.set(Xi.Scene),n.value.traverse(s=>{const r=s.material;if(typeof r!="undefined"&&(r.dithering=!0),i&&(s.receiveShadow=i.receiveShadow,s.castShadow=i.castShadow),f.simpleMaterials){if(s.material instanceof Hr){const o=s.material;s.material=new jr,Vr.prototype.copy.call(s.material,o)}}else{const o=s.material;typeof o!="undefined"&&(at.instance.boxProjection&&(o.onBeforeCompile=lo(at.instance.bpcemOptions.bakeScale,at.instance.bpcemOptions.bakePositionOffset)),o.envMapIntensity=at.instance.envMapIntensity,s.receiveShadow&&f.csm?.setupMaterial(s))}}),n.value.traverse($l)}for(const t of sr.exit()){const n=D(t,ce);n&&f.scene.children.includes(n.value)?f.scene.remove(n.value):console.warn("[Object3DComponent]: Scene object has been removed manually.")}for(const t of Kl.enter())D(t,ce)?.value?.traverse(i=>{i.layers.enable(Xi.Portal)});for(const t of Yl.enter()){const n=D(t,ce),i=D(t,Zs);n.value.visible=i.value}for(const t of ql())D(t,ce).value.update(e.fixedDelta)}}var Jl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SceneOptions:at,default:Ql});H("FogComponent");var rr;(function(e){e[e.ENVMAP=0]="ENVMAP"})(rr||(rr={}));const k=(e,t)=>{f.defaultWorld._pipeline.push({type:e,systemModulePromise:t,args:void 0})},Et=(e,t,n)=>{f.defaultWorld._pipeline.push({type:e,systemModulePromise:t,args:n})},me=(e,t)=>{f.defaultWorld._pipeline.push(...t.filter(n=>n.type===e))},Zl={transport:null,messageTypes:{..._r}};var Ee;(function(e){e[e.CLIENT=0]="CLIENT",e[e.EDITOR=1]="EDITOR",e[e.SERVER=2]="SERVER",e[e.MEDIA=3]="MEDIA"})(Ee||(Ee={}));const eu={type:0,publicPath:"",input:{schemas:[Ts]},networking:{schema:Zl},scene:{disabled:!1},renderer:{disabled:!1,postProcessing:!0},physics:{settings:{bounceThresholdVelocity:.5,start:!1,lengthScale:1,verbose:!1,substeps:1,gravity:{x:0,y:-9.81,z:0}},simulationEnabled:!0},systems:[]};var X;(function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE"})(X||(X={}));const _t=[];let or;const tu=e=>{console.log("A gamepad connected:",e.gamepad,e.gamepad.mapping),e.gamepad.mapping!=="standard"&&console.error("Non-standard gamepad mapping detected, it could be handled not properly."),or=e.gamepad;for(let t=0;t<or.buttons.length;t++)typeof _t[t]=="undefined"&&(_t[t]=0)},nu=e=>{if(console.log("A gamepad disconnected:",e.gamepad),!!_t)for(let t=0;t<_t.length;t++)_t[t]===X.ON&&f.inputState.set(iu[e.gamepad.mapping||"standard"][t],{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Changed}),_t[t]=0},iu={standard:{0:W.A,1:W.B,2:W.X,3:W.Y,4:W.LBumper,5:W.RBumper,6:W.LTrigger,7:W.RTrigger,8:W.Back,9:W.Start,10:W.LStick,11:W.RStick,12:W.DPad1,13:W.DPad2,14:W.DPad3,15:W.DPad4},"xr-standard":{left:{buttons:{0:W.LTrigger,1:W.LBumper,2:W.LPad,3:W.LStick,4:W.X,5:W.Y},axes:ht.Left},right:{buttons:{0:W.RTrigger,1:W.RBumper,2:W.RPad,3:W.RStick,4:W.A,5:W.B},axes:ht.Right}}};let Nn=[0,0],ar=Date.now();const su=200,ru=()=>Boolean(f.inputState.get(je.Left)?.value[0]||f.inputState.get(je.Left)?.value[1]||f.inputState.get(je.Right)?.value[0]||f.inputState.get(je.Right)?.value[1]),cr=e=>{if(!f.mouseInputEnabled)return;const t=Ci(e.touches[0].clientX,e.touches[0].clientY,window.innerWidth,window.innerHeight),n=[t.x,t.y];if(e.touches.length>=1){const i=G.Touch1Position,s=f.inputState.has(i);f.inputState.set(i,{type:N.TWODIM,value:n,lifecycleState:s?L.Changed:L.Started});const r=e.type==="touchstart",o=G.Touch1Movement,a=[0,0];!r&&Nn&&(a[0]=n[0]-Nn[0],a[1]=n[1]-Nn[1]),Nn=n,f.inputState.set(o,{type:N.TWODIM,value:a,lifecycleState:f.inputState.has(o)?L.Changed:L.Started})}else if(e.touches.length>=2){const i=Ci(e.touches[1].clientX,e.touches[1].clientY,window.innerWidth,window.innerHeight),s=[i.x,i.y];f.inputState.set(G.Touch1Position,{type:N.TWODIM,value:n,lifecycleState:L.Changed}),f.inputState.set(G.Touch2Position,{type:N.TWODIM,value:s,lifecycleState:L.Changed});const r=G.Scale;if(ru()){if(f.inputState.has(r)){const[_]=f.inputState.get(r)?.value;f.inputState.set(r,{type:N.ONEDIM,value:[_],lifecycleState:L.Ended})}return}const a=f.prevInputState.get(G.Touch1Position)?.value,c=f.prevInputState.get(G.Touch2Position)?.value;if(e.type==="touchstart"||!a||!c)return;if(!f.inputState.has(G.Touch1Position)||!f.inputState.has(G.Touch2Position)){console.warn("handleTouchScale requires POINTER1_POSITION and POINTER2_POSITION to be set and updated.");return}const l=new _e().fromArray(f.inputState.get(G.Touch1Position)?.value),u=new _e().fromArray(f.inputState.get(G.Touch2Position)?.value),d=new _e().fromArray(a),h=new _e().fromArray(c),p=l.distanceTo(u),y=(d.distanceTo(h)-p)*.01,S=Math.sign(y);if(!f.inputState.has(r))f.inputState.set(r,{type:N.ONEDIM,value:[S],lifecycleState:L.Started});else{const[_]=f.inputState.get(r)?.value;f.inputState.set(r,{type:N.ONEDIM,value:[_+S],lifecycleState:L.Changed})}}},Di=e=>{if(!!f.mouseInputEnabled){if(e.targetTouches.length){const t=G.Touch;if(e.type==="touchstart"){if(e.targetTouches.length==1){const n=Date.now(),i=G.DoubleTouch;n-ar<su?f.inputState.set(i,{type:N.BUTTON,value:[X.ON],lifecycleState:f.inputState.has(i)?L.Continued:L.Started}):f.inputState.has(i)&&f.inputState.set(i,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended}),ar=n}if(f.inputState.has(t)&&f.inputState.get(t)?.value[0]===X.ON){f.inputState.get(t)?.lifecycleState!==L.Continued&&f.inputState.set(t,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Continued});return}f.inputState.set(t,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Started})}else f.inputState.set(t,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended});return}f.inputState.has(G.Touch)&&f.inputState.set(G.Touch,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended}),f.inputState.has(G.DoubleTouch)&&f.inputState.set(G.DoubleTouch,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended}),f.inputState.has(G.Touch1Movement)&&f.inputState.set(G.Touch1Movement,{type:N.TWODIM,value:[0,0],lifecycleState:L.Ended})}},ou=e=>{const{stick:t,value:n}=e.detail;if(!t)return;const i=[n.x,n.y,n.angleRad];if(!f.inputState.has(t))f.inputState.set(t,{type:N.TWODIM,value:i,lifecycleState:L.Started});else{const s=f.inputState.get(t);JSON.stringify(s)!==JSON.stringify(i)&&f.inputState.set(t,{type:N.TWODIM,value:i,lifecycleState:L.Changed})}};function lr(e){const t=e.type==="touchgamepadbuttondown",n=e.detail.button;if(t){if(f.inputState.has(n)&&f.inputState.get(n)?.value[0]===X.ON){f.inputState.get(n)?.lifecycleState!==L.Continued&&f.inputState.set(n,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Continued});return}f.inputState.set(n,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Started})}else f.inputState.set(n,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended})}const au=e=>{if(!f.mouseInputEnabled||e?.target!==le.instance.canvas)return;const t=e?.deltaY;if(!f.inputState.has(U.MouseScroll))f.inputState.set(U.MouseScroll,{type:N.ONEDIM,value:[Math.sign(t)],lifecycleState:L.Started});else{const n=f.inputState.get(U.MouseScroll)?.value[0];if(n===t){f.inputState.set(U.MouseScroll,{type:N.ONEDIM,value:[t],lifecycleState:L.Unchanged});return}f.inputState.set(U.MouseScroll,{type:N.ONEDIM,value:[n+Math.sign(t)],lifecycleState:L.Changed})}};function cu(e,t,n,i){return{x:e/(n/2),y:-t/(i/2)}}let xn;const lu=e=>{if(!f.mouseInputEnabled)return;xn&&(clearTimeout(xn),xn=null);const t=Ci(e.clientX,e.clientY,window.innerWidth,window.innerHeight),n=[t.x,t.y];f.inputState.set(U.MousePosition,{type:N.TWODIM,value:n,lifecycleState:f.inputState.has(U.MousePosition)?L.Changed:L.Started});const i=cu(e.movementX,e.movementY,window.outerWidth,window.outerHeight),s=[i.x,i.y];f.inputState.set(U.MouseMovement,{type:N.TWODIM,value:s,lifecycleState:f.inputState.has(U.MouseMovement)?L.Changed:L.Started});const r=f.inputState.get(U.MouseClickDownPosition);let o=[0,0];r&&r?.lifecycleState!==L.Ended&&(o=s,xn=setTimeout(()=>{f.inputState.set(U.MouseClickDownMovement,{type:N.TWODIM,value:[0,0],lifecycleState:f.inputState.has(U.MouseClickDownMovement)?L.Changed:L.Started})},50),f.inputState.set(U.MouseClickDownMovement,{type:N.TWODIM,value:o,lifecycleState:f.inputState.has(U.MouseClickDownMovement)?L.Changed:L.Started}))},ur=e=>{const t=e.type==="mousedown";if(t&&!f.mouseInputEnabled)return;const n=[0,0];n[0]=e.clientX/window.innerWidth*2-1,n[1]=e.clientY/window.innerHeight*-2+1,t?(f.inputState.set(e.button,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Started}),f.inputState.set(U.MouseClickDownPosition,{type:N.TWODIM,value:n,lifecycleState:L.Started})):(f.inputState.set(e.button,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended}),f.inputState.set(U.MouseClickDownPosition,{type:N.TWODIM,value:n,lifecycleState:L.Ended}),f.inputState.set(U.MouseClickDownTransformRotation,{type:N.TWODIM,value:n,lifecycleState:L.Ended}),f.inputState.set(U.MouseClickDownMovement,{type:N.TWODIM,value:[0,0],lifecycleState:L.Ended}))},dr=e=>{const t=e.type==="keydown";if(t&&!f.keyboardInputEnabled)return;const n=e.target;if(n?.tagName==="INPUT"||n?.tagName==="SELECT"||n?.tagName==="TEXTAREA")return;const i=e.code;if(t){if(f.inputState.has(i)&&f.inputState.get(i)?.value[0]===X.ON){f.inputState.get(i)?.lifecycleState!==L.Continued&&f.inputState.set(i,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Continued});return}f.inputState.set(i,{type:N.BUTTON,value:[X.ON],lifecycleState:L.Started})}else f.inputState.set(i,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended})},fr=e=>{e.type==="focus"&&f.inputState.forEach((t,n)=>{t.type===N.BUTTON&&t.value[0]===X.ON&&f.inputState.set(n,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended})})},uu=e=>{document.visibilityState==="hidden"&&f.inputState.forEach((t,n)=>{t.type===N.BUTTON&&t.value[0]===X.ON&&f.inputState.set(n,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended})}),I.instance.dispatchEvent({type:I.EVENTS.WINDOW_FOCUS,focused:document.visibilityState==="visible"})},du=e=>{e.preventDefault()},fu=e=>{if([U.LeftButton,U.MiddleButton,U.RightButton].forEach(t=>{!f.inputState.has(t)||f.inputState.set(t,{type:N.BUTTON,value:[X.OFF],lifecycleState:L.Ended})}),f.inputState.has(U.MouseClickDownPosition)){const t=f.inputState.get(U.MouseClickDownPosition)?.value;(t[0]!==0||t[1]!==0)&&f.inputState.set(U.MouseClickDownPosition,{type:N.TWODIM,value:[0,0],lifecycleState:L.Ended})}if(f.inputState.has(U.MouseClickDownTransformRotation)){const t=f.inputState.get(U.MouseClickDownTransformRotation)?.value;(t[0]!==0||t[1]!==0)&&f.inputState.set(U.MouseClickDownTransformRotation,{type:N.TWODIM,value:[0,0],lifecycleState:L.Ended})}};function Ci(e,t,n,i){return{x:e/n*2-1,y:t/i*-2+1}}const hu=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(t){}return e}(),pu={37:1,38:1,39:1,40:1};function hr(e){e.preventDefault()}function mu(e){if(pu[e.keyCode])return hr(e),!1}const yu=e=>{window.addEventListener("DOMMouseScroll",hr,!1),window.addEventListener("keydown",mu,!1);const t=(n,i,s,r=!1)=>{r&&hu?n.addEventListener(i,s,{passive:r}):n.addEventListener(i,s)};t(e,"contextmenu",du),t(e,"mousemove",lu),t(e,"mouseup",ur),t(e,"mousedown",ur),t(e,"mouseleave",fu),t(e,"wheel",au,!0),t(e,"touchstart",n=>{Di(n),cr(n)},!0),t(e,"touchend",Di,!0),t(e,"touchcancel",Di,!0),t(e,"touchmove",cr,!0),t(document,"keyup",dr),t(document,"keydown",dr),t(window,"focus",fr),t(window,"blur",fr),t(document,"visibilitychange",uu),t(document,"touchstickmove",ou),t(document,"touchgamepadbuttondown",lr),t(document,"touchgamepadbuttonup",lr),t(window,"gamepadconnected",tu),t(window,"gamepaddisconnected",nu)},Su=e=>{const t=document.getElementById(e);return t.ondragstart=n=>(n.preventDefault(),!1),t},pr=Symbol("CreateWorld");class Ii{constructor(){Yr(this),f.worlds.push(this),this.worldEntity=Qs(this),this.localClientEntity=ue?Qs(this):NaN,f.defaultWorld||(f.defaultWorld=this)}static[pr]=()=>new Ii;sceneMetadata=void 0;worldMetadata={};delta=NaN;elapsedTime=NaN;fixedDelta=NaN;fixedElapsedTime=NaN;fixedTick=-1;_removedComponents=new Map;_pipeline=[];physics=new Wl;entities=[];portalEntities=[];isInPortal=!1;clients=new Map;incomingActions=new Set;delayedActions=new Set;outgoingActions=new Set;outgoingNetworkState;previousNetworkState;get isHosting(){return f.userId===this.hostId}hostId="server";worldEntity;localClientEntity;freeSystems=[];fixedSystems=[];injectedSystems={[O.UPDATE]:[],[O.FIXED_EARLY]:[],[O.FIXED]:[],[O.FIXED_LATE]:[],[O.PRE_RENDER]:[],[O.POST_RENDER]:[]};namedEntities=new Map;networkObjectQuery=xe([Zt]);getOwnedNetworkObjects(t){return this.networkObjectQuery(this).filter(n=>D(n,Zt).userId===t)}getNetworkObject(t){return this.networkObjectQuery(this).find(n=>D(n,Zt).networkId===t)}getUserAvatarEntity(t){return this.getOwnedNetworkObjects(t).find(n=>Qe(n,Ne,this))}receptors=new Set;execute(t,n){this.delta=t,this.elapsedTime=n;for(const i of this.freeSystems)i.execute();for(const[i,s]of this._removedComponents)for(const r of s)r.delete(i);this._removedComponents.clear()}async initSystems(){const t=async s=>{const r=await s.systemModule.default(this,s.args);return{name:s.systemModule.default.name,type:s.type,execute:()=>{try{r()}catch(o){console.error(o)}}}},n=await Promise.all(this._pipeline.map(async s=>({args:s.args,type:s.type,systemModule:await s.systemModulePromise}))),i=await Promise.all(n.map(t));i.forEach(s=>console.log(`${s.type} ${s.name}`)),this.freeSystems=i.filter(s=>!s.type.includes("FIXED")),this.fixedSystems=i.filter(s=>s.type.includes("FIXED")),console.log("[World]: All systems initialized!")}}function gu(){return console.log("Creating world"),Ii[pr]()}Y.prototype.toJSON=function(){return{x:this._x,y:this._y,z:this._z,w:this._w}};Xr.prototype.toJSON=function(){return{x:this._x,y:this._y,z:this._z,order:this._order}};Wi.prototype.raycast=ta;ji.prototype.disposeBoundsTree=ia;ji.prototype.computeBoundsTree=na;const Eu=async e=>{const t=Su(e.renderer.canvasId);f.audioListener=new Ro,f.scene=new Wn,I.instance.once(I.EVENTS.JOINED_WORLD,()=>{const n=document.createElement("canvas"),i=n.getContext("webgl"),s=i.getExtension("WEBGL_debug_renderer_info"),r=i.getParameter(s.UNMASKED_RENDERER_WEBGL),o=!/SwiftShader/.test(r);n.remove(),I.instance.dispatchEvent({type:I.EVENTS.ENABLE_SCENE,renderer:o,physics:!0}),f.hasJoinedWorld=!0}),e.scene.disabled!==!0&&(f.camera=new Un(60,window.innerWidth/window.innerHeight,.1,1e4),f.camera.layers.enableAll(),f.scene.add(f.camera),f.camera.add(f.audioListener),yu(t)),await Ai.instance.getDefaultFont(),globalThis.botHooks=ul,globalThis.Engine=f,globalThis.EngineEvents=I,globalThis.Network=Jt,await Pu(e,t)},_u=async e=>{f.scene=new Wn,f.camera=new Un(60,window.innerWidth/window.innerHeight,.1,1e4),f.camera.layers.enableAll(),f.scene.add(f.camera),await wu(e)},mr=async(e,t=!1)=>{f.scene=new Wn,Jt.instance.isInitialized=!0,I.instance.once(I.EVENTS.JOINED_WORLD,()=>{console.log("joined world"),I.instance.dispatchEvent({type:I.EVENTS.ENABLE_SCENE,renderer:!0,physics:!0}),f.hasJoinedWorld=!0}),t?await Tu():(await qr(),new st,await vu(e))},Pu=async(e,t)=>{if(e.scene.disabled){k(O.UPDATE,C(()=>import("./IncomingNetworkSystem.9c7fdda8.js"),["assets/IncomingNetworkSystem.9c7fdda8.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/networkSchema.bc1be026.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/XRHandsInputComponent.3d76e9a2.js"])),k(O.UPDATE,C(()=>import("./OutgoingNetworkSystem.b6954122.js"),["assets/OutgoingNetworkSystem.b6954122.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/networkSchema.bc1be026.js","assets/mathUtils.a0a00446.js","assets/XRHandsInputComponent.3d76e9a2.js"]));return}k(O.UPDATE,C(()=>import("./XRSystem.da086cc4.js"),["assets/XRSystem.da086cc4.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/addControllerModels.14512c2e.js","assets/WebXRFunctions.87bd8924.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/XRHandsInputComponent.3d76e9a2.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.UPDATE,C(()=>import("./ClientInputSystem.9e5cacb8.js"),["assets/ClientInputSystem.9e5cacb8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.UPDATE,C(()=>import("./CameraSystem.0bbf45bb.js"),["assets/CameraSystem.0bbf45bb.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.UPDATE,C(()=>import("./AutopilotSystem.3139825a.js"),["assets/AutopilotSystem.3139825a.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AutoPilotOverrideComponent.fbc59de7.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),me(O.UPDATE,e.systems),Et(O.UPDATE,C(()=>import("./FixedPipelineSystem.55f09bdd.js"),["assets/FixedPipelineSystem.55f09bdd.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"]),{updatesPerSecond:60}),k(O.FIXED_EARLY,C(()=>import("./IncomingNetworkSystem.9c7fdda8.js"),["assets/IncomingNetworkSystem.9c7fdda8.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/networkSchema.bc1be026.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/XRHandsInputComponent.3d76e9a2.js"])),me(O.FIXED_EARLY,e.systems),k(O.FIXED,C(()=>import("./BotHookSystem.6c2e2f2d.js"),["assets/BotHookSystem.6c2e2f2d.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.FIXED,C(()=>import("./MapUpdateSystem.f8d6b407.js"),["assets/MapUpdateSystem.f8d6b407.js","assets/index.2272cc2f.js","assets/SystemUpdateType.772fc25d.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.FIXED,C(()=>import("./FollowSystem.7c118a1d.js"),["assets/FollowSystem.7c118a1d.js","assets/mathUtils.a0a00446.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AutoPilotOverrideComponent.fbc59de7.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.FIXED,C(()=>import("./AfkCheckSystem.23d641ed.js"),["assets/AfkCheckSystem.23d641ed.js","assets/SystemUpdateType.772fc25d.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.FIXED,C(()=>Promise.resolve().then(function(){return Ks}),void 0)),k(O.FIXED,C(()=>import("./AvatarSystem.44f2ec8f.js"),["assets/AvatarSystem.44f2ec8f.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/teleportRigidbody.0bf2d2c0.js","assets/XRHandsInputComponent.3d76e9a2.js","assets/addControllerModels.14512c2e.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.FIXED,C(()=>Promise.resolve().then(function(){return Gc}),void 0)),k(O.FIXED,C(()=>import("./SkeletonRigSystem.e2e57ecb.js"),["assets/SkeletonRigSystem.e2e57ecb.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js"])),me(O.FIXED,e.systems),k(O.FIXED_LATE,C(()=>import("./EquippableSystem.5bfb227b.js"),["assets/EquippableSystem.5bfb227b.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/WebXRFunctions.87bd8924.js","assets/XRHandsInputComponent.3d76e9a2.js","assets/addControllerModels.14512c2e.js","assets/teleportRigidbody.0bf2d2c0.js"])),k(O.FIXED_LATE,C(()=>Promise.resolve().then(function(){return Jl}),void 0)),k(O.FIXED_LATE,C(()=>import("./NamedEntitiesSystem.458dccc9.js"),["assets/NamedEntitiesSystem.458dccc9.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.FIXED_LATE,C(()=>import("./TransformSystem.0f2998f4.js"),["assets/TransformSystem.0f2998f4.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/TweenComponent.b7ca1b88.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),Et(O.FIXED_LATE,C(()=>import("./PhysicsSystem.a06518b8.js"),["assets/PhysicsSystem.a06518b8.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/teleportRigidbody.0bf2d2c0.js"]),{simulationEnabled:e.physics.simulationEnabled}),me(O.FIXED_LATE,e.systems),k(O.FIXED_LATE,C(()=>import("./OutgoingNetworkSystem.b6954122.js"),["assets/OutgoingNetworkSystem.b6954122.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/networkSchema.bc1be026.js","assets/mathUtils.a0a00446.js","assets/XRHandsInputComponent.3d76e9a2.js"])),k(O.PRE_RENDER,C(()=>import("./MediaStreamSystem.471731b8.js"),["assets/MediaStreamSystem.471731b8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./XRUISystem.9de7442d.js"),["assets/XRUISystem.9de7442d.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js"])),k(O.PRE_RENDER,C(()=>import("./InteractiveSystem.5ceb18f3.js"),["assets/InteractiveSystem.5ceb18f3.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/HighlightComponent.9014c62c.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/BoundingBoxComponent.a58053fa.js","assets/tween.esm.78508545.js","assets/TweenComponent.b7ca1b88.js","assets/WebXRFunctions.87bd8924.js","assets/XRHandsInputComponent.3d76e9a2.js","assets/addControllerModels.14512c2e.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.PRE_RENDER,C(()=>import("./AudioSystem.544d3f74.js"),["assets/AudioSystem.544d3f74.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js"])),k(O.PRE_RENDER,C(()=>import("./PositionalAudioSystem.551dca8b.js"),["assets/PositionalAudioSystem.551dca8b.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/MediaStreamSystem.471731b8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./AvatarLoadingSystem.64df30f5.js"),["assets/AvatarLoadingSystem.64df30f5.js","assets/three.module.493739a3.js","assets/tween.esm.78508545.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/TweenComponent.b7ca1b88.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./AnimationSystem.b7e062f4.js"),["assets/AnimationSystem.b7e062f4.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./RendererUpdateSystem.961b58ba.js"),["assets/RendererUpdateSystem.961b58ba.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./ParticleSystem.5dde7232.js"),["assets/ParticleSystem.5dde7232.js","assets/SystemUpdateType.772fc25d.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js"])),k(O.PRE_RENDER,C(()=>import("./DebugHelpersSystem.9d006edc.js"),["assets/DebugHelpersSystem.9d006edc.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/BoundingBoxComponent.a58053fa.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.PRE_RENDER,C(()=>import("./HighlightSystem.870742b0.js"),["assets/HighlightSystem.870742b0.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/HighlightComponent.9014c62c.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),me(O.PRE_RENDER,e.systems),Et(O.PRE_RENDER,C(()=>Promise.resolve().then(function(){return Nl}),void 0),{canvas:t,enabled:!e.renderer.disabled}),me(O.POST_RENDER,e.systems)},wu=async e=>{k(O.FIXED,C(()=>import("./NamedEntitiesSystem.458dccc9.js"),["assets/NamedEntitiesSystem.458dccc9.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.FIXED,C(()=>import("./TransformSystem.0f2998f4.js"),["assets/TransformSystem.0f2998f4.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/TweenComponent.b7ca1b88.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),Et(O.FIXED,C(()=>import("./PhysicsSystem.a06518b8.js"),["assets/PhysicsSystem.a06518b8.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/teleportRigidbody.0bf2d2c0.js"]),{simulationEnabled:e.physics.simulationEnabled}),k(O.FIXED,C(()=>import("./ParticleSystem.5dde7232.js"),["assets/ParticleSystem.5dde7232.js","assets/SystemUpdateType.772fc25d.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js"])),k(O.FIXED,C(()=>import("./DebugHelpersSystem.9d006edc.js"),["assets/DebugHelpersSystem.9d006edc.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/BoundingBoxComponent.a58053fa.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"]))},vu=async e=>{me(O.UPDATE,e.systems),Et(O.UPDATE,C(()=>import("./FixedPipelineSystem.55f09bdd.js"),["assets/FixedPipelineSystem.55f09bdd.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"]),{updatesPerSecond:60}),k(O.FIXED_EARLY,C(()=>import("./IncomingNetworkSystem.9c7fdda8.js"),["assets/IncomingNetworkSystem.9c7fdda8.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/networkSchema.bc1be026.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/XRHandsInputComponent.3d76e9a2.js"])),me(O.FIXED_EARLY,e.systems),k(O.FIXED,C(()=>import("./AvatarSystem.44f2ec8f.js"),["assets/AvatarSystem.44f2ec8f.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/teleportRigidbody.0bf2d2c0.js","assets/XRHandsInputComponent.3d76e9a2.js","assets/addControllerModels.14512c2e.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),k(O.FIXED,C(()=>Promise.resolve().then(function(){return Ks}),void 0)),me(O.FIXED,e.systems),k(O.FIXED_LATE,C(()=>import("./NamedEntitiesSystem.458dccc9.js"),["assets/NamedEntitiesSystem.458dccc9.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"])),k(O.FIXED_LATE,C(()=>import("./TransformSystem.0f2998f4.js"),["assets/TransformSystem.0f2998f4.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/TweenComponent.b7ca1b88.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),Et(O.FIXED_LATE,C(()=>import("./PhysicsSystem.a06518b8.js"),["assets/PhysicsSystem.a06518b8.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/index.81138b53.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/teleportRigidbody.0bf2d2c0.js"]),{simulationEnabled:e.physics.simulationEnabled}),me(O.FIXED_LATE,e.systems),k(O.FIXED_LATE,C(()=>import("./OutgoingNetworkSystem.b6954122.js"),["assets/OutgoingNetworkSystem.b6954122.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js","assets/networkSchema.bc1be026.js","assets/mathUtils.a0a00446.js","assets/XRHandsInputComponent.3d76e9a2.js"])),me(O.PRE_RENDER,e.systems),me(O.POST_RENDER,e.systems)},Tu=async e=>{k(O.UPDATE,C(()=>import("./MediaStreamSystem.471731b8.js"),["assets/MediaStreamSystem.471731b8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/feathers.32f4d4e8.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"]))},Au=async(e={})=>{const t=Sr.defaultsDeep({},e,eu),n=gu();if(f.currentWorld=n,f.initOptions=t,f.offlineMode=!1,f.publicPath=t.publicPath,t.type!==Ee.SERVER&&globalThis.navigator&&globalThis.window){const s=_o(),r=Yi(navigator.userAgent);window.iOS=r==="iOS"||/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,window.safariWebBrowser=s?.name==="safari",f.isHMD=/Oculus/i.test(navigator.userAgent),f.xrSupported=await navigator.xr?.isSessionSupported("immersive-vr")}t.type===Ee.CLIENT?await Eu(t):t.type===Ee.EDITOR?await _u(t):t.type===Ee.SERVER?await mr(t):t.type===Ee.MEDIA&&await mr(t,!0),await n.physics.createScene(),await n.initSystems();const i=(s,r)=>{for(const o of f.worlds)f.currentWorld=o,o.execute(s,r);f.currentWorld=null};if(f.engineTimer=Sl(i),t.type===Ee.CLIENT){I.instance.once(I.EVENTS.SCENE_LOADED,()=>{f.engineTimer.start()});const s=()=>{f.hasEngaged=!0,I.instance.dispatchEvent({type:I.EVENTS.USER_ENGAGE}),["click","touchstart","touchend","pointerdown"].forEach(r=>{window.addEventListener(r,s)})};["click","touchstart","touchend","pointerdown"].forEach(r=>{window.addEventListener(r,s)}),I.instance.once(I.EVENTS.CONNECT,({id:r})=>{Jt.instance.isInitialized=!0,f.userId=r})}else t.type===Ee.SERVER?(f.userId="server",f.engineTimer.start()):t.type===Ee.MEDIA&&(f.userId="mediaserver",f.engineTimer.start());f.isInitialized=!0,I.instance.dispatchEvent({type:I.EVENTS.INITIALIZED_ENGINE})},Ou=Ye.exports.lazy(()=>C(()=>import("./EditorContainer.56baebbd.js"),["assets/EditorContainer.56baebbd.js","assets/EditorContainer.e42b09cb.css","assets/_app.f0a72417.js","assets/_app.414351c7.css","assets/vendor.475cb2ff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/projectFunctions.0b423c97.js","assets/projectFunctions.9c5356f8.css","assets/upload.bd537b46.js","assets/___vite-browser-external_commonjs-proxy.0e203c6e.js","assets/__vite-browser-external.b6126e45.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/SystemUpdateType.772fc25d.js","assets/index.81138b53.js","assets/_baseIteratee.d1a5d142.js","assets/index.ebe70c7a.js","assets/createSvgIcon.896642b4.js","assets/capitalize.fc001633.js","assets/useControlled.8dca0ac1.js","assets/useFormControl.a2039fae.js","assets/IconButton.ce216bbb.js","assets/ButtonBase.fb193a96.js","assets/createSvgIcon.57924123.js","assets/ownerWindow.3d7152ce.js","assets/index.2272cc2f.js","assets/SceneService.306da1a6.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js"])),Ru=e=>{const t=gr(),n=Er(),i=n.authUser,s=n.user,[r,o]=Ye.exports.useState(!1),[a,c]=Ye.exports.useState(!1),l={type:Ee.EDITOR,publicPath:location.origin};return Ye.exports.useEffect(()=>{Au(l).then(()=>{console.log("Setting engine inited"),c(!0)})},[]),Ye.exports.useEffect(()=>o(!0),[]),Ye.exports.useEffect(()=>{t(Pr.doLoginAuto(!0))},[]),r&&Pt.createElement(Ye.exports.Suspense,{fallback:Pt.Fragment},i?.accessToken.value!=null&&i.accessToken.value.length>0&&s?.id.value!=null&&a?Pt.createElement(Pt.Fragment,null,Pt.createElement(Ou,{Engine:f,...e})):null)};var Zu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ru});export{ye as A,X as B,ba as C,Qu as D,zu as E,la as F,je as G,Os as H,Jn as I,zc as J,$c as K,Ws as L,q as M,Yt as N,ce as O,Lt as P,qu as Q,As as R,Vu as S,pn as T,Hu as U,ni as V,he as W,qt as X,Bu as Y,Ku as Z,Zu as _,N as a,L as b,Qs as c,Us as d,He as e,Gs as f,iu as g,$u as h,Nc as i,Yu as j,Ju as k,di as l,F as m,ot as n,Gu as o,fi as p,Bl as q,Uu as r,ku as s,ju as t,Xu as u,Ss as v,Wu as w,da as x,Ai as y,Kc as z};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiW3Byb2plY3RJZF0uYTAwOGQyMGMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZXRlY3QtYnJvd3Nlci9lcy9pbmRleC5qcyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvYXVkaW8vU3RlcmVvQXVkaW9MaXN0ZW5lci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9Db25zdGFudHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvTWVzaEJWSE5vZGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0FycmF5Qm94VXRpbGl0aWVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2J1aWxkRnVuY3Rpb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9tYXRoL1NlcGFyYXRpbmdBeGlzQm91bmRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9tYXRoL01hdGhVdGlsaXRpZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL21hdGgvU2VwYXJhdGluZ0F4aXNUcmlhbmdsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvbWF0aC9PcmllbnRlZEJveC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvVGhyZWVSYXlJbnRlcnNlY3RVdGlsaXRpZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL3V0aWxzL0dlb21ldHJ5UmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy91dGlscy9UcmlhbmdsZVV0aWxpdGllcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvUHJpbWl0aXZlUG9vbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvY29yZS9ub2RlQnVmZmVyRnVuY3Rpb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlLW1lc2gtYnZoL3NyYy9jb3JlL2Nhc3RGdW5jdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUtbWVzaC1idmgvc3JjL2NvcmUvTWVzaEJWSC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS1tZXNoLWJ2aC9zcmMvdXRpbHMvRXh0ZW5zaW9uVXRpbGl0aWVzLmpzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1NwYXduUG9pbnRDb21wb25lbnQudHMiLCIuLi8uLi8uLi9jb21tb24vc3JjL2NvbnN0YW50cy9BdmF0YXJDb25zdGFudHMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2lucHV0L2NvbXBvbmVudHMvSW5wdXRDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3BoeXNpY3MvY2xhc3Nlcy9zcHJpbmdzL1NpbXVsYXRvckJhc2UudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3BoeXNpY3MvY2xhc3Nlcy9zcHJpbmdzL1ZlY3RvclNwcmluZ1NpbXVsYXRvci50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY2FtZXJhL2NvbXBvbmVudHMvRm9sbG93Q2FtZXJhQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9jYW1lcmEvY29tcG9uZW50cy9UYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tbW9uL2VudW1zL0xpZmVjeWNsZVZhbHVlLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21tb24vZW51bXMvUGFyaXR5VmFsdWUudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbW1vbi9mdW5jdGlvbnMvRnVuY3Rpb25IZWxwZXJzLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9pbnB1dC9lbnVtcy9CYXNlSW5wdXQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2lucHV0L2VudW1zL0lucHV0RW51bXMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2lucHV0L2VudW1zL0lucHV0VHlwZS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvaW50ZXJhY3Rpb24vY29tcG9uZW50cy9JbnRlcmFjdGVkQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9pbnRlcmFjdGlvbi9jb21wb25lbnRzL0ludGVyYWN0b3JDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2NvbXBvbmVudHMvT2JqZWN0M0RDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3hyL3R5cGVzL1hSVXNlclNldHRpbmdzLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvY29tcG9uZW50cy9BdmF0YXJDb250cm9sbGVyQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvZnVuY3Rpb25zL3N3aXRjaENhbWVyYU1vZGUudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9BdmF0YXJJbnB1dFNjaGVtYS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcGh5c2ljcy9jb21wb25lbnRzL1ZlbG9jaXR5Q29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9waHlzaWNzL2VudW1zL0NvbGxpc2lvbkdyb3Vwcy50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcGh5c2ljcy9jb21wb25lbnRzL0NvbGxpZGVyQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9waHlzaWNzL2NvbXBvbmVudHMvUmF5Y2FzdENvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvR3VhcmRQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvdXRpbHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9BbnlQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9BcnJheVBhcnNlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL0Jvb2xQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9Db25jYXRQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9EZWZhdWx0UGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvRnVuY3Rpb25QYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9NYXBwZWRBUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvTWF5YmVQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9OYW1lZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL05pbGxQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9OdW1iZXJQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9PYmplY3RQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9PclBhcnNlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL1NoYXBlUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvU3RyaW5nUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvVW5rbm93blBhcnNlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL1NpbXBsZVBhcnNlcnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9Tb21lUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvRXZlcnlQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9EaWN0aW9uYXJ5UGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvVHVwbGVQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbWF0Y2hlcy9saWIvcGFyc2Vycy9BcnJheU9mUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL3BhcnNlcnMvTGl0ZXJhbFBhcnNlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1tYXRjaGVzL2xpYi9wYXJzZXJzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLW1hdGNoZXMvbGliL21hdGNoZXMuanMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL25ldHdvcmtpbmcvaW50ZXJmYWNlcy9BY3Rpb24udHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9hbmltYXRpb25zL1V0aWwudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9hbmltYXRpb25zL0FuaW1hdGlvblN0YXRlLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL05hbWVDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3BoeXNpY3MvdHlwZXMvUGh5c2ljc1R5cGVzLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9waHlzaWNzL2NvbXBvbmVudHMvQ29sbGlzaW9uQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvY29tcG9uZW50cy9TcGF3blBvc2VDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL25ldHdvcmtpbmcvZnVuY3Rpb25zL2Rpc3BhdGNoRnJvbS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvbmV0d29ya2luZy9mdW5jdGlvbnMvaXNFbnRpdHlMb2NhbENsaWVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvdHJhbnNmb3JtL1RyYW5zZm9ybUludGVyZmFjZXMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL25ldHdvcmtpbmcvaW50ZXJmYWNlcy9Xb3JsZFN0YXRlLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9uZXR3b3JraW5nL2Z1bmN0aW9ucy9OZXR3b3JrV29ybGRBY3Rpb24udHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2lucHV0L2NvbXBvbmVudHMvTG9jYWxJbnB1dFRhZ0NvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvYXZhdGFyL2NvbXBvbmVudHMvWFJJbnB1dFNvdXJjZUNvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvYXZhdGFyL2Z1bmN0aW9ucy9tb3ZlQXZhdGFyLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1BvcnRhbENvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcGh5c2ljcy9mdW5jdGlvbnMvZ2V0Q29udHJvbGxlckNvbGxpc2lvbnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9mdW5jdGlvbnMvZGV0ZWN0VXNlckluUG9ydGFsLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvZnVuY3Rpb25zL3Jlc3Bhd25BdmF0YXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9BdmF0YXJDb250cm9sbGVyU3lzdGVtLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvYW5pbWF0aW9ucy9BbmltYXRpb25HcmFwaC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvYXZhdGFyL2FuaW1hdGlvbnMvQXZhdGFyQW5pbWF0aW9uR3JhcGgudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F1ZGlvL2NvbXBvbmVudHMvQXVkaW9UYWdDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2NvbXBvbmVudHMvU2hhZG93Q29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1BlcnNpc3RUYWdDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F2YXRhci9mdW5jdGlvbnMvY3JlYXRlQXZhdGFyLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hdmF0YXIvQXZhdGFyU3Bhd25TeXN0ZW0udHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2JvdC9lbnVtcy9Cb3RIb29rcy50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvYm90L2Z1bmN0aW9ucy94ckJvdEhvb2tGdW5jdGlvbnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2JvdC9mdW5jdGlvbnMvYm90SG9va0Z1bmN0aW9ucy50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tbW9uL2Z1bmN0aW9ucy9ub3dNaWxsaXNlY29uZHMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbW1vbi9mdW5jdGlvbnMvVGltZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbW1vbi9mdW5jdGlvbnMvZ2V0RW52aXJvbm1lbnQudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2FmYXJpLTE0LWlkYi1maXgvZGlzdC9lc20vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaWRiLWtleXZhbC9kaXN0L2VzbS9pbmRleC5qcyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tbW9uL2NsYXNzZXMvQ2xpZW50U3RvcmFnZS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcmVuZGVyZXIvV2ViR0xSZW5kZXJlclN5c3RlbS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvZWNzL2Z1bmN0aW9ucy9FbnRpdHlGdW5jdGlvbnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2ludGVyYWN0aW9uL2NvbXBvbmVudHMvSW50ZXJhY3RhYmxlQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9waHlzaWNzL3BoeXN4L2xvYWRQaHlzWC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcGh5c2ljcy9mdW5jdGlvbnMvcGh5c3hIZWxwZXJzLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9waHlzaWNzL2NsYXNzZXMvUGh5c2ljcy50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvcGh5c2ljcy9mdW5jdGlvbnMvY3JlYXRlQ29sbGlkZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3RyYW5zZm9ybS9jb21wb25lbnRzL0NvcHlUcmFuc2Zvcm1Db21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2NvbXBvbmVudHMvQXVkaW9TZXR0aW5nc0NvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvc2NlbmUvY29tcG9uZW50cy9TY2VuZVByZXZpZXdDYW1lcmEudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2NvbXBvbmVudHMvVXBkYXRhYmxlQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1VzZXJkYXRhQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1Zpc2libGVDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL25hdmlnYXRpb24vY29tcG9uZW50L05hdk1lc2hDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2Z1bmN0aW9ucy9jcmVhdGVHcm91bmQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2RlYnVnL0RlYnVnTmF2TWVzaENvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvbWFwL0dlb0xhYmVsU2V0Q29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL1ZvbHVtZXRyaWNDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2NvbXBvbmVudHMvUmVuZGVyZWRDb21wb25lbnQudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2F1ZGlvL2NvbXBvbmVudHMvUG9zaXRpb25hbEF1ZGlvQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9mdW5jdGlvbnMvY3JlYXRlTWVkaWEudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2Fzc2V0cy9mb250L0ZvbnRMb2FkZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3hydWkvY2xhc3Nlcy9Gb250TWFuYWdlci50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvc2NlbmUvZnVuY3Rpb25zL2NyZWF0ZVBvcnRhbC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvc2NlbmUvY29tcG9uZW50cy9UcmlnZ2VyVm9sdW1lQ29tcG9uZW50LnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hc3NldHMvY3NtL0ZydXN0dW0udHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2Fzc2V0cy9jc20vU2hhZGVyLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9hc3NldHMvY3NtL0NTTS50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItd29ya2VyL2Nqcy9icm93c2VyLmpzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21tb24vY2xhc3Nlcy9HZW5lcmF0ZU1lc2hCVkhXb3JrZXIudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3NjZW5lL2Z1bmN0aW9ucy9idmhXb3JrZXJQb29sLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9zeXN0ZW1zL1NjZW5lT2JqZWN0U3lzdGVtLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9zY2VuZS9jb21wb25lbnRzL0ZvZ0NvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvc2NlbmUvZnVuY3Rpb25zL1NjZW5lTG9hZGluZy50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvZWNzL2Z1bmN0aW9ucy9TeXN0ZW1GdW5jdGlvbnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL25ldHdvcmtpbmcvdGVtcGxhdGVzL0RlZmF1bHROZXR3b3JrU2NoZW1hLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9pbml0aWFsaXphdGlvbk9wdGlvbnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbW1vbi9lbnVtcy9CaW5hcnlWYWx1ZS50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvaW5wdXQvZnVuY3Rpb25zL0dhbWVwYWRJbnB1dC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvaW5wdXQvc2NoZW1hL0NsaWVudElucHV0U2NoZW1hLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9pbnB1dC9mdW5jdGlvbnMvY2xpZW50SW5wdXRMaXN0ZW5lcnMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL3JlbmRlcmVyL2Z1bmN0aW9ucy9jYW52YXMudHMiLCIuLi8uLi8uLi9lbmdpbmUvc3JjL2Vjcy9jbGFzc2VzL1dvcmxkLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9pbml0aWFsaXplRW5naW5lLnRzIiwiLi4vLi4vLi4vZWRpdG9yL3NyYy9wYWdlcy9wcm9qZWN0cy9bcHJvamVjdElkXS50c3giXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG52YXIgQnJvd3NlckluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5vcyA9IG9zO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnJvd3Nlcic7XG4gICAgfVxuICAgIHJldHVybiBCcm93c2VySW5mbztcbn0oKSk7XG5leHBvcnQgeyBCcm93c2VySW5mbyB9O1xudmFyIE5vZGVJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGVJbmZvKHZlcnNpb24pIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy50eXBlID0gJ25vZGUnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMub3MgPSBwcm9jZXNzLnBsYXRmb3JtO1xuICAgIH1cbiAgICByZXR1cm4gTm9kZUluZm87XG59KCkpO1xuZXhwb3J0IHsgTm9kZUluZm8gfTtcbnZhciBTZWFyY2hCb3REZXZpY2VJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlYXJjaEJvdERldmljZUluZm8obmFtZSwgdmVyc2lvbiwgb3MsIGJvdCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMuYm90ID0gYm90O1xuICAgICAgICB0aGlzLnR5cGUgPSAnYm90LWRldmljZSc7XG4gICAgfVxuICAgIHJldHVybiBTZWFyY2hCb3REZXZpY2VJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFNlYXJjaEJvdERldmljZUluZm8gfTtcbnZhciBCb3RJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdEluZm8oKSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QnO1xuICAgICAgICB0aGlzLmJvdCA9IHRydWU7IC8vIE5PVEU6IGRlcHJlY2F0ZWQgdGVzdCBuYW1lIGluc3RlYWRcbiAgICAgICAgdGhpcy5uYW1lID0gJ2JvdCc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQm90SW5mbztcbn0oKSk7XG5leHBvcnQgeyBCb3RJbmZvIH07XG52YXIgUmVhY3ROYXRpdmVJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlYWN0TmF0aXZlSW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdyZWFjdC1uYXRpdmUnO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9zID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBSZWFjdE5hdGl2ZUluZm8gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbnZhciBTRUFSQ0hCT1hfVUFfUkVHRVggPSAvYWxleGF8Ym90fGNyYXdsKGVyfGluZyl8ZmFjZWJvb2tleHRlcm5hbGhpdHxmZWVkYnVybmVyfGdvb2dsZSB3ZWIgcHJldmlld3xuYWdpb3N8cG9zdHJhbmt8cGluZ2RvbXxzbHVycHxzcGlkZXJ8eWFob28hfHlhbmRleC87XG52YXIgU0VBUkNIQk9UX09TX1JFR0VYID0gLyhudWhrfEdvb2dsZWJvdHxZYW1teWJvdHxPcGVuYm90fFNsdXJwfE1TTkJvdHxBc2tcXCBKZWV2ZXNcXC9UZW9tYXxpYV9hcmNoaXZlcikvO1xudmFyIFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgPSAzO1xudmFyIHVzZXJBZ2VudFJ1bGVzID0gW1xuICAgIFsnYW9sJywgL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsnZWRnZScsIC9FZGdlXFwvKFswLTlcXC5fXSspL10sXG4gICAgWydlZGdlLWlvcycsIC9FZGdpT1NcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ3lhbmRleGJyb3dzZXInLCAvWWFCcm93c2VyXFwvKFswLTlcXC5fXSspL10sXG4gICAgWydrYWthb3RhbGsnLCAvS0FLQU9UQUxLXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ3NhbXN1bmcnLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnc2lsaycsIC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxcbiAgICBbJ21pdWknLCAvTWl1aUJyb3dzZXJcXC8oWzAtOVxcLl0rKSQvXSxcbiAgICBbJ2JlYWtlcicsIC9CZWFrZXJCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2VkZ2UtY2hyb21pdW0nLCAvRWRnQT9cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFtcbiAgICAgICAgJ2Nocm9taXVtLXdlYnZpZXcnLFxuICAgICAgICAvKD8hQ2hyb20uKk9QUil3dlxcKS4qQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS8sXG4gICAgXSxcbiAgICBbJ2Nocm9tZScsIC8oPyFDaHJvbS4qT1BSKUNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ3BoYW50b21qcycsIC9QaGFudG9tSlNcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxuICAgIFsnY3Jpb3MnLCAvQ3JpT1NcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxuICAgIFsnZmlyZWZveCcsIC9GaXJlZm94XFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcbiAgICBbJ2Z4aW9zJywgL0Z4aU9TXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ29wZXJhLW1pbmknLCAvT3BlcmEgTWluaS4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sXG4gICAgWydvcGVyYScsIC9PcGVyYVxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gICAgWydvcGVyYScsIC9PUFJcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxuICAgIFsnaWUnLCAvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC9dLFxuICAgIFsnaWUnLCAvTVNJRVxccyhbMC05XFwuXSspOy4qVHJpZGVudFxcL1s0LTddLjAvXSxcbiAgICBbJ2llJywgL01TSUVcXHMoN1xcLjApL10sXG4gICAgWydiYjEwJywgL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnYW5kcm9pZCcsIC9BbmRyb2lkXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ2lvcycsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipNb2JpbGUuKlNhZmFyaS4qL10sXG4gICAgWydzYWZhcmknLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpL10sXG4gICAgWydmYWNlYm9vaycsIC9GQkFWXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2luc3RhZ3JhbScsIC9JbnN0YWdyYW1cXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsnaW9zLXdlYnZpZXcnLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qTW9iaWxlL10sXG4gICAgWydpb3Mtd2VidmlldycsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipHZWNrb1xcKSQvXSxcbiAgICBbJ3NlYXJjaGJvdCcsIFNFQVJDSEJPWF9VQV9SRUdFWF0sXG5dO1xudmFyIG9wZXJhdGluZ1N5c3RlbVJ1bGVzID0gW1xuICAgIFsnaU9TJywgL2lQKGhvbmV8b2R8YWQpL10sXG4gICAgWydBbmRyb2lkIE9TJywgL0FuZHJvaWQvXSxcbiAgICBbJ0JsYWNrQmVycnkgT1MnLCAvQmxhY2tCZXJyeXxCQjEwL10sXG4gICAgWydXaW5kb3dzIE1vYmlsZScsIC9JRU1vYmlsZS9dLFxuICAgIFsnQW1hem9uIE9TJywgL0tpbmRsZS9dLFxuICAgIFsnV2luZG93cyAzLjExJywgL1dpbjE2L10sXG4gICAgWydXaW5kb3dzIDk1JywgLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFxuICAgIFsnV2luZG93cyA5OCcsIC8oV2luZG93cyA5OCl8KFdpbjk4KS9dLFxuICAgIFsnV2luZG93cyAyMDAwJywgLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxcbiAgICBbJ1dpbmRvd3MgWFAnLCAvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxcbiAgICBbJ1dpbmRvd3MgU2VydmVyIDIwMDMnLCAvKFdpbmRvd3MgTlQgNS4yKS9dLFxuICAgIFsnV2luZG93cyBWaXN0YScsIC8oV2luZG93cyBOVCA2LjApL10sXG4gICAgWydXaW5kb3dzIDcnLCAvKFdpbmRvd3MgTlQgNi4xKS9dLFxuICAgIFsnV2luZG93cyA4JywgLyhXaW5kb3dzIE5UIDYuMikvXSxcbiAgICBbJ1dpbmRvd3MgOC4xJywgLyhXaW5kb3dzIE5UIDYuMykvXSxcbiAgICBbJ1dpbmRvd3MgMTAnLCAvKFdpbmRvd3MgTlQgMTAuMCkvXSxcbiAgICBbJ1dpbmRvd3MgTUUnLCAvV2luZG93cyBNRS9dLFxuICAgIFsnT3BlbiBCU0QnLCAvT3BlbkJTRC9dLFxuICAgIFsnU3VuIE9TJywgL1N1bk9TL10sXG4gICAgWydDaHJvbWUgT1MnLCAvQ3JPUy9dLFxuICAgIFsnTGludXgnLCAvKExpbnV4KXwoWDExKS9dLFxuICAgIFsnTWFjIE9TJywgLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvXSxcbiAgICBbJ1FOWCcsIC9RTlgvXSxcbiAgICBbJ0JlT1MnLCAvQmVPUy9dLFxuICAgIFsnT1MvMicsIC9PU1xcLzIvXSxcbl07XG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0KHVzZXJBZ2VudCkge1xuICAgIGlmICghIXVzZXJBZ2VudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VVc2VyQWdlbnQodXNlckFnZW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFjdE5hdGl2ZUluZm8oKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGdldE5vZGVWZXJzaW9uKCk7XG59XG5mdW5jdGlvbiBtYXRjaFVzZXJBZ2VudCh1YSkge1xuICAgIC8vIG9wdGVkIGZvciB1c2luZyByZWR1Y2UgaGVyZSByYXRoZXIgdGhhbiBBcnJheSNmaXJzdCB3aXRoIGEgcmVnZXgudGVzdCBjYWxsXG4gICAgLy8gdGhpcyBpcyBwcmltYXJpbHkgYmVjYXVzZSB1c2luZyB0aGUgcmVkdWNlIHdlIG9ubHkgcGVyZm9ybSB0aGUgcmVnZXhcbiAgICAvLyBleGVjdXRpb24gb25jZSByYXRoZXIgdGhhbiBvbmNlIGZvciB0aGUgdGVzdCBhbmQgZm9yIHRoZSBleGVjIGFnYWluIGJlbG93XG4gICAgLy8gcHJvYmFibHkgc29tZXRoaW5nIHRoYXQgbmVlZHMgdG8gYmUgYmVuY2htYXJrZWQgdGhvdWdoXG4gICAgcmV0dXJuICh1YSAhPT0gJycgJiZcbiAgICAgICAgdXNlckFnZW50UnVsZXMucmVkdWNlKGZ1bmN0aW9uIChtYXRjaGVkLCBfYSkge1xuICAgICAgICAgICAgdmFyIGJyb3dzZXIgPSBfYVswXSwgcmVnZXggPSBfYVsxXTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdWFNYXRjaCA9IHJlZ2V4LmV4ZWModWEpO1xuICAgICAgICAgICAgcmV0dXJuICEhdWFNYXRjaCAmJiBbYnJvd3NlciwgdWFNYXRjaF07XG4gICAgICAgIH0sIGZhbHNlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnJvd3Nlck5hbWUodWEpIHtcbiAgICB2YXIgZGF0YSA9IG1hdGNoVXNlckFnZW50KHVhKTtcbiAgICByZXR1cm4gZGF0YSA/IGRhdGFbMF0gOiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVhKSB7XG4gICAgdmFyIG1hdGNoZWRSdWxlID0gbWF0Y2hVc2VyQWdlbnQodWEpO1xuICAgIGlmICghbWF0Y2hlZFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBuYW1lID0gbWF0Y2hlZFJ1bGVbMF0sIG1hdGNoID0gbWF0Y2hlZFJ1bGVbMV07XG4gICAgaWYgKG5hbWUgPT09ICdzZWFyY2hib3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQm90SW5mbygpO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvblBhcnRzID0gbWF0Y2hbMV0gJiYgbWF0Y2hbMV0uc3BsaXQoL1suX10vKS5zbGljZSgwLCAzKTtcbiAgICBpZiAodmVyc2lvblBhcnRzKSB7XG4gICAgICAgIGlmICh2ZXJzaW9uUGFydHMubGVuZ3RoIDwgUkVRVUlSRURfVkVSU0lPTl9QQVJUUykge1xuICAgICAgICAgICAgdmVyc2lvblBhcnRzID0gX19zcHJlYWRBcnJheXModmVyc2lvblBhcnRzLCBjcmVhdGVWZXJzaW9uUGFydHMoUkVRVUlSRURfVkVSU0lPTl9QQVJUUyAtIHZlcnNpb25QYXJ0cy5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVyc2lvblBhcnRzID0gW107XG4gICAgfVxuICAgIHZhciB2ZXJzaW9uID0gdmVyc2lvblBhcnRzLmpvaW4oJy4nKTtcbiAgICB2YXIgb3MgPSBkZXRlY3RPUyh1YSk7XG4gICAgdmFyIHNlYXJjaEJvdE1hdGNoID0gU0VBUkNIQk9UX09TX1JFR0VYLmV4ZWModWEpO1xuICAgIGlmIChzZWFyY2hCb3RNYXRjaCAmJiBzZWFyY2hCb3RNYXRjaFsxXSkge1xuICAgICAgICByZXR1cm4gbmV3IFNlYXJjaEJvdERldmljZUluZm8obmFtZSwgdmVyc2lvbiwgb3MsIHNlYXJjaEJvdE1hdGNoWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCcm93c2VySW5mbyhuYW1lLCB2ZXJzaW9uLCBvcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0T1ModWEpIHtcbiAgICBmb3IgKHZhciBpaSA9IDAsIGNvdW50ID0gb3BlcmF0aW5nU3lzdGVtUnVsZXMubGVuZ3RoOyBpaSA8IGNvdW50OyBpaSsrKSB7XG4gICAgICAgIHZhciBfYSA9IG9wZXJhdGluZ1N5c3RlbVJ1bGVzW2lpXSwgb3MgPSBfYVswXSwgcmVnZXggPSBfYVsxXTtcbiAgICAgICAgdmFyIG1hdGNoID0gcmVnZXguZXhlYyh1YSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIG9zO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVWZXJzaW9uKCkge1xuICAgIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9uO1xuICAgIHJldHVybiBpc05vZGUgPyBuZXcgTm9kZUluZm8ocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDEpKSA6IG51bGw7XG59XG5mdW5jdGlvbiBjcmVhdGVWZXJzaW9uUGFydHMoY291bnQpIHtcbiAgICB2YXIgb3V0cHV0ID0gW107XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNvdW50OyBpaSsrKSB7XG4gICAgICAgIG91dHB1dC5wdXNoKCcwJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uLCBDbG9jaywgT2JqZWN0M0QsIEF1ZGlvQ29udGV4dCB9IGZyb20gJ3RocmVlJztcblxuY29uc3QgX3Bvc2l0aW9uID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3F1YXRlcm5pb24gPSAvKkBfX1BVUkVfXyovIG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCBfc2NhbGUgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfb3JpZW50YXRpb24gPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNsYXNzIEF1ZGlvTGlzdGVuZXIgZXh0ZW5kcyBPYmplY3QzRCB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHRzdXBlcigpO1xuXG5cdFx0dGhpcy50eXBlID0gJ0F1ZGlvTGlzdGVuZXInO1xuXG5cdFx0dGhpcy5jb250ZXh0ID0gQXVkaW9Db250ZXh0LmdldENvbnRleHQoKTtcblxuXHRcdHRoaXMuZ2FpbiA9IHRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7XG5cdFx0dGhpcy5nYWluLmNvbm5lY3QoIHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiApO1xuXG5cdFx0dGhpcy5maWx0ZXIgPSBudWxsO1xuXG5cdFx0dGhpcy50aW1lRGVsdGEgPSAwO1xuXG5cdFx0Ly8gcHJpdmF0ZVxuXG5cdFx0dGhpcy5fY2xvY2sgPSBuZXcgQ2xvY2soKTtcblxuXHR9XG5cblx0Z2V0SW5wdXQoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5nYWluO1xuXG5cdH1cblxuXHRyZW1vdmVGaWx0ZXIoKSB7XG5cblx0XHRpZiAoIHRoaXMuZmlsdGVyICE9PSBudWxsICkge1xuXG5cdFx0XHR0aGlzLmdhaW4uZGlzY29ubmVjdCggdGhpcy5maWx0ZXIgKTtcblx0XHRcdHRoaXMuZmlsdGVyLmRpc2Nvbm5lY3QoIHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiApO1xuXHRcdFx0dGhpcy5nYWluLmNvbm5lY3QoIHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiApO1xuXHRcdFx0dGhpcy5maWx0ZXIgPSBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldEZpbHRlcigpIHtcblxuXHRcdHJldHVybiB0aGlzLmZpbHRlcjtcblxuXHR9XG5cblx0c2V0RmlsdGVyKCB2YWx1ZSApIHtcblxuXHRcdGlmICggdGhpcy5maWx0ZXIgIT09IG51bGwgKSB7XG5cblx0XHRcdHRoaXMuZ2Fpbi5kaXNjb25uZWN0KCB0aGlzLmZpbHRlciApO1xuXHRcdFx0dGhpcy5maWx0ZXIuZGlzY29ubmVjdCggdGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLmdhaW4uZGlzY29ubmVjdCggdGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLmZpbHRlciA9IHZhbHVlO1xuXHRcdHRoaXMuZ2Fpbi5jb25uZWN0KCB0aGlzLmZpbHRlciApO1xuXHRcdHRoaXMuZmlsdGVyLmNvbm5lY3QoIHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGdldE1hc3RlclZvbHVtZSgpIHtcblxuXHRcdHJldHVybiB0aGlzLmdhaW4uZ2Fpbi52YWx1ZTtcblxuXHR9XG5cblx0c2V0TWFzdGVyVm9sdW1lKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuZ2Fpbi5nYWluLnNldFRhcmdldEF0VGltZSggdmFsdWUsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwgMC4wMSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVwZGF0ZU1hdHJpeFdvcmxkKCBmb3JjZSApIHtcblxuXHRcdHN1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKCBmb3JjZSApO1xuXG5cdFx0dGhpcy50aW1lRGVsdGEgPSB0aGlzLl9jbG9jay5nZXREZWx0YSgpO1xuXG5cdFx0dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoIF9wb3NpdGlvbiwgX3F1YXRlcm5pb24sIF9zY2FsZSApO1xuXG5cdH1cblxufVxuXG5leHBvcnQgeyBBdWRpb0xpc3RlbmVyIH07XG4iLCIvLyBTcGxpdCBzdHJhdGVneSBjb25zdGFudHNcclxuZXhwb3J0IGNvbnN0IENFTlRFUiA9IDA7XHJcbmV4cG9ydCBjb25zdCBBVkVSQUdFID0gMTtcclxuZXhwb3J0IGNvbnN0IFNBSCA9IDI7XHJcblxyXG4vLyBUcmF2ZXJzYWwgY29uc3RhbnRzXHJcbmV4cG9ydCBjb25zdCBOT1RfSU5URVJTRUNURUQgPSAwO1xyXG5leHBvcnQgY29uc3QgSU5URVJTRUNURUQgPSAxO1xyXG5leHBvcnQgY29uc3QgQ09OVEFJTkVEID0gMjtcclxuXHJcbi8vIFNBSCBjb3N0IGNvbnN0YW50c1xyXG4vLyBUT0RPOiBob25lIHRoZXNlIGNvc3RzIG1vcmUuIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbSBzaG91bGQgYmUgdGhlXHJcbi8vIGRpZmZlcmVuY2UgaW4gbWVhc3VyZWQgdGltZSB0byBwZXJmb3JtIGEgdHJpYW5nbGUgaW50ZXJzZWN0aW9uIHZzIHRyYXZlcnNpbmdcclxuLy8gYm91bmRzLlxyXG5leHBvcnQgY29uc3QgVFJJQU5HTEVfSU5URVJTRUNUX0NPU1QgPSAxLjI1O1xyXG5leHBvcnQgY29uc3QgVFJBVkVSU0FMX0NPU1QgPSAxO1xyXG4iLCJleHBvcnQgY2xhc3MgTWVzaEJWSE5vZGUge1xyXG5cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHJcblx0XHQvLyBpbnRlcm5hbCBub2RlcyBoYXZlIGJvdW5kaW5nRGF0YSwgbGVmdCwgcmlnaHQsIGFuZCBzcGxpdEF4aXNcclxuXHRcdC8vIGxlYWYgbm9kZXMgaGF2ZSBvZmZzZXQgYW5kIGNvdW50IChyZWZlcnJpbmcgdG8gcHJpbWl0aXZlcyBpbiB0aGUgbWVzaCBnZW9tZXRyeSlcclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gYXJyYXlUb0JveCggbm9kZUluZGV4MzIsIGFycmF5LCB0YXJnZXQgKSB7XHJcblxyXG5cdHRhcmdldC5taW4ueCA9IGFycmF5WyBub2RlSW5kZXgzMiBdO1xyXG5cdHRhcmdldC5taW4ueSA9IGFycmF5WyBub2RlSW5kZXgzMiArIDEgXTtcclxuXHR0YXJnZXQubWluLnogPSBhcnJheVsgbm9kZUluZGV4MzIgKyAyIF07XHJcblxyXG5cdHRhcmdldC5tYXgueCA9IGFycmF5WyBub2RlSW5kZXgzMiArIDMgXTtcclxuXHR0YXJnZXQubWF4LnkgPSBhcnJheVsgbm9kZUluZGV4MzIgKyA0IF07XHJcblx0dGFyZ2V0Lm1heC56ID0gYXJyYXlbIG5vZGVJbmRleDMyICsgNSBdO1xyXG5cclxuXHRyZXR1cm4gdGFyZ2V0O1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvbmdlc3RFZGdlSW5kZXgoIGJvdW5kcyApIHtcclxuXHJcblx0bGV0IHNwbGl0RGltSWR4ID0gLSAxO1xyXG5cdGxldCBzcGxpdERpc3QgPSAtIEluZmluaXR5O1xyXG5cclxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdGNvbnN0IGRpc3QgPSBib3VuZHNbIGkgKyAzIF0gLSBib3VuZHNbIGkgXTtcclxuXHRcdGlmICggZGlzdCA+IHNwbGl0RGlzdCApIHtcclxuXHJcblx0XHRcdHNwbGl0RGlzdCA9IGRpc3Q7XHJcblx0XHRcdHNwbGl0RGltSWR4ID0gaTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHNwbGl0RGltSWR4O1xyXG5cclxufVxyXG5cclxuLy8gY29weXMgYm91bmRzIGEgaW50byBib3VuZHMgYlxyXG5leHBvcnQgZnVuY3Rpb24gY29weUJvdW5kcyggc291cmNlLCB0YXJnZXQgKSB7XHJcblxyXG5cdHRhcmdldC5zZXQoIHNvdXJjZSApO1xyXG5cclxufVxyXG5cclxuLy8gc2V0cyBib3VuZHMgdGFyZ2V0IHRvIHRoZSB1bmlvbiBvZiBib3VuZHMgYSBhbmQgYlxyXG5leHBvcnQgZnVuY3Rpb24gdW5pb25Cb3VuZHMoIGEsIGIsIHRhcmdldCApIHtcclxuXHJcblx0bGV0IGFWYWwsIGJWYWw7XHJcblx0Zm9yICggbGV0IGQgPSAwOyBkIDwgMzsgZCArKyApIHtcclxuXHJcblx0XHRjb25zdCBkMyA9IGQgKyAzO1xyXG5cclxuXHRcdC8vIHNldCB0aGUgbWluaW11bSB2YWx1ZXNcclxuXHRcdGFWYWwgPSBhWyBkIF07XHJcblx0XHRiVmFsID0gYlsgZCBdO1xyXG5cdFx0dGFyZ2V0WyBkIF0gPSBhVmFsIDwgYlZhbCA/IGFWYWwgOiBiVmFsO1xyXG5cclxuXHRcdC8vIHNldCB0aGUgbWF4IHZhbHVlc1xyXG5cdFx0YVZhbCA9IGFbIGQzIF07XHJcblx0XHRiVmFsID0gYlsgZDMgXTtcclxuXHRcdHRhcmdldFsgZDMgXSA9IGFWYWwgPiBiVmFsID8gYVZhbCA6IGJWYWw7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbi8vIGNvbXB1dGUgYm91bmRzIHN1cmZhY2UgYXJlYVxyXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVN1cmZhY2VBcmVhKCBib3VuZHMgKSB7XHJcblxyXG5cdGNvbnN0IGQwID0gYm91bmRzWyAzIF0gLSBib3VuZHNbIDAgXTtcclxuXHRjb25zdCBkMSA9IGJvdW5kc1sgNCBdIC0gYm91bmRzWyAxIF07XHJcblx0Y29uc3QgZDIgPSBib3VuZHNbIDUgXSAtIGJvdW5kc1sgMiBdO1xyXG5cclxuXHRyZXR1cm4gMiAqICggZDAgKiBkMSArIGQxICogZDIgKyBkMiAqIGQwICk7XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEJ1ZmZlckF0dHJpYnV0ZSB9IGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgTWVzaEJWSE5vZGUgfSBmcm9tICcuL01lc2hCVkhOb2RlLmpzJztcclxuaW1wb3J0IHsgZ2V0TG9uZ2VzdEVkZ2VJbmRleCwgY29tcHV0ZVN1cmZhY2VBcmVhLCBjb3B5Qm91bmRzLCB1bmlvbkJvdW5kcyB9IGZyb20gJy4uL3V0aWxzL0FycmF5Qm94VXRpbGl0aWVzLmpzJztcclxuaW1wb3J0IHsgQ0VOVEVSLCBBVkVSQUdFLCBTQUgsIFRSSUFOR0xFX0lOVEVSU0VDVF9DT1NULCBUUkFWRVJTQUxfQ09TVCB9IGZyb20gJy4vQ29uc3RhbnRzLmpzJztcclxuXHJcbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hY2hpbmVfZXBzaWxvbiNWYWx1ZXNfZm9yX3N0YW5kYXJkX2hhcmR3YXJlX2Zsb2F0aW5nX3BvaW50X2FyaXRobWV0aWNzXHJcbmNvbnN0IEZMT0FUMzJfRVBTSUxPTiA9IE1hdGgucG93KCAyLCAtIDI0ICk7XHJcblxyXG5mdW5jdGlvbiBlbnN1cmVJbmRleCggZ2VvLCBvcHRpb25zICkge1xyXG5cclxuXHRpZiAoICEgZ2VvLmluZGV4ICkge1xyXG5cclxuXHRcdGNvbnN0IHZlcnRleENvdW50ID0gZ2VvLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcblx0XHRjb25zdCBCdWZmZXJDb25zdHJ1Y3RvciA9IG9wdGlvbnMudXNlU2hhcmVkQXJyYXlCdWZmZXIgPyBTaGFyZWRBcnJheUJ1ZmZlciA6IEFycmF5QnVmZmVyO1xyXG5cdFx0bGV0IGluZGV4O1xyXG5cdFx0aWYgKCB2ZXJ0ZXhDb3VudCA+IDY1NTM1ICkge1xyXG5cclxuXHRcdFx0aW5kZXggPSBuZXcgVWludDMyQXJyYXkoIG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggNCAqIHZlcnRleENvdW50ICkgKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0aW5kZXggPSBuZXcgVWludDE2QXJyYXkoIG5ldyBCdWZmZXJDb25zdHJ1Y3RvciggMiAqIHZlcnRleENvdW50ICkgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Z2VvLnNldEluZGV4KCBuZXcgQnVmZmVyQXR0cmlidXRlKCBpbmRleCwgMSApICk7XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRpbmRleFsgaSBdID0gaTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbi8vIENvbXB1dGVzIHRoZSBzZXQgb2YgeyBvZmZzZXQsIGNvdW50IH0gcmFuZ2VzIHdoaWNoIG5lZWQgaW5kZXBlbmRlbnQgQlZIIHJvb3RzLiBFYWNoXHJcbi8vIHJlZ2lvbiBpbiB0aGUgZ2VvbWV0cnkgaW5kZXggdGhhdCBiZWxvbmdzIHRvIGEgZGlmZmVyZW50IHNldCBvZiBtYXRlcmlhbCBncm91cHMgcmVxdWlyZXNcclxuLy8gYSBzZXBhcmF0ZSBCVkggcm9vdCwgc28gdGhhdCB0cmlhbmdsZXMgaW5kaWNlcyBiZWxvbmdpbmcgdG8gb25lIGdyb3VwIG5ldmVyIGdldCBzd2FwcGVkXHJcbi8vIHdpdGggdHJpYW5nbGUgaW5kaWNlcyBiZWxvbmdzIHRvIGFub3RoZXIgZ3JvdXAuIEZvciBleGFtcGxlLCBpZiB0aGUgZ3JvdXBzIHdlcmUgbGlrZSB0aGlzOlxyXG4vL1xyXG4vLyBbLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLV1cclxuLy8gfF9fX19fX19fX19fX19fX19fX3xcclxuLy8gICBnMCA9IFswLCAyMF0gIHxfX19fX19fX19fX19fX19fX19fX19ffHxfX19fX19fX19fX19fX19fX19fX198XHJcbi8vICAgICAgICAgICAgICAgICAgICAgIGcxID0gWzE2LCA0MF0gICAgICAgICAgIGcyID0gWzQxLCA2MF1cclxuLy9cclxuLy8gd2Ugd291bGQgbmVlZCBmb3VyIEJWSCByb290czogWzAsIDE1XSwgWzE2LCAyMF0sIFsyMSwgNDBdLCBbNDEsIDYwXS5cclxuZnVuY3Rpb24gZ2V0Um9vdEluZGV4UmFuZ2VzKCBnZW8gKSB7XHJcblxyXG5cdGlmICggISBnZW8uZ3JvdXBzIHx8ICEgZ2VvLmdyb3Vwcy5sZW5ndGggKSB7XHJcblxyXG5cdFx0cmV0dXJuIFsgeyBvZmZzZXQ6IDAsIGNvdW50OiBnZW8uaW5kZXguY291bnQgLyAzIH0gXTtcclxuXHJcblx0fVxyXG5cclxuXHRjb25zdCByYW5nZXMgPSBbXTtcclxuXHRjb25zdCByYW5nZUJvdW5kYXJpZXMgPSBuZXcgU2V0KCk7XHJcblx0Zm9yICggY29uc3QgZ3JvdXAgb2YgZ2VvLmdyb3VwcyApIHtcclxuXHJcblx0XHRyYW5nZUJvdW5kYXJpZXMuYWRkKCBncm91cC5zdGFydCApO1xyXG5cdFx0cmFuZ2VCb3VuZGFyaWVzLmFkZCggZ3JvdXAuc3RhcnQgKyBncm91cC5jb3VudCApO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIG5vdGUgdGhhdCBpZiB5b3UgZG9uJ3QgcGFzcyBpbiBhIGNvbXBhcmF0b3IsIGl0IHNvcnRzIHRoZW0gbGV4aWNvZ3JhcGhpY2FsbHkgYXMgc3RyaW5ncyA6LShcclxuXHRjb25zdCBzb3J0ZWRCb3VuZGFyaWVzID0gQXJyYXkuZnJvbSggcmFuZ2VCb3VuZGFyaWVzLnZhbHVlcygpICkuc29ydCggKCBhLCBiICkgPT4gYSAtIGIgKTtcclxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBzb3J0ZWRCb3VuZGFyaWVzLmxlbmd0aCAtIDE7IGkgKysgKSB7XHJcblxyXG5cdFx0Y29uc3Qgc3RhcnQgPSBzb3J0ZWRCb3VuZGFyaWVzWyBpIF0sIGVuZCA9IHNvcnRlZEJvdW5kYXJpZXNbIGkgKyAxIF07XHJcblx0XHRyYW5nZXMucHVzaCggeyBvZmZzZXQ6ICggc3RhcnQgLyAzICksIGNvdW50OiAoIGVuZCAtIHN0YXJ0ICkgLyAzIH0gKTtcclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmFuZ2VzO1xyXG5cclxufVxyXG5cclxuLy8gY29tcHV0ZXMgdGhlIHVuaW9uIG9mIHRoZSBib3VuZHMgb2YgYWxsIG9mIHRoZSBnaXZlbiB0cmlhbmdsZXMgYW5kIHB1dHMgdGhlIHJlc3VsdGluZyBib3ggaW4gdGFyZ2V0LiBJZlxyXG4vLyBjZW50cm9pZFRhcmdldCBpcyBwcm92aWRlZCB0aGVuIGEgYm91bmRpbmcgYm94IGlzIGNvbXB1dGVkIGZvciB0aGUgY2VudHJvaWRzIG9mIHRoZSB0cmlhbmdsZXMsIGFzIHdlbGwuXHJcbi8vIFRoZXNlIGFyZSBjb21wdXRlZCB0b2dldGhlciB0byBhdm9pZCByZWR1bmRhbnQgYWNjZXNzZXMgdG8gYm91bmRzIGFycmF5LlxyXG5mdW5jdGlvbiBnZXRCb3VuZHMoIHRyaWFuZ2xlQm91bmRzLCBvZmZzZXQsIGNvdW50LCB0YXJnZXQsIGNlbnRyb2lkVGFyZ2V0ID0gbnVsbCApIHtcclxuXHJcblx0bGV0IG1pbnggPSBJbmZpbml0eTtcclxuXHRsZXQgbWlueSA9IEluZmluaXR5O1xyXG5cdGxldCBtaW56ID0gSW5maW5pdHk7XHJcblx0bGV0IG1heHggPSAtIEluZmluaXR5O1xyXG5cdGxldCBtYXh5ID0gLSBJbmZpbml0eTtcclxuXHRsZXQgbWF4eiA9IC0gSW5maW5pdHk7XHJcblxyXG5cdGxldCBjbWlueCA9IEluZmluaXR5O1xyXG5cdGxldCBjbWlueSA9IEluZmluaXR5O1xyXG5cdGxldCBjbWlueiA9IEluZmluaXR5O1xyXG5cdGxldCBjbWF4eCA9IC0gSW5maW5pdHk7XHJcblx0bGV0IGNtYXh5ID0gLSBJbmZpbml0eTtcclxuXHRsZXQgY21heHogPSAtIEluZmluaXR5O1xyXG5cclxuXHRjb25zdCBpbmNsdWRlQ2VudHJvaWQgPSBjZW50cm9pZFRhcmdldCAhPT0gbnVsbDtcclxuXHRmb3IgKCBsZXQgaSA9IG9mZnNldCAqIDYsIGVuZCA9ICggb2Zmc2V0ICsgY291bnQgKSAqIDY7IGkgPCBlbmQ7IGkgKz0gNiApIHtcclxuXHJcblx0XHRjb25zdCBjeCA9IHRyaWFuZ2xlQm91bmRzWyBpICsgMCBdO1xyXG5cdFx0Y29uc3QgaHggPSB0cmlhbmdsZUJvdW5kc1sgaSArIDEgXTtcclxuXHRcdGNvbnN0IGx4ID0gY3ggLSBoeDtcclxuXHRcdGNvbnN0IHJ4ID0gY3ggKyBoeDtcclxuXHRcdGlmICggbHggPCBtaW54ICkgbWlueCA9IGx4O1xyXG5cdFx0aWYgKCByeCA+IG1heHggKSBtYXh4ID0gcng7XHJcblx0XHRpZiAoIGluY2x1ZGVDZW50cm9pZCAmJiBjeCA8IGNtaW54ICkgY21pbnggPSBjeDtcclxuXHRcdGlmICggaW5jbHVkZUNlbnRyb2lkICYmIGN4ID4gY21heHggKSBjbWF4eCA9IGN4O1xyXG5cclxuXHRcdGNvbnN0IGN5ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyAyIF07XHJcblx0XHRjb25zdCBoeSA9IHRyaWFuZ2xlQm91bmRzWyBpICsgMyBdO1xyXG5cdFx0Y29uc3QgbHkgPSBjeSAtIGh5O1xyXG5cdFx0Y29uc3QgcnkgPSBjeSArIGh5O1xyXG5cdFx0aWYgKCBseSA8IG1pbnkgKSBtaW55ID0gbHk7XHJcblx0XHRpZiAoIHJ5ID4gbWF4eSApIG1heHkgPSByeTtcclxuXHRcdGlmICggaW5jbHVkZUNlbnRyb2lkICYmIGN5IDwgY21pbnkgKSBjbWlueSA9IGN5O1xyXG5cdFx0aWYgKCBpbmNsdWRlQ2VudHJvaWQgJiYgY3kgPiBjbWF4eSApIGNtYXh5ID0gY3k7XHJcblxyXG5cdFx0Y29uc3QgY3ogPSB0cmlhbmdsZUJvdW5kc1sgaSArIDQgXTtcclxuXHRcdGNvbnN0IGh6ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyA1IF07XHJcblx0XHRjb25zdCBseiA9IGN6IC0gaHo7XHJcblx0XHRjb25zdCByeiA9IGN6ICsgaHo7XHJcblx0XHRpZiAoIGx6IDwgbWlueiApIG1pbnogPSBsejtcclxuXHRcdGlmICggcnogPiBtYXh6ICkgbWF4eiA9IHJ6O1xyXG5cdFx0aWYgKCBpbmNsdWRlQ2VudHJvaWQgJiYgY3ogPCBjbWlueiApIGNtaW56ID0gY3o7XHJcblx0XHRpZiAoIGluY2x1ZGVDZW50cm9pZCAmJiBjeiA+IGNtYXh6ICkgY21heHogPSBjejtcclxuXHJcblx0fVxyXG5cclxuXHR0YXJnZXRbIDAgXSA9IG1pbng7XHJcblx0dGFyZ2V0WyAxIF0gPSBtaW55O1xyXG5cdHRhcmdldFsgMiBdID0gbWluejtcclxuXHJcblx0dGFyZ2V0WyAzIF0gPSBtYXh4O1xyXG5cdHRhcmdldFsgNCBdID0gbWF4eTtcclxuXHR0YXJnZXRbIDUgXSA9IG1heHo7XHJcblxyXG5cdGlmICggaW5jbHVkZUNlbnRyb2lkICkge1xyXG5cclxuXHRcdGNlbnRyb2lkVGFyZ2V0WyAwIF0gPSBjbWlueDtcclxuXHRcdGNlbnRyb2lkVGFyZ2V0WyAxIF0gPSBjbWlueTtcclxuXHRcdGNlbnRyb2lkVGFyZ2V0WyAyIF0gPSBjbWluejtcclxuXHJcblx0XHRjZW50cm9pZFRhcmdldFsgMyBdID0gY21heHg7XHJcblx0XHRjZW50cm9pZFRhcmdldFsgNCBdID0gY21heHk7XHJcblx0XHRjZW50cm9pZFRhcmdldFsgNSBdID0gY21heHo7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbi8vIEEgc3RhbmQgYWxvbmUgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIGNlbnRyb2lkIGJvdW5kcy5cclxuZnVuY3Rpb24gZ2V0Q2VudHJvaWRCb3VuZHMoIHRyaWFuZ2xlQm91bmRzLCBvZmZzZXQsIGNvdW50LCBjZW50cm9pZFRhcmdldCApIHtcclxuXHJcblx0bGV0IGNtaW54ID0gSW5maW5pdHk7XHJcblx0bGV0IGNtaW55ID0gSW5maW5pdHk7XHJcblx0bGV0IGNtaW56ID0gSW5maW5pdHk7XHJcblx0bGV0IGNtYXh4ID0gLSBJbmZpbml0eTtcclxuXHRsZXQgY21heHkgPSAtIEluZmluaXR5O1xyXG5cdGxldCBjbWF4eiA9IC0gSW5maW5pdHk7XHJcblxyXG5cdGZvciAoIGxldCBpID0gb2Zmc2V0ICogNiwgZW5kID0gKCBvZmZzZXQgKyBjb3VudCApICogNjsgaSA8IGVuZDsgaSArPSA2ICkge1xyXG5cclxuXHRcdGNvbnN0IGN4ID0gdHJpYW5nbGVCb3VuZHNbIGkgKyAwIF07XHJcblx0XHRpZiAoIGN4IDwgY21pbnggKSBjbWlueCA9IGN4O1xyXG5cdFx0aWYgKCBjeCA+IGNtYXh4ICkgY21heHggPSBjeDtcclxuXHJcblx0XHRjb25zdCBjeSA9IHRyaWFuZ2xlQm91bmRzWyBpICsgMiBdO1xyXG5cdFx0aWYgKCBjeSA8IGNtaW55ICkgY21pbnkgPSBjeTtcclxuXHRcdGlmICggY3kgPiBjbWF4eSApIGNtYXh5ID0gY3k7XHJcblxyXG5cdFx0Y29uc3QgY3ogPSB0cmlhbmdsZUJvdW5kc1sgaSArIDQgXTtcclxuXHRcdGlmICggY3ogPCBjbWlueiApIGNtaW56ID0gY3o7XHJcblx0XHRpZiAoIGN6ID4gY21heHogKSBjbWF4eiA9IGN6O1xyXG5cclxuXHR9XHJcblxyXG5cdGNlbnRyb2lkVGFyZ2V0WyAwIF0gPSBjbWlueDtcclxuXHRjZW50cm9pZFRhcmdldFsgMSBdID0gY21pbnk7XHJcblx0Y2VudHJvaWRUYXJnZXRbIDIgXSA9IGNtaW56O1xyXG5cclxuXHRjZW50cm9pZFRhcmdldFsgMyBdID0gY21heHg7XHJcblx0Y2VudHJvaWRUYXJnZXRbIDQgXSA9IGNtYXh5O1xyXG5cdGNlbnRyb2lkVGFyZ2V0WyA1IF0gPSBjbWF4ejtcclxuXHJcbn1cclxuXHJcblxyXG4vLyByZW9yZGVycyBgdHJpc2Agc3VjaCB0aGF0IGZvciBgY291bnRgIGVsZW1lbnRzIGFmdGVyIGBvZmZzZXRgLCBlbGVtZW50cyBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBzcGxpdFxyXG4vLyB3aWxsIGJlIG9uIHRoZSBsZWZ0IGFuZCBlbGVtZW50cyBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgc3BsaXQgd2lsbCBiZSBvbiB0aGUgcmlnaHQuIHJldHVybnMgdGhlIGluZGV4XHJcbi8vIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9uIHRoZSByaWdodCBzaWRlLCBvciBvZmZzZXQgKyBjb3VudCBpZiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgb24gdGhlIHJpZ2h0IHNpZGUuXHJcbmZ1bmN0aW9uIHBhcnRpdGlvbiggaW5kZXgsIHRyaWFuZ2xlQm91bmRzLCBvZmZzZXQsIGNvdW50LCBzcGxpdCApIHtcclxuXHJcblx0bGV0IGxlZnQgPSBvZmZzZXQ7XHJcblx0bGV0IHJpZ2h0ID0gb2Zmc2V0ICsgY291bnQgLSAxO1xyXG5cdGNvbnN0IHBvcyA9IHNwbGl0LnBvcztcclxuXHRjb25zdCBheGlzT2Zmc2V0ID0gc3BsaXQuYXhpcyAqIDI7XHJcblxyXG5cdC8vIGhvYXJlIHBhcnRpdGlvbmluZywgc2VlIGUuZy4gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVpY2tzb3J0I0hvYXJlX3BhcnRpdGlvbl9zY2hlbWVcclxuXHR3aGlsZSAoIHRydWUgKSB7XHJcblxyXG5cdFx0d2hpbGUgKCBsZWZ0IDw9IHJpZ2h0ICYmIHRyaWFuZ2xlQm91bmRzWyBsZWZ0ICogNiArIGF4aXNPZmZzZXQgXSA8IHBvcyApIHtcclxuXHJcblx0XHRcdGxlZnQgKys7XHJcblxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvLyBpZiBhIHRyaWFuZ2xlIGNlbnRlciBsaWVzIG9uIHRoZSBwYXJ0aXRpb24gcGxhbmUgaXQgaXMgY29uc2lkZXJlZCB0byBiZSBvbiB0aGUgcmlnaHQgc2lkZVxyXG5cdFx0d2hpbGUgKCBsZWZ0IDw9IHJpZ2h0ICYmIHRyaWFuZ2xlQm91bmRzWyByaWdodCAqIDYgKyBheGlzT2Zmc2V0IF0gPj0gcG9zICkge1xyXG5cclxuXHRcdFx0cmlnaHQgLS07XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbGVmdCA8IHJpZ2h0ICkge1xyXG5cclxuXHRcdFx0Ly8gd2UgbmVlZCB0byBzd2FwIGFsbCBvZiB0aGUgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSB0cmlhbmdsZXMgYXQgaW5kZXhcclxuXHRcdFx0Ly8gbGVmdCBhbmQgcmlnaHQ7IHRoYXQncyB0aGUgdmVydHMgaW4gdGhlIGdlb21ldHJ5IGluZGV4LCB0aGUgYm91bmRzLFxyXG5cdFx0XHQvLyBhbmQgcGVyaGFwcyB0aGUgU0FIIHBsYW5lc1xyXG5cclxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0bGV0IHQwID0gaW5kZXhbIGxlZnQgKiAzICsgaSBdO1xyXG5cdFx0XHRcdGluZGV4WyBsZWZ0ICogMyArIGkgXSA9IGluZGV4WyByaWdodCAqIDMgKyBpIF07XHJcblx0XHRcdFx0aW5kZXhbIHJpZ2h0ICogMyArIGkgXSA9IHQwO1xyXG5cclxuXHRcdFx0XHRsZXQgdDEgPSB0cmlhbmdsZUJvdW5kc1sgbGVmdCAqIDYgKyBpICogMiArIDAgXTtcclxuXHRcdFx0XHR0cmlhbmdsZUJvdW5kc1sgbGVmdCAqIDYgKyBpICogMiArIDAgXSA9IHRyaWFuZ2xlQm91bmRzWyByaWdodCAqIDYgKyBpICogMiArIDAgXTtcclxuXHRcdFx0XHR0cmlhbmdsZUJvdW5kc1sgcmlnaHQgKiA2ICsgaSAqIDIgKyAwIF0gPSB0MTtcclxuXHJcblx0XHRcdFx0bGV0IHQyID0gdHJpYW5nbGVCb3VuZHNbIGxlZnQgKiA2ICsgaSAqIDIgKyAxIF07XHJcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIGxlZnQgKiA2ICsgaSAqIDIgKyAxIF0gPSB0cmlhbmdsZUJvdW5kc1sgcmlnaHQgKiA2ICsgaSAqIDIgKyAxIF07XHJcblx0XHRcdFx0dHJpYW5nbGVCb3VuZHNbIHJpZ2h0ICogNiArIGkgKiAyICsgMSBdID0gdDI7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZWZ0ICsrO1xyXG5cdFx0XHRyaWdodCAtLTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0cmV0dXJuIGxlZnQ7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5jb25zdCBCSU5fQ09VTlQgPSAzMjtcclxuY29uc3Qgc2FoQmlucyA9IG5ldyBBcnJheSggQklOX0NPVU5UICkuZmlsbCgpLm1hcCggKCkgPT4ge1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cclxuXHRcdGNvdW50OiAwLFxyXG5cdFx0Ym91bmRzOiBuZXcgRmxvYXQzMkFycmF5KCA2ICksXHJcblx0XHRyaWdodENhY2hlQm91bmRzOiBuZXcgRmxvYXQzMkFycmF5KCA2ICksXHJcblx0XHRjYW5kaWRhdGU6IDAsXHJcblxyXG5cdH07XHJcblxyXG59ICk7XHJcbmNvbnN0IGxlZnRCb3VuZHMgPSBuZXcgRmxvYXQzMkFycmF5KCA2ICk7XHJcblxyXG5mdW5jdGlvbiBnZXRPcHRpbWFsU3BsaXQoIG5vZGVCb3VuZGluZ0RhdGEsIGNlbnRyb2lkQm91bmRpbmdEYXRhLCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3RyYXRlZ3kgKSB7XHJcblxyXG5cdGxldCBheGlzID0gLSAxO1xyXG5cdGxldCBwb3MgPSAwO1xyXG5cclxuXHQvLyBDZW50ZXJcclxuXHRpZiAoIHN0cmF0ZWd5ID09PSBDRU5URVIgKSB7XHJcblxyXG5cdFx0YXhpcyA9IGdldExvbmdlc3RFZGdlSW5kZXgoIGNlbnRyb2lkQm91bmRpbmdEYXRhICk7XHJcblx0XHRpZiAoIGF4aXMgIT09IC0gMSApIHtcclxuXHJcblx0XHRcdHBvcyA9ICggY2VudHJvaWRCb3VuZGluZ0RhdGFbIGF4aXMgXSArIGNlbnRyb2lkQm91bmRpbmdEYXRhWyBheGlzICsgMyBdICkgLyAyO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIGlmICggc3RyYXRlZ3kgPT09IEFWRVJBR0UgKSB7XHJcblxyXG5cdFx0YXhpcyA9IGdldExvbmdlc3RFZGdlSW5kZXgoIG5vZGVCb3VuZGluZ0RhdGEgKTtcclxuXHRcdGlmICggYXhpcyAhPT0gLSAxICkge1xyXG5cclxuXHRcdFx0cG9zID0gZ2V0QXZlcmFnZSggdHJpYW5nbGVCb3VuZHMsIG9mZnNldCwgY291bnQsIGF4aXMgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSBpZiAoIHN0cmF0ZWd5ID09PSBTQUggKSB7XHJcblxyXG5cdFx0Y29uc3Qgcm9vdFN1cmZhY2VBcmVhID0gY29tcHV0ZVN1cmZhY2VBcmVhKCBub2RlQm91bmRpbmdEYXRhICk7XHJcblx0XHRsZXQgYmVzdENvc3QgPSBUUklBTkdMRV9JTlRFUlNFQ1RfQ09TVCAqIGNvdW50O1xyXG5cclxuXHRcdC8vIGl0ZXJhdGUgb3ZlciBhbGwgYXhlc1xyXG5cdFx0Y29uc3QgY1N0YXJ0ID0gb2Zmc2V0ICogNjtcclxuXHRcdGNvbnN0IGNFbmQgPSAoIG9mZnNldCArIGNvdW50ICkgKiA2O1xyXG5cdFx0Zm9yICggbGV0IGEgPSAwOyBhIDwgMzsgYSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IGF4aXNMZWZ0ID0gY2VudHJvaWRCb3VuZGluZ0RhdGFbIGEgXTtcclxuXHRcdFx0Y29uc3QgYXhpc1JpZ2h0ID0gY2VudHJvaWRCb3VuZGluZ0RhdGFbIGEgKyAzIF07XHJcblx0XHRcdGNvbnN0IGF4aXNMZW5ndGggPSBheGlzUmlnaHQgLSBheGlzTGVmdDtcclxuXHRcdFx0Y29uc3QgYmluV2lkdGggPSBheGlzTGVuZ3RoIC8gQklOX0NPVU5UO1xyXG5cclxuXHRcdFx0Ly8gcmVzZXQgdGhlIGJpbnNcclxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgQklOX0NPVU5UOyBpICsrICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBiaW4gPSBzYWhCaW5zWyBpIF07XHJcblx0XHRcdFx0YmluLmNvdW50ID0gMDtcclxuXHRcdFx0XHRiaW4uY2FuZGlkYXRlID0gYXhpc0xlZnQgKyBiaW5XaWR0aCArIGkgKiBiaW5XaWR0aDtcclxuXHJcblx0XHRcdFx0Y29uc3QgYm91bmRzID0gYmluLmJvdW5kcztcclxuXHRcdFx0XHRmb3IgKCBsZXQgZCA9IDA7IGQgPCAzOyBkICsrICkge1xyXG5cclxuXHRcdFx0XHRcdGJvdW5kc1sgZCBdID0gSW5maW5pdHk7XHJcblx0XHRcdFx0XHRib3VuZHNbIGQgKyAzIF0gPSAtIEluZmluaXR5O1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpdGVyYXRlIG92ZXIgYWxsIGNlbnRlciBwb3NpdGlvbnNcclxuXHRcdFx0Zm9yICggbGV0IGMgPSBjU3RhcnQ7IGMgPCBjRW5kOyBjICs9IDYgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHRyaUNlbnRlciA9IHRyaWFuZ2xlQm91bmRzWyBjICsgMiAqIGEgXTtcclxuXHRcdFx0XHRjb25zdCByZWxhdGl2ZUNlbnRlciA9IHRyaUNlbnRlciAtIGF4aXNMZWZ0O1xyXG5cclxuXHRcdFx0XHQvLyBpbiB0aGUgcGFydGl0aW9uIGZ1bmN0aW9uIGlmIHRoZSBjZW50cm9pZCBsaWVzIG9uIHRoZSBzcGxpdCBwbGFuZSB0aGVuIGl0IGlzXHJcblx0XHRcdFx0Ly8gY29uc2lkZXJlZCB0byBiZSBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgc3BsaXRcclxuXHRcdFx0XHRsZXQgYmluSW5kZXggPSB+IH4gKCByZWxhdGl2ZUNlbnRlciAvIGJpbldpZHRoICk7XHJcblx0XHRcdFx0aWYgKCBiaW5JbmRleCA+PSBCSU5fQ09VTlQgKSBiaW5JbmRleCA9IEJJTl9DT1VOVCAtIDE7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGJpbkluZGV4IF07XHJcblx0XHRcdFx0YmluLmNvdW50ICsrO1xyXG5cclxuXHRcdFx0XHRjb25zdCBib3VuZHMgPSBiaW4uYm91bmRzO1xyXG5cdFx0XHRcdGZvciAoIGxldCBkID0gMDsgZCA8IDM7IGQgKysgKSB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgdENlbnRlciA9IHRyaWFuZ2xlQm91bmRzWyBjICsgMiAqIGQgXTtcclxuXHRcdFx0XHRcdGNvbnN0IHRIYWxmID0gdHJpYW5nbGVCb3VuZHNbIGMgKyAyICogZCArIDEgXTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCB0TWluID0gdENlbnRlciAtIHRIYWxmO1xyXG5cdFx0XHRcdFx0Y29uc3QgdE1heCA9IHRDZW50ZXIgKyB0SGFsZjtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHRNaW4gPCBib3VuZHNbIGQgXSApIHtcclxuXHJcblx0XHRcdFx0XHRcdGJvdW5kc1sgZCBdID0gdE1pbjtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB0TWF4ID4gYm91bmRzWyBkICsgMyBdICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Ym91bmRzWyBkICsgMyBdID0gdE1heDtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNhY2hlIHRoZSB1bmlvbmVkIGJvdW5kcyBmcm9tIHJpZ2h0IHRvIGxlZnQgc28gd2UgZG9uJ3QgaGF2ZSB0byByZWdlbmVyYXRlIHRoZW0gZWFjaCB0aW1lXHJcblx0XHRcdGNvbnN0IGxhc3RCaW4gPSBzYWhCaW5zWyBCSU5fQ09VTlQgLSAxIF07XHJcblx0XHRcdGNvcHlCb3VuZHMoIGxhc3RCaW4uYm91bmRzLCBsYXN0QmluLnJpZ2h0Q2FjaGVCb3VuZHMgKTtcclxuXHRcdFx0Zm9yICggbGV0IGkgPSBCSU5fQ09VTlQgLSAyOyBpID49IDA7IGkgLS0gKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGkgXTtcclxuXHRcdFx0XHRjb25zdCBuZXh0QmluID0gc2FoQmluc1sgaSArIDEgXTtcclxuXHRcdFx0XHR1bmlvbkJvdW5kcyggYmluLmJvdW5kcywgbmV4dEJpbi5yaWdodENhY2hlQm91bmRzLCBiaW4ucmlnaHRDYWNoZUJvdW5kcyApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGxlZnRDb3VudCA9IDA7XHJcblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IEJJTl9DT1VOVCAtIDE7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJpbiA9IHNhaEJpbnNbIGkgXTtcclxuXHRcdFx0XHRjb25zdCBiaW5Db3VudCA9IGJpbi5jb3VudDtcclxuXHRcdFx0XHRjb25zdCBib3VuZHMgPSBiaW4uYm91bmRzO1xyXG5cclxuXHRcdFx0XHRjb25zdCBuZXh0QmluID0gc2FoQmluc1sgaSArIDEgXTtcclxuXHRcdFx0XHRjb25zdCByaWdodEJvdW5kcyA9IG5leHRCaW4ucmlnaHRDYWNoZUJvdW5kcztcclxuXHJcblx0XHRcdFx0Ly8gZG9udCBkbyBhbnl0aGluZyB3aXRoIHRoZSBib3VuZHMgaWYgdGhlIG5ldyBib3VuZHMgaGF2ZSBubyB0cmlhbmdsZXNcclxuXHRcdFx0XHRpZiAoIGJpbkNvdW50ICE9PSAwICkge1xyXG5cclxuXHRcdFx0XHRcdGlmICggbGVmdENvdW50ID09PSAwICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Y29weUJvdW5kcyggYm91bmRzLCBsZWZ0Qm91bmRzICk7XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdHVuaW9uQm91bmRzKCBib3VuZHMsIGxlZnRCb3VuZHMsIGxlZnRCb3VuZHMgKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bGVmdENvdW50ICs9IGJpbkNvdW50O1xyXG5cclxuXHRcdFx0XHQvLyBjaGVjayB0aGUgY29zdCBvZiB0aGlzIHNwbGl0XHJcblx0XHRcdFx0bGV0IGxlZnRQcm9iID0gMDtcclxuXHRcdFx0XHRsZXQgcmlnaHRQcm9iID0gMDtcclxuXHJcblx0XHRcdFx0aWYgKCBsZWZ0Q291bnQgIT09IDAgKSB7XHJcblxyXG5cdFx0XHRcdFx0bGVmdFByb2IgPSBjb21wdXRlU3VyZmFjZUFyZWEoIGxlZnRCb3VuZHMgKSAvIHJvb3RTdXJmYWNlQXJlYTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCByaWdodENvdW50ID0gY291bnQgLSBsZWZ0Q291bnQ7XHJcblx0XHRcdFx0aWYgKCByaWdodENvdW50ICE9PSAwICkge1xyXG5cclxuXHRcdFx0XHRcdHJpZ2h0UHJvYiA9IGNvbXB1dGVTdXJmYWNlQXJlYSggcmlnaHRCb3VuZHMgKSAvIHJvb3RTdXJmYWNlQXJlYTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBjb3N0ID0gVFJBVkVSU0FMX0NPU1QgKyBUUklBTkdMRV9JTlRFUlNFQ1RfQ09TVCAqIChcclxuXHRcdFx0XHRcdGxlZnRQcm9iICogbGVmdENvdW50ICsgcmlnaHRQcm9iICogcmlnaHRDb3VudFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdGlmICggY29zdCA8IGJlc3RDb3N0ICkge1xyXG5cclxuXHRcdFx0XHRcdGF4aXMgPSBhO1xyXG5cdFx0XHRcdFx0YmVzdENvc3QgPSBjb3N0O1xyXG5cdFx0XHRcdFx0cG9zID0gYmluLmNhbmRpZGF0ZTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4geyBheGlzLCBwb3MgfTtcclxuXHJcbn1cclxuXHJcbi8vIHJldHVybnMgdGhlIGF2ZXJhZ2UgY29vcmRpbmF0ZSBvbiB0aGUgc3BlY2lmaWVkIGF4aXMgb2YgdGhlIGFsbCB0aGUgcHJvdmlkZWQgdHJpYW5nbGVzXHJcbmZ1bmN0aW9uIGdldEF2ZXJhZ2UoIHRyaWFuZ2xlQm91bmRzLCBvZmZzZXQsIGNvdW50LCBheGlzICkge1xyXG5cclxuXHRsZXQgYXZnID0gMDtcclxuXHRmb3IgKCBsZXQgaSA9IG9mZnNldCwgZW5kID0gb2Zmc2V0ICsgY291bnQ7IGkgPCBlbmQ7IGkgKysgKSB7XHJcblxyXG5cdFx0YXZnICs9IHRyaWFuZ2xlQm91bmRzWyBpICogNiArIGF4aXMgKiAyIF07XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGF2ZyAvIGNvdW50O1xyXG5cclxufVxyXG5cclxuLy8gcHJlY29tcHV0ZXMgdGhlIGJvdW5kaW5nIGJveCBmb3IgZWFjaCB0cmlhbmdsZTsgcmVxdWlyZWQgZm9yIHF1aWNrbHkgY2FsY3VsYXRpbmcgdHJlZSBzcGxpdHMuXHJcbi8vIHJlc3VsdCBpcyBhbiBhcnJheSBvZiBzaXplIHRyaXMubGVuZ3RoICogNiB3aGVyZSB0cmlhbmdsZSBpIG1hcHMgdG8gYVxyXG4vLyBbeF9jZW50ZXIsIHhfZGVsdGEsIHlfY2VudGVyLCB5X2RlbHRhLCB6X2NlbnRlciwgel9kZWx0YV0gdHVwbGUgc3RhcnRpbmcgYXQgaW5kZXggaSAqIDYsXHJcbi8vIHJlcHJlc2VudGluZyB0aGUgY2VudGVyIGFuZCBoYWxmLWV4dGVudCBpbiBlYWNoIGRpbWVuc2lvbiBvZiB0cmlhbmdsZSBpXHJcbmZ1bmN0aW9uIGNvbXB1dGVUcmlhbmdsZUJvdW5kcyggZ2VvLCBmdWxsQm91bmRzICkge1xyXG5cclxuXHRjb25zdCBwb3NBdHRyID0gZ2VvLmF0dHJpYnV0ZXMucG9zaXRpb247XHJcblx0Y29uc3QgcG9zQXJyID0gcG9zQXR0ci5hcnJheTtcclxuXHRjb25zdCBpbmRleCA9IGdlby5pbmRleC5hcnJheTtcclxuXHRjb25zdCB0cmlDb3VudCA9IGluZGV4Lmxlbmd0aCAvIDM7XHJcblx0Y29uc3QgdHJpYW5nbGVCb3VuZHMgPSBuZXcgRmxvYXQzMkFycmF5KCB0cmlDb3VudCAqIDYgKTtcclxuXHJcblx0Ly8gc3VwcG9ydCBmb3IgYW4gaW50ZXJsZWF2ZWQgcG9zaXRpb24gYnVmZmVyXHJcblx0Y29uc3QgYnVmZmVyT2Zmc2V0ID0gcG9zQXR0ci5vZmZzZXQgfHwgMDtcclxuXHRsZXQgc3RyaWRlID0gMztcclxuXHRpZiAoIHBvc0F0dHIuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSApIHtcclxuXHJcblx0XHRzdHJpZGUgPSBwb3NBdHRyLmRhdGEuc3RyaWRlO1xyXG5cclxuXHR9XHJcblxyXG5cdGZvciAoIGxldCB0cmkgPSAwOyB0cmkgPCB0cmlDb3VudDsgdHJpICsrICkge1xyXG5cclxuXHRcdGNvbnN0IHRyaTMgPSB0cmkgKiAzO1xyXG5cdFx0Y29uc3QgdHJpNiA9IHRyaSAqIDY7XHJcblx0XHRjb25zdCBhaSA9IGluZGV4WyB0cmkzICsgMCBdICogc3RyaWRlICsgYnVmZmVyT2Zmc2V0O1xyXG5cdFx0Y29uc3QgYmkgPSBpbmRleFsgdHJpMyArIDEgXSAqIHN0cmlkZSArIGJ1ZmZlck9mZnNldDtcclxuXHRcdGNvbnN0IGNpID0gaW5kZXhbIHRyaTMgKyAyIF0gKiBzdHJpZGUgKyBidWZmZXJPZmZzZXQ7XHJcblxyXG5cdFx0Zm9yICggbGV0IGVsID0gMDsgZWwgPCAzOyBlbCArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IGEgPSBwb3NBcnJbIGFpICsgZWwgXTtcclxuXHRcdFx0Y29uc3QgYiA9IHBvc0FyclsgYmkgKyBlbCBdO1xyXG5cdFx0XHRjb25zdCBjID0gcG9zQXJyWyBjaSArIGVsIF07XHJcblxyXG5cdFx0XHRsZXQgbWluID0gYTtcclxuXHRcdFx0aWYgKCBiIDwgbWluICkgbWluID0gYjtcclxuXHRcdFx0aWYgKCBjIDwgbWluICkgbWluID0gYztcclxuXHJcblx0XHRcdGxldCBtYXggPSBhO1xyXG5cdFx0XHRpZiAoIGIgPiBtYXggKSBtYXggPSBiO1xyXG5cdFx0XHRpZiAoIGMgPiBtYXggKSBtYXggPSBjO1xyXG5cclxuXHRcdFx0Ly8gSW5jcmVhc2UgdGhlIGJvdW5kcyBzaXplIGJ5IGZsb2F0MzIgZXBzaWxvbiB0byBhdm9pZCBwcmVjaXNpb24gZXJyb3JzIHdoZW5cclxuXHRcdFx0Ly8gY29udmVydGluZyB0byAzMiBiaXQgZmxvYXQuIFNjYWxlIHRoZSBlcHNpbG9uIGJ5IHRoZSBzaXplIG9mIHRoZSBudW1iZXJzIGJlaW5nXHJcblx0XHRcdC8vIHdvcmtlZCB3aXRoLlxyXG5cdFx0XHRjb25zdCBoYWxmRXh0ZW50cyA9ICggbWF4IC0gbWluICkgLyAyO1xyXG5cdFx0XHRjb25zdCBlbDIgPSBlbCAqIDI7XHJcblx0XHRcdHRyaWFuZ2xlQm91bmRzWyB0cmk2ICsgZWwyICsgMCBdID0gbWluICsgaGFsZkV4dGVudHM7XHJcblx0XHRcdHRyaWFuZ2xlQm91bmRzWyB0cmk2ICsgZWwyICsgMSBdID0gaGFsZkV4dGVudHMgKyAoIE1hdGguYWJzKCBtaW4gKSArIGhhbGZFeHRlbnRzICkgKiBGTE9BVDMyX0VQU0lMT047XHJcblxyXG5cdFx0XHRpZiAoIG1pbiA8IGZ1bGxCb3VuZHNbIGVsIF0gKSBmdWxsQm91bmRzWyBlbCBdID0gbWluO1xyXG5cdFx0XHRpZiAoIG1heCA+IGZ1bGxCb3VuZHNbIGVsICsgMyBdICkgZnVsbEJvdW5kc1sgZWwgKyAzIF0gPSBtYXg7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHJldHVybiB0cmlhbmdsZUJvdW5kcztcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRyZWUoIGdlbywgb3B0aW9ucyApIHtcclxuXHJcblx0Ly8gZWl0aGVyIHJlY3Vyc2l2ZWx5IHNwbGl0cyB0aGUgZ2l2ZW4gbm9kZSwgY3JlYXRpbmcgbGVmdCBhbmQgcmlnaHQgc3VidHJlZXMgZm9yIGl0LCBvciBtYWtlcyBpdCBhIGxlYWYgbm9kZSxcclxuXHQvLyByZWNvcmRpbmcgdGhlIG9mZnNldCBhbmQgY291bnQgb2YgaXRzIHRyaWFuZ2xlcyBhbmQgd3JpdGluZyB0aGVtIGludG8gdGhlIHJlb3JkZXJlZCBnZW9tZXRyeSBpbmRleC5cclxuXHRmdW5jdGlvbiBzcGxpdE5vZGUoIG5vZGUsIG9mZnNldCwgY291bnQsIGNlbnRyb2lkQm91bmRpbmdEYXRhID0gbnVsbCwgZGVwdGggPSAwICkge1xyXG5cclxuXHRcdGlmICggISByZWFjaGVkTWF4RGVwdGggJiYgZGVwdGggPj0gbWF4RGVwdGggKSB7XHJcblxyXG5cdFx0XHRyZWFjaGVkTWF4RGVwdGggPSB0cnVlO1xyXG5cdFx0XHRpZiAoIHZlcmJvc2UgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUud2FybiggYE1lc2hCVkg6IE1heCBkZXB0aCBvZiAkeyBtYXhEZXB0aCB9IHJlYWNoZWQgd2hlbiBnZW5lcmF0aW5nIEJWSC4gQ29uc2lkZXIgaW5jcmVhc2luZyBtYXhEZXB0aC5gICk7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCBnZW8gKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZWFybHkgb3V0IGlmIHdlJ3ZlIG1ldCBvdXIgY2FwYWNpdHlcclxuXHRcdGlmICggY291bnQgPD0gbWF4TGVhZlRyaXMgfHwgZGVwdGggPj0gbWF4RGVwdGggKSB7XHJcblxyXG5cdFx0XHRub2RlLm9mZnNldCA9IG9mZnNldDtcclxuXHRcdFx0bm9kZS5jb3VudCA9IGNvdW50O1xyXG5cdFx0XHRyZXR1cm4gbm9kZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRmluZCB3aGVyZSB0byBzcGxpdCB0aGUgdm9sdW1lXHJcblx0XHRjb25zdCBzcGxpdCA9IGdldE9wdGltYWxTcGxpdCggbm9kZS5ib3VuZGluZ0RhdGEsIGNlbnRyb2lkQm91bmRpbmdEYXRhLCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3RyYXRlZ3kgKTtcclxuXHRcdGlmICggc3BsaXQuYXhpcyA9PT0gLSAxICkge1xyXG5cclxuXHRcdFx0bm9kZS5vZmZzZXQgPSBvZmZzZXQ7XHJcblx0XHRcdG5vZGUuY291bnQgPSBjb3VudDtcclxuXHRcdFx0cmV0dXJuIG5vZGU7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHNwbGl0T2Zmc2V0ID0gcGFydGl0aW9uKCBpbmRleEFycmF5LCB0cmlhbmdsZUJvdW5kcywgb2Zmc2V0LCBjb3VudCwgc3BsaXQgKTtcclxuXHJcblx0XHQvLyBjcmVhdGUgdGhlIHR3byBuZXcgY2hpbGQgbm9kZXNcclxuXHRcdGlmICggc3BsaXRPZmZzZXQgPT09IG9mZnNldCB8fCBzcGxpdE9mZnNldCA9PT0gb2Zmc2V0ICsgY291bnQgKSB7XHJcblxyXG5cdFx0XHRub2RlLm9mZnNldCA9IG9mZnNldDtcclxuXHRcdFx0bm9kZS5jb3VudCA9IGNvdW50O1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRub2RlLnNwbGl0QXhpcyA9IHNwbGl0LmF4aXM7XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgdGhlIGxlZnQgY2hpbGQgYW5kIGNvbXB1dGUgaXRzIGJvdW5kaW5nIGJveFxyXG5cdFx0XHRjb25zdCBsZWZ0ID0gbmV3IE1lc2hCVkhOb2RlKCk7XHJcblx0XHRcdGNvbnN0IGxzdGFydCA9IG9mZnNldDtcclxuXHRcdFx0Y29uc3QgbGNvdW50ID0gc3BsaXRPZmZzZXQgLSBvZmZzZXQ7XHJcblx0XHRcdG5vZGUubGVmdCA9IGxlZnQ7XHJcblx0XHRcdGxlZnQuYm91bmRpbmdEYXRhID0gbmV3IEZsb2F0MzJBcnJheSggNiApO1xyXG5cclxuXHRcdFx0Z2V0Qm91bmRzKCB0cmlhbmdsZUJvdW5kcywgbHN0YXJ0LCBsY291bnQsIGxlZnQuYm91bmRpbmdEYXRhLCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhICk7XHJcblx0XHRcdHNwbGl0Tm9kZSggbGVmdCwgbHN0YXJ0LCBsY291bnQsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEsIGRlcHRoICsgMSApO1xyXG5cclxuXHRcdFx0Ly8gcmVwZWF0IGZvciByaWdodFxyXG5cdFx0XHRjb25zdCByaWdodCA9IG5ldyBNZXNoQlZITm9kZSgpO1xyXG5cdFx0XHRjb25zdCByc3RhcnQgPSBzcGxpdE9mZnNldDtcclxuXHRcdFx0Y29uc3QgcmNvdW50ID0gY291bnQgLSBsY291bnQ7XHJcblx0XHRcdG5vZGUucmlnaHQgPSByaWdodDtcclxuXHRcdFx0cmlnaHQuYm91bmRpbmdEYXRhID0gbmV3IEZsb2F0MzJBcnJheSggNiApO1xyXG5cclxuXHRcdFx0Z2V0Qm91bmRzKCB0cmlhbmdsZUJvdW5kcywgcnN0YXJ0LCByY291bnQsIHJpZ2h0LmJvdW5kaW5nRGF0YSwgY2FjaGVDZW50cm9pZEJvdW5kaW5nRGF0YSApO1xyXG5cdFx0XHRzcGxpdE5vZGUoIHJpZ2h0LCByc3RhcnQsIHJjb3VudCwgY2FjaGVDZW50cm9pZEJvdW5kaW5nRGF0YSwgZGVwdGggKyAxICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBub2RlO1xyXG5cclxuXHR9XHJcblxyXG5cdGVuc3VyZUluZGV4KCBnZW8sIG9wdGlvbnMgKTtcclxuXHJcblx0Ly8gQ29tcHV0ZSB0aGUgZnVsbCBib3VuZHMgb2YgdGhlIGdlb21ldHJ5IGF0IHRoZSBzYW1lIHRpbWUgYXMgdHJpYW5nbGUgYm91bmRzIGJlY2F1c2VcclxuXHQvLyB3ZSdsbCBuZWVkIGl0IGZvciB0aGUgcm9vdCBib3VuZHMgaW4gdGhlIGNhc2Ugd2l0aCBubyBncm91cHMgYW5kIGl0IHNob3VsZCBiZSBmYXN0IGhlcmUuXHJcblx0Ly8gV2UgY2FuJ3QgdXNlIHRoZSBnZW9tZXRyeWluZyBib3VuZGluZyBib3ggaWYgaXQncyBhdmFpbGFibGUgYmVjYXVzZSBpdCBtYXkgYmUgb3V0IG9mIGRhdGUuXHJcblx0Y29uc3QgZnVsbEJvdW5kcyA9IG5ldyBGbG9hdDMyQXJyYXkoIDYgKTtcclxuXHRjb25zdCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhID0gbmV3IEZsb2F0MzJBcnJheSggNiApO1xyXG5cdGNvbnN0IHRyaWFuZ2xlQm91bmRzID0gY29tcHV0ZVRyaWFuZ2xlQm91bmRzKCBnZW8sIGZ1bGxCb3VuZHMgKTtcclxuXHRjb25zdCBpbmRleEFycmF5ID0gZ2VvLmluZGV4LmFycmF5O1xyXG5cdGNvbnN0IG1heERlcHRoID0gb3B0aW9ucy5tYXhEZXB0aDtcclxuXHRjb25zdCB2ZXJib3NlID0gb3B0aW9ucy52ZXJib3NlO1xyXG5cdGNvbnN0IG1heExlYWZUcmlzID0gb3B0aW9ucy5tYXhMZWFmVHJpcztcclxuXHRjb25zdCBzdHJhdGVneSA9IG9wdGlvbnMuc3RyYXRlZ3k7XHJcblx0bGV0IHJlYWNoZWRNYXhEZXB0aCA9IGZhbHNlO1xyXG5cclxuXHRjb25zdCByb290cyA9IFtdO1xyXG5cdGNvbnN0IHJhbmdlcyA9IGdldFJvb3RJbmRleFJhbmdlcyggZ2VvICk7XHJcblxyXG5cdGlmICggcmFuZ2VzLmxlbmd0aCA9PT0gMSApIHtcclxuXHJcblx0XHRjb25zdCByYW5nZSA9IHJhbmdlc1sgMCBdO1xyXG5cdFx0Y29uc3Qgcm9vdCA9IG5ldyBNZXNoQlZITm9kZSgpO1xyXG5cdFx0cm9vdC5ib3VuZGluZ0RhdGEgPSBmdWxsQm91bmRzO1xyXG5cdFx0Z2V0Q2VudHJvaWRCb3VuZHMoIHRyaWFuZ2xlQm91bmRzLCByYW5nZS5vZmZzZXQsIHJhbmdlLmNvdW50LCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhICk7XHJcblxyXG5cdFx0c3BsaXROb2RlKCByb290LCByYW5nZS5vZmZzZXQsIHJhbmdlLmNvdW50LCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhICk7XHJcblx0XHRyb290cy5wdXNoKCByb290ICk7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Zm9yICggbGV0IHJhbmdlIG9mIHJhbmdlcyApIHtcclxuXHJcblx0XHRcdGNvbnN0IHJvb3QgPSBuZXcgTWVzaEJWSE5vZGUoKTtcclxuXHRcdFx0cm9vdC5ib3VuZGluZ0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KCA2ICk7XHJcblx0XHRcdGdldEJvdW5kcyggdHJpYW5nbGVCb3VuZHMsIHJhbmdlLm9mZnNldCwgcmFuZ2UuY291bnQsIHJvb3QuYm91bmRpbmdEYXRhLCBjYWNoZUNlbnRyb2lkQm91bmRpbmdEYXRhICk7XHJcblxyXG5cdFx0XHRzcGxpdE5vZGUoIHJvb3QsIHJhbmdlLm9mZnNldCwgcmFuZ2UuY291bnQsIGNhY2hlQ2VudHJvaWRCb3VuZGluZ0RhdGEgKTtcclxuXHRcdFx0cm9vdHMucHVzaCggcm9vdCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcm9vdHM7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQllURVNfUEVSX05PREUgPSA2ICogNCArIDQgKyA0O1xyXG5cclxuZXhwb3J0IGNvbnN0IElTX0xFQUZOT0RFX0ZMQUcgPSAweEZGRkY7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRQYWNrZWRUcmVlKCBnZW8sIG9wdGlvbnMgKSB7XHJcblxyXG5cdC8vIGJvdW5kaW5nRGF0YSAgXHRcdFx0XHQ6IDYgZmxvYXQzMlxyXG5cdC8vIHJpZ2h0IC8gb2Zmc2V0IFx0XHRcdFx0OiAxIHVpbnQzMlxyXG5cdC8vIHNwbGl0QXhpcyAvIGlzTGVhZiArIGNvdW50IFx0OiAxIHVpbnQzMiAvIDIgdWludDE2XHJcblx0Y29uc3Qgcm9vdHMgPSBidWlsZFRyZWUoIGdlbywgb3B0aW9ucyApO1xyXG5cclxuXHRsZXQgZmxvYXQzMkFycmF5O1xyXG5cdGxldCB1aW50MzJBcnJheTtcclxuXHRsZXQgdWludDE2QXJyYXk7XHJcblx0Y29uc3QgcGFja2VkUm9vdHMgPSBbXTtcclxuXHRjb25zdCBCdWZmZXJDb25zdHJ1Y3RvciA9IG9wdGlvbnMudXNlU2hhcmVkQXJyYXlCdWZmZXIgPyBTaGFyZWRBcnJheUJ1ZmZlciA6IEFycmF5QnVmZmVyO1xyXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IHJvb3RzLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRjb25zdCByb290ID0gcm9vdHNbIGkgXTtcclxuXHRcdGxldCBub2RlQ291bnQgPSBjb3VudE5vZGVzKCByb290ICk7XHJcblxyXG5cdFx0Y29uc3QgYnVmZmVyID0gbmV3IEJ1ZmZlckNvbnN0cnVjdG9yKCBCWVRFU19QRVJfTk9ERSAqIG5vZGVDb3VudCApO1xyXG5cdFx0ZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSggYnVmZmVyICk7XHJcblx0XHR1aW50MzJBcnJheSA9IG5ldyBVaW50MzJBcnJheSggYnVmZmVyICk7XHJcblx0XHR1aW50MTZBcnJheSA9IG5ldyBVaW50MTZBcnJheSggYnVmZmVyICk7XHJcblx0XHRwb3B1bGF0ZUJ1ZmZlciggMCwgcm9vdCApO1xyXG5cdFx0cGFja2VkUm9vdHMucHVzaCggYnVmZmVyICk7XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHBhY2tlZFJvb3RzO1xyXG5cclxuXHRmdW5jdGlvbiBjb3VudE5vZGVzKCBub2RlICkge1xyXG5cclxuXHRcdGlmICggbm9kZS5jb3VudCApIHtcclxuXHJcblx0XHRcdHJldHVybiAxO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gMSArIGNvdW50Tm9kZXMoIG5vZGUubGVmdCApICsgY291bnROb2Rlcyggbm9kZS5yaWdodCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBwb3B1bGF0ZUJ1ZmZlciggYnl0ZU9mZnNldCwgbm9kZSApIHtcclxuXHJcblx0XHRjb25zdCBzdHJpZGU0T2Zmc2V0ID0gYnl0ZU9mZnNldCAvIDQ7XHJcblx0XHRjb25zdCBzdHJpZGUyT2Zmc2V0ID0gYnl0ZU9mZnNldCAvIDI7XHJcblx0XHRjb25zdCBpc0xlYWYgPSAhICEgbm9kZS5jb3VudDtcclxuXHRcdGNvbnN0IGJvdW5kaW5nRGF0YSA9IG5vZGUuYm91bmRpbmdEYXRhO1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgNjsgaSArKyApIHtcclxuXHJcblx0XHRcdGZsb2F0MzJBcnJheVsgc3RyaWRlNE9mZnNldCArIGkgXSA9IGJvdW5kaW5nRGF0YVsgaSBdO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGlzTGVhZiApIHtcclxuXHJcblx0XHRcdGNvbnN0IG9mZnNldCA9IG5vZGUub2Zmc2V0O1xyXG5cdFx0XHRjb25zdCBjb3VudCA9IG5vZGUuY291bnQ7XHJcblx0XHRcdHVpbnQzMkFycmF5WyBzdHJpZGU0T2Zmc2V0ICsgNiBdID0gb2Zmc2V0O1xyXG5cdFx0XHR1aW50MTZBcnJheVsgc3RyaWRlMk9mZnNldCArIDE0IF0gPSBjb3VudDtcclxuXHRcdFx0dWludDE2QXJyYXlbIHN0cmlkZTJPZmZzZXQgKyAxNSBdID0gSVNfTEVBRk5PREVfRkxBRztcclxuXHRcdFx0cmV0dXJuIGJ5dGVPZmZzZXQgKyBCWVRFU19QRVJfTk9ERTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0Y29uc3QgbGVmdCA9IG5vZGUubGVmdDtcclxuXHRcdFx0Y29uc3QgcmlnaHQgPSBub2RlLnJpZ2h0O1xyXG5cdFx0XHRjb25zdCBzcGxpdEF4aXMgPSBub2RlLnNwbGl0QXhpcztcclxuXHJcblx0XHRcdGxldCBuZXh0VW51c2VkUG9pbnRlcjtcclxuXHRcdFx0bmV4dFVudXNlZFBvaW50ZXIgPSBwb3B1bGF0ZUJ1ZmZlciggYnl0ZU9mZnNldCArIEJZVEVTX1BFUl9OT0RFLCBsZWZ0ICk7XHJcblxyXG5cdFx0XHRpZiAoICggbmV4dFVudXNlZFBvaW50ZXIgLyA0ICkgPiBNYXRoLnBvdyggMiwgMzIgKSApIHtcclxuXHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnTWVzaEJWSDogQ2Fubm90IHN0b3JlIGNoaWxkIHBvaW50ZXIgZ3JlYXRlciB0aGFuIDMyIGJpdHMuJyApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dWludDMyQXJyYXlbIHN0cmlkZTRPZmZzZXQgKyA2IF0gPSBuZXh0VW51c2VkUG9pbnRlciAvIDQ7XHJcblx0XHRcdG5leHRVbnVzZWRQb2ludGVyID0gcG9wdWxhdGVCdWZmZXIoIG5leHRVbnVzZWRQb2ludGVyLCByaWdodCApO1xyXG5cclxuXHRcdFx0dWludDMyQXJyYXlbIHN0cmlkZTRPZmZzZXQgKyA3IF0gPSBzcGxpdEF4aXM7XHJcblx0XHRcdHJldHVybiBuZXh0VW51c2VkUG9pbnRlcjtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXBhcmF0aW5nQXhpc0JvdW5kcyB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHRcdHRoaXMubWluID0gSW5maW5pdHk7XHJcblx0XHR0aGlzLm1heCA9IC0gSW5maW5pdHk7XHJcblxyXG5cdH1cclxuXHJcblx0c2V0RnJvbVBvaW50c0ZpZWxkKCBwb2ludHMsIGZpZWxkICkge1xyXG5cclxuXHRcdGxldCBtaW4gPSBJbmZpbml0eTtcclxuXHRcdGxldCBtYXggPSAtIEluZmluaXR5O1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBwID0gcG9pbnRzWyBpIF07XHJcblx0XHRcdGNvbnN0IHZhbCA9IHBbIGZpZWxkIF07XHJcblx0XHRcdG1pbiA9IHZhbCA8IG1pbiA/IHZhbCA6IG1pbjtcclxuXHRcdFx0bWF4ID0gdmFsID4gbWF4ID8gdmFsIDogbWF4O1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm1pbiA9IG1pbjtcclxuXHRcdHRoaXMubWF4ID0gbWF4O1xyXG5cclxuXHR9XHJcblxyXG5cdHNldEZyb21Qb2ludHMoIGF4aXMsIHBvaW50cyApIHtcclxuXHJcblx0XHRsZXQgbWluID0gSW5maW5pdHk7XHJcblx0XHRsZXQgbWF4ID0gLSBJbmZpbml0eTtcclxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3QgcCA9IHBvaW50c1sgaSBdO1xyXG5cdFx0XHRjb25zdCB2YWwgPSBheGlzLmRvdCggcCApO1xyXG5cdFx0XHRtaW4gPSB2YWwgPCBtaW4gPyB2YWwgOiBtaW47XHJcblx0XHRcdG1heCA9IHZhbCA+IG1heCA/IHZhbCA6IG1heDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5taW4gPSBtaW47XHJcblx0XHR0aGlzLm1heCA9IG1heDtcclxuXHJcblx0fVxyXG5cclxuXHRpc1NlcGFyYXRlZCggb3RoZXIgKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMubWluID4gb3RoZXIubWF4IHx8IG90aGVyLm1pbiA+IHRoaXMubWF4O1xyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5TZXBhcmF0aW5nQXhpc0JvdW5kcy5wcm90b3R5cGUuc2V0RnJvbUJveCA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCBwID0gbmV3IFZlY3RvcjMoKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24gc2V0RnJvbUJveCggYXhpcywgYm94ICkge1xyXG5cclxuXHRcdGNvbnN0IGJveE1pbiA9IGJveC5taW47XHJcblx0XHRjb25zdCBib3hNYXggPSBib3gubWF4O1xyXG5cdFx0bGV0IG1pbiA9IEluZmluaXR5O1xyXG5cdFx0bGV0IG1heCA9IC0gSW5maW5pdHk7XHJcblx0XHRmb3IgKCBsZXQgeCA9IDA7IHggPD0gMTsgeCArKyApIHtcclxuXHJcblx0XHRcdGZvciAoIGxldCB5ID0gMDsgeSA8PSAxOyB5ICsrICkge1xyXG5cclxuXHRcdFx0XHRmb3IgKCBsZXQgeiA9IDA7IHogPD0gMTsgeiArKyApIHtcclxuXHJcblx0XHRcdFx0XHRwLnggPSBib3hNaW4ueCAqIHggKyBib3hNYXgueCAqICggMSAtIHggKTtcclxuXHRcdFx0XHRcdHAueSA9IGJveE1pbi55ICogeSArIGJveE1heC55ICogKCAxIC0geSApO1xyXG5cdFx0XHRcdFx0cC56ID0gYm94TWluLnogKiB6ICsgYm94TWF4LnogKiAoIDEgLSB6ICk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXhpcy5kb3QoIHAgKTtcclxuXHRcdFx0XHRcdG1pbiA9IE1hdGgubWluKCB2YWwsIG1pbiApO1xyXG5cdFx0XHRcdFx0bWF4ID0gTWF0aC5tYXgoIHZhbCwgbWF4ICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5taW4gPSBtaW47XHJcblx0XHR0aGlzLm1heCA9IG1heDtcclxuXHJcblx0fTtcclxuXHJcbn0gKSgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFyZUludGVyc2VjdGluZyA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCBjYWNoZVNhdEJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xyXG5cdHJldHVybiBmdW5jdGlvbiBhcmVJbnRlcnNlY3RpbmcoIHNoYXBlMSwgc2hhcGUyICkge1xyXG5cclxuXHRcdGNvbnN0IHBvaW50czEgPSBzaGFwZTEucG9pbnRzO1xyXG5cdFx0Y29uc3Qgc2F0QXhlczEgPSBzaGFwZTEuc2F0QXhlcztcclxuXHRcdGNvbnN0IHNhdEJvdW5kczEgPSBzaGFwZTEuc2F0Qm91bmRzO1xyXG5cclxuXHRcdGNvbnN0IHBvaW50czIgPSBzaGFwZTIucG9pbnRzO1xyXG5cdFx0Y29uc3Qgc2F0QXhlczIgPSBzaGFwZTIuc2F0QXhlcztcclxuXHRcdGNvbnN0IHNhdEJvdW5kczIgPSBzaGFwZTIuc2F0Qm91bmRzO1xyXG5cclxuXHRcdC8vIGNoZWNrIGF4ZXMgb2YgdGhlIGZpcnN0IHNoYXBlXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHMxWyBpIF07XHJcblx0XHRcdGNvbnN0IHNhID0gc2F0QXhlczFbIGkgXTtcclxuXHRcdFx0Y2FjaGVTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIHBvaW50czIgKTtcclxuXHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVTYXRCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgYXhlcyBvZiB0aGUgc2Vjb25kIHNoYXBlXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHMyWyBpIF07XHJcblx0XHRcdGNvbnN0IHNhID0gc2F0QXhlczJbIGkgXTtcclxuXHRcdFx0Y2FjaGVTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIHBvaW50czEgKTtcclxuXHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVTYXRCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuIiwiaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yMiwgUGxhbmUsIExpbmUzIH0gZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3Nlc3RQb2ludExpbmVUb0xpbmUgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvbWFzdGVyL3NyYy9HZW9tZXRyeS9MaW5lLmNwcCNMNTZcclxuXHRjb25zdCBkaXIxID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBkaXIyID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCB2MDIgPSBuZXcgVmVjdG9yMygpO1xyXG5cdHJldHVybiBmdW5jdGlvbiBjbG9zZXN0UG9pbnRMaW5lVG9MaW5lKCBsMSwgbDIsIHJlc3VsdCApIHtcclxuXHJcblx0XHRjb25zdCB2MCA9IGwxLnN0YXJ0O1xyXG5cdFx0Y29uc3QgdjEwID0gZGlyMTtcclxuXHRcdGNvbnN0IHYyID0gbDIuc3RhcnQ7XHJcblx0XHRjb25zdCB2MzIgPSBkaXIyO1xyXG5cclxuXHRcdHYwMi5zdWJWZWN0b3JzKCB2MCwgdjIgKTtcclxuXHRcdGRpcjEuc3ViVmVjdG9ycyggbDEuZW5kLCBsMi5zdGFydCApO1xyXG5cdFx0ZGlyMi5zdWJWZWN0b3JzKCBsMi5lbmQsIGwyLnN0YXJ0ICk7XHJcblxyXG5cdFx0Ly8gZmxvYXQgZDAyMzIgPSB2MDIuRG90KHYzMik7XHJcblx0XHRjb25zdCBkMDIzMiA9IHYwMi5kb3QoIHYzMiApO1xyXG5cclxuXHRcdC8vIGZsb2F0IGQzMjEwID0gdjMyLkRvdCh2MTApO1xyXG5cdFx0Y29uc3QgZDMyMTAgPSB2MzIuZG90KCB2MTAgKTtcclxuXHJcblx0XHQvLyBmbG9hdCBkMzIzMiA9IHYzMi5Eb3QodjMyKTtcclxuXHRcdGNvbnN0IGQzMjMyID0gdjMyLmRvdCggdjMyICk7XHJcblxyXG5cdFx0Ly8gZmxvYXQgZDAyMTAgPSB2MDIuRG90KHYxMCk7XHJcblx0XHRjb25zdCBkMDIxMCA9IHYwMi5kb3QoIHYxMCApO1xyXG5cclxuXHRcdC8vIGZsb2F0IGQxMDEwID0gdjEwLkRvdCh2MTApO1xyXG5cdFx0Y29uc3QgZDEwMTAgPSB2MTAuZG90KCB2MTAgKTtcclxuXHJcblx0XHQvLyBmbG9hdCBkZW5vbSA9IGQxMDEwKmQzMjMyIC0gZDMyMTAqZDMyMTA7XHJcblx0XHRjb25zdCBkZW5vbSA9IGQxMDEwICogZDMyMzIgLSBkMzIxMCAqIGQzMjEwO1xyXG5cclxuXHRcdGxldCBkLCBkMjtcclxuXHRcdGlmICggZGVub20gIT09IDAgKSB7XHJcblxyXG5cdFx0XHRkID0gKCBkMDIzMiAqIGQzMjEwIC0gZDAyMTAgKiBkMzIzMiApIC8gZGVub207XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdGQgPSAwO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRkMiA9ICggZDAyMzIgKyBkICogZDMyMTAgKSAvIGQzMjMyO1xyXG5cclxuXHRcdHJlc3VsdC54ID0gZDtcclxuXHRcdHJlc3VsdC55ID0gZDI7XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9tYXN0ZXIvc3JjL0dlb21ldHJ5L0xpbmVTZWdtZW50LmNwcCNMMTg3XHJcblx0Y29uc3QgcGFyYW1SZXN1bHQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdGNvbnN0IHRlbXAxID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCB0ZW1wMiA9IG5ldyBWZWN0b3IzKCk7XHJcblx0cmV0dXJuIGZ1bmN0aW9uIGNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50KCBsMSwgbDIsIHRhcmdldDEsIHRhcmdldDIgKSB7XHJcblxyXG5cdFx0Y2xvc2VzdFBvaW50TGluZVRvTGluZSggbDEsIGwyLCBwYXJhbVJlc3VsdCApO1xyXG5cclxuXHRcdGxldCBkID0gcGFyYW1SZXN1bHQueDtcclxuXHRcdGxldCBkMiA9IHBhcmFtUmVzdWx0Lnk7XHJcblx0XHRpZiAoIGQgPj0gMCAmJiBkIDw9IDEgJiYgZDIgPj0gMCAmJiBkMiA8PSAxICkge1xyXG5cclxuXHRcdFx0bDEuYXQoIGQsIHRhcmdldDEgKTtcclxuXHRcdFx0bDIuYXQoIGQyLCB0YXJnZXQyICk7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fSBlbHNlIGlmICggZCA+PSAwICYmIGQgPD0gMSApIHtcclxuXHJcblx0XHRcdC8vIE9ubHkgZDIgaXMgb3V0IG9mIGJvdW5kcy5cclxuXHRcdFx0aWYgKCBkMiA8IDAgKSB7XHJcblxyXG5cdFx0XHRcdGwyLmF0KCAwLCB0YXJnZXQyICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRsMi5hdCggMSwgdGFyZ2V0MiApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bDEuY2xvc2VzdFBvaW50VG9Qb2ludCggdGFyZ2V0MiwgdHJ1ZSwgdGFyZ2V0MSApO1xyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fSBlbHNlIGlmICggZDIgPj0gMCAmJiBkMiA8PSAxICkge1xyXG5cclxuXHRcdFx0Ly8gT25seSBkIGlzIG91dCBvZiBib3VuZHMuXHJcblx0XHRcdGlmICggZCA8IDAgKSB7XHJcblxyXG5cdFx0XHRcdGwxLmF0KCAwLCB0YXJnZXQxICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRsMS5hdCggMSwgdGFyZ2V0MSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bDIuY2xvc2VzdFBvaW50VG9Qb2ludCggdGFyZ2V0MSwgdHJ1ZSwgdGFyZ2V0MiApO1xyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdC8vIEJvdGggdSBhbmQgdTIgYXJlIG91dCBvZiBib3VuZHMuXHJcblx0XHRcdGxldCBwO1xyXG5cdFx0XHRpZiAoIGQgPCAwICkge1xyXG5cclxuXHRcdFx0XHRwID0gbDEuc3RhcnQ7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRwID0gbDEuZW5kO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IHAyO1xyXG5cdFx0XHRpZiAoIGQyIDwgMCApIHtcclxuXHJcblx0XHRcdFx0cDIgPSBsMi5zdGFydDtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdHAyID0gbDIuZW5kO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgY2xvc2VzdFBvaW50ID0gdGVtcDE7XHJcblx0XHRcdGNvbnN0IGNsb3Nlc3RQb2ludDIgPSB0ZW1wMjtcclxuXHRcdFx0bDEuY2xvc2VzdFBvaW50VG9Qb2ludCggcDIsIHRydWUsIHRlbXAxICk7XHJcblx0XHRcdGwyLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHAsIHRydWUsIHRlbXAyICk7XHJcblxyXG5cdFx0XHRpZiAoIGNsb3Nlc3RQb2ludC5kaXN0YW5jZVRvU3F1YXJlZCggcDIgKSA8PSBjbG9zZXN0UG9pbnQyLmRpc3RhbmNlVG9TcXVhcmVkKCBwICkgKSB7XHJcblxyXG5cdFx0XHRcdHRhcmdldDEuY29weSggY2xvc2VzdFBvaW50ICk7XHJcblx0XHRcdFx0dGFyZ2V0Mi5jb3B5KCBwMiApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdHRhcmdldDEuY29weSggcCApO1xyXG5cdFx0XHRcdHRhcmdldDIuY29weSggY2xvc2VzdFBvaW50MiApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuXHJcblxyXG5leHBvcnQgY29uc3Qgc3BoZXJlSW50ZXJzZWN0VHJpYW5nbGUgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Ly8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQwNDM5NTUvZGV0ZWN0LWNvbGxpc2lvbi1iZXR3ZWVuLXNwaGVyZS1hbmQtdHJpYW5nbGUtaW4tdGhyZWUtanNcclxuXHRjb25zdCBjbG9zZXN0UG9pbnRUZW1wID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBwcm9qZWN0ZWRQb2ludFRlbXAgPSBuZXcgVmVjdG9yMygpO1xyXG5cdGNvbnN0IHBsYW5lVGVtcCA9IG5ldyBQbGFuZSgpO1xyXG5cdGNvbnN0IGxpbmVUZW1wID0gbmV3IExpbmUzKCk7XHJcblx0cmV0dXJuIGZ1bmN0aW9uIHNwaGVyZUludGVyc2VjdFRyaWFuZ2xlKCBzcGhlcmUsIHRyaWFuZ2xlICkge1xyXG5cclxuXHRcdGNvbnN0IHsgcmFkaXVzLCBjZW50ZXIgfSA9IHNwaGVyZTtcclxuXHRcdGNvbnN0IHsgYSwgYiwgYyB9ID0gdHJpYW5nbGU7XHJcblxyXG5cdFx0Ly8gcGhhc2UgMVxyXG5cdFx0bGluZVRlbXAuc3RhcnQgPSBhO1xyXG5cdFx0bGluZVRlbXAuZW5kID0gYjtcclxuXHRcdGNvbnN0IGNsb3Nlc3RQb2ludDEgPSBsaW5lVGVtcC5jbG9zZXN0UG9pbnRUb1BvaW50KCBjZW50ZXIsIHRydWUsIGNsb3Nlc3RQb2ludFRlbXAgKTtcclxuXHRcdGlmICggY2xvc2VzdFBvaW50MS5kaXN0YW5jZVRvKCBjZW50ZXIgKSA8PSByYWRpdXMgKSByZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRsaW5lVGVtcC5zdGFydCA9IGE7XHJcblx0XHRsaW5lVGVtcC5lbmQgPSBjO1xyXG5cdFx0Y29uc3QgY2xvc2VzdFBvaW50MiA9IGxpbmVUZW1wLmNsb3Nlc3RQb2ludFRvUG9pbnQoIGNlbnRlciwgdHJ1ZSwgY2xvc2VzdFBvaW50VGVtcCApO1xyXG5cdFx0aWYgKCBjbG9zZXN0UG9pbnQyLmRpc3RhbmNlVG8oIGNlbnRlciApIDw9IHJhZGl1cyApIHJldHVybiB0cnVlO1xyXG5cclxuXHRcdGxpbmVUZW1wLnN0YXJ0ID0gYjtcclxuXHRcdGxpbmVUZW1wLmVuZCA9IGM7XHJcblx0XHRjb25zdCBjbG9zZXN0UG9pbnQzID0gbGluZVRlbXAuY2xvc2VzdFBvaW50VG9Qb2ludCggY2VudGVyLCB0cnVlLCBjbG9zZXN0UG9pbnRUZW1wICk7XHJcblx0XHRpZiAoIGNsb3Nlc3RQb2ludDMuZGlzdGFuY2VUbyggY2VudGVyICkgPD0gcmFkaXVzICkgcmV0dXJuIHRydWU7XHJcblxyXG5cdFx0Ly8gcGhhc2UgMlxyXG5cdFx0Y29uc3QgcGxhbmUgPSB0cmlhbmdsZS5nZXRQbGFuZSggcGxhbmVUZW1wICk7XHJcblx0XHRjb25zdCBkcCA9IE1hdGguYWJzKCBwbGFuZS5kaXN0YW5jZVRvUG9pbnQoIGNlbnRlciApICk7XHJcblx0XHRpZiAoIGRwIDw9IHJhZGl1cyApIHtcclxuXHJcblx0XHRcdGNvbnN0IHBwID0gcGxhbmUucHJvamVjdFBvaW50KCBjZW50ZXIsIHByb2plY3RlZFBvaW50VGVtcCApO1xyXG5cdFx0XHRjb25zdCBjcCA9IHRyaWFuZ2xlLmNvbnRhaW5zUG9pbnQoIHBwICk7XHJcblx0XHRcdGlmICggY3AgKSByZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHR9O1xyXG5cclxufSApKCk7XHJcbiIsImltcG9ydCB7IFRyaWFuZ2xlLCBWZWN0b3IzLCBMaW5lMywgU3BoZXJlLCBQbGFuZSB9IGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgU2VwYXJhdGluZ0F4aXNCb3VuZHMgfSBmcm9tICcuL1NlcGFyYXRpbmdBeGlzQm91bmRzLmpzJztcclxuaW1wb3J0IHsgY2xvc2VzdFBvaW50c1NlZ21lbnRUb1NlZ21lbnQsIHNwaGVyZUludGVyc2VjdFRyaWFuZ2xlIH0gZnJvbSAnLi9NYXRoVXRpbGl0aWVzLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXBhcmF0aW5nQXhpc1RyaWFuZ2xlIGV4dGVuZHMgVHJpYW5nbGUge1xyXG5cclxuXHRjb25zdHJ1Y3RvciggLi4uYXJncyApIHtcclxuXHJcblx0XHRzdXBlciggLi4uYXJncyApO1xyXG5cclxuXHRcdHRoaXMuaXNTZXBhcmF0aW5nQXhpc1RyaWFuZ2xlID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2F0QXhlcyA9IG5ldyBBcnJheSggNCApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBWZWN0b3IzKCkgKTtcclxuXHRcdHRoaXMuc2F0Qm91bmRzID0gbmV3IEFycmF5KCA0ICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCkgKTtcclxuXHRcdHRoaXMucG9pbnRzID0gWyB0aGlzLmEsIHRoaXMuYiwgdGhpcy5jIF07XHJcblx0XHR0aGlzLnNwaGVyZSA9IG5ldyBTcGhlcmUoKTtcclxuXHRcdHRoaXMucGxhbmUgPSBuZXcgUGxhbmUoKTtcclxuXHRcdHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuXHJcblx0fVxyXG5cclxuXHRpbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKSB7XHJcblxyXG5cdFx0cmV0dXJuIHNwaGVyZUludGVyc2VjdFRyaWFuZ2xlKCBzcGhlcmUsIHRoaXMgKTtcclxuXHJcblx0fVxyXG5cclxuXHR1cGRhdGUoKSB7XHJcblxyXG5cdFx0Y29uc3QgYSA9IHRoaXMuYTtcclxuXHRcdGNvbnN0IGIgPSB0aGlzLmI7XHJcblx0XHRjb25zdCBjID0gdGhpcy5jO1xyXG5cdFx0Y29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XHJcblxyXG5cdFx0Y29uc3Qgc2F0QXhlcyA9IHRoaXMuc2F0QXhlcztcclxuXHRcdGNvbnN0IHNhdEJvdW5kcyA9IHRoaXMuc2F0Qm91bmRzO1xyXG5cclxuXHRcdGNvbnN0IGF4aXMwID0gc2F0QXhlc1sgMCBdO1xyXG5cdFx0Y29uc3Qgc2FiMCA9IHNhdEJvdW5kc1sgMCBdO1xyXG5cdFx0dGhpcy5nZXROb3JtYWwoIGF4aXMwICk7XHJcblx0XHRzYWIwLnNldEZyb21Qb2ludHMoIGF4aXMwLCBwb2ludHMgKTtcclxuXHJcblx0XHRjb25zdCBheGlzMSA9IHNhdEF4ZXNbIDEgXTtcclxuXHRcdGNvbnN0IHNhYjEgPSBzYXRCb3VuZHNbIDEgXTtcclxuXHRcdGF4aXMxLnN1YlZlY3RvcnMoIGEsIGIgKTtcclxuXHRcdHNhYjEuc2V0RnJvbVBvaW50cyggYXhpczEsIHBvaW50cyApO1xyXG5cclxuXHRcdGNvbnN0IGF4aXMyID0gc2F0QXhlc1sgMiBdO1xyXG5cdFx0Y29uc3Qgc2FiMiA9IHNhdEJvdW5kc1sgMiBdO1xyXG5cdFx0YXhpczIuc3ViVmVjdG9ycyggYiwgYyApO1xyXG5cdFx0c2FiMi5zZXRGcm9tUG9pbnRzKCBheGlzMiwgcG9pbnRzICk7XHJcblxyXG5cdFx0Y29uc3QgYXhpczMgPSBzYXRBeGVzWyAzIF07XHJcblx0XHRjb25zdCBzYWIzID0gc2F0Qm91bmRzWyAzIF07XHJcblx0XHRheGlzMy5zdWJWZWN0b3JzKCBjLCBhICk7XHJcblx0XHRzYWIzLnNldEZyb21Qb2ludHMoIGF4aXMzLCBwb2ludHMgKTtcclxuXHJcblx0XHR0aGlzLnNwaGVyZS5zZXRGcm9tUG9pbnRzKCB0aGlzLnBvaW50cyApO1xyXG5cdFx0dGhpcy5wbGFuZS5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggYXhpczAsIGEgKTtcclxuXHRcdHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxuU2VwYXJhdGluZ0F4aXNUcmlhbmdsZS5wcm90b3R5cGUuY2xvc2VzdFBvaW50VG9TZWdtZW50ID0gKCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGNvbnN0IHBvaW50MSA9IG5ldyBWZWN0b3IzKCk7XHJcblx0Y29uc3QgcG9pbnQyID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBlZGdlID0gbmV3IExpbmUzKCk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvU2VnbWVudCggc2VnbWVudCwgdGFyZ2V0MSA9IG51bGwsIHRhcmdldDIgPSBudWxsICkge1xyXG5cclxuXHRcdGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gc2VnbWVudDtcclxuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xyXG5cdFx0bGV0IGRpc3RTcTtcclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG5cclxuXHRcdC8vIGNoZWNrIHRoZSB0cmlhbmdsZSBlZGdlc1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IG5leHRpID0gKCBpICsgMSApICUgMztcclxuXHRcdFx0ZWRnZS5zdGFydC5jb3B5KCBwb2ludHNbIGkgXSApO1xyXG5cdFx0XHRlZGdlLmVuZC5jb3B5KCBwb2ludHNbIG5leHRpIF0gKTtcclxuXHJcblx0XHRcdGNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50KCBlZGdlLCBzZWdtZW50LCBwb2ludDEsIHBvaW50MiApO1xyXG5cclxuXHRcdFx0ZGlzdFNxID0gcG9pbnQxLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcclxuXHRcdFx0aWYgKCBkaXN0U3EgPCBjbG9zZXN0RGlzdGFuY2VTcSApIHtcclxuXHJcblx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0U3E7XHJcblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBlbmQgcG9pbnRzXHJcblx0XHR0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHN0YXJ0LCBwb2ludDEgKTtcclxuXHRcdGRpc3RTcSA9IHN0YXJ0LmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDEgKTtcclxuXHRcdGlmICggZGlzdFNxIDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XHJcblxyXG5cdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3RTcTtcclxuXHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcclxuXHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBzdGFydCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnQoIGVuZCwgcG9pbnQxICk7XHJcblx0XHRkaXN0U3EgPSBlbmQuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50MSApO1xyXG5cdFx0aWYgKCBkaXN0U3EgPCBjbG9zZXN0RGlzdGFuY2VTcSApIHtcclxuXHJcblx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xyXG5cdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHBvaW50MSApO1xyXG5cdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIGVuZCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCBjbG9zZXN0RGlzdGFuY2VTcSApO1xyXG5cclxuXHR9O1xyXG5cclxufSApKCk7XHJcblxyXG5TZXBhcmF0aW5nQXhpc1RyaWFuZ2xlLnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGUgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3Qgc2FUcmkyID0gbmV3IFNlcGFyYXRpbmdBeGlzVHJpYW5nbGUoKTtcclxuXHRjb25zdCBhcnIxID0gbmV3IEFycmF5KCAzICk7XHJcblx0Y29uc3QgYXJyMiA9IG5ldyBBcnJheSggMyApO1xyXG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xyXG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kczIgPSBuZXcgU2VwYXJhdGluZ0F4aXNCb3VuZHMoKTtcclxuXHRjb25zdCBjYWNoZWRBeGlzID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBkaXIxID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBkaXIyID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCB0ZW1wRGlyID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBlZGdlID0gbmV3IExpbmUzKCk7XHJcblx0Y29uc3QgZWRnZTEgPSBuZXcgTGluZTMoKTtcclxuXHRjb25zdCBlZGdlMiA9IG5ldyBMaW5lMygpO1xyXG5cclxuXHQvLyBUT0RPOiBJZiB0aGUgdHJpYW5nbGVzIGFyZSBjb3BsYW5hciBhbmQgaW50ZXJzZWN0aW5nIHRoZSB0YXJnZXQgaXMgbm9uc2Vuc2ljYWwuIEl0IHNob3VsZCBhdCBsZWFzdFxyXG5cdC8vIGJlIGEgbGluZSBjb250YWluZWQgYnkgYm90aCB0cmlhbmdsZXMgaWYgbm90IGEgZGlmZmVyZW50IHNwZWNpYWwgY2FzZSBzb21laG93IHJlcHJlc2VudGVkIGluIHRoZSByZXR1cm4gcmVzdWx0LlxyXG5cdHJldHVybiBmdW5jdGlvbiBpbnRlcnNlY3RzVHJpYW5nbGUoIG90aGVyLCB0YXJnZXQgPSBudWxsICkge1xyXG5cclxuXHRcdGlmICggdGhpcy5uZWVkc1VwZGF0ZSApIHtcclxuXHJcblx0XHRcdHRoaXMudXBkYXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggISBvdGhlci5pc1NlcGFyYXRpbmdBeGlzVHJpYW5nbGUgKSB7XHJcblxyXG5cdFx0XHRzYVRyaTIuY29weSggb3RoZXIgKTtcclxuXHRcdFx0c2FUcmkyLnVwZGF0ZSgpO1xyXG5cdFx0XHRvdGhlciA9IHNhVHJpMjtcclxuXHJcblx0XHR9IGVsc2UgaWYgKCBvdGhlci5uZWVkc1VwZGF0ZSApIHtcclxuXHJcblx0XHRcdG90aGVyLnVwZGF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzYXRCb3VuZHMxID0gdGhpcy5zYXRCb3VuZHM7XHJcblx0XHRjb25zdCBzYXRBeGVzMSA9IHRoaXMuc2F0QXhlcztcclxuXHRcdGFycjJbIDAgXSA9IG90aGVyLmE7XHJcblx0XHRhcnIyWyAxIF0gPSBvdGhlci5iO1xyXG5cdFx0YXJyMlsgMiBdID0gb3RoZXIuYztcclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDQ7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBzYiA9IHNhdEJvdW5kczFbIGkgXTtcclxuXHRcdFx0Y29uc3Qgc2EgPSBzYXRBeGVzMVsgaSBdO1xyXG5cdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIGFycjIgKTtcclxuXHRcdFx0aWYgKCBzYi5pc1NlcGFyYXRlZCggY2FjaGVkU2F0Qm91bmRzICkgKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHNhdEJvdW5kczIgPSBvdGhlci5zYXRCb3VuZHM7XHJcblx0XHRjb25zdCBzYXRBeGVzMiA9IG90aGVyLnNhdEF4ZXM7XHJcblx0XHRhcnIxWyAwIF0gPSB0aGlzLmE7XHJcblx0XHRhcnIxWyAxIF0gPSB0aGlzLmI7XHJcblx0XHRhcnIxWyAyIF0gPSB0aGlzLmM7XHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA0OyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHMyWyBpIF07XHJcblx0XHRcdGNvbnN0IHNhID0gc2F0QXhlczJbIGkgXTtcclxuXHRcdFx0Y2FjaGVkU2F0Qm91bmRzLnNldEZyb21Qb2ludHMoIHNhLCBhcnIxICk7XHJcblx0XHRcdGlmICggc2IuaXNTZXBhcmF0ZWQoIGNhY2hlZFNhdEJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBjcm9zc2VkIGF4ZXNcclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDQ7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBzYTEgPSBzYXRBeGVzMVsgaSBdO1xyXG5cdFx0XHRmb3IgKCBsZXQgaTIgPSAwOyBpMiA8IDQ7IGkyICsrICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBzYTIgPSBzYXRBeGVzMlsgaTIgXTtcclxuXHRcdFx0XHRjYWNoZWRBeGlzLmNyb3NzVmVjdG9ycyggc2ExLCBzYTIgKTtcclxuXHRcdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggY2FjaGVkQXhpcywgYXJyMSApO1xyXG5cdFx0XHRcdGNhY2hlZFNhdEJvdW5kczIuc2V0RnJvbVBvaW50cyggY2FjaGVkQXhpcywgYXJyMiApO1xyXG5cdFx0XHRcdGlmICggY2FjaGVkU2F0Qm91bmRzLmlzU2VwYXJhdGVkKCBjYWNoZWRTYXRCb3VuZHMyICkgKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdGFyZ2V0ICkge1xyXG5cclxuXHRcdFx0Y29uc3QgcGxhbmUxID0gdGhpcy5wbGFuZTtcclxuXHRcdFx0Y29uc3QgcGxhbmUyID0gb3RoZXIucGxhbmU7XHJcblxyXG5cdFx0XHRpZiAoIE1hdGguYWJzKCBwbGFuZTEubm9ybWFsLmRvdCggcGxhbmUyLm5vcm1hbCApICkgPiAxLjAgLSAxZS0xMCApIHtcclxuXHJcblx0XHRcdFx0Ly8gVE9ETyBmaW5kIHR3byBwb2ludHMgdGhhdCBpbnRlcnNlY3Qgb24gdGhlIGVkZ2VzIGFuZCBtYWtlIHRoYXQgdGhlIHJlc3VsdFxyXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1NlcGFyYXRpbmdBeGlzVHJpYW5nbGUuaW50ZXJzZWN0c1RyaWFuZ2xlOiBUcmlhbmdsZXMgYXJlIGNvcGxhbmFyIHdoaWNoIGRvZXMgbm90IHN1cHBvcnQgYW4gb3V0cHV0IGVkZ2UuIFNldHRpbmcgZWRnZSB0byAwLCAwLCAwLicgKTtcclxuXHRcdFx0XHR0YXJnZXQuc3RhcnQuc2V0KCAwLCAwLCAwICk7XHJcblx0XHRcdFx0dGFyZ2V0LmVuZC5zZXQoIDAsIDAsIDAgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgdGhlIGVkZ2UgdGhhdCBpbnRlcnNlY3RzIHRoZSBvdGhlciB0cmlhbmdsZSBwbGFuZVxyXG5cdFx0XHRcdGNvbnN0IHBvaW50czEgPSB0aGlzLnBvaW50cztcclxuXHRcdFx0XHRsZXQgZm91bmQxID0gZmFsc2U7XHJcblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBwMSA9IHBvaW50czFbIGkgXTtcclxuXHRcdFx0XHRcdGNvbnN0IHAyID0gcG9pbnRzMVsgKCBpICsgMSApICUgMyBdO1xyXG5cclxuXHRcdFx0XHRcdGVkZ2Uuc3RhcnQuY29weSggcDEgKTtcclxuXHRcdFx0XHRcdGVkZ2UuZW5kLmNvcHkoIHAyICk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBwbGFuZTIuaW50ZXJzZWN0TGluZSggZWRnZSwgZm91bmQxID8gZWRnZTEuc3RhcnQgOiBlZGdlMS5lbmQgKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggZm91bmQxICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGZvdW5kMSA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgdGhlIG90aGVyIHRyaWFuZ2xlcyBlZGdlIHRoYXQgaW50ZXJzZWN0cyB0aGlzIHBsYW5lXHJcblx0XHRcdFx0Y29uc3QgcG9pbnRzMiA9IG90aGVyLnBvaW50cztcclxuXHRcdFx0XHRsZXQgZm91bmQyID0gZmFsc2U7XHJcblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBwMSA9IHBvaW50czJbIGkgXTtcclxuXHRcdFx0XHRcdGNvbnN0IHAyID0gcG9pbnRzMlsgKCBpICsgMSApICUgMyBdO1xyXG5cclxuXHRcdFx0XHRcdGVkZ2Uuc3RhcnQuY29weSggcDEgKTtcclxuXHRcdFx0XHRcdGVkZ2UuZW5kLmNvcHkoIHAyICk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBwbGFuZTEuaW50ZXJzZWN0TGluZSggZWRnZSwgZm91bmQyID8gZWRnZTIuc3RhcnQgOiBlZGdlMi5lbmQgKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggZm91bmQyICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGZvdW5kMiA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgc3dhcCB0aGUgc2Vjb25kIGVkZ2Ugc28gYm90aCBsaW5lcyBhcmUgcnVubmluZyB0aGUgc2FtZSBkaXJlY3Rpb25cclxuXHRcdFx0XHRlZGdlMS5kZWx0YSggZGlyMSApO1xyXG5cdFx0XHRcdGVkZ2UyLmRlbHRhKCBkaXIyICk7XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoIGRpcjEuZG90KCBkaXIyICkgPCAwICkge1xyXG5cclxuXHRcdFx0XHRcdGxldCB0bXAgPSBlZGdlMi5zdGFydDtcclxuXHRcdFx0XHRcdGVkZ2UyLnN0YXJ0ID0gZWRnZTIuZW5kO1xyXG5cdFx0XHRcdFx0ZWRnZTIuZW5kID0gdG1wO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRlbXBEaXIuc3ViVmVjdG9ycyggZWRnZTEuc3RhcnQsIGVkZ2UyLnN0YXJ0ICk7XHJcblx0XHRcdFx0aWYgKCB0ZW1wRGlyLmRvdCggZGlyMSApID4gMCApIHtcclxuXHJcblx0XHRcdFx0XHR0YXJnZXQuc3RhcnQuY29weSggZWRnZTEuc3RhcnQgKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHR0YXJnZXQuc3RhcnQuY29weSggZWRnZTIuc3RhcnQgKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0ZW1wRGlyLnN1YlZlY3RvcnMoIGVkZ2UxLmVuZCwgZWRnZTIuZW5kICk7XHJcblx0XHRcdFx0aWYgKCB0ZW1wRGlyLmRvdCggZGlyMSApIDwgMCApIHtcclxuXHJcblx0XHRcdFx0XHR0YXJnZXQuZW5kLmNvcHkoIGVkZ2UxLmVuZCApO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHRhcmdldC5lbmQuY29weSggZWRnZTIuZW5kICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuXHJcblxyXG5TZXBhcmF0aW5nQXhpc1RyaWFuZ2xlLnByb3RvdHlwZS5kaXN0YW5jZVRvUG9pbnQgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3QgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24gZGlzdGFuY2VUb1BvaW50KCBwb2ludCApIHtcclxuXHJcblx0XHR0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50LCB0YXJnZXQgKTtcclxuXHRcdHJldHVybiBwb2ludC5kaXN0YW5jZVRvKCB0YXJnZXQgKTtcclxuXHJcblx0fTtcclxuXHJcbn0gKSgpO1xyXG5cclxuXHJcblNlcGFyYXRpbmdBeGlzVHJpYW5nbGUucHJvdG90eXBlLmRpc3RhbmNlVG9UcmlhbmdsZSA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCBwb2ludCA9IG5ldyBWZWN0b3IzKCk7XHJcblx0Y29uc3QgcG9pbnQyID0gbmV3IFZlY3RvcjMoKTtcclxuXHRjb25zdCBjb3JuZXJGaWVsZHMgPSBbICdhJywgJ2InLCAnYycgXTtcclxuXHRjb25zdCBsaW5lMSA9IG5ldyBMaW5lMygpO1xyXG5cdGNvbnN0IGxpbmUyID0gbmV3IExpbmUzKCk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvVHJpYW5nbGUoIG90aGVyLCB0YXJnZXQxID0gbnVsbCwgdGFyZ2V0MiA9IG51bGwgKSB7XHJcblxyXG5cdFx0Y29uc3QgbGluZVRhcmdldCA9IHRhcmdldDEgfHwgdGFyZ2V0MiA/IGxpbmUxIDogbnVsbDtcclxuXHRcdGlmICggdGhpcy5pbnRlcnNlY3RzVHJpYW5nbGUoIG90aGVyLCBsaW5lVGFyZ2V0ICkgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHRhcmdldDEgfHwgdGFyZ2V0MiApIHtcclxuXHJcblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgbGluZVRhcmdldC5nZXRDZW50ZXIoIHRhcmdldDEgKTtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSBsaW5lVGFyZ2V0LmdldENlbnRlciggdGFyZ2V0MiApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIDA7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG5cclxuXHRcdC8vIGNoZWNrIGFsbCBwb2ludCBkaXN0YW5jZXNcclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDM7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRsZXQgZGlzdDtcclxuXHRcdFx0Y29uc3QgZmllbGQgPSBjb3JuZXJGaWVsZHNbIGkgXTtcclxuXHRcdFx0Y29uc3Qgb3RoZXJWZWMgPSBvdGhlclsgZmllbGQgXTtcclxuXHRcdFx0dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50KCBvdGhlclZlYywgcG9pbnQgKTtcclxuXHJcblx0XHRcdGRpc3QgPSBvdGhlclZlYy5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQgKTtcclxuXHJcblx0XHRcdGlmICggZGlzdCA8IGNsb3Nlc3REaXN0YW5jZVNxICkge1xyXG5cclxuXHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3Q7XHJcblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludCApO1xyXG5cdFx0XHRcdGlmICggdGFyZ2V0MiApIHRhcmdldDIuY29weSggb3RoZXJWZWMgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRjb25zdCB0aGlzVmVjID0gdGhpc1sgZmllbGQgXTtcclxuXHRcdFx0b3RoZXIuY2xvc2VzdFBvaW50VG9Qb2ludCggdGhpc1ZlYywgcG9pbnQgKTtcclxuXHJcblx0XHRcdGRpc3QgPSB0aGlzVmVjLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludCApO1xyXG5cclxuXHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XHJcblxyXG5cdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdDtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHRoaXNWZWMgKTtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDM7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBmMTEgPSBjb3JuZXJGaWVsZHNbIGkgXTtcclxuXHRcdFx0Y29uc3QgZjEyID0gY29ybmVyRmllbGRzWyAoIGkgKyAxICkgJSAzIF07XHJcblx0XHRcdGxpbmUxLnNldCggdGhpc1sgZjExIF0sIHRoaXNbIGYxMiBdICk7XHJcblx0XHRcdGZvciAoIGxldCBpMiA9IDA7IGkyIDwgMzsgaTIgKysgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGYyMSA9IGNvcm5lckZpZWxkc1sgaTIgXTtcclxuXHRcdFx0XHRjb25zdCBmMjIgPSBjb3JuZXJGaWVsZHNbICggaTIgKyAxICkgJSAzIF07XHJcblx0XHRcdFx0bGluZTIuc2V0KCBvdGhlclsgZjIxIF0sIG90aGVyWyBmMjIgXSApO1xyXG5cclxuXHRcdFx0XHRjbG9zZXN0UG9pbnRzU2VnbWVudFRvU2VnbWVudCggbGluZTEsIGxpbmUyLCBwb2ludCwgcG9pbnQyICk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRpc3QgPSBwb2ludC5kaXN0YW5jZVRvU3F1YXJlZCggcG9pbnQyICk7XHJcblx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XHJcblxyXG5cdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0O1xyXG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludCApO1xyXG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBwb2ludDIgKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCBjbG9zZXN0RGlzdGFuY2VTcSApO1xyXG5cclxuXHR9O1xyXG5cclxufSApKCk7XHJcblxyXG4iLCJpbXBvcnQgeyBCb3gzLCBWZWN0b3IzLCBNYXRyaXg0LCBMaW5lMyB9IGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgU2VwYXJhdGluZ0F4aXNCb3VuZHMgfSBmcm9tICcuL1NlcGFyYXRpbmdBeGlzQm91bmRzLmpzJztcclxuaW1wb3J0IHsgU2VwYXJhdGluZ0F4aXNUcmlhbmdsZSB9IGZyb20gJy4vU2VwYXJhdGluZ0F4aXNUcmlhbmdsZS5qcyc7XHJcbmltcG9ydCB7IGNsb3Nlc3RQb2ludHNTZWdtZW50VG9TZWdtZW50IH0gZnJvbSAnLi9NYXRoVXRpbGl0aWVzLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcmllbnRlZEJveCBleHRlbmRzIEJveDMge1xyXG5cclxuXHRjb25zdHJ1Y3RvciggLi4uYXJncyApIHtcclxuXHJcblx0XHRzdXBlciggLi4uYXJncyApO1xyXG5cclxuXHRcdHRoaXMuaXNPcmllbnRlZEJveCA9IHRydWU7XHJcblx0XHR0aGlzLm1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcblx0XHR0aGlzLmludk1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcblx0XHR0aGlzLnBvaW50cyA9IG5ldyBBcnJheSggOCApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBWZWN0b3IzKCkgKTtcclxuXHRcdHRoaXMuc2F0QXhlcyA9IG5ldyBBcnJheSggMyApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBWZWN0b3IzKCkgKTtcclxuXHRcdHRoaXMuc2F0Qm91bmRzID0gbmV3IEFycmF5KCAzICkuZmlsbCgpLm1hcCggKCkgPT4gbmV3IFNlcGFyYXRpbmdBeGlzQm91bmRzKCkgKTtcclxuXHRcdHRoaXMuYWxpZ25lZFNhdEJvdW5kcyA9IG5ldyBBcnJheSggMyApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpICk7XHJcblx0XHR0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XHJcblxyXG5cdH1cclxuXHJcblx0c2V0KCBtaW4sIG1heCwgbWF0cml4ICkge1xyXG5cclxuXHRcdHN1cGVyLnNldCggbWluLCBtYXggKTtcclxuXHRcdHRoaXMubWF0cml4ID0gbWF0cml4O1xyXG5cdFx0dGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG5cdH1cclxuXHJcblx0Y29weSggb3RoZXIgKSB7XHJcblxyXG5cdFx0c3VwZXIuY29weSggb3RoZXIgKTtcclxuXHRcdHRoaXMubWF0cml4LmNvcHkoIG90aGVyLm1hdHJpeCApO1xyXG5cdFx0dGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbk9yaWVudGVkQm94LnByb3RvdHlwZS51cGRhdGUgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuXHJcblx0XHRjb25zdCBtYXRyaXggPSB0aGlzLm1hdHJpeDtcclxuXHRcdGNvbnN0IG1pbiA9IHRoaXMubWluO1xyXG5cdFx0Y29uc3QgbWF4ID0gdGhpcy5tYXg7XHJcblxyXG5cdFx0Y29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XHJcblx0XHRmb3IgKCBsZXQgeCA9IDA7IHggPD0gMTsgeCArKyApIHtcclxuXHJcblx0XHRcdGZvciAoIGxldCB5ID0gMDsgeSA8PSAxOyB5ICsrICkge1xyXG5cclxuXHRcdFx0XHRmb3IgKCBsZXQgeiA9IDA7IHogPD0gMTsgeiArKyApIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBpID0gKCAoIDEgPDwgMCApICogeCApIHwgKCAoIDEgPDwgMSApICogeSApIHwgKCAoIDEgPDwgMiApICogeiApO1xyXG5cdFx0XHRcdFx0Y29uc3QgdiA9IHBvaW50c1sgaSBdO1xyXG5cdFx0XHRcdFx0di54ID0geCA/IG1heC54IDogbWluLng7XHJcblx0XHRcdFx0XHR2LnkgPSB5ID8gbWF4LnkgOiBtaW4ueTtcclxuXHRcdFx0XHRcdHYueiA9IHogPyBtYXgueiA6IG1pbi56O1xyXG5cclxuXHRcdFx0XHRcdHYuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzYXRCb3VuZHMgPSB0aGlzLnNhdEJvdW5kcztcclxuXHRcdGNvbnN0IHNhdEF4ZXMgPSB0aGlzLnNhdEF4ZXM7XHJcblx0XHRjb25zdCBtaW5WZWMgPSBwb2ludHNbIDAgXTtcclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDM7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBheGlzID0gc2F0QXhlc1sgaSBdO1xyXG5cdFx0XHRjb25zdCBzYiA9IHNhdEJvdW5kc1sgaSBdO1xyXG5cdFx0XHRjb25zdCBpbmRleCA9IDEgPDwgaTtcclxuXHRcdFx0Y29uc3QgcGkgPSBwb2ludHNbIGluZGV4IF07XHJcblxyXG5cdFx0XHRheGlzLnN1YlZlY3RvcnMoIG1pblZlYywgcGkgKTtcclxuXHRcdFx0c2Iuc2V0RnJvbVBvaW50cyggYXhpcywgcG9pbnRzICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGFsaWduZWRTYXRCb3VuZHMgPSB0aGlzLmFsaWduZWRTYXRCb3VuZHM7XHJcblx0XHRhbGlnbmVkU2F0Qm91bmRzWyAwIF0uc2V0RnJvbVBvaW50c0ZpZWxkKCBwb2ludHMsICd4JyApO1xyXG5cdFx0YWxpZ25lZFNhdEJvdW5kc1sgMSBdLnNldEZyb21Qb2ludHNGaWVsZCggcG9pbnRzLCAneScgKTtcclxuXHRcdGFsaWduZWRTYXRCb3VuZHNbIDIgXS5zZXRGcm9tUG9pbnRzRmllbGQoIHBvaW50cywgJ3onICk7XHJcblxyXG5cdFx0dGhpcy5pbnZNYXRyaXguY29weSggdGhpcy5tYXRyaXggKS5pbnZlcnQoKTtcclxuXHRcdHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuXHJcblx0fTtcclxuXHJcbn0gKSgpO1xyXG5cclxuT3JpZW50ZWRCb3gucHJvdG90eXBlLmludGVyc2VjdHNCb3ggPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3QgYWFiYkJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xyXG5cdHJldHVybiBmdW5jdGlvbiBpbnRlcnNlY3RzQm94KCBib3ggKSB7XHJcblxyXG5cdFx0Ly8gVE9ETzogc2hvdWxkIHRoaXMgYmUgZG9pbmcgU0FUIGFnYWluc3QgdGhlIEFBQkI/XHJcblx0XHRpZiAoIHRoaXMubmVlZHNVcGRhdGUgKSB7XHJcblxyXG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBtaW4gPSBib3gubWluO1xyXG5cdFx0Y29uc3QgbWF4ID0gYm94Lm1heDtcclxuXHRcdGNvbnN0IHNhdEJvdW5kcyA9IHRoaXMuc2F0Qm91bmRzO1xyXG5cdFx0Y29uc3Qgc2F0QXhlcyA9IHRoaXMuc2F0QXhlcztcclxuXHRcdGNvbnN0IGFsaWduZWRTYXRCb3VuZHMgPSB0aGlzLmFsaWduZWRTYXRCb3VuZHM7XHJcblxyXG5cdFx0YWFiYkJvdW5kcy5taW4gPSBtaW4ueDtcclxuXHRcdGFhYmJCb3VuZHMubWF4ID0gbWF4Lng7XHJcblx0XHRpZiAoIGFsaWduZWRTYXRCb3VuZHNbIDAgXS5pc1NlcGFyYXRlZCggYWFiYkJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdGFhYmJCb3VuZHMubWluID0gbWluLnk7XHJcblx0XHRhYWJiQm91bmRzLm1heCA9IG1heC55O1xyXG5cdFx0aWYgKCBhbGlnbmVkU2F0Qm91bmRzWyAxIF0uaXNTZXBhcmF0ZWQoIGFhYmJCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRhYWJiQm91bmRzLm1pbiA9IG1pbi56O1xyXG5cdFx0YWFiYkJvdW5kcy5tYXggPSBtYXguejtcclxuXHRcdGlmICggYWxpZ25lZFNhdEJvdW5kc1sgMiBdLmlzU2VwYXJhdGVkKCBhYWJiQm91bmRzICkgKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IGF4aXMgPSBzYXRBeGVzWyBpIF07XHJcblx0XHRcdGNvbnN0IHNiID0gc2F0Qm91bmRzWyBpIF07XHJcblx0XHRcdGFhYmJCb3VuZHMuc2V0RnJvbUJveCggYXhpcywgYm94ICk7XHJcblx0XHRcdGlmICggc2IuaXNTZXBhcmF0ZWQoIGFhYmJCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuXHJcbk9yaWVudGVkQm94LnByb3RvdHlwZS5pbnRlcnNlY3RzVHJpYW5nbGUgPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3Qgc2FUcmkgPSBuZXcgU2VwYXJhdGluZ0F4aXNUcmlhbmdsZSgpO1xyXG5cdGNvbnN0IHBvaW50c0FyciA9IG5ldyBBcnJheSggMyApO1xyXG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kcyA9IG5ldyBTZXBhcmF0aW5nQXhpc0JvdW5kcygpO1xyXG5cdGNvbnN0IGNhY2hlZFNhdEJvdW5kczIgPSBuZXcgU2VwYXJhdGluZ0F4aXNCb3VuZHMoKTtcclxuXHRjb25zdCBjYWNoZWRBeGlzID0gbmV3IFZlY3RvcjMoKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24gaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZSApIHtcclxuXHJcblx0XHRpZiAoIHRoaXMubmVlZHNVcGRhdGUgKSB7XHJcblxyXG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICEgdHJpYW5nbGUuaXNTZXBhcmF0aW5nQXhpc1RyaWFuZ2xlICkge1xyXG5cclxuXHRcdFx0c2FUcmkuY29weSggdHJpYW5nbGUgKTtcclxuXHRcdFx0c2FUcmkudXBkYXRlKCk7XHJcblx0XHRcdHRyaWFuZ2xlID0gc2FUcmk7XHJcblxyXG5cdFx0fSBlbHNlIGlmICggdHJpYW5nbGUubmVlZHNVcGRhdGUgKSB7XHJcblxyXG5cdFx0XHR0cmlhbmdsZS51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2F0Qm91bmRzID0gdGhpcy5zYXRCb3VuZHM7XHJcblx0XHRjb25zdCBzYXRBeGVzID0gdGhpcy5zYXRBeGVzO1xyXG5cclxuXHRcdHBvaW50c0FyclsgMCBdID0gdHJpYW5nbGUuYTtcclxuXHRcdHBvaW50c0FyclsgMSBdID0gdHJpYW5nbGUuYjtcclxuXHRcdHBvaW50c0FyclsgMiBdID0gdHJpYW5nbGUuYztcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2IgPSBzYXRCb3VuZHNbIGkgXTtcclxuXHRcdFx0Y29uc3Qgc2EgPSBzYXRBeGVzWyBpIF07XHJcblx0XHRcdGNhY2hlZFNhdEJvdW5kcy5zZXRGcm9tUG9pbnRzKCBzYSwgcG9pbnRzQXJyICk7XHJcblx0XHRcdGlmICggc2IuaXNTZXBhcmF0ZWQoIGNhY2hlZFNhdEJvdW5kcyApICkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0cmlTYXRCb3VuZHMgPSB0cmlhbmdsZS5zYXRCb3VuZHM7XHJcblx0XHRjb25zdCB0cmlTYXRBeGVzID0gdHJpYW5nbGUuc2F0QXhlcztcclxuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IHNiID0gdHJpU2F0Qm91bmRzWyBpIF07XHJcblx0XHRcdGNvbnN0IHNhID0gdHJpU2F0QXhlc1sgaSBdO1xyXG5cdFx0XHRjYWNoZWRTYXRCb3VuZHMuc2V0RnJvbVBvaW50cyggc2EsIHBvaW50cyApO1xyXG5cdFx0XHRpZiAoIHNiLmlzU2VwYXJhdGVkKCBjYWNoZWRTYXRCb3VuZHMgKSApIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgY3Jvc3NlZCBheGVzXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc2ExID0gc2F0QXhlc1sgaSBdO1xyXG5cdFx0XHRmb3IgKCBsZXQgaTIgPSAwOyBpMiA8IDQ7IGkyICsrICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBzYTIgPSB0cmlTYXRBeGVzWyBpMiBdO1xyXG5cdFx0XHRcdGNhY2hlZEF4aXMuY3Jvc3NWZWN0b3JzKCBzYTEsIHNhMiApO1xyXG5cdFx0XHRcdGNhY2hlZFNhdEJvdW5kcy5zZXRGcm9tUG9pbnRzKCBjYWNoZWRBeGlzLCBwb2ludHNBcnIgKTtcclxuXHRcdFx0XHRjYWNoZWRTYXRCb3VuZHMyLnNldEZyb21Qb2ludHMoIGNhY2hlZEF4aXMsIHBvaW50cyApO1xyXG5cdFx0XHRcdGlmICggY2FjaGVkU2F0Qm91bmRzLmlzU2VwYXJhdGVkKCBjYWNoZWRTYXRCb3VuZHMyICkgKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHR9O1xyXG5cclxufSApKCk7XHJcblxyXG5PcmllbnRlZEJveC5wcm90b3R5cGUuY2xvc2VzdFBvaW50VG9Qb2ludCA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldDEgKSB7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm5lZWRzVXBkYXRlICkge1xyXG5cclxuXHRcdFx0dGhpcy51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0dGFyZ2V0MVxyXG5cdFx0XHQuY29weSggcG9pbnQgKVxyXG5cdFx0XHQuYXBwbHlNYXRyaXg0KCB0aGlzLmludk1hdHJpeCApXHJcblx0XHRcdC5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4IClcclxuXHRcdFx0LmFwcGx5TWF0cml4NCggdGhpcy5tYXRyaXggKTtcclxuXHJcblx0XHRyZXR1cm4gdGFyZ2V0MTtcclxuXHJcblx0fTtcclxuXHJcbn0gKSgpO1xyXG5cclxuT3JpZW50ZWRCb3gucHJvdG90eXBlLmRpc3RhbmNlVG9Qb2ludCA9ICggZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCB0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xyXG5cdHJldHVybiBmdW5jdGlvbiBkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xyXG5cclxuXHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApO1xyXG5cdFx0cmV0dXJuIHBvaW50LmRpc3RhbmNlVG8oIHRhcmdldCApO1xyXG5cclxuXHR9O1xyXG5cclxufSApKCk7XHJcblxyXG5cclxuT3JpZW50ZWRCb3gucHJvdG90eXBlLmRpc3RhbmNlVG9Cb3ggPSAoIGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3QgeHl6RmllbGRzID0gWyAneCcsICd5JywgJ3onIF07XHJcblx0Y29uc3Qgc2VnbWVudHMxID0gbmV3IEFycmF5KCAxMiApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBMaW5lMygpICk7XHJcblx0Y29uc3Qgc2VnbWVudHMyID0gbmV3IEFycmF5KCAxMiApLmZpbGwoKS5tYXAoICgpID0+IG5ldyBMaW5lMygpICk7XHJcblxyXG5cdGNvbnN0IHBvaW50MSA9IG5ldyBWZWN0b3IzKCk7XHJcblx0Y29uc3QgcG9pbnQyID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcblx0Ly8gZWFybHkgb3V0IGlmIHdlIGZpbmQgYSB2YWx1ZSBiZWxvdyB0aHJlc2hvbGRcclxuXHRyZXR1cm4gZnVuY3Rpb24gZGlzdGFuY2VUb0JveCggYm94LCB0aHJlc2hvbGQgPSAwLCB0YXJnZXQxID0gbnVsbCwgdGFyZ2V0MiA9IG51bGwgKSB7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm5lZWRzVXBkYXRlICkge1xyXG5cclxuXHRcdFx0dGhpcy51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0aGlzLmludGVyc2VjdHNCb3goIGJveCApICkge1xyXG5cclxuXHRcdFx0aWYgKCB0YXJnZXQxIHx8IHRhcmdldDIgKSB7XHJcblxyXG5cdFx0XHRcdGJveC5nZXRDZW50ZXIoIHBvaW50MiApO1xyXG5cdFx0XHRcdHRoaXMuY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQyLCBwb2ludDEgKTtcclxuXHRcdFx0XHRib3guY2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQxLCBwb2ludDIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCB0YXJnZXQxICkgdGFyZ2V0MS5jb3B5KCBwb2ludDEgKTtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIDA7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRocmVzaG9sZDIgPSB0aHJlc2hvbGQgKiB0aHJlc2hvbGQ7XHJcblx0XHRjb25zdCBtaW4gPSBib3gubWluO1xyXG5cdFx0Y29uc3QgbWF4ID0gYm94Lm1heDtcclxuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xyXG5cclxuXHJcblx0XHQvLyBpdGVyYXRlIG92ZXIgZXZlcnkgZWRnZSBhbmQgY29tcGFyZSBkaXN0YW5jZXNcclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG5cclxuXHRcdC8vIGNoZWNrIG92ZXIgYWxsIHRoZXNlIHBvaW50c1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgODsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IHAgPSBwb2ludHNbIGkgXTtcclxuXHRcdFx0cG9pbnQyLmNvcHkoIHAgKS5jbGFtcCggbWluLCBtYXggKTtcclxuXHJcblx0XHRcdGNvbnN0IGRpc3QgPSBwLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcclxuXHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XHJcblxyXG5cdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdDtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHAgKTtcclxuXHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xyXG5cclxuXHRcdFx0XHRpZiAoIGRpc3QgPCB0aHJlc2hvbGQyICkgcmV0dXJuIE1hdGguc3FydCggZGlzdCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvLyBnZW5lcmF0ZSBhbmQgY2hlY2sgYWxsIGxpbmUgc2VnbWVudCBkaXN0YW5jZXNcclxuXHRcdGxldCBjb3VudCA9IDA7XHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCAzOyBpICsrICkge1xyXG5cclxuXHRcdFx0Zm9yICggbGV0IGkxID0gMDsgaTEgPD0gMTsgaTEgKysgKSB7XHJcblxyXG5cdFx0XHRcdGZvciAoIGxldCBpMiA9IDA7IGkyIDw9IDE7IGkyICsrICkge1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IG5leHRJbmRleCA9ICggaSArIDEgKSAlIDM7XHJcblx0XHRcdFx0XHRjb25zdCBuZXh0SW5kZXgyID0gKCBpICsgMiApICUgMztcclxuXHJcblx0XHRcdFx0XHQvLyBnZXQgb2JiIGxpbmUgc2VnbWVudHNcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gaTEgPDwgbmV4dEluZGV4IHwgaTIgPDwgbmV4dEluZGV4MjtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4MiA9IDEgPDwgaSB8IGkxIDw8IG5leHRJbmRleCB8IGkyIDw8IG5leHRJbmRleDI7XHJcblx0XHRcdFx0XHRjb25zdCBwMSA9IHBvaW50c1sgaW5kZXggXTtcclxuXHRcdFx0XHRcdGNvbnN0IHAyID0gcG9pbnRzWyBpbmRleDIgXTtcclxuXHRcdFx0XHRcdGNvbnN0IGxpbmUxID0gc2VnbWVudHMxWyBjb3VudCBdO1xyXG5cdFx0XHRcdFx0bGluZTEuc2V0KCBwMSwgcDIgKTtcclxuXHJcblxyXG5cdFx0XHRcdFx0Ly8gZ2V0IGFhYmIgbGluZSBzZWdtZW50c1xyXG5cdFx0XHRcdFx0Y29uc3QgZjEgPSB4eXpGaWVsZHNbIGkgXTtcclxuXHRcdFx0XHRcdGNvbnN0IGYyID0geHl6RmllbGRzWyBuZXh0SW5kZXggXTtcclxuXHRcdFx0XHRcdGNvbnN0IGYzID0geHl6RmllbGRzWyBuZXh0SW5kZXgyIF07XHJcblx0XHRcdFx0XHRjb25zdCBsaW5lMiA9IHNlZ21lbnRzMlsgY291bnQgXTtcclxuXHRcdFx0XHRcdGNvbnN0IHN0YXJ0ID0gbGluZTIuc3RhcnQ7XHJcblx0XHRcdFx0XHRjb25zdCBlbmQgPSBsaW5lMi5lbmQ7XHJcblxyXG5cdFx0XHRcdFx0c3RhcnRbIGYxIF0gPSBtaW5bIGYxIF07XHJcblx0XHRcdFx0XHRzdGFydFsgZjIgXSA9IGkxID8gbWluWyBmMiBdIDogbWF4WyBmMiBdO1xyXG5cdFx0XHRcdFx0c3RhcnRbIGYzIF0gPSBpMiA/IG1pblsgZjMgXSA6IG1heFsgZjIgXTtcclxuXHJcblx0XHRcdFx0XHRlbmRbIGYxIF0gPSBtYXhbIGYxIF07XHJcblx0XHRcdFx0XHRlbmRbIGYyIF0gPSBpMSA/IG1pblsgZjIgXSA6IG1heFsgZjIgXTtcclxuXHRcdFx0XHRcdGVuZFsgZjMgXSA9IGkyID8gbWluWyBmMyBdIDogbWF4WyBmMiBdO1xyXG5cclxuXHRcdFx0XHRcdGNvdW50ICsrO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNoZWNrIGFsbCB0aGUgb3RoZXIgYm94ZXMgcG9pbnRcclxuXHRcdGZvciAoIGxldCB4ID0gMDsgeCA8PSAxOyB4ICsrICkge1xyXG5cclxuXHRcdFx0Zm9yICggbGV0IHkgPSAwOyB5IDw9IDE7IHkgKysgKSB7XHJcblxyXG5cdFx0XHRcdGZvciAoIGxldCB6ID0gMDsgeiA8PSAxOyB6ICsrICkge1xyXG5cclxuXHRcdFx0XHRcdHBvaW50Mi54ID0geCA/IG1heC54IDogbWluLng7XHJcblx0XHRcdFx0XHRwb2ludDIueSA9IHkgPyBtYXgueSA6IG1pbi55O1xyXG5cdFx0XHRcdFx0cG9pbnQyLnogPSB6ID8gbWF4LnogOiBtaW4uejtcclxuXHJcblx0XHRcdFx0XHR0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50MiwgcG9pbnQxICk7XHJcblx0XHRcdFx0XHRjb25zdCBkaXN0ID0gcG9pbnQyLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDEgKTtcclxuXHRcdFx0XHRcdGlmICggZGlzdCA8IGNsb3Nlc3REaXN0YW5jZVNxICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlU3EgPSBkaXN0O1xyXG5cdFx0XHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHBvaW50MSApO1xyXG5cdFx0XHRcdFx0XHRpZiAoIHRhcmdldDIgKSB0YXJnZXQyLmNvcHkoIHBvaW50MiApO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgdGhyZXNob2xkMiApIHJldHVybiBNYXRoLnNxcnQoIGRpc3QgKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMTI7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBsMSA9IHNlZ21lbnRzMVsgaSBdO1xyXG5cdFx0XHRmb3IgKCBsZXQgaTIgPSAwOyBpMiA8IDEyOyBpMiArKyApIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgbDIgPSBzZWdtZW50czJbIGkyIF07XHJcblx0XHRcdFx0Y2xvc2VzdFBvaW50c1NlZ21lbnRUb1NlZ21lbnQoIGwxLCBsMiwgcG9pbnQxLCBwb2ludDIgKTtcclxuXHRcdFx0XHRjb25zdCBkaXN0ID0gcG9pbnQxLmRpc3RhbmNlVG9TcXVhcmVkKCBwb2ludDIgKTtcclxuXHRcdFx0XHRpZiAoIGRpc3QgPCBjbG9zZXN0RGlzdGFuY2VTcSApIHtcclxuXHJcblx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VTcSA9IGRpc3Q7XHJcblx0XHRcdFx0XHRpZiAoIHRhcmdldDEgKSB0YXJnZXQxLmNvcHkoIHBvaW50MSApO1xyXG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQyICkgdGFyZ2V0Mi5jb3B5KCBwb2ludDIgKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIGRpc3QgPCB0aHJlc2hvbGQyICkgcmV0dXJuIE1hdGguc3FydCggZGlzdCApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBNYXRoLnNxcnQoIGNsb3Nlc3REaXN0YW5jZVNxICk7XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuIiwiaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yMiwgVHJpYW5nbGUsIERvdWJsZVNpZGUsIEJhY2tTaWRlIH0gZnJvbSAndGhyZWUnO1xyXG5cclxuLy8gUmlwcGVkIGFuZCBtb2RpZmllZCBGcm9tIFRIUkVFLmpzIE1lc2ggcmF5Y2FzdFxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvMGFhODdjOTk5ZmU2MWUyMTZjMTEzM2ZiYTdhOTU3NzJiNTAzZWRkZi9zcmMvb2JqZWN0cy9NZXNoLmpzI0wxMTVcclxuY29uc3QgdkEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdkIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdkMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuXHJcbmNvbnN0IHV2QSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMigpO1xyXG5jb25zdCB1dkIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcclxuY29uc3QgdXZDID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IyKCk7XHJcblxyXG5jb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xyXG5mdW5jdGlvbiBjaGVja0ludGVyc2VjdGlvbiggcmF5LCBwQSwgcEIsIHBDLCBwb2ludCwgc2lkZSApIHtcclxuXHJcblx0bGV0IGludGVyc2VjdDtcclxuXHRpZiAoIHNpZGUgPT09IEJhY2tTaWRlICkge1xyXG5cclxuXHRcdGludGVyc2VjdCA9IHJheS5pbnRlcnNlY3RUcmlhbmdsZSggcEMsIHBCLCBwQSwgdHJ1ZSwgcG9pbnQgKTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHRpbnRlcnNlY3QgPSByYXkuaW50ZXJzZWN0VHJpYW5nbGUoIHBBLCBwQiwgcEMsIHNpZGUgIT09IERvdWJsZVNpZGUsIHBvaW50ICk7XHJcblxyXG5cdH1cclxuXHJcblx0aWYgKCBpbnRlcnNlY3QgPT09IG51bGwgKSByZXR1cm4gbnVsbDtcclxuXHJcblx0Y29uc3QgZGlzdGFuY2UgPSByYXkub3JpZ2luLmRpc3RhbmNlVG8oIHBvaW50ICk7XHJcblxyXG5cdHJldHVybiB7XHJcblxyXG5cdFx0ZGlzdGFuY2U6IGRpc3RhbmNlLFxyXG5cdFx0cG9pbnQ6IHBvaW50LmNsb25lKCksXHJcblxyXG5cdH07XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKCByYXksIHBvc2l0aW9uLCB1diwgYSwgYiwgYywgc2lkZSApIHtcclxuXHJcblx0dkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zaXRpb24sIGEgKTtcclxuXHR2Qi5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbiwgYiApO1xyXG5cdHZDLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc2l0aW9uLCBjICk7XHJcblxyXG5cdGNvbnN0IGludGVyc2VjdGlvbiA9IGNoZWNrSW50ZXJzZWN0aW9uKCByYXksIHZBLCB2QiwgdkMsIGludGVyc2VjdGlvblBvaW50LCBzaWRlICk7XHJcblxyXG5cdGlmICggaW50ZXJzZWN0aW9uICkge1xyXG5cclxuXHRcdGlmICggdXYgKSB7XHJcblxyXG5cdFx0XHR1dkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggdXYsIGEgKTtcclxuXHRcdFx0dXZCLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2LCBiICk7XHJcblx0XHRcdHV2Qy5mcm9tQnVmZmVyQXR0cmlidXRlKCB1diwgYyApO1xyXG5cclxuXHRcdFx0aW50ZXJzZWN0aW9uLnV2ID0gVHJpYW5nbGUuZ2V0VVYoIGludGVyc2VjdGlvblBvaW50LCB2QSwgdkIsIHZDLCB1dkEsIHV2QiwgdXZDLCBuZXcgVmVjdG9yMiggKSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmYWNlID0ge1xyXG5cdFx0XHRhOiBhLFxyXG5cdFx0XHRiOiBiLFxyXG5cdFx0XHRjOiBjLFxyXG5cdFx0XHRub3JtYWw6IG5ldyBWZWN0b3IzKCksXHJcblx0XHRcdG1hdGVyaWFsSW5kZXg6IDBcclxuXHRcdH07XHJcblxyXG5cdFx0VHJpYW5nbGUuZ2V0Tm9ybWFsKCB2QSwgdkIsIHZDLCBmYWNlLm5vcm1hbCApO1xyXG5cclxuXHRcdGludGVyc2VjdGlvbi5mYWNlID0gZmFjZTtcclxuXHRcdGludGVyc2VjdGlvbi5mYWNlSW5kZXggPSBhO1xyXG5cclxuXHR9XHJcblxyXG5cdHJldHVybiBpbnRlcnNlY3Rpb247XHJcblxyXG59XHJcblxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvMGFhODdjOTk5ZmU2MWUyMTZjMTEzM2ZiYTdhOTU3NzJiNTAzZWRkZi9zcmMvb2JqZWN0cy9NZXNoLmpzI0wyNThcclxuZnVuY3Rpb24gaW50ZXJzZWN0VHJpKCBnZW8sIHNpZGUsIHJheSwgdHJpLCBpbnRlcnNlY3Rpb25zICkge1xyXG5cclxuXHRjb25zdCB0cmlPZmZzZXQgPSB0cmkgKiAzO1xyXG5cdGNvbnN0IGEgPSBnZW8uaW5kZXguZ2V0WCggdHJpT2Zmc2V0ICk7XHJcblx0Y29uc3QgYiA9IGdlby5pbmRleC5nZXRYKCB0cmlPZmZzZXQgKyAxICk7XHJcblx0Y29uc3QgYyA9IGdlby5pbmRleC5nZXRYKCB0cmlPZmZzZXQgKyAyICk7XHJcblxyXG5cdGNvbnN0IGludGVyc2VjdGlvbiA9IGNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24oIHJheSwgZ2VvLmF0dHJpYnV0ZXMucG9zaXRpb24sIGdlby5hdHRyaWJ1dGVzLnV2LCBhLCBiLCBjLCBzaWRlICk7XHJcblxyXG5cdGlmICggaW50ZXJzZWN0aW9uICkge1xyXG5cclxuXHRcdGludGVyc2VjdGlvbi5mYWNlSW5kZXggPSB0cmk7XHJcblx0XHRpZiAoIGludGVyc2VjdGlvbnMgKSBpbnRlcnNlY3Rpb25zLnB1c2goIGludGVyc2VjdGlvbiApO1xyXG5cdFx0cmV0dXJuIGludGVyc2VjdGlvbjtcclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gbnVsbDtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IGludGVyc2VjdFRyaSB9O1xyXG4iLCJpbXBvcnQgeyBpbnRlcnNlY3RUcmkgfSBmcm9tICcuL1RocmVlUmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RUcmlzKCBnZW8sIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCwgaW50ZXJzZWN0aW9ucyApIHtcclxuXHJcblx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGVuZCA9IG9mZnNldCArIGNvdW50OyBpIDwgZW5kOyBpICsrICkge1xyXG5cclxuXHRcdGludGVyc2VjdFRyaSggZ2VvLCBzaWRlLCByYXksIGksIGludGVyc2VjdGlvbnMgKTtcclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdENsb3Nlc3RUcmkoIGdlbywgc2lkZSwgcmF5LCBvZmZzZXQsIGNvdW50ICkge1xyXG5cclxuXHRsZXQgZGlzdCA9IEluZmluaXR5O1xyXG5cdGxldCByZXMgPSBudWxsO1xyXG5cdGZvciAoIGxldCBpID0gb2Zmc2V0LCBlbmQgPSBvZmZzZXQgKyBjb3VudDsgaSA8IGVuZDsgaSArKyApIHtcclxuXHJcblx0XHRjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3RUcmkoIGdlbywgc2lkZSwgcmF5LCBpICk7XHJcblx0XHRpZiAoIGludGVyc2VjdGlvbiAmJiBpbnRlcnNlY3Rpb24uZGlzdGFuY2UgPCBkaXN0ICkge1xyXG5cclxuXHRcdFx0cmVzID0gaW50ZXJzZWN0aW9uO1xyXG5cdFx0XHRkaXN0ID0gaW50ZXJzZWN0aW9uLmRpc3RhbmNlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmVzO1xyXG5cclxufVxyXG5cclxuLy8gY29udmVydHMgdGhlIGdpdmVuIEJWSCByYXljYXN0IGludGVyc2VjdGlvbiB0byBhbGlnbiB3aXRoIHRoZSB0aHJlZS5qcyByYXljYXN0XHJcbi8vIHN0cnVjdHVyZSAoaW5jbHVkZSBvYmplY3QsIHdvcmxkIHNwYWNlIGRpc3RhbmNlIGFuZCBwb2ludCkuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCggaGl0LCBvYmplY3QsIHJheWNhc3RlciApIHtcclxuXHJcblx0aWYgKCBoaXQgPT09IG51bGwgKSB7XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdH1cclxuXHJcblx0aGl0LnBvaW50LmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XHJcblx0aGl0LmRpc3RhbmNlID0gaGl0LnBvaW50LmRpc3RhbmNlVG8oIHJheWNhc3Rlci5yYXkub3JpZ2luICk7XHJcblx0aGl0Lm9iamVjdCA9IG9iamVjdDtcclxuXHJcblx0aWYgKCBoaXQuZGlzdGFuY2UgPCByYXljYXN0ZXIubmVhciB8fCBoaXQuZGlzdGFuY2UgPiByYXljYXN0ZXIuZmFyICkge1xyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHJldHVybiBoaXQ7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFRyaWFuZ2xlIH0gZnJvbSAndGhyZWUnO1xyXG5cclxuLy8gc2V0cyB0aGUgdmVydGljZXMgb2YgdHJpYW5nbGUgYHRyaWAgd2l0aCB0aGUgMyB2ZXJ0aWNlcyBhZnRlciBpXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmlhbmdsZSggdHJpLCBpLCBpbmRleCwgcG9zICkge1xyXG5cclxuXHRjb25zdCB0YSA9IHRyaS5hO1xyXG5cdGNvbnN0IHRiID0gdHJpLmI7XHJcblx0Y29uc3QgdGMgPSB0cmkuYztcclxuXHJcblx0bGV0IGkwID0gaTtcclxuXHRsZXQgaTEgPSBpICsgMTtcclxuXHRsZXQgaTIgPSBpICsgMjtcclxuXHRpZiAoIGluZGV4ICkge1xyXG5cclxuXHRcdGkwID0gaW5kZXguZ2V0WCggaSApO1xyXG5cdFx0aTEgPSBpbmRleC5nZXRYKCBpICsgMSApO1xyXG5cdFx0aTIgPSBpbmRleC5nZXRYKCBpICsgMiApO1xyXG5cclxuXHR9XHJcblxyXG5cdHRhLnggPSBwb3MuZ2V0WCggaTAgKTtcclxuXHR0YS55ID0gcG9zLmdldFkoIGkwICk7XHJcblx0dGEueiA9IHBvcy5nZXRaKCBpMCApO1xyXG5cclxuXHR0Yi54ID0gcG9zLmdldFgoIGkxICk7XHJcblx0dGIueSA9IHBvcy5nZXRZKCBpMSApO1xyXG5cdHRiLnogPSBwb3MuZ2V0WiggaTEgKTtcclxuXHJcblx0dGMueCA9IHBvcy5nZXRYKCBpMiApO1xyXG5cdHRjLnkgPSBwb3MuZ2V0WSggaTIgKTtcclxuXHR0Yy56ID0gcG9zLmdldFooIGkyICk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZU92ZXJUcmlhbmdsZXMoXHJcblx0b2Zmc2V0LFxyXG5cdGNvdW50LFxyXG5cdGdlb21ldHJ5LFxyXG5cdGludGVyc2VjdHNUcmlhbmdsZUZ1bmMsXHJcblx0Y29udGFpbmVkLFxyXG5cdGRlcHRoLFxyXG5cdHRyaWFuZ2xlXHJcbikge1xyXG5cclxuXHRjb25zdCBpbmRleCA9IGdlb21ldHJ5LmluZGV4O1xyXG5cdGNvbnN0IHBvcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcblx0Zm9yICggbGV0IGkgPSBvZmZzZXQsIGwgPSBjb3VudCArIG9mZnNldDsgaSA8IGw7IGkgKysgKSB7XHJcblxyXG5cdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlLCBpICogMywgaW5kZXgsIHBvcyApO1xyXG5cdFx0dHJpYW5nbGUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdGlmICggaW50ZXJzZWN0c1RyaWFuZ2xlRnVuYyggdHJpYW5nbGUsIGksIGNvbnRhaW5lZCwgZGVwdGggKSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZmFsc2U7XHJcblxyXG59XHJcblxyXG5jb25zdCB0ZW1wVjEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcFYyID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IzKCk7XHJcbmNvbnN0IHRlbXBWMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMygpO1xyXG5jb25zdCB0ZW1wVVYxID0gLyogQF9fUFVSRV9fICovIG5ldyBWZWN0b3IyKCk7XHJcbmNvbnN0IHRlbXBVVjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjIoKTtcclxuY29uc3QgdGVtcFVWMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgVmVjdG9yMigpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyaWFuZ2xlSGl0UG9pbnRJbmZvKCBwb2ludCwgZ2VvbWV0cnksIHRyaWFuZ2xlSW5kZXgsIHRhcmdldCApIHtcclxuXHJcblx0Y29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCkuYXJyYXk7XHJcblx0Y29uc3QgcG9zaXRpb25zID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCAncG9zaXRpb24nICk7XHJcblx0Y29uc3QgdXZzID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCAndXYnICk7XHJcblxyXG5cdGNvbnN0IGEgPSBpbmRpY2VzWyB0cmlhbmdsZUluZGV4ICogMyBdO1xyXG5cdGNvbnN0IGIgPSBpbmRpY2VzWyB0cmlhbmdsZUluZGV4ICogMyArIDEgXTtcclxuXHRjb25zdCBjID0gaW5kaWNlc1sgdHJpYW5nbGVJbmRleCAqIDMgKyAyIF07XHJcblxyXG5cdHRlbXBWMS5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NpdGlvbnMsIGEgKTtcclxuXHR0ZW1wVjIuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggcG9zaXRpb25zLCBiICk7XHJcblx0dGVtcFYzLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc2l0aW9ucywgYyApO1xyXG5cclxuXHQvLyBmaW5kIHRoZSBhc3NvY2lhdGVkIG1hdGVyaWFsIGluZGV4XHJcblx0bGV0IG1hdGVyaWFsSW5kZXggPSAwO1xyXG5cdGNvbnN0IGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3VwcztcclxuXHRjb25zdCBmaXJzdFZlcnRleEluZGV4ID0gdHJpYW5nbGVJbmRleCAqIDM7XHJcblx0Zm9yICggbGV0IGkgPSAwLCBsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XHJcblxyXG5cdFx0Y29uc3QgZ3JvdXAgPSBncm91cHNbIGkgXTtcclxuXHRcdGNvbnN0IHsgc3RhcnQsIGNvdW50IH0gPSBncm91cDtcclxuXHRcdGlmICggZmlyc3RWZXJ0ZXhJbmRleCA+PSBzdGFydCAmJiBmaXJzdFZlcnRleEluZGV4IDwgc3RhcnQgKyBjb3VudCApIHtcclxuXHJcblx0XHRcdG1hdGVyaWFsSW5kZXggPSBncm91cC5tYXRlcmlhbEluZGV4O1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0Ly8gZXh0cmFjdCB1dnNcclxuXHRsZXQgdXYgPSBudWxsO1xyXG5cdGlmICggdXZzICkge1xyXG5cclxuXHRcdHRlbXBVVjEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggdXZzLCBhICk7XHJcblx0XHR0ZW1wVVYyLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHV2cywgYiApO1xyXG5cdFx0dGVtcFVWMy5mcm9tQnVmZmVyQXR0cmlidXRlKCB1dnMsIGMgKTtcclxuXHJcblx0XHRpZiAoIHRhcmdldCAmJiB0YXJnZXQudXYgKSB1diA9IHRhcmdldC51djtcclxuXHRcdGVsc2UgdXYgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuXHRcdFRyaWFuZ2xlLmdldFVWKCBwb2ludCwgdGVtcFYxLCB0ZW1wVjIsIHRlbXBWMywgdGVtcFVWMSwgdGVtcFVWMiwgdGVtcFVWMywgdXYgKTtcclxuXHJcblx0fVxyXG5cclxuXHQvLyBhZGp1c3QgdGhlIHByb3ZpZGVkIHRhcmdldCBvciBjcmVhdGUgYSBuZXcgb25lXHJcblx0aWYgKCB0YXJnZXQgKSB7XHJcblxyXG5cdFx0aWYgKCAhIHRhcmdldC5mYWNlICkgdGFyZ2V0LmZhY2UgPSB7IH07XHJcblx0XHR0YXJnZXQuZmFjZS5hID0gYTtcclxuXHRcdHRhcmdldC5mYWNlLmIgPSBiO1xyXG5cdFx0dGFyZ2V0LmZhY2UuYyA9IGM7XHJcblx0XHR0YXJnZXQuZmFjZS5tYXRlcmlhbEluZGV4ID0gbWF0ZXJpYWxJbmRleDtcclxuXHRcdGlmICggISB0YXJnZXQuZmFjZS5ub3JtYWwgKSB0YXJnZXQuZmFjZS5ub3JtYWwgPSBuZXcgVmVjdG9yMygpO1xyXG5cdFx0VHJpYW5nbGUuZ2V0Tm9ybWFsKCB0ZW1wVjEsIHRlbXBWMiwgdGVtcFYzLCB0YXJnZXQuZmFjZS5ub3JtYWwgKTtcclxuXHJcblx0XHRpZiAoICEgdGFyZ2V0LnV2ICkgdGFyZ2V0LnV2ID0gbmV3IFZlY3RvcjIoKTtcclxuXHRcdHRhcmdldC51di5jb3B5KCB1diApO1xyXG5cclxuXHRcdHJldHVybiB0YXJnZXQ7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0ZmFjZToge1xyXG5cdFx0XHRcdGE6IGEsXHJcblx0XHRcdFx0YjogYixcclxuXHRcdFx0XHRjOiBjLFxyXG5cdFx0XHRcdG1hdGVyaWFsSW5kZXg6IG1hdGVyaWFsSW5kZXgsXHJcblx0XHRcdFx0bm9ybWFsOiBUcmlhbmdsZS5nZXROb3JtYWwoIHRlbXBWMSwgdGVtcFYyLCB0ZW1wVjMsIG5ldyBWZWN0b3IzKCkgKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR1djogdXZcclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFByaW1pdGl2ZVBvb2wge1xyXG5cclxuXHRjb25zdHJ1Y3RvciggZ2V0TmV3UHJpbWl0aXZlICkge1xyXG5cclxuXHRcdHRoaXMuX2dldE5ld1ByaW1pdGl2ZSA9IGdldE5ld1ByaW1pdGl2ZTtcclxuXHRcdHRoaXMuX3ByaW1pdGl2ZXMgPSBbXTtcclxuXHJcblx0fVxyXG5cclxuXHRnZXRQcmltaXRpdmUoKSB7XHJcblxyXG5cdFx0Y29uc3QgcHJpbWl0aXZlcyA9IHRoaXMuX3ByaW1pdGl2ZXM7XHJcblx0XHRpZiAoIHByaW1pdGl2ZXMubGVuZ3RoID09PSAwICkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMuX2dldE5ld1ByaW1pdGl2ZSgpO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gcHJpbWl0aXZlcy5wb3AoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cmVsZWFzZVByaW1pdGl2ZSggcHJpbWl0aXZlICkge1xyXG5cclxuXHRcdHRoaXMuX3ByaW1pdGl2ZXMucHVzaCggcHJpbWl0aXZlICk7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIElTX0xFQUYoIG4xNiwgdWludDE2QXJyYXkgKSB7XHJcblxyXG5cdHJldHVybiB1aW50MTZBcnJheVsgbjE2ICsgMTUgXSA9PT0gMHhGRkZGO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE9GRlNFVCggbjMyLCB1aW50MzJBcnJheSApIHtcclxuXHJcblx0cmV0dXJuIHVpbnQzMkFycmF5WyBuMzIgKyA2IF07XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ09VTlQoIG4xNiwgdWludDE2QXJyYXkgKSB7XHJcblxyXG5cdHJldHVybiB1aW50MTZBcnJheVsgbjE2ICsgMTQgXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMRUZUX05PREUoIG4zMiApIHtcclxuXHJcblx0cmV0dXJuIG4zMiArIDg7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUklHSFRfTk9ERSggbjMyLCB1aW50MzJBcnJheSApIHtcclxuXHJcblx0cmV0dXJuIHVpbnQzMkFycmF5WyBuMzIgKyA2IF07XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU1BMSVRfQVhJUyggbjMyLCB1aW50MzJBcnJheSApIHtcclxuXHJcblx0cmV0dXJuIHVpbnQzMkFycmF5WyBuMzIgKyA3IF07XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQk9VTkRJTkdfREFUQV9JTkRFWCggbjMyICkge1xyXG5cclxuXHRyZXR1cm4gbjMyO1xyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBCb3gzLCBWZWN0b3IzLCBNYXRyaXg0IH0gZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBDT05UQUlORUQgfSBmcm9tICcuL0NvbnN0YW50cy5qcyc7XHJcblxyXG5pbXBvcnQgeyBPcmllbnRlZEJveCB9IGZyb20gJy4uL21hdGgvT3JpZW50ZWRCb3guanMnO1xyXG5pbXBvcnQgeyBTZXBhcmF0aW5nQXhpc1RyaWFuZ2xlIH0gZnJvbSAnLi4vbWF0aC9TZXBhcmF0aW5nQXhpc1RyaWFuZ2xlLmpzJztcclxuaW1wb3J0IHsgaW50ZXJzZWN0VHJpcywgaW50ZXJzZWN0Q2xvc2VzdFRyaSB9IGZyb20gJy4uL3V0aWxzL0dlb21ldHJ5UmF5SW50ZXJzZWN0VXRpbGl0aWVzLmpzJztcclxuaW1wb3J0IHsgc2V0VHJpYW5nbGUgfSBmcm9tICcuLi91dGlscy9UcmlhbmdsZVV0aWxpdGllcy5qcyc7XHJcbmltcG9ydCB7IGFycmF5VG9Cb3ggfSBmcm9tICcuLi91dGlscy9BcnJheUJveFV0aWxpdGllcy5qcyc7XHJcbmltcG9ydCB7IFByaW1pdGl2ZVBvb2wgfSBmcm9tICcuLi91dGlscy9QcmltaXRpdmVQb29sLmpzJztcclxuaW1wb3J0IHsgQ09VTlQsIE9GRlNFVCwgTEVGVF9OT0RFLCBSSUdIVF9OT0RFLCBJU19MRUFGLCBCT1VORElOR19EQVRBX0lOREVYLCBTUExJVF9BWElTIH0gZnJvbSAnLi9ub2RlQnVmZmVyRnVuY3Rpb25zLmpzJztcclxuXHJcbmNvbnN0IGJvdW5kaW5nQm94ID0gbmV3IEJveDMoKTtcclxuY29uc3QgYm94SW50ZXJzZWN0aW9uID0gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgeHl6RmllbGRzID0gWyAneCcsICd5JywgJ3onIF07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmF5Y2FzdCggbm9kZUluZGV4MzIsIGdlb21ldHJ5LCBzaWRlLCByYXksIGludGVyc2VjdHMgKSB7XHJcblxyXG5cdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMiwgZmxvYXQzMkFycmF5ID0gX2Zsb2F0MzJBcnJheSwgdWludDE2QXJyYXkgPSBfdWludDE2QXJyYXksIHVpbnQzMkFycmF5ID0gX3VpbnQzMkFycmF5O1xyXG5cclxuXHRjb25zdCBpc0xlYWYgPSBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcclxuXHRpZiAoIGlzTGVhZiApIHtcclxuXHJcblx0XHRjb25zdCBvZmZzZXQgPSBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xyXG5cdFx0Y29uc3QgY291bnQgPSBDT1VOVCggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XHJcblxyXG5cdFx0aW50ZXJzZWN0VHJpcyggZ2VvbWV0cnksIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCwgaW50ZXJzZWN0cyApO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdGNvbnN0IGxlZnRJbmRleCA9IExFRlRfTk9ERSggbm9kZUluZGV4MzIgKTtcclxuXHRcdGlmICggaW50ZXJzZWN0UmF5KCBsZWZ0SW5kZXgsIGZsb2F0MzJBcnJheSwgcmF5LCBib3hJbnRlcnNlY3Rpb24gKSApIHtcclxuXHJcblx0XHRcdHJheWNhc3QoIGxlZnRJbmRleCwgZ2VvbWV0cnksIHNpZGUsIHJheSwgaW50ZXJzZWN0cyApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByaWdodEluZGV4ID0gUklHSFRfTk9ERSggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XHJcblx0XHRpZiAoIGludGVyc2VjdFJheSggcmlnaHRJbmRleCwgZmxvYXQzMkFycmF5LCByYXksIGJveEludGVyc2VjdGlvbiApICkge1xyXG5cclxuXHRcdFx0cmF5Y2FzdCggcmlnaHRJbmRleCwgZ2VvbWV0cnksIHNpZGUsIHJheSwgaW50ZXJzZWN0cyApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJheWNhc3RGaXJzdCggbm9kZUluZGV4MzIsIGdlb21ldHJ5LCBzaWRlLCByYXkgKSB7XHJcblxyXG5cdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMiwgZmxvYXQzMkFycmF5ID0gX2Zsb2F0MzJBcnJheSwgdWludDE2QXJyYXkgPSBfdWludDE2QXJyYXksIHVpbnQzMkFycmF5ID0gX3VpbnQzMkFycmF5O1xyXG5cclxuXHRjb25zdCBpc0xlYWYgPSBJU19MRUFGKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcclxuXHRpZiAoIGlzTGVhZiApIHtcclxuXHJcblx0XHRjb25zdCBvZmZzZXQgPSBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xyXG5cdFx0Y29uc3QgY291bnQgPSBDT1VOVCggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XHJcblx0XHRyZXR1cm4gaW50ZXJzZWN0Q2xvc2VzdFRyaSggZ2VvbWV0cnksIHNpZGUsIHJheSwgb2Zmc2V0LCBjb3VudCApO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdC8vIGNvbnNpZGVyIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3BsaXQgcGxhbmUgd2l0aCByZXNwZWN0IHRvIHRoZSBvbmNvbWluZyByYXk7IHdoaWNoZXZlciBkaXJlY3Rpb25cclxuXHRcdC8vIHRoZSByYXkgaXMgY29taW5nIGZyb20sIGxvb2sgZm9yIGFuIGludGVyc2VjdGlvbiBhbW9uZyB0aGF0IHNpZGUgb2YgdGhlIHRyZWUgZmlyc3RcclxuXHRcdGNvbnN0IHNwbGl0QXhpcyA9IFNQTElUX0FYSVMoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xyXG5cdFx0Y29uc3QgeHl6QXhpcyA9IHh5ekZpZWxkc1sgc3BsaXRBeGlzIF07XHJcblx0XHRjb25zdCByYXlEaXIgPSByYXkuZGlyZWN0aW9uWyB4eXpBeGlzIF07XHJcblx0XHRjb25zdCBsZWZ0VG9SaWdodCA9IHJheURpciA+PSAwO1xyXG5cclxuXHRcdC8vIGMxIGlzIHRoZSBjaGlsZCB0byBjaGVjayBmaXJzdFxyXG5cdFx0bGV0IGMxLCBjMjtcclxuXHRcdGlmICggbGVmdFRvUmlnaHQgKSB7XHJcblxyXG5cdFx0XHRjMSA9IExFRlRfTk9ERSggbm9kZUluZGV4MzIgKTtcclxuXHRcdFx0YzIgPSBSSUdIVF9OT0RFKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0YzEgPSBSSUdIVF9OT0RFKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcclxuXHRcdFx0YzIgPSBMRUZUX05PREUoIG5vZGVJbmRleDMyICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGMxSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0UmF5KCBjMSwgZmxvYXQzMkFycmF5LCByYXksIGJveEludGVyc2VjdGlvbiApO1xyXG5cdFx0Y29uc3QgYzFSZXN1bHQgPSBjMUludGVyc2VjdGlvbiA/IHJheWNhc3RGaXJzdCggYzEsIGdlb21ldHJ5LCBzaWRlLCByYXkgKSA6IG51bGw7XHJcblxyXG5cdFx0Ly8gaWYgd2UgZ290IGFuIGludGVyc2VjdGlvbiBpbiB0aGUgZmlyc3Qgbm9kZSBhbmQgaXQncyBjbG9zZXIgdGhhbiB0aGUgc2Vjb25kIG5vZGUncyBib3VuZGluZ1xyXG5cdFx0Ly8gYm94LCB3ZSBkb24ndCBuZWVkIHRvIGNvbnNpZGVyIHRoZSBzZWNvbmQgbm9kZSBiZWNhdXNlIGl0IGNvdWxkbid0IHBvc3NpYmx5IGJlIGEgYmV0dGVyIHJlc3VsdFxyXG5cdFx0aWYgKCBjMVJlc3VsdCApIHtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZSBwb2ludCBpcyB3aXRoaW4gdGhlIHNlY29uZCBib3VuZHNcclxuXHRcdFx0Ly8gXCJwb2ludFwiIGlzIGluIHRoZSBsb2NhbCBmcmFtZSBvZiB0aGUgYnZoXHJcblx0XHRcdGNvbnN0IHBvaW50ID0gYzFSZXN1bHQucG9pbnRbIHh5ekF4aXMgXTtcclxuXHRcdFx0Y29uc3QgaXNPdXRzaWRlID0gbGVmdFRvUmlnaHQgP1xyXG5cdFx0XHRcdHBvaW50IDw9IGZsb2F0MzJBcnJheVsgYzIgKyBzcGxpdEF4aXMgXSA6IC8vIG1pbiBib3VuZGluZyBkYXRhXHJcblx0XHRcdFx0cG9pbnQgPj0gZmxvYXQzMkFycmF5WyBjMiArIHNwbGl0QXhpcyArIDMgXTsgLy8gbWF4IGJvdW5kaW5nIGRhdGFcclxuXHJcblx0XHRcdGlmICggaXNPdXRzaWRlICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYzFSZXN1bHQ7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGVpdGhlciB0aGVyZSB3YXMgbm8gaW50ZXJzZWN0aW9uIGluIHRoZSBmaXJzdCBub2RlLCBvciB0aGVyZSBjb3VsZCBzdGlsbCBiZSBhIGNsb3NlclxyXG5cdFx0Ly8gaW50ZXJzZWN0aW9uIGluIHRoZSBzZWNvbmQsIHNvIGNoZWNrIHRoZSBzZWNvbmQgbm9kZSBhbmQgdGhlbiB0YWtlIHRoZSBiZXR0ZXIgb2YgdGhlIHR3b1xyXG5cdFx0Y29uc3QgYzJJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3RSYXkoIGMyLCBmbG9hdDMyQXJyYXksIHJheSwgYm94SW50ZXJzZWN0aW9uICk7XHJcblx0XHRjb25zdCBjMlJlc3VsdCA9IGMySW50ZXJzZWN0aW9uID8gcmF5Y2FzdEZpcnN0KCBjMiwgZ2VvbWV0cnksIHNpZGUsIHJheSApIDogbnVsbDtcclxuXHJcblx0XHRpZiAoIGMxUmVzdWx0ICYmIGMyUmVzdWx0ICkge1xyXG5cclxuXHRcdFx0cmV0dXJuIGMxUmVzdWx0LmRpc3RhbmNlIDw9IGMyUmVzdWx0LmRpc3RhbmNlID8gYzFSZXN1bHQgOiBjMlJlc3VsdDtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0cmV0dXJuIGMxUmVzdWx0IHx8IGMyUmVzdWx0IHx8IG51bGw7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2hhcGVjYXN0ID0gKCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGxldCBfYm94MSwgX2JveDI7XHJcblx0Y29uc3QgYm94U3RhY2sgPSBbXTtcclxuXHRjb25zdCBib3hQb29sID0gbmV3IFByaW1pdGl2ZVBvb2woICgpID0+IG5ldyBCb3gzKCkgKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHNoYXBlY2FzdCggLi4uYXJncyApIHtcclxuXHJcblx0XHRfYm94MSA9IGJveFBvb2wuZ2V0UHJpbWl0aXZlKCk7XHJcblx0XHRfYm94MiA9IGJveFBvb2wuZ2V0UHJpbWl0aXZlKCk7XHJcblx0XHRib3hTdGFjay5wdXNoKCBfYm94MSwgX2JveDIgKTtcclxuXHJcblx0XHRjb25zdCByZXN1bHQgPSBzaGFwZWNhc3RUcmF2ZXJzZSggLi4uYXJncyApO1xyXG5cclxuXHRcdGJveFBvb2wucmVsZWFzZVByaW1pdGl2ZSggX2JveDEgKTtcclxuXHRcdGJveFBvb2wucmVsZWFzZVByaW1pdGl2ZSggX2JveDIgKTtcclxuXHRcdGJveFN0YWNrLnBvcCgpO1xyXG5cdFx0Ym94U3RhY2sucG9wKCk7XHJcblxyXG5cdFx0Y29uc3QgbGVuZ3RoID0gYm94U3RhY2subGVuZ3RoO1xyXG5cdFx0aWYgKCBsZW5ndGggPiAwICkge1xyXG5cclxuXHRcdFx0X2JveDIgPSBib3hTdGFja1sgbGVuZ3RoIC0gMSBdO1xyXG5cdFx0XHRfYm94MSA9IGJveFN0YWNrWyBsZW5ndGggLSAyIF07XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblxyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIHNoYXBlY2FzdFRyYXZlcnNlKFxyXG5cdFx0bm9kZUluZGV4MzIsXHJcblx0XHRnZW9tZXRyeSxcclxuXHRcdGludGVyc2VjdHNCb3VuZHNGdW5jLFxyXG5cdFx0aW50ZXJzZWN0c1JhbmdlRnVuYyxcclxuXHRcdG5vZGVTY29yZUZ1bmMgPSBudWxsLFxyXG5cdFx0bm9kZUluZGV4Qnl0ZU9mZnNldCA9IDAsIC8vIG9mZnNldCBmb3IgdW5pcXVlIG5vZGUgaWRlbnRpZmllclxyXG5cdFx0ZGVwdGggPSAwXHJcblx0KSB7XHJcblxyXG5cdFx0Ly8gRGVmaW5lIHRoZXNlIGluc2lkZSB0aGUgZnVuY3Rpb24gc28gaXQgaGFzIGFjY2VzcyB0byB0aGUgbG9jYWwgdmFyaWFibGVzIG5lZWRlZFxyXG5cdFx0Ly8gd2hlbiBjb252ZXJ0aW5nIHRvIHRoZSBidWZmZXIgZXF1aXZhbGVudHNcclxuXHRcdGZ1bmN0aW9uIGdldExlZnRPZmZzZXQoIG5vZGVJbmRleDMyICkge1xyXG5cclxuXHRcdFx0bGV0IG5vZGVJbmRleDE2ID0gbm9kZUluZGV4MzIgKiAyLCB1aW50MTZBcnJheSA9IF91aW50MTZBcnJheSwgdWludDMyQXJyYXkgPSBfdWludDMyQXJyYXk7XHJcblxyXG5cdFx0XHQvLyB0cmF2ZXJzZSB1bnRpbCB3ZSBmaW5kIGEgbGVhZlxyXG5cdFx0XHR3aGlsZSAoICEgSVNfTEVBRiggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICkgKSB7XHJcblxyXG5cdFx0XHRcdG5vZGVJbmRleDMyID0gTEVGVF9OT0RFKCBub2RlSW5kZXgzMiApO1xyXG5cdFx0XHRcdG5vZGVJbmRleDE2ID0gbm9kZUluZGV4MzIgKiAyO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJpZ2h0RW5kT2Zmc2V0KCBub2RlSW5kZXgzMiApIHtcclxuXHJcblx0XHRcdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMiwgdWludDE2QXJyYXkgPSBfdWludDE2QXJyYXksIHVpbnQzMkFycmF5ID0gX3VpbnQzMkFycmF5O1xyXG5cclxuXHRcdFx0Ly8gdHJhdmVyc2UgdW50aWwgd2UgZmluZCBhIGxlYWZcclxuXHRcdFx0d2hpbGUgKCAhIElTX0xFQUYoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApICkge1xyXG5cclxuXHRcdFx0XHQvLyBhZGp1c3Qgb2Zmc2V0IHRvIHBvaW50IHRvIHRoZSByaWdodCBub2RlXHJcblx0XHRcdFx0bm9kZUluZGV4MzIgPSBSSUdIVF9OT0RFKCBub2RlSW5kZXgzMiwgdWludDMyQXJyYXkgKTtcclxuXHRcdFx0XHRub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMjtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJldHVybiB0aGUgZW5kIG9mZnNldCBvZiB0aGUgdHJpYW5nbGUgcmFuZ2VcclxuXHRcdFx0cmV0dXJuIE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICkgKyBDT1VOVCggbm9kZUluZGV4MTYsIHVpbnQxNkFycmF5ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBub2RlSW5kZXgxNiA9IG5vZGVJbmRleDMyICogMiwgZmxvYXQzMkFycmF5ID0gX2Zsb2F0MzJBcnJheSwgdWludDE2QXJyYXkgPSBfdWludDE2QXJyYXksIHVpbnQzMkFycmF5ID0gX3VpbnQzMkFycmF5O1xyXG5cclxuXHRcdGNvbnN0IGlzTGVhZiA9IElTX0xFQUYoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xyXG5cdFx0aWYgKCBpc0xlYWYgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBvZmZzZXQgPSBPRkZTRVQoIG5vZGVJbmRleDMyLCB1aW50MzJBcnJheSApO1xyXG5cdFx0XHRjb25zdCBjb3VudCA9IENPVU5UKCBub2RlSW5kZXgxNiwgdWludDE2QXJyYXkgKTtcclxuXHRcdFx0YXJyYXlUb0JveCggQk9VTkRJTkdfREFUQV9JTkRFWCggbm9kZUluZGV4MzIgKSwgZmxvYXQzMkFycmF5LCBfYm94MSApO1xyXG5cdFx0XHRyZXR1cm4gaW50ZXJzZWN0c1JhbmdlRnVuYyggb2Zmc2V0LCBjb3VudCwgZmFsc2UsIGRlcHRoLCBub2RlSW5kZXhCeXRlT2Zmc2V0ICsgbm9kZUluZGV4MzIsIF9ib3gxICk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdGNvbnN0IGxlZnQgPSBMRUZUX05PREUoIG5vZGVJbmRleDMyICk7XHJcblx0XHRcdGNvbnN0IHJpZ2h0ID0gUklHSFRfTk9ERSggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XHJcblx0XHRcdGxldCBjMSA9IGxlZnQ7XHJcblx0XHRcdGxldCBjMiA9IHJpZ2h0O1xyXG5cclxuXHRcdFx0bGV0IHNjb3JlMSwgc2NvcmUyO1xyXG5cdFx0XHRsZXQgYm94MSwgYm94MjtcclxuXHRcdFx0aWYgKCBub2RlU2NvcmVGdW5jICkge1xyXG5cclxuXHRcdFx0XHRib3gxID0gX2JveDE7XHJcblx0XHRcdFx0Ym94MiA9IF9ib3gyO1xyXG5cclxuXHRcdFx0XHQvLyBib3VuZGluZyBkYXRhIGlzIG5vdCBvZmZzZXRcclxuXHRcdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjMSApLCBmbG9hdDMyQXJyYXksIGJveDEgKTtcclxuXHRcdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBjMiApLCBmbG9hdDMyQXJyYXksIGJveDIgKTtcclxuXHJcblx0XHRcdFx0c2NvcmUxID0gbm9kZVNjb3JlRnVuYyggYm94MSApO1xyXG5cdFx0XHRcdHNjb3JlMiA9IG5vZGVTY29yZUZ1bmMoIGJveDIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCBzY29yZTIgPCBzY29yZTEgKSB7XHJcblxyXG5cdFx0XHRcdFx0YzEgPSByaWdodDtcclxuXHRcdFx0XHRcdGMyID0gbGVmdDtcclxuXHJcblx0XHRcdFx0XHRjb25zdCB0ZW1wID0gc2NvcmUxO1xyXG5cdFx0XHRcdFx0c2NvcmUxID0gc2NvcmUyO1xyXG5cdFx0XHRcdFx0c2NvcmUyID0gdGVtcDtcclxuXHJcblx0XHRcdFx0XHRib3gxID0gYm94MjtcclxuXHRcdFx0XHRcdC8vIGJveDIgaXMgYWx3YXlzIHNldCBiZWZvcmUgdXNlIGJlbG93XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENoZWNrIGJveCAxIGludGVyc2VjdGlvblxyXG5cdFx0XHRpZiAoICEgYm94MSApIHtcclxuXHJcblx0XHRcdFx0Ym94MSA9IF9ib3gxO1xyXG5cdFx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGMxICksIGZsb2F0MzJBcnJheSwgYm94MSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgaXNDMUxlYWYgPSBJU19MRUFGKCBjMSAqIDIsIHVpbnQxNkFycmF5ICk7XHJcblx0XHRcdGNvbnN0IGMxSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0c0JvdW5kc0Z1bmMoIGJveDEsIGlzQzFMZWFmLCBzY29yZTEsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMxICk7XHJcblxyXG5cdFx0XHRsZXQgYzFTdG9wVHJhdmVyc2FsO1xyXG5cdFx0XHRpZiAoIGMxSW50ZXJzZWN0aW9uID09PSBDT05UQUlORUQgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG9mZnNldCA9IGdldExlZnRPZmZzZXQoIGMxICk7XHJcblx0XHRcdFx0Y29uc3QgZW5kID0gZ2V0UmlnaHRFbmRPZmZzZXQoIGMxICk7XHJcblx0XHRcdFx0Y29uc3QgY291bnQgPSBlbmQgLSBvZmZzZXQ7XHJcblxyXG5cdFx0XHRcdGMxU3RvcFRyYXZlcnNhbCA9IGludGVyc2VjdHNSYW5nZUZ1bmMoIG9mZnNldCwgY291bnQsIHRydWUsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMxLCBib3gxICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjMVN0b3BUcmF2ZXJzYWwgPVxyXG5cdFx0XHRcdFx0YzFJbnRlcnNlY3Rpb24gJiZcclxuXHRcdFx0XHRcdHNoYXBlY2FzdFRyYXZlcnNlKFxyXG5cdFx0XHRcdFx0XHRjMSxcclxuXHRcdFx0XHRcdFx0Z2VvbWV0cnksXHJcblx0XHRcdFx0XHRcdGludGVyc2VjdHNCb3VuZHNGdW5jLFxyXG5cdFx0XHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2VGdW5jLFxyXG5cdFx0XHRcdFx0XHRub2RlU2NvcmVGdW5jLFxyXG5cdFx0XHRcdFx0XHRub2RlSW5kZXhCeXRlT2Zmc2V0LFxyXG5cdFx0XHRcdFx0XHRkZXB0aCArIDFcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGMxU3RvcFRyYXZlcnNhbCApIHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgYm94IDIgaW50ZXJzZWN0aW9uXHJcblx0XHRcdC8vIGNhY2hlZCBib3gyIHdpbGwgaGF2ZSBiZWVuIG92ZXJ3cml0dGVuIGJ5IHByZXZpb3VzIHRyYXZlcnNhbFxyXG5cdFx0XHRib3gyID0gX2JveDI7XHJcblx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGMyICksIGZsb2F0MzJBcnJheSwgYm94MiApO1xyXG5cclxuXHRcdFx0Y29uc3QgaXNDMkxlYWYgPSBJU19MRUFGKCBjMiAqIDIsIHVpbnQxNkFycmF5ICk7XHJcblx0XHRcdGNvbnN0IGMySW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0c0JvdW5kc0Z1bmMoIGJveDIsIGlzQzJMZWFmLCBzY29yZTIsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMyICk7XHJcblxyXG5cdFx0XHRsZXQgYzJTdG9wVHJhdmVyc2FsO1xyXG5cdFx0XHRpZiAoIGMySW50ZXJzZWN0aW9uID09PSBDT05UQUlORUQgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG9mZnNldCA9IGdldExlZnRPZmZzZXQoIGMyICk7XHJcblx0XHRcdFx0Y29uc3QgZW5kID0gZ2V0UmlnaHRFbmRPZmZzZXQoIGMyICk7XHJcblx0XHRcdFx0Y29uc3QgY291bnQgPSBlbmQgLSBvZmZzZXQ7XHJcblxyXG5cdFx0XHRcdGMyU3RvcFRyYXZlcnNhbCA9IGludGVyc2VjdHNSYW5nZUZ1bmMoIG9mZnNldCwgY291bnQsIHRydWUsIGRlcHRoICsgMSwgbm9kZUluZGV4Qnl0ZU9mZnNldCArIGMyLCBib3gyICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjMlN0b3BUcmF2ZXJzYWwgPVxyXG5cdFx0XHRcdFx0YzJJbnRlcnNlY3Rpb24gJiZcclxuXHRcdFx0XHRcdHNoYXBlY2FzdFRyYXZlcnNlKFxyXG5cdFx0XHRcdFx0XHRjMixcclxuXHRcdFx0XHRcdFx0Z2VvbWV0cnksXHJcblx0XHRcdFx0XHRcdGludGVyc2VjdHNCb3VuZHNGdW5jLFxyXG5cdFx0XHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2VGdW5jLFxyXG5cdFx0XHRcdFx0XHRub2RlU2NvcmVGdW5jLFxyXG5cdFx0XHRcdFx0XHRub2RlSW5kZXhCeXRlT2Zmc2V0LFxyXG5cdFx0XHRcdFx0XHRkZXB0aCArIDFcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGMyU3RvcFRyYXZlcnNhbCApIHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxufSApKCk7XHJcblxyXG5leHBvcnQgY29uc3QgaW50ZXJzZWN0c0dlb21ldHJ5ID0gKCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGNvbnN0IHRyaWFuZ2xlID0gbmV3IFNlcGFyYXRpbmdBeGlzVHJpYW5nbGUoKTtcclxuXHRjb25zdCB0cmlhbmdsZTIgPSBuZXcgU2VwYXJhdGluZ0F4aXNUcmlhbmdsZSgpO1xyXG5cdGNvbnN0IGludmVydGVkTWF0ID0gbmV3IE1hdHJpeDQoKTtcclxuXHJcblx0Y29uc3Qgb2JiID0gbmV3IE9yaWVudGVkQm94KCk7XHJcblx0Y29uc3Qgb2JiMiA9IG5ldyBPcmllbnRlZEJveCgpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gaW50ZXJzZWN0c0dlb21ldHJ5KCBub2RlSW5kZXgzMiwgZ2VvbWV0cnksIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIGNhY2hlZE9iYiA9IG51bGwgKSB7XHJcblxyXG5cdFx0bGV0IG5vZGVJbmRleDE2ID0gbm9kZUluZGV4MzIgKiAyLCBmbG9hdDMyQXJyYXkgPSBfZmxvYXQzMkFycmF5LCB1aW50MTZBcnJheSA9IF91aW50MTZBcnJheSwgdWludDMyQXJyYXkgPSBfdWludDMyQXJyYXk7XHJcblxyXG5cdFx0aWYgKCBjYWNoZWRPYmIgPT09IG51bGwgKSB7XHJcblxyXG5cdFx0XHRpZiAoICEgb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveCApIHtcclxuXHJcblx0XHRcdFx0b3RoZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG9iYi5zZXQoIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3gubWluLCBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94Lm1heCwgZ2VvbWV0cnlUb0J2aCApO1xyXG5cdFx0XHRjYWNoZWRPYmIgPSBvYmI7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGlzTGVhZiA9IElTX0xFQUYoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xyXG5cdFx0aWYgKCBpc0xlYWYgKSB7XHJcblxyXG5cdFx0XHRjb25zdCB0aGlzR2VvbWV0cnkgPSBnZW9tZXRyeTtcclxuXHRcdFx0Y29uc3QgdGhpc0luZGV4ID0gdGhpc0dlb21ldHJ5LmluZGV4O1xyXG5cdFx0XHRjb25zdCB0aGlzUG9zID0gdGhpc0dlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcblxyXG5cdFx0XHRjb25zdCBpbmRleCA9IG90aGVyR2VvbWV0cnkuaW5kZXg7XHJcblx0XHRcdGNvbnN0IHBvcyA9IG90aGVyR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcclxuXHJcblx0XHRcdGNvbnN0IG9mZnNldCA9IE9GRlNFVCggbm9kZUluZGV4MzIsIHVpbnQzMkFycmF5ICk7XHJcblx0XHRcdGNvbnN0IGNvdW50ID0gQ09VTlQoIG5vZGVJbmRleDE2LCB1aW50MTZBcnJheSApO1xyXG5cclxuXHRcdFx0Ly8gZ2V0IHRoZSBpbnZlcnNlIG9mIHRoZSBnZW9tZXRyeSBtYXRyaXggc28gd2UgY2FuIHRyYW5zZm9ybSBvdXIgdHJpYW5nbGVzIGludG8gdGhlXHJcblx0XHRcdC8vIGdlb21ldHJ5IHNwYWNlIHdlJ3JlIHRyeWluZyB0byB0ZXN0LiBXZSBhc3N1bWUgdGhlcmUgYXJlIGZld2VyIHRyaWFuZ2xlcyBiZWluZyBjaGVja2VkXHJcblx0XHRcdC8vIGhlcmUuXHJcblx0XHRcdGludmVydGVkTWF0LmNvcHkoIGdlb21ldHJ5VG9CdmggKS5pbnZlcnQoKTtcclxuXHJcblx0XHRcdGlmICggb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlICkge1xyXG5cclxuXHRcdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCBub2RlSW5kZXgzMiApLCBmbG9hdDMyQXJyYXksIG9iYjIgKTtcclxuXHRcdFx0XHRvYmIyLm1hdHJpeC5jb3B5KCBpbnZlcnRlZE1hdCApO1xyXG5cdFx0XHRcdG9iYjIubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCByZXMgPSBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWUuc2hhcGVjYXN0KCB7XHJcblxyXG5cdFx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogYm94ID0+IG9iYjIuaW50ZXJzZWN0c0JveCggYm94ICksXHJcblxyXG5cdFx0XHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlOiB0cmkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFx0dHJpLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblx0XHRcdFx0XHRcdHRyaS5iLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xyXG5cdFx0XHRcdFx0XHR0cmkuYy5hcHBseU1hdHJpeDQoIGdlb21ldHJ5VG9CdmggKTtcclxuXHRcdFx0XHRcdFx0dHJpLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0ICogMywgbCA9ICggY291bnQgKyBvZmZzZXQgKSAqIDM7IGkgPCBsOyBpICs9IDMgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIHRoaXMgdHJpYW5nbGUgbmVlZHMgdG8gYmUgdHJhbnNmb3JtZWQgaW50byB0aGUgY3VycmVudCBCVkggY29vcmRpbmF0ZSBmcmFtZVxyXG5cdFx0XHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZTIsIGksIHRoaXNJbmRleCwgdGhpc1BvcyApO1xyXG5cdFx0XHRcdFx0XHRcdHRyaWFuZ2xlMi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCB0cmkuaW50ZXJzZWN0c1RyaWFuZ2xlKCB0cmlhbmdsZTIgKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSApO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gcmVzO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Zm9yICggbGV0IGkgPSBvZmZzZXQgKiAzLCBsID0gKCBjb3VudCArIG9mZnNldCAqIDMgKTsgaSA8IGw7IGkgKz0gMyApIHtcclxuXHJcblx0XHRcdFx0XHQvLyB0aGlzIHRyaWFuZ2xlIG5lZWRzIHRvIGJlIHRyYW5zZm9ybWVkIGludG8gdGhlIGN1cnJlbnQgQlZIIGNvb3JkaW5hdGUgZnJhbWVcclxuXHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZSwgaSwgdGhpc0luZGV4LCB0aGlzUG9zICk7XHJcblx0XHRcdFx0XHR0cmlhbmdsZS5hLmFwcGx5TWF0cml4NCggaW52ZXJ0ZWRNYXQgKTtcclxuXHRcdFx0XHRcdHRyaWFuZ2xlLmIuYXBwbHlNYXRyaXg0KCBpbnZlcnRlZE1hdCApO1xyXG5cdFx0XHRcdFx0dHJpYW5nbGUuYy5hcHBseU1hdHJpeDQoIGludmVydGVkTWF0ICk7XHJcblx0XHRcdFx0XHR0cmlhbmdsZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0Zm9yICggbGV0IGkyID0gMCwgbDIgPSBpbmRleC5jb3VudDsgaTIgPCBsMjsgaTIgKz0gMyApIHtcclxuXHJcblx0XHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZTIsIGkyLCBpbmRleCwgcG9zICk7XHJcblx0XHRcdFx0XHRcdHRyaWFuZ2xlMi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIHRyaWFuZ2xlLmludGVyc2VjdHNUcmlhbmdsZSggdHJpYW5nbGUyICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRjb25zdCBsZWZ0ID0gbm9kZUluZGV4MzIgKyA4O1xyXG5cdFx0XHRjb25zdCByaWdodCA9IHVpbnQzMkFycmF5WyBub2RlSW5kZXgzMiArIDYgXTtcclxuXHJcblx0XHRcdGFycmF5VG9Cb3goIEJPVU5ESU5HX0RBVEFfSU5ERVgoIGxlZnQgKSwgZmxvYXQzMkFycmF5LCBib3VuZGluZ0JveCApO1xyXG5cdFx0XHRjb25zdCBsZWZ0SW50ZXJzZWN0aW9uID1cclxuXHRcdFx0XHRjYWNoZWRPYmIuaW50ZXJzZWN0c0JveCggYm91bmRpbmdCb3ggKSAmJlxyXG5cdFx0XHRcdGludGVyc2VjdHNHZW9tZXRyeSggbGVmdCwgZ2VvbWV0cnksIG90aGVyR2VvbWV0cnksIGdlb21ldHJ5VG9CdmgsIGNhY2hlZE9iYiApO1xyXG5cclxuXHRcdFx0aWYgKCBsZWZ0SW50ZXJzZWN0aW9uICkgcmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRhcnJheVRvQm94KCBCT1VORElOR19EQVRBX0lOREVYKCByaWdodCApLCBmbG9hdDMyQXJyYXksIGJvdW5kaW5nQm94ICk7XHJcblx0XHRcdGNvbnN0IHJpZ2h0SW50ZXJzZWN0aW9uID1cclxuXHRcdFx0XHRjYWNoZWRPYmIuaW50ZXJzZWN0c0JveCggYm91bmRpbmdCb3ggKSAmJlxyXG5cdFx0XHRcdGludGVyc2VjdHNHZW9tZXRyeSggcmlnaHQsIGdlb21ldHJ5LCBvdGhlckdlb21ldHJ5LCBnZW9tZXRyeVRvQnZoLCBjYWNoZWRPYmIgKTtcclxuXHJcblx0XHRcdGlmICggcmlnaHRJbnRlcnNlY3Rpb24gKSByZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG59ICkoKTtcclxuXHJcbmZ1bmN0aW9uIGludGVyc2VjdFJheSggbm9kZUluZGV4MzIsIGFycmF5LCByYXksIHRhcmdldCApIHtcclxuXHJcblx0YXJyYXlUb0JveCggbm9kZUluZGV4MzIsIGFycmF5LCBib3VuZGluZ0JveCApO1xyXG5cdHJldHVybiByYXkuaW50ZXJzZWN0Qm94KCBib3VuZGluZ0JveCwgdGFyZ2V0ICk7XHJcblxyXG59XHJcblxyXG5jb25zdCBidWZmZXJTdGFjayA9IFtdO1xyXG5sZXQgX3ByZXZCdWZmZXI7XHJcbmxldCBfZmxvYXQzMkFycmF5O1xyXG5sZXQgX3VpbnQxNkFycmF5O1xyXG5sZXQgX3VpbnQzMkFycmF5O1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0QnVmZmVyKCBidWZmZXIgKSB7XHJcblxyXG5cdGlmICggX3ByZXZCdWZmZXIgKSB7XHJcblxyXG5cdFx0YnVmZmVyU3RhY2sucHVzaCggX3ByZXZCdWZmZXIgKTtcclxuXHJcblx0fVxyXG5cclxuXHRfcHJldkJ1ZmZlciA9IGJ1ZmZlcjtcclxuXHRfZmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSggYnVmZmVyICk7XHJcblx0X3VpbnQxNkFycmF5ID0gbmV3IFVpbnQxNkFycmF5KCBidWZmZXIgKTtcclxuXHRfdWludDMyQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoIGJ1ZmZlciApO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQnVmZmVyKCkge1xyXG5cclxuXHRfcHJldkJ1ZmZlciA9IG51bGw7XHJcblx0X2Zsb2F0MzJBcnJheSA9IG51bGw7XHJcblx0X3VpbnQxNkFycmF5ID0gbnVsbDtcclxuXHRfdWludDMyQXJyYXkgPSBudWxsO1xyXG5cclxuXHRpZiAoIGJ1ZmZlclN0YWNrLmxlbmd0aCApIHtcclxuXHJcblx0XHRzZXRCdWZmZXIoIGJ1ZmZlclN0YWNrLnBvcCgpICk7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yMywgQnVmZmVyQXR0cmlidXRlLCBCb3gzLCBGcm9udFNpZGUsIE1hdHJpeDQgfSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7IENFTlRFUiB9IGZyb20gJy4vQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHsgQllURVNfUEVSX05PREUsIElTX0xFQUZOT0RFX0ZMQUcsIGJ1aWxkUGFja2VkVHJlZSB9IGZyb20gJy4vYnVpbGRGdW5jdGlvbnMuanMnO1xyXG5pbXBvcnQge1xyXG5cdHJheWNhc3QsXHJcblx0cmF5Y2FzdEZpcnN0LFxyXG5cdHNoYXBlY2FzdCxcclxuXHRpbnRlcnNlY3RzR2VvbWV0cnksXHJcblx0c2V0QnVmZmVyLFxyXG5cdGNsZWFyQnVmZmVyLFxyXG59IGZyb20gJy4vY2FzdEZ1bmN0aW9ucy5qcyc7XHJcbmltcG9ydCB7IE9yaWVudGVkQm94IH0gZnJvbSAnLi4vbWF0aC9PcmllbnRlZEJveC5qcyc7XHJcbmltcG9ydCB7IFNlcGFyYXRpbmdBeGlzVHJpYW5nbGUgfSBmcm9tICcuLi9tYXRoL1NlcGFyYXRpbmdBeGlzVHJpYW5nbGUuanMnO1xyXG5pbXBvcnQgeyBQcmltaXRpdmVQb29sIH0gZnJvbSAnLi4vdXRpbHMvUHJpbWl0aXZlUG9vbC5qcyc7XHJcbmltcG9ydCB7IGFycmF5VG9Cb3ggfSBmcm9tICcuLi91dGlscy9BcnJheUJveFV0aWxpdGllcy5qcyc7XHJcbmltcG9ydCB7IGl0ZXJhdGVPdmVyVHJpYW5nbGVzLCBzZXRUcmlhbmdsZSB9IGZyb20gJy4uL3V0aWxzL1RyaWFuZ2xlVXRpbGl0aWVzLmpzJztcclxuaW1wb3J0IHsgY29udmVydFJheWNhc3RJbnRlcnNlY3QgfSBmcm9tICcuLi91dGlscy9HZW9tZXRyeVJheUludGVyc2VjdFV0aWxpdGllcy5qcyc7XHJcblxyXG5jb25zdCBTS0lQX0dFTkVSQVRJT04gPSBTeW1ib2woICdza2lwIHRyZWUgZ2VuZXJhdGlvbicgKTtcclxuXHJcbmNvbnN0IGFhYmIgPSAvKiBAX19QVVJFX18gKi8gbmV3IEJveDMoKTtcclxuY29uc3QgYWFiYjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IEJveDMoKTtcclxuY29uc3QgdGVtcE1hdHJpeCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWF0cml4NCgpO1xyXG5jb25zdCBvYmIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE9yaWVudGVkQm94KCk7XHJcbmNvbnN0IG9iYjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE9yaWVudGVkQm94KCk7XHJcbmNvbnN0IHRlbXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcDEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcDIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcDMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcDQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFZlY3RvcjMoKTtcclxuY29uc3QgdGVtcEJveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgQm94MygpO1xyXG5jb25zdCB0cmlhbmdsZVBvb2wgPSAvKiBAX19QVVJFX18gKi8gbmV3IFByaW1pdGl2ZVBvb2woICgpID0+IG5ldyBTZXBhcmF0aW5nQXhpc1RyaWFuZ2xlKCkgKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXNoQlZIIHtcclxuXHJcblx0c3RhdGljIHNlcmlhbGl6ZSggYnZoLCBvcHRpb25zID0ge30gKSB7XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmlzQnVmZmVyR2VvbWV0cnkgKSB7XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdNZXNoQlZILnNlcmlhbGl6ZTogVGhlIGFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uIGhhdmUgY2hhbmdlZC4gU2VlIGRvY3VtZW50YXRpb24gZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdFx0cmV0dXJuIE1lc2hCVkguc2VyaWFsaXplKFxyXG5cdFx0XHRcdGFyZ3VtZW50c1sgMCBdLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGNsb25lQnVmZmVyczogYXJndW1lbnRzWyAyIF0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbIDIgXSxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdG9wdGlvbnMgPSB7XHJcblx0XHRcdGNsb25lQnVmZmVyczogdHJ1ZSxcclxuXHRcdFx0Li4ub3B0aW9ucyxcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgZ2VvbWV0cnkgPSBidmguZ2VvbWV0cnk7XHJcblx0XHRjb25zdCByb290RGF0YSA9IGJ2aC5fcm9vdHM7XHJcblx0XHRjb25zdCBpbmRleEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcblx0XHRsZXQgcmVzdWx0O1xyXG5cdFx0aWYgKCBvcHRpb25zLmNsb25lQnVmZmVycyApIHtcclxuXHJcblx0XHRcdHJlc3VsdCA9IHtcclxuXHRcdFx0XHRyb290czogcm9vdERhdGEubWFwKCByb290ID0+IHJvb3Quc2xpY2UoKSApLFxyXG5cdFx0XHRcdGluZGV4OiBpbmRleEF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRyZXN1bHQgPSB7XHJcblx0XHRcdFx0cm9vdHM6IHJvb3REYXRhLFxyXG5cdFx0XHRcdGluZGV4OiBpbmRleEF0dHJpYnV0ZS5hcnJheSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZGVzZXJpYWxpemUoIGRhdGEsIGdlb21ldHJ5LCBvcHRpb25zID0ge30gKSB7XHJcblxyXG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nICkge1xyXG5cclxuXHRcdFx0Y29uc29sZS53YXJuKCAnTWVzaEJWSC5kZXNlcmlhbGl6ZTogVGhlIGFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uIGhhdmUgY2hhbmdlZC4gU2VlIGRvY3VtZW50YXRpb24gZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdFx0cmV0dXJuIE1lc2hCVkguZGVzZXJpYWxpemUoXHJcblx0XHRcdFx0YXJndW1lbnRzWyAwIF0sXHJcblx0XHRcdFx0YXJndW1lbnRzWyAxIF0sXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0c2V0SW5kZXg6IGFyZ3VtZW50c1sgMiBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWyAyIF0sXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRvcHRpb25zID0ge1xyXG5cdFx0XHRzZXRJbmRleDogdHJ1ZSxcclxuXHRcdFx0Li4ub3B0aW9ucyxcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgeyBpbmRleCwgcm9vdHMgfSA9IGRhdGE7XHJcblx0XHRjb25zdCBidmggPSBuZXcgTWVzaEJWSCggZ2VvbWV0cnksIHsgLi4ub3B0aW9ucywgWyBTS0lQX0dFTkVSQVRJT04gXTogdHJ1ZSB9ICk7XHJcblx0XHRidmguX3Jvb3RzID0gcm9vdHM7XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLnNldEluZGV4ICkge1xyXG5cclxuXHRcdFx0Y29uc3QgaW5kZXhBdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG5cdFx0XHRpZiAoIGluZGV4QXR0cmlidXRlID09PSBudWxsICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBuZXdJbmRleCA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGRhdGEuaW5kZXgsIDEsIGZhbHNlICk7XHJcblx0XHRcdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIG5ld0luZGV4ICk7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCBpbmRleEF0dHJpYnV0ZS5hcnJheSAhPT0gaW5kZXggKSB7XHJcblxyXG5cdFx0XHRcdGluZGV4QXR0cmlidXRlLmFycmF5LnNldCggaW5kZXggKTtcclxuXHRcdFx0XHRpbmRleEF0dHJpYnV0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBidmg7XHJcblxyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoIGdlb21ldHJ5LCBvcHRpb25zID0ge30gKSB7XHJcblxyXG5cdFx0aWYgKCAhIGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkgKSB7XHJcblxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdNZXNoQlZIOiBPbmx5IEJ1ZmZlckdlb21ldHJpZXMgYXJlIHN1cHBvcnRlZC4nICk7XHJcblxyXG5cdFx0fSBlbHNlIGlmICggZ2VvbWV0cnkuaW5kZXggJiYgZ2VvbWV0cnkuaW5kZXguaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSApIHtcclxuXHJcblx0XHRcdHRocm93IG5ldyBFcnJvciggJ01lc2hCVkg6IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBpbmRleCBhdHRyaWJ1dGUuJyApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvLyBkZWZhdWx0IG9wdGlvbnNcclxuXHRcdG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKCB7XHJcblxyXG5cdFx0XHRzdHJhdGVneTogQ0VOVEVSLFxyXG5cdFx0XHRtYXhEZXB0aDogNDAsXHJcblx0XHRcdG1heExlYWZUcmlzOiAxMCxcclxuXHRcdFx0dmVyYm9zZTogdHJ1ZSxcclxuXHRcdFx0dXNlU2hhcmVkQXJyYXlCdWZmZXI6IGZhbHNlLFxyXG5cdFx0XHRzZXRCb3VuZGluZ0JveDogdHJ1ZSxcclxuXHJcblx0XHRcdC8vIHVuZG9jdW1lbnRlZCBvcHRpb25zXHJcblxyXG5cdFx0XHQvLyBXaGV0aGVyIHRvIHNraXAgZ2VuZXJhdGluZyB0aGUgdHJlZS4gVXNlZCBmb3IgZGVzZXJpYWxpemF0aW9uLlxyXG5cdFx0XHRbIFNLSVBfR0VORVJBVElPTiBdOiBmYWxzZVxyXG5cclxuXHRcdH0sIG9wdGlvbnMgKTtcclxuXHJcblx0XHRpZiAoIG9wdGlvbnMudXNlU2hhcmVkQXJyYXlCdWZmZXIgJiYgdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyApIHtcclxuXHJcblx0XHRcdHRocm93IG5ldyBFcnJvciggJ01lc2hCVkg6IFNoYXJlZEFycmF5QnVmZmVyIGlzIG5vdCBhdmFpbGFibGUuJyApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9yb290cyA9IG51bGw7XHJcblx0XHRpZiAoICEgb3B0aW9uc1sgU0tJUF9HRU5FUkFUSU9OIF0gKSB7XHJcblxyXG5cdFx0XHR0aGlzLl9yb290cyA9IGJ1aWxkUGFja2VkVHJlZSggZ2VvbWV0cnksIG9wdGlvbnMgKTtcclxuXHJcblx0XHRcdGlmICggISBnZW9tZXRyeS5ib3VuZGluZ0JveCAmJiBvcHRpb25zLnNldEJvdW5kaW5nQm94ICkge1xyXG5cclxuXHRcdFx0XHRnZW9tZXRyeS5ib3VuZGluZ0JveCA9IHRoaXMuZ2V0Qm91bmRpbmdCb3goIG5ldyBCb3gzKCkgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmV0YWluIHJlZmVyZW5jZXMgdG8gdGhlIGdlb21ldHJ5IHNvIHdlIGNhbiB1c2UgdGhlbSBpdCB3aXRob3V0IGhhdmluZyB0b1xyXG5cdFx0Ly8gdGFrZSBhIGdlb21ldHJ5IHJlZmVyZW5jZSBpbiBldmVyeSBmdW5jdGlvbi5cclxuXHRcdHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcclxuXHJcblx0fVxyXG5cclxuXHRyZWZpdCggbm9kZUluZGljZXMgPSBudWxsICkge1xyXG5cclxuXHRcdGlmICggbm9kZUluZGljZXMgJiYgQXJyYXkuaXNBcnJheSggbm9kZUluZGljZXMgKSApIHtcclxuXHJcblx0XHRcdG5vZGVJbmRpY2VzID0gbmV3IFNldCggbm9kZUluZGljZXMgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xyXG5cdFx0Y29uc3QgaW5kZXhBcnIgPSBnZW9tZXRyeS5pbmRleC5hcnJheTtcclxuXHRcdGNvbnN0IHBvc0F0dHIgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG5cdFx0Y29uc3QgcG9zQXJyID0gcG9zQXR0ci5hcnJheTtcclxuXHJcblx0XHQvLyBzdXBwb3J0IGZvciBhbiBpbnRlcmxlYXZlZCBwb3NpdGlvbiBidWZmZXJcclxuXHRcdGNvbnN0IGJ1ZmZlck9mZnNldCA9IHBvc0F0dHIub2Zmc2V0IHx8IDA7XHJcblx0XHRsZXQgc3RyaWRlID0gMztcclxuXHRcdGlmICggcG9zQXR0ci5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xyXG5cclxuXHRcdFx0c3RyaWRlID0gcG9zQXR0ci5kYXRhLnN0cmlkZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGJ1ZmZlciwgdWludDMyQXJyYXksIHVpbnQxNkFycmF5LCBmbG9hdDMyQXJyYXk7XHJcblx0XHRsZXQgYnl0ZU9mZnNldCA9IDA7XHJcblx0XHRjb25zdCByb290cyA9IHRoaXMuX3Jvb3RzO1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gcm9vdHMubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcclxuXHJcblx0XHRcdGJ1ZmZlciA9IHJvb3RzWyBpIF07XHJcblx0XHRcdHVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KCBidWZmZXIgKTtcclxuXHRcdFx0dWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xyXG5cdFx0XHRmbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KCBidWZmZXIgKTtcclxuXHJcblx0XHRcdF90cmF2ZXJzZSggMCwgYnl0ZU9mZnNldCApO1xyXG5cdFx0XHRieXRlT2Zmc2V0ICs9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBfdHJhdmVyc2UoIG5vZGUzMkluZGV4LCBieXRlT2Zmc2V0LCBmb3JjZSA9IGZhbHNlICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgbm9kZTE2SW5kZXggPSBub2RlMzJJbmRleCAqIDI7XHJcblx0XHRcdGNvbnN0IGlzTGVhZiA9IHVpbnQxNkFycmF5WyBub2RlMTZJbmRleCArIDE1IF0gPT09IElTX0xFQUZOT0RFX0ZMQUc7XHJcblx0XHRcdGlmICggaXNMZWFmICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSB1aW50MzJBcnJheVsgbm9kZTMySW5kZXggKyA2IF07XHJcblx0XHRcdFx0Y29uc3QgY291bnQgPSB1aW50MTZBcnJheVsgbm9kZTE2SW5kZXggKyAxNCBdO1xyXG5cclxuXHRcdFx0XHRsZXQgbWlueCA9IEluZmluaXR5O1xyXG5cdFx0XHRcdGxldCBtaW55ID0gSW5maW5pdHk7XHJcblx0XHRcdFx0bGV0IG1pbnogPSBJbmZpbml0eTtcclxuXHRcdFx0XHRsZXQgbWF4eCA9IC0gSW5maW5pdHk7XHJcblx0XHRcdFx0bGV0IG1heHkgPSAtIEluZmluaXR5O1xyXG5cdFx0XHRcdGxldCBtYXh6ID0gLSBJbmZpbml0eTtcclxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDMgKiBvZmZzZXQsIGwgPSAzICogKCBvZmZzZXQgKyBjb3VudCApOyBpIDwgbDsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IGluZGV4QXJyWyBpIF0gKiBzdHJpZGUgKyBidWZmZXJPZmZzZXQ7XHJcblx0XHRcdFx0XHRjb25zdCB4ID0gcG9zQXJyWyBpbmRleCArIDAgXTtcclxuXHRcdFx0XHRcdGNvbnN0IHkgPSBwb3NBcnJbIGluZGV4ICsgMSBdO1xyXG5cdFx0XHRcdFx0Y29uc3QgeiA9IHBvc0FyclsgaW5kZXggKyAyIF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB4IDwgbWlueCApIG1pbnggPSB4O1xyXG5cdFx0XHRcdFx0aWYgKCB4ID4gbWF4eCApIG1heHggPSB4O1xyXG5cclxuXHRcdFx0XHRcdGlmICggeSA8IG1pbnkgKSBtaW55ID0geTtcclxuXHRcdFx0XHRcdGlmICggeSA+IG1heHkgKSBtYXh5ID0geTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHogPCBtaW56ICkgbWlueiA9IHo7XHJcblx0XHRcdFx0XHRpZiAoIHogPiBtYXh6ICkgbWF4eiA9IHo7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDAgXSAhPT0gbWlueCB8fFxyXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDEgXSAhPT0gbWlueSB8fFxyXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDIgXSAhPT0gbWlueiB8fFxyXG5cclxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAzIF0gIT09IG1heHggfHxcclxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA0IF0gIT09IG1heHkgfHxcclxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA1IF0gIT09IG1heHpcclxuXHRcdFx0XHQpIHtcclxuXHJcblx0XHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgMCBdID0gbWlueDtcclxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyAxIF0gPSBtaW55O1xyXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDIgXSA9IG1pbno7XHJcblxyXG5cdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIDMgXSA9IG1heHg7XHJcblx0XHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgNCBdID0gbWF4eTtcclxuXHRcdFx0XHRcdGZsb2F0MzJBcnJheVsgbm9kZTMySW5kZXggKyA1IF0gPSBtYXh6O1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgbGVmdCA9IG5vZGUzMkluZGV4ICsgODtcclxuXHRcdFx0XHRjb25zdCByaWdodCA9IHVpbnQzMkFycmF5WyBub2RlMzJJbmRleCArIDYgXTtcclxuXHJcblx0XHRcdFx0Ly8gdGhlIGlkZW50aWZ5aW5nIG5vZGUgaW5kaWNlcyBwcm92aWRlZCBieSB0aGUgc2hhcGVjYXN0IGZ1bmN0aW9uIGluY2x1ZGUgb2Zmc2V0cyBvZiBhbGxcclxuXHRcdFx0XHQvLyByb290IGJ1ZmZlcnMgdG8gZ3VhcmFudGVlIHRoZXkncmUgdW5pcXVlIGJldHdlZW4gcm9vdHMgc28gb2Zmc2V0IGxlZnQgYW5kIHJpZ2h0IGluZGljZXMgaGVyZS5cclxuXHRcdFx0XHRjb25zdCBvZmZzZXRMZWZ0ID0gbGVmdCArIGJ5dGVPZmZzZXQ7XHJcblx0XHRcdFx0Y29uc3Qgb2Zmc2V0UmlnaHQgPSByaWdodCArIGJ5dGVPZmZzZXQ7XHJcblx0XHRcdFx0bGV0IGZvcmNlQ2hpbGRyZW4gPSBmb3JjZTtcclxuXHRcdFx0XHRsZXQgaW5jbHVkZXNMZWZ0ID0gZmFsc2U7XHJcblx0XHRcdFx0bGV0IGluY2x1ZGVzUmlnaHQgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0aWYgKCBub2RlSW5kaWNlcyApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBpZiB3ZSBzZWUgdGhhdCBuZWl0aGVyIHRoZSBsZWZ0IG9yIHJpZ2h0IGNoaWxkIGFyZSBpbmNsdWRlZCBpbiB0aGUgc2V0IHRoYXQgbmVlZCB0byBiZSB1cGRhdGVkXHJcblx0XHRcdFx0XHQvLyB0aGVuIHdlIGFzc3VtZSB0aGF0IGFsbCBjaGlsZHJlbiBuZWVkIHRvIGJlIHVwZGF0ZWQuXHJcblx0XHRcdFx0XHRpZiAoICEgZm9yY2VDaGlsZHJlbiApIHtcclxuXHJcblx0XHRcdFx0XHRcdGluY2x1ZGVzTGVmdCA9IG5vZGVJbmRpY2VzLmhhcyggb2Zmc2V0TGVmdCApO1xyXG5cdFx0XHRcdFx0XHRpbmNsdWRlc1JpZ2h0ID0gbm9kZUluZGljZXMuaGFzKCBvZmZzZXRSaWdodCApO1xyXG5cdFx0XHRcdFx0XHRmb3JjZUNoaWxkcmVuID0gISBpbmNsdWRlc0xlZnQgJiYgISBpbmNsdWRlc1JpZ2h0O1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRpbmNsdWRlc0xlZnQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0aW5jbHVkZXNSaWdodCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3QgdHJhdmVyc2VMZWZ0ID0gZm9yY2VDaGlsZHJlbiB8fCBpbmNsdWRlc0xlZnQ7XHJcblx0XHRcdFx0Y29uc3QgdHJhdmVyc2VSaWdodCA9IGZvcmNlQ2hpbGRyZW4gfHwgaW5jbHVkZXNSaWdodDtcclxuXHJcblx0XHRcdFx0bGV0IGxlZnRDaGFuZ2UgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoIHRyYXZlcnNlTGVmdCApIHtcclxuXHJcblx0XHRcdFx0XHRsZWZ0Q2hhbmdlID0gX3RyYXZlcnNlKCBsZWZ0LCBieXRlT2Zmc2V0LCBmb3JjZUNoaWxkcmVuICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bGV0IHJpZ2h0Q2hhbmdlID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKCB0cmF2ZXJzZVJpZ2h0ICkge1xyXG5cclxuXHRcdFx0XHRcdHJpZ2h0Q2hhbmdlID0gX3RyYXZlcnNlKCByaWdodCwgYnl0ZU9mZnNldCwgZm9yY2VDaGlsZHJlbiApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRpZENoYW5nZSA9IGxlZnRDaGFuZ2UgfHwgcmlnaHRDaGFuZ2U7XHJcblx0XHRcdFx0aWYgKCBkaWRDaGFuZ2UgKSB7XHJcblxyXG5cdFx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgMzsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IGxlZnRpID0gbGVmdCArIGk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHJpZ2h0aSA9IHJpZ2h0ICsgaTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbWluTGVmdFZhbHVlID0gZmxvYXQzMkFycmF5WyBsZWZ0aSBdO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtYXhMZWZ0VmFsdWUgPSBmbG9hdDMyQXJyYXlbIGxlZnRpICsgMyBdO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBtaW5SaWdodFZhbHVlID0gZmxvYXQzMkFycmF5WyByaWdodGkgXTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbWF4UmlnaHRWYWx1ZSA9IGZsb2F0MzJBcnJheVsgcmlnaHRpICsgMyBdO1xyXG5cclxuXHRcdFx0XHRcdFx0ZmxvYXQzMkFycmF5WyBub2RlMzJJbmRleCArIGkgXSA9IG1pbkxlZnRWYWx1ZSA8IG1pblJpZ2h0VmFsdWUgPyBtaW5MZWZ0VmFsdWUgOiBtaW5SaWdodFZhbHVlO1xyXG5cdFx0XHRcdFx0XHRmbG9hdDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgaSArIDMgXSA9IG1heExlZnRWYWx1ZSA+IG1heFJpZ2h0VmFsdWUgPyBtYXhMZWZ0VmFsdWUgOiBtYXhSaWdodFZhbHVlO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGlkQ2hhbmdlO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHR0cmF2ZXJzZSggY2FsbGJhY2ssIHJvb3RJbmRleCA9IDAgKSB7XHJcblxyXG5cdFx0Y29uc3QgYnVmZmVyID0gdGhpcy5fcm9vdHNbIHJvb3RJbmRleCBdO1xyXG5cdFx0Y29uc3QgdWludDMyQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoIGJ1ZmZlciApO1xyXG5cdFx0Y29uc3QgdWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoIGJ1ZmZlciApO1xyXG5cdFx0X3RyYXZlcnNlKCAwICk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gX3RyYXZlcnNlKCBub2RlMzJJbmRleCwgZGVwdGggPSAwICkge1xyXG5cclxuXHRcdFx0Y29uc3Qgbm9kZTE2SW5kZXggPSBub2RlMzJJbmRleCAqIDI7XHJcblx0XHRcdGNvbnN0IGlzTGVhZiA9IHVpbnQxNkFycmF5WyBub2RlMTZJbmRleCArIDE1IF0gPT09IElTX0xFQUZOT0RFX0ZMQUc7XHJcblx0XHRcdGlmICggaXNMZWFmICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSB1aW50MzJBcnJheVsgbm9kZTMySW5kZXggKyA2IF07XHJcblx0XHRcdFx0Y29uc3QgY291bnQgPSB1aW50MTZBcnJheVsgbm9kZTE2SW5kZXggKyAxNCBdO1xyXG5cdFx0XHRcdGNhbGxiYWNrKCBkZXB0aCwgaXNMZWFmLCBuZXcgRmxvYXQzMkFycmF5KCBidWZmZXIsIG5vZGUzMkluZGV4ICogNCwgNiApLCBvZmZzZXQsIGNvdW50ICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zdCBsZWZ0ID0gbm9kZTMySW5kZXggKyBCWVRFU19QRVJfTk9ERSAvIDQ7XHJcblx0XHRcdFx0Y29uc3QgcmlnaHQgPSB1aW50MzJBcnJheVsgbm9kZTMySW5kZXggKyA2IF07XHJcblx0XHRcdFx0Y29uc3Qgc3BsaXRBeGlzID0gdWludDMyQXJyYXlbIG5vZGUzMkluZGV4ICsgNyBdO1xyXG5cdFx0XHRcdGNvbnN0IHN0b3BUcmF2ZXJzYWwgPSBjYWxsYmFjayggZGVwdGgsIGlzTGVhZiwgbmV3IEZsb2F0MzJBcnJheSggYnVmZmVyLCBub2RlMzJJbmRleCAqIDQsIDYgKSwgc3BsaXRBeGlzICk7XHJcblxyXG5cdFx0XHRcdGlmICggISBzdG9wVHJhdmVyc2FsICkge1xyXG5cclxuXHRcdFx0XHRcdF90cmF2ZXJzZSggbGVmdCwgZGVwdGggKyAxICk7XHJcblx0XHRcdFx0XHRfdHJhdmVyc2UoIHJpZ2h0LCBkZXB0aCArIDEgKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvKiBDb3JlIENhc3QgRnVuY3Rpb25zICovXHJcblx0cmF5Y2FzdCggcmF5LCBtYXRlcmlhbE9yU2lkZSA9IEZyb250U2lkZSApIHtcclxuXHJcblx0XHRjb25zdCByb290cyA9IHRoaXMuX3Jvb3RzO1xyXG5cdFx0Y29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xyXG5cdFx0Y29uc3QgaW50ZXJzZWN0cyA9IFtdO1xyXG5cdFx0Y29uc3QgaXNNYXRlcmlhbCA9IG1hdGVyaWFsT3JTaWRlLmlzTWF0ZXJpYWw7XHJcblx0XHRjb25zdCBpc0FycmF5TWF0ZXJpYWwgPSBBcnJheS5pc0FycmF5KCBtYXRlcmlhbE9yU2lkZSApO1xyXG5cclxuXHRcdGNvbnN0IGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3VwcztcclxuXHRcdGNvbnN0IHNpZGUgPSBpc01hdGVyaWFsID8gbWF0ZXJpYWxPclNpZGUuc2lkZSA6IG1hdGVyaWFsT3JTaWRlO1xyXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gcm9vdHMubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnN0IG1hdGVyaWFsU2lkZSA9IGlzQXJyYXlNYXRlcmlhbCA/IG1hdGVyaWFsT3JTaWRlWyBncm91cHNbIGkgXS5tYXRlcmlhbEluZGV4IF0uc2lkZSA6IHNpZGU7XHJcblx0XHRcdGNvbnN0IHN0YXJ0Q291bnQgPSBpbnRlcnNlY3RzLmxlbmd0aDtcclxuXHJcblx0XHRcdHNldEJ1ZmZlciggcm9vdHNbIGkgXSApO1xyXG5cdFx0XHRyYXljYXN0KCAwLCBnZW9tZXRyeSwgbWF0ZXJpYWxTaWRlLCByYXksIGludGVyc2VjdHMgKTtcclxuXHRcdFx0Y2xlYXJCdWZmZXIoKTtcclxuXHJcblx0XHRcdGlmICggaXNBcnJheU1hdGVyaWFsICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBtYXRlcmlhbEluZGV4ID0gZ3JvdXBzWyBpIF0ubWF0ZXJpYWxJbmRleDtcclxuXHRcdFx0XHRmb3IgKCBsZXQgaiA9IHN0YXJ0Q291bnQsIGpsID0gaW50ZXJzZWN0cy5sZW5ndGg7IGogPCBqbDsgaiArKyApIHtcclxuXHJcblx0XHRcdFx0XHRpbnRlcnNlY3RzWyBqIF0uZmFjZS5tYXRlcmlhbEluZGV4ID0gbWF0ZXJpYWxJbmRleDtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW50ZXJzZWN0cztcclxuXHJcblx0fVxyXG5cclxuXHRyYXljYXN0Rmlyc3QoIHJheSwgbWF0ZXJpYWxPclNpZGUgPSBGcm9udFNpZGUgKSB7XHJcblxyXG5cdFx0Y29uc3Qgcm9vdHMgPSB0aGlzLl9yb290cztcclxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcclxuXHRcdGNvbnN0IGlzTWF0ZXJpYWwgPSBtYXRlcmlhbE9yU2lkZS5pc01hdGVyaWFsO1xyXG5cdFx0Y29uc3QgaXNBcnJheU1hdGVyaWFsID0gQXJyYXkuaXNBcnJheSggbWF0ZXJpYWxPclNpZGUgKTtcclxuXHJcblx0XHRsZXQgY2xvc2VzdFJlc3VsdCA9IG51bGw7XHJcblxyXG5cdFx0Y29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xyXG5cdFx0Y29uc3Qgc2lkZSA9IGlzTWF0ZXJpYWwgPyBtYXRlcmlhbE9yU2lkZS5zaWRlIDogbWF0ZXJpYWxPclNpZGU7XHJcblx0XHRmb3IgKCBsZXQgaSA9IDAsIGwgPSByb290cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xyXG5cclxuXHRcdFx0Y29uc3QgbWF0ZXJpYWxTaWRlID0gaXNBcnJheU1hdGVyaWFsID8gbWF0ZXJpYWxPclNpZGVbIGdyb3Vwc1sgaSBdLm1hdGVyaWFsSW5kZXggXS5zaWRlIDogc2lkZTtcclxuXHJcblx0XHRcdHNldEJ1ZmZlciggcm9vdHNbIGkgXSApO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSByYXljYXN0Rmlyc3QoIDAsIGdlb21ldHJ5LCBtYXRlcmlhbFNpZGUsIHJheSApO1xyXG5cdFx0XHRjbGVhckJ1ZmZlcigpO1xyXG5cclxuXHRcdFx0aWYgKCByZXN1bHQgIT0gbnVsbCAmJiAoIGNsb3Nlc3RSZXN1bHQgPT0gbnVsbCB8fCByZXN1bHQuZGlzdGFuY2UgPCBjbG9zZXN0UmVzdWx0LmRpc3RhbmNlICkgKSB7XHJcblxyXG5cdFx0XHRcdGNsb3Nlc3RSZXN1bHQgPSByZXN1bHQ7XHJcblx0XHRcdFx0aWYgKCBpc0FycmF5TWF0ZXJpYWwgKSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzdWx0LmZhY2UubWF0ZXJpYWxJbmRleCA9IGdyb3Vwc1sgaSBdLm1hdGVyaWFsSW5kZXg7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNsb3Nlc3RSZXN1bHQ7XHJcblxyXG5cdH1cclxuXHJcblx0aW50ZXJzZWN0c0dlb21ldHJ5KCBvdGhlckdlb21ldHJ5LCBnZW9tVG9NZXNoICkge1xyXG5cclxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcclxuXHRcdGxldCByZXN1bHQgPSBmYWxzZTtcclxuXHRcdGZvciAoIGNvbnN0IHJvb3Qgb2YgdGhpcy5fcm9vdHMgKSB7XHJcblxyXG5cdFx0XHRzZXRCdWZmZXIoIHJvb3QgKTtcclxuXHRcdFx0cmVzdWx0ID0gaW50ZXJzZWN0c0dlb21ldHJ5KCAwLCBnZW9tZXRyeSwgb3RoZXJHZW9tZXRyeSwgZ2VvbVRvTWVzaCApO1xyXG5cdFx0XHRjbGVhckJ1ZmZlcigpO1xyXG5cclxuXHRcdFx0aWYgKCByZXN1bHQgKSB7XHJcblxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cclxuXHR9XHJcblxyXG5cdHNoYXBlY2FzdCggY2FsbGJhY2tzLCBfaW50ZXJzZWN0c1RyaWFuZ2xlRnVuYywgX29yZGVyTm9kZXNGdW5jICkge1xyXG5cclxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcclxuXHRcdGlmICggY2FsbGJhY2tzIGluc3RhbmNlb2YgRnVuY3Rpb24gKSB7XHJcblxyXG5cdFx0XHRpZiAoIF9pbnRlcnNlY3RzVHJpYW5nbGVGdW5jICkge1xyXG5cclxuXHRcdFx0XHQvLyBTdXBwb3J0IHRoZSBwcmV2aW91cyBmdW5jdGlvbiBzaWduYXR1cmUgdGhhdCBwcm92aWRlZCB0aHJlZSBzZXF1ZW50aWFsIGluZGV4IGJ1ZmZlclxyXG5cdFx0XHRcdC8vIGluZGljZXMgaGVyZS5cclxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbFRyaWFuZ2xlRnVuYyA9IF9pbnRlcnNlY3RzVHJpYW5nbGVGdW5jO1xyXG5cdFx0XHRcdF9pbnRlcnNlY3RzVHJpYW5nbGVGdW5jID0gKCB0cmksIGluZGV4LCBjb250YWluZWQsIGRlcHRoICkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGkzID0gaW5kZXggKiAzO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsVHJpYW5nbGVGdW5jKCB0cmksIGkzLCBpMyArIDEsIGkzICsgMiwgY29udGFpbmVkLCBkZXB0aCApO1xyXG5cclxuXHRcdFx0XHR9O1xyXG5cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNhbGxiYWNrcyA9IHtcclxuXHJcblx0XHRcdFx0Ym91bmRzVHJhdmVyc2VPcmRlcjogX29yZGVyTm9kZXNGdW5jLFxyXG5cdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6IGNhbGxiYWNrcyxcclxuXHRcdFx0XHRpbnRlcnNlY3RzVHJpYW5nbGU6IF9pbnRlcnNlY3RzVHJpYW5nbGVGdW5jLFxyXG5cdFx0XHRcdGludGVyc2VjdHNSYW5nZTogbnVsbCxcclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdNZXNoQlZIOiBTaGFwZWNhc3QgZnVuY3Rpb24gc2lnbmF0dXJlIGhhcyBjaGFuZ2VkIGFuZCBub3cgdGFrZXMgYW4gb2JqZWN0IG9mIGNhbGxiYWNrcyBhcyBhIHNlY29uZCBhcmd1bWVudC4gU2VlIGRvY3MgZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0cmlhbmdsZSA9IHRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcclxuXHRcdGxldCB7XHJcblx0XHRcdGJvdW5kc1RyYXZlcnNlT3JkZXIsXHJcblx0XHRcdGludGVyc2VjdHNCb3VuZHMsXHJcblx0XHRcdGludGVyc2VjdHNSYW5nZSxcclxuXHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlLFxyXG5cdFx0fSA9IGNhbGxiYWNrcztcclxuXHJcblx0XHRpZiAoIGludGVyc2VjdHNSYW5nZSAmJiBpbnRlcnNlY3RzVHJpYW5nbGUgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBvcmlnaW5hbEludGVyc2VjdHNSYW5nZSA9IGludGVyc2VjdHNSYW5nZTtcclxuXHRcdFx0aW50ZXJzZWN0c1JhbmdlID0gKCBvZmZzZXQsIGNvdW50LCBjb250YWluZWQsIGRlcHRoLCBub2RlSW5kZXggKSA9PiB7XHJcblxyXG5cdFx0XHRcdGlmICggISBvcmlnaW5hbEludGVyc2VjdHNSYW5nZSggb2Zmc2V0LCBjb3VudCwgY29udGFpbmVkLCBkZXB0aCwgbm9kZUluZGV4ICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZXJhdGVPdmVyVHJpYW5nbGVzKCBvZmZzZXQsIGNvdW50LCBnZW9tZXRyeSwgaW50ZXJzZWN0c1RyaWFuZ2xlLCBjb250YWluZWQsIGRlcHRoLCB0cmlhbmdsZSApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKCAhIGludGVyc2VjdHNSYW5nZSApIHtcclxuXHJcblx0XHRcdGlmICggaW50ZXJzZWN0c1RyaWFuZ2xlICkge1xyXG5cclxuXHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2UgPSAoIG9mZnNldCwgY291bnQsIGNvbnRhaW5lZCwgZGVwdGggKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZXJhdGVPdmVyVHJpYW5nbGVzKCBvZmZzZXQsIGNvdW50LCBnZW9tZXRyeSwgaW50ZXJzZWN0c1RyaWFuZ2xlLCBjb250YWluZWQsIGRlcHRoLCB0cmlhbmdsZSApO1xyXG5cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlID0gKCBvZmZzZXQsIGNvdW50LCBjb250YWluZWQgKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRhaW5lZDtcclxuXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlc3VsdCA9IGZhbHNlO1xyXG5cdFx0bGV0IGJ5dGVPZmZzZXQgPSAwO1xyXG5cdFx0Zm9yICggY29uc3Qgcm9vdCBvZiB0aGlzLl9yb290cyApIHtcclxuXHJcblx0XHRcdHNldEJ1ZmZlciggcm9vdCApO1xyXG5cdFx0XHRyZXN1bHQgPSBzaGFwZWNhc3QoIDAsIGdlb21ldHJ5LCBpbnRlcnNlY3RzQm91bmRzLCBpbnRlcnNlY3RzUmFuZ2UsIGJvdW5kc1RyYXZlcnNlT3JkZXIsIGJ5dGVPZmZzZXQgKTtcclxuXHRcdFx0Y2xlYXJCdWZmZXIoKTtcclxuXHJcblx0XHRcdGlmICggcmVzdWx0ICkge1xyXG5cclxuXHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGJ5dGVPZmZzZXQgKz0gcm9vdC5ieXRlTGVuZ3RoO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0cmlhbmdsZVBvb2wucmVsZWFzZVByaW1pdGl2ZSggdHJpYW5nbGUgKTtcclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cclxuXHR9XHJcblxyXG5cdGJ2aGNhc3QoIG90aGVyQnZoLCBtYXRyaXhUb0xvY2FsLCBjYWxsYmFja3MgKSB7XHJcblxyXG5cdFx0Ly8gQlZIQ2FzdCBmdW5jdGlvbiBmb3IgaW50ZXJzZWN0aW5nIHR3byBCVkhzIGFnYWluc3QgZWFjaCBvdGhlci4gVWx0aW1hdGVseSBqdXN0IHVzZXMgdHdvIHJlY3Vyc2l2ZSBzaGFwZWNhc3QgY2FsbHMgcmF0aGVyXHJcblx0XHQvLyB0aGFuIGFuIGFwcHJvYWNoIHRoYXQgd2Fsa3MgZG93biB0aGUgdHJlZSAoc2VlIGJ2aGNhc3QuanMgZmlsZSBmb3IgbW9yZSBpbmZvKS5cclxuXHJcblx0XHRsZXQge1xyXG5cdFx0XHRpbnRlcnNlY3RzUmFuZ2VzLFxyXG5cdFx0XHRpbnRlcnNlY3RzVHJpYW5nbGVzLFxyXG5cdFx0fSA9IGNhbGxiYWNrcztcclxuXHJcblx0XHRjb25zdCBnZW9tZXRyeSA9IG90aGVyQnZoLmdlb21ldHJ5O1xyXG5cdFx0Y29uc3QgaW5kZXhBdHRyID0gZ2VvbWV0cnkuaW5kZXg7XHJcblx0XHRjb25zdCBwb3NpdGlvbkF0dHIgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG5cclxuXHRcdHRlbXBNYXRyaXguY29weSggbWF0cml4VG9Mb2NhbCApLmludmVydCgpO1xyXG5cdFx0Y29uc3QgdHJpYW5nbGUgPSB0cmlhbmdsZVBvb2wuZ2V0UHJpbWl0aXZlKCk7XHJcblx0XHRjb25zdCB0cmlhbmdsZTIgPSB0cmlhbmdsZVBvb2wuZ2V0UHJpbWl0aXZlKCk7XHJcblx0XHRpZiAoIGludGVyc2VjdHNUcmlhbmdsZXMgKSB7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpdGVyYXRlT3ZlckRvdWJsZVRyaWFuZ2xlcyggb2Zmc2V0MSwgY291bnQxLCBvZmZzZXQyLCBjb3VudDIsIGRlcHRoMSwgaW5kZXgxLCBkZXB0aDIsIGluZGV4MiApIHtcclxuXHJcblx0XHRcdFx0Zm9yICggbGV0IGkyID0gb2Zmc2V0MiwgbDIgPSBvZmZzZXQyICsgY291bnQyOyBpMiA8IGwyOyBpMiArKyApIHtcclxuXHJcblx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUyLCBpMiAqIDMsIGluZGV4QXR0ciwgcG9zaXRpb25BdHRyICk7XHJcblx0XHRcdFx0XHR0cmlhbmdsZTIuYS5hcHBseU1hdHJpeDQoIG1hdHJpeFRvTG9jYWwgKTtcclxuXHRcdFx0XHRcdHRyaWFuZ2xlMi5iLmFwcGx5TWF0cml4NCggbWF0cml4VG9Mb2NhbCApO1xyXG5cdFx0XHRcdFx0dHJpYW5nbGUyLmMuYXBwbHlNYXRyaXg0KCBtYXRyaXhUb0xvY2FsICk7XHJcblx0XHRcdFx0XHR0cmlhbmdsZTIubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdGZvciAoIGxldCBpMSA9IG9mZnNldDEsIGwxID0gb2Zmc2V0MSArIGNvdW50MTsgaTEgPCBsMTsgaTEgKysgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUsIGkxICogMywgaW5kZXhBdHRyLCBwb3NpdGlvbkF0dHIgKTtcclxuXHRcdFx0XHRcdFx0dHJpYW5nbGUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBpbnRlcnNlY3RzVHJpYW5nbGVzKCB0cmlhbmdsZSwgdHJpYW5nbGUyLCBpMSwgaTIsIGRlcHRoMSwgaW5kZXgxLCBkZXB0aDIsIGluZGV4MiApICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBpbnRlcnNlY3RzUmFuZ2VzICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbEludGVyc2VjdHNSYW5nZXMgPSBpbnRlcnNlY3RzUmFuZ2VzO1xyXG5cdFx0XHRcdGludGVyc2VjdHNSYW5nZXMgPSBmdW5jdGlvbiAoIG9mZnNldDEsIGNvdW50MSwgb2Zmc2V0MiwgY291bnQyLCBkZXB0aDEsIGluZGV4MSwgZGVwdGgyLCBpbmRleDIgKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCAhIG9yaWdpbmFsSW50ZXJzZWN0c1Jhbmdlcyggb2Zmc2V0MSwgY291bnQxLCBvZmZzZXQyLCBjb3VudDIsIGRlcHRoMSwgaW5kZXgxLCBkZXB0aDIsIGluZGV4MiApICkge1xyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGl0ZXJhdGVPdmVyRG91YmxlVHJpYW5nbGVzKCBvZmZzZXQxLCBjb3VudDEsIG9mZnNldDIsIGNvdW50MiwgZGVwdGgxLCBpbmRleDEsIGRlcHRoMiwgaW5kZXgyICk7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlcyA9IGl0ZXJhdGVPdmVyRG91YmxlVHJpYW5nbGVzO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmdldEJvdW5kaW5nQm94KCBhYWJiMiApO1xyXG5cdFx0YWFiYjIuYXBwbHlNYXRyaXg0KCBtYXRyaXhUb0xvY2FsICk7XHJcblx0XHRjb25zdCByZXN1bHQgPSB0aGlzLnNoYXBlY2FzdCgge1xyXG5cclxuXHRcdFx0aW50ZXJzZWN0c0JvdW5kczogYm94ID0+IGFhYmIyLmludGVyc2VjdHNCb3goIGJveCApLFxyXG5cclxuXHRcdFx0aW50ZXJzZWN0c1JhbmdlOiAoIG9mZnNldDEsIGNvdW50MSwgY29udGFpbmVkLCBkZXB0aDEsIG5vZGVJbmRleDEsIGJveCApID0+IHtcclxuXHJcblx0XHRcdFx0YWFiYi5jb3B5KCBib3ggKTtcclxuXHRcdFx0XHRhYWJiLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xyXG5cdFx0XHRcdHJldHVybiBvdGhlckJ2aC5zaGFwZWNhc3QoIHtcclxuXHJcblx0XHRcdFx0XHRpbnRlcnNlY3RzQm91bmRzOiBib3ggPT4gYWFiYi5pbnRlcnNlY3RzQm94KCBib3ggKSxcclxuXHJcblx0XHRcdFx0XHRpbnRlcnNlY3RzUmFuZ2U6ICggb2Zmc2V0MiwgY291bnQyLCBjb250YWluZWQsIGRlcHRoMiwgbm9kZUluZGV4MiApID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiBpbnRlcnNlY3RzUmFuZ2VzKCBvZmZzZXQxLCBjb3VudDEsIG9mZnNldDIsIGNvdW50MiwgZGVwdGgxLCBub2RlSW5kZXgxLCBkZXB0aDIsIG5vZGVJbmRleDIgKTtcclxuXHJcblx0XHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHR9ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSApO1xyXG5cclxuXHRcdHRyaWFuZ2xlUG9vbC5yZWxlYXNlUHJpbWl0aXZlKCB0cmlhbmdsZSApO1xyXG5cdFx0dHJpYW5nbGVQb29sLnJlbGVhc2VQcmltaXRpdmUoIHRyaWFuZ2xlMiApO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHJcblx0fVxyXG5cclxuXHQvKiBEZXJpdmVkIENhc3QgRnVuY3Rpb25zICovXHJcblx0aW50ZXJzZWN0c0JveCggYm94LCBib3hUb01lc2ggKSB7XHJcblxyXG5cdFx0b2JiLnNldCggYm94Lm1pbiwgYm94Lm1heCwgYm94VG9NZXNoICk7XHJcblx0XHRvYmIubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnNoYXBlY2FzdChcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6IGJveCA9PiBvYmIuaW50ZXJzZWN0c0JveCggYm94ICksXHJcblx0XHRcdFx0aW50ZXJzZWN0c1RyaWFuZ2xlOiB0cmkgPT4gb2JiLmludGVyc2VjdHNUcmlhbmdsZSggdHJpIClcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0fVxyXG5cclxuXHRpbnRlcnNlY3RzU3BoZXJlKCBzcGhlcmUgKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2hhcGVjYXN0KFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogYm94ID0+IHNwaGVyZS5pbnRlcnNlY3RzQm94KCBib3ggKSxcclxuXHRcdFx0XHRpbnRlcnNlY3RzVHJpYW5nbGU6IHRyaSA9PiB0cmkuaW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlIClcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0fVxyXG5cclxuXHRjbG9zZXN0UG9pbnRUb0dlb21ldHJ5KCBvdGhlckdlb21ldHJ5LCBnZW9tZXRyeVRvQnZoLCB0YXJnZXQxID0geyB9LCB0YXJnZXQyID0geyB9LCBtaW5UaHJlc2hvbGQgPSAwLCBtYXhUaHJlc2hvbGQgPSBJbmZpbml0eSApIHtcclxuXHJcblx0XHRpZiAoICEgb3RoZXJHZW9tZXRyeS5ib3VuZGluZ0JveCApIHtcclxuXHJcblx0XHRcdG90aGVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdG9iYi5zZXQoIG90aGVyR2VvbWV0cnkuYm91bmRpbmdCb3gubWluLCBvdGhlckdlb21ldHJ5LmJvdW5kaW5nQm94Lm1heCwgZ2VvbWV0cnlUb0J2aCApO1xyXG5cdFx0b2JiLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XHJcblx0XHRjb25zdCBwb3MgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG5cdFx0Y29uc3QgaW5kZXggPSBnZW9tZXRyeS5pbmRleDtcclxuXHRcdGNvbnN0IG90aGVyUG9zID0gb3RoZXJHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG5cdFx0Y29uc3Qgb3RoZXJJbmRleCA9IG90aGVyR2VvbWV0cnkuaW5kZXg7XHJcblx0XHRjb25zdCB0cmlhbmdsZSA9IHRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcclxuXHRcdGNvbnN0IHRyaWFuZ2xlMiA9IHRyaWFuZ2xlUG9vbC5nZXRQcmltaXRpdmUoKTtcclxuXHJcblx0XHRsZXQgdGVtcFRhcmdldDEgPSB0ZW1wMTtcclxuXHRcdGxldCB0ZW1wVGFyZ2V0RGVzdDEgPSB0ZW1wMjtcclxuXHRcdGxldCB0ZW1wVGFyZ2V0MiA9IG51bGw7XHJcblx0XHRsZXQgdGVtcFRhcmdldERlc3QyID0gbnVsbDtcclxuXHJcblx0XHRpZiAoIHRhcmdldDIgKSB7XHJcblxyXG5cdFx0XHR0ZW1wVGFyZ2V0MiA9IHRlbXAzO1xyXG5cdFx0XHR0ZW1wVGFyZ2V0RGVzdDIgPSB0ZW1wNDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xyXG5cdFx0bGV0IGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gbnVsbDtcclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4ID0gbnVsbDtcclxuXHRcdHRlbXBNYXRyaXguY29weSggZ2VvbWV0cnlUb0J2aCApLmludmVydCgpO1xyXG5cdFx0b2JiMi5tYXRyaXguY29weSggdGVtcE1hdHJpeCApO1xyXG5cdFx0dGhpcy5zaGFwZWNhc3QoXHJcblx0XHRcdHtcclxuXHJcblx0XHRcdFx0Ym91bmRzVHJhdmVyc2VPcmRlcjogYm94ID0+IHtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gb2JiLmRpc3RhbmNlVG9Cb3goIGJveCwgTWF0aC5taW4oIGNsb3Nlc3REaXN0YW5jZSwgbWF4VGhyZXNob2xkICkgKTtcclxuXHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0aW50ZXJzZWN0c0JvdW5kczogKCBib3gsIGlzTGVhZiwgc2NvcmUgKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBzY29yZSA8IGNsb3Nlc3REaXN0YW5jZSAmJiBzY29yZSA8IG1heFRocmVzaG9sZCApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGlmIHdlIGtub3cgdGhlIHRyaWFuZ2xlcyBvZiB0aGlzIGJvdW5kcyB3aWxsIGJlIGludGVyc2VjdGVkIG5leHQgdGhlblxyXG5cdFx0XHRcdFx0XHQvLyBzYXZlIHRoZSBib3VuZHMgdG8gdXNlIGR1cmluZyB0cmlhbmdsZSBjaGVja3MuXHJcblx0XHRcdFx0XHRcdGlmICggaXNMZWFmICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRvYmIyLm1pbi5jb3B5KCBib3gubWluICk7XHJcblx0XHRcdFx0XHRcdFx0b2JiMi5tYXguY29weSggYm94Lm1heCApO1xyXG5cdFx0XHRcdFx0XHRcdG9iYjIubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0aW50ZXJzZWN0c1JhbmdlOiAoIG9mZnNldCwgY291bnQgKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBvdGhlckdlb21ldHJ5LmJvdW5kc1RyZWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBpZiB0aGUgb3RoZXIgZ2VvbWV0cnkgaGFzIGEgYnZoIHRoZW4gdXNlIHRoZSBhY2NlbGVyYXRlZCBwYXRoIHdoZXJlIHdlIHVzZSBzaGFwZWNhc3QgdG8gZmluZFxyXG5cdFx0XHRcdFx0XHQvLyB0aGUgY2xvc2VzdCBib3VuZHMgaW4gdGhlIG90aGVyIGdlb21ldHJ5IHRvIGNoZWNrLlxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gb3RoZXJHZW9tZXRyeS5ib3VuZHNUcmVlLnNoYXBlY2FzdCgge1xyXG5cdFx0XHRcdFx0XHRcdGJvdW5kc1RyYXZlcnNlT3JkZXI6IGJveCA9PiB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG9iYjIuZGlzdGFuY2VUb0JveCggYm94LCBNYXRoLm1pbiggY2xvc2VzdERpc3RhbmNlLCBtYXhUaHJlc2hvbGQgKSApO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHRcdFx0XHRpbnRlcnNlY3RzQm91bmRzOiAoIGJveCwgaXNMZWFmLCBzY29yZSApID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcmUgPCBjbG9zZXN0RGlzdGFuY2UgJiYgc2NvcmUgPCBtYXhUaHJlc2hvbGQ7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdFx0XHRcdGludGVyc2VjdHNSYW5nZTogKCBvdGhlck9mZnNldCwgb3RoZXJDb3VudCApID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKCBsZXQgaTIgPSBvdGhlck9mZnNldCAqIDMsIGwyID0gKCBvdGhlck9mZnNldCArIG90aGVyQ291bnQgKSAqIDM7IGkyIDwgbDI7IGkyICs9IDMgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUyLCBpMiwgb3RoZXJJbmRleCwgb3RoZXJQb3MgKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyaWFuZ2xlMi5iLmFwcGx5TWF0cml4NCggZ2VvbWV0cnlUb0J2aCApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmlhbmdsZTIuYy5hcHBseU1hdHJpeDQoIGdlb21ldHJ5VG9CdmggKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGZvciAoIGxldCBpID0gb2Zmc2V0ICogMywgbCA9ICggb2Zmc2V0ICsgY291bnQgKSAqIDM7IGkgPCBsOyBpICs9IDMgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldFRyaWFuZ2xlKCB0cmlhbmdsZSwgaSwgaW5kZXgsIHBvcyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyaWFuZ2xlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdCA9IHRyaWFuZ2xlLmRpc3RhbmNlVG9UcmlhbmdsZSggdHJpYW5nbGUyLCB0ZW1wVGFyZ2V0MSwgdGVtcFRhcmdldDIgKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRpc3QgPCBjbG9zZXN0RGlzdGFuY2UgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QxLmNvcHkoIHRlbXBUYXJnZXQxICk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB0ZW1wVGFyZ2V0RGVzdDIgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wVGFyZ2V0RGVzdDIuY29weSggdGVtcFRhcmdldDIgKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlID0gZGlzdDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gaSAvIDM7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4ID0gaTIgLyAzO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIHN0b3AgdHJhdmVyc2FsIGlmIHdlIGZpbmQgYSBwb2ludCB0aGF0J3MgdW5kZXIgdGhlIGdpdmVuIHRocmVzaG9sZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGlzdCA8IG1pblRocmVzaG9sZCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0fSApO1xyXG5cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBJZiBubyBib3VuZHMgdHJlZSB0aGVuIHdlJ2xsIGp1c3QgY2hlY2sgZXZlcnkgdHJpYW5nbGUuXHJcblx0XHRcdFx0XHRcdGNvbnN0IHRyaUNvdW50ID0gb3RoZXJJbmRleCA/IG90aGVySW5kZXguY291bnQgOiBvdGhlclBvcy5jb3VudDtcclxuXHRcdFx0XHRcdFx0Zm9yICggbGV0IGkyID0gMCwgbDIgPSB0cmlDb3VudDsgaTIgPCBsMjsgaTIgKz0gMyApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0c2V0VHJpYW5nbGUoIHRyaWFuZ2xlMiwgaTIsIG90aGVySW5kZXgsIG90aGVyUG9zICk7XHJcblx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmEuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmIuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLmMuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblx0XHRcdFx0XHRcdFx0dHJpYW5nbGUyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Zm9yICggbGV0IGkgPSBvZmZzZXQgKiAzLCBsID0gKCBvZmZzZXQgKyBjb3VudCApICogMzsgaSA8IGw7IGkgKz0gMyApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRzZXRUcmlhbmdsZSggdHJpYW5nbGUsIGksIGluZGV4LCBwb3MgKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRyaWFuZ2xlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkaXN0ID0gdHJpYW5nbGUuZGlzdGFuY2VUb1RyaWFuZ2xlKCB0cmlhbmdsZTIsIHRlbXBUYXJnZXQxLCB0ZW1wVGFyZ2V0MiApO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBkaXN0IDwgY2xvc2VzdERpc3RhbmNlICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QxLmNvcHkoIHRlbXBUYXJnZXQxICk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHRlbXBUYXJnZXREZXN0MiApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGVtcFRhcmdldERlc3QyLmNvcHkoIHRlbXBUYXJnZXQyICk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2UgPSBkaXN0O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VUcmlJbmRleCA9IGkgLyAzO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VPdGhlclRyaUluZGV4ID0gaTIgLyAzO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBzdG9wIHRyYXZlcnNhbCBpZiB3ZSBmaW5kIGEgcG9pbnQgdGhhdCdzIHVuZGVyIHRoZSBnaXZlbiB0aHJlc2hvbGRcclxuXHRcdFx0XHRcdFx0XHRcdGlmICggZGlzdCA8IG1pblRocmVzaG9sZCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHQpO1xyXG5cclxuXHRcdHRyaWFuZ2xlUG9vbC5yZWxlYXNlUHJpbWl0aXZlKCB0cmlhbmdsZSApO1xyXG5cdFx0dHJpYW5nbGVQb29sLnJlbGVhc2VQcmltaXRpdmUoIHRyaWFuZ2xlMiApO1xyXG5cclxuXHRcdGlmICggY2xvc2VzdERpc3RhbmNlID09PSBJbmZpbml0eSApIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGlmICggISB0YXJnZXQxLnBvaW50ICkgdGFyZ2V0MS5wb2ludCA9IHRlbXBUYXJnZXREZXN0MS5jbG9uZSgpO1xyXG5cdFx0ZWxzZSB0YXJnZXQxLnBvaW50LmNvcHkoIHRlbXBUYXJnZXREZXN0MSApO1xyXG5cdFx0dGFyZ2V0MS5kaXN0YW5jZSA9IGNsb3Nlc3REaXN0YW5jZSxcclxuXHRcdHRhcmdldDEuZmFjZUluZGV4ID0gY2xvc2VzdERpc3RhbmNlVHJpSW5kZXg7XHJcblxyXG5cdFx0aWYgKCB0YXJnZXQyICkge1xyXG5cclxuXHRcdFx0aWYgKCAhIHRhcmdldDIucG9pbnQgKSB0YXJnZXQyLnBvaW50ID0gdGVtcFRhcmdldERlc3QyLmNsb25lKCk7XHJcblx0XHRcdGVsc2UgdGFyZ2V0Mi5wb2ludC5jb3B5KCB0ZW1wVGFyZ2V0RGVzdDIgKTtcclxuXHRcdFx0dGFyZ2V0Mi5wb2ludC5hcHBseU1hdHJpeDQoIHRlbXBNYXRyaXggKTtcclxuXHRcdFx0dGVtcFRhcmdldERlc3QxLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xyXG5cdFx0XHR0YXJnZXQyLmRpc3RhbmNlID0gdGVtcFRhcmdldERlc3QxLnN1YiggdGFyZ2V0Mi5wb2ludCApLmxlbmd0aCgpO1xyXG5cdFx0XHR0YXJnZXQyLmZhY2VJbmRleCA9IGNsb3Nlc3REaXN0YW5jZU90aGVyVHJpSW5kZXg7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0YXJnZXQxO1xyXG5cclxuXHR9XHJcblxyXG5cdGNsb3Nlc3RQb2ludFRvUG9pbnQoIHBvaW50LCB0YXJnZXQgPSB7IH0sIG1pblRocmVzaG9sZCA9IDAsIG1heFRocmVzaG9sZCA9IEluZmluaXR5ICkge1xyXG5cclxuXHRcdC8vIGVhcmx5IG91dCBpZiB1bmRlciBtaW5UaHJlc2hvbGRcclxuXHRcdC8vIHNraXAgY2hlY2tpbmcgaWYgb3ZlciBtYXhUaHJlc2hvbGRcclxuXHRcdC8vIHNldCBtaW5UaHJlc2hvbGQgPSBtYXhUaHJlc2hvbGQgdG8gcXVpY2tseSBjaGVjayBpZiBhIHBvaW50IGlzIHdpdGhpbiBhIHRocmVzaG9sZFxyXG5cdFx0Ly8gcmV0dXJucyBJbmZpbml0eSBpZiBubyB2YWx1ZSBmb3VuZFxyXG5cdFx0Y29uc3QgbWluVGhyZXNob2xkU3EgPSBtaW5UaHJlc2hvbGQgKiBtaW5UaHJlc2hvbGQ7XHJcblx0XHRjb25zdCBtYXhUaHJlc2hvbGRTcSA9IG1heFRocmVzaG9sZCAqIG1heFRocmVzaG9sZDtcclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG5cdFx0bGV0IGNsb3Nlc3REaXN0YW5jZVRyaUluZGV4ID0gbnVsbDtcclxuXHRcdHRoaXMuc2hhcGVjYXN0KFxyXG5cclxuXHRcdFx0e1xyXG5cclxuXHRcdFx0XHRib3VuZHNUcmF2ZXJzZU9yZGVyOiBib3ggPT4ge1xyXG5cclxuXHRcdFx0XHRcdHRlbXAuY29weSggcG9pbnQgKS5jbGFtcCggYm94Lm1pbiwgYm94Lm1heCApO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRlbXAuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XHJcblxyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdGludGVyc2VjdHNCb3VuZHM6ICggYm94LCBpc0xlYWYsIHNjb3JlICkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBzY29yZSA8IGNsb3Nlc3REaXN0YW5jZVNxICYmIHNjb3JlIDwgbWF4VGhyZXNob2xkU3E7XHJcblxyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdGludGVyc2VjdHNUcmlhbmdsZTogKCB0cmksIHRyaUluZGV4ICkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdHRyaS5jbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgdGVtcCApO1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlzdFNxID0gcG9pbnQuZGlzdGFuY2VUb1NxdWFyZWQoIHRlbXAgKTtcclxuXHRcdFx0XHRcdGlmICggZGlzdFNxIDwgY2xvc2VzdERpc3RhbmNlU3EgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR0ZW1wMS5jb3B5KCB0ZW1wICk7XHJcblx0XHRcdFx0XHRcdGNsb3Nlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xyXG5cdFx0XHRcdFx0XHRjbG9zZXN0RGlzdGFuY2VUcmlJbmRleCA9IHRyaUluZGV4O1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIGRpc3RTcSA8IG1pblRocmVzaG9sZFNxICkge1xyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAoIGNsb3Nlc3REaXN0YW5jZVNxID09PSBJbmZpbml0eSApIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IGNsb3Nlc3REaXN0YW5jZSA9IE1hdGguc3FydCggY2xvc2VzdERpc3RhbmNlU3EgKTtcclxuXHJcblx0XHRpZiAoICEgdGFyZ2V0LnBvaW50ICkgdGFyZ2V0LnBvaW50ID0gdGVtcDEuY2xvbmUoKTtcclxuXHRcdGVsc2UgdGFyZ2V0LnBvaW50LmNvcHkoIHRlbXAxICk7XHJcblx0XHR0YXJnZXQuZGlzdGFuY2UgPSBjbG9zZXN0RGlzdGFuY2UsXHJcblx0XHR0YXJnZXQuZmFjZUluZGV4ID0gY2xvc2VzdERpc3RhbmNlVHJpSW5kZXg7XHJcblxyXG5cdFx0cmV0dXJuIHRhcmdldDtcclxuXHJcblx0fVxyXG5cclxuXHRnZXRCb3VuZGluZ0JveCggdGFyZ2V0ICkge1xyXG5cclxuXHRcdHRhcmdldC5tYWtlRW1wdHkoKTtcclxuXHJcblx0XHRjb25zdCByb290cyA9IHRoaXMuX3Jvb3RzO1xyXG5cdFx0cm9vdHMuZm9yRWFjaCggYnVmZmVyID0+IHtcclxuXHJcblx0XHRcdGFycmF5VG9Cb3goIDAsIG5ldyBGbG9hdDMyQXJyYXkoIGJ1ZmZlciApLCB0ZW1wQm94ICk7XHJcblx0XHRcdHRhcmdldC51bmlvbiggdGVtcEJveCApO1xyXG5cclxuXHRcdH0gKTtcclxuXHJcblx0XHRyZXR1cm4gdGFyZ2V0O1xyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG4vLyBEZXByZWNhdGlvblxyXG5jb25zdCBvcmlnaW5hbFJheWNhc3QgPSBNZXNoQlZILnByb3RvdHlwZS5yYXljYXN0O1xyXG5NZXNoQlZILnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24gKCAuLi5hcmdzICkge1xyXG5cclxuXHRpZiAoIGFyZ3NbIDAgXS5pc01lc2ggKSB7XHJcblxyXG5cdFx0Y29uc29sZS53YXJuKCAnTWVzaEJWSDogVGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBhbmQgcmVzdWx0cyBmcmFtZSBmb3IgXCJyYXljYXN0XCIgaGFzIGNoYW5nZWQuIFNlZSBkb2NzIGZvciBuZXcgc2lnbmF0dXJlLicgKTtcclxuXHRcdGNvbnN0IFtcclxuXHRcdFx0bWVzaCwgcmF5Y2FzdGVyLCByYXksIGludGVyc2VjdHMsXHJcblx0XHRdID0gYXJncztcclxuXHJcblx0XHRjb25zdCByZXN1bHRzID0gb3JpZ2luYWxSYXljYXN0LmNhbGwoIHRoaXMsIHJheSwgbWVzaC5tYXRlcmlhbCApO1xyXG5cdFx0cmVzdWx0cy5mb3JFYWNoKCBoaXQgPT4ge1xyXG5cclxuXHRcdFx0aGl0ID0gY29udmVydFJheWNhc3RJbnRlcnNlY3QoIGhpdCwgbWVzaCwgcmF5Y2FzdGVyICk7XHJcblx0XHRcdGlmICggaGl0ICkge1xyXG5cclxuXHRcdFx0XHRpbnRlcnNlY3RzLnB1c2goIGhpdCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gKTtcclxuXHJcblx0XHRyZXR1cm4gaW50ZXJzZWN0cztcclxuXHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHRyZXR1cm4gb3JpZ2luYWxSYXljYXN0LmFwcGx5KCB0aGlzLCBhcmdzICk7XHJcblxyXG5cdH1cclxuXHJcbn07XHJcblxyXG5jb25zdCBvcmlnaW5hbFJheWNhc3RGaXJzdCA9IE1lc2hCVkgucHJvdG90eXBlLnJheWNhc3RGaXJzdDtcclxuTWVzaEJWSC5wcm90b3R5cGUucmF5Y2FzdEZpcnN0ID0gZnVuY3Rpb24gKCAuLi5hcmdzICkge1xyXG5cclxuXHRpZiAoIGFyZ3NbIDAgXS5pc01lc2ggKSB7XHJcblxyXG5cdFx0Y29uc29sZS53YXJuKCAnTWVzaEJWSDogVGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBhbmQgcmVzdWx0cyBmcmFtZSBmb3IgXCJyYXljYXN0Rmlyc3RcIiBoYXMgY2hhbmdlZC4gU2VlIGRvY3MgZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cdFx0Y29uc3QgW1xyXG5cdFx0XHRtZXNoLCByYXljYXN0ZXIsIHJheSxcclxuXHRcdF0gPSBhcmdzO1xyXG5cclxuXHRcdHJldHVybiBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCggb3JpZ2luYWxSYXljYXN0Rmlyc3QuY2FsbCggdGhpcywgcmF5LCBtZXNoLm1hdGVyaWFsICksIG1lc2gsIHJheWNhc3RlciApO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHJldHVybiBvcmlnaW5hbFJheWNhc3RGaXJzdC5hcHBseSggdGhpcywgYXJncyApO1xyXG5cclxuXHR9XHJcblxyXG59O1xyXG5cclxuY29uc3Qgb3JpZ2luYWxDbG9zZXN0UG9pbnRUb1BvaW50ID0gTWVzaEJWSC5wcm90b3R5cGUuY2xvc2VzdFBvaW50VG9Qb2ludDtcclxuTWVzaEJWSC5wcm90b3R5cGUuY2xvc2VzdFBvaW50VG9Qb2ludCA9IGZ1bmN0aW9uICggLi4uYXJncyApIHtcclxuXHJcblxyXG5cdGlmICggYXJnc1sgMCBdLmlzTWVzaCApIHtcclxuXHJcblx0XHRjb25zb2xlLndhcm4oICdNZXNoQlZIOiBUaGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZXN1bHRzIGZyYW1lIGZvciBcImNsb3Nlc3RQb2ludFRvUG9pbnRcIiBoYXMgY2hhbmdlZC4gU2VlIGRvY3MgZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdGFyZ3MudW5zaGlmdCgpO1xyXG5cclxuXHRcdGNvbnN0IHRhcmdldCA9IGFyZ3NbIDEgXTtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IHt9O1xyXG5cdFx0YXJnc1sgMSBdID0gcmVzdWx0O1xyXG5cclxuXHRcdG9yaWdpbmFsQ2xvc2VzdFBvaW50VG9Qb2ludC5hcHBseSggdGhpcywgYXJncyApO1xyXG5cclxuXHRcdGlmICggdGFyZ2V0ICkge1xyXG5cclxuXHRcdFx0dGFyZ2V0LmNvcHkoIHJlc3VsdC5wb2ludCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0LmRpc3RhbmNlO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHJldHVybiBvcmlnaW5hbENsb3Nlc3RQb2ludFRvUG9pbnQuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcclxuXHJcblx0fVxyXG5cclxufTtcclxuXHJcbmNvbnN0IG9yaWdpbmFsQ2xvc2VzdFBvaW50VG9HZW9tZXRyeSA9IE1lc2hCVkgucHJvdG90eXBlLmNsb3Nlc3RQb2ludFRvR2VvbWV0cnk7XHJcbk1lc2hCVkgucHJvdG90eXBlLmNsb3Nlc3RQb2ludFRvR2VvbWV0cnkgPSBmdW5jdGlvbiAoIC4uLmFyZ3MgKSB7XHJcblxyXG5cdGNvbnN0IHRhcmdldDEgPSBhcmdzWyAyIF07XHJcblx0Y29uc3QgdGFyZ2V0MiA9IGFyZ3NbIDMgXTtcclxuXHRpZiAoIHRhcmdldDEgJiYgdGFyZ2V0MS5pc1ZlY3RvcjMgfHwgdGFyZ2V0MiAmJiB0YXJnZXQyLmlzVmVjdG9yMyApIHtcclxuXHJcblx0XHRjb25zb2xlLndhcm4oICdNZXNoQlZIOiBUaGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZXN1bHRzIGZyYW1lIGZvciBcImNsb3Nlc3RQb2ludFRvR2VvbWV0cnlcIiBoYXMgY2hhbmdlZC4gU2VlIGRvY3MgZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdDEgPSB7fTtcclxuXHRcdGNvbnN0IHJlc3VsdDIgPSB7fTtcclxuXHRcdGNvbnN0IGdlb21ldHJ5VG9CdmggPSBhcmdzWyAxIF07XHJcblx0XHRhcmdzWyAyIF0gPSByZXN1bHQxO1xyXG5cdFx0YXJnc1sgMyBdID0gcmVzdWx0MjtcclxuXHJcblx0XHRvcmlnaW5hbENsb3Nlc3RQb2ludFRvR2VvbWV0cnkuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcclxuXHJcblx0XHRpZiAoIHRhcmdldDEgKSB7XHJcblxyXG5cdFx0XHR0YXJnZXQxLmNvcHkoIHJlc3VsdDEucG9pbnQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0YXJnZXQyICkge1xyXG5cclxuXHRcdFx0dGFyZ2V0Mi5jb3B5KCByZXN1bHQyLnBvaW50ICkuYXBwbHlNYXRyaXg0KCBnZW9tZXRyeVRvQnZoICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQxLmRpc3RhbmNlO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHJldHVybiBvcmlnaW5hbENsb3Nlc3RQb2ludFRvR2VvbWV0cnkuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcclxuXHJcblx0fVxyXG5cclxufTtcclxuXHJcbmNvbnN0IG9yaWdpbmFsUmVmaXQgPSBNZXNoQlZILnByb3RvdHlwZS5yZWZpdDtcclxuTWVzaEJWSC5wcm90b3R5cGUucmVmaXQgPSBmdW5jdGlvbiAoIC4uLmFyZ3MgKSB7XHJcblxyXG5cdGNvbnN0IG5vZGVJbmRpY2VzID0gYXJnc1sgMCBdO1xyXG5cdGNvbnN0IHRlcm1pbmF0aW9uSW5kaWNlcyA9IGFyZ3NbIDEgXTtcclxuXHRpZiAoIHRlcm1pbmF0aW9uSW5kaWNlcyAmJiAoIHRlcm1pbmF0aW9uSW5kaWNlcyBpbnN0YW5jZW9mIFNldCB8fCBBcnJheS5pc0FycmF5KCB0ZXJtaW5hdGlvbkluZGljZXMgKSApICkge1xyXG5cclxuXHRcdGNvbnNvbGUud2FybiggJ01lc2hCVkg6IFRoZSBmdW5jdGlvbiBzaWduYXR1cmUgZm9yIFwicmVmaXRcIiBoYXMgY2hhbmdlZC4gU2VlIGRvY3MgZm9yIG5ldyBzaWduYXR1cmUuJyApO1xyXG5cclxuXHRcdGNvbnN0IG5ld05vZGVJbmRpY2VzID0gbmV3IFNldCgpO1xyXG5cdFx0dGVybWluYXRpb25JbmRpY2VzLmZvckVhY2goIHYgPT4gbmV3Tm9kZUluZGljZXMuYWRkKCB2ICkgKTtcclxuXHRcdGlmICggbm9kZUluZGljZXMgKSB7XHJcblxyXG5cdFx0XHRub2RlSW5kaWNlcy5mb3JFYWNoKCB2ID0+IG5ld05vZGVJbmRpY2VzLmFkZCggdiApICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdG9yaWdpbmFsUmVmaXQuY2FsbCggdGhpcywgbmV3Tm9kZUluZGljZXMgKTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHRvcmlnaW5hbFJlZml0LmFwcGx5KCB0aGlzLCBhcmdzICk7XHJcblxyXG5cdH1cclxuXHJcbn07XHJcblxyXG5bXHJcblx0J2ludGVyc2VjdHNHZW9tZXRyeScsXHJcblx0J3NoYXBlY2FzdCcsXHJcblx0J2ludGVyc2VjdHNCb3gnLFxyXG5cdCdpbnRlcnNlY3RzU3BoZXJlJyxcclxuXS5mb3JFYWNoKCBuYW1lID0+IHtcclxuXHJcblx0Y29uc3Qgb3JpZ2luYWxGdW5jID0gTWVzaEJWSC5wcm90b3R5cGVbIG5hbWUgXTtcclxuXHRNZXNoQlZILnByb3RvdHlwZVsgbmFtZSBdID0gZnVuY3Rpb24gKCAuLi5hcmdzICkge1xyXG5cclxuXHRcdGlmICggYXJnc1sgMCBdID09PSBudWxsIHx8IGFyZ3NbIDAgXS5pc01lc2ggKSB7XHJcblxyXG5cdFx0XHRhcmdzLnNoaWZ0KCk7XHJcblx0XHRcdGNvbnNvbGUud2FybiggYE1lc2hCVkg6IFRoZSBmdW5jdGlvbiBzaWduYXR1cmUgZm9yIFwiJHsgbmFtZSB9XCIgaGFzIGNoYW5nZWQgYW5kIG5vIGxvbmdlciB0YWtlcyBNZXNoLiBTZWUgZG9jcyBmb3IgbmV3IHNpZ25hdHVyZS5gICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvcmlnaW5hbEZ1bmMuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcclxuXHJcblx0fTtcclxuXHJcbn0gKTtcclxuIiwiaW1wb3J0IHsgUmF5LCBNYXRyaXg0LCBNZXNoIH0gZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCB9IGZyb20gJy4vR2VvbWV0cnlSYXlJbnRlcnNlY3RVdGlsaXRpZXMuanMnO1xyXG5pbXBvcnQgeyBNZXNoQlZIIH0gZnJvbSAnLi4vY29yZS9NZXNoQlZILmpzJztcclxuXHJcbmNvbnN0IHJheSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmF5KCk7XHJcbmNvbnN0IHRtcEludmVyc2VNYXRyaXggPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hdHJpeDQoKTtcclxuY29uc3Qgb3JpZ01lc2hSYXljYXN0RnVuYyA9IE1lc2gucHJvdG90eXBlLnJheWNhc3Q7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWNjZWxlcmF0ZWRSYXljYXN0KCByYXljYXN0ZXIsIGludGVyc2VjdHMgKSB7XHJcblxyXG5cdGlmICggdGhpcy5nZW9tZXRyeS5ib3VuZHNUcmVlICkge1xyXG5cclxuXHRcdGlmICggdGhpcy5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xyXG5cclxuXHRcdHRtcEludmVyc2VNYXRyaXguY29weSggdGhpcy5tYXRyaXhXb3JsZCApLmludmVydCgpO1xyXG5cdFx0cmF5LmNvcHkoIHJheWNhc3Rlci5yYXkgKS5hcHBseU1hdHJpeDQoIHRtcEludmVyc2VNYXRyaXggKTtcclxuXHJcblx0XHRjb25zdCBidmggPSB0aGlzLmdlb21ldHJ5LmJvdW5kc1RyZWU7XHJcblx0XHRpZiAoIHJheWNhc3Rlci5maXJzdEhpdE9ubHkgPT09IHRydWUgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBoaXQgPSBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCggYnZoLnJheWNhc3RGaXJzdCggcmF5LCB0aGlzLm1hdGVyaWFsICksIHRoaXMsIHJheWNhc3RlciApO1xyXG5cdFx0XHRpZiAoIGhpdCApIHtcclxuXHJcblx0XHRcdFx0aW50ZXJzZWN0cy5wdXNoKCBoaXQgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0Y29uc3QgaGl0cyA9IGJ2aC5yYXljYXN0KCByYXksIHRoaXMubWF0ZXJpYWwgKTtcclxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gaGl0cy5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBoaXQgPSBjb252ZXJ0UmF5Y2FzdEludGVyc2VjdCggaGl0c1sgaSBdLCB0aGlzLCByYXljYXN0ZXIgKTtcclxuXHRcdFx0XHRpZiAoIGhpdCApIHtcclxuXHJcblx0XHRcdFx0XHRpbnRlcnNlY3RzLnB1c2goIGhpdCApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdG9yaWdNZXNoUmF5Y2FzdEZ1bmMuY2FsbCggdGhpcywgcmF5Y2FzdGVyLCBpbnRlcnNlY3RzICk7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQm91bmRzVHJlZSggb3B0aW9ucyApIHtcclxuXHJcblx0dGhpcy5ib3VuZHNUcmVlID0gbmV3IE1lc2hCVkgoIHRoaXMsIG9wdGlvbnMgKTtcclxuXHRyZXR1cm4gdGhpcy5ib3VuZHNUcmVlO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2VCb3VuZHNUcmVlKCkge1xyXG5cclxuXHR0aGlzLmJvdW5kc1RyZWUgPSBudWxsO1xyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IGNvbnN0IFNwYXduUG9pbnRDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQoJ1NwYXduUG9pbnRDb21wb25lbnQnKVxuIiwiZXhwb3J0IGNvbnN0IERFRkFVTFRfQVZBVEFSUyA9IFsnUmF6ZXIxJywgJ1JhemVyMicsICdSYXplcjMnLCAnUmF6ZXI0JywgJ1JhemVyNScsICdSYXplcjYnXSAvLyAnQWxsaXNvbicsICwgJ1Jvc2UnLCAnQW5keScsICdFcmlrJywgJ0dlb2ZmJywgJ0phY2UnLCAnS2FydGhpaydcbmV4cG9ydCBjb25zdCBERUZBVUxUX0FWQVRBUl9JRCA9ICdSYXplcjEnXG5leHBvcnQgY29uc3QgQVZBVEFSX0ZJTEVfQUxMT1dFRF9FWFRFTlNJT05TID0gJy5nbGIsLmdsdGYsLnZybSwuZmJ4J1xuZXhwb3J0IGNvbnN0IE1JTl9BVkFUQVJfRklMRV9TSVpFID0gMFxuZXhwb3J0IGNvbnN0IE1BWF9BVkFUQVJfRklMRV9TSVpFID0gMTU3Mjg2NDAgLy8gMTUgTUJcbmV4cG9ydCBjb25zdCBNSU5fVEhVTUJOQUlMX0ZJTEVfU0laRSA9IDBcbmV4cG9ydCBjb25zdCBNQVhfVEhVTUJOQUlMX0ZJTEVfU0laRSA9IDIwOTcxNTIgLy8gMiBNQlxuZXhwb3J0IGNvbnN0IFBSRVNJR05FRF9VUkxfRVhQSVJBVElPTl9EVVJBVElPTiA9IDM2MDAgLy8gMSBob3VyXG5leHBvcnQgY29uc3QgVEhVTUJOQUlMX0ZJTEVfQUxMT1dFRF9FWFRFTlNJT05TID0gJy5wbmcsLmpwZydcbmV4cG9ydCBjb25zdCBUSFVNQk5BSUxfV0lEVEggPSAzMDBcbmV4cG9ydCBjb25zdCBUSFVNQk5BSUxfSEVJR0hUID0gMzAwXG5leHBvcnQgY29uc3QgTUFYX0FMTE9XRURfVFJJQU5HTEVTID0gMTAwMDAwXG4iLCJpbXBvcnQgeyBOdW1lcmljYWxUeXBlIH0gZnJvbSAnLi4vLi4vY29tbW9uL3R5cGVzL051bWVyaWNhbFR5cGVzJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBJbnB1dFNjaGVtYSB9IGZyb20gJy4uL2ludGVyZmFjZXMvSW5wdXRTY2hlbWEnXG5pbXBvcnQgeyBJbnB1dFZhbHVlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JbnB1dFZhbHVlJ1xuaW1wb3J0IHsgSW5wdXRBbGlhcyB9IGZyb20gJy4uL3R5cGVzL0lucHV0QWxpYXMnXG5cbmV4cG9ydCB0eXBlIElucHV0Q29tcG9uZW50VHlwZSA9IHtcbiAgZGF0YTogTWFwPElucHV0QWxpYXMsIElucHV0VmFsdWU+XG4gIHNjaGVtYTogSW5wdXRTY2hlbWFcbn1cblxuZXhwb3J0IGNvbnN0IElucHV0Q29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PElucHV0Q29tcG9uZW50VHlwZT4oJ0lucHV0Q29tcG9uZW50JylcbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW11bGF0b3JCYXNlIHtcbiAgcHVibGljIG1hc3M6IGFueVxuICBwdWJsaWMgZGFtcGluZzogYW55XG4gIHB1YmxpYyBmcmFtZVRpbWU6IG51bWJlclxuICBwdWJsaWMgb2Zmc2V0OiBudW1iZXJcbiAgcHVibGljIGFic3RyYWN0IGNhY2hlOiBhbnlbXVxuXG4gIGNvbnN0cnVjdG9yKGZwczogbnVtYmVyLCBtYXNzOiBudW1iZXIsIGRhbXBpbmc6IG51bWJlcikge1xuICAgIHRoaXMubWFzcyA9IG1hc3NcbiAgICB0aGlzLmRhbXBpbmcgPSBkYW1waW5nXG4gICAgdGhpcy5mcmFtZVRpbWUgPSAxIC8gZnBzXG4gICAgdGhpcy5vZmZzZXQgPSAwXG4gIH1cblxuICBwdWJsaWMgc2V0RlBTKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmZyYW1lVGltZSA9IDEgLyB2YWx1ZVxuICB9XG5cbiAgcHVibGljIGxhc3RGcmFtZSgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlW3RoaXMuY2FjaGUubGVuZ3RoIC0gMV1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgZnJhbWVzIGJldHdlZW4gbGFzdCBzaW11bGF0aW9uIGNhbGwgYW5kIHRoZSBjdXJyZW50IG9uZVxuICAgKiBAcGFyYW0ge3RpbWVTdGVwfSB0aW1lU3RlcFxuICAgKi9cbiAgcHVibGljIGdlbmVyYXRlRnJhbWVzKHRpbWVTdGVwOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBVcGRhdGUgY2FjaGVcbiAgICAvLyBGaW5kIG91dCBob3cgbWFueSBmcmFtZXMgbmVlZHMgdG8gYmUgZ2VuZXJhdGVkXG4gICAgY29uc3QgdG90YWxUaW1lU3RlcCA9IHRoaXMub2Zmc2V0ICsgdGltZVN0ZXBcbiAgICBjb25zdCBmcmFtZXNUb0dlbmVyYXRlID0gTWF0aC5mbG9vcih0b3RhbFRpbWVTdGVwIC8gdGhpcy5mcmFtZVRpbWUpXG4gICAgdGhpcy5vZmZzZXQgPSB0b3RhbFRpbWVTdGVwICUgdGhpcy5mcmFtZVRpbWVcblxuICAgIC8vIEdlbmVyYXRlIHNpbXVsYXRpb24gZnJhbWVzXG4gICAgaWYgKGZyYW1lc1RvR2VuZXJhdGUgPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lc1RvR2VuZXJhdGU7IGkrKykge1xuICAgICAgICB0aGlzLmNhY2hlLnB1c2godGhpcy5nZXRGcmFtZShpICsgMSA9PT0gZnJhbWVzVG9HZW5lcmF0ZSkpXG4gICAgICB9XG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgtMilcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0RnJhbWUoaXNMYXN0RnJhbWU6IGJvb2xlYW4pOiBhbnlcbiAgcHVibGljIGFic3RyYWN0IHNpbXVsYXRlKHRpbWVTdGVwOiBudW1iZXIpOiB2b2lkXG59XG4iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBTaW11bGF0b3JCYXNlIH0gZnJvbSAnLi9TaW11bGF0b3JCYXNlJ1xuXG5jbGFzcyBTaW11bGF0aW9uRnJhbWVWZWN0b3Ige1xuICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjNcbiAgcHVibGljIHZlbG9jaXR5OiBWZWN0b3IzXG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3RvcjMsIHZlbG9jaXR5OiBWZWN0b3IzKSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gICAgdGhpcy52ZWxvY2l0eSA9IHZlbG9jaXR5XG4gIH1cbn1cblxuY29uc3QgdmVjMyA9IG5ldyBWZWN0b3IzKClcblxuZXhwb3J0IGNsYXNzIFZlY3RvclNwcmluZ1NpbXVsYXRvciBleHRlbmRzIFNpbXVsYXRvckJhc2Uge1xuICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjNcbiAgcHVibGljIHZlbG9jaXR5OiBWZWN0b3IzXG4gIHB1YmxpYyB0YXJnZXQ6IFZlY3RvcjNcbiAgcHVibGljIGNhY2hlOiBTaW11bGF0aW9uRnJhbWVWZWN0b3JbXVxuXG4gIGNvbnN0cnVjdG9yKGZwczogbnVtYmVyLCBtYXNzOiBudW1iZXIsIGRhbXBpbmc6IG51bWJlcikge1xuICAgIC8vIENvbnN0cnVjdCBiYXNlXG4gICAgc3VwZXIoZnBzLCBtYXNzLCBkYW1waW5nKVxuXG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMygpXG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IzKClcbiAgICB0aGlzLnRhcmdldCA9IG5ldyBWZWN0b3IzKClcblxuICAgIC8vIEluaXRpYWxpemUgY2FjaGUgYnkgcHVzaGluZyB0d28gZnJhbWVzXG4gICAgdGhpcy5jYWNoZSA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgIHRoaXMuY2FjaGUucHVzaChuZXcgU2ltdWxhdGlvbkZyYW1lVmVjdG9yKG5ldyBWZWN0b3IzKCksIG5ldyBWZWN0b3IzKCkpKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZHZhbmNlcyB0aGUgc2ltdWxhdGlvbiBieSBnaXZlbiB0aW1lIHN0ZXBcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTdGVwXG4gICAqL1xuICBwdWJsaWMgc2ltdWxhdGUodGltZVN0ZXA6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIEdlbmVyYXRlIG5ldyBmcmFtZXNcbiAgICB0aGlzLmdlbmVyYXRlRnJhbWVzKHRpbWVTdGVwKVxuXG4gICAgLy8gUmV0dXJuIGludGVycG9sYXRpb25cbiAgICB0aGlzLnBvc2l0aW9uLmxlcnBWZWN0b3JzKHRoaXMuY2FjaGVbMF0ucG9zaXRpb24sIHRoaXMuY2FjaGVbMV0ucG9zaXRpb24sIHRoaXMub2Zmc2V0IC8gdGhpcy5mcmFtZVRpbWUpXG4gICAgdGhpcy52ZWxvY2l0eS5sZXJwVmVjdG9ycyh0aGlzLmNhY2hlWzBdLnZlbG9jaXR5LCB0aGlzLmNhY2hlWzFdLnZlbG9jaXR5LCB0aGlzLm9mZnNldCAvIHRoaXMuZnJhbWVUaW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW5vdGhlciBzaW11bGF0aW9uIGZyYW1lXG4gICAqL1xuICBwdWJsaWMgZ2V0RnJhbWUoaXNMYXN0RnJhbWU6IGJvb2xlYW4pOiBTaW11bGF0aW9uRnJhbWVWZWN0b3Ige1xuICAgIC8vIERlZXAgY2xvbmUgZGF0YSBmcm9tIHByZXZpb3VzIGZyYW1lXG4gICAgY29uc3QgbmV3U3ByaW5nID0gbmV3IFNpbXVsYXRpb25GcmFtZVZlY3Rvcih0aGlzLmxhc3RGcmFtZSgpLnBvc2l0aW9uLmNsb25lKCksIHRoaXMubGFzdEZyYW1lKCkudmVsb2NpdHkuY2xvbmUoKSlcblxuICAgIC8vIENhbGN1bGF0ZSBuZXcgU3ByaW5nXG4gICAgY29uc3QgYWNjZWxlcmF0aW9uID0gdmVjMy5zdWJWZWN0b3JzKHRoaXMudGFyZ2V0LCBuZXdTcHJpbmcucG9zaXRpb24pXG4gICAgYWNjZWxlcmF0aW9uLmRpdmlkZVNjYWxhcih0aGlzLm1hc3MpXG4gICAgbmV3U3ByaW5nLnZlbG9jaXR5LmFkZChhY2NlbGVyYXRpb24pXG4gICAgbmV3U3ByaW5nLnZlbG9jaXR5Lm11bHRpcGx5U2NhbGFyKHRoaXMuZGFtcGluZylcbiAgICBuZXdTcHJpbmcucG9zaXRpb24uYWRkKG5ld1NwcmluZy52ZWxvY2l0eSlcblxuICAgIC8vIFJldHVybiBuZXcgU3ByaW5nXG4gICAgcmV0dXJuIG5ld1NwcmluZ1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb2xsaXNpb25Hcm91cHMgfSBmcm9tICcuLi8uLi9waHlzaWNzL2VudW1zL0NvbGxpc2lvbkdyb3VwcydcbmltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQ2FtZXJhTW9kZSB9IGZyb20gJy4uL3R5cGVzL0NhbWVyYU1vZGUnXG5pbXBvcnQgeyBSYXljYXN0ZXIgfSBmcm9tICd0aHJlZSdcblxuZXhwb3J0IHR5cGUgRm9sbG93Q2FtZXJhQ29tcG9uZW50VHlwZSA9IHtcbiAgLyoqICogKipEZWZhdWx0KiogdmFsdWUgaXMgYGBgJ3RoaXJkUGVyc29uJ2BgYC4gKi9cbiAgbW9kZTogQ2FtZXJhTW9kZVxuICAvKiogRGlzdGFuY2UgdG8gdGhlIHRhcmdldCAgKi9cbiAgZGlzdGFuY2U6IG51bWJlclxuICAvKiogRGVzaXJlZCB6b29tIGxldmVsICAqL1xuICB6b29tTGV2ZWw6IG51bWJlclxuICAvKiogVXNlZCBpbnRlcm5hbGx5ICovXG4gIHpvb21WZWxvY2l0eTogeyB2YWx1ZTogbnVtYmVyIH1cbiAgLyoqIE1pbmltdW0gZGlzdGFuY2UgdG8gdGFyZ2V0ICovXG4gIG1pbkRpc3RhbmNlOiBudW1iZXJcbiAgLyoqIE1heGltdW0gZGlzdGFuY2UgdG8gdGFyZ2V0ICovXG4gIG1heERpc3RhbmNlOiBudW1iZXJcbiAgLyoqIFJvdGF0aW9uIGFyb3VuZCBZIGF4aXMgKi9cbiAgdGhldGE6IG51bWJlclxuICAvKiogUm90YXRpb24gYXJvdW5kIFogYXhpcyAqL1xuICBwaGk6IG51bWJlclxuICAvKiogV2hldGhlciBsb29raW5nIG92ZXIgbGVmdCBvciByaWdodCBzaG91bGRlciAqL1xuICBzaG91bGRlclNpZGU6IGJvb2xlYW5cbiAgLyoqIFdoZXRoZXIgdGhlIGNhbWVyYSBhdXRvLXJvdGF0ZXMgdG93YXJkIHRoZSB0YXJnZXQgKipEZWZhdWx0KiogdmFsdWUgaXMgdHJ1ZS4gKi9cbiAgbG9ja2VkOiBib29sZWFuXG4gIC8qKiBDYW1lcmEgcmF5Y2FzdGVyICovXG4gIHJheWNhc3RlcjogUmF5Y2FzdGVyXG59XG5cbmV4cG9ydCBjb25zdCBGb2xsb3dDYW1lcmFEZWZhdWx0VmFsdWVzOiBGb2xsb3dDYW1lcmFDb21wb25lbnRUeXBlID0ge1xuICBtb2RlOiBDYW1lcmFNb2RlLlRoaXJkUGVyc29uLFxuICB6b29tTGV2ZWw6IDMsXG4gIHpvb21WZWxvY2l0eTogeyB2YWx1ZTogMCB9LFxuICBkaXN0YW5jZTogMyxcbiAgbWluRGlzdGFuY2U6IDIsXG4gIG1heERpc3RhbmNlOiA3LFxuICB0aGV0YTogTWF0aC5QSSxcbiAgcGhpOiAwLFxuICBzaG91bGRlclNpZGU6IHRydWUsXG4gIGxvY2tlZDogdHJ1ZSxcbiAgcmF5Y2FzdGVyOiBuZXcgUmF5Y2FzdGVyKClcbn1cblxuZXhwb3J0IGNvbnN0IEZvbGxvd0NhbWVyYUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxGb2xsb3dDYW1lcmFDb21wb25lbnRUeXBlPignRm9sbG93Q2FtZXJhQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudFR5cGUgPSB7XG4gIC8qKiBSb3RhdGlvbiBhcm91bmQgWSBheGlzICovXG4gIHRoZXRhOiBudW1iZXJcbiAgLyoqIFJvdGF0aW9uIGFyb3VuZCBaIGF4aXMgKi9cbiAgcGhpOiBudW1iZXJcbiAgLyoqIFRpbWUgdG8gcmVhY2ggdGhlIHRhcmdldCAqL1xuICB0aW1lOiBudW1iZXJcbiAgcGhpVmVsb2NpdHk6IHsgdmFsdWU6IG51bWJlciB9XG4gIHRoZXRhVmVsb2NpdHk6IHsgdmFsdWU6IG51bWJlciB9XG59XG5cbmV4cG9ydCBjb25zdCBUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudFR5cGU+KFxuICAnVGFyZ2V0Q2FtZXJhUm90YXRpb25Db21wb25lbnQnXG4pXG4iLCJleHBvcnQgY29uc3QgTGlmZWN5Y2xlVmFsdWUgPSB7XG4gIFN0YXJ0ZWQ6ICdTdGFydGVkJyBhcyBjb25zdCxcbiAgQ29udGludWVkOiAnQ29udGludWVkJyBhcyBjb25zdCxcbiAgRW5kZWQ6ICdFbmRlZCcgYXMgY29uc3QsXG4gIENoYW5nZWQ6ICdDaGFuZ2VkJyBhcyBjb25zdCxcbiAgVW5jaGFuZ2VkOiAnVW5jaGFuZ2VkJyBhcyBjb25zdFxufVxuIiwiZXhwb3J0IGVudW0gUGFyaXR5VmFsdWUge1xuICBOT05FLFxuICBMRUZULFxuICBSSUdIVFxufVxuIiwiLy8gTW9kaWZpZWQgdmVyc2lvbiB0YWtlbiBmcm9tIHVuZGVyc2NvcmUuanNcbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4vLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4vLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdDogbnVtYmVyLCBvcHRpb25zPykge1xuICBsZXQgdGltZW91dCwgY29udGV4dCwgYXJncywgcmVzdWx0XG4gIGxldCBwcmV2aW91cyA9IDBcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cblxuICBjb25zdCBsYXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogRGF0ZS5ub3coKVxuICAgIHRpbWVvdXQgPSBudWxsXG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsXG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgX25vdyA9IERhdGUubm93KClcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gX25vd1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAoX25vdyAtIHByZXZpb3VzKVxuICAgIGNvbnRleHQgPSB0aGlzXG4gICAgYXJncyA9IGFyZ3VtZW50c1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICBpZiAodGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IG51bGxcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gX25vd1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGxcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICA7KHRocm90dGxlZCBhcyBhbnkpLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICBwcmV2aW91cyA9IDBcbiAgICB0aW1lb3V0ID0gY29udGV4dCA9IGFyZ3MgPSBudWxsXG4gIH1cblxuICByZXR1cm4gdGhyb3R0bGVkXG59XG4iLCIvLyBBYnN0cmFjdCBpbnB1dHMgdGhhdCBhbGwgaW5wdXQgZGV2aWNlcyBnZXQgbWFwcGVkIHRvXG5cbmV4cG9ydCBlbnVtIEJhc2VJbnB1dCB7XG4gIFBSSU1BUlksXG4gIFNFQ09OREFSWSxcbiAgRk9SV0FSRCxcbiAgQkFDS1dBUkQsXG4gIFVQLFxuICBET1dOLFxuICBMRUZULFxuICBSSUdIVCxcbiAgSU5URVJBQ1QsXG4gIEdSQUJfTEVGVCxcbiAgR1JBQl9SSUdIVCxcbiAgQ1JPVUNILFxuICBKVU1QLFxuICBXQUxLLFxuICBSVU4sXG4gIFNQUklOVCxcbiAgU05FQUssXG4gIFNDUkVFTlhZLFxuICBTQ1JFRU5YWV9TVEFSVCxcbiAgUk9UQVRJT05fU1RBUlQsXG4gIE1PVkVNRU5UX1BMQVlFUk9ORSxcbiAgTE9PS1RVUk5fUExBWUVST05FLFxuICBNT1ZFTUVOVF9QTEFZRVJUV08sXG4gIExPT0tUVVJOX1BMQVlFUlRXTyxcbiAgQUxURVJOQVRFLFxuICBNT1VTRV9NT1ZFTUVOVCxcbiAgU1dJVENIX0NBUixcbiAgUE9JTlRFUl9MT0NLLFxuICBDQU1FUkFfU0NST0xMLFxuICBDQU1FUkFfUk9UQVRFX1JJR0hULFxuICBDQU1FUkFfUk9UQVRFX0xFRlQsXG4gIFNXSVRDSF9DQU1FUkEsXG4gIExPQ0tJTkdfQ0FNRVJBLFxuICBQT0lOVEVSMV9QT1NJVElPTixcbiAgUE9JTlRFUjJfUE9TSVRJT04sXG4gIEdBTUVQQURfU1RJQ0tfTEVGVCxcbiAgR0FNRVBBRF9TVElDS19SSUdIVCxcbiAgWFJfQVhJU19NT1ZFLFxuICBYUl9BWElTX0xPT0ssXG4gIFhSX0hFQUQsXG4gIFhSX0NPTlRST0xMRVJfTEVGVF9IQU5ELFxuICBYUl9DT05UUk9MTEVSX1JJR0hUX0hBTkQsXG4gIFNXSVRDSF9TSE9VTERFUl9TSURFXG59XG4iLCJleHBvcnQgZW51bSBNb3VzZUlucHV0IHtcbiAgTGVmdEJ1dHRvbiA9IDAsXG4gIE1pZGRsZUJ1dHRvbiA9IDEsXG4gIFJpZ2h0QnV0dG9uID0gMixcbiAgTW91c2VQb3NpdGlvbiA9IDMsXG4gIE1vdXNlQ2xpY2tEb3duUG9zaXRpb24gPSA0LFxuICBNb3VzZUNsaWNrRG93blRyYW5zZm9ybVJvdGF0aW9uID0gNSxcbiAgTW91c2VNb3ZlbWVudCA9IDYsXG4gIE1vdXNlU2Nyb2xsID0gNyxcbiAgTW91c2VDbGlja0Rvd25Nb3ZlbWVudCA9IDhcbn1cblxuZXhwb3J0IGVudW0gVG91Y2hJbnB1dHMge1xuICBUb3VjaCA9IDEwLFxuICBEb3VibGVUb3VjaCA9IDExLFxuICBMb25nVG91Y2ggPSAxMixcbiAgVG91Y2gxUG9zaXRpb24gPSAxMyxcbiAgVG91Y2gyUG9zaXRpb24gPSAxNCxcbiAgVG91Y2gxTW92ZW1lbnQgPSAxNSxcbiAgVG91Y2gyTW92ZW1lbnQgPSAxNixcbiAgU3dpcGVMZWZ0ID0gMTcsXG4gIFN3aXBlUmlnaHQgPSAxOCxcbiAgU3dpcGVVcCA9IDE5LFxuICBTd2lwZURvd24gPSAyMCxcbiAgU2NhbGUgPSAyMVxufVxuXG5leHBvcnQgZW51bSBYUkF4ZXMge1xuICBMZWZ0ID0gMjIsXG4gIFJpZ2h0ID0gMjNcbn1cblxuZXhwb3J0IGVudW0gWFI2RE9GIHtcbiAgSE1EID0gMjQsXG4gIExlZnRIYW5kID0gMjUsXG4gIFJpZ2h0SGFuZCA9IDI2XG59XG5cbmV4cG9ydCBlbnVtIEdhbWVwYWRBeGlzIHtcbiAgTGVmdCA9IDI4LFxuICBSaWdodCA9IDI5XG59XG5cbmV4cG9ydCBlbnVtIEdhbWVwYWRCdXR0b25zIHtcbiAgQSA9IDMwLFxuICBCID0gMzEsXG4gIFggPSAzMixcbiAgWSA9IDMzLFxuICBMQnVtcGVyID0gMzQsXG4gIFJCdW1wZXIgPSAzNSxcbiAgTFRyaWdnZXIgPSAzNixcbiAgUlRyaWdnZXIgPSAzNyxcbiAgQmFjayA9IDM4LFxuICBTdGFydCA9IDM5LFxuICBMUGFkID0gNDAsXG4gIFJQYWQgPSA0MSxcbiAgTFN0aWNrID0gNDIsXG4gIFJTdGljayA9IDQzLFxuICBEUGFkMSA9IDQ0LFxuICBEUGFkMiA9IDQ1LFxuICBEUGFkMyA9IDQ2LFxuICBEUGFkNCA9IDQ3XG59XG5cbmV4cG9ydCBlbnVtIENhbWVyYUlucHV0IHtcbiAgTmV1dHJhbCA9IDEwMCxcbiAgQW5ncnkgPSAxMDEsXG4gIERpc2d1c3RlZCA9IDEwMixcbiAgRmVhcmZ1bCA9IDEwMyxcbiAgSGFwcHkgPSAxMDQsXG4gIFN1cnByaXNlZCA9IDEwNSxcbiAgU2FkID0gMTA2LFxuICBQdWNrZXIgPSAxMDcsXG4gIFdpZGVuID0gMTA4LFxuICBPcGVuID0gMTA5XG59XG4iLCIvLyBCVVRUT04gLS0gZGlzY3JldGUgc3RhdGVzIG9mIE9OIGFuZCBPRkYsIGxpa2UgYSBidXR0b25cbi8vIE9ORURJTSAtLSBvbmUgZGltZW5zaW9uYWwgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLCBvciAtMSBhbmQgMSwgbGlrZSBhIHRyaWdnZXJcbi8vIFRXT0RJTSAtLSBUd28gZGltZW5zaW9uYWwgdmFsdWUgd2l0aCB4OiAtMSwgMSBhbmQgeTogLTEsIDEgbGlrZSBhIG1vdXNlIGlucHV0XG4vLyBUSFJFRURJTSAtLSBUaHJlZSBkaW1lbnNpb25hbCB2YWx1ZSwganVzdCBpbiBjYXNlXG4vLyBTSVhET0YgLS0gU2l4IGRpbWVuc2lvbmFsIGlucHV0LCB0aHJlZSBmb3IgcG9zZSBhbmQgdGhyZWUgZm9yIHJvdGF0aW9uIChpbiBldWxlcj8pLCBpLmUuIGZvciBWUiBjb250cm9sbGVyc1xuZXhwb3J0IGVudW0gSW5wdXRUeXBlIHtcbiAgQlVUVE9OID0gMCxcbiAgT05FRElNID0gMSxcbiAgVFdPRElNID0gMixcbiAgVEhSRUVESU0gPSAzLFxuICBTSVhET0YgPSA0XG59XG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBQYXJpdHlWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9lbnVtcy9QYXJpdHlWYWx1ZSdcbmltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBJbnRlcmFjdGVkQ29tcG9uZW50VHlwZSA9IHtcbiAgaW50ZXJhY3RvcjogRW50aXR5XG4gIHBhcml0eTogUGFyaXR5VmFsdWVcbn1cblxuZXhwb3J0IGNvbnN0IEludGVyYWN0ZWRDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8SW50ZXJhY3RlZENvbXBvbmVudFR5cGU+KCdJbnRlcmFjdGVkQ29tcG9uZW50JylcbiIsImltcG9ydCB7IFBlcnNwZWN0aXZlQ2FtZXJhIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IHR5cGUgSW50ZXJhY3RvckNvbXBvbmVudFR5cGUgPSB7XG4gIGZvY3VzZWRJbnRlcmFjdGl2ZTogRW50aXR5XG4gIGZydXN0dW1DYW1lcmE6IFBlcnNwZWN0aXZlQ2FtZXJhXG4gIHN1YkZvY3VzZWRBcnJheTogYW55W11cbn1cblxuZXhwb3J0IGNvbnN0IEludGVyYWN0b3JDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8SW50ZXJhY3RvckNvbXBvbmVudFR5cGU+KCdJbnRlcmFjdG9yQ29tcG9uZW50JylcbiIsImltcG9ydCB7IE9iamVjdDNELCBHcm91cCB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbi8qKiBDb21wb25lbnQgQ2xhc3MgZm9yIE9iamVjdDNEIHR5cGUgZnJvbSB0aHJlZS5qcy4gICovXG5cbmV4cG9ydCB0eXBlIE9iamVjdDNEQ29tcG9uZW50VHlwZSA9IHtcbiAgdmFsdWU6IE9iamVjdDNEIHwgR3JvdXBcbn1cblxuZXhwb3J0IGNvbnN0IE9iamVjdDNEQ29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PE9iamVjdDNEQ29tcG9uZW50VHlwZT4oJ09iamVjdDNEQ29tcG9uZW50JylcbiIsIi8qKlxuICogQGF1dGhvciBIeWRyYUZpcmUgPGdpdGh1Yi5jb20vSHlkcmFGaXJlPlxuICovXG5leHBvcnQgZW51bSBYUl9GT0xMT1dfTU9ERSB7XG4gIEhFQUQsXG4gIENPTlRST0xMRVJcbn1cblxuZXhwb3J0IGVudW0gWFJfUk9UQVRJT05fTU9ERSB7XG4gIEFOR0xFRCxcbiAgU01PT1RIXG59XG5cbmV4cG9ydCBjb25zdCBYUlVzZXJTZXR0aW5ncyA9IHtcbiAgaW52ZXJ0Um90YXRpb25BbmRNb3ZlU3RpY2tzOiB0cnVlLFxuICBtb3Zpbmc6IFhSX0ZPTExPV19NT0RFLkNPTlRST0xMRVIsXG4gIHJvdGF0aW9uOiBYUl9ST1RBVElPTl9NT0RFLkFOR0xFRCxcbiAgcm90YXRpb25TbW9vdGhTcGVlZDogMC4xLCAvLyAwLjEsIDAuMywgMC41LCAwLjgsIDEgLSBvbmx5IGZvciBTbW9vdGhcbiAgcm90YXRpb25BbmdsZTogMzAsIC8vIDE1LCAzMCwgNDUsIDYwIC0gb25seSBmb3IgQW5nbGVyXG4gIHJvdGF0aW9uSW52ZXJ0QXhlczogdHJ1ZVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgVmVjdG9yU3ByaW5nU2ltdWxhdG9yIH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jbGFzc2VzL3NwcmluZ3MvVmVjdG9yU3ByaW5nU2ltdWxhdG9yJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIEF2YXRhckNvbnRyb2xsZXJDb21wb25lbnRUeXBlID0ge1xuICBjb250cm9sbGVyOiBQaHlzWC5QeENhcHN1bGVDb250cm9sbGVyXG4gIGZpbHRlckRhdGE6IFBoeXNYLlB4RmlsdGVyRGF0YVxuICBjb2xsaXNpb25zOiBbYm9vbGVhbiwgYm9vbGVhbiwgYm9vbGVhbl1cbiAgbW92ZW1lbnRFbmFibGVkOiBib29sZWFuXG4gIGlzSnVtcGluZzogYm9vbGVhblxuICBpc1dhbGtpbmc6IGJvb2xlYW5cbiAgbG9jYWxNb3ZlbWVudERpcmVjdGlvbjogVmVjdG9yM1xuICB2ZWxvY2l0eVNpbXVsYXRvcjogVmVjdG9yU3ByaW5nU2ltdWxhdG9yXG59XG5cbmV4cG9ydCBjb25zdCBBdmF0YXJDb250cm9sbGVyQ29tcG9uZW50ID1cbiAgY3JlYXRlTWFwcGVkQ29tcG9uZW50PEF2YXRhckNvbnRyb2xsZXJDb21wb25lbnRUeXBlPignQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBNYXRlcmlhbCwgU2tpbm5lZE1lc2ggfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEZvbGxvd0NhbWVyYUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NhbWVyYS9jb21wb25lbnRzL0ZvbGxvd0NhbWVyYUNvbXBvbmVudCdcbmltcG9ydCB7IENhbWVyYU1vZGUgfSBmcm9tICcuLi8uLi9jYW1lcmEvdHlwZXMvQ2FtZXJhTW9kZSdcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IGdldENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgT2JqZWN0M0RDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zY2VuZS9jb21wb25lbnRzL09iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgQXZhdGFyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9BdmF0YXJDb21wb25lbnQnXG5cbmNvbnN0IHNldFZpc2libGUgPSAoZW50aXR5OiBFbnRpdHksIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgY29uc3Qgb2JqZWN0M0RDb21wb25lbnQgPSBnZXRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudClcbiAgb2JqZWN0M0RDb21wb25lbnQudmFsdWUudHJhdmVyc2UoKG9iaikgPT4ge1xuICAgIGNvbnN0IG1hdCA9IChvYmogYXMgU2tpbm5lZE1lc2gpLm1hdGVyaWFsXG4gICAgaWYgKG1hdCkge1xuICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgOyhtYXQgYXMgTWF0ZXJpYWwpLm9wYWNpdHkgPSAxXG4gICAgICAgIDsobWF0IGFzIE1hdGVyaWFsKS50cmFuc3BhcmVudCA9IGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7KG1hdCBhcyBNYXRlcmlhbCkub3BhY2l0eSA9IDBcbiAgICAgICAgOyhtYXQgYXMgTWF0ZXJpYWwpLnRyYW5zcGFyZW50ID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxudHlwZSBTd2l0Y2hDYW1lcmFNb2RlUHJvcHMgPSB7XG4gIGNhbWVyYU1vZGU6IENhbWVyYU1vZGUgLy8gVE9ET1xuICBwb2ludGVyTG9jaz86IGJvb2xlYW5cbn1cblxubGV0IGNoYW5nZVRpbWVvdXQ6IGFueSA9IHVuZGVmaW5lZFxuZXhwb3J0IGNvbnN0IHN3aXRjaENhbWVyYU1vZGUgPSAoXG4gIGVudGl0eTogRW50aXR5LFxuICBhcmdzOiBTd2l0Y2hDYW1lcmFNb2RlUHJvcHMgPSB7IHBvaW50ZXJMb2NrOiBmYWxzZSwgY2FtZXJhTW9kZTogQ2FtZXJhTW9kZS5UaGlyZFBlcnNvbiB9LFxuICBmb3JjZSA9IGZhbHNlXG4pOiB2b2lkID0+IHtcbiAgaWYgKCFmb3JjZSkge1xuICAgIGlmIChjaGFuZ2VUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHJldHVyblxuICAgIGNoYW5nZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChjaGFuZ2VUaW1lb3V0KVxuICAgICAgY2hhbmdlVGltZW91dCA9IHVuZGVmaW5lZFxuICAgIH0sIDI1MClcbiAgfVxuXG4gIGNvbnN0IGNhbWVyYUZvbGxvdyA9IGdldENvbXBvbmVudChlbnRpdHksIEZvbGxvd0NhbWVyYUNvbXBvbmVudClcbiAgY2FtZXJhRm9sbG93Lm1vZGUgPSBhcmdzLmNhbWVyYU1vZGVcblxuICBzd2l0Y2ggKGFyZ3MuY2FtZXJhTW9kZSkge1xuICAgIGNhc2UgQ2FtZXJhTW9kZS5GaXJzdFBlcnNvbjpcbiAgICAgIHtcbiAgICAgICAgY2FtZXJhRm9sbG93LnBoaSA9IDBcbiAgICAgICAgY2FtZXJhRm9sbG93LmxvY2tlZCA9IHRydWVcbiAgICAgICAgc2V0VmlzaWJsZShlbnRpdHksIGZhbHNlKVxuICAgICAgfVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgQ2FtZXJhTW9kZS5TaG91bGRlckNhbTpcbiAgICAgIHtcbiAgICAgICAgc2V0VmlzaWJsZShlbnRpdHksIHRydWUpXG4gICAgICB9XG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgY2FzZSBDYW1lcmFNb2RlLlRoaXJkUGVyc29uOlxuICAgICAge1xuICAgICAgICBzZXRWaXNpYmxlKGVudGl0eSwgdHJ1ZSlcbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIENhbWVyYU1vZGUuVG9wRG93bjpcbiAgICAgIHtcbiAgICAgICAgc2V0VmlzaWJsZShlbnRpdHksIHRydWUpXG4gICAgICB9XG4gICAgICBicmVha1xuICAgIGNhc2UgQ2FtZXJhTW9kZS5TdHJhdGVnaWM6XG4gICAgICB7XG4gICAgICAgIHNldFZpc2libGUoZW50aXR5LCB0cnVlKVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaCwgUXVhdGVybmlvbiwgU2tpbm5lZE1lc2gsIFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEZvbGxvd0NhbWVyYUNvbXBvbmVudCB9IGZyb20gJy4uL2NhbWVyYS9jb21wb25lbnRzL0ZvbGxvd0NhbWVyYUNvbXBvbmVudCdcbmltcG9ydCB7IFRhcmdldENhbWVyYVJvdGF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vY2FtZXJhL2NvbXBvbmVudHMvVGFyZ2V0Q2FtZXJhUm90YXRpb25Db21wb25lbnQnXG5pbXBvcnQgeyBDYW1lcmFNb2RlIH0gZnJvbSAnLi4vY2FtZXJhL3R5cGVzL0NhbWVyYU1vZGUnXG5pbXBvcnQgeyBMaWZlY3ljbGVWYWx1ZSB9IGZyb20gJy4uL2NvbW1vbi9lbnVtcy9MaWZlY3ljbGVWYWx1ZSdcbmltcG9ydCB7IFBhcml0eVZhbHVlIH0gZnJvbSAnLi4vY29tbW9uL2VudW1zL1Bhcml0eVZhbHVlJ1xuaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuLi9jb21tb24vZnVuY3Rpb25zL0Z1bmN0aW9uSGVscGVycydcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vY29tbW9uL2Z1bmN0aW9ucy9NYXRoTGVycEZ1bmN0aW9ucydcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IGFkZENvbXBvbmVudCwgZ2V0Q29tcG9uZW50LCBoYXNDb21wb25lbnQsIHJlbW92ZUNvbXBvbmVudCB9IGZyb20gJy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgSW5wdXRDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dC9jb21wb25lbnRzL0lucHV0Q29tcG9uZW50J1xuaW1wb3J0IHsgQmFzZUlucHV0IH0gZnJvbSAnLi4vaW5wdXQvZW51bXMvQmFzZUlucHV0J1xuaW1wb3J0IHtcbiAgQ2FtZXJhSW5wdXQsXG4gIEdhbWVwYWRBeGlzLFxuICBHYW1lcGFkQnV0dG9ucyxcbiAgTW91c2VJbnB1dCxcbiAgVG91Y2hJbnB1dHMsXG4gIFhSNkRPRixcbiAgWFJBeGVzXG59IGZyb20gJy4uL2lucHV0L2VudW1zL0lucHV0RW51bXMnXG5pbXBvcnQgeyBJbnB1dFR5cGUgfSBmcm9tICcuLi9pbnB1dC9lbnVtcy9JbnB1dFR5cGUnXG5pbXBvcnQgeyBJbnB1dEJlaGF2aW9yVHlwZSwgSW5wdXRTY2hlbWEgfSBmcm9tICcuLi9pbnB1dC9pbnRlcmZhY2VzL0lucHV0U2NoZW1hJ1xuaW1wb3J0IHsgSW5wdXRWYWx1ZSB9IGZyb20gJy4uL2lucHV0L2ludGVyZmFjZXMvSW5wdXRWYWx1ZSdcbmltcG9ydCB7IElucHV0QWxpYXMgfSBmcm9tICcuLi9pbnB1dC90eXBlcy9JbnB1dEFsaWFzJ1xuaW1wb3J0IHsgSW50ZXJhY3RlZENvbXBvbmVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uL2NvbXBvbmVudHMvSW50ZXJhY3RlZENvbXBvbmVudCdcbmltcG9ydCB7IEludGVyYWN0b3JDb21wb25lbnQgfSBmcm9tICcuLi9pbnRlcmFjdGlvbi9jb21wb25lbnRzL0ludGVyYWN0b3JDb21wb25lbnQnXG5pbXBvcnQgeyBPYmplY3QzRENvbXBvbmVudCB9IGZyb20gJy4uL3NjZW5lL2NvbXBvbmVudHMvT2JqZWN0M0RDb21wb25lbnQnXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi90cmFuc2Zvcm0vY29tcG9uZW50cy9UcmFuc2Zvcm1Db21wb25lbnQnXG5pbXBvcnQgeyBYUlVzZXJTZXR0aW5ncywgWFJfUk9UQVRJT05fTU9ERSB9IGZyb20gJy4uL3hyL3R5cGVzL1hSVXNlclNldHRpbmdzJ1xuaW1wb3J0IHsgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9BdmF0YXJDb250cm9sbGVyQ29tcG9uZW50J1xuaW1wb3J0IHsgc3dpdGNoQ2FtZXJhTW9kZSB9IGZyb20gJy4vZnVuY3Rpb25zL3N3aXRjaENhbWVyYU1vZGUnXG5cbmNvbnN0IGdldFBhcml0eUZyb21JbnB1dFZhbHVlID0gKGtleTogSW5wdXRBbGlhcyk6IFBhcml0eVZhbHVlID0+IHtcbiAgc3dpdGNoIChrZXkpIHtcbiAgICBjYXNlIEJhc2VJbnB1dC5HUkFCX0xFRlQ6XG4gICAgICByZXR1cm4gUGFyaXR5VmFsdWUuTEVGVFxuICAgIGNhc2UgQmFzZUlucHV0LkdSQUJfUklHSFQ6XG4gICAgICByZXR1cm4gUGFyaXR5VmFsdWUuUklHSFRcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFBhcml0eVZhbHVlLk5PTkVcbiAgfVxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gZW50aXR5IHRoZSBvbmUgd2hvIGludGVyYWN0c1xuICogQHBhcmFtIGFyZ3NcbiAqIEBwYXJhbSBkZWx0YVxuICovXG5cbmNvbnN0IGludGVyYWN0ID0gKGVudGl0eTogRW50aXR5LCBpbnB1dEtleTogSW5wdXRBbGlhcywgaW5wdXRWYWx1ZTogSW5wdXRWYWx1ZSwgZGVsdGE6IG51bWJlcik6IHZvaWQgPT4ge1xuICBpZiAoaW5wdXRWYWx1ZS5saWZlY3ljbGVTdGF0ZSAhPT0gTGlmZWN5Y2xlVmFsdWUuU3RhcnRlZCkgcmV0dXJuXG4gIGNvbnN0IHBhcml0eVZhbHVlID0gZ2V0UGFyaXR5RnJvbUlucHV0VmFsdWUoaW5wdXRLZXkpXG5cbiAgY29uc3QgaW50ZXJhY3RvciA9IGdldENvbXBvbmVudChlbnRpdHksIEludGVyYWN0b3JDb21wb25lbnQpXG4gIGlmICghaW50ZXJhY3Rvcj8uZm9jdXNlZEludGVyYWN0aXZlKSByZXR1cm5cblxuICBhZGRDb21wb25lbnQoaW50ZXJhY3Rvci5mb2N1c2VkSW50ZXJhY3RpdmUsIEludGVyYWN0ZWRDb21wb25lbnQsIHsgaW50ZXJhY3RvcjogZW50aXR5LCBwYXJpdHk6IHBhcml0eVZhbHVlIH0pXG59XG5cbi8qKlxuICogU3dpdGNoIENhbWVyYSBtb2RlIGZyb20gZmlyc3QgcGVyc29uIHRvIHRoaXJkIHBlcnNvbiBhbmQgd2lzZSB2ZXJzYS5cbiAqIEBwYXJhbSBlbnRpdHkgRW50aXR5IGhvbGRpbmcge0BsaW5rIGNhbWVyYS9jb21wb25lbnRzL0ZvbGxvd0NhbWVyYUNvbXBvbmVudC5Gb2xsb3dDYW1lcmFDb21wb25lbnQgfCBGb2xsb3cgY2FtZXJhfSBjb21wb25lbnQuXG4gKi9cbmNvbnN0IGN5Y2xlQ2FtZXJhTW9kZSA9IChlbnRpdHk6IEVudGl0eSwgaW5wdXRLZXk6IElucHV0QWxpYXMsIGlucHV0VmFsdWU6IElucHV0VmFsdWUsIGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgaWYgKGlucHV0VmFsdWUubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWQpIHJldHVyblxuICBjb25zdCBjYW1lcmFGb2xsb3cgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG5cbiAgc3dpdGNoIChjYW1lcmFGb2xsb3c/Lm1vZGUpIHtcbiAgICBjYXNlIENhbWVyYU1vZGUuRmlyc3RQZXJzb246XG4gICAgICBzd2l0Y2hDYW1lcmFNb2RlKGVudGl0eSwgeyBjYW1lcmFNb2RlOiBDYW1lcmFNb2RlLlNob3VsZGVyQ2FtIH0pXG4gICAgICBicmVha1xuICAgIGNhc2UgQ2FtZXJhTW9kZS5TaG91bGRlckNhbTpcbiAgICAgIHN3aXRjaENhbWVyYU1vZGUoZW50aXR5LCB7IGNhbWVyYU1vZGU6IENhbWVyYU1vZGUuVGhpcmRQZXJzb24gfSlcbiAgICAgIGNhbWVyYUZvbGxvdy5kaXN0YW5jZSA9IGNhbWVyYUZvbGxvdy5taW5EaXN0YW5jZSArIDFcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBDYW1lcmFNb2RlLlRoaXJkUGVyc29uOlxuICAgICAgc3dpdGNoQ2FtZXJhTW9kZShlbnRpdHksIHsgY2FtZXJhTW9kZTogQ2FtZXJhTW9kZS5Ub3BEb3duIH0pXG4gICAgICBicmVha1xuICAgIGNhc2UgQ2FtZXJhTW9kZS5Ub3BEb3duOlxuICAgICAgc3dpdGNoQ2FtZXJhTW9kZShlbnRpdHksIHsgY2FtZXJhTW9kZTogQ2FtZXJhTW9kZS5GaXJzdFBlcnNvbiB9KVxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWtcbiAgfVxufVxuLyoqXG4gKiBGaXggY2FtZXJhIGJlaGluZCB0aGUgYXZhdGFyIHRvIGZvbGxvdyB0aGUgYXZhdGFyLlxuICogQHBhcmFtIGVudGl0eSBFbnRpdHkgb24gd2hpY2ggY2FtZXJhIHdpbGwgYmUgZml4ZWQuXG4gKi9cbmNvbnN0IGZpeGVkQ2FtZXJhQmVoaW5kQXZhdGFyOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgaWYgKGlucHV0VmFsdWUubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWQpIHJldHVyblxuICBjb25zdCBmb2xsb3dlciA9IGdldENvbXBvbmVudChlbnRpdHksIEZvbGxvd0NhbWVyYUNvbXBvbmVudClcbiAgaWYgKGZvbGxvd2VyICYmIGZvbGxvd2VyLm1vZGUgIT09IENhbWVyYU1vZGUuRmlyc3RQZXJzb24pIHtcbiAgICBmb2xsb3dlci5sb2NrZWQgPSAhZm9sbG93ZXIubG9ja2VkXG4gIH1cbn1cblxuY29uc3Qgc3dpdGNoU2hvdWxkZXJTaWRlOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgaWYgKGlucHV0VmFsdWUubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWQpIHJldHVyblxuICBjb25zdCBjYW1lcmFGb2xsb3cgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG4gIGlmIChjYW1lcmFGb2xsb3cpIHtcbiAgICBjYW1lcmFGb2xsb3cuc2hvdWxkZXJTaWRlID0gIWNhbWVyYUZvbGxvdy5zaG91bGRlclNpZGVcbiAgfVxufVxuXG5jb25zdCBzZXRUYXJnZXRDYW1lcmFSb3RhdGlvbiA9IChlbnRpdHk6IEVudGl0eSwgcGhpOiBudW1iZXIsIHRoZXRhOiBudW1iZXIpID0+IHtcbiAgY29uc3QgY2FtZXJhUm90YXRpb25UcmFuc2l0aW9uID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgVGFyZ2V0Q2FtZXJhUm90YXRpb25Db21wb25lbnQpXG4gIGlmICghY2FtZXJhUm90YXRpb25UcmFuc2l0aW9uKSB7XG4gICAgYWRkQ29tcG9uZW50KGVudGl0eSwgVGFyZ2V0Q2FtZXJhUm90YXRpb25Db21wb25lbnQsIHtcbiAgICAgIHBoaTogcGhpLFxuICAgICAgcGhpVmVsb2NpdHk6IHsgdmFsdWU6IDAgfSxcbiAgICAgIHRoZXRhOiB0aGV0YSxcbiAgICAgIHRoZXRhVmVsb2NpdHk6IHsgdmFsdWU6IDAgfSxcbiAgICAgIHRpbWU6IDAuM1xuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgY2FtZXJhUm90YXRpb25UcmFuc2l0aW9uLnBoaSA9IHBoaVxuICAgIGNhbWVyYVJvdGF0aW9uVHJhbnNpdGlvbi50aGV0YSA9IHRoZXRhXG4gIH1cbn1cblxubGV0IGxhc3RTY3JvbGxWYWx1ZSA9IDBcblxuLyoqXG4gKiBDaGFuZ2UgY2FtZXJhIGRpc3RhbmNlLlxuICogQHBhcmFtIGVudGl0eSBFbnRpdHkgaG9sZGluZyBjYW1lcmEgYW5kIGlucHV0IGNvbXBvbmVudC5cbiAqL1xuY29uc3QgY2hhbmdlQ2FtZXJhRGlzdGFuY2VCeURlbHRhOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgdmFsdWUgPSBpbnB1dFZhbHVlLnZhbHVlWzBdXG4gIGNvbnN0IHNjcm9sbERlbHRhID0gTWF0aC5zaWduKHZhbHVlIC0gbGFzdFNjcm9sbFZhbHVlKVxuICBsYXN0U2Nyb2xsVmFsdWUgPSB2YWx1ZVxuXG4gIGlmIChzY3JvbGxEZWx0YSA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZm9sbG93Q29tcG9uZW50ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgRm9sbG93Q2FtZXJhQ29tcG9uZW50KVxuXG4gIGlmICghZm9sbG93Q29tcG9uZW50KSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBlcHNpbG9uID0gMC4wMDFcbiAgY29uc3QgbmV4dFpvb21MZXZlbCA9IGNsYW1wKGZvbGxvd0NvbXBvbmVudC56b29tTGV2ZWwgKyBzY3JvbGxEZWx0YSwgZXBzaWxvbiwgZm9sbG93Q29tcG9uZW50Lm1heERpc3RhbmNlKVxuXG4gIC8vIE1vdmUgb3V0IG9mIGZpcnN0IHBlcnNvbiBtb2RlXG4gIGlmIChmb2xsb3dDb21wb25lbnQuem9vbUxldmVsIDw9IGVwc2lsb24gJiYgc2Nyb2xsRGVsdGEgPiAwKSB7XG4gICAgZm9sbG93Q29tcG9uZW50Lnpvb21MZXZlbCA9IGZvbGxvd0NvbXBvbmVudC5taW5EaXN0YW5jZVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gTW92ZSB0byBmaXJzdCBwZXJzb24gbW9kZVxuICBpZiAobmV4dFpvb21MZXZlbCA8IGZvbGxvd0NvbXBvbmVudC5taW5EaXN0YW5jZSkge1xuICAgIGZvbGxvd0NvbXBvbmVudC56b29tTGV2ZWwgPSBlcHNpbG9uXG4gICAgc2V0VGFyZ2V0Q2FtZXJhUm90YXRpb24oZW50aXR5LCAwLCBmb2xsb3dDb21wb25lbnQudGhldGEpXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBSb3RhdGUgY2FtZXJhIHRvIHRoZSB0b3AgYnV0IGxldCB0aGUgcGxheWVyIHJvdGF0ZSBpZiBoZS9zaGUgZGVzaXJlc1xuICBpZiAoTWF0aC5hYnMoZm9sbG93Q29tcG9uZW50Lm1heERpc3RhbmNlIC0gbmV4dFpvb21MZXZlbCkgPD0gMS4wICYmIHNjcm9sbERlbHRhID4gMCkge1xuICAgIHNldFRhcmdldENhbWVyYVJvdGF0aW9uKGVudGl0eSwgODUsIGZvbGxvd0NvbXBvbmVudC50aGV0YSlcbiAgfVxuXG4gIC8vIFJvdGF0ZSBmcm9tIHRvcFxuICBpZiAoXG4gICAgTWF0aC5hYnMoZm9sbG93Q29tcG9uZW50Lm1heERpc3RhbmNlIC0gZm9sbG93Q29tcG9uZW50Lnpvb21MZXZlbCkgPD0gMS4wICYmXG4gICAgc2Nyb2xsRGVsdGEgPCAwICYmXG4gICAgZm9sbG93Q29tcG9uZW50LnBoaSA+PSA4MFxuICApIHtcbiAgICBzZXRUYXJnZXRDYW1lcmFSb3RhdGlvbihlbnRpdHksIDQ1LCBmb2xsb3dDb21wb25lbnQudGhldGEpXG4gIH1cblxuICBmb2xsb3dDb21wb25lbnQuem9vbUxldmVsID0gbmV4dFpvb21MZXZlbFxufVxuXG5jb25zdCBzZXRDYW1lcmFSb3RhdGlvbjogSW5wdXRCZWhhdmlvclR5cGUgPSAoXG4gIGVudGl0eTogRW50aXR5LFxuICBpbnB1dEtleTogSW5wdXRBbGlhcyxcbiAgaW5wdXRWYWx1ZTogSW5wdXRWYWx1ZSxcbiAgZGVsdGE6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGNvbnN0IGZvbGxvd0NvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIEZvbGxvd0NhbWVyYUNvbXBvbmVudClcblxuICBzd2l0Y2ggKGlucHV0S2V5KSB7XG4gICAgY2FzZSBCYXNlSW5wdXQuQ0FNRVJBX1JPVEFURV9MRUZUOlxuICAgICAgZm9sbG93Q29tcG9uZW50LnRoZXRhICs9IDUwICogZGVsdGFcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBCYXNlSW5wdXQuQ0FNRVJBX1JPVEFURV9SSUdIVDpcbiAgICAgIGZvbGxvd0NvbXBvbmVudC50aGV0YSAtPSA1MCAqIGRlbHRhXG4gICAgICBicmVha1xuICB9XG59XG5cbmNvbnN0IG1vcnBoTmFtZUJ5SW5wdXQgPSB7XG4gIFtDYW1lcmFJbnB1dC5OZXV0cmFsXTogJ05vbmUnLFxuICBbQ2FtZXJhSW5wdXQuQW5ncnldOiAnRnJvd24nLFxuICBbQ2FtZXJhSW5wdXQuRGlzZ3VzdGVkXTogJ0Zyb3duJyxcbiAgW0NhbWVyYUlucHV0LkZlYXJmdWxdOiAnRnJvd24nLFxuICBbQ2FtZXJhSW5wdXQuSGFwcHldOiAnU21pbGUnLFxuICBbQ2FtZXJhSW5wdXQuU3VycHJpc2VkXTogJ0Zyb3duJyxcbiAgW0NhbWVyYUlucHV0LlNhZF06ICdGcm93bicsXG4gIFtDYW1lcmFJbnB1dC5QdWNrZXJdOiAnTm9uZScsXG4gIFtDYW1lcmFJbnB1dC5XaWRlbl06ICdGcm93bicsXG4gIFtDYW1lcmFJbnB1dC5PcGVuXTogJ0hhcHB5J1xufVxuXG5jb25zdCBzZXRBdmF0YXJFeHByZXNzaW9uOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3Qgb2JqZWN0ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgT2JqZWN0M0RDb21wb25lbnQpXG4gIGxldCBib2R5XG4gIG9iamVjdC52YWx1ZS50cmF2ZXJzZSgob2JqOiBTa2lubmVkTWVzaCkgPT4ge1xuICAgIGlmICghYm9keSAmJiBvYmoubW9ycGhUYXJnZXREaWN0aW9uYXJ5KSBib2R5ID0gb2JqXG4gIH0pXG5cbiAgaWYgKCFib2R5Py5pc01lc2ggfHwgIWJvZHk/Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkge1xuICAgIGNvbnNvbGUud2FybignW0F2YXRhciBFbW90aW9uc106IFRoaXMgYXZhdGFyIGRvZXMgbm90IHN1cHBvcnQgZXhwcmVzc2l2ZSB2aXNlbWVzLicpXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBtb3JwaFZhbHVlID0gaW5wdXRWYWx1ZS52YWx1ZVxuICBjb25zdCBtb3JwaE5hbWUgPSBtb3JwaE5hbWVCeUlucHV0W2lucHV0S2V5XVxuICBjb25zdCBtb3JwaEluZGV4ID0gYm9keS5tb3JwaFRhcmdldERpY3Rpb25hcnlbbW9ycGhOYW1lXVxuICBpZiAodHlwZW9mIG1vcnBoSW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgY29uc29sZS53YXJuKCdbQXZhdGFyIEVtb3Rpb25zXTogVGhpcyBhdmF0YXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUnLCBtb3JwaE5hbWUsICcgZXhwcmVzc2lvbi4nKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gY29uc29sZS53YXJuKGlucHV0S2V5ICsgXCI6IFwiICsgbW9ycGhOYW1lICsgXCI6XCIgKyBtb3JwaEluZGV4ICsgXCIgPSBcIiArIG1vcnBoVmFsdWUpXG4gIGlmIChtb3JwaE5hbWUgJiYgbW9ycGhWYWx1ZSAhPT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgbW9ycGhWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGJvZHkubW9ycGhUYXJnZXRJbmZsdWVuY2VzIVttb3JwaEluZGV4XSA9IG1vcnBoVmFsdWUgLy8gMC4wIC0gMS4wXG4gICAgfVxuICB9XG59XG5cbi8qKiA5MCBkZWdyZWUgKi9cbmNvbnN0IFBJX0JZXzIgPSBNYXRoLlBJIC8gMlxuXG4vKiogRm9yIFRodW1ic3RpY2sgYW5nbGUgbGVzcyB0aGFuIDI3MCBkZWdyZWUgc3Vic3RyYWN0IDkwIGZyb20gaXQuZnJvbVxuICogT3RoZXJ3aXNlIHN1YnN0cmFjdCA0NTAgZGVncmVlLiBUaGlzIGlzIHRvIG1ha2UgYW5nbGUgcmFuZ2UgZnJvbSAtMTgwIHRvIDE4MCBkZWdyZWUuXG4gKi9cbmNvbnN0IGNoYW5nZWREaXJlY3Rpb24gPSAocmFkaWFuOiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIHJhZGlhbiA8IDMgKiBQSV9CWV8yID8gKHJhZGlhbiA9IHJhZGlhbiAtIFBJX0JZXzIpIDogcmFkaWFuIC0gNSAqIFBJX0JZXzJcbn1cblxuY29uc3QgbW92ZUJ5SW5wdXRBeGlzOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGdldENvbXBvbmVudChlbnRpdHksIEF2YXRhckNvbnRyb2xsZXJDb21wb25lbnQpXG5cbiAgaWYgKGlucHV0VmFsdWUudHlwZSA9PT0gSW5wdXRUeXBlLlRXT0RJTSkge1xuICAgIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi56ID0gaW5wdXRWYWx1ZS52YWx1ZVswXVxuICAgIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi54ID0gaW5wdXRWYWx1ZS52YWx1ZVsxXVxuICB9IGVsc2UgaWYgKGlucHV0VmFsdWUudHlwZSA9PT0gSW5wdXRUeXBlLlRIUkVFRElNKSB7XG4gICAgLy8gVE9ETzogY2hlY2sgaWYgdGhpcyBtYXBwaW5nIGNvcnJlY3RcbiAgICBjb250cm9sbGVyLmxvY2FsTW92ZW1lbnREaXJlY3Rpb24ueiA9IGlucHV0VmFsdWUudmFsdWVbMl1cbiAgICBjb250cm9sbGVyLmxvY2FsTW92ZW1lbnREaXJlY3Rpb24ueCA9IGlucHV0VmFsdWUudmFsdWVbMF1cbiAgfVxufVxuY29uc3Qgc2V0V2Fsa2luZzogSW5wdXRCZWhhdmlvclR5cGUgPSAoXG4gIGVudGl0eTogRW50aXR5LFxuICBpbnB1dEtleTogSW5wdXRBbGlhcyxcbiAgaW5wdXRWYWx1ZTogSW5wdXRWYWx1ZSxcbiAgZGVsdGE6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBnZXRDb21wb25lbnQoZW50aXR5LCBBdmF0YXJDb250cm9sbGVyQ29tcG9uZW50KVxuICBjb250cm9sbGVyLmlzV2Fsa2luZyA9IGlucHV0VmFsdWUubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLkVuZGVkXG59XG5cbmNvbnN0IHNldExvY2FsTW92ZW1lbnREaXJlY3Rpb246IElucHV0QmVoYXZpb3JUeXBlID0gKFxuICBlbnRpdHk6IEVudGl0eSxcbiAgaW5wdXRLZXk6IElucHV0QWxpYXMsXG4gIGlucHV0VmFsdWU6IElucHV0VmFsdWUsXG4gIGRlbHRhOiBudW1iZXJcbik6IHZvaWQgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudClcbiAgY29uc3QgaGFzRW5kZWQgPSBpbnB1dFZhbHVlLmxpZmVjeWNsZVN0YXRlID09PSBMaWZlY3ljbGVWYWx1ZS5FbmRlZFxuICBzd2l0Y2ggKGlucHV0S2V5KSB7XG4gICAgY2FzZSBCYXNlSW5wdXQuSlVNUDpcbiAgICAgIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi55ID0gaGFzRW5kZWQgPyAwIDogMVxuICAgICAgYnJlYWtcbiAgICBjYXNlIEJhc2VJbnB1dC5GT1JXQVJEOlxuICAgICAgY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uLnogPSBoYXNFbmRlZCA/IDAgOiAxXG4gICAgICBicmVha1xuICAgIGNhc2UgQmFzZUlucHV0LkJBQ0tXQVJEOlxuICAgICAgY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uLnogPSBoYXNFbmRlZCA/IDAgOiAtMVxuICAgICAgYnJlYWtcbiAgICBjYXNlIEJhc2VJbnB1dC5MRUZUOlxuICAgICAgY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uLnggPSBoYXNFbmRlZCA/IDAgOiAxXG4gICAgICBicmVha1xuICAgIGNhc2UgQmFzZUlucHV0LlJJR0hUOlxuICAgICAgY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uLnggPSBoYXNFbmRlZCA/IDAgOiAtMVxuICAgICAgYnJlYWtcbiAgfVxuICBjb250cm9sbGVyLmxvY2FsTW92ZW1lbnREaXJlY3Rpb24ubm9ybWFsaXplKClcbn1cblxuY29uc3QgbW92ZUZyb21YUklucHV0czogSW5wdXRCZWhhdmlvclR5cGUgPSAoXG4gIGVudGl0eTogRW50aXR5LFxuICBpbnB1dEtleTogSW5wdXRBbGlhcyxcbiAgaW5wdXRWYWx1ZTogSW5wdXRWYWx1ZSxcbiAgZGVsdGE6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBnZXRDb21wb25lbnQoZW50aXR5LCBBdmF0YXJDb250cm9sbGVyQ29tcG9uZW50KVxuICBjb25zdCB2YWx1ZXMgPSBpbnB1dFZhbHVlLnZhbHVlXG4gIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi54ID0gdmFsdWVzWzBdID8/IGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi54XG4gIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi56ID0gdmFsdWVzWzFdID8/IGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi56XG4gIGNvbnRyb2xsZXIubG9jYWxNb3ZlbWVudERpcmVjdGlvbi5ub3JtYWxpemUoKVxufVxuXG5sZXQgc3dpdGNoQ2hhbmdlZFRvWmVybyA9IHRydWVcbmNvbnN0IGRlZzJyYWQgPSBNYXRoLlBJIC8gMTgwXG5jb25zdCBxdWF0ID0gbmV3IFF1YXRlcm5pb24oKVxuY29uc3QgdXBWZWMgPSBuZXcgVmVjdG9yMygwLCAxLCAwKVxuXG5jb25zdCBsb29rRnJvbVhSSW5wdXRzOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgdmFsdWVzID0gaW5wdXRWYWx1ZS52YWx1ZVxuICBjb25zdCByb3RhdGlvbkFuZ2xlID0gWFJVc2VyU2V0dGluZ3Mucm90YXRpb25BbmdsZVxuICBsZXQgbmV3QW5nbGVEaWZmID0gMFxuICBzd2l0Y2ggKFhSVXNlclNldHRpbmdzLnJvdGF0aW9uKSB7XG4gICAgY2FzZSBYUl9ST1RBVElPTl9NT0RFLkFOR0xFRDpcbiAgICAgIGlmIChzd2l0Y2hDaGFuZ2VkVG9aZXJvICYmIHZhbHVlc1swXSAhPSAwKSB7XG4gICAgICAgIGNvbnN0IHBsdXMgPSBYUlVzZXJTZXR0aW5ncy5yb3RhdGlvbkludmVydEF4ZXMgPyAtMSA6IDFcbiAgICAgICAgY29uc3QgbWludXMgPSBYUlVzZXJTZXR0aW5ncy5yb3RhdGlvbkludmVydEF4ZXMgPyAxIDogLTFcbiAgICAgICAgY29uc3QgZGlyZWN0ZWRBbmdsZSA9IHZhbHVlc1swXSA+IDAgPyByb3RhdGlvbkFuZ2xlICogcGx1cyA6IHJvdGF0aW9uQW5nbGUgKiBtaW51c1xuICAgICAgICBuZXdBbmdsZURpZmYgPSBkaXJlY3RlZEFuZ2xlXG4gICAgICAgIHN3aXRjaENoYW5nZWRUb1plcm8gPSBmYWxzZVxuICAgICAgfSBlbHNlIGlmICghc3dpdGNoQ2hhbmdlZFRvWmVybyAmJiB2YWx1ZXNbMF0gPT0gMCkge1xuICAgICAgICBzd2l0Y2hDaGFuZ2VkVG9aZXJvID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICghc3dpdGNoQ2hhbmdlZFRvWmVybykge1xuICAgICAgICBuZXdBbmdsZURpZmYgPSAwXG4gICAgICB9IGVsc2UgaWYgKHN3aXRjaENoYW5nZWRUb1plcm8gJiYgdmFsdWVzWzBdID09IDApIHtcbiAgICAgICAgbmV3QW5nbGVEaWZmID0gMFxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBjYXNlIFhSX1JPVEFUSU9OX01PREUuU01PT1RIOlxuICAgICAgbmV3QW5nbGVEaWZmID0gdmFsdWVzWzBdICogWFJVc2VyU2V0dGluZ3Mucm90YXRpb25TbW9vdGhTcGVlZCAqIChYUlVzZXJTZXR0aW5ncy5yb3RhdGlvbkludmVydEF4ZXMgPyAtMSA6IDEpXG4gICAgICBicmVha1xuICB9XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgcXVhdC5zZXRGcm9tQXhpc0FuZ2xlKHVwVmVjLCBuZXdBbmdsZURpZmYgKiBkZWcycmFkKVxuICB0cmFuc2Zvcm0ucm90YXRpb24ubXVsdGlwbHkocXVhdClcbn1cblxuY29uc3QgbG9va0J5SW5wdXRBeGlzOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChcbiAgZW50aXR5OiBFbnRpdHksXG4gIGlucHV0S2V5OiBJbnB1dEFsaWFzLFxuICBpbnB1dFZhbHVlOiBJbnB1dFZhbHVlLFxuICBkZWx0YTogbnVtYmVyXG4pOiB2b2lkID0+IHtcbiAgY29uc3QgZm9sbG93Q2FtZXJhID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgRm9sbG93Q2FtZXJhQ29tcG9uZW50KVxuXG4gIGlmIChoYXNDb21wb25lbnQoZW50aXR5LCBUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudCkpIHtcbiAgICByZW1vdmVDb21wb25lbnQoZW50aXR5LCBUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudClcbiAgfVxuXG4gIGlmIChmb2xsb3dDYW1lcmEpIHtcbiAgICBmb2xsb3dDYW1lcmEudGhldGEgLT0gaW5wdXRWYWx1ZS52YWx1ZVswXSAqIDEwMFxuICAgIGZvbGxvd0NhbWVyYS5waGkgLT0gaW5wdXRWYWx1ZS52YWx1ZVsxXSAqIDEwMFxuICB9XG59XG5cbmNvbnN0IGdhbWVwYWRMb29rOiBJbnB1dEJlaGF2aW9yVHlwZSA9IChlbnRpdHk6IEVudGl0eSk6IHZvaWQgPT4ge1xuICBjb25zdCBpbnB1dCA9IGdldENvbXBvbmVudChlbnRpdHksIElucHV0Q29tcG9uZW50KVxuICBjb25zdCBkYXRhID0gaW5wdXQuZGF0YS5nZXQoQmFzZUlucHV0LkdBTUVQQURfU1RJQ0tfUklHSFQpIVxuICAvLyBUT0RPOiBmaXggdGhpc1xuICBjb25zb2xlLmxvZygnZ2FtZXBhZExvb2snLCBkYXRhKVxuICBpZiAoZGF0YS50eXBlID09PSBJbnB1dFR5cGUuVFdPRElNKSB7XG4gICAgaW5wdXQuZGF0YS5zZXQoQmFzZUlucHV0LkxPT0tUVVJOX1BMQVlFUk9ORSwge1xuICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgdmFsdWU6IFtkYXRhLnZhbHVlWzBdLCBkYXRhLnZhbHVlWzFdXSxcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5DaGFuZ2VkXG4gICAgfSlcbiAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IElucHV0VHlwZS5USFJFRURJTSkge1xuICAgIGlucHV0LmRhdGEuc2V0KEJhc2VJbnB1dC5MT09LVFVSTl9QTEFZRVJPTkUsIHtcbiAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgIHZhbHVlOiBbZGF0YS52YWx1ZVswXSwgZGF0YS52YWx1ZVsyXV0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZFxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNsaWNrTmF2TWVzaDogSW5wdXRCZWhhdmlvclR5cGUgPSAoZW50aXR5LCBpbnB1dEtleSwgaW5wdXRWYWx1ZSk6IHZvaWQgPT4ge1xuICBpZiAoaW5wdXRWYWx1ZS5saWZlY3ljbGVTdGF0ZSAhPT0gTGlmZWN5Y2xlVmFsdWUuRW5kZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBpbnB1dCA9IGdldENvbXBvbmVudChlbnRpdHksIElucHV0Q29tcG9uZW50KVxuICBjb25zdCBjb29yZHMgPSBpbnB1dC5kYXRhLmdldChCYXNlSW5wdXQuU0NSRUVOWFkpPy52YWx1ZVxuICBpZiAoY29vcmRzKSB7XG4gICAgLy8gYWRkQ29tcG9uZW50KGVudGl0eSwgQXV0b1BpbG90Q2xpY2tSZXF1ZXN0Q29tcG9uZW50LCB7IGNvb3JkczogbmV3IFZlY3RvcjIoY29vcmRzWzBdLCBjb29yZHNbMV0pIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF2YXRhcklucHV0ID0gKCkgPT4ge1xuICBjb25zdCBtYXA6IE1hcDxJbnB1dEFsaWFzLCBJbnB1dEFsaWFzPiA9IG5ldyBNYXAoKVxuXG4gIG1hcC5zZXQoTW91c2VJbnB1dC5MZWZ0QnV0dG9uLCBCYXNlSW5wdXQuUFJJTUFSWSlcbiAgbWFwLnNldChNb3VzZUlucHV0LlJpZ2h0QnV0dG9uLCBCYXNlSW5wdXQuU0VDT05EQVJZKVxuICBtYXAuc2V0KE1vdXNlSW5wdXQuTWlkZGxlQnV0dG9uLCBCYXNlSW5wdXQuSU5URVJBQ1QpXG5cbiAgbWFwLnNldChNb3VzZUlucHV0Lk1vdXNlTW92ZW1lbnQsIEJhc2VJbnB1dC5NT1VTRV9NT1ZFTUVOVClcbiAgbWFwLnNldChNb3VzZUlucHV0Lk1vdXNlUG9zaXRpb24sIEJhc2VJbnB1dC5TQ1JFRU5YWSlcbiAgbWFwLnNldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duUG9zaXRpb24sIEJhc2VJbnB1dC5TQ1JFRU5YWV9TVEFSVClcbiAgbWFwLnNldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duVHJhbnNmb3JtUm90YXRpb24sIEJhc2VJbnB1dC5ST1RBVElPTl9TVEFSVClcbiAgbWFwLnNldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duTW92ZW1lbnQsIEJhc2VJbnB1dC5MT09LVFVSTl9QTEFZRVJPTkUpXG4gIG1hcC5zZXQoTW91c2VJbnB1dC5Nb3VzZVNjcm9sbCwgQmFzZUlucHV0LkNBTUVSQV9TQ1JPTEwpXG5cbiAgbWFwLnNldChUb3VjaElucHV0cy5Ub3VjaCwgQmFzZUlucHV0LklOVEVSQUNUKVxuICAvLyBtYXAuc2V0KFRvdWNoSW5wdXRzLkRvdWJsZVRvdWNoLCBCYXNlSW5wdXQuSlVNUClcbiAgbWFwLnNldChUb3VjaElucHV0cy5Ub3VjaDFQb3NpdGlvbiwgQmFzZUlucHV0LlNDUkVFTlhZKVxuICBtYXAuc2V0KFRvdWNoSW5wdXRzLlRvdWNoMU1vdmVtZW50LCBCYXNlSW5wdXQuTE9PS1RVUk5fUExBWUVST05FKVxuICBtYXAuc2V0KFRvdWNoSW5wdXRzLlNjYWxlLCBCYXNlSW5wdXQuQ0FNRVJBX1NDUk9MTClcblxuICBtYXAuc2V0KEdhbWVwYWRCdXR0b25zLkEsIEJhc2VJbnB1dC5JTlRFUkFDVClcbiAgbWFwLnNldChHYW1lcGFkQnV0dG9ucy5CLCBCYXNlSW5wdXQuSlVNUClcbiAgbWFwLnNldChHYW1lcGFkQnV0dG9ucy5MVHJpZ2dlciwgQmFzZUlucHV0LkdSQUJfTEVGVClcbiAgbWFwLnNldChHYW1lcGFkQnV0dG9ucy5SVHJpZ2dlciwgQmFzZUlucHV0LkdSQUJfUklHSFQpXG4gIG1hcC5zZXQoR2FtZXBhZEJ1dHRvbnMuRFBhZDEsIEJhc2VJbnB1dC5GT1JXQVJEKVxuICBtYXAuc2V0KEdhbWVwYWRCdXR0b25zLkRQYWQyLCBCYXNlSW5wdXQuQkFDS1dBUkQpXG4gIG1hcC5zZXQoR2FtZXBhZEJ1dHRvbnMuRFBhZDMsIEJhc2VJbnB1dC5MRUZUKVxuICBtYXAuc2V0KEdhbWVwYWRCdXR0b25zLkRQYWQ0LCBCYXNlSW5wdXQuUklHSFQpXG5cbiAgbWFwLnNldChHYW1lcGFkQXhpcy5MZWZ0LCBCYXNlSW5wdXQuTU9WRU1FTlRfUExBWUVST05FKVxuICBtYXAuc2V0KEdhbWVwYWRBeGlzLlJpZ2h0LCBCYXNlSW5wdXQuR0FNRVBBRF9TVElDS19SSUdIVClcblxuICBpZiAoWFJVc2VyU2V0dGluZ3MuaW52ZXJ0Um90YXRpb25BbmRNb3ZlU3RpY2tzKSB7XG4gICAgbWFwLnNldChYUkF4ZXMuTGVmdCwgQmFzZUlucHV0LlhSX0FYSVNfTE9PSylcbiAgICBtYXAuc2V0KFhSQXhlcy5SaWdodCwgQmFzZUlucHV0LlhSX0FYSVNfTU9WRSlcbiAgfSBlbHNlIHtcbiAgICBtYXAuc2V0KFhSQXhlcy5MZWZ0LCBCYXNlSW5wdXQuWFJfQVhJU19NT1ZFKVxuICAgIG1hcC5zZXQoWFJBeGVzLlJpZ2h0LCBCYXNlSW5wdXQuWFJfQVhJU19MT09LKVxuICB9XG5cbiAgbWFwLnNldChYUjZET0YuSE1ELCBCYXNlSW5wdXQuWFJfSEVBRClcbiAgbWFwLnNldChYUjZET0YuTGVmdEhhbmQsIEJhc2VJbnB1dC5YUl9DT05UUk9MTEVSX0xFRlRfSEFORClcbiAgbWFwLnNldChYUjZET0YuUmlnaHRIYW5kLCBCYXNlSW5wdXQuWFJfQ09OVFJPTExFUl9SSUdIVF9IQU5EKVxuXG4gIG1hcC5zZXQoJ0tleVcnLCBCYXNlSW5wdXQuRk9SV0FSRClcbiAgbWFwLnNldCgnQXJyb3dVcCcsIEJhc2VJbnB1dC5GT1JXQVJEKVxuICBtYXAuc2V0KCdLZXlBJywgQmFzZUlucHV0LkxFRlQpXG4gIG1hcC5zZXQoJ0tleVMnLCBCYXNlSW5wdXQuQkFDS1dBUkQpXG4gIG1hcC5zZXQoJ0Fycm93RG93bicsIEJhc2VJbnB1dC5CQUNLV0FSRClcbiAgbWFwLnNldCgnS2V5RCcsIEJhc2VJbnB1dC5SSUdIVClcbiAgbWFwLnNldCgnS2V5RScsIEJhc2VJbnB1dC5JTlRFUkFDVClcbiAgbWFwLnNldCgnU3BhY2UnLCBCYXNlSW5wdXQuSlVNUClcbiAgbWFwLnNldCgnU2hpZnRMZWZ0JywgQmFzZUlucHV0LldBTEspXG4gIG1hcC5zZXQoJ0tleVAnLCBCYXNlSW5wdXQuUE9JTlRFUl9MT0NLKVxuICBtYXAuc2V0KCdLZXBWJywgQmFzZUlucHV0LlNXSVRDSF9DQU1FUkEpXG4gIG1hcC5zZXQoJ0tleUMnLCBCYXNlSW5wdXQuU1dJVENIX1NIT1VMREVSX1NJREUpXG4gIG1hcC5zZXQoJ0tleUYnLCBCYXNlSW5wdXQuTE9DS0lOR19DQU1FUkEpXG4gIG1hcC5zZXQoJ0Fycm93TGVmdCcsIEJhc2VJbnB1dC5DQU1FUkFfUk9UQVRFX0xFRlQpXG4gIG1hcC5zZXQoJ0Fycm93UmlnaHQnLCBCYXNlSW5wdXQuQ0FNRVJBX1JPVEFURV9SSUdIVClcblxuICBtYXAuc2V0KENhbWVyYUlucHV0Lk5ldXRyYWwsIENhbWVyYUlucHV0Lk5ldXRyYWwpXG4gIG1hcC5zZXQoQ2FtZXJhSW5wdXQuQW5ncnksIENhbWVyYUlucHV0LkFuZ3J5KVxuICBtYXAuc2V0KENhbWVyYUlucHV0LkRpc2d1c3RlZCwgQ2FtZXJhSW5wdXQuRGlzZ3VzdGVkKVxuICBtYXAuc2V0KENhbWVyYUlucHV0LkZlYXJmdWwsIENhbWVyYUlucHV0LkZlYXJmdWwpXG4gIG1hcC5zZXQoQ2FtZXJhSW5wdXQuSGFwcHksIENhbWVyYUlucHV0LkhhcHB5KVxuICBtYXAuc2V0KENhbWVyYUlucHV0LlN1cnByaXNlZCwgQ2FtZXJhSW5wdXQuU3VycHJpc2VkKVxuICBtYXAuc2V0KENhbWVyYUlucHV0LlNhZCwgQ2FtZXJhSW5wdXQuU2FkKVxuICBtYXAuc2V0KENhbWVyYUlucHV0LlB1Y2tlciwgQ2FtZXJhSW5wdXQuUHVja2VyKVxuICBtYXAuc2V0KENhbWVyYUlucHV0LldpZGVuLCBDYW1lcmFJbnB1dC5XaWRlbilcbiAgbWFwLnNldChDYW1lcmFJbnB1dC5PcGVuLCBDYW1lcmFJbnB1dC5PcGVuKVxuXG4gIHJldHVybiBtYXBcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJlaGF2aW9yTWFwID0gKCkgPT4ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPElucHV0QWxpYXMsIElucHV0QmVoYXZpb3JUeXBlPigpXG5cbiAgbWFwLnNldChCYXNlSW5wdXQuSU5URVJBQ1QsIGludGVyYWN0KVxuICBtYXAuc2V0KEJhc2VJbnB1dC5HUkFCX0xFRlQsIGludGVyYWN0KVxuICBtYXAuc2V0KEJhc2VJbnB1dC5HUkFCX1JJR0hULCBpbnRlcmFjdClcblxuICBtYXAuc2V0KEJhc2VJbnB1dC5KVU1QLCBzZXRMb2NhbE1vdmVtZW50RGlyZWN0aW9uKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5XQUxLLCBzZXRXYWxraW5nKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5GT1JXQVJELCBzZXRMb2NhbE1vdmVtZW50RGlyZWN0aW9uKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5CQUNLV0FSRCwgc2V0TG9jYWxNb3ZlbWVudERpcmVjdGlvbilcbiAgbWFwLnNldChCYXNlSW5wdXQuTEVGVCwgc2V0TG9jYWxNb3ZlbWVudERpcmVjdGlvbilcbiAgbWFwLnNldChCYXNlSW5wdXQuUklHSFQsIHNldExvY2FsTW92ZW1lbnREaXJlY3Rpb24pXG4gIG1hcC5zZXQoQmFzZUlucHV0LkNBTUVSQV9ST1RBVEVfTEVGVCwgc2V0Q2FtZXJhUm90YXRpb24pXG4gIG1hcC5zZXQoQmFzZUlucHV0LkNBTUVSQV9ST1RBVEVfUklHSFQsIHNldENhbWVyYVJvdGF0aW9uKVxuXG4gIG1hcC5zZXQoQ2FtZXJhSW5wdXQuSGFwcHksIHNldEF2YXRhckV4cHJlc3Npb24pXG4gIG1hcC5zZXQoQ2FtZXJhSW5wdXQuU2FkLCBzZXRBdmF0YXJFeHByZXNzaW9uKVxuXG4gIG1hcC5zZXQoQmFzZUlucHV0LkxPT0tUVVJOX1BMQVlFUk9ORSwgbG9va0J5SW5wdXRBeGlzKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5NT1ZFTUVOVF9QTEFZRVJPTkUsIG1vdmVCeUlucHV0QXhpcylcbiAgbWFwLnNldChCYXNlSW5wdXQuR0FNRVBBRF9TVElDS19MRUZULCBnYW1lcGFkTG9vaylcbiAgbWFwLnNldChCYXNlSW5wdXQuR0FNRVBBRF9TVElDS19SSUdIVCwgZ2FtZXBhZExvb2spXG4gIG1hcC5zZXQoQmFzZUlucHV0LlhSX0FYSVNfTE9PSywgbG9va0Zyb21YUklucHV0cylcbiAgbWFwLnNldChCYXNlSW5wdXQuWFJfQVhJU19NT1ZFLCBtb3ZlRnJvbVhSSW5wdXRzKVxuXG4gIG1hcC5zZXQoQmFzZUlucHV0LlNXSVRDSF9DQU1FUkEsIGN5Y2xlQ2FtZXJhTW9kZSlcbiAgbWFwLnNldChCYXNlSW5wdXQuTE9DS0lOR19DQU1FUkEsIGZpeGVkQ2FtZXJhQmVoaW5kQXZhdGFyKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5TV0lUQ0hfU0hPVUxERVJfU0lERSwgc3dpdGNoU2hvdWxkZXJTaWRlKVxuICBtYXAuc2V0KEJhc2VJbnB1dC5DQU1FUkFfU0NST0xMLCB0aHJvdHRsZShjaGFuZ2VDYW1lcmFEaXN0YW5jZUJ5RGVsdGEsIDMwLCB7IGxlYWRpbmc6IHRydWUsIHRyYWlsaW5nOiBmYWxzZSB9KSlcblxuICBtYXAuc2V0KEJhc2VJbnB1dC5QUklNQVJZLCBjbGlja05hdk1lc2gpXG5cbiAgcmV0dXJuIG1hcFxufVxuXG5leHBvcnQgY29uc3QgQXZhdGFySW5wdXRTY2hlbWE6IElucHV0U2NoZW1hID0ge1xuICBpbnB1dE1hcDogY3JlYXRlQXZhdGFySW5wdXQoKSxcbiAgYmVoYXZpb3JNYXA6IGNyZWF0ZUJlaGF2aW9yTWFwKClcbn1cbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG4vKipcbiAqIEBhdXRob3IgSHlkcmFGaXJlIDxnaXRodWIuY29tL0h5ZHJhRmlyZT5cbiAqL1xuXG5leHBvcnQgdHlwZSBWZWxvY2l0eUNvbXBvbmVudFR5cGUgPSB7XG4gIHZlbG9jaXR5OiBWZWN0b3IzXG59XG5cbmV4cG9ydCBjb25zdCBWZWxvY2l0eUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxWZWxvY2l0eUNvbXBvbmVudFR5cGU+KCdWZWxvY2l0eUNvbXBvbmVudCcpXG4iLCIvKipcbiAqIEBhdXRob3IgSHlkcmFGaXJlIDxnaXRodWIuY29tL0h5ZHJhRmlyZT5cbiAqL1xuXG5leHBvcnQgZW51bSBDb2xsaXNpb25Hcm91cHMge1xuICBOb25lID0gMCxcbiAgRGVmYXVsdCA9IDEgPDwgMCxcbiAgQXZhdGFycyA9IDEgPDwgMSxcbiAgQ2FyID0gMSA8PCAyLFxuICBUcmlnZ2VyID0gMSA8PCAzLFxuICBHcm91bmQgPSAxIDw8IDRcbn1cblxuZXhwb3J0IGNvbnN0IERlZmF1bHRDb2xsaXNpb25NYXNrID0gQ29sbGlzaW9uR3JvdXBzLkRlZmF1bHQgfCBDb2xsaXNpb25Hcm91cHMuQXZhdGFycyB8IENvbGxpc2lvbkdyb3Vwcy5Hcm91bmRcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBDb2xsaWRlckNvbXBvbmVudFR5cGUgPSB7XG4gIGJvZHk6IFBoeXNYLlB4UmlnaWRTdGF0aWMgfCBQaHlzWC5QeFJpZ2lkRHluYW1pY1xufVxuXG5leHBvcnQgY29uc3QgQ29sbGlkZXJDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8Q29sbGlkZXJDb21wb25lbnRUeXBlPignQ29sbGlkZXJDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ0BldGhlcmVhbGpzL2NvcmUnXG5pbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IFJheWNhc3RIaXQsIFNjZW5lUXVlcnlUeXBlIH0gZnJvbSAnLi4vdHlwZXMvUGh5c2ljc1R5cGVzJ1xuXG5leHBvcnQgdHlwZSBSYXljYXN0Q29tcG9uZW50VHlwZSA9IHtcbiAgZmlsdGVyRGF0YTogUGh5c1guUHhRdWVyeUZpbHRlckRhdGFcbiAgdHlwZTogU2NlbmVRdWVyeVR5cGVcbiAgaGl0czogUmF5Y2FzdEhpdFtdXG4gIG9yaWdpbjogVmVjdG9yM1xuICBkaXJlY3Rpb246IFZlY3RvcjNcbiAgbWF4RGlzdGFuY2U6IG51bWJlclxuICBmbGFnczogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBSYXljYXN0Q29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PFJheWNhc3RDb21wb25lbnRUeXBlPignUmF5Y2FzdENvbXBvbmVudCcpXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYm9vbGVhbk9uUGFyc2UgPSBleHBvcnRzLmVtcHR5ID0gZXhwb3J0cy5pc1N0cmluZyA9IGV4cG9ydHMuaXNOdW1iZXIgPSBleHBvcnRzLmlzRnVuY3Rpb25UZXN0ID0gZXhwb3J0cy5pc09iamVjdCA9IHZvaWQgMDtcbmNvbnN0IGlzT2JqZWN0ID0gKHgpID0+IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT0gbnVsbDtcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbmNvbnN0IGlzRnVuY3Rpb25UZXN0ID0gKHgpID0+IHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG5leHBvcnRzLmlzRnVuY3Rpb25UZXN0ID0gaXNGdW5jdGlvblRlc3Q7XG5jb25zdCBpc051bWJlciA9ICh4KSA9PiB0eXBlb2YgeCA9PT0gXCJudW1iZXJcIjtcbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbmNvbnN0IGlzU3RyaW5nID0gKHgpID0+IHR5cGVvZiB4ID09PSBcInN0cmluZ1wiO1xuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuZXhwb3J0cy5lbXB0eSA9IFtdO1xuZXhwb3J0cy5ib29sZWFuT25QYXJzZSA9IHtcbiAgICBwYXJzZWQoXykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGludmFsaWQoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR3VhcmRQYXJzZXIgPSB2b2lkIDA7XG5jbGFzcyBHdWFyZFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoY2hlY2tJc0EsIHR5cGVOYW1lLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJHdWFyZFwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogW3R5cGVOYW1lXSxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMuY2hlY2tJc0EgPSBjaGVja0lzQTtcbiAgICAgICAgdGhpcy50eXBlTmFtZSA9IHR5cGVOYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJc0EoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKHtcbiAgICAgICAgICAgIHZhbHVlOiBhLFxuICAgICAgICAgICAga2V5czogW10sXG4gICAgICAgICAgICBwYXJzZXI6IHRoaXMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuR3VhcmRQYXJzZXIgPSBHdWFyZFBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUd1YXJkUGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zYWZlclN0cmluZ2lmeSA9IHZvaWQgMDtcbi8qKlxuICogVHJpZXMgYW5kIHJ1biB0aGUgc3RyaW5naWZ5LCBpZiB0aGF0IGZhaWxzIGp1c3QgcmV0dXJuIHRoZSB0b1N0cmluZ1xuICogQHBhcmFtIHggQ291bGQgYmUgYW55dGhpbmcsIGluY2x1ZGluZyBhIHJlY3Vyc2l2ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gc2FmZXJTdHJpbmdpZnkoeCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh4KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB4O1xuICAgIH1cbn1cbmV4cG9ydHMuc2FmZXJTdHJpbmdpZnkgPSBzYWZlclN0cmluZ2lmeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BbnlQYXJzZXIgPSB2b2lkIDA7XG5jbGFzcyBBbnlQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lOiBcIkFueVwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogW10sXG4gICAgfSkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgcmV0dXJuIG9uUGFyc2UucGFyc2VkKGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuQW55UGFyc2VyID0gQW55UGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW55UGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcnJheVBhcnNlciA9IHZvaWQgMDtcbmNsYXNzIEFycmF5UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJBcnJheVwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogW10sXG4gICAgfSkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpXG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYSk7XG4gICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoe1xuICAgICAgICAgICAgdmFsdWU6IGEsXG4gICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgIHBhcnNlcjogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5BcnJheVBhcnNlciA9IEFycmF5UGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJyYXlQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJvb2xQYXJzZXIgPSB2b2lkIDA7XG5jbGFzcyBCb29sUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJCb29sZWFuXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgZXh0cmFzOiBbXSxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoYSwgb25QYXJzZSkge1xuICAgICAgICBpZiAoYSA9PT0gdHJ1ZSB8fCBhID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChhKTtcbiAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZCh7XG4gICAgICAgICAgICB2YWx1ZTogYSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgcGFyc2VyOiB0aGlzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkJvb2xQYXJzZXIgPSBCb29sUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm9vbFBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uY2F0UGFyc2VycyA9IHZvaWQgMDtcbmNsYXNzIENvbmNhdFBhcnNlcnMge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3RoZXJQYXJzZXIsIGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lOiBcIkNvbmNhdFwiLFxuICAgICAgICBjaGlsZHJlbjogW3BhcmVudCwgb3RoZXJQYXJzZXJdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMub3RoZXJQYXJzZXIgPSBvdGhlclBhcnNlcjtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBzdGF0aWMgb2YocGFyZW50LCBvdGhlclBhcnNlcikge1xuICAgICAgICBpZiAocGFyZW50LnVud3JhcHBlZFBhcnNlcigpLmRlc2NyaXB0aW9uLm5hbWUgPT09IFwiQW55XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlclBhcnNlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXJQYXJzZXIudW53cmFwcGVkUGFyc2VyKCkuZGVzY3JpcHRpb24ubmFtZSA9PT0gXCJBbnlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbmNhdFBhcnNlcnMocGFyZW50LCBvdGhlclBhcnNlcik7XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQuZW51bVBhcnNlZChhKTtcbiAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQocGFyZW50LmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdGhlciA9IHRoaXMub3RoZXJQYXJzZXIuZW51bVBhcnNlZChwYXJlbnQudmFsdWUpO1xuICAgICAgICBpZiAoXCJlcnJvclwiIGluIG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKG90aGVyLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQob3RoZXIudmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29uY2F0UGFyc2VycyA9IENvbmNhdFBhcnNlcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25jYXRQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRlZmF1bHRQYXJzZXIgPSB2b2lkIDA7XG5jbGFzcyBEZWZhdWx0UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGRlZmF1bHRWYWx1ZSwgZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWU6IFwiRGVmYXVsdFwiLFxuICAgICAgICBjaGlsZHJlbjogW3BhcmVudF0sXG4gICAgICAgIGV4dHJhczogW2RlZmF1bHRWYWx1ZV0sXG4gICAgfSkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoYSwgb25QYXJzZSkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSB0aGlzO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uUGFyc2UucGFyc2VkKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50Q2hlY2sgPSB0aGlzLnBhcmVudC5lbnVtUGFyc2VkKGEpO1xuICAgICAgICBpZiAoXCJlcnJvclwiIGluIHBhcmVudENoZWNrKSB7XG4gICAgICAgICAgICBwYXJlbnRDaGVjay5lcnJvci5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKHBhcmVudENoZWNrLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQocGFyZW50Q2hlY2sudmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuRGVmYXVsdFBhcnNlciA9IERlZmF1bHRQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0UGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GdW5jdGlvblBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNsYXNzIEZ1bmN0aW9uUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJGdW5jdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogW10sXG4gICAgfSkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgaWYgKCgwLCB1dGlsc18xLmlzRnVuY3Rpb25UZXN0KShhKSlcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChhKTtcbiAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZCh7XG4gICAgICAgICAgICB2YWx1ZTogYSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgcGFyc2VyOiB0aGlzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkZ1bmN0aW9uUGFyc2VyID0gRnVuY3Rpb25QYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GdW5jdGlvblBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWFwcGVkQVBhcnNlciA9IHZvaWQgMDtcbmNsYXNzIE1hcHBlZEFQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgbWFwLCBtYXBwaW5nTmFtZSA9IG1hcC5uYW1lLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJNYXBwZWRcIixcbiAgICAgICAgY2hpbGRyZW46IFtwYXJlbnRdLFxuICAgICAgICBleHRyYXM6IFttYXBwaW5nTmFtZV0sXG4gICAgfSkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubWFwcGluZ05hbWUgPSBtYXBwaW5nTmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWFwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBhcmVudC5lbnVtUGFyc2VkKGEpO1xuICAgICAgICBpZiAoXCJlcnJvclwiIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZChyZXN1bHQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChtYXAocmVzdWx0LnZhbHVlKSk7XG4gICAgfVxufVxuZXhwb3J0cy5NYXBwZWRBUGFyc2VyID0gTWFwcGVkQVBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hcHBlZEFQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1heWJlUGFyc2VyID0gdm9pZCAwO1xuY2xhc3MgTWF5YmVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWU6IFwiTWF5YmVcIixcbiAgICAgICAgY2hpbGRyZW46IFtwYXJlbnRdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoYSwgb25QYXJzZSkge1xuICAgICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VyID0gdGhpcztcbiAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSB0aGlzLnBhcmVudC5lbnVtUGFyc2VkKGEpO1xuICAgICAgICBpZiAoXCJlcnJvclwiIGluIHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBwYXJlbnRTdGF0ZTtcbiAgICAgICAgICAgIGVycm9yLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChwYXJlbnRTdGF0ZS52YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0cy5NYXliZVBhcnNlciA9IE1heWJlUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF5YmVQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlck5hbWUgPSBleHBvcnRzLk5hbWVkUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNsYXNzIE5hbWVkUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5hbWUsIGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lOiBcIk5hbWVkXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbcGFyZW50XSxcbiAgICAgICAgZXh0cmFzOiBbbmFtZV0sXG4gICAgfSkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50LmVudW1QYXJzZWQoYSk7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBwYXJlbnQ7XG4gICAgICAgICAgICBlcnJvci5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQocGFyZW50LnZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLk5hbWVkUGFyc2VyID0gTmFtZWRQYXJzZXI7XG5mdW5jdGlvbiBwYXJzZXJOYW1lKG5hbWUsIHBhcmVudCkge1xuICAgIHJldHVybiBuZXcgXzEuUGFyc2VyKG5ldyBOYW1lZFBhcnNlcihwYXJlbnQsIG5hbWUpKTtcbn1cbmV4cG9ydHMucGFyc2VyTmFtZSA9IHBhcnNlck5hbWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OYW1lZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTmlsUGFyc2VyID0gdm9pZCAwO1xuY2xhc3MgTmlsUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJOdWxsXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgZXh0cmFzOiBbXSxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoYSwgb25QYXJzZSkge1xuICAgICAgICBpZiAoYSA9PT0gbnVsbCB8fCBhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYSk7XG4gICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoe1xuICAgICAgICAgICAgdmFsdWU6IGEsXG4gICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgIHBhcnNlcjogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5OaWxQYXJzZXIgPSBOaWxQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaWxsUGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5OdW1iZXJQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBfMSA9IHJlcXVpcmUoXCIuXCIpO1xuY2xhc3MgTnVtYmVyUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJOdW1iZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGlmICgoMCwgXzEuaXNOdW1iZXIpKGEpKVxuICAgICAgICAgICAgcmV0dXJuIG9uUGFyc2UucGFyc2VkKGEpO1xuICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKHtcbiAgICAgICAgICAgIHZhbHVlOiBhLFxuICAgICAgICAgICAga2V5czogW10sXG4gICAgICAgICAgICBwYXJzZXI6IHRoaXMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTnVtYmVyUGFyc2VyID0gTnVtYmVyUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TnVtYmVyUGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PYmplY3RQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jbGFzcyBPYmplY3RQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lOiBcIk9iamVjdFwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogW10sXG4gICAgfSkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgaWYgKCgwLCB1dGlsc18xLmlzT2JqZWN0KShhKSlcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChhKTtcbiAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZCh7XG4gICAgICAgICAgICB2YWx1ZTogYSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgcGFyc2VyOiB0aGlzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLk9iamVjdFBhcnNlciA9IE9iamVjdFBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3JQYXJzZXJzID0gdm9pZCAwO1xuY2xhc3MgT3JQYXJzZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG90aGVyUGFyc2VyLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJPclwiLFxuICAgICAgICBjaGlsZHJlbjogW3BhcmVudCwgb3RoZXJQYXJzZXJdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMub3RoZXJQYXJzZXIgPSBvdGhlclBhcnNlcjtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50LmVudW1QYXJzZWQoYSk7XG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQocGFyZW50LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdGhlciA9IHRoaXMub3RoZXJQYXJzZXIuZW51bVBhcnNlZChhKTtcbiAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiBvdGhlcikge1xuICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gb3RoZXI7XG4gICAgICAgICAgICBlcnJvci5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQob3RoZXIudmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuT3JQYXJzZXJzID0gT3JQYXJzZXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3JQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNoYXBlID0gZXhwb3J0cy5pc1NoYXBlID0gZXhwb3J0cy5wYXJ0aWFsID0gZXhwb3J0cy5pc1BhcnRpYWwgPSBleHBvcnRzLlNoYXBlUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCwgd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhlIGtleSBleGlzdHMgYW5kIHRoYXQgdGhlIHZhbHVlIG9uXG4gKiB0aGUga2V5IG1hdGNoZXMgdGhlIHBhcnNlclxuICovXG5jbGFzcyBTaGFwZVBhcnNlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyTWFwLCBpc1BhcnRpYWwsIHBhcnNlcktleXMgPSBPYmplY3Qua2V5cyhwYXJzZXJNYXApLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogaXNQYXJ0aWFsID8gXCJQYXJ0aWFsXCIgOiBcIlNoYXBlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBwYXJzZXJLZXlzLm1hcCgoa2V5KSA9PiBwYXJzZXJNYXBba2V5XSksXG4gICAgICAgIGV4dHJhczogcGFyc2VyS2V5cyxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwID0gcGFyc2VyTWFwO1xuICAgICAgICB0aGlzLmlzUGFydGlhbCA9IGlzUGFydGlhbDtcbiAgICAgICAgdGhpcy5wYXJzZXJLZXlzID0gcGFyc2VyS2V5cztcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXM7XG4gICAgICAgIGlmICghXzEub2JqZWN0LnRlc3QoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBhLFxuICAgICAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgcGFyc2VyTWFwLCBpc1BhcnRpYWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gT2JqZWN0LmFzc2lnbih7fSwgYSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICAgICAgICB2YWx1ZS5sZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJzZXJNYXApIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBwYXJzZXJNYXBba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHBhcnNlci5lbnVtUGFyc2VkKGFba2V5XSk7XG4gICAgICAgICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiBzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3Iua2V5cy5wdXNoKCgwLCB1dGlsc18xLnNhZmVyU3RyaW5naWZ5KShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNtYWxsVmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YWx1ZVtrZXldID0gc21hbGxWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwibWlzc2luZ1Byb3BlcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICAgICAgICAgICAga2V5czogWygwLCB1dGlsc18xLnNhZmVyU3RyaW5naWZ5KShrZXkpXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQodmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hhcGVQYXJzZXIgPSBTaGFwZVBhcnNlcjtcbmNvbnN0IGlzUGFydGlhbCA9ICh0ZXN0U2hhcGUpID0+IHtcbiAgICByZXR1cm4gbmV3IF8xLlBhcnNlcihuZXcgU2hhcGVQYXJzZXIodGVzdFNoYXBlLCB0cnVlKSk7XG59O1xuZXhwb3J0cy5pc1BhcnRpYWwgPSBpc1BhcnRpYWw7XG4vKipcbiAqIEdvb2QgZm9yIGR1Y2sgdHlwaW5nIGFuIG9iamVjdCwgd2l0aCBvcHRpb25hbCB2YWx1ZXNcbiAqIEBwYXJhbSB0ZXN0U2hhcGUgU2hhcGUgb2YgdmFsaWRhdG9ycywgdG8gZW5zdXJlIHdlIG1hdGNoIHRoZSBzaGFwZVxuICovXG5leHBvcnRzLnBhcnRpYWwgPSBleHBvcnRzLmlzUGFydGlhbDtcbi8qKlxuICogR29vZCBmb3IgZHVjayB0eXBpbmcgYW4gb2JqZWN0XG4gKiBAcGFyYW0gdGVzdFNoYXBlIFNoYXBlIG9mIHZhbGlkYXRvcnMsIHRvIGVuc3VyZSB3ZSBtYXRjaCB0aGUgc2hhcGVcbiAqL1xuY29uc3QgaXNTaGFwZSA9ICh0ZXN0U2hhcGUpID0+IHtcbiAgICByZXR1cm4gbmV3IF8xLlBhcnNlcihuZXcgU2hhcGVQYXJzZXIodGVzdFNoYXBlLCBmYWxzZSkpO1xufTtcbmV4cG9ydHMuaXNTaGFwZSA9IGlzU2hhcGU7XG5jb25zdCBzaGFwZSA9ICh0ZXN0U2hhcGUpID0+ICgwLCBleHBvcnRzLmlzU2hhcGUpKHRlc3RTaGFwZSk7XG5leHBvcnRzLnNoYXBlID0gc2hhcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFwZVBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RyaW5nUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY2xhc3MgU3RyaW5nUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJTdHJpbmdcIixcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGlmICgoMCwgdXRpbHNfMS5pc1N0cmluZykoYSkpXG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYSk7XG4gICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoe1xuICAgICAgICAgICAgdmFsdWU6IGEsXG4gICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgIHBhcnNlcjogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJpbmdQYXJzZXIgPSBTdHJpbmdQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJpbmdQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuY29uc3QgQW55UGFyc2VyXzEgPSByZXF1aXJlKFwiLi9BbnlQYXJzZXJcIik7XG5jb25zdCBBcnJheVBhcnNlcl8xID0gcmVxdWlyZShcIi4vQXJyYXlQYXJzZXJcIik7XG5jb25zdCBCb29sUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9Cb29sUGFyc2VyXCIpO1xuY29uc3QgQ29uY2F0UGFyc2VyXzEgPSByZXF1aXJlKFwiLi9Db25jYXRQYXJzZXJcIik7XG5jb25zdCBEZWZhdWx0UGFyc2VyXzEgPSByZXF1aXJlKFwiLi9EZWZhdWx0UGFyc2VyXCIpO1xuY29uc3QgRnVuY3Rpb25QYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0Z1bmN0aW9uUGFyc2VyXCIpO1xuY29uc3QgR3VhcmRQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0d1YXJkUGFyc2VyXCIpO1xuY29uc3QgTWFwcGVkQVBhcnNlcl8xID0gcmVxdWlyZShcIi4vTWFwcGVkQVBhcnNlclwiKTtcbmNvbnN0IE1heWJlUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9NYXliZVBhcnNlclwiKTtcbmNvbnN0IE5hbWVkXzEgPSByZXF1aXJlKFwiLi9OYW1lZFwiKTtcbmNvbnN0IE5pbGxQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL05pbGxQYXJzZXJcIik7XG5jb25zdCBOdW1iZXJQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL051bWJlclBhcnNlclwiKTtcbmNvbnN0IE9iamVjdFBhcnNlcl8xID0gcmVxdWlyZShcIi4vT2JqZWN0UGFyc2VyXCIpO1xuY29uc3QgT3JQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL09yUGFyc2VyXCIpO1xuY29uc3QgU2hhcGVQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL1NoYXBlUGFyc2VyXCIpO1xuY29uc3QgU3RyaW5nUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9TdHJpbmdQYXJzZXJcIik7XG5jb25zdCB1dGlsc18yID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5mdW5jdGlvbiB1bndyYXBQYXJzZXIoYSkge1xuICAgIGlmIChhIGluc3RhbmNlb2YgUGFyc2VyKVxuICAgICAgICByZXR1cm4gdW53cmFwUGFyc2VyKGEucGFyc2VyKTtcbiAgICByZXR1cm4gYTtcbn1cbmNvbnN0IGVudW1QYXJzZWQgPSB7XG4gICAgcGFyc2VkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHZhbHVlIH07XG4gICAgfSxcbiAgICBpbnZhbGlkKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgfSxcbn07XG5jbGFzcyBQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWU6IFwiV3JhcHBlclwiLFxuICAgICAgICBjaGlsZHJlbjogW3BhcnNlcl0sXG4gICAgICAgIGV4dHJhczogW10sXG4gICAgfSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9UWVBFID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXN0ID0gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSh2YWx1ZSwgdXRpbHNfMi5ib29sZWFuT25QYXJzZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLnBhcnNlKGEsIG9uUGFyc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNBKGNoZWNrSXNBLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyc2VyKG5ldyBfMS5Jc0FQYXJzZXIoY2hlY2tJc0EsIG5hbWUpKTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlckFzU3RyaW5nKHBhcnNlckNvbWluZ0luKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHVud3JhcFBhcnNlcihwYXJzZXJDb21pbmdJbik7XG4gICAgICAgIGNvbnN0IHsgZGVzY3JpcHRpb246IHsgbmFtZSwgZXh0cmFzLCBjaGlsZHJlbiB9LCB9ID0gcGFyc2VyO1xuICAgICAgICBpZiAocGFyc2VyIGluc3RhbmNlb2YgU2hhcGVQYXJzZXJfMS5TaGFwZVBhcnNlcikge1xuICAgICAgICAgICAgcmV0dXJuIGAke25hbWV9PHske3BhcnNlci5kZXNjcmlwdGlvbi5jaGlsZHJlblxuICAgICAgICAgICAgICAgIC5tYXAoKHN1YlBhcnNlciwgaSkgPT4gYCR7U3RyaW5nKHBhcnNlci5kZXNjcmlwdGlvbi5leHRyYXNbaV0pIHx8IFwiP1wifToke1BhcnNlci5wYXJzZXJBc1N0cmluZyhzdWJQYXJzZXIpfWApXG4gICAgICAgICAgICAgICAgLmpvaW4oXCIsXCIpfX0+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VyIGluc3RhbmNlb2YgT3JQYXJzZXJfMS5PclBhcnNlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHVud3JhcFBhcnNlcihwYXJzZXIucGFyZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFN0cmluZyA9IFBhcnNlci5wYXJzZXJBc1N0cmluZyhwYXJlbnQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIE9yUGFyc2VyXzEuT3JQYXJzZXJzKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRTdHJpbmc7XG4gICAgICAgICAgICByZXR1cm4gYCR7bmFtZX08JHtwYXJlbnRTdHJpbmd9LC4uLj5gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZXIgaW5zdGFuY2VvZiBHdWFyZFBhcnNlcl8xLkd1YXJkUGFyc2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGV4dHJhc1swXSB8fCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VyIGluc3RhbmNlb2YgU3RyaW5nUGFyc2VyXzEuU3RyaW5nUGFyc2VyIHx8XG4gICAgICAgICAgICBwYXJzZXIgaW5zdGFuY2VvZiBPYmplY3RQYXJzZXJfMS5PYmplY3RQYXJzZXIgfHxcbiAgICAgICAgICAgIHBhcnNlciBpbnN0YW5jZW9mIE51bWJlclBhcnNlcl8xLk51bWJlclBhcnNlciB8fFxuICAgICAgICAgICAgcGFyc2VyIGluc3RhbmNlb2YgQm9vbFBhcnNlcl8xLkJvb2xQYXJzZXIgfHxcbiAgICAgICAgICAgIHBhcnNlciBpbnN0YW5jZW9mIEFueVBhcnNlcl8xLkFueVBhcnNlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VyIGluc3RhbmNlb2YgRnVuY3Rpb25QYXJzZXJfMS5GdW5jdGlvblBhcnNlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlciBpbnN0YW5jZW9mIE5pbGxQYXJzZXJfMS5OaWxQYXJzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VyIGluc3RhbmNlb2YgQXJyYXlQYXJzZXJfMS5BcnJheVBhcnNlcikge1xuICAgICAgICAgICAgcmV0dXJuIFwiQXJyYXk8dW5rbm93bj5cIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGVjaWZpZXJzID0gW1xuICAgICAgICAgICAgLi4uZXh0cmFzLm1hcCh1dGlsc18xLnNhZmVyU3RyaW5naWZ5KSxcbiAgICAgICAgICAgIC4uLmNoaWxkcmVuLm1hcChQYXJzZXIucGFyc2VyQXNTdHJpbmcpLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBzcGVjaWZpZXJzU3RyaW5nID0gYDwke3NwZWNpZmllcnMuam9pbihcIixcIil9PmA7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuU3RyaW5nID0gIWNoaWxkcmVuLmxlbmd0aCA/IFwiXCIgOiBgPD5gO1xuICAgICAgICByZXR1cm4gYCR7bmFtZX0ke3NwZWNpZmllcnNTdHJpbmd9YDtcbiAgICB9XG4gICAgdW5zYWZlQ2FzdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW51bVBhcnNlZCh2YWx1ZSk7XG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gc3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudmFsdWU7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHN0YXRlO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBGYWlsZWQgdHlwZTogJHtQYXJzZXIudmFsaWRhdG9yRXJyb3JBc1N0cmluZyhlcnJvcil9IGdpdmVuIGlucHV0ICR7KDAsIHV0aWxzXzEuc2FmZXJTdHJpbmdpZnkpKHZhbHVlKX1gKTtcbiAgICB9XG4gICAgY2FzdFByb21pc2UodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmVudW1QYXJzZWQodmFsdWUpO1xuICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIHN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdGF0ZS52YWx1ZSk7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihgRmFpbGVkIHR5cGU6ICR7UGFyc2VyLnZhbGlkYXRvckVycm9yQXNTdHJpbmcoZXJyb3IpfSBnaXZlbiBpbnB1dCAkeygwLCB1dGlsc18xLnNhZmVyU3RyaW5naWZ5KSh2YWx1ZSl9YCkpO1xuICAgIH1cbiAgICBtYXAoZm4sIG1hcHBpbmdOYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyc2VyKG5ldyBNYXBwZWRBUGFyc2VyXzEuTWFwcGVkQVBhcnNlcih0aGlzLCBmbiwgbWFwcGluZ05hbWUpKTtcbiAgICB9XG4gICAgY29uY2F0KG90aGVyUGFyc2VyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyc2VyKENvbmNhdFBhcnNlcl8xLkNvbmNhdFBhcnNlcnMub2YodGhpcywgbmV3IFBhcnNlcihvdGhlclBhcnNlcikpKTtcbiAgICB9XG4gICAgb3JQYXJzZXIob3RoZXJQYXJzZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZXIobmV3IE9yUGFyc2VyXzEuT3JQYXJzZXJzKHRoaXMsIG5ldyBQYXJzZXIob3RoZXJQYXJzZXIpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCB3ZSBoYW5kbGUgdGhlIG51bGwgbGF0ZXIgb24gaW4gYSBtb25vaWQgZmFzaGlvbixcbiAgICAgKiBhbmQgdGhpcyBlbnN1cmVzIHdlIGRlYWwgd2l0aCB0aGUgdmFsdWVcbiAgICAgKi9cbiAgICBvcHRpb25hbChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyc2VyKG5ldyBNYXliZVBhcnNlcl8xLk1heWJlUGFyc2VyKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlcmUgYXJlIHRpbWVzIHRoYXQgd2Ugd291bGQgbGlrZSB0byBicmluZyBpbiBhIHZhbHVlIHRoYXQgd2Uga25vdyBhcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAqIGFuZCB3YW50IGl0IHRvIGdvIHRvIGEgZGVmYXVsdCB2YWx1ZVxuICAgICAqL1xuICAgIGRlZmF1bHRUbyhkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZXIobmV3IERlZmF1bHRQYXJzZXJfMS5EZWZhdWx0UGFyc2VyKG5ldyBQYXJzZXIobmV3IE1heWJlUGFyc2VyXzEuTWF5YmVQYXJzZXIodGhpcykpLCBkZWZhdWx0VmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2Ugd2FudCB0byB0ZXN0IHZhbHVlIHdpdGggYSB0ZXN0IGVnIGlzRXZlblxuICAgICAqL1xuICAgIHZhbGlkYXRlKGlzVmFsaWQsIG90aGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnNlcihDb25jYXRQYXJzZXJfMS5Db25jYXRQYXJzZXJzLm9mKHRoaXMsIG5ldyBQYXJzZXIobmV3IF8xLklzQVBhcnNlcihpc1ZhbGlkLCBvdGhlck5hbWUpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXZSB3YW50IHRvIHJlZmluZSB0byBhIG5ldyB0eXBlIGdpdmVuIGFuIG9yaWdpbmFsIHR5cGUsIGxpa2UgaXNFdmVuLCBvciBjYXN0aW5nIHRvIGEgbW9yZVxuICAgICAqIHNwZWNpZmljIHR5cGVcbiAgICAgKi9cbiAgICByZWZpbmUocmVmaW5lbWVudFRlc3QsIG90aGVyTmFtZSA9IHJlZmluZW1lbnRUZXN0Lm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZXIoQ29uY2F0UGFyc2VyXzEuQ29uY2F0UGFyc2Vycy5vZih0aGlzLCBuZXcgUGFyc2VyKG5ldyBfMS5Jc0FQYXJzZXIocmVmaW5lbWVudFRlc3QsIG90aGVyTmFtZSkpKSk7XG4gICAgfVxuICAgIG5hbWUobmFtZVN0cmluZykge1xuICAgICAgICByZXR1cm4gKDAsIE5hbWVkXzEucGFyc2VyTmFtZSkobmFtZVN0cmluZywgdGhpcyk7XG4gICAgfVxuICAgIGVudW1QYXJzZWQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UodmFsdWUsIGVudW1QYXJzZWQpO1xuICAgIH1cbiAgICB1bndyYXBwZWRQYXJzZXIoKSB7XG4gICAgICAgIGxldCBhbnN3ZXIgPSB0aGlzO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGFuc3dlci5wYXJzZXI7XG4gICAgICAgICAgICBpZiAobmV4dCBpbnN0YW5jZW9mIFBhcnNlcikge1xuICAgICAgICAgICAgICAgIGFuc3dlciA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUGFyc2VyID0gUGFyc2VyO1xuLyoqXG4gKiBUaGlzIGlzIHRoZSBsaW5lIG9mIGNvZGUgdGhhdCBjb3VsZCBiZSBvdmVyIHdyaXR0ZW4gaWZcbiAqIE9uZSB3b3VsZCBsaWtlIHRvIGhhdmUgYSBjdXN0b20gZXJyb3IgYXMgYW55IHNoYXBlXG4gKi9cblBhcnNlci52YWxpZGF0b3JFcnJvckFzU3RyaW5nID0gKGVycm9yKSA9PiB7XG4gICAgY29uc3QgeyBwYXJzZXIsIHZhbHVlLCBrZXlzIH0gPSBlcnJvcjtcbiAgICBjb25zdCBrZXlzU3RyaW5nID0gIWtleXMubGVuZ3RoXG4gICAgICAgID8gXCJcIlxuICAgICAgICA6IGtleXNcbiAgICAgICAgICAgIC5tYXAoKHgpID0+IGBbJHt4fV1gKVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAgICAgLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIGAke2tleXNTdHJpbmd9JHtQYXJzZXIucGFyc2VyQXNTdHJpbmcocGFyc2VyKX0oJHsoMCwgdXRpbHNfMS5zYWZlclN0cmluZ2lmeSkodmFsdWUpfSlgO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVW5rbm93blBhcnNlciA9IHZvaWQgMDtcbmNsYXNzIFVua25vd25QYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lOiBcIlVua25vd25cIixcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIHJldHVybiBvblBhcnNlLnBhcnNlZChhKTtcbiAgICB9XG59XG5leHBvcnRzLlVua25vd25QYXJzZXIgPSBVbmtub3duUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5rbm93blBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVnZXggPSBleHBvcnRzLmluc3RhbmNlT2YgPSBleHBvcnRzLnN0cmluZyA9IGV4cG9ydHMuaXNBcnJheSA9IGV4cG9ydHMub2JqZWN0ID0gZXhwb3J0cy5ib29sZWFuID0gZXhwb3J0cy5pc0Z1bmN0aW9uID0gZXhwb3J0cy5uYXR1cmFsID0gZXhwb3J0cy5pc05pbGwgPSBleHBvcnRzLm51bWJlciA9IGV4cG9ydHMudW5rbm93biA9IGV4cG9ydHMuYW55ID0gZXhwb3J0cy5ndWFyZCA9IHZvaWQgMDtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jb25zdCBBbnlQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0FueVBhcnNlclwiKTtcbmNvbnN0IEFycmF5UGFyc2VyXzEgPSByZXF1aXJlKFwiLi9BcnJheVBhcnNlclwiKTtcbmNvbnN0IEJvb2xQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0Jvb2xQYXJzZXJcIik7XG5jb25zdCBGdW5jdGlvblBhcnNlcl8xID0gcmVxdWlyZShcIi4vRnVuY3Rpb25QYXJzZXJcIik7XG5jb25zdCBOaWxsUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9OaWxsUGFyc2VyXCIpO1xuY29uc3QgTnVtYmVyUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9OdW1iZXJQYXJzZXJcIik7XG5jb25zdCBPYmplY3RQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL09iamVjdFBhcnNlclwiKTtcbmNvbnN0IFN0cmluZ1BhcnNlcl8xID0gcmVxdWlyZShcIi4vU3RyaW5nUGFyc2VyXCIpO1xuY29uc3QgVW5rbm93blBhcnNlcl8xID0gcmVxdWlyZShcIi4vVW5rbm93blBhcnNlclwiKTtcbi8qKlxuICogQ3JlYXRlIGEgY3VzdG9tIHR5cGUgZ3VhcmRcbiAqIEBwYXJhbSB0ZXN0IEEgZnVuY3Rpb24gdGhhdCB3aWxsIGRldGVybWluZSBydW50aW1lIGlmIHRoZSB2YWx1ZSBtYXRjaGVzXG4gKiBAcGFyYW0gdGVzdE5hbWUgQSBuYW1lIGZvciB0aGF0IGZ1bmN0aW9uLCB1c2VmdWwgd2hlbiBpdCBmYWlsc1xuICovXG5mdW5jdGlvbiBndWFyZCh0ZXN0LCB0ZXN0TmFtZSkge1xuICAgIHJldHVybiBfMS5QYXJzZXIuaXNBKHRlc3QsIHRlc3ROYW1lIHx8IHRlc3QubmFtZSk7XG59XG5leHBvcnRzLmd1YXJkID0gZ3VhcmQ7XG5leHBvcnRzLmFueSA9IG5ldyBfMS5QYXJzZXIobmV3IEFueVBhcnNlcl8xLkFueVBhcnNlcigpKTtcbmV4cG9ydHMudW5rbm93biA9IG5ldyBfMS5QYXJzZXIobmV3IFVua25vd25QYXJzZXJfMS5Vbmtub3duUGFyc2VyKCkpO1xuZXhwb3J0cy5udW1iZXIgPSBuZXcgXzEuUGFyc2VyKG5ldyBOdW1iZXJQYXJzZXJfMS5OdW1iZXJQYXJzZXIoKSk7XG5leHBvcnRzLmlzTmlsbCA9IG5ldyBfMS5QYXJzZXIobmV3IE5pbGxQYXJzZXJfMS5OaWxQYXJzZXIoKSk7XG5leHBvcnRzLm5hdHVyYWwgPSBleHBvcnRzLm51bWJlci5yZWZpbmUoKHgpID0+IHggPj0gMCAmJiB4ID09PSBNYXRoLmZsb29yKHgpKTtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IG5ldyBfMS5QYXJzZXIobmV3IEZ1bmN0aW9uUGFyc2VyXzEuRnVuY3Rpb25QYXJzZXIoKSk7XG5leHBvcnRzLmJvb2xlYW4gPSBuZXcgXzEuUGFyc2VyKG5ldyBCb29sUGFyc2VyXzEuQm9vbFBhcnNlcigpKTtcbmV4cG9ydHMub2JqZWN0ID0gbmV3IF8xLlBhcnNlcihuZXcgT2JqZWN0UGFyc2VyXzEuT2JqZWN0UGFyc2VyKCkpO1xuZXhwb3J0cy5pc0FycmF5ID0gbmV3IF8xLlBhcnNlcihuZXcgQXJyYXlQYXJzZXJfMS5BcnJheVBhcnNlcigpKTtcbmV4cG9ydHMuc3RyaW5nID0gbmV3IF8xLlBhcnNlcihuZXcgU3RyaW5nUGFyc2VyXzEuU3RyaW5nUGFyc2VyKCkpO1xuY29uc3QgaW5zdGFuY2VPZiA9IChjbGFzc0NyZWF0b3IpID0+IGd1YXJkKCh4KSA9PiB4IGluc3RhbmNlb2YgY2xhc3NDcmVhdG9yLCBgaXMke2NsYXNzQ3JlYXRvci5uYW1lfWApO1xuZXhwb3J0cy5pbnN0YW5jZU9mID0gaW5zdGFuY2VPZjtcbmNvbnN0IHJlZ2V4ID0gKHRlc3RlcikgPT4gZXhwb3J0cy5zdHJpbmcucmVmaW5lKGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHRlc3Rlci50ZXN0KHgpO1xufSwgdGVzdGVyLnRvU3RyaW5nKCkpO1xuZXhwb3J0cy5yZWdleCA9IHJlZ2V4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ltcGxlUGFyc2Vycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc29tZSA9IHZvaWQgMDtcbmNvbnN0IFNpbXBsZVBhcnNlcnNfMSA9IHJlcXVpcmUoXCIuL1NpbXBsZVBhcnNlcnNcIik7XG4vKipcbiAqIFVuaW9uIGlzIGEgZ29vZCB0b29sIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSB2YWxpZGF0ZWQgdmFsdWVcbiAqIGlzIGluIHRoZSB1bmlvbiBvZiBhbGwgdGhlIHZhbGlkYXRvcnMgcGFzc2VkIGluLiBCYXNpY2FsbHkgYW4gYG9yYFxuICogb3BlcmF0b3IgZm9yIHZhbGlkYXRvcnMuXG4gKi9cbmZ1bmN0aW9uIHNvbWUoLi4ucGFyc2Vycykge1xuICAgIGlmIChwYXJzZXJzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBTaW1wbGVQYXJzZXJzXzEuYW55O1xuICAgIH1cbiAgICBjb25zdCBmaXJzdCA9IHBhcnNlcnMuc3BsaWNlKDAsIDEpWzBdO1xuICAgIHJldHVybiBwYXJzZXJzLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IGxlZnQub3JQYXJzZXIocmlnaHQpLCBmaXJzdCk7XG59XG5leHBvcnRzLnNvbWUgPSBzb21lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29tZVBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXZlcnkgPSB2b2lkIDA7XG5jb25zdCBfMSA9IHJlcXVpcmUoXCIuXCIpO1xuLyoqXG4gKiBJbnRlcnNlY3Rpb24gaXMgYSBnb29kIHRvb2wgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHZhbGlkYXRlZCB2YWx1ZVxuICogaXMgaW4gdGhlIGludGVyc2VjdGlvbiBvZiBhbGwgdGhlIHZhbGlkYXRvcnMgcGFzc2VkIGluLiBCYXNpY2FsbHkgYW4gYGFuZGBcbiAqIG9wZXJhdG9yIGZvciB2YWxpZGF0b3JzXG4gKi9cbmZ1bmN0aW9uIGV2ZXJ5KC4uLnBhcnNlcnMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZFBhcnNlcnMgPSBwYXJzZXJzLmZpbHRlcigoeCkgPT4geCAhPT0gXzEuYW55KTtcbiAgICBpZiAoZmlsdGVyZWRQYXJzZXJzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBfMS5hbnk7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0ID0gZmlsdGVyZWRQYXJzZXJzLnNwbGljZSgwLCAxKVswXTtcbiAgICByZXR1cm4gZmlsdGVyZWRQYXJzZXJzLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGxlZnQuY29uY2F0KHJpZ2h0KTtcbiAgICB9LCBmaXJzdCk7XG59XG5leHBvcnRzLmV2ZXJ5ID0gZXZlcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVyeVBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGljdGlvbmFyeSA9IGV4cG9ydHMuRGljdGlvbmFyeVBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jbGFzcyBEaWN0aW9uYXJ5UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXJzLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJEaWN0aW9uYXJ5XCIsXG4gICAgICAgIGNoaWxkcmVuOiBwYXJzZXJzLnJlZHVjZSgoYWNjLCBbaywgdl0pID0+IHtcbiAgICAgICAgICAgIGFjYy5wdXNoKGssIHYpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pLFxuICAgICAgICBleHRyYXM6IFtdLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5wYXJzZXJzID0gcGFyc2VycztcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBwYXJzZShhLCBvblBhcnNlKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyc2VycyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcGFyc2VyID0gdGhpcztcbiAgICAgICAgY29uc3QgYW5zd2VyID0gT2JqZWN0LmFzc2lnbih7fSwgYSk7XG4gICAgICAgIG91dGVyOiBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VFcnJvciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5UGFyc2VyLCB2YWx1ZVBhcnNlcl0gb2YgcGFyc2Vycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudW1TdGF0ZSA9IGtleVBhcnNlci5lbnVtUGFyc2VkKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiBlbnVtU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gZW51bVN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmtleXMucHVzaChcIlwiICsga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VFcnJvci5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IGVudW1TdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZVN0YXRlID0gdmFsdWVQYXJzZXIuZW51bVBhcnNlZChhW2tleV0pO1xuICAgICAgICAgICAgICAgIGlmIChcImVycm9yXCIgaW4gdmFsdWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSB2YWx1ZVN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5rZXlzLnB1c2goXCJcIiArIG5ld0tleSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRXJyb3IudW5zaGlmdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgYW5zd2VyW2tleV07XG4gICAgICAgICAgICAgICAgYW5zd2VyW25ld0tleV0gPSB2YWx1ZVN0YXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBwYXJzZUVycm9yWzBdO1xuICAgICAgICAgICAgaWYgKCEhZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb25QYXJzZS5pbnZhbGlkKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYW5zd2VyKTtcbiAgICB9XG59XG5leHBvcnRzLkRpY3Rpb25hcnlQYXJzZXIgPSBEaWN0aW9uYXJ5UGFyc2VyO1xuY29uc3QgZGljdGlvbmFyeSA9ICguLi5wYXJzZXJzKSA9PiB7XG4gICAgcmV0dXJuIF8xLm9iamVjdC5jb25jYXQobmV3IERpY3Rpb25hcnlQYXJzZXIoWy4uLnBhcnNlcnNdKSk7XG59O1xuZXhwb3J0cy5kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpY3Rpb25hcnlQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnR1cGxlID0gZXhwb3J0cy5UdXBsZVBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuY2xhc3MgVHVwbGVQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlcnMsIGxlbmd0aE1hdGNoZXIgPSAoMCwgXzEubGl0ZXJhbCkocGFyc2Vycy5sZW5ndGgpLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJUdXBsZVwiLFxuICAgICAgICBjaGlsZHJlbjogcGFyc2VycyxcbiAgICAgICAgZXh0cmFzOiBbXSxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMucGFyc2VycyA9IHBhcnNlcnM7XG4gICAgICAgIHRoaXMubGVuZ3RoTWF0Y2hlciA9IGxlbmd0aE1hdGNoZXI7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoaW5wdXQsIG9uUGFyc2UpIHtcbiAgICAgICAgY29uc3QgdHVwbGVFcnJvciA9IF8xLmlzQXJyYXkuZW51bVBhcnNlZChpbnB1dCk7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gdHVwbGVFcnJvcilcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQodHVwbGVFcnJvci5lcnJvcik7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGlucHV0O1xuICAgICAgICBjb25zdCBzdGF0ZUNoZWNrID0gdGhpcy5sZW5ndGhNYXRjaGVyLmVudW1QYXJzZWQodmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gc3RhdGVDaGVjaykge1xuICAgICAgICAgICAgc3RhdGVDaGVjay5lcnJvci5rZXlzLnB1c2goKDAsIHV0aWxzXzEuc2FmZXJTdHJpbmdpZnkpKFwibGVuZ3RoXCIpKTtcbiAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQoc3RhdGVDaGVjay5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5zd2VyID0gbmV3IEFycmF5KHRoaXMucGFyc2Vycy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnBhcnNlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2Vyc1trZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5lbnVtUGFyc2VkKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChcImVycm9yXCIgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGVycm9yLmtleXMucHVzaCgoMCwgdXRpbHNfMS5zYWZlclN0cmluZ2lmeSkoa2V5KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbnN3ZXJba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYW5zd2VyKTtcbiAgICB9XG59XG5leHBvcnRzLlR1cGxlUGFyc2VyID0gVHVwbGVQYXJzZXI7XG5mdW5jdGlvbiB0dXBsZSguLi5wYXJzZXJzKSB7XG4gICAgcmV0dXJuIG5ldyBfMS5QYXJzZXIobmV3IFR1cGxlUGFyc2VyKHBhcnNlcnMpKTtcbn1cbmV4cG9ydHMudHVwbGUgPSB0dXBsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVR1cGxlUGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcnJheU9mID0gZXhwb3J0cy5BcnJheU9mUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgXzEgPSByZXF1aXJlKFwiLlwiKTtcbi8qKlxuICogR2l2ZW4gYW4gb2JqZWN0LCB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB0aGUga2V5IGV4aXN0cyBhbmQgdGhhdCB0aGUgdmFsdWUgb25cbiAqIHRoZSBrZXkgbWF0Y2hlcyB0aGUgcGFyc2VyXG4gKiBOb3RlOiBUaGlzIHdpbGwgbXV0YXRlIHRoZSB2YWx1ZSBzZW50IHRocm91Z2hcbiAqL1xuY2xhc3MgQXJyYXlPZlBhcnNlciB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZTogXCJBcnJheU9mXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbcGFyc2VyXSxcbiAgICAgICAgZXh0cmFzOiBbXSxcbiAgICB9KSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIHBhcnNlKGEsIG9uUGFyc2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gWy4uLmFdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdmFsdWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wYXJzZXIuZW51bVBhcnNlZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIGlmIChcImVycm9yXCIgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmVycm9yLmtleXMucHVzaChcIlwiICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvblBhcnNlLmludmFsaWQocmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9uUGFyc2UucGFyc2VkKHZhbHVlcyk7XG4gICAgfVxufVxuZXhwb3J0cy5BcnJheU9mUGFyc2VyID0gQXJyYXlPZlBhcnNlcjtcbi8qKlxuICogV2Ugd291bGQgbGlrZSB0byB2YWxpZGF0ZSB0aGF0IGFsbCBvZiB0aGUgYXJyYXkgaXMgb2YgdGhlIHNhbWUgdHlwZVxuICogQHBhcmFtIHZhbGlkYXRvciBXaGF0IGlzIHRoZSB2YWxpZGF0b3IgZm9yIHRoZSB2YWx1ZXMgaW4gdGhlIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGFycmF5T2YodmFsaWRhdG9yKSB7XG4gICAgcmV0dXJuIF8xLmlzQXJyYXkuY29uY2F0KG5ldyBBcnJheU9mUGFyc2VyKHZhbGlkYXRvcikpO1xufVxuZXhwb3J0cy5hcnJheU9mID0gYXJyYXlPZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycmF5T2ZQYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxpdGVyYWxzID0gZXhwb3J0cy5saXRlcmFsID0gZXhwb3J0cy5MaXRlcmFsc1BhcnNlciA9IHZvaWQgMDtcbmNvbnN0IFBhcnNlcl8xID0gcmVxdWlyZShcIi4vUGFyc2VyXCIpO1xuY2xhc3MgTGl0ZXJhbHNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlcywgZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWU6IFwiTGl0ZXJhbFwiLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGV4dHJhczogdmFsdWVzLFxuICAgIH0pIHtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcGFyc2UoYSwgb25QYXJzZSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZXMuaW5kZXhPZihhKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gb25QYXJzZS5wYXJzZWQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9uUGFyc2UuaW52YWxpZCh7XG4gICAgICAgICAgICB2YWx1ZTogYSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgcGFyc2VyOiB0aGlzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkxpdGVyYWxzUGFyc2VyID0gTGl0ZXJhbHNQYXJzZXI7XG5mdW5jdGlvbiBsaXRlcmFsKGlzRXF1YWxUb1ZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJzZXJfMS5QYXJzZXIobmV3IExpdGVyYWxzUGFyc2VyKFtpc0VxdWFsVG9WYWx1ZV0pKTtcbn1cbmV4cG9ydHMubGl0ZXJhbCA9IGxpdGVyYWw7XG5mdW5jdGlvbiBsaXRlcmFscyhmaXJzdFZhbHVlLCAuLi5yZXN0VmFsdWVzKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJzZXJfMS5QYXJzZXIobmV3IExpdGVyYWxzUGFyc2VyKFtmaXJzdFZhbHVlLCAuLi5yZXN0VmFsdWVzXSkpO1xufVxuZXhwb3J0cy5saXRlcmFscyA9IGxpdGVyYWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGl0ZXJhbFBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2hhcGUgPSBleHBvcnRzLnR1cGxlID0gZXhwb3J0cy5wYXJ0aWFsID0gZXhwb3J0cy5kaWN0aW9uYXJ5ID0gZXhwb3J0cy5zb21lID0gZXhwb3J0cy5ldmVyeSA9IGV4cG9ydHMuaXNOaWxsID0gZXhwb3J0cy5uYXR1cmFsID0gZXhwb3J0cy5hcnJheU9mID0gZXhwb3J0cy5yZWdleCA9IGV4cG9ydHMub2JqZWN0ID0gZXhwb3J0cy5udW1iZXIgPSBleHBvcnRzLmJvb2xlYW4gPSBleHBvcnRzLmlzRnVuY3Rpb24gPSBleHBvcnRzLnN0cmluZyA9IGV4cG9ydHMuaXNOdW1iZXIgPSBleHBvcnRzLmlzQXJyYXkgPSBleHBvcnRzLmluc3RhbmNlT2YgPSBleHBvcnRzLmxpdGVyYWxzID0gZXhwb3J0cy5hbnkgPSBleHBvcnRzLmd1YXJkID0gZXhwb3J0cy5saXRlcmFsID0gZXhwb3J0cy5QYXJzZXIgPSBleHBvcnRzLklzQVBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzTnVtYmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmlzTnVtYmVyOyB9IH0pO1xuY29uc3QgR3VhcmRQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0d1YXJkUGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSXNBUGFyc2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHdWFyZFBhcnNlcl8xLkd1YXJkUGFyc2VyOyB9IH0pO1xuY29uc3QgUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9QYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXJzZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBhcnNlcl8xLlBhcnNlcjsgfSB9KTtcbmNvbnN0IFNpbXBsZVBhcnNlcnNfMSA9IHJlcXVpcmUoXCIuL1NpbXBsZVBhcnNlcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJndWFyZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLmd1YXJkOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYW55XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTaW1wbGVQYXJzZXJzXzEuYW55OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTaW1wbGVQYXJzZXJzXzEuc3RyaW5nOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNGdW5jdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLmlzRnVuY3Rpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJib29sZWFuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTaW1wbGVQYXJzZXJzXzEuYm9vbGVhbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9iamVjdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLm9iamVjdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzQXJyYXlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFNpbXBsZVBhcnNlcnNfMS5pc0FycmF5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaW5zdGFuY2VPZlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLmluc3RhbmNlT2Y7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJudW1iZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFNpbXBsZVBhcnNlcnNfMS5udW1iZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdleFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLnJlZ2V4OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNOaWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTaW1wbGVQYXJzZXJzXzEuaXNOaWxsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibmF0dXJhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU2ltcGxlUGFyc2Vyc18xLm5hdHVyYWw7IH0gfSk7XG5jb25zdCBTb21lUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9Tb21lUGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic29tZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gU29tZVBhcnNlcl8xLnNvbWU7IH0gfSk7XG5jb25zdCBFdmVyeVBhcnNlcl8xID0gcmVxdWlyZShcIi4vRXZlcnlQYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJldmVyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gRXZlcnlQYXJzZXJfMS5ldmVyeTsgfSB9KTtcbmNvbnN0IERpY3Rpb25hcnlQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0RpY3Rpb25hcnlQYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkaWN0aW9uYXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBEaWN0aW9uYXJ5UGFyc2VyXzEuZGljdGlvbmFyeTsgfSB9KTtcbmNvbnN0IFNoYXBlUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9TaGFwZVBhcnNlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnRpYWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFNoYXBlUGFyc2VyXzEucGFydGlhbDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNoYXBlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTaGFwZVBhcnNlcl8xLnNoYXBlOyB9IH0pO1xuY29uc3QgVHVwbGVQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL1R1cGxlUGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidHVwbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFR1cGxlUGFyc2VyXzEudHVwbGU7IH0gfSk7XG5jb25zdCBBcnJheU9mUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9BcnJheU9mUGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYXJyYXlPZlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXlPZlBhcnNlcl8xLmFycmF5T2Y7IH0gfSk7XG5jb25zdCBMaXRlcmFsUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9MaXRlcmFsUGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibGl0ZXJhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTGl0ZXJhbFBhcnNlcl8xLmxpdGVyYWw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsaXRlcmFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTGl0ZXJhbFBhcnNlcl8xLmxpdGVyYWxzOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1hdGNoZXMgPSBleHBvcnRzLlZhbGlkYXRvciA9IHZvaWQgMDtcbmNvbnN0IHBhcnNlcnNfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJWYWxpZGF0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhcnNlcnNfMS5QYXJzZXI7IH0gfSk7XG5jb25zdCBOYW1lZF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9OYW1lZFwiKTtcbmNvbnN0IFNpbXBsZVBhcnNlcnNfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvU2ltcGxlUGFyc2Vyc1wiKTtcbmNsYXNzIE1hdGNoZWQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgd2hlbiguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWZhdWx0VG8oX2RlZmF1bHRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgZGVmYXVsdFRvTGF6eShfZ2V0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxufVxuY2xhc3MgTWF0Y2hNb3JlIHtcbiAgICBjb25zdHJ1Y3RvcihhKSB7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgfVxuICAgIHdoZW4oLi4uYXJncykge1xuICAgICAgICBjb25zdCBbb3V0Y29tZSwgLi4ubWF0Y2hlcnNdID0gYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgY29uc3QgcGFyc2VyID0gZXhwb3J0cy5tYXRjaGVzLnNvbWUoLi4ubWF0Y2hlcnMubWFwKChtYXRjaGVyKSA9PiBtYXRjaGVyIGluc3RhbmNlb2YgcGFyc2Vyc18xLlBhcnNlciA/IG1hdGNoZXIgOiAoMCwgcGFyc2Vyc18xLmxpdGVyYWwpKG1hdGNoZXIpKSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5lbnVtUGFyc2VkKHRoaXMuYSk7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gcmVzdWx0O1xuICAgICAgICBpZiAob3V0Y29tZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdGNoZWQob3V0Y29tZSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTWF0Y2hlZChvdXRjb21lKTtcbiAgICB9XG4gICAgZGVmYXVsdFRvKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZGVmYXVsdFRvTGF6eShnZXRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RpbmcgdGhhdCB2YWx1ZSBpcyBtYXRjaGVkXCIpO1xuICAgIH1cbn1cbi8qKlxuICogV2FudCB0byBiZSBhYmxlIHRvIGJyaW5nIGluIHRoZSBkZWNsYXJhdGl2ZSBuYXR1cmUgdGhhdCBhIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmdcbiAqIGxhbmd1YWdlIGZlYXR1cmUgb2YgdGhlIHBhdHRlcm4gbWF0Y2hpbmcgYW5kIHRoZSBzd2l0Y2ggc3RhdGVtZW50LiBXaXRoIHRoZSBkZXN0cnVjdG9yc1xuICogdGhlIG9ubHkgdGhpbmcgbGVmdCB3YXMgdG8gZmluZCB0aGUgY29ycmVjdCBzdHJ1Y3R1cmUgdGhlbiBtb3ZlIG1vdmUgZm9yd2FyZC5cbiAqIFVzaW5nIGEgc3RydWN0dXJlIGluIGNoYWluYWJsZSBmYXNoaW9uIGFsbG93cyBmb3IgYSBzeW50YXggdGhhdCB3b3JrcyB3aXRoIHR5cGVzY3JpcHRcbiAqIHdoaWxlIGxvb2tpbmcgc2ltaWxhciB0byBtYXRjaGVzIHN0YXRlbWVudHMgaW4gb3RoZXIgbGFuZ3VhZ2VzXG4gKlxuICogVXNlOiBtYXRjaGVzKCdhIHZhbHVlJykud2hlbihtYXRjaGVzLmlzTnVtYmVyLCAoYU51bWJlcikgPT4gYU51bWJlciArIDQpLmRlZmF1bHRUbygnZmFsbGJhY2sgdmFsdWUnKVxuICovXG5leHBvcnRzLm1hdGNoZXMgPSBPYmplY3QuYXNzaWduKGZ1bmN0aW9uIG1hdGNoZXNGbih2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgTWF0Y2hNb3JlKHZhbHVlKTtcbn0sIHtcbiAgICBhcnJheTogcGFyc2Vyc18xLmlzQXJyYXksXG4gICAgYXJyYXlPZjogcGFyc2Vyc18xLmFycmF5T2YsXG4gICAgc29tZTogcGFyc2Vyc18xLnNvbWUsXG4gICAgdHVwbGU6IHBhcnNlcnNfMS50dXBsZSxcbiAgICByZWdleDogcGFyc2Vyc18xLnJlZ2V4LFxuICAgIG51bWJlcjogcGFyc2Vyc18xLm51bWJlcixcbiAgICBuYXR1cmFsOiBwYXJzZXJzXzEubmF0dXJhbCxcbiAgICBpc0Z1bmN0aW9uOiBwYXJzZXJzXzEuaXNGdW5jdGlvbixcbiAgICBvYmplY3Q6IHBhcnNlcnNfMS5vYmplY3QsXG4gICAgc3RyaW5nOiBwYXJzZXJzXzEuc3RyaW5nLFxuICAgIHNoYXBlOiBwYXJzZXJzXzEuc2hhcGUsXG4gICAgcGFydGlhbDogcGFyc2Vyc18xLnBhcnRpYWwsXG4gICAgbGl0ZXJhbDogcGFyc2Vyc18xLmxpdGVyYWwsXG4gICAgZXZlcnk6IHBhcnNlcnNfMS5ldmVyeSxcbiAgICBndWFyZDogcGFyc2Vyc18xLmd1YXJkLFxuICAgIHVua25vd246IFNpbXBsZVBhcnNlcnNfMS51bmtub3duLFxuICAgIGFueTogcGFyc2Vyc18xLmFueSxcbiAgICBib29sZWFuOiBwYXJzZXJzXzEuYm9vbGVhbixcbiAgICBkaWN0aW9uYXJ5OiBwYXJzZXJzXzEuZGljdGlvbmFyeSxcbiAgICBsaXRlcmFsczogcGFyc2Vyc18xLmxpdGVyYWxzLFxuICAgIG5pbGw6IHBhcnNlcnNfMS5pc05pbGwsXG4gICAgaW5zdGFuY2VPZjogcGFyc2Vyc18xLmluc3RhbmNlT2YsXG4gICAgUGFyc2U6IHBhcnNlcnNfMS5QYXJzZXIsXG4gICAgcGFyc2VyTmFtZTogTmFtZWRfMS5wYXJzZXJOYW1lLFxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLm1hdGNoZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRjaGVzLmpzLm1hcCIsImltcG9ydCB7IE5ldHdvcmtJZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvTmV0d29ya0lkJ1xuaW1wb3J0IHsgVXNlcklkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VySWQnXG5pbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgbWF0Y2hlcywgeyBWYWxpZGF0b3IgfSBmcm9tICd0cy1tYXRjaGVzJ1xuaW1wb3J0IHsgdXNlV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL1N5c3RlbUhvb2tzJ1xuXG5leHBvcnQgdHlwZSBBY3Rpb24gPSB7XG4gIHR5cGU6IHN0cmluZ1xufSAmIEFjdGlvbk9wdGlvbnNcblxuZXhwb3J0IHR5cGUgQWN0aW9uUmVjaXBpZW50cyA9IFVzZXJJZCB8IFVzZXJJZFtdIHwgJ2FsbCcgfCAnbG9jYWwnXG5cbmV4cG9ydCB0eXBlIEFjdGlvbk9wdGlvbnMgPSB7XG4gIC8qKiBUaGUgdXNlciB3aG8gc2VudCB0aGlzIGFjdGlvbiAqL1xuICAkZnJvbT86IFVzZXJJZFxuICAvKipcbiAgICogVGhlIGludGVuZGVkIHJlY2lwaWVudHMgb2YgdGhpcyBhY3Rpb24uXG4gICAqL1xuICAkdG8/OiBBY3Rpb25SZWNpcGllbnRzXG4gIC8qKlxuICAgKiBUaGUgaW50ZW5kZWQgc2ltdWx0aW9uIChmaXhlZCkgdGljayBmb3IgdGhpcyBhY3Rpb24uXG4gICAqIElmIG1pc3NpbmcsIHRoZSBuZXh0IHNpbXVsYXRpb24gdGljayBpcyBhc3N1bWVkLlxuICAgKiBJZiB0aGlzIGFjdGlvbiBpcyByZWNlaXZlZCBsYXRlIChhZnRlciB0aGUgZGVzaXJlZCB0aWNrIGhhcyBwYXNzZWQpLFxuICAgKiBpdCBpcyBkaXNwYXRjaGVkIG9uIHRoZSBuZXh0IHRpY2suXG4gICAqL1xuICAkdGljaz86IG51bWJlclxufVxuXG50eXBlIEFjdGlvblNoYXBlPEE+ID0ge1xuICBba2V5IGluIGtleW9mIEFdOiBBW2tleV0gZXh0ZW5kcyBWYWxpZGF0b3I8dW5rbm93biwgdW5rbm93bj5cbiAgICA/IEFba2V5XVxuICAgIDogQVtrZXldIGV4dGVuZHMgc3RyaW5nXG4gICAgPyBzdHJpbmdcbiAgICA6IEFba2V5XSBleHRlbmRzIG51bWJlclxuICAgID8gbnVtYmVyXG4gICAgOiBBW2tleV0gZXh0ZW5kcyBNYXRjaGVzQ2FsbGJhY2s8dW5rbm93bj5cbiAgICA/IEFba2V5XVxuICAgIDogbmV2ZXJcbn1cblxudHlwZSBNYXRjaGVzQ2FsbGJhY2s8QT4gPSB7IG1hdGNoZXM6IFZhbGlkYXRvcjx1bmtub3duLCBBPjsgY2FsbGJhY2s6ICgpID0+IEEgfVxuXG5leHBvcnQgdHlwZSBSZXNvbHZlZEFjdGlvblNoYXBlPEEgZXh0ZW5kcyBBY3Rpb25TaGFwZTxhbnk+PiA9IHtcbiAgW2tleSBpbiBrZXlvZiBBXTogQVtrZXldIGV4dGVuZHMgVmFsaWRhdG9yPHVua25vd24sIGluZmVyIEI+XG4gICAgPyBWYWxpZGF0b3I8dW5rbm93biwgQj5cbiAgICA6IEFba2V5XSBleHRlbmRzIE1hdGNoZXNDYWxsYmFjazxpbmZlciBDPlxuICAgID8gVmFsaWRhdG9yPHVua25vd24sIEM+XG4gICAgOiBBW2tleV0gZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXJcbiAgICA/IFZhbGlkYXRvcjx1bmtub3duLCBBW2tleV0+XG4gICAgOiBuZXZlclxufVxuXG50eXBlIElzTnVsbGFibGU8VD4gPSBudWxsIGV4dGVuZHMgVCA/IHRydWUgOiB1bmRlZmluZWQgZXh0ZW5kcyBUID8gdHJ1ZSA6IGZhbHNlXG5cbnR5cGUgSnVzdE9wdGlvbmFsS2V5czxBIGV4dGVuZHMgQWN0aW9uU2hhcGU8YW55Pj4gPSB7XG4gIFtrZXkgaW4ga2V5b2YgQV06IEFba2V5XSBleHRlbmRzIFZhbGlkYXRvcjx1bmtub3duLCBpbmZlciBCPiA/ICh0cnVlIGV4dGVuZHMgSXNOdWxsYWJsZTxCPiA/IGtleSA6IG5ldmVyKSA6IG5ldmVyXG59W2tleW9mIEFdXG5cbnR5cGUgSnVzdFJlcXVpcmVkS2V5czxBIGV4dGVuZHMgQWN0aW9uU2hhcGU8YW55Pj4gPSB7XG4gIFtrZXkgaW4ga2V5b2YgQV06IEFba2V5XSBleHRlbmRzIFZhbGlkYXRvcjx1bmtub3duLCBpbmZlciBCPiA/ICh0cnVlIGV4dGVuZHMgSXNOdWxsYWJsZTxCPiA/IG5ldmVyIDoga2V5KSA6IG5ldmVyXG59W2tleW9mIEFdXG5cbnR5cGUgQWN0aW9uRnJvbVNoYXBlPFMgZXh0ZW5kcyBBY3Rpb25TaGFwZTxhbnk+PiA9IHtcbiAgW2tleSBpbiBrZXlvZiBTXTogU1trZXldIGV4dGVuZHMgVmFsaWRhdG9yPHVua25vd24sIHVua25vd24+XG4gICAgPyBTW2tleV1bJ19UWVBFJ11cbiAgICA6IFNba2V5XSBleHRlbmRzIE1hdGNoZXNDYWxsYmFjazxTW2tleV0+XG4gICAgPyBTW2tleV1bJ21hdGNoZXMnXVxuICAgIDogU1trZXldXG59XG5cbnR5cGUgSnVzdE9wdGlvbmFsczxTIGV4dGVuZHMgQWN0aW9uU2hhcGU8YW55Pj4gPSBPbWl0PFxuICBQYXJ0aWFsPFBpY2s8QWN0aW9uRnJvbVNoYXBlPFM+LCBKdXN0T3B0aW9uYWxLZXlzPFM+Pj4sXG4gIEp1c3RSZXF1aXJlZEtleXM8Uz5cbj5cbnR5cGUgSnVzdFJlcXVpcmVkPFMgZXh0ZW5kcyBBY3Rpb25TaGFwZTxhbnk+PiA9IE9taXQ8UGljazxBY3Rpb25Gcm9tU2hhcGU8Uz4sIEp1c3RSZXF1aXJlZEtleXM8Uz4+LCBKdXN0T3B0aW9uYWxLZXlzPFM+PlxuXG50eXBlIFBhcnRpYWxBY3Rpb248UyBleHRlbmRzIEFjdGlvblNoYXBlPGFueT4+ID0gT21pdDxKdXN0UmVxdWlyZWQ8Uz4gJiBKdXN0T3B0aW9uYWxzPFM+ICYgQWN0aW9uLCAndHlwZSc+XG5cbnR5cGUgRnJvbUFueVVzZXJWYWxpZGF0b3JzID0gJ21hdGNoZXNGcm9tQW55JyB8ICdtYXRjaGVzRnJvbVVzZXInXG5cbnR5cGUgQWN0aW9uQ3JlYXRvck9wdGlvbnM8UyBleHRlbmRzIEFjdGlvblNoYXBlPGFueT4sIEV4dGVuc2lvbnMsIEFsbG93RGlzcGF0Y2hGcm9tQW55IGV4dGVuZHMgYm9vbGVhbiB8IHZvaWQ+ID0ge1xuICBhbGxvd0Rpc3BhdGNoRnJvbUFueT86IEFsbG93RGlzcGF0Y2hGcm9tQW55XG4gIGV4dGVuc2lvbnM/OiAobWF0Y2hlczogVmFsaWRhdG9yPHVua25vd24sIHVua25vd24+KSA9PiBFeHRlbnNpb25zXG4gIGluaXRBY3Rpb24/OiAoYWN0aW9uOiBSZXF1aXJlZDxBY3Rpb25Gcm9tU2hhcGU8Uz4gJiBBY3Rpb24+KSA9PiB2b2lkXG59XG5cbnR5cGUgUmVzb2x2ZWRBY3Rpb25UeXBlPFMgZXh0ZW5kcyBBY3Rpb25TaGFwZTxhbnk+LCBBbGxvd0Rpc3BhdGNoRnJvbUFueSBleHRlbmRzIGJvb2xlYW4gfCB2b2lkPiA9IFJlcXVpcmVkPFxuICBBY3Rpb25Gcm9tU2hhcGU8Uz4gJiBBY3Rpb25cbj4gJlxuICAodHJ1ZSBleHRlbmRzIElzTnVsbGFibGU8QWxsb3dEaXNwYXRjaEZyb21Bbnk+XG4gICAgPyB7fVxuICAgIDogdHJ1ZSBleHRlbmRzIEFsbG93RGlzcGF0Y2hGcm9tQW55XG4gICAgPyB7IF9fQUxMT1dfRElTUEFUQ0hfRlJPTV9BTlk6IHRydWUgfVxuICAgIDoge30pXG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhY3Rpb25TaGFwZVxuICogQHBhcmFtIG9wdGlvbnNcbiAqXG4gKiBAYXV0aG9yIEdoZXJpYyBTcGVpZ2luZXIgPGdpdGh1Yi5jb20vc3BlaWdnPlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQWN0aW9uQ3JlYXRvcjxcbiAgQSBleHRlbmRzIEFjdGlvbixcbiAgU2hhcGUgZXh0ZW5kcyBBY3Rpb25TaGFwZTxBPixcbiAgRXh0ZW5zaW9ucyxcbiAgQWxsb3dEaXNwYXRjaEZyb21BbnkgZXh0ZW5kcyBib29sZWFuIHwgdm9pZCA9IHZvaWRcbj4oYWN0aW9uU2hhcGU6IEFjdGlvblNoYXBlPEE+LCBvcHRpb25zPzogQWN0aW9uQ3JlYXRvck9wdGlvbnM8U2hhcGUsIEV4dGVuc2lvbnMsIEFsbG93RGlzcGF0Y2hGcm9tQW55Pikge1xuICB0eXBlIFJlc29sdmVkQWN0aW9uID0gUmVzb2x2ZWRBY3Rpb25UeXBlPFJlc29sdmVkQWN0aW9uU2hhcGU8U2hhcGU+LCBBbGxvd0Rpc3BhdGNoRnJvbUFueT5cblxuICBjb25zdCBzaGFwZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhhY3Rpb25TaGFwZSlcblxuICAvLyBoYW5kbGUgY2FsbGJhY2sgc2hhcGUgcHJvcGVydGllc1xuICBjb25zdCBpbml0aWFsaXplckVudHJpZXMgPSBzaGFwZUVudHJpZXMuZmlsdGVyKChbaywgdl0pID0+IHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJiAnY2FsbGJhY2snIGluIHYpIGFzIEFycmF5PFxuICAgIFtzdHJpbmcsIE1hdGNoZXNDYWxsYmFjazxhbnk+XVxuICA+XG4gIGNvbnN0IGluaXRpYWxpemVyTWF0Y2hlcyA9IE9iamVjdC5mcm9tRW50cmllcyhpbml0aWFsaXplckVudHJpZXMubWFwKChbaywgdl0pID0+IFtrLCB2Lm1hdGNoZXNdKSlcblxuICAvLyBoYW5kbGUgbGl0ZXJhbCBzaGFwZSBwcm9wZXJ0aWVzXG4gIGNvbnN0IGxpdGVyYWxFbnRyaWVzID0gc2hhcGVFbnRyaWVzLmZpbHRlcigoW2ssIHZdKSA9PiB0eXBlb2YgdiAhPT0gJ29iamVjdCcpIGFzIEFycmF5PFtzdHJpbmcsIHN0cmluZyB8IG51bWJlcl0+XG4gIGNvbnN0IGxpdGVyYWxWYWxpZGF0b3JzID0gT2JqZWN0LmZyb21FbnRyaWVzKGxpdGVyYWxFbnRyaWVzLm1hcCgoW2ssIHZdKSA9PiBbaywgbWF0Y2hlcy5saXRlcmFsKHYpXSkpXG4gIGNvbnN0IHJlc29sdmVkQWN0aW9uU2hhcGUgPSBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb25TaGFwZSwgbGl0ZXJhbFZhbGlkYXRvcnMsIGluaXRpYWxpemVyTWF0Y2hlcykgYXMgYW55IC8vIGFzIFJlc29sdmVkQWN0aW9uU2hhcGU8U2hhcGU+XG4gIGNvbnN0IGFsbFZhbHVlc051bGwgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocmVzb2x2ZWRBY3Rpb25TaGFwZSkubWFwKChba10pID0+IFtrLCBudWxsXSkpXG5cbiAgY29uc3QgYWN0aW9uQ3JlYXRvciA9IChwYXJ0aWFsQWN0aW9uOiBQYXJ0aWFsQWN0aW9uPFNoYXBlPikgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxpemVyVmFsdWVzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgaW5pdGlhbGl6ZXJFbnRyaWVzLm1hcCgoW2ssIHZdKSA9PiBbaywgcGFydGlhbEFjdGlvbltrXSA/PyB2LmNhbGxiYWNrKCldKSBhcyBbc3RyaW5nLCBhbnldXG4gICAgKVxuICAgIHJldHVybiB7XG4gICAgICAuLi5hbGxWYWx1ZXNOdWxsLFxuICAgICAgLi4ucGFydGlhbEFjdGlvbixcbiAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhsaXRlcmFsRW50cmllcyksXG4gICAgICAuLi5pbml0aWFsaXplclZhbHVlc1xuICAgIH0gYXMgUmVzb2x2ZWRBY3Rpb25cbiAgfVxuXG4gIGNvbnN0IG1hdGNoZXNTaGFwZSA9IG1hdGNoZXMuc2hhcGUocmVzb2x2ZWRBY3Rpb25TaGFwZSkgYXMgVmFsaWRhdG9yPHVua25vd24sIFJlc29sdmVkQWN0aW9uPlxuXG4gIGFjdGlvbkNyZWF0b3IuYWN0aW9uU2hhcGUgPSBhY3Rpb25TaGFwZSBhcyBTaGFwZVxuICBhY3Rpb25DcmVhdG9yLnJlc29sdmVkQWN0aW9uU2hhcGUgPSByZXNvbHZlZEFjdGlvblNoYXBlXG4gIGFjdGlvbkNyZWF0b3IudHlwZSA9IGFjdGlvblNoYXBlLnR5cGVcbiAgYWN0aW9uQ3JlYXRvci5tYXRjaGVzID0gbWF0Y2hlcy5ldmVyeShtYXRjaGVzU2hhcGUsIG1hdGNoZXNBY3Rpb25Gcm9tSG9zdClcbiAgYWN0aW9uQ3JlYXRvci5tYXRjaGVzRnJvbUFueSA9IG1hdGNoZXNTaGFwZVxuICBhY3Rpb25DcmVhdG9yLm1hdGNoZXNGcm9tVXNlciA9ICh1c2VySWQ6IFVzZXJJZCkgPT4gbWF0Y2hlcy5ldmVyeShtYXRjaGVzU2hhcGUsIG1hdGNoZXNBY3Rpb25Gcm9tVXNlcih1c2VySWQpKVxuICBjb25zdCBtYXRjaEV4dGVuc2lvbnMgPSBvcHRpb25zPy5leHRlbnNpb25zPy4obWF0Y2hlc1NoYXBlKVxuICBPYmplY3QuYXNzaWduKGFjdGlvbkNyZWF0b3IsIG1hdGNoRXh0ZW5zaW9ucylcblxuICB0eXBlIFZhbGlkYXRvcktleXMgPSB0cnVlIGV4dGVuZHMgQWxsb3dEaXNwYXRjaEZyb21BbnkgPyBGcm9tQW55VXNlclZhbGlkYXRvcnMgOiAnbWF0Y2hlcydcbiAgdHlwZSBGdW5jdGlvblByb3BzID0gUGljazx0eXBlb2YgYWN0aW9uQ3JlYXRvciwgJ3R5cGUnIHwgJ2FjdGlvblNoYXBlJyB8IFZhbGlkYXRvcktleXM+ICYgRXh0ZW5zaW9uc1xuICByZXR1cm4gYWN0aW9uQ3JlYXRvciBhcyB1bmtub3duIGFzICgocGFydGlhbEFjdGlvbjogUGFydGlhbEFjdGlvbjxTaGFwZT4pID0+IFJlc29sdmVkQWN0aW9uKSAmIEZ1bmN0aW9uUHJvcHNcbn1cblxuLy8gY29uc3QgeCA9IHthbGxvd0Rpc3BhdGNoRnJvbUFueTogdW5kZWZpbmVkfVxuLy8gdHlwZSBWYWxpZGF0b3JLZXlzID0gdHJ1ZSBleHRlbmRzIEFsbG93RGlzcGF0Y2hGcm9tQW55ID8gRnJvbUFueVVzZXJWYWxpZGF0b3JzIDogbmV2ZXJcblxuY29uc3QgbWF0Y2hlc1ZlYzNTaGFwZSA9IG1hdGNoZXMuc2hhcGUoe1xuICB4OiBtYXRjaGVzLm51bWJlcixcbiAgeTogbWF0Y2hlcy5udW1iZXIsXG4gIHo6IG1hdGNoZXMubnVtYmVyXG59KVxuXG5jb25zdCBtYXRjaGVzUXVhdFNoYXBlID0gbWF0Y2hlcy5zb21lKFxuICBtYXRjaGVzLnNoYXBlKHtcbiAgICBfeDogbWF0Y2hlcy5udW1iZXIsXG4gICAgX3k6IG1hdGNoZXMubnVtYmVyLFxuICAgIF96OiBtYXRjaGVzLm51bWJlcixcbiAgICBfdzogbWF0Y2hlcy5udW1iZXJcbiAgfSksXG4gIG1hdGNoZXMuc2hhcGUoe1xuICAgIHg6IG1hdGNoZXMubnVtYmVyLFxuICAgIHk6IG1hdGNoZXMubnVtYmVyLFxuICAgIHo6IG1hdGNoZXMubnVtYmVyLFxuICAgIHc6IG1hdGNoZXMubnVtYmVyXG4gIH0pXG4pXG5cbmV4cG9ydCBjb25zdCBtYXRjaGVzVmVjdG9yMyA9IG1hdGNoZXMuZ3VhcmQoKHYpOiB2IGlzIFZlY3RvcjMgPT4gbWF0Y2hlc1ZlYzNTaGFwZS50ZXN0KHYpKVxuZXhwb3J0IGNvbnN0IG1hdGNoZXNRdWF0ZXJuaW9uID0gbWF0Y2hlcy5ndWFyZCgodik6IHYgaXMgUXVhdGVybmlvbiA9PiBtYXRjaGVzUXVhdFNoYXBlLnRlc3QodikpXG5leHBvcnQgY29uc3QgbWF0Y2hlc1VzZXJJZCA9IG1hdGNoZXMuc3RyaW5nIGFzIFZhbGlkYXRvcjx1bmtub3duLCBVc2VySWQ+XG5leHBvcnQgY29uc3QgbWF0Y2hlc05ldHdvcmtJZCA9IG1hdGNoZXMubnVtYmVyIGFzIFZhbGlkYXRvcjx1bmtub3duLCBOZXR3b3JrSWQ+XG5cbmV4cG9ydCBjb25zdCBtYXRjaGVzQWN0aW9uRnJvbVVzZXIgPSAodXNlcklkOiBVc2VySWQpID0+IHtcbiAgcmV0dXJuIG1hdGNoZXMuc2hhcGUoeyAkZnJvbTogbWF0Y2hlcy5saXRlcmFsKHVzZXJJZCkgfSlcbn1cblxuZXhwb3J0IGNvbnN0IG1hdGNoZXNBY3Rpb25Gcm9tSG9zdCA9IG1hdGNoZXMuZ3VhcmQoKHYpOiB2IGlzIHsgJGZyb206IFVzZXJJZCB9ID0+IHtcbiAgaWYgKHR5cGVvZiB2ICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlXG4gIGlmICh2ICYmICckZnJvbScgaW4gdikge1xuICAgIHJldHVybiB2WyckZnJvbSddID09PSB1c2VXb3JsZCgpLmhvc3RJZFxuICB9XG4gIHJldHVybiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IG1hdGNoZXNXaXRoSW5pdGlhbGl6ZXIgPSA8ViBleHRlbmRzIFZhbGlkYXRvcjx1bmtub3duLCBBPiwgQT4obWF0Y2hlczogViwgY2FsbGJhY2s6ICgpID0+IEEpID0+IHtcbiAgcmV0dXJuIHsgbWF0Y2hlcywgY2FsbGJhY2sgfVxufVxuXG5leHBvcnQgeyBtYXRjaGVzIH1cbiIsImltcG9ydCBtYXRjaGVzIGZyb20gJ3RzLW1hdGNoZXMnXG5pbXBvcnQgeyBBbmltYXRpb25BY3Rpb24sIEFuaW1hdGlvbkFjdGlvbkxvb3BTdHlsZXMsIEFuaW1hdGlvbkNsaXAsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IG1hdGNoZXNWZWN0b3IzIH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9pbnRlcmZhY2VzL0FjdGlvbidcblxuLyoqIFN0YXRlIG9mIHRoZSBhdmF0YXIgYW5pbWF0aW9uICovXG5cbmV4cG9ydCBjb25zdCBBdmF0YXJTdGF0ZXMgPSB7XG4gIERFRkFVTFQ6ICdERUZBVUxUJyxcbiAgSURMRTogJ0lETEUnLFxuICBXQUxLOiAnV0FMSycsXG4gIFJVTjogJ1JVTicsXG4gIEpVTVA6ICdKVU1QJyxcbiAgSU5URVJBQ1RJTkc6ICdJTlRFUkFDVElORycsXG4gIEVNT1RFOiAnRU1PVEUnLFxuICBMT09QQUJMRV9FTU9URTogJ0xPT1BBQkxFX0VNT1RFJ1xufVxuXG5leHBvcnQgY29uc3QgbWF0Y2hlc0F2YXRhclN0YXRlID0gbWF0Y2hlcy5zb21lKFxuICAuLi5PYmplY3Qua2V5cyhBdmF0YXJTdGF0ZXMpLm1hcCgoazoga2V5b2YgdHlwZW9mIEF2YXRhclN0YXRlcykgPT4gbWF0Y2hlcy5saXRlcmFsKGspKVxuKVxuXG5leHBvcnQgY29uc3QgQXZhdGFyQW5pbWF0aW9ucyA9IHtcbiAgLy8gSnVtcCBhbmQgZmFsbGluZ1xuICBKVU1QOiAnanVtcCcsXG4gIEZBTExJTkc6ICdmYWxsaW5nJyxcbiAgTEFORElOR19BRlRFUl9GQUxMOiAnZmFsbGluZ190b19sYW5kJyxcbiAgUk9MTElOR19BRlRFUl9GQUxMOiAnZmFsbGluZ190b19yb2xsJyxcblxuICAvLyBXYWxraW5nIGFuZCBydW5uaW5nXG4gIElETEU6ICdpZGxlJyxcbiAgRkFMTElOR19MT05HOiAnYWJjZCcsXG4gIFdBTEtfRk9SV0FSRDogJ3dhbGtfZm9yd2FyZCcsXG4gIFdBTEtfQkFDS1dBUkQ6ICd3YWxrX2JhY2t3YXJkJyxcbiAgV0FMS19TVFJBRkVfUklHSFQ6ICd3YWxrX3JpZ2h0JyxcbiAgV0FMS19TVFJBRkVfTEVGVDogJ3dhbGtfbGVmdCcsXG4gIFJVTl9GT1JXQVJEOiAncnVuX2ZvcndhcmQnLFxuICBSVU5fQkFDS1dBUkQ6ICdydW5fYmFja3dhcmQnLFxuICBSVU5fU1RSQUZFX1JJR0hUOiAncnVuX3JpZ2h0JyxcbiAgUlVOX1NUUkFGRV9MRUZUOiAncnVuX2xlZnQnLFxuXG4gIC8vIEVtb3Rlc1xuICBDTEFQOiAnY2xhcHBpbmcnLFxuICBEQU5DSU5HXzE6ICdkYW5jZTEnLFxuICBEQU5DSU5HXzI6ICdkYW5jZTInLFxuICBEQU5DSU5HXzM6ICdkYW5jZTMnLFxuICBEQU5DSU5HXzQ6ICdkYW5jZTQnLFxuICBMQVVHSDogJ2xhdWdoJyxcbiAgV0FWRTogJ3dhdmUnLFxuICBLSVNTOiAna2lzcycsXG4gIERFRkVBVDogJ2RlZmVhdCcsXG4gIFBBVVNFOiAncGF1c2UnLFxuICBDUlk6ICdjcnknXG59XG5cbmNvbnN0IG1hdGNoZXNNb3ZlbWVudFR5cGUgPSBtYXRjaGVzLnNoYXBlKHtcbiAgLyoqIFZlbG9jaXR5IG9mIHRoZSBhdmF0YXIgKi9cbiAgdmVsb2NpdHk6IG1hdGNoZXNWZWN0b3IzLFxuICAvKiogRGlzdGFuY2UgZnJvbSB0aGUgZ3JvdW5kIG9mIHRoZSBhdmF0YXIgKi9cbiAgZGlzdGFuY2VGcm9tR3JvdW5kOiBtYXRjaGVzLm51bWJlclxufSlcblxuLyoqIFR5cGUgb2YgbW92ZW1lbnQgb2YgdGhlIGF2YXRhciBpbiBhbnkgZ2l2ZW4gZnJhbWUgKi9cbmV4cG9ydCB0eXBlIE1vdmVtZW50VHlwZSA9IHR5cGVvZiBtYXRjaGVzTW92ZW1lbnRUeXBlLl9UWVBFXG5cbi8qKiBBbmltYXRpb24gdHlwZSAqL1xuZXhwb3J0IGVudW0gQW5pbWF0aW9uVHlwZSB7XG4gIC8qKiBTdGF0aWMgd2lsbCBiZSByZW5kZXJlZCBvbiBkZW1hbmQgKi9cbiAgU1RBVElDLFxuXG4gIC8qKiBUaGlzIHR5cGUgb2YgYW5pbWF0aW9uIHdpbGwgYmUgcmVuZHJlZCBiYXNlZCBvbiB0aGUgdmVsb2NpdHkgb2YgdGhlIGF2YXRhciAqL1xuICBWRUxPQ0lUWV9CQVNFRFxufVxuXG4vKiogVHlwZSBvZiBjYWxjdWxhdGUgd2VpZ2h0cyBtZXRob2QgcGFyYW1ldGVycyAqL1xuZXhwb3J0IGNvbnN0IG1hdGNoZXNXZWlnaHRzUGFyYW1ldGVycyA9IG1hdGNoZXMucGFydGlhbCh7XG4gIG1vdmVtZW50OiBtYXRjaGVzTW92ZW1lbnRUeXBlLFxuICByZXNldEFuaW1hdGlvbjogbWF0Y2hlcy5ib29sZWFuLFxuICBmb3JjZVRyYW5zaXRpb246IG1hdGNoZXMuYm9vbGVhblxufSlcblxuZXhwb3J0IHR5cGUgV2VpZ2h0c1BhcmFtZXRlclR5cGUgPSB7XG4gIC8qKiBNb3ZlbWVudCBvZiB0aGUgYXZhdGFyIGluIHRoZSBmcmFtZSAqL1xuICBtb3ZlbWVudDogTW92ZW1lbnRUeXBlXG5cbiAgLyoqIFdoZXRoZXIgcmVzZXQgY3VycnJlbnQgcGxheWluZyBhbmltYXRpb24uIFVzZWZ1bCB3aGlsZSBpbnRyYSBzdGF0ZSB0cmFuc2l0aW9uICovXG4gIHJlc2V0QW5pbWF0aW9uOiBib29sZWFuXG5cbiAgLyoqIFNraXAgdmFsaWRhdGlvbiBjaGVjayBhbmQgZm9yY2Ugc3RhdGUgdHJhbnNpdGlvbiAqL1xuICBmb3JjZVRyYW5zaXRpb246IGJvb2xlYW5cblxuICAvKiogT3RoZXIgZGF0YSB0byBiZSBwYXNzZWQgd2l0aCAqL1xuICBba2V5OiBzdHJpbmddOiBhbnlcbn1cblxuLyoqIEludGVyZmFjZSB0byBob2xkIGFuaW1hdGlvbiBkZXRhaWxzICovXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvbiB7XG4gIC8qKiBOYW1lIG9mIHRoZSBhbmltYXRpb24gd2hpY2ggbXVzdCBtYXRjaCB3aXRoIHRoZSBsb2FkZWQgYW5pbWF0aW9ucyAqL1xuICBuYW1lOiBzdHJpbmdcblxuICAvKiogV2VpZ2h0IG9mIHRoaXMgYW5pbWF0aW9uICovXG4gIHdlaWdodDogbnVtYmVyXG5cbiAgLyoqIFdlaWdodCB3aGVuIHRyYW5zaXRpb24gd2lsbCBzdGFydC4gVmFsdWUgd2lsbCBiZSB1c2VkIHRvIGludGVycG9sYXRlICovXG4gIHRyYW5zaXRpb25TdGFydFdlaWdodDogbnVtYmVyXG5cbiAgLyoqIFdlaWdodCB3aGVuIHRyYW5zaXRpb24gd2lsbCBlbmQuIFZhbHVlIHdpbGwgYmUgdXNlZCB0byBpbnRlcnBvbGF0ZSAqL1xuICB0cmFuc2l0aW9uRW5kV2VpZ2h0OiBudW1iZXJcblxuICAvKiogVHlwZSBvZiB0aGUgbG9vcCAqL1xuICBsb29wVHlwZTogQW5pbWF0aW9uQWN0aW9uTG9vcFN0eWxlc1xuXG4gIC8qKiBUb3RhbCBsb29wIGNvdW50cyAqL1xuICBsb29wQ291bnQ6IG51bWJlclxuXG4gIC8qKiBUaW1lIHNjYWxlIG9mIHRoZSBhbmltYXRpb24uIERlZmF1bHQgaXMgMS4gVmFsdWUgbGVzcyB0aGVuIDEgd2lsbCBzbG93IGRvd24gdGhlIGFuaW1hdGlvbi4gKi9cbiAgdGltZVNjYWxlOiBudW1iZXJcblxuICAvKiogQW5pbWF0aW9uIGNsaXAgZnJvbSB0aGUgbG9hZGVkIGFuaW1hdGlvbnMgKi9cbiAgY2xpcDogQW5pbWF0aW9uQ2xpcFxuXG4gIC8qKiBBbmltYXRpb24gYWN0aW9uIGZvciB0aGlzIGFuaW1hdGlvbiAqL1xuICBhY3Rpb246IEFuaW1hdGlvbkFjdGlvblxuXG4gIC8qKiBBIERlY29yYXRvciBmdW5jdGlvbiB0byBhcHBseSBjdXN0b20gYmVoYXZpb3VyIHRvIHRoZSBhbmltYXRpb24gYWN0aW9uICovXG4gIGRlY29yYXRlQWN0aW9uOiAoYWN0aW9uOiBBbmltYXRpb25BY3Rpb24pID0+IHZvaWRcbn1cbiIsImltcG9ydCB7IEFuaW1hdGlvbkFjdGlvbiwgTG9vcE9uY2UsIExvb3BSZXBlYXQsIE1hdGhVdGlscyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgQW5pbWF0aW9uLCBBbmltYXRpb25UeXBlLCBXZWlnaHRzUGFyYW1ldGVyVHlwZSwgQXZhdGFyQW5pbWF0aW9ucywgQXZhdGFyU3RhdGVzIH0gZnJvbSAnLi9VdGlsJ1xuXG4vKiogQ2xhc3MgdG8gaG9sZCBzdGF0ZSBvZiBhbiBhbmltYXRpb24gZm9yIGVudGl0eSAqL1xuZXhwb3J0IGNsYXNzIEFuaW1hdGlvblN0YXRlIHtcbiAgLyoqIE5hbWUgb2YgdGhlIGFuaW1hdGlvbiBzdGF0ZSAqL1xuICBuYW1lOiBzdHJpbmdcblxuICAvKiogVHlwZSBvZiB0aGUgYW5pbWF0aW9uIHN0YXRlICovXG4gIHR5cGU6IEFuaW1hdGlvblR5cGUgPSBBbmltYXRpb25UeXBlLlNUQVRJQ1xuXG4gIC8qKiBTdGF0ZSB0byB3aGljaCB0cmFuc2l0aW9uIGNhbiBoYXBwZW4gKi9cbiAgbmV4dFN0YXRlczogdHlwZW9mIEFuaW1hdGlvblN0YXRlW10gPSBbXVxuXG4gIC8qKiBBbmltYXRpb25zIG9mIHRoaXMgc3RhdGUgKi9cbiAgYW5pbWF0aW9uczogQW5pbWF0aW9uW10gPSBbXVxuXG4gIC8qKiBUaW1lIGVsYXBzZWQgc2luY2UgbGFzdCB3ZWlnaHQgdXBkYXRlLiAqL1xuICB0aW1lRWxhcHNlZFNpbmNlVXBkYXRlOiBudW1iZXIgPSAwXG5cbiAgLyoqIER1cmF0aW9uIGZvciB3aGljaCB0cmFuc2l0aW9uIGZyb20gdGhpcyBzdGF0ZSBpcyBwYXVzZWQgKi9cbiAgcGF1c2VUcmFuc2l0aW9uRHVyYXRpb246IG51bWJlclxuXG4gIC8qKiBEdXJhdGlvbiBpbiBzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSB0cmFuc2l0aW9uIHdpbGwgYmUgY29tcGxldGVkICovXG4gIHRyYW5zaXRpb25EdXJhdGlvbiA9IDFcblxuICAvKiogQWZ0ZXIgZmluaXNpbmcgdGhlIGFuaW1hdGlvbiBhdXRvbWF0aWNhbGx5IHRyYW5zaXRpb24gdG8gdGhlIGdpdmVuIHN0YXRlICovXG4gIGF1dG9UcmFuc2l0aW9uVG86IHN0cmluZyAvLyBUT0RPIHNob3VsZCBhdXRvVHJhbnNpdGlvblRvIGJlIG51bGxhYmxlP1xuXG4gIC8qKiBQYXJhbWV0ZXJzIHRvIHVwZGF0ZSB0aGUgd2VpZ2h0cyBvZiB0aGUgYW5pbWF0aW9uIGluIHRoZSBzdGF0ZSAqL1xuICB3ZWlnaHRQYXJhbXM6IFdlaWdodHNQYXJhbWV0ZXJUeXBlXG5cbiAgLyoqIFBsYXlzIHRoZSBhbmltYXRpb25zIGFzIHNvb24gYXMgdGhlIHN0YXRlIGlzIG1vdW50ZWQgdG8ga2VlcCBhbmltYXRpb25zIGluIHN5bmMgd2l0aCBlYWNoIG90aGVyICovXG4gIHN5bmNBY3Rpb25zOiBib29sZWFuXG5cbiAgLyoqIFVwZGF0ZXMgdGhlIHdlaWdodCBvZiBhbGwgdGhlIGFuaW1hdGlvbnMgaW4gdGhlIHN0YXRlIGJhc2VkIG9uIHRoZSBwYXJhbXMgcHJvdmlkZWRcbiAgICogQHBhcmFtIHBhcmFtcyBQYXJhbXMgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB3aWVnaHRzXG4gICAqL1xuICB1cGRhdGVXZWlnaHRzPzogKCkgPT4gdm9pZFxuXG4gIC8qKiBSZXR1cm5zIHRoZSB0b3RhbCBzdW0gb2Ygd2VpZ2h0cyBhbGwgdGhlIGFuaW1hdGlvbiBhdCBjdXJyZW50IHRpbWUgKi9cbiAgZ2V0VG90YWxXZWlnaHRzT2ZBbmltYXRpb25zID0gKCkgPT4ge1xuICAgIGxldCB3ZWlnaHQgPSAwXG4gICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGEpID0+ICh3ZWlnaHQgKz0gTnVtYmVyLmlzTmFOKGEud2VpZ2h0KSA/IDAgOiBhLndlaWdodCkpXG5cbiAgICByZXR1cm4gd2VpZ2h0XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvb3BhYmxlRW1vdGVTdGF0ZSBleHRlbmRzIEFuaW1hdGlvblN0YXRlIHtcbiAgbmFtZSA9IEF2YXRhclN0YXRlcy5MT09QQUJMRV9FTU9URVxuICB0eXBlID0gQW5pbWF0aW9uVHlwZS5TVEFUSUNcbiAgYW5pbWF0aW9uczogQW5pbWF0aW9uW10gPSBbXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5EQU5DSU5HXzEsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5EQU5DSU5HXzIsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5EQU5DSU5HXzMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5EQU5DSU5HXzQsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdFxuICAgIH0gYXMgYW55XG4gIF1cblxuICB1cGRhdGVXZWlnaHRzID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICghdGhpcy53ZWlnaHRQYXJhbXMuYW5pbWF0aW9uTmFtZSkgcmV0dXJuXG5cbiAgICB0aGlzLndlaWdodFBhcmFtcy5pbnRlcnBvbGF0ZSA9IHRydWVcblxuICAgIHRoaXMudGltZUVsYXBzZWRTaW5jZVVwZGF0ZSA9IDBcblxuICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhKSA9PiB7XG4gICAgICBpZiAodGhpcy53ZWlnaHRQYXJhbXMuYW5pbWF0aW9uTmFtZSA9PT0gYS5uYW1lKSB7XG4gICAgICAgIGEudHJhbnNpdGlvblN0YXJ0V2VpZ2h0ID0gYS53ZWlnaHRcbiAgICAgICAgYS50cmFuc2l0aW9uRW5kV2VpZ2h0ID0gMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYS50cmFuc2l0aW9uU3RhcnRXZWlnaHQgPSBhLndlaWdodFxuICAgICAgICBhLnRyYW5zaXRpb25FbmRXZWlnaHQgPSAwXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1vdGVTdGF0ZSBleHRlbmRzIEFuaW1hdGlvblN0YXRlIHtcbiAgbmFtZSA9IEF2YXRhclN0YXRlcy5FTU9URVxuICB0eXBlID0gQW5pbWF0aW9uVHlwZS5TVEFUSUNcbiAgcGF1c2VUcmFuc2l0aW9uRHVyYXRpb24gPSAxMDAwMFxuICBhbmltYXRpb25zOiBBbmltYXRpb25bXSA9IFtcbiAgICB7XG4gICAgICBuYW1lOiBBdmF0YXJBbmltYXRpb25zLkNMQVAsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcE9uY2UsXG4gICAgICBkZWNvcmF0ZUFjdGlvbjogZnVuY3Rpb24gKGFjdGlvbjogQW5pbWF0aW9uQWN0aW9uKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ1RFU1Q6ICcrIHRoaXMubG9vcFR5cGUrJyAnKycgJyt0aGlzLmxvb3BDb3VudCk7XG4gICAgICAgIGFjdGlvbi5yZXNldCgpXG4gICAgICAgIGFjdGlvbi5zZXRMb29wKHRoaXMubG9vcFR5cGUsIHRoaXMubG9vcENvdW50KVxuICAgICAgICBhY3Rpb24uY2xhbXBXaGVuRmluaXNoZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBBdmF0YXJBbmltYXRpb25zLkNSWSxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgIGxvb3BUeXBlOiBMb29wT25jZSxcbiAgICAgIGRlY29yYXRlQWN0aW9uOiBmdW5jdGlvbiAoYWN0aW9uOiBBbmltYXRpb25BY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uLnJlc2V0KClcbiAgICAgICAgYWN0aW9uLnNldExvb3AodGhpcy5sb29wVHlwZSwgdGhpcy5sb29wQ291bnQpXG4gICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IEF2YXRhckFuaW1hdGlvbnMuS0lTUyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgIGxvb3BUeXBlOiBMb29wT25jZSxcbiAgICAgIGRlY29yYXRlQWN0aW9uOiBmdW5jdGlvbiAoYWN0aW9uOiBBbmltYXRpb25BY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uLnJlc2V0KClcbiAgICAgICAgYWN0aW9uLnNldExvb3AodGhpcy5sb29wVHlwZSwgdGhpcy5sb29wQ291bnQpXG4gICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IEF2YXRhckFuaW1hdGlvbnMuV0FWRSxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgIGxvb3BUeXBlOiBMb29wT25jZSxcbiAgICAgIGRlY29yYXRlQWN0aW9uOiBmdW5jdGlvbiAoYWN0aW9uOiBBbmltYXRpb25BY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uLnJlc2V0KClcbiAgICAgICAgYWN0aW9uLnNldExvb3AodGhpcy5sb29wVHlwZSwgdGhpcy5sb29wQ291bnQpXG4gICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IEF2YXRhckFuaW1hdGlvbnMuREVGRUFULFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgdGltZVNjYWxlOiAxLFxuICAgICAgbG9vcFR5cGU6IExvb3BPbmNlLFxuICAgICAgZGVjb3JhdGVBY3Rpb246IGZ1bmN0aW9uIChhY3Rpb246IEFuaW1hdGlvbkFjdGlvbikge1xuICAgICAgICBhY3Rpb24ucmVzZXQoKVxuICAgICAgICBhY3Rpb24uc2V0TG9vcCh0aGlzLmxvb3BUeXBlLCB0aGlzLmxvb3BDb3VudClcbiAgICAgICAgYWN0aW9uLmNsYW1wV2hlbkZpbmlzaGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5MQVVHSCxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgIGxvb3BUeXBlOiBMb29wT25jZSxcbiAgICAgIGRlY29yYXRlQWN0aW9uOiBmdW5jdGlvbiAoYWN0aW9uOiBBbmltYXRpb25BY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uLnJlc2V0KClcbiAgICAgICAgYWN0aW9uLnNldExvb3AodGhpcy5sb29wVHlwZSwgdGhpcy5sb29wQ291bnQpXG4gICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIF0gYXMgYW55XG5cbiAgdXBkYXRlV2VpZ2h0cyA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAoIXRoaXMud2VpZ2h0UGFyYW1zLmFuaW1hdGlvbk5hbWUpIHJldHVyblxuXG4gICAgdGhpcy53ZWlnaHRQYXJhbXMuaW50ZXJwb2xhdGUgPSB0cnVlXG5cbiAgICB0aGlzLnRpbWVFbGFwc2VkU2luY2VVcGRhdGUgPSAwXG5cbiAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgaWYgKHRoaXMud2VpZ2h0UGFyYW1zLmFuaW1hdGlvbk5hbWUgPT09IGEubmFtZSkge1xuICAgICAgICBhLnRyYW5zaXRpb25TdGFydFdlaWdodCA9IGEud2VpZ2h0XG4gICAgICAgIGEudHJhbnNpdGlvbkVuZFdlaWdodCA9IDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEudHJhbnNpdGlvblN0YXJ0V2VpZ2h0ID0gYS53ZWlnaHRcbiAgICAgICAgYS50cmFuc2l0aW9uRW5kV2VpZ2h0ID0gMFxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElkbGVTdGF0ZSBleHRlbmRzIEFuaW1hdGlvblN0YXRlIHtcbiAgbmFtZSA9IEF2YXRhclN0YXRlcy5JRExFXG4gIHR5cGUgPSBBbmltYXRpb25UeXBlLlZFTE9DSVRZX0JBU0VEXG4gIHRyYW5zaXRpb25EdXJhdGlvbiA9IDAuNVxuICBhbmltYXRpb25zOiBBbmltYXRpb25bXSA9IFtcbiAgICB7XG4gICAgICBuYW1lOiBBdmF0YXJBbmltYXRpb25zLklETEUsXG4gICAgICB3ZWlnaHQ6IDEsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdCxcbiAgICAgIGxvb3BDb3VudDogSW5maW5pdHlcbiAgICB9XG4gIF0gYXMgYW55XG5cbiAgdXBkYXRlV2VpZ2h0cyA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLndlaWdodFBhcmFtcy5pbnRlcnBvbGF0ZSA9IHRydWVcbiAgICB0aGlzLmFuaW1hdGlvbnNbMF0udHJhbnNpdGlvblN0YXJ0V2VpZ2h0ID0gdGhpcy5hbmltYXRpb25zWzBdLndlaWdodFxuICAgIHRoaXMuYW5pbWF0aW9uc1swXS50cmFuc2l0aW9uRW5kV2VpZ2h0ID0gMVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKdW1wU3RhdGUgZXh0ZW5kcyBBbmltYXRpb25TdGF0ZSB7XG4gIG5hbWUgPSBBdmF0YXJTdGF0ZXMuSlVNUFxuICB0eXBlID0gQW5pbWF0aW9uVHlwZS5WRUxPQ0lUWV9CQVNFRFxuICB0cmFuc2l0aW9uRHVyYXRpb24gPSAwLjJcbiAgYW5pbWF0aW9uczogQW5pbWF0aW9uW10gPSBbXG4gICAge1xuICAgICAgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5KVU1QLFxuICAgICAgd2VpZ2h0OiAxLFxuICAgICAgdGltZVNjYWxlOiAxLFxuICAgICAgbG9vcFR5cGU6IExvb3BPbmNlLFxuICAgICAgZGVjb3JhdGVBY3Rpb246IGZ1bmN0aW9uIChhY3Rpb246IEFuaW1hdGlvbkFjdGlvbikge1xuICAgICAgICBhY3Rpb24ucmVzZXQoKVxuICAgICAgICBhY3Rpb24uc2V0TG9vcCh0aGlzLmxvb3BUeXBlLCB0aGlzLmxvb3BDb3VudClcbiAgICAgICAgYWN0aW9uLmNsYW1wV2hlbkZpbmlzaGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgXSBhcyBhbnlcblxuICB1cGRhdGVXZWlnaHRzID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhKSA9PiAoYS53ZWlnaHQgPSAxKSlcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgV2Fsa1N0YXRlIGV4dGVuZHMgQW5pbWF0aW9uU3RhdGUge1xuICBuYW1lID0gQXZhdGFyU3RhdGVzLldBTEtcbiAgdHlwZSA9IEFuaW1hdGlvblR5cGUuVkVMT0NJVFlfQkFTRURcbiAgc3luY0FjdGlvbnMgPSB0cnVlXG4gIGFuaW1hdGlvbnM6IEFuaW1hdGlvbltdID0gW1xuICAgIHsgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5XQUxLX0ZPUldBUkQsIHdlaWdodDogMCwgdGltZVNjYWxlOiAxLCBsb29wVHlwZTogTG9vcFJlcGVhdCwgbG9vcENvdW50OiBJbmZpbml0eSB9LFxuICAgIHsgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5XQUxLX0JBQ0tXQVJELCB3ZWlnaHQ6IDAsIHRpbWVTY2FsZTogMSwgbG9vcFR5cGU6IExvb3BSZXBlYXQsIGxvb3BDb3VudDogSW5maW5pdHkgfSxcbiAgICB7XG4gICAgICBuYW1lOiBBdmF0YXJBbmltYXRpb25zLldBTEtfU1RSQUZFX0xFRlQsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdCxcbiAgICAgIGxvb3BDb3VudDogSW5maW5pdHlcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IEF2YXRhckFuaW1hdGlvbnMuV0FMS19TVFJBRkVfUklHSFQsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICB0aW1lU2NhbGU6IDEsXG4gICAgICBsb29wVHlwZTogTG9vcFJlcGVhdCxcbiAgICAgIGxvb3BDb3VudDogSW5maW5pdHlcbiAgICB9XG4gIF0gYXMgYW55XG5cbiAgdXBkYXRlV2VpZ2h0cyA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHZlbG9jaXR5LCBkaXN0YW5jZUZyb21Hcm91bmQgfSA9IHRoaXMud2VpZ2h0UGFyYW1zLm1vdmVtZW50XG5cbiAgICBjb25zdCBtYXhXZWlnaHQgPSBkaXN0YW5jZUZyb21Hcm91bmQgPyAwLjUgOiAxIC8vIEluIEFpciB3aWVnaHRcblxuICAgIGlmICh2ZWxvY2l0eS54ID4gMCkge1xuICAgICAgdGhpcy5hbmltYXRpb25zWzJdLndlaWdodCA9IE1hdGhVdGlscy5jbGFtcChNYXRoVXRpbHMubWFwTGluZWFyKHZlbG9jaXR5LngsIDAsIDAuMDIsIDAsIG1heFdlaWdodCksIDAsIDEpXG4gICAgICB0aGlzLmFuaW1hdGlvbnNbM10ud2VpZ2h0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbnNbM10ud2VpZ2h0ID0gTWF0aFV0aWxzLmNsYW1wKE1hdGhVdGlscy5tYXBMaW5lYXIodmVsb2NpdHkueCwgMCwgLTAuMDIsIDAsIG1heFdlaWdodCksIDAsIDEpXG4gICAgICB0aGlzLmFuaW1hdGlvbnNbMl0ud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICh2ZWxvY2l0eS56ID4gMCkge1xuICAgICAgdGhpcy5hbmltYXRpb25zWzBdLndlaWdodCA9IE1hdGhVdGlscy5jbGFtcChNYXRoVXRpbHMubWFwTGluZWFyKHZlbG9jaXR5LnosIDAsIDAuMDIsIDAsIG1heFdlaWdodCksIDAsIDEpXG4gICAgICB0aGlzLmFuaW1hdGlvbnNbMV0ud2VpZ2h0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbnNbMV0ud2VpZ2h0ID0gTWF0aFV0aWxzLmNsYW1wKE1hdGhVdGlscy5tYXBMaW5lYXIodmVsb2NpdHkueiwgMCwgLTAuMDIsIDAsIG1heFdlaWdodCksIDAsIDEpXG4gICAgICB0aGlzLmFuaW1hdGlvbnNbMF0ud2VpZ2h0ID0gMFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUnVuU3RhdGUgZXh0ZW5kcyBBbmltYXRpb25TdGF0ZSB7XG4gIG5hbWUgPSBBdmF0YXJTdGF0ZXMuUlVOXG4gIHR5cGUgPSBBbmltYXRpb25UeXBlLlZFTE9DSVRZX0JBU0VEXG4gIHN5bmNBY3Rpb25zID0gdHJ1ZVxuICBhbmltYXRpb25zOiBBbmltYXRpb25bXSA9IFtcbiAgICB7IG5hbWU6IEF2YXRhckFuaW1hdGlvbnMuUlVOX0ZPUldBUkQsIHdlaWdodDogMCwgdGltZVNjYWxlOiAxLCBsb29wVHlwZTogTG9vcFJlcGVhdCwgbG9vcENvdW50OiBJbmZpbml0eSB9LFxuICAgIHsgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5SVU5fQkFDS1dBUkQsIHdlaWdodDogMCwgdGltZVNjYWxlOiAxLCBsb29wVHlwZTogTG9vcFJlcGVhdCwgbG9vcENvdW50OiBJbmZpbml0eSB9LFxuICAgIHsgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5SVU5fU1RSQUZFX0xFRlQsIHdlaWdodDogMCwgdGltZVNjYWxlOiAxLCBsb29wVHlwZTogTG9vcFJlcGVhdCwgbG9vcENvdW50OiBJbmZpbml0eSB9LFxuICAgIHsgbmFtZTogQXZhdGFyQW5pbWF0aW9ucy5SVU5fU1RSQUZFX1JJR0hULCB3ZWlnaHQ6IDAsIHRpbWVTY2FsZTogMSwgbG9vcFR5cGU6IExvb3BSZXBlYXQsIGxvb3BDb3VudDogSW5maW5pdHkgfVxuICBdIGFzIGFueVxuXG4gIHVwZGF0ZVdlaWdodHMgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB2ZWxvY2l0eSwgZGlzdGFuY2VGcm9tR3JvdW5kIH0gPSB0aGlzLndlaWdodFBhcmFtcy5tb3ZlbWVudFxuXG4gICAgY29uc3QgbWF4V2VpZ2h0ID0gZGlzdGFuY2VGcm9tR3JvdW5kID8gMC41IDogMSAvLyBJbiBBaXIgd2llZ2h0XG5cbiAgICBpZiAodmVsb2NpdHkueCA+IDApIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uc1syXS53ZWlnaHQgPSBNYXRoVXRpbHMuY2xhbXAoTWF0aFV0aWxzLm1hcExpbmVhcih2ZWxvY2l0eS54LCAwLCAwLjA0LCAwLCBtYXhXZWlnaHQpLCAwLCAxKVxuICAgICAgdGhpcy5hbmltYXRpb25zWzNdLndlaWdodCA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbmltYXRpb25zWzNdLndlaWdodCA9IE1hdGhVdGlscy5jbGFtcChNYXRoVXRpbHMubWFwTGluZWFyKHZlbG9jaXR5LngsIDAsIC0wLjA0LCAwLCBtYXhXZWlnaHQpLCAwLCAxKVxuICAgICAgdGhpcy5hbmltYXRpb25zWzJdLndlaWdodCA9IDBcbiAgICB9XG5cbiAgICBpZiAodmVsb2NpdHkueiA+IDApIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uc1swXS53ZWlnaHQgPSBNYXRoVXRpbHMuY2xhbXAoTWF0aFV0aWxzLm1hcExpbmVhcih2ZWxvY2l0eS56LCAwLCAwLjA4LCAwLCBtYXhXZWlnaHQpLCAwLCAxKVxuICAgICAgdGhpcy5hbmltYXRpb25zWzFdLndlaWdodCA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbmltYXRpb25zWzFdLndlaWdodCA9IE1hdGhVdGlscy5jbGFtcChNYXRoVXRpbHMubWFwTGluZWFyKHZlbG9jaXR5LnosIDAsIC0wLjA4LCAwLCBtYXhXZWlnaHQpLCAwLCAxKVxuICAgICAgdGhpcy5hbmltYXRpb25zWzBdLndlaWdodCA9IDBcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBOYW1lQ29tcG9uZW50VHlwZSA9IHtcbiAgbmFtZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBOYW1lQ29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PE5hbWVDb21wb25lbnRUeXBlPignTmFtZUNvbXBvbmVudCcpXG4iLCJleHBvcnQgdHlwZSBDb2xsaWRlclR5cGVzID0gJ2JveCcgfCAnZ3JvdW5kJyB8ICdzcGhlcmUnIHwgJ2NhcHN1bGUnIHwgJ2N5bGluZGVyJyB8ICdjb252ZXgnIHwgJ3RyaW1lc2gnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGh5c1hDb25maWcge1xuICBzdGVwVGltZT86IG51bWJlclxuICBsZW5ndGhTY2FsZT86IG51bWJlclxuICBzdGFydD86IGJvb2xlYW5cbiAgYm91bmNlVGhyZXNob2xkVmVsb2NpdHk/OiBudW1iZXJcbiAgdmVyYm9zZT86IGJvb2xlYW5cbiAgc3Vic3RlcHM/OiBudW1iZXJcbiAgZ3Jhdml0eT86IFZlYzNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWMzRnJhZ21lbnQge1xuICB4PzogbnVtYmVyXG4gIHk/OiBudW1iZXJcbiAgej86IG51bWJlclxufVxuZXhwb3J0IGludGVyZmFjZSBRdWF0RnJhZ21lbnQge1xuICB4PzogbnVtYmVyXG4gIHk/OiBudW1iZXJcbiAgej86IG51bWJlclxuICB3PzogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVjMyB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbiAgejogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVhdCB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbiAgejogbnVtYmVyXG4gIHc6IG51bWJlclxufVxuXG5leHBvcnQgZW51bSBCb2R5VHlwZSB7XG4gIFNUQVRJQyxcbiAgRFlOQU1JQyxcbiAgS0lORU1BVElDLFxuICBDT05UUk9MTEVSXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcGVPcHRpb25zIHtcbiAgdXNlckRhdGE/OiBhbnlcbiAgcmVzdE9mZnNldD86IG51bWJlclxuICBjb250YWN0T2Zmc2V0PzogbnVtYmVyXG4gIGlzVHJpZ2dlcj86IGJvb2xlYW5cbiAgY29sbGlzaW9uTGF5ZXI/OiBudW1iZXJcbiAgY29sbGlzaW9uTWFzaz86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvZHlDb25maWcge1xuICB0eXBlPzogQm9keVR5cGVcbiAgbWFzcz86IG51bWJlclxuICB1c2VDQ0Q/OiBib29sZWFuXG4gIGxpbmVhckRhbXBpbmc/OiBudW1iZXJcbiAgYW5ndWxhckRhbXBpbmc/OiBudW1iZXJcbiAgbGluZWFyVmVsb2NpdHk/OiBWZWMzXG4gIGFuZ3VsYXJWZWxvY2l0eT86IFZlYzNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSaWdpZEJvZHkgZXh0ZW5kcyBCb2R5Q29uZmlnIHtcbiAgdHJhbnNmb3JtOiBQaHlzWC5QeFRyYW5zZm9ybUxpa2VcbiAgc2hhcGVzOiBQaHlzWC5QeFNoYXBlW11cbiAgdXNlckRhdGE/OiBhbnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sbGVyUmlnaWRCb2R5IGV4dGVuZHMgUmlnaWRCb2R5IHtcbiAgX2RlYnVnTmVlZHNVcGRhdGU/OiBhbnlcbiAgX3NoYXBlOiBDb250cm9sbGVyQ29uZmlnXG4gIGNvbGxpc2lvbnM6IHsgZG93bjogYm9vbGVhbjsgc2lkZXM6IGJvb2xlYW47IHVwOiBib29sZWFuIH1cbiAgZGVsdGE6IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IHo6IG51bWJlciB9XG4gIHZlbG9jaXR5OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB6OiBudW1iZXIgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRyb2xsZXJDb25maWcge1xuICBpc0NhcHN1bGU6IGJvb2xlYW5cbiAgcG9zaXRpb246IFZlYzNGcmFnbWVudFxuICBtYXRlcmlhbDogUGh5c1guUHhNYXRlcmlhbFxuICB1c2VyRGF0YT86IGFueVxuICBzdGVwT2Zmc2V0PzogbnVtYmVyXG4gIGNvbnRhY3RPZmZzZXQ/OiBudW1iZXJcbiAgc2xvcGVMaW1pdD86IG51bWJlclxuICBtYXhKdW1wSGVpZ2h0PzogbnVtYmVyXG4gIGludmlzaWJsZVdhbGxIZWlnaHQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXBzdWxlQ29udHJvbGxlckNvbmZpZyBleHRlbmRzIENvbnRyb2xsZXJDb25maWcge1xuICBoZWlnaHQ6IG51bWJlclxuICByYWRpdXM6IG51bWJlclxuICBjbGltYmluZ01vZGU/OiBQaHlzWC5QeENhcHN1bGVDbGltYmluZ01vZGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCb3hDb250cm9sbGVyQ29uZmlnIGV4dGVuZHMgQ29udHJvbGxlckNvbmZpZyB7XG4gIGhhbGZGb3J3YXJkRXh0ZW50OiBudW1iZXJcbiAgaGFsZkhlaWdodDogbnVtYmVyXG4gIGhhbGZTaWRlRXh0ZW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnN0YWNsZUNvbmZpZyB7XG4gIGlzQ2Fwc3VsZTogYm9vbGVhblxuICBoYWxmRXh0ZW50czogVmVjM1xuICBoYWxmSGVpZ2h0OiBudW1iZXJcbiAgcmFkaXVzOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnN0YWNsZVR5cGUge1xuICBpc0NhcHN1bGU/OiBib29sZWFuXG59XG5cbmV4cG9ydCBlbnVtIFNjZW5lUXVlcnlUeXBlIHtcbiAgLy8gdG9kb1xuICAvLyBBbnksXG4gIC8vIE11bHRpcGxlLFxuICBDbG9zZXN0XG59XG5leHBvcnQgaW50ZXJmYWNlIFNjZW5lUXVlcnkge1xuICB0eXBlOiBTY2VuZVF1ZXJ5VHlwZVxuICBmbGFncz86IG51bWJlclxuICBjb2xsaXNpb25NYXNrPzogbnVtYmVyXG4gIG9yaWdpbj86IFZlYzNcbiAgZGlyZWN0aW9uPzogVmVjM1xuICBtYXhEaXN0YW5jZT86IG51bWJlclxuICBtYXhIaXRzPzogbnVtYmVyXG4gIGhpdHM/OiBSYXljYXN0SGl0W11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYXljYXN0SGl0IHtcbiAgZGlzdGFuY2U6IG51bWJlclxuICBwb3NpdGlvbjogVmVjM1xuICBub3JtYWw6IFZlYzNcbiAgYm9keT86IFJpZ2lkQm9keVxuICBfYm9keUlEOiBudW1iZXIgLy8gaW50ZXJuYWxcbn1cblxuZXhwb3J0IGVudW0gQ29udHJvbGxlckV2ZW50cyB7XG4gIENPTlRST0xMRVJfU0hBUEVfSElUID0gJ0NPTlRST0xMRVJfU0hBUEVfSElUJyxcbiAgQ09OVFJPTExFUl9DT05UUk9MTEVSX0hJVCA9ICdDT05UUk9MTEVSX0NPTlRST0xMRVJfSElUJyxcbiAgQ09OVFJPTExFUl9PQlNUQUNMRV9ISVQgPSAnQ09OVFJPTExFUl9PQlNUQUNMRV9ISVQnXG59XG5cbmV4cG9ydCBlbnVtIENvbGxpc2lvbkV2ZW50cyB7XG4gIENPTExJU0lPTl9TVEFSVCA9ICdDT0xMSVNJT05fU1RBUlQnLFxuICBDT0xMSVNJT05fUEVSU0lTVCA9ICdDT0xMSVNJT05fUEVSU0lTVCcsXG4gIENPTExJU0lPTl9FTkQgPSAnQ09MTElTSU9OX0VORCcsXG4gIFRSSUdHRVJfU1RBUlQgPSAnVFJJR0dFUl9TVEFSVCcsXG4gIFRSSUdHRVJfUEVSU0lTVCA9ICdUUklHR0VSX1BFUlNJU1QnLFxuICBUUklHR0VSX0VORCA9ICdUUklHR0VSX0VORCdcbn1cblxuZXhwb3J0IHR5cGUgQ29udHJvbGxlckhpdEV2ZW50ID0ge1xuICB0eXBlOiBDb250cm9sbGVyRXZlbnRzXG4gIHNoYXBlOiBQaHlzWC5QeFNoYXBlXG4gIGJvZHk6IFJpZ2lkQm9keVxuICBwb3NpdGlvbjogVmVjM1xuICBub3JtYWw6IFZlYzNcbiAgbGVuZ3RoOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgQ29udHJvbGxlck9ic3RhY2xlSGl0RXZlbnQgPSB7XG4gIHR5cGU6IENvbnRyb2xsZXJFdmVudHNcbiAgb2JzdGFjbGU6IE9ic3RhY2xlVHlwZVxuICBwb3NpdGlvbjogVmVjM1xuICBub3JtYWw6IFZlYzNcbiAgbGVuZ3RoOiBudW1iZXJcbn1cblxudHlwZSBDb250YWN0RGF0YSA9IHtcbiAgcG9pbnRzOiBWZWMzXG4gIG5vcm1hbDogVmVjM1xuICBpbXB1bHNlOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgQ29sbGlkZXJIaXRFdmVudCA9IHtcbiAgdHlwZTogQ29sbGlzaW9uRXZlbnRzXG4gIGJvZHlTZWxmOiBQaHlzWC5QeFJpZ2lkQWN0b3JcbiAgYm9keU90aGVyOiBQaHlzWC5QeFJpZ2lkQWN0b3JcbiAgc2hhcGVTZWxmOiBQaHlzWC5QeFNoYXBlXG4gIHNoYXBlT3RoZXI6IFBoeXNYLlB4U2hhcGVcbiAgY29udGFjdHM6IENvbnRhY3REYXRhW11cbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQ29sbGlkZXJIaXRFdmVudCwgQ29udHJvbGxlckhpdEV2ZW50LCBDb250cm9sbGVyT2JzdGFjbGVIaXRFdmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvdHlwZXMvUGh5c2ljc1R5cGVzJ1xuXG5leHBvcnQgdHlwZSBDb2xsaXNpb25Db21wb25lbnRUeXBlID0ge1xuICBjb2xsaXNpb25zOiAoQ29sbGlkZXJIaXRFdmVudCB8IENvbnRyb2xsZXJIaXRFdmVudCB8IENvbnRyb2xsZXJPYnN0YWNsZUhpdEV2ZW50KVtdXG59XG5cbmV4cG9ydCBjb25zdCBDb2xsaXNpb25Db21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8Q29sbGlzaW9uQ29tcG9uZW50VHlwZT4oJ0NvbGxpc2lvbkNvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IHR5cGUgU3Bhd25Qb3NlQ29tcG9uZW50VHlwZSA9IHtcbiAgcG9zaXRpb246IFZlY3RvcjNcbiAgcm90YXRpb246IFF1YXRlcm5pb25cbn1cblxuZXhwb3J0IGNvbnN0IFNwYXduUG9zZUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxTcGF3blBvc2VDb21wb25lbnRUeXBlPignU3Bhd25Qb3NlQ29tcG9uZW50JylcbiIsImltcG9ydCB7IEhvc3RVc2VySWQsIFVzZXJJZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcklkJ1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW5naW5lJ1xuaW1wb3J0IHsgQWN0aW9uLCBBY3Rpb25SZWNpcGllbnRzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9BY3Rpb24nXG5cbnR5cGUgQWxsb3dlZFVzZXI8QT4gPSBBIGV4dGVuZHMgeyBfX0FMTE9XX0RJU1BBVENIX0ZST01fQU5ZOiB0cnVlIH0gPyBVc2VySWQgOiBIb3N0VXNlcklkXG5cbi8qKlxuICogRGlzcGF0Y2ggYW4gYWN0aW9uIGZyb20gYSBnaXZlbiB1c2VyLlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIG5vLW9wIGZvciBldmVyeSBvdGhlciB1c2VyLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBhY3Rpb24gaXMgZGlzcGF0Y2hlZCB0byBldmVyeSBvdGhlciB1c2VyLFxuICogb24gdGhlIG5leHQgc2ltdWxhdGlvbiB0aWNrLiBUaGVzZSBkZWZhdWx0cyBjYW4gYmUgb3ZlcnJpZGVuXG4gKiB1c2luZyB0aGUgYHRvKClgIGFuZCBgZGVsYXkoKWAgbW9kaWZpZXJzLlxuICovXG5leHBvcnQgY29uc3QgZGlzcGF0Y2hGcm9tID0gPEEgZXh0ZW5kcyBBY3Rpb24sIFUgZXh0ZW5kcyBBbGxvd2VkVXNlcjxBPj4odXNlcklkOiBVLCBhY3Rpb25DYjogKCkgPT4gQSkgPT4ge1xuICBsZXQgYWN0aW9uITogQVxuICBjb25zdCB3b3JsZCA9IEVuZ2luZS5kZWZhdWx0V29ybGRcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIHRvIHNlbGVjdCByZWNpcGllbnRzXG4gICAgICovXG4gICAgdG8odG86IEFjdGlvblJlY2lwaWVudHMpIHtcbiAgICAgIGlmICghYWN0aW9uKSByZXR1cm5cbiAgICAgIGFjdGlvbi4kdG8gPSB0b1xuICAgICAgcmV0dXJuIG9wdGlvbnNcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoIG9uIGEgZnV0dXJlIHRpY2tcbiAgICAgKiBAcGFyYW0gdGlja09mZnNldCBUaGUgbnVtYmVyIG9mIHRpY2tzIGluIHRoZSBmdXR1cmUgc3BlY2lmeWluZyB3aGVuIHRoaXMgYWN0aW9uIHNob3VsZCBiZSBkaXNwYXRjaGVkLlxuICAgICAqIERlZmF1bHQgaXMgMiB0aWNrcyBpbiB0aGUgZnV0dXJlXG4gICAgICovXG4gICAgZGVsYXkodGlja09mZnNldDogbnVtYmVyKSB7XG4gICAgICBpZiAoIWFjdGlvbikgcmV0dXJuXG4gICAgICBhY3Rpb24uJHRpY2sgPSB3b3JsZC5maXhlZFRpY2sgKyB0aWNrT2Zmc2V0XG4gICAgICByZXR1cm4gb3B0aW9uc1xuICAgIH1cbiAgfVxuXG4gIGlmIChFbmdpbmUudXNlcklkICE9PSB1c2VySWQpIHJldHVybiBvcHRpb25zXG5cbiAgYWN0aW9uID0gYWN0aW9uQ2IoKVxuICBhY3Rpb24uJHRvID0gYWN0aW9uLiR0byA/PyAnYWxsJ1xuICBhY3Rpb24uJHRpY2sgPSBhY3Rpb24uJHRpY2sgPz8gd29ybGQuZml4ZWRUaWNrICsgMlxuICB3b3JsZC5vdXRnb2luZ0FjdGlvbnMuYWRkKGFjdGlvbilcblxuICByZXR1cm4gb3B0aW9uc1xufVxuXG5leHBvcnQgY29uc3QgZGlzcGF0Y2hMb2NhbCA9IChhY3Rpb246IEFjdGlvbiAmIHsgX19BTExPV19ESVNQQVRDSF9GUk9NX0FOWTogdHJ1ZSB9KSA9PiB7XG4gIGNvbnN0IG9wdGlvbnMgPSBkaXNwYXRjaEZyb20oRW5naW5lLnVzZXJJZCwgKCkgPT4gYWN0aW9uKS50bygnbG9jYWwnKVxuICByZXR1cm4gb3B0aW9ucyBhcyBPbWl0PHR5cGVvZiBvcHRpb25zLCAndG8nPlxufVxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgdXNlV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL1N5c3RlbUhvb2tzJ1xuXG5leHBvcnQgY29uc3QgaXNFbnRpdHlMb2NhbENsaWVudCA9IChlbnRpdHk6IEVudGl0eSkgPT4ge1xuICBjb25zdCB3b3JsZCA9IHVzZVdvcmxkKClcbiAgcmV0dXJuIHR5cGVvZiB3b3JsZC5sb2NhbENsaWVudEVudGl0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgd29ybGQubG9jYWxDbGllbnRFbnRpdHkgPT09IGVudGl0eVxufVxuIiwiaW1wb3J0IG1hdGNoZXMgZnJvbSAndHMtbWF0Y2hlcydcblxuY29uc3QgbWF0Y2hlc051bWJlckFycmF5ID0gbWF0Y2hlcy5hcnJheU9mKG1hdGNoZXMubnVtYmVyKVxuXG5leHBvcnQgY29uc3QgbWF0Y2hQb3NlID0gbWF0Y2hlcy5ndWFyZCgodik6IHYgaXMgUG9zZSA9PiB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIGZhbHNlXG4gIGlmICghbWF0Y2hlc051bWJlckFycmF5LnRlc3QodikpIHJldHVybiBmYWxzZVxuICBpZiAodi5sZW5ndGggPT09IDcpIHJldHVybiB0cnVlXG4gIHJldHVybiBmYWxzZVxufSlcbmV4cG9ydCB0eXBlIFBvc2UgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVxuIiwiaW1wb3J0IG1hdGNoZXMgZnJvbSAndHMtbWF0Y2hlcydcblxuZXhwb3J0IGNvbnN0IG1hdGNoZXNBdmF0YXJQcm9wcyA9IG1hdGNoZXMuc2hhcGUoe1xuICBhdmF0YXJVUkw6IG1hdGNoZXMuc3RyaW5nLFxuICB0aHVtYm5haWxVUkw6IG1hdGNoZXMuc3RyaW5nLFxuICBhdmF0YXJJZDogbWF0Y2hlcy5zdHJpbmdcbn0pXG5cbmV4cG9ydCB0eXBlIEF2YXRhclByb3BzID0gdHlwZW9mIG1hdGNoZXNBdmF0YXJQcm9wcy5fVFlQRVxuIiwiaW1wb3J0IG1hdGNoZXMgZnJvbSAndHMtbWF0Y2hlcydcbmltcG9ydCB7XG4gIGRlZmluZUFjdGlvbkNyZWF0b3IsXG4gIG1hdGNoZXNOZXR3b3JrSWQsXG4gIG1hdGNoZXNRdWF0ZXJuaW9uLFxuICBtYXRjaGVzVXNlcklkLFxuICBtYXRjaGVzVmVjdG9yMyxcbiAgbWF0Y2hlc1dpdGhJbml0aWFsaXplclxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0FjdGlvbidcbmltcG9ydCB7IE5ldHdvcmsgfSBmcm9tICcuLi9jbGFzc2VzL05ldHdvcmsnXG5pbXBvcnQgeyBtYXRjaFBvc2UgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vVHJhbnNmb3JtSW50ZXJmYWNlcydcbmltcG9ydCB7IG1hdGNoZXNBdmF0YXJQcm9wcyB9IGZyb20gJy4uL2ludGVyZmFjZXMvV29ybGRTdGF0ZSdcbmltcG9ydCB7IG1hdGNoZXNXZWlnaHRzUGFyYW1ldGVycyB9IGZyb20gJy4uLy4uL2F2YXRhci9hbmltYXRpb25zL1V0aWwnXG5cbmV4cG9ydCBjbGFzcyBOZXR3b3JrV29ybGRBY3Rpb24ge1xuICBzdGF0aWMgY3JlYXRlQ2xpZW50ID0gZGVmaW5lQWN0aW9uQ3JlYXRvcih7XG4gICAgdHlwZTogJ25ldHdvcmsuQ1JFQVRFX0NMSUVOVCcsXG4gICAgdXNlcklkOiBtYXRjaGVzVXNlcklkLFxuICAgIG5hbWU6IG1hdGNoZXMuc3RyaW5nLFxuICAgIGF2YXRhckRldGFpbDogbWF0Y2hlc0F2YXRhclByb3BzXG4gIH0pXG5cbiAgc3RhdGljIGRlc3Ryb3lDbGllbnQgPSBkZWZpbmVBY3Rpb25DcmVhdG9yKHtcbiAgICB0eXBlOiAnbmV0d29yay5ERVNUUk9ZX0NMSUVOVCcsXG4gICAgdXNlcklkOiBtYXRjaGVzVXNlcklkXG4gIH0pXG5cbiAgc3RhdGljIHNldFhSTW9kZSA9IGRlZmluZUFjdGlvbkNyZWF0b3IoXG4gICAge1xuICAgICAgdHlwZTogJ25ldHdvcmsuU0VUX1hSX01PREUnLFxuICAgICAgdXNlcklkOiBtYXRjaGVzVXNlcklkLFxuICAgICAgZW5hYmxlZDogbWF0Y2hlcy5ib29sZWFuXG4gICAgfSxcbiAgICB7IGFsbG93RGlzcGF0Y2hGcm9tQW55OiB0cnVlIH1cbiAgKVxuXG4gIHN0YXRpYyB4ckhhbmRzQ29ubmVjdGVkID0gZGVmaW5lQWN0aW9uQ3JlYXRvcihcbiAgICB7XG4gICAgICB0eXBlOiAnbmV0d29yay5YUl9IQU5EU19DT05ORUNURUQnLFxuICAgICAgdXNlcklkOiBtYXRjaGVzVXNlcklkXG4gICAgfSxcbiAgICB7IGFsbG93RGlzcGF0Y2hGcm9tQW55OiB0cnVlIH1cbiAgKVxuXG4gIHN0YXRpYyBzcGF3bk9iamVjdCA9IGRlZmluZUFjdGlvbkNyZWF0b3Ioe1xuICAgIHR5cGU6ICduZXR3b3JrLlNQQVdOX09CSkVDVCcsXG4gICAgdXNlcklkOiBtYXRjaGVzVXNlcklkLFxuICAgIHByZWZhYjogbWF0Y2hlcy5zdHJpbmcsXG4gICAgbmV0d29ya0lkOiBtYXRjaGVzV2l0aEluaXRpYWxpemVyKG1hdGNoZXNOZXR3b3JrSWQsICgpID0+IE5ldHdvcmsuZ2V0TmV0d29ya0lkKCkpLFxuICAgIHBhcmFtZXRlcnM6IG1hdGNoZXMuYW55Lm9wdGlvbmFsKClcbiAgfSlcblxuICBzdGF0aWMgc3Bhd25BdmF0YXIgPSBkZWZpbmVBY3Rpb25DcmVhdG9yKHtcbiAgICAuLi5OZXR3b3JrV29ybGRBY3Rpb24uc3Bhd25PYmplY3QuYWN0aW9uU2hhcGUsXG4gICAgcHJlZmFiOiAnYXZhdGFyJyxcbiAgICBwYXJhbWV0ZXJzOiBtYXRjaGVzLnNoYXBlKHtcbiAgICAgIHBvc2l0aW9uOiBtYXRjaGVzVmVjdG9yMyxcbiAgICAgIHJvdGF0aW9uOiBtYXRjaGVzUXVhdGVybmlvblxuICAgIH0pXG4gIH0pXG5cbiAgc3RhdGljIGRlc3Ryb3lPYmplY3QgPSBkZWZpbmVBY3Rpb25DcmVhdG9yKHtcbiAgICB0eXBlOiAnbmV0d29yay5ERVNUUk9ZX09CSkVDVCcsXG4gICAgbmV0d29ya0lkOiBtYXRjaGVzTmV0d29ya0lkXG4gIH0pXG5cbiAgc3RhdGljIHNldEVxdWlwcGVkT2JqZWN0ID0gZGVmaW5lQWN0aW9uQ3JlYXRvcih7XG4gICAgdHlwZTogJ25ldHdvcmsuU0VUX0VRVUlQUEVEX09CSkVDVCcsXG4gICAgbmV0d29ya0lkOiBtYXRjaGVzTmV0d29ya0lkLFxuICAgIGVxdWlwOiBtYXRjaGVzLmJvb2xlYW5cbiAgfSlcblxuICBzdGF0aWMgYXZhdGFyQW5pbWF0aW9uID0gZGVmaW5lQWN0aW9uQ3JlYXRvcihcbiAgICB7XG4gICAgICB0eXBlOiAnbmV0d29yay5BVkFUQVJfQU5JTUFUSU9OJyxcbiAgICAgIG5ld1N0YXRlTmFtZTogbWF0Y2hlcy5zdHJpbmcsXG4gICAgICBwYXJhbXM6IG1hdGNoZXNXZWlnaHRzUGFyYW1ldGVyc1xuICAgIH0sXG4gICAgeyBhbGxvd0Rpc3BhdGNoRnJvbUFueTogdHJ1ZSB9XG4gIClcblxuICBzdGF0aWMgdGVsZXBvcnRPYmplY3QgPSBkZWZpbmVBY3Rpb25DcmVhdG9yKHtcbiAgICB0eXBlOiAnbmV0d29yay5URUxFUE9SVF9PQkpFQ1QnLFxuICAgIG5ldHdvcmtJZDogbWF0Y2hlc05ldHdvcmtJZCxcbiAgICBwb3NlOiBtYXRjaFBvc2VcbiAgfSlcbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgY29uc3QgTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBHcm91cCB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFhSSW5wdXRTb3VyY2VDb21wb25lbnRUeXBlID0ge1xuICAvKipcbiAgICogQHByb3BlcnR5IHtHcm91cH0gY29udHJvbGxlckxlZnRcbiAgICogQHByb3BlcnR5IHtHcm91cH0gY29udHJvbGxlclJpZ2h0XG4gICAqIHRoZSBjb250cm9sbGVyc1xuICAgKi9cbiAgY29udHJvbGxlckxlZnQ6IEdyb3VwXG4gIGNvbnRyb2xsZXJSaWdodDogR3JvdXBcblxuICAvKipcbiAgICogQHByb3BlcnR5IHtHcm91cH0gY29udHJvbGxlckdyaXBMZWZ0XG4gICAqIEBwcm9wZXJ0eSB7R3JvdXB9IGNvbnRyb2xsZXJHcmlwUmlnaHRcbiAgICogY29udHJvbGxlciBncmlwcyBob2xkIHRoZSBpbmZvcm1hdGlvbiBmb3IgZ3JpcHMsIHdoaWNoIGFyZSB3aGVyZSB0aGUgdXNlciBncmFicyB0aGluZ3MgZnJvbVxuICAgKi9cbiAgY29udHJvbGxlckdyaXBMZWZ0OiBHcm91cFxuICBjb250cm9sbGVyR3JpcFJpZ2h0OiBHcm91cFxuXG4gIC8qKlxuICAgKiBAcHJvcGVydHkge0dyb3VwfSBjb250cm9sbGVyR3JvdXAgaXMgdGhlIGdyb3VwIHRoYXQgaG9sZHMgYWxsIHRoZSBjb250cm9sbGVyIGdyb3VwcyxcbiAgICogc28gdGhleSBjYW4gYmUgdHJhbnNmb3JtZWQgdG9nZXRoZXJcbiAgICovXG4gIGNvbnRhaW5lcjogR3JvdXBcblxuICAvKipcbiAgICogQHByb3BlcnR5IHtHcm91cH0gaGVhZFxuICAgKi9cbiAgaGVhZDogR3JvdXBcbn1cblxuZXhwb3J0IGNvbnN0IFhSSW5wdXRTb3VyY2VDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8WFJJbnB1dFNvdXJjZUNvbXBvbmVudFR5cGU+KCdYUklucHV0U291cmNlQ29tcG9uZW50JylcbiIsImltcG9ydCB7IFZlY3RvcjMsIE1hdHJpeDQsIFF1YXRlcm5pb24sIFBsYW5lIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBnZXRDb21wb25lbnQsIGhhc0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCdcbmltcG9ydCB7IEF2YXRhckNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXZhdGFyQ29tcG9uZW50J1xuaW1wb3J0IHsgVmVsb2NpdHlDb21wb25lbnQgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvVmVsb2NpdHlDb21wb25lbnQnXG5pbXBvcnQgeyBSYXljYXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1JheWNhc3RDb21wb25lbnQnXG5pbXBvcnQgeyBBdmF0YXJTZXR0aW5ncyB9IGZyb20gJy4uL0F2YXRhckNvbnRyb2xsZXJTeXN0ZW0nXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBYUklucHV0U291cmNlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9YUklucHV0U291cmNlQ29tcG9uZW50J1xuaW1wb3J0IHsgdXNlV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL1N5c3RlbUhvb2tzJ1xuXG4vKipcbiAqIEBhdXRob3IgSHlkcmFGaXJlIDxnaXRodWIuY29tL0h5ZHJhRmlyZT5cbiAqL1xuXG5jb25zdCB1cFZlY3RvciA9IG5ldyBWZWN0b3IzKDAsIDEsIDApXG5jb25zdCBxdWF0ID0gbmV3IFF1YXRlcm5pb24oKVxuY29uc3QgbWF0NCA9IG5ldyBNYXRyaXg0KClcbmNvbnN0IG5ld1ZlbG9jaXR5ID0gbmV3IFZlY3RvcjMoKVxuY29uc3Qgb25Hcm91bmRWZWxvY2l0eSA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHZlYzMgPSBuZXcgVmVjdG9yMygpXG5jb25zdCBmb3J3YXJkID0gbmV3IFZlY3RvcjMoMCwgMCwgMSlcbmNvbnN0IG11bHRpcGxpZXIgPSAxIC8gNjBcblxuZXhwb3J0IGNvbnN0IG1vdmVBdmF0YXIgPSAoZW50aXR5OiBFbnRpdHksIGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCA9PiB7XG4gIGNvbnN0IGF2YXRhciA9IGdldENvbXBvbmVudChlbnRpdHksIEF2YXRhckNvbXBvbmVudClcbiAgY29uc3QgdmVsb2NpdHkgPSBnZXRDb21wb25lbnQoZW50aXR5LCBWZWxvY2l0eUNvbXBvbmVudClcbiAgY29uc3QgY29udHJvbGxlciA9IGdldENvbXBvbmVudChlbnRpdHksIEF2YXRhckNvbnRyb2xsZXJDb21wb25lbnQpXG5cbiAgaWYgKCFjb250cm9sbGVyLm1vdmVtZW50RW5hYmxlZCkgcmV0dXJuXG5cbiAgY29uc3Qgb25Hcm91bmQgPSBjb250cm9sbGVyLmNvbGxpc2lvbnNbMF0gfHwgYXZhdGFyLmlzR3JvdW5kZWRcblxuICB2ZWMzLmNvcHkoY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihtdWx0aXBsaWVyKVxuICBjb250cm9sbGVyLnZlbG9jaXR5U2ltdWxhdG9yLnRhcmdldC5jb3B5KHZlYzMpXG4gIGNvbnRyb2xsZXIudmVsb2NpdHlTaW11bGF0b3Iuc2ltdWxhdGUoZGVsdGFUaW1lICogKG9uR3JvdW5kID8gMSA6IDAuMikpXG5cbiAgY29uc3QgbW92ZVNwZWVkID0gY29udHJvbGxlci5pc1dhbGtpbmcgPyBBdmF0YXJTZXR0aW5ncy5pbnN0YW5jZS53YWxrU3BlZWQgOiBBdmF0YXJTZXR0aW5ncy5pbnN0YW5jZS5ydW5TcGVlZFxuICBuZXdWZWxvY2l0eS5jb3B5KGNvbnRyb2xsZXIudmVsb2NpdHlTaW11bGF0b3IucG9zaXRpb24pLm11bHRpcGx5U2NhbGFyKG1vdmVTcGVlZClcblxuICB2ZWxvY2l0eS52ZWxvY2l0eS5zZXRYKG5ld1ZlbG9jaXR5LngpXG4gIHZlbG9jaXR5LnZlbG9jaXR5LnNldFoobmV3VmVsb2NpdHkueilcbiAgLy8gYXBwbHkgZ3Jhdml0eVxuICB2ZWxvY2l0eS52ZWxvY2l0eS55IC09IDAuMTUgKiBkZWx0YVRpbWVcblxuICAvLyB0aHJlZWpzIGNhbWVyYSBpcyB3ZWlyZCwgd2hlbiBpbiBWUiB3ZSBtdXN0IHVzZSB0aGUgaGVhZCBkaXJlY3Rpb25cbiAgaWYgKGhhc0NvbXBvbmVudChlbnRpdHksIFhSSW5wdXRTb3VyY2VDb21wb25lbnQpKVxuICAgIGdldENvbXBvbmVudChlbnRpdHksIFhSSW5wdXRTb3VyY2VDb21wb25lbnQpLmhlYWQuZ2V0V29ybGREaXJlY3Rpb24odmVjMylcbiAgZWxzZSBFbmdpbmUuY2FtZXJhLmdldFdvcmxkRGlyZWN0aW9uKHZlYzMpXG5cbiAgdmVjMy5zZXRZKDApLm5vcm1hbGl6ZSgpXG4gIHF1YXQuc2V0RnJvbVVuaXRWZWN0b3JzKGZvcndhcmQsIHZlYzMpXG5cbiAgbmV3VmVsb2NpdHkuYXBwbHlRdWF0ZXJuaW9uKHF1YXQpXG5cbiAgaWYgKG9uR3JvdW5kKSB7XG4gICAgY29uc3QgcmF5Y2FzdCA9IGdldENvbXBvbmVudChlbnRpdHksIFJheWNhc3RDb21wb25lbnQpXG4gICAgY29uc3QgY2xvc2VzdEhpdCA9IHJheWNhc3QuaGl0c1swXVxuXG4gICAgaWYgKGNsb3Nlc3RIaXQpIHtcbiAgICAgIG9uR3JvdW5kVmVsb2NpdHkuY29weShuZXdWZWxvY2l0eSkuc2V0WSgwKVxuICAgICAgdmVjMy5zZXQoY2xvc2VzdEhpdC5ub3JtYWwueCwgY2xvc2VzdEhpdC5ub3JtYWwueSwgY2xvc2VzdEhpdC5ub3JtYWwueilcbiAgICAgIHF1YXQuc2V0RnJvbVVuaXRWZWN0b3JzKHVwVmVjdG9yLCB2ZWMzKVxuICAgICAgbWF0NC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxdWF0KVxuICAgICAgb25Hcm91bmRWZWxvY2l0eS5hcHBseU1hdHJpeDQobWF0NClcbiAgICB9XG5cbiAgICB2ZWxvY2l0eS52ZWxvY2l0eS55ID0gb25Hcm91bmRWZWxvY2l0eS55XG5cbiAgICBpZiAoY29udHJvbGxlci5pc0p1bXBpbmcpIHtcbiAgICAgIGNvbnRyb2xsZXIuaXNKdW1waW5nID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbGxlci5sb2NhbE1vdmVtZW50RGlyZWN0aW9uLnkgPiAwICYmICFjb250cm9sbGVyLmlzSnVtcGluZykge1xuICAgICAgdmVsb2NpdHkudmVsb2NpdHkueSA9IEF2YXRhclNldHRpbmdzLmluc3RhbmNlLmp1bXBIZWlnaHQgKiBtdWx0aXBsaWVyXG4gICAgICBjb250cm9sbGVyLmlzSnVtcGluZyA9IHRydWVcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBtYWtlIGEgcHJvcGVyIHJlc2l6aW5nIGZ1bmN0aW9uIGlmIHdlIGV2ZXIgbmVlZCBpdFxuICAgIC8vICBjb2xsaWRlci5jb250cm9sbGVyLnJlc2l6ZShhdmF0YXIuQk9EWV9TSVpFKTtcblxuICAgIC8vIFRPRE8gLSBNb3ZlIG9uIHRvcCBvZiBtb3Zpbmcgb2JqZWN0c1xuICAgIC8vIHBoeXN4IGhhcyBhIGZlYXR1cmUgZm9yIHRoaXMsIHdlIHNob3VsZCBpbnRlZ3JhdGUgYm90aFxuICAgIC8vIGlmIChhdmF0YXIucmF5UmVzdWx0LmJvZHkubWFzcyA+IDApIHtcbiAgICAvLyBcdGNvbnN0IHBvaW50VmVsb2NpdHkgPSBuZXcgVmVjdG9yMygpO1xuICAgIC8vIFx0YXZhdGFyLnJheVJlc3VsdC5ib2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGF2YXRhci5yYXlSZXN1bHQuaGl0UG9pbnRXb3JsZCwgcG9pbnRWZWxvY2l0eSk7XG4gICAgLy8gXHRuZXdWZWxvY2l0eS5hZGQodGhyZWVGcm9tQ2Fubm9uVmVjdG9yKHBvaW50VmVsb2NpdHkpKTtcbiAgICAvLyB9XG4gIH1cbiAgY29uc3Qgd29ybGQgPSB1c2VXb3JsZCgpXG5cbiAgY29uc3QgZmlsdGVycyA9IG5ldyBQaHlzWC5QeENvbnRyb2xsZXJGaWx0ZXJzKGNvbnRyb2xsZXIuZmlsdGVyRGF0YSwgd29ybGQucGh5c2ljcy5kZWZhdWx0Q0NUUXVlcnlDYWxsYmFjaywgbnVsbCEpXG4gIGNvbnN0IGNvbGxpc2lvbkZsYWdzID0gY29udHJvbGxlci5jb250cm9sbGVyLm1vdmUoXG4gICAge1xuICAgICAgeDogbmV3VmVsb2NpdHkueCxcbiAgICAgIHk6IHZlbG9jaXR5LnZlbG9jaXR5LnksXG4gICAgICB6OiBuZXdWZWxvY2l0eS56XG4gICAgfSxcbiAgICAwLjAwMSxcbiAgICB3b3JsZC5maXhlZERlbHRhLFxuICAgIGZpbHRlcnMsXG4gICAgd29ybGQucGh5c2ljcy5vYnN0YWNsZUNvbnRleHRcbiAgKVxuICBjb250cm9sbGVyLmNvbGxpc2lvbnMgPSBbXG4gICAgY29sbGlzaW9uRmxhZ3MuaXNTZXQoUGh5c1guUHhDb250cm9sbGVyQ29sbGlzaW9uRmxhZy5lQ09MTElTSU9OX0RPV04pLFxuICAgIGNvbGxpc2lvbkZsYWdzLmlzU2V0KFBoeXNYLlB4Q29udHJvbGxlckNvbGxpc2lvbkZsYWcuZUNPTExJU0lPTl9TSURFUyksXG4gICAgY29sbGlzaW9uRmxhZ3MuaXNTZXQoUGh5c1guUHhDb250cm9sbGVyQ29sbGlzaW9uRmxhZy5lQ09MTElTSU9OX1VQKVxuICBdXG59XG4iLCJpbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzLCBFdWxlciwgTWVzaCB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFBvcnRhbENvbXBvbmVudFR5cGUgPSB7XG4gIGxvY2F0aW9uOiBzdHJpbmdcbiAgbGlua2VkUG9ydGFsSWQ6IHN0cmluZ1xuICBkaXNwbGF5VGV4dDogc3RyaW5nXG4gIGlzUGxheWVySW5Qb3J0YWw6IGJvb2xlYW5cbiAgcHJldmlld01lc2g6IE1lc2hcbiAgcmVtb3RlU3Bhd25Qb3NpdGlvbjogVmVjdG9yM1xuICByZW1vdGVTcGF3blJvdGF0aW9uOiBRdWF0ZXJuaW9uXG4gIHJlbW90ZVNwYXduRXVsZXI6IEV1bGVyXG59XG5cbmV4cG9ydCBjb25zdCBQb3J0YWxDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8UG9ydGFsQ29tcG9uZW50VHlwZT4oJ1BvcnRhbENvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBDb250cm9sbGVySGl0RXZlbnQsIENvbnRyb2xsZXJPYnN0YWNsZUhpdEV2ZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy90eXBlcy9QaHlzaWNzVHlwZXMnXG5pbXBvcnQgeyBBdmF0YXJDb250cm9sbGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYXZhdGFyL2NvbXBvbmVudHMvQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCdcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IENvbXBvbmVudENvbnN0cnVjdG9yLCBnZXRDb21wb25lbnQsIGhhc0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQ29sbGlzaW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db2xsaXNpb25Db21wb25lbnQnXG5cbnR5cGUgQ29udHJvbGxlckNvbGxpc2lvbkhpdCA9IHtcbiAgY29udHJvbGxlckNvbGxpc2lvbkV2ZW50OiBDb250cm9sbGVySGl0RXZlbnQgfCBDb250cm9sbGVyT2JzdGFjbGVIaXRFdmVudFxuICBjb250cm9sbGVyQ29sbGlzaW9uRW50aXR5OiBFbnRpdHlcbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbnRyb2xsZXJDb2xsaXNpb25zID0gKFxuICBlbnRpdHk6IEVudGl0eSxcbiAgY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxhbnksIGFueT5cbik6IENvbnRyb2xsZXJDb2xsaXNpb25IaXQgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudClcbiAgY29uc3QgY29sbGlzaW9ucyA9IGdldENvbXBvbmVudChlbnRpdHksIENvbGxpc2lvbkNvbXBvbmVudClcbiAgaWYgKGNvbnRyb2xsZXIgJiYgY29sbGlzaW9ucykge1xuICAgIGZvciAoY29uc3QgY29udHJvbGxlckNvbGxpc2lvbkV2ZW50IG9mIGNvbGxpc2lvbnMuY29sbGlzaW9ucyBhcyAoXG4gICAgICB8IENvbnRyb2xsZXJIaXRFdmVudFxuICAgICAgfCBDb250cm9sbGVyT2JzdGFjbGVIaXRFdmVudFxuICAgIClbXSkge1xuICAgICAgaWYgKHR5cGVvZiAoY29udHJvbGxlckNvbGxpc2lvbkV2ZW50IGFzIENvbnRyb2xsZXJIaXRFdmVudCkuYm9keSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlckNvbGxpc2lvbkVudGl0eSA9IChjb250cm9sbGVyQ29sbGlzaW9uRXZlbnQgYXMgQ29udHJvbGxlckhpdEV2ZW50KS5ib2R5LnVzZXJEYXRhLmVudGl0eVxuICAgICAgICBpZiAoaGFzQ29tcG9uZW50KGNvbnRyb2xsZXJDb2xsaXNpb25FbnRpdHksIGNvbXBvbmVudCkpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udHJvbGxlckNvbGxpc2lvbkV2ZW50LFxuICAgICAgICAgICAgY29udHJvbGxlckNvbGxpc2lvbkVudGl0eVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVE9ETzogaW1wbGVtZW50IG9ic3RhY2xlc1xuICAgICAgLy8gZWxzZSBpZih0eXBlb2YgKGNvbnRyb2xsZXJDb2xsaXNpb25FdmVudCBhcyBDb250cm9sbGVyT2JzdGFjbGVIaXRFdmVudCkub2JzdGFjbGUgIT09ICd1bmRlZmluZWQnKSB7IH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXJDb2xsaXNpb25FdmVudDogdW5kZWZpbmVkLFxuICAgIGNvbnRyb2xsZXJDb2xsaXNpb25FbnRpdHk6IHVuZGVmaW5lZFxuICB9IGFzIGFueVxufVxuIiwiaW1wb3J0IHsgaXNDbGllbnQgfSBmcm9tICcuLi8uLi9jb21tb24vZnVuY3Rpb25zL2lzQ2xpZW50J1xuaW1wb3J0IHsgRW5naW5lRXZlbnRzIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW5naW5lRXZlbnRzJ1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zY2VuZS9jb21wb25lbnRzL1BvcnRhbENvbXBvbmVudCdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IENvbGxpc2lvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9Db2xsaXNpb25Db21wb25lbnQnXG5pbXBvcnQgeyBnZXRDb250cm9sbGVyQ29sbGlzaW9ucyB9IGZyb20gJy4uLy4uL3BoeXNpY3MvZnVuY3Rpb25zL2dldENvbnRyb2xsZXJDb2xsaXNpb25zJ1xuXG5leHBvcnQgY29uc3QgZGV0ZWN0VXNlckluUG9ydGFsID0gKGVudGl0eTogRW50aXR5KTogdm9pZCA9PiB7XG4gIGNvbnN0IGNvbGxpc2lvbnMgPSBnZXRDb21wb25lbnQoZW50aXR5LCBDb2xsaXNpb25Db21wb25lbnQpLmNvbGxpc2lvbnNcbiAgY29uc3QgcG9ydGFsRW50aXR5ID0gZ2V0Q29udHJvbGxlckNvbGxpc2lvbnMoZW50aXR5LCBQb3J0YWxDb21wb25lbnQpLmNvbnRyb2xsZXJDb2xsaXNpb25FbnRpdHlcbiAgaWYgKHR5cGVvZiBwb3J0YWxFbnRpdHkgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cblxuICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSBnZXRDb21wb25lbnQocG9ydGFsRW50aXR5LCBQb3J0YWxDb21wb25lbnQpXG4gIGlmIChpc0NsaWVudCkge1xuICAgIGlmIChFbmdpbmUuZGVmYXVsdFdvcmxkLmlzSW5Qb3J0YWwpIHJldHVyblxuICAgIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgIHR5cGU6IEVuZ2luZUV2ZW50cy5FVkVOVFMuUE9SVEFMX1JFRElSRUNUX0VWRU5ULFxuICAgICAgcG9ydGFsQ29tcG9uZW50XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyB1c2VXb3JsZCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvU3lzdGVtSG9va3MnXG5pbXBvcnQgeyBOZXR3b3JrT2JqZWN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9jb21wb25lbnRzL05ldHdvcmtPYmplY3RDb21wb25lbnQnXG5pbXBvcnQgeyBkaXNwYXRjaEZyb20gfSBmcm9tICcuLi8uLi9uZXR3b3JraW5nL2Z1bmN0aW9ucy9kaXNwYXRjaEZyb20nXG5pbXBvcnQgeyBOZXR3b3JrV29ybGRBY3Rpb24gfSBmcm9tICcuLi8uLi9uZXR3b3JraW5nL2Z1bmN0aW9ucy9OZXR3b3JrV29ybGRBY3Rpb24nXG5pbXBvcnQgeyBTcGF3blBvc2VDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NwYXduUG9zZUNvbXBvbmVudCdcblxuZXhwb3J0IGNvbnN0IHJlc3Bhd25BdmF0YXIgPSAoZW50aXR5OiBFbnRpdHkpID0+IHtcbiAgY29uc3QgeyBwb3NpdGlvbiwgcm90YXRpb24gfSA9IGdldENvbXBvbmVudChlbnRpdHksIFNwYXduUG9zZUNvbXBvbmVudClcbiAgY29uc3QgbmV0d29ya09iamVjdCA9IGdldENvbXBvbmVudChlbnRpdHksIE5ldHdvcmtPYmplY3RDb21wb25lbnQpXG4gIGRpc3BhdGNoRnJvbSh1c2VXb3JsZCgpLmhvc3RJZCwgKCkgPT5cbiAgICBOZXR3b3JrV29ybGRBY3Rpb24udGVsZXBvcnRPYmplY3Qoe1xuICAgICAgbmV0d29ya0lkOiBuZXR3b3JrT2JqZWN0Lm5ldHdvcmtJZCxcbiAgICAgIHBvc2U6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56LCByb3RhdGlvbi54LCByb3RhdGlvbi55LCByb3RhdGlvbi56LCByb3RhdGlvbi53XVxuICAgIH0pXG4gIClcbn1cbiIsImltcG9ydCB7IFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL2Vjcy9jbGFzc2VzL1N5c3RlbSdcbmltcG9ydCB7IGRlZmluZVF1ZXJ5LCBnZXRDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IExvY2FsSW5wdXRUYWdDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dC9jb21wb25lbnRzL0xvY2FsSW5wdXRUYWdDb21wb25lbnQnXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi90cmFuc2Zvcm0vY29tcG9uZW50cy9UcmFuc2Zvcm1Db21wb25lbnQnXG5pbXBvcnQgeyBBdmF0YXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvQXZhdGFyQ29tcG9uZW50J1xuaW1wb3J0IHsgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9BdmF0YXJDb250cm9sbGVyQ29tcG9uZW50J1xuaW1wb3J0IHsgWFJJbnB1dFNvdXJjZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9YUklucHV0U291cmNlQ29tcG9uZW50J1xuaW1wb3J0IHsgbW92ZUF2YXRhciB9IGZyb20gJy4vZnVuY3Rpb25zL21vdmVBdmF0YXInXG5pbXBvcnQgeyBkZXRlY3RVc2VySW5Qb3J0YWwgfSBmcm9tICcuL2Z1bmN0aW9ucy9kZXRlY3RVc2VySW5Qb3J0YWwnXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gJy4uL2Vjcy9jbGFzc2VzL1dvcmxkJ1xuaW1wb3J0IHsgTmV0d29ya09iamVjdENvbXBvbmVudCB9IGZyb20gJy4uL25ldHdvcmtpbmcvY29tcG9uZW50cy9OZXR3b3JrT2JqZWN0Q29tcG9uZW50J1xuaW1wb3J0IHsgZGlzcGF0Y2hGcm9tIH0gZnJvbSAnLi4vbmV0d29ya2luZy9mdW5jdGlvbnMvZGlzcGF0Y2hGcm9tJ1xuaW1wb3J0IHsgU3Bhd25Qb3NlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL1NwYXduUG9zZUNvbXBvbmVudCdcbmltcG9ydCB7IHJlc3Bhd25BdmF0YXIgfSBmcm9tICcuL2Z1bmN0aW9ucy9yZXNwYXduQXZhdGFyJ1xuXG5leHBvcnQgY2xhc3MgQXZhdGFyU2V0dGluZ3Mge1xuICBzdGF0aWMgaW5zdGFuY2U6IEF2YXRhclNldHRpbmdzID0gbmV3IEF2YXRhclNldHRpbmdzKClcbiAgd2Fsa1NwZWVkID0gMS41XG4gIHJ1blNwZWVkID0gNVxuICBqdW1wSGVpZ2h0ID0gNFxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBBdmF0YXJDb250cm9sbGVyU3lzdGVtKHdvcmxkOiBXb3JsZCk6IFByb21pc2U8U3lzdGVtPiB7XG4gIGNvbnN0IHZlY3RvcjMgPSBuZXcgVmVjdG9yMygpXG4gIGNvbnN0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigpXG4gIGNvbnN0IHF1YXQyID0gbmV3IFF1YXRlcm5pb24oKVxuXG4gIGNvbnN0IGNvbnRyb2xsZXJRdWVyeSA9IGRlZmluZVF1ZXJ5KFtBdmF0YXJDb250cm9sbGVyQ29tcG9uZW50XSlcbiAgY29uc3QgbG9jYWxYUklucHV0UXVlcnkgPSBkZWZpbmVRdWVyeShbTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCwgWFJJbnB1dFNvdXJjZUNvbXBvbmVudCwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudF0pXG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCB7IGRlbHRhIH0gPSB3b3JsZFxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgY29udHJvbGxlclF1ZXJ5LmV4aXQod29ybGQpKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudClcblxuICAgICAgaWYgKGNvbnRyb2xsZXI/LmNvbnRyb2xsZXIpIHtcbiAgICAgICAgd29ybGQucGh5c2ljcy5yZW1vdmVDb250cm9sbGVyKGNvbnRyb2xsZXIuY29udHJvbGxlcilcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuICAgICAgaWYgKGF2YXRhcikge1xuICAgICAgICBhdmF0YXIuaXNHcm91bmRlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgbG9jYWxYUklucHV0UXVlcnkuZW50ZXIod29ybGQpKSB7XG4gICAgICBjb25zdCBhdmF0YXIgPSBnZXRDb21wb25lbnQoZW50aXR5LCBBdmF0YXJDb21wb25lbnQpXG5cbiAgICAgIC8vIFRPRE86IFRlbXBvcmFyaWx5IG1ha2UgcmlnIGludmlzaWJsZSB1bnRpbCByaWcgaXMgZml4ZWRcbiAgICAgIGF2YXRhci5tb2RlbENvbnRhaW5lcj8udHJhdmVyc2UoKGNoaWxkKSA9PiB7XG4gICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgY2hpbGQudmlzaWJsZSA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgbG9jYWxYUklucHV0UXVlcnkuZXhpdCh3b3JsZCkpIHtcbiAgICAgIGNvbnN0IGF2YXRhciA9IGdldENvbXBvbmVudChlbnRpdHksIEF2YXRhckNvbXBvbmVudClcbiAgICAgIC8vIFRPRE86IFRlbXBvcmFyaWx5IG1ha2UgcmlnIGludmlzaWJsZSB1bnRpbCByaWcgaXMgZml4ZWRcbiAgICAgIGF2YXRhcj8ubW9kZWxDb250YWluZXI/LnRyYXZlcnNlKChjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgIGNoaWxkLnZpc2libGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgbG9jYWxYUklucHV0UXVlcnkod29ybGQpKSB7XG4gICAgICBjb25zdCB4cklucHV0U291cmNlQ29tcG9uZW50ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgWFJJbnB1dFNvdXJjZUNvbXBvbmVudClcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcblxuICAgICAgeHJJbnB1dFNvdXJjZUNvbXBvbmVudC5jb250YWluZXIudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSwgdHJ1ZSlcbiAgICAgIHhySW5wdXRTb3VyY2VDb21wb25lbnQuY29udGFpbmVyLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpXG5cbiAgICAgIHF1YXQuY29weSh0cmFuc2Zvcm0ucm90YXRpb24pLmludmVydCgpXG4gICAgICBxdWF0Mi5jb3B5KEVuZ2luZS5jYW1lcmEucXVhdGVybmlvbikucHJlbXVsdGlwbHkocXVhdClcbiAgICAgIHhySW5wdXRTb3VyY2VDb21wb25lbnQuaGVhZC5xdWF0ZXJuaW9uLmNvcHkocXVhdDIpXG5cbiAgICAgIHZlY3RvcjMuc3ViVmVjdG9ycyhFbmdpbmUuY2FtZXJhLnBvc2l0aW9uLCB0cmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgICB2ZWN0b3IzLmFwcGx5UXVhdGVybmlvbihxdWF0KVxuICAgICAgeHJJbnB1dFNvdXJjZUNvbXBvbmVudC5oZWFkLnBvc2l0aW9uLmNvcHkodmVjdG9yMylcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBjb250cm9sbGVyUXVlcnkod29ybGQpKSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudClcblxuICAgICAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgVHJhbnNmb3JtQ29tcG9uZW50KVxuICAgICAgY29uc3QgcG9zZSA9IGNvbnRyb2xsZXIuY29udHJvbGxlci5nZXRQb3NpdGlvbigpXG5cbiAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi5zZXQocG9zZS54LCBwb3NlLnkgLSBhdmF0YXIuYXZhdGFySGFsZkhlaWdodCwgcG9zZS56KVxuXG4gICAgICBkZXRlY3RVc2VySW5Qb3J0YWwoZW50aXR5KVxuXG4gICAgICBtb3ZlQXZhdGFyKGVudGl0eSwgZGVsdGEpXG5cbiAgICAgIC8vIFRPRE86IGltcGxlbWVudCBzY2VuZSBsb3dlciBib3VuZHMgcGFyYW1ldGVyXG4gICAgICBpZiAodHJhbnNmb3JtLnBvc2l0aW9uLnkgPCAtMTApIHtcbiAgICAgICAgcmVzcGF3bkF2YXRhcihlbnRpdHkpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3b3JsZFxuICB9XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBnZXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IGRpc3BhdGNoRnJvbSB9IGZyb20gJy4uLy4uL25ldHdvcmtpbmcvZnVuY3Rpb25zL2Rpc3BhdGNoRnJvbSdcbmltcG9ydCB7IGlzRW50aXR5TG9jYWxDbGllbnQgfSBmcm9tICcuLi8uLi9uZXR3b3JraW5nL2Z1bmN0aW9ucy9pc0VudGl0eUxvY2FsQ2xpZW50J1xuaW1wb3J0IHsgTmV0d29ya1dvcmxkQWN0aW9uIH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9mdW5jdGlvbnMvTmV0d29ya1dvcmxkQWN0aW9uJ1xuaW1wb3J0IHsgVmVsb2NpdHlDb21wb25lbnQgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvVmVsb2NpdHlDb21wb25lbnQnXG5pbXBvcnQgeyBBdmF0YXJTZXR0aW5ncyB9IGZyb20gJy4uL0F2YXRhckNvbnRyb2xsZXJTeXN0ZW0nXG5pbXBvcnQgeyBBbmltYXRpb25Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL0FuaW1hdGlvbkNvbXBvbmVudCdcbmltcG9ydCB7IEF2YXRhckFuaW1hdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50J1xuaW1wb3J0IHsgQXZhdGFyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9BdmF0YXJDb21wb25lbnQnXG5pbXBvcnQgeyBBbmltYXRpb25SZW5kZXJlciB9IGZyb20gJy4vQW5pbWF0aW9uUmVuZGVyZXInXG5pbXBvcnQgeyBBbmltYXRpb25TdGF0ZSB9IGZyb20gJy4vQW5pbWF0aW9uU3RhdGUnXG5pbXBvcnQgeyBBbmltYXRpb25UeXBlLCBXZWlnaHRzUGFyYW1ldGVyVHlwZSwgQXZhdGFyU3RhdGVzLCBNb3ZlbWVudFR5cGUgfSBmcm9tICcuL1V0aWwnXG5cbmNvbnN0IHZlY3RvcjIgPSBuZXcgVmVjdG9yMigpXG5cbi8qKiBCYXNlIENsYXNzIHdoaWNoIGhvbGQgdGhlIGFuaW1hdGlvbiBncmFwaCBmb3IgZW50aXR5LiBBbmltYXRpb24gZ3JhcGggd2lsbCByZXNpZGVzIGluIEFuaW1hdGlvbiBDb21wb25lbnQuICovXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uR3JhcGgge1xuICAvKiogQWxsIHRoZSBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhpcyBncmFwaCAqL1xuICBzdGF0ZXM6IHsgW2tleTogc3RyaW5nXTogQW5pbWF0aW9uU3RhdGUgfSA9IHt9XG5cbiAgLyoqIERlZmF1bHQgc3RhdGUgd2hpY2ggd2lsbCBiZSByZW5kZXJlZCB3aGVuIHRoZXJlIGlzIG5vdCBhbmltYXRpb24gaXMgcnVubmluZy5cbiAgICogSWYgdGhlIHN1bSBvZiB3ZWlnaHRzIG9mIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMgYXJlIGxlc3MgdGhlbiAxIHRoZW4gdGhlIHdlaWdodCBvZiB0aGlzIGFuaW1hdGlvbiB3aWxsIGJlLCAxIC0gKHN1bSBvZiB3ZWlnaHRzIG9mIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMpICovXG4gIGRlZmF1bHRTdGF0ZTogQW5pbWF0aW9uU3RhdGVcblxuICAvKiogUHJlY2lzaW9uIHZhbHVlICovXG4gIEVQU0lMT04gPSAwLjAwNVxuXG4gIC8qKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdHJhbnNpdGlvbiBmcm9tIG9uZSBzdGF0ZSB0byBhbm90aGVyIGlzIHBhdXNlZCBvciBub3QgKi9cbiAgaXNUcmFuc2l0aW9uUGF1c2VkOiBib29sZWFuXG5cbiAgLyoqXG4gICAqIFBhdXNlcyB0aGUgdHJhbnNpdGlvbiBmb3IgZ2l2ZW4gbWlsaXNlY29uZHNcbiAgICogQHBhcmFtIG1pbGlzZWNvbmRzIEZvciB3aGljaCB0cmFuc2l0aW9uIGlzIHBhc2VkXG4gICAqL1xuICBwYXVzZVRyYW5zaXRpb25Gb3IgPSAobWlsaXNlY29uZHM6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIHRoaXMuaXNUcmFuc2l0aW9uUGF1c2VkID0gdHJ1ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5pc1RyYW5zaXRpb25QYXVzZWQgPSBmYWxzZVxuICAgIH0sIG1pbGlzZWNvbmRzKVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGUgdHJhbnNpdGlvbi4gSWYgdGhlIGN1cnJlbnQgc3RhdGUgaGFzIG5vIG5leHQgc3RhdGVzIHRoZW4gdHJhbnNpdGlvbiBpcyB2YWxpZFxuICAgKiBAcGFyYW0gY3VycmVudFN0YXRlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFuaW1pYXRpb25cbiAgICogQHBhcmFtIG5ld1N0YXRlTmFtZSBOZXcgc3RhdGUgdG8gd2hpY2ggdHJhbnNpdGlvbiBpcyBnb2luZyB0byB0YWtlIHBsYWNlXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHRyYW5zaXRpb24gaXMgdmFsaWQgb3Igbm90XG4gICAqL1xuICB2YWxpZGF0ZVRyYW5zaXRpb24gPSAoY3VycmVudFN0YXRlOiBBbmltYXRpb25TdGF0ZSwgbmV3U3RhdGU6IEFuaW1hdGlvblN0YXRlKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCFuZXdTdGF0ZSkgcmV0dXJuIGZhbHNlXG5cbiAgICBpZiAoY3VycmVudFN0YXRlLm5leHRTdGF0ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGUubmV4dFN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG5ld1N0YXRlLmNvbnN0cnVjdG9yLm5hbWUgPT09IGN1cnJlbnRTdGF0ZS5uZXh0U3RhdGVzW2ldLm5hbWUpIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNpdCB0aGUgc3RhdGUgZnJvbSBvbmUgc3RhdGUgdG8gYW5vdGhlclxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGF0ZU5hbWUgTmV3IHN0YXRlIHRvIHdoaWNoIHRyYW5zaXRpb24gd2lsbCBoYXBwZW5cbiAgICogQHBhcmFtIHtXZWlnaHRzUGFyYW1ldGVyVHlwZX0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gY2FsY3VsYXRlIHdlaWd0aHNcbiAgICovXG4gIHRyYW5zaXRpb25TdGF0ZSA9IChlbnRpdHk6IEVudGl0eSwgbmV3U3RhdGVOYW1lOiBzdHJpbmcsIHBhcmFtczogV2VpZ2h0c1BhcmFtZXRlclR5cGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCBhbmltYXRpb25Db21wb25lbnQgPSBnZXRDb21wb25lbnQoZW50aXR5LCBBbmltYXRpb25Db21wb25lbnQpXG4gICAgY29uc3QgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50KVxuICAgIC8vIElmIHRyYW5zaXRpb24gaXMgcGF1c2VkIHRoZSByZXR1cm5cbiAgICBpZiAodGhpcy5pc1RyYW5zaXRpb25QYXVzZWQpIHJldHVyblxuXG4gICAgLy8gSWYgbmV3IHN0YXRlIGlzIHRoZSBzYW1lIGFzIG9sZCBvbmUgc2tpcCB0cmFuc2l0aW9uXG4gICAgaWYgKCFwYXJhbXMuZm9yY2VUcmFuc2l0aW9uICYmIG5ld1N0YXRlTmFtZSA9PT0gYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5uYW1lKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgdHJhbnNpdGlvblxuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHRoaXMuc3RhdGVzW25ld1N0YXRlTmFtZV1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVUcmFuc2l0aW9uKGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGUsIG5leHRTdGF0ZSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEltbWVkaWF0ZWx5IHVubW91bnQgcHJldmlvdXMgc3RhdGVcbiAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LnByZXZTdGF0ZSkge1xuICAgICAgLy8gSWYgaXQgaXMgc2FtZSBhcyBuZXcgc3RhdGUgdGhlbiBqdXN0IHJlc2V0IGl0XG4gICAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LnByZXZTdGF0ZS5uYW1lID09PSBuZXdTdGF0ZU5hbWUpIHtcbiAgICAgICAgQW5pbWF0aW9uUmVuZGVyZXIucmVzZXRQcmV2aW91c1N0YXRlKGVudGl0eSwgdHJ1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFuaW1hdGlvblJlbmRlcmVyLnVubW91bnRQcmV2aW91c1N0YXRlKGVudGl0eSwgMCwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOZXZlciB1bm1vdW50IGRlZmF1bHQgc3RhdGVcbiAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5uYW1lICE9PSB0aGlzLmRlZmF1bHRTdGF0ZS5uYW1lKSB7XG4gICAgICAvLyBTZXQgY3VycmVudCBzdGF0ZSBhcyBwcmV2aW91cyBzdGF0ZVxuICAgICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LnByZXZTdGF0ZSA9IGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGVcbiAgICAgIEFuaW1hdGlvblJlbmRlcmVyLnJlc2V0UHJldmlvdXNTdGF0ZShlbnRpdHkpXG4gICAgfVxuXG4gICAgLy8gU2V0IG5ldyBzdGF0ZVxuICAgIGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlc1tuZXdTdGF0ZU5hbWVdXG4gICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS53ZWlnaHRQYXJhbXMgPSBwYXJhbXNcblxuICAgIC8vIE1vdW50IG5ldyBzdGF0ZVxuICAgIEFuaW1hdGlvblJlbmRlcmVyLm1vdW50Q3VycmVudFN0YXRlKGVudGl0eSlcblxuICAgIC8vIEFkZCBldmVudCB0byBhdXRvIHRyYW5zaXQgdG8gbmV3IHN0YXRlIHdoZW4gdGhlIGFuaW1hdGluIG9mIGN1cnJlbnQgc3RhdGUgZmluaXNoZXNcbiAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5hdXRvVHJhbnNpdGlvblRvKSB7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNUcmFuc2l0aW9uUGF1c2VkID0gZmFsc2VcbiAgICAgICAgLy8gaWYgdGhpcyBjYWxsYmFjayBoYXBwZW5zIGFmdGVyIHRoZSBhdmF0YXIgZGlzY29ubmVjdHMgb3IgdGhlIGF2YXRhciBpcyBpbiBhIHRyYW5zaXRpb24gc3RhdGUsIHRoaXMgd2lsbCBicmVhayBzdHVmZlxuICAgICAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgIHRoaXMudHJhbnNpdGlvblN0YXRlKGVudGl0eSwgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5hdXRvVHJhbnNpdGlvblRvLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0aW9uQ29tcG9uZW50Lm1peGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZpbmlzaGVkJywgdHJhbnNpdGlvbkV2ZW50KVxuICAgICAgfVxuICAgICAgYW5pbWF0aW9uQ29tcG9uZW50Lm1peGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpbmlzaGVkJywgdHJhbnNpdGlvbkV2ZW50KVxuICAgIH1cblxuICAgIC8vIFBhdXNlIHRyYW5zaXRpb24gaWYgY3VycmVudCBzdGF0ZSByZXF1aXJlc1xuICAgIGlmIChhdmF0YXJBbmltYXRpb25Db21wb25lbnQuY3VycmVudFN0YXRlLnBhdXNlVHJhbnNpdGlvbkR1cmF0aW9uKSB7XG4gICAgICB0aGlzLnBhdXNlVHJhbnNpdGlvbkZvcihhdmF0YXJBbmltYXRpb25Db21wb25lbnQuY3VycmVudFN0YXRlLnBhdXNlVHJhbnNpdGlvbkR1cmF0aW9uKVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgbmV0d29yayB0byBzeW5jIGFuaW1hdGlvblxuICAgIHRoaXMudXBkYXRlTmV0d29yayhlbnRpdHksIG5ld1N0YXRlTmFtZSwgcGFyYW1zKVxuICB9XG5cbiAgLyoqXG4gICAqIEFuIGFuaW1hdGlvbiBzdGF0ZSBjaGVjayBmb3Igc3RhdGUgdHJhbnNpdGlvbiBmb3IgdGhlIHZlbG9jaXR5IGJhc2VkIGFuaW1hdGlvbnMuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbm90IHJ1biB0aGUgYW5pbWF0aW9uIGl0IHdpbGwganVzdCBoYW5kbGUgdGhlIHRyYW5zaXRpb24gYW5kIHdlaWdodCBjaGFuZ2UuXG4gICAqIEFuaW1hdGlvbnMgd2lsbCBiZSBoYW5kbGVkIGJ5IFRocmVlIGpzIGxpYnJhcnkncyBhbmltYXRpb24gbWFuYWdlci5cbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eVxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgVGltZSBzaW5jZSBsYXN0IGZyYW1lXG4gICAqL1xuICByZW5kZXIgPSAoZW50aXR5OiBFbnRpdHksIGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICBjb25zdCBhdmF0YXJBbmltYXRpb25Db21wb25lbnQgPSBnZXRDb21wb25lbnQoZW50aXR5LCBBdmF0YXJBbmltYXRpb25Db21wb25lbnQpXG4gICAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuICAgIGxldCBwYXJhbXM6IFdlaWdodHNQYXJhbWV0ZXJUeXBlID0ge30gYXMgYW55XG5cbiAgICAvLyBDYWxjdWxhdGUgbW92ZW1lbnQgZm8gdGhlIGF2YXRhciBmb3IgdGhpcyBmcmFtZVxuICAgIGNvbnN0IHZlbG9jaXR5ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgVmVsb2NpdHlDb21wb25lbnQpXG4gICAgY29uc3QgbW92ZW1lbnQ6IE1vdmVtZW50VHlwZSA9IHtcbiAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eS52ZWxvY2l0eSxcbiAgICAgIGRpc3RhbmNlRnJvbUdyb3VuZDogIWF2YXRhci5pc0dyb3VuZGVkID8gdmVsb2NpdHkudmVsb2NpdHkueSA6IDBcbiAgICB9XG5cbiAgICBwYXJhbXMubW92ZW1lbnQgPSBtb3ZlbWVudFxuXG4gICAgaWYgKGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGUudHlwZSA9PT0gQW5pbWF0aW9uVHlwZS5WRUxPQ0lUWV9CQVNFRCkge1xuICAgICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS53ZWlnaHRQYXJhbXMgPSBwYXJhbXNcbiAgICB9XG5cbiAgICBpZiAoIWF2YXRhci5pc0dyb3VuZGVkKSB7XG4gICAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5uYW1lICE9PSBBdmF0YXJTdGF0ZXMuSlVNUCkge1xuICAgICAgICBhdmF0YXJBbmltYXRpb25Db21wb25lbnQuYW5pbWF0aW9uR3JhcGgudHJhbnNpdGlvblN0YXRlKGVudGl0eSwgQXZhdGFyU3RhdGVzLkpVTVAsIHtcbiAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgZm9yY2VUcmFuc2l0aW9uOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBlbHNlLCBpZGxlIGZhbGxcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG5ld1N0YXRlTmFtZSA9ICcnXG4gICAgICB2ZWN0b3IyLnNldChtb3ZlbWVudC52ZWxvY2l0eS54LCBtb3ZlbWVudC52ZWxvY2l0eS56KS5tdWx0aXBseVNjYWxhcigxIC8gZGVsdGEpXG4gICAgICBjb25zdCBzcGVlZFNxciA9IHZlY3RvcjIubGVuZ3RoU3EoKVxuICAgICAgaWYgKHNwZWVkU3FyID4gdGhpcy5FUFNJTE9OKSB7XG4gICAgICAgIG5ld1N0YXRlTmFtZSA9XG4gICAgICAgICAgc3BlZWRTcXIgPCBBdmF0YXJTZXR0aW5ncy5pbnN0YW5jZS53YWxrU3BlZWQgKiBBdmF0YXJTZXR0aW5ncy5pbnN0YW5jZS53YWxrU3BlZWRcbiAgICAgICAgICAgID8gQXZhdGFyU3RhdGVzLldBTEtcbiAgICAgICAgICAgIDogQXZhdGFyU3RhdGVzLlJVTlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U3RhdGVOYW1lID0gQXZhdGFyU3RhdGVzLklETEVcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbmV3IHN0YXRlIGlzIGRpZmZlcmVudCB0aGFuIGN1cnJlbnQgc3RhdGUgdGhlbiB0cmFuc2l0XG4gICAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5uYW1lICE9PSBuZXdTdGF0ZU5hbWUpIHtcbiAgICAgICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmFuaW1hdGlvbkdyYXBoLnRyYW5zaXRpb25TdGF0ZShlbnRpdHksIG5ld1N0YXRlTmFtZSwgcGFyYW1zKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdmF0YXJBbmltYXRpb25Db21wb25lbnQuY3VycmVudFN0YXRlLnR5cGUgPT09IEFuaW1hdGlvblR5cGUuVkVMT0NJVFlfQkFTRUQpIHtcbiAgICAgIC8vIHVwZGF0ZSB3ZWlnaHRzIGJhc2VkIG9uIHZlbG9jaXR5IG9mIHRoZSBjaGFyYWN0ZXJcbiAgICAgIGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGUudXBkYXRlV2VpZ2h0cz8uKClcbiAgICB9XG5cbiAgICAvLyBTZXQgdmVsb2NpdHkgYXMgcHJldiB2ZWxvY2l0eVxuICAgIGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5wcmV2VmVsb2NpdHkuY29weShtb3ZlbWVudC52ZWxvY2l0eSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW5pbWF0aW9ucyBvbiBuZXR3b3JrIGFuZCBzeW5jIGFjdGlvbiBhY3Jvc3MgYWxsIHRoZSBjb25uZWN0ZWQgY2xpZW50c1xuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGF0ZU5hbWUgTmV3IHN0YXRlIG9mIHRoZSBhbmltYXRpb24uIElmIG9ubHkgdGhlIHdlaWdodHMgYXJlIHJlY2FsY3VsYXRlZCB0aGVuIG5ldyBzdGF0ZSB3aWxsIGJlIHNhbWUgYXMgY3VycmVudCBzdGF0ZS5cbiAgICogQHBhcmFtIHtXZWlnaHRzUGFyYW1ldGVyVHlwZX0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gYmUgcGFzc2VkIG9udmVyIG5ldHdvcmtcbiAgICovXG4gIHVwZGF0ZU5ldHdvcmsgPSAoZW50aXR5OiBFbnRpdHksIG5ld1N0YXRlTmFtZTogc3RyaW5nLCBwYXJhbXM6IFdlaWdodHNQYXJhbWV0ZXJUeXBlKTogdm9pZCA9PiB7XG4gICAgY29uc3QgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50KVxuICAgIC8vIFNlbmQgY2hhbmdlIGFuaW1hdGlvbiBjb21tbmFkIG92ZXIgbmV0d29yayBmb3IgdGhlIGxvY2FsIGNsaWVudCBlbnRpdHlcbiAgICBpZiAoaXNFbnRpdHlMb2NhbENsaWVudChlbnRpdHkpICYmIGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5jdXJyZW50U3RhdGUudHlwZSA9PT0gQW5pbWF0aW9uVHlwZS5TVEFUSUMpIHtcbiAgICAgIGRpc3BhdGNoRnJvbShFbmdpbmUudXNlcklkLCAoKSA9PiBOZXR3b3JrV29ybGRBY3Rpb24uYXZhdGFyQW5pbWF0aW9uKHsgbmV3U3RhdGVOYW1lLCBwYXJhbXMgfSkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbmltYXRpb24gc3RhdGUgbWFudWFsbHlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgb2Ygd2hpY2ggYW5pbWF0aW9uIHN0YXRlIHdpbGwgYmUgdXBkYXRlZFxuICAgKiBAcGFyYW0ge3N0cmluZ31uZXdTdGF0ZU5hbWUgTmV3IHN0YXRlIG9mIHRoZSBhbmltYXRpb24uIElmIG9ubHkgdGhlIHdlaWdodHMgYXJlIHJlY2FsY3VsYXRlZCB0aGVuIG5ldyBzdGF0ZSB3aWxsIGJlIHNhbWUgYXMgY3VycmVudCBzdGF0ZS5cbiAgICogQHBhcmFtIHtXZWlnaHRzUGFyYW1ldGVyVHlwZX0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gYmUgcGFzc2VkIG9udmVyIG5ldHdvcmtcbiAgICovXG4gIHN0YXRpYyBmb3JjZVVwZGF0ZUFuaW1hdGlvblN0YXRlID0gKGVudGl0eTogRW50aXR5LCBuZXdTdGF0ZU5hbWU6IHN0cmluZywgcGFyYW1zOiBXZWlnaHRzUGFyYW1ldGVyVHlwZSkgPT4ge1xuICAgIGNvbnN0IGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIEF2YXRhckFuaW1hdGlvbkNvbXBvbmVudClcblxuICAgIGNvbnN0IGFuaW1hdGlvblN0YXRlID0gYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmFuaW1hdGlvbkdyYXBoLnN0YXRlc1tuZXdTdGF0ZU5hbWVdXG5cbiAgICAvLyBJZiBuZXcgc3RhdGUgaXMgc2FtZSBhcyBjdXJyZW50IHN0YXRlIHRoZW4ganVzdCB1cGRhdGUgcGFyYW1zIGFuZCBzeW5jIG5ldHdvcmtcbiAgICBpZiAoYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS5uYW1lID09PSBhbmltYXRpb25TdGF0ZS5uYW1lKSB7XG4gICAgICBwYXJhbXMucmVzZXRBbmltYXRpb24gPSB0cnVlXG4gICAgICBhdmF0YXJBbmltYXRpb25Db21wb25lbnQuY3VycmVudFN0YXRlLndlaWdodFBhcmFtcyA9IHBhcmFtc1xuICAgICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmFuaW1hdGlvbkdyYXBoLnVwZGF0ZU5ldHdvcmsoZW50aXR5LCBhbmltYXRpb25TdGF0ZS5uYW1lLCBwYXJhbXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF2YXRhckFuaW1hdGlvbkNvbXBvbmVudC5hbmltYXRpb25HcmFwaC50cmFuc2l0aW9uU3RhdGUoZW50aXR5LCBhbmltYXRpb25TdGF0ZS5uYW1lLCBwYXJhbXMpXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHdlaWdodHMgb2YgdGhlIHN0YXRlXG4gICAgYXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LmN1cnJlbnRTdGF0ZS51cGRhdGVXZWlnaHRzPy4oKVxuICB9XG59XG4iLCJpbXBvcnQgeyBBbmltYXRpb25HcmFwaCB9IGZyb20gJy4vQW5pbWF0aW9uR3JhcGgnXG5pbXBvcnQgeyBJZGxlU3RhdGUsIExvb3BhYmxlRW1vdGVTdGF0ZSwgUnVuU3RhdGUsIFdhbGtTdGF0ZSwgSnVtcFN0YXRlLCBFbW90ZVN0YXRlIH0gZnJvbSAnLi9BbmltYXRpb25TdGF0ZSdcbmltcG9ydCB7IEF2YXRhclN0YXRlcyB9IGZyb20gJy4vVXRpbCdcblxuLyoqIENsYXNzIHRvIGhvbGQgdGhlIGFuaW1hdGlvbiBncmFwaCBmb3IgcGxheWVyIGVudGl0eS4gRXZlcnkgYXZhdGFyIGVudGl0eSB3aWxsIGhhdmUgdGhlaXIgc2FwZXJhdGUgZ3JhcGguICovXG5leHBvcnQgY2xhc3MgQXZhdGFyQW5pbWF0aW9uR3JhcGggZXh0ZW5kcyBBbmltYXRpb25HcmFwaCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcblxuICAgIC8vIEluaXRpYWxpemUgYWxsIHRoZSBzdGF0ZXNcbiAgICBjb25zdCBpZGxlU3RhdGUgPSBuZXcgSWRsZVN0YXRlKClcbiAgICBjb25zdCB3YWxrU3RhdGUgPSBuZXcgV2Fsa1N0YXRlKClcbiAgICBjb25zdCBydW5TdGF0ZSA9IG5ldyBSdW5TdGF0ZSgpXG4gICAgY29uc3QgbG9vcGFibGVFbW90ZVN0YXRlID0gbmV3IExvb3BhYmxlRW1vdGVTdGF0ZSgpXG4gICAgY29uc3QgZW1vdGVTdGF0ZSA9IG5ldyBFbW90ZVN0YXRlKClcbiAgICBjb25zdCBqdW1wU3RhdGUgPSBuZXcgSnVtcFN0YXRlKClcblxuICAgIC8vIFNldCB0aGUgbmV4dCBzdGF0ZXNcbiAgICB3YWxrU3RhdGUubmV4dFN0YXRlcy5wdXNoKElkbGVTdGF0ZSwgUnVuU3RhdGUsIEp1bXBTdGF0ZSlcbiAgICBydW5TdGF0ZS5uZXh0U3RhdGVzLnB1c2goSWRsZVN0YXRlLCBXYWxrU3RhdGUsIEp1bXBTdGF0ZSlcbiAgICBsb29wYWJsZUVtb3RlU3RhdGUubmV4dFN0YXRlcy5wdXNoKFdhbGtTdGF0ZSwgUnVuU3RhdGUsIEp1bXBTdGF0ZSwgRW1vdGVTdGF0ZSlcbiAgICBqdW1wU3RhdGUubmV4dFN0YXRlcy5wdXNoKElkbGVTdGF0ZSwgV2Fsa1N0YXRlLCBSdW5TdGF0ZSlcbiAgICBlbW90ZVN0YXRlLm5leHRTdGF0ZXMucHVzaChJZGxlU3RhdGUsIFdhbGtTdGF0ZSwgUnVuU3RhdGUsIEp1bXBTdGF0ZSlcbiAgICBlbW90ZVN0YXRlLmF1dG9UcmFuc2l0aW9uVG8gPSBBdmF0YXJTdGF0ZXMuSURMRVxuXG4gICAgLy8gQWRkIHN0YXRlcyB0byB0aGUgZ3JhcGhcbiAgICB0aGlzLnN0YXRlc1tBdmF0YXJTdGF0ZXMuSURMRV0gPSBpZGxlU3RhdGVcbiAgICB0aGlzLnN0YXRlc1tBdmF0YXJTdGF0ZXMuV0FMS10gPSB3YWxrU3RhdGVcbiAgICB0aGlzLnN0YXRlc1tBdmF0YXJTdGF0ZXMuUlVOXSA9IHJ1blN0YXRlXG4gICAgdGhpcy5zdGF0ZXNbQXZhdGFyU3RhdGVzLkpVTVBdID0ganVtcFN0YXRlXG4gICAgdGhpcy5zdGF0ZXNbQXZhdGFyU3RhdGVzLkxPT1BBQkxFX0VNT1RFXSA9IGxvb3BhYmxlRW1vdGVTdGF0ZVxuICAgIHRoaXMuc3RhdGVzW0F2YXRhclN0YXRlcy5FTU9URV0gPSBlbW90ZVN0YXRlXG4gICAgdGhpcy5kZWZhdWx0U3RhdGUgPSB0aGlzLnN0YXRlc1tBdmF0YXJTdGF0ZXMuSURMRV1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBBdWRpb1RhZ0NvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnQXVkaW9UYWdDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFNoYWRvd0NvbXBvbmVudFR5cGUgPSB7XG4gIGNhc3RTaGFkb3c6IGJvb2xlYW5cbiAgcmVjZWl2ZVNoYWRvdzogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgU2hhZG93Q29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PFNoYWRvd0NvbXBvbmVudFR5cGU+KCdTaGFkb3dDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5leHBvcnQgY29uc3QgUGVyc2lzdFRhZ0NvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnUGVyc2lzdFRhZ0NvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBERUZBVUxUX0FWQVRBUl9JRCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2NvbnN0YW50cy9BdmF0YXJDb25zdGFudHMnXG5pbXBvcnQgeyBBbmltYXRpb25DbGlwLCBBbmltYXRpb25NaXhlciwgR3JvdXAsIFBlcnNwZWN0aXZlQ2FtZXJhLCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBhZGRDb21wb25lbnQsIGdldENvbXBvbmVudCwgaGFzQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBJbnB1dENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2lucHV0L2NvbXBvbmVudHMvSW5wdXRDb21wb25lbnQnXG5pbXBvcnQgeyBWZWN0b3JTcHJpbmdTaW11bGF0b3IgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NsYXNzZXMvc3ByaW5ncy9WZWN0b3JTcHJpbmdTaW11bGF0b3InXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vY29tcG9uZW50cy9UcmFuc2Zvcm1Db21wb25lbnQnXG5pbXBvcnQgeyBBdmF0YXJJbnB1dFNjaGVtYSB9IGZyb20gJy4uL0F2YXRhcklucHV0U2NoZW1hJ1xuaW1wb3J0IHsgQW5pbWF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9BbmltYXRpb25Db21wb25lbnQnXG5pbXBvcnQgeyBBdmF0YXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL0F2YXRhckNvbXBvbmVudCdcbmltcG9ydCB7IEF2YXRhckNvbnRyb2xsZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL0F2YXRhckNvbnRyb2xsZXJDb21wb25lbnQnXG5pbXBvcnQgeyBPYmplY3QzRENvbXBvbmVudCB9IGZyb20gJy4uLy4uL3NjZW5lL2NvbXBvbmVudHMvT2JqZWN0M0RDb21wb25lbnQnXG5pbXBvcnQgeyBWZWxvY2l0eUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9WZWxvY2l0eUNvbXBvbmVudCdcbmltcG9ydCB7IENvbGxpc2lvbkdyb3VwcywgRGVmYXVsdENvbGxpc2lvbk1hc2sgfSBmcm9tICcuLi8uLi9waHlzaWNzL2VudW1zL0NvbGxpc2lvbkdyb3VwcydcbmltcG9ydCB7IENvbGxpZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL0NvbGxpZGVyQ29tcG9uZW50J1xuaW1wb3J0IHsgQXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9BdmF0YXJBbmltYXRpb25Db21wb25lbnQnXG5pbXBvcnQgeyBSYXljYXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1JheWNhc3RDb21wb25lbnQnXG5pbXBvcnQgeyBOZXR3b3JrIH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9jbGFzc2VzL05ldHdvcmsnXG5pbXBvcnQgeyBBbmltYXRpb25HcmFwaCB9IGZyb20gJy4uL2FuaW1hdGlvbnMvQW5pbWF0aW9uR3JhcGgnXG5pbXBvcnQgeyBBbmltYXRpb25TdGF0ZSB9IGZyb20gJy4uL2FuaW1hdGlvbnMvQW5pbWF0aW9uU3RhdGUnXG5pbXBvcnQgeyBJbnRlcmFjdG9yQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vaW50ZXJhY3Rpb24vY29tcG9uZW50cy9JbnRlcmFjdG9yQ29tcG9uZW50J1xuaW1wb3J0IHsgTmFtZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3NjZW5lL2NvbXBvbmVudHMvTmFtZUNvbXBvbmVudCdcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL2Z1bmN0aW9ucy9pc0NsaWVudCdcbmltcG9ydCB7IEFma0NoZWNrQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbmF2aWdhdGlvbi9jb21wb25lbnQvQWZrQ2hlY2tDb21wb25lbnQnXG5pbXBvcnQgeyBOZXR3b3JrV29ybGRBY3Rpb24gfSBmcm9tICcuLi8uLi9uZXR3b3JraW5nL2Z1bmN0aW9ucy9OZXR3b3JrV29ybGRBY3Rpb24nXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBCb2R5VHlwZSwgU2NlbmVRdWVyeVR5cGUgfSBmcm9tICcuLi8uLi9waHlzaWNzL3R5cGVzL1BoeXNpY3NUeXBlcydcbmltcG9ydCB7IHVzZVdvcmxkIH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9TeXN0ZW1Ib29rcydcbmltcG9ydCB7IENvbGxpc2lvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9Db2xsaXNpb25Db21wb25lbnQnXG5pbXBvcnQgeyBTcGF3blBvc2VDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NwYXduUG9zZUNvbXBvbmVudCdcbmltcG9ydCB7IEF2YXRhckFuaW1hdGlvbkdyYXBoIH0gZnJvbSAnLi4vYW5pbWF0aW9ucy9BdmF0YXJBbmltYXRpb25HcmFwaCdcbmltcG9ydCB7IEF1ZGlvVGFnQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYXVkaW8vY29tcG9uZW50cy9BdWRpb1RhZ0NvbXBvbmVudCdcbmltcG9ydCB7IFNoYWRvd0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL3NjZW5lL2NvbXBvbmVudHMvU2hhZG93Q29tcG9uZW50J1xuaW1wb3J0IHsgTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL2lucHV0L2NvbXBvbmVudHMvTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCdcbmltcG9ydCB7IEZvbGxvd0NhbWVyYUNvbXBvbmVudCwgRm9sbG93Q2FtZXJhRGVmYXVsdFZhbHVlcyB9IGZyb20gJy4uLy4uL2NhbWVyYS9jb21wb25lbnRzL0ZvbGxvd0NhbWVyYUNvbXBvbmVudCdcbmltcG9ydCB7IFBlcnNpc3RUYWdDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zY2VuZS9jb21wb25lbnRzL1BlcnNpc3RUYWdDb21wb25lbnQnXG5cbmNvbnN0IGF2YXRhclJhZGl1cyA9IDAuMjVcbmNvbnN0IGF2YXRhckhlaWdodCA9IDEuOFxuY29uc3QgY2Fwc3VsZUhlaWdodCA9IGF2YXRhckhlaWdodCAtIGF2YXRhclJhZGl1cyAqIDJcbmNvbnN0IGF2YXRhckhhbGZIZWlnaHQgPSBhdmF0YXJIZWlnaHQgLyAyXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVBdmF0YXIgPSAoc3Bhd25BY3Rpb246IHR5cGVvZiBOZXR3b3JrV29ybGRBY3Rpb24uc3Bhd25BdmF0YXIubWF0Y2hlcy5fVFlQRSk6IEVudGl0eSA9PiB7XG4gIGNvbnN0IHdvcmxkID0gdXNlV29ybGQoKVxuICBjb25zdCB1c2VySWQgPSBzcGF3bkFjdGlvbi51c2VySWRcbiAgY29uc3QgZW50aXR5ID0gd29ybGQuZ2V0TmV0d29ya09iamVjdChzcGF3bkFjdGlvbi5uZXR3b3JrSWQpXG5cbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgaWYgKCFoYXNDb21wb25lbnQoZW50aXR5LCBBZmtDaGVja0NvbXBvbmVudCkpXG4gICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBBZmtDaGVja0NvbXBvbmVudCwge1xuICAgICAgICBpc0FmazogZmFsc2UsXG4gICAgICAgIHByZXZQb3NpdGlvbjogbmV3IFZlY3RvcjMoMCwgMCwgMCksXG4gICAgICAgIGNTdGVwOiAwLFxuICAgICAgICBjU3RlcDI6IDAsXG4gICAgICAgIHRpbWVyOiAwXG4gICAgICB9KVxuICB9XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGFkZENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudCwge1xuICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygpLmNvcHkoc3Bhd25BY3Rpb24ucGFyYW1ldGVycy5wb3NpdGlvbiksXG4gICAgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuY29weShzcGF3bkFjdGlvbi5wYXJhbWV0ZXJzLnJvdGF0aW9uKSxcbiAgICBzY2FsZTogbmV3IFZlY3RvcjMoMSwgMSwgMSlcbiAgfSlcblxuICBhZGRDb21wb25lbnQoZW50aXR5LCBWZWxvY2l0eUNvbXBvbmVudCwge1xuICAgIHZlbG9jaXR5OiBuZXcgVmVjdG9yMygpXG4gIH0pXG5cbiAgLy8gVGhlIHZpc3VhbHMgZ3JvdXAgaXMgY2VudGVyZWQgZm9yIGVhc3kgYWN0b3IgdGlsdGluZ1xuICBjb25zdCB0aWx0Q29udGFpbmVyID0gbmV3IEdyb3VwKClcbiAgdGlsdENvbnRhaW5lci5uYW1lID0gJ0FjdG9yICh0aWx0Q29udGFpbmVyKScgKyBlbnRpdHlcbiAgdGlsdENvbnRhaW5lci5wb3NpdGlvbi5zZXRZKGF2YXRhckhhbGZIZWlnaHQpXG5cbiAgLy8gLy8gTW9kZWwgY29udGFpbmVyIGlzIHVzZWQgdG8gcmVsaWFibHkgZ3JvdW5kIHRoZSBhY3RvciwgYXMgYW5pbWF0aW9uIGNhbiBhbHRlciB0aGUgcG9zaXRpb24gb2YgdGhlIG1vZGVsIGl0c2VsZlxuICBjb25zdCBtb2RlbENvbnRhaW5lciA9IG5ldyBHcm91cCgpXG4gIG1vZGVsQ29udGFpbmVyLm5hbWUgPSAnQWN0b3IgKG1vZGVsQ29udGFpbmVyKScgKyBlbnRpdHlcbiAgdGlsdENvbnRhaW5lci5hZGQobW9kZWxDb250YWluZXIpXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50LCB7XG4gICAgLi4uKHdvcmxkLmNsaWVudHMuZ2V0KHVzZXJJZCk/LmF2YXRhckRldGFpbCB8fCB7XG4gICAgICBhdmF0YXJJZDogREVGQVVMVF9BVkFUQVJfSURcbiAgICB9KSxcbiAgICBhdmF0YXJIYWxmSGVpZ2h0LFxuICAgIGF2YXRhckhlaWdodCxcbiAgICBtb2RlbENvbnRhaW5lcixcbiAgICBpc0dyb3VuZGVkOiBmYWxzZVxuICB9KVxuXG4gIGFkZENvbXBvbmVudChlbnRpdHksIE5hbWVDb21wb25lbnQsIHtcbiAgICBuYW1lOiB1c2VySWQgYXMgc3RyaW5nXG4gIH0pXG4gIGNvbnNvbGUubG9nKCd1c2VySUQ6ICcgKyB1c2VySWQpXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQW5pbWF0aW9uQ29tcG9uZW50LCB7XG4gICAgbWl4ZXI6IG5ldyBBbmltYXRpb25NaXhlcihtb2RlbENvbnRhaW5lciksXG4gICAgYW5pbWF0aW9uczogW10gYXMgQW5pbWF0aW9uQ2xpcFtdLFxuICAgIGFuaW1hdGlvblNwZWVkOiAxXG4gIH0pXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQXZhdGFyQW5pbWF0aW9uQ29tcG9uZW50LCB7XG4gICAgYW5pbWF0aW9uR3JhcGg6IG5ldyBBdmF0YXJBbmltYXRpb25HcmFwaCgpLFxuICAgIGN1cnJlbnRTdGF0ZTogbmV3IEFuaW1hdGlvblN0YXRlKCksXG4gICAgcHJldlN0YXRlOiBuZXcgQW5pbWF0aW9uU3RhdGUoKSxcbiAgICBwcmV2VmVsb2NpdHk6IG5ldyBWZWN0b3IzKClcbiAgfSlcblxuICBhZGRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudCwgeyB2YWx1ZTogdGlsdENvbnRhaW5lciB9KVxuXG4gIGNvbnN0IGZpbHRlckRhdGEgPSBuZXcgUGh5c1guUHhRdWVyeUZpbHRlckRhdGEoKVxuICBmaWx0ZXJEYXRhLnNldFdvcmRzKENvbGxpc2lvbkdyb3Vwcy5EZWZhdWx0IHwgQ29sbGlzaW9uR3JvdXBzLkdyb3VuZCB8IENvbGxpc2lvbkdyb3Vwcy5UcmlnZ2VyLCAwKVxuICBjb25zdCBmbGFncyA9IFBoeXNYLlB4UXVlcnlGbGFnLmVTVEFUSUMudmFsdWUgfCBQaHlzWC5QeFF1ZXJ5RmxhZy5lRFlOQU1JQy52YWx1ZSB8IFBoeXNYLlB4UXVlcnlGbGFnLmVBTllfSElULnZhbHVlXG4gIGZpbHRlckRhdGEuc2V0RmxhZ3MoZmxhZ3MpXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgUmF5Y2FzdENvbXBvbmVudCwge1xuICAgIGZpbHRlckRhdGEsXG4gICAgdHlwZTogU2NlbmVRdWVyeVR5cGUuQ2xvc2VzdCxcbiAgICBoaXRzOiBbXSxcbiAgICBvcmlnaW46IG5ldyBWZWN0b3IzKDAsIGF2YXRhckhhbGZIZWlnaHQsIDApLFxuICAgIGRpcmVjdGlvbjogbmV3IFZlY3RvcjMoMCwgLTEsIDApLFxuICAgIG1heERpc3RhbmNlOiBhdmF0YXJIYWxmSGVpZ2h0ICsgMC4wNSxcbiAgICBmbGFnc1xuICB9KVxuXG4gIGFkZENvbXBvbmVudChlbnRpdHksIENvbGxpc2lvbkNvbXBvbmVudCwgeyBjb2xsaXNpb25zOiBbXSB9KVxuXG4gIGlmICh1c2VySWQgPT09IEVuZ2luZS51c2VySWQpIHtcbiAgICBhZGRDb21wb25lbnQoZW50aXR5LCBTcGF3blBvc2VDb21wb25lbnQsIHtcbiAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygpLmNvcHkoc3Bhd25BY3Rpb24ucGFyYW1ldGVycy5wb3NpdGlvbiksXG4gICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5jb3B5KHNwYXduQWN0aW9uLnBhcmFtZXRlcnMucm90YXRpb24pXG4gICAgfSlcbiAgICBjcmVhdGVBdmF0YXJDb250cm9sbGVyKGVudGl0eSlcblxuICAgIGFkZENvbXBvbmVudChlbnRpdHksIEF1ZGlvVGFnQ29tcG9uZW50LCB7fSlcbiAgICBhZGRDb21wb25lbnQoZW50aXR5LCBTaGFkb3dDb21wb25lbnQsIHsgcmVjZWl2ZVNoYWRvdzogdHJ1ZSwgY2FzdFNoYWRvdzogdHJ1ZSB9KVxuICAgIGFkZENvbXBvbmVudCh3b3JsZC5sb2NhbENsaWVudEVudGl0eSwgTG9jYWxJbnB1dFRhZ0NvbXBvbmVudCwge30pXG4gICAgYWRkQ29tcG9uZW50KHdvcmxkLmxvY2FsQ2xpZW50RW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQsIEZvbGxvd0NhbWVyYURlZmF1bHRWYWx1ZXMpXG4gICAgYWRkQ29tcG9uZW50KHdvcmxkLmxvY2FsQ2xpZW50RW50aXR5LCBQZXJzaXN0VGFnQ29tcG9uZW50LCB7fSlcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzaGFwZSA9IHdvcmxkLnBoeXNpY3MuY3JlYXRlU2hhcGUoXG4gICAgICBuZXcgUGh5c1guUHhDYXBzdWxlR2VvbWV0cnkoYXZhdGFyUmFkaXVzLCBjYXBzdWxlSGVpZ2h0IC8gMiksXG4gICAgICB3b3JsZC5waHlzaWNzLnBoeXNpY3MuY3JlYXRlTWF0ZXJpYWwoMCwgMCwgMCksXG4gICAgICB7XG4gICAgICAgIGNvbGxpc2lvbkxheWVyOiBDb2xsaXNpb25Hcm91cHMuQXZhdGFycyxcbiAgICAgICAgY29sbGlzaW9uTWFzazogQ29sbGlzaW9uR3JvdXBzLkRlZmF1bHQgfCBDb2xsaXNpb25Hcm91cHMuR3JvdW5kXG4gICAgICB9XG4gICAgKVxuICAgIGNvbnN0IGJvZHkgPSB3b3JsZC5waHlzaWNzLmFkZEJvZHkoe1xuICAgICAgc2hhcGVzOiBbc2hhcGVdLFxuICAgICAgdHlwZTogQm9keVR5cGUuU1RBVElDLFxuICAgICAgdHJhbnNmb3JtOiB7XG4gICAgICAgIHRyYW5zbGF0aW9uOiB7XG4gICAgICAgICAgeDogdHJhbnNmb3JtLnBvc2l0aW9uLngsXG4gICAgICAgICAgeTogdHJhbnNmb3JtLnBvc2l0aW9uLnkgKyBhdmF0YXJIYWxmSGVpZ2h0LFxuICAgICAgICAgIHo6IHRyYW5zZm9ybS5wb3NpdGlvbi56XG4gICAgICAgIH0sXG4gICAgICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpXG4gICAgICB9LFxuICAgICAgdXNlckRhdGE6IHtcbiAgICAgICAgZW50aXR5XG4gICAgICB9XG4gICAgfSlcbiAgICBhZGRDb21wb25lbnQoZW50aXR5LCBDb2xsaWRlckNvbXBvbmVudCwgeyBib2R5IH0pXG4gIH1cblxuICByZXR1cm4gZW50aXR5XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVBdmF0YXJDb250cm9sbGVyID0gKGVudGl0eTogRW50aXR5KSA9PiB7XG4gIGNvbnN0IHsgcG9zaXRpb24gfSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgY29uc3QgeyB2YWx1ZSB9ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgT2JqZWN0M0RDb21wb25lbnQpXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgSW5wdXRDb21wb25lbnQsIHtcbiAgICBzY2hlbWE6IEF2YXRhcklucHV0U2NoZW1hLFxuICAgIGRhdGE6IG5ldyBNYXAoKVxuICB9KVxuICBjb25zdCB3b3JsZCA9IHVzZVdvcmxkKClcbiAgY29uc3QgY29udHJvbGxlciA9IHdvcmxkLnBoeXNpY3MuY3JlYXRlQ29udHJvbGxlcih7XG4gICAgaXNDYXBzdWxlOiB0cnVlLFxuICAgIG1hdGVyaWFsOiB3b3JsZC5waHlzaWNzLmNyZWF0ZU1hdGVyaWFsKCksXG4gICAgcG9zaXRpb246IHtcbiAgICAgIHg6IHBvc2l0aW9uLngsXG4gICAgICB5OiBwb3NpdGlvbi55ICsgYXZhdGFySGFsZkhlaWdodCxcbiAgICAgIHo6IHBvc2l0aW9uLnpcbiAgICB9LFxuICAgIGNvbnRhY3RPZmZzZXQ6IDAuMDEsXG4gICAgc3RlcE9mZnNldDogMC4yNSxcbiAgICBzbG9wZUxpbWl0OiAwLFxuICAgIGhlaWdodDogY2Fwc3VsZUhlaWdodCxcbiAgICByYWRpdXM6IGF2YXRhclJhZGl1cyxcbiAgICB1c2VyRGF0YToge1xuICAgICAgZW50aXR5XG4gICAgfVxuICB9KSBhcyBQaHlzWC5QeENhcHN1bGVDb250cm9sbGVyXG5cbiAgY29uc3QgZnJ1c3R1bUNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg2MCwgMiwgMC4xLCAzKVxuICBmcnVzdHVtQ2FtZXJhLnBvc2l0aW9uLnNldFkoYXZhdGFySGFsZkhlaWdodClcbiAgZnJ1c3R1bUNhbWVyYS5yb3RhdGVZKE1hdGguUEkpXG5cbiAgdmFsdWUuYWRkKGZydXN0dW1DYW1lcmEpXG4gIGFkZENvbXBvbmVudChlbnRpdHksIEludGVyYWN0b3JDb21wb25lbnQsIHtcbiAgICBmb2N1c2VkSW50ZXJhY3RpdmU6IG51bGwhLFxuICAgIGZydXN0dW1DYW1lcmEsXG4gICAgc3ViRm9jdXNlZEFycmF5OiBbXVxuICB9KVxuXG4gIGNvbnN0IHZlbG9jaXR5U2ltdWxhdG9yID0gbmV3IFZlY3RvclNwcmluZ1NpbXVsYXRvcig2MCwgNTAsIDAuOClcbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29udHJvbGxlckNvbXBvbmVudCwge1xuICAgIGNvbnRyb2xsZXIsXG4gICAgZmlsdGVyRGF0YTogbmV3IFBoeXNYLlB4RmlsdGVyRGF0YShcbiAgICAgIENvbGxpc2lvbkdyb3Vwcy5BdmF0YXJzLFxuICAgICAgQ29sbGlzaW9uR3JvdXBzLkRlZmF1bHQgfCBDb2xsaXNpb25Hcm91cHMuR3JvdW5kIHwgQ29sbGlzaW9uR3JvdXBzLlRyaWdnZXIsXG4gICAgICAwLFxuICAgICAgMFxuICAgICksXG4gICAgY29sbGlzaW9uczogW2ZhbHNlLCBmYWxzZSwgZmFsc2VdLFxuICAgIG1vdmVtZW50RW5hYmxlZDogdHJ1ZSxcbiAgICBpc0p1bXBpbmc6IGZhbHNlLFxuICAgIGlzV2Fsa2luZzogZmFsc2UsXG4gICAgbG9jYWxNb3ZlbWVudERpcmVjdGlvbjogbmV3IFZlY3RvcjMoKSxcbiAgICB2ZWxvY2l0eVNpbXVsYXRvclxuICB9KVxufVxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgZGVmaW5lUXVlcnksIGdldENvbXBvbmVudCwgaGFzQ29tcG9uZW50IH0gZnJvbSAnLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi90cmFuc2Zvcm0vY29tcG9uZW50cy9UcmFuc2Zvcm1Db21wb25lbnQnXG5pbXBvcnQgeyBTcGF3blBvaW50Q29tcG9uZW50IH0gZnJvbSAnLi4vc2NlbmUvY29tcG9uZW50cy9TcGF3blBvaW50Q29tcG9uZW50J1xuaW1wb3J0IHsgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlQXZhdGFyIH0gZnJvbSAnLi9mdW5jdGlvbnMvY3JlYXRlQXZhdGFyJ1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vZWNzL2NsYXNzZXMvU3lzdGVtJ1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuLi9lY3MvY2xhc3Nlcy9Xb3JsZCdcbmltcG9ydCB7IE5ldHdvcmtXb3JsZEFjdGlvbiB9IGZyb20gJy4uL25ldHdvcmtpbmcvZnVuY3Rpb25zL05ldHdvcmtXb3JsZEFjdGlvbidcbmltcG9ydCBtYXRjaGVzIGZyb20gJ3RzLW1hdGNoZXMnXG5pbXBvcnQgeyBpc0NsaWVudCB9IGZyb20gJy4uL2NvbW1vbi9mdW5jdGlvbnMvaXNDbGllbnQnXG5cbmNvbnN0IHJhbmRvbVBvc2l0aW9uQ2VudGVyZWQgPSAoYXJlYTogVmVjdG9yMykgPT4ge1xuICByZXR1cm4gbmV3IFZlY3RvcjMoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogYXJlYS54LCAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBhcmVhLnksIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGFyZWEueilcbn1cblxuZXhwb3J0IGNsYXNzIFNwYXduUG9pbnRzIHtcbiAgc3RhdGljIGluc3RhbmNlOiBTcGF3blBvaW50c1xuXG4gIHNwYXduUG9pbnRzOiBFbnRpdHlbXSA9IFtdXG4gIGxhc3RTcGF3bkluZGV4ID0gMFxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIFNwYXduUG9pbnRzLmluc3RhbmNlID0gdGhpc1xuICB9XG5cbiAgZ2V0UmFuZG9tU3Bhd25Qb2ludCgpOiB7IHBvc2l0aW9uOiBWZWN0b3IzOyByb3RhdGlvbjogUXVhdGVybmlvbiB9IHtcbiAgICBpZiAodHlwZW9mIHRoaXMuc3Bhd25Qb2ludHNbdGhpcy5sYXN0U3Bhd25JbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBzcGF3blRyYW5zZm9ybSA9IGdldENvbXBvbmVudCh0aGlzLnNwYXduUG9pbnRzW3RoaXMubGFzdFNwYXduSW5kZXhdLCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gICAgICBpZiAoc3Bhd25UcmFuc2Zvcm0gJiYgdGhpcy5zcGF3blBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEdldCBuZXcgc3Bhd24gcG9pbnQgKHJvdW5kIHJvYmluKVxuICAgICAgICB0aGlzLmxhc3RTcGF3bkluZGV4ID0gKHRoaXMubGFzdFNwYXduSW5kZXggKyAxKSAlIHRoaXMuc3Bhd25Qb2ludHMubGVuZ3RoXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zaXRpb246IHNwYXduVHJhbnNmb3JtLnBvc2l0aW9uXG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLmFkZChyYW5kb21Qb3NpdGlvbkNlbnRlcmVkKG5ldyBWZWN0b3IzKHNwYXduVHJhbnNmb3JtLnNjYWxlLngsIDAsIHNwYXduVHJhbnNmb3JtLnNjYWxlLnopKSksXG4gICAgICAgICAgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkgLy9zcGF3blRyYW5zZm9ybS5yb3RhdGlvbi5jbG9uZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBzcGF3biBlbnRpdHkgYXQgc3Bhd24gcG9pbnQsIG5vIHNwYXduIHBvaW50cyBhdmFpbGFibGVcIilcblxuICAgIHJldHVybiB7XG4gICAgICBwb3NpdGlvbjogcmFuZG9tUG9zaXRpb25DZW50ZXJlZChuZXcgVmVjdG9yMygyLCAwLCAyKSksXG4gICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBBdmF0YXJTcGF3blN5c3RlbSh3b3JsZDogV29ybGQpOiBQcm9taXNlPFN5c3RlbT4ge1xuICB3b3JsZC5yZWNlcHRvcnMuYWRkKChhY3Rpb24pID0+IHtcbiAgICBtYXRjaGVzKGFjdGlvbikud2hlbihOZXR3b3JrV29ybGRBY3Rpb24uc3Bhd25BdmF0YXIubWF0Y2hlcywgY3JlYXRlQXZhdGFyKVxuICB9KVxuXG4gIGlmIChpc0NsaWVudCkge1xuICAgIHJldHVybiAoKSA9PiB7fVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNwYXduUG9pbnRRdWVyeSA9IGRlZmluZVF1ZXJ5KFtTcGF3blBvaW50Q29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnRdKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBLZWVwIGEgbGlzdCBvZiBzcGF3biBwb2ludHMgc28gd2UgY2FuIHNlbmQgb3VyIHVzZXIgdG8gb25lXG4gICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBzcGF3blBvaW50UXVlcnkuZW50ZXIod29ybGQpKSB7XG4gICAgICAgIGlmICghaGFzQ29tcG9uZW50KGVudGl0eSwgVHJhbnNmb3JtQ29tcG9uZW50KSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IGFkZCBzcGF3biBwb2ludCwgbm8gdHJhbnNmb3JtIGNvbXBvbmVudCBvbiBlbnRpdHlcIilcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIFNwYXduUG9pbnRzLmluc3RhbmNlLnNwYXduUG9pbnRzLnB1c2goZW50aXR5KVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2Ygc3Bhd25Qb2ludFF1ZXJ5LmV4aXQod29ybGQpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gU3Bhd25Qb2ludHMuaW5zdGFuY2Uuc3Bhd25Qb2ludHMuaW5kZXhPZihlbnRpdHkpXG5cbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICBTcGF3blBvaW50cy5pbnN0YW5jZS5zcGF3blBvaW50cy5zcGxpY2UoaW5kZXgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBlbnVtIEJvdEhvb2tzIHtcbiAgSW5pdGlhbGl6ZUJvdCA9ICdCb3RIb29rc19Jbml0aWFsaXplQm90JyxcbiAgTG9jYXRpb25Mb2FkZWQgPSAnQm90SG9va3NfTG9jYXRpb25Mb2FkZWQnLFxuICBHZXRQbGF5ZXJQb3NpdGlvbiA9ICdCb3RIb29rc19HZXRQbGF5ZXJQb3NpdGlvbicsXG4gIFJvdGF0ZVBsYXllciA9ICdCb3RIb29rc19Sb3RhdGVQbGF5ZXInLFxuICBHZXRDbGllbnRzID0gJ0JvdEhvb2tzX0dldENsaWVudHMnXG59XG5cbmV4cG9ydCBlbnVtIFhSQm90SG9va3Mge1xuICBPdmVycmlkZVhSID0gJ1hSQm90SG9va3NfT3ZlcnJpZGVYUicsXG4gIFhSU3VwcG9ydGVkID0gJ1hSQm90SG9va3NfWFJTdXBwb3J0ZWQnLFxuICBYUkluaXRpYWxpemVkID0gJ1hSQm90SG9va3NfWFJJbml0aWFsaXplZCcsXG4gIFN0YXJ0WFIgPSAnWFJCb3RIb29rc19TdGFydFhSJyxcbiAgVXBkYXRlSGVhZCA9ICdYUkJvdEhvb2tzX1VwZGF0ZUhlYWQnLFxuICBVcGRhdGVDb250cm9sbGVyID0gJ1hSQm90SG9va3NfVXBkYXRlQ29udHJvbGxlcicsXG4gIFByZXNzQ29udHJvbGxlckJ1dHRvbiA9ICdYUkJvdEhvb2tzX1ByZXNzQ29udHJvbGxlckJ1dHRvbicsXG4gIE1vdmVDb250cm9sbGVyU3RpY2sgPSAnWFJCb3RIb29rc19Nb3ZlQ29udHJvbGxlclN0aWNrJyxcbiAgR2V0WFJJbnB1dFBvc2l0aW9uID0gJ1hSQm90SG9va3NfR2V0WFJJbnB1dFBvc2l0aW9uJyxcbiAgVHdlZW5YUklucHV0U291cmNlID0gJ1hSQm90SG9va3NfVHdlZW5YUklucHV0U291cmNlJ1xufVxuIiwiLy8gPT09IFNFVFVQIFdFQlhSID09PSAvL1xuXG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBYUklucHV0U291cmNlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYXZhdGFyL2NvbXBvbmVudHMvWFJJbnB1dFNvdXJjZUNvbXBvbmVudCdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IEVuZ2luZUV2ZW50cyB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZUV2ZW50cydcbmltcG9ydCB7IGdldENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgdXNlV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL1N5c3RlbUhvb2tzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3ZlcnJpZGVYUigpIHtcbiAgLy8gaW5qZWN0IHRoZSB3ZWJ4ciBwb2x5ZmlsbCBmcm9tIHRoZSB3ZWJ4ciBlbXVsYXRvciBzb3VyY2UgLSB0aGlzIGlzIGEgc2NyaXB0IGFkZGVkIGJ5IHRoZSBib3RcbiAgLy8gZ2xvYmFsVGhpcy5XZWJYUlBvbHlmaWxsSW5qZWN0aW9uKClcblxuICBjb25zdCB7IFhSRW5naW5lV2ViWFJQb2x5ZmlsbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi93ZWJ4ci1lbXVsYXRvci9DdXN0b21XZWJYUlBvbHlmaWxsJylcbiAgbmV3IFhSRW5naW5lV2ViWFJQb2x5ZmlsbCgpXG4gIC8vIG92ZXJyaWRlIHNlc3Npb24gc3VwcG9ydGVkIHJlcXVlc3QsIGl0IGhhbmdzIGluZGVmaW5pdGVseSBmb3Igc29tZSByZWFzb25cbiAgOyhuYXZpZ2F0b3IgYXMgYW55KS54ci5pc1Nlc3Npb25TdXBwb3J0ZWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IGRldmljZURlZmluaXRpb24gPSB7XG4gICAgaWQ6ICdPY3VsdXMgUXVlc3QnLFxuICAgIG5hbWU6ICdPY3VsdXMgUXVlc3QnLFxuICAgIG1vZGVzOiBbJ2lubGluZScsICdpbW1lcnNpdmUtdnInXSxcbiAgICBoZWFkc2V0OiB7XG4gICAgICBoYXNQb3NpdGlvbjogdHJ1ZSxcbiAgICAgIGhhc1JvdGF0aW9uOiB0cnVlXG4gICAgfSxcbiAgICBjb250cm9sbGVyczogW1xuICAgICAge1xuICAgICAgICBpZDogJ09jdWx1cyBUb3VjaCAoUmlnaHQpJyxcbiAgICAgICAgYnV0dG9uTnVtOiA3LFxuICAgICAgICBwcmltYXJ5QnV0dG9uSW5kZXg6IDAsXG4gICAgICAgIHByaW1hcnlTcXVlZXplQnV0dG9uSW5kZXg6IDEsXG4gICAgICAgIGhhc1Bvc2l0aW9uOiB0cnVlLFxuICAgICAgICBoYXNSb3RhdGlvbjogdHJ1ZSxcbiAgICAgICAgaGFzU3F1ZWV6ZUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgaXNDb21wbGV4OiB0cnVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ09jdWx1cyBUb3VjaCAoTGVmdCknLFxuICAgICAgICBidXR0b25OdW06IDcsXG4gICAgICAgIHByaW1hcnlCdXR0b25JbmRleDogMCxcbiAgICAgICAgcHJpbWFyeVNxdWVlemVCdXR0b25JbmRleDogMSxcbiAgICAgICAgaGFzUG9zaXRpb246IHRydWUsXG4gICAgICAgIGhhc1JvdGF0aW9uOiB0cnVlLFxuICAgICAgICBoYXNTcXVlZXplQnV0dG9uOiB0cnVlLFxuICAgICAgICBpc0NvbXBsZXg6IHRydWVcbiAgICAgIH1cbiAgICBdXG4gIH1cblxuICAvLyBzZW5kIG91ciBkZXZpY2UgaW5mbyB0byB0aGUgcG9seWZpbGwgQVBJIHNvIGl0IGtub3dzIG91ciBjYXBhYmlsaXRpZXNcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoe1xuICAgIHR5cGU6ICd3ZWJ4ci1kZXZpY2UtaW5pdCcsXG4gICAgZGV0YWlsOiB7IHN0ZXJlb0VmZmVjdDogZmFsc2UsIGRldmljZURlZmluaXRpb24gfVxuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24geHJTdXBwb3J0ZWQoKSB7XG4gIGNvbnN0IHN1cHBvcnRlZCA9IGF3YWl0IChuYXZpZ2F0b3IgYXMgYW55KS54ci5pc1Nlc3Npb25TdXBwb3J0ZWQoJ2ltbWVyc2l2ZS12cicpXG4gIEVuZ2luZS54clN1cHBvcnRlZCA9IHN1cHBvcnRlZFxuICByZXR1cm4gc3VwcG9ydGVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4ckluaXRpYWxpemVkKCkge1xuICByZXR1cm4gQm9vbGVhbihFbmdpbmUueHJTZXNzaW9uKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRYUigpIHtcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBFbmdpbmVFdmVudHMuRVZFTlRTLlhSX1NUQVJUIH0pXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICB0eXBlOiAnd2VieHItcG9zZScsXG4gICAgZGV0YWlsOiB7XG4gICAgICBwb3NpdGlvbjogWzAsIDEuNiwgMF0sXG4gICAgICBxdWF0ZXJuaW9uOiBbMCwgMCwgMCwgMV1cbiAgICB9XG4gIH0pXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICB0eXBlOiAnd2VieHItaW5wdXQtcG9zZScsXG4gICAgZGV0YWlsOiB7XG4gICAgICBvYmplY3ROYW1lOiAncmlnaHRDb250cm9sbGVyJyxcbiAgICAgIHBvc2l0aW9uOiBbMC41LCAxLjUsIC0xXSxcbiAgICAgIHF1YXRlcm5pb246IFswLCAwLCAwLCAxXVxuICAgIH1cbiAgfSlcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoe1xuICAgIHR5cGU6ICd3ZWJ4ci1pbnB1dC1wb3NlJyxcbiAgICBkZXRhaWw6IHtcbiAgICAgIG9iamVjdE5hbWU6ICdsZWZ0Q29udHJvbGxlcicsXG4gICAgICBwb3NpdGlvbjogWy0wLjUsIDEuNSwgLTFdLFxuICAgICAgcXVhdGVybmlvbjogWzAsIDAsIDAsIDFdXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFyZ3MucHJlc3NlZFxuICogQHBhcmFtIHtzdHJpbmd9IGFyZ3Mub2JqZWN0TmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IGFyZ3MuYnV0dG9uSW5kZXhcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXNzQ29udHJvbGxlckJ1dHRvbihhcmdzKSB7XG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3dlYnhyLWlucHV0LWJ1dHRvbicsIGRldGFpbDogYXJncyB9KVxuICAvLyApXG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGFyZ3NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJncy52YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IGFyZ3Mub2JqZWN0TmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IGFyZ3MuYXhlc0luZGV4XG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQ29udHJvbGxlclN0aWNrKGFyZ3MpIHtcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAnd2VieHItaW5wdXQtYXhlcycsIGRldGFpbDogYXJncyB9KVxuICAvLyApXG59XG5cbi8vIGlzIGluIHdvcmxkIHNwYWNlLCBzbyBzdWJ0cmFjdCBwbGF5ZXIgcG9zIGZyb20gaXRcbmV4cG9ydCBmdW5jdGlvbiBnZXRYUklucHV0UG9zaXRpb24oKSB7XG4gIGNvbnN0IHhySW5wdXRzID0gZ2V0Q29tcG9uZW50KHVzZVdvcmxkKCkubG9jYWxDbGllbnRFbnRpdHksIFhSSW5wdXRTb3VyY2VDb21wb25lbnQpXG4gIGNvbnN0IGhtZCA9IHhySW5wdXRzLmhlYWQucG9zaXRpb24udG9BcnJheSgpLmNvbmNhdCh4cklucHV0cy5oZWFkLnF1YXRlcm5pb24udG9BcnJheSgpKVxuICBjb25zdCBsZWZ0ID0geHJJbnB1dHMuY29udHJvbGxlckxlZnQucG9zaXRpb24udG9BcnJheSgpLmNvbmNhdCh4cklucHV0cy5jb250cm9sbGVyTGVmdC5xdWF0ZXJuaW9uLnRvQXJyYXkoKSlcbiAgY29uc3QgcmlnaHQgPSB4cklucHV0cy5jb250cm9sbGVyUmlnaHQucG9zaXRpb24udG9BcnJheSgpLmNvbmNhdCh4cklucHV0cy5jb250cm9sbGVyUmlnaHQucXVhdGVybmlvbi50b0FycmF5KCkpXG4gIHJldHVybiB7XG4gICAgaGVhZElucHV0VmFsdWU6IGhtZCxcbiAgICBsZWZ0Q29udHJvbGxlcklucHV0VmFsdWU6IGxlZnQsXG4gICAgcmlnaHRDb250cm9sbGVySW5wdXRWYWx1ZTogcmlnaHRcbiAgfVxufVxuXG50eXBlIElucHV0U291cmNlID0gJ2hlYWQnIHwgJ2xlZnRDb250cm9sbGVyJyB8ICdyaWdodENvbnRyb2xsZXInXG5cbmNvbnN0IGhlYWRQb3NpdGlvbiA9IG5ldyBWZWN0b3IzKDAsIDEuNiwgMClcbmNvbnN0IGhlYWRSb3RhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKClcbmNvbnN0IGxlZnRDb250cm9sbGVyUG9zaXRpb24gPSBuZXcgVmVjdG9yMygtMC41LCAxLjUsIC0xKVxuY29uc3QgbGVmdENvbnRyb2xsZXJSb3RhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKClcbmNvbnN0IHJpZ2h0Q29udHJvbGxlclBvc2l0aW9uID0gbmV3IFZlY3RvcjMoMC41LCAxLjUsIC0xKVxuY29uc3QgcmlnaHRDb250cm9sbGVyUm90YXRpb24gPSBuZXcgUXVhdGVybmlvbigpXG5cbmV4cG9ydCBjb25zdCBnZXRJbnB1dFNvdXJjZVBvc2l0aW9uID0gKGlucHV0U291cmNlOiBJbnB1dFNvdXJjZSkgPT4ge1xuICBzd2l0Y2ggKGlucHV0U291cmNlKSB7XG4gICAgY2FzZSAnaGVhZCc6XG4gICAgICByZXR1cm4gaGVhZFBvc2l0aW9uXG4gICAgY2FzZSAnbGVmdENvbnRyb2xsZXInOlxuICAgICAgcmV0dXJuIGxlZnRDb250cm9sbGVyUG9zaXRpb25cbiAgICBjYXNlICdyaWdodENvbnRyb2xsZXInOlxuICAgICAgcmV0dXJuIHJpZ2h0Q29udHJvbGxlclBvc2l0aW9uXG4gIH1cbn1cbmV4cG9ydCBjb25zdCBnZXRJbnB1dFNvdXJjZVJvdGF0aW9uID0gKGlucHV0U291cmNlOiBJbnB1dFNvdXJjZSkgPT4ge1xuICBzd2l0Y2ggKGlucHV0U291cmNlKSB7XG4gICAgY2FzZSAnaGVhZCc6XG4gICAgICByZXR1cm4gaGVhZFJvdGF0aW9uXG4gICAgY2FzZSAnbGVmdENvbnRyb2xsZXInOlxuICAgICAgcmV0dXJuIGxlZnRDb250cm9sbGVyUm90YXRpb25cbiAgICBjYXNlICdyaWdodENvbnRyb2xsZXInOlxuICAgICAgcmV0dXJuIHJpZ2h0Q29udHJvbGxlclJvdGF0aW9uXG4gIH1cbn1cblxuY29uc3QgdHdlZW5zOiBhbnlbXSA9IFtdXG5cbmV4cG9ydCBjb25zdCBzZW5kWFJJbnB1dERhdGEgPSAoKSA9PiB7XG4gIHR3ZWVucy5mb3JFYWNoKChjYWxsKSA9PiBjYWxsKCkpXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICB0eXBlOiAnd2VieHItcG9zZScsXG4gICAgZGV0YWlsOiB7XG4gICAgICBwb3NpdGlvbjogaGVhZFBvc2l0aW9uLnRvQXJyYXkoKSxcbiAgICAgIHF1YXRlcm5pb246IGhlYWRSb3RhdGlvbi50b0FycmF5KClcbiAgICB9XG4gIH0pXG4gIC8vIClcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoe1xuICAgIHR5cGU6ICd3ZWJ4ci1pbnB1dC1wb3NlJyxcbiAgICBkZXRhaWw6IHtcbiAgICAgIG9iamVjdE5hbWU6ICdsZWZ0Q29udHJvbGxlcicsXG4gICAgICBwb3NpdGlvbjogbGVmdENvbnRyb2xsZXJQb3NpdGlvbi50b0FycmF5KCksXG4gICAgICBxdWF0ZXJuaW9uOiBsZWZ0Q29udHJvbGxlclJvdGF0aW9uLnRvQXJyYXkoKVxuICAgIH1cbiAgfSlcbiAgLy8gKVxuICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuZGlzcGF0Y2hFdmVudCh7XG4gICAgdHlwZTogJ3dlYnhyLWlucHV0LXBvc2UnLFxuICAgIGRldGFpbDoge1xuICAgICAgb2JqZWN0TmFtZTogJ3JpZ2h0Q29udHJvbGxlcicsXG4gICAgICBwb3NpdGlvbjogcmlnaHRDb250cm9sbGVyUG9zaXRpb24udG9BcnJheSgpLFxuICAgICAgcXVhdGVybmlvbjogcmlnaHRDb250cm9sbGVyUm90YXRpb24udG9BcnJheSgpXG4gICAgfVxuICB9KVxuICAvLyApXG59XG5cbmV4cG9ydCB0eXBlIElucHV0U291cmNlVHdlZW5Qcm9wcyA9IHtcbiAgb2JqZWN0TmFtZTogSW5wdXRTb3VyY2VcbiAgdGltZTogbnVtYmVyIC8vIGluIGZyYW1lc1xuICBwb3NpdGlvbkZyb206IFZlY3RvcjNcbiAgcG9zaXRpb25UbzogVmVjdG9yM1xuICBxdWF0ZXJuaW9uRnJvbTogUXVhdGVybmlvblxuICBxdWF0ZXJuaW9uVG86IFF1YXRlcm5pb25cbiAgY2FsbGJhY2s6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR3ZWVuWFJJbnB1dFNvdXJjZShhcmdzOiBJbnB1dFNvdXJjZVR3ZWVuUHJvcHMpIHtcbiAgbGV0IGNvdW50ZXIgPSAwXG4gIGNvbnN0IHZlYzMgPSBnZXRJbnB1dFNvdXJjZVBvc2l0aW9uKGFyZ3Mub2JqZWN0TmFtZSlcbiAgY29uc3QgcXVhdCA9IGdldElucHV0U291cmNlUm90YXRpb24oYXJncy5vYmplY3ROYW1lKVxuICBjb25zdCB0d2VlbkZ1bmN0aW9uID0gKCkgPT4ge1xuICAgIHZlYzMubGVycFZlY3RvcnMoYXJncy5wb3NpdGlvbkZyb20sIGFyZ3MucG9zaXRpb25UbywgY291bnRlciAvIGFyZ3MudGltZSlcbiAgICBxdWF0LnNsZXJwUXVhdGVybmlvbnMoYXJncy5xdWF0ZXJuaW9uRnJvbSwgYXJncy5xdWF0ZXJuaW9uVG8sIGNvdW50ZXIgLyBhcmdzLnRpbWUpXG4gICAgaWYgKGNvdW50ZXIgPj0gYXJncy50aW1lKSB7XG4gICAgICB0d2VlbnMuc3BsaWNlKHR3ZWVucy5pbmRleE9mKHR3ZWVuRnVuY3Rpb24pKVxuICAgICAgYXJncy5jYWxsYmFjaygpXG4gICAgfVxuICAgIGNvdW50ZXIrK1xuICB9XG4gIHR3ZWVucy5wdXNoKHR3ZWVuRnVuY3Rpb24pXG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGFyZ3NcbiAqIEBwYXJhbSB7YXJyYXl9IGFyZ3MucG9zaXRpb25cbiAqIEBwYXJhbSB7YXJyYXl9IGFyZ3Mucm90YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhlYWQoYXJnczogeyBwb3NpdGlvbj86IG51bWJlcltdOyByb3RhdGlvbj86IG51bWJlcltdIH0pIHtcbiAgYXJncy5wb3NpdGlvbiAmJiBoZWFkUG9zaXRpb24uZnJvbUFycmF5KGFyZ3MucG9zaXRpb24pXG4gIGFyZ3Mucm90YXRpb24gJiYgaGVhZFJvdGF0aW9uLmZyb21BcnJheShhcmdzLnJvdGF0aW9uKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzXG4gKiBAcGFyYW0ge2FycmF5fSBhcmdzLnBvc2l0aW9uXG4gKiBAcGFyYW0ge2FycmF5fSBhcmdzLnJvdGF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gYXJncy5vYmplY3ROYW1lXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb250cm9sbGVyKGFyZ3M6IHsgb2JqZWN0TmFtZTogc3RyaW5nOyBwb3NpdGlvbjogbnVtYmVyW107IHJvdGF0aW9uOiBudW1iZXJbXSB9KSB7XG4gIGlmIChhcmdzLm9iamVjdE5hbWUgPT09ICdsZWZ0Q29udHJvbGxlcicpIHtcbiAgICBsZWZ0Q29udHJvbGxlclBvc2l0aW9uLmZyb21BcnJheShhcmdzLnBvc2l0aW9uKVxuICAgIGxlZnRDb250cm9sbGVyUm90YXRpb24uZnJvbUFycmF5KGFyZ3Mucm90YXRpb24pXG4gIH0gZWxzZSB7XG4gICAgcmlnaHRDb250cm9sbGVyUG9zaXRpb24uZnJvbUFycmF5KGFyZ3MucG9zaXRpb24pXG4gICAgcmlnaHRDb250cm9sbGVyUm90YXRpb24uZnJvbUFycmF5KGFyZ3Mucm90YXRpb24pXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlWFIoKSB7XG4gIC8vIGF3YWl0IGxvYWRTY3JpcHQoRW5naW5lLnB1YmxpY1BhdGggKyAnL3NjcmlwdHMvd2VieHItcG9seWZpbGwuanMnKVxuICBhd2FpdCBvdmVycmlkZVhSKClcbiAgYXdhaXQgeHJTdXBwb3J0ZWQoKVxuICBFbmdpbmUuaXNCb3QgPSB0cnVlXG4gIGF3YWl0IHN0YXJ0WFIoKVxufVxuIiwiaW1wb3J0IHsgTWF0aFV0aWxzLCBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBnZXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IHVzZVdvcmxkIH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9TeXN0ZW1Ib29rcydcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcbmltcG9ydCB7IEJvdEhvb2tzLCBYUkJvdEhvb2tzIH0gZnJvbSAnLi4vZW51bXMvQm90SG9va3MnXG5pbXBvcnQge1xuICBnZXRYUklucHV0UG9zaXRpb24sXG4gIG1vdmVDb250cm9sbGVyU3RpY2ssXG4gIG92ZXJyaWRlWFIsXG4gIHByZXNzQ29udHJvbGxlckJ1dHRvbixcbiAgc3RhcnRYUixcbiAgdHdlZW5YUklucHV0U291cmNlLFxuICB1cGRhdGVDb250cm9sbGVyLFxuICB1cGRhdGVIZWFkLFxuICB4ckluaXRpYWxpemVkLFxuICB4clN1cHBvcnRlZFxufSBmcm9tICcuL3hyQm90SG9va0Z1bmN0aW9ucydcblxuZXhwb3J0IGNvbnN0IEJvdEhvb2tGdW5jdGlvbnMgPSB7XG4gIFtCb3RIb29rcy5Jbml0aWFsaXplQm90XTogaW5pdGlhbGl6ZUJvdCxcbiAgW0JvdEhvb2tzLkxvY2F0aW9uTG9hZGVkXTogbG9jYXRpb25Mb2FkZWQsXG4gIFtCb3RIb29rcy5HZXRQbGF5ZXJQb3NpdGlvbl06IGdldFBsYXllclBvc2l0aW9uLFxuICBbQm90SG9va3MuUm90YXRlUGxheWVyXTogcm90YXRlUGxheWVyLFxuICBbQm90SG9va3MuR2V0Q2xpZW50c106IGdldENsaWVudHMsXG4gIFtYUkJvdEhvb2tzLk92ZXJyaWRlWFJdOiBvdmVycmlkZVhSLFxuICBbWFJCb3RIb29rcy5YUlN1cHBvcnRlZF06IHhyU3VwcG9ydGVkLFxuICBbWFJCb3RIb29rcy5YUkluaXRpYWxpemVkXTogeHJJbml0aWFsaXplZCxcbiAgW1hSQm90SG9va3MuU3RhcnRYUl06IHN0YXJ0WFIsXG4gIFtYUkJvdEhvb2tzLlVwZGF0ZUhlYWRdOiB1cGRhdGVIZWFkLFxuICBbWFJCb3RIb29rcy5VcGRhdGVDb250cm9sbGVyXTogdXBkYXRlQ29udHJvbGxlcixcbiAgW1hSQm90SG9va3MuUHJlc3NDb250cm9sbGVyQnV0dG9uXTogcHJlc3NDb250cm9sbGVyQnV0dG9uLFxuICBbWFJCb3RIb29rcy5Nb3ZlQ29udHJvbGxlclN0aWNrXTogbW92ZUNvbnRyb2xsZXJTdGljayxcbiAgW1hSQm90SG9va3MuR2V0WFJJbnB1dFBvc2l0aW9uXTogZ2V0WFJJbnB1dFBvc2l0aW9uLFxuICBbWFJCb3RIb29rcy5Ud2VlblhSSW5wdXRTb3VyY2VdOiB0d2VlblhSSW5wdXRTb3VyY2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVCb3QoKSB7XG4gIEVuZ2luZS5pc0JvdCA9IHRydWVcbn1cblxuLy8gPT09IEVOR0lORSA9PT0gLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0aW9uTG9hZGVkKCkge1xuICByZXR1cm4gRW5naW5lLmhhc0pvaW5lZFdvcmxkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGF5ZXJQb3NpdGlvbigpIHtcbiAgcmV0dXJuIGdldENvbXBvbmVudCh1c2VXb3JsZCgpLmxvY2FsQ2xpZW50RW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpPy5wb3NpdGlvblxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzXG4gKiBAcGFyYW0ge251bWJlcn0gYXJncy5hbmdsZSBpbiBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQbGF5ZXIoeyBhbmdsZSB9KSB7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXBvbmVudCh1c2VXb3JsZCgpLmxvY2FsQ2xpZW50RW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gIHRyYW5zZm9ybS5yb3RhdGlvbi5tdWx0aXBseShuZXcgUXVhdGVybmlvbigpLnNldEZyb21BeGlzQW5nbGUobmV3IFZlY3RvcjMoMCwgMSwgMCksIE1hdGhVdGlscy5kZWdUb1JhZChhbmdsZSkpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xpZW50cygpIHtcbiAgcmV0dXJuIHVzZVdvcmxkKCkuY2xpZW50c1xufVxuIiwiLyoqXG4gKiByZXR1cm4gY3VycmVudCB0aW1lIG9mIHRoZSBzeXN0ZW0uXG4gKiBwZXJmb3JtYW5jZS5ub3coKSBcInBvbHlmaWxsXCJcbiAqL1xuZXhwb3J0IGNvbnN0IG5vd01pbGxpc2Vjb25kcyA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnXG4gICAgPyBwZXJmb3JtYW5jZS5ub3cuYmluZChwZXJmb3JtYW5jZSlcbiAgICA6IERhdGUubm93LmJpbmQoRGF0ZSlcbiIsImltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnLi9pc0NsaWVudCdcbmltcG9ydCB7IG5vd01pbGxpc2Vjb25kcyB9IGZyb20gJy4vbm93TWlsbGlzZWNvbmRzJ1xuaW1wb3J0IHsgRW5naW5lRXZlbnRzIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW5naW5lRXZlbnRzJ1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW5naW5lJ1xuXG50eXBlIFRpbWVyVXBkYXRlQ2FsbGJhY2sgPSAoZGVsdGE6IG51bWJlciwgZWxhcHNlZFRpbWU6IG51bWJlcikgPT4gYW55XG5cbmNvbnN0IFRQU19SRVBPUlRTX0VOQUJMRUQgPSBmYWxzZVxuY29uc3QgVFBTX1JFUE9SVF9JTlRFUlZBTF9NUyA9IDEwMDAwXG5cbmV4cG9ydCBmdW5jdGlvbiBUaW1lcih1cGRhdGU6IFRpbWVyVXBkYXRlQ2FsbGJhY2spOiB7IHN0YXJ0OiBGdW5jdGlvbjsgc3RvcDogRnVuY3Rpb247IGNsZWFyOiBGdW5jdGlvbiB9IHtcbiAgbGV0IGxhc3RUaW1lID0gbnVsbFxuICBsZXQgZWxhcHNlZFRpbWUgPSAwXG4gIGxldCBkZWx0YSA9IDBcbiAgbGV0IGZyYW1lSWRcblxuICBjb25zdCBuZXdFbmdpbmVUaWNrcyA9IHtcbiAgICBmaXhlZDogMCxcbiAgICBuZXQ6IDAsXG4gICAgdXBkYXRlOiAwLFxuICAgIHJlbmRlcjogMFxuICB9XG4gIGNvbnN0IG5ld0VuZ2luZVRpbWVTcGVudCA9IHtcbiAgICBmaXhlZDogMCxcbiAgICBuZXQ6IDAsXG4gICAgdXBkYXRlOiAwLFxuICAgIHJlbmRlcjogMFxuICB9XG5cbiAgbGV0IHRpbWVyU3RhcnRUaW1lID0gMFxuICBsZXQgdHBzUHJldlRpbWUgPSAwXG4gIGxldCB0cHNQcmV2VGlja3MgPSAwXG4gIGxldCBuZXh0VHBzUmVwb3J0VGltZSA9IDBcbiAgbGV0IHRpbWVyUnVucyA9IDBcbiAgbGV0IHByZXZUaW1lclJ1bnMgPSAwXG4gIGxldCBzZXJ2ZXJMb29wXG5cbiAgZnVuY3Rpb24geHJBbmltYXRpb25Mb29wKHRpbWUsIHhyRnJhbWUpIHtcbiAgICBFbmdpbmUueHJGcmFtZSA9IHhyRnJhbWVcbiAgICBpZiAobGFzdFRpbWUgIT09IG51bGwpIHtcbiAgICAgIGRlbHRhID0gKHRpbWUgLSBsYXN0VGltZSkgLyAxMDAwXG4gICAgICBlbGFwc2VkVGltZSArPSBkZWx0YVxuICAgICAgdXBkYXRlKGRlbHRhLCBlbGFwc2VkVGltZSlcbiAgICB9XG4gICAgbGFzdFRpbWUgPSB0aW1lXG4gIH1cblxuICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihFbmdpbmVFdmVudHMuRVZFTlRTLlhSX1NUQVJULCBhc3luYyAoZXY6IGFueSkgPT4ge1xuICAgIHN0b3AoKVxuICB9KVxuICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihFbmdpbmVFdmVudHMuRVZFTlRTLlhSX1NFU1NJT04sIGFzeW5jIChldjogYW55KSA9PiB7XG4gICAgRW5naW5lLnhyUmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcCh4ckFuaW1hdGlvbkxvb3ApXG4gIH0pXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKEVuZ2luZUV2ZW50cy5FVkVOVFMuWFJfRU5ELCBhc3luYyAoZXY6IGFueSkgPT4ge1xuICAgIHN0YXJ0KClcbiAgfSlcblxuICBmdW5jdGlvbiBvbkZyYW1lKHRpbWUpIHtcbiAgICB0aW1lclJ1bnMgKz0gMVxuICAgIGNvbnN0IGl0c1Rwc1JlcG9ydFRpbWUgPSBUUFNfUkVQT1JUX0lOVEVSVkFMX01TICYmIG5leHRUcHNSZXBvcnRUaW1lIDw9IHRpbWVcbiAgICBpZiAoVFBTX1JFUE9SVFNfRU5BQkxFRCAmJiBpdHNUcHNSZXBvcnRUaW1lKSB7XG4gICAgICB0cHNQcmludFJlcG9ydCh0aW1lKVxuICAgIH1cblxuICAgIGlmIChsYXN0VGltZSAhPT0gbnVsbCkge1xuICAgICAgZGVsdGEgPSAodGltZSAtIGxhc3RUaW1lKSAvIDEwMDBcblxuICAgICAgZWxhcHNlZFRpbWUgKz0gZGVsdGFcblxuICAgICAgdHBzU3ViTWVhc3VyZVN0YXJ0KCd1cGRhdGUnKVxuICAgICAgdXBkYXRlKGRlbHRhLCBlbGFwc2VkVGltZSlcbiAgICAgIHRwc1N1Yk1lYXN1cmVFbmQoJ3VwZGF0ZScpXG4gICAgfVxuXG4gICAgbGFzdFRpbWUgPSB0aW1lXG4gIH1cblxuICBjb25zdCB0cHNNZWFzdXJlU3RhcnREYXRhID0gbmV3IE1hcDxzdHJpbmcsIHsgdGltZTogbnVtYmVyOyB0aWNrczogbnVtYmVyIH0+KClcbiAgZnVuY3Rpb24gdHBzU3ViTWVhc3VyZVN0YXJ0KG5hbWUpIHtcbiAgICBsZXQgbWVhc3VyZURhdGE6IHsgdGltZTogbnVtYmVyOyB0aWNrczogbnVtYmVyIH1cbiAgICBpZiAodHBzTWVhc3VyZVN0YXJ0RGF0YS5oYXMobmFtZSkpIHtcbiAgICAgIG1lYXN1cmVEYXRhID0gdHBzTWVhc3VyZVN0YXJ0RGF0YS5nZXQobmFtZSkhXG4gICAgfSBlbHNlIHtcbiAgICAgIG1lYXN1cmVEYXRhID0geyB0aW1lOiAwLCB0aWNrczogMCB9XG4gICAgICB0cHNNZWFzdXJlU3RhcnREYXRhLnNldChuYW1lLCBtZWFzdXJlRGF0YSlcbiAgICB9XG4gICAgbWVhc3VyZURhdGEudGlja3MgPSBFbmdpbmUudGlja1xuICAgIG1lYXN1cmVEYXRhLnRpbWUgPSBub3dNaWxsaXNlY29uZHMoKVxuICB9XG4gIGZ1bmN0aW9uIHRwc1N1Yk1lYXN1cmVFbmQobmFtZSkge1xuICAgIGNvbnN0IG1lYXN1cmVEYXRhID0gdHBzTWVhc3VyZVN0YXJ0RGF0YS5nZXQobmFtZSkhXG4gICAgbmV3RW5naW5lVGlja3NbbmFtZV0gKz0gRW5naW5lLnRpY2sgLSBtZWFzdXJlRGF0YS50aWNrc1xuICAgIG5ld0VuZ2luZVRpbWVTcGVudFtuYW1lXSArPSBub3dNaWxsaXNlY29uZHMoKSAtIG1lYXN1cmVEYXRhLnRpbWVcbiAgfVxuXG4gIGZ1bmN0aW9uIHRwc1Jlc2V0KCkge1xuICAgIHRwc1ByZXZUaWNrcyA9IEVuZ2luZS50aWNrXG4gICAgdGltZXJTdGFydFRpbWUgPSBub3dNaWxsaXNlY29uZHMoKVxuICAgIHRwc1ByZXZUaW1lID0gbm93TWlsbGlzZWNvbmRzKClcbiAgICBuZXh0VHBzUmVwb3J0VGltZSA9IG5vd01pbGxpc2Vjb25kcygpICsgVFBTX1JFUE9SVF9JTlRFUlZBTF9NU1xuICB9XG5cbiAgZnVuY3Rpb24gdHBzUHJpbnRSZXBvcnQodGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgc2Vjb25kcyA9ICh0aW1lIC0gdHBzUHJldlRpbWUpIC8gMTAwMFxuICAgIGNvbnN0IG5ld1RpY2tzID0gRW5naW5lLnRpY2sgLSB0cHNQcmV2VGlja3NcbiAgICBjb25zdCB0cHMgPSBuZXdUaWNrcyAvIHNlY29uZHNcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ1RpbWVyIC0gdGljazonLFxuICAgICAgRW5naW5lLnRpY2ssXG4gICAgICAnICgrJyxcbiAgICAgIG5ld1RpY2tzLFxuICAgICAgJyksIHNlY29uZHMnLFxuICAgICAgc2Vjb25kcy50b0ZpeGVkKDEpLFxuICAgICAgJyB0cHM6JyxcbiAgICAgIHRwcy50b0ZpeGVkKDEpXG4gICAgKVxuICAgIGNvbnNvbGUubG9nKCgodGltZSAtIHRpbWVyU3RhcnRUaW1lKSAvIHRpbWVyUnVucykudG9GaXhlZCgzKSwgJ21zIHBlciBvbkZyYW1lJylcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ1RpbWVyIC0gZml4ZWQ6JyxcbiAgICAgIG5ld0VuZ2luZVRpY2tzLmZpeGVkLFxuICAgICAgJywgdHBzOicsXG4gICAgICAobmV3RW5naW5lVGlja3MuZml4ZWQgLyBzZWNvbmRzKS50b0ZpeGVkKDEpLFxuICAgICAgJyBtcyBwZXIgdGljazonLFxuICAgICAgbmV3RW5naW5lVGltZVNwZW50LmZpeGVkIC8gbmV3RW5naW5lVGlja3MuZml4ZWRcbiAgICApXG4gICAgY29uc29sZS5sb2coXG4gICAgICAnVGltZXIgLSBuZXQgIDonLFxuICAgICAgbmV3RW5naW5lVGlja3MubmV0LFxuICAgICAgJywgdHBzOicsXG4gICAgICAobmV3RW5naW5lVGlja3MubmV0IC8gc2Vjb25kcykudG9GaXhlZCgxKSxcbiAgICAgICcgbXMgcGVyIHRpY2s6JyxcbiAgICAgIG5ld0VuZ2luZVRpbWVTcGVudC5uZXQgLyBuZXdFbmdpbmVUaWNrcy5uZXRcbiAgICApXG4gICAgY29uc29sZS5sb2coXG4gICAgICAnVGltZXIgLSBvdGhlcjonLFxuICAgICAgbmV3RW5naW5lVGlja3MudXBkYXRlLFxuICAgICAgJywgdHBzOicsXG4gICAgICAobmV3RW5naW5lVGlja3MudXBkYXRlIC8gc2Vjb25kcykudG9GaXhlZCgxKSxcbiAgICAgICcgbXMgcGVyIHRpY2s6JyxcbiAgICAgIG5ld0VuZ2luZVRpbWVTcGVudC51cGRhdGUgLyBuZXdFbmdpbmVUaWNrcy51cGRhdGVcbiAgICApXG4gICAgY29uc29sZS5sb2coJ1RpbWVyIHJ1bnM6ICsnLCB0aW1lclJ1bnMgLSBwcmV2VGltZXJSdW5zKVxuICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpXG5cbiAgICB0cHNQcmV2VGltZSA9IHRpbWVcbiAgICBuZXh0VHBzUmVwb3J0VGltZSA9IHRpbWUgKyBUUFNfUkVQT1JUX0lOVEVSVkFMX01TXG4gICAgdHBzUHJldlRpY2tzID0gRW5naW5lLnRpY2tcbiAgICBuZXdFbmdpbmVUaWNrcy5maXhlZCA9IDBcbiAgICBuZXdFbmdpbmVUaWNrcy5uZXQgPSAwXG4gICAgbmV3RW5naW5lVGlja3MudXBkYXRlID0gMFxuICAgIG5ld0VuZ2luZVRpY2tzLnJlbmRlciA9IDBcblxuICAgIG5ld0VuZ2luZVRpbWVTcGVudC5maXhlZCA9IDBcbiAgICBuZXdFbmdpbmVUaW1lU3BlbnQubmV0ID0gMFxuICAgIG5ld0VuZ2luZVRpbWVTcGVudC51cGRhdGUgPSAwXG4gICAgbmV3RW5naW5lVGltZVNwZW50LnJlbmRlciA9IDBcblxuICAgIHByZXZUaW1lclJ1bnMgPSB0aW1lclJ1bnNcbiAgfVxuXG4gIGNvbnN0IGV4cGVjdGVkRGVsdGEgPSAxMDAwIC8gNjBcblxuICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICBlbGFwc2VkVGltZSA9IDBcbiAgICBsYXN0VGltZSA9IG51bGxcbiAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgIGNvbnN0IF9vbkZyYW1lID0gKHRpbWUpID0+IHtcbiAgICAgICAgZnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX29uRnJhbWUpXG4gICAgICAgIG9uRnJhbWUodGltZSlcbiAgICAgIH1cbiAgICAgIGZyYW1lSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF9vbkZyYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXJ2ZXJMb29wID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lID0gbm93TWlsbGlzZWNvbmRzKClcbiAgICAgICAgaWYgKHRpbWUgLSBsYXN0VGltZSEgPj0gZXhwZWN0ZWREZWx0YSkge1xuICAgICAgICAgIG9uRnJhbWUodGltZSlcbiAgICAgICAgICBsYXN0VGltZSA9IHRpbWVcbiAgICAgICAgfVxuICAgICAgICBzZXRJbW1lZGlhdGUoc2VydmVyTG9vcClcbiAgICAgIH1cbiAgICAgIHNlcnZlckxvb3AoKVxuICAgIH1cbiAgICB0cHNSZXNldCgpXG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGlmIChpc0NsaWVudCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZClcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJJbW1lZGlhdGUoc2VydmVyTG9vcClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBzdG9wKClcbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2UucmVtb3ZlQWxsTGlzdGVuZXJzRm9yRXZlbnQoRW5naW5lRXZlbnRzLkVWRU5UUy5YUl9TVEFSVClcbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2UucmVtb3ZlQWxsTGlzdGVuZXJzRm9yRXZlbnQoRW5naW5lRXZlbnRzLkVWRU5UUy5YUl9TRVNTSU9OKVxuICAgIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5yZW1vdmVBbGxMaXN0ZW5lcnNGb3JFdmVudChFbmdpbmVFdmVudHMuRVZFTlRTLlhSX0VORClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIHN0b3A6IHN0b3AsXG4gICAgY2xlYXI6IGNsZWFyXG4gIH1cbn1cblxuLypcbi8vIFRPRE86IHVudXNlZCBcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaXhlZFRpbWVzdGVwKFxuICB1cGRhdGVzUGVyU2Vjb25kOiBudW1iZXIsXG4gIGNhbGxiYWNrOiAodGltZTogbnVtYmVyKSA9PiB2b2lkXG4pOiAoZGVsdGE6IG51bWJlcikgPT4gdm9pZCB7XG4gIGNvbnN0IHRpbWVzdGVwID0gMSAvIHVwZGF0ZXNQZXJTZWNvbmRcbiAgY29uc3QgbGltaXQgPSB0aW1lc3RlcCAqIDEwMDBcbiAgY29uc3QgdXBkYXRlc0xpbWl0ID0gdXBkYXRlc1BlclNlY29uZFxuXG4gIGNvbnN0IHN1YnNlcXVlbnRFcm9ycnNMaW1pdCA9IDEwXG4gIGNvbnN0IHN1YnNlcXVlbnRFcm9ycnNSZXNldExpbWl0ID0gMTAwMFxuICBsZXQgc3Vic2VxdWVudEVyb3Jyc1Nob3duID0gMFxuICBsZXQgc2hvd25FcnJvclByZXZpb3VzbHkgPSBmYWxzZVxuICBsZXQgYWNjdW11bGF0b3IgPSAwXG5cbiAgcmV0dXJuIChkZWx0YSkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gbm93KClcbiAgICBsZXQgdGltZVVzZWQgPSAwXG4gICAgbGV0IHVwZGF0ZXNDb3VudCA9IDBcblxuICAgIGFjY3VtdWxhdG9yICs9IGRlbHRhXG5cbiAgICBsZXQgYWNjdW11bGF0b3JEZXBsZXRlZCA9IGFjY3VtdWxhdG9yIDwgdGltZXN0ZXBcbiAgICBsZXQgdGltZW91dCA9IHRpbWVVc2VkID4gbGltaXRcbiAgICBsZXQgdXBkYXRlc0xpbWl0UmVhY2hlZCA9IHVwZGF0ZXNDb3VudCA+IHVwZGF0ZXNMaW1pdFxuICAgIHdoaWxlICghYWNjdW11bGF0b3JEZXBsZXRlZCAmJiAhdGltZW91dCAmJiAhdXBkYXRlc0xpbWl0UmVhY2hlZCkge1xuICAgICAgY2FsbGJhY2soYWNjdW11bGF0b3IpXG5cbiAgICAgIGFjY3VtdWxhdG9yIC09IHRpbWVzdGVwXG4gICAgICArK3VwZGF0ZXNDb3VudFxuXG4gICAgICB0aW1lVXNlZCA9IG5vdygpIC0gc3RhcnRcbiAgICAgIGFjY3VtdWxhdG9yRGVwbGV0ZWQgPSBhY2N1bXVsYXRvciA8IHRpbWVzdGVwXG4gICAgICB0aW1lb3V0ID0gdGltZVVzZWQgPiBsaW1pdFxuICAgICAgdXBkYXRlc0xpbWl0UmVhY2hlZCA9IHVwZGF0ZXNDb3VudCA+PSB1cGRhdGVzTGltaXRcbiAgICB9XG5cbiAgICBpZiAoIWFjY3VtdWxhdG9yRGVwbGV0ZWQpIHtcbiAgICAgIGlmIChzdWJzZXF1ZW50RXJvcnJzU2hvd24gPD0gc3Vic2VxdWVudEVyb3Jyc0xpbWl0KSB7XG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0ZpeGVkIHRpbWVzdGVwcyBTS0lQUEVEIHRpbWUgdXNlZCAnLCB0aW1lVXNlZCwgJ21zIChvZiAnLCBsaW1pdCwgJ21zKSwgbWFkZSAnLCB1cGRhdGVzQ291bnQsICd1cGRhdGVzLiBza2lwcGVkICcsIE1hdGguZmxvb3IoYWNjdW11bGF0b3IgLyB0aW1lc3RlcCkpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWNjdW11bGF0b3JEZXBsZXRlZCcsIGFjY3VtdWxhdG9yRGVwbGV0ZWQsICd0aW1lb3V0JywgdGltZW91dCwgJ3VwZGF0ZXNMaW1pdFJlYWNoZWQnLCB1cGRhdGVzTGltaXRSZWFjaGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdWJzZXF1ZW50RXJvcnJzU2hvd24gPiBzdWJzZXF1ZW50RXJvcnJzUmVzZXRMaW1pdCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0ZpeGVkVGltZXN0ZXAnLCBzdWJzZXF1ZW50RXJvcnJzUmVzZXRMaW1pdCwgJyBzdWJzZXF1ZW50IGVycm9ycyBjYXRjaGVkJyk7XG4gICAgICAgICAgc3Vic2VxdWVudEVyb3Jyc1Nob3duID0gc3Vic2VxdWVudEVyb3Jyc0xpbWl0IC0gMVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG93bkVycm9yUHJldmlvdXNseSkge1xuICAgICAgICBzdWJzZXF1ZW50RXJvcnJzU2hvd24rK1xuICAgICAgfVxuICAgICAgc2hvd25FcnJvclByZXZpb3VzbHkgPSB0cnVlXG5cbiAgICAgIGFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3IgJSB0aW1lc3RlcFxuICAgIH0gZWxzZSB7XG4gICAgICBzdWJzZXF1ZW50RXJvcnJzU2hvd24gPSAwXG4gICAgICBzaG93bkVycm9yUHJldmlvdXNseSA9IGZhbHNlXG4gICAgfVxuICB9XG59XG4qL1xuIiwiLyogZ2xvYmFsIHdpbmRvdyBzZWxmICovXG5cbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuY29uc3QgaXNXZWJXb3JrZXIgPVxuICB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5jb25zdHJ1Y3RvciAmJiBzZWxmLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSdcbi8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG5cbmNvbnN0IGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb25zICE9IG51bGwgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9IG51bGxcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbS9yZWxlYXNlcy90YWcvMTIuMC4wXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbS9pc3N1ZXMvMTUzN1xuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuY29uc3QgaXNKc0RvbSA9ICgpID0+XG4gICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmFtZSA9PT0gJ25vZGVqcycpIHx8XG4gIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ05vZGUuanMnKSB8fFxuICBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdqc2RvbScpXG5cbmV4cG9ydCB7IGlzQnJvd3NlciwgaXNXZWJXb3JrZXIsIGlzTm9kZSwgaXNKc0RvbSB9XG5cbi8vID09PT0gLy9cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZsZXhkaW5lc2gvYnJvd3Nlci1vci1ub2RlXG5cbi8vID09PT0gLy9cbiIsIi8qKlxuICogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIyNjU0N1xuICogU2FmYXJpIGhhcyBhIGhvcnJpYmxlIGJ1ZyB3aGVyZSBJREIgcmVxdWVzdHMgY2FuIGhhbmcgd2hpbGUgdGhlIGJyb3dzZXIgaXMgc3RhcnRpbmcgdXAuXG4gKiBUaGUgb25seSBzb2x1dGlvbiBpcyB0byBrZWVwIG51ZGdpbmcgaXQgdW50aWwgaXQncyBhd2FrZS5cbiAqIFRoaXMgcHJvYmFibHkgY3JlYXRlcyBnYXJiYWdlLCBidXQgZ2FyYmFnZSBpcyBiZXR0ZXIgdGhhbiB0b3RhbGx5IGZhaWxpbmcuXG4gKi9cbmZ1bmN0aW9uIGlkYlJlYWR5KCkge1xuICAgIGNvbnN0IGlzU2FmYXJpID0gIW5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmXG4gICAgICAgIC9TYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgIS9DaHJvbShlfGl1bSlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgLy8gTm8gcG9pbnQgcHV0dGluZyBvdGhlciBicm93c2VycyBvciBvbGRlciB2ZXJzaW9ucyBvZiBTYWZhcmkgdGhyb3VnaCB0aGlzIG1lc3MuXG4gICAgaWYgKCFpc1NhZmFyaSB8fCAhaW5kZXhlZERCLmRhdGFiYXNlcylcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGxldCBpbnRlcnZhbElkO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCB0cnlJZGIgPSAoKSA9PiBpbmRleGVkREIuZGF0YWJhc2VzKCkuZmluYWxseShyZXNvbHZlKTtcbiAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHRyeUlkYiwgMTAwKTtcbiAgICAgICAgdHJ5SWRiKCk7XG4gICAgfSkuZmluYWxseSgoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsSWQpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaWRiUmVhZHk7XG4iLCJpbXBvcnQgc2FmYXJpRml4IGZyb20gJ3NhZmFyaS0xNC1pZGItZml4JztcblxuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGZpbGUgc2l6ZSBoYWNrc1xuICAgICAgICByZXF1ZXN0Lm9uY29tcGxldGUgPSByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gZmlsZSBzaXplIGhhY2tzXG4gICAgICAgIHJlcXVlc3Qub25hYm9ydCA9IHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGRiTmFtZSwgc3RvcmVOYW1lKSB7XG4gICAgY29uc3QgZGJwID0gc2FmYXJpRml4KCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUpO1xuICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHJlcXVlc3QucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIH0pO1xuICAgIHJldHVybiAodHhNb2RlLCBjYWxsYmFjaykgPT4gZGJwLnRoZW4oKGRiKSA9PiBjYWxsYmFjayhkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsIHR4TW9kZSkub2JqZWN0U3RvcmUoc3RvcmVOYW1lKSkpO1xufVxubGV0IGRlZmF1bHRHZXRTdG9yZUZ1bmM7XG5mdW5jdGlvbiBkZWZhdWx0R2V0U3RvcmUoKSB7XG4gICAgaWYgKCFkZWZhdWx0R2V0U3RvcmVGdW5jKSB7XG4gICAgICAgIGRlZmF1bHRHZXRTdG9yZUZ1bmMgPSBjcmVhdGVTdG9yZSgna2V5dmFsLXN0b3JlJywgJ2tleXZhbCcpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdEdldFN0b3JlRnVuYztcbn1cbi8qKlxuICogR2V0IGEgdmFsdWUgYnkgaXRzIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0KGtleSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKTtcbn1cbi8qKlxuICogU2V0IGEgdmFsdWUgd2l0aCBhIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBTZXQgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2UuIFRoaXMgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBzZXQoKSBtdWx0aXBsZSB0aW1lcy5cbiAqIEl0J3MgYWxzbyBhdG9taWMg4oCTIGlmIG9uZSBvZiB0aGUgcGFpcnMgY2FuJ3QgYmUgYWRkZWQsIG5vbmUgd2lsbCBiZSBhZGRlZC5cbiAqXG4gKiBAcGFyYW0gZW50cmllcyBBcnJheSBvZiBlbnRyaWVzLCB3aGVyZSBlYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIHNldE1hbnkoZW50cmllcywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHN0b3JlLnB1dChlbnRyeVsxXSwgZW50cnlbMF0pKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXQgbXVsdGlwbGUgdmFsdWVzIGJ5IHRoZWlyIGtleXNcbiAqXG4gKiBAcGFyYW0ga2V5c1xuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGdldE1hbnkoa2V5cywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IFByb21pc2UuYWxsKGtleXMubWFwKChrZXkpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKSkpO1xufVxuLyoqXG4gKiBVcGRhdGUgYSB2YWx1ZS4gVGhpcyBsZXRzIHlvdSBzZWUgdGhlIG9sZCB2YWx1ZSBhbmQgdXBkYXRlIGl0IGFzIGFuIGF0b21pYyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIHVwZGF0ZXIgQSBjYWxsYmFjayB0aGF0IHRha2VzIHRoZSBvbGQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlKGtleSwgdXBkYXRlciwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiBcbiAgICAvLyBOZWVkIHRvIGNyZWF0ZSB0aGUgcHJvbWlzZSBtYW51YWxseS5cbiAgICAvLyBJZiBJIHRyeSB0byBjaGFpbiBwcm9taXNlcywgdGhlIHRyYW5zYWN0aW9uIGNsb3NlcyBpbiBicm93c2Vyc1xuICAgIC8vIHRoYXQgdXNlIGEgcHJvbWlzZSBwb2x5ZmlsbCAoSUUxMC8xMSkuXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBzdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1dCh1cGRhdGVyKHRoaXMucmVzdWx0KSwga2V5KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG4vKipcbiAqIERlbGV0ZSBhIHBhcnRpY3VsYXIga2V5IGZyb20gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBkZWwoa2V5LCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmUuZGVsZXRlKGtleSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ2xlYXIgYWxsIHZhbHVlcyBpbiB0aGUgc3RvcmUuXG4gKlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWR3cml0ZScsIChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZS5jbGVhcigpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBlYWNoQ3Vyc29yKGN1c3RvbVN0b3JlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3b3VsZCBiZSBzdG9yZS5nZXRBbGxLZXlzKCksIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgYnkgRWRnZSBvciBTYWZhcmkuXG4gICAgICAgIC8vIEFuZCBvcGVuS2V5Q3Vyc29yIGlzbid0IHN1cHBvcnRlZCBieSBTYWZhcmkuXG4gICAgICAgIHN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVzdWx0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IGFsbCBrZXlzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24ga2V5cyhjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICByZXR1cm4gZWFjaEN1cnNvcihjdXN0b21TdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChjdXJzb3Iua2V5KSkudGhlbigoKSA9PiBpdGVtcyk7XG59XG4vKipcbiAqIEdldCBhbGwgdmFsdWVzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIHJldHVybiBlYWNoQ3Vyc29yKGN1c3RvbVN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKGN1cnNvci52YWx1ZSkpLnRoZW4oKCkgPT4gaXRlbXMpO1xufVxuLyoqXG4gKiBHZXQgYWxsIGVudHJpZXMgaW4gdGhlIHN0b3JlLiBFYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICpcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBlbnRyaWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIHJldHVybiBlYWNoQ3Vyc29yKGN1c3RvbVN0b3JlLCAoY3Vyc29yKSA9PiBpdGVtcy5wdXNoKFtjdXJzb3Iua2V5LCBjdXJzb3IudmFsdWVdKSkudGhlbigoKSA9PiBpdGVtcyk7XG59XG5cbmV4cG9ydCB7IGNsZWFyLCBjcmVhdGVTdG9yZSwgZGVsLCBlbnRyaWVzLCBnZXQsIGdldE1hbnksIGtleXMsIHByb21pc2lmeVJlcXVlc3QsIHNldCwgc2V0TWFueSwgdXBkYXRlLCB2YWx1ZXMgfTtcbiIsImltcG9ydCB7IGlzQnJvd3NlciwgaXNKc0RvbSwgaXNOb2RlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2dldEVudmlyb25tZW50J1xuaW1wb3J0ICogYXMgaWRic3RvcmFnZSBmcm9tICdpZGIta2V5dmFsJ1xuXG5jb25zdCBtZW1vcnkgPSB7fVxuXG4vLyB1c2UgbWVtb3J5IGFzIGRlZmF1bHRcbmxldCBzdG9yZTogYW55ID0ge1xuICBnZXQ6IChrZXkpID0+IHtcbiAgICByZXR1cm4gbWVtb3J5W2tleV1cbiAgfSxcbiAgc2V0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIG1lbW9yeVtrZXldID0gdmFsdWVcbiAgfSxcbiAgZGVsOiAoa2V5KSA9PiB7XG4gICAgZGVsZXRlIG1lbW9yeVtrZXldXG4gIH1cbn1cblxuaWYgKGlzQnJvd3NlciAmJiAhaXNKc0RvbSgpICYmICFpc05vZGUpIHtcbiAgc3RvcmUgPSBpZGJzdG9yYWdlXG59XG5cbnR5cGUgU3RvcmFnZURhdGF0eXBlcyA9IHN0cmluZyB8IG9iamVjdCB8IGJvb2xlYW4gfCBudW1iZXJcblxuZXhwb3J0IGNsYXNzIENsaWVudFN0b3JhZ2Uge1xuICBzdGF0aWMgYXN5bmMgZ2V0KGtleTogc3RyaW5nIHwgbnVtYmVyKTogUHJvbWlzZTxTdG9yYWdlRGF0YXR5cGVzPiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBzdG9yZS5nZXQoU3RyaW5nKGtleSkpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfVxuICBzdGF0aWMgYXN5bmMgc2V0KGtleTogc3RyaW5nIHwgbnVtYmVyLCB2YWx1ZTogU3RvcmFnZURhdGF0eXBlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgc3RvcmUuc2V0KFN0cmluZyhrZXkpLCB2YWx1ZSlcbiAgfVxuICBzdGF0aWMgYXN5bmMgZGVsKGtleTogc3RyaW5nIHwgbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIGF3YWl0IHN0b3JlLmRlbChTdHJpbmcoa2V5KSlcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQmxlbmRGdW5jdGlvbixcbiAgQmxvb21FZmZlY3QsXG4gIEJyaWdodG5lc3NDb250cmFzdEVmZmVjdCxcbiAgQ29sb3JEZXB0aEVmZmVjdCxcbiAgRGVwdGhEb3duc2FtcGxpbmdQYXNzLFxuICBEZXB0aE9mRmllbGRFZmZlY3QsXG4gIEVmZmVjdENvbXBvc2VyLFxuICBFZmZlY3RQYXNzLFxuICBIdWVTYXR1cmF0aW9uRWZmZWN0LFxuICBOb3JtYWxQYXNzLFxuICBPdXRsaW5lRWZmZWN0LFxuICBSZW5kZXJQYXNzLFxuICBTU0FPRWZmZWN0LFxuICBUZXh0dXJlRWZmZWN0LFxuICBUb25lTWFwcGluZ0VmZmVjdFxufSBmcm9tICdwb3N0cHJvY2Vzc2luZydcbmltcG9ydCB7XG4gIE1hdGhVdGlscyxcbiAgTmVhcmVzdEZpbHRlcixcbiAgUGVyc3BlY3RpdmVDYW1lcmEsXG4gIFJHQkZvcm1hdCxcbiAgc1JHQkVuY29kaW5nLFxuICBXZWJHTDFSZW5kZXJlcixcbiAgV2ViR0xSZW5kZXJlcixcbiAgV2ViR0xSZW5kZXJUYXJnZXRcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBDbGllbnRTdG9yYWdlIH0gZnJvbSAnLi4vY29tbW9uL2NsYXNzZXMvQ2xpZW50U3RvcmFnZSdcbmltcG9ydCB7IG5vd01pbGxpc2Vjb25kcyB9IGZyb20gJy4uL2NvbW1vbi9mdW5jdGlvbnMvbm93TWlsbGlzZWNvbmRzJ1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi4vZWNzL2NsYXNzZXMvRW5naW5lJ1xuaW1wb3J0IHsgRW5naW5lRXZlbnRzIH0gZnJvbSAnLi4vZWNzL2NsYXNzZXMvRW5naW5lRXZlbnRzJ1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vZWNzL2NsYXNzZXMvU3lzdGVtJ1xuaW1wb3J0IHsgZGVmYXVsdFBvc3RQcm9jZXNzaW5nU2NoZW1hLCBlZmZlY3RUeXBlIH0gZnJvbSAnLi4vc2NlbmUvY2xhc3Nlcy9Qb3N0UHJvY2Vzc2luZydcbmltcG9ydCB7IFBvc3RQcm9jZXNzaW5nU2NoZW1hIH0gZnJvbSAnLi9pbnRlcmZhY2VzL1Bvc3RQcm9jZXNzaW5nU2NoZW1hJ1xuaW1wb3J0IFdlYkdMIGZyb20gJy4vVEhSRUUuV2ViR0wnXG5pbXBvcnQgeyBGWEFBRWZmZWN0IH0gZnJvbSAnLi9lZmZlY3RzL0ZYQUFFZmZlY3QnXG5pbXBvcnQgeyBMaW5lYXJUb3NSR0JFZmZlY3QgfSBmcm9tICcuL2VmZmVjdHMvTGluZWFyVG9zUkdCRWZmZWN0J1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuLi9lY3MvY2xhc3Nlcy9Xb3JsZCdcbmltcG9ydCB7IHVzZVdvcmxkIH0gZnJvbSAnLi4vZWNzL2Z1bmN0aW9ucy9TeXN0ZW1Ib29rcydcblxuZXhwb3J0IGVudW0gUkVOREVSRVJfU0VUVElOR1Mge1xuICBBVVRPTUFUSUMgPSAnYXV0b21hdGljJyxcbiAgUEJSID0gJ3VzZVBCUicsXG4gIFBPU1RfUFJPQ0VTU0lORyA9ICd1c2VQb3N0UHJvY2Vzc2luZycsXG4gIFNIQURPV19RVUFMSVRZID0gJ3NoYWRvd1F1YWxpdHknLFxuICBTQ0FMRV9GQUNUT1IgPSAnc2NhbGVGYWN0b3InXG59XG5cbmNvbnN0IGRhdGFiYXNlUHJlZml4ID0gJ2dyYXBoaWNzLXNldHRpbmdzLSdcblxuZXhwb3J0IGludGVyZmFjZSBFZmZlY3RDb21wb3NlcldpdGhTY2hlbWEgZXh0ZW5kcyBFZmZlY3RDb21wb3NlciB7XG4gIC8vIFRPRE86ICdwb3N0cHJvY2Vzc2luZycgbmVlZHMgdHlwaW5nLCB3ZSBjb3VsZCBjcmVhdGUgYSAnQHR5cGVzL3Bvc3Rwcm9jZXNzaW5nJyBwYWNrYWdlP1xuICByZW5kZXJlcjogV2ViR0xSZW5kZXJlclxuICBpbnB1dEJ1ZmZlcjogV2ViR0xSZW5kZXJUYXJnZXRcbiAgb3V0cHV0QnVmZmVyOiBXZWJHTFJlbmRlclRhcmdldFxuICBjb3B5UGFzczogYW55XG4gIGRlcHRoVGV4dHVyZTogYW55XG4gIHBhc3NlczogW11cbiAgYXV0b1JlbmRlclRvU2NyZWVuOiBib29sZWFuXG4gIG11bHRpc2FtcGxpbmc6IG51bWJlclxuICBnZXRSZW5kZXJlcigpXG4gIHJlcGxhY2VSZW5kZXJlcihyZW5kZXJlciwgdXBkYXRlRE9NKVxuICBjcmVhdGVEZXB0aFRleHR1cmUoKVxuICBkZWxldGVEZXB0aFRleHR1cmUoKVxuICBjcmVhdGVCdWZmZXIoZGVwdGhCdWZmZXIsIHN0ZW5jaWxCdWZmZXIsIHR5cGUsIG11bHRpc2FtcGxpbmcpXG4gIGFkZFBhc3MocmVuZGVyUGFzczogYW55KVxuICByZW1vdmVQYXNzKClcbiAgcmVtb3ZlQWxsUGFzc2VzKClcbiAgcmVuZGVyKGRlbHRhOiBudW1iZXIpXG4gIHNldFNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGFyZzI6IGJvb2xlYW4pXG4gIHJlc2V0KClcbiAgZGlzcG9zZSgpXG5cbiAgLy8gdGhpcyBpcyB3aGF0IHRoaXMgaXMgZm9yLCBpIGp1c3QgYWRkZWQgdGhlIEVmZmVjdENvbXBvc2VyIHR5cGluZ3MgYWJvdmVcbiAgT3V0bGluZUVmZmVjdDogT3V0bGluZUVmZmVjdFxuICBGWEFBRWZmZWN0OiBGWEFBRWZmZWN0XG4gIFNTQU9FZmZlY3Q6IFNTQU9FZmZlY3RcbiAgRGVwdGhPZkZpZWxkRWZmZWN0OiBEZXB0aE9mRmllbGRFZmZlY3RcbiAgQmxvb21FZmZlY3Q6IEJsb29tRWZmZWN0XG4gIFRvbmVNYXBwaW5nRWZmZWN0OiBUb25lTWFwcGluZ0VmZmVjdFxuICBCcmlnaHRuZXNzQ29udHJhc3RFZmZlY3Q6IEJyaWdodG5lc3NDb250cmFzdEVmZmVjdFxuICBIdWVTYXR1cmF0aW9uRWZmZWN0OiBIdWVTYXR1cmF0aW9uRWZmZWN0XG4gIENvbG9yRGVwdGhFZmZlY3Q6IENvbG9yRGVwdGhFZmZlY3RcbiAgTGluZWFyVG9zUkdCRWZmZWN0OiBMaW5lYXJUb3NSR0JFZmZlY3Rcbn1cblxubGV0IGxhc3RSZW5kZXJUaW1lID0gMFxuXG50eXBlIEVuZ2luZVJlbmRlcmVyUHJvcHMgPSB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcbiAgZW5hYmxlZDogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgRW5naW5lUmVuZGVyZXIge1xuICBzdGF0aWMgRVZFTlRTID0ge1xuICAgIFFVQUxJVFlfQ0hBTkdFRDogJ1dFQkdMX1JFTkRFUkVSX1NZU1RFTV9FVkVOVF9RVUFMSVRZX0NIQU5HRScsXG4gICAgU0VUX1JFU09MVVRJT046ICdXRUJHTF9SRU5ERVJFUl9TWVNURU1fRVZFTlRfU0VUX1JFU09MVVRJT04nLFxuICAgIFVTRV9TSEFET1dTOiAnV0VCR0xfUkVOREVSRVJfU1lTVEVNX0VWRU5UX1NFVF9TSEFET1dfUVVBTElUWScsXG4gICAgU0VUX1BPU1RfUFJPQ0VTU0lORzogJ1dFQkdMX1JFTkRFUkVSX1NZU1RFTV9FVkVOVF9TRVRfUE9TVF9QUk9DRVNTSU5HJyxcbiAgICBTRVRfVVNFX0FVVE9NQVRJQzogJ1dFQkdMX1JFTkRFUkVSX1NZU1RFTV9FVkVOVF9TRVRfVVNFX0FVVE9NQVRJQydcbiAgfVxuXG4gIHN0YXRpYyBpbnN0YW5jZTogRW5naW5lUmVuZGVyZXJcblxuICAvKiogSXMgcmVzaXplIG5lZWRlZD8gKi9cbiAgbmVlZHNSZXNpemU6IGJvb2xlYW5cblxuICAvKiogUG9zdHByb2Nlc3Npbmcgc2NoZW1hLiAqL1xuICBwb3N0UHJvY2Vzc2luZ1NjaGVtYTogUG9zdFByb2Nlc3NpbmdTY2hlbWFcblxuICAvKiogTWF4aW11bSBRdWFsaXR5IGxldmVsIG9mIHRoZSByZW5kZXJlZC4gKipEZWZhdWx0KiogdmFsdWUgaXMgNS4gKi9cbiAgbWF4UXVhbGl0eUxldmVsID0gNVxuICAvKiogQ3VycmVudCBxdWFsaXR5IGxldmVsLiAqL1xuICBxdWFsaXR5TGV2ZWw6IG51bWJlciA9IHRoaXMubWF4UXVhbGl0eUxldmVsXG4gIC8qKiBQcmV2aW91cyBRdWFsaXR5IGxldmUuICovXG4gIHByZXZRdWFsaXR5TGV2ZWw6IG51bWJlciA9IHRoaXMucXVhbGl0eUxldmVsXG4gIC8qKiBwb2ludCBhdCB3aGljaCB3ZSBkb3duZ3JhZGUgcXVhbGl0eSBsZXZlbCAobGFyZ2UgZGVsdGEpICovXG4gIG1heFJlbmRlckRlbHRhID0gMTAwMCAvIDQwIC8vIDQwIGZwcyA9IDI1IG1zXG4gIC8qKiBwb2ludCBhdCB3aGljaCB3ZSB1cGdyYWRlIHF1YWxpdHkgbGV2ZWwgKHNtYWxsIGRlbHRhKSAqL1xuICBtaW5SZW5kZXJEZWx0YSA9IDEwMDAgLyA2MCAvLyA2MCBmcHMgPSAxNiBtc1xuXG4gIGF1dG9tYXRpYyA9IHRydWVcbiAgdXNlUEJSID0gdHJ1ZVxuICB1c2VQb3N0UHJvY2Vzc2luZyA9IHRydWVcbiAgdXNlU2hhZG93cyA9IHRydWVcbiAgLyoqIFJlc291bGlvbiBzY2FsZS4gKipEZWZhdWx0KiogdmFsdWUgaXMgMS4gKi9cbiAgc2NhbGVGYWN0b3IgPSAxXG5cbiAgcmVuZGVyUGFzczogUmVuZGVyUGFzc1xuICBub3JtYWxQYXNzOiBOb3JtYWxQYXNzXG4gIHJlbmRlckNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB8IFdlYkdMMlJlbmRlcmluZ0NvbnRleHRcblxuICBzdXBwb3J0V2ViR0wyOiBib29sZWFuXG4gIHJlbmRlcmVyaW5nRW5hYmxlZCA9IHRydWVcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFxuXG4gIGF2ZXJhZ2VGcmFtZVRpbWUgPSAxMDAwIC8gNjBcbiAgdGltZVNhbXBsZXMgPSBuZXcgQXJyYXkoNjAgKiAxKS5maWxsKDEwMDAgLyA2MCkgLy8gMyBzZWNvbmRzIEAgNjBmcHNcbiAgaW5kZXggPSAwXG5cbiAgLyoqIENvbnN0cnVjdHMgV2ViR0wgUmVuZGVyZXIgU3lzdGVtLiAqL1xuICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGVzOiBFbmdpbmVSZW5kZXJlclByb3BzKSB7XG4gICAgRW5naW5lUmVuZGVyZXIuaW5zdGFuY2UgPSB0aGlzXG4gICAgdGhpcy5vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5zdXBwb3J0V2ViR0wyID0gV2ViR0wuaXNXZWJHTDJBdmFpbGFibGUoKVxuXG4gICAgaWYgKCF0aGlzLnN1cHBvcnRXZWJHTDIgJiYgIVdlYkdMLmlzV2ViR0xBdmFpbGFibGUoKSkge1xuICAgICAgV2ViR0wuZGlzcGF0Y2hXZWJHTERpc2Nvbm5lY3RlZEV2ZW50KClcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gYXR0cmlidXRlcy5jYW52YXMgPz8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJylcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5zdXBwb3J0V2ViR0wyID8gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicpIDogY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJylcblxuICAgIGlmICghY29udGV4dCkge1xuICAgICAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBFbmdpbmVFdmVudHMuRVZFTlRTLkJST1dTRVJfTk9UX1NVUFBPUlRFRCxcbiAgICAgICAgbWVzc2FnZTogJ1lvdXIgYnJvd2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViZ2wsb3IgaXQgZGlzYWJsZSB3ZWJnbCxQbGVhc2UgZW5hYmxlIHdlYmdsJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlckNvbnRleHQgPSBjb250ZXh0IVxuICAgIGNvbnN0IG9wdGlvbnM6IGFueSA9IHtcbiAgICAgIGNhbnZhcyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBhbnRpYWxpYXM6ICFFbmdpbmUuaXNITUQsXG4gICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICFFbmdpbmUuaXNITURcbiAgICB9XG5cbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuXG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnN1cHBvcnRXZWJHTDIgPyBuZXcgV2ViR0xSZW5kZXJlcihvcHRpb25zKSA6IG5ldyBXZWJHTDFSZW5kZXJlcihvcHRpb25zKVxuICAgIEVuZ2luZS5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgRW5naW5lLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZVxuICAgIEVuZ2luZS5yZW5kZXJlci5vdXRwdXRFbmNvZGluZyA9IHNSR0JFbmNvZGluZ1xuXG4gICAgRW5naW5lLnhyUmVuZGVyZXIgPSByZW5kZXJlci54clxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlbmRlcmVyLnhyLmNhbWVyYUF1dG9VcGRhdGUgPSBmYWxzZVxuICAgIEVuZ2luZS54clJlbmRlcmVyLmVuYWJsZWQgPSB0cnVlXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLm5lZWRzUmVzaXplID0gdHJ1ZVxuICAgIEVuZ2luZS5yZW5kZXJlci5hdXRvQ2xlYXIgPSB0cnVlXG5cbiAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIoRW5naW5lLnJlbmRlcmVyKVxuXG4gICAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoRW5naW5lUmVuZGVyZXIuRVZFTlRTLlNFVF9QT1NUX1BST0NFU1NJTkcsIChldjogYW55KSA9PiB7XG4gICAgICB0aGlzLnNldFVzZVBvc3RQcm9jZXNzaW5nKHRoaXMuc3VwcG9ydFdlYkdMMiAmJiBldi5wYXlsb2FkKVxuICAgIH0pXG4gICAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoRW5naW5lUmVuZGVyZXIuRVZFTlRTLlNFVF9SRVNPTFVUSU9OLCAoZXY6IGFueSkgPT4ge1xuICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKGV2LnBheWxvYWQpXG4gICAgfSlcbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihFbmdpbmVSZW5kZXJlci5FVkVOVFMuVVNFX1NIQURPV1MsIChldjogYW55KSA9PiB7XG4gICAgICB0aGlzLnNldFNoYWRvd1F1YWxpdHkoZXYucGF5bG9hZClcbiAgICB9KVxuICAgIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKEVuZ2luZVJlbmRlcmVyLkVWRU5UUy5TRVRfVVNFX0FVVE9NQVRJQywgKGV2OiBhbnkpID0+IHtcbiAgICAgIHRoaXMuc2V0VXNlQXV0b21hdGljKGV2LnBheWxvYWQpXG4gICAgfSlcbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihFbmdpbmVFdmVudHMuRVZFTlRTLkVOQUJMRV9TQ0VORSwgKGV2OiBhbnkpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZXYucmVuZGVyZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXJpbmdFbmFibGVkID0gZXYucmVuZGVyZXJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqIENhbGxlZCBvbiByZXNpemUsIHNldHMgcmVzaXplIGZsYWcuICovXG4gIG9uUmVzaXplKCk6IHZvaWQge1xuICAgIHRoaXMubmVlZHNSZXNpemUgPSB0cnVlXG4gIH1cblxuICByZXNldFBvc3RQcm9jZXNzaW5nKCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdyZXNldFBvc3RQcm9jZXNzaW5nJylcbiAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIuZGlzcG9zZSgpXG4gICAgRW5naW5lLmVmZmVjdENvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKEVuZ2luZS5yZW5kZXJlcilcbiAgICB0aGlzLnBvc3RQcm9jZXNzaW5nU2NoZW1hID0gdW5kZWZpbmVkIVxuICAgIGNvbnNvbGUubG9nKCdyZXNldFBvc3RQcm9jZXNzaW5nIGRvbmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSBwb3N0IHByb2Nlc3NpbmcuXG4gICAqIE5vdGU6IFBvc3QgcHJvY2Vzc2luZyBlZmZlY3RzIGFyZSBzZXQgaW4gdGhlIFBvc3RQcm9jZXNzaW5nU2NoZW1hIHByb3ZpZGVkIHRvIHRoZSBzeXN0ZW0uXG4gICAqIEBwYXJhbSBlbnRpdHkgVGhlIEVudGl0eSBob2xkaW5nIHJlbmRlcmVyIGNvbXBvbmVudC5cbiAgICovXG4gIHB1YmxpYyBjb25maWd1cmVQb3N0UHJvY2Vzc2luZyhwb3N0UHJvY2Vzc2luZ1NjaGVtYTogUG9zdFByb2Nlc3NpbmdTY2hlbWEgPSBkZWZhdWx0UG9zdFByb2Nlc3NpbmdTY2hlbWEpOiB2b2lkIHtcbiAgICB0aGlzLnBvc3RQcm9jZXNzaW5nU2NoZW1hID0gcG9zdFByb2Nlc3NpbmdTY2hlbWFcbiAgICBjb25zdCByZW5kZXJQYXNzID0gbmV3IFJlbmRlclBhc3MoRW5naW5lLnNjZW5lLCBFbmdpbmUuY2FtZXJhKVxuICAgIHJlbmRlclBhc3Muc2NlbmUgPSBFbmdpbmUuc2NlbmVcbiAgICByZW5kZXJQYXNzLmNhbWVyYSA9IEVuZ2luZS5jYW1lcmFcbiAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIuYWRkUGFzcyhyZW5kZXJQYXNzKVxuICAgIC8vIFRoaXMgc2V0cyB1cCB0aGUgcmVuZGVyXG4gICAgY29uc3QgcGFzc2VzOiBhbnlbXSA9IFtdXG4gICAgY29uc3Qgbm9ybWFsUGFzcyA9IG5ldyBOb3JtYWxQYXNzKHJlbmRlclBhc3Muc2NlbmUsIHJlbmRlclBhc3MuY2FtZXJhLCB7XG4gICAgICByZW5kZXJUYXJnZXQ6IG5ldyBXZWJHTFJlbmRlclRhcmdldCgxLCAxLCB7XG4gICAgICAgIG1pbkZpbHRlcjogTmVhcmVzdEZpbHRlcixcbiAgICAgICAgbWFnRmlsdGVyOiBOZWFyZXN0RmlsdGVyLFxuICAgICAgICBmb3JtYXQ6IFJHQkZvcm1hdCxcbiAgICAgICAgc3RlbmNpbEJ1ZmZlcjogZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcbiAgICBjb25zdCBkZXB0aERvd25zYW1wbGluZ1Bhc3MgPSBuZXcgRGVwdGhEb3duc2FtcGxpbmdQYXNzKHtcbiAgICAgIG5vcm1hbEJ1ZmZlcjogbm9ybWFsUGFzcy50ZXh0dXJlLFxuICAgICAgcmVzb2x1dGlvblNjYWxlOiAwLjVcbiAgICB9KVxuICAgIGNvbnN0IG5vcm1hbERlcHRoQnVmZmVyID0gZGVwdGhEb3duc2FtcGxpbmdQYXNzLnRleHR1cmVcbiAgICBsZXQgcGFzc1xuICAgIE9iamVjdC5rZXlzKHRoaXMucG9zdFByb2Nlc3NpbmdTY2hlbWEpLmZvckVhY2goKGtleTogYW55KSA9PiB7XG4gICAgICBwYXNzID0gdGhpcy5wb3N0UHJvY2Vzc2luZ1NjaGVtYVtrZXldXG4gICAgICBjb25zdCBlZmZlY3QgPSBlZmZlY3RUeXBlW2tleV0uZWZmZWN0XG4gICAgICBpZiAocGFzcy5pc0FjdGl2ZSlcbiAgICAgICAgaWYgKGVmZmVjdCA9PT0gU1NBT0VmZmVjdCkge1xuICAgICAgICAgIGNvbnN0IGVmZiA9IG5ldyBlZmZlY3QoRW5naW5lLmNhbWVyYSwgbm9ybWFsUGFzcy50ZXh0dXJlLCB7IC4uLnBhc3MsIG5vcm1hbERlcHRoQnVmZmVyIH0pXG4gICAgICAgICAgRW5naW5lLmVmZmVjdENvbXBvc2VyW2tleV0gPSBlZmZcbiAgICAgICAgICBwYXNzZXMucHVzaChlZmYpXG4gICAgICAgIH0gZWxzZSBpZiAoZWZmZWN0ID09PSBEZXB0aE9mRmllbGRFZmZlY3QpIHtcbiAgICAgICAgICBjb25zdCBlZmYgPSBuZXcgZWZmZWN0KEVuZ2luZS5jYW1lcmEsIHBhc3MpXG4gICAgICAgICAgRW5naW5lLmVmZmVjdENvbXBvc2VyW2tleV0gPSBlZmZcbiAgICAgICAgICBwYXNzZXMucHVzaChlZmYpXG4gICAgICAgIH0gZWxzZSBpZiAoZWZmZWN0ID09PSBPdXRsaW5lRWZmZWN0KSB7XG4gICAgICAgICAgY29uc3QgZWZmID0gbmV3IGVmZmVjdChFbmdpbmUuc2NlbmUsIEVuZ2luZS5jYW1lcmEsIHBhc3MpXG4gICAgICAgICAgRW5naW5lLmVmZmVjdENvbXBvc2VyW2tleV0gPSBlZmZcbiAgICAgICAgICBwYXNzZXMucHVzaChlZmYpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWZmID0gbmV3IGVmZmVjdChwYXNzKVxuICAgICAgICAgIEVuZ2luZS5lZmZlY3RDb21wb3NlcltrZXldID0gZWZmXG4gICAgICAgICAgcGFzc2VzLnB1c2goZWZmKVxuICAgICAgICB9XG4gICAgfSlcbiAgICBjb25zdCB0ZXh0dXJlRWZmZWN0ID0gbmV3IFRleHR1cmVFZmZlY3Qoe1xuICAgICAgYmxlbmRGdW5jdGlvbjogQmxlbmRGdW5jdGlvbi5TS0lQLFxuICAgICAgdGV4dHVyZTogZGVwdGhEb3duc2FtcGxpbmdQYXNzLnRleHR1cmVcbiAgICB9KVxuICAgIGlmIChwYXNzZXMubGVuZ3RoKSB7XG4gICAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIuYWRkUGFzcyhkZXB0aERvd25zYW1wbGluZ1Bhc3MpXG4gICAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIuYWRkUGFzcyhuZXcgRWZmZWN0UGFzcyhFbmdpbmUuY2FtZXJhLCAuLi5wYXNzZXMsIHRleHR1cmVFZmZlY3QpKVxuICAgIH1cbiAgICAvLyBjb25zdCBnYW1tYUNvcnJlY3Rpb25QYXNzID0gbmV3IFNoYWRlclBhc3MoR2FtbWFDb3JyZWN0aW9uU2hhZGVyKTtcbiAgICAvLyB0aGlzLmVmZmVjdENvbXBvc2VyLmFkZFBhc3MoZ2FtbWFDb3JyZWN0aW9uUGFzcyk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIHN5c3RlbS4gQ2FsbGVkIGVhY2ggZnJhbWUgYnkgZGVmYXVsdCBmcm9tIHRoZSBFbmdpbmUuXG4gICAqIEBwYXJhbSBkZWx0YSBUaW1lIHNpbmNlIGxhc3QgZnJhbWUuXG4gICAqL1xuICBleGVjdXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoRW5naW5lLnhyUmVuZGVyZXIuaXNQcmVzZW50aW5nKSB7XG4gICAgICBFbmdpbmUuY3NtPy51cGRhdGUoKVxuICAgICAgRW5naW5lLnJlbmRlcmVyLnJlbmRlcihFbmdpbmUuc2NlbmUsIEVuZ2luZS5jYW1lcmEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhbmdlUXVhbGl0eUxldmVsKClcblxuICAgICAgaWYgKHRoaXMucmVuZGVyZXJpbmdFbmFibGVkKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzUmVzaXplKSB7XG4gICAgICAgICAgY29uc3QgY3VyUGl4ZWxSYXRpbyA9IEVuZ2luZS5yZW5kZXJlci5nZXRQaXhlbFJhdGlvKClcbiAgICAgICAgICBjb25zdCBzY2FsZWRQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiB0aGlzLnNjYWxlRmFjdG9yXG5cbiAgICAgICAgICBpZiAoY3VyUGl4ZWxSYXRpbyAhPT0gc2NhbGVkUGl4ZWxSYXRpbykgRW5naW5lLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8oc2NhbGVkUGl4ZWxSYXRpbylcblxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcblxuICAgICAgICAgIGlmICgoRW5naW5lLmNhbWVyYSBhcyBQZXJzcGVjdGl2ZUNhbWVyYSkuaXNQZXJzcGVjdGl2ZUNhbWVyYSkge1xuICAgICAgICAgICAgY29uc3QgY2FtID0gRW5naW5lLmNhbWVyYSBhcyBQZXJzcGVjdGl2ZUNhbWVyYVxuICAgICAgICAgICAgY2FtLmFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0XG4gICAgICAgICAgICBjYW0udXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5xdWFsaXR5TGV2ZWwgPiAwICYmIEVuZ2luZS5jc20/LnVwZGF0ZUZydXN0dW1zKClcbiAgICAgICAgICBFbmdpbmUucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCBmYWxzZSlcbiAgICAgICAgICBFbmdpbmUuZWZmZWN0Q29tcG9zZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCBmYWxzZSlcbiAgICAgICAgICB0aGlzLm5lZWRzUmVzaXplID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucXVhbGl0eUxldmVsID4gMCAmJiBFbmdpbmUuY3NtPy51cGRhdGUoKVxuICAgICAgICBpZiAodGhpcy51c2VQb3N0UHJvY2Vzc2luZyAmJiB0aGlzLnBvc3RQcm9jZXNzaW5nU2NoZW1hKSB7XG4gICAgICAgICAgRW5naW5lLmVmZmVjdENvbXBvc2VyLnJlbmRlcihkZWx0YSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBFbmdpbmUucmVuZGVyZXIuYXV0b0NsZWFyID0gdHJ1ZVxuICAgICAgICAgIEVuZ2luZS5yZW5kZXJlci5yZW5kZXIoRW5naW5lLnNjZW5lLCBFbmdpbmUuY2FtZXJhKVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIG9uIG9jdWx1cywgcmVuZGVyIG9uZSBmcmFtZSBhbmQgZnJlZXplLCBqdXN0IHRvIGNyZWF0ZSBhIHByZXZpZXcgb2YgdGhlIHNjZW5lXG4gICAgICAgIGlmIChFbmdpbmUuaXNITUQpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxjdWxhdGVNb3ZpbmdBdmVyYWdlID0gKGRlbHRhOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgIHRoaXMuYXZlcmFnZUZyYW1lVGltZSA9XG4gICAgICAodGhpcy5hdmVyYWdlRnJhbWVUaW1lICogdGhpcy50aW1lU2FtcGxlcy5sZW5ndGggKyBkZWx0YSAtIHRoaXMudGltZVNhbXBsZXNbdGhpcy5pbmRleF0pIC8gdGhpcy50aW1lU2FtcGxlcy5sZW5ndGhcblxuICAgIHRoaXMudGltZVNhbXBsZXNbdGhpcy5pbmRleF0gPSBkZWx0YVxuICAgIHRoaXMuaW5kZXggPSAodGhpcy5pbmRleCArIDEpICUgdGhpcy50aW1lU2FtcGxlcy5sZW5ndGhcblxuICAgIHJldHVybiB0aGlzLmF2ZXJhZ2VGcmFtZVRpbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIHF1YWxpdHkgb2YgdGhlIHJlbmRlcmVyLlxuICAgKi9cbiAgY2hhbmdlUXVhbGl0eUxldmVsKCk6IHZvaWQge1xuICAgIGNvbnN0IHRpbWUgPSBub3dNaWxsaXNlY29uZHMoKVxuICAgIGNvbnN0IGRlbHRhID0gdGltZSAtIGxhc3RSZW5kZXJUaW1lXG4gICAgbGFzdFJlbmRlclRpbWUgPSB0aW1lXG5cbiAgICBpZiAoIXRoaXMuYXV0b21hdGljKSByZXR1cm5cblxuICAgIGNvbnN0IGF2ZXJhZ2VEZWx0YSA9IHRoaXMuY2FsY3VsYXRlTW92aW5nQXZlcmFnZShkZWx0YSlcblxuICAgIC8vIGRvbnQgZG93bmdyYWRlIHdoZW4gc2NlbmUgaXMgc3RpbGwgbG9hZGluZyBpblxuICAgIGlmICh1c2VXb3JsZCgpLmVsYXBzZWRUaW1lID4gNSkge1xuICAgICAgaWYgKGF2ZXJhZ2VEZWx0YSA+IHRoaXMubWluUmVuZGVyRGVsdGEpIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5TGV2ZWwtLVxuICAgICAgfVxuICAgICAgaWYgKGF2ZXJhZ2VEZWx0YSA8IHRoaXMubWF4UmVuZGVyRGVsdGEpIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5TGV2ZWwrK1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnF1YWxpdHlMZXZlbCA9IE1hdGgucm91bmQoTWF0aFV0aWxzLmNsYW1wKHRoaXMucXVhbGl0eUxldmVsLCAxLCB0aGlzLm1heFF1YWxpdHlMZXZlbCkpXG5cbiAgICAvLyBzZXQgcmVzb2x1dGlvbiBzY2FsZVxuICAgIGlmICh0aGlzLnByZXZRdWFsaXR5TGV2ZWwgIT09IHRoaXMucXVhbGl0eUxldmVsKSB7XG4gICAgICB0aGlzLnByZXZRdWFsaXR5TGV2ZWwgPSB0aGlzLnF1YWxpdHlMZXZlbFxuICAgICAgdGhpcy5kb0F1dG9tYXRpY1JlbmRlclF1YWxpdHkoKVxuICAgICAgdGhpcy5kaXNwYXRjaFNldHRpbmdzQ2hhbmdlRXZlbnQoKVxuICAgIH1cbiAgfVxuXG4gIGRvQXV0b21hdGljUmVuZGVyUXVhbGl0eSgpIHtcbiAgICB0aGlzLnNldFNoYWRvd1F1YWxpdHkodGhpcy5xdWFsaXR5TGV2ZWwgPiAxKVxuICAgIHRoaXMuc2V0UmVzb2x1dGlvbih0aGlzLnF1YWxpdHlMZXZlbCAvIHRoaXMubWF4UXVhbGl0eUxldmVsKVxuICAgIHRoaXMuc2V0VXNlUG9zdFByb2Nlc3NpbmcodGhpcy5xdWFsaXR5TGV2ZWwgPiAyKVxuICB9XG5cbiAgZGlzcGF0Y2hTZXR0aW5nc0NoYW5nZUV2ZW50KCkge1xuICAgIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgIHR5cGU6IEVuZ2luZVJlbmRlcmVyLkVWRU5UUy5RVUFMSVRZX0NIQU5HRUQsXG4gICAgICBzaGFkb3dzOiB0aGlzLnVzZVNoYWRvd3MsXG4gICAgICByZXNvbHV0aW9uOiB0aGlzLnNjYWxlRmFjdG9yLFxuICAgICAgcG9zdFByb2Nlc3Npbmc6IHRoaXMudXNlUG9zdFByb2Nlc3NpbmcsXG4gICAgICBwYnI6IHRoaXMudXNlUEJSLFxuICAgICAgYXV0b21hdGljOiB0aGlzLmF1dG9tYXRpY1xuICAgIH0pXG4gIH1cblxuICBzZXRVc2VBdXRvbWF0aWMoYXV0b21hdGljKSB7XG4gICAgdGhpcy5hdXRvbWF0aWMgPSBhdXRvbWF0aWNcbiAgICBpZiAodGhpcy5hdXRvbWF0aWMpIHtcbiAgICAgIHRoaXMuZG9BdXRvbWF0aWNSZW5kZXJRdWFsaXR5KClcbiAgICB9XG4gICAgQ2xpZW50U3RvcmFnZS5zZXQoZGF0YWJhc2VQcmVmaXggKyBSRU5ERVJFUl9TRVRUSU5HUy5BVVRPTUFUSUMsIHRoaXMuYXV0b21hdGljKVxuICB9XG5cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zY2FsZUZhY3RvciA9IHJlc29sdXRpb25cbiAgICBFbmdpbmUucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIHRoaXMuc2NhbGVGYWN0b3IpXG4gICAgdGhpcy5uZWVkc1Jlc2l6ZSA9IHRydWVcbiAgICBDbGllbnRTdG9yYWdlLnNldChkYXRhYmFzZVByZWZpeCArIFJFTkRFUkVSX1NFVFRJTkdTLlNDQUxFX0ZBQ1RPUiwgdGhpcy5zY2FsZUZhY3RvcilcbiAgfVxuXG4gIHNldFNoYWRvd1F1YWxpdHkodXNlU2hhZG93cykge1xuICAgIGlmICh0aGlzLnVzZVNoYWRvd3MgPT09IHVzZVNoYWRvd3MpIHJldHVyblxuXG4gICAgdGhpcy51c2VTaGFkb3dzID0gdXNlU2hhZG93c1xuICAgIEVuZ2luZS5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHVzZVNoYWRvd3NcbiAgICBDbGllbnRTdG9yYWdlLnNldChkYXRhYmFzZVByZWZpeCArIFJFTkRFUkVSX1NFVFRJTkdTLlNIQURPV19RVUFMSVRZLCB0aGlzLnVzZVNoYWRvd3MpXG4gIH1cblxuICBzZXRVc2VQb3N0UHJvY2Vzc2luZyh1c2VQb3N0UHJvY2Vzc2luZykge1xuICAgIGlmICh0aGlzLnVzZVBvc3RQcm9jZXNzaW5nID09PSB1c2VQb3N0UHJvY2Vzc2luZykgcmV0dXJuXG5cbiAgICB0aGlzLnVzZVBvc3RQcm9jZXNzaW5nID0gdGhpcy5zdXBwb3J0V2ViR0wyICYmIHVzZVBvc3RQcm9jZXNzaW5nXG4gICAgQ2xpZW50U3RvcmFnZS5zZXQoZGF0YWJhc2VQcmVmaXggKyBSRU5ERVJFUl9TRVRUSU5HUy5QT1NUX1BST0NFU1NJTkcsIHRoaXMudXNlUG9zdFByb2Nlc3NpbmcpXG4gIH1cblxuICBhc3luYyBsb2FkR3JhcGhpY3NTZXR0aW5nc0Zyb21TdG9yYWdlKCkge1xuICAgIHRoaXMuYXV0b21hdGljID0gKChhd2FpdCBDbGllbnRTdG9yYWdlLmdldChkYXRhYmFzZVByZWZpeCArIFJFTkRFUkVSX1NFVFRJTkdTLkFVVE9NQVRJQykpIGFzIGJvb2xlYW4pID8/IHRydWVcbiAgICB0aGlzLnNjYWxlRmFjdG9yID0gKChhd2FpdCBDbGllbnRTdG9yYWdlLmdldChkYXRhYmFzZVByZWZpeCArIFJFTkRFUkVSX1NFVFRJTkdTLlNDQUxFX0ZBQ1RPUikpIGFzIG51bWJlcikgPz8gMVxuICAgIHRoaXMudXNlU2hhZG93cyA9ICgoYXdhaXQgQ2xpZW50U3RvcmFnZS5nZXQoZGF0YWJhc2VQcmVmaXggKyBSRU5ERVJFUl9TRVRUSU5HUy5TSEFET1dfUVVBTElUWSkpIGFzIGJvb2xlYW4pID8/IHRydWVcbiAgICAvLyB0aGlzLnVzZVBCUiA9IGF3YWl0IENsaWVudFN0b3JhZ2UuZ2V0KGRhdGFiYXNlUHJlZml4ICsgUkVOREVSRVJfU0VUVElOR1MuUEJSKSBhcyBib29sZWFuID8/IHRydWU7IC8vIFRPRE86IGltcGxlbWVudCBQQlIgc2V0dGluZ1xuICAgIHRoaXMudXNlUG9zdFByb2Nlc3NpbmcgPVxuICAgICAgKChhd2FpdCBDbGllbnRTdG9yYWdlLmdldChkYXRhYmFzZVByZWZpeCArIFJFTkRFUkVSX1NFVFRJTkdTLlBPU1RfUFJPQ0VTU0lORykpIGFzIGJvb2xlYW4pID8/IHRydWVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBXZWJHTFJlbmRlcmVyU3lzdGVtKHdvcmxkOiBXb3JsZCwgcHJvcHM6IEVuZ2luZVJlbmRlcmVyUHJvcHMpOiBQcm9taXNlPFN5c3RlbT4ge1xuICBuZXcgRW5naW5lUmVuZGVyZXIocHJvcHMpXG5cbiAgYXdhaXQgRW5naW5lUmVuZGVyZXIuaW5zdGFuY2UubG9hZEdyYXBoaWNzU2V0dGluZ3NGcm9tU3RvcmFnZSgpXG4gIEVuZ2luZVJlbmRlcmVyLmluc3RhbmNlLmRpc3BhdGNoU2V0dGluZ3NDaGFuZ2VFdmVudCgpXG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAocHJvcHMuZW5hYmxlZCkgRW5naW5lUmVuZGVyZXIuaW5zdGFuY2UuZXhlY3V0ZSh3b3JsZC5kZWx0YSlcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgYml0RUNTIGZyb20gJ2JpdGVjcydcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50LCBoYXNDb21wb25lbnQsIHJlbW92ZUFsbENvbXBvbmVudHMgfSBmcm9tICcuL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IHVzZVdvcmxkIH0gZnJvbSAnLi9TeXN0ZW1Ib29rcydcbmltcG9ydCB7IE5hbWVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zY2VuZS9jb21wb25lbnRzL05hbWVDb21wb25lbnQnXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFbnRpdHkgPSAod29ybGQgPSB1c2VXb3JsZCgpKTogRW50aXR5ID0+IHtcbiAgY29uc3QgZW50aXR5ID0gYml0RUNTLmFkZEVudGl0eSh3b3JsZCkgYXMgRW50aXR5XG4gIHdvcmxkLmVudGl0aWVzLnB1c2goZW50aXR5KVxuICByZXR1cm4gZW50aXR5XG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVFbnRpdHkgPSAoZW50aXR5OiBFbnRpdHksIHdvcmxkID0gdXNlV29ybGQoKSkgPT4ge1xuICBpZiAoaGFzQ29tcG9uZW50KGVudGl0eSwgTmFtZUNvbXBvbmVudCkpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IGdldENvbXBvbmVudChlbnRpdHksIE5hbWVDb21wb25lbnQpXG4gICAgaWYgKGVudGl0eSA9PT0gd29ybGQubmFtZWRFbnRpdGllcy5nZXQobmFtZSkpIHtcbiAgICAgIHdvcmxkLm5hbWVkRW50aXRpZXMuZGVsZXRlKG5hbWUpXG4gICAgfVxuICB9XG4gIHJlbW92ZUFsbENvbXBvbmVudHMoZW50aXR5LCB3b3JsZClcbiAgd29ybGQuZW50aXRpZXMuc3BsaWNlKHdvcmxkLmVudGl0aWVzLmluZGV4T2YoZW50aXR5KSwgMSlcbiAgYml0RUNTLnJlbW92ZUVudGl0eSh3b3JsZCwgZW50aXR5KVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBJbnRlcmFjdGlvbkRhdGEgfSBmcm9tICcuLi90eXBlcy9JbnRlcmFjdGlvblR5cGVzJ1xuXG5leHBvcnQgdHlwZSBJbnRlcmFjdGFibGVDb21wb25lbnRUeXBlID0ge1xuICBkYXRhOiBJbnRlcmFjdGlvbkRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IEludGVyYWN0YWJsZUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxJbnRlcmFjdGFibGVDb21wb25lbnRUeXBlPignSW50ZXJhY3RhYmxlQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL2Z1bmN0aW9ucy9pc0NsaWVudCdcblxuZXhwb3J0IGNvbnN0IGxvYWRQaHlzWCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBkZWZhdWx0OiBQSFlTWCB9ID0gKGF3YWl0IChpc0NsaWVudFxuICAgID8gaW1wb3J0KCcuL3BoeXN4LnJlbGVhc2UuZXNtLmpzJylcbiAgICA6IGltcG9ydCgnLi9waHlzeC5yZWxlYXNlLmNqcy5qcycpKSkgYXMgYW55XG4gIGxldCBwYXRoTGliID0gaXNDbGllbnQgPyB1bmRlZmluZWQgOiAoKGF3YWl0IGltcG9ydCgncGF0aCcpKSBhcyBhbnkpXG4gIGdsb2JhbFRoaXMuUGh5c1ggPSBhd2FpdCBQSFlTWCh7XG4gICAgbG9jYXRlRmlsZShwYXRoKSB7XG4gICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLndhc20nKSkge1xuICAgICAgICBpZiAoIWlzQ2xpZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHBhdGhMaWIucmVzb2x2ZShfX2Rpcm5hbWUsICcuL3BoeXN4LnJlbGVhc2Uud2FzbScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcvd29ya2Vycy9waHlzeC5yZWxlYXNlLndhc20nXG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aFxuICAgIH1cbiAgfSlcbn1cbiIsImV4cG9ydCBjb25zdCBwdXRJbnRvUGh5c1hIZWFwID0gKGhlYXAsIGFycmF5OiBBcnJheUxpa2U8bnVtYmVyPikgPT4ge1xuICBjb25zdCBwdHIgPSBQaHlzWC5fbWFsbG9jKDQgKiBhcnJheS5sZW5ndGgpXG4gIGxldCBvZmZzZXQgPSAwXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGhlYXBbKHB0ciArIG9mZnNldCkgPj4gMl0gPSBhcnJheVtpXVxuICAgIG9mZnNldCArPSA0XG4gIH1cblxuICByZXR1cm4gcHRyXG59XG5cbmV4cG9ydCBjb25zdCBnZXRGcm9tUGh5c1hIZWFwID0gKGhlYXAsIGFkZHJlc3MsIGNvdW50KSA9PiB7XG4gIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXVxuICBsZXQgb2Zmc2V0ID0gMFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICByZXN1bHQucHVzaChoZWFwWyhhZGRyZXNzICsgb2Zmc2V0KSA+PiAyXSlcbiAgICBvZmZzZXQgKz0gNFxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZXhwb3J0IGNvbnN0IHZlY3RvclRvQXJyYXkgPSAodmVjdG9yOiBQaHlzWC5WZWN0b3JCYXNlPGFueT4pID0+IHtcbiAgLy8gcmV0dXJuIEFycmF5KHZlY3Rvci5zaXplKCkpLm1hcCgoXywgaSkgPT4ge1xuICAvLyAgIHJldHVybiB2ZWN0b3IuZ2V0KGkpXG4gIC8vIH0pXG5cbiAgY29uc3QgYXJyOiBudW1iZXJbXSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmVjdG9yLnNpemUoKTsgaSsrKSB7XG4gICAgYXJyLnB1c2godmVjdG9yLmdldChpKSlcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cbiIsImltcG9ydCB7IGxvYWRQaHlzWCB9IGZyb20gJy4uL3BoeXN4L2xvYWRQaHlzWCdcbmltcG9ydCB7XG4gIFBoeXNYQ29uZmlnLFxuICBCb2R5VHlwZSxcbiAgUmlnaWRCb2R5LFxuICBTaGFwZU9wdGlvbnMsXG4gIFNjZW5lUXVlcnksXG4gIENvbGxpc2lvbkV2ZW50cyxcbiAgQ29udHJvbGxlckV2ZW50cyxcbiAgU2NlbmVRdWVyeVR5cGUsXG4gIENhcHN1bGVDb250cm9sbGVyQ29uZmlnLFxuICBCb3hDb250cm9sbGVyQ29uZmlnLFxuICBPYnN0YWNsZUNvbmZpZ1xufSBmcm9tICcuLi90eXBlcy9QaHlzaWNzVHlwZXMnXG5pbXBvcnQgeyBwdXRJbnRvUGh5c1hIZWFwIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3BoeXN4SGVscGVycydcbmltcG9ydCB7IFF1YXRlcm5pb24sIFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IFJheWNhc3RDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1JheWNhc3RDb21wb25lbnQnXG5pbXBvcnQgeyBDb21wb25lbnRUeXBlIH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmNvbnN0IGRlZmF1bHRNYXNrID0gMFxuXG5sZXQgbmV4dEF2YWlsYWJsZUJvZHlJbmRleCA9IDBcbmxldCBuZXh0QXZhaWxhYmxlU2hhcGVJRCA9IDBcbmxldCBuZXh0QXZhaWxhYmxlT2JzdGFjbGVJRCA9IDBcblxuZXhwb3J0IGNsYXNzIFBoeXNpY3Mge1xuICBwaHlzeFZlcnNpb246IG51bWJlclxuICBkZWZhdWx0RXJyb3JDYWxsYmFjazogUGh5c1guUHhEZWZhdWx0RXJyb3JDYWxsYmFja1xuICBhbGxvY2F0b3I6IFBoeXNYLlB4RGVmYXVsdEFsbG9jYXRvclxuICBmb3VuZGF0aW9uOiBQaHlzWC5QeEZvdW5kYXRpb25cbiAgY29va2luZ1BhcmFtYXM6IFBoeXNYLlB4Q29va2luZ1BhcmFtc1xuICBjb29raW5nOiBQaHlzWC5QeENvb2tpbmdcbiAgcGh5c2ljczogUGh5c1guUHhQaHlzaWNzXG4gIHNjZW5lRGVzYzogUGh5c1guUHhTY2VuZURlc2NcbiAgc2NlbmU6IFBoeXNYLlB4U2NlbmVcbiAgY29udHJvbGxlck1hbmFnZXI6IFBoeXNYLlB4Q29udHJvbGxlck1hbmFnZXJcbiAgb2JzdGFjbGVDb250ZXh0OiBQaHlzWC5QeE9ic3RhY2xlQ29udGV4dFxuICBkZWZhdWx0Q0NUUXVlcnlDYWxsYmFjazogUGh5c1guUHhRdWVyeUZpbHRlckNhbGxiYWNrXG5cbiAgc3RlcFRpbWU6IG51bWJlciA9IDEwMDAgLyA2MFxuICBzdWJzdGVwczogbnVtYmVyID0gMVxuICBjb2xsaXNpb25FdmVudFF1ZXVlID0gW10gYXMgYW55W11cblxuICBib2RpZXMgPSBuZXcgTWFwPG51bWJlciwgUGh5c1guUHhSaWdpZEFjdG9yPigpXG4gIHNoYXBlcyA9IG5ldyBNYXA8bnVtYmVyLCBQaHlzWC5QeFNoYXBlPigpXG4gIHNoYXBlSURCeVBvaW50ZXIgPSBuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpXG4gIGNvbnRyb2xsZXJJREJ5UG9pbnRlciA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KClcbiAgYm9keUlEQnlTaGFwZUlEID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKVxuICBjb250cm9sbGVycyA9IG5ldyBNYXA8bnVtYmVyLCBQaHlzWC5QeENvbnRyb2xsZXI+KClcbiAgb2JzdGFjbGVzID0gbmV3IE1hcDxudW1iZXIsIFBoeXNYLlB4T2JzdGFjbGU+KClcblxuICBkaXNwb3NlKCkge31cblxuICBvbkV2ZW50KGV2KSB7XG4gICAgdGhpcy5jb2xsaXNpb25FdmVudFF1ZXVlLnB1c2goZXYpXG4gIH1cblxuICBnZXRPcmlnaW5hbFNoYXBlT2JqZWN0KHNoYXBlczogUGh5c1guUHhTaGFwZSB8IFBoeXNYLlB4U2hhcGVbXSkge1xuICAgIGNvbnN0IHNoYXBlOiBQaHlzWC5QeFNoYXBlID0gKHNoYXBlcyBhcyBhbnkpLmxlbmd0aCA/IHNoYXBlc1swXSA6IHNoYXBlc1xuICAgIHJldHVybiB0aGlzLnNoYXBlcy5nZXQodGhpcy5zaGFwZUlEQnlQb2ludGVyLmdldChzaGFwZS4kJC5wdHIpISlcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVNjZW5lKGNvbmZpZzogUGh5c1hDb25maWcgPSB7fSkge1xuICAgIGF3YWl0IGxvYWRQaHlzWCgpXG5cbiAgICB0aGlzLnBoeXN4VmVyc2lvbiA9IFBoeXNYLlBYX1BIWVNJQ1NfVkVSU0lPTlxuICAgIHRoaXMuZGVmYXVsdEVycm9yQ2FsbGJhY2sgPSBuZXcgUGh5c1guUHhEZWZhdWx0RXJyb3JDYWxsYmFjaygpXG4gICAgdGhpcy5hbGxvY2F0b3IgPSBuZXcgUGh5c1guUHhEZWZhdWx0QWxsb2NhdG9yKClcbiAgICBjb25zdCB0b2xlcmFuY2UgPSBuZXcgUGh5c1guUHhUb2xlcmFuY2VzU2NhbGUoKVxuICAgIHRvbGVyYW5jZS5sZW5ndGggPSBjb25maWcubGVuZ3RoU2NhbGUgPz8gMVxuICAgIHRoaXMuZm91bmRhdGlvbiA9IFBoeXNYLlB4Q3JlYXRlRm91bmRhdGlvbih0aGlzLnBoeXN4VmVyc2lvbiwgdGhpcy5hbGxvY2F0b3IsIHRoaXMuZGVmYXVsdEVycm9yQ2FsbGJhY2spXG4gICAgdGhpcy5jb29raW5nUGFyYW1hcyA9IG5ldyBQaHlzWC5QeENvb2tpbmdQYXJhbXModG9sZXJhbmNlKVxuICAgIHRoaXMuY29va2luZyA9IFBoeXNYLlB4Q3JlYXRlQ29va2luZyh0aGlzLnBoeXN4VmVyc2lvbiwgdGhpcy5mb3VuZGF0aW9uLCB0aGlzLmNvb2tpbmdQYXJhbWFzKVxuICAgIHRoaXMucGh5c2ljcyA9IFBoeXNYLlB4Q3JlYXRlUGh5c2ljcyh0aGlzLnBoeXN4VmVyc2lvbiwgdGhpcy5mb3VuZGF0aW9uLCB0b2xlcmFuY2UsIGZhbHNlLCBudWxsISlcblxuICAgIGNvbnN0IHRyaWdnZXJDYWxsYmFjayA9IHtcbiAgICAgIG9uQ29udGFjdEJlZ2luOiAoXG4gICAgICAgIHNoYXBlQTogUGh5c1guUHhTaGFwZSxcbiAgICAgICAgc2hhcGVCOiBQaHlzWC5QeFNoYXBlLFxuICAgICAgICBjb250YWN0UG9pbnRzOiBQaHlzWC5QeFZlYzNWZWN0b3IsXG4gICAgICAgIGNvbnRhY3ROb3JtYWxzOiBQaHlzWC5QeFZlYzNWZWN0b3IsXG4gICAgICAgIGltcHVsc2VzOiBQaHlzWC5QeFJlYWxWZWN0b3JcbiAgICAgICkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWN0cyA9IFtdIGFzIGFueVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhY3RQb2ludHMuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICBpZiAoaW1wdWxzZXMuZ2V0KGkpID4gMCkge1xuICAgICAgICAgICAgY29udGFjdHMucHVzaCh7XG4gICAgICAgICAgICAgIHBvaW50OiBjb250YWN0UG9pbnRzLmdldChpKSxcbiAgICAgICAgICAgICAgbm9ybWFsOiBjb250YWN0Tm9ybWFscy5nZXQoaSksXG4gICAgICAgICAgICAgIGltcHVsc2U6IGltcHVsc2VzLmdldChpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsaXNpb25FdmVudFF1ZXVlLnB1c2goe1xuICAgICAgICAgIHR5cGU6IENvbGxpc2lvbkV2ZW50cy5DT0xMSVNJT05fU1RBUlQsXG4gICAgICAgICAgLy8gd2UgaGF2ZSB0byBnZXQgb3VyIG9yaWdpbmFsIG9iamVjdCByZWZcbiAgICAgICAgICBzaGFwZUE6IHRoaXMuZ2V0T3JpZ2luYWxTaGFwZU9iamVjdChzaGFwZUEpLFxuICAgICAgICAgIHNoYXBlQjogdGhpcy5nZXRPcmlnaW5hbFNoYXBlT2JqZWN0KHNoYXBlQiksXG4gICAgICAgICAgY29udGFjdHNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBvbkNvbnRhY3RFbmQ6IChzaGFwZUE6IFBoeXNYLlB4U2hhcGUsIHNoYXBlQjogUGh5c1guUHhTaGFwZSkgPT4ge1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkV2ZW50UXVldWUucHVzaCh7XG4gICAgICAgICAgdHlwZTogQ29sbGlzaW9uRXZlbnRzLkNPTExJU0lPTl9FTkQsXG4gICAgICAgICAgc2hhcGVBOiB0aGlzLmdldE9yaWdpbmFsU2hhcGVPYmplY3Qoc2hhcGVBKSxcbiAgICAgICAgICBzaGFwZUI6IHRoaXMuZ2V0T3JpZ2luYWxTaGFwZU9iamVjdChzaGFwZUIpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgb25Db250YWN0UGVyc2lzdDogKHNoYXBlQTogUGh5c1guUHhTaGFwZSwgc2hhcGVCOiBQaHlzWC5QeFNoYXBlKSA9PiB7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uRXZlbnRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBDb2xsaXNpb25FdmVudHMuQ09MTElTSU9OX1BFUlNJU1QsXG4gICAgICAgICAgc2hhcGVBOiB0aGlzLmdldE9yaWdpbmFsU2hhcGVPYmplY3Qoc2hhcGVBKSxcbiAgICAgICAgICBzaGFwZUI6IHRoaXMuZ2V0T3JpZ2luYWxTaGFwZU9iamVjdChzaGFwZUIpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgb25UcmlnZ2VyQmVnaW46IChzaGFwZUE6IFBoeXNYLlB4U2hhcGUsIHNoYXBlQjogUGh5c1guUHhTaGFwZSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnb25UcmlnZ2VyQmVnaW4nLCBzaGFwZUEsIHNoYXBlQilcbiAgICAgICAgdGhpcy5jb2xsaXNpb25FdmVudFF1ZXVlLnB1c2goe1xuICAgICAgICAgIHR5cGU6IENvbGxpc2lvbkV2ZW50cy5UUklHR0VSX1NUQVJULFxuICAgICAgICAgIHNoYXBlQTogdGhpcy5nZXRPcmlnaW5hbFNoYXBlT2JqZWN0KHNoYXBlQSksXG4gICAgICAgICAgc2hhcGVCOiB0aGlzLmdldE9yaWdpbmFsU2hhcGVPYmplY3Qoc2hhcGVCKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIC8vIG9uVHJpZ2dlclBlcnNpc3Q6IChzaGFwZUE6IFBoeXNYLlB4U2hhcGUsIHNoYXBlQjogUGh5c1guUHhTaGFwZSkgPT4ge1xuICAgICAgLy8gICB0aGlzLmNvbGxpc2lvbkV2ZW50UXVldWUucHVzaCh7XG4gICAgICAvLyAgICAgZXZlbnQ6IENvbGxpc2lvbkV2ZW50cy5UUklHR0VSX1BFUlNJU1QsXG4gICAgICAvLyBib2R5QSxcbiAgICAgIC8vIGJvZHlCLFxuICAgICAgLy8gc2hhcGVBLFxuICAgICAgLy8gc2hhcGVCLFxuICAgICAgLy8gICB9KTtcbiAgICAgIC8vIH0sXG4gICAgICBvblRyaWdnZXJFbmQ6IChzaGFwZUE6IFBoeXNYLlB4U2hhcGUsIHNoYXBlQjogUGh5c1guUHhTaGFwZSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnb25UcmlnZ2VyRW5kJywgc2hhcGVBLCBzaGFwZUIpXG4gICAgICAgIHRoaXMuY29sbGlzaW9uRXZlbnRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogQ29sbGlzaW9uRXZlbnRzLlRSSUdHRVJfRU5ELFxuICAgICAgICAgIHNoYXBlQTogdGhpcy5nZXRPcmlnaW5hbFNoYXBlT2JqZWN0KHNoYXBlQSksXG4gICAgICAgICAgc2hhcGVCOiB0aGlzLmdldE9yaWdpbmFsU2hhcGVPYmplY3Qoc2hhcGVCKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2NlbmVEZXNjID0gUGh5c1guZ2V0RGVmYXVsdFNjZW5lRGVzYyhcbiAgICAgIHRvbGVyYW5jZSxcbiAgICAgIDAsXG4gICAgICBQaHlzWC5QeFNpbXVsYXRpb25FdmVudENhbGxiYWNrLmltcGxlbWVudCh0cmlnZ2VyQ2FsbGJhY2sgYXMgYW55KVxuICAgIClcblxuICAgIHRoaXMuc2NlbmUgPSB0aGlzLnBoeXNpY3MuY3JlYXRlU2NlbmUodGhpcy5zY2VuZURlc2MpXG4gICAgdGhpcy5zY2VuZS5zZXRCb3VuY2VUaHJlc2hvbGRWZWxvY2l0eShjb25maWcuYm91bmNlVGhyZXNob2xkVmVsb2NpdHkgPz8gMC4wMDEpXG5cbiAgICB0aGlzLmNvbnRyb2xsZXJNYW5hZ2VyID0gUGh5c1guUHhDcmVhdGVDb250cm9sbGVyTWFuYWdlcih0aGlzLnNjZW5lLCBmYWxzZSlcbiAgICB0aGlzLm9ic3RhY2xlQ29udGV4dCA9IHRoaXMuY29udHJvbGxlck1hbmFnZXIuY3JlYXRlT2JzdGFjbGVDb250ZXh0KClcblxuICAgIHRoaXMuZGVmYXVsdENDVFF1ZXJ5Q2FsbGJhY2sgPSBQaHlzWC5nZXREZWZhdWx0Q0NUUXVlcnlGaWx0ZXIoKVxuXG4gICAgLy8gVE9ETzogZXhwb3NlIGZ1bmN0aW9ucyBoZXJlIGFzIGFuIEFQSVxuICAgIC8vIFBoeXNYLlB4UXVlcnlGaWx0ZXJDYWxsYmFjay5pbXBsZW1lbnQoe1xuICAgIC8vICAgcHJlRmlsdGVyOiAoZmlsdGVyRGF0YSwgc2hhcGUsIGFjdG9yKSA9PiB7XG4gICAgLy8gICAgIGlmICghKGZpbHRlckRhdGEud29yZDAgJiBzaGFwZS5nZXRRdWVyeUZpbHRlckRhdGEoKS53b3JkMSkgJiYgIShzaGFwZS5nZXRRdWVyeUZpbHRlckRhdGEoKS53b3JkMCAmIGZpbHRlckRhdGEud29yZDEpKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgcmV0dXJuIFBoeXNYLlB4UXVlcnlIaXRUeXBlLmVOT05FO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBQaHlzWC5QeFF1ZXJ5SGl0VHlwZS5lQkxPQ0s7XG4gICAgLy8gICB9LFxuICAgIC8vICAgcG9zdEZpbHRlcjogKGZpbHRlckRhdGEsIGhpdCkgPT4ge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygncG9zdEZpbHRlcicsIGZpbHRlckRhdGEsIGhpdCk7XG4gICAgLy8gICAgIHJldHVybiBQaHlzWC5QeFF1ZXJ5SGl0VHlwZS5lQkxPQ0s7XG4gICAgLy8gICB9XG4gICAgLy8gfSk7XG5cbiAgICBpZiAoY29uZmlnLmdyYXZpdHkpIHtcbiAgICAgIHRoaXMuc2NlbmUuc2V0R3Jhdml0eShjb25maWcuZ3Jhdml0eSlcbiAgICB9XG4gIH1cblxuICBhZGRCb2R5KGNvbmZpZzogUmlnaWRCb2R5KSB7XG4gICAgY29uc3QgeyB0cmFuc2Zvcm0sIHNoYXBlcywgdHlwZSB9ID0gY29uZmlnXG4gICAgY29uc3QgaWQgPSB0aGlzLl9nZXROZXh0QXZhaWxhYmxlQm9keUlEKClcblxuICAgIGNvbnN0IHJpZ2lkQm9keSA9XG4gICAgICB0eXBlID09PSBCb2R5VHlwZS5TVEFUSUNcbiAgICAgICAgPyB0aGlzLnBoeXNpY3MuY3JlYXRlUmlnaWRTdGF0aWModHJhbnNmb3JtKVxuICAgICAgICA6ICh0aGlzLnBoeXNpY3MuY3JlYXRlUmlnaWREeW5hbWljKHRyYW5zZm9ybSkgYXMgUGh5c1guUHhSaWdpZFN0YXRpYyB8IFBoeXNYLlB4UmlnaWREeW5hbWljKVxuXG4gICAgOyhyaWdpZEJvZHkgYXMgYW55KS5fdHlwZSA9IHR5cGVcbiAgICA7KHJpZ2lkQm9keSBhcyBhbnkpLl9pZCA9IGlkXG4gICAgOyhyaWdpZEJvZHkgYXMgYW55KS5fc2hhcGVzID0gc2hhcGVzXG5cbiAgICBmb3IgKGNvbnN0IHNoYXBlIG9mIHNoYXBlcyBhcyBQaHlzWC5QeFNoYXBlW10pIHtcbiAgICAgIHJpZ2lkQm9keS5hdHRhY2hTaGFwZShzaGFwZSlcbiAgICAgIHRoaXMuYm9keUlEQnlTaGFwZUlELnNldChzaGFwZS5faWQsIGlkKVxuICAgIH1cblxuICAgIHRoaXMuYm9kaWVzLnNldChpZCwgcmlnaWRCb2R5KVxuICAgIHRoaXMuc2NlbmUuYWRkQWN0b3IocmlnaWRCb2R5LCBudWxsKVxuXG4gICAgaWYgKCFpc1N0YXRpY0JvZHkocmlnaWRCb2R5KSkge1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcudXNlQ0NEICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICA7KHJpZ2lkQm9keSBhcyBQaHlzWC5QeFJpZ2lkRHluYW1pYykuc2V0UmlnaWRCb2R5RmxhZyhQaHlzWC5QeFJpZ2lkQm9keUZsYWcuZUVOQUJMRV9DQ0QsIGNvbmZpZy51c2VDQ0QpXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy50eXBlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSByaWdpZEJvZHkuZ2V0R2xvYmFsUG9zZSgpXG4gICAgICAgIGlmIChjb25maWcudHlwZSA9PT0gQm9keVR5cGUuS0lORU1BVElDKSB7XG4gICAgICAgICAgOyhyaWdpZEJvZHkgYXMgUGh5c1guUHhSaWdpZER5bmFtaWMpLnNldFJpZ2lkQm9keUZsYWcoUGh5c1guUHhSaWdpZEJvZHlGbGFnLmVLSU5FTUFUSUMsIHRydWUpXG4gICAgICAgICAgOyhyaWdpZEJvZHkgYXMgYW55KS5fdHlwZSA9IEJvZHlUeXBlLktJTkVNQVRJQ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIDsocmlnaWRCb2R5IGFzIFBoeXNYLlB4UmlnaWREeW5hbWljKS5zZXRSaWdpZEJvZHlGbGFnKFBoeXNYLlB4UmlnaWRCb2R5RmxhZy5lS0lORU1BVElDLCBmYWxzZSlcbiAgICAgICAgICA7KHJpZ2lkQm9keSBhcyBhbnkpLl90eXBlID0gQm9keVR5cGUuRFlOQU1JQ1xuICAgICAgICB9XG4gICAgICAgIHJpZ2lkQm9keS5zZXRHbG9iYWxQb3NlKHRyYW5zZm9ybSwgdHJ1ZSlcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcubWFzcykge1xuICAgICAgICA7KHJpZ2lkQm9keSBhcyBQaHlzWC5QeFJpZ2lkRHluYW1pYykuc2V0TWFzcyhjb25maWcubWFzcylcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcubGluZWFyRGFtcGluZykge1xuICAgICAgICA7KHJpZ2lkQm9keSBhcyBQaHlzWC5QeFJpZ2lkRHluYW1pYykuc2V0TGluZWFyRGFtcGluZyhjb25maWcubGluZWFyRGFtcGluZylcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuYW5ndWxhckRhbXBpbmcpIHtcbiAgICAgICAgOyhyaWdpZEJvZHkgYXMgUGh5c1guUHhSaWdpZER5bmFtaWMpLnNldEFuZ3VsYXJEYW1waW5nKGNvbmZpZy5hbmd1bGFyRGFtcGluZylcbiAgICAgIH1cbiAgICB9XG4gICAgOyhyaWdpZEJvZHkgYXMgYW55KS51c2VyRGF0YSA9IGNvbmZpZy51c2VyRGF0YVxuICAgIHJldHVybiByaWdpZEJvZHlcbiAgfVxuXG4gIGNyZWF0ZU1hdGVyaWFsKHN0YXRpY0ZyaWN0aW9uOiBudW1iZXIgPSAwLCBkeW5hbWljRnJpY3Rpb246IG51bWJlciA9IDAsIHJlc3RpdHV0aW9uOiBudW1iZXIgPSAwKSB7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljcy5jcmVhdGVNYXRlcmlhbChzdGF0aWNGcmljdGlvbiwgZHluYW1pY0ZyaWN0aW9uLCByZXN0aXR1dGlvbilcbiAgfVxuXG4gIGNyZWF0ZVNoYXBlKGdlb21ldHJ5OiBQaHlzWC5QeEdlb21ldHJ5LCBtYXRlcmlhbCA9IHRoaXMuY3JlYXRlTWF0ZXJpYWwoKSwgb3B0aW9uczogU2hhcGVPcHRpb25zID0ge30pOiBQaHlzWC5QeFNoYXBlIHtcbiAgICBpZiAoIWdlb21ldHJ5KSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGN0ZWQgZ2VvbWV0cnknKVxuXG4gICAgY29uc3QgaWQgPSB0aGlzLl9nZXROZXh0QXZhaWxhYmxlU2hhcGVJRCgpXG5cbiAgICBjb25zdCBmbGFncyA9IG5ldyBQaHlzWC5QeFNoYXBlRmxhZ3MoXG4gICAgICBQaHlzWC5QeFNoYXBlRmxhZy5lU0NFTkVfUVVFUllfU0hBUEUudmFsdWUgfFxuICAgICAgICAob3B0aW9ucz8uaXNUcmlnZ2VyID8gUGh5c1guUHhTaGFwZUZsYWcuZVRSSUdHRVJfU0hBUEUudmFsdWUgOiBQaHlzWC5QeFNoYXBlRmxhZy5lU0lNVUxBVElPTl9TSEFQRS52YWx1ZSlcbiAgICApXG4gICAgY29uc3Qgc2hhcGUgPSB0aGlzLnBoeXNpY3MuY3JlYXRlU2hhcGUoZ2VvbWV0cnksIG1hdGVyaWFsLCBmYWxzZSwgZmxhZ3MpXG5cbiAgICBsZXQgY29sbGlzaW9uTGF5ZXIgPSBvcHRpb25zLmNvbGxpc2lvbkxheWVyID8/IGRlZmF1bHRNYXNrXG4gICAgbGV0IGNvbGxpc2lvbk1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbk1hc2sgPz8gZGVmYXVsdE1hc2tcblxuICAgIHNoYXBlLl9jb2xsaXNpb25MYXllciA9IGNvbGxpc2lvbkxheWVyXG4gICAgc2hhcGUuX2NvbGxpc2lvbk1hc2sgPSBjb2xsaXNpb25NYXNrXG5cbiAgICBzaGFwZS5zZXRTaW11bGF0aW9uRmlsdGVyRGF0YShuZXcgUGh5c1guUHhGaWx0ZXJEYXRhKGNvbGxpc2lvbkxheWVyLCBjb2xsaXNpb25NYXNrLCAwLCAwKSlcbiAgICBzaGFwZS5zZXRRdWVyeUZpbHRlckRhdGEobmV3IFBoeXNYLlB4RmlsdGVyRGF0YShjb2xsaXNpb25MYXllciwgY29sbGlzaW9uTWFzaywgMCwgMCkpXG4gICAgc2hhcGUuX2lkID0gaWRcblxuICAgIHRoaXMuc2hhcGVJREJ5UG9pbnRlci5zZXQoc2hhcGUuJCQucHRyLCBpZClcbiAgICB0aGlzLnNoYXBlcy5zZXQoaWQsIHNoYXBlKVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRhY3RPZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzaGFwZS5zZXRDb250YWN0T2Zmc2V0KG9wdGlvbnMuY29udGFjdE9mZnNldClcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlc3RPZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzaGFwZS5zZXRSZXN0T2Zmc2V0KG9wdGlvbnMucmVzdE9mZnNldClcbiAgICB9XG5cbiAgICBzaGFwZS5fZGVidWdOZWVkc1VwZGF0ZSA9IHRydWVcbiAgICByZXR1cm4gc2hhcGVcbiAgfVxuXG4gIGNyZWF0ZVRyaW1lc2goc2NhbGU6IFZlY3RvcjMsIHZlcnRpY2VzOiBBcnJheUxpa2U8bnVtYmVyPiwgaW5kaWNlczogQXJyYXlMaWtlPG51bWJlcj4pOiBQaHlzWC5QeFRyaWFuZ2xlTWVzaEdlb21ldHJ5IHtcbiAgICBjb25zdCB2ZXJ0aWNlc1B0ciA9IHB1dEludG9QaHlzWEhlYXAoUGh5c1guSEVBUEYzMiwgdmVydGljZXMpXG4gICAgY29uc3QgaW5kaWNlc1B0ciA9IHB1dEludG9QaHlzWEhlYXAoUGh5c1guSEVBUEYzMiwgaW5kaWNlcylcbiAgICBjb25zdCB0cmltZXNoID0gdGhpcy5jb29raW5nLmNyZWF0ZVRyaU1lc2goXG4gICAgICB2ZXJ0aWNlc1B0cixcbiAgICAgIHZlcnRpY2VzLmxlbmd0aCxcbiAgICAgIGluZGljZXNQdHIsXG4gICAgICBpbmRpY2VzLmxlbmd0aCAvIDMsXG4gICAgICBmYWxzZSxcbiAgICAgIHRoaXMucGh5c2ljc1xuICAgIClcblxuICAgIGlmICh0cmltZXNoID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgdHJpbWVzaCcpXG5cbiAgICBjb25zdCBtZXNoU2NhbGUgPSBuZXcgUGh5c1guUHhNZXNoU2NhbGUoc2NhbGUsIG5ldyBRdWF0ZXJuaW9uKCkpXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgUGh5c1guUHhUcmlhbmdsZU1lc2hHZW9tZXRyeShcbiAgICAgIHRyaW1lc2gsXG4gICAgICBtZXNoU2NhbGUsXG4gICAgICBuZXcgUGh5c1guUHhNZXNoR2VvbWV0cnlGbGFncyhQaHlzWC5QeE1lc2hHZW9tZXRyeUZsYWcuZURPVUJMRV9TSURFRC52YWx1ZSlcbiAgICApXG5cbiAgICBQaHlzWC5fZnJlZSh2ZXJ0aWNlc1B0cilcbiAgICBQaHlzWC5fZnJlZShpbmRpY2VzUHRyKVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5XG4gIH1cblxuICBjcmVhdGVDb252ZXhNZXNoKHNjYWxlOiBWZWN0b3IzLCB2ZXJ0aWNlczogQXJyYXlMaWtlPG51bWJlcj4pOiBQaHlzWC5QeENvbnZleE1lc2hHZW9tZXRyeSB7XG4gICAgY29uc3QgdmVydGljZXNQdHIgPSBwdXRJbnRvUGh5c1hIZWFwKFBoeXNYLkhFQVBGMzIsIHZlcnRpY2VzKVxuXG4gICAgY29uc3QgY29udmV4TWVzaCA9IHRoaXMuY29va2luZy5jcmVhdGVDb252ZXhNZXNoKHZlcnRpY2VzUHRyLCB2ZXJ0aWNlcy5sZW5ndGgsIHRoaXMucGh5c2ljcylcblxuICAgIGNvbnN0IG1lc2hTY2FsZSA9IG5ldyBQaHlzWC5QeE1lc2hTY2FsZShzY2FsZSwgbmV3IFF1YXRlcm5pb24oKSlcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBQaHlzWC5QeENvbnZleE1lc2hHZW9tZXRyeShjb252ZXhNZXNoLCBtZXNoU2NhbGUsIG5ldyBQaHlzWC5QeENvbnZleE1lc2hHZW9tZXRyeUZsYWdzKDApKVxuXG4gICAgUGh5c1guX2ZyZWUodmVydGljZXNQdHIpXG5cbiAgICByZXR1cm4gZ2VvbWV0cnlcbiAgfVxuXG4gIHJlbW92ZUJvZHkoYm9keSkge1xuICAgIGNvbnN0IGlkID0gYm9keS5faWRcbiAgICBjb25zdCBzaGFwZXMgPSBib2R5LmdldFNoYXBlcygpXG4gICAgY29uc3Qgc2hhcGVzQXJyYXkgPSAoKHNoYXBlcyBhcyBQaHlzWC5QeFNoYXBlW10pLmxlbmd0aCA/IHNoYXBlcyA6IFtzaGFwZXNdKSBhcyBQaHlzWC5QeFNoYXBlW11cbiAgICBzaGFwZXNBcnJheS5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgY29uc3Qgc2hhcGVJRCA9IHRoaXMuc2hhcGVJREJ5UG9pbnRlci5nZXQoc2hhcGUuJCQucHRyKSFcbiAgICAgIHRoaXMuc2hhcGVzLmRlbGV0ZShzaGFwZUlEKVxuICAgICAgdGhpcy5zaGFwZUlEQnlQb2ludGVyLmRlbGV0ZShzaGFwZS4kJC5wdHIpXG4gICAgICAvLyBUT0RPOiBwcm9wZXJseSBjbGVhbiB1cCBzaGFwZVxuICAgIH0pXG5cbiAgICBpZiAoIWJvZHkpIHJldHVyblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnNjZW5lLnJlbW92ZUFjdG9yKGJvZHksIGZhbHNlKVxuICAgICAgdGhpcy5ib2RpZXMuZGVsZXRlKGlkKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlLCBpZCwgYm9keSlcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDb250cm9sbGVyKGNvbmZpZzogQ2Fwc3VsZUNvbnRyb2xsZXJDb25maWcgfCBCb3hDb250cm9sbGVyQ29uZmlnKSB7XG4gICAgY29uc3QgaWQgPSB0aGlzLl9nZXROZXh0QXZhaWxhYmxlQm9keUlEKClcbiAgICBjb25zdCBjb250cm9sbGVyRGVzYyA9IGNvbmZpZy5pc0NhcHN1bGUgPyBuZXcgUGh5c1guUHhDYXBzdWxlQ29udHJvbGxlckRlc2MoKSA6IG5ldyBQaHlzWC5QeEJveENvbnRyb2xsZXJEZXNjKClcbiAgICBjb250cm9sbGVyRGVzYy5zZXRNYXRlcmlhbChjb25maWcubWF0ZXJpYWwpXG4gICAgY29udHJvbGxlckRlc2MucG9zaXRpb24gPSB7IHg6IGNvbmZpZy5wb3NpdGlvbj8ueCA/PyAwLCB5OiBjb25maWcucG9zaXRpb24/LnkgPz8gMCwgejogY29uZmlnLnBvc2l0aW9uPy56ID8/IDAgfVxuICAgIGlmIChjb25maWcuaXNDYXBzdWxlKSB7XG4gICAgICA7KGNvbnRyb2xsZXJEZXNjIGFzIFBoeXNYLlB4Q2Fwc3VsZUNvbnRyb2xsZXJEZXNjKS5oZWlnaHQgPSAoY29uZmlnIGFzIENhcHN1bGVDb250cm9sbGVyQ29uZmlnKS5oZWlnaHRcbiAgICAgIDsoY29udHJvbGxlckRlc2MgYXMgUGh5c1guUHhDYXBzdWxlQ29udHJvbGxlckRlc2MpLnJhZGl1cyA9IChjb25maWcgYXMgQ2Fwc3VsZUNvbnRyb2xsZXJDb25maWcpLnJhZGl1c1xuICAgICAgOyhjb250cm9sbGVyRGVzYyBhcyBQaHlzWC5QeENhcHN1bGVDb250cm9sbGVyRGVzYykuY2xpbWJpbmdNb2RlID1cbiAgICAgICAgKGNvbmZpZyBhcyBDYXBzdWxlQ29udHJvbGxlckNvbmZpZykuY2xpbWJpbmdNb2RlID8/IFBoeXNYLlB4Q2Fwc3VsZUNsaW1iaW5nTW9kZS5lRUFTWVxuICAgIH0gZWxzZSB7XG4gICAgICA7KGNvbnRyb2xsZXJEZXNjIGFzIFBoeXNYLlB4Qm94Q29udHJvbGxlckRlc2MpLmhhbGZGb3J3YXJkRXh0ZW50ID0gKFxuICAgICAgICBjb25maWcgYXMgQm94Q29udHJvbGxlckNvbmZpZ1xuICAgICAgKS5oYWxmRm9yd2FyZEV4dGVudFxuICAgICAgOyhjb250cm9sbGVyRGVzYyBhcyBQaHlzWC5QeEJveENvbnRyb2xsZXJEZXNjKS5oYWxmSGVpZ2h0ID0gKGNvbmZpZyBhcyBCb3hDb250cm9sbGVyQ29uZmlnKS5oYWxmSGVpZ2h0XG4gICAgICA7KGNvbnRyb2xsZXJEZXNjIGFzIFBoeXNYLlB4Qm94Q29udHJvbGxlckRlc2MpLmhhbGZTaWRlRXh0ZW50ID0gKGNvbmZpZyBhcyBCb3hDb250cm9sbGVyQ29uZmlnKS5oYWxmU2lkZUV4dGVudFxuICAgIH1cbiAgICBjb250cm9sbGVyRGVzYy5zdGVwT2Zmc2V0ID0gY29uZmlnLnN0ZXBPZmZzZXQgPz8gMC4xXG4gICAgY29udHJvbGxlckRlc2MubWF4SnVtcEhlaWdodCA9IGNvbmZpZy5tYXhKdW1wSGVpZ2h0ID8/IDAuMVxuICAgIGNvbnRyb2xsZXJEZXNjLmNvbnRhY3RPZmZzZXQgPSBjb25maWcuY29udGFjdE9mZnNldCA/PyAwLjAxXG4gICAgY29udHJvbGxlckRlc2MuaW52aXNpYmxlV2FsbEhlaWdodCA9IGNvbmZpZy5pbnZpc2libGVXYWxsSGVpZ2h0ID8/IDAuMjVcbiAgICBjb250cm9sbGVyRGVzYy5zbG9wZUxpbWl0ID0gY29uZmlnLnNsb3BlTGltaXQgPz8gTWF0aC5jb3MoKDQ1ICogTWF0aC5QSSkgLyAxODApXG4gICAgY29udHJvbGxlckRlc2Muc2V0UmVwb3J0Q2FsbGJhY2soXG4gICAgICBQaHlzWC5QeFVzZXJDb250cm9sbGVySGl0UmVwb3J0LmltcGxlbWVudCh7XG4gICAgICAgIG9uU2hhcGVIaXQ6IChldmVudDogUGh5c1guUHhDb250cm9sbGVyU2hhcGVIaXQpID0+IHtcbiAgICAgICAgICBjb25zdCBzaGFwZSA9IGV2ZW50LmdldFNoYXBlKClcbiAgICAgICAgICBjb25zdCBzaGFwZUlEID0gdGhpcy5zaGFwZUlEQnlQb2ludGVyLmdldChzaGFwZS4kJC5wdHIpIVxuICAgICAgICAgIGNvbnN0IGJvZHlJRCA9IHRoaXMuYm9keUlEQnlTaGFwZUlELmdldChzaGFwZUlEKVxuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZXZlbnQuZ2V0V29ybGRQb3MoKVxuICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IGV2ZW50LmdldFdvcmxkTm9ybWFsKClcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBldmVudC5nZXRMZW5ndGgoKVxuICAgICAgICAgIHRoaXMuY29sbGlzaW9uRXZlbnRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IENvbnRyb2xsZXJFdmVudHMuQ09OVFJPTExFUl9TSEFQRV9ISVQsXG4gICAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgICAgYm9keUlELFxuICAgICAgICAgICAgc2hhcGVJRCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgbGVuZ3RoXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25Db250cm9sbGVySGl0OiAoZXZlbnQ6IFBoeXNYLlB4Q29udHJvbGxlcnNIaXQpID0+IHtcbiAgICAgICAgICBjb25zdCBvdGhlciA9IGV2ZW50LmdldE90aGVyKClcbiAgICAgICAgICBjb25zdCBib2R5SUQgPSB0aGlzLmNvbnRyb2xsZXJJREJ5UG9pbnRlci5nZXQob3RoZXIuJCQucHRyKVxuICAgICAgICAgIGNvbnN0IHNoYXBlSUQgPSB0aGlzLnNoYXBlSURCeVBvaW50ZXIuZ2V0KChvdGhlci5nZXRBY3RvcigpLmdldFNoYXBlcygpIGFzIFBoeXNYLlB4U2hhcGUpLiQkLnB0cilcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGV2ZW50LmdldFdvcmxkUG9zKClcbiAgICAgICAgICBjb25zdCBub3JtYWwgPSBldmVudC5nZXRXb3JsZE5vcm1hbCgpXG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gZXZlbnQuZ2V0TGVuZ3RoKClcbiAgICAgICAgICB0aGlzLmNvbGxpc2lvbkV2ZW50UXVldWUucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBDb250cm9sbGVyRXZlbnRzLkNPTlRST0xMRVJfQ09OVFJPTExFUl9ISVQsXG4gICAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgICAgYm9keUlELFxuICAgICAgICAgICAgc2hhcGVJRCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgbGVuZ3RoXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25PYnN0YWNsZUhpdDogKGV2ZW50OiBQaHlzWC5QeENvbnRyb2xsZXJPYnN0YWNsZUhpdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9ic3RhY2xlSUQgPSBldmVudC5nZXRVc2VyRGF0YSgpXG4gICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgIC8vIGNvbnN0IGRhdGEgPSBnZXRGcm9tUGh5c1hIZWFwKFBoeXNYLkhFQVBVMzIsIHB0ciwgMSk7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBldmVudC5nZXRXb3JsZFBvcygpXG4gICAgICAgICAgY29uc3Qgbm9ybWFsID0gZXZlbnQuZ2V0V29ybGROb3JtYWwoKVxuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGV2ZW50LmdldExlbmd0aCgpXG4gICAgICAgICAgdGhpcy5jb2xsaXNpb25FdmVudFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogQ29udHJvbGxlckV2ZW50cy5DT05UUk9MTEVSX09CU1RBQ0xFX0hJVCxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgICAgICBvYnN0YWNsZUlELFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICBsZW5ndGhcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgICBpZiAoIWNvbnRyb2xsZXJEZXNjLmlzVmFsaWQoKSkge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTl0gQ29udHJvbGxlciBEZXNjcmlwdGlvbiBpbnZhbGlkIScpXG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBjb25maWcuaXNDYXBzdWxlXG4gICAgICA/IHRoaXMuY29udHJvbGxlck1hbmFnZXIuY3JlYXRlQ2Fwc3VsZUNvbnRyb2xsZXIoY29udHJvbGxlckRlc2MpXG4gICAgICA6IHRoaXMuY29udHJvbGxlck1hbmFnZXIuY3JlYXRlQm94Q29udHJvbGxlcihjb250cm9sbGVyRGVzYylcbiAgICB0aGlzLmNvbnRyb2xsZXJzLnNldChpZCwgY29udHJvbGxlcilcbiAgICB0aGlzLmNvbnRyb2xsZXJJREJ5UG9pbnRlci5zZXQoY29udHJvbGxlci4kJC5wdHIsIGlkKVxuICAgIGNvbnN0IGFjdG9yID0gY29udHJvbGxlci5nZXRBY3RvcigpXG4gICAgdGhpcy5ib2RpZXMuc2V0KGlkLCBhY3RvcilcbiAgICBjb25zdCBzaGFwZXMgPSBhY3Rvci5nZXRTaGFwZXMoKSBhcyBQaHlzWC5QeFNoYXBlXG4gICAgY29uc3Qgc2hhcGVpZCA9IHRoaXMuX2dldE5leHRBdmFpbGFibGVTaGFwZUlEKClcbiAgICA7KGFjdG9yIGFzIGFueSkuX3NoYXBlcyA9IFtzaGFwZXNdXG4gICAgdGhpcy5zaGFwZUlEQnlQb2ludGVyLnNldChzaGFwZXMuJCQucHRyLCBpZClcbiAgICB0aGlzLnNoYXBlcy5zZXQoc2hhcGVpZCwgc2hhcGVzKVxuICAgIDsoc2hhcGVzIGFzIGFueSkuX2lkID0gc2hhcGVpZFxuICAgIDsoYWN0b3IgYXMgYW55KS5fdHlwZSA9IEJvZHlUeXBlLkNPTlRST0xMRVJcbiAgICA7KGFjdG9yIGFzIGFueSkuX2RlYnVnTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgOyhjb250cm9sbGVyIGFzIGFueSkuX2lkID0gaWRcbiAgICByZXR1cm4gY29udHJvbGxlclxuICB9XG5cbiAgcmVtb3ZlQ29udHJvbGxlcihjb250cm9sbGVyOiBQaHlzWC5QeENvbnRyb2xsZXIpIHtcbiAgICBjb25zdCBpZCA9IChjb250cm9sbGVyIGFzIGFueSkuX2lkXG4gICAgY29uc3QgYWN0b3IgPSBjb250cm9sbGVyLmdldEFjdG9yKClcbiAgICBjb25zdCBzaGFwZXMgPSBhY3Rvci5nZXRTaGFwZXMoKSBhcyBQaHlzWC5QeFNoYXBlXG4gICAgdGhpcy5jb250cm9sbGVySURCeVBvaW50ZXIuZGVsZXRlKGNvbnRyb2xsZXIuJCQucHRyKVxuICAgIHRoaXMuc2hhcGVJREJ5UG9pbnRlci5kZWxldGUoc2hhcGVzLiQkLnB0cilcbiAgICB0aGlzLmNvbnRyb2xsZXJzLmRlbGV0ZShpZClcbiAgICB0aGlzLmJvZGllcy5kZWxldGUoaWQpXG4gICAgY29udHJvbGxlci5yZWxlYXNlKClcbiAgICAvLyB0b2RvXG4gIH1cblxuICBjcmVhdGVPYnN0YWNsZShwb3NpdGlvbjogVmVjdG9yMywgcm90YXRpb246IFF1YXRlcm5pb24sIGNvbmZpZzogT2JzdGFjbGVDb25maWcpIHtcbiAgICBjb25zdCB7IGlzQ2Fwc3VsZSwgaGFsZkV4dGVudHMsIGhhbGZIZWlnaHQsIHJhZGl1cyB9ID0gY29uZmlnXG4gICAgY29uc3QgaWQgPSB0aGlzLl9nZXROZXh0QXZhaWxhYmxlT2JzdGFjbGVJRCgpXG4gICAgY29uc3Qgb2JzdGFjbGUgPSBuZXcgKGlzQ2Fwc3VsZSA/IFBoeXNYLlB4Q2Fwc3VsZU9ic3RhY2xlIDogUGh5c1guUHhCb3hPYnN0YWNsZSkoKVxuICAgIDsob2JzdGFjbGUgYXMgYW55KS5faWQgPSBpZFxuICAgIDsob2JzdGFjbGUgYXMgYW55KS5faXNDYXBzdWxlID0gaXNDYXBzdWxlXG4gICAgLy8gdG9kbzogYWxsb3cgZm9yIG1vcmUgdGhhbiBhIHNpbmdsZSBpbnQgaW4gbWVtb3J5IGZvciB1c2VyRGF0YVxuICAgIG9ic3RhY2xlLnNldFVzZXJEYXRhKHB1dEludG9QaHlzWEhlYXAoUGh5c1guSEVBUFUzMiwgW2lkXSkpXG4gICAgb2JzdGFjbGUuc2V0UG9zaXRpb24ocG9zaXRpb24pXG4gICAgb2JzdGFjbGUuc2V0Um90YXRpb24ocm90YXRpb24pXG4gICAgaWYgKGlzQ2Fwc3VsZSkge1xuICAgICAgOyhvYnN0YWNsZSBhcyBQaHlzWC5QeENhcHN1bGVPYnN0YWNsZSkuc2V0SGFsZkhlaWdodChoYWxmSGVpZ2h0KVxuICAgICAgOyhvYnN0YWNsZSBhcyBQaHlzWC5QeENhcHN1bGVPYnN0YWNsZSkuc2V0UmFkaXVzKHJhZGl1cylcbiAgICB9IGVsc2Uge1xuICAgICAgOyhvYnN0YWNsZSBhcyBQaHlzWC5QeEJveE9ic3RhY2xlKS5zZXRIYWxmRXh0ZW50cyhoYWxmRXh0ZW50cylcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlID0gdGhpcy5vYnN0YWNsZUNvbnRleHQuYWRkT2JzdGFjbGUob2JzdGFjbGUpXG4gICAgOyhvYnN0YWNsZSBhcyBhbnkpLl9oYW5kbGUgPSBoYW5kbGVcbiAgICB0aGlzLm9ic3RhY2xlcy5zZXQoaWQsIG9ic3RhY2xlKVxuICB9XG5cbiAgcmVtb3ZlT2JzdGFjbGUob2JzdGFjbGU6IFBoeXNYLlB4T2JzdGFjbGUpIHtcbiAgICBjb25zdCBoYW5kbGUgPSAob2JzdGFjbGUgYXMgYW55KS5faGFuZGxlXG4gICAgY29uc3QgaWQgPSAob2JzdGFjbGUgYXMgYW55KS5faWRcbiAgICB0aGlzLm9ic3RhY2xlQ29udGV4dC5yZW1vdmVPYnN0YWNsZShoYW5kbGUpXG4gICAgdGhpcy5vYnN0YWNsZXMuZGVsZXRlKGlkKVxuICB9XG5cbiAgZ2V0UmlnaWRib2R5U2hhcGVzKGJvZHk6IFBoeXNYLlB4UmlnaWRBY3Rvcikge1xuICAgIGNvbnN0IHNoYXBlcyA9IGJvZHkuZ2V0U2hhcGVzKClcbiAgICByZXR1cm4gKChzaGFwZXMgYXMgUGh5c1guUHhTaGFwZVtdKS5sZW5ndGggPyBzaGFwZXMgOiBbc2hhcGVzXSkgYXMgUGh5c1guUHhTaGFwZVtdXG4gIH1cblxuICBkb1JheWNhc3QocmF5Y2FzdFF1ZXJ5OiBDb21wb25lbnRUeXBlPHR5cGVvZiBSYXljYXN0Q29tcG9uZW50Pikge1xuICAgIHJheWNhc3RRdWVyeS5oaXRzID0gW11cbiAgICBpZiAocmF5Y2FzdFF1ZXJ5LnR5cGUgPT09IFNjZW5lUXVlcnlUeXBlLkNsb3Nlc3QpIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBQaHlzWC5QeFJheWNhc3RIaXQoKVxuICAgICAgLy8gdG9kbyAtIGltcGxlbWVudCBxdWVyeSBmaWx0ZXIgYmluZGluZ3NcbiAgICAgIC8vIGNvbnN0IHF1ZXJ5Q2FsbGJhY2sgPSBQaHlzWC5QeFF1ZXJ5RmlsdGVyQ2FsbGJhY2suaW1wbGVtZW50KHtcbiAgICAgIC8vICAgcHJlRmlsdGVyOiAoZmlsdGVyRGF0YSwgc2hhcGUsIGFjdG9yKSA9PiB7IHJldHVybiBQaHlzWC5QeFF1ZXJ5SGl0VHlwZS5lQkxPQ0sgfSxcbiAgICAgIC8vICAgcG9zdEZpbHRlcjogKGZpbHRlckRhdGEsIGhpdCkgPT4geyByZXR1cm4gUGh5c1guUHhRdWVyeUhpdFR5cGUuZUJMT0NLICB9XG4gICAgICAvLyB9KTtcbiAgICAgIGNvbnN0IGhhc0hpdCA9IHRoaXMuc2NlbmUucmF5Y2FzdFNpbmdsZShcbiAgICAgICAgcmF5Y2FzdFF1ZXJ5Lm9yaWdpbixcbiAgICAgICAgcmF5Y2FzdFF1ZXJ5LmRpcmVjdGlvbixcbiAgICAgICAgcmF5Y2FzdFF1ZXJ5Lm1heERpc3RhbmNlLFxuICAgICAgICByYXljYXN0UXVlcnkuZmxhZ3MsXG4gICAgICAgIGJ1ZmZlcixcbiAgICAgICAgcmF5Y2FzdFF1ZXJ5LmZpbHRlckRhdGFcbiAgICAgIClcbiAgICAgIGlmIChoYXNIaXQpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBidWZmZXIuZ2V0U2hhcGUoKVxuICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICByYXljYXN0UXVlcnkuaGl0cy5wdXNoKHtcbiAgICAgICAgICAgIGRpc3RhbmNlOiBidWZmZXIuZGlzdGFuY2UsXG4gICAgICAgICAgICBub3JtYWw6IGJ1ZmZlci5ub3JtYWwsXG4gICAgICAgICAgICBwb3NpdGlvbjogYnVmZmVyLnBvc2l0aW9uLFxuICAgICAgICAgICAgX2JvZHlJRDogdGhpcy5ib2R5SURCeVNoYXBlSUQuZ2V0KHRoaXMuc2hhcGVJREJ5UG9pbnRlci5nZXQoc2hhcGUuJCQucHRyKSEpIVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc3QgYnVmZmVyOiBQaHlzWC5QeFJheWNhc3RCdWZmZXIgPSBQaHlzWC5hbGxvY2F0ZVJheWNhc3RIaXRCdWZmZXJzKHJheWNhc3RRdWVyeS5tYXhIaXRzKTtcbiAgICAvLyBjb25zdCBoYXNIaXQgPSB0aGlzLnNjZW5lLnJheWNhc3QocmF5Y2FzdFF1ZXJ5Lm9yaWdpbiwgcmF5Y2FzdFF1ZXJ5LmRpcmVjdGlvbiwgcmF5Y2FzdFF1ZXJ5Lm1heERpc3RhbmNlLCBidWZmZXIpO1xuICAgIC8vIGlmIChoYXNIaXQpIHtcblxuICAgIC8vIGlmKHJheWNhc3RRdWVyeS5mbGFncykge1xuICAgIC8vICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGJ1ZmZlci5nZXROYlRvdWNoZXMoKTsgaW5kZXgrKykge1xuXG4gICAgLy8gICB9XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBidWZmZXIuZ2V0TmJBbnlIaXRzKCk7IGluZGV4KyspIHtcbiAgICAvLyAgICAgY29uc3QgdG91Y2ggPSBidWZmZXIuZ2V0QW55SGl0KGluZGV4KTtcbiAgICAvLyAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLnNoYXBlSURCeVBvaW50ZXIuZ2V0KHRvdWNoLmdldFNoYXBlKCkuJCQucHRyKTtcbiAgICAvLyAgICAgaGl0cy5wdXNoKHtcbiAgICAvLyAgICAgICBzaGFwZSxcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIC8vIH1cbiAgfVxuICBwcml2YXRlIF9nZXROZXh0QXZhaWxhYmxlQm9keUlEKCkge1xuICAgIC8vIHRvZG8sIG1ha2UgdGhpcyBzbWFydFxuICAgIHJldHVybiBuZXh0QXZhaWxhYmxlQm9keUluZGV4KytcbiAgfVxuXG4gIHByaXZhdGUgX2dldE5leHRBdmFpbGFibGVTaGFwZUlEKCkge1xuICAgIC8vIHRvZG8sIG1ha2UgdGhpcyBzbWFydFxuICAgIHJldHVybiBuZXh0QXZhaWxhYmxlU2hhcGVJRCsrXG4gIH1cblxuICBwcml2YXRlIF9nZXROZXh0QXZhaWxhYmxlT2JzdGFjbGVJRCgpIHtcbiAgICAvLyB0b2RvLCBtYWtlIHRoaXMgc21hcnRcbiAgICByZXR1cm4gbmV4dEF2YWlsYWJsZU9ic3RhY2xlSUQrK1xuICB9XG59XG5cbi8vIFRPRE8gZG91YmxlIGNoZWNrIHRoaXNcbmV4cG9ydCBjb25zdCBpc1RyaWdnZXJTaGFwZSA9IChzaGFwZTogUGh5c1guUHhTaGFwZSkgPT4ge1xuICByZXR1cm4gc2hhcGUuZ2V0RmxhZ3MoKS5pc1NldChQaHlzWC5QeFNoYXBlRmxhZy5lVFJJR0dFUl9TSEFQRSlcbn1cblxuLy8gVE9ETyBkb3VibGUgY2hlY2sgdGhpc1xuZXhwb3J0IGNvbnN0IGdldEdlb21ldHJ5VHlwZSA9IChzaGFwZTogUGh5c1guUHhTaGFwZSkgPT4ge1xuICByZXR1cm4gKHNoYXBlLmdldEdlb21ldHJ5KCkuZ2V0VHlwZSgpIGFzIGFueSkudmFsdWVcbn1cblxuZXhwb3J0IGNvbnN0IGlzS2luZW1hdGljQm9keSA9IChib2R5OiBQaHlzWC5QeFJpZ2lkQWN0b3IpID0+IHtcbiAgcmV0dXJuIGJvZHkuX3R5cGUgPT09IEJvZHlUeXBlLktJTkVNQVRJQ1xufVxuXG5leHBvcnQgY29uc3QgaXNDb250cm9sbGVyQm9keSA9IChib2R5OiBQaHlzWC5QeFJpZ2lkQWN0b3IpID0+IHtcbiAgcmV0dXJuIGJvZHkuX3R5cGUgPT09IEJvZHlUeXBlLkNPTlRST0xMRVJcbn1cblxuZXhwb3J0IGNvbnN0IGlzRHluYW1pY0JvZHkgPSAoYm9keTogUGh5c1guUHhSaWdpZEFjdG9yKSA9PiB7XG4gIHJldHVybiBib2R5Ll90eXBlID09PSBCb2R5VHlwZS5EWU5BTUlDXG59XG5cbmV4cG9ydCBjb25zdCBpc1N0YXRpY0JvZHkgPSAoYm9keTogUGh5c1guUHhSaWdpZEFjdG9yKSA9PiB7XG4gIHJldHVybiBib2R5Ll90eXBlID09PSBCb2R5VHlwZS5TVEFUSUNcbn1cbiIsImltcG9ydCB7IENvbGxpc2lvbkdyb3VwcywgRGVmYXVsdENvbGxpc2lvbk1hc2sgfSBmcm9tICcuLi9lbnVtcy9Db2xsaXNpb25Hcm91cHMnXG5pbXBvcnQgeyBWZWN0b3IzLCBRdWF0ZXJuaW9uLCBDeWxpbmRlckJ1ZmZlckdlb21ldHJ5LCBNZXNoLCBPYmplY3QzRCB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgQ29udmV4R2VvbWV0cnkgfSBmcm9tICcuLi8uLi9hc3NldHMvdGhyZWVqcy12YXJpb3VzL0NvbnZleEdlb21ldHJ5J1xuaW1wb3J0IHsgQm9keVR5cGUsIENvbGxpZGVyVHlwZXMsIE9ic3RhY2xlQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMvUGh5c2ljc1R5cGVzJ1xuaW1wb3J0IHsgYXJyYXlPZlBvaW50c1RvQXJyYXlPZlZlY3RvcjMgfSBmcm9tICcuLi8uLi9zY2VuZS9mdW5jdGlvbnMvYXJyYXlPZlBvaW50c1RvQXJyYXlPZlZlY3RvcjMnXG5pbXBvcnQgeyBtZXJnZUJ1ZmZlckdlb21ldHJpZXMgfSBmcm9tICcuLi8uLi9jb21tb24vY2xhc3Nlcy9CdWZmZXJHZW9tZXRyeVV0aWxzJ1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgQ29sbGlkZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbGxpZGVyQ29tcG9uZW50J1xuaW1wb3J0IHsgYWRkQ29tcG9uZW50LCBnZXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IHVzZVdvcmxkIH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9TeXN0ZW1Ib29rcydcbmltcG9ydCB7IENvbGxpc2lvbkNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29sbGlzaW9uQ29tcG9uZW50J1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL2NvbXBvbmVudHMvVHJhbnNmb3JtQ29tcG9uZW50J1xuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtIH0gZnJvbSAnLi9wYXJzZU1vZGVsQ29sbGlkZXJzJ1xuaW1wb3J0IHsgZ2V0R2VvbWV0cnlUeXBlIH0gZnJvbSAnLi4vY2xhc3Nlcy9QaHlzaWNzJ1xuaW1wb3J0IHsgdmVjdG9yVG9BcnJheSB9IGZyb20gJy4vcGh5c3hIZWxwZXJzJ1xuXG4vKipcbiAqIEBhdXRob3IgSm9zaCBGaWVsZCA8Z2l0aHViLmNvbS9IZXhhRmllbGQ+XG4gKi9cblxuY29uc3QgcXVhdDEgPSBuZXcgUXVhdGVybmlvbigpXG5jb25zdCBxdWF0MiA9IG5ldyBRdWF0ZXJuaW9uKClcbmNvbnN0IHhWZWMgPSBuZXcgVmVjdG9yMygxLCAwLCAwKVxuY29uc3QgeVZlYyA9IG5ldyBWZWN0b3IzKDAsIDEsIDApXG5jb25zdCB6VmVjID0gbmV3IFZlY3RvcjMoMCwgMCwgMSlcbmNvbnN0IGhhbGZQSSA9IE1hdGguUEkgLyAyXG5cbmV4cG9ydCB0eXBlIEJvZHlPcHRpb25zID0ge1xuICBib2R5VHlwZT86IEJvZHlUeXBlXG59XG5cbmV4cG9ydCB0eXBlIFNoYXBlT3B0aW9ucyA9IHtcbiAgdHlwZTogQ29sbGlkZXJUeXBlc1xuICBib2R5VHlwZT86IEJvZHlUeXBlXG4gIGlzVHJpZ2dlcj86IGJvb2xlYW5cbiAgc3RhdGljRnJpY3Rpb24/OiBudW1iZXJcbiAgZHluYW1pY0ZyaWN0aW9uPzogbnVtYmVyXG4gIHJlc3RpdHV0aW9uPzogbnVtYmVyXG4gIHZlcnRpY2VzPzogbnVtYmVyW11cbiAgaW5kaWNlcz86IG51bWJlcltdXG4gIGNvbGxpc2lvbkxheWVyPzogbnVtYmVyIHwgc3RyaW5nXG4gIGNvbGxpc2lvbk1hc2s/OiBudW1iZXIgfCBzdHJpbmdcbiAgY29udGFjdE9mZnNldD86IG51bWJlciB8IHN0cmluZ1xuICByZXN0T2Zmc2V0PzogbnVtYmVyIHwgc3RyaW5nXG4gIHNjYWxlPzogVmVjdG9yMyAvLyBpbnRlcm5hbCwgd2hhdGV2ZXJcbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbGxpc2lvbkxheWVyID0gKG9wdGlvbnM6IFNoYXBlT3B0aW9ucykgPT4ge1xuICBpZiAob3B0aW9ucy50eXBlID09PSAnZ3JvdW5kJykge1xuICAgIHJldHVybiBDb2xsaXNpb25Hcm91cHMuR3JvdW5kXG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkxheWVyID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBvcHRpb25zLmlzVHJpZ2dlciA/IENvbGxpc2lvbkdyb3Vwcy5UcmlnZ2VyIDogQ29sbGlzaW9uR3JvdXBzLkRlZmF1bHRcbiAgfVxuICByZXR1cm4gTnVtYmVyKG9wdGlvbnMuY29sbGlzaW9uTGF5ZXIpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb2xsaXNpb25NYXNrID0gKG9wdGlvbnM6IFNoYXBlT3B0aW9ucykgPT4ge1xuICBzd2l0Y2ggKG9wdGlvbnMuY29sbGlzaW9uTWFzaykge1xuICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgIGNhc2UgLTE6XG4gICAgY2FzZSAnLTEnOlxuICAgIGNhc2UgJyc6XG4gICAgICByZXR1cm4gRGVmYXVsdENvbGxpc2lvbk1hc2tcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKC9hbGwvaS50ZXN0KG9wdGlvbnMuY29sbGlzaW9uTWFzayBhcyBzdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0Q29sbGlzaW9uTWFza1xuICAgICAgfVxuICAgICAgcmV0dXJuIE51bWJlcihvcHRpb25zLmNvbGxpc2lvbk1hc2spXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNoYXBlID0gKGVudGl0eTogRW50aXR5LCBtZXNoOiBNZXNoLCBzaGFwZU9wdGlvbnM6IFNoYXBlT3B0aW9ucyk6IFBoeXNYLlB4U2hhcGUgPT4ge1xuICAvLyB0eXBlIGlzIHJlcXVpcmVkXG4gIGlmICghc2hhcGVPcHRpb25zLnR5cGUpIHJldHVybiB1bmRlZmluZWQhXG5cbiAgY29uc3Qgc2NhbGUgPSBtZXNoLnNjYWxlID8/IG5ldyBWZWN0b3IzKDEsIDEsIDEpXG5cbiAgY29uc3Qgd29ybGQgPSB1c2VXb3JsZCgpXG5cbiAgaWYgKHNoYXBlT3B0aW9ucy50eXBlID09PSAndHJpbWVzaCcgfHwgc2hhcGVPcHRpb25zLnR5cGUgPT09ICdjb252ZXgnKSB7XG4gICAgLy8gaWYgbm8gbWVzaCBkYXRhLCBpZ25vcmVcbiAgICBpZiAoIW1lc2guZ2VvbWV0cnkgJiYgKCFzaGFwZU9wdGlvbnMudmVydGljZXMgfHwgIXNoYXBlT3B0aW9ucy5pbmRpY2VzKSkgcmV0dXJuIHVuZGVmaW5lZCFcblxuICAgIC8vIGNsb25lIHRoZSBnZW9tZXRyeSBhbmQgYXBwbHkgdGhlIHNjYWxlLCBhcyBhIFBoeXNYIGJvZHkgb3IgbWVzaCBzaGFwZSBjYW5ub3QgYmUgc2NhbGVkIGdlbmVyaWNhbGx5XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBtZXJnZUJ1ZmZlckdlb21ldHJpZXMoW21lc2guZ2VvbWV0cnldKVxuICAgIHNoYXBlT3B0aW9ucy52ZXJ0aWNlcyA9IEFycmF5LmZyb20oZ2VvbWV0cnkhLmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpXG4gICAgc2hhcGVPcHRpb25zLmluZGljZXMgPSBBcnJheS5mcm9tKGdlb21ldHJ5IS5pbmRleCEuYXJyYXkpXG4gIH1cblxuICAvLyBjaGVjayBmb3IgY2FzZSBtaXNtYXRjaFxuICBpZiAodHlwZW9mIHNoYXBlT3B0aW9ucy5jb2xsaXNpb25MYXllciA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIChzaGFwZU9wdGlvbnMgYXMgYW55KS5jb2xsaXNpb25sYXllciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgc2hhcGVPcHRpb25zLmNvbGxpc2lvbkxheWVyID0gKHNoYXBlT3B0aW9ucyBhcyBhbnkpLmNvbGxpc2lvbmxheWVyXG4gIGlmICh0eXBlb2Ygc2hhcGVPcHRpb25zLmNvbGxpc2lvbk1hc2sgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAoc2hhcGVPcHRpb25zIGFzIGFueSkuY29sbGlzaW9ubWFzayAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgc2hhcGVPcHRpb25zLmNvbGxpc2lvbk1hc2sgPSAoc2hhcGVPcHRpb25zIGFzIGFueSkuY29sbGlzaW9ubWFza1xuXG4gIGxldCBnZW9tZXRyeVxuICBzd2l0Y2ggKHNoYXBlT3B0aW9ucy50eXBlKSB7XG4gICAgY2FzZSAnYm94JzpcbiAgICAgIGdlb21ldHJ5ID0gbmV3IFBoeXNYLlB4Qm94R2VvbWV0cnkoTWF0aC5hYnMoc2NhbGUueCksIE1hdGguYWJzKHNjYWxlLnkpLCBNYXRoLmFicyhzY2FsZS56KSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdncm91bmQnOlxuICAgICAgZ2VvbWV0cnkgPSBuZXcgUGh5c1guUHhQbGFuZUdlb21ldHJ5KClcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdzcGhlcmUnOlxuICAgICAgZ2VvbWV0cnkgPSBuZXcgUGh5c1guUHhTcGhlcmVHZW9tZXRyeShNYXRoLmFicyhzY2FsZS54KSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdjYXBzdWxlJzpcbiAgICAgIGdlb21ldHJ5ID0gbmV3IFBoeXNYLlB4Q2Fwc3VsZUdlb21ldHJ5KE1hdGguYWJzKHNjYWxlLngpLCBNYXRoLmFicyhzY2FsZS55KSlcbiAgICAgIGJyZWFrXG5cbiAgICAvLyBwaHlzeCBkb2VzbnQgaGF2ZSBjeWxpbmRlciBzaGFwZXMsIGRlZmF1bHQgdG8gY29udmV4XG4gICAgY2FzZSAnY3lsaW5kZXInOlxuICAgICAgY29uc29sZS53YXJuKCdbQ3JlYXRlIFNoYXBlXTogY3lsaW5kZXIgc2hhcGVzIGFyZSBkZXByZWNhdGVkJylcbiAgICAgIC8vIGlmICghc2hhcGVPcHRpb25zLnZlcnRpY2VzKSB7XG4gICAgICAvLyAgIGNvbnN0IGdlb20gPSBuZXcgQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeShzY2FsZS54LCBzY2FsZS54LCBzY2FsZS55KSAvLyB3aWR0aCAmIGhlaWdodFxcXG4gICAgICAvLyAgIGNvbnN0IGNvbnZleEdlb20gPSBuZXcgQ29udmV4R2VvbWV0cnkoYXJyYXlPZlBvaW50c1RvQXJyYXlPZlZlY3RvcjMoZ2VvbS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5KSlcbiAgICAgIC8vICAgc2hhcGVPcHRpb25zLnZlcnRpY2VzID0gQXJyYXkuZnJvbShjb252ZXhHZW9tLmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpXG4gICAgICAvLyAgIHNoYXBlT3B0aW9ucy5pbmRpY2VzID0gZ2VvbS5pbmRleCA/IEFycmF5LmZyb20oZ2VvbS5pbmRleC5hcnJheSkgOiBPYmplY3Qua2V5cyhzaGFwZU9wdGlvbnMudmVydGljZXMpLm1hcChOdW1iZXIpXG4gICAgICAvLyAgIC8vIFRPRE8gLSBERUJVRyBDWUxJTkRFUlNcbiAgICAgIC8vICAgLy8gY29uc3QgZGVidWdNZXNoID0gbmV3IE1lc2goY29udmV4R2VvbSwgbmV3IE1lc2hOb3JtYWxNYXRlcmlhbCgpKVxuICAgICAgLy8gICAvLyBkZWJ1Z01lc2gucG9zaXRpb24uY29weShwb3MpXG4gICAgICAvLyAgIC8vIGRlYnVnTWVzaC5xdWF0ZXJuaW9uLmNvcHkocm90KVxuICAgICAgLy8gICAvLyBkZWJ1Z01lc2guc2NhbGUuY29weShzY2FsZSlcbiAgICAgIC8vICAgLy8gY29uc29sZS5sb2coZGVidWdNZXNoKVxuICAgICAgLy8gICAvLyBFbmdpbmUuc2NlbmUuYWRkKGRlYnVnTWVzaClcbiAgICAgIC8vIH1cbiAgICAgIC8vIHllcywgZG9uJ3QgYnJlYWsgaGVyZSAtIHVzZSBjb252ZXggZm9yIGN5bGluZGVyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkIVxuICAgIGNhc2UgJ2NvbnZleCc6XG4gICAgICBnZW9tZXRyeSA9IHdvcmxkLnBoeXNpY3MuY3JlYXRlQ29udmV4TWVzaChzY2FsZSwgc2hhcGVPcHRpb25zLnZlcnRpY2VzISlcbiAgICAgIGNvbnN0IGNvbnZleE1lc2ggPSAoZ2VvbWV0cnkgYXMgUGh5c1guUHhDb252ZXhNZXNoR2VvbWV0cnkpLmdldENvbnZleE1lc2goKVxuICAgICAgc2hhcGVPcHRpb25zLnZlcnRpY2VzID0gdmVjdG9yVG9BcnJheShjb252ZXhNZXNoLmdldFZlcnRpY2VzKCkpXG4gICAgICBzaGFwZU9wdGlvbnMuaW5kaWNlcyA9IHZlY3RvclRvQXJyYXkoY29udmV4TWVzaC5nZXRJbmRleEJ1ZmZlcigpKVxuICAgICAgc2hhcGVPcHRpb25zLnNjYWxlID0gc2NhbGVcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICd0cmltZXNoJzpcbiAgICAgIGdlb21ldHJ5ID0gd29ybGQucGh5c2ljcy5jcmVhdGVUcmltZXNoKHNjYWxlLCBzaGFwZU9wdGlvbnMudmVydGljZXMhLCBzaGFwZU9wdGlvbnMuaW5kaWNlcyEpXG4gICAgICBjb25zdCB0cmlhbmdsZU1lc2ggPSAoZ2VvbWV0cnkgYXMgUGh5c1guUHhUcmlhbmdsZU1lc2hHZW9tZXRyeSkuZ2V0VHJpYW5nbGVNZXNoKClcbiAgICAgIHNoYXBlT3B0aW9ucy52ZXJ0aWNlcyA9IHZlY3RvclRvQXJyYXkodHJpYW5nbGVNZXNoLmdldFZlcnRpY2VzKCkpXG4gICAgICBzaGFwZU9wdGlvbnMuaW5kaWNlcyA9IHZlY3RvclRvQXJyYXkodHJpYW5nbGVNZXNoLmdldFRyaWFuZ2xlcygpKVxuICAgICAgc2hhcGVPcHRpb25zLnNjYWxlID0gc2NhbGVcbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcigndW5rbm93biBzaGFwZScsIHNoYXBlT3B0aW9ucylcbiAgICAgIHJldHVybiB1bmRlZmluZWQhXG4gIH1cblxuICBjb25zdCBtYXRlcmlhbCA9IHdvcmxkLnBoeXNpY3MucGh5c2ljcy5jcmVhdGVNYXRlcmlhbChcbiAgICBzaGFwZU9wdGlvbnMuc3RhdGljRnJpY3Rpb24gPz8gMC4xLFxuICAgIHNoYXBlT3B0aW9ucy5keW5hbWljRnJpY3Rpb24gPz8gMC4xLFxuICAgIHNoYXBlT3B0aW9ucy5yZXN0aXR1dGlvbiA/PyAwLjFcbiAgKVxuXG4gIGNvbnN0IGNvbGxpc2lvbkxheWVyID0gZ2V0Q29sbGlzaW9uTGF5ZXIoc2hhcGVPcHRpb25zKVxuICBjb25zdCBjb2xsaXNpb25NYXNrID0gZ2V0Q29sbGlzaW9uTWFzayhzaGFwZU9wdGlvbnMpXG5cbiAgY29uc3QgY29udGFjdE9mZnNldCA9IHR5cGVvZiBzaGFwZU9wdGlvbnMuY29udGFjdE9mZnNldCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogTnVtYmVyKHNoYXBlT3B0aW9ucy5jb250YWN0T2Zmc2V0KVxuICBjb25zdCByZXN0T2Zmc2V0ID0gdHlwZW9mIHNoYXBlT3B0aW9ucy5yZXN0T2Zmc2V0ID09PSAndW5kZWZpbmVkJyA/IDAgOiBOdW1iZXIoc2hhcGVPcHRpb25zLnJlc3RPZmZzZXQpXG5cbiAgY29uc3Qgc2hhcGUgPSB3b3JsZC5waHlzaWNzLmNyZWF0ZVNoYXBlKGdlb21ldHJ5LCBtYXRlcmlhbCwge1xuICAgIGlzVHJpZ2dlcjogQm9vbGVhbihzaGFwZU9wdGlvbnMuaXNUcmlnZ2VyKSxcbiAgICBjb2xsaXNpb25MYXllcixcbiAgICBjb2xsaXNpb25NYXNrLFxuICAgIGNvbnRhY3RPZmZzZXQsXG4gICAgcmVzdE9mZnNldCxcbiAgICB1c2VyRGF0YToge1xuICAgICAgZW50aXR5XG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IG5ld1RyYW5zZm9ybSA9IHtcbiAgICB0cmFuc2xhdGlvbjogbmV3IFZlY3RvcjMoKS5jb3B5KG1lc2gucG9zaXRpb24pLFxuICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLmNvcHkobWVzaC5xdWF0ZXJuaW9uKVxuICB9XG5cbiAgY29uc3QgZ2VvbWV0cnlUeXBlID0gZ2V0R2VvbWV0cnlUeXBlKHNoYXBlKVxuICAvLyByb3RhdGUgOTAgZGVncmVlcyBvbiBaIGF4aXMgYXMgUGh5c1ggY2Fwc3VsZSBleHRlbmQgYWxvbmcgWCBheGlzIG5vdCB0aGUgWSBheGlzXG4gIGlmIChnZW9tZXRyeVR5cGUgPT09IFBoeXNYLlB4R2VvbWV0cnlUeXBlLmVDQVBTVUxFLnZhbHVlKSB7XG4gICAgcXVhdDEuc2V0RnJvbUF4aXNBbmdsZSh6VmVjLCBoYWxmUEkpXG4gICAgbmV3VHJhbnNmb3JtLnJvdGF0aW9uLm11bHRpcGx5KHF1YXQxKVxuICB9XG4gIC8vIHJvdGF0ZSAtOTAgZGVncmVlcyBvbiBZIGF4aXMgYXMgUGh5c1ggcGxhbmUgaXMgWCsgbm9ybWFsZWRcbiAgaWYgKGdlb21ldHJ5VHlwZSA9PT0gUGh5c1guUHhHZW9tZXRyeVR5cGUuZVBMQU5FLnZhbHVlKSB7XG4gICAgcXVhdDEuc2V0RnJvbUF4aXNBbmdsZSh5VmVjLCAtaGFsZlBJKVxuICAgIG5ld1RyYW5zZm9ybS5yb3RhdGlvbi5tdWx0aXBseShxdWF0MSlcbiAgfVxuICBzaGFwZS5zZXRMb2NhbFBvc2UobmV3VHJhbnNmb3JtIGFzIGFueSlcblxuICBPYmplY3QuZW50cmllcyhzaGFwZU9wdGlvbnMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICBzaGFwZVsnXycgKyBrZXldID0gdmFsXG4gIH0pXG5cbiAgcmV0dXJuIHNoYXBlXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCb2R5ID0gKGVudGl0eTogRW50aXR5LCBib2R5T3B0aW9uczogQm9keU9wdGlvbnMsIHNoYXBlczogUGh5c1guUHhTaGFwZVtdID0gW10pID0+IHtcbiAgY29uc3QgeyBwb3NpdGlvbiwgcm90YXRpb24gfSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgcmV0dXJuIHVzZVdvcmxkKCkucGh5c2ljcy5hZGRCb2R5KHtcbiAgICBzaGFwZXMsXG4gICAgdHlwZTogYm9keU9wdGlvbnMuYm9keVR5cGUgPz8gQm9keVR5cGUuU1RBVElDLFxuICAgIHRyYW5zZm9ybToge1xuICAgICAgdHJhbnNsYXRpb246IHBvc2l0aW9uLFxuICAgICAgcm90YXRpb25cbiAgICB9LFxuICAgIHVzZXJEYXRhOiB7XG4gICAgICBlbnRpdHlcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xsaWRlciA9IChlbnRpdHk6IEVudGl0eSwgbWVzaDogTWVzaCkgPT4ge1xuICBjb25zdCBzaGFwZXMgPSBbY3JlYXRlU2hhcGUoZW50aXR5LCBtZXNoLCBtZXNoLnVzZXJEYXRhIGFzIGFueSldXG4gIGNvbnN0IGJvZHkgPSBjcmVhdGVCb2R5KGVudGl0eSwgbWVzaC51c2VyRGF0YSwgc2hhcGVzKVxuXG4gIGFkZENvbXBvbmVudChlbnRpdHksIENvbGxpZGVyQ29tcG9uZW50LCB7IGJvZHkgfSlcbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQ29sbGlzaW9uQ29tcG9uZW50LCB7IGNvbGxpc2lvbnM6IFtdIH0pXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVPYnN0YWNsZUZyb21NZXNoID0gKGVudGl0eTogRW50aXR5LCBtZXNoOiBNZXNoKSA9PiB7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgY29uc3QgW3Bvc2l0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZV0gPSBnZXRUcmFuc2Zvcm0oXG4gICAgbWVzaC5nZXRXb3JsZFBvc2l0aW9uKG5ldyBWZWN0b3IzKCkpLFxuICAgIG1lc2guZ2V0V29ybGRRdWF0ZXJuaW9uKG5ldyBRdWF0ZXJuaW9uKCkpLFxuICAgIG1lc2guZ2V0V29ybGRTY2FsZShuZXcgVmVjdG9yMygpKSxcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgdHJhbnNmb3JtLnJvdGF0aW9uLFxuICAgIHRyYW5zZm9ybS5zY2FsZVxuICApXG4gIGNvbnN0IGNvbmZpZzogT2JzdGFjbGVDb25maWcgPSB7XG4gICAgaXNDYXBzdWxlOiBtZXNoLnVzZXJEYXRhLmlzQ2Fwc3VsZSxcbiAgICByYWRpdXM6IHNjYWxlLngsXG4gICAgaGFsZkhlaWdodDogc2NhbGUueSxcbiAgICBoYWxmRXh0ZW50czogc2NhbGVcbiAgfVxuICB1c2VXb3JsZCgpLnBoeXNpY3MuY3JlYXRlT2JzdGFjbGUocG9zaXRpb24sIHF1YXRlcm5pb24sIGNvbmZpZylcbn1cblxuY29uc3QgRVBTSUxPTiA9IDFlLTZcbmV4cG9ydCBjb25zdCBnZXRBbGxTaGFwZXNGcm9tT2JqZWN0M0QgPSAoZW50aXR5OiBFbnRpdHksIGFzc2V0OiBPYmplY3QzRCwgZGF0YTogQm9keU9wdGlvbnMgfCBTaGFwZU9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc2hhcGVzOiBhbnlbXSA9IFtdXG4gIHNoYXBlcy5wdXNoKGNyZWF0ZVNoYXBlKGVudGl0eSwgYXNzZXQgYXMgYW55LCBkYXRhIGFzIFNoYXBlT3B0aW9ucykpXG5cbiAgY29uc3Qgc2hhcGVPYmpzOiBhbnlbXSA9IFtdXG4gIGFzc2V0LnRyYXZlcnNlKChtZXNoOiBNZXNoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBtZXNoLnVzZXJEYXRhWyd0eXBlJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICBzaGFwZU9ianMucHVzaChtZXNoKVxuICAgIH1cbiAgfSlcblxuICBzaGFwZU9ianMuZm9yRWFjaCgobWVzaDogTWVzaCkgPT4ge1xuICAgIG1lc2gudXBkYXRlTWF0cml4V29ybGQodHJ1ZSlcbiAgICBpZiAobWVzaC5zY2FsZS54ID09PSAwKSBtZXNoLnNjYWxlLnggPSBFUFNJTE9OXG4gICAgaWYgKG1lc2guc2NhbGUueSA9PT0gMCkgbWVzaC5zY2FsZS55ID0gRVBTSUxPTlxuICAgIGlmIChtZXNoLnNjYWxlLnogPT09IDApIG1lc2guc2NhbGUueiA9IEVQU0lMT05cblxuICAgIGlmIChtZXNoLnVzZXJEYXRhLnR5cGUgPT09ICdvYnN0YWNsZScpIHtcbiAgICAgIGNyZWF0ZU9ic3RhY2xlRnJvbU1lc2goZW50aXR5LCBtZXNoKVxuICAgICAgbWVzaC5yZW1vdmVGcm9tUGFyZW50KClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHNoYXBlID0gY3JlYXRlU2hhcGUoZW50aXR5LCBtZXNoLCBtZXNoLnVzZXJEYXRhIGFzIGFueSlcbiAgICBpZiAoIXNoYXBlKSByZXR1cm5cbiAgICBzaGFwZXMucHVzaChzaGFwZSlcbiAgICBtZXNoLnJlbW92ZUZyb21QYXJlbnQoKVxuICB9KVxuXG4gIHJldHVybiBzaGFwZXMuZmlsdGVyKCh2YWwpID0+IHtcbiAgICByZXR1cm4gISF2YWxcbiAgfSlcbn1cbiIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBDb3B5VHJhbnNmb3JtQ29tcG9uZW50VHlwZSA9IHtcbiAgaW5wdXQ6IEVudGl0eVxufVxuXG5leHBvcnQgY29uc3QgQ29weVRyYW5zZm9ybUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxDb3B5VHJhbnNmb3JtQ29tcG9uZW50VHlwZT4oJ0NvcHlUcmFuc2Zvcm1Db21wb25lbnQnKVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFBvc2l0aW9uYWxBdWRpb1NldHRpbmdzQ29tcG9uZW50VHlwZSA9IHtcbiAgYXZhdGFyRGlzdGFuY2VNb2RlbDogc3RyaW5nXG4gIGF2YXRhck1heERpc3RhbmNlOiBudW1iZXJcbiAgYXZhdGFyUmVmRGlzdGFuY2U6IG51bWJlclxuICBhdmF0YXJSb2xsb2ZmRmFjdG9yOiBudW1iZXJcbiAgbWVkaWFDb25lSW5uZXJBbmdsZTogbnVtYmVyXG4gIG1lZGlhQ29uZU91dGVyQW5nbGU6IG51bWJlclxuICBtZWRpYUNvbmVPdXRlckdhaW46IG51bWJlclxuICBtZWRpYURpc3RhbmNlTW9kZWw6IHN0cmluZ1xuICBtZWRpYU1heERpc3RhbmNlOiBudW1iZXJcbiAgbWVkaWFSZWZEaXN0YW5jZTogbnVtYmVyXG4gIG1lZGlhUm9sbG9mZkZhY3RvcjogbnVtYmVyXG4gIG1lZGlhVm9sdW1lOiBudW1iZXJcbiAgdXNlUG9zaXRpb25hbEF1ZGlvOiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBQb3NpdGlvbmFsQXVkaW9TZXR0aW5nc0NvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxQb3NpdGlvbmFsQXVkaW9TZXR0aW5nc0NvbXBvbmVudFR5cGU+KFxuICAnUG9zaXRpb25hbEF1ZGlvU2V0dGluZ3NDb21wb25lbnQnXG4pXG4iLCJpbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IGNvbnN0IFNjZW5lUHJldmlld0NhbWVyYVRhZ0NvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnU2NlbmVQcmV2aWV3Q2FtZXJhVGFnQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuZXhwb3J0IGNvbnN0IFVwZGF0YWJsZUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnVXBkYXRhYmxlQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG4vKipcbiAqIEBhdXRob3IgSHlkcmFGaXJlIDxnaXRodWIuY29tL0h5ZHJhRmlyZT5cbiAqL1xuXG5leHBvcnQgdHlwZSBVc2VyZGF0YUNvbXBvbmVudFR5cGUgPSB7XG4gIGRhdGE6IGFueVxufVxuXG5leHBvcnQgY29uc3QgVXNlcmRhdGFDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8VXNlcmRhdGFDb21wb25lbnRUeXBlPignVXNlcmRhdGFDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFZpc2libGVDb21wb25lbnRUeXBlID0ge1xuICB2YWx1ZTogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgVmlzaWJsZUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxWaXNpYmxlQ29tcG9uZW50VHlwZT4oJ1Zpc2libGVDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgT2JqZWN0M0QgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IE5hdk1lc2ggfSBmcm9tICd5dWthJ1xuaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbi8qKlxuICogQGF1dGhvciB4aWFuaV96cCA8Z2l0aHViLmNvbS94aWFuaT5cbiAqL1xuXG5leHBvcnQgdHlwZSBOYXZNZXNoQ29tcG9uZW50VHlwZSA9IHtcbiAgeXVrYU5hdk1lc2g6IE5hdk1lc2hcbiAgbmF2VGFyZ2V0OiBPYmplY3QzRFxufVxuXG5leHBvcnQgY29uc3QgTmF2TWVzaENvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxOYXZNZXNoQ29tcG9uZW50VHlwZT4oJ05hdk1lc2hDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgQ2lyY2xlQnVmZmVyR2VvbWV0cnksIENvbG9yLCBNZXNoLCBNZXNoU3RhbmRhcmRNYXRlcmlhbCwgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvRW50aXR5J1xuaW1wb3J0IHsgYWRkQ29tcG9uZW50LCBnZXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcbmltcG9ydCB7IGNyZWF0ZUNvbGxpZGVyIH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9mdW5jdGlvbnMvY3JlYXRlQ29sbGlkZXInXG5pbXBvcnQgeyBDb2xsaWRlckNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9Db2xsaWRlckNvbXBvbmVudCdcbmltcG9ydCB7IENvbGxpc2lvbkdyb3VwcyB9IGZyb20gJy4uLy4uL3BoeXNpY3MvZW51bXMvQ29sbGlzaW9uR3JvdXBzJ1xuaW1wb3J0IHsgYWRkT2JqZWN0M0RDb21wb25lbnQgfSBmcm9tICcuL2FkZE9iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgTmF2TWVzaENvbXBvbmVudCB9IGZyb20gJy4uLy4uL25hdmlnYXRpb24vY29tcG9uZW50L05hdk1lc2hDb21wb25lbnQnXG5pbXBvcnQgeyBOYXZNZXNoQnVpbGRlciB9IGZyb20gJy4uLy4uL21hcC9OYXZNZXNoQnVpbGRlcidcbmltcG9ydCB7IGNvbXB1dGVCb3VuZGluZ0JveCwgc2NhbGVBbmRUcmFuc2xhdGUgfSBmcm9tICcuLi8uLi9tYXAvR2VvSlNPTkZucydcbmltcG9ydCB7IFBvbHlnb24sIE11bHRpUG9seWdvbiwgUG9zaXRpb24gfSBmcm9tICdnZW9qc29uJ1xuaW1wb3J0IHsgTmF2TWVzaCB9IGZyb20gJ3l1a2EnXG5pbXBvcnQgcGMgZnJvbSAncG9seWdvbi1jbGlwcGluZydcbmltcG9ydCB7IGZldGNoVmVjdG9yVGlsZXMgfSBmcm9tICcuLi8uLi9tYXAvTWFwQm94Q2xpZW50J1xuaW1wb3J0IHsgTUVURVJTX1BFUl9ERUdSRUVfTEwgfSBmcm9tICcuLi8uLi9tYXAvY29uc3RhbnRzJ1xuaW1wb3J0IHsgVGlsZUZlYXR1cmVzQnlMYXllciB9IGZyb20gJy4uLy4uL21hcC90eXBlcydcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcblxudHlwZSBHcm91bmRQcm9wcyA9IHtcbiAgY29sb3I6IHN0cmluZ1xufVxuXG5jb25zdCBoYWxmVHVyblggPSBuZXcgUXVhdGVybmlvbigpLnNldEZyb21BeGlzQW5nbGUobmV3IFZlY3RvcjMoMSwgMCwgMCksIC1NYXRoLlBJIC8gMilcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdyb3VuZCA9IGFzeW5jIGZ1bmN0aW9uIChlbnRpdHk6IEVudGl0eSwgYXJnczogR3JvdW5kUHJvcHMsIGlzQ2xpZW50OiBib29sZWFuKTogUHJvbWlzZTxNZXNoPiB7XG4gIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChcbiAgICBuZXcgQ2lyY2xlQnVmZmVyR2VvbWV0cnkoMTAwMCwgMzIpLFxuICAgIG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogbmV3IENvbG9yKDAuMzEzNDEwNTUzMzM2MTQzNDk0LCAwLjMxMzQxMDUzMzM2MTQzNDk0LCAwLjMwMjA2NDgxMjk0NzA2NDY0KSxcbiAgICAgIHJvdWdobmVzczogMFxuICAgIH0pXG4gIClcblxuICBnZXRDb21wb25lbnQoZW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpLnJvdGF0aW9uLm11bHRpcGx5KGhhbGZUdXJuWClcblxuICBhZGRPYmplY3QzRENvbXBvbmVudChlbnRpdHksIG1lc2gsIHsgcmVjZWl2ZVNoYWRvdzogdHJ1ZSwgJ21hdGVyaWFsLmNvbG9yJzogYXJncy5jb2xvciB9KVxuXG4gIG1lc2gudXNlckRhdGEgPSB7XG4gICAgdHlwZTogJ2dyb3VuZCcsXG4gICAgY29sbGlzaW9uTGF5ZXI6IENvbGxpc2lvbkdyb3Vwcy5Hcm91bmQsXG4gICAgY29sbGlzaW9uTWFzazogQ29sbGlzaW9uR3JvdXBzLkRlZmF1bHRcbiAgfVxuXG4gIGNyZWF0ZUNvbGxpZGVyKGVudGl0eSwgbWVzaClcblxuICBpZiAoaXNDbGllbnQpIHtcbiAgICBjb25zdCBjZW50ZXI6IFBvc2l0aW9uID0gW21lc2gucG9zaXRpb24ueCwgbWVzaC5wb3NpdGlvbi55LCBtZXNoLnBvc2l0aW9uLnpdXG4gICAgY29uc3QgdmVjdG9yVGlsZXMgPSBhd2FpdCBmZXRjaFZlY3RvclRpbGVzKGNlbnRlcilcbiAgICBjb25zdCBuYXZNZXNoID0gZ2VuZXJhdGVOYXZNZXNoKHZlY3RvclRpbGVzLCBjZW50ZXIsIG1lc2guc2NhbGUueCAqIE1FVEVSU19QRVJfREVHUkVFX0xMKVxuICAgIGFkZENvbXBvbmVudChlbnRpdHksIE5hdk1lc2hDb21wb25lbnQsIHsgeXVrYU5hdk1lc2g6IG5hdk1lc2gsIG5hdlRhcmdldDogbWVzaCB9KVxuICB9XG5cbiAgcmV0dXJuIG1lc2hcbn1cblxuY29uc3QgZ2VuZXJhdGVOYXZNZXNoID0gZnVuY3Rpb24gKHRpbGVzOiBUaWxlRmVhdHVyZXNCeUxheWVyW10sIGNlbnRlcjogUG9zaXRpb24sIHNjYWxlOiBudW1iZXIpOiBOYXZNZXNoIHtcbiAgY29uc3QgYnVpbGRlciA9IG5ldyBOYXZNZXNoQnVpbGRlcigpXG4gIGNvbnN0IGdCdWlsZGluZ3MgPSB0aWxlc1xuICAgIC5yZWR1Y2UoKGFjYywgdGlsZXMpID0+IGFjYy5jb25jYXQodGlsZXMuYnVpbGRpbmcgYXMgYW55KSwgW10pXG4gICAgLm1hcCgoZmVhdHVyZTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gc2NhbGVBbmRUcmFuc2xhdGUoZmVhdHVyZS5nZW9tZXRyeSBhcyBQb2x5Z29uIHwgTXVsdGlQb2x5Z29uLCBjZW50ZXIsIHNjYWxlKVxuICAgIH0pXG5cbiAgY29uc3QgZ0dyb3VuZCA9IGNvbXB1dGVCb3VuZGluZ0JveChnQnVpbGRpbmdzKVxuICBsZXQgZ0J1aWxkaW5nTmVnYXRpdmVTcGFjZSA9IFtnR3JvdW5kLmNvb3JkaW5hdGVzXVxuICBnQnVpbGRpbmdzLmZvckVhY2goKGdQb3NpdGl2ZVNwYWNlKSA9PiB7XG4gICAgZ0J1aWxkaW5nTmVnYXRpdmVTcGFjZSA9IHBjLmRpZmZlcmVuY2UoZ0J1aWxkaW5nTmVnYXRpdmVTcGFjZSBhcyBhbnksIGdQb3NpdGl2ZVNwYWNlLmNvb3JkaW5hdGVzIGFzIGFueSlcbiAgfSlcbiAgYnVpbGRlci5hZGRHZW9tZXRyeSh7IHR5cGU6ICdNdWx0aVBvbHlnb24nLCBjb29yZGluYXRlczogZ0J1aWxkaW5nTmVnYXRpdmVTcGFjZSB9KVxuICByZXR1cm4gYnVpbGRlci5idWlsZCgpXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi9lY3MvZnVuY3Rpb25zL0NvbXBvbmVudEZ1bmN0aW9ucydcblxuZXhwb3J0IGNvbnN0IERlYnVnTmF2TWVzaENvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudCgnRGVidWdOYXZNZXNoQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgR2VvTGFiZWxOb2RlIH0gZnJvbSAnLi9HZW9MYWJlbE5vZGUnXG5cbnR5cGUgQ29tcG9uZW50VHlwZSA9IHtcbiAgdmFsdWU6IFNldDxHZW9MYWJlbE5vZGU+XG59XG5cbmV4cG9ydCBjb25zdCBHZW9MYWJlbFNldENvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxDb21wb25lbnRUeXBlPignR2VvTGFiZWxTZXRDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCB0eXBlIFZvbHVtZXRyaWNWaWRlb0NvbXBvbmVudFR5cGUgPSB7XG4gIHBsYXllcjogYW55XG59XG5cbmV4cG9ydCBjb25zdCBWb2x1bWV0cmljQ29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50PFZvbHVtZXRyaWNWaWRlb0NvbXBvbmVudFR5cGU+KCdWb2x1bWV0cmljQ29tcG9uZW50JylcbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuZXhwb3J0IGNvbnN0IFJlbmRlcmVkQ29tcG9uZW50ID0gY3JlYXRlTWFwcGVkQ29tcG9uZW50KCdSZW5kZXJlZENvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBQb3NpdGlvbmFsQXVkaW8gfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBQb3NpdGlvbmFsQXVkaW9Db21wb25lbnRUeXBlID0ge1xuICB2YWx1ZTogUG9zaXRpb25hbEF1ZGlvXG59XG5cbmV4cG9ydCBjb25zdCBQb3NpdGlvbmFsQXVkaW9Db21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8UG9zaXRpb25hbEF1ZGlvQ29tcG9uZW50VHlwZT4oJ1Bvc2l0aW9uYWxBdWRpb0NvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBPYmplY3QzRCwgUG9zaXRpb25hbEF1ZGlvIH0gZnJvbSAndGhyZWUnXG5cbmltcG9ydCB7IGFkZE9iamVjdDNEQ29tcG9uZW50IH0gZnJvbSAnLi9hZGRPYmplY3QzRENvbXBvbmVudCdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IEludGVyYWN0YWJsZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2ludGVyYWN0aW9uL2NvbXBvbmVudHMvSW50ZXJhY3RhYmxlQ29tcG9uZW50J1xuaW1wb3J0IHsgVm9sdW1ldHJpY0NvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVm9sdW1ldHJpY0NvbXBvbmVudCdcbmltcG9ydCB7IFJlbmRlcmVkQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9SZW5kZXJlZENvbXBvbmVudCdcbmltcG9ydCB7IGFkZENvbXBvbmVudCwgZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgVmlkZW8gZnJvbSAnLi4vY2xhc3Nlcy9WaWRlbydcbmltcG9ydCBVcGRhdGVhYmxlT2JqZWN0M0QgZnJvbSAnLi4vY2xhc3Nlcy9VcGRhdGVhYmxlT2JqZWN0M0QnXG5pbXBvcnQgQXVkaW9Tb3VyY2UgZnJvbSAnLi4vY2xhc3Nlcy9BdWRpb1NvdXJjZSdcbmltcG9ydCB7IFBvc2l0aW9uYWxBdWRpb0NvbXBvbmVudCB9IGZyb20gJy4uLy4uL2F1ZGlvL2NvbXBvbmVudHMvUG9zaXRpb25hbEF1ZGlvQ29tcG9uZW50J1xuaW1wb3J0IHsgaXNDbGllbnQgfSBmcm9tICcuLi8uLi9jb21tb24vZnVuY3Rpb25zL2lzQ2xpZW50J1xuXG5sZXQgRHJhY29zaXNQbGF5ZXIgPSBudWxsIGFzIGFueVxubGV0IERyYWNvc2lzUGxheWVyV29ya2VyID0gbnVsbCBhcyBhbnlcbmxldCBEcmFjb3Npc1NlcXVlbmNlID0gbnVsbCBhcyBhbnlcblxuaWYgKGlzQ2xpZW50KSB7XG4gIFByb21pc2UuYWxsKFtcbiAgICBpbXBvcnQoJ3ZvbHVtZXRyaWMvd2ViL2RlY29kZXIvUGxheWVyJyksXG4gICAgLy9AdHMtaWdub3JlXG4gICAgaW1wb3J0KCd2b2x1bWV0cmljL3dlYi9kZWNvZGVyL3dvcmtlckZ1bmN0aW9uLnRzP3dvcmtlcicpXG4gIF0pLnRoZW4oKFttb2R1bGUxLCBtb2R1bGUyXSkgPT4ge1xuICAgIERyYWNvc2lzUGxheWVyID0gbW9kdWxlMS5kZWZhdWx0XG4gICAgRHJhY29zaXNQbGF5ZXJXb3JrZXIgPSBtb2R1bGUyLmRlZmF1bHRcbiAgfSlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdWRpb1Byb3BzIHtcbiAgc3JjPzogc3RyaW5nXG4gIGNvbnRyb2xzPzogYm9vbGVhblxuICBhdXRvUGxheT86IGJvb2xlYW5cbiAgbG9vcD86IGJvb2xlYW5cbiAgc3luY2hyb25pemU/OiBudW1iZXJcbiAgYXVkaW9UeXBlPzogJ3N0ZXJlbycgfCAncGFubmVybm9kZSdcbiAgdm9sdW1lPzogbnVtYmVyXG4gIGRpc3RhbmNlTW9kZWw/OiAnbGluZWFyJyB8ICdpbnZlcnNlJyB8ICdleHBvbmVudGlhbCdcbiAgcm9sbG9mZkZhY3Rvcj86IG51bWJlclxuICByZWZEaXN0YW5jZT86IG51bWJlclxuICBtYXhEaXN0YW5jZT86IG51bWJlclxuICBjb25lSW5uZXJBbmdsZT86IG51bWJlclxuICBjb25lT3V0ZXJBbmdsZT86IG51bWJlclxuICBjb25lT3V0ZXJHYWluPzogbnVtYmVyXG4gIGludGVyYWN0YWJsZT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaWRlb1Byb3BzIGV4dGVuZHMgQXVkaW9Qcm9wcyB7XG4gIGlzTGl2ZXN0cmVhbT86IGJvb2xlYW5cbiAgZWxlbWVudElkPzogc3RyaW5nXG4gIHByb2plY3Rpb24/OiAnZmxhdCcgfCAnMzYwLWVxdWlyZWN0YW5ndWxhcidcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lZGlhU2VydmVyKGVudGl0eSwgcHJvcHM6IHsgaW50ZXJhY3RhYmxlOiBib29sZWFuIH0pOiB2b2lkIHtcbiAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgT2JqZWN0M0QoKSwgcHJvcHMpXG4gIGlmIChwcm9wcy5pbnRlcmFjdGFibGUpIGFkZENvbXBvbmVudChlbnRpdHksIEludGVyYWN0YWJsZUNvbXBvbmVudCwgeyBkYXRhOiBwcm9wcyB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXVkaW8oZW50aXR5LCBwcm9wczogQXVkaW9Qcm9wcyk6IHZvaWQge1xuICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpb1NvdXJjZShFbmdpbmUuYXVkaW9MaXN0ZW5lcilcbiAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBhdWRpbywgcHJvcHMpXG4gIGF1ZGlvLmxvYWQoKVxuICBjb25zdCBwb3NBdWRpbyA9IG5ldyBQb3NpdGlvbmFsQXVkaW8oRW5naW5lLmF1ZGlvTGlzdGVuZXIpXG4gIHBvc0F1ZGlvLm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZVxuICBhZGRDb21wb25lbnQoZW50aXR5LCBQb3NpdGlvbmFsQXVkaW9Db21wb25lbnQsIHsgdmFsdWU6IHBvc0F1ZGlvIH0pXG4gIGlmIChwcm9wcy5pbnRlcmFjdGFibGUpIGFkZENvbXBvbmVudChlbnRpdHksIEludGVyYWN0YWJsZUNvbXBvbmVudCwgeyBkYXRhOiBwcm9wcyB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmlkZW8oZW50aXR5LCBwcm9wczogVmlkZW9Qcm9wcyk6IHZvaWQge1xuICBjb25zdCB2aWRlbyA9IG5ldyBWaWRlbyhFbmdpbmUuYXVkaW9MaXN0ZW5lciwgcHJvcHMuZWxlbWVudElkISlcbiAgaWYgKHByb3BzLnN5bmNocm9uaXplKSB7XG4gICAgdmlkZW8uc3RhcnRUaW1lID0gcHJvcHMuc3luY2hyb25pemVcbiAgICB2aWRlby5pc1N5bmNlZCA9IHByb3BzLnN5bmNocm9uaXplID4gMFxuICB9XG4gIGFkZE9iamVjdDNEQ29tcG9uZW50KGVudGl0eSwgdmlkZW8sIHByb3BzKVxuICB2aWRlby5sb2FkKClcbiAgaWYgKHByb3BzLmludGVyYWN0YWJsZSkgYWRkQ29tcG9uZW50KGVudGl0eSwgSW50ZXJhY3RhYmxlQ29tcG9uZW50LCB7IGRhdGE6IHByb3BzIH0pXG59XG5cbmludGVyZmFjZSBWb2x1bWV0cmljUHJvcHMge1xuICBzcmM6IHN0cmluZ1xuICBsb29wOiBudW1iZXJcbiAgYXV0b1BsYXk6IGJvb2xlYW5cbiAgaW50ZXJhY3RhYmxlOiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVWb2x1bWV0cmljID0gKGVudGl0eSwgcHJvcHM6IFZvbHVtZXRyaWNQcm9wcykgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBuZXcgVXBkYXRlYWJsZU9iamVjdDNEKClcbiAgY29uc3Qgd29ya2VyID0gbmV3IERyYWNvc2lzUGxheWVyV29ya2VyKClcbiAgLy8gY29uc3QgcmVzb3VyY2VVcmwgPSBcImh0dHBzOi8vMTcyLjE2MC4xMC4xNTY6MzAwMC9zdGF0aWMvdm9sdW1ldHJpYy9saWFtLmRyY3NcIjtcbiAgY29uc3QgcmVzb3VyY2VVcmwgPSBwcm9wcy5zcmNcbiAgRHJhY29zaXNTZXF1ZW5jZSA9IG5ldyBEcmFjb3Npc1BsYXllcih7XG4gICAgc2NlbmU6IGNvbnRhaW5lcixcbiAgICByZW5kZXJlcjogRW5naW5lLnJlbmRlcmVyLFxuICAgIHdvcmtlcjogd29ya2VyLFxuICAgIG1hbmlmZXN0RmlsZVBhdGg6IHJlc291cmNlVXJsLnJlcGxhY2UoJy5kcmNzJywgJy5tYW5pZmVzdCcpLFxuICAgIG1lc2hGaWxlUGF0aDogcmVzb3VyY2VVcmwsXG4gICAgdmlkZW9GaWxlUGF0aDogcmVzb3VyY2VVcmwucmVwbGFjZSgnLmRyY3MnLCAnLm1wNCcpLFxuICAgIGxvb3A6IHByb3BzLmxvb3AsXG4gICAgYXV0b3BsYXk6IHByb3BzLmF1dG9QbGF5LFxuICAgIHNjYWxlOiAxLFxuICAgIGZyYW1lUmF0ZTogMjVcbiAgfSlcblxuICBjb250YWluZXIudXBkYXRlID0gKCkgPT4ge1xuICAgIGlmIChEcmFjb3Npc1NlcXVlbmNlLmhhc1BsYXllZCkge1xuICAgICAgRHJhY29zaXNTZXF1ZW5jZT8uaGFuZGxlUmVuZGVyKCgpID0+IHt9KVxuICAgIH1cbiAgfVxuXG4gIGFkZENvbXBvbmVudChlbnRpdHksIFZvbHVtZXRyaWNDb21wb25lbnQsIHtcbiAgICBwbGF5ZXI6IERyYWNvc2lzU2VxdWVuY2VcbiAgfSlcblxuICBhZGRDb21wb25lbnQoZW50aXR5LCBSZW5kZXJlZENvbXBvbmVudCwge30pXG5cbiAgLy90ZW1wb3JhcnkgY29kZVxuICBEcmFjb3Npc1NlcXVlbmNlLnBsYXkoKVxuXG4gIGFkZE9iamVjdDNEQ29tcG9uZW50KGVudGl0eSwgY29udGFpbmVyLCBwcm9wcylcbiAgaWYgKHByb3BzLmludGVyYWN0YWJsZSkgYWRkQ29tcG9uZW50KGVudGl0eSwgSW50ZXJhY3RhYmxlQ29tcG9uZW50LCB7IGRhdGE6IHByb3BzIH0pXG59XG4iLCJpbXBvcnQgeyBGaWxlTG9hZGVyLCBMb2FkZXIsIExvYWRpbmdNYW5hZ2VyLCBTaGFwZVBhdGggfSBmcm9tICd0aHJlZSdcblxuZXhwb3J0IGNsYXNzIEZvbnRMb2FkZXIgZXh0ZW5kcyBMb2FkZXIge1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyPzogTG9hZGluZ01hbmFnZXIpIHtcbiAgICBzdXBlcihtYW5hZ2VyKVxuICB9XG5cbiAgbG9hZCh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcz8sIG9uRXJyb3I/KSB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzXG5cbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgRmlsZUxvYWRlcih0aGlzLm1hbmFnZXIpXG4gICAgbG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKVxuICAgIGxvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcilcbiAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHNjb3BlLndpdGhDcmVkZW50aWFscylcbiAgICBsb2FkZXIubG9hZChcbiAgICAgIHVybCxcbiAgICAgIGZ1bmN0aW9uICh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGpzb25cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHRleHQpXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkZvbnRMb2FkZXI6IHR5cGVmYWNlLmpzIHN1cHBvcnQgaXMgYmVpbmcgZGVwcmVjYXRlZC4gVXNlIHR5cGVmYWNlLmpzb24gaW5zdGVhZC4nKVxuICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHRleHQuc3Vic3RyaW5nKDY1LCB0ZXh0Lmxlbmd0aCAtIDIpKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9udCA9IHNjb3BlLnBhcnNlKGpzb24pXG5cbiAgICAgICAgaWYgKG9uTG9hZCkgb25Mb2FkKGZvbnQpXG4gICAgICB9LFxuICAgICAgb25Qcm9ncmVzcyxcbiAgICAgIG9uRXJyb3JcbiAgICApXG4gIH1cblxuICBwYXJzZShqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGb250KGpzb24pXG4gIH1cbn1cblxuLy9cblxuZXhwb3J0IGNsYXNzIEZvbnQge1xuICBkYXRhOiBhbnlcbiAgcmVhZG9ubHkgdHlwZSA9ICdGb250JyBhcyBjb25zdFxuICByZWFkb25seSBpc0ZvbnQgPSB0cnVlXG5cbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgfVxuXG4gIGdlbmVyYXRlU2hhcGVzKHRleHQsIHNpemUgPSAxMDApIHtcbiAgICBjb25zdCBzaGFwZXMgPSBbXVxuICAgIGNvbnN0IHBhdGhzOiBhbnlbXSA9IGNyZWF0ZVBhdGhzKHRleHQsIHNpemUsIHRoaXMuZGF0YSlcblxuICAgIGZvciAobGV0IHAgPSAwLCBwbCA9IHBhdGhzLmxlbmd0aDsgcCA8IHBsOyBwKyspIHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHNoYXBlcywgcGF0aHNbcF0udG9TaGFwZXMoKSlcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhcGVzXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUGF0aHModGV4dCwgc2l6ZSwgZGF0YSkge1xuICBjb25zdCBjaGFycyA9IEFycmF5LmZyb20odGV4dClcbiAgY29uc3Qgc2NhbGUgPSBzaXplIC8gZGF0YS5yZXNvbHV0aW9uXG4gIGNvbnN0IGxpbmVfaGVpZ2h0ID0gKGRhdGEuYm91bmRpbmdCb3gueU1heCAtIGRhdGEuYm91bmRpbmdCb3gueU1pbiArIGRhdGEudW5kZXJsaW5lVGhpY2tuZXNzKSAqIHNjYWxlXG5cbiAgY29uc3QgcGF0aHM6IGFueVtdID0gW11cblxuICBsZXQgb2Zmc2V0WCA9IDAsXG4gICAgb2Zmc2V0WSA9IDBcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGNoYXJzW2ldXG5cbiAgICBpZiAoY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgIG9mZnNldFggPSAwXG4gICAgICBvZmZzZXRZIC09IGxpbmVfaGVpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJldCA9IGNyZWF0ZVBhdGgoY2hhciwgc2NhbGUsIG9mZnNldFgsIG9mZnNldFksIGRhdGEpIGFzIGFueVxuICAgICAgb2Zmc2V0WCArPSByZXQub2Zmc2V0WFxuICAgICAgcGF0aHMucHVzaChyZXQucGF0aClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGF0aHNcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGF0aChjaGFyLCBzY2FsZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZGF0YSkge1xuICBjb25zdCBnbHlwaCA9IGRhdGEuZ2x5cGhzW2NoYXJdIHx8IGRhdGEuZ2x5cGhzWyc/J11cblxuICBpZiAoIWdseXBoKSB7XG4gICAgY29uc29sZS5lcnJvcignVEhSRUUuRm9udDogY2hhcmFjdGVyIFwiJyArIGNoYXIgKyAnXCIgZG9lcyBub3QgZXhpc3RzIGluIGZvbnQgZmFtaWx5ICcgKyBkYXRhLmZhbWlseU5hbWUgKyAnLicpXG5cbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHBhdGggPSBuZXcgU2hhcGVQYXRoKClcblxuICBsZXQgeCwgeSwgY3B4LCBjcHksIGNweDEsIGNweTEsIGNweDIsIGNweTJcblxuICBpZiAoZ2x5cGgubykge1xuICAgIGNvbnN0IG91dGxpbmUgPSBnbHlwaC5fY2FjaGVkT3V0bGluZSB8fCAoZ2x5cGguX2NhY2hlZE91dGxpbmUgPSBnbHlwaC5vLnNwbGl0KCcgJykpXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IG91dGxpbmUubGVuZ3RoOyBpIDwgbDsgKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBvdXRsaW5lW2krK11cblxuICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnbSc6IC8vIG1vdmVUb1xuICAgICAgICAgIHggPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFhcbiAgICAgICAgICB5ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRZXG5cbiAgICAgICAgICBwYXRoLm1vdmVUbyh4LCB5KVxuXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdsJzogLy8gbGluZVRvXG4gICAgICAgICAgeCA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WFxuICAgICAgICAgIHkgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFlcblxuICAgICAgICAgIHBhdGgubGluZVRvKHgsIHkpXG5cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ3EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvXG4gICAgICAgICAgY3B4ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRYXG4gICAgICAgICAgY3B5ID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRZXG4gICAgICAgICAgY3B4MSA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WFxuICAgICAgICAgIGNweTEgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFlcblxuICAgICAgICAgIHBhdGgucXVhZHJhdGljQ3VydmVUbyhjcHgxLCBjcHkxLCBjcHgsIGNweSlcblxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnYic6IC8vIGJlemllckN1cnZlVG9cbiAgICAgICAgICBjcHggPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFhcbiAgICAgICAgICBjcHkgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFlcbiAgICAgICAgICBjcHgxID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRYXG4gICAgICAgICAgY3B5MSA9IG91dGxpbmVbaSsrXSAqIHNjYWxlICsgb2Zmc2V0WVxuICAgICAgICAgIGNweDIgPSBvdXRsaW5lW2krK10gKiBzY2FsZSArIG9mZnNldFhcbiAgICAgICAgICBjcHkyID0gb3V0bGluZVtpKytdICogc2NhbGUgKyBvZmZzZXRZXG5cbiAgICAgICAgICBwYXRoLmJlemllckN1cnZlVG8oY3B4MSwgY3B5MSwgY3B4MiwgY3B5MiwgY3B4LCBjcHkpXG5cbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IG9mZnNldFg6IGdseXBoLmhhICogc2NhbGUsIHBhdGg6IHBhdGggfVxufVxuIiwiaW1wb3J0IHsgRXh0cnVkZUdlb21ldHJ5LCBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBGb250LCBGb250TG9hZGVyIH0gZnJvbSAnLi4vLi4vYXNzZXRzL2ZvbnQvRm9udExvYWRlcidcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcblxuZXhwb3J0IGNsYXNzIEZvbnRNYW5hZ2VyIHtcbiAgc3RhdGljIGluc3RhbmNlOiBGb250TWFuYWdlciA9IG5ldyBGb250TWFuYWdlcigpXG4gIHByaXZhdGUgX2xvYWRlcjogRm9udExvYWRlciA9IG5ldyBGb250TG9hZGVyKClcbiAgX2RlZmF1bHRGb250OiBGb250XG5cbiAgY3JlYXRlM2RUZXh0KHRleHQ6IHN0cmluZywgc2NhbGU6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygxLCAxLCAxKSwgZm9udFJlc29sdXRpb246IG51bWJlciA9IDEyMCk6IEV4dHJ1ZGVHZW9tZXRyeSB7XG4gICAgY29uc3QgdGV4dFNoYXBlcyA9IHRoaXMuX2RlZmF1bHRGb250LmdlbmVyYXRlU2hhcGVzKHRleHQsIGZvbnRSZXNvbHV0aW9uKVxuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEV4dHJ1ZGVHZW9tZXRyeSh0ZXh0U2hhcGVzLCB7IGJldmVsRW5hYmxlZDogZmFsc2UgfSlcbiAgICBjb25zdCBpbnZSZXMgPSAxIC8gZm9udFJlc29sdXRpb25cbiAgICBnZW9tZXRyeS5zY2FsZShzY2FsZS54ICogaW52UmVzLCBzY2FsZS55ICogaW52UmVzLCBzY2FsZS56ICogaW52UmVzKVxuICAgIGdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpXG4gICAgY29uc3QgeE1pZCA9IC0wLjUgKiAoZ2VvbWV0cnkuYm91bmRpbmdCb3g/Lm1heC54ISAtIGdlb21ldHJ5LmJvdW5kaW5nQm94Py5taW4ueCEpXG4gICAgZ2VvbWV0cnkudHJhbnNsYXRlKHhNaWQsIDAsIDEpXG4gICAgcmV0dXJuIGdlb21ldHJ5XG4gIH1cblxuICBnZXREZWZhdWx0Rm9udCgpOiBQcm9taXNlPEZvbnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICh0aGlzLl9kZWZhdWx0Rm9udCkge1xuICAgICAgICByZXNvbHZlKHRoaXMuX2RlZmF1bHRGb250KVxuICAgICAgfVxuICAgICAgdGhpcy5fbG9hZGVyLmxvYWQoRW5naW5lLnB1YmxpY1BhdGggKyAnL2ZvbnRzL0lCTVBsZXhTYW5zLVJlZ3VsYXIuanNvbicsIChmb250KSA9PiB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRGb250ID0gZm9udFxuICAgICAgICByZXNvbHZlKHRoaXMuX2RlZmF1bHRGb250KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBCb3hCdWZmZXJHZW9tZXRyeSxcbiAgQnVmZmVyR2VvbWV0cnksXG4gIENvbG9yLFxuICBFdWxlcixcbiAgRXh0cnVkZUdlb21ldHJ5LFxuICBNZXNoLFxuICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgTWVzaFBob25nTWF0ZXJpYWwsXG4gIFBsYW5lQnVmZmVyR2VvbWV0cnksXG4gIFF1YXRlcm5pb24sXG4gIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBBc3NldExvYWRlciB9IGZyb20gJy4uLy4uL2Fzc2V0cy9jbGFzc2VzL0Fzc2V0TG9hZGVyJ1xuaW1wb3J0IHsgbWVyZ2VCdWZmZXJHZW9tZXRyaWVzIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NsYXNzZXMvQnVmZmVyR2VvbWV0cnlVdGlscydcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL2Z1bmN0aW9ucy9pc0NsaWVudCdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VudGl0eSdcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvV29ybGQnXG5pbXBvcnQgeyBhZGRDb21wb25lbnQsIGdldENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQ29sbGlkZXJDb21wb25lbnQgfSBmcm9tICcuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvQ29sbGlkZXJDb21wb25lbnQnXG5pbXBvcnQgeyBDb2xsaXNpb25Hcm91cHMgfSBmcm9tICcuLi8uLi9waHlzaWNzL2VudW1zL0NvbGxpc2lvbkdyb3VwcydcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcbmltcG9ydCB7IEZvbnRNYW5hZ2VyIH0gZnJvbSAnLi4vLi4veHJ1aS9jbGFzc2VzL0ZvbnRNYW5hZ2VyJ1xuaW1wb3J0IHsgT2JqZWN0M0RDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL09iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgUG9ydGFsQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3J0YWxDb21wb25lbnQnXG5pbXBvcnQgeyB1c2VXb3JsZCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvU3lzdGVtSG9va3MnXG5pbXBvcnQgeyBCb2R5VHlwZSB9IGZyb20gJy4uLy4uL3BoeXNpY3MvdHlwZXMvUGh5c2ljc1R5cGVzJ1xuaW1wb3J0IHsgQ29sbGlzaW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL0NvbGxpc2lvbkNvbXBvbmVudCdcblxuZXhwb3J0IHR5cGUgUG9ydGFsUHJvcHMgPSB7XG4gIGxvY2F0aW9uTmFtZTogc3RyaW5nXG4gIGxpbmtlZFBvcnRhbElkOiBzdHJpbmdcbiAgbW9kZWxVcmw6IHN0cmluZ1xuICBkaXNwbGF5VGV4dDogc3RyaW5nXG4gIHRyaWdnZXJQb3NpdGlvbjogVmVjdG9yM1xuICB0cmlnZ2VyUm90YXRpb246IEV1bGVyXG4gIHRyaWdnZXJTY2FsZTogVmVjdG9yM1xufVxuXG5jb25zdCB2ZWMzID0gbmV3IFZlY3RvcjMoKVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUG9ydGFsID0gYXN5bmMgKGVudGl0eTogRW50aXR5LCBhcmdzOiBQb3J0YWxQcm9wcykgPT4ge1xuICBjb25zb2xlLmxvZyhhcmdzKVxuICBjb25zdCB7IGxvY2F0aW9uTmFtZSwgbGlua2VkUG9ydGFsSWQsIGRpc3BsYXlUZXh0LCB0cmlnZ2VyUG9zaXRpb24sIHRyaWdnZXJSb3RhdGlvbiwgdHJpZ2dlclNjYWxlIH0gPSBhcmdzXG5cbiAgY29uc3QgdHJhbnNmb3JtID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgVHJhbnNmb3JtQ29tcG9uZW50KVxuXG4gIGxldCBwcmV2aWV3TWVzaDogTWVzaFxuXG4gIGNvbnN0IGhhc01vZGVsVXJsID0gQm9vbGVhbihhcmdzLm1vZGVsVXJsICYmIGFyZ3MubW9kZWxVcmwgIT09ICcnKVxuXG4gIGlmIChoYXNNb2RlbFVybCkge1xuICAgIC8vIHRoaXMgaXMgYWxzbyBub3QgYSBncmVhdCBpZGVhLCB3ZSBzaG91bGQgbG9hZCB0aGlzIGVpdGhlciBhcyBhIHN0YXRpYyBhc3NldCBvciBmcm9tIHRoZSBwb3J0YWwgbm9kZSBhcmd1bWVudHNcbiAgICBjb25zdCBnbHRmID0gYXdhaXQgQXNzZXRMb2FkZXIubG9hZEFzeW5jKHsgdXJsOiBhcmdzLm1vZGVsVXJsIH0pXG5cbiAgICBjb25zdCBtb2RlbCA9IGdsdGYuc2NlbmUuY2xvbmUoKVxuICAgIHByZXZpZXdNZXNoID0gbW9kZWwuY2hpbGRyZW5bMl0gYXMgTWVzaFxuICAgIGNvbnN0IGxhYmVsTWVzaCA9IG1vZGVsLmNoaWxkcmVuWzFdIGFzIE1lc2hcblxuICAgIG1vZGVsLnBvc2l0aW9uLmNvcHkodHJhbnNmb3JtLnBvc2l0aW9uKVxuICAgIG1vZGVsLnF1YXRlcm5pb24uY29weSh0cmFuc2Zvcm0ucm90YXRpb24pXG4gICAgbW9kZWwuc2NhbGUuY29weSh0cmFuc2Zvcm0uc2NhbGUpXG5cbiAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgIEZvbnRNYW5hZ2VyLmluc3RhbmNlLmdldERlZmF1bHRGb250KCkudGhlbigoZm9udCkgPT4ge1xuICAgICAgICBjb25zdCBmb250UmVzb2x1dGlvbiA9IDEyMFxuXG4gICAgICAgIGNvbnN0IGNyZWF0ZVRleHQgPSAodGV4dCwgc2NhbGUpID0+IHtcbiAgICAgICAgICBjb25zdCBleGl0VGV4dFNoYXBlcyA9IGZvbnQuZ2VuZXJhdGVTaGFwZXModGV4dCwgZm9udFJlc29sdXRpb24pXG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgRXh0cnVkZUdlb21ldHJ5KGV4aXRUZXh0U2hhcGVzLCB7IGJldmVsRW5hYmxlZDogZmFsc2UgfSlcbiAgICAgICAgICBjb25zdCBpbnZSZXNvbHV0aW9uID0gc2NhbGUgLyBmb250UmVzb2x1dGlvblxuICAgICAgICAgIGdlb21ldHJ5LnNjYWxlKGludlJlc29sdXRpb24sIGludlJlc29sdXRpb24gKiAwLjgsIDEgLyBmb250UmVzb2x1dGlvbilcbiAgICAgICAgICBnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKVxuICAgICAgICAgIGNvbnN0IHhNaWQgPSAtMC41ICogKGdlb21ldHJ5LmJvdW5kaW5nQm94Py5tYXgueCEgLSBnZW9tZXRyeS5ib3VuZGluZ0JveD8ubWluLnghKVxuICAgICAgICAgIGdlb21ldHJ5LnRyYW5zbGF0ZSh4TWlkLCAwLCAxKVxuICAgICAgICAgIHJldHVybiBnZW9tZXRyeVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGdlb21ldHJ5OiBCdWZmZXJHZW9tZXRyeSA9IGNyZWF0ZVRleHQoJ0VYSVQnLCAyLjUpXG5cbiAgICAgICAgaWYgKGFyZ3MuZGlzcGxheVRleHQgJiYgYXJncy5kaXNwbGF5VGV4dCAhPT0gJycpIHtcbiAgICAgICAgICBjb25zdCBkaXNwbGF5VGV4dEdlb20gPSBjcmVhdGVUZXh0KGFyZ3MuZGlzcGxheVRleHQsIDEpXG4gICAgICAgICAgZGlzcGxheVRleHRHZW9tLnRyYW5zbGF0ZSgwLCAtMS42LCAwKVxuICAgICAgICAgIGdlb21ldHJ5ID0gbWVyZ2VCdWZmZXJHZW9tZXRyaWVzKFtnZW9tZXRyeSwgZGlzcGxheVRleHRHZW9tXSkgYXMgQnVmZmVyR2VvbWV0cnlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleHRTaXplID0gMC4xNVxuICAgICAgICBjb25zdCB0ZXh0ID0gbmV3IE1lc2goZ2VvbWV0cnksIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweDAwMDAwMCB9KSlcbiAgICAgICAgdGV4dC5zY2FsZS5zZXRTY2FsYXIodGV4dFNpemUpXG5cbiAgICAgICAgY29uc3QgdGV4dE90aGVyU2lkZSA9IHRleHQuY2xvbmUodHJ1ZSkucm90YXRlWShNYXRoLlBJKVxuXG4gICAgICAgIGxhYmVsTWVzaC5hZGQodGV4dClcbiAgICAgICAgbGFiZWxNZXNoLmFkZCh0ZXh0T3RoZXJTaWRlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBhZGRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudCwgeyB2YWx1ZTogbW9kZWwgfSlcbiAgfSBlbHNlIHtcbiAgICBwcmV2aWV3TWVzaCA9IG5ldyBNZXNoKG5ldyBCb3hCdWZmZXJHZW9tZXRyeSgpLCBuZXcgTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogbmV3IENvbG9yKCd3aGl0ZScpIH0pKVxuICAgIHByZXZpZXdNZXNoLmdlb21ldHJ5LnNjYWxlKHRyaWdnZXJTY2FsZS54LCB0cmlnZ2VyU2NhbGUueSwgdHJpZ2dlclNjYWxlLnopXG4gICAgcHJldmlld01lc2guZ2VvbWV0cnkuYXBwbHlRdWF0ZXJuaW9uKFxuICAgICAgbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIobmV3IEV1bGVyKHRyaWdnZXJSb3RhdGlvbi54LCB0cmlnZ2VyUm90YXRpb24ueSwgdHJpZ2dlclJvdGF0aW9uLnopKVxuICAgIClcbiAgICBwcmV2aWV3TWVzaC5nZW9tZXRyeS50cmFuc2xhdGUodHJpZ2dlclBvc2l0aW9uLngsIHRyaWdnZXJQb3NpdGlvbi55LCB0cmlnZ2VyUG9zaXRpb24ueilcblxuICAgIC8vIFRPRE86IGFkZCBicGNlbSBzdGVuY2lsLiB1bnRpbCBub3csIGtlZXAgcHJldmlldyBtZXNoIGhpZGRlblxuICAgIC8vIGFkZENvbXBvbmVudChlbnRpdHksIE9iamVjdDNEQ29tcG9uZW50LCB7IHZhbHVlOiBwcmV2aWV3TWVzaCB9KVxuICB9XG5cbiAgY29uc3Qgd29ybGQgPSB1c2VXb3JsZCgpXG5cbiAgY29uc3QgcG9ydGFsU2hhcGUgPSB3b3JsZC5waHlzaWNzLmNyZWF0ZVNoYXBlKFxuICAgIG5ldyBQaHlzWC5QeEJveEdlb21ldHJ5KHRyaWdnZXJTY2FsZS54ICogMC41LCB0cmlnZ2VyU2NhbGUueSAqIDAuNSwgdHJpZ2dlclNjYWxlLnogKiAwLjUpLFxuICAgIHdvcmxkLnBoeXNpY3MuY3JlYXRlTWF0ZXJpYWwoKSxcbiAgICB7XG4gICAgICBpc1RyaWdnZXI6IHRydWUsXG4gICAgICBjb2xsaXNpb25MYXllcjogQ29sbGlzaW9uR3JvdXBzLlRyaWdnZXIsXG4gICAgICBjb2xsaXNpb25NYXNrOiBDb2xsaXNpb25Hcm91cHMuVHJpZ2dlclxuICAgIH1cbiAgKVxuXG4gIHBvcnRhbFNoYXBlLnNldExvY2FsUG9zZSh7XG4gICAgdHJhbnNsYXRpb246IG5ldyBWZWN0b3IzKHRyaWdnZXJQb3NpdGlvbi54LCB0cmlnZ2VyUG9zaXRpb24ueSwgdHJpZ2dlclBvc2l0aW9uLnopLFxuICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEZyb21FdWxlcihuZXcgRXVsZXIodHJpZ2dlclJvdGF0aW9uLngsIHRyaWdnZXJSb3RhdGlvbi55LCB0cmlnZ2VyUm90YXRpb24ueikpXG4gIH0pXG5cbiAgY29uc3QgcG9ydGFsQm9keSA9IHdvcmxkLnBoeXNpY3MuYWRkQm9keSh7XG4gICAgc2hhcGVzOiBbcG9ydGFsU2hhcGVdLFxuICAgIHR5cGU6IEJvZHlUeXBlLlNUQVRJQyxcbiAgICB0cmFuc2Zvcm06IHtcbiAgICAgIHRyYW5zbGF0aW9uOiB0cmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICByb3RhdGlvbjogdHJhbnNmb3JtLnJvdGF0aW9uXG4gICAgfSxcbiAgICB1c2VyRGF0YTogeyBlbnRpdHkgfVxuICB9KVxuXG4gIGFkZENvbXBvbmVudChlbnRpdHksIENvbGxpZGVyQ29tcG9uZW50LCB7IGJvZHk6IHBvcnRhbEJvZHkgfSlcbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgQ29sbGlzaW9uQ29tcG9uZW50LCB7IGNvbGxpc2lvbnM6IFtdIH0pXG5cbiAgYWRkQ29tcG9uZW50KGVudGl0eSwgUG9ydGFsQ29tcG9uZW50LCB7XG4gICAgbG9jYXRpb246IGxvY2F0aW9uTmFtZSxcbiAgICBsaW5rZWRQb3J0YWxJZCxcbiAgICBkaXNwbGF5VGV4dCxcbiAgICBwcmV2aWV3TWVzaCxcbiAgICBpc1BsYXllckluUG9ydGFsOiBmYWxzZSxcbiAgICByZW1vdGVTcGF3blBvc2l0aW9uOiBuZXcgVmVjdG9yMygpLFxuICAgIHJlbW90ZVNwYXduUm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCksXG4gICAgcmVtb3RlU3Bhd25FdWxlcjogbmV3IEV1bGVyKClcbiAgfSlcblxuICBFbmdpbmUuZGVmYXVsdFdvcmxkLnBvcnRhbEVudGl0aWVzLnB1c2goZW50aXR5KVxufVxuXG5leHBvcnQgY29uc3Qgc2V0UmVtb3RlTG9jYXRpb25EZXRhaWwgPSAoXG4gIHBvcnRhbDogUmV0dXJuVHlwZTx0eXBlb2YgUG9ydGFsQ29tcG9uZW50LmdldD4sXG4gIHNwYXduUG9zaXRpb246IFZlY3RvcjMsXG4gIHNwYXduUm90YXRpb246IEV1bGVyXG4pOiB2b2lkID0+IHtcbiAgcG9ydGFsLnJlbW90ZVNwYXduUG9zaXRpb24gPSBuZXcgVmVjdG9yMyhzcGF3blBvc2l0aW9uLngsIHNwYXduUG9zaXRpb24ueSwgc3Bhd25Qb3NpdGlvbi56KVxuICBwb3J0YWwucmVtb3RlU3Bhd25FdWxlciA9IG5ldyBFdWxlcihzcGF3blJvdGF0aW9uLngsIHNwYXduUm90YXRpb24ueSwgc3Bhd25Sb3RhdGlvbi56LCAnWFlaJylcbiAgcG9ydGFsLnJlbW90ZVNwYXduUm90YXRpb24gPSBuZXcgUXVhdGVybmlvbigpLnNldEZyb21FdWxlcihwb3J0YWwucmVtb3RlU3Bhd25FdWxlcilcbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBUcmlnZ2VyVm9sdW1lQ29tcG9uZW50VHlwZSA9IHtcbiAgYXJnczogYW55XG4gIHRhcmdldDogYW55XG4gIGFjdGl2ZTogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgVHJpZ2dlclZvbHVtZUNvbXBvbmVudCA9IGNyZWF0ZU1hcHBlZENvbXBvbmVudDxUcmlnZ2VyVm9sdW1lQ29tcG9uZW50VHlwZT4oJ1RyaWdnZXJWb2x1bWVDb21wb25lbnQnKVxuIiwiaW1wb3J0IHsgVmVjdG9yMywgTWF0cml4NCB9IGZyb20gJ3RocmVlJ1xuXG5jb25zdCBpbnZlcnNlUHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXg0KClcblxudHlwZSBGcnVzdHVtUGFyYW1zID0ge1xuICBwcm9qZWN0aW9uTWF0cml4PzogTWF0cml4NFxuICBtYXhGYXI/OiBudW1iZXJcbn1cblxudHlwZSBWZXJ0aWNlc1R5cGUgPSB7XG4gIG5lYXI6IFZlY3RvcjNbXVxuICBmYXI6IFZlY3RvcjNbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcnVzdHVtIHtcbiAgdmVydGljZXM6IFZlcnRpY2VzVHlwZVxuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IEZydXN0dW1QYXJhbXMgPSB7fSkge1xuICAgIHRoaXMudmVydGljZXMgPSB7XG4gICAgICBuZWFyOiBbbmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoKV0sXG4gICAgICBmYXI6IFtuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpLCBuZXcgVmVjdG9yMygpXVxuICAgIH1cblxuICAgIGlmIChkYXRhLnByb2plY3Rpb25NYXRyaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChkYXRhLnByb2plY3Rpb25NYXRyaXgsIGRhdGEubWF4RmFyIHx8IDEwMDAwKVxuICAgIH1cbiAgfVxuXG4gIHNldEZyb21Qcm9qZWN0aW9uTWF0cml4KHByb2plY3Rpb25NYXRyaXg6IE1hdHJpeDQsIG1heEZhcjogbnVtYmVyKTogVmVydGljZXNUeXBlIHtcbiAgICBjb25zdCBpc09ydGhvZ3JhcGhpYyA9IHByb2plY3Rpb25NYXRyaXguZWxlbWVudHNbMiAqIDQgKyAzXSA9PT0gMFxuXG4gICAgaW52ZXJzZVByb2plY3Rpb25NYXRyaXguY29weShwcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKVxuXG4gICAgLy8gMyAtLS0gMCAgdmVydGljZXMubmVhci9mYXIgb3JkZXJcbiAgICAvLyB8ICAgICB8XG4gICAgLy8gMiAtLS0gMVxuICAgIC8vIGNsaXAgc3BhY2Ugc3BhbnMgZnJvbSBbLTEsIDFdXG5cbiAgICB0aGlzLnZlcnRpY2VzLm5lYXJbMF0uc2V0KDEsIDEsIC0xKVxuICAgIHRoaXMudmVydGljZXMubmVhclsxXS5zZXQoMSwgLTEsIC0xKVxuICAgIHRoaXMudmVydGljZXMubmVhclsyXS5zZXQoLTEsIC0xLCAtMSlcbiAgICB0aGlzLnZlcnRpY2VzLm5lYXJbM10uc2V0KC0xLCAxLCAtMSlcbiAgICB0aGlzLnZlcnRpY2VzLm5lYXIuZm9yRWFjaCgodjogVmVjdG9yMykgPT4ge1xuICAgICAgdi5hcHBseU1hdHJpeDQoaW52ZXJzZVByb2plY3Rpb25NYXRyaXgpXG4gICAgfSlcblxuICAgIHRoaXMudmVydGljZXMuZmFyWzBdLnNldCgxLCAxLCAxKVxuICAgIHRoaXMudmVydGljZXMuZmFyWzFdLnNldCgxLCAtMSwgMSlcbiAgICB0aGlzLnZlcnRpY2VzLmZhclsyXS5zZXQoLTEsIC0xLCAxKVxuICAgIHRoaXMudmVydGljZXMuZmFyWzNdLnNldCgtMSwgMSwgMSlcbiAgICB0aGlzLnZlcnRpY2VzLmZhci5mb3JFYWNoKCh2OiBWZWN0b3IzKSA9PiB7XG4gICAgICB2LmFwcGx5TWF0cml4NChpbnZlcnNlUHJvamVjdGlvbk1hdHJpeClcblxuICAgICAgY29uc3QgYWJzWiA9IE1hdGguYWJzKHYueilcbiAgICAgIGlmIChpc09ydGhvZ3JhcGhpYykge1xuICAgICAgICB2LnogKj0gTWF0aC5taW4obWF4RmFyIC8gYWJzWiwgMS4wKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdi5tdWx0aXBseVNjYWxhcihNYXRoLm1pbihtYXhGYXIgLyBhYnNaLCAxLjApKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNlc1xuICB9XG5cbiAgc3BsaXQoYnJlYWtzOiBudW1iZXJbXSwgdGFyZ2V0OiBGcnVzdHVtW10pOiB2b2lkIHtcbiAgICB3aGlsZSAoYnJlYWtzLmxlbmd0aCA+IHRhcmdldC5sZW5ndGgpIHtcbiAgICAgIHRhcmdldC5wdXNoKG5ldyBGcnVzdHVtKCkpXG4gICAgfVxuXG4gICAgdGFyZ2V0Lmxlbmd0aCA9IGJyZWFrcy5sZW5ndGhcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnJlYWtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjYXNjYWRlID0gdGFyZ2V0W2ldXG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgY2FzY2FkZS52ZXJ0aWNlcy5uZWFyW2pdLmNvcHkodGhpcy52ZXJ0aWNlcy5uZWFyW2pdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgIGNhc2NhZGUudmVydGljZXMubmVhcltqXS5sZXJwVmVjdG9ycyh0aGlzLnZlcnRpY2VzLm5lYXJbal0sIHRoaXMudmVydGljZXMuZmFyW2pdLCBicmVha3NbaSAtIDFdKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGJlbG93XG4gICAgICBpZiAoaSA9PT0gYnJlYWtzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcbiAgICAgICAgICBjYXNjYWRlLnZlcnRpY2VzLmZhcltqXS5jb3B5KHRoaXMudmVydGljZXMuZmFyW2pdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgIGNhc2NhZGUudmVydGljZXMuZmFyW2pdLmxlcnBWZWN0b3JzKHRoaXMudmVydGljZXMubmVhcltqXSwgdGhpcy52ZXJ0aWNlcy5mYXJbal0sIGJyZWFrc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRvU3BhY2UoY2FtZXJhTWF0cml4OiBNYXRyaXg0LCB0YXJnZXQ6IEZydXN0dW0pOiB2b2lkIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGFyZ2V0LnZlcnRpY2VzLm5lYXJbaV0uY29weSh0aGlzLnZlcnRpY2VzLm5lYXJbaV0pLmFwcGx5TWF0cml4NChjYW1lcmFNYXRyaXgpXG5cbiAgICAgIHRhcmdldC52ZXJ0aWNlcy5mYXJbaV0uY29weSh0aGlzLnZlcnRpY2VzLmZhcltpXSkuYXBwbHlNYXRyaXg0KGNhbWVyYU1hdHJpeClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFNoYWRlckNodW5rIH0gZnJvbSAndGhyZWUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbGlnaHRzX2ZyYWdtZW50X2JlZ2luOiAvKiBnbHNsICovIGBcbkdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7XG5cbmdlb21ldHJ5LnBvc2l0aW9uID0gLSB2Vmlld1Bvc2l0aW9uO1xuZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsO1xuZ2VvbWV0cnkudmlld0RpciA9ICggaXNPcnRob2dyYXBoaWMgKSA/IHZlYzMoIDAsIDAsIDEgKSA6IG5vcm1hbGl6ZSggdlZpZXdQb3NpdGlvbiApO1xuXG4jaWZkZWYgQ0xFQVJDT0FUXG5cblx0Z2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsID0gY2xlYXJjb2F0Tm9ybWFsO1xuXG4jZW5kaWZcblxuSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodDtcblxuI2lmICggTlVNX1BPSU5UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXG5cdFBvaW50TGlnaHQgcG9pbnRMaWdodDtcblx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcblx0UG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93O1xuXHQjZW5kaWZcblxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cblx0XHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodHNbIGkgXTtcblxuXHRcdGdldFBvaW50RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBwb2ludExpZ2h0LCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0ICk7XG5cblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIClcblx0XHRwb2ludExpZ2h0U2hhZG93ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93QmlhcywgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDtcblx0XHQjZW5kaWZcblxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cbiNlbmRpZlxuXG4jaWYgKCBOVU1fU1BPVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblxuXHRTcG90TGlnaHQgc3BvdExpZ2h0O1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkge1xuXG5cdFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0c1sgaSBdO1xuXG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0LCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0ICk7XG5cblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgKVxuXHRcdHNwb3RMaWdodFNoYWRvdyA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHRcdCNlbmRpZlxuXG5cdFx0UkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblxuI2VuZGlmXG5cbiNpZiAoIE5VTV9ESVJfTElHSFRTID4gMCkgJiYgZGVmaW5lZCggUkVfRGlyZWN0ICkgJiYgZGVmaW5lZCggVVNFX0NTTSApICYmIGRlZmluZWQoIENTTV9DQVNDQURFUyApXG5cblx0RGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0O1xuXHRmbG9hdCBsaW5lYXJEZXB0aCA9ICh2Vmlld1Bvc2l0aW9uLnopIC8gKHNoYWRvd0ZhciAtIGNhbWVyYU5lYXIpO1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0RGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93O1xuXHQjZW5kaWZcblxuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIGRlZmluZWQoIENTTV9GQURFIClcblx0dmVjMiBjYXNjYWRlO1xuXHRmbG9hdCBjYXNjYWRlQ2VudGVyO1xuXHRmbG9hdCBjbG9zZXN0RWRnZTtcblx0ZmxvYXQgbWFyZ2luO1xuXHRmbG9hdCBjc214O1xuXHRmbG9hdCBjc215O1xuXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVFM7IGkgKysgKSB7XG5cblx0XHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodHNbIGkgXTtcblx0XHRnZXREaXJlY3Rpb25hbExpZ2h0SW5mbyggZGlyZWN0aW9uYWxMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cblx0XHQvLyBOT1RFOiBEZXB0aCBnZXRzIGxhcmdlciBhd2F5IGZyb20gdGhlIGNhbWVyYS5cblx0XHQvLyBjYXNjYWRlLnggaXMgY2xvc2VyLCBjYXNjYWRlLnkgaXMgZnVydGhlclxuXHRcdGNhc2NhZGUgPSBDU01fY2FzY2FkZXNbIGkgXTtcblx0XHRjYXNjYWRlQ2VudGVyID0gKCBjYXNjYWRlLnggKyBjYXNjYWRlLnkgKSAvIDIuMDtcblx0XHRjbG9zZXN0RWRnZSA9IGxpbmVhckRlcHRoIDwgY2FzY2FkZUNlbnRlciA/IGNhc2NhZGUueCA6IGNhc2NhZGUueTtcblx0XHRtYXJnaW4gPSAwLjI1ICogcG93KCBjbG9zZXN0RWRnZSwgMi4wICk7XG5cdFx0Y3NteCA9IGNhc2NhZGUueCAtIG1hcmdpbiAvIDIuMDtcblx0XHRjc215ID0gY2FzY2FkZS55ICsgbWFyZ2luIC8gMi4wO1xuXHRcdGlmKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTICYmIGxpbmVhckRlcHRoID49IGNzbXggJiYgKCBsaW5lYXJEZXB0aCA8IGNzbXkgfHwgVU5ST0xMRURfTE9PUF9JTkRFWCA9PSBDU01fQ0FTQ0FERVMgLSAxICkgKSB7XG5cblx0XHRcdGZsb2F0IGRpc3QgPSBtaW4oIGxpbmVhckRlcHRoIC0gY3NteCwgY3NteSAtIGxpbmVhckRlcHRoICk7XG5cdFx0XHRmbG9hdCByYXRpbyA9IGNsYW1wKCBkaXN0IC8gbWFyZ2luLCAwLjAsIDEuMCApO1xuXHRcdFx0aWYoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fRElSX0xJR0hUX1NIQURPV1MgKSB7XG5cblx0XHRcdFx0dmVjMyBwcmV2Q29sb3IgPSBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHRcdFx0ZGlyZWN0aW9uYWxMaWdodFNoYWRvdyA9IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0XHRcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblxuXHRcdFx0XHRib29sIHNob3VsZEZhZGVMYXN0Q2FzY2FkZSA9IFVOUk9MTEVEX0xPT1BfSU5ERVggPT0gQ1NNX0NBU0NBREVTIC0gMSAmJiBsaW5lYXJEZXB0aCA+IGNhc2NhZGVDZW50ZXI7XG5cdFx0XHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gbWl4KCBwcmV2Q29sb3IsIGRpcmVjdExpZ2h0LmNvbG9yLCBzaG91bGRGYWRlTGFzdENhc2NhZGUgPyByYXRpbyA6IDEuMCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdFJlZmxlY3RlZExpZ2h0IHByZXZMaWdodCA9IHJlZmxlY3RlZExpZ2h0O1xuXHRcdFx0UkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXG5cdFx0XHRib29sIHNob3VsZEJsZW5kID0gVU5ST0xMRURfTE9PUF9JTkRFWCAhPSBDU01fQ0FTQ0FERVMgLSAxIHx8IFVOUk9MTEVEX0xPT1BfSU5ERVggPT0gQ1NNX0NBU0NBREVTIC0gMSAmJiBsaW5lYXJEZXB0aCA8IGNhc2NhZGVDZW50ZXI7XG5cdFx0XHRmbG9hdCBibGVuZFJhdGlvID0gc2hvdWxkQmxlbmQgPyByYXRpbyA6IDEuMDtcblxuXHRcdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSA9IG1peCggcHJldkxpZ2h0LmRpcmVjdERpZmZ1c2UsIHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UsIGJsZW5kUmF0aW8gKTtcblx0XHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyID0gbWl4KCBwcmV2TGlnaHQuZGlyZWN0U3BlY3VsYXIsIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyLCBibGVuZFJhdGlvICk7XG5cdFx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgPSBtaXgoIHByZXZMaWdodC5pbmRpcmVjdERpZmZ1c2UsIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSwgYmxlbmRSYXRpbyApO1xuXHRcdFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciA9IG1peCggcHJldkxpZ2h0LmluZGlyZWN0U3BlY3VsYXIsIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIsIGJsZW5kUmF0aW8gKTtcblxuXHRcdH1cblxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbHNlXG5cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcblxuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXHRcdGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblxuXHRcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTIClcblxuXHRcdGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cgPSBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdGlmKGxpbmVhckRlcHRoID49IENTTV9jYXNjYWRlc1tVTlJPTExFRF9MT09QX0lOREVYXS54ICYmIGxpbmVhckRlcHRoIDwgQ1NNX2Nhc2NhZGVzW1VOUk9MTEVEX0xPT1BfSU5ERVhdLnkpIGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblxuXHRcdCNlbmRpZlxuXG5cdFx0aWYobGluZWFyRGVwdGggPj0gQ1NNX2Nhc2NhZGVzW1VOUk9MTEVEX0xPT1BfSU5ERVhdLnggJiYgKGxpbmVhckRlcHRoIDwgQ1NNX2Nhc2NhZGVzW1VOUk9MTEVEX0xPT1BfSU5ERVhdLnkgfHwgVU5ST0xMRURfTE9PUF9JTkRFWCA9PSBDU01fQ0FTQ0FERVMgLSAxKSkgUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblxuXHQjZW5kaWZcblxuI2VuZGlmXG5cblxuI2lmICggTlVNX0RJUl9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0ICkgJiYgIWRlZmluZWQoIFVTRV9DU00gKSAmJiAhZGVmaW5lZCggQ1NNX0NBU0NBREVTIClcblxuXHREaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7XG5cdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHREaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVFM7IGkgKysgKSB7XG5cblx0XHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodHNbIGkgXTtcblxuXHRcdGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblxuXHRcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTIClcblx0XHRkaXJlY3Rpb25hbExpZ2h0U2hhZG93ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XG5cdFx0I2VuZGlmXG5cblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXG4jZW5kaWZcblxuI2lmICggTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0X1JlY3RBcmVhIClcblxuXHRSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7XG5cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUkVDVF9BUkVBX0xJR0hUUzsgaSArKyApIHtcblxuXHRcdHJlY3RBcmVhTGlnaHQgPSByZWN0QXJlYUxpZ2h0c1sgaSBdO1xuXHRcdFJFX0RpcmVjdF9SZWN0QXJlYSggcmVjdEFyZWFMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblxuI2VuZGlmXG5cbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXG5cdHZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuXG5cdHZlYzMgaXJyYWRpYW5jZSA9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XG5cblx0aXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkubm9ybWFsICk7XG5cblx0I2lmICggTlVNX0hFTUlfTElHSFRTID4gMCApXG5cblx0XHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0hFTUlfTElHSFRTOyBpICsrICkge1xuXG5cdFx0XHRpcnJhZGlhbmNlICs9IGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGhlbWlzcGhlcmVMaWdodHNbIGkgXSwgZ2VvbWV0cnkubm9ybWFsICk7XG5cblx0XHR9XG5cdFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblxuXHQjZW5kaWZcblxuI2VuZGlmXG5cbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcblxuXHR2ZWMzIHJhZGlhbmNlID0gdmVjMyggMC4wICk7XG5cdHZlYzMgY2xlYXJjb2F0UmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblxuI2VuZGlmXG5gLFxuICBsaWdodHNfcGFyc19iZWdpbjpcbiAgICAvKiBnbHNsICovIGBcbiNpZiBkZWZpbmVkKCBVU0VfQ1NNICkgJiYgZGVmaW5lZCggQ1NNX0NBU0NBREVTIClcbnVuaWZvcm0gdmVjMiBDU01fY2FzY2FkZXNbQ1NNX0NBU0NBREVTXTtcbnVuaWZvcm0gZmxvYXQgY2FtZXJhTmVhcjtcbnVuaWZvcm0gZmxvYXQgc2hhZG93RmFyO1xuI2VuZGlmXG5cdGAgKyBTaGFkZXJDaHVuay5saWdodHNfcGFyc19iZWdpblxufVxuIiwiaW1wb3J0IHtcbiAgVmVjdG9yMixcbiAgVmVjdG9yMyxcbiAgRGlyZWN0aW9uYWxMaWdodCxcbiAgTWF0aFV0aWxzLFxuICBTaGFkZXJDaHVuayxcbiAgTWF0cml4NCxcbiAgQm94MyxcbiAgT2JqZWN0M0QsXG4gIFdlYkdMUmVuZGVyVGFyZ2V0LFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgTWF0ZXJpYWwsXG4gIFNoYWRlciBhcyBTaGFkZXJUeXBlLFxuICBNZXNoXG59IGZyb20gJ3RocmVlJ1xuaW1wb3J0IEZydXN0dW0gZnJvbSAnLi9GcnVzdHVtJ1xuaW1wb3J0IFNoYWRlciBmcm9tICcuL1NoYWRlcidcblxuY29uc3QgX2NhbWVyYVRvTGlnaHRNYXRyaXggPSBuZXcgTWF0cml4NCgpXG5jb25zdCBfbGlnaHRTcGFjZUZydXN0dW0gPSBuZXcgRnJ1c3R1bSgpXG5jb25zdCBfY2VudGVyID0gbmV3IFZlY3RvcjMoKVxuY29uc3QgX2Jib3ggPSBuZXcgQm94MygpXG5jb25zdCBfdW5pZm9ybUFycmF5ID0gW11cbmNvbnN0IF9sb2dBcnJheSA9IFtdXG5cbmV4cG9ydCBlbnVtIENTTU1vZGVzIHtcbiAgVU5JRk9STSxcbiAgTE9HQVJJVEhNSUMsXG4gIFBSQUNUSUNBTCxcbiAgQ1VTVE9NXG59XG5cbnR5cGUgQ1NNUGFyYW1zID0ge1xuICBjYW1lcmE6IFBlcnNwZWN0aXZlQ2FtZXJhXG4gIHBhcmVudDogT2JqZWN0M0RcbiAgY2FzY2FkZXM/OiBudW1iZXJcbiAgbWF4RmFyPzogbnVtYmVyXG4gIG1vZGU/OiBDU01Nb2Rlc1xuICBzaGFkb3dNYXBTaXplPzogbnVtYmVyXG4gIHNoYWRvd0JpYXM/OiBudW1iZXJcbiAgbGlnaHREaXJlY3Rpb24/OiBWZWN0b3IzXG4gIGxpZ2h0SW50ZW5zaXR5PzogbnVtYmVyXG4gIGxpZ2h0TmVhcj86IG51bWJlclxuICBsaWdodEZhcj86IG51bWJlclxuICBsaWdodE1hcmdpbj86IG51bWJlclxuICBsaWdodHM/OiBEaXJlY3Rpb25hbExpZ2h0W11cbiAgY3VzdG9tU3BsaXRzQ2FsbGJhY2s/OiAoYW1vdW50OiBudW1iZXIsIG5lYXI6IG51bWJlciwgZmFyOiBudW1iZXIsIHRhcmdldDogbnVtYmVyW10pID0+IHZvaWRcbn1cblxuZXhwb3J0IGNsYXNzIENTTSB7XG4gIGNhbWVyYTogUGVyc3BlY3RpdmVDYW1lcmFcbiAgcGFyZW50OiBPYmplY3QzRFxuICBjYXNjYWRlczogbnVtYmVyXG4gIG1heEZhcjogbnVtYmVyXG4gIG1vZGU6IENTTU1vZGVzXG4gIHNoYWRvd01hcFNpemU6IG51bWJlclxuICBzaGFkb3dCaWFzOiBudW1iZXJcbiAgbGlnaHREaXJlY3Rpb246IFZlY3RvcjNcbiAgbGlnaHRJbnRlbnNpdHk6IG51bWJlclxuICBsaWdodE5lYXI6IG51bWJlclxuICBsaWdodEZhcjogbnVtYmVyXG4gIGxpZ2h0TWFyZ2luOiBudW1iZXJcbiAgY3VzdG9tU3BsaXRzQ2FsbGJhY2s/OiAoYW1vdW50OiBudW1iZXIsIG5lYXI6IG51bWJlciwgZmFyOiBudW1iZXIsIHRhcmdldDogbnVtYmVyW10pID0+IHZvaWRcbiAgZmFkZTogYm9vbGVhblxuICBtYWluRnJ1c3R1bTogRnJ1c3R1bVxuICBmcnVzdHVtczogRnJ1c3R1bVtdXG4gIGJyZWFrczogbnVtYmVyW11cbiAgbGlnaHRzOiBEaXJlY3Rpb25hbExpZ2h0W11bXVxuICBsaWdodFNvdXJjZXNDb3VudDogbnVtYmVyXG4gIHNoYWRlcnM6IE1hcDxNYXRlcmlhbCwgU2hhZGVyVHlwZT4gPSBuZXcgTWFwKClcbiAgbWF0ZXJpYWxzOiBNYXA8TWVzaCwgTWF0ZXJpYWw+ID0gbmV3IE1hcCgpXG5cbiAgY29uc3RydWN0b3IoZGF0YTogQ1NNUGFyYW1zKSB7XG4gICAgdGhpcy5jYW1lcmEgPSBkYXRhLmNhbWVyYVxuICAgIHRoaXMucGFyZW50ID0gZGF0YS5wYXJlbnRcbiAgICB0aGlzLmNhc2NhZGVzID0gZGF0YS5jYXNjYWRlcyB8fCAzXG4gICAgdGhpcy5tYXhGYXIgPSBkYXRhLm1heEZhciB8fCAxMDBcbiAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGUgfHwgQ1NNTW9kZXMuUFJBQ1RJQ0FMXG4gICAgdGhpcy5zaGFkb3dNYXBTaXplID0gZGF0YS5zaGFkb3dNYXBTaXplIHx8IDUxMlxuICAgIHRoaXMuc2hhZG93QmlhcyA9IGRhdGEuc2hhZG93QmlhcyB8fCAwLjA1XG4gICAgdGhpcy5saWdodERpcmVjdGlvbiA9IGRhdGEubGlnaHREaXJlY3Rpb24gfHwgbmV3IFZlY3RvcjMoMSwgLTEsIDEpLm5vcm1hbGl6ZSgpXG4gICAgdGhpcy5saWdodEludGVuc2l0eSA9IGRhdGEubGlnaHRJbnRlbnNpdHkgfHwgMVxuICAgIHRoaXMubGlnaHROZWFyID0gZGF0YS5saWdodE5lYXIgfHwgMVxuICAgIHRoaXMubGlnaHRGYXIgPSBkYXRhLmxpZ2h0RmFyIHx8IDEwMFxuICAgIHRoaXMubGlnaHRNYXJnaW4gPSBkYXRhLmxpZ2h0TWFyZ2luIHx8IDUwXG4gICAgdGhpcy5jdXN0b21TcGxpdHNDYWxsYmFjayA9IGRhdGEuY3VzdG9tU3BsaXRzQ2FsbGJhY2tcbiAgICB0aGlzLmZhZGUgPSB0cnVlXG4gICAgdGhpcy5tYWluRnJ1c3R1bSA9IG5ldyBGcnVzdHVtKClcbiAgICB0aGlzLmZydXN0dW1zID0gW11cbiAgICB0aGlzLmJyZWFrcyA9IFtdXG5cbiAgICB0aGlzLmxpZ2h0cyA9IFtdXG5cbiAgICB0aGlzLmNyZWF0ZUxpZ2h0cyhkYXRhLmxpZ2h0cylcbiAgICB0aGlzLnVwZGF0ZUZydXN0dW1zKClcbiAgICB0aGlzLmluamVjdEluY2x1ZGUoKVxuICB9XG5cbiAgY3JlYXRlTGlnaHRzKGxpZ2h0cz86IERpcmVjdGlvbmFsTGlnaHRbXSk6IHZvaWQge1xuICAgIC8vIFRPRE86IHN1cHBvcnQgbXVsdGlwbGUgbGlnaHRzIChyZXF1aXJlcyBzaGFkZXIgY2hhbmdlcylcblxuICAgIC8vIGZvciAoY29uc3Qgc291cmNlTGlnaHRJbmRleCBpbiBsaWdodHMpIHtcbiAgICBpZiAobGlnaHRzPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZUxpZ2h0SW5kZXggPSAwXG4gICAgICBjb25zdCBzb3VyY2VMaWdodCA9IGxpZ2h0c1tzb3VyY2VMaWdodEluZGV4XVxuICAgICAgdGhpcy5saWdodHNbc291cmNlTGlnaHRJbmRleF0gPSBbXVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FzY2FkZXM7IGkrKykge1xuICAgICAgICBjb25zdCBsaWdodCA9IHNvdXJjZUxpZ2h0LmNsb25lKClcbiAgICAgICAgbGlnaHQudGFyZ2V0ID0gc291cmNlTGlnaHQudGFyZ2V0LmNsb25lKClcbiAgICAgICAgbGlnaHQuY2FzdFNoYWRvdyA9IHRydWVcbiAgICAgICAgdGhpcy5wYXJlbnQuYWRkKGxpZ2h0LCBsaWdodC50YXJnZXQpXG4gICAgICAgIHRoaXMubGlnaHRzW3NvdXJjZUxpZ2h0SW5kZXhdLnB1c2gobGlnaHQpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiBubyBsaWdodHMgYXJlIHByb3ZpZGVkLCBjcmVhdGUgZGVmYXVsdCBvbmVzXG5cbiAgICB0aGlzLmxpZ2h0c1swXSA9IFtdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FzY2FkZXM7IGkrKykge1xuICAgICAgY29uc3QgbGlnaHQgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgdGhpcy5saWdodEludGVuc2l0eSlcblxuICAgICAgbGlnaHQuY2FzdFNoYWRvdyA9IHRydWVcbiAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gdGhpcy5zaGFkb3dNYXBTaXplXG4gICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSB0aGlzLnNoYWRvd01hcFNpemVcblxuICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gdGhpcy5saWdodE5lYXJcbiAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gdGhpcy5saWdodEZhclxuICAgICAgbGlnaHQuc2hhZG93LmJpYXMgPSB0aGlzLnNoYWRvd0JpYXNcblxuICAgICAgdGhpcy5wYXJlbnQuYWRkKGxpZ2h0LCBsaWdodC50YXJnZXQpXG4gICAgICB0aGlzLmxpZ2h0c1swXS5wdXNoKGxpZ2h0KVxuICAgIH1cbiAgfVxuXG4gIGluaXRDYXNjYWRlcygpOiB2b2lkIHtcbiAgICBjb25zdCBjYW1lcmEgPSB0aGlzLmNhbWVyYVxuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcbiAgICB0aGlzLm1haW5GcnVzdHVtLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4LCB0aGlzLm1heEZhcilcbiAgICB0aGlzLm1haW5GcnVzdHVtLnNwbGl0KHRoaXMuYnJlYWtzLCB0aGlzLmZydXN0dW1zKVxuICB9XG5cbiAgdXBkYXRlU2hhZG93Qm91bmRzKCk6IHZvaWQge1xuICAgIGNvbnN0IGZydXN0dW1zID0gdGhpcy5mcnVzdHVtc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJ1c3R1bXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAoY29uc3QgbGlnaHRzIG9mIHRoaXMubGlnaHRzKSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbGlnaHRzW2ldXG5cbiAgICAgICAgY29uc3Qgc2hhZG93Q2FtID0gbGlnaHQuc2hhZG93LmNhbWVyYVxuICAgICAgICBjb25zdCBmcnVzdHVtID0gdGhpcy5mcnVzdHVtc1tpXVxuXG4gICAgICAgIC8vIEdldCB0aGUgdHdvIHBvaW50cyB0aGF0IHJlcHJlc2VudCB0aGF0IGZ1cnRoZXN0IHBvaW50cyBvbiB0aGUgZnJ1c3R1bSBhc3N1bWluZ1xuICAgICAgICAvLyB0aGF0J3MgZWl0aGVyIHRoZSBkaWFnb25hbCBhY3Jvc3MgdGhlIGZhciBwbGFuZSBvciB0aGUgZGlhZ29uYWwgYWNyb3NzIHRoZSB3aG9sZVxuICAgICAgICAvLyBmcnVzdHVtIGl0c2VsZi5cbiAgICAgICAgY29uc3QgbmVhclZlcnRzID0gZnJ1c3R1bS52ZXJ0aWNlcy5uZWFyXG4gICAgICAgIGNvbnN0IGZhclZlcnRzID0gZnJ1c3R1bS52ZXJ0aWNlcy5mYXJcbiAgICAgICAgY29uc3QgcG9pbnQxID0gZmFyVmVydHNbMF1cbiAgICAgICAgbGV0IHBvaW50MlxuICAgICAgICBpZiAocG9pbnQxLmRpc3RhbmNlVG8oZmFyVmVydHNbMl0pID4gcG9pbnQxLmRpc3RhbmNlVG8obmVhclZlcnRzWzJdKSkge1xuICAgICAgICAgIHBvaW50MiA9IGZhclZlcnRzWzJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnQyID0gbmVhclZlcnRzWzJdXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3F1YXJlZEJCV2lkdGggPSBwb2ludDEuZGlzdGFuY2VUbyhwb2ludDIpXG4gICAgICAgIGlmICh0aGlzLmZhZGUpIHtcbiAgICAgICAgICAvLyBleHBhbmQgdGhlIHNoYWRvdyBleHRlbnRzIGJ5IHRoZSBmYWRlIG1hcmdpbiBpZiBmYWRlIGlzIGVuYWJsZWQuXG4gICAgICAgICAgY29uc3QgY2FtZXJhID0gdGhpcy5jYW1lcmFcbiAgICAgICAgICBjb25zdCBmYXIgPSBNYXRoLm1heChjYW1lcmEuZmFyLCB0aGlzLm1heEZhcilcbiAgICAgICAgICBjb25zdCBsaW5lYXJEZXB0aCA9IGZydXN0dW0udmVydGljZXMuZmFyWzBdLnogLyAoZmFyIC0gY2FtZXJhLm5lYXIpXG4gICAgICAgICAgY29uc3QgbWFyZ2luID0gMC4yNSAqIE1hdGgucG93KGxpbmVhckRlcHRoLCAyLjApICogKGZhciAtIGNhbWVyYS5uZWFyKVxuXG4gICAgICAgICAgc3F1YXJlZEJCV2lkdGggKz0gbWFyZ2luXG4gICAgICAgIH1cblxuICAgICAgICBzaGFkb3dDYW0ubGVmdCA9IC1zcXVhcmVkQkJXaWR0aCAvIDJcbiAgICAgICAgc2hhZG93Q2FtLnJpZ2h0ID0gc3F1YXJlZEJCV2lkdGggLyAyXG4gICAgICAgIHNoYWRvd0NhbS50b3AgPSBzcXVhcmVkQkJXaWR0aCAvIDJcbiAgICAgICAgc2hhZG93Q2FtLmJvdHRvbSA9IC1zcXVhcmVkQkJXaWR0aCAvIDJcbiAgICAgICAgc2hhZG93Q2FtLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldEJyZWFrcygpOiB2b2lkIHtcbiAgICBjb25zdCBjYW1lcmEgPSB0aGlzLmNhbWVyYVxuICAgIGNvbnN0IGZhciA9IE1hdGgubWluKGNhbWVyYS5mYXIsIHRoaXMubWF4RmFyKVxuICAgIHRoaXMuYnJlYWtzLmxlbmd0aCA9IDBcblxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIENTTU1vZGVzLlVOSUZPUk06XG4gICAgICAgIHVuaWZvcm1TcGxpdCh0aGlzLmNhc2NhZGVzLCBjYW1lcmEubmVhciwgZmFyLCB0aGlzLmJyZWFrcylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ1NNTW9kZXMuTE9HQVJJVEhNSUM6XG4gICAgICAgIGxvZ2FyaXRobWljU3BsaXQodGhpcy5jYXNjYWRlcywgY2FtZXJhLm5lYXIsIGZhciwgdGhpcy5icmVha3MpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIENTTU1vZGVzLlBSQUNUSUNBTDpcbiAgICAgICAgcHJhY3RpY2FsU3BsaXQodGhpcy5jYXNjYWRlcywgY2FtZXJhLm5lYXIsIGZhciwgMC41LCB0aGlzLmJyZWFrcylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgQ1NNTW9kZXMuQ1VTVE9NOlxuICAgICAgICBpZiAodGhpcy5jdXN0b21TcGxpdHNDYWxsYmFjayA9PT0gdW5kZWZpbmVkKSBjb25zb2xlLmVycm9yKCdDU006IEN1c3RvbSBzcGxpdCBzY2hlbWUgY2FsbGJhY2sgbm90IGRlZmluZWQuJylcbiAgICAgICAgdGhpcy5jdXN0b21TcGxpdHNDYWxsYmFjayEodGhpcy5jYXNjYWRlcywgY2FtZXJhLm5lYXIsIGZhciwgdGhpcy5icmVha3MpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5pZm9ybVNwbGl0KGFtb3VudDogbnVtYmVyLCBuZWFyOiBudW1iZXIsIGZhcjogbnVtYmVyLCB0YXJnZXQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgIHRhcmdldC5wdXNoKChuZWFyICsgKChmYXIgLSBuZWFyKSAqIGkpIC8gYW1vdW50KSAvIGZhcilcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0LnB1c2goMSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2dhcml0aG1pY1NwbGl0KGFtb3VudDogbnVtYmVyLCBuZWFyOiBudW1iZXIsIGZhcjogbnVtYmVyLCB0YXJnZXQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgIHRhcmdldC5wdXNoKChuZWFyICogKGZhciAvIG5lYXIpICoqIChpIC8gYW1vdW50KSkgLyBmYXIpXG4gICAgICB9XG5cbiAgICAgIHRhcmdldC5wdXNoKDEpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJhY3RpY2FsU3BsaXQoYW1vdW50OiBudW1iZXIsIG5lYXI6IG51bWJlciwgZmFyOiBudW1iZXIsIGxhbWJkYTogbnVtYmVyLCB0YXJnZXQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICBfdW5pZm9ybUFycmF5Lmxlbmd0aCA9IDBcbiAgICAgIF9sb2dBcnJheS5sZW5ndGggPSAwXG4gICAgICBsb2dhcml0aG1pY1NwbGl0KGFtb3VudCwgbmVhciwgZmFyLCBfbG9nQXJyYXkpXG4gICAgICB1bmlmb3JtU3BsaXQoYW1vdW50LCBuZWFyLCBmYXIsIF91bmlmb3JtQXJyYXkpXG5cbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgdGFyZ2V0LnB1c2goTWF0aFV0aWxzLmxlcnAoX3VuaWZvcm1BcnJheVtpIC0gMV0sIF9sb2dBcnJheVtpIC0gMV0sIGxhbWJkYSkpXG4gICAgICB9XG5cbiAgICAgIHRhcmdldC5wdXNoKDEpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IGNhbWVyYSA9IHRoaXMuY2FtZXJhXG4gICAgY29uc3QgZnJ1c3R1bXMgPSB0aGlzLmZydXN0dW1zXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcnVzdHVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChjb25zdCBsaWdodHMgb2YgdGhpcy5saWdodHMpIHtcbiAgICAgICAgY29uc3QgbGlnaHQgPSBsaWdodHNbaV1cbiAgICAgICAgY29uc3Qgc2hhZG93Q2FtID0gbGlnaHQuc2hhZG93LmNhbWVyYVxuXG4gICAgICAgIGNvbnN0IHRleGVsV2lkdGggPSAoc2hhZG93Q2FtLnJpZ2h0IC0gc2hhZG93Q2FtLmxlZnQpIC8gbGlnaHQuc2hhZG93Lm1hcFNpemUueFxuICAgICAgICBjb25zdCB0ZXhlbEhlaWdodCA9IChzaGFkb3dDYW0udG9wIC0gc2hhZG93Q2FtLmJvdHRvbSkgLyBsaWdodC5zaGFkb3cubWFwU2l6ZS55XG5cbiAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKVxuICAgICAgICBfY2FtZXJhVG9MaWdodE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGxpZ2h0LnNoYWRvdy5jYW1lcmEubWF0cml4V29ybGRJbnZlcnNlLCBjYW1lcmEubWF0cml4V29ybGQpXG4gICAgICAgIGZydXN0dW1zW2ldLnRvU3BhY2UoX2NhbWVyYVRvTGlnaHRNYXRyaXgsIF9saWdodFNwYWNlRnJ1c3R1bSlcblxuICAgICAgICBjb25zdCBuZWFyVmVydHMgPSBfbGlnaHRTcGFjZUZydXN0dW0udmVydGljZXMubmVhclxuICAgICAgICBjb25zdCBmYXJWZXJ0cyA9IF9saWdodFNwYWNlRnJ1c3R1bS52ZXJ0aWNlcy5mYXJcbiAgICAgICAgX2Jib3gubWFrZUVtcHR5KClcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcbiAgICAgICAgICBfYmJveC5leHBhbmRCeVBvaW50KG5lYXJWZXJ0c1tqXSlcbiAgICAgICAgICBfYmJveC5leHBhbmRCeVBvaW50KGZhclZlcnRzW2pdKVxuICAgICAgICB9XG5cbiAgICAgICAgX2Jib3guZ2V0Q2VudGVyKF9jZW50ZXIpXG4gICAgICAgIF9jZW50ZXIueiA9IF9iYm94Lm1heC56ICsgdGhpcy5saWdodE1hcmdpblxuICAgICAgICBfY2VudGVyLnggPSBNYXRoLmZsb29yKF9jZW50ZXIueCAvIHRleGVsV2lkdGgpICogdGV4ZWxXaWR0aFxuICAgICAgICBfY2VudGVyLnkgPSBNYXRoLmZsb29yKF9jZW50ZXIueSAvIHRleGVsSGVpZ2h0KSAqIHRleGVsSGVpZ2h0XG4gICAgICAgIF9jZW50ZXIuYXBwbHlNYXRyaXg0KGxpZ2h0LnNoYWRvdy5jYW1lcmEubWF0cml4V29ybGQpXG5cbiAgICAgICAgbGlnaHQucG9zaXRpb24uY29weShfY2VudGVyKVxuICAgICAgICBsaWdodC50YXJnZXQucG9zaXRpb24uY29weShfY2VudGVyKVxuXG4gICAgICAgIGxpZ2h0LnRhcmdldC5wb3NpdGlvbi54ICs9IHRoaXMubGlnaHREaXJlY3Rpb24ueFxuICAgICAgICBsaWdodC50YXJnZXQucG9zaXRpb24ueSArPSB0aGlzLmxpZ2h0RGlyZWN0aW9uLnlcbiAgICAgICAgbGlnaHQudGFyZ2V0LnBvc2l0aW9uLnogKz0gdGhpcy5saWdodERpcmVjdGlvbi56XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5qZWN0SW5jbHVkZSgpOiB2b2lkIHtcbiAgICBTaGFkZXJDaHVuay5saWdodHNfZnJhZ21lbnRfYmVnaW4gPSBTaGFkZXIubGlnaHRzX2ZyYWdtZW50X2JlZ2luXG4gICAgU2hhZGVyQ2h1bmsubGlnaHRzX3BhcnNfYmVnaW4gPSBTaGFkZXIubGlnaHRzX3BhcnNfYmVnaW5cbiAgfVxuXG4gIHNldHVwTWF0ZXJpYWwobWVzaDogTWVzaCk6IHZvaWQge1xuICAgIG1lc2gudXNlckRhdGEuX0NTTV9PTERfTUFURVJJQUwgPSBtZXNoLm1hdGVyaWFsXG4gICAgY29uc3QgbWF0ZXJpYWwgPSAobWVzaC5tYXRlcmlhbCBhcyBNYXRlcmlhbCkuY2xvbmUoKVxuICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbFxuICAgIG1hdGVyaWFsLmRlZmluZXMgPSBtYXRlcmlhbC5kZWZpbmVzIHx8IHt9XG4gICAgbWF0ZXJpYWwuZGVmaW5lcy5VU0VfQ1NNID0gMVxuICAgIG1hdGVyaWFsLmRlZmluZXMuQ1NNX0NBU0NBREVTID0gdGhpcy5jYXNjYWRlc1xuXG4gICAgaWYgKHRoaXMuZmFkZSkge1xuICAgICAgbWF0ZXJpYWwuZGVmaW5lcy5DU01fRkFERSA9ICcnXG4gICAgfVxuXG4gICAgY29uc3QgYnJlYWtzVmVjMiA9IFtdXG4gICAgY29uc3Qgc2hhZGVycyA9IHRoaXMuc2hhZGVyc1xuXG4gICAgbWF0ZXJpYWwub25CZWZvcmVDb21waWxlID0gKHNoYWRlcjogU2hhZGVyVHlwZSkgPT4ge1xuICAgICAgY29uc3QgZmFyID0gTWF0aC5taW4odGhpcy5jYW1lcmEuZmFyLCB0aGlzLm1heEZhcilcbiAgICAgIHRoaXMuZ2V0RXh0ZW5kZWRCcmVha3MoYnJlYWtzVmVjMilcblxuICAgICAgc2hhZGVyLnVuaWZvcm1zLkNTTV9jYXNjYWRlcyA9IHsgdmFsdWU6IGJyZWFrc1ZlYzIgfVxuICAgICAgc2hhZGVyLnVuaWZvcm1zLmNhbWVyYU5lYXIgPSB7IHZhbHVlOiB0aGlzLmNhbWVyYS5uZWFyIH1cbiAgICAgIHNoYWRlci51bmlmb3Jtcy5zaGFkb3dGYXIgPSB7IHZhbHVlOiBmYXIgfVxuXG4gICAgICBzaGFkZXJzLnNldChtYXRlcmlhbCwgc2hhZGVyKVxuICAgIH1cblxuICAgIHNoYWRlcnMuc2V0KG1hdGVyaWFsLCBudWxsISlcbiAgICB0aGlzLm1hdGVyaWFscy5zZXQobWVzaCwgbWF0ZXJpYWwpXG4gIH1cblxuICB1cGRhdGVVbmlmb3JtcygpOiB2b2lkIHtcbiAgICBjb25zdCBmYXIgPSBNYXRoLm1pbih0aGlzLmNhbWVyYS5mYXIsIHRoaXMubWF4RmFyKVxuICAgIGNvbnN0IHNoYWRlcnMgPSB0aGlzLnNoYWRlcnNcblxuICAgIHNoYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoc2hhZGVyOiBTaGFkZXJUeXBlLCBtYXRlcmlhbDogTWF0ZXJpYWwpIHtcbiAgICAgIGlmIChzaGFkZXIgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBzaGFkZXIudW5pZm9ybXNcbiAgICAgICAgdGhpcy5nZXRFeHRlbmRlZEJyZWFrcyh1bmlmb3Jtcy5DU01fY2FzY2FkZXMudmFsdWUpXG4gICAgICAgIHVuaWZvcm1zLmNhbWVyYU5lYXIudmFsdWUgPSB0aGlzLmNhbWVyYS5uZWFyXG4gICAgICAgIHVuaWZvcm1zLnNoYWRvd0Zhci52YWx1ZSA9IGZhclxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuZmFkZSAmJiAnQ1NNX0ZBREUnIGluIG1hdGVyaWFsLmRlZmluZXMhKSB7XG4gICAgICAgIGRlbGV0ZSBtYXRlcmlhbC5kZWZpbmVzLkNTTV9GQURFXG4gICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmZhZGUgJiYgISgnQ1NNX0ZBREUnIGluIG1hdGVyaWFsLmRlZmluZXMhKSkge1xuICAgICAgICBtYXRlcmlhbC5kZWZpbmVzIS5DU01fRkFERSA9ICcnXG4gICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgfVxuICAgIH0sIHRoaXMpXG4gIH1cblxuICBnZXRFeHRlbmRlZEJyZWFrcyh0YXJnZXQ6IFZlY3RvcjJbXSk6IHZvaWQge1xuICAgIHdoaWxlICh0YXJnZXQubGVuZ3RoIDwgdGhpcy5icmVha3MubGVuZ3RoKSB7XG4gICAgICB0YXJnZXQucHVzaChuZXcgVmVjdG9yMigpKVxuICAgIH1cblxuICAgIHRhcmdldC5sZW5ndGggPSB0aGlzLmJyZWFrcy5sZW5ndGhcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXNjYWRlczsgaSsrKSB7XG4gICAgICBjb25zdCBhbW91bnQgPSB0aGlzLmJyZWFrc1tpXVxuICAgICAgY29uc3QgcHJldiA9IHRoaXMuYnJlYWtzW2kgLSAxXSB8fCAwXG4gICAgICB0YXJnZXRbaV0ueCA9IHByZXZcbiAgICAgIHRhcmdldFtpXS55ID0gYW1vdW50XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlRnJ1c3R1bXMoKTogdm9pZCB7XG4gICAgdGhpcy5nZXRCcmVha3MoKVxuICAgIHRoaXMuaW5pdENhc2NhZGVzKClcbiAgICB0aGlzLnVwZGF0ZVNoYWRvd0JvdW5kcygpXG4gICAgdGhpcy51cGRhdGVVbmlmb3JtcygpXG4gIH1cblxuICByZW1vdmUoKTogdm9pZCB7XG4gICAgdGhpcy5saWdodHMuZm9yRWFjaCgobGlnaHQpID0+IHtcbiAgICAgIGxpZ2h0LmZvckVhY2goKGNhc2NhZGUpID0+IHtcbiAgICAgICAgY2FzY2FkZS5yZW1vdmVGcm9tUGFyZW50KClcbiAgICAgICAgY2FzY2FkZS50YXJnZXQucmVtb3ZlRnJvbVBhcmVudCgpXG4gICAgICAgIGNhc2NhZGUuZGlzcG9zZSgpXG4gICAgICB9KVxuICAgIH0pXG4gICAgdGhpcy5saWdodHMgPSBbXVxuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzaGFkZXJzID0gdGhpcy5zaGFkZXJzXG4gICAgc2hhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChzaGFkZXI6IFNoYWRlclR5cGUsIG1hdGVyaWFsOiBNYXRlcmlhbCkge1xuICAgICAgbWF0ZXJpYWwub25CZWZvcmVDb21waWxlID0gbnVsbCFcbiAgICAgIG1hdGVyaWFsLmRlZmluZXMhLlVTRV9DU00gPSBudWxsIVxuICAgICAgbWF0ZXJpYWwuZGVmaW5lcyEuQ1NNX0NBU0NBREVTID0gbnVsbCFcbiAgICAgIG1hdGVyaWFsLmRlZmluZXMhLkNTTV9GQURFID0gbnVsbCFcblxuICAgICAgaWYgKHNoYWRlciAhPT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgc2hhZGVyLnVuaWZvcm1zLkNTTV9jYXNjYWRlc1xuICAgICAgICBkZWxldGUgc2hhZGVyLnVuaWZvcm1zLmNhbWVyYU5lYXJcbiAgICAgICAgZGVsZXRlIHNoYWRlci51bmlmb3Jtcy5zaGFkb3dGYXJcbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgfSlcbiAgICBzaGFkZXJzLmNsZWFyKClcbiAgICB0aGlzLm1hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uIChtYXRlcmlhbDogTWF0ZXJpYWwsIG1lc2g6IE1lc2gpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsTWF0ZXJpYWwgPSBtZXNoLnVzZXJEYXRhLl9DU01fT0xEX01BVEVSSUFMXG4gICAgICBtZXNoLm1hdGVyaWFsID0gb3JpZ2luYWxNYXRlcmlhbFxuICAgICAgbWF0ZXJpYWwuZGlzcG9zZSgpXG4gICAgfSlcbiAgICB0aGlzLm1hdGVyaWFscy5jbGVhcigpXG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBXb3JrZXI7IiwiaW1wb3J0IHsgQm94MywgQnVmZmVyQXR0cmlidXRlLCBCdWZmZXJHZW9tZXRyeSwgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgfSBmcm9tICd0aHJlZSdcbi8vQHRzLWlnbm9yZVxuaW1wb3J0IHsgTWVzaEJWSCB9IGZyb20gJ3RocmVlLW1lc2gtYnZoJ1xuaW1wb3J0IHsgaXNDbGllbnQgfSBmcm9tICcuLi9mdW5jdGlvbnMvaXNDbGllbnQnXG5pbXBvcnQgV29ya2VyIGZyb20gJ3dlYi13b3JrZXInXG5cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZU1lc2hCVkhXb3JrZXIge1xuICBydW5uaW5nOiBib29sZWFuXG4gIHdvcmtlcjogV29ya2VyXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcblxuICAgIGlmIChpc0NsaWVudCkge1xuICAgICAgLy8gbW9kdWxlIHdvcmtlcnMgY3VycmVudGx5IGRvbid0IHdvcmsgaW4gc2FmYXJpIGFuZCBmaXJlZm94XG4gICAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXIoJy93b3JrZXJzL2dlbmVyYXRlQlZIQXN5bmMud29ya2VyLmpzJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2VydmVyV29ya2VyKClcbiAgICB9XG4gIH1cblxuICBhc3luYyBfc2VydmVyV29ya2VyKCkge1xuICAgIGNvbnN0IHBhdGggPSBhd2FpdCByZXF1aXJlKCdwYXRoJylcbiAgICBjb25zdCB3b3JrZXJQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vZ2VuZXJhdGVCVkhBc3luYy53b3JrZXIuanMnKVxuICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJQYXRoLCB7IHR5cGU6ICdtb2R1bGUnIH0pXG4gIH1cblxuICBnZW5lcmF0ZShnZW9tZXRyeTogQnVmZmVyR2VvbWV0cnksIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignR2VuZXJhdGVNZXNoQlZIV29ya2VyOiBBbHJlYWR5IHJ1bm5pbmcgam9iLicpXG4gICAgfVxuXG4gICAgY29uc3QgeyB3b3JrZXIgfSA9IHRoaXNcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlXG4gICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBudWxsXG4gICAgICAgIGNvbnN0IHsgc2VyaWFsaXplZCwgcG9zaXRpb24sIGVycm9yIH0gPSBlLmRhdGFcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNZXNoQlZIIHVzZXMgZ2VuZXJhdGVkIGluZGV4IGluc3RlYWQgb2YgZGVmYXVsdCBnZW9tZXRyeSBpbmRleFxuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KG5ldyBCdWZmZXJBdHRyaWJ1dGUoc2VyaWFsaXplZC5pbmRleCwgMSkpXG5cbiAgICAgICAgICBjb25zdCBidmggPSBNZXNoQlZILmRlc2VyaWFsaXplKHNlcmlhbGl6ZWQsIGdlb21ldHJ5LCBmYWxzZSlcbiAgICAgICAgICBjb25zdCBib3VuZHNPcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2V0Qm91bmRpbmdCb3g6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgaWYgKGJvdW5kc09wdGlvbnMuc2V0Qm91bmRpbmdCb3gpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmJvdW5kaW5nQm94ID0gYnZoLmdldEJvdW5kaW5nQm94KG5ldyBCb3gzKCkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZShidmgpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAoZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbiBhcyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSkuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSB8fFxuICAgICAgICAoZ2VvbWV0cnkuaW5kZXggJiYgKGdlb21ldHJ5LmluZGV4IGFzIGFueSBhcyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSkuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSlcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0dlbmVyYXRlTWVzaEJWSFdvcmtlcjogSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBnZW9tZXRyeSBhdHRyaWJ1dGVzLidcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpbmRleCA9IGdlb21ldHJ5LmluZGV4ID8gVWludDMyQXJyYXkuZnJvbShnZW9tZXRyeS5pbmRleC5hcnJheSkgOiBudWxsXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IEZsb2F0MzJBcnJheS5mcm9tKGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpXG5cbiAgICAgIGNvbnN0IHRyYW5zZmVycmFibGVzID0gW3Bvc2l0aW9uIGFzIEFycmF5TGlrZTxudW1iZXI+XVxuICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgIHRyYW5zZmVycmFibGVzLnB1c2goaW5kZXggYXMgQXJyYXlMaWtlPG51bWJlcj4pXG4gICAgICB9XG5cbiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNmZXJyYWJsZXMubWFwKChhcnI6IGFueSkgPT4gYXJyLmJ1ZmZlcilcbiAgICAgIClcbiAgICB9KVxuICB9XG5cbiAgdGVybWluYXRlKCkge1xuICAgIHRoaXMud29ya2VyLnRlcm1pbmF0ZSgpXG4gIH1cbn1cbiIsImltcG9ydCB7IE1lc2ggfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEdlbmVyYXRlTWVzaEJWSFdvcmtlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9jbGFzc2VzL0dlbmVyYXRlTWVzaEJWSFdvcmtlcidcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL2Z1bmN0aW9ucy9pc0NsaWVudCdcblxuLy9UT0RPOiBGaW5kIG51bWJlciBvZiBjb3JlcyBvbiBzZXJ2ZXIgc2lkZVxubGV0IHBvb2xTaXplID0gMlxuXG5pZiAoaXNDbGllbnQpIHtcbiAgcG9vbFNpemUgPSB3aW5kb3cubmF2aWdhdG9yPy5oYXJkd2FyZUNvbmN1cnJlbmN5IHx8IDJcbn1cblxubGV0IGJ2aFdvcmtlcnM6IEdlbmVyYXRlTWVzaEJWSFdvcmtlcltdID0gW11cbmxldCBtZXNoUXVldWU6IE1lc2hbXSA9IFtdXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1lc2hCVkgobWVzaCkge1xuICBpZiAoIW1lc2guaXNNZXNoKSByZXR1cm5cbiAgaWYgKCFidmhXb3JrZXJzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9vbFNpemU7IGkrKykge1xuICAgICAgYnZoV29ya2Vycy5wdXNoKG5ldyBHZW5lcmF0ZU1lc2hCVkhXb3JrZXIoKSlcbiAgICB9XG4gIH1cblxuICBtZXNoUXVldWUucHVzaChtZXNoKVxuXG4gIHJ1bkJWSEdlbmVyYXRvcigpXG59XG5cbmZ1bmN0aW9uIHJ1bkJWSEdlbmVyYXRvcigpIHtcbiAgZm9yIChsZXQgd29ya2VyIG9mIGJ2aFdvcmtlcnMpIHtcbiAgICBpZiAobWVzaFF1ZXVlLmxlbmd0aCA8IDEpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgaWYgKHdvcmtlci5ydW5uaW5nKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGNvbnN0IG1lc2ggPSBtZXNoUXVldWUuc2hpZnQoKSBhcyBNZXNoXG5cbiAgICB3b3JrZXIuZ2VuZXJhdGUobWVzaC5nZW9tZXRyeSkudGhlbigoYnZoKSA9PiB7XG4gICAgICA7KG1lc2guZ2VvbWV0cnkgYXMgYW55KS5ib3VuZHNUcmVlID0gYnZoXG4gICAgICBydW5CVkhHZW5lcmF0b3IoKVxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IE1hdGVyaWFsLCBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaFBob25nTWF0ZXJpYWwsIE1lc2hTdGFuZGFyZE1hdGVyaWFsLCBPYmplY3QzRCwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgQ2FtZXJhTGF5ZXJzIH0gZnJvbSAnLi4vLi4vY2FtZXJhL2NvbnN0YW50cy9DYW1lcmFMYXllcnMnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBkZWZpbmVRdWVyeSwgZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBiZWZvcmVNYXRlcmlhbENvbXBpbGUgfSBmcm9tICcuLi8uLi9zY2VuZS9jbGFzc2VzL0JQQ0VNU2hhZGVyJ1xuaW1wb3J0IHsgT2JqZWN0M0RDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL09iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgUGVyc2lzdFRhZ0NvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvUGVyc2lzdFRhZ0NvbXBvbmVudCdcbmltcG9ydCB7IFNoYWRvd0NvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2hhZG93Q29tcG9uZW50J1xuaW1wb3J0IHsgVmlzaWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVmlzaWJsZUNvbXBvbmVudCdcbmltcG9ydCB7IFVwZGF0YWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVXBkYXRhYmxlQ29tcG9uZW50J1xuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9VcGRhdGFibGUnXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1dvcmxkJ1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vLi4vZWNzL2NsYXNzZXMvU3lzdGVtJ1xuaW1wb3J0IHsgZ2VuZXJhdGVNZXNoQlZIIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2J2aFdvcmtlclBvb2wnXG5cbi8qKlxuICogQGF1dGhvciBKb3NoIEZpZWxkIDxnaXRodWIuY29tL0hleGFGaWVsZD5cbiAqL1xuXG4vLyBUT0RPOiByZWZhY3RvciB0aGlzIHRvIGJlIG5hbWVkIHNvbWV0aGluZyBtb3JlIGdlbmVyaWMgbGlrZSBPYmplY3RTeXN0ZW0sIGFkZCBvYmplY3Qtb2JqZWN0IGludGVyYWN0aW9ucyAocGh5c2ljcyAmIG5vbiBwaHlzaWNzKVxuLy8gR2FtZU1hbmFnZXJTeXN0ZW0gYWxyZWFkeSBoYXMgcGh5c2ljcyBpbnRlcmFjdGlvbiBiZWhhdmlvcnMsIHRoZXNlIGNvdWxkIGJlIG1hZGUgZ2VuZXJpYyBhbmQgbm90IGdhbWUgZGVwZW5kZW50XG5cbnR5cGUgQlBDRU1Qcm9wcyA9IHtcbiAgYmFrZVNjYWxlOiBWZWN0b3IzXG4gIGJha2VQb3NpdGlvbk9mZnNldDogVmVjdG9yM1xufVxuXG5leHBvcnQgY2xhc3MgU2NlbmVPcHRpb25zIHtcbiAgc3RhdGljIGluc3RhbmNlOiBTY2VuZU9wdGlvbnNcbiAgYnBjZW1PcHRpb25zOiBCUENFTVByb3BzID0ge1xuICAgIGJha2VTY2FsZTogbmV3IFZlY3RvcjMoMSwgMSwgMSksXG4gICAgYmFrZVBvc2l0aW9uT2Zmc2V0OiBuZXcgVmVjdG9yMygpXG4gIH1cbiAgZW52TWFwSW50ZW5zaXR5ID0gMVxuICBib3hQcm9qZWN0aW9uID0gZmFsc2Vcbn1cblxuY29uc3Qgc2NlbmVPYmplY3RRdWVyeSA9IGRlZmluZVF1ZXJ5KFtPYmplY3QzRENvbXBvbmVudF0pXG5jb25zdCBwZXJzaXN0UXVlcnkgPSBkZWZpbmVRdWVyeShbT2JqZWN0M0RDb21wb25lbnQsIFBlcnNpc3RUYWdDb21wb25lbnRdKVxuY29uc3QgdmlzaWJsZVF1ZXJ5ID0gZGVmaW5lUXVlcnkoW09iamVjdDNEQ29tcG9uZW50LCBWaXNpYmxlQ29tcG9uZW50XSlcbmNvbnN0IHVwZGF0YWJsZVF1ZXJ5ID0gZGVmaW5lUXVlcnkoW09iamVjdDNEQ29tcG9uZW50LCBVcGRhdGFibGVDb21wb25lbnRdKVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBTY2VuZU9iamVjdFN5c3RlbSh3b3JsZDogV29ybGQpOiBQcm9taXNlPFN5c3RlbT4ge1xuICBTY2VuZU9wdGlvbnMuaW5zdGFuY2UgPSBuZXcgU2NlbmVPcHRpb25zKClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHNjZW5lT2JqZWN0UXVlcnkuZW50ZXIoKSkge1xuICAgICAgY29uc3Qgb2JqZWN0M0RDb21wb25lbnQgPSBnZXRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudClcbiAgICAgIGNvbnN0IHNoYWRvd0NvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIFNoYWRvd0NvbXBvbmVudClcblxuICAgICAgOyhvYmplY3QzRENvbXBvbmVudC52YWx1ZSBhcyBhbnkpLmVudGl0eSA9IGVudGl0eVxuXG4gICAgICAvLyBBZGQgdG8gc2NlbmVcbiAgICAgIGlmICghRW5naW5lLnNjZW5lLmNoaWxkcmVuLmluY2x1ZGVzKG9iamVjdDNEQ29tcG9uZW50LnZhbHVlKSkge1xuICAgICAgICBFbmdpbmUuc2NlbmUuYWRkKG9iamVjdDNEQ29tcG9uZW50LnZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbT2JqZWN0M0RDb21wb25lbnRdOiBTY2VuZSBvYmplY3QgaGFzIGJlZW4gYWRkZWQgbWFudWFsbHkuJywgb2JqZWN0M0RDb21wb25lbnQudmFsdWUpXG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBkZWZhdWx0IGxheWVyXG4gICAgICBvYmplY3QzRENvbXBvbmVudC52YWx1ZS5sYXllcnMuc2V0KENhbWVyYUxheWVycy5TY2VuZSlcblxuICAgICAgLy8gQXBwbHkgbWF0ZXJpYWwgc3R1ZmZcbiAgICAgIG9iamVjdDNEQ29tcG9uZW50LnZhbHVlLnRyYXZlcnNlKChvYmo6IE1lc2gpID0+IHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBvYmoubWF0ZXJpYWwgYXMgTWF0ZXJpYWxcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRlcmlhbCAhPT0gJ3VuZGVmaW5lZCcpIG1hdGVyaWFsLmRpdGhlcmluZyA9IHRydWVcblxuICAgICAgICBpZiAoc2hhZG93Q29tcG9uZW50KSB7XG4gICAgICAgICAgb2JqLnJlY2VpdmVTaGFkb3cgPSBzaGFkb3dDb21wb25lbnQucmVjZWl2ZVNoYWRvd1xuICAgICAgICAgIG9iai5jYXN0U2hhZG93ID0gc2hhZG93Q29tcG9uZW50LmNhc3RTaGFkb3dcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChFbmdpbmUuc2ltcGxlTWF0ZXJpYWxzKSB7XG4gICAgICAgICAgLy8gfHwgRW5naW5lLmlzSE1EKSB7XG4gICAgICAgICAgaWYgKG9iai5tYXRlcmlhbCBpbnN0YW5jZW9mIE1lc2hTdGFuZGFyZE1hdGVyaWFsKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2TWF0ZXJpYWwgPSBvYmoubWF0ZXJpYWxcbiAgICAgICAgICAgIG9iai5tYXRlcmlhbCA9IG5ldyBNZXNoUGhvbmdNYXRlcmlhbCgpXG4gICAgICAgICAgICBNZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKG9iai5tYXRlcmlhbCwgcHJldk1hdGVyaWFsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG9iai5tYXRlcmlhbCBhcyBNYXRlcmlhbFxuICAgICAgICAgIGlmICh0eXBlb2YgbWF0ZXJpYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBCUENFTVxuICAgICAgICAgICAgaWYgKFNjZW5lT3B0aW9ucy5pbnN0YW5jZS5ib3hQcm9qZWN0aW9uKVxuICAgICAgICAgICAgICBtYXRlcmlhbC5vbkJlZm9yZUNvbXBpbGUgPSBiZWZvcmVNYXRlcmlhbENvbXBpbGUoXG4gICAgICAgICAgICAgICAgU2NlbmVPcHRpb25zLmluc3RhbmNlLmJwY2VtT3B0aW9ucy5iYWtlU2NhbGUsXG4gICAgICAgICAgICAgICAgU2NlbmVPcHRpb25zLmluc3RhbmNlLmJwY2VtT3B0aW9ucy5iYWtlUG9zaXRpb25PZmZzZXRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOyhtYXRlcmlhbCBhcyBhbnkpLmVudk1hcEludGVuc2l0eSA9IFNjZW5lT3B0aW9ucy5pbnN0YW5jZS5lbnZNYXBJbnRlbnNpdHlcbiAgICAgICAgICAgIGlmIChvYmoucmVjZWl2ZVNoYWRvdykge1xuICAgICAgICAgICAgICBFbmdpbmUuY3NtPy5zZXR1cE1hdGVyaWFsKG9iailcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIEdlbmVyYXRlIEJWSFxuICAgICAgb2JqZWN0M0RDb21wb25lbnQudmFsdWUudHJhdmVyc2UoZ2VuZXJhdGVNZXNoQlZIKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHNjZW5lT2JqZWN0UXVlcnkuZXhpdCgpKSB7XG4gICAgICBjb25zdCBvYmplY3QzRENvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIE9iamVjdDNEQ29tcG9uZW50KVxuXG4gICAgICAvLyBSZW1vdmUgZnJvbSBzY2VuZVxuICAgICAgaWYgKG9iamVjdDNEQ29tcG9uZW50ICYmIEVuZ2luZS5zY2VuZS5jaGlsZHJlbi5pbmNsdWRlcyhvYmplY3QzRENvbXBvbmVudC52YWx1ZSkpIHtcbiAgICAgICAgRW5naW5lLnNjZW5lLnJlbW92ZShvYmplY3QzRENvbXBvbmVudC52YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW09iamVjdDNEQ29tcG9uZW50XTogU2NlbmUgb2JqZWN0IGhhcyBiZWVuIHJlbW92ZWQgbWFudWFsbHkuJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbmFibGUgc2Vjb25kIGNhbWVyYSBsYXllciBmb3IgcGVyc2lzdGFudCBlbnRpdGllcyBmb3IgZnVuIHBvcnRhbCBlZmZlY3RzXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgcGVyc2lzdFF1ZXJ5LmVudGVyKCkpIHtcbiAgICAgIGNvbnN0IG9iamVjdDNEQ29tcG9uZW50ID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgT2JqZWN0M0RDb21wb25lbnQpXG4gICAgICBvYmplY3QzRENvbXBvbmVudD8udmFsdWU/LnRyYXZlcnNlKChvYmopID0+IHtcbiAgICAgICAgb2JqLmxheWVycy5lbmFibGUoQ2FtZXJhTGF5ZXJzLlBvcnRhbClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdmlzaWJsZVF1ZXJ5LmVudGVyKCkpIHtcbiAgICAgIGNvbnN0IG9iaiA9IGdldENvbXBvbmVudChlbnRpdHksIE9iamVjdDNEQ29tcG9uZW50KVxuICAgICAgY29uc3QgdmlzaWJsZUNvbXBvbmVudCA9IGdldENvbXBvbmVudChlbnRpdHksIFZpc2libGVDb21wb25lbnQpXG4gICAgICBvYmoudmFsdWUudmlzaWJsZSA9IHZpc2libGVDb21wb25lbnQudmFsdWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB1cGRhdGFibGVRdWVyeSgpKSB7XG4gICAgICBjb25zdCBvYmogPSBnZXRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudClcbiAgICAgIDsob2JqLnZhbHVlIGFzIHVua25vd24gYXMgVXBkYXRhYmxlKS51cGRhdGUod29ybGQuZml4ZWREZWx0YSlcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1hcHBlZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuXG5leHBvcnQgdHlwZSBGb2dDb21wb25lbnRUeXBlID0ge1xuICB0eXBlOiBzdHJpbmdcbiAgY29sb3I6IHN0cmluZ1xuICBkZW5zaXR5OiBudW1iZXJcbiAgbmVhcjogbnVtYmVyXG4gIGZhcjogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBGb2dDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQ8Rm9nQ29tcG9uZW50VHlwZT4oJ0ZvZ0NvbXBvbmVudCcpXG4iLCJpbXBvcnQge1xuICBBbWJpZW50TGlnaHQsXG4gIERpcmVjdGlvbmFsTGlnaHQsXG4gIEV1bGVyLFxuICBIZW1pc3BoZXJlTGlnaHQsXG4gIE1lc2gsXG4gIE9iamVjdDNELFxuICBQb2ludExpZ2h0LFxuICBRdWF0ZXJuaW9uLFxuICBTcG90TGlnaHQsXG4gIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBpc0NsaWVudCB9IGZyb20gJy4uLy4uL2NvbW1vbi9mdW5jdGlvbnMvaXNDbGllbnQnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBFbmdpbmVFdmVudHMgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmVFdmVudHMnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBhZGRDb21wb25lbnQsIGdldENvbXBvbmVudCwgcmVtb3ZlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0VudGl0eUZ1bmN0aW9ucydcbmltcG9ydCB7IEludGVyYWN0YWJsZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2ludGVyYWN0aW9uL2NvbXBvbmVudHMvSW50ZXJhY3RhYmxlQ29tcG9uZW50J1xuaW1wb3J0IHsgY3JlYXRlUGFydGljbGVFbWl0dGVyT2JqZWN0IH0gZnJvbSAnLi4vLi4vcGFydGljbGVzL2Z1bmN0aW9ucy9wYXJ0aWNsZUhlbHBlcnMnXG5pbXBvcnQgeyBDb2xsaWRlckNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9Db2xsaWRlckNvbXBvbmVudCdcbmltcG9ydCB7IENvbGxpc2lvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9Db2xsaXNpb25Db21wb25lbnQnXG5pbXBvcnQgeyBjcmVhdGVCb2R5LCBnZXRBbGxTaGFwZXNGcm9tT2JqZWN0M0QgfSBmcm9tICcuLi8uLi9waHlzaWNzL2Z1bmN0aW9ucy9jcmVhdGVDb2xsaWRlcidcbmltcG9ydCB7IEVuZ2luZVJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXIvV2ViR0xSZW5kZXJlclN5c3RlbSdcbmltcG9ydCB7IENvcHlUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vY29tcG9uZW50cy9Db3B5VHJhbnNmb3JtQ29tcG9uZW50J1xuaW1wb3J0IHsgVHJhbnNmb3JtQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL2NvbXBvbmVudHMvVHJhbnNmb3JtQ29tcG9uZW50J1xuaW1wb3J0IHsgQ2xvdWRzIH0gZnJvbSAnLi4vY2xhc3Nlcy9DbG91ZHMnXG5pbXBvcnQgSW1hZ2UgZnJvbSAnLi4vY2xhc3Nlcy9JbWFnZSdcbmltcG9ydCB7IEludGVyaW9yIH0gZnJvbSAnLi4vY2xhc3Nlcy9JbnRlcmlvcidcbmltcG9ydCB7IE9jZWFuIH0gZnJvbSAnLi4vY2xhc3Nlcy9PY2VhbidcbmltcG9ydCB7IFdhdGVyIH0gZnJvbSAnLi4vY2xhc3Nlcy9XYXRlcidcbmltcG9ydCB7IFBvc2l0aW9uYWxBdWRpb1NldHRpbmdzQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9BdWRpb1NldHRpbmdzQ29tcG9uZW50J1xuaW1wb3J0IHsgTmFtZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvTmFtZUNvbXBvbmVudCdcbmltcG9ydCB7IE9iamVjdDNEQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9PYmplY3QzRENvbXBvbmVudCdcbmltcG9ydCB7IFBlcnNpc3RUYWdDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1BlcnNpc3RUYWdDb21wb25lbnQnXG5pbXBvcnQgeyBTY2VuZVByZXZpZXdDYW1lcmFUYWdDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NjZW5lUHJldmlld0NhbWVyYSdcbmltcG9ydCB7IFNoYWRvd0NvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2hhZG93Q29tcG9uZW50J1xuaW1wb3J0IHsgU3Bhd25Qb2ludENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvU3Bhd25Qb2ludENvbXBvbmVudCdcbmltcG9ydCB7IFVwZGF0YWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVXBkYXRhYmxlQ29tcG9uZW50J1xuaW1wb3J0IHsgVXNlcmRhdGFDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJkYXRhQ29tcG9uZW50J1xuaW1wb3J0IHsgVmlzaWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvVmlzaWJsZUNvbXBvbmVudCdcbmltcG9ydCB7IFdhbGthYmxlVGFnQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9XYWxrYWJsZSdcbmltcG9ydCB7IGFkZE9iamVjdDNEQ29tcG9uZW50IH0gZnJvbSAnLi4vZnVuY3Rpb25zL2FkZE9iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgY3JlYXRlRGlyZWN0aW9uYWxMaWdodCB9IGZyb20gJy4uL2Z1bmN0aW9ucy9jcmVhdGVEaXJlY3Rpb25hbExpZ2h0J1xuaW1wb3J0IHsgY3JlYXRlR3JvdW5kIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2NyZWF0ZUdyb3VuZCdcbmltcG9ydCB7IGNyZWF0ZU1hcCB9IGZyb20gJy4uL2Z1bmN0aW9ucy9jcmVhdGVNYXAnXG5pbXBvcnQgeyBjcmVhdGVBdWRpbywgY3JlYXRlTWVkaWFTZXJ2ZXIsIGNyZWF0ZVZpZGVvLCBjcmVhdGVWb2x1bWV0cmljIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2NyZWF0ZU1lZGlhJ1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2NyZWF0ZVBvcnRhbCdcbmltcG9ydCB7IGNyZWF0ZVNreWJveCB9IGZyb20gJy4uL2Z1bmN0aW9ucy9jcmVhdGVTa3lib3gnXG5pbXBvcnQgeyBjcmVhdGVUcmlnZ2VyVm9sdW1lIH0gZnJvbSAnLi4vZnVuY3Rpb25zL2NyZWF0ZVRyaWdnZXJWb2x1bWUnXG5pbXBvcnQgeyBjb25maWd1cmVDU00sIGhhbmRsZVJlbmRlcmVyU2V0dGluZ3MgfSBmcm9tICcuLi9mdW5jdGlvbnMvaGFuZGxlUmVuZGVyZXJTZXR0aW5ncydcbmltcG9ydCB7IGxvYWRHTFRGTW9kZWwgfSBmcm9tICcuLi9mdW5jdGlvbnMvbG9hZEdMVEZNb2RlbCdcbmltcG9ydCB7IGxvYWRNb2RlbEFuaW1hdGlvbiB9IGZyb20gJy4uL2Z1bmN0aW9ucy9sb2FkTW9kZWxBbmltYXRpb24nXG5pbXBvcnQgeyBzZXRDYW1lcmFQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3NldENhbWVyYVByb3BlcnRpZXMnXG5pbXBvcnQgeyBzZXRFbnZNYXAgfSBmcm9tICcuLi9mdW5jdGlvbnMvc2V0RW52TWFwJ1xuaW1wb3J0IHsgc2V0Rm9nIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3NldEZvZydcbmltcG9ydCB7IEJveENvbGxpZGVyUHJvcHMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0JveENvbGxpZGVyUHJvcHMnXG5pbXBvcnQgeyBTY2VuZURhdGEgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1NjZW5lRGF0YSdcbmltcG9ydCB7IFNjZW5lRGF0YUNvbXBvbmVudCB9IGZyb20gJy4uL2ludGVyZmFjZXMvU2NlbmVEYXRhQ29tcG9uZW50J1xuaW1wb3J0IHsgTmV0d29ya1dvcmxkQWN0aW9uIH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9mdW5jdGlvbnMvTmV0d29ya1dvcmxkQWN0aW9uJ1xuaW1wb3J0IHsgdXNlV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL1N5c3RlbUhvb2tzJ1xuaW1wb3J0IHsgbWF0Y2hBY3Rpb25PbmNlIH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9mdW5jdGlvbnMvbWF0Y2hBY3Rpb25PbmNlJ1xuXG5leHBvcnQgZW51bSBTQ0VORV9BU1NFVF9UWVBFUyB7XG4gIEVOVk1BUFxufVxuXG5leHBvcnQgdHlwZSBTY2VuZVByb3BlcnR5VHlwZSA9IHtcbiAgZGlyZWN0aW9uYWxMaWdodHM6IERpcmVjdGlvbmFsTGlnaHRbXVxuICBpc0NTTUVuYWJsZWQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIFdvcmxkU2NlbmUge1xuICBsb2FkZWRNb2RlbHMgPSAwXG4gIGxvYWRlcnM6IFByb21pc2U8dm9pZD5bXSA9IFtdXG4gIHN0YXRpYyBjYWxsYmFja3M6IGFueVxuICBzdGF0aWMgaXNMb2FkaW5nID0gZmFsc2VcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9uUHJvZ3Jlc3M/OiBGdW5jdGlvbikge31cblxuICBsb2FkU2NlbmUgPSAoc2NlbmU6IFNjZW5lRGF0YSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIFdvcmxkU2NlbmUuY2FsbGJhY2tzID0ge31cbiAgICBXb3JsZFNjZW5lLmlzTG9hZGluZyA9IHRydWVcblxuICAgIC8vIHJlc2V0IHJlbmRlcmVyIHNldHRpbmdzIGZvciBpZiB3ZSBhcmUgdGVsZXBvcnRpbmcgYW5kIHRoZSBuZXcgc2NlbmUgZG9lcyBub3QgaGF2ZSBhbiBvdmVycmlkZVxuICAgIGNvbmZpZ3VyZUNTTShudWxsISwgdHJ1ZSlcbiAgICBoYW5kbGVSZW5kZXJlclNldHRpbmdzKG51bGwhLCB0cnVlKVxuXG4gICAgY29uc3Qgc2NlbmVQcm9wZXJ0eTogU2NlbmVQcm9wZXJ0eVR5cGUgPSB7XG4gICAgICBkaXJlY3Rpb25hbExpZ2h0czogW10sXG4gICAgICBpc0NTTUVuYWJsZWQ6IHRydWVcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhzY2VuZS5lbnRpdGllcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBzY2VuZUVudGl0eSA9IHNjZW5lLmVudGl0aWVzW2tleV1cbiAgICAgIGNvbnN0IGVudGl0eSA9IGNyZWF0ZUVudGl0eSgpXG5cbiAgICAgIGFkZENvbXBvbmVudChlbnRpdHksIE5hbWVDb21wb25lbnQsIHsgbmFtZTogc2NlbmVFbnRpdHkubmFtZSB9KVxuXG4gICAgICBzY2VuZUVudGl0eS5jb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xuICAgICAgICBjb21wb25lbnQuZGF0YS5zY2VuZUVudGl0eUlkID0gc2NlbmVFbnRpdHkuZW50aXR5SWRcbiAgICAgICAgdGhpcy5sb2FkQ29tcG9uZW50KGVudGl0eSwgY29tcG9uZW50LCBzY2VuZVByb3BlcnR5KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMubG9hZGVycylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgV29ybGRTY2VuZS5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICBFbmdpbmUuc2NlbmVMb2FkZWQgPSB0cnVlXG5cbiAgICAgICAgY29uZmlndXJlQ1NNKHNjZW5lUHJvcGVydHkuZGlyZWN0aW9uYWxMaWdodHMsICFzY2VuZVByb3BlcnR5LmlzQ1NNRW5hYmxlZClcblxuICAgICAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IEVuZ2luZUV2ZW50cy5FVkVOVFMuU0NFTkVfTE9BREVEIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2hpbGUgbG9hZGluZyB0aGUgc2NlbmUgZW50aXRpZXMgPT4nLCBlcnIpXG4gICAgICB9KVxuICB9XG5cbiAgX29uTW9kZWxMb2FkZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2FkZWRNb2RlbHMrK1xuICAgIGlmICh0eXBlb2YgdGhpcy5vblByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uUHJvZ3Jlc3ModGhpcy5sb2FkZXJzLmxlbmd0aCAtIHRoaXMubG9hZGVkTW9kZWxzKVxuICB9XG5cbiAgc3RhdGljIHB1c2hBc3NldFR5cGVMb2FkQ2FsbGJhY2sgPSAoYXNzZXRUeXBlOiBTQ0VORV9BU1NFVF9UWVBFUywgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgICBpZiAoIVdvcmxkU2NlbmUuY2FsbGJhY2tzW2Fzc2V0VHlwZV0pIFdvcmxkU2NlbmUuY2FsbGJhY2tzW2Fzc2V0VHlwZV0gPSBbXVxuICAgIFdvcmxkU2NlbmUuY2FsbGJhY2tzW2Fzc2V0VHlwZV0ucHVzaChjYWxsYmFjaylcbiAgfVxuXG4gIHN0YXRpYyBleGVjdXRlQXNzZXRUeXBlTG9hZENhbGxiYWNrID0gKGFzc2V0VHlwZTogU0NFTkVfQVNTRVRfVFlQRVMsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCA9PiB7XG4gICAgV29ybGRTY2VuZS5jYWxsYmFja3NbYXNzZXRUeXBlXT8uZm9yRWFjaCgoY2IpID0+IHtcbiAgICAgIGNiKC4uLmFyZ3MpXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRDb21wb25lbnQgPSAoZW50aXR5OiBFbnRpdHksIGNvbXBvbmVudDogU2NlbmVEYXRhQ29tcG9uZW50LCBzY2VuZVByb3BlcnR5OiBTY2VuZVByb3BlcnR5VHlwZSk6IHZvaWQgPT4ge1xuICAgIC8vIHJlbW92ZSAnLTEnLCAnLTInIGV0YyBzdWZmaXhlc1xuICAgIGNvbnN0IG5hbWUgPSBjb21wb25lbnQubmFtZS5yZXBsYWNlKC8oLVxcZCspfChcXHMpL2csICcnKVxuICAgIGNvbnN0IHdvcmxkID0gdXNlV29ybGQoKVxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnbXRkYXRhJzpcbiAgICAgICAgLy9pZiAoaXNDbGllbnQgJiYgRW5naW5lLmlzQm90KSB7XG4gICAgICAgIGNvbnN0IHsgbWV0YV9kYXRhIH0gPSBjb21wb25lbnQuZGF0YVxuXG4gICAgICAgIHdvcmxkLnNjZW5lTWV0YWRhdGEgPSBtZXRhX2RhdGFcbiAgICAgICAgY29uc29sZS5sb2coJ3NjZW5lX21ldGFkYXRhfCcgKyBtZXRhX2RhdGEpXG4gICAgICAgIC8vfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdfbWV0YWRhdGEnOlxuICAgICAgICB7XG4gICAgICAgICAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgT2JqZWN0M0QoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgICAgYWRkQ29tcG9uZW50KGVudGl0eSwgSW50ZXJhY3RhYmxlQ29tcG9uZW50LCB7IGRhdGE6IHsgYWN0aW9uOiAnX21ldGFkYXRhJyB9IH0pXG4gICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgVHJhbnNmb3JtQ29tcG9uZW50KVxuXG4gICAgICAgICAgLy8gaWYgKGlzQ2xpZW50ICYmIEVuZ2luZS5pc0JvdCkge1xuICAgICAgICAgIGNvbnN0IHsgX2RhdGEgfSA9IGNvbXBvbmVudC5kYXRhXG4gICAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB0cmFuc2Zvcm0ucG9zaXRpb25cbiAgICAgICAgICB3b3JsZC53b3JsZE1ldGFkYXRhW19kYXRhXSA9IHggKyAnLCcgKyB5ICsgJywnICsgelxuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXRhZGF0YXwnICsgeCArICcsJyArIHkgKyAnLCcgKyB6ICsgJ3wnICsgX2RhdGEpXG4gICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3VzZXJkYXRhJzpcbiAgICAgICAgYWRkQ29tcG9uZW50KGVudGl0eSwgVXNlcmRhdGFDb21wb25lbnQsIHsgZGF0YTogY29tcG9uZW50LmRhdGEgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYW1iaWVudC1saWdodCc6XG4gICAgICAgIGFkZE9iamVjdDNEQ29tcG9uZW50KGVudGl0eSwgbmV3IEFtYmllbnRMaWdodCgpLCBjb21wb25lbnQuZGF0YSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnZGlyZWN0aW9uYWwtbGlnaHQnOlxuICAgICAgICBjcmVhdGVEaXJlY3Rpb25hbExpZ2h0KGVudGl0eSwgY29tcG9uZW50LCBzY2VuZVByb3BlcnR5KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdoZW1pc3BoZXJlLWxpZ2h0JzpcbiAgICAgICAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgSGVtaXNwaGVyZUxpZ2h0KCksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdwb2ludC1saWdodCc6XG4gICAgICAgIGFkZE9iamVjdDNEQ29tcG9uZW50KGVudGl0eSwgbmV3IFBvaW50TGlnaHQoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2NvbGxpZGFibGUnOlxuICAgICAgICAvLyBjb25zb2xlLndhcm4oXCInQ29sbGlkYWJsZScgaXMgbm90IGltcGxlbWVudGVkXCIpO1xuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdmbG9vci1wbGFuJzpcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnc2ltcGxlLW1hdGVyaWFscyc6XG4gICAgICAgIEVuZ2luZS5zaW1wbGVNYXRlcmlhbHMgPSBjb21wb25lbnQuZGF0YS5zaW1wbGVNYXRlcmlhbHNcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnZ2x0Zi1tb2RlbCc6XG4gICAgICAgIGxvYWRHTFRGTW9kZWwodGhpcywgZW50aXR5LCBjb21wb25lbnQsIHNjZW5lUHJvcGVydHkpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2xvb3AtYW5pbWF0aW9uJzpcbiAgICAgICAgbG9hZE1vZGVsQW5pbWF0aW9uKGVudGl0eSwgY29tcG9uZW50KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdpbnRlcmFjdCc6XG4gICAgICAgIGlmIChjb21wb25lbnQuZGF0YS5pbnRlcmFjdGFibGUpIGFkZENvbXBvbmVudChlbnRpdHksIEludGVyYWN0YWJsZUNvbXBvbmVudCwgeyBkYXRhOiBjb21wb25lbnQuZGF0YSB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdncm91bmQtcGxhbmUnOlxuICAgICAgICBjcmVhdGVHcm91bmQoZW50aXR5LCBjb21wb25lbnQuZGF0YSwgaXNDbGllbnQpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgSW1hZ2UoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgLy8gaWYgbGl2ZXN0cmVhbSwgc2VydmVyIHdpbGwgc2VuZCB0aGUgdmlkZW8gaW5mbyB0byB0aGUgY2xpZW50XG4gICAgICAgIGlmIChpc0NsaWVudCkge1xuICAgICAgICAgIC8vIGlmKCFjb21wb25lbnQuZGF0YS5pc0xpdmVzdHJlYW0pIHtcbiAgICAgICAgICBjcmVhdGVWaWRlbyhlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgICAvLyBhZGRDb21wb25lbnQoZW50aXR5LCBMaXZlc3RyZWFtQ29tcG9uZW50KVxuICAgICAgICAgIC8vIH0gZWxzZSBpZihjb21wb25lbnQuZGF0YS5pc0xpdmVzdHJlYW0pIHtcbiAgICAgICAgICAvLyBAdG9kb1xuICAgICAgICAgIC8vIGFkZENvbXBvbmVudChlbnRpdHksIExpdmVzdHJlYW1Qcm94eUNvbXBvbmVudCwgeyBzcmM6IGNvbXBvbmVudC5kYXRhLnNyYyB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyZWF0ZU1lZGlhU2VydmVyKGVudGl0eSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnbWFwJzpcbiAgICAgICAgaWYgKGlzQ2xpZW50KSB0aGlzLmxvYWRlcnMucHVzaChjcmVhdGVNYXAoZW50aXR5LCBjb21wb25lbnQuZGF0YSkpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgaWYgKGlzQ2xpZW50KSBjcmVhdGVBdWRpbyhlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBlbHNlIGNyZWF0ZU1lZGlhU2VydmVyKGVudGl0eSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3ZvbHVtZXRyaWMnOlxuICAgICAgICBpZiAoaXNDbGllbnQpIGNyZWF0ZVZvbHVtZXRyaWMoZW50aXR5LCBjb21wb25lbnQuZGF0YSlcbiAgICAgICAgZWxzZSBjcmVhdGVNZWRpYVNlcnZlcihlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdzcG90LWxpZ2h0JzpcbiAgICAgICAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgU3BvdExpZ2h0KCksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICd0cmFuc2Zvcm0nOlxuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUgfSA9IGNvbXBvbmVudC5kYXRhXG4gICAgICAgIGFkZENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudCwge1xuICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KSxcbiAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoXG4gICAgICAgICAgICBuZXcgRXVsZXIoKS5zZXRGcm9tVmVjdG9yMyhuZXcgVmVjdG9yMyhyb3RhdGlvbi54LCByb3RhdGlvbi55LCByb3RhdGlvbi56KSwgJ1hZWicpXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoc2NhbGUueCwgc2NhbGUueSwgc2NhbGUueilcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnZm9nJzpcbiAgICAgICAgc2V0Rm9nKGVudGl0eSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3NreWJveCc6XG4gICAgICAgIGNyZWF0ZVNreWJveChlbnRpdHksIGNvbXBvbmVudC5kYXRhIGFzIGFueSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYXVkaW8tc2V0dGluZ3MnOlxuICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBQb3NpdGlvbmFsQXVkaW9TZXR0aW5nc0NvbXBvbmVudCwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3JlbmRlcmVyLXNldHRpbmdzJzpcbiAgICAgICAgaGFuZGxlUmVuZGVyZXJTZXR0aW5ncyhjb21wb25lbnQuZGF0YSlcbiAgICAgICAgc2NlbmVQcm9wZXJ0eS5pc0NTTUVuYWJsZWQgPSBjb21wb25lbnQuZGF0YS5jc21cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnc3Bhd24tcG9pbnQnOlxuICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBTcGF3blBvaW50Q29tcG9uZW50LCB7fSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnc2NlbmUtcHJldmlldy1jYW1lcmEnOlxuICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBTY2VuZVByZXZpZXdDYW1lcmFUYWdDb21wb25lbnQsIHt9KVxuICAgICAgICBpZiAoaXNDbGllbnQgJiYgRW5naW5lLmFjdGl2ZUNhbWVyYUVudGl0eSkge1xuICAgICAgICAgIGFkZENvbXBvbmVudChFbmdpbmUuYWN0aXZlQ2FtZXJhRW50aXR5LCBDb3B5VHJhbnNmb3JtQ29tcG9uZW50LCB7IGlucHV0OiBlbnRpdHkgfSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdzaGFkb3cnOlxuICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBTaGFkb3dDb21wb25lbnQsIHtcbiAgICAgICAgICBjYXN0U2hhZG93OiBjb21wb25lbnQuZGF0YS5jYXN0LFxuICAgICAgICAgIHJlY2VpdmVTaGFkb3c6IGNvbXBvbmVudC5kYXRhLnJlY2VpdmVcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnY29sbGlkZXInOiB7XG4gICAgICAgIGNvbnN0IG9iamVjdDNkID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgT2JqZWN0M0RDb21wb25lbnQpXG4gICAgICAgIGlmIChvYmplY3QzZCkge1xuICAgICAgICAgIGNvbnN0IHNoYXBlcyA9IGdldEFsbFNoYXBlc0Zyb21PYmplY3QzRChlbnRpdHksIG9iamVjdDNkLnZhbHVlIGFzIGFueSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgICAgY29uc3QgYm9keSA9IGNyZWF0ZUJvZHkoZW50aXR5LCBjb21wb25lbnQuZGF0YSwgc2hhcGVzKVxuICAgICAgICAgIGFkZENvbXBvbmVudChlbnRpdHksIENvbGxpZGVyQ29tcG9uZW50LCB7IGJvZHkgfSlcbiAgICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBDb2xsaXNpb25Db21wb25lbnQsIHsgY29sbGlzaW9uczogW10gfSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBjYXNlICdib3gtY29sbGlkZXInOiB7XG4gICAgICAgIGNvbnN0IGJveENvbGxpZGVyUHJvcHM6IEJveENvbGxpZGVyUHJvcHMgPSBjb21wb25lbnQuZGF0YVxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBnZXRDb21wb25lbnQoZW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG5cbiAgICAgICAgY29uc3Qgc2hhcGUgPSB3b3JsZC5waHlzaWNzLmNyZWF0ZVNoYXBlKFxuICAgICAgICAgIG5ldyBQaHlzWC5QeEJveEdlb21ldHJ5KHRyYW5zZm9ybS5zY2FsZS54LCB0cmFuc2Zvcm0uc2NhbGUueSwgdHJhbnNmb3JtLnNjYWxlLnopLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBib3hDb2xsaWRlclByb3BzIGFzIGFueVxuICAgICAgICApXG5cbiAgICAgICAgY29uc3QgYm9keSA9IGNyZWF0ZUJvZHkoZW50aXR5LCB7IGJvZHlUeXBlOiAwIH0sIFtzaGFwZV0pXG4gICAgICAgIGFkZENvbXBvbmVudChlbnRpdHksIENvbGxpZGVyQ29tcG9uZW50LCB7IGJvZHkgfSlcbiAgICAgICAgYWRkQ29tcG9uZW50KGVudGl0eSwgQ29sbGlzaW9uQ29tcG9uZW50LCB7IGNvbGxpc2lvbnM6IFtdIH0pXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGJveENvbGxpZGVyUHJvcHMucmVtb3ZlTWVzaCA9PT0gJ3RydWUnIHx8XG4gICAgICAgICAgKHR5cGVvZiBib3hDb2xsaWRlclByb3BzLnJlbW92ZU1lc2ggPT09ICdib29sZWFuJyAmJiBib3hDb2xsaWRlclByb3BzLnJlbW92ZU1lc2ggPT09IHRydWUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG9iaiA9IGdldENvbXBvbmVudChlbnRpdHksIE9iamVjdDNEQ29tcG9uZW50KVxuICAgICAgICAgIGlmIChvYmo/LnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAob2JqLnZhbHVlLnBhcmVudCkgb2JqLnZhbHVlLnJlbW92ZUZyb21QYXJlbnQoKVxuICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50KGVudGl0eSwgT2JqZWN0M0RDb21wb25lbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3RyaWdnZXItdm9sdW1lJzpcbiAgICAgICAgY3JlYXRlVHJpZ2dlclZvbHVtZShlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdsaW5rJzpcbiAgICAgICAgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgT2JqZWN0M0QoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGFkZENvbXBvbmVudChlbnRpdHksIEludGVyYWN0YWJsZUNvbXBvbmVudCwgeyBkYXRhOiB7IGFjdGlvbjogJ2xpbmsnIH0gfSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncGFydGljbGUtZW1pdHRlcic6XG4gICAgICAgIGNyZWF0ZVBhcnRpY2xlRW1pdHRlck9iamVjdChlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdjbG91ZHMnOlxuICAgICAgICBpc0NsaWVudCAmJiBhZGRPYmplY3QzRENvbXBvbmVudChlbnRpdHksIG5ldyBDbG91ZHMoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGlzQ2xpZW50ICYmIGFkZENvbXBvbmVudChlbnRpdHksIFVwZGF0YWJsZUNvbXBvbmVudCwge30pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ29jZWFuJzpcbiAgICAgICAgaXNDbGllbnQgJiYgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgT2NlYW4oKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGlzQ2xpZW50ICYmIGFkZENvbXBvbmVudChlbnRpdHksIFVwZGF0YWJsZUNvbXBvbmVudCwge30pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3dhdGVyJzpcbiAgICAgICAgaXNDbGllbnQgJiYgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgV2F0ZXIoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGlzQ2xpZW50ICYmIGFkZENvbXBvbmVudChlbnRpdHksIFVwZGF0YWJsZUNvbXBvbmVudCwge30pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2ludGVyaW9yJzpcbiAgICAgICAgaXNDbGllbnQgJiYgYWRkT2JqZWN0M0RDb21wb25lbnQoZW50aXR5LCBuZXcgSW50ZXJpb3IoKSwgY29tcG9uZW50LmRhdGEpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3Bvc3Rwcm9jZXNzaW5nJzpcbiAgICAgICAgRW5naW5lUmVuZGVyZXIuaW5zdGFuY2U/LmNvbmZpZ3VyZVBvc3RQcm9jZXNzaW5nKGNvbXBvbmVudC5kYXRhLm9wdGlvbnMpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2NhbWVyYXByb3BlcnRpZXMnOlxuICAgICAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgICAgICBtYXRjaEFjdGlvbk9uY2UoTmV0d29ya1dvcmxkQWN0aW9uLnNwYXduQXZhdGFyLm1hdGNoZXMsIChzcGF3bkFjdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKHNwYXduQWN0aW9uLnVzZXJJZCA9PT0gRW5naW5lLnVzZXJJZCkge1xuICAgICAgICAgICAgICBzZXRDYW1lcmFQcm9wZXJ0aWVzKEVuZ2luZS5kZWZhdWx0V29ybGQubG9jYWxDbGllbnRFbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdlbnZtYXAnOlxuICAgICAgICBzZXRFbnZNYXAoZW50aXR5LCBjb21wb25lbnQuZGF0YSlcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAncGVyc2lzdCc6XG4gICAgICAgIGlmIChpc0NsaWVudCkgYWRkQ29tcG9uZW50KGVudGl0eSwgUGVyc2lzdFRhZ0NvbXBvbmVudCwge30pXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3BvcnRhbCc6XG4gICAgICAgIGNyZWF0ZVBvcnRhbChlbnRpdHksIGNvbXBvbmVudC5kYXRhKVxuICAgICAgICBicmVha1xuXG4gICAgICAvKiBpbnRlbnRpb25hbGx5IGVtcHR5IC0gdGhlc2UgYXJlIG9ubHkgZm9yIHRoZSBlZGl0b3IgKi9cbiAgICAgIGNhc2UgJ2luY2x1ZGVJbkN1YmVtYXBCYWtlJzpcbiAgICAgIGNhc2UgJ2N1YmVtYXBiYWtlJzpcbiAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGNhc2UgJ3JlYWxpdHlwYWNrJzogLy8gbG9hZGVkIHByaW9yIHRvIGVuZ2luZSBpbml0XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ3Zpc2libGUnOlxuICAgICAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgICAgICBhZGRDb21wb25lbnQoZW50aXR5LCBWaXNpYmxlQ29tcG9uZW50LCB7IHZhbHVlOiBjb21wb25lbnQuZGF0YS52aXNpYmxlIH0pXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgLyogZGVwcmVjYXRlZCAqL1xuICAgICAgY2FzZSAnbWVzaC1jb2xsaWRlcic6XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJDb3VsZG4ndCBsb2FkIENvbXBvbmVudFwiLCBuYW1lKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBsb2FkID0gKHNjZW5lOiBTY2VuZURhdGEsIG9uUHJvZ3Jlc3M/OiBGdW5jdGlvbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IHdvcmxkID0gbmV3IFdvcmxkU2NlbmUob25Qcm9ncmVzcylcbiAgICByZXR1cm4gd29ybGQubG9hZFNjZW5lKHNjZW5lKVxuICB9XG59XG4iLCIvKiogRnVuY3Rpb25zIHRvIHByb3ZpZGUgc3lzdGVtIGxldmVsIGZ1bmN0aW9uYWxpdGllcy4gKi9cblxuaW1wb3J0IHsgU3lzdGVtVXBkYXRlVHlwZSB9IGZyb20gJy4uL2Z1bmN0aW9ucy9TeXN0ZW1VcGRhdGVUeXBlJ1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi4vY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi9jbGFzc2VzL1N5c3RlbSdcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi4vY2xhc3Nlcy9Xb3JsZCdcblxuZXhwb3J0IHR5cGUgQ3JlYXRlU3lzdGVtRnVuY3Rpb25UeXBlPEEgZXh0ZW5kcyBhbnk+ID0gKHdvcmxkOiBXb3JsZCwgcHJvcHM/OiBBKSA9PiBQcm9taXNlPFN5c3RlbT5cbmV4cG9ydCB0eXBlIFN5c3RlbU1vZHVsZTxBIGV4dGVuZHMgYW55PiA9IHsgZGVmYXVsdDogQ3JlYXRlU3lzdGVtRnVuY3Rpb25UeXBlPEE+IH1cbmV4cG9ydCB0eXBlIFN5c3RlbU1vZHVsZVByb21pc2U8QSBleHRlbmRzIGFueT4gPSBQcm9taXNlPFN5c3RlbU1vZHVsZTxBPj5cblxuZXhwb3J0IHR5cGUgU3lzdGVtTW9kdWxlVHlwZTxBPiA9IHtcbiAgc3lzdGVtTW9kdWxlUHJvbWlzZTogU3lzdGVtTW9kdWxlUHJvbWlzZTxBPlxuICB0eXBlOiBTeXN0ZW1VcGRhdGVUeXBlXG4gIGFyZ3M/OiBBXG59XG5cbmV4cG9ydCB0eXBlIFN5c3RlbUZhY3RvcnlUeXBlPEE+ID0ge1xuICBzeXN0ZW1Nb2R1bGU6IFN5c3RlbU1vZHVsZTxBPlxuICB0eXBlOiBTeXN0ZW1VcGRhdGVUeXBlXG4gIGFyZ3M/OiBBXG59XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclN5c3RlbSA9ICh0eXBlOiBTeXN0ZW1VcGRhdGVUeXBlLCBzeXN0ZW1Nb2R1bGVQcm9taXNlOiBTeXN0ZW1Nb2R1bGVQcm9taXNlPHZvaWQ+KSA9PiB7XG4gIEVuZ2luZS5kZWZhdWx0V29ybGQuX3BpcGVsaW5lLnB1c2goeyB0eXBlLCBzeXN0ZW1Nb2R1bGVQcm9taXNlLCBhcmdzOiB1bmRlZmluZWQgfSkgLy8geWVzIHVuZGVmaW5lZCwgVjguLi5cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU3lzdGVtV2l0aEFyZ3MgPSA8QT4oXG4gIHR5cGU6IFN5c3RlbVVwZGF0ZVR5cGUsXG4gIHN5c3RlbU1vZHVsZVByb21pc2U6IFN5c3RlbU1vZHVsZVByb21pc2U8QT4sXG4gIGFyZ3M6IEFcbikgPT4ge1xuICBFbmdpbmUuZGVmYXVsdFdvcmxkLl9waXBlbGluZS5wdXNoKHsgdHlwZSwgc3lzdGVtTW9kdWxlUHJvbWlzZSwgYXJncyB9KVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJJbmplY3RlZFN5c3RlbXMgPSA8QT4odHlwZTogU3lzdGVtVXBkYXRlVHlwZSwgc3lzdGVtczogU3lzdGVtTW9kdWxlVHlwZTxBPltdKSA9PiB7XG4gIEVuZ2luZS5kZWZhdWx0V29ybGQuX3BpcGVsaW5lLnB1c2goLi4uc3lzdGVtcy5maWx0ZXIoKHN5c3RlbSkgPT4gc3lzdGVtLnR5cGUgPT09IHR5cGUpKVxufVxuIiwiaW1wb3J0IHsgTWVzc2FnZVR5cGVzIH0gZnJvbSAnLi4vZW51bXMvTWVzc2FnZVR5cGVzJ1xuaW1wb3J0IHsgTmV0d29ya1NjaGVtYSB9IGZyb20gJy4uL2ludGVyZmFjZXMvTmV0d29ya1NjaGVtYSdcblxuZXhwb3J0IGNvbnN0IERlZmF1bHROZXR3b3JrU2NoZW1hOiBOZXR3b3JrU2NoZW1hID0ge1xuICB0cmFuc3BvcnQ6IG51bGwsXG4gIG1lc3NhZ2VUeXBlczoge1xuICAgIC4uLk1lc3NhZ2VUeXBlc1xuICB9XG59XG4iLCJpbXBvcnQgeyBBdmF0YXJJbnB1dFNjaGVtYSB9IGZyb20gJy4vYXZhdGFyL0F2YXRhcklucHV0U2NoZW1hJ1xuaW1wb3J0IHsgRGVmYXVsdE5ldHdvcmtTY2hlbWEgfSBmcm9tICcuL25ldHdvcmtpbmcvdGVtcGxhdGVzL0RlZmF1bHROZXR3b3JrU2NoZW1hJ1xuaW1wb3J0IHsgSW5wdXRTY2hlbWEgfSBmcm9tICcuL2lucHV0L2ludGVyZmFjZXMvSW5wdXRTY2hlbWEnXG5pbXBvcnQgeyBOZXR3b3JrU2NoZW1hIH0gZnJvbSAnLi9uZXR3b3JraW5nL2ludGVyZmFjZXMvTmV0d29ya1NjaGVtYSdcbmltcG9ydCB7IFN5c3RlbU1vZHVsZVR5cGUgfSBmcm9tICcuL2Vjcy9mdW5jdGlvbnMvU3lzdGVtRnVuY3Rpb25zJ1xuaW1wb3J0IHsgUGh5c1hDb25maWcgfSBmcm9tICcuL3BoeXNpY3MvdHlwZXMvUGh5c2ljc1R5cGVzJ1xuXG5leHBvcnQgZW51bSBFbmdpbmVTeXN0ZW1QcmVzZXRzIHtcbiAgQ0xJRU5ULFxuICBFRElUT1IsXG4gIFNFUlZFUixcbiAgTUVESUFcbn1cblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZU9wdGlvbnMgPSB7XG4gIHR5cGU/OiBFbmdpbmVTeXN0ZW1QcmVzZXRzXG4gIGlucHV0Pzoge1xuICAgIHNjaGVtYXM6IElucHV0U2NoZW1hW11cbiAgfVxuICBuZXR3b3JraW5nPzoge1xuICAgIHNjaGVtYTogTmV0d29ya1NjaGVtYVxuICAgIHRyYW5zcG9ydD86IGFueVxuICB9XG4gIHNjZW5lPzoge1xuICAgIGRpc2FibGVkPzogYm9vbGVhblxuICB9XG4gIHJlbmRlcmVyPzoge1xuICAgIGRpc2FibGVkPzogYm9vbGVhblxuICAgIGNhbnZhc0lkPzogc3RyaW5nXG4gICAgcG9zdFByb2Nlc3Npbmc/OiBib29sZWFuXG4gIH1cbiAgcHVibGljUGF0aD86IHN0cmluZ1xuICBwaHlzaWNzPzoge1xuICAgIHNpbXVsYXRpb25FbmFibGVkPzogYm9vbGVhblxuICAgIHNldHRpbmdzPzogUGh5c1hDb25maWdcbiAgfVxuICBzeXN0ZW1zPzogU3lzdGVtTW9kdWxlVHlwZTxhbnk+W11cbn1cblxuLyoqXG4gKlxuICogQGF1dGhvciBTaGF3XG4gKiBJZiB5b3UganVzdCB3YW50IHRvIHN0YXJ0IHVwIG11bHRpcGxheWVyIHdvcmxkcywgdXNlIHRoaXMuXG4gKiBPdGhlcndpc2UgeW91IHNob3VsZCBjb3B5IHRoaXMgaW50byB5b3VyIG93biBpbnRvIHlvdXIgaW5pdGlhbGl6ZUVuZ2luZSBjYWxsLlxuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdEluaXRpYWxpemF0aW9uT3B0aW9uczogUGFydGlhbDxJbml0aWFsaXplT3B0aW9ucz4gPSB7XG4gIHR5cGU6IEVuZ2luZVN5c3RlbVByZXNldHMuQ0xJRU5ULFxuICBwdWJsaWNQYXRoOiAnJyxcbiAgaW5wdXQ6IHtcbiAgICBzY2hlbWFzOiBbQXZhdGFySW5wdXRTY2hlbWFdXG4gIH0sXG4gIG5ldHdvcmtpbmc6IHtcbiAgICBzY2hlbWE6IERlZmF1bHROZXR3b3JrU2NoZW1hXG4gIH0sXG4gIHNjZW5lOiB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlXG4gIH0sXG4gIHJlbmRlcmVyOiB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIHBvc3RQcm9jZXNzaW5nOiB0cnVlXG4gIH0sXG4gIHBoeXNpY3M6IHtcbiAgICBzZXR0aW5nczoge1xuICAgICAgYm91bmNlVGhyZXNob2xkVmVsb2NpdHk6IDAuNSxcbiAgICAgIHN0YXJ0OiBmYWxzZSxcbiAgICAgIGxlbmd0aFNjYWxlOiAxLFxuICAgICAgdmVyYm9zZTogZmFsc2UsXG4gICAgICBzdWJzdGVwczogMSxcbiAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogLTkuODEsIHo6IDAgfVxuICAgIH0gYXMgYW55LFxuICAgIHNpbXVsYXRpb25FbmFibGVkOiB0cnVlIC8vIHN0YXJ0IHRoZSBlbmdpbmUgd2l0aCB0aGUgcGh5c2ljcyBzaW11bGF0aW9uIHJ1bm5pbmdcbiAgfSxcbiAgc3lzdGVtczogW11cbn1cbiIsImV4cG9ydCBlbnVtIEJpbmFyeVZhbHVlIHtcbiAgT0ZGID0gMCxcbiAgT04gPSAxLFxuICBGQUxTRSA9IDAsXG4gIFRSVUUgPSAxXG59XG4iLCJpbXBvcnQgeyBCaW5hcnlWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9lbnVtcy9CaW5hcnlWYWx1ZSdcbmltcG9ydCB7IGFwcGx5VGhyZXNob2xkIH0gZnJvbSAnLi4vLi4vY29tbW9uL2Z1bmN0aW9ucy9hcHBseVRocmVzaG9sZCdcbmltcG9ydCB7IElucHV0VHlwZSB9IGZyb20gJy4uL2VudW1zL0lucHV0VHlwZSdcbmltcG9ydCB7IEdhbWVwYWRCdXR0b25zLCBHYW1lcGFkQXhpcywgWFJBeGVzIH0gZnJvbSAnLi4vZW51bXMvSW5wdXRFbnVtcydcbmltcG9ydCB7IElucHV0QWxpYXMgfSBmcm9tICcuLi90eXBlcy9JbnB1dEFsaWFzJ1xuaW1wb3J0IHsgQmFzZUlucHV0IH0gZnJvbSAnLi4vZW51bXMvQmFzZUlucHV0J1xuaW1wb3J0IHsgTGlmZWN5Y2xlVmFsdWUgfSBmcm9tICcuLi8uLi9jb21tb24vZW51bXMvTGlmZWN5Y2xlVmFsdWUnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5cbi8qKlxuICogQHByb3BlcnR5IHtCb29sZWFufSBnYW1lcGFkQ29ubmVjdGVkIENvbm5lY3Rpb24gYSBuZXcgZ2FtZXBhZFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGdhbWVwYWRUaHJlc2hvbGQgVGhyZXNob2xkIHZhbHVlIGZyb20gMCB0byAxXG4gKiBAcHJvcGVydHkge0JpbmFyeVtdfSBnYW1lcGFkQnV0dG9ucyBNYXAgZ2FtZXBhZCBidXR0b25zXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBnYW1lcGFkSW5wdXQgTWFwIGdhbWVwYWQgYnV0dG9ucyB0byBhYnN0cmFjdCBpbnB1dFxuICovXG5cbmxldCBnYW1lcGFkQ29ubmVjdGVkID0gZmFsc2VcbmNvbnN0IGdhbWVwYWRUaHJlc2hvbGQgPSAwLjFcbmNvbnN0IGdhbWVwYWRCdXR0b25zOiBCaW5hcnlWYWx1ZVtdID0gW11cbmNvbnN0IGdhbWVwYWRJbnB1dDogbnVtYmVyW10gPSBbXVxuXG5jb25zdCBpbnB1dFBlckdhbWVwYWQgPSAyXG5sZXQgZ2FtZXBhZHM6IEdhbWVwYWRbXVxubGV0IGdhbWVwYWQ6IEdhbWVwYWRcbmxldCBpbnB1dEJhc2U6IG51bWJlclxubGV0IHg6IG51bWJlclxubGV0IHk6IG51bWJlclxubGV0IHByZXZMZWZ0WDogbnVtYmVyXG5sZXQgcHJldkxlZnRZOiBudW1iZXJcblxubGV0IF9pbmRleDogbnVtYmVyIC8vIHRlbXAgdmFyIGZvciBpdGVyYXRvciBsb29wc1xuLyoqXG4gKiBTeXN0ZW0gYmVoYXZpb3IgdG8gaGFuZGxlIGdhbWVwYWQgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IFRoZSBlbnRpdHlcbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZUdhbWVwYWRzID0gKCkgPT4ge1xuICAvLyBHZXQgYW4gaW1tdXRhYmxlIHJlZmVyZW5jZSB0byBpbnB1dFxuICBpZiAoIWdhbWVwYWRDb25uZWN0ZWQpIHJldHVyblxuICAvLyBHZXQgZ2FtZXBhZHMgZnJvbSB0aGUgRE9NXG4gIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkgYXMgR2FtZXBhZFtdXG5cbiAgLy8gTG9vcCBvdmVyIGNvbm5lY3RlZCBnYW1lcGFkc1xuICBmb3IgKF9pbmRleCA9IDA7IF9pbmRleCA8IGdhbWVwYWRzLmxlbmd0aDsgX2luZGV4KyspIHtcbiAgICAvLyBJZiB0aGVyZSdzIG5vIGdhbWVwYWQgYXQgdGhpcyBpbmRleCwgc2tpcFxuICAgIGlmICghZ2FtZXBhZHNbX2luZGV4XSkgcmV0dXJuXG4gICAgLy8gSG9sZCByZWZlcmVuY2UgdG8gdGhpcyBnYW1lcGFkXG4gICAgZ2FtZXBhZCA9IGdhbWVwYWRzW19pbmRleF1cblxuICAgIC8vIElmIHRoZSBnYW1lcGFkIGhhcyBhbmFsb2cgaW5wdXRzIChkcGFkcyB0aGF0IGFyZW4ndCB1cCBVUC9ET1dOL0wvUiBidXQgaGF2ZSAtMSB0byAxIHZhbHVlcyBmb3IgWCBhbmQgWSlcbiAgICBpZiAoZ2FtZXBhZC5heGVzKSB7XG4gICAgICAvLyBHYW1lUGFkIDAgTGVmdCBTdGljayBYWVxuICAgICAgaWYgKGdhbWVwYWQuYXhlcy5sZW5ndGggPj0gaW5wdXRQZXJHYW1lcGFkKSB7XG4gICAgICAgIGhhbmRsZUdhbWVwYWRBeGlzKGdhbWVwYWQsIDAsIEdhbWVwYWRBeGlzLkxlZnQpXG4gICAgICB9XG5cbiAgICAgIC8vIEdhbWVQYWQgMSBSaWdodCBTdGljayBYWVxuICAgICAgaWYgKGdhbWVwYWQuYXhlcy5sZW5ndGggPj0gaW5wdXRQZXJHYW1lcGFkICogMikge1xuICAgICAgICBoYW5kbGVHYW1lcGFkQXhpcyhnYW1lcGFkLCAxLCBHYW1lcGFkQXhpcy5SaWdodClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZ2FtZXBhZCBkb2Vzbid0IGhhdmUgYnV0dG9ucywgb3IgdGhlIGlucHV0IGlzbid0IG1hcHBlZCwgcmV0dXJuXG4gICAgaWYgKCFnYW1lcGFkLmJ1dHRvbnMpIHJldHVyblxuXG4gICAgLy8gT3RoZXJ3aXNlLCBsb29wIHRocm91Z2ggZ2FtZXBhZCBidXR0b25zXG4gICAgZm9yIChfaW5kZXggPSAwOyBfaW5kZXggPCBnYW1lcGFkLmJ1dHRvbnMubGVuZ3RoOyBfaW5kZXgrKykge1xuICAgICAgaGFuZGxlR2FtZXBhZEJ1dHRvbihnYW1lcGFkLCBfaW5kZXgpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2FtZXBhZCBidXR0b25cbiAqXG4gKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IFRoZSBlbnRpdHlcbiAqIEBwYXJhbSBhcmdzIGlzIGFyZ3VtZW50IG9iamVjdFxuICovXG5jb25zdCBoYW5kbGVHYW1lcGFkQnV0dG9uID0gKGdhbWVwYWQ6IEdhbWVwYWQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgaWYgKGdhbWVwYWQuYnV0dG9uc1tpbmRleF0udG91Y2hlZCA9PT0gKGdhbWVwYWRCdXR0b25zW2luZGV4XSA9PT0gQmluYXJ5VmFsdWUuT04pKSByZXR1cm5cbiAgLy8gU2V0IGlucHV0IGRhdGFcbiAgRW5naW5lLmlucHV0U3RhdGUuc2V0KGdhbWVwYWRNYXBwaW5nW2dhbWVwYWQubWFwcGluZyB8fCAnc3RhbmRhcmQnXVtpbmRleF0sIHtcbiAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgIHZhbHVlOiBbZ2FtZXBhZC5idXR0b25zW2luZGV4XS50b3VjaGVkID8gQmluYXJ5VmFsdWUuT04gOiBCaW5hcnlWYWx1ZS5PRkZdLFxuICAgIGxpZmVjeWNsZVN0YXRlOiBnYW1lcGFkLmJ1dHRvbnNbaW5kZXhdLnRvdWNoZWQgPyBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkIDogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgfSlcbiAgZ2FtZXBhZEJ1dHRvbnNbaW5kZXhdID0gZ2FtZXBhZC5idXR0b25zW2luZGV4XS50b3VjaGVkID8gMSA6IDBcbn1cblxuLyoqXG4gKiBHYW1lcGFkIGF4aW9zXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5XG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3RcbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZUdhbWVwYWRBeGlzID0gKGdhbWVwYWQ6IEdhbWVwYWQsIGlucHV0SW5kZXg6IG51bWJlciwgbWFwcGVkSW5wdXRWYWx1ZTogSW5wdXRBbGlhcykgPT4ge1xuICBpbnB1dEJhc2UgPSBpbnB1dEluZGV4ICogMlxuICBjb25zdCB4SW5kZXggPSBpbnB1dEJhc2VcbiAgY29uc3QgeUluZGV4ID0gaW5wdXRCYXNlICsgMVxuXG4gIHggPSBhcHBseVRocmVzaG9sZChnYW1lcGFkLmF4ZXNbeEluZGV4XSwgZ2FtZXBhZFRocmVzaG9sZClcbiAgeSA9IGFwcGx5VGhyZXNob2xkKGdhbWVwYWQuYXhlc1t5SW5kZXhdLCBnYW1lcGFkVGhyZXNob2xkKVxuICBpZiAobWFwcGVkSW5wdXRWYWx1ZSA9PT0gQmFzZUlucHV0Lk1PVkVNRU5UX1BMQVlFUk9ORSkge1xuICAgIGNvbnN0IHRtcFggPSB4XG4gICAgeCA9IC15XG4gICAgeSA9IC10bXBYXG4gIH1cblxuICBwcmV2TGVmdFggPSBnYW1lcGFkSW5wdXRbeEluZGV4XVxuICBwcmV2TGVmdFkgPSBnYW1lcGFkSW5wdXRbeUluZGV4XVxuXG4gIC8vIEF4aXMgaGFzIGNoYW5nZWQsIHNvIGdldCBtdXRhYmxlIHJlZmVyZW5jZSB0byBJbnB1dCBhbmQgc2V0IGRhdGFcbiAgaWYgKHggIT09IHByZXZMZWZ0WCB8fCB5ICE9PSBwcmV2TGVmdFkpIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQobWFwcGVkSW5wdXRWYWx1ZSwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgIHZhbHVlOiBbeCwgeV0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZFxuICAgIH0pXG5cbiAgICBnYW1lcGFkSW5wdXRbeEluZGV4XSA9IHhcbiAgICBnYW1lcGFkSW5wdXRbeUluZGV4XSA9IHlcbiAgfVxufVxuXG4vKipcbiAqIFdoZW4gYSBnYW1lcGFkIGNvbm5lY3RzXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5XG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3RcbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZUdhbWVwYWRDb25uZWN0ZWQgPSAoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xuICBjb25zb2xlLmxvZygnQSBnYW1lcGFkIGNvbm5lY3RlZDonLCBldmVudC5nYW1lcGFkLCBldmVudC5nYW1lcGFkLm1hcHBpbmcpXG5cbiAgaWYgKGV2ZW50LmdhbWVwYWQubWFwcGluZyAhPT0gJ3N0YW5kYXJkJykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vbi1zdGFuZGFyZCBnYW1lcGFkIG1hcHBpbmcgZGV0ZWN0ZWQsIGl0IGNvdWxkIGJlIGhhbmRsZWQgbm90IHByb3Blcmx5LicpXG4gIH1cblxuICBnYW1lcGFkQ29ubmVjdGVkID0gdHJ1ZVxuICBnYW1lcGFkID0gZXZlbnQuZ2FtZXBhZFxuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBnYW1lcGFkLmJ1dHRvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgaWYgKHR5cGVvZiBnYW1lcGFkQnV0dG9uc1tpbmRleF0gPT09ICd1bmRlZmluZWQnKSBnYW1lcGFkQnV0dG9uc1tpbmRleF0gPSAwXG4gIH1cbn1cblxuLyoqXG4gKiBXaGVuIGEgZ2FtZXBhZCBkaXNjb25uZWN0c1xuICpcbiAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgVGhlIGVudGl0eVxuICogQHBhcmFtIGFyZ3MgaXMgYXJndW1lbnQgb2JqZWN0XG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVHYW1lcGFkRGlzY29ubmVjdGVkID0gKGV2ZW50OiBhbnkpOiB2b2lkID0+IHtcbiAgLy8gR2V0IGltbXV0YWJsZSByZWZlcmVuY2UgdG8gSW5wdXQgYW5kIGNoZWNrIGlmIHRoZSBidXR0b24gaXMgZGVmaW5lZCAtLSBpZ25vcmUgdW5kZWZpbmVkIGJ1dHRvbnNcbiAgY29uc29sZS5sb2coJ0EgZ2FtZXBhZCBkaXNjb25uZWN0ZWQ6JywgZXZlbnQuZ2FtZXBhZClcblxuICBnYW1lcGFkQ29ubmVjdGVkID0gZmFsc2VcblxuICBpZiAoIWdhbWVwYWRCdXR0b25zKSByZXR1cm4gLy8gQWxyZWFkeSBkaXNjb25uZWN0ZWQ/XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGdhbWVwYWRCdXR0b25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGlmIChnYW1lcGFkQnV0dG9uc1tpbmRleF0gPT09IEJpbmFyeVZhbHVlLk9OKSB7XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoZ2FtZXBhZE1hcHBpbmdbZXZlbnQuZ2FtZXBhZC5tYXBwaW5nIHx8ICdzdGFuZGFyZCddW2luZGV4XSwge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5DaGFuZ2VkXG4gICAgICB9KVxuICAgIH1cbiAgICBnYW1lcGFkQnV0dG9uc1tpbmRleF0gPSAwXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdhbWVwYWRNYXBwaW5nID0ge1xuICAvL2h0dHBzOi8vdzNjLmdpdGh1Yi5pby9nYW1lcGFkLyNyZW1hcHBpbmdcbiAgc3RhbmRhcmQ6IHtcbiAgICAwOiBHYW1lcGFkQnV0dG9ucy5BLFxuICAgIDE6IEdhbWVwYWRCdXR0b25zLkIsXG4gICAgMjogR2FtZXBhZEJ1dHRvbnMuWCxcbiAgICAzOiBHYW1lcGFkQnV0dG9ucy5ZLFxuICAgIDQ6IEdhbWVwYWRCdXR0b25zLkxCdW1wZXIsXG4gICAgNTogR2FtZXBhZEJ1dHRvbnMuUkJ1bXBlcixcbiAgICA2OiBHYW1lcGFkQnV0dG9ucy5MVHJpZ2dlcixcbiAgICA3OiBHYW1lcGFkQnV0dG9ucy5SVHJpZ2dlcixcbiAgICA4OiBHYW1lcGFkQnV0dG9ucy5CYWNrLFxuICAgIDk6IEdhbWVwYWRCdXR0b25zLlN0YXJ0LFxuICAgIDEwOiBHYW1lcGFkQnV0dG9ucy5MU3RpY2ssXG4gICAgMTE6IEdhbWVwYWRCdXR0b25zLlJTdGljayxcbiAgICAxMjogR2FtZXBhZEJ1dHRvbnMuRFBhZDEsXG4gICAgMTM6IEdhbWVwYWRCdXR0b25zLkRQYWQyLFxuICAgIDE0OiBHYW1lcGFkQnV0dG9ucy5EUGFkMyxcbiAgICAxNTogR2FtZXBhZEJ1dHRvbnMuRFBhZDRcbiAgfSxcbiAgLy9odHRwczovL3d3dy53My5vcmcvVFIvd2VieHItZ2FtZXBhZHMtbW9kdWxlLTEvXG4gICd4ci1zdGFuZGFyZCc6IHtcbiAgICBsZWZ0OiB7XG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIDA6IEdhbWVwYWRCdXR0b25zLkxUcmlnZ2VyLFxuICAgICAgICAxOiBHYW1lcGFkQnV0dG9ucy5MQnVtcGVyLFxuICAgICAgICAyOiBHYW1lcGFkQnV0dG9ucy5MUGFkLFxuICAgICAgICAzOiBHYW1lcGFkQnV0dG9ucy5MU3RpY2ssXG4gICAgICAgIDQ6IEdhbWVwYWRCdXR0b25zLlgsXG4gICAgICAgIDU6IEdhbWVwYWRCdXR0b25zLllcbiAgICAgIH0sXG4gICAgICBheGVzOiBYUkF4ZXMuTGVmdFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgMDogR2FtZXBhZEJ1dHRvbnMuUlRyaWdnZXIsXG4gICAgICAgIDE6IEdhbWVwYWRCdXR0b25zLlJCdW1wZXIsXG4gICAgICAgIDI6IEdhbWVwYWRCdXR0b25zLlJQYWQsXG4gICAgICAgIDM6IEdhbWVwYWRCdXR0b25zLlJTdGljayxcbiAgICAgICAgNDogR2FtZXBhZEJ1dHRvbnMuQSxcbiAgICAgICAgNTogR2FtZXBhZEJ1dHRvbnMuQlxuICAgICAgfSxcbiAgICAgIGF4ZXM6IFhSQXhlcy5SaWdodFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgQmluYXJ5VmFsdWUgfSBmcm9tICcuLi8uLi9jb21tb24vZW51bXMvQmluYXJ5VmFsdWUnXG5pbXBvcnQgeyBMaWZlY3ljbGVWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9lbnVtcy9MaWZlY3ljbGVWYWx1ZSdcbmltcG9ydCB7IEdhbWVwYWRBeGlzIH0gZnJvbSAnLi4vZW51bXMvSW5wdXRFbnVtcydcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IElucHV0VHlwZSB9IGZyb20gJy4uL2VudW1zL0lucHV0VHlwZSdcbmltcG9ydCB7IE1vdXNlSW5wdXQsIEdhbWVwYWRCdXR0b25zLCBUb3VjaElucHV0cyB9IGZyb20gJy4uL2VudW1zL0lucHV0RW51bXMnXG5pbXBvcnQgeyBFbmdpbmVFdmVudHMgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbmdpbmVFdmVudHMnXG5pbXBvcnQgeyBFbmdpbmVSZW5kZXJlciB9IGZyb20gJy4uLy4uL3JlbmRlcmVyL1dlYkdMUmVuZGVyZXJTeXN0ZW0nXG5pbXBvcnQgeyBOdW1lcmljYWxUeXBlIH0gZnJvbSAnLi4vLi4vY29tbW9uL3R5cGVzL051bWVyaWNhbFR5cGVzJ1xuXG5sZXQgcHJldlRvdWNoUG9zaXRpb246IFtudW1iZXIsIG51bWJlcl0gPSBbMCwgMF1cbmxldCBsYXN0VGFwID0gRGF0ZS5ub3coKVxuY29uc3QgdGFwTGVuZ3RoID0gMjAwIC8vIDEwMG1zIGJldHdlZW4gZG91YmxldGFwc1xuXG4vKipcbiAqIFRvdWNoIG1vdmVcbiAqXG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3RcbiAqL1xuXG5leHBvcnQgY29uc3QgdXNpbmdUaHVtYnN0aWNrID0gKCkgPT4ge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoR2FtZXBhZEF4aXMuTGVmdCk/LnZhbHVlWzBdIHx8XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoR2FtZXBhZEF4aXMuTGVmdCk/LnZhbHVlWzFdIHx8XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoR2FtZXBhZEF4aXMuUmlnaHQpPy52YWx1ZVswXSB8fFxuICAgICAgRW5naW5lLmlucHV0U3RhdGUuZ2V0KEdhbWVwYWRBeGlzLlJpZ2h0KT8udmFsdWVbMV1cbiAgKVxufVxuXG5leHBvcnQgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gKGV2ZW50OiBUb3VjaEV2ZW50KTogdm9pZCA9PiB7XG4gIGlmICghRW5naW5lLm1vdXNlSW5wdXRFbmFibGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBub3JtYWxpemVNb3VzZUNvb3JkaW5hdGVzKFxuICAgIGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICBldmVudC50b3VjaGVzWzBdLmNsaWVudFksXG4gICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgd2luZG93LmlubmVySGVpZ2h0XG4gIClcbiAgY29uc3QgdG91Y2hQb3NpdGlvbjogW251bWJlciwgbnVtYmVyXSA9IFtub3JtYWxpemVkUG9zaXRpb24ueCwgbm9ybWFsaXplZFBvc2l0aW9uLnldXG5cbiAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICBjb25zdCBtYXBwZWRQb3NpdGlvbklucHV0ID0gVG91Y2hJbnB1dHMuVG91Y2gxUG9zaXRpb25cbiAgICBjb25zdCBoYXNEYXRhID0gRW5naW5lLmlucHV0U3RhdGUuaGFzKG1hcHBlZFBvc2l0aW9uSW5wdXQpXG5cbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQobWFwcGVkUG9zaXRpb25JbnB1dCwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgIHZhbHVlOiB0b3VjaFBvc2l0aW9uLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IGhhc0RhdGEgPyBMaWZlY3ljbGVWYWx1ZS5DaGFuZ2VkIDogTGlmZWN5Y2xlVmFsdWUuU3RhcnRlZFxuICAgIH0pXG5cbiAgICBjb25zdCBtb3ZlbWVudFN0YXJ0ID0gZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnXG4gICAgY29uc3QgbWFwcGVkTW92ZW1lbnRJbnB1dCA9IFRvdWNoSW5wdXRzLlRvdWNoMU1vdmVtZW50XG5cbiAgICBjb25zdCB0b3VjaE1vdmVtZW50OiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdXG4gICAgaWYgKCFtb3ZlbWVudFN0YXJ0ICYmIHByZXZUb3VjaFBvc2l0aW9uKSB7XG4gICAgICB0b3VjaE1vdmVtZW50WzBdID0gdG91Y2hQb3NpdGlvblswXSAtIHByZXZUb3VjaFBvc2l0aW9uWzBdXG4gICAgICB0b3VjaE1vdmVtZW50WzFdID0gdG91Y2hQb3NpdGlvblsxXSAtIHByZXZUb3VjaFBvc2l0aW9uWzFdXG4gICAgfVxuXG4gICAgcHJldlRvdWNoUG9zaXRpb24gPSB0b3VjaFBvc2l0aW9uXG5cbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQobWFwcGVkTW92ZW1lbnRJbnB1dCwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgIHZhbHVlOiB0b3VjaE1vdmVtZW50LFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhtYXBwZWRNb3ZlbWVudElucHV0KSA/IExpZmVjeWNsZVZhbHVlLkNoYW5nZWQgOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcbiAgfSBlbHNlIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA+PSAyKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uMiA9IG5vcm1hbGl6ZU1vdXNlQ29vcmRpbmF0ZXMoXG4gICAgICBldmVudC50b3VjaGVzWzFdLmNsaWVudFgsXG4gICAgICBldmVudC50b3VjaGVzWzFdLmNsaWVudFksXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIHdpbmRvdy5pbm5lckhlaWdodFxuICAgIClcbiAgICBjb25zdCB0b3VjaFBvc2l0aW9uMjogW251bWJlciwgbnVtYmVyXSA9IFtub3JtYWxpemVkUG9zaXRpb24yLngsIG5vcm1hbGl6ZWRQb3NpdGlvbjIueV1cblxuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChUb3VjaElucHV0cy5Ub3VjaDFQb3NpdGlvbiwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgIHZhbHVlOiB0b3VjaFBvc2l0aW9uLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkNoYW5nZWRcbiAgICB9KVxuXG4gICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KFRvdWNoSW5wdXRzLlRvdWNoMlBvc2l0aW9uLCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuVFdPRElNLFxuICAgICAgdmFsdWU6IHRvdWNoUG9zaXRpb24yLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkNoYW5nZWRcbiAgICB9KVxuXG4gICAgY29uc3Qgc2NhbGVNYXBwZWRJbnB1dEtleSA9IFRvdWNoSW5wdXRzLlNjYWxlXG5cbiAgICBjb25zdCB1c2luZ1N0aWNrID0gdXNpbmdUaHVtYnN0aWNrKClcblxuICAgIGlmICh1c2luZ1N0aWNrKSB7XG4gICAgICBpZiAoRW5naW5lLmlucHV0U3RhdGUuaGFzKHNjYWxlTWFwcGVkSW5wdXRLZXkpKSB7XG4gICAgICAgIGNvbnN0IFtvbGRWYWx1ZV0gPSBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoc2NhbGVNYXBwZWRJbnB1dEtleSk/LnZhbHVlIGFzIG51bWJlcltdXG4gICAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChzY2FsZU1hcHBlZElucHV0S2V5LCB7XG4gICAgICAgICAgdHlwZTogSW5wdXRUeXBlLk9ORURJTSxcbiAgICAgICAgICB2YWx1ZTogW29sZFZhbHVlXSxcbiAgICAgICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGxhc3RUb3VjaGNvbnRyb2xsZXJQb3NpdGlvbkxlZnRBcnJheSA9IEVuZ2luZS5wcmV2SW5wdXRTdGF0ZS5nZXQoVG91Y2hJbnB1dHMuVG91Y2gxUG9zaXRpb24pPy52YWx1ZVxuICAgIGNvbnN0IGxhc3RUb3VjaFBvc2l0aW9uMkFycmF5ID0gRW5naW5lLnByZXZJbnB1dFN0YXRlLmdldChUb3VjaElucHV0cy5Ub3VjaDJQb3NpdGlvbik/LnZhbHVlXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCAhbGFzdFRvdWNoY29udHJvbGxlclBvc2l0aW9uTGVmdEFycmF5IHx8ICFsYXN0VG91Y2hQb3NpdGlvbjJBcnJheSkge1xuICAgICAgLy8gc2tpcCBpZiBpdCdzIGp1c3Qgc3RhcnQgb2YgZ2VzdHVyZSBvciB0aGVyZSBhcmUgbm8gcHJldmlvdXMgZGF0YSB5ZXRcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghRW5naW5lLmlucHV0U3RhdGUuaGFzKFRvdWNoSW5wdXRzLlRvdWNoMVBvc2l0aW9uKSB8fCAhRW5naW5lLmlucHV0U3RhdGUuaGFzKFRvdWNoSW5wdXRzLlRvdWNoMlBvc2l0aW9uKSkge1xuICAgICAgY29uc29sZS53YXJuKCdoYW5kbGVUb3VjaFNjYWxlIHJlcXVpcmVzIFBPSU5URVIxX1BPU0lUSU9OIGFuZCBQT0lOVEVSMl9QT1NJVElPTiB0byBiZSBzZXQgYW5kIHVwZGF0ZWQuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VG91Y2hjb250cm9sbGVyUG9zaXRpb25MZWZ0ID0gbmV3IFZlY3RvcjIoKS5mcm9tQXJyYXkoXG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoVG91Y2hJbnB1dHMuVG91Y2gxUG9zaXRpb24pPy52YWx1ZSBhcyBudW1iZXJbXVxuICAgIClcbiAgICBjb25zdCBjdXJyZW50VG91Y2hQb3NpdGlvbjIgPSBuZXcgVmVjdG9yMigpLmZyb21BcnJheShcbiAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLmdldChUb3VjaElucHV0cy5Ub3VjaDJQb3NpdGlvbik/LnZhbHVlIGFzIG51bWJlcltdXG4gICAgKVxuXG4gICAgY29uc3QgbGFzdFRvdWNoY29udHJvbGxlclBvc2l0aW9uTGVmdCA9IG5ldyBWZWN0b3IyKCkuZnJvbUFycmF5KGxhc3RUb3VjaGNvbnRyb2xsZXJQb3NpdGlvbkxlZnRBcnJheSBhcyBudW1iZXJbXSlcbiAgICBjb25zdCBsYXN0VG91Y2hQb3NpdGlvbjIgPSBuZXcgVmVjdG9yMigpLmZyb21BcnJheShsYXN0VG91Y2hQb3NpdGlvbjJBcnJheSBhcyBudW1iZXJbXSlcblxuICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IGN1cnJlbnRUb3VjaGNvbnRyb2xsZXJQb3NpdGlvbkxlZnQuZGlzdGFuY2VUbyhjdXJyZW50VG91Y2hQb3NpdGlvbjIpXG4gICAgY29uc3QgbGFzdERpc3RhbmNlID0gbGFzdFRvdWNoY29udHJvbGxlclBvc2l0aW9uTGVmdC5kaXN0YW5jZVRvKGxhc3RUb3VjaFBvc2l0aW9uMilcblxuICAgIGNvbnN0IHRvdWNoU2NhbGVWYWx1ZSA9IChsYXN0RGlzdGFuY2UgLSBjdXJyZW50RGlzdGFuY2UpICogMC4wMVxuICAgIGNvbnN0IHNpZ25WYWwgPSBNYXRoLnNpZ24odG91Y2hTY2FsZVZhbHVlKVxuICAgIGlmICghRW5naW5lLmlucHV0U3RhdGUuaGFzKHNjYWxlTWFwcGVkSW5wdXRLZXkpKSB7XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoc2NhbGVNYXBwZWRJbnB1dEtleSwge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuT05FRElNLFxuICAgICAgICB2YWx1ZTogW3NpZ25WYWxdLFxuICAgICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuU3RhcnRlZFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgW29sZFZhbHVlXSA9IEVuZ2luZS5pbnB1dFN0YXRlLmdldChzY2FsZU1hcHBlZElucHV0S2V5KT8udmFsdWUgYXMgbnVtYmVyW11cbiAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChzY2FsZU1hcHBlZElucHV0S2V5LCB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZS5PTkVESU0sXG4gICAgICAgIHZhbHVlOiBbb2xkVmFsdWUgKyBzaWduVmFsXSxcbiAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkNoYW5nZWRcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIFRvdWNoXG4gKlxuICogQHBhcmFtIGFyZ3MgaXMgYXJndW1lbnQgb2JqZWN0XG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVUb3VjaCA9IChldmVudDogVG91Y2hFdmVudCk6IHZvaWQgPT4ge1xuICBpZiAoIUVuZ2luZS5tb3VzZUlucHV0RW5hYmxlZCkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgIGNvbnN0IG1hcHBlZElucHV0S2V5ID0gVG91Y2hJbnB1dHMuVG91Y2hcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICBjb25zdCB0aW1lTm93ID0gRGF0ZS5ub3coKVxuICAgICAgICBjb25zdCBkb3VibGVUYXBJbnB1dCA9IFRvdWNoSW5wdXRzLkRvdWJsZVRvdWNoXG4gICAgICAgIGlmICh0aW1lTm93IC0gbGFzdFRhcCA8IHRhcExlbmd0aCkge1xuICAgICAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChkb3VibGVUYXBJbnB1dCwge1xuICAgICAgICAgICAgdHlwZTogSW5wdXRUeXBlLkJVVFRPTixcbiAgICAgICAgICAgIHZhbHVlOiBbQmluYXJ5VmFsdWUuT05dLFxuICAgICAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhkb3VibGVUYXBJbnB1dCkgPyBMaWZlY3ljbGVWYWx1ZS5Db250aW51ZWQgOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmIChFbmdpbmUuaW5wdXRTdGF0ZS5oYXMoZG91YmxlVGFwSW5wdXQpKSB7XG4gICAgICAgICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KGRvdWJsZVRhcElucHV0LCB7XG4gICAgICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgICAgICAgdmFsdWU6IFtCaW5hcnlWYWx1ZS5PRkZdLFxuICAgICAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkVuZGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBsYXN0VGFwID0gdGltZU5vd1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUga2V5IGlzIGluIHRoZSBtYXAgYnV0IGl0J3MgaW4gdGhlIHNhbWUgc3RhdGUgYXMgbm93LCBsZXQncyBza2lwIGl0IChkZWJvdW5jZSlcbiAgICAgIGlmIChFbmdpbmUuaW5wdXRTdGF0ZS5oYXMobWFwcGVkSW5wdXRLZXkpICYmIEVuZ2luZS5pbnB1dFN0YXRlLmdldChtYXBwZWRJbnB1dEtleSk/LnZhbHVlWzBdID09PSBCaW5hcnlWYWx1ZS5PTikge1xuICAgICAgICBpZiAoRW5naW5lLmlucHV0U3RhdGUuZ2V0KG1hcHBlZElucHV0S2V5KT8ubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLkNvbnRpbnVlZCkge1xuICAgICAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChtYXBwZWRJbnB1dEtleSwge1xuICAgICAgICAgICAgdHlwZTogSW5wdXRUeXBlLkJVVFRPTixcbiAgICAgICAgICAgIHZhbHVlOiBbQmluYXJ5VmFsdWUuT05dLFxuICAgICAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkNvbnRpbnVlZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0eXBlIHRvIEJVVFRPTiAodXAvZG93biBkaXNjcmV0ZSBzdGF0ZSkgYW5kIHZhbHVlIHRvIHVwIG9yIGRvd24sIGRlcGVuZGluZyBvbiB3aGF0IHRoZSB2YWx1ZSBpcyBzZXQgdG9cbiAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChtYXBwZWRJbnB1dEtleSwge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9OXSxcbiAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWRcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChtYXBwZWRJbnB1dEtleSwge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5FbmRlZFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhUb3VjaElucHV0cy5Ub3VjaCkpIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoVG91Y2hJbnB1dHMuVG91Y2gsIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICB9XG5cbiAgaWYgKEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhUb3VjaElucHV0cy5Eb3VibGVUb3VjaCkpIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoVG91Y2hJbnB1dHMuRG91YmxlVG91Y2gsIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICB9XG5cbiAgaWYgKEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhUb3VjaElucHV0cy5Ub3VjaDFNb3ZlbWVudCkpIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoVG91Y2hJbnB1dHMuVG91Y2gxTW92ZW1lbnQsIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICB2YWx1ZTogWzAsIDBdLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkVuZGVkXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIENhbGxlZCB3aGVuZXZlciB0aGUgdG91Y2ggZHBhZCBpcyBtb3ZlZFxuICpcbiAqIEBwYXJhbSBhcmdzIGlzIGFyZ3VtZW50IG9iamVjdC4gRXZlbnRzIHRoYXQgb2NjdXIgZHVlIHRvIHRoZSB1c2VyIGludGVyYWN0aW5nIHdpdGggYSBwb2ludGluZyBkZXZpY2UgKHN1Y2ggYXMgYSBtb3VzZSkuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGhhbmRsZVRvdWNoRGlyZWN0aW9uYWxQYWQgPSAoZXZlbnQ6IEN1c3RvbUV2ZW50KTogdm9pZCA9PiB7XG4gIC8vIFRPRE86IG1vdmUgdGhpcyB0eXBlcyB0byB0eXBlcyBhbmQgaW50ZXJmYWNlc1xuICBjb25zdCB7IHN0aWNrLCB2YWx1ZSB9OiB7IHN0aWNrOiBHYW1lcGFkQXhpczsgdmFsdWU6IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IGFuZ2xlUmFkOiBudW1iZXIgfSB9ID0gZXZlbnQuZGV0YWlsXG4gIGlmICghc3RpY2spIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHN0aWNrUG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFt2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS5hbmdsZVJhZF1cblxuICAvLyBJZiBwb3NpdGlvbiBub3Qgc2V0LCBzZXQgaXQgd2l0aCBsaWZlY3ljbGUgc3RhcnRlZFxuICBpZiAoIUVuZ2luZS5pbnB1dFN0YXRlLmhhcyhzdGljaykpIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoc3RpY2ssIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICB2YWx1ZTogc3RpY2tQb3NpdGlvbixcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBwb3NpdGlvbiBzZXQsIGNoZWNrIGl0J3MgdmFsdWVcbiAgICBjb25zdCBvbGRTdGlja1Bvc2l0aW9uID0gRW5naW5lLmlucHV0U3RhdGUuZ2V0KHN0aWNrKVxuICAgIC8vIElmIGl0J3Mgbm90IHRoZSBzYW1lLCBzZXQgaXQgYW5kIHVwZGF0ZSB0aGUgbGlmZWN5Y2xlIHZhbHVlIHRvIGNoYW5nZWRcbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkob2xkU3RpY2tQb3NpdGlvbikgIT09IEpTT04uc3RyaW5naWZ5KHN0aWNrUG9zaXRpb24pKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnLS0tY2hhbmdlZCcpO1xuICAgICAgLy8gU2V0IHR5cGUgdG8gVFdPRElNICh0d28tZGltZW5zaW9uYWwgYXhpcykgYW5kIHZhbHVlIHRvIGEgbm9ybWFsaXplZCAtMSwgMSBvbiBYIGFuZCBZXG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoc3RpY2ssIHtcbiAgICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgICAgdmFsdWU6IHN0aWNrUG9zaXRpb24sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5DaGFuZ2VkXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnLS0tbm90IGNoYW5nZWQnKTtcbiAgICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIGl0XG4gICAgICAvL0VuZ2luZS5pbnB1dFN0YXRlLmRlbGV0ZShtYXBwZWRLZXkpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYSBidXR0b24gb24gbW9iaWxlIGlzIHByZXNzZWRcbiAqXG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3RcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVG91Y2hHYW1lcGFkQnV0dG9uKGV2ZW50OiBDdXN0b21FdmVudCk6IGFueSB7XG4gIGNvbnN0IHZhbHVlID0gZXZlbnQudHlwZSA9PT0gJ3RvdWNoZ2FtZXBhZGJ1dHRvbmRvd24nXG4gIGNvbnN0IGtleSA9IGV2ZW50LmRldGFpbC5idXR0b24gYXMgR2FtZXBhZEJ1dHRvbnMgLy8gdGhpcyBpcyBhIGN1c3RvbSBldmVudCwgaGVuY2Ugd2h5IGl0IGlzIG91ciBvd24gZW51bSB0eXBlXG5cbiAgaWYgKHZhbHVlKSB7XG4gICAgLy8gSWYgdGhlIGtleSBpcyBpbiB0aGUgbWFwIGJ1dCBpdCdzIGluIHRoZSBzYW1lIHN0YXRlIGFzIG5vdywgbGV0J3Mgc2tpcCBpdCAoZGVib3VuY2UpXG4gICAgaWYgKEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhrZXkpICYmIEVuZ2luZS5pbnB1dFN0YXRlLmdldChrZXkpPy52YWx1ZVswXSA9PT0gQmluYXJ5VmFsdWUuT04pIHtcbiAgICAgIGlmIChFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoa2V5KT8ubGlmZWN5Y2xlU3RhdGUgIT09IExpZmVjeWNsZVZhbHVlLkNvbnRpbnVlZCkge1xuICAgICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoa2V5LCB7XG4gICAgICAgICAgdHlwZTogSW5wdXRUeXBlLkJVVFRPTixcbiAgICAgICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9OXSxcbiAgICAgICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuQ29udGludWVkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gU2V0IHR5cGUgdG8gQlVUVE9OICh1cC9kb3duIGRpc2NyZXRlIHN0YXRlKSBhbmQgdmFsdWUgdG8gdXAgb3IgZG93biwgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIHZhbHVlIGlzIHNldCB0b1xuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChrZXksIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9OXSxcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoa2V5LCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgdmFsdWU6IFtCaW5hcnlWYWx1ZS5PRkZdLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkVuZGVkXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIENhbGxlZCB3aGVuZXZlciB0aGUgbW91c2Ugd2hlZWwgaXMgc2Nyb2xsZWRcbiAqXG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3QuIEV2ZW50cyB0aGF0IG9jY3VyIGR1ZSB0byB0aGUgdXNlciBpbnRlcmFjdGluZyB3aXRoIGEgcG9pbnRpbmcgZGV2aWNlIChzdWNoIGFzIGEgbW91c2UpLlxuICovXG5cbmV4cG9ydCBjb25zdCBoYW5kbGVNb3VzZVdoZWVsID0gKGV2ZW50OiBXaGVlbEV2ZW50KTogdm9pZCA9PiB7XG4gIGlmICghRW5naW5lLm1vdXNlSW5wdXRFbmFibGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoZXZlbnQ/LnRhcmdldCAhPT0gRW5naW5lUmVuZGVyZXIuaW5zdGFuY2UuY2FudmFzKSByZXR1cm5cblxuICBjb25zdCB2YWx1ZSA9IGV2ZW50Py5kZWx0YVlcblxuICBpZiAoIUVuZ2luZS5pbnB1dFN0YXRlLmhhcyhNb3VzZUlucHV0Lk1vdXNlU2Nyb2xsKSkge1xuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChNb3VzZUlucHV0Lk1vdXNlU2Nyb2xsLCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuT05FRElNLFxuICAgICAgdmFsdWU6IFtNYXRoLnNpZ24odmFsdWUpXSxcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IEVuZ2luZS5pbnB1dFN0YXRlLmdldChNb3VzZUlucHV0Lk1vdXNlU2Nyb2xsKT8udmFsdWVbMF0gYXMgbnVtYmVyXG4gICAgaWYgKG9sZFZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KE1vdXNlSW5wdXQuTW91c2VTY3JvbGwsIHtcbiAgICAgICAgdHlwZTogSW5wdXRUeXBlLk9ORURJTSxcbiAgICAgICAgdmFsdWU6IFt2YWx1ZV0sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5VbmNoYW5nZWRcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KE1vdXNlSW5wdXQuTW91c2VTY3JvbGwsIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5PTkVESU0sXG4gICAgICB2YWx1ZTogW29sZFZhbHVlICsgTWF0aC5zaWduKHZhbHVlKV0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZFxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgbW91c2UgbW92ZW1lbnQgYW5kIHNldCB0aGUgcmFuZ2Ugb2YgY29vcmRpbmF0ZXMgYmV0d2VlbiAwIHRvIDIuXG4gKiBAcGFyYW0geFxuICogQHBhcmFtIHlcbiAqIEBwYXJhbSBlbGVtZW50V2lkdGhcbiAqIEBwYXJhbSBlbGVtZW50SGVpZ2h0XG4gKiBAcmV0dXJucyBOb3JtYWxpemVkIE1vdXNlIG1vdmVtZW50ICh4LCB5KSB3aGVyZSB4IGFuZCB5IGFyZSBiZXR3ZWVuIDAgdG8gMiBpbmNsdXNpdmVseS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTW91c2VNb3ZlbWVudChcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG4gIGVsZW1lbnRXaWR0aDogbnVtYmVyLFxuICBlbGVtZW50SGVpZ2h0OiBudW1iZXJcbik6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB7XG4gIHJldHVybiB7XG4gICAgeDogeCAvIChlbGVtZW50V2lkdGggLyAyKSxcbiAgICB5OiAteSAvIChlbGVtZW50SGVpZ2h0IC8gMilcbiAgfVxufVxuXG4vKipcbiAqIENhbGxlZCB3aGVuZXZlciB0aGUgbW91c2UgaXMgbW92ZWRcbiAqXG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3QuIEV2ZW50cyB0aGF0IG9jY3VyIGR1ZSB0byB0aGUgdXNlciBpbnRlcmFjdGluZyB3aXRoIGEgcG9pbnRpbmcgZGV2aWNlIChzdWNoIGFzIGEgbW91c2UpLlxuICovXG5cbmxldCBjYWxsYmFja1xuXG5leHBvcnQgY29uc3QgaGFuZGxlTW91c2VNb3ZlbWVudCA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICBpZiAoIUVuZ2luZS5tb3VzZUlucHV0RW5hYmxlZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgY2xlYXJUaW1lb3V0KGNhbGxiYWNrKVxuICAgIGNhbGxiYWNrID0gbnVsbFxuICB9XG5cbiAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gbm9ybWFsaXplTW91c2VDb29yZGluYXRlcyhcbiAgICBldmVudC5jbGllbnRYLFxuICAgIGV2ZW50LmNsaWVudFksXG4gICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgd2luZG93LmlubmVySGVpZ2h0XG4gIClcbiAgY29uc3QgbW91c2VQb3NpdGlvbjogW251bWJlciwgbnVtYmVyXSA9IFtub3JtYWxpemVkUG9zaXRpb24ueCwgbm9ybWFsaXplZFBvc2l0aW9uLnldXG5cbiAgRW5naW5lLmlucHV0U3RhdGUuc2V0KE1vdXNlSW5wdXQuTW91c2VQb3NpdGlvbiwge1xuICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgdmFsdWU6IG1vdXNlUG9zaXRpb24sXG4gICAgbGlmZWN5Y2xlU3RhdGU6IEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhNb3VzZUlucHV0Lk1vdXNlUG9zaXRpb24pID8gTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZCA6IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWRcbiAgfSlcblxuICBjb25zdCBub3JtYWxpemVkTW92ZW1lbnQgPSBub3JtYWxpemVNb3VzZU1vdmVtZW50KFxuICAgIGV2ZW50Lm1vdmVtZW50WCxcbiAgICBldmVudC5tb3ZlbWVudFksXG4gICAgd2luZG93Lm91dGVyV2lkdGgsXG4gICAgd2luZG93Lm91dGVySGVpZ2h0XG4gIClcblxuICBjb25zdCBtb3VzZU1vdmVtZW50OiBbbnVtYmVyLCBudW1iZXJdID0gW25vcm1hbGl6ZWRNb3ZlbWVudC54LCBub3JtYWxpemVkTW92ZW1lbnQueV1cblxuICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoTW91c2VJbnB1dC5Nb3VzZU1vdmVtZW50LCB7XG4gICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICB2YWx1ZTogbW91c2VNb3ZlbWVudCxcbiAgICBsaWZlY3ljbGVTdGF0ZTogRW5naW5lLmlucHV0U3RhdGUuaGFzKE1vdXNlSW5wdXQuTW91c2VNb3ZlbWVudCkgPyBMaWZlY3ljbGVWYWx1ZS5DaGFuZ2VkIDogTGlmZWN5Y2xlVmFsdWUuU3RhcnRlZFxuICB9KVxuXG4gIGNvbnN0IGlzRHJhZ2dpbmcgPSBFbmdpbmUuaW5wdXRTdGF0ZS5nZXQoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93blBvc2l0aW9uKVxuXG4gIGxldCB2YWx1ZSA9IFswLCAwXSBhcyBOdW1lcmljYWxUeXBlXG4gIGlmIChpc0RyYWdnaW5nICYmIGlzRHJhZ2dpbmc/LmxpZmVjeWNsZVN0YXRlICE9PSBMaWZlY3ljbGVWYWx1ZS5FbmRlZCkge1xuICAgIHZhbHVlID0gbW91c2VNb3ZlbWVudFxuICAgIGNhbGxiYWNrID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93bk1vdmVtZW50LCB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICAgIHZhbHVlOiBbMCwgMF0sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBFbmdpbmUuaW5wdXRTdGF0ZS5oYXMoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93bk1vdmVtZW50KVxuICAgICAgICAgID8gTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZFxuICAgICAgICAgIDogTGlmZWN5Y2xlVmFsdWUuU3RhcnRlZFxuICAgICAgfSlcbiAgICB9LCA1MClcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93bk1vdmVtZW50LCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuVFdPRElNLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IEVuZ2luZS5pbnB1dFN0YXRlLmhhcyhNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duTW92ZW1lbnQpXG4gICAgICAgID8gTGlmZWN5Y2xlVmFsdWUuQ2hhbmdlZFxuICAgICAgICA6IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWRcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZFxuICpcbiAqIEBwYXJhbSBhcmdzIGlzIGFyZ3VtZW50IG9iamVjdCB3aXRoIGV2ZW50IGFuZCB2YWx1ZSBwcm9wZXJ0aWVzLiBWYWx1ZSBzZXQgMCB8IDFcbiAqL1xuXG5leHBvcnQgY29uc3QgaGFuZGxlTW91c2VCdXR0b24gPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgY29uc3QgbW91c2Vkb3duID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bidcblxuICAvLyBGb3IgaWYgbW91c2UgaXMgb3ZlciBVSSwgZGlzYWJsZSBidXR0b24gY2xpY2tzIGZvciBlbmdpbmVcbiAgaWYgKG1vdXNlZG93biAmJiAhRW5naW5lLm1vdXNlSW5wdXRFbmFibGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBtb3VzZVBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdXG4gIG1vdXNlUG9zaXRpb25bMF0gPSAoZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIgLSAxXG4gIG1vdXNlUG9zaXRpb25bMV0gPSAoZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAtMiArIDFcblxuICAvLyBTZXQgdHlwZSB0byBCVVRUT04gKHVwL2Rvd24gZGlzY3JldGUgc3RhdGUpIGFuZCB2YWx1ZSB0byB1cCBvciBkb3duLCBhcyBjYWxsZWQgYnkgdGhlIERPTSBtb3VzZSBldmVudHNcbiAgaWYgKG1vdXNlZG93bikge1xuICAgIC8vIFNldCB0eXBlIHRvIEJVVFRPTiBhbmQgdmFsdWUgdG8gdXAgb3IgZG93blxuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChldmVudC5idXR0b24sIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9OXSxcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcblxuICAgIC8vIFRPRE86IHRoaXMgd291bGQgbm90IGJlIHNldCBpZiBub25lIG9mIGJ1dHRvbnMgYXNzaWduZWRcbiAgICAvLyBTZXQgdHlwZSB0byBUV09EICh0d28gZGltZW5zaW9uYWwpIGFuZCB2YWx1ZSB3aXRoIHg6IC0xLCAxIGFuZCB5OiAtMSwgMVxuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duUG9zaXRpb24sIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICB2YWx1ZTogbW91c2VQb3NpdGlvbixcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5TdGFydGVkXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICAvLyBSZW1vdmVkIG1vdXNlIEVuZ2luZS5pbnB1dFN0YXRlIGRhdGFcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoZXZlbnQuYnV0dG9uLCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgdmFsdWU6IFtCaW5hcnlWYWx1ZS5PRkZdLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkVuZGVkXG4gICAgfSlcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93blBvc2l0aW9uLCB7XG4gICAgICB0eXBlOiBJbnB1dFR5cGUuVFdPRElNLFxuICAgICAgdmFsdWU6IG1vdXNlUG9zaXRpb24sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duVHJhbnNmb3JtUm90YXRpb24sIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICB2YWx1ZTogbW91c2VQb3NpdGlvbixcbiAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5FbmRlZFxuICAgIH0pXG4gICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KE1vdXNlSW5wdXQuTW91c2VDbGlja0Rvd25Nb3ZlbWVudCwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLlRXT0RJTSxcbiAgICAgIHZhbHVlOiBbMCwgMF0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogQ2xsZWQgd2hlbiBhIGtleWJvYXJkIGtleSBpcyBwcmVzc2VkXG4gKlxuICogQHBhcmFtIGFyZ3MgaXMgYXJndW1lbnQgb2JqZWN0XG4gKi9cblxuZXhwb3J0IGNvbnN0IGhhbmRsZUtleSA9IChldmVudDogS2V5Ym9hcmRFdmVudCk6IGFueSA9PiB7XG4gIGNvbnN0IGtleWRvd24gPSBldmVudC50eXBlID09PSAna2V5ZG93bidcblxuICAvLyBGb3IgaWYgbW91c2UgaXMgb3ZlciBVSSwgZGlzYWJsZSBidXR0b24gY2xpY2tzIGZvciBlbmdpbmVcbiAgaWYgKGtleWRvd24gJiYgIUVuZ2luZS5rZXlib2FyZElucHV0RW5hYmxlZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudFxuICAvLyDQoWhlY2sgd2hpY2ggZXhjbHVkZXMgdGhlIHBvc3NpYmlsaXR5IG9mIGNvbnRyb2xsaW5nIHRoZSBhdmF0YXIgKGNhciwgZXRjLikgd2hlbiB0eXBpbmcgYSB0ZXh0XG4gIGlmIChlbGVtZW50Py50YWdOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQ/LnRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8IGVsZW1lbnQ/LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvLyBjb25zdCBtYXBwZWRLZXkgPSBFbmdpbmUuaW5wdXRTdGF0ZS5zY2hlbWEua2V5Ym9hcmRJbnB1dE1hcFtdO1xuICBjb25zdCBrZXkgPSBldmVudC5jb2RlXG5cbiAgaWYgKGtleWRvd24pIHtcbiAgICAvLyBJZiB0aGUga2V5IGlzIGluIHRoZSBtYXAgYnV0IGl0J3MgaW4gdGhlIHNhbWUgc3RhdGUgYXMgbm93LCBsZXQncyBza2lwIGl0IChkZWJvdW5jZSlcbiAgICBpZiAoRW5naW5lLmlucHV0U3RhdGUuaGFzKGtleSkgJiYgRW5naW5lLmlucHV0U3RhdGUuZ2V0KGtleSk/LnZhbHVlWzBdID09PSBCaW5hcnlWYWx1ZS5PTikge1xuICAgICAgaWYgKEVuZ2luZS5pbnB1dFN0YXRlLmdldChrZXkpPy5saWZlY3ljbGVTdGF0ZSAhPT0gTGlmZWN5Y2xlVmFsdWUuQ29udGludWVkKSB7XG4gICAgICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChrZXksIHtcbiAgICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQlVUVE9OLFxuICAgICAgICAgIHZhbHVlOiBbQmluYXJ5VmFsdWUuT05dLFxuICAgICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5Db250aW51ZWRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBTZXQgdHlwZSB0byBCVVRUT04gKHVwL2Rvd24gZGlzY3JldGUgc3RhdGUpIGFuZCB2YWx1ZSB0byB1cCBvciBkb3duLCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgdmFsdWUgaXMgc2V0IHRvXG4gICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KGtleSwge1xuICAgICAgdHlwZTogSW5wdXRUeXBlLkJVVFRPTixcbiAgICAgIHZhbHVlOiBbQmluYXJ5VmFsdWUuT05dLFxuICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLlN0YXJ0ZWRcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChrZXksIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVXaW5kb3dGb2N1cyA9IChldmVudDogRm9jdXNFdmVudCkgPT4ge1xuICBpZiAoZXZlbnQudHlwZSA9PT0gJ2ZvY3VzJylcbiAgICBFbmdpbmUuaW5wdXRTdGF0ZS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpZiAodmFsdWUudHlwZSA9PT0gSW5wdXRUeXBlLkJVVFRPTiAmJiB2YWx1ZS52YWx1ZVswXSA9PT0gQmluYXJ5VmFsdWUuT04pIHtcbiAgICAgICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KGtleSwge1xuICAgICAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICAgICAgdmFsdWU6IFtCaW5hcnlWYWx1ZS5PRkZdLFxuICAgICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5FbmRlZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgIEVuZ2luZS5pbnB1dFN0YXRlLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSBJbnB1dFR5cGUuQlVUVE9OICYmIHZhbHVlLnZhbHVlWzBdID09PSBCaW5hcnlWYWx1ZS5PTikge1xuICAgICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoa2V5LCB7XG4gICAgICAgICAgdHlwZTogSW5wdXRUeXBlLkJVVFRPTixcbiAgICAgICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICAgICAgbGlmZWN5Y2xlU3RhdGU6IExpZmVjeWNsZVZhbHVlLkVuZGVkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBFbmdpbmVFdmVudHMuaW5zdGFuY2UuZGlzcGF0Y2hFdmVudCh7XG4gICAgdHlwZTogRW5naW5lRXZlbnRzLkVWRU5UUy5XSU5ET1dfRk9DVVMsXG4gICAgZm9jdXNlZDogZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZSdcbiAgfSlcbn1cblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBjb250ZXh0IG1lbnUgaXMgb3BlbmVkXG4gKlxuICogQHBhcmFtIGFyZ3MgaXMgYXJndW1lbnQgb2JqZWN0LiBFdmVudHMgdGhhdCBvY2N1ciBkdWUgdG8gdGhlIHVzZXIgaW50ZXJhY3Rpbmcgd2l0aCBhIHBvaW50aW5nIGRldmljZSAoc3VjaCBhcyBhIG1vdXNlKS5cbiAqL1xuXG5leHBvcnQgY29uc3QgaGFuZGxlQ29udGV4dE1lbnUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxufVxuXG4vKipcbiAqIENhbGxlZCB3aGVuIHRoZSBtb3VzZSBsZWF2ZXNcbiAqXG4gKiBAcGFyYW0gYXJncyBpcyBhcmd1bWVudCBvYmplY3QuIEV2ZW50cyB0aGF0IG9jY3VyIGR1ZSB0byB0aGUgdXNlciBpbnRlcmFjdGluZyB3aXRoIGEgcG9pbnRpbmcgZGV2aWNlIChzdWNoIGFzIGEgbW91c2UpLlxuICovXG5cbmV4cG9ydCBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gIDtbTW91c2VJbnB1dC5MZWZ0QnV0dG9uLCBNb3VzZUlucHV0Lk1pZGRsZUJ1dHRvbiwgTW91c2VJbnB1dC5SaWdodEJ1dHRvbl0uZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgaWYgKCFFbmdpbmUuaW5wdXRTdGF0ZS5oYXMoYnV0dG9uKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIEVuZ2luZS5pbnB1dFN0YXRlLnNldChidXR0b24sIHtcbiAgICAgIHR5cGU6IElucHV0VHlwZS5CVVRUT04sXG4gICAgICB2YWx1ZTogW0JpbmFyeVZhbHVlLk9GRl0sXG4gICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICB9KVxuICB9KVxuXG4gIGlmIChFbmdpbmUuaW5wdXRTdGF0ZS5oYXMoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93blBvc2l0aW9uKSkge1xuICAgIGNvbnN0IHZhbHVlID0gRW5naW5lLmlucHV0U3RhdGUuZ2V0KE1vdXNlSW5wdXQuTW91c2VDbGlja0Rvd25Qb3NpdGlvbik/LnZhbHVlIGFzIG51bWJlcltdXG4gICAgaWYgKHZhbHVlWzBdICE9PSAwIHx8IHZhbHVlWzFdICE9PSAwKSB7XG4gICAgICBFbmdpbmUuaW5wdXRTdGF0ZS5zZXQoTW91c2VJbnB1dC5Nb3VzZUNsaWNrRG93blBvc2l0aW9uLCB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZS5UV09ESU0sXG4gICAgICAgIHZhbHVlOiBbMCwgMF0sXG4gICAgICAgIGxpZmVjeWNsZVN0YXRlOiBMaWZlY3ljbGVWYWx1ZS5FbmRlZFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBpZiAoRW5naW5lLmlucHV0U3RhdGUuaGFzKE1vdXNlSW5wdXQuTW91c2VDbGlja0Rvd25UcmFuc2Zvcm1Sb3RhdGlvbikpIHtcbiAgICBjb25zdCB2YWx1ZSA9IEVuZ2luZS5pbnB1dFN0YXRlLmdldChNb3VzZUlucHV0Lk1vdXNlQ2xpY2tEb3duVHJhbnNmb3JtUm90YXRpb24pPy52YWx1ZSBhcyBudW1iZXJbXVxuICAgIGlmICh2YWx1ZVswXSAhPT0gMCB8fCB2YWx1ZVsxXSAhPT0gMCkge1xuICAgICAgRW5naW5lLmlucHV0U3RhdGUuc2V0KE1vdXNlSW5wdXQuTW91c2VDbGlja0Rvd25UcmFuc2Zvcm1Sb3RhdGlvbiwge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuVFdPRElNLFxuICAgICAgICB2YWx1ZTogWzAsIDBdLFxuICAgICAgICBsaWZlY3ljbGVTdGF0ZTogTGlmZWN5Y2xlVmFsdWUuRW5kZWRcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGNvb3JkaW5hdGVzIGFuZCBzZXQgdGhlIHJhbmdlIG9mIGNvb3JkaW5hdGVzIGJldHdlZW4gLTEgdG8gMS5cbiAqIEBwYXJhbSB4XG4gKiBAcGFyYW0geVxuICogQHBhcmFtIGVsZW1lbnRXaWR0aFxuICogQHBhcmFtIGVsZW1lbnRIZWlnaHRcbiAqIEByZXR1cm5zIE5vcm1hbGl6ZWQgTW91c2UgY29vcmRpbmF0ZXMgKHgsIHkpIHdoZXJlIHggYW5kIHkgYXJlIGJldHdlZW4gLTEgdG8gMSBpbmNsdXNpdmVseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU1vdXNlQ29vcmRpbmF0ZXMoXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICBlbGVtZW50V2lkdGg6IG51bWJlcixcbiAgZWxlbWVudEhlaWdodDogbnVtYmVyXG4pOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICByZXR1cm4ge1xuICAgIHg6ICh4IC8gZWxlbWVudFdpZHRoKSAqIDIgLSAxLFxuICAgIHk6ICh5IC8gZWxlbWVudEhlaWdodCkgKiAtMiArIDFcbiAgfVxufVxuIiwiaW1wb3J0IHsgaGFuZGxlR2FtZXBhZENvbm5lY3RlZCwgaGFuZGxlR2FtZXBhZERpc2Nvbm5lY3RlZCB9IGZyb20gJy4vR2FtZXBhZElucHV0J1xuaW1wb3J0IHtcbiAgaGFuZGxlQ29udGV4dE1lbnUsXG4gIGhhbmRsZUtleSxcbiAgaGFuZGxlTW91c2VCdXR0b24sXG4gIGhhbmRsZU1vdXNlTGVhdmUsXG4gIGhhbmRsZU1vdXNlTW92ZW1lbnQsXG4gIGhhbmRsZU1vdXNlV2hlZWwsXG4gIGhhbmRsZVRvdWNoLFxuICBoYW5kbGVUb3VjaERpcmVjdGlvbmFsUGFkLFxuICBoYW5kbGVUb3VjaEdhbWVwYWRCdXR0b24sXG4gIGhhbmRsZVRvdWNoTW92ZSxcbiAgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSxcbiAgaGFuZGxlV2luZG93Rm9jdXNcbn0gZnJvbSAnLi4vc2NoZW1hL0NsaWVudElucHV0U2NoZW1hJ1xuXG5jb25zdCBzdXBwb3J0c1Bhc3NpdmUgPSAoZnVuY3Rpb24gKCkge1xuICBsZXQgc3VwcG9ydHNQYXNzaXZlVmFsdWUgPSBmYWxzZVxuICB0cnkge1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN1cHBvcnRzUGFzc2l2ZVZhbHVlID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCEsIG9wdHMpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCEsIG9wdHMpXG4gIH0gY2F0Y2ggKGVycm9yKSB7fVxuICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlVmFsdWVcbn0pKClcblxuY29uc3Qga2V5cyA9IHsgMzc6IDEsIDM4OiAxLCAzOTogMSwgNDA6IDEgfVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMoZSkge1xuICBpZiAoa2V5c1tlLmtleUNvZGVdKSB7XG4gICAgcHJldmVudERlZmF1bHQoZSlcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5pbnRlcmZhY2UgTGlzdGVuZXJCaW5kaW5nRGF0YSB7XG4gIGRvbUVsZW1lbnQ6IGFueVxuICBldmVudE5hbWU6IHN0cmluZ1xuICBjYWxsYmFjazogKGV2ZW50KSA9PiB2b2lkXG59XG5cbmNvbnN0IGJvdW5kTGlzdGVuZXJzOiBMaXN0ZW5lckJpbmRpbmdEYXRhW10gPSBbXVxuXG5leHBvcnQgY29uc3QgYWRkQ2xpZW50SW5wdXRMaXN0ZW5lcnMgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBwcmV2ZW50RGVmYXVsdCwgZmFsc2UpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcHJldmVudERlZmF1bHRGb3JTY3JvbGxLZXlzLCBmYWxzZSlcblxuICBjb25zdCBhZGRMaXN0ZW5lciA9IChkb21FbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrLCBwYXNzaXZlID0gZmFsc2UpID0+IHtcbiAgICBpZiAocGFzc2l2ZSAmJiBzdXBwb3J0c1Bhc3NpdmUpIHtcbiAgICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCB7IHBhc3NpdmUgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spXG4gICAgfVxuICAgIGJvdW5kTGlzdGVuZXJzLnB1c2goe1xuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIGNhbGxiYWNrXG4gICAgfSlcbiAgfVxuXG4gIGFkZExpc3RlbmVyKGNhbnZhcywgJ2NvbnRleHRtZW51JywgaGFuZGxlQ29udGV4dE1lbnUpXG5cbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAnbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlbWVudClcbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAnbW91c2V1cCcsIGhhbmRsZU1vdXNlQnV0dG9uKVxuICBhZGRMaXN0ZW5lcihjYW52YXMsICdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZUJ1dHRvbilcbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAnbW91c2VsZWF2ZScsIGhhbmRsZU1vdXNlTGVhdmUpXG4gIGFkZExpc3RlbmVyKGNhbnZhcywgJ3doZWVsJywgaGFuZGxlTW91c2VXaGVlbCwgdHJ1ZSlcblxuICBhZGRMaXN0ZW5lcihcbiAgICBjYW52YXMsXG4gICAgJ3RvdWNoc3RhcnQnLFxuICAgIChlKSA9PiB7XG4gICAgICBoYW5kbGVUb3VjaChlKVxuICAgICAgaGFuZGxlVG91Y2hNb3ZlKGUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAndG91Y2hlbmQnLCBoYW5kbGVUb3VjaCwgdHJ1ZSlcbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAndG91Y2hjYW5jZWwnLCBoYW5kbGVUb3VjaCwgdHJ1ZSlcbiAgYWRkTGlzdGVuZXIoY2FudmFzLCAndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlLCB0cnVlKVxuXG4gIGFkZExpc3RlbmVyKGRvY3VtZW50LCAna2V5dXAnLCBoYW5kbGVLZXkpXG4gIGFkZExpc3RlbmVyKGRvY3VtZW50LCAna2V5ZG93bicsIGhhbmRsZUtleSlcblxuICBhZGRMaXN0ZW5lcih3aW5kb3csICdmb2N1cycsIGhhbmRsZVdpbmRvd0ZvY3VzKVxuICBhZGRMaXN0ZW5lcih3aW5kb3csICdibHVyJywgaGFuZGxlV2luZG93Rm9jdXMpXG5cbiAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsICd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSlcbiAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsICd0b3VjaHN0aWNrbW92ZScsIGhhbmRsZVRvdWNoRGlyZWN0aW9uYWxQYWQpXG4gIGFkZExpc3RlbmVyKGRvY3VtZW50LCAndG91Y2hnYW1lcGFkYnV0dG9uZG93bicsIGhhbmRsZVRvdWNoR2FtZXBhZEJ1dHRvbilcbiAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsICd0b3VjaGdhbWVwYWRidXR0b251cCcsIGhhbmRsZVRvdWNoR2FtZXBhZEJ1dHRvbilcblxuICBhZGRMaXN0ZW5lcih3aW5kb3csICdnYW1lcGFkY29ubmVjdGVkJywgaGFuZGxlR2FtZXBhZENvbm5lY3RlZClcbiAgYWRkTGlzdGVuZXIod2luZG93LCAnZ2FtZXBhZGRpc2Nvbm5lY3RlZCcsIGhhbmRsZUdhbWVwYWREaXNjb25uZWN0ZWQpXG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVDbGllbnRJbnB1dExpc3RlbmVycyA9ICgpID0+IHtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgcHJldmVudERlZmF1bHQsIGZhbHNlKVxuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cywgZmFsc2UpXG5cbiAgYm91bmRMaXN0ZW5lcnMuZm9yRWFjaCgoeyBkb21FbGVtZW50LCBldmVudE5hbWUsIGNhbGxiYWNrIH0pID0+IHtcbiAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaylcbiAgfSlcbiAgYm91bmRMaXN0ZW5lcnMuc3BsaWNlKDAsIGJvdW5kTGlzdGVuZXJzLmxlbmd0aCAtIDEpXG59XG4iLCJleHBvcnQgY29uc3QgY29uZmlnQ2FudmFzRWxlbWVudCA9IChjYW52YXM6IHN0cmluZyk6IEhUTUxDYW52YXNFbGVtZW50ID0+IHtcbiAgY29uc3QgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhcykgYXMgSFRNTENhbnZhc0VsZW1lbnRcblxuICBjYW52YXNFbGVtZW50Lm9uZHJhZ3N0YXJ0ID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBjYW52YXNFbGVtZW50XG59XG4iLCJpbXBvcnQgeyBpc0NsaWVudCB9IGZyb20gJy4uLy4uL2NvbW1vbi9mdW5jdGlvbnMvaXNDbGllbnQnXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi8uLi9uZXR3b3JraW5nL2ludGVyZmFjZXMvQWN0aW9uJ1xuaW1wb3J0IHsgZGVmaW5lUXVlcnksIGdldENvbXBvbmVudCwgaGFzQ29tcG9uZW50LCBNYXBwZWRDb21wb25lbnQgfSBmcm9tICcuLi9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlRW50aXR5IH0gZnJvbSAnLi4vZnVuY3Rpb25zL0VudGl0eUZ1bmN0aW9ucydcbmltcG9ydCB7IFN5c3RlbUZhY3RvcnlUeXBlLCBTeXN0ZW1Nb2R1bGVUeXBlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL1N5c3RlbUZ1bmN0aW9ucydcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJy4vRW50aXR5J1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi9TeXN0ZW0nXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL0VuZ2luZSdcbmltcG9ydCAqIGFzIGJpdGVjcyBmcm9tICdiaXRlY3MnXG5pbXBvcnQgeyBBdmF0YXJDb21wb25lbnQgfSBmcm9tICcuLi8uLi9hdmF0YXIvY29tcG9uZW50cy9BdmF0YXJDb21wb25lbnQnXG5pbXBvcnQgeyBOZXR3b3JrT2JqZWN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbmV0d29ya2luZy9jb21wb25lbnRzL05ldHdvcmtPYmplY3RDb21wb25lbnQnXG5pbXBvcnQgeyBQaHlzaWNzIH0gZnJvbSAnLi4vLi4vcGh5c2ljcy9jbGFzc2VzL1BoeXNpY3MnXG5pbXBvcnQgeyBIb3N0VXNlcklkLCBVc2VySWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXJJZCdcbmltcG9ydCB7IE5ldHdvcmtJZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvTmV0d29ya0lkJ1xuaW1wb3J0IHsgTmV0d29ya0NsaWVudCB9IGZyb20gJy4uLy4uL25ldHdvcmtpbmcvaW50ZXJmYWNlcy9OZXR3b3JrQ2xpZW50J1xuaW1wb3J0IHsgU3lzdGVtVXBkYXRlVHlwZSB9IGZyb20gJy4uL2Z1bmN0aW9ucy9TeXN0ZW1VcGRhdGVUeXBlJ1xuaW1wb3J0IHsgV29ybGRTdGF0ZUludGVyZmFjZSB9IGZyb20gJy4uLy4uL25ldHdvcmtpbmcvc2NoZW1hL25ldHdvcmtTY2hlbWEnXG5cbnR5cGUgU3lzdGVtSW5zdGFuY2VUeXBlID0geyBuYW1lOiBzdHJpbmc7IHR5cGU6IFN5c3RlbVVwZGF0ZVR5cGU7IGV4ZWN1dGU6IFN5c3RlbSB9XG5cbnR5cGUgUmVtb3ZlSW5kZXg8VD4gPSB7XG4gIFtLIGluIGtleW9mIFQgYXMgc3RyaW5nIGV4dGVuZHMgSyA/IG5ldmVyIDogbnVtYmVyIGV4dGVuZHMgSyA/IG5ldmVyIDogS106IFRbS11cbn1cblxuZXhwb3J0IGNvbnN0IENyZWF0ZVdvcmxkID0gU3ltYm9sKCdDcmVhdGVXb3JsZCcpXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIGJpdGVjcy5jcmVhdGVXb3JsZCh0aGlzKVxuICAgIEVuZ2luZS53b3JsZHMucHVzaCh0aGlzKVxuICAgIHRoaXMud29ybGRFbnRpdHkgPSBjcmVhdGVFbnRpdHkodGhpcylcbiAgICB0aGlzLmxvY2FsQ2xpZW50RW50aXR5ID0gaXNDbGllbnQgPyAoY3JlYXRlRW50aXR5KHRoaXMpIGFzIEVudGl0eSkgOiAoTmFOIGFzIEVudGl0eSlcbiAgICBpZiAoIUVuZ2luZS5kZWZhdWx0V29ybGQpIEVuZ2luZS5kZWZhdWx0V29ybGQgPSB0aGlzXG4gIH1cblxuICBzdGF0aWMgW0NyZWF0ZVdvcmxkXSA9ICgpID0+IG5ldyBXb3JsZCgpXG5cbiAgc2NlbmVNZXRhZGF0YSA9IHVuZGVmaW5lZCBhcyBzdHJpbmcgfCB1bmRlZmluZWRcbiAgd29ybGRNZXRhZGF0YSA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH1cblxuICBkZWx0YSA9IE5hTlxuICBlbGFwc2VkVGltZSA9IE5hTlxuICBmaXhlZERlbHRhID0gTmFOXG4gIGZpeGVkRWxhcHNlZFRpbWUgPSBOYU5cbiAgZml4ZWRUaWNrID0gLTFcblxuICBfcmVtb3ZlZENvbXBvbmVudHMgPSBuZXcgTWFwPEVudGl0eSwgU2V0PE1hcHBlZENvbXBvbmVudDxhbnksIGFueT4+PigpXG4gIF9waXBlbGluZSA9IFtdIGFzIFN5c3RlbU1vZHVsZVR5cGU8YW55PltdXG5cbiAgcGh5c2ljcyA9IG5ldyBQaHlzaWNzKClcbiAgZW50aXRpZXMgPSBbXSBhcyBFbnRpdHlbXVxuICBwb3J0YWxFbnRpdGllcyA9IFtdIGFzIEVudGl0eVtdXG4gIGlzSW5Qb3J0YWwgPSBmYWxzZVxuXG4gIC8qKiBDb25uZWN0ZWQgY2xpZW50cyAqL1xuICBjbGllbnRzID0gbmV3IE1hcCgpIGFzIE1hcDxVc2VySWQsIE5ldHdvcmtDbGllbnQ+XG5cbiAgLyoqIEluY29taW5nIGFjdGlvbnMgKi9cbiAgaW5jb21pbmdBY3Rpb25zID0gbmV3IFNldDxSZXF1aXJlZDxBY3Rpb24+PigpXG5cbiAgLyoqIERlbGF5ZWQgYWN0aW9ucyAqL1xuICBkZWxheWVkQWN0aW9ucyA9IG5ldyBTZXQ8UmVxdWlyZWQ8QWN0aW9uPj4oKVxuXG4gIC8qKiBPdXRnb2luZyBhY3Rpb25zICovXG4gIG91dGdvaW5nQWN0aW9ucyA9IG5ldyBTZXQ8QWN0aW9uPigpXG5cbiAgb3V0Z29pbmdOZXR3b3JrU3RhdGU6IFdvcmxkU3RhdGVJbnRlcmZhY2VcbiAgcHJldmlvdXNOZXR3b3JrU3RhdGU6IFdvcmxkU3RhdGVJbnRlcmZhY2VcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyB1c2VyIGlzIGhvc3RpbmcgdGhlIHdvcmxkLlxuICAgKi9cbiAgZ2V0IGlzSG9zdGluZygpIHtcbiAgICByZXR1cm4gRW5naW5lLnVzZXJJZCA9PT0gdGhpcy5ob3N0SWRcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgVXNlcklkIG9mIHRoZSBob3N0XG4gICAqL1xuICBob3N0SWQgPSAnc2VydmVyJyBhcyBIb3N0VXNlcklkXG5cbiAgLyoqXG4gICAqIFRoZSB3b3JsZCBlbnRpdHkgKGFsd2F5cyBleGlzdHMsIGFuZCBhbHdheXMgaGFzIGVpZCAwKVxuICAgKi9cbiAgd29ybGRFbnRpdHk6IEVudGl0eVxuXG4gIC8qKlxuICAgKiBUaGUgbG9jYWwgY2xpZW50IGVudGl0eVxuICAgKi9cbiAgbG9jYWxDbGllbnRFbnRpdHk6IEVudGl0eVxuXG4gIC8qKlxuICAgKiBTeXN0ZW1zIHRoYXQgcnVuIG9ubHkgb25jZSBldmVyeSBmcmFtZS5cbiAgICogSWRlYWwgZm9yIGNvc21ldGljIHVwZGF0ZXMgKGUuZy4sIHBhcnRpY2xlcyksIGFuaW1hdGlvbiwgcmVuZGVyaW5nLCBldGMuXG4gICAqL1xuICBmcmVlU3lzdGVtcyA9IFtdIGFzIFN5c3RlbUluc3RhbmNlVHlwZVtdXG5cbiAgLyoqXG4gICAqIFN5c3RlbXMgdGhhdCBydW4gb25jZSBmb3IgZXZlcnkgZml4ZWQgdGltZSBpbnRlcnZhbCAoaW4gc2ltdWxhdGlvbiB0aW1lKS5cbiAgICogSWRlYWwgZm9yIGdhbWUgbG9naWMsIGFpIGxvZ2ljLCBzaW11bGF0aW9uIGxvZ2ljLCBldGMuXG4gICAqL1xuICBmaXhlZFN5c3RlbXMgPSBbXSBhcyBTeXN0ZW1JbnN0YW5jZVR5cGVbXVxuXG4gIC8qKlxuICAgKiBDdXN0b20gc3lzdGVtcyBpbmplY3RlZCBpbnRvIHRoaXMgd29ybGRcbiAgICovXG4gIGluamVjdGVkU3lzdGVtcyA9IHtcbiAgICBbU3lzdGVtVXBkYXRlVHlwZS5VUERBVEVdOiBbXSxcbiAgICBbU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9FQVJMWV06IFtdLFxuICAgIFtTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEXTogW10sXG4gICAgW1N5c3RlbVVwZGF0ZVR5cGUuRklYRURfTEFURV06IFtdLFxuICAgIFtTeXN0ZW1VcGRhdGVUeXBlLlBSRV9SRU5ERVJdOiBbXSxcbiAgICBbU3lzdGVtVXBkYXRlVHlwZS5QT1NUX1JFTkRFUl06IFtdXG4gIH0gYXMgeyBbcGlwZWxpbmU6IHN0cmluZ106IFN5c3RlbUluc3RhbmNlVHlwZVtdIH1cblxuICAvKipcbiAgICogRW50aXRpZXMgbWFwcGVkIGJ5IG5hbWVcbiAgICovXG4gIG5hbWVkRW50aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgRW50aXR5PigpXG5cbiAgLyoqXG4gICAqIE5ldHdvcmsgb2JqZWN0IHF1ZXJ5XG4gICAqL1xuICBuZXR3b3JrT2JqZWN0UXVlcnkgPSBkZWZpbmVRdWVyeShbTmV0d29ya09iamVjdENvbXBvbmVudF0pXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmV0d29yayBvYmplY3RzIG93bmVkIGJ5IGEgZ2l2ZW4gdXNlclxuICAgKiBAcGFyYW0gdXNlcklkXG4gICAqL1xuICBnZXRPd25lZE5ldHdvcmtPYmplY3RzKHVzZXJJZDogVXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMubmV0d29ya09iamVjdFF1ZXJ5KHRoaXMpLmZpbHRlcigoZWlkKSA9PiBnZXRDb21wb25lbnQoZWlkLCBOZXR3b3JrT2JqZWN0Q29tcG9uZW50KS51c2VySWQgPT09IHVzZXJJZClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBuZXR3b3JrIG9iamVjdCBieSBOZXR3b3JrSWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIGdldE5ldHdvcmtPYmplY3QobmV0d29ya0lkOiBOZXR3b3JrSWQpIHtcbiAgICByZXR1cm4gdGhpcy5uZXR3b3JrT2JqZWN0UXVlcnkodGhpcykuZmluZChcbiAgICAgIChlaWQpID0+IGdldENvbXBvbmVudChlaWQsIE5ldHdvcmtPYmplY3RDb21wb25lbnQpLm5ldHdvcmtJZCA9PT0gbmV0d29ya0lkXG4gICAgKSFcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHVzZXIgYXZhdGFyIGVudGl0eSAodGhlIG5ldHdvcmsgb2JqZWN0IHcvIGFuIEF2YXRhciBjb21wb25lbnQpXG4gICAqIEBwYXJhbSB1c2VySWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIGdldFVzZXJBdmF0YXJFbnRpdHkodXNlcklkOiBVc2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPd25lZE5ldHdvcmtPYmplY3RzKHVzZXJJZCkuZmluZCgoZWlkKSA9PiB7XG4gICAgICByZXR1cm4gaGFzQ29tcG9uZW50KGVpZCwgQXZhdGFyQ29tcG9uZW50LCB0aGlzKVxuICAgIH0pIVxuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiByZWNlcHRvcnNcbiAgICovXG4gIHJlY2VwdG9ycyA9IG5ldyBTZXQ8KGFjdGlvbjogQWN0aW9uKSA9PiB2b2lkPigpXG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgc3lzdGVtcyBvbiB0aGlzIHdvcmxkXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YVxuICAgKiBAcGFyYW0gZWxhcHNlZFRpbWVcbiAgICovXG4gIGV4ZWN1dGUoZGVsdGE6IG51bWJlciwgZWxhcHNlZFRpbWU6IG51bWJlcikge1xuICAgIHRoaXMuZGVsdGEgPSBkZWx0YVxuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSBlbGFwc2VkVGltZVxuICAgIGZvciAoY29uc3Qgc3lzdGVtIG9mIHRoaXMuZnJlZVN5c3RlbXMpIHN5c3RlbS5leGVjdXRlKClcbiAgICBmb3IgKGNvbnN0IFtlbnRpdHksIGNvbXBvbmVudHNdIG9mIHRoaXMuX3JlbW92ZWRDb21wb25lbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgY29tcG9uZW50cykgYy5kZWxldGUoZW50aXR5KVxuICAgIH1cbiAgICB0aGlzLl9yZW1vdmVkQ29tcG9uZW50cy5jbGVhcigpXG4gIH1cblxuICBhc3luYyBpbml0U3lzdGVtcygpIHtcbiAgICBjb25zdCBsb2FkU3lzdGVtID0gYXN5bmMgKHM6IFN5c3RlbUZhY3RvcnlUeXBlPGFueT4pID0+IHtcbiAgICAgIGNvbnN0IHN5c3RlbSA9IGF3YWl0IHMuc3lzdGVtTW9kdWxlLmRlZmF1bHQodGhpcywgcy5hcmdzKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcy5zeXN0ZW1Nb2R1bGUuZGVmYXVsdC5uYW1lLFxuICAgICAgICB0eXBlOiBzLnR5cGUsXG4gICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3lzdGVtKClcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGFzIFN5c3RlbUluc3RhbmNlVHlwZVxuICAgIH1cbiAgICBjb25zdCBzeXN0ZW1Nb2R1bGUgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHRoaXMuX3BpcGVsaW5lLm1hcChhc3luYyAocykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHMuYXJncyxcbiAgICAgICAgICB0eXBlOiBzLnR5cGUsXG4gICAgICAgICAgc3lzdGVtTW9kdWxlOiBhd2FpdCBzLnN5c3RlbU1vZHVsZVByb21pc2VcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICAgY29uc3Qgc3lzdGVtcyA9IGF3YWl0IFByb21pc2UuYWxsKHN5c3RlbU1vZHVsZS5tYXAobG9hZFN5c3RlbSkpXG4gICAgc3lzdGVtcy5mb3JFYWNoKChzKSA9PiBjb25zb2xlLmxvZyhgJHtzLnR5cGV9ICR7cy5uYW1lfWApKVxuICAgIHRoaXMuZnJlZVN5c3RlbXMgPSBzeXN0ZW1zLmZpbHRlcigocykgPT4ge1xuICAgICAgcmV0dXJuICFzLnR5cGUuaW5jbHVkZXMoJ0ZJWEVEJylcbiAgICB9KVxuICAgIHRoaXMuZml4ZWRTeXN0ZW1zID0gc3lzdGVtcy5maWx0ZXIoKHMpID0+IHtcbiAgICAgIHJldHVybiBzLnR5cGUuaW5jbHVkZXMoJ0ZJWEVEJylcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKCdbV29ybGRdOiBBbGwgc3lzdGVtcyBpbml0aWFsaXplZCEnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXb3JsZCgpIHtcbiAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHdvcmxkJylcbiAgcmV0dXJuIFdvcmxkW0NyZWF0ZVdvcmxkXSgpXG59XG4iLCJpbXBvcnQgeyBkZXRlY3QsIGRldGVjdE9TIH0gZnJvbSAnZGV0ZWN0LWJyb3dzZXInXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeSwgRXVsZXIsIE1lc2gsIFBlcnNwZWN0aXZlQ2FtZXJhLCBRdWF0ZXJuaW9uLCBTY2VuZSB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgQXVkaW9MaXN0ZW5lciB9IGZyb20gJy4vYXVkaW8vU3RlcmVvQXVkaW9MaXN0ZW5lcidcbi8vQHRzLWlnbm9yZVxuaW1wb3J0IHsgYWNjZWxlcmF0ZWRSYXljYXN0LCBjb21wdXRlQm91bmRzVHJlZSwgZGlzcG9zZUJvdW5kc1RyZWUgfSBmcm9tICd0aHJlZS1tZXNoLWJ2aCdcbmltcG9ydCB7IGxvYWREUkFDT0RlY29kZXIgfSBmcm9tICcuL2Fzc2V0cy9sb2FkZXJzL2dsdGYvTm9kZURyYWNvTG9hZGVyJ1xuaW1wb3J0IHsgU3Bhd25Qb2ludHMgfSBmcm9tICcuL2F2YXRhci9BdmF0YXJTcGF3blN5c3RlbSdcbmltcG9ydCB7IEJvdEhvb2tGdW5jdGlvbnMgfSBmcm9tICcuL2JvdC9mdW5jdGlvbnMvYm90SG9va0Z1bmN0aW9ucydcbmltcG9ydCB7IFRpbWVyIH0gZnJvbSAnLi9jb21tb24vZnVuY3Rpb25zL1RpbWVyJ1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBFbmdpbmVFdmVudHMgfSBmcm9tICcuL2Vjcy9jbGFzc2VzL0VuZ2luZUV2ZW50cydcbmltcG9ydCB7IHJlc2V0IH0gZnJvbSAnLi9lY3MvZnVuY3Rpb25zL0VuZ2luZUZ1bmN0aW9ucydcbmltcG9ydCB7IHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zLCByZWdpc3RlclN5c3RlbSwgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyB9IGZyb20gJy4vZWNzL2Z1bmN0aW9ucy9TeXN0ZW1GdW5jdGlvbnMnXG5pbXBvcnQgeyBTeXN0ZW1VcGRhdGVUeXBlIH0gZnJvbSAnLi9lY3MvZnVuY3Rpb25zL1N5c3RlbVVwZGF0ZVR5cGUnXG5pbXBvcnQgeyBEZWZhdWx0SW5pdGlhbGl6YXRpb25PcHRpb25zLCBFbmdpbmVTeXN0ZW1QcmVzZXRzLCBJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJy4vaW5pdGlhbGl6YXRpb25PcHRpb25zJ1xuaW1wb3J0IHsgYWRkQ2xpZW50SW5wdXRMaXN0ZW5lcnMsIHJlbW92ZUNsaWVudElucHV0TGlzdGVuZXJzIH0gZnJvbSAnLi9pbnB1dC9mdW5jdGlvbnMvY2xpZW50SW5wdXRMaXN0ZW5lcnMnXG5pbXBvcnQgeyBOZXR3b3JrIH0gZnJvbSAnLi9uZXR3b3JraW5nL2NsYXNzZXMvTmV0d29yaydcbmltcG9ydCB7IGNvbmZpZ0NhbnZhc0VsZW1lbnQgfSBmcm9tICcuL3JlbmRlcmVyL2Z1bmN0aW9ucy9jYW52YXMnXG5pbXBvcnQgeyBGb250TWFuYWdlciB9IGZyb20gJy4veHJ1aS9jbGFzc2VzL0ZvbnRNYW5hZ2VyJ1xuaW1wb3J0IHsgY3JlYXRlV29ybGQgfSBmcm9tICcuL2Vjcy9jbGFzc2VzL1dvcmxkJ1xuaW1wb3J0IHsgVXNlcklkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VySWQnXG5cbi8vIEB0cy1pZ25vcmVcblF1YXRlcm5pb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHsgeDogdGhpcy5feCwgeTogdGhpcy5feSwgejogdGhpcy5feiwgdzogdGhpcy5fdyB9XG59XG5cbi8vIEB0cy1pZ25vcmVcbkV1bGVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7IHg6IHRoaXMuX3gsIHk6IHRoaXMuX3ksIHo6IHRoaXMuX3osIG9yZGVyOiB0aGlzLl9vcmRlciB9XG59XG5cbk1lc2gucHJvdG90eXBlLnJheWNhc3QgPSBhY2NlbGVyYXRlZFJheWNhc3RcbkJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZVsnZGlzcG9zZUJvdW5kc1RyZWUnXSA9IGRpc3Bvc2VCb3VuZHNUcmVlXG5CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGVbJ2NvbXB1dGVCb3VuZHNUcmVlJ10gPSBjb21wdXRlQm91bmRzVHJlZVxuXG5jb25zdCBjb25maWd1cmVDbGllbnQgPSBhc3luYyAob3B0aW9uczogUmVxdWlyZWQ8SW5pdGlhbGl6ZU9wdGlvbnM+KSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGNvbmZpZ0NhbnZhc0VsZW1lbnQob3B0aW9ucy5yZW5kZXJlci5jYW52YXNJZCEpXG5cbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTEwNjM4OVxuICBFbmdpbmUuYXVkaW9MaXN0ZW5lciA9IG5ldyBBdWRpb0xpc3RlbmVyKClcblxuICBFbmdpbmUuc2NlbmUgPSBuZXcgU2NlbmUoKVxuICBFbmdpbmVFdmVudHMuaW5zdGFuY2Uub25jZShFbmdpbmVFdmVudHMuRVZFTlRTLkpPSU5FRF9XT1JMRCwgKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgY29uc3QgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSFcbiAgICBjb25zdCBkZWJ1Z0luZm8gPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKSFcbiAgICBjb25zdCByZW5kZXJlciA9IGdsLmdldFBhcmFtZXRlcihkZWJ1Z0luZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpXG4gICAgY29uc3QgZW5hYmxlUmVuZGVyZXIgPSAhL1N3aWZ0U2hhZGVyLy50ZXN0KHJlbmRlcmVyKVxuICAgIGNhbnZhcy5yZW1vdmUoKVxuICAgIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgIHR5cGU6IEVuZ2luZUV2ZW50cy5FVkVOVFMuRU5BQkxFX1NDRU5FLFxuICAgICAgcmVuZGVyZXI6IGVuYWJsZVJlbmRlcmVyLFxuICAgICAgcGh5c2ljczogdHJ1ZVxuICAgIH0pXG4gICAgRW5naW5lLmhhc0pvaW5lZFdvcmxkID0gdHJ1ZVxuICB9KVxuXG4gIGlmIChvcHRpb25zLnNjZW5lLmRpc2FibGVkICE9PSB0cnVlKSB7XG4gICAgRW5naW5lLmNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMDApXG4gICAgRW5naW5lLmNhbWVyYS5sYXllcnMuZW5hYmxlQWxsKClcbiAgICBFbmdpbmUuc2NlbmUuYWRkKEVuZ2luZS5jYW1lcmEpXG4gICAgRW5naW5lLmNhbWVyYS5hZGQoRW5naW5lLmF1ZGlvTGlzdGVuZXIpXG4gICAgYWRkQ2xpZW50SW5wdXRMaXN0ZW5lcnMoY2FudmFzKVxuICB9XG5cbiAgYXdhaXQgRm9udE1hbmFnZXIuaW5zdGFuY2UuZ2V0RGVmYXVsdEZvbnQoKVxuXG4gIGdsb2JhbFRoaXMuYm90SG9va3MgPSBCb3RIb29rRnVuY3Rpb25zXG4gIGdsb2JhbFRoaXMuRW5naW5lID0gRW5naW5lXG4gIGdsb2JhbFRoaXMuRW5naW5lRXZlbnRzID0gRW5naW5lRXZlbnRzXG4gIGdsb2JhbFRoaXMuTmV0d29yayA9IE5ldHdvcmtcblxuICBhd2FpdCByZWdpc3RlckNsaWVudFN5c3RlbXMob3B0aW9ucywgY2FudmFzKVxufVxuXG5jb25zdCBjb25maWd1cmVFZGl0b3IgPSBhc3luYyAob3B0aW9uczogUmVxdWlyZWQ8SW5pdGlhbGl6ZU9wdGlvbnM+KSA9PiB7XG4gIEVuZ2luZS5zY2VuZSA9IG5ldyBTY2VuZSgpXG5cbiAgRW5naW5lLmNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMDApXG4gIEVuZ2luZS5jYW1lcmEubGF5ZXJzLmVuYWJsZUFsbCgpXG4gIEVuZ2luZS5zY2VuZS5hZGQoRW5naW5lLmNhbWVyYSlcblxuICBhd2FpdCByZWdpc3RlckVkaXRvclN5c3RlbXMob3B0aW9ucylcbn1cblxuY29uc3QgY29uZmlndXJlU2VydmVyID0gYXN5bmMgKG9wdGlvbnM6IFJlcXVpcmVkPEluaXRpYWxpemVPcHRpb25zPiwgaXNNZWRpYVNlcnZlciA9IGZhbHNlKSA9PiB7XG4gIEVuZ2luZS5zY2VuZSA9IG5ldyBTY2VuZSgpXG5cbiAgTmV0d29yay5pbnN0YW5jZS5pc0luaXRpYWxpemVkID0gdHJ1ZVxuXG4gIEVuZ2luZUV2ZW50cy5pbnN0YW5jZS5vbmNlKEVuZ2luZUV2ZW50cy5FVkVOVFMuSk9JTkVEX1dPUkxELCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2pvaW5lZCB3b3JsZCcpXG4gICAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBFbmdpbmVFdmVudHMuRVZFTlRTLkVOQUJMRV9TQ0VORSwgcmVuZGVyZXI6IHRydWUsIHBoeXNpY3M6IHRydWUgfSlcbiAgICBFbmdpbmUuaGFzSm9pbmVkV29ybGQgPSB0cnVlXG4gIH0pXG5cbiAgaWYgKCFpc01lZGlhU2VydmVyKSB7XG4gICAgYXdhaXQgbG9hZERSQUNPRGVjb2RlcigpXG5cbiAgICBuZXcgU3Bhd25Qb2ludHMoKVxuXG4gICAgYXdhaXQgcmVnaXN0ZXJTZXJ2ZXJTeXN0ZW1zKG9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgYXdhaXQgcmVnaXN0ZXJNZWRpYVNlcnZlclN5c3RlbXMob3B0aW9ucylcbiAgfVxufVxuXG4vLyB0b2RvIC0gZXhwb3NlIHRoaXMgYXMgYSBkZWZhdWx0IGFuZCBvdmVycmlkYWJsZSBwaXBlbGluZVxuXG5jb25zdCByZWdpc3RlckNsaWVudFN5c3RlbXMgPSBhc3luYyAob3B0aW9uczogUmVxdWlyZWQ8SW5pdGlhbGl6ZU9wdGlvbnM+LCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSA9PiB7XG4gIGlmIChvcHRpb25zLnNjZW5lLmRpc2FibGVkKSB7XG4gICAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5VUERBVEUsIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvSW5jb21pbmdOZXR3b3JrU3lzdGVtJykpXG4gICAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5VUERBVEUsIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvT3V0Z29pbmdOZXR3b3JrU3lzdGVtJykpXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBJbnB1dFxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLlVQREFURSwgaW1wb3J0KCcuL3hyL3N5c3RlbXMvWFJTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5VUERBVEUsIGltcG9ydCgnLi9pbnB1dC9zeXN0ZW1zL0NsaWVudElucHV0U3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuVVBEQVRFLCBpbXBvcnQoJy4vY2FtZXJhL3N5c3RlbXMvQ2FtZXJhU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuVVBEQVRFLCBpbXBvcnQoJy4vbmF2aWdhdGlvbi9zeXN0ZW1zL0F1dG9waWxvdFN5c3RlbScpKVxuXG4gIHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zKFN5c3RlbVVwZGF0ZVR5cGUuVVBEQVRFLCBvcHRpb25zLnN5c3RlbXMpXG5cbiAgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyhTeXN0ZW1VcGRhdGVUeXBlLlVQREFURSwgaW1wb3J0KCcuL2Vjcy9mdW5jdGlvbnMvRml4ZWRQaXBlbGluZVN5c3RlbScpLCB7XG4gICAgdXBkYXRlc1BlclNlY29uZDogNjBcbiAgfSlcblxuICAvKipcbiAgICpcbiAgICogIEJlZ2luIEZJWEVEIFN5c3RlbXNcbiAgICpcbiAgICovXG5cbiAgLy8gTmV0d29yayAoSW5jb21pbmcpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRURfRUFSTFksIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvSW5jb21pbmdOZXR3b3JrU3lzdGVtJykpXG5cbiAgcmVnaXN0ZXJJbmplY3RlZFN5c3RlbXMoU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9FQVJMWSwgb3B0aW9ucy5zeXN0ZW1zKVxuXG4gIC8vIEJvdFxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVELCBpbXBvcnQoJy4vYm90L3N5c3RlbXMvQm90SG9va1N5c3RlbScpKVxuXG4gIC8vIE1hcHNcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRCwgaW1wb3J0KCcuL21hcC9NYXBVcGRhdGVTeXN0ZW0nKSlcblxuICAvLyBOYXZpZ2F0aW9uXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi9uYXZpZ2F0aW9uL3N5c3RlbXMvRm9sbG93U3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi9uYXZpZ2F0aW9uL3N5c3RlbXMvQWZrQ2hlY2tTeXN0ZW0nKSlcblxuICAvLyBBdmF0YXIgU3lzdGVtc1xuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVELCBpbXBvcnQoJy4vYXZhdGFyL0F2YXRhclNwYXduU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi9hdmF0YXIvQXZhdGFyU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi9hdmF0YXIvQXZhdGFyQ29udHJvbGxlclN5c3RlbScpKVxuICAvLyBBdmF0YXIgSUtSaWdcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRCwgaW1wb3J0KCcuL2lrcmlnL3N5c3RlbXMvU2tlbGV0b25SaWdTeXN0ZW0nKSlcblxuICByZWdpc3RlckluamVjdGVkU3lzdGVtcyhTeXN0ZW1VcGRhdGVUeXBlLkZJWEVELCBvcHRpb25zLnN5c3RlbXMpXG5cbiAgLy8gU2NlbmUgU3lzdGVtc1xuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIGltcG9ydCgnLi9pbnRlcmFjdGlvbi9zeXN0ZW1zL0VxdWlwcGFibGVTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9MQVRFLCBpbXBvcnQoJy4vc2NlbmUvc3lzdGVtcy9TY2VuZU9iamVjdFN5c3RlbScpKVxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIGltcG9ydCgnLi9zY2VuZS9zeXN0ZW1zL05hbWVkRW50aXRpZXNTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9MQVRFLCBpbXBvcnQoJy4vdHJhbnNmb3JtL3N5c3RlbXMvVHJhbnNmb3JtU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtV2l0aEFyZ3MoU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9MQVRFLCBpbXBvcnQoJy4vcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NTeXN0ZW0nKSwge1xuICAgIHNpbXVsYXRpb25FbmFibGVkOiBvcHRpb25zLnBoeXNpY3Muc2ltdWxhdGlvbkVuYWJsZWRcbiAgfSlcblxuICByZWdpc3RlckluamVjdGVkU3lzdGVtcyhTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIG9wdGlvbnMuc3lzdGVtcylcblxuICAvLyBOZXR3b3JrIChPdXRnb2luZylcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9MQVRFLCBpbXBvcnQoJy4vbmV0d29ya2luZy9zeXN0ZW1zL091dGdvaW5nTmV0d29ya1N5c3RlbScpKVxuXG4gIC8qKlxuICAgKlxuICAgKiAgRW5kIEZJWEVEIFN5c3RlbXNcbiAgICpcbiAgICovXG5cbiAgLy8gQ2FtZXJhICYgVUkgc3lzdGVtc1xuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLlBSRV9SRU5ERVIsIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvTWVkaWFTdHJlYW1TeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4veHJ1aS9zeXN0ZW1zL1hSVUlTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4vaW50ZXJhY3Rpb24vc3lzdGVtcy9JbnRlcmFjdGl2ZVN5c3RlbScpKVxuXG4gIC8vIEF1ZGlvIFN5c3RlbXNcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4vYXVkaW8vc3lzdGVtcy9BdWRpb1N5c3RlbScpKVxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLlBSRV9SRU5ERVIsIGltcG9ydCgnLi9hdWRpby9zeXN0ZW1zL1Bvc2l0aW9uYWxBdWRpb1N5c3RlbScpKVxuXG4gIC8vIEFuaW1hdGlvbiBTeXN0ZW1zXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuUFJFX1JFTkRFUiwgaW1wb3J0KCcuL2F2YXRhci9BdmF0YXJMb2FkaW5nU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuUFJFX1JFTkRFUiwgaW1wb3J0KCcuL2F2YXRhci9BbmltYXRpb25TeXN0ZW0nKSlcblxuICAvL1JlbmRlcmVkIFVwZGF0ZVxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLlBSRV9SRU5ERVIsIGltcG9ydCgnLi9zY2VuZS9zeXN0ZW1zL1JlbmRlcmVyVXBkYXRlU3lzdGVtJykpXG5cbiAgLy8gQW5pbWF0aW9uIFN5c3RlbXNcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4vcGFydGljbGVzL3N5c3RlbXMvUGFydGljbGVTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4vZGVidWcvc3lzdGVtcy9EZWJ1Z0hlbHBlcnNTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBpbXBvcnQoJy4vcmVuZGVyZXIvSGlnaGxpZ2h0U3lzdGVtJykpXG5cbiAgcmVnaXN0ZXJJbmplY3RlZFN5c3RlbXMoU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBvcHRpb25zLnN5c3RlbXMpXG5cbiAgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyhTeXN0ZW1VcGRhdGVUeXBlLlBSRV9SRU5ERVIsIGltcG9ydCgnLi9yZW5kZXJlci9XZWJHTFJlbmRlcmVyU3lzdGVtJyksIHtcbiAgICBjYW52YXMsXG4gICAgZW5hYmxlZDogIW9wdGlvbnMucmVuZGVyZXIuZGlzYWJsZWRcbiAgfSlcblxuICByZWdpc3RlckluamVjdGVkU3lzdGVtcyhTeXN0ZW1VcGRhdGVUeXBlLlBPU1RfUkVOREVSLCBvcHRpb25zLnN5c3RlbXMpXG59XG5cbmNvbnN0IHJlZ2lzdGVyRWRpdG9yU3lzdGVtcyA9IGFzeW5jIChvcHRpb25zOiBSZXF1aXJlZDxJbml0aWFsaXplT3B0aW9ucz4pID0+IHtcbiAgLy8gU2NlbmUgU3lzdGVtc1xuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVELCBpbXBvcnQoJy4vc2NlbmUvc3lzdGVtcy9OYW1lZEVudGl0aWVzU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi90cmFuc2Zvcm0vc3lzdGVtcy9UcmFuc2Zvcm1TeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyhTeXN0ZW1VcGRhdGVUeXBlLkZJWEVELCBpbXBvcnQoJy4vcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NTeXN0ZW0nKSwge1xuICAgIHNpbXVsYXRpb25FbmFibGVkOiBvcHRpb25zLnBoeXNpY3Muc2ltdWxhdGlvbkVuYWJsZWRcbiAgfSlcblxuICAvLyBNaXNjZWxsYW5lb3VzIFN5c3RlbXNcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRCwgaW1wb3J0KCcuL3BhcnRpY2xlcy9zeXN0ZW1zL1BhcnRpY2xlU3lzdGVtJykpXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIGltcG9ydCgnLi9kZWJ1Zy9zeXN0ZW1zL0RlYnVnSGVscGVyc1N5c3RlbScpKVxufVxuXG5jb25zdCByZWdpc3RlclNlcnZlclN5c3RlbXMgPSBhc3luYyAob3B0aW9uczogUmVxdWlyZWQ8SW5pdGlhbGl6ZU9wdGlvbnM+KSA9PiB7XG4gIHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zKFN5c3RlbVVwZGF0ZVR5cGUuVVBEQVRFLCBvcHRpb25zLnN5c3RlbXMpXG5cbiAgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyhTeXN0ZW1VcGRhdGVUeXBlLlVQREFURSwgaW1wb3J0KCcuL2Vjcy9mdW5jdGlvbnMvRml4ZWRQaXBlbGluZVN5c3RlbScpLCB7XG4gICAgdXBkYXRlc1BlclNlY29uZDogNjBcbiAgfSlcbiAgLy8gTmV0d29yayBJbmNvbWluZyBTeXN0ZW1zXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRURfRUFSTFksIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvSW5jb21pbmdOZXR3b3JrU3lzdGVtJykpXG5cbiAgcmVnaXN0ZXJJbmplY3RlZFN5c3RlbXMoU3lzdGVtVXBkYXRlVHlwZS5GSVhFRF9FQVJMWSwgb3B0aW9ucy5zeXN0ZW1zKVxuXG4gIC8vIElucHV0IFN5c3RlbXNcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRCwgaW1wb3J0KCcuL2F2YXRhci9BdmF0YXJTeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtVXBkYXRlVHlwZS5GSVhFRCwgaW1wb3J0KCcuL2F2YXRhci9BdmF0YXJTcGF3blN5c3RlbScpKVxuXG4gIHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zKFN5c3RlbVVwZGF0ZVR5cGUuRklYRUQsIG9wdGlvbnMuc3lzdGVtcylcblxuICAvLyBTY2VuZSBTeXN0ZW1zXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuRklYRURfTEFURSwgaW1wb3J0KCcuL3NjZW5lL3N5c3RlbXMvTmFtZWRFbnRpdGllc1N5c3RlbScpKVxuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIGltcG9ydCgnLi90cmFuc2Zvcm0vc3lzdGVtcy9UcmFuc2Zvcm1TeXN0ZW0nKSlcbiAgcmVnaXN0ZXJTeXN0ZW1XaXRoQXJncyhTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIGltcG9ydCgnLi9waHlzaWNzL3N5c3RlbXMvUGh5c2ljc1N5c3RlbScpLCB7XG4gICAgc2ltdWxhdGlvbkVuYWJsZWQ6IG9wdGlvbnMucGh5c2ljcy5zaW11bGF0aW9uRW5hYmxlZFxuICB9KVxuXG4gIHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zKFN5c3RlbVVwZGF0ZVR5cGUuRklYRURfTEFURSwgb3B0aW9ucy5zeXN0ZW1zKVxuXG4gIC8vIE5ldHdvcmsgT3V0Z29pbmcgU3lzdGVtc1xuICByZWdpc3RlclN5c3RlbShTeXN0ZW1VcGRhdGVUeXBlLkZJWEVEX0xBVEUsIGltcG9ydCgnLi9uZXR3b3JraW5nL3N5c3RlbXMvT3V0Z29pbmdOZXR3b3JrU3lzdGVtJykpXG5cbiAgcmVnaXN0ZXJJbmplY3RlZFN5c3RlbXMoU3lzdGVtVXBkYXRlVHlwZS5QUkVfUkVOREVSLCBvcHRpb25zLnN5c3RlbXMpXG4gIHJlZ2lzdGVySW5qZWN0ZWRTeXN0ZW1zKFN5c3RlbVVwZGF0ZVR5cGUuUE9TVF9SRU5ERVIsIG9wdGlvbnMuc3lzdGVtcylcbn1cblxuY29uc3QgcmVnaXN0ZXJNZWRpYVNlcnZlclN5c3RlbXMgPSBhc3luYyAob3B0aW9uczogUmVxdWlyZWQ8SW5pdGlhbGl6ZU9wdGlvbnM+KSA9PiB7XG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbVVwZGF0ZVR5cGUuVVBEQVRFLCBpbXBvcnQoJy4vbmV0d29ya2luZy9zeXN0ZW1zL01lZGlhU3RyZWFtU3lzdGVtJykpXG59XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplRW5naW5lID0gYXN5bmMgKGluaXRPcHRpb25zOiBJbml0aWFsaXplT3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IG9wdGlvbnM6IFJlcXVpcmVkPEluaXRpYWxpemVPcHRpb25zPiA9IF8uZGVmYXVsdHNEZWVwKHt9LCBpbml0T3B0aW9ucywgRGVmYXVsdEluaXRpYWxpemF0aW9uT3B0aW9ucylcbiAgY29uc3Qgc2NlbmVXb3JsZCA9IGNyZWF0ZVdvcmxkKClcbiAgRW5naW5lLmN1cnJlbnRXb3JsZCA9IHNjZW5lV29ybGRcblxuICBFbmdpbmUuaW5pdE9wdGlvbnMgPSBvcHRpb25zXG4gIEVuZ2luZS5vZmZsaW5lTW9kZSA9IGZhbHNlIC8vIFRPRE9cbiAgRW5naW5lLnB1YmxpY1BhdGggPSBvcHRpb25zLnB1YmxpY1BhdGhcblxuICAvLyBCcm93c2VyIHN0YXRlIHNldFxuICBpZiAob3B0aW9ucy50eXBlICE9PSBFbmdpbmVTeXN0ZW1QcmVzZXRzLlNFUlZFUiAmJiBnbG9iYWxUaGlzLm5hdmlnYXRvciAmJiBnbG9iYWxUaGlzLndpbmRvdykge1xuICAgIGNvbnN0IGJyb3dzZXIgPSBkZXRlY3QoKVxuICAgIGNvbnN0IG9zID0gZGV0ZWN0T1MobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuICAgIC8vIEFkZCBpT1MgYW5kIHNhZmFyaSBmbGFnIHRvIHdpbmRvdyBvYmplY3QgLS0gVG8gdXNlIGl0IGZvciBjcmVhdGluZyBhbiBpT1MgY29tcGF0aWJsZSBXZWJHTFJlbmRlcmVyIGZvciBleGFtcGxlXG4gICAgOyh3aW5kb3cgYXMgYW55KS5pT1MgPVxuICAgICAgb3MgPT09ICdpT1MnIHx8XG4gICAgICAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pIHx8XG4gICAgICAobmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpXG4gICAgOyh3aW5kb3cgYXMgYW55KS5zYWZhcmlXZWJCcm93c2VyID0gYnJvd3Nlcj8ubmFtZSA9PT0gJ3NhZmFyaSdcblxuICAgIEVuZ2luZS5pc0hNRCA9IC9PY3VsdXMvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIC8vIFRPRE86IG1vcmUgSE1EcztcbiAgICBFbmdpbmUueHJTdXBwb3J0ZWQgPSBhd2FpdCAobmF2aWdhdG9yIGFzIGFueSkueHI/LmlzU2Vzc2lvblN1cHBvcnRlZCgnaW1tZXJzaXZlLXZyJylcbiAgfVxuXG4gIC8vIENvbmZpZyBFbmdpbmUgYmFzZWQgb24gcGFzc2VkIHR5cGVcbiAgaWYgKG9wdGlvbnMudHlwZSA9PT0gRW5naW5lU3lzdGVtUHJlc2V0cy5DTElFTlQpIHtcbiAgICBhd2FpdCBjb25maWd1cmVDbGllbnQob3B0aW9ucylcbiAgfSBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09IEVuZ2luZVN5c3RlbVByZXNldHMuRURJVE9SKSB7XG4gICAgYXdhaXQgY29uZmlndXJlRWRpdG9yKG9wdGlvbnMpXG4gIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSBFbmdpbmVTeXN0ZW1QcmVzZXRzLlNFUlZFUikge1xuICAgIGF3YWl0IGNvbmZpZ3VyZVNlcnZlcihvcHRpb25zKVxuICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gRW5naW5lU3lzdGVtUHJlc2V0cy5NRURJQSkge1xuICAgIGF3YWl0IGNvbmZpZ3VyZVNlcnZlcihvcHRpb25zLCB0cnVlKVxuICB9XG5cbiAgYXdhaXQgc2NlbmVXb3JsZC5waHlzaWNzLmNyZWF0ZVNjZW5lKClcblxuICBhd2FpdCBzY2VuZVdvcmxkLmluaXRTeXN0ZW1zKClcblxuICBjb25zdCBleGVjdXRlV29ybGRzID0gKGRlbHRhLCBlbGFwc2VkVGltZSkgPT4ge1xuICAgIGZvciAoY29uc3Qgd29ybGQgb2YgRW5naW5lLndvcmxkcykge1xuICAgICAgRW5naW5lLmN1cnJlbnRXb3JsZCA9IHdvcmxkXG4gICAgICB3b3JsZC5leGVjdXRlKGRlbHRhLCBlbGFwc2VkVGltZSlcbiAgICB9XG4gICAgRW5naW5lLmN1cnJlbnRXb3JsZCA9IG51bGxcbiAgfVxuXG4gIEVuZ2luZS5lbmdpbmVUaW1lciA9IFRpbWVyKGV4ZWN1dGVXb3JsZHMpXG5cbiAgLy8gRW5naW5lIHR5cGUgc3BlY2lmaWMgcG9zdCBjb25maWd1cmF0aW9uIHdvcmtcbiAgaWYgKG9wdGlvbnMudHlwZSA9PT0gRW5naW5lU3lzdGVtUHJlc2V0cy5DTElFTlQpIHtcbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2Uub25jZShFbmdpbmVFdmVudHMuRVZFTlRTLlNDRU5FX0xPQURFRCwgKCkgPT4ge1xuICAgICAgRW5naW5lLmVuZ2luZVRpbWVyLnN0YXJ0KClcbiAgICB9KVxuICAgIGNvbnN0IG9uVXNlckVuZ2FnZSA9ICgpID0+IHtcbiAgICAgIEVuZ2luZS5oYXNFbmdhZ2VkID0gdHJ1ZVxuICAgICAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBFbmdpbmVFdmVudHMuRVZFTlRTLlVTRVJfRU5HQUdFIH0pXG4gICAgICA7WydjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3BvaW50ZXJkb3duJ10uZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvblVzZXJFbmdhZ2UpXG4gICAgICB9KVxuICAgIH1cbiAgICA7WydjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3BvaW50ZXJkb3duJ10uZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25Vc2VyRW5nYWdlKVxuICAgIH0pXG5cbiAgICBFbmdpbmVFdmVudHMuaW5zdGFuY2Uub25jZShFbmdpbmVFdmVudHMuRVZFTlRTLkNPTk5FQ1QsICh7IGlkIH0pID0+IHtcbiAgICAgIE5ldHdvcmsuaW5zdGFuY2UuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgICAgIEVuZ2luZS51c2VySWQgPSBpZFxuICAgIH0pXG4gIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSBFbmdpbmVTeXN0ZW1QcmVzZXRzLlNFUlZFUikge1xuICAgIEVuZ2luZS51c2VySWQgPSAnc2VydmVyJyBhcyBVc2VySWRcbiAgICBFbmdpbmUuZW5naW5lVGltZXIuc3RhcnQoKVxuICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gRW5naW5lU3lzdGVtUHJlc2V0cy5NRURJQSkge1xuICAgIEVuZ2luZS51c2VySWQgPSAnbWVkaWFzZXJ2ZXInIGFzIFVzZXJJZFxuICAgIEVuZ2luZS5lbmdpbmVUaW1lci5zdGFydCgpXG4gIH1cblxuICAvLyBNYXJrIGVuZ2luZSBpbml0aWFsaXplZFxuICBFbmdpbmUuaXNJbml0aWFsaXplZCA9IHRydWVcbiAgRW5naW5lRXZlbnRzLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiBFbmdpbmVFdmVudHMuRVZFTlRTLklOSVRJQUxJWkVEX0VOR0lORSB9KVxufVxuXG5leHBvcnQgY29uc3Qgc2h1dGRvd25FbmdpbmUgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChFbmdpbmUuaW5pdE9wdGlvbnM/LnR5cGUgPT09IEVuZ2luZVN5c3RlbVByZXNldHMuQ0xJRU5UKSB7XG4gICAgcmVtb3ZlQ2xpZW50SW5wdXRMaXN0ZW5lcnMoKVxuICB9XG5cbiAgRW5naW5lLmVuZ2luZVRpbWVyPy5jbGVhcigpXG4gIEVuZ2luZS5lbmdpbmVUaW1lciA9IG51bGwhXG5cbiAgYXdhaXQgcmVzZXQoKVxufVxuIiwiLyoqXG4gKkNvbXBvbWVudCB0byByZW5kZXIgZXhpc3RpbmcgcHJvamVjdCBvbiB0aGUgYmFzaXMgb2YgcHJvamVjdElkLlxuICpAUGFyYW0gOi0gcHJvamVjdElkXG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IGxhenksIFN1c3BlbnNlLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbi8vIGltcG9ydGluZyBjb21wb25lbnQgRWRpdG9yQ29udGFpbmVyLlxuY29uc3QgRWRpdG9yQ29udGFpbmVyID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvRWRpdG9yQ29udGFpbmVyJykpXG5cbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyB1c2VBdXRoU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU3RhdGUnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhTZXJ2aWNlJ1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUVuZ2luZSB9IGZyb20gJ0B4cmVuZ2luZS9lbmdpbmUvc3JjL2luaXRpYWxpemVFbmdpbmUnXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICdAeHJlbmdpbmUvZW5naW5lL3NyYy9lY3MvY2xhc3Nlcy9FbmdpbmUnXG5pbXBvcnQgeyBFbmdpbmVTeXN0ZW1QcmVzZXRzLCBJbml0aWFsaXplT3B0aW9ucyB9IGZyb20gJ0B4cmVuZ2luZS9lbmdpbmUvc3JjL2luaXRpYWxpemF0aW9uT3B0aW9ucydcblxuLyoqXG4gKiBEZWNsYXJpbmcgUHJvcHMgaW50ZXJmYWNlIGhhdmluZyB0d28gcHJvcHMuXG4gKkBhdXRoU3RhdGUgY2FuIGJlIG9mIGFueSB0eXBlLlxuICpAZG9Mb2dpbkF1dG8gY2FuIGJlIG9mIHR5cGUgZG9Mb2dpbkF1dG8gY29tcG9uZW50LlxuICpcbiAqL1xuaW50ZXJmYWNlIFByb3BzIHtcbiAgLy9kb0xvZ2luQXV0bz86IHR5cGVvZiBBdXRoU2VydmljZS5kb0xvZ2luQXV0b1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIGNvbXBvbmVudCBwcm92aWRpbmcgcHJvamVjdCBlZGl0b3Igdmlldy5cbiAqL1xuY29uc3QgUHJvamVjdCA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgLy8gaW5pdGlhbGlzaW5nIGNvbnN0cyB1c2luZyBwcm9wcyBpbnRlcmZhY2UuXG4gIC8vY29uc3QgeyAgZG9Mb2dpbkF1dG8gfSA9IHByb3BzXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCBhdXRoU3RhdGUgPSB1c2VBdXRoU3RhdGUoKVxuICAvLyBpbml0aWFsaXNpbmcgYXV0aFVzZXIuXG4gIGNvbnN0IGF1dGhVc2VyID0gYXV0aFN0YXRlLmF1dGhVc2VyXG4gIC8vIGluaXRpYWxpc2luZyBhdXRoU3RhdGUuXG4gIGNvbnN0IHVzZXIgPSBhdXRoU3RhdGUudXNlclxuICAvLyBpbml0aWFsaXNpbmcgaGFzTW91bnRlZCB0byBmYWxzZS5cbiAgY29uc3QgW2hhc01vdW50ZWQsIHNldEhhc01vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgW2VuZ2luZUlzSW5pdGlhbGl6ZWQsIHNldEVuZ2luZUluaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IGluaXRpYWxpemF0aW9uT3B0aW9uczogSW5pdGlhbGl6ZU9wdGlvbnMgPSB7XG4gICAgdHlwZTogRW5naW5lU3lzdGVtUHJlc2V0cy5FRElUT1IsXG4gICAgcHVibGljUGF0aDogbG9jYXRpb24ub3JpZ2luXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGluaXRpYWxpemVFbmdpbmUoaW5pdGlhbGl6YXRpb25PcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIGVuZ2luZSBpbml0ZWQnKVxuICAgICAgc2V0RW5naW5lSW5pdGlhbGl6ZWQodHJ1ZSlcbiAgICB9KVxuICB9LCBbXSlcblxuICAvLyBzZXR0aW5nIGhhc01vdW50ZWQgdHJ1ZSBvbmNlIERPTSBnZXQgcmVuZGVyZWQgb3IgZ2V0IHVwZGF0ZWQuXG4gIHVzZUVmZmVjdCgoKSA9PiBzZXRIYXNNb3VudGVkKHRydWUpLCBbXSlcblxuICAvLyBzZXR0aW5nIGRvTG9naW5BdXRvIHRydWUgb25jZSBET00gZ2V0IHJlbmRlcmVkIG9yIGdldCB1cGRhdGVkLi5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwYXRjaChBdXRoU2VydmljZS5kb0xvZ2luQXV0byh0cnVlKSlcbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIHZhbGlkYXRpbmcgdXNlciBhbmQgcmVuZGVyaW5nIEVkaXRvckNvbnRhaW5lciBjb21wb25lbnQuXG4gICAqL1xuICByZXR1cm4gKFxuICAgIGhhc01vdW50ZWQgJiYgKFxuICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtSZWFjdC5GcmFnbWVudH0+XG4gICAgICAgIHthdXRoVXNlcj8uYWNjZXNzVG9rZW4udmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICBhdXRoVXNlci5hY2Nlc3NUb2tlbi52YWx1ZS5sZW5ndGggPiAwICYmXG4gICAgICAgIHVzZXI/LmlkLnZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgZW5naW5lSXNJbml0aWFsaXplZCA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgey8qIEB0cy1pZ25vcmUgKi99XG4gICAgICAgICAgICA8RWRpdG9yQ29udGFpbmVyIEVuZ2luZT17RW5naW5lfSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC8+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9TdXNwZW5zZT5cbiAgICApXG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdFxuIl0sIm5hbWVzIjpbInZlYzMiLCJxdWF0IiwidXRpbHMiLCJHdWFyZFBhcnNlcl8xIiwiQW55UGFyc2VyXzEiLCJBcnJheVBhcnNlcl8xIiwiQm9vbFBhcnNlcl8xIiwiRGVmYXVsdFBhcnNlcl8xIiwiRnVuY3Rpb25QYXJzZXJfMSIsInV0aWxzXzEiLCJyZXF1aXJlJCQwIiwiTWFwcGVkQVBhcnNlcl8xIiwiTWF5YmVQYXJzZXJfMSIsIl8xIiwiTnVtYmVyUGFyc2VyXzEiLCJPYmplY3RQYXJzZXJfMSIsInJlcXVpcmUkJDEiLCJTdHJpbmdQYXJzZXJfMSIsIlBhcnNlcl8xIiwicmVxdWlyZSQkMiIsInJlcXVpcmUkJDMiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNSIsInJlcXVpcmUkJDYiLCJyZXF1aXJlJCQ3IiwicmVxdWlyZSQkOCIsInJlcXVpcmUkJDkiLCJyZXF1aXJlJCQxMCIsInJlcXVpcmUkJDExIiwicmVxdWlyZSQkMTIiLCJyZXF1aXJlJCQxMyIsInJlcXVpcmUkJDE0IiwicmVxdWlyZSQkMTUiLCJyZXF1aXJlJCQxNiIsInJlcXVpcmUkJDE3IiwicmVxdWlyZSQkMTgiLCJVbmtub3duUGFyc2VyXzEiLCJEaWN0aW9uYXJ5UGFyc2VyXzEiLCJUdXBsZVBhcnNlcl8xIiwiQXJyYXlPZlBhcnNlcl8xIiwic2FmYXJpRml4IiwiV2ViR0wiLCJiaXRFQ1MuYWRkRW50aXR5IiwiV29ya2VyIiwibGF6eSIsInVzZVN0YXRlIiwiU3VzcGVuc2UiXSwibWFwcGluZ3MiOiJpakNBQUEsR0FBSSxJQUFrRCxVQUFZLENBQzlELE9BQVMsR0FBSSxFQUFHLEVBQUksRUFBRyxFQUFLLFVBQVUsT0FBUSxFQUFJLEVBQUksSUFBSyxHQUFLLFVBQVUsR0FBRyxPQUM3RSxPQUFTLEdBQUksTUFBTSxHQUFJLEVBQUksRUFBRyxFQUFJLEVBQUcsRUFBSSxFQUFJLElBQ3pDLE9BQVMsR0FBSSxVQUFVLEdBQUksRUFBSSxFQUFHLEVBQUssRUFBRSxPQUFRLEVBQUksRUFBSSxJQUFLLElBQzFELEVBQUUsR0FBSyxFQUFFLEdBQ2pCLE1BQU8sSUFFUCxHQUE2QixVQUFZLENBQ3pDLFdBQXFCLEVBQU0sRUFBUyxFQUFJLENBQ3BDLEtBQUssS0FBTyxFQUNaLEtBQUssUUFBVSxFQUNmLEtBQUssR0FBSyxFQUNWLEtBQUssS0FBTyxVQUVoQixNQUFPLE1BR1AsR0FBMEIsVUFBWSxDQUN0QyxXQUFrQixFQUFTLENBQ3ZCLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxPQUNaLEtBQUssS0FBTyxPQUNaLEtBQUssR0FBSyxRQUFRLFNBRXRCLE1BQU8sTUFHUCxHQUFxQyxVQUFZLENBQ2pELFdBQTZCLEVBQU0sRUFBUyxFQUFJLEVBQUssQ0FDakQsS0FBSyxLQUFPLEVBQ1osS0FBSyxRQUFVLEVBQ2YsS0FBSyxHQUFLLEVBQ1YsS0FBSyxJQUFNLEVBQ1gsS0FBSyxLQUFP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
