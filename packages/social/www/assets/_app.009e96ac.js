import{R,r as oe,c as tg,_ as VD,d as Na,o as YD,e as Yu,g as ng,f as jD,h as rg,j as Yo,k as WD,l as BD,m as XD,b as rd,n as jo}from"./vendor.c8b8cc93.js";import{C as Ma,_ as Ge}from"./index.0040ebb6.js";var ig={exports:{}},KD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qD=KD,JD=qD;function ag(){}function og(){}og.resetWarningCache=ag;var ZD=function(){function e(r,a,s,u,l,f){if(f!==JD){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:og,resetWarningCache:ag};return n.PropTypes=n,n};ig.exports=ZD();var ot=ig.exports,La=R.createContext(null);function QD(e){e()}var sg=QD,e3=function(t){return sg=t},t3=function(){return sg};function n3(){var e=t3(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],s=t;s;)a.push(s),s=s.next;return a},subscribe:function(a){var s=!0,u=n={callback:a,next:null,prev:n};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:n=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var ug={notify:function(){},get:function(){return[]}};function r3(e,t){var n,r=ug;function a(_){return f(),r.subscribe(_)}function s(){r.notify()}function u(){h.onStateChange&&h.onStateChange()}function l(){return Boolean(n)}function f(){n||(n=t?t.addNestedSub(u):e.subscribe(u),r=n3())}function d(){n&&(n(),n=void 0,r.clear(),r=ug)}var h={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:d,getListeners:function(){return r}};return h}var i3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?oe.exports.useLayoutEffect:oe.exports.useEffect;function a3(e){var t=e.store,n=e.context,r=e.children,a=oe.exports.useMemo(function(){var l=r3(t);return l.onStateChange=l.notifyNestedSubs,{store:t,subscription:l}},[t]),s=oe.exports.useMemo(function(){return t.getState()},[t]);i3(function(){var l=a.subscription;return l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,s]);var u=n||La;return R.createElement(u.Provider,{value:a},r)}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}var ju={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,id=$t?Symbol.for("react.element"):60103,ad=$t?Symbol.for("react.portal"):60106,Wu=$t?Symbol.for("react.fragment"):60107,Bu=$t?Symbol.for("react.strict_mode"):60108,Xu=$t?Symbol.for("react.profiler"):60114,Ku=$t?Symbol.for("react.provider"):60109,qu=$t?Symbol.for("react.context"):60110,od=$t?Symbol.for("react.async_mode"):60111,Ju=$t?Symbol.for("react.concurrent_mode"):60111,Zu=$t?Symbol.for("react.forward_ref"):60112,Qu=$t?Symbol.for("react.suspense"):60113,o3=$t?Symbol.for("react.suspense_list"):60120,ec=$t?Symbol.for("react.memo"):60115,tc=$t?Symbol.for("react.lazy"):60116,s3=$t?Symbol.for("react.block"):60121,u3=$t?Symbol.for("react.fundamental"):60117,c3=$t?Symbol.for("react.responder"):60118,l3=$t?Symbol.for("react.scope"):60119;function kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case id:switch(e=e.type,e){case od:case Ju:case Wu:case Xu:case Bu:case Qu:return e;default:switch(e=e&&e.$$typeof,e){case qu:case Zu:case tc:case ec:case Ku:return e;default:return t}}case ad:return t}}}function cg(e){return kn(e)===Ju}Je.AsyncMode=od;Je.ConcurrentMode=Ju;Je.ContextConsumer=qu;Je.ContextProvider=Ku;Je.Element=id;Je.ForwardRef=Zu;Je.Fragment=Wu;Je.Lazy=tc;Je.Memo=ec;Je.Portal=ad;Je.Profiler=Xu;Je.StrictMode=Bu;Je.Suspense=Qu;Je.isAsyncMode=function(e){return cg(e)||kn(e)===od};Je.isConcurrentMode=cg;Je.isContextConsumer=function(e){return kn(e)===qu};Je.isContextProvider=function(e){return kn(e)===Ku};Je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===id};Je.isForwardRef=function(e){return kn(e)===Zu};Je.isFragment=function(e){return kn(e)===Wu};Je.isLazy=function(e){return kn(e)===tc};Je.isMemo=function(e){return kn(e)===ec};Je.isPortal=function(e){return kn(e)===ad};Je.isProfiler=function(e){return kn(e)===Xu};Je.isStrictMode=function(e){return kn(e)===Bu};Je.isSuspense=function(e){return kn(e)===Qu};Je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wu||e===Ju||e===Xu||e===Bu||e===Qu||e===o3||typeof e=="object"&&e!==null&&(e.$$typeof===tc||e.$$typeof===ec||e.$$typeof===Ku||e.$$typeof===qu||e.$$typeof===Zu||e.$$typeof===u3||e.$$typeof===c3||e.$$typeof===l3||e.$$typeof===s3)};Je.typeOf=kn;ju.exports=Je;var sd=ju.exports,f3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},p3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ud={};ud[sd.ForwardRef]=p3;ud[sd.Memo]=lg;function fg(e){return sd.isMemo(e)?lg:ud[e.$$typeof]||f3}var h3=Object.defineProperty,m3=Object.getOwnPropertyNames,dg=Object.getOwnPropertySymbols,_3=Object.getOwnPropertyDescriptor,g3=Object.getPrototypeOf,pg=Object.prototype;function hg(e,t,n){if(typeof t!="string"){if(pg){var r=g3(t);r&&r!==pg&&hg(e,r,n)}var a=m3(t);dg&&(a=a.concat(dg(t)));for(var s=fg(e),u=fg(t),l=0;l<a.length;++l){var f=a[l];if(!d3[f]&&!(n&&n[f])&&!(u&&u[f])&&!(s&&s[f])){var d=_3(t,f);try{h3(e,f,d)}catch(h){}}}}return e}var cd=hg;function v3(){var e=oe.exports.useContext(La);return e}function mg(e){e===void 0&&(e=La);var t=e===La?v3:function(){return oe.exports.useContext(e)};return function(){var r=t(),a=r.store;return a}}var y3=mg();function E3(e){e===void 0&&(e=La);var t=e===La?y3:mg(e);return function(){var r=t();return r.dispatch}}var S3=E3();e3(tg.exports.unstable_batchedUpdates);function ur(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,VD(e,t)}function nc(e){return e.charAt(0)==="/"}function ld(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function b3(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&nc(e),s=t&&nc(t),u=a||s;if(e&&nc(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l;if(r.length){var f=r[r.length-1];l=f==="."||f===".."||f===""}else l=!1;for(var d=0,h=r.length;h>=0;h--){var _=r[h];_==="."?ld(r,h):_===".."?(ld(r,h),d++):d&&(ld(r,h),d--)}if(!u)for(;d--;d)r.unshift("..");u&&r[0]!==""&&(!r[0]||!nc(r[0]))&&r.unshift("");var v=r.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}var T3=!0,_g="Invariant failed";function gi(e,t){if(!e)throw T3?new Error(_g):new Error(_g+": "+(t||""))}function Wo(e){return e.charAt(0)==="/"?e:"/"+e}function gg(e){return e.charAt(0)==="/"?e.substr(1):e}function w3(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function vg(e,t){return w3(e,t)?e.substr(t.length):e}function yg(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function A3(e){var t=e||"/",n="",r="",a=t.indexOf("#");a!==-1&&(r=t.substr(a),t=t.substr(0,a));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function En(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function xn(e,t,n,r){var a;typeof e=="string"?(a=A3(e),a.state=t):(a=rt({},e),a.pathname===void 0&&(a.pathname=""),a.search?a.search.charAt(0)!=="?"&&(a.search="?"+a.search):a.search="",a.hash?a.hash.charAt(0)!=="#"&&(a.hash="#"+a.hash):a.hash="",t!==void 0&&a.state===void 0&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),r?a.pathname?a.pathname.charAt(0)!=="/"&&(a.pathname=b3(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function fd(){var e=null;function t(u){return e=u,function(){e===u&&(e=null)}}function n(u,l,f,d){if(e!=null){var h=typeof e=="function"?e(u,l):e;typeof h=="string"?typeof f=="function"?f(h,d):d(!0):d(h!==!1)}else d(!0)}var r=[];function a(u){var l=!0;function f(){l&&u.apply(void 0,arguments)}return r.push(f),function(){l=!1,r=r.filter(function(d){return d!==f})}}function s(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];r.forEach(function(d){return d.apply(void 0,l)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:a,notifyListeners:s}}var Eg=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function Sg(e,t){t(window.confirm(e))}function O3(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function I3(){return window.navigator.userAgent.indexOf("Trident")===-1}function R3(){return window.navigator.userAgent.indexOf("Firefox")===-1}function D3(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var bg="popstate",Tg="hashchange";function wg(){try{return window.history.state||{}}catch(e){return{}}}function k3(e){e===void 0&&(e={}),Eg||gi(!1);var t=window.history,n=O3(),r=!I3(),a=e,s=a.forceRefresh,u=s===void 0?!1:s,l=a.getUserConfirmation,f=l===void 0?Sg:l,d=a.keyLength,h=d===void 0?6:d,_=e.basename?yg(Wo(e.basename)):"";function v(ie){var X=ie||{},re=X.key,U=X.state,G=window.location,J=G.pathname,Q=G.search,O=G.hash,ce=J+Q+O;return _&&(ce=vg(ce,_)),xn(ce,U,re)}function S(){return Math.random().toString(36).substr(2,h)}var T=fd();function E(ie){rt(j,ie),j.length=t.length,T.notifyListeners(j.location,j.action)}function A(ie){D3(ie)||W(v(ie.state))}function k(){W(v(wg()))}var N=!1;function W(ie){if(N)N=!1,E();else{var X="POP";T.confirmTransitionTo(ie,X,f,function(re){re?E({action:X,location:ie}):Z(ie)})}}function Z(ie){var X=j.location,re=ne.indexOf(X.key);re===-1&&(re=0);var U=ne.indexOf(ie.key);U===-1&&(U=0);var G=re-U;G&&(N=!0,ee(G))}var B=v(wg()),ne=[B.key];function z(ie){return _+En(ie)}function Y(ie,X){var re="PUSH",U=xn(ie,X,S(),j.location);T.confirmTransitionTo(U,re,f,function(G){if(!!G){var J=z(U),Q=U.key,O=U.state;if(n)if(t.pushState({key:Q,state:O},null,J),u)window.location.href=J;else{var ce=ne.indexOf(j.location.key),K=ne.slice(0,ce+1);K.push(U.key),ne=K,E({action:re,location:U})}else window.location.href=J}})}function ae(ie,X){var re="REPLACE",U=xn(ie,X,S(),j.location);T.confirmTransitionTo(U,re,f,function(G){if(!!G){var J=z(U),Q=U.key,O=U.state;if(n)if(t.replaceState({key:Q,state:O},null,J),u)window.location.replace(J);else{var ce=ne.indexOf(j.location.key);ce!==-1&&(ne[ce]=U.key),E({action:re,location:U})}else window.location.replace(J)}})}function ee(ie){t.go(ie)}function me(){ee(-1)}function ge(){ee(1)}var $=0;function C(ie){$+=ie,$===1&&ie===1?(window.addEventListener(bg,A),r&&window.addEventListener(Tg,k)):$===0&&(window.removeEventListener(bg,A),r&&window.removeEventListener(Tg,k))}var x=!1;function L(ie){ie===void 0&&(ie=!1);var X=T.setPrompt(ie);return x||(C(1),x=!0),function(){return x&&(x=!1,C(-1)),X()}}function M(ie){var X=T.appendListener(ie);return C(1),function(){C(-1),X()}}var j={length:t.length,action:"POP",location:B,createHref:z,push:Y,replace:ae,go:ee,goBack:me,goForward:ge,block:L,listen:M};return j}var Ag="hashchange",x3={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+gg(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:gg,decodePath:Wo},slash:{encodePath:Wo,decodePath:Wo}};function Og(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Bo(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function C3(e){window.location.hash=e}function dd(e){window.location.replace(Og(window.location.href)+"#"+e)}function P3(e){e===void 0&&(e={}),Eg||gi(!1);var t=window.history;R3();var n=e,r=n.getUserConfirmation,a=r===void 0?Sg:r,s=n.hashType,u=s===void 0?"slash":s,l=e.basename?yg(Wo(e.basename)):"",f=x3[u],d=f.encodePath,h=f.decodePath;function _(){var X=h(Bo());return l&&(X=vg(X,l)),xn(X)}var v=fd();function S(X){rt(ie,X),ie.length=t.length,v.notifyListeners(ie.location,ie.action)}var T=!1,E=null;function A(X,re){return X.pathname===re.pathname&&X.search===re.search&&X.hash===re.hash}function k(){var X=Bo(),re=d(X);if(X!==re)dd(re);else{var U=_(),G=ie.location;if(!T&&A(G,U)||E===En(U))return;E=null,N(U)}}function N(X){if(T)T=!1,S();else{var re="POP";v.confirmTransitionTo(X,re,a,function(U){U?S({action:re,location:X}):W(X)})}}function W(X){var re=ie.location,U=z.lastIndexOf(En(re));U===-1&&(U=0);var G=z.lastIndexOf(En(X));G===-1&&(G=0);var J=U-G;J&&(T=!0,me(J))}var Z=Bo(),B=d(Z);Z!==B&&dd(B);var ne=_(),z=[En(ne)];function Y(X){var re=document.querySelector("base"),U="";return re&&re.getAttribute("href")&&(U=Og(window.location.href)),U+"#"+d(l+En(X))}function ae(X,re){var U="PUSH",G=xn(X,void 0,void 0,ie.location);v.confirmTransitionTo(G,U,a,function(J){if(!!J){var Q=En(G),O=d(l+Q),ce=Bo()!==O;if(ce){E=Q,C3(O);var K=z.lastIndexOf(En(ie.location)),Ie=z.slice(0,K+1);Ie.push(Q),z=Ie,S({action:U,location:G})}else S()}})}function ee(X,re){var U="REPLACE",G=xn(X,void 0,void 0,ie.location);v.confirmTransitionTo(G,U,a,function(J){if(!!J){var Q=En(G),O=d(l+Q),ce=Bo()!==O;ce&&(E=Q,dd(O));var K=z.indexOf(En(ie.location));K!==-1&&(z[K]=Q),S({action:U,location:G})}})}function me(X){t.go(X)}function ge(){me(-1)}function $(){me(1)}var C=0;function x(X){C+=X,C===1&&X===1?window.addEventListener(Ag,k):C===0&&window.removeEventListener(Ag,k)}var L=!1;function M(X){X===void 0&&(X=!1);var re=v.setPrompt(X);return L||(x(1),L=!0),function(){return L&&(L=!1,x(-1)),re()}}function j(X){var re=v.appendListener(X);return x(1),function(){x(-1),re()}}var ie={length:t.length,action:"POP",location:ne,createHref:Y,push:ae,replace:ee,go:me,goBack:ge,goForward:$,block:M,listen:j};return ie}function Ig(e,t,n){return Math.min(Math.max(e,t),n)}function N3(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,a=r===void 0?["/"]:r,s=t.initialIndex,u=s===void 0?0:s,l=t.keyLength,f=l===void 0?6:l,d=fd();function h(Y){rt(z,Y),z.length=z.entries.length,d.notifyListeners(z.location,z.action)}function _(){return Math.random().toString(36).substr(2,f)}var v=Ig(u,0,a.length-1),S=a.map(function(Y){return typeof Y=="string"?xn(Y,void 0,_()):xn(Y,void 0,Y.key||_())}),T=En;function E(Y,ae){var ee="PUSH",me=xn(Y,ae,_(),z.location);d.confirmTransitionTo(me,ee,n,function(ge){if(!!ge){var $=z.index,C=$+1,x=z.entries.slice(0);x.length>C?x.splice(C,x.length-C,me):x.push(me),h({action:ee,location:me,index:C,entries:x})}})}function A(Y,ae){var ee="REPLACE",me=xn(Y,ae,_(),z.location);d.confirmTransitionTo(me,ee,n,function(ge){!ge||(z.entries[z.index]=me,h({action:ee,location:me}))})}function k(Y){var ae=Ig(z.index+Y,0,z.entries.length-1),ee="POP",me=z.entries[ae];d.confirmTransitionTo(me,ee,n,function(ge){ge?h({action:ee,location:me,index:ae}):h()})}function N(){k(-1)}function W(){k(1)}function Z(Y){var ae=z.index+Y;return ae>=0&&ae<z.entries.length}function B(Y){return Y===void 0&&(Y=!1),d.setPrompt(Y)}function ne(Y){return d.appendListener(Y)}var z={length:S.length,action:"POP",location:S[v],index:v,entries:S,createHref:T,push:E,replace:A,go:k,goBack:N,goForward:W,canGo:Z,block:B,listen:ne};return z}var pd=1073741823,Rg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function M3(){var e="__global_unique_id__";return Rg[e]=(Rg[e]||0)+1}function L3(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function U3(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(a){return a!==r})},get:function(){return e},set:function(r,a){e=r,t.forEach(function(s){return s(e,a)})}}}function F3(e){return Array.isArray(e)?e[0]:e}function G3(e,t){var n,r,a="__create-react-context-"+M3()+"__",s=function(l){ur(f,l);function f(){var h;return h=l.apply(this,arguments)||this,h.emitter=U3(h.props.value),h}var d=f.prototype;return d.getChildContext=function(){var _;return _={},_[a]=this.emitter,_},d.componentWillReceiveProps=function(_){if(this.props.value!==_.value){var v=this.props.value,S=_.value,T;L3(v,S)?T=0:(T=typeof t=="function"?t(v,S):pd,T|=0,T!==0&&this.emitter.set(_.value,T))}},d.render=function(){return this.props.children},f}(oe.exports.Component);s.childContextTypes=(n={},n[a]=ot.object.isRequired,n);var u=function(l){ur(f,l);function f(){var h;return h=l.apply(this,arguments)||this,h.state={value:h.getValue()},h.onUpdate=function(_,v){var S=h.observedBits|0;(S&v)!=0&&h.setState({value:h.getValue()})},h}var d=f.prototype;return d.componentWillReceiveProps=function(_){var v=_.observedBits;this.observedBits=v??pd},d.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var _=this.props.observedBits;this.observedBits=_??pd},d.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},d.getValue=function(){return this.context[a]?this.context[a].get():e},d.render=function(){return F3(this.props.children)(this.state.value)},f}(oe.exports.Component);return u.contextTypes=(r={},r[a]=ot.object,r),{Provider:s,Consumer:u}}var z3=R.createContext||G3,Ua={exports:{}},H3=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},rc=H3;Ua.exports=xg;Ua.exports.parse=hd;Ua.exports.compile=V3;Ua.exports.tokensToFunction=Dg;Ua.exports.tokensToRegExp=kg;var $3=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function hd(e,t){for(var n=[],r=0,a=0,s="",u=t&&t.delimiter||"/",l;(l=$3.exec(e))!=null;){var f=l[0],d=l[1],h=l.index;if(s+=e.slice(a,h),a=h+f.length,d){s+=d[1];continue}var _=e[a],v=l[2],S=l[3],T=l[4],E=l[5],A=l[6],k=l[7];s&&(n.push(s),s="");var N=v!=null&&_!=null&&_!==v,W=A==="+"||A==="*",Z=A==="?"||A==="*",B=l[2]||u,ne=T||E;n.push({name:S||r++,prefix:v||"",delimiter:B,optional:Z,repeat:W,partial:N,asterisk:!!k,pattern:ne?W3(ne):k?".*":"[^"+ic(B)+"]+?"})}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function V3(e,t){return Dg(hd(e,t),t)}function Y3(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function j3(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Dg(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",_d(t)));return function(a,s){for(var u="",l=a||{},f=s||{},d=f.pretty?Y3:encodeURIComponent,h=0;h<e.length;h++){var _=e[h];if(typeof _=="string"){u+=_;continue}var v=l[_.name],S;if(v==null)if(_.optional){_.partial&&(u+=_.prefix);continue}else throw new TypeError('Expected "'+_.name+'" to be defined');if(rc(v)){if(!_.repeat)throw new TypeError('Expected "'+_.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(_.optional)continue;throw new TypeError('Expected "'+_.name+'" to not be empty')}for(var T=0;T<v.length;T++){if(S=d(v[T]),!n[h].test(S))throw new TypeError('Expected all "'+_.name+'" to match "'+_.pattern+'", but received `'+JSON.stringify(S)+"`");u+=(T===0?_.prefix:_.delimiter)+S}continue}if(S=_.asterisk?j3(v):d(v),!n[h].test(S))throw new TypeError('Expected "'+_.name+'" to match "'+_.pattern+'", but received "'+S+'"');u+=_.prefix+S}return u}}function ic(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W3(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function md(e,t){return e.keys=t,e}function _d(e){return e&&e.sensitive?"":"i"}function B3(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return md(e,t)}function X3(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(xg(e[a],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",_d(n));return md(s,t)}function K3(e,t,n){return kg(hd(e,n),t,n)}function kg(e,t,n){rc(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,a=n.end!==!1,s="",u=0;u<e.length;u++){var l=e[u];if(typeof l=="string")s+=ic(l);else{var f=ic(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+f+d+")*"),l.optional?l.partial?d=f+"("+d+")?":d="(?:"+f+"("+d+"))?":d=f+"("+d+")",s+=d}}var h=ic(n.delimiter||"/"),_=s.slice(-h.length)===h;return r||(s=(_?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),a?s+="$":s+=r&&_?"":"(?="+h+"|$)",md(new RegExp("^"+s,_d(n)),t)}function xg(e,t,n){return rc(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?B3(e,t):rc(e)?X3(e,t,n):K3(e,t,n)}var q3=Ua.exports,Cg=function(t){var n=z3();return n.displayName=t,n},Pg=Cg("Router-History"),vi=Cg("Router"),ac=function(e){ur(t,e),t.computeRootMatch=function(a){return{path:"/",url:"/",params:{},isExact:a==="/"}};function t(r){var a;return a=e.call(this,r)||this,a.state={location:r.history.location},a._isMounted=!1,a._pendingLocation=null,r.staticContext||(a.unlisten=r.history.listen(function(s){a._isMounted?a.setState({location:s}):a._pendingLocation=s})),a}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return R.createElement(vi.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},R.createElement(Pg.Provider,{children:this.props.children||null,value:this.props.history}))},t}(R.Component);R.Component;R.Component;var Ng={},J3=1e4,Mg=0;function Z3(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ng[n]||(Ng[n]={});if(r[e])return r[e];var a=[],s=q3(e,a,t),u={regexp:s,keys:a};return Mg<J3&&(r[e]=u,Mg++),u}function gd(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,s=a===void 0?!1:a,u=n.strict,l=u===void 0?!1:u,f=n.sensitive,d=f===void 0?!1:f,h=[].concat(r);return h.reduce(function(_,v){if(!v&&v!=="")return null;if(_)return _;var S=Z3(v,{end:s,strict:l,sensitive:d}),T=S.regexp,E=S.keys,A=T.exec(e);if(!A)return null;var k=A[0],N=A.slice(1),W=e===k;return s&&!W?null:{path:v,url:v==="/"&&k===""?"/":k,isExact:W,params:E.reduce(function(Z,B,ne){return Z[B.name]=N[ne],Z},{})}},null)}function Q3(e){return R.Children.count(e)===0}var ze=function(e){ur(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var a=this;return R.createElement(vi.Consumer,null,function(s){s||gi(!1);var u=a.props.location||s.location,l=a.props.computedMatch?a.props.computedMatch:a.props.path?gd(u.pathname,a.props):s.match,f=rt({},s,{location:u,match:l}),d=a.props,h=d.children,_=d.component,v=d.render;return Array.isArray(h)&&Q3(h)&&(h=null),R.createElement(vi.Provider,{value:f},f.match?h?typeof h=="function"?h(f):h:_?R.createElement(_,f):v?v(f):null:typeof h=="function"?h(f):null)})},t}(R.Component);function vd(e){return e.charAt(0)==="/"?e:"/"+e}function ek(e,t){return e?rt({},t,{pathname:vd(e)+t.pathname}):t}function tk(e,t){if(!e)return t;var n=vd(e);return t.pathname.indexOf(n)!==0?t:rt({},t,{pathname:t.pathname.substr(n.length)})}function Lg(e){return typeof e=="string"?e:En(e)}function yd(e){return function(){gi(!1)}}function Ug(){}R.Component;var nk=function(e){ur(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var a=this;return R.createElement(vi.Consumer,null,function(s){s||gi(!1);var u=a.props.location||s.location,l,f;return R.Children.forEach(a.props.children,function(d){if(f==null&&R.isValidElement(d)){l=d;var h=d.props.path||d.props.from;f=h?gd(u.pathname,rt({},d.props,{path:h})):s.match}}),f?R.cloneElement(l,{location:u,computedMatch:f}):null})},t}(R.Component);function gz(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(a){var s=a.wrappedComponentRef,u=Na(a,["wrappedComponentRef"]);return R.createElement(vi.Consumer,null,function(l){return l||gi(!1),R.createElement(e,rt({},u,l,{ref:s}))})};return n.displayName=t,n.WrappedComponent=e,cd(n,e)}var Fg=R.useContext;function rk(){return Fg(Pg)}function vz(){return Fg(vi).location}var ik=function(e){ur(t,e);function t(){for(var r,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=k3(r.props),r}var n=t.prototype;return n.render=function(){return R.createElement(ac,{history:this.history,children:this.props.children})},t}(R.Component);R.Component;var Ed=function(t,n){return typeof t=="function"?t(n):t},Sd=function(t,n){return typeof t=="string"?xn(t,null,null,n):t},bd=function(t){return t},Fa=R.forwardRef;typeof Fa=="undefined"&&(Fa=bd);function ak(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ok=Fa(function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=Na(e,["innerRef","navigate","onClick"]),u=s.target,l=rt({},s,{onClick:function(d){try{a&&a(d)}catch(h){throw d.preventDefault(),h}!d.defaultPrevented&&d.button===0&&(!u||u==="_self")&&!ak(d)&&(d.preventDefault(),r())}});return bd!==Fa?l.ref=t||n:l.ref=n,R.createElement("a",l)}),sk=Fa(function(e,t){var n=e.component,r=n===void 0?ok:n,a=e.replace,s=e.to,u=e.innerRef,l=Na(e,["component","replace","to","innerRef"]);return R.createElement(vi.Consumer,null,function(f){f||gi(!1);var d=f.history,h=Sd(Ed(s,f.location),f.location),_=h?d.createHref(h):"",v=rt({},l,{href:_,navigate:function(){var T=Ed(s,f.location),E=En(f.location)===En(Sd(T)),A=a||E?d.replace:d.push;A(T)}});return bd!==Fa?v.ref=t||u:v.innerRef=u,R.createElement(r,v)})}),Gg=function(t){return t},oc=R.forwardRef;typeof oc=="undefined"&&(oc=Gg);function uk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}oc(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,a=e.activeClassName,s=a===void 0?"active":a,u=e.activeStyle,l=e.className,f=e.exact,d=e.isActive,h=e.location,_=e.sensitive,v=e.strict,S=e.style,T=e.to,E=e.innerRef,A=Na(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return R.createElement(vi.Consumer,null,function(k){k||gi(!1);var N=h||k.location,W=Sd(Ed(T,N),N),Z=W.pathname,B=Z&&Z.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ne=B?gd(N.pathname,{path:B,exact:f,sensitive:_,strict:v}):null,z=!!(d?d(ne,N):ne),Y=typeof l=="function"?l(z):l,ae=typeof S=="function"?S(z):S;z&&(Y=uk(Y,s),ae=rt({},ae,u));var ee=rt({"aria-current":z&&r||null,className:Y,style:ae,to:W},A);return Gg!==oc?ee.ref=t||E:ee.innerRef=E,R.createElement(sk,ee)})});function ck(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var zg=oe.exports,lk=ck(zg);function Hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var dk=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function pk(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n!="undefined"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(a){return a.displayName||a.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var u=[],l;function f(){l=e(u.map(function(h){return h.props})),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(h){fk(_,h);function _(){return h.apply(this,arguments)||this}_.peek=function(){return l},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var T=l;return l=void 0,u=[],T};var v=_.prototype;return v.UNSAFE_componentWillMount=function(){u.push(this),f()},v.componentDidUpdate=function(){f()},v.componentWillUnmount=function(){var T=u.indexOf(this);u.splice(T,1),f()},v.render=function(){return lk.createElement(s,this.props)},_}(zg.PureComponent);return Hg(d,"displayName","SideEffect("+r(s)+")"),Hg(d,"canUseDOM",dk),d}}var hk=pk,mk=typeof Element!="undefined",_k=typeof Map=="function",gk=typeof Set=="function",vk=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function sc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!=0;)if(!sc(e[r],t[r]))return!1;return!0}var s;if(_k&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!sc(r.value[1],t.get(r.value[0])))return!1;return!0}if(gk&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(vk&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!=0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!=0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(mk&&e instanceof Element)return!1;for(r=n;r--!=0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!sc(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var yk=function(t,n){try{return sc(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},ea={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Oe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Oe).map(function(e){return Oe[e]});var Et={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},uc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Xo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Ek=Object.keys(uc).reduce(function(e,t){return e[uc[t]]=t,e},{}),Sk=[Oe.NOSCRIPT,Oe.SCRIPT,Oe.STYLE],cr="data-react-helmet",bk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tk=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wk=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n},Ok=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Td=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ik=function(t){var n=Ga(t,Oe.TITLE),r=Ga(t,Xo.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var a=Ga(t,Xo.DEFAULT_TITLE);return n||a||void 0},Rk=function(t){return Ga(t,Xo.ON_CHANGE_CLIENT_STATE)||function(){}},wd=function(t,n){return n.filter(function(r){return typeof r[t]!="undefined"}).map(function(r){return r[t]}).reduce(function(r,a){return Sn({},r,a)},{})},Dk=function(t,n){return n.filter(function(r){return typeof r[Oe.BASE]!="undefined"}).map(function(r){return r[Oe.BASE]}).reverse().reduce(function(r,a){if(!r.length)for(var s=Object.keys(a),u=0;u<s.length;u++){var l=s[u],f=l.toLowerCase();if(t.indexOf(f)!==-1&&a[f])return r.concat(a)}return r},[])},Ko=function(t,n,r){var a={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]!="undefined"&&Pk("Helmet: "+t+' should be of type "Array". Instead found type "'+bk(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,u){var l={};u.filter(function(v){for(var S=void 0,T=Object.keys(v),E=0;E<T.length;E++){var A=T[E],k=A.toLowerCase();n.indexOf(k)!==-1&&!(S===Et.REL&&v[S].toLowerCase()==="canonical")&&!(k===Et.REL&&v[k].toLowerCase()==="stylesheet")&&(S=k),n.indexOf(A)!==-1&&(A===Et.INNER_HTML||A===Et.CSS_TEXT||A===Et.ITEM_PROP)&&(S=A)}if(!S||!v[S])return!1;var N=v[S].toLowerCase();return a[S]||(a[S]={}),l[S]||(l[S]={}),a[S][N]?!1:(l[S][N]=!0,!0)}).reverse().forEach(function(v){return s.push(v)});for(var f=Object.keys(l),d=0;d<f.length;d++){var h=f[d],_=YD({},a[h],l[h]);a[h]=_}return s},[]).reverse()},Ga=function(t,n){for(var r=t.length-1;r>=0;r--){var a=t[r];if(a.hasOwnProperty(n))return a[n]}return null},kk=function(t){return{baseTag:Dk([Et.HREF,Et.TARGET],t),bodyAttributes:wd(ea.BODY,t),defer:Ga(t,Xo.DEFER),encode:Ga(t,Xo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:wd(ea.HTML,t),linkTags:Ko(Oe.LINK,[Et.REL,Et.HREF],t),metaTags:Ko(Oe.META,[Et.NAME,Et.CHARSET,Et.HTTPEQUIV,Et.PROPERTY,Et.ITEM_PROP],t),noscriptTags:Ko(Oe.NOSCRIPT,[Et.INNER_HTML],t),onChangeClientState:Rk(t),scriptTags:Ko(Oe.SCRIPT,[Et.SRC,Et.INNER_HTML],t),styleTags:Ko(Oe.STYLE,[Et.CSS_TEXT],t),title:Ik(t),titleAttributes:wd(ea.TITLE,t)}},Ad=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Ad(t)},0)}}(),Vg=function(t){return clearTimeout(t)},xk=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ad:global.requestAnimationFrame||Ad,Ck=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Vg:global.cancelAnimationFrame||Vg,Pk=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},qo=null,Nk=function(t){qo&&Ck(qo),t.defer?qo=xk(function(){Yg(t,function(){qo=null})}):(Yg(t),qo=null)},Yg=function(t,n){var r=t.baseTag,a=t.bodyAttributes,s=t.htmlAttributes,u=t.linkTags,l=t.metaTags,f=t.noscriptTags,d=t.onChangeClientState,h=t.scriptTags,_=t.styleTags,v=t.title,S=t.titleAttributes;Od(Oe.BODY,a),Od(Oe.HTML,s),Mk(v,S);var T={baseTag:za(Oe.BASE,r),linkTags:za(Oe.LINK,u),metaTags:za(Oe.META,l),noscriptTags:za(Oe.NOSCRIPT,f),scriptTags:za(Oe.SCRIPT,h),styleTags:za(Oe.STYLE,_)},E={},A={};Object.keys(T).forEach(function(k){var N=T[k],W=N.newTags,Z=N.oldTags;W.length&&(E[k]=W),Z.length&&(A[k]=T[k].oldTags)}),n&&n(),d(t,E,A)},jg=function(t){return Array.isArray(t)?t.join(""):t},Mk=function(t,n){typeof t!="undefined"&&document.title!==t&&(document.title=jg(t)),Od(Oe.TITLE,n)},Od=function(t,n){var r=document.getElementsByTagName(t)[0];if(!!r){for(var a=r.getAttribute(cr),s=a?a.split(","):[],u=[].concat(s),l=Object.keys(n),f=0;f<l.length;f++){var d=l[f],h=n[d]||"";r.getAttribute(d)!==h&&r.setAttribute(d,h),s.indexOf(d)===-1&&s.push(d);var _=u.indexOf(d);_!==-1&&u.splice(_,1)}for(var v=u.length-1;v>=0;v--)r.removeAttribute(u[v]);s.length===u.length?r.removeAttribute(cr):r.getAttribute(cr)!==l.join(",")&&r.setAttribute(cr,l.join(","))}},za=function(t,n){var r=document.head||document.querySelector(Oe.HEAD),a=r.querySelectorAll(t+"["+cr+"]"),s=Array.prototype.slice.call(a),u=[],l=void 0;return n&&n.length&&n.forEach(function(f){var d=document.createElement(t);for(var h in f)if(f.hasOwnProperty(h))if(h===Et.INNER_HTML)d.innerHTML=f.innerHTML;else if(h===Et.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=f.cssText:d.appendChild(document.createTextNode(f.cssText));else{var _=typeof f[h]=="undefined"?"":f[h];d.setAttribute(h,_)}d.setAttribute(cr,"true"),s.some(function(v,S){return l=S,d.isEqualNode(v)})?s.splice(l,1):u.push(d)}),s.forEach(function(f){return f.parentNode.removeChild(f)}),u.forEach(function(f){return r.appendChild(f)}),{oldTags:s,newTags:u}},Wg=function(t){return Object.keys(t).reduce(function(n,r){var a=typeof t[r]!="undefined"?r+'="'+t[r]+'"':""+r;return n?n+" "+a:a},"")},Lk=function(t,n,r,a){var s=Wg(r),u=jg(n);return s?"<"+t+" "+cr+'="true" '+s+">"+Td(u,a)+"</"+t+">":"<"+t+" "+cr+'="true">'+Td(u,a)+"</"+t+">"},Uk=function(t,n,r){return n.reduce(function(a,s){var u=Object.keys(s).filter(function(d){return!(d===Et.INNER_HTML||d===Et.CSS_TEXT)}).reduce(function(d,h){var _=typeof s[h]=="undefined"?h:h+'="'+Td(s[h],r)+'"';return d?d+" "+_:_},""),l=s.innerHTML||s.cssText||"",f=Sk.indexOf(t)===-1;return a+"<"+t+" "+cr+'="true" '+u+(f?"/>":">"+l+"</"+t+">")},"")},Bg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[uc[a]||a]=t[a],r},n)},Fk=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[Ek[a]||a]=t[a],r},n)},Gk=function(t,n,r){var a,s=(a={key:n},a[cr]=!0,a),u=Bg(r,s);return[R.createElement(Oe.TITLE,u,n)]},zk=function(t,n){return n.map(function(r,a){var s,u=(s={key:a},s[cr]=!0,s);return Object.keys(r).forEach(function(l){var f=uc[l]||l;if(f===Et.INNER_HTML||f===Et.CSS_TEXT){var d=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:d}}else u[f]=r[l]}),R.createElement(t,u)})},jr=function(t,n,r){switch(t){case Oe.TITLE:return{toComponent:function(){return Gk(t,n.title,n.titleAttributes)},toString:function(){return Lk(t,n.title,n.titleAttributes,r)}};case ea.BODY:case ea.HTML:return{toComponent:function(){return Bg(n)},toString:function(){return Wg(n)}};default:return{toComponent:function(){return zk(t,n)},toString:function(){return Uk(t,n,r)}}}},Xg=function(t){var n=t.baseTag,r=t.bodyAttributes,a=t.encode,s=t.htmlAttributes,u=t.linkTags,l=t.metaTags,f=t.noscriptTags,d=t.scriptTags,h=t.styleTags,_=t.title,v=_===void 0?"":_,S=t.titleAttributes;return{base:jr(Oe.BASE,n,a),bodyAttributes:jr(ea.BODY,r,a),htmlAttributes:jr(ea.HTML,s,a),link:jr(Oe.LINK,u,a),meta:jr(Oe.META,l,a),noscript:jr(Oe.NOSCRIPT,f,a),script:jr(Oe.SCRIPT,d,a),style:jr(Oe.STYLE,h,a),title:jr(Oe.TITLE,{title:v,titleAttributes:S},a)}},Hk=function(t){var n,r;return r=n=function(a){Ak(s,a);function s(){return Tk(this,s),Ok(this,a.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!yk(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,f){if(!f)return null;switch(l.type){case Oe.SCRIPT:case Oe.NOSCRIPT:return{innerHTML:f};case Oe.STYLE:return{cssText:f}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var f,d=l.child,h=l.arrayTypeChildren,_=l.newChildProps,v=l.nestedChildren;return Sn({},h,(f={},f[d.type]=[].concat(h[d.type]||[],[Sn({},_,this.mapNestedChildrenToProps(d,v))]),f))},s.prototype.mapObjectTypeChildren=function(l){var f,d,h=l.child,_=l.newProps,v=l.newChildProps,S=l.nestedChildren;switch(h.type){case Oe.TITLE:return Sn({},_,(f={},f[h.type]=S,f.titleAttributes=Sn({},v),f));case Oe.BODY:return Sn({},_,{bodyAttributes:Sn({},v)});case Oe.HTML:return Sn({},_,{htmlAttributes:Sn({},v)})}return Sn({},_,(d={},d[h.type]=Sn({},v),d))},s.prototype.mapArrayTypeChildrenToProps=function(l,f){var d=Sn({},f);return Object.keys(l).forEach(function(h){var _;d=Sn({},d,(_={},_[h]=l[h],_))}),d},s.prototype.warnOnInvalidChildren=function(l,f){return!0},s.prototype.mapChildrenToProps=function(l,f){var d=this,h={};return R.Children.forEach(l,function(_){if(!(!_||!_.props)){var v=_.props,S=v.children,T=$g(v,["children"]),E=Fk(T);switch(d.warnOnInvalidChildren(_,S),_.type){case Oe.LINK:case Oe.META:case Oe.NOSCRIPT:case Oe.SCRIPT:case Oe.STYLE:h=d.flattenArrayTypeChildren({child:_,arrayTypeChildren:h,newChildProps:E,nestedChildren:S});break;default:f=d.mapObjectTypeChildren({child:_,newProps:f,newChildProps:E,nestedChildren:S});break}}}),f=this.mapArrayTypeChildrenToProps(h,f),f},s.prototype.render=function(){var l=this.props,f=l.children,d=$g(l,["children"]),h=Sn({},d);return f&&(h=this.mapChildrenToProps(f,h)),R.createElement(t,h)},wk(s,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),s}(R.Component),n.propTypes={base:ot.object,bodyAttributes:ot.object,children:ot.oneOfType([ot.arrayOf(ot.node),ot.node]),defaultTitle:ot.string,defer:ot.bool,encodeSpecialCharacters:ot.bool,htmlAttributes:ot.object,link:ot.arrayOf(ot.object),meta:ot.arrayOf(ot.object),noscript:ot.arrayOf(ot.object),onChangeClientState:ot.func,script:ot.arrayOf(ot.object),style:ot.arrayOf(ot.object),title:ot.string,titleAttributes:ot.object,titleTemplate:ot.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var a=t.rewind();return a||(a=Xg({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},r},$k=function(){return null},Vk=hk(kk,Nk,Xg)($k),Id=Hk(Vk);Id.renderStatic=Id.rewind;var Yk=function(t,n,r,a){var s=r?r.call(a,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),d=0;d<u.length;d++){var h=u[d];if(!f(h))return!1;var _=t[h],v=n[h];if(s=r?r.call(a,_,v,h):void 0,s===!1||s===void 0&&_!==v)return!1}return!0},jk=Yk;function Wk(e){function t(U,G,J,Q,O){for(var ce=0,K=0,Ie=0,Re=0,Le,Se,xt=0,it=0,Ne,zt=Ne=Le=0,xe=0,Ct=0,Yi=0,At=0,Xt=J.length,rr=Xt-1,Kt,be="",tt="",Ro="",Mr="",sn;xe<Xt;){if(Se=J.charCodeAt(xe),xe===rr&&K+Re+Ie+ce!==0&&(K!==0&&(Se=K===47?10:47),Re=Ie=ce=0,Xt++,rr++),K+Re+Ie+ce===0){if(xe===rr&&(0<Ct&&(be=be.replace(v,"")),0<be.trim().length)){switch(Se){case 32:case 9:case 59:case 13:case 10:break;default:be+=J.charAt(xe)}Se=59}switch(Se){case 123:for(be=be.trim(),Le=be.charCodeAt(0),Ne=1,At=++xe;xe<Xt;){switch(Se=J.charCodeAt(xe)){case 123:Ne++;break;case 125:Ne--;break;case 47:switch(Se=J.charCodeAt(xe+1)){case 42:case 47:e:{for(zt=xe+1;zt<rr;++zt)switch(J.charCodeAt(zt)){case 47:if(Se===42&&J.charCodeAt(zt-1)===42&&xe+2!==zt){xe=zt+1;break e}break;case 10:if(Se===47){xe=zt+1;break e}}xe=zt}}break;case 91:Se++;case 40:Se++;case 34:case 39:for(;xe++<rr&&J.charCodeAt(xe)!==Se;);}if(Ne===0)break;xe++}switch(Ne=J.substring(At,xe),Le===0&&(Le=(be=be.replace(_,"").trim()).charCodeAt(0)),Le){case 64:switch(0<Ct&&(be=be.replace(v,"")),Se=be.charCodeAt(1),Se){case 100:case 109:case 115:case 45:Ct=G;break;default:Ct=L}if(Ne=t(G,Ct,Ne,Se,O+1),At=Ne.length,0<j&&(Ct=n(L,be,Yi),sn=l(3,Ne,Ct,G,$,ge,At,Se,O,Q),be=Ct.join(""),sn!==void 0&&(At=(Ne=sn.trim()).length)===0&&(Se=0,Ne="")),0<At)switch(Se){case 115:be=be.replace(ne,u);case 100:case 109:case 45:Ne=be+"{"+Ne+"}";break;case 107:be=be.replace(N,"$1 $2"),Ne=be+"{"+Ne+"}",Ne=x===1||x===2&&s("@"+Ne,3)?"@-webkit-"+Ne+"@"+Ne:"@"+Ne;break;default:Ne=be+Ne,Q===112&&(Ne=(tt+=Ne,""))}else Ne="";break;default:Ne=t(G,n(G,be,Yi),Ne,Q,O+1)}Ro+=Ne,Ne=Yi=Ct=zt=Le=0,be="",Se=J.charCodeAt(++xe);break;case 125:case 59:if(be=(0<Ct?be.replace(v,""):be).trim(),1<(At=be.length))switch(zt===0&&(Le=be.charCodeAt(0),Le===45||96<Le&&123>Le)&&(At=(be=be.replace(" ",":")).length),0<j&&(sn=l(1,be,G,U,$,ge,tt.length,Q,O,Q))!==void 0&&(At=(be=sn.trim()).length)===0&&(be="\0\0"),Le=be.charCodeAt(0),Se=be.charCodeAt(1),Le){case 0:break;case 64:if(Se===105||Se===99){Mr+=be+J.charAt(xe);break}default:be.charCodeAt(At-1)!==58&&(tt+=a(be,Le,Se,be.charCodeAt(2)))}Yi=Ct=zt=Le=0,be="",Se=J.charCodeAt(++xe)}}switch(Se){case 13:case 10:K===47?K=0:1+Le===0&&Q!==107&&0<be.length&&(Ct=1,be+="\0"),0<j*X&&l(0,be,G,U,$,ge,tt.length,Q,O,Q),ge=1,$++;break;case 59:case 125:if(K+Re+Ie+ce===0){ge++;break}default:switch(ge++,Kt=J.charAt(xe),Se){case 9:case 32:if(Re+ce+K===0)switch(xt){case 44:case 58:case 9:case 32:Kt="";break;default:Se!==32&&(Kt=" ")}break;case 0:Kt="\\0";break;case 12:Kt="\\f";break;case 11:Kt="\\v";break;case 38:Re+K+ce===0&&(Ct=Yi=1,Kt="\f"+Kt);break;case 108:if(Re+K+ce+C===0&&0<zt)switch(xe-zt){case 2:xt===112&&J.charCodeAt(xe-3)===58&&(C=xt);case 8:it===111&&(C=it)}break;case 58:Re+K+ce===0&&(zt=xe);break;case 44:K+Ie+Re+ce===0&&(Ct=1,Kt+="\r");break;case 34:case 39:K===0&&(Re=Re===Se?0:Re===0?Se:Re);break;case 91:Re+K+Ie===0&&ce++;break;case 93:Re+K+Ie===0&&ce--;break;case 41:Re+K+ce===0&&Ie--;break;case 40:if(Re+K+ce===0){if(Le===0)switch(2*xt+3*it){case 533:break;default:Le=1}Ie++}break;case 64:K+Ie+Re+ce+zt+Ne===0&&(Ne=1);break;case 42:case 47:if(!(0<Re+ce+Ie))switch(K){case 0:switch(2*Se+3*J.charCodeAt(xe+1)){case 235:K=47;break;case 220:At=xe,K=42}break;case 42:Se===47&&xt===42&&At+2!==xe&&(J.charCodeAt(At+2)===33&&(tt+=J.substring(At,xe+1)),Kt="",K=0)}}K===0&&(be+=Kt)}it=xt,xt=Se,xe++}if(At=tt.length,0<At){if(Ct=G,0<j&&(sn=l(2,tt,Ct,U,$,ge,At,Q,O,Q),sn!==void 0&&(tt=sn).length===0))return Mr+tt+Ro;if(tt=Ct.join(",")+"{"+tt+"}",x*C!=0){switch(x!==2||s(tt,2)||(C=0),C){case 111:tt=tt.replace(Z,":-moz-$1")+tt;break;case 112:tt=tt.replace(W,"::-webkit-input-$1")+tt.replace(W,"::-moz-$1")+tt.replace(W,":-ms-input-$1")+tt}C=0}}return Mr+tt+Ro}function n(U,G,J){var Q=G.trim().split(A);G=Q;var O=Q.length,ce=U.length;switch(ce){case 0:case 1:var K=0;for(U=ce===0?"":U[0]+" ";K<O;++K)G[K]=r(U,G[K],J).trim();break;default:var Ie=K=0;for(G=[];K<O;++K)for(var Re=0;Re<ce;++Re)G[Ie++]=r(U[Re]+" ",Q[K],J).trim()}return G}function r(U,G,J){var Q=G.charCodeAt(0);switch(33>Q&&(Q=(G=G.trim()).charCodeAt(0)),Q){case 38:return G.replace(k,"$1"+U.trim());case 58:return U.trim()+G.replace(k,"$1"+U.trim());default:if(0<1*J&&0<G.indexOf("\f"))return G.replace(k,(U.charCodeAt(0)===58?"":"$1")+U.trim())}return U+G}function a(U,G,J,Q){var O=U+";",ce=2*G+3*J+4*Q;if(ce===944){U=O.indexOf(":",9)+1;var K=O.substring(U,O.length-1).trim();return K=O.substring(0,U).trim()+K+";",x===1||x===2&&s(K,1)?"-webkit-"+K+K:K}if(x===0||x===2&&!s(O,1))return O;switch(ce){case 1015:return O.charCodeAt(10)===97?"-webkit-"+O+O:O;case 951:return O.charCodeAt(3)===116?"-webkit-"+O+O:O;case 963:return O.charCodeAt(5)===110?"-webkit-"+O+O:O;case 1009:if(O.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+O+O;case 978:return"-webkit-"+O+"-moz-"+O+O;case 1019:case 983:return"-webkit-"+O+"-moz-"+O+"-ms-"+O+O;case 883:if(O.charCodeAt(8)===45)return"-webkit-"+O+O;if(0<O.indexOf("image-set(",11))return O.replace(me,"$1-webkit-$2")+O;break;case 932:if(O.charCodeAt(4)===45)switch(O.charCodeAt(5)){case 103:return"-webkit-box-"+O.replace("-grow","")+"-webkit-"+O+"-ms-"+O.replace("grow","positive")+O;case 115:return"-webkit-"+O+"-ms-"+O.replace("shrink","negative")+O;case 98:return"-webkit-"+O+"-ms-"+O.replace("basis","preferred-size")+O}return"-webkit-"+O+"-ms-"+O+O;case 964:return"-webkit-"+O+"-ms-flex-"+O+O;case 1023:if(O.charCodeAt(8)!==99)break;return K=O.substring(O.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+K+"-webkit-"+O+"-ms-flex-pack"+K+O;case 1005:return T.test(O)?O.replace(S,":-webkit-")+O.replace(S,":-moz-")+O:O;case 1e3:switch(K=O.substring(13).trim(),G=K.indexOf("-")+1,K.charCodeAt(0)+K.charCodeAt(G)){case 226:K=O.replace(B,"tb");break;case 232:K=O.replace(B,"tb-rl");break;case 220:K=O.replace(B,"lr");break;default:return O}return"-webkit-"+O+"-ms-"+K+O;case 1017:if(O.indexOf("sticky",9)===-1)break;case 975:switch(G=(O=U).length-10,K=(O.charCodeAt(G)===33?O.substring(0,G):O).substring(U.indexOf(":",7)+1).trim(),ce=K.charCodeAt(0)+(K.charCodeAt(7)|0)){case 203:if(111>K.charCodeAt(8))break;case 115:O=O.replace(K,"-webkit-"+K)+";"+O;break;case 207:case 102:O=O.replace(K,"-webkit-"+(102<ce?"inline-":"")+"box")+";"+O.replace(K,"-webkit-"+K)+";"+O.replace(K,"-ms-"+K+"box")+";"+O}return O+";";case 938:if(O.charCodeAt(5)===45)switch(O.charCodeAt(6)){case 105:return K=O.replace("-items",""),"-webkit-"+O+"-webkit-box-"+K+"-ms-flex-"+K+O;case 115:return"-webkit-"+O+"-ms-flex-item-"+O.replace(Y,"")+O;default:return"-webkit-"+O+"-ms-flex-line-pack"+O.replace("align-content","").replace(Y,"")+O}break;case 973:case 989:if(O.charCodeAt(3)!==45||O.charCodeAt(4)===122)break;case 931:case 953:if(ee.test(U)===!0)return(K=U.substring(U.indexOf(":")+1)).charCodeAt(0)===115?a(U.replace("stretch","fill-available"),G,J,Q).replace(":fill-available",":stretch"):O.replace(K,"-webkit-"+K)+O.replace(K,"-moz-"+K.replace("fill-",""))+O;break;case 962:if(O="-webkit-"+O+(O.charCodeAt(5)===102?"-ms-"+O:"")+O,J+Q===211&&O.charCodeAt(13)===105&&0<O.indexOf("transform",10))return O.substring(0,O.indexOf(";",27)+1).replace(E,"$1-webkit-$2")+O}return O}function s(U,G){var J=U.indexOf(G===1?":":"{"),Q=U.substring(0,G!==3?J:10);return J=U.substring(J+1,U.length-1),ie(G!==2?Q:Q.replace(ae,"$1"),J,G)}function u(U,G){var J=a(G,G.charCodeAt(0),G.charCodeAt(1),G.charCodeAt(2));return J!==G+";"?J.replace(z," or ($1)").substring(4):"("+G+")"}function l(U,G,J,Q,O,ce,K,Ie,Re,Le){for(var Se=0,xt=G,it;Se<j;++Se)switch(it=M[Se].call(h,U,xt,J,Q,O,ce,K,Ie,Re,Le)){case void 0:case!1:case!0:case null:break;default:xt=it}if(xt!==G)return xt}function f(U){switch(U){case void 0:case null:j=M.length=0;break;default:if(typeof U=="function")M[j++]=U;else if(typeof U=="object")for(var G=0,J=U.length;G<J;++G)f(U[G]);else X=!!U|0}return f}function d(U){return U=U.prefix,U!==void 0&&(ie=null,U?typeof U!="function"?x=1:(x=2,ie=U):x=0),d}function h(U,G){var J=U;if(33>J.charCodeAt(0)&&(J=J.trim()),re=J,J=[re],0<j){var Q=l(-1,G,J,J,$,ge,0,0,0,0);Q!==void 0&&typeof Q=="string"&&(G=Q)}var O=t(L,J,G,0,0);return 0<j&&(Q=l(-2,O,J,J,$,ge,O.length,0,0,0),Q!==void 0&&(O=Q)),re="",C=0,ge=$=1,O}var _=/^\0+/g,v=/[\0\r\f]/g,S=/: */g,T=/zoo|gra/,E=/([,: ])(transform)/g,A=/,\r+?/g,k=/([\t\r\n ])*\f?&/g,N=/@(k\w+)\s*(\S*)\s*/,W=/::(place)/g,Z=/:(read-only)/g,B=/[svh]\w+-[tblr]{2}/,ne=/\(\s*(.*)\s*\)/g,z=/([\s\S]*?);/g,Y=/-self|flex-/g,ae=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ee=/stretch|:\s*\w+\-(?:conte|avail)/,me=/([^-])(image-set\()/,ge=1,$=1,C=0,x=1,L=[],M=[],j=0,ie=null,X=0,re="";return h.use=f,h.set=d,e!==void 0&&d(e),h}var Kg={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Bk(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Xk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qg=Bk(function(e){return Xk.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Jg=function(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n},Rd=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!ju.exports.typeOf(e)},cc=Object.freeze([]),yi=Object.freeze({});function Ha(e){return typeof e=="function"}function Dd(e){return e.displayName||e.name||"Component"}function lc(e){return e&&typeof e.styledComponentId=="string"}var Ei=typeof process!="undefined"&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_ATTR||"data-styled",Kk="5.3.1",kd=typeof window!="undefined"&&"HTMLElement"in window,qk=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY!==""?{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY!==void 0&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY!==""?{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY:!1),Jk={};function lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Zk=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,a=0;a<n;a++)r+=this.groupSizes[a];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var a=this.groupSizes,s=a.length,u=s;n>=u;)(u<<=1)<0&&lr(16,""+n);this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var l=s;l<u;l++)this.groupSizes[l]=0}for(var f=this.indexOfGroup(n+1),d=0,h=r.length;d<h;d++)this.tag.insertRule(f,r[d])&&(this.groupSizes[n]++,f++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],a=this.indexOfGroup(n),s=a+r;this.groupSizes[n]=0;for(var u=a;u<s;u++)this.tag.deleteRule(a)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var a=this.groupSizes[n],s=this.indexOfGroup(n),u=s+a,l=s;l<u;l++)r+=this.tag.getRule(l)+`/*!sc*/
`;return r},e}(),fc=new Map,dc=new Map,Jo=1,pc=function(e){if(fc.has(e))return fc.get(e);for(;dc.has(Jo);)Jo++;var t=Jo++;return fc.set(e,t),dc.set(t,e),t},Qk=function(e){return dc.get(e)},ex=function(e,t){t>=Jo&&(Jo=t+1),fc.set(e,t),dc.set(t,e)},tx="style["+Ei+'][data-styled-version="5.3.1"]',nx=new RegExp("^"+Ei+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),rx=function(e,t,n){for(var r,a=n.split(","),s=0,u=a.length;s<u;s++)(r=a[s])&&e.registerName(t,r)},ix=function(e,t){for(var n=(t.innerHTML||"").split(`/*!sc*/
`),r=[],a=0,s=n.length;a<s;a++){var u=n[a].trim();if(u){var l=u.match(nx);if(l){var f=0|parseInt(l[1],10),d=l[2];f!==0&&(ex(d,f),rx(e,d,l[3]),e.getTag().insertRules(f,r)),r.length=0}else r.push(u)}}},xd=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Zg=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(l){for(var f=l.childNodes,d=f.length;d>=0;d--){var h=f[d];if(h&&h.nodeType===1&&h.hasAttribute(Ei))return h}}(n),s=a!==void 0?a.nextSibling:null;r.setAttribute(Ei,"active"),r.setAttribute("data-styled-version","5.3.1");var u=xd();return u&&r.setAttribute("nonce",u),n.insertBefore(r,s),r},ax=function(){function e(n){var r=this.element=Zg(n);r.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var s=document.styleSheets,u=0,l=s.length;u<l;u++){var f=s[u];if(f.ownerNode===a)return f}lr(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch(a){return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),ox=function(){function e(n){var r=this.element=Zg(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var a=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(a,s||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),sx=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Qg=kd,ux={isServer:!kd,useCSSOMInjection:!qk},$a=function(){function e(n,r,a){n===void 0&&(n=yi),r===void 0&&(r={}),this.options=Cn({},ux,{},n),this.gs=r,this.names=new Map(a),this.server=!!n.isServer,!this.server&&kd&&Qg&&(Qg=!1,function(s){for(var u=document.querySelectorAll(tx),l=0,f=u.length;l<f;l++){var d=u[l];d&&d.getAttribute(Ei)!=="active"&&(ix(s,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}e.registerId=function(n){return pc(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(Cn({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(a=(r=this.options).isServer,s=r.useCSSOMInjection,u=r.target,n=a?new sx(u):s?new ax(u):new ox(u),new Zk(n)));var n,r,a,s,u},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(pc(n),this.names.has(n))this.names.get(n).add(r);else{var a=new Set;a.add(r),this.names.set(n,a)}},t.insertRules=function(n,r,a){this.registerName(n,r),this.getTag().insertRules(pc(n),a)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(pc(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),a=r.length,s="",u=0;u<a;u++){var l=Qk(u);if(l!==void 0){var f=n.names.get(l),d=r.getGroup(u);if(f&&d&&f.size){var h=Ei+".g"+u+'[id="'+l+'"]',_="";f!==void 0&&f.forEach(function(v){v.length>0&&(_+=v+",")}),s+=""+d+h+'{content:"'+_+`"}/*!sc*/
`}}}return s}(this)},e}(),cx=/(a)(d)/gi,ev=function(e){return String.fromCharCode(e+(e>25?39:97))};function Cd(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ev(t%52)+n;return(ev(t%52)+n).replace(cx,"$1-$2")}var Va=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},tv=function(e){return Va(5381,e)};function nv(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ha(n)&&!lc(n))return!1}return!0}var lx=tv("5.3.1"),fx=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&nv(t),this.componentId=n,this.baseHash=Va(lx,n),this.baseStyle=r,$a.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var a=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(a,this.staticRulesId))s.push(this.staticRulesId);else{var u=ta(this.rules,t,n,r).join(""),l=Cd(Va(this.baseHash,u)>>>0);if(!n.hasNameForId(a,l)){var f=r(u,"."+l,void 0,a);n.insertRules(a,l,f)}s.push(l),this.staticRulesId=l}else{for(var d=this.rules.length,h=Va(this.baseHash,r.hash),_="",v=0;v<d;v++){var S=this.rules[v];if(typeof S=="string")_+=S;else if(S){var T=ta(S,t,n,r),E=Array.isArray(T)?T.join(""):T;h=Va(h,E+v),_+=E}}if(_){var A=Cd(h>>>0);if(!n.hasNameForId(a,A)){var k=r(_,"."+A,void 0,a);n.insertRules(a,A,k)}s.push(A)}}return s.join(" ")},e}(),dx=/^\s*\/\/.*$/gm,px=[":","[",".","#"];function rv(e){var t,n,r,a,s=e===void 0?yi:e,u=s.options,l=u===void 0?yi:u,f=s.plugins,d=f===void 0?cc:f,h=new Wk(l),_=[],v=function(E){function A(k){if(k)try{E(k+"}")}catch(N){}}return function(k,N,W,Z,B,ne,z,Y,ae,ee){switch(k){case 1:if(ae===0&&N.charCodeAt(0)===64)return E(N+";"),"";break;case 2:if(Y===0)return N+"/*|*/";break;case 3:switch(Y){case 102:case 112:return E(W[0]+N),"";default:return N+(ee===0?"/*|*/":"")}case-2:N.split("/*|*/}").forEach(A)}}}(function(E){_.push(E)}),S=function(E,A,k){return A===0&&px.indexOf(k[n.length])!==-1||k.match(a)?E:"."+t};function T(E,A,k,N){N===void 0&&(N="&");var W=E.replace(dx,""),Z=A&&k?k+" "+A+" { "+W+" }":W;return t=N,n=A,r=new RegExp("\\"+n+"\\b","g"),a=new RegExp("(\\"+n+"\\b){2,}"),h(k||!A?"":A,Z)}return h.use([].concat(d,[function(E,A,k){E===2&&k.length&&k[0].lastIndexOf(n)>0&&(k[0]=k[0].replace(r,S))},v,function(E){if(E===-2){var A=_;return _=[],A}}])),T.hash=d.length?d.reduce(function(E,A){return A.name||lr(15),Va(E,A.name)},5381).toString():"",T}var hc=R.createContext(),hx=hc.Consumer,Pd=R.createContext(),iv=(Pd.Consumer,new $a),Nd=rv();function Md(){return oe.exports.useContext(hc)||iv}function av(){return oe.exports.useContext(Pd)||Nd}function ov(e){var t=oe.exports.useState(e.stylisPlugins),n=t[0],r=t[1],a=Md(),s=oe.exports.useMemo(function(){var l=a;return e.sheet?l=e.sheet:e.target&&(l=l.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(l=l.reconstructWithOptions({useCSSOMInjection:!1})),l},[e.disableCSSOMInjection,e.sheet,e.target]),u=oe.exports.useMemo(function(){return rv({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return oe.exports.useEffect(function(){jk(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),R.createElement(hc.Provider,{value:s},R.createElement(Pd.Provider,{value:u},e.children))}var sv=function(){function e(t,n){var r=this;this.inject=function(a,s){s===void 0&&(s=Nd);var u=r.name+s.hash;a.hasNameForId(r.id,u)||a.insertRules(r.id,u,s(r.rules,u,"@keyframes"))},this.toString=function(){return lr(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Nd),this.name+t.hash},e}(),mx=/([A-Z])/,_x=/([A-Z])/g,gx=/^ms-/,vx=function(e){return"-"+e.toLowerCase()};function uv(e){return mx.test(e)?e.replace(_x,vx).replace(gx,"-ms-"):e}var cv=function(e){return e==null||e===!1||e===""};function ta(e,t,n,r){if(Array.isArray(e)){for(var a,s=[],u=0,l=e.length;u<l;u+=1)(a=ta(e[u],t,n,r))!==""&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));return s}if(cv(e))return"";if(lc(e))return"."+e.styledComponentId;if(Ha(e)){if(typeof(d=e)!="function"||d.prototype&&d.prototype.isReactComponent||!t)return e;var f=e(t);return ta(f,t,n,r)}var d;return e instanceof sv?n?(e.inject(n,r),e.getName(r)):e:Rd(e)?function h(_,v){var S,T,E=[];for(var A in _)_.hasOwnProperty(A)&&!cv(_[A])&&(Array.isArray(_[A])&&_[A].isCss||Ha(_[A])?E.push(uv(A)+":",_[A],";"):Rd(_[A])?E.push.apply(E,h(_[A],A)):E.push(uv(A)+": "+(S=A,(T=_[A])==null||typeof T=="boolean"||T===""?"":typeof T!="number"||T===0||S in Kg?String(T).trim():T+"px")+";"));return v?[v+" {"].concat(E,["}"]):E}(e):e.toString()}var lv=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function mc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ha(e)||Rd(e)?lv(ta(Jg(cc,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:lv(ta(Jg(e,n)))}var Ld=function(e,t,n){return n===void 0&&(n=yi),e.theme!==n.theme&&e.theme||t||n.theme},yx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ex=/(^-|-$)/g;function Ud(e){return e.replace(yx,"-").replace(Ex,"")}var Fd=function(e){return Cd(tv(e)>>>0)};function _c(e){return typeof e=="string"&&!0}var Gd=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},Sx=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function bx(e,t,n){var r=e[n];Gd(t)&&Gd(r)?fv(r,t):e[n]=t}function fv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,s=n;a<s.length;a++){var u=s[a];if(Gd(u))for(var l in u)Sx(l)&&bx(e,u[l],l)}return e}var Si=R.createContext(),Tx=Si.Consumer;function dv(e){var t=oe.exports.useContext(Si),n=oe.exports.useMemo(function(){return function(r,a){if(!r)return lr(14);if(Ha(r)){var s=r(a);return s}return Array.isArray(r)||typeof r!="object"?lr(8):a?Cn({},a,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?R.createElement(Si.Provider,{value:n},e.children):null}var zd={};function pv(e,t,n){var r=lc(e),a=!_c(e),s=t.attrs,u=s===void 0?cc:s,l=t.componentId,f=l===void 0?function(N,W){var Z=typeof N!="string"?"sc":Ud(N);zd[Z]=(zd[Z]||0)+1;var B=Z+"-"+Fd("5.3.1"+Z+zd[Z]);return W?W+"-"+B:B}(t.displayName,t.parentComponentId):l,d=t.displayName,h=d===void 0?function(N){return _c(N)?"styled."+N:"Styled("+Dd(N)+")"}(e):d,_=t.displayName&&t.componentId?Ud(t.displayName)+"-"+t.componentId:t.componentId||f,v=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(N,W,Z){return e.shouldForwardProp(N,W,Z)&&t.shouldForwardProp(N,W,Z)}:e.shouldForwardProp);var T,E=new fx(n,_,r?e.componentStyle:void 0),A=E.isStatic&&u.length===0,k=function(N,W){return function(Z,B,ne,z){var Y=Z.attrs,ae=Z.componentStyle,ee=Z.defaultProps,me=Z.foldedComponentIds,ge=Z.shouldForwardProp,$=Z.styledComponentId,C=Z.target,x=function(Q,O,ce){Q===void 0&&(Q=yi);var K=Cn({},O,{theme:Q}),Ie={};return ce.forEach(function(Re){var Le,Se,xt,it=Re;for(Le in Ha(it)&&(it=it(K)),it)K[Le]=Ie[Le]=Le==="className"?(Se=Ie[Le],xt=it[Le],Se&&xt?Se+" "+xt:Se||xt):it[Le]}),[K,Ie]}(Ld(B,oe.exports.useContext(Si),ee)||yi,B,Y),L=x[0],M=x[1],j=function(Q,O,ce,K){var Ie=Md(),Re=av(),Le=O?Q.generateAndInjectStyles(yi,Ie,Re):Q.generateAndInjectStyles(ce,Ie,Re);return Le}(ae,z,L),ie=ne,X=M.$as||B.$as||M.as||B.as||C,re=_c(X),U=M!==B?Cn({},B,{},M):B,G={};for(var J in U)J[0]!=="$"&&J!=="as"&&(J==="forwardedAs"?G.as=U[J]:(ge?ge(J,qg,X):!re||qg(J))&&(G[J]=U[J]));return B.style&&M.style!==B.style&&(G.style=Cn({},B.style,{},M.style)),G.className=Array.prototype.concat(me,$,j!==$?j:null,B.className,M.className).filter(Boolean).join(" "),G.ref=ie,oe.exports.createElement(X,G)}(T,N,W,A)};return k.displayName=h,(T=R.forwardRef(k)).attrs=v,T.componentStyle=E,T.displayName=h,T.shouldForwardProp=S,T.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):cc,T.styledComponentId=_,T.target=r?e.target:e,T.withComponent=function(N){var W=t.componentId,Z=function(ne,z){if(ne==null)return{};var Y,ae,ee={},me=Object.keys(ne);for(ae=0;ae<me.length;ae++)Y=me[ae],z.indexOf(Y)>=0||(ee[Y]=ne[Y]);return ee}(t,["componentId"]),B=W&&W+"-"+(_c(N)?N:Ud(Dd(N)));return pv(N,Cn({},Z,{attrs:v,componentId:B}),n)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=r?fv({},e.defaultProps,N):N}}),T.toString=function(){return"."+T.styledComponentId},a&&cd(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Hd=function(e){return function t(n,r,a){if(a===void 0&&(a=yi),!ju.exports.isValidElementType(r))return lr(1,String(r));var s=function(){return n(r,a,mc.apply(void 0,arguments))};return s.withConfig=function(u){return t(n,r,Cn({},a,{},u))},s.attrs=function(u){return t(n,r,Cn({},a,{attrs:Array.prototype.concat(a.attrs,u).filter(Boolean)}))},s}(pv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Hd[e]=Hd(e)});var wx=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=nv(n),$a.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,a,s){var u=s(ta(this.rules,r,a,s).join(""),""),l=this.componentId+n;a.insertRules(l,l,u)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,a,s){n>2&&$a.registerId(this.componentId+n),this.removeStyles(n,a),this.createStyles(n,r,a,s)},e}();function hv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=mc.apply(void 0,[e].concat(n)),s="sc-global-"+Fd(JSON.stringify(a)),u=new wx(a,s);function l(d){var h=Md(),_=av(),v=oe.exports.useContext(Si),S=oe.exports.useRef(h.allocateGSInstance(s)).current;return h.server&&f(S,d,h,v,_),oe.exports.useLayoutEffect(function(){if(!h.server)return f(S,d,h,v,_),function(){return u.removeStyles(S,h)}},[S,d,h,v,_]),null}function f(d,h,_,v,S){if(u.isStatic)u.renderStyles(d,Jk,_,S);else{var T=Cn({},h,{theme:Ld(h,v,l.defaultProps)});u.renderStyles(d,T,_,S)}}return R.memo(l)}function Ax(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=mc.apply(void 0,[e].concat(n)).join(""),s=Fd(a);return new sv(s,a)}var Ox=function(){function e(){var n=this;this._emitSheetCSS=function(){var r=n.instance.toString();if(!r)return"";var a=xd();return"<style "+[a&&'nonce="'+a+'"',Ei+'="true"','data-styled-version="5.3.1"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return n.sealed?lr(2):n._emitSheetCSS()},this.getStyleElement=function(){var r;if(n.sealed)return lr(2);var a=((r={})[Ei]="",r["data-styled-version"]="5.3.1",r.dangerouslySetInnerHTML={__html:n.instance.toString()},r),s=xd();return s&&(a.nonce=s),[R.createElement("style",Cn({},a,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new $a({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?lr(2):R.createElement(ov,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return lr(3)},e}(),Ix=function(e){var t=R.forwardRef(function(n,r){var a=oe.exports.useContext(Si),s=e.defaultProps,u=Ld(n,a,s);return R.createElement(e,Cn({},n,{theme:u,ref:r}))});return cd(t,e),t.displayName="WithTheme("+Dd(e)+")",t},Rx=function(){return oe.exports.useContext(Si)},Dx={StyleSheet:$a,masterSheet:iv},kx=Hd,yz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kx,ServerStyleSheet:Ox,StyleSheetConsumer:hx,StyleSheetContext:hc,StyleSheetManager:ov,ThemeConsumer:Tx,ThemeContext:Si,ThemeProvider:dv,__PRIVATE__:Dx,createGlobalStyle:hv,css:mc,isStyledComponent:lc,keyframes:Ax,useTheme:Rx,version:Kk,withTheme:Ix});function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(n),!0).forEach(function(r){Yu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$d=function(){return Math.random().toString(36).substring(7).split("").join(".")},Zo={INIT:"@@redux/INIT"+$d(),REPLACE:"@@redux/REPLACE"+$d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$d()}};function xx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vd(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(jt(1));return n(Vd)(e,t)}if(typeof e!="function")throw new Error(jt(2));var a=e,s=t,u=[],l=u,f=!1;function d(){l===u&&(l=u.slice())}function h(){if(f)throw new Error(jt(3));return s}function _(E){if(typeof E!="function")throw new Error(jt(4));if(f)throw new Error(jt(5));var A=!0;return d(),l.push(E),function(){if(!!A){if(f)throw new Error(jt(6));A=!1,d();var N=l.indexOf(E);l.splice(N,1),u=null}}}function v(E){if(!xx(E))throw new Error(jt(7));if(typeof E.type=="undefined")throw new Error(jt(8));if(f)throw new Error(jt(9));try{f=!0,s=a(s,E)}finally{f=!1}for(var A=u=l,k=0;k<A.length;k++){var N=A[k];N()}return E}function S(E){if(typeof E!="function")throw new Error(jt(10));a=E,v({type:Zo.REPLACE})}function T(){var E,A=_;return E={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(jt(11));function W(){N.next&&N.next(h())}W();var Z=A(W);return{unsubscribe:Z}}},E[gv]=function(){return this},E}return v({type:Zo.INIT}),r={dispatch:v,subscribe:_,getState:h,replaceReducer:S},r[gv]=T,r}function Cx(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Zo.INIT});if(typeof r=="undefined")throw new Error(jt(12));if(typeof n(void 0,{type:Zo.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(jt(13))})}function Px(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];typeof e[a]=="function"&&(n[a]=e[a])}var s=Object.keys(n),u;try{Cx(n)}catch(l){u=l}return function(f,d){if(f===void 0&&(f={}),u)throw u;for(var h=!1,_={},v=0;v<s.length;v++){var S=s[v],T=n[S],E=f[S],A=T(E,d);if(typeof A=="undefined")throw d&&d.type,new Error(jt(14));_[S]=A,h=h||A!==E}return h=h||s.length!==Object.keys(f).length,h?_:f}}function vv(e,t){return function(){return t(e.apply(this,arguments))}}function Nx(e,t){if(typeof e=="function")return vv(e,t);if(typeof e!="object"||e===null)throw new Error(jt(16));var n={};for(var r in e){var a=e[r];typeof a=="function"&&(n[r]=vv(a,t))}return n}function yv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}function Ev(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var a=r.apply(void 0,arguments),s=function(){throw new Error(jt(15))},u={getState:a.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(f){return f(u)});return s=yv.apply(void 0,l)(a.dispatch),_v(_v({},a),{},{dispatch:s})}}}var Mx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",__DO_NOT_USE__ActionTypes:Zo,applyMiddleware:Ev,bindActionCreators:Nx,combineReducers:Px,compose:yv,createStore:Vd});function Lx(){if(!window)return;const e=localStorage.getItem(Ma.publicRuntimeConfig.localStorageKey);return e?JSON.parse(e):void 0}function Ux(e){e.isLoggedIn&&localStorage.setItem(Ma.publicRuntimeConfig.localStorageKey,JSON.stringify(e))}function Sv(e){return function(t){var n=t.dispatch,r=t.getState;return function(a){return function(s){return typeof s=="function"?s(n,r,e):a(s)}}}}var bv=Sv();bv.withExtraArgument=Sv;var Qo="delete",dt=5,Bn=1<<dt,fn=Bn-1,$e={};function Yd(){return{value:!1}}function Xn(e){e&&(e.value=!0)}function jd(){}function Ya(e){return e.size===void 0&&(e.size=e.__iterate(Tv)),e.size}function bi(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?Ya(e)+t:t}function Tv(){return!0}function es(e,t,n){return(e===0&&!Av(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function ja(e,t){return wv(e,t,0)}function ts(e,t){return wv(e,t,t)}function wv(e,t,n){return e===void 0?n:Av(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Av(e){return e<0||e===0&&1/e==-1/0}var Ov="@@__IMMUTABLE_ITERABLE__@@";function Zt(e){return Boolean(e&&e[Ov])}var Iv="@@__IMMUTABLE_KEYED__@@";function st(e){return Boolean(e&&e[Iv])}var Rv="@@__IMMUTABLE_INDEXED__@@";function Wt(e){return Boolean(e&&e[Rv])}function Wa(e){return st(e)||Wt(e)}var pt=function(t){return Zt(t)?t:Qt(t)},Kn=function(e){function t(n){return st(n)?n:Ti(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pt),na=function(e){function t(n){return Wt(n)?n:Jn(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pt),Ba=function(e){function t(n){return Zt(n)&&!Wa(n)?n:qa(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pt);pt.Keyed=Kn;pt.Indexed=na;pt.Set=Ba;var Dv="@@__IMMUTABLE_SEQ__@@";function ns(e){return Boolean(e&&e[Dv])}var kv="@@__IMMUTABLE_RECORD__@@";function ra(e){return Boolean(e&&e[kv])}function Pn(e){return Zt(e)||ra(e)}var Xa="@@__IMMUTABLE_ORDERED__@@";function Nn(e){return Boolean(e&&e[Xa])}var rs=0,fr=1,qn=2,Wd=typeof Symbol=="function"&&Symbol.iterator,xv="@@iterator",gc=Wd||xv,Ye=function(t){this.next=t};Ye.prototype.toString=function(){return"[Iterator]"};Ye.KEYS=rs;Ye.VALUES=fr;Ye.ENTRIES=qn;Ye.prototype.inspect=Ye.prototype.toSource=function(){return this.toString()};Ye.prototype[gc]=function(){return this};function ht(e,t,n,r){var a=e===0?t:e===1?n:[t,n];return r?r.value=a:r={value:a,done:!1},r}function dn(){return{value:void 0,done:!0}}function Bd(e){return Array.isArray(e)?!0:!!vc(e)}function Cv(e){return e&&typeof e.next=="function"}function Xd(e){var t=vc(e);return t&&t.call(e)}function vc(e){var t=e&&(Wd&&e[Wd]||e[xv]);if(typeof t=="function")return t}function Fx(e){var t=vc(e);return t&&t===e.entries}function Gx(e){var t=vc(e);return t&&t===e.keys}var Ka=Object.prototype.hasOwnProperty;function Kd(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Qt=function(e){function t(n){return n==null?Jd():Pn(n)?n.toSeq():Hx(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,a){var s=this._cache;if(s){for(var u=s.length,l=0;l!==u;){var f=s[a?u-++l:l++];if(r(f[1],f[0],this)===!1)break}return l}return this.__iterateUncached(r,a)},t.prototype.__iterator=function(r,a){var s=this._cache;if(s){var u=s.length,l=0;return new Ye(function(){if(l===u)return dn();var f=s[a?u-++l:l++];return ht(r,f[0],f[1])})}return this.__iteratorUncached(r,a)},t}(pt),Ti=function(e){function t(n){return n==null?Jd().toKeyedSeq():Zt(n)?st(n)?n.toSeq():n.fromEntrySeq():ra(n)?n.toSeq():Zd(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Qt),Jn=function(e){function t(n){return n==null?Jd():Zt(n)?st(n)?n.entrySeq():n.toIndexedSeq():ra(n)?n.toSeq().entrySeq():Nv(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Qt),qa=function(e){function t(n){return(Zt(n)&&!Wa(n)?n:Jn(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Qt);Qt.isSeq=ns;Qt.Keyed=Ti;Qt.Set=qa;Qt.Indexed=Jn;Qt.prototype[Dv]=!0;var ia=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return this.has(r)?this._array[bi(this,r)]:a},t.prototype.__iterate=function(r,a){for(var s=this._array,u=s.length,l=0;l!==u;){var f=a?u-++l:l++;if(r(s[f],f,this)===!1)break}return l},t.prototype.__iterator=function(r,a){var s=this._array,u=s.length,l=0;return new Ye(function(){if(l===u)return dn();var f=a?u-++l:l++;return ht(r,f,s[f])})},t}(Jn),qd=function(e){function t(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return a!==void 0&&!this.has(r)?a:this._object[r]},t.prototype.has=function(r){return Ka.call(this._object,r)},t.prototype.__iterate=function(r,a){for(var s=this._object,u=this._keys,l=u.length,f=0;f!==l;){var d=u[a?l-++f:f++];if(r(s[d],d,this)===!1)break}return f},t.prototype.__iterator=function(r,a){var s=this._object,u=this._keys,l=u.length,f=0;return new Ye(function(){if(f===l)return dn();var d=u[a?l-++f:f++];return ht(r,d,s[d])})},t}(Ti);qd.prototype[Xa]=!0;var zx=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,a){if(a)return this.cacheResult().__iterate(r,a);var s=this._collection,u=Xd(s),l=0;if(Cv(u))for(var f;!(f=u.next()).done&&r(f.value,l++,this)!==!1;);return l},t.prototype.__iteratorUncached=function(r,a){if(a)return this.cacheResult().__iterator(r,a);var s=this._collection,u=Xd(s);if(!Cv(u))return new Ye(dn);var l=0;return new Ye(function(){var f=u.next();return f.done?f:ht(r,l++,f.value)})},t}(Jn),Pv;function Jd(){return Pv||(Pv=new ia([]))}function Zd(e){var t=Qd(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new qd(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Nv(e){var t=Qd(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Hx(e){var t=Qd(e);if(t)return Fx(e)?t.fromEntrySeq():Gx(e)?t.toSetSeq():t;if(typeof e=="object")return new qd(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Qd(e){return Kd(e)?new ia(e):Bd(e)?new zx(e):void 0}var Mv="@@__IMMUTABLE_MAP__@@";function is(e){return Boolean(e&&e[Mv])}function yc(e){return is(e)&&Nn(e)}function Ec(e){return Boolean(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Ft(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Ec(e)&&Ec(t)&&e.equals(t))}var as=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,a=n&65535;return r*a+((t>>>16)*a+r*(n>>>16)<<16>>>0)|0};function Sc(e){return e>>>1&1073741824|e&3221225471}var $x=Object.prototype.valueOf;function pn(e){if(e==null)return Lv(e);if(typeof e.hashCode=="function")return Sc(e.hashCode(e));var t=Xx(e);if(t==null)return Lv(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Vx(t);case"string":return t.length>Kx?Yx(t):ep(t);case"object":case"function":return Wx(t);case"symbol":return jx(t);default:if(typeof t.toString=="function")return ep(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Lv(e){return e===null?1108378658:1108378659}function Vx(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return Sc(t)}function Yx(e){var t=ap[e];return t===void 0&&(t=ep(e),ip===qx&&(ip=0,ap={}),ip++,ap[e]=t),t}function ep(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Sc(t)}function jx(e){var t=zv[e];return t!==void 0||(t=Gv(),zv[e]=t),t}function Wx(e){var t;if(tp&&(t=np.get(e),t!==void 0)||(t=e[aa],t!==void 0)||!Fv&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[aa],t!==void 0||(t=Bx(e),t!==void 0)))return t;if(t=Gv(),tp)np.set(e,t);else{if(Uv!==void 0&&Uv(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Fv)Object.defineProperty(e,aa,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[aa]=t;else if(e.nodeType!==void 0)e[aa]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Uv=Object.isExtensible,Fv=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Bx(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function Xx(e){return e.valueOf!==$x&&typeof e.valueOf=="function"?e.valueOf(e):e}function Gv(){var e=++rp;return rp&1073741824&&(rp=0),e}var tp=typeof WeakMap=="function",np;tp&&(np=new WeakMap);var zv=Object.create(null),rp=0,aa="__immutablehash__";typeof Symbol=="function"&&(aa=Symbol(aa));var Kx=16,qx=255,ip=0,ap={},bc=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return this._iter.get(r,a)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,a=op(this,!0);return this._useKeys||(a.valueSeq=function(){return r._iter.toSeq().reverse()}),a},t.prototype.map=function(r,a){var s=this,u=jv(this,r,a);return this._useKeys||(u.valueSeq=function(){return s._iter.toSeq().map(r,a)}),u},t.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(u,l){return r(u,l,s)},a)},t.prototype.__iterator=function(r,a){return this._iter.__iterator(r,a)},t}(Ti);bc.prototype[Xa]=!0;var Hv=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,a){var s=this,u=0;return a&&Ya(this),this._iter.__iterate(function(l){return r(l,a?s.size-++u:u++,s)},a)},t.prototype.__iterator=function(r,a){var s=this,u=this._iter.__iterator(fr,a),l=0;return a&&Ya(this),new Ye(function(){var f=u.next();return f.done?f:ht(r,a?s.size-++l:l++,f.value,f)})},t}(Jn),$v=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(u){return r(u,u,s)},a)},t.prototype.__iterator=function(r,a){var s=this._iter.__iterator(fr,a);return new Ye(function(){var u=s.next();return u.done?u:ht(r,u.value,u.value,u)})},t}(qa),Vv=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(u){if(u){qv(u);var l=Zt(u);return r(l?u.get(1):u[1],l?u.get(0):u[0],s)}},a)},t.prototype.__iterator=function(r,a){var s=this._iter.__iterator(fr,a);return new Ye(function(){for(;;){var u=s.next();if(u.done)return u;var l=u.value;if(l){qv(l);var f=Zt(l);return ht(r,f?l.get(0):l[0],f?l.get(1):l[1],u)}}})},t}(Ti);Hv.prototype.cacheResult=bc.prototype.cacheResult=$v.prototype.cacheResult=Vv.prototype.cacheResult=up;function Yv(e){var t=Tr(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=up,t.__iterateUncached=function(n,r){var a=this;return e.__iterate(function(s,u){return n(u,s,a)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===qn){var a=e.__iterator(n,r);return new Ye(function(){var s=a.next();if(!s.done){var u=s.value[0];s.value[0]=s.value[1],s.value[1]=u}return s})}return e.__iterator(n===fr?rs:fr,r)},t}function jv(e,t,n){var r=Tr(e);return r.size=e.size,r.has=function(a){return e.has(a)},r.get=function(a,s){var u=e.get(a,$e);return u===$e?s:t.call(n,u,a,e)},r.__iterateUncached=function(a,s){var u=this;return e.__iterate(function(l,f,d){return a(t.call(n,l,f,d),f,u)!==!1},s)},r.__iteratorUncached=function(a,s){var u=e.__iterator(qn,s);return new Ye(function(){var l=u.next();if(l.done)return l;var f=l.value,d=f[0];return ht(a,d,t.call(n,f[1],d,e),l)})},r}function op(e,t){var n=this,r=Tr(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var a=Yv(e);return a.reverse=function(){return e.flip()},a}),r.get=function(a,s){return e.get(t?a:-1-a,s)},r.has=function(a){return e.has(t?a:-1-a)},r.includes=function(a){return e.includes(a)},r.cacheResult=up,r.__iterate=function(a,s){var u=this,l=0;return s&&Ya(e),e.__iterate(function(f,d){return a(f,t?d:s?u.size-++l:l++,u)},!s)},r.__iterator=function(a,s){var u=0;s&&Ya(e);var l=e.__iterator(qn,!s);return new Ye(function(){var f=l.next();if(f.done)return f;var d=f.value;return ht(a,t?d[0]:s?n.size-++u:u++,d[1],f)})},r}function Wv(e,t,n,r){var a=Tr(e);return r&&(a.has=function(s){var u=e.get(s,$e);return u!==$e&&!!t.call(n,u,s,e)},a.get=function(s,u){var l=e.get(s,$e);return l!==$e&&t.call(n,l,s,e)?l:u}),a.__iterateUncached=function(s,u){var l=this,f=0;return e.__iterate(function(d,h,_){if(t.call(n,d,h,_))return f++,s(d,r?h:f-1,l)},u),f},a.__iteratorUncached=function(s,u){var l=e.__iterator(qn,u),f=0;return new Ye(function(){for(;;){var d=l.next();if(d.done)return d;var h=d.value,_=h[0],v=h[1];if(t.call(n,v,_,e))return ht(s,r?_:f++,v,d)}})},a}function Jx(e,t,n){var r=Oi().asMutable();return e.__iterate(function(a,s){r.update(t.call(n,a,s,e),0,function(u){return u+1})}),r.asImmutable()}function Zx(e,t,n){var r=st(e),a=(Nn(e)?pr():Oi()).asMutable();e.__iterate(function(u,l){a.update(t.call(n,u,l,e),function(f){return f=f||[],f.push(r?[l,u]:u),f})});var s=Jv(e);return a.map(function(u){return ut(e,s(u))}).asImmutable()}function sp(e,t,n,r){var a=e.size;if(es(t,n,a))return e;var s=ja(t,a),u=ts(n,a);if(s!==s||u!==u)return sp(e.toSeq().cacheResult(),t,n,r);var l=u-s,f;l===l&&(f=l<0?0:l);var d=Tr(e);return d.size=f===0?f:e.size&&f||void 0,!r&&ns(e)&&f>=0&&(d.get=function(h,_){return h=bi(this,h),h>=0&&h<f?e.get(h+s,_):_}),d.__iterateUncached=function(h,_){var v=this;if(f===0)return 0;if(_)return this.cacheResult().__iterate(h,_);var S=0,T=!0,E=0;return e.__iterate(function(A,k){if(!(T&&(T=S++<s)))return E++,h(A,r?k:E-1,v)!==!1&&E!==f}),E},d.__iteratorUncached=function(h,_){if(f!==0&&_)return this.cacheResult().__iterator(h,_);if(f===0)return new Ye(dn);var v=e.__iterator(h,_),S=0,T=0;return new Ye(function(){for(;S++<s;)v.next();if(++T>f)return dn();var E=v.next();return r||h===fr||E.done?E:h===rs?ht(h,T-1,void 0,E):ht(h,T-1,E.value[1],E)})},d}function Qx(e,t,n){var r=Tr(e);return r.__iterateUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterate(a,s);var l=0;return e.__iterate(function(f,d,h){return t.call(n,f,d,h)&&++l&&a(f,d,u)}),l},r.__iteratorUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterator(a,s);var l=e.__iterator(qn,s),f=!0;return new Ye(function(){if(!f)return dn();var d=l.next();if(d.done)return d;var h=d.value,_=h[0],v=h[1];return t.call(n,v,_,u)?a===qn?d:ht(a,_,v,d):(f=!1,dn())})},r}function Bv(e,t,n,r){var a=Tr(e);return a.__iterateUncached=function(s,u){var l=this;if(u)return this.cacheResult().__iterate(s,u);var f=!0,d=0;return e.__iterate(function(h,_,v){if(!(f&&(f=t.call(n,h,_,v))))return d++,s(h,r?_:d-1,l)}),d},a.__iteratorUncached=function(s,u){var l=this;if(u)return this.cacheResult().__iterator(s,u);var f=e.__iterator(qn,u),d=!0,h=0;return new Ye(function(){var _,v,S;do{if(_=f.next(),_.done)return r||s===fr?_:s===rs?ht(s,h++,void 0,_):ht(s,h++,_.value[1],_);var T=_.value;v=T[0],S=T[1],d&&(d=t.call(n,S,v,l))}while(d);return s===qn?_:ht(s,v,S,_)})},a}function eC(e,t){var n=st(e),r=[e].concat(t).map(function(u){return Zt(u)?n&&(u=Kn(u)):u=n?Zd(u):Nv(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(r.length===0)return e;if(r.length===1){var a=r[0];if(a===e||n&&st(a)||Wt(e)&&Wt(a))return a}var s=new ia(r);return n?s=s.toKeyedSeq():Wt(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(u,l){if(u!==void 0){var f=l.size;if(f!==void 0)return u+f}},0),s}function Xv(e,t,n){var r=Tr(e);return r.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var u=0,l=!1;function f(d,h){d.__iterate(function(_,v){return(!t||h<t)&&Zt(_)?f(_,h+1):(u++,a(_,n?v:u-1,r)===!1&&(l=!0)),!l},s)}return f(e,0),u},r.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var u=e.__iterator(a,s),l=[],f=0;return new Ye(function(){for(;u;){var d=u.next();if(d.done!==!1){u=l.pop();continue}var h=d.value;if(a===qn&&(h=h[1]),(!t||l.length<t)&&Zt(h))l.push(u),u=h.__iterator(a,s);else return n?d:ht(a,f++,h,d)}return dn()})},r}function tC(e,t,n){var r=Jv(e);return e.toSeq().map(function(a,s){return r(t.call(n,a,s,e))}).flatten(!0)}function nC(e,t){var n=Tr(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,a){var s=this,u=0;return e.__iterate(function(l){return(!u||r(t,u++,s)!==!1)&&r(l,u++,s)!==!1},a),u},n.__iteratorUncached=function(r,a){var s=e.__iterator(fr,a),u=0,l;return new Ye(function(){return(!l||u%2)&&(l=s.next(),l.done)?l:u%2?ht(r,u++,t):ht(r,u++,l.value,l)})},n}function Ja(e,t,n){t||(t=Zv);var r=st(e),a=0,s=e.toSeq().map(function(u,l){return[l,u,a++,n?n(u,l,e):u]}).valueSeq().toArray();return s.sort(function(u,l){return t(u[3],l[3])||u[2]-l[2]}).forEach(r?function(u,l){s[l].length=2}:function(u,l){s[l]=u[1]}),r?Ti(s):Wt(e)?Jn(s):qa(s)}function Tc(e,t,n){if(t||(t=Zv),n){var r=e.toSeq().map(function(a,s){return[a,n(a,s,e)]}).reduce(function(a,s){return Kv(t,a[1],s[1])?s:a});return r&&r[0]}return e.reduce(function(a,s){return Kv(t,a,s)?s:a})}function Kv(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function wc(e,t,n,r){var a=Tr(e),s=new ia(n).map(function(u){return u.size});return a.size=r?s.max():s.min(),a.__iterate=function(u,l){for(var f=this.__iterator(fr,l),d,h=0;!(d=f.next()).done&&u(d.value,h++,this)!==!1;);return h},a.__iteratorUncached=function(u,l){var f=n.map(function(_){return _=pt(_),Xd(l?_.reverse():_)}),d=0,h=!1;return new Ye(function(){var _;return h||(_=f.map(function(v){return v.next()}),h=r?_.every(function(v){return v.done}):_.some(function(v){return v.done})),h?dn():ht(u,d++,t.apply(null,_.map(function(v){return v.value})))})},a}function ut(e,t){return e===t?e:ns(e)?t:e.constructor(t)}function qv(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jv(e){return st(e)?Kn:Wt(e)?na:Ba}function Tr(e){return Object.create((st(e)?Ti:Wt(e)?Jn:qa).prototype)}function up(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Qt.prototype.cacheResult.call(this)}function Zv(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function wr(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),a=0;a<n;a++)r[a]=e[a+t];return r}function cp(e,t){if(!e)throw new Error(t)}function Zn(e){cp(e!==1/0,"Cannot perform this action with an infinite size.")}function Qv(e){if(Kd(e)&&typeof e!="string")return e;if(Nn(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var rC=Object.prototype.toString;function Ac(e){if(!e||typeof e!="object"||rC.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function wi(e){return typeof e=="object"&&(Pn(e)||Array.isArray(e)||Ac(e))}function os(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function lp(e,t){return Pn(e)?e.has(t):wi(e)&&Ka.call(e,t)}function Oc(e,t,n){return Pn(e)?e.get(t,n):lp(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function Ic(e){if(Array.isArray(e))return wr(e);var t={};for(var n in e)Ka.call(e,n)&&(t[n]=e[n]);return t}function fp(e,t){if(!wi(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pn(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Ka.call(e,t))return e;var n=Ic(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function dp(e,t,n){if(!wi(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pn(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Ka.call(e,t)&&n===e[t])return e;var r=Ic(e);return r[t]=n,r}function Ai(e,t,n,r){r||(r=n,n=void 0);var a=e1(Pn(e),e,Qv(t),0,n,r);return a===$e?n:a}function e1(e,t,n,r,a,s){var u=t===$e;if(r===n.length){var l=u?a:t,f=s(l);return f===l?t:f}if(!u&&!wi(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(os)+"]: "+t);var d=n[r],h=u?$e:Oc(t,d,$e),_=e1(h===$e?e:Pn(h),h,n,r+1,a,s);return _===h?t:_===$e?fp(t,d):dp(u?e?dr():{}:t,d,_)}function pp(e,t,n){return Ai(e,t,$e,function(){return n})}function hp(e,t){return pp(this,e,t)}function mp(e,t){return Ai(e,t,function(){return $e})}function _p(e){return mp(this,e)}function Rc(e,t,n,r){return Ai(e,[t],n,r)}function gp(e,t,n){return arguments.length===1?e(this):Rc(this,e,t,n)}function vp(e,t,n){return Ai(this,e,t,n)}function t1(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return r1(this,e)}function n1(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return r1(this,t,e)}function r1(e,t,n){for(var r=[],a=0;a<t.length;a++){var s=Kn(t[a]);s.size!==0&&r.push(s)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(u){for(var l=n?function(d,h){Rc(u,h,$e,function(_){return _===$e?d:n(_,d,h)})}:function(d,h){u.set(h,d)},f=0;f<r.length;f++)r[f].forEach(l)})}function i1(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return us(e,t)}function a1(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return us(t,n,e)}function o1(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ss(e,t)}function s1(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return ss(t,n,e)}function ss(e,t,n){return us(e,t,iC(n))}function us(e,t,n){if(!wi(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Pn(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),a=e,s=r?na:Kn,u=r?function(f){a===e&&(a=Ic(a)),a.push(f)}:function(f,d){var h=Ka.call(a,d),_=h&&n?n(a[d],f,d):f;(!h||_!==a[d])&&(a===e&&(a=Ic(a)),a[d]=_)},l=0;l<t.length;l++)s(t[l]).forEach(u);return a}function iC(e){function t(n,r,a){return wi(n)&&wi(r)&&aC(n,r)?us(n,[r],t):e?e(n,r,a):r}return t}function aC(e,t){var n=Qt(e),r=Qt(t);return Wt(n)===Wt(r)&&st(n)===st(r)}function u1(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ss(this,e)}function c1(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ss(this,t,e)}function yp(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ai(this,e,dr(),function(r){return us(r,t)})}function Ep(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ai(this,e,dr(),function(r){return ss(r,t)})}function cs(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function ls(){return this.__ownerID?this:this.__ensureOwner(new jd)}function fs(){return this.__ensureOwner()}function Sp(){return this.__altered}var Oi=function(e){function t(n){return n==null?dr():is(n)&&!Nn(n)?n:dr().withMutations(function(r){var a=e(n);Zn(a.size),a.forEach(function(s,u){return r.set(u,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return dr().withMutations(function(s){for(var u=0;u<r.length;u+=2){if(u+1>=r.length)throw new Error("Missing value for key: "+r[u]);s.set(r[u],r[u+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,a){return this._root?this._root.get(0,void 0,r,a):a},t.prototype.set=function(r,a){return d1(this,r,a)},t.prototype.remove=function(r){return d1(this,r,$e)},t.prototype.deleteAll=function(r){var a=pt(r);return a.size===0?this:this.withMutations(function(s){a.forEach(function(u){return s.remove(u)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):dr()},t.prototype.sort=function(r){return pr(Ja(this,r))},t.prototype.sortBy=function(r,a){return pr(Ja(this,a,r))},t.prototype.map=function(r,a){var s=this;return this.withMutations(function(u){u.forEach(function(l,f){u.set(f,r.call(a,l,f,s))})})},t.prototype.__iterator=function(r,a){return new oC(this,r,a)},t.prototype.__iterate=function(r,a){var s=this,u=0;return this._root&&this._root.iterate(function(l){return u++,r(l[1],l[0],s)},a),u},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Tp(this.size,this._root,r,this.__hash):this.size===0?dr():(this.__ownerID=r,this.__altered=!1,this)},t}(Kn);Oi.isMap=is;var mt=Oi.prototype;mt[Mv]=!0;mt[Qo]=mt.remove;mt.removeAll=mt.deleteAll;mt.setIn=hp;mt.removeIn=mt.deleteIn=_p;mt.update=gp;mt.updateIn=vp;mt.merge=mt.concat=t1;mt.mergeWith=n1;mt.mergeDeep=u1;mt.mergeDeepWith=c1;mt.mergeIn=yp;mt.mergeDeepIn=Ep;mt.withMutations=cs;mt.wasAltered=Sp;mt.asImmutable=fs;mt["@@transducer/init"]=mt.asMutable=ls;mt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};mt["@@transducer/result"]=function(e){return e.asImmutable()};var ds=function(t,n){this.ownerID=t,this.entries=n};ds.prototype.get=function(t,n,r,a){for(var s=this.entries,u=0,l=s.length;u<l;u++)if(Ft(r,s[u][0]))return s[u][1];return a};ds.prototype.update=function(t,n,r,a,s,u,l){for(var f=s===$e,d=this.entries,h=0,_=d.length;h<_&&!Ft(a,d[h][0]);h++);var v=h<_;if(v?d[h][1]===s:f)return this;if(Xn(l),(f||!v)&&Xn(u),!(f&&d.length===1)){if(!v&&!f&&d.length>=dC)return sC(t,d,a,s);var S=t&&t===this.ownerID,T=S?d:wr(d);return v?f?h===_-1?T.pop():T[h]=T.pop():T[h]=[a,s]:T.push([a,s]),S?(this.entries=T,this):new ds(t,T)}};var Za=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};Za.prototype.get=function(t,n,r,a){n===void 0&&(n=pn(r));var s=1<<((t===0?n:n>>>t)&fn),u=this.bitmap;return(u&s)==0?a:this.nodes[h1(u&s-1)].get(t+dt,n,r,a)};Za.prototype.update=function(t,n,r,a,s,u,l){r===void 0&&(r=pn(a));var f=(n===0?r:r>>>n)&fn,d=1<<f,h=this.bitmap,_=(h&d)!=0;if(!_&&s===$e)return this;var v=h1(h&d-1),S=this.nodes,T=_?S[v]:void 0,E=wp(T,t,n+dt,r,a,s,u,l);if(E===T)return this;if(!_&&E&&S.length>=pC)return cC(t,S,h,f,E);if(_&&!E&&S.length===2&&p1(S[v^1]))return S[v^1];if(_&&E&&S.length===1&&p1(E))return E;var A=t&&t===this.ownerID,k=_?E?h:h^d:h|d,N=_?E?m1(S,v,E,A):fC(S,v,A):lC(S,v,E,A);return A?(this.bitmap=k,this.nodes=N,this):new Za(t,k,N)};var ps=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};ps.prototype.get=function(t,n,r,a){n===void 0&&(n=pn(r));var s=(t===0?n:n>>>t)&fn,u=this.nodes[s];return u?u.get(t+dt,n,r,a):a};ps.prototype.update=function(t,n,r,a,s,u,l){r===void 0&&(r=pn(a));var f=(n===0?r:r>>>n)&fn,d=s===$e,h=this.nodes,_=h[f];if(d&&!_)return this;var v=wp(_,t,n+dt,r,a,s,u,l);if(v===_)return this;var S=this.count;if(!_)S++;else if(!v&&(S--,S<hC))return uC(t,h,S,f);var T=t&&t===this.ownerID,E=m1(h,f,v,T);return T?(this.count=S,this.nodes=E,this):new ps(t,S,E)};var Qa=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};Qa.prototype.get=function(t,n,r,a){for(var s=this.entries,u=0,l=s.length;u<l;u++)if(Ft(r,s[u][0]))return s[u][1];return a};Qa.prototype.update=function(t,n,r,a,s,u,l){r===void 0&&(r=pn(a));var f=s===$e;if(r!==this.keyHash)return f?this:(Xn(l),Xn(u),Ap(this,t,n,r,[a,s]));for(var d=this.entries,h=0,_=d.length;h<_&&!Ft(a,d[h][0]);h++);var v=h<_;if(v?d[h][1]===s:f)return this;if(Xn(l),(f||!v)&&Xn(u),f&&_===2)return new Wr(t,this.keyHash,d[h^1]);var S=t&&t===this.ownerID,T=S?d:wr(d);return v?f?h===_-1?T.pop():T[h]=T.pop():T[h]=[a,s]:T.push([a,s]),S?(this.entries=T,this):new Qa(t,this.keyHash,T)};var Wr=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};Wr.prototype.get=function(t,n,r,a){return Ft(r,this.entry[0])?this.entry[1]:a};Wr.prototype.update=function(t,n,r,a,s,u,l){var f=s===$e,d=Ft(a,this.entry[0]);if(d?s===this.entry[1]:f)return this;if(Xn(l),f){Xn(u);return}return d?t&&t===this.ownerID?(this.entry[1]=s,this):new Wr(t,this.keyHash,[a,s]):(Xn(u),Ap(this,t,n,pn(a),[a,s]))};ds.prototype.iterate=Qa.prototype.iterate=function(e,t){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(e(n[t?a-r:r])===!1)return!1};Za.prototype.iterate=ps.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var s=n[t?a-r:r];if(s&&s.iterate(e,t)===!1)return!1}};Wr.prototype.iterate=function(e,t){return e(this.entry)};var oC=function(e){function t(n,r,a){this._type=r,this._reverse=a,this._stack=n._root&&l1(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,a=this._stack;a;){var s=a.node,u=a.index++,l=void 0;if(s.entry){if(u===0)return bp(r,s.entry)}else if(s.entries){if(l=s.entries.length-1,u<=l)return bp(r,s.entries[this._reverse?l-u:u])}else if(l=s.nodes.length-1,u<=l){var f=s.nodes[this._reverse?l-u:u];if(f){if(f.entry)return bp(r,f.entry);a=this._stack=l1(f,a)}continue}a=this._stack=this._stack.__prev}return dn()},t}(Ye);function bp(e,t){return ht(e,t[0],t[1])}function l1(e,t){return{node:e,index:0,__prev:t}}function Tp(e,t,n,r){var a=Object.create(mt);return a.size=e,a._root=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var f1;function dr(){return f1||(f1=Tp(0))}function d1(e,t,n){var r,a;if(e._root){var s=Yd(),u=Yd();if(r=wp(e._root,e.__ownerID,0,void 0,t,n,s,u),!u.value)return e;a=e.size+(s.value?n===$e?-1:1:0)}else{if(n===$e)return e;a=1,r=new ds(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Tp(a,r):dr()}function wp(e,t,n,r,a,s,u,l){return e?e.update(t,n,r,a,s,u,l):s===$e?e:(Xn(l),Xn(u),new Wr(t,r,[a,s]))}function p1(e){return e.constructor===Wr||e.constructor===Qa}function Ap(e,t,n,r,a){if(e.keyHash===r)return new Qa(t,r,[e.entry,a]);var s=(n===0?e.keyHash:e.keyHash>>>n)&fn,u=(n===0?r:r>>>n)&fn,l,f=s===u?[Ap(e,t,n+dt,r,a)]:(l=new Wr(t,r,a),s<u?[e,l]:[l,e]);return new Za(t,1<<s|1<<u,f)}function sC(e,t,n,r){e||(e=new jd);for(var a=new Wr(e,pn(n),[n,r]),s=0;s<t.length;s++){var u=t[s];a=a.update(e,0,void 0,u[0],u[1])}return a}function uC(e,t,n,r){for(var a=0,s=0,u=new Array(n),l=0,f=1,d=t.length;l<d;l++,f<<=1){var h=t[l];h!==void 0&&l!==r&&(a|=f,u[s++]=h)}return new Za(e,a,u)}function cC(e,t,n,r,a){for(var s=0,u=new Array(Bn),l=0;n!==0;l++,n>>>=1)u[l]=n&1?t[s++]:void 0;return u[r]=a,new ps(e,s+1,u)}function h1(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function m1(e,t,n,r){var a=r?e:wr(e);return a[t]=n,a}function lC(e,t,n,r){var a=e.length+1;if(r&&t+1===a)return e[t]=n,e;for(var s=new Array(a),u=0,l=0;l<a;l++)l===t?(s[l]=n,u=-1):s[l]=e[l+u];return s}function fC(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var a=new Array(r),s=0,u=0;u<r;u++)u===t&&(s=1),a[u]=e[u+s];return a}var dC=Bn/4,pC=Bn/2,hC=Bn/4,_1="@@__IMMUTABLE_LIST__@@";function Dc(e){return Boolean(e&&e[_1])}var eo=function(e){function t(n){var r=kc();if(n==null)return r;if(Dc(n))return n;var a=e(n),s=a.size;return s===0?r:(Zn(s),s>0&&s<Bn?ms(0,s,dt,null,new Ii(a.toArray())):r.withMutations(function(u){u.setSize(s),a.forEach(function(l,f){return u.set(f,l)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,a){if(r=bi(this,r),r>=0&&r<this.size){r+=this._origin;var s=y1(this,r);return s&&s.array[r&fn]}return a},t.prototype.set=function(r,a){return mC(this,r,a)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,a){return this.splice(r,0,a)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):kc()},t.prototype.push=function(){var r=arguments,a=this.size;return this.withMutations(function(s){Ri(s,0,a+r.length);for(var u=0;u<r.length;u++)s.set(a+u,r[u])})},t.prototype.pop=function(){return Ri(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(a){Ri(a,-r.length);for(var s=0;s<r.length;s++)a.set(s,r[s])})},t.prototype.shift=function(){return Ri(this,1)},t.prototype.concat=function(){for(var r=arguments,a=[],s=0;s<arguments.length;s++){var u=r[s],l=e(typeof u!="string"&&Bd(u)?u:[u]);l.size!==0&&a.push(l)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(f){a.forEach(function(d){return d.forEach(function(h){return f.push(h)})})})},t.prototype.setSize=function(r){return Ri(this,0,r)},t.prototype.map=function(r,a){var s=this;return this.withMutations(function(u){for(var l=0;l<s.size;l++)u.set(l,r.call(a,u.get(l),l,s))})},t.prototype.slice=function(r,a){var s=this.size;return es(r,a,s)?this:Ri(this,ja(r,s),ts(a,s))},t.prototype.__iterator=function(r,a){var s=a?this.size:0,u=g1(this,a);return new Ye(function(){var l=u();return l===hs?dn():ht(r,a?--s:s++,l)})},t.prototype.__iterate=function(r,a){for(var s=a?this.size:0,u=g1(this,a),l;(l=u())!==hs&&r(l,a?--s:s++,this)!==!1;);return s},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ms(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?kc():(this.__ownerID=r,this.__altered=!1,this)},t}(na);eo.isList=Dc;var Pt=eo.prototype;Pt[_1]=!0;Pt[Qo]=Pt.remove;Pt.merge=Pt.concat;Pt.setIn=hp;Pt.deleteIn=Pt.removeIn=_p;Pt.update=gp;Pt.updateIn=vp;Pt.mergeIn=yp;Pt.mergeDeepIn=Ep;Pt.withMutations=cs;Pt.wasAltered=Sp;Pt.asImmutable=fs;Pt["@@transducer/init"]=Pt.asMutable=ls;Pt["@@transducer/step"]=function(e,t){return e.push(t)};Pt["@@transducer/result"]=function(e){return e.asImmutable()};var Ii=function(t,n){this.array=t,this.ownerID=n};Ii.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var a=r>>>n&fn;if(a>=this.array.length)return new Ii([],t);var s=a===0,u;if(n>0){var l=this.array[a];if(u=l&&l.removeBefore(t,n-dt,r),u===l&&s)return this}if(s&&!u)return this;var f=to(this,t);if(!s)for(var d=0;d<a;d++)f.array[d]=void 0;return u&&(f.array[a]=u),f};Ii.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var a=r-1>>>n&fn;if(a>=this.array.length)return this;var s;if(n>0){var u=this.array[a];if(s=u&&u.removeAfter(t,n-dt,r),s===u&&a===this.array.length-1)return this}var l=to(this,t);return l.array.splice(a+1),s&&(l.array[a]=s),l};var hs={};function g1(e,t){var n=e._origin,r=e._capacity,a=_s(r),s=e._tail;return u(e._root,e._level,0);function u(d,h,_){return h===0?l(d,_):f(d,h,_)}function l(d,h){var _=h===a?s&&s.array:d&&d.array,v=h>n?0:n-h,S=r-h;return S>Bn&&(S=Bn),function(){if(v===S)return hs;var T=t?--S:v++;return _&&_[T]}}function f(d,h,_){var v,S=d&&d.array,T=_>n?0:n-_>>h,E=(r-_>>h)+1;return E>Bn&&(E=Bn),function(){for(;;){if(v){var A=v();if(A!==hs)return A;v=null}if(T===E)return hs;var k=t?--E:T++;v=u(S&&S[k],h-dt,_+(k<<h))}}}}function ms(e,t,n,r,a,s,u){var l=Object.create(Pt);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=a,l.__ownerID=s,l.__hash=u,l.__altered=!1,l}var v1;function kc(){return v1||(v1=ms(0,0,dt))}function mC(e,t,n){if(t=bi(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(u){t<0?Ri(u,t).set(0,n):Ri(u,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,a=e._root,s=Yd();return t>=_s(e._capacity)?r=Op(r,e.__ownerID,0,t,n,s):a=Op(a,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):ms(e._origin,e._capacity,e._level,a,r):e}function Op(e,t,n,r,a,s){var u=r>>>n&fn,l=e&&u<e.array.length;if(!l&&a===void 0)return e;var f;if(n>0){var d=e&&e.array[u],h=Op(d,t,n-dt,r,a,s);return h===d?e:(f=to(e,t),f.array[u]=h,f)}return l&&e.array[u]===a?e:(s&&Xn(s),f=to(e,t),a===void 0&&u===f.array.length-1?f.array.pop():f.array[u]=a,f)}function to(e,t){return t&&e&&t===e.ownerID?e:new Ii(e?e.array.slice():[],t)}function y1(e,t){if(t>=_s(e._capacity))return e._tail;if(t<1<<e._level+dt){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&fn],r-=dt;return n}}function Ri(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new jd,a=e._origin,s=e._capacity,u=a+t,l=n===void 0?s:n<0?s+n:a+n;if(u===a&&l===s)return e;if(u>=l)return e.clear();for(var f=e._level,d=e._root,h=0;u+h<0;)d=new Ii(d&&d.array.length?[void 0,d]:[],r),f+=dt,h+=1<<f;h&&(u+=h,a+=h,l+=h,s+=h);for(var _=_s(s),v=_s(l);v>=1<<f+dt;)d=new Ii(d&&d.array.length?[d]:[],r),f+=dt;var S=e._tail,T=v<_?y1(e,l-1):v>_?new Ii([],r):S;if(S&&v>_&&u<s&&S.array.length){d=to(d,r);for(var E=d,A=f;A>dt;A-=dt){var k=_>>>A&fn;E=E.array[k]=to(E.array[k],r)}E.array[_>>>dt&fn]=S}if(l<s&&(T=T&&T.removeAfter(r,0,l)),u>=v)u-=v,l-=v,f=dt,d=null,T=T&&T.removeBefore(r,0,u);else if(u>a||v<_){for(h=0;d;){var N=u>>>f&fn;if(N!==v>>>f&fn)break;N&&(h+=(1<<f)*N),f-=dt,d=d.array[N]}d&&u>a&&(d=d.removeBefore(r,f,u-h)),d&&v<_&&(d=d.removeAfter(r,f,v-h)),h&&(u-=h,l-=h)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=f,e._root=d,e._tail=T,e.__hash=void 0,e.__altered=!0,e):ms(u,l,f,d,T)}function _s(e){return e<Bn?0:e-1>>>dt<<dt}var pr=function(e){function t(n){return n==null?gs():yc(n)?n:gs().withMutations(function(r){var a=Kn(n);Zn(a.size),a.forEach(function(s,u){return r.set(u,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,a){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:a},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):gs()},t.prototype.set=function(r,a){return S1(this,r,a)},t.prototype.remove=function(r){return S1(this,r,$e)},t.prototype.__iterate=function(r,a){var s=this;return this._list.__iterate(function(u){return u&&r(u[1],u[0],s)},a)},t.prototype.__iterator=function(r,a){return this._list.fromEntrySeq().__iterator(r,a)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?Ip(a,s,r,this.__hash):this.size===0?gs():(this.__ownerID=r,this.__altered=!1,this._map=a,this._list=s,this)},t}(Oi);pr.isOrderedMap=yc;pr.prototype[Xa]=!0;pr.prototype[Qo]=pr.prototype.remove;function Ip(e,t,n,r){var a=Object.create(pr.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var E1;function gs(){return E1||(E1=Ip(dr(),kc()))}function S1(e,t,n){var r=e._map,a=e._list,s=r.get(t),u=s!==void 0,l,f;if(n===$e){if(!u)return e;a.size>=Bn&&a.size>=r.size*2?(f=a.filter(function(d,h){return d!==void 0&&s!==h}),l=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),e.__ownerID&&(l.__ownerID=f.__ownerID=e.__ownerID)):(l=r.remove(t),f=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;l=r,f=a.set(s,[t,n])}else l=r.set(t,a.size),f=a.set(a.size,[t,n]);return e.__ownerID?(e.size=l.size,e._map=l,e._list=f,e.__hash=void 0,e.__altered=!0,e):Ip(l,f)}var b1="@@__IMMUTABLE_STACK__@@";function vs(e){return Boolean(e&&e[b1])}var ys=function(e){function t(n){return n==null?xc():vs(n)?n:xc().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,a){var s=this._head;for(r=bi(this,r);s&&r--;)s=s.next;return s?s.value:a},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,u=arguments.length-1;u>=0;u--)s={value:r[u],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Es(a,s)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&vs(r))return r;Zn(r.size);var a=this.size,s=this._head;return r.__iterate(function(u){a++,s={value:u,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Es(a,s)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xc()},t.prototype.slice=function(r,a){if(es(r,a,this.size))return this;var s=ja(r,this.size),u=ts(a,this.size);if(u!==this.size)return e.prototype.slice.call(this,r,a);for(var l=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=l,this._head=f,this.__hash=void 0,this.__altered=!0,this):Es(l,f)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Es(this.size,this._head,r,this.__hash):this.size===0?xc():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,a){var s=this;if(a)return new ia(this.toArray()).__iterate(function(f,d){return r(f,d,s)},a);for(var u=0,l=this._head;l&&r(l.value,u++,this)!==!1;)l=l.next;return u},t.prototype.__iterator=function(r,a){if(a)return new ia(this.toArray()).__iterator(r,a);var s=0,u=this._head;return new Ye(function(){if(u){var l=u.value;return u=u.next,ht(r,s++,l)}return dn()})},t}(na);ys.isStack=vs;var hn=ys.prototype;hn[b1]=!0;hn.shift=hn.pop;hn.unshift=hn.push;hn.unshiftAll=hn.pushAll;hn.withMutations=cs;hn.wasAltered=Sp;hn.asImmutable=fs;hn["@@transducer/init"]=hn.asMutable=ls;hn["@@transducer/step"]=function(e,t){return e.unshift(t)};hn["@@transducer/result"]=function(e){return e.asImmutable()};function Es(e,t,n,r){var a=Object.create(hn);return a.size=e,a._head=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var T1;function xc(){return T1||(T1=Es(0))}var w1="@@__IMMUTABLE_SET__@@";function Ss(e){return Boolean(e&&e[w1])}function Cc(e){return Ss(e)&&Nn(e)}function Rp(e,t){if(e===t)return!0;if(!Zt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||st(e)!==st(t)||Wt(e)!==Wt(t)||Nn(e)!==Nn(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!Wa(e);if(Nn(e)){var r=e.entries();return t.every(function(f,d){var h=r.next().value;return h&&Ft(h[1],f)&&(n||Ft(h[0],d))})&&r.next().done}var a=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{a=!0;var s=e;e=t,t=s}var u=!0,l=t.__iterate(function(f,d){if(n?!e.has(f):a?!Ft(f,e.get(d,$e)):!Ft(e.get(d,$e),f))return u=!1,!1});return u&&e.size===l}function oa(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Pc(e){if(!e||typeof e!="object")return e;if(!Zt(e)){if(!wi(e))return e;e=Qt(e)}if(st(e)){var t={};return e.__iterate(function(r,a){t[a]=Pc(r)}),t}var n=[];return e.__iterate(function(r){n.push(Pc(r))}),n}var no=function(e){function t(n){return n==null?bs():Ss(n)&&!Nn(n)?n:bs().withMutations(function(r){var a=e(n);Zn(a.size),a.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kn(r).keySeq())},t.intersect=function(r){return r=pt(r).toArray(),r.length?Bt.intersect.apply(t(r.pop()),r):bs()},t.union=function(r){return r=pt(r).toArray(),r.length?Bt.union.apply(t(r.pop()),r):bs()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return Nc(this,this._map.set(r,r))},t.prototype.remove=function(r){return Nc(this,this._map.remove(r))},t.prototype.clear=function(){return Nc(this,this._map.clear())},t.prototype.map=function(r,a){var s=this,u=!1,l=Nc(this,this._map.mapEntries(function(f){var d=f[1],h=r.call(a,d,d,s);return h!==d&&(u=!0),[h,h]},a));return u?l:this},t.prototype.union=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var u=0;u<r.length;u++)e(r[u]).forEach(function(l){return s.add(l)})})},t.prototype.intersect=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(u){return e(u)});var s=[];return this.forEach(function(u){r.every(function(l){return l.includes(u)})||s.push(u)}),this.withMutations(function(u){s.forEach(function(l){u.remove(l)})})},t.prototype.subtract=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(u){return e(u)});var s=[];return this.forEach(function(u){r.some(function(l){return l.includes(u)})&&s.push(u)}),this.withMutations(function(u){s.forEach(function(l){u.remove(l)})})},t.prototype.sort=function(r){return sa(Ja(this,r))},t.prototype.sortBy=function(r,a){return sa(Ja(this,a,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,a){var s=this;return this._map.__iterate(function(u){return r(u,u,s)},a)},t.prototype.__iterator=function(r,a){return this._map.__iterator(r,a)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r);return r?this.__make(a,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=a,this)},t}(Ba);no.isSet=Ss;var Bt=no.prototype;Bt[w1]=!0;Bt[Qo]=Bt.remove;Bt.merge=Bt.concat=Bt.union;Bt.withMutations=cs;Bt.asImmutable=fs;Bt["@@transducer/init"]=Bt.asMutable=ls;Bt["@@transducer/step"]=function(e,t){return e.add(t)};Bt["@@transducer/result"]=function(e){return e.asImmutable()};Bt.__empty=bs;Bt.__make=A1;function Nc(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function A1(e,t){var n=Object.create(Bt);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var O1;function bs(){return O1||(O1=A1(dr()))}var Dp=function(e){function t(n,r,a){if(!(this instanceof t))return new t(n,r,a);if(cp(a!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),a=a===void 0?1:Math.abs(a),r<n&&(a=-a),this._start=n,this._end=r,this._step=a,this.size=Math.max(0,Math.ceil((r-n)/a-1)+1),this.size===0){if(kp)return kp;kp=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,a){return this.has(r)?this._start+bi(this,r)*this._step:a},t.prototype.includes=function(r){var a=(r-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},t.prototype.slice=function(r,a){return es(r,a,this.size)?this:(r=ja(r,this.size),a=ts(a,this.size),a<=r?new t(0,0):new t(this.get(r,this._end),this.get(a,this._end),this._step))},t.prototype.indexOf=function(r){var a=r-this._start;if(a%this._step==0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,a){for(var s=this.size,u=this._step,l=a?this._start+(s-1)*u:this._start,f=0;f!==s&&r(l,a?s-++f:f++,this)!==!1;)l+=a?-u:u;return f},t.prototype.__iterator=function(r,a){var s=this.size,u=this._step,l=a?this._start+(s-1)*u:this._start,f=0;return new Ye(function(){if(f===s)return dn();var d=l;return l+=a?-u:u,ht(r,a?s-++f:f++,d)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:Rp(this,r)},t}(Jn),kp;function Mc(e,t,n){for(var r=Qv(t),a=0;a!==r.length;)if(e=Oc(e,r[a++],$e),e===$e)return n;return e}function I1(e,t){return Mc(this,e,t)}function xp(e,t){return Mc(e,t,$e)!==$e}function _C(e){return xp(this,e)}function R1(){Zn(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}pt.isIterable=Zt;pt.isKeyed=st;pt.isIndexed=Wt;pt.isAssociative=Wa;pt.isOrdered=Nn;pt.Iterator=Ye;oa(pt,{toArray:function(){Zn(this.size);var t=new Array(this.size||0),n=st(this),r=0;return this.__iterate(function(a,s){t[r++]=n?[s,a]:a}),t},toIndexedSeq:function(){return new Hv(this)},toJS:function(){return Pc(this)},toKeyedSeq:function(){return new bc(this,!0)},toMap:function(){return Oi(this.toKeyedSeq())},toObject:R1,toOrderedMap:function(){return pr(this.toKeyedSeq())},toOrderedSet:function(){return sa(st(this)?this.valueSeq():this)},toSet:function(){return no(st(this)?this.valueSeq():this)},toSetSeq:function(){return new $v(this)},toSeq:function(){return Wt(this)?this.toIndexedSeq():st(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ys(st(this)?this.valueSeq():this)},toList:function(){return eo(st(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return ut(this,eC(this,t))},includes:function(t){return this.some(function(n){return Ft(n,t)})},entries:function(){return this.__iterator(qn)},every:function(t,n){Zn(this.size);var r=!0;return this.__iterate(function(a,s,u){if(!t.call(n,a,s,u))return r=!1,!1}),r},filter:function(t,n){return ut(this,Wv(this,t,n,!0))},find:function(t,n,r){var a=this.findEntry(t,n);return a?a[1]:r},forEach:function(t,n){return Zn(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){Zn(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(a){r?r=!1:n+=t,n+=a!=null?a.toString():""}),n},keys:function(){return this.__iterator(rs)},map:function(t,n){return ut(this,jv(this,t,n))},reduce:function(t,n,r){return D1(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return D1(this,t,n,r,arguments.length<2,!0)},reverse:function(){return ut(this,op(this,!0))},slice:function(t,n){return ut(this,sp(this,t,n,!0))},some:function(t,n){return!this.every(Lc(t),n)},sort:function(t){return ut(this,Ja(this,t))},values:function(){return this.__iterator(fr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return Ya(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return Jx(this,t,n)},equals:function(t){return Rp(this,t)},entrySeq:function(){var t=this;if(t._cache)return new ia(t._cache);var n=t.toSeq().map(vC).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(Lc(t),n)},findEntry:function(t,n,r){var a=r;return this.__iterate(function(s,u,l){if(t.call(n,s,u,l))return a=[u,s],!1}),a},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(Tv,null,t)},flatMap:function(t,n){return ut(this,tC(this,t,n))},flatten:function(t){return ut(this,Xv(this,t,!0))},fromEntrySeq:function(){return new Vv(this)},get:function(t,n){return this.find(function(r,a){return Ft(a,t)},void 0,n)},getIn:I1,groupBy:function(t,n){return Zx(this,t,n)},has:function(t){return this.get(t,$e)!==$e},hasIn:_C,isSubset:function(t){return t=typeof t.includes=="function"?t:pt(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:pt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return Ft(n,t)})},keySeq:function(){return this.toSeq().map(gC).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Tc(this,t)},maxBy:function(t,n){return Tc(this,n,t)},min:function(t){return Tc(this,t?k1(t):C1)},minBy:function(t,n){return Tc(this,n?k1(n):C1,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return ut(this,Bv(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(Lc(t),n)},sortBy:function(t,n){return ut(this,Ja(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return ut(this,Qx(this,t,n))},takeUntil:function(t,n){return this.takeWhile(Lc(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=yC(this))}});var en=pt.prototype;en[Ov]=!0;en[gc]=en.values;en.toJSON=en.toArray;en.__toStringMapper=os;en.inspect=en.toSource=function(){return this.toString()};en.chain=en.flatMap;en.contains=en.includes;oa(Kn,{flip:function(){return ut(this,Yv(this))},mapEntries:function(t,n){var r=this,a=0;return ut(this,this.toSeq().map(function(s,u){return t.call(n,[u,s],a++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return ut(this,this.toSeq().flip().map(function(a,s){return t.call(n,a,s,r)}).flip())}});var Ts=Kn.prototype;Ts[Iv]=!0;Ts[gc]=en.entries;Ts.toJSON=R1;Ts.__toStringMapper=function(e,t){return os(t)+": "+os(e)};oa(na,{toKeyedSeq:function(){return new bc(this,!1)},filter:function(t,n){return ut(this,Wv(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return ut(this,op(this,!1))},slice:function(t,n){return ut(this,sp(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=ja(t,t<0?this.count():this.size);var a=this.slice(0,t);return ut(this,r===1?a:a.concat(wr(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ut(this,Xv(this,t,!1))},get:function(t,n){return t=bi(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,a){return a===t},void 0,n)},has:function(t){return t=bi(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return ut(this,nC(this,t))},interleave:function(){var t=[this].concat(wr(arguments)),n=wc(this.toSeq(),Jn.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),ut(this,r)},keySeq:function(){return Dp(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return ut(this,Bv(this,t,n,!1))},zip:function(){var t=[this].concat(wr(arguments));return ut(this,wc(this,x1,t))},zipAll:function(){var t=[this].concat(wr(arguments));return ut(this,wc(this,x1,t,!0))},zipWith:function(t){var n=wr(arguments);return n[0]=this,ut(this,wc(this,t,n))}});var ro=na.prototype;ro[Rv]=!0;ro[Xa]=!0;oa(Ba,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var io=Ba.prototype;io.has=en.includes;io.contains=io.includes;io.keys=io.values;oa(Ti,Ts);oa(Jn,ro);oa(qa,io);function D1(e,t,n,r,a,s){return Zn(e.size),e.__iterate(function(u,l,f){a?(a=!1,n=u):n=t.call(r,n,u,l,f)},s),n}function gC(e,t){return t}function vC(e,t){return[t,e]}function Lc(e){return function(){return!e.apply(this,arguments)}}function k1(e){return function(){return-e.apply(this,arguments)}}function x1(){return wr(arguments)}function C1(e,t){return e<t?1:e>t?-1:0}function yC(e){if(e.size===1/0)return 0;var t=Nn(e),n=st(e),r=t?1:0,a=e.__iterate(n?t?function(s,u){r=31*r+P1(pn(s),pn(u))|0}:function(s,u){r=r+P1(pn(s),pn(u))|0}:t?function(s){r=31*r+pn(s)|0}:function(s){r=r+pn(s)|0});return EC(a,r)}function EC(e,t){return t=as(t,3432918353),t=as(t<<15|t>>>-15,461845907),t=as(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=as(t^t>>>16,2246822507),t=as(t^t>>>13,3266489909),t=Sc(t^t>>>16),t}function P1(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sa=function(e){function t(n){return n==null?Cp():Cc(n)?n:Cp().withMutations(function(r){var a=Ba(n);Zn(a.size),a.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kn(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(no);sa.isOrderedSet=Cc;var ua=sa.prototype;ua[Xa]=!0;ua.zip=ro.zip;ua.zipWith=ro.zipWith;ua.zipAll=ro.zipAll;ua.__empty=Cp;ua.__make=N1;function N1(e,t){var n=Object.create(ua);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var M1;function Cp(){return M1||(M1=N1(gs()))}function SC(e){if(ra(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Pn(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Nt=function(t,n){var r;SC(t);var a=function(l){var f=this;if(l instanceof a)return l;if(!(this instanceof a))return new a(l);if(!r){r=!0;var d=Object.keys(t),h=s._indices={};s._name=n,s._keys=d,s._defaultValues=t;for(var _=0;_<d.length;_++){var v=d[_];h[v]=_,s[v]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Np(this)+' with property "'+v+'" since that property name is part of the Record API.'):bC(s,v)}}return this.__ownerID=void 0,this._values=eo().withMutations(function(S){S.setSize(f._keys.length),Kn(l).forEach(function(T,E){S.set(f._indices[E],T===f._defaultValues[E]?void 0:T)})}),this},s=a.prototype=Object.create(ct);return s.constructor=a,n&&(a.displayName=n),a};Nt.prototype.toString=function(){for(var t=Np(this)+" { ",n=this._keys,r,a=0,s=n.length;a!==s;a++)r=n[a],t+=(a?", ":"")+r+": "+os(this.get(r));return t+" }"};Nt.prototype.equals=function(t){return this===t||t&&ao(this).equals(ao(t))};Nt.prototype.hashCode=function(){return ao(this).hashCode()};Nt.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Nt.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],a=this._values.get(r);return a===void 0?this._defaultValues[t]:a};Nt.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return Pp(this,r)}return this};Nt.prototype.remove=function(t){return this.set(t)};Nt.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Pp(this,t)};Nt.prototype.wasAltered=function(){return this._values.wasAltered()};Nt.prototype.toSeq=function(){return ao(this)};Nt.prototype.toJS=function(){return Pc(this)};Nt.prototype.entries=function(){return this.__iterator(qn)};Nt.prototype.__iterator=function(t,n){return ao(this).__iterator(t,n)};Nt.prototype.__iterate=function(t,n){return ao(this).__iterate(t,n)};Nt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?Pp(this,n,t):(this.__ownerID=t,this._values=n,this)};Nt.isRecord=ra;Nt.getDescriptiveName=Np;var ct=Nt.prototype;ct[kv]=!0;ct[Qo]=ct.remove;ct.deleteIn=ct.removeIn=_p;ct.getIn=I1;ct.hasIn=en.hasIn;ct.merge=t1;ct.mergeWith=n1;ct.mergeIn=yp;ct.mergeDeep=u1;ct.mergeDeepWith=c1;ct.mergeDeepIn=Ep;ct.setIn=hp;ct.update=gp;ct.updateIn=vp;ct.withMutations=cs;ct.asMutable=ls;ct.asImmutable=fs;ct[gc]=ct.entries;ct.toJSON=ct.toObject=en.toObject;ct.inspect=ct.toSource=function(){return this.toString()};function Pp(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function Np(e){return e.constructor.displayName||e.constructor.name||"Record"}function ao(e){return Zd(e._keys.map(function(t){return[t,e.get(t)]}))}function bC(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){cp(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch(n){}}var L1=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);if(this._value=n,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(Mp)return Mp;Mp=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,a){return this.has(r)?this._value:a},t.prototype.includes=function(r){return Ft(this._value,r)},t.prototype.slice=function(r,a){var s=this.size;return es(r,a,s)?this:new t(this._value,ts(a,s)-ja(r,s))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return Ft(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return Ft(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,a){for(var s=this.size,u=0;u!==s&&r(this._value,a?s-++u:u++,this)!==!1;);return u},t.prototype.__iterator=function(r,a){var s=this,u=this.size,l=0;return new Ye(function(){return l===u?dn():ht(r,a?u-++l:l++,s._value)})},t.prototype.equals=function(r){return r instanceof t?Ft(this._value,r._value):Rp(r)},t}(Jn),Mp;function U1(e,t){return F1([],t||TC,e,"",t&&t.length>2?[]:void 0,{"":e})}function F1(e,t,n,r,a,s){if(typeof n!="string"&&!Pn(n)&&(Kd(n)||Bd(n)||Ac(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),a&&r!==""&&a.push(r);var u=t.call(s,r,Qt(n).map(function(l,f){return F1(e,t,l,f,a,n)}),a&&a.slice());return e.pop(),a&&a.pop(),u}return n}function TC(e,t){return Wt(t)?t.toList():st(t)?t.toMap():t.toSet()}var G1="4.0.0",wC={version:G1,Collection:pt,Iterable:pt,Seq:Qt,Map:Oi,OrderedMap:pr,List:eo,Stack:ys,Set:no,OrderedSet:sa,Record:Nt,Range:Dp,Repeat:L1,is:Ft,fromJS:U1,hash:pn,isImmutable:Pn,isCollection:Zt,isKeyed:st,isIndexed:Wt,isAssociative:Wa,isOrdered:Nn,isValueObject:Ec,isPlainObject:Ac,isSeq:ns,isList:Dc,isMap:is,isOrderedMap:yc,isStack:vs,isSet:Ss,isOrderedSet:Cc,isRecord:ra,get:Oc,getIn:Mc,has:lp,hasIn:xp,merge:i1,mergeDeep:o1,mergeWith:a1,mergeDeepWith:s1,remove:fp,removeIn:mp,set:dp,setIn:pp,update:Rc,updateIn:Ai},AC=pt,z1=wC,OC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z1,Collection:pt,Iterable:AC,List:eo,Map:Oi,OrderedMap:pr,OrderedSet:sa,Range:Dp,Record:Nt,Repeat:L1,Seq:Qt,Set:no,Stack:ys,fromJS:U1,get:Oc,getIn:Mc,has:lp,hasIn:xp,hash:pn,is:Ft,isAssociative:Wa,isCollection:Zt,isImmutable:Pn,isIndexed:Wt,isKeyed:st,isList:Dc,isMap:is,isOrdered:Nn,isOrderedMap:yc,isOrderedSet:Cc,isPlainObject:Ac,isRecord:ra,isSeq:ns,isSet:Ss,isStack:vs,isValueObject:Ec,merge:i1,mergeDeep:o1,mergeDeepWith:s1,mergeWith:a1,remove:fp,removeIn:mp,set:dp,setIn:pp,update:Rc,updateIn:Ai,version:G1}),IC=ng(Mx);IC.compose;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Lp=function(e,t){return Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Lp(e,t)};function RC(e,t){Lp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var DC=Symbol("postpone"),St=Symbol("none");function Ee(e){var t=j1(e).toMethods(),n=Ee[H1];return n&&t.attach(n),t.self}function tn(e){return kC(e)}function kC(e){var t=typeof e=="object"&&e!==null?e[Up]:void 0;if(t)if(t.isMounted){var n=R.useState({}),r=n[1];return Hp(t.state,t.path,function(){return r({})},t).self}else{for(var a=R.useState({state:t.state}),s=a[0],u=a[1],l=Hp(s.state,Br,function(){return u({state:s.state})},s.state).self,f=0;f<t.path.length;f+=1)l=l.nested(t.path[f]);return l}else{var d=R.useState(function(){return{state:j1(e)}}),h=d[0],_=d[1],v=Hp(h.state,Br,function(){return _({state:h.state})},h.state);if(xC){var S=R.useRef(!1);S.current=!1,R.useEffect(function(){return S.current=!0,function(){S.current&&h.state.destroy()}})}else R.useEffect(function(){return function(){return h.state.destroy()}},[]);var T=tn[H1];return T&&v.attach(T),v.self}}function Te(){return{id:$1}}var H1=Symbol("DevTools"),xC=typeof process=="object"&&typeof{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}=="object"&&!1,Up=Symbol("self"),lt;(function(e){e[e.InitStateToValueFromState=101]="InitStateToValueFromState",e[e.SetStateToValueFromState=102]="SetStateToValueFromState",e[e.GetStateWhenPromised=103]="GetStateWhenPromised",e[e.SetStateWhenPromised=104]="SetStateWhenPromised",e[e.SetStateNestedToPromised=105]="SetStateNestedToPromised",e[e.SetStateWhenDestroyed=106]="SetStateWhenDestroyed",e[e.ToJson_Value=108]="ToJson_Value",e[e.ToJson_State=109]="ToJson_State",e[e.GetUnknownPlugin=120]="GetUnknownPlugin",e[e.SetProperty_State=201]="SetProperty_State",e[e.SetProperty_Value=202]="SetProperty_Value",e[e.SetPrototypeOf_State=203]="SetPrototypeOf_State",e[e.SetPrototypeOf_Value=204]="SetPrototypeOf_Value",e[e.PreventExtensions_State=205]="PreventExtensions_State",e[e.PreventExtensions_Value=206]="PreventExtensions_Value",e[e.DefineProperty_State=207]="DefineProperty_State",e[e.DefineProperty_Value=208]="DefineProperty_Value",e[e.DeleteProperty_State=209]="DeleteProperty_State",e[e.DeleteProperty_Value=210]="DeleteProperty_Value",e[e.Construct_State=211]="Construct_State",e[e.Construct_Value=212]="Construct_Value",e[e.Apply_State=213]="Apply_State",e[e.Apply_Value=214]="Apply_Value"})(lt||(lt={}));var Mn=function(e){RC(t,e);function t(n,r,a){return e.call(this,"Error: HOOKSTATE-"+r+" [path: /"+n.join("/")+(a?", details: "+a:"")+"]. "+("See https://hookstate.js.org/docs/exceptions#hookstate-"+r))||this}return t}(Error);function CC(){try{var e=new Proxy({},{});return!1}catch(t){return!0}}var Fp=CC(),$1=Symbol("Downgraded"),Uc=Symbol("ProxyMarker"),Br=[],ws=-1,PC=function(){function e(t){this._value=t,this._edition=0,this._subscribers=new Set,this._setSubscribers=new Set,this._destroySubscribers=new Set,this._batchStartSubscribers=new Set,this._batchFinishSubscribers=new Set,this._plugins=new Map,this._batches=0,typeof t=="object"&&Promise.resolve(t)===t?(this._promised=this.createPromised(t),this._value=St):t===St&&(this._promised=this.createPromised(void 0))}return e.prototype.createPromised=function(t){var n=this,r=new NC(t?Promise.resolve(t):void 0,function(a){n.promised===r&&n.edition!==ws&&(n._promised=void 0,n.set(Br,a,void 0),n.update([Br]))},function(){n.promised===r&&n.edition!==ws&&(n._edition+=1,n.update([Br]))},function(){if(n._batchesPendingActions&&n._value!==St&&n.edition!==ws){var a=n._batchesPendingActions;n._batchesPendingActions=void 0,a.forEach(function(s){return s()})}});return r},Object.defineProperty(e.prototype,"edition",{get:function(){return this._edition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promised",{get:function(){return this._promised},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=this._value;return n===St||t.forEach(function(r){n=n[r]}),n},e.prototype.set=function(t,n,r){if(this._edition<0)throw new Mn(t,lt.SetStateWhenDestroyed);if(t.length===0){var a={path:t,state:n,value:n,previous:this._value,merged:r};if(n===St)this._promised=this.createPromised(void 0),delete a.value,delete a.state;else if(typeof n=="object"&&Promise.resolve(n)===n)this._promised=this.createPromised(n),n=St,delete a.value,delete a.state;else if(this._promised&&!this._promised.resolver&&!this._promised.fullfilled)throw new Mn(t,lt.SetStateWhenPromised);var s=this._value;return s===St&&delete a.previous,this._value=n,this.afterSet(a),s===St&&this._value!==St&&this.promised&&this.promised.resolver&&this.promised.resolver(this._value),t}if(typeof n=="object"&&Promise.resolve(n)===n)throw new Mn(t,lt.SetStateNestedToPromised);for(var u=this._value,l=0;l<t.length-1;l+=1)u=u[t[l]];var f=t[t.length-1];if(f in u)if(n!==St){var s=u[f];return u[f]=n,this.afterSet({path:t,state:this._value,value:n,previous:s,merged:r}),t}else{var s=u[f];return Array.isArray(u)&&typeof f=="number"?u.splice(f,1):delete u[f],this.afterSet({path:t,state:this._value,previous:s,merged:r}),t.slice(0,-1)}return n!==St?(u[f]=n,this.afterSet({path:t,state:this._value,value:n,merged:r}),t.slice(0,-1)):t},e.prototype.update=function(t){if(this._batches){this._batchesPendingPaths=this._batchesPendingPaths||[],this._batchesPendingPaths=this._batchesPendingPaths.concat(t);return}var n=[];this._subscribers.forEach(function(r){return r.onSet(t,n)}),n.forEach(function(r){return r()})},e.prototype.afterSet=function(t){this._edition!==ws&&(this._edition+=1,this._setSubscribers.forEach(function(n){return n(t)}))},e.prototype.startBatch=function(t,n){this._batches+=1;var r={path:t};n&&"context"in n&&(r.context=n.context),this._value!==St&&(r.state=this._value),this._batchStartSubscribers.forEach(function(a){return a(r)})},e.prototype.finishBatch=function(t,n){var r={path:t};if(n&&"context"in n&&(r.context=n.context),this._value!==St&&(r.state=this._value),this._batchFinishSubscribers.forEach(function(s){return s(r)}),this._batches-=1,this._batches===0&&this._batchesPendingPaths){var a=this._batchesPendingPaths;this._batchesPendingPaths=void 0,this.update(a)}},e.prototype.postponeBatch=function(t){this._batchesPendingActions=this._batchesPendingActions||[],this._batchesPendingActions.push(t)},e.prototype.getPlugin=function(t){return this._plugins.get(t)},e.prototype.register=function(t){var n=this._plugins.get(t.id);if(!n){var r=t.init?t.init(this.toMethods().self):{};this._plugins.set(t.id,r),r.onSet&&this._setSubscribers.add(function(a){return r.onSet(a)}),r.onDestroy&&this._destroySubscribers.add(function(a){return r.onDestroy(a)}),r.onBatchStart&&this._batchStartSubscribers.add(function(a){return r.onBatchStart(a)}),r.onBatchFinish&&this._batchFinishSubscribers.add(function(a){return r.onBatchFinish(a)})}},e.prototype.toMethods=function(){return new Y1(this,Br,this.get(Br),this.edition,V1)},e.prototype.subscribe=function(t){this._subscribers.add(t)},e.prototype.unsubscribe=function(t){this._subscribers.delete(t)},e.prototype.destroy=function(){var t=this;this._destroySubscribers.forEach(function(n){return n(t._value!==St?{state:t._value}:{})}),this._edition=ws},e.prototype.toJSON=function(){throw new Mn(Br,lt.ToJson_Value)},e}(),NC=function(){function e(t,n,r,a){var s=this;this.promise=t,t||(t=new Promise(function(u){s.resolver=u})),this.promise=t.then(function(u){s.fullfilled=!0,s.resolver||n(u)}).catch(function(u){s.fullfilled=!0,s.error=u,r()}).then(function(){return a()})}return e}(),Di=Symbol("ValueUnusedMarker");function V1(){}var Gp=Symbol("UnmountedMarker");V1[Gp]=!0;var Y1=function(){function e(t,n,r,a,s){this.state=t,this.path=n,this.valueSource=r,this.valueEdition=a,this.onSetUsed=s,this.valueCache=Di}return e.prototype.getUntracked=function(t){if(this.valueEdition!==this.state.edition&&(this.valueSource=this.state.get(this.path),this.valueEdition=this.state.edition,this.isMounted?this.valueCache!==Di&&(this.valueCache=Di,this.get(!0)):(this.valueCache=Di,delete this.childrenCache,delete this.selfCache)),this.valueSource===St&&!t)throw this.state.promised&&this.state.promised.error?this.state.promised.error:new Mn(this.path,lt.GetStateWhenPromised);return this.valueSource},e.prototype.get=function(t){var n=this.getUntracked(t);return this.valueCache===Di&&(this.isDowngraded?this.valueCache=n:Array.isArray(n)?this.valueCache=this.valueArrayImpl(n):typeof n=="object"&&n!==null?this.valueCache=this.valueObjectImpl(n):this.valueCache=n),this.valueCache},Object.defineProperty(e.prototype,"value",{get:function(){return this.get()},enumerable:!1,configurable:!0}),e.prototype.setUntracked=function(t,n){if(typeof t=="function"&&(t=t(this.getUntracked())),typeof t=="object"&&t!==null&&t[Uc])throw new Mn(this.path,lt.SetStateToValueFromState);return[this.state.set(this.path,t,n)]},e.prototype.set=function(t){this.state.update(this.setUntracked(t))},e.prototype.mergeUntracked=function(t){var n=this.getUntracked();typeof t=="function"&&(t=t(n));var r,a=!1;if(Array.isArray(n)){if(Array.isArray(t))return this.setUntracked(n.concat(t),t);var s=[];Object.keys(t).sort().forEach(function(l){var f=Number(l),d=t[f];d===St?(a=!0,s.push(f)):(a=a||!(f in n),n[f]=d)}),s.reverse().forEach(function(l){n.splice(l,1)}),r=this.setUntracked(n,t)}else if(typeof n=="object"&&n!==null)Object.keys(t).forEach(function(l){var f=t[l];f===St?(a=!0,delete n[l]):(a=a||!(l in n),n[l]=f)}),r=this.setUntracked(n,t);else return typeof n=="string"?this.setUntracked(n+String(t),t):this.setUntracked(t);if(r.length!==1||r[0]!==this.path||a)return r;var u=r[0];return Object.keys(t).map(function(l){return u.slice().concat(l)})},e.prototype.merge=function(t){this.state.update(this.mergeUntracked(t))},e.prototype.nested=function(t){return this.child(t).self},e.prototype.rerender=function(t){this.state.update(t)},e.prototype.destroy=function(){this.state.destroy()},e.prototype.subscribe=function(t){this.subscribers===void 0&&(this.subscribers=new Set),this.subscribers.add(t)},e.prototype.unsubscribe=function(t){this.subscribers.delete(t)},Object.defineProperty(e.prototype,"isMounted",{get:function(){return!this.onSetUsed[Gp]},enumerable:!1,configurable:!0}),e.prototype.onUnmount=function(){this.onSetUsed[Gp]=!0},e.prototype.onSet=function(t,n){var r=this,a=function(){if(r.isDowngraded&&r.valueCache!==Di)return n.push(r.onSetUsed),!0;for(var u=0,l=t;u<l.length;u++){var f=l[u],d=f[r.path.length];if(d===void 0){if(r.valueCache!==Di)return n.push(r.onSetUsed),!0}else{var h=r.childrenCache&&r.childrenCache[d];if(h&&h.onSet(t,n))return!0}}return!1},s=a();return!s&&this.subscribers!==void 0&&this.subscribers.forEach(function(u){u.onSet(t,n)}),s},Object.defineProperty(e.prototype,"keys",{get:function(){var t=this.get();if(Array.isArray(t))return Object.keys(t).map(function(n){return Number(n)}).filter(function(n){return Number.isInteger(n)});if(typeof t=="object"&&t!==null)return Object.keys(t)},enumerable:!1,configurable:!0}),e.prototype.child=function(t){if(this.isMounted){this.childrenCache=this.childrenCache||{};var n=this.childrenCache[t];if(n)return n}var r=new e(this.state,this.path.slice().concat(t),this.valueSource[t],this.valueEdition,this.onSetUsed);return this.isDowngraded&&(r.isDowngraded=!0),this.childrenCache&&(this.childrenCache[t]=r),r},e.prototype.valueArrayImpl=function(t){var n=this;return Fp?(this.isDowngraded=!0,t):zp(this.path,t,function(){return t},function(r,a){if(a==="length")return r.length;if(a in Array.prototype)return Array.prototype[a];if(a===Uc)return n;if(typeof a=="symbol")return r[a];var s=Number(a);if(!!Number.isInteger(s))return n.child(s).get()},function(r,a,s){if(typeof a=="symbol")return r[a]=s,!0;throw new Mn(n.path,lt.SetProperty_Value)},!0)},e.prototype.valueObjectImpl=function(t){var n=this;return Fp?(this.isDowngraded=!0,t):zp(this.path,t,function(){return t},function(r,a){return a===Uc?n:typeof a=="symbol"?r[a]:n.child(a).get()},function(r,a,s){if(typeof a=="symbol")return r[a]=s,!0;throw new Mn(n.path,lt.SetProperty_Value)},!0)},Object.defineProperty(e.prototype,"self",{get:function(){var t=this;if(this.selfCache)return this.selfCache;var n=function(a,s){if(s===Up)return t;if(typeof s!="symbol"){if(s==="toJSON")throw new Mn(t.path,lt.ToJson_State);var u=function(l){var f=t.isDowngraded,d=t.get();if(t.isDowngraded=f,!((typeof d!="object"||d===null)&&d!==St)){if(Array.isArray(d)){if(l==="length")return d.length;if(l in Array.prototype)return Array.prototype[l];var h=Number(l);return Number.isInteger(h)?t.nested(h):void 0}return t.nested(l.toString())}};switch(s){case"path":return t.path;case"keys":return t.keys;case"value":return t.value;case"ornull":return t.ornull;case"promised":return t.promised;case"error":return t.error;case"get":return function(){return t.get()};case"set":return function(l){return t.set(l)};case"merge":return function(l){return t.merge(l)};case"nested":return function(l){return u(l)};case"batch":return function(l,f){return t.batch(l,f)};case"attach":return function(l){return t.attach(l)};case"destroy":return function(){return t.destroy()};default:return u(s)}}};if(Fp){var r=Array.isArray(this.valueSource)?[]:{};return[Up,"toJSON","path","keys","value","ornull","promised","error","get","set","merge","nested","batch","attach","destroy"].forEach(function(a){Object.defineProperty(r,a,{get:function(){return n(r,a)}})}),typeof this.valueSource=="object"&&this.valueSource!==null&&Object.keys(this.valueSource).forEach(function(a){Object.defineProperty(r,a,{enumerable:!0,get:function(){return n(r,a)}})}),this.selfCache=r,this.selfCache}return this.selfCache=zp(this.path,this.valueSource,function(){return t.get(),t.valueSource},n,function(a,s,u){throw new Mn(t.path,lt.SetProperty_State)},!1),this.selfCache},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promised",{get:function(){var t=this.get(!0);return!!(t===St&&this.state.promised&&!this.state.promised.fullfilled)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){var t=this.get(!0);if(t===St){if(this.state.promised&&this.state.promised.fullfilled)return this.state.promised.error;this.get()}},enumerable:!1,configurable:!0}),e.prototype.batch=function(t,n){var r=this,a={context:n};try{this.state.startBatch(this.path,a);var s=t(this.self);return s===DC&&this.state.postponeBatch(function(){return r.batch(t,n)}),s}finally{this.state.finishBatch(this.path,a)}},Object.defineProperty(e.prototype,"ornull",{get:function(){var t=this.get();return t==null?t:this.self},enumerable:!1,configurable:!0}),e.prototype.attach=function(t){if(typeof t=="function"){var n=t();if(n.id===$1){if(this.isDowngraded=!0,this.valueCache!==Di){var r=this.getUntracked(!0);this.valueCache=r}return this.self}return this.state.register(n),this.self}else return[this.state.getPlugin(t)||new Mn(this.path,lt.GetUnknownPlugin,t.toString()),this]},e}();function zp(e,t,n,r,a,s){var u=function(l){throw new Mn(e,l)};return(typeof t!="object"||t===null)&&(t={}),new Proxy(t,{getPrototypeOf:function(l){var f=n();return f==null?null:Object.getPrototypeOf(f)},setPrototypeOf:function(l,f){return u(s?lt.SetPrototypeOf_State:lt.SetPrototypeOf_Value)},isExtensible:function(l){return!0},preventExtensions:function(l){return u(s?lt.PreventExtensions_State:lt.PreventExtensions_Value)},getOwnPropertyDescriptor:function(l,f){var d=n();if(d!=null){var h=Object.getOwnPropertyDescriptor(d,f);return h&&Array.isArray(d)&&f in Array.prototype?h:h&&{configurable:!0,enumerable:h.enumerable,get:function(){return r(d,f)},set:void 0}}},has:function(l,f){if(typeof f=="symbol")return!1;var d=n();return typeof d=="object"&&d!==null?f in d:!1},get:r,set:a,deleteProperty:function(l,f){return u(s?lt.DeleteProperty_State:lt.DeleteProperty_Value)},defineProperty:function(l,f,d){return u(s?lt.DefineProperty_State:lt.DefineProperty_Value)},ownKeys:function(l){var f=n();return Array.isArray(f)?Object.keys(f).concat("length"):f==null?[]:Object.keys(f)},apply:function(l,f,d){return u(s?lt.Apply_State:lt.Apply_Value)},construct:function(l,f,d){return u(s?lt.Construct_State:lt.Construct_Value)}})}function j1(e){var t=e;if(typeof e=="function"&&(t=e()),typeof t=="object"&&t!==null&&t[Uc])throw new Mn(Br,lt.InitStateToValueFromState);return new PC(t)}var MC=typeof window!="undefined"?R.useLayoutEffect:R.useEffect;function Hp(e,t,n,r){var a=new Y1(e,t,e.get(t),e.edition,n);return MC(function(){return r.subscribe(a),function(){a.onUnmount(),r.unsubscribe(a)}}),a}const Ar={id:"",name:"",userRole:"",avatarId:"",identityProviders:[],locationAdmins:[]};function Ez(e){let t=e;return e?.identity_providers&&(t={...t,identityProviders:e.identity_providers}),e?.location_admins&&e.location_admins.length>0&&(t={...t,locationAdmins:e.location_admins}),e?.location_bans&&e.location_bans.length>0&&(t={...t,locationBans:e.location_bans}),t}function Sz(e){return{id:"",instanceId:e.user.id,name:e.user.displayName,userRole:"guest",avatarId:e.user.id,identityProviders:[],locationAdmins:[],avatarUrl:e.user.icon}}const Or={id:0,token:"",type:"",isVerified:!1,userId:""},Ir={accessToken:"",authentication:{strategy:""},identityProvider:Or};function bz(e){return{accessToken:e.accessToken,authentication:e.authentication,identityProvider:e["identity-provider"]}}const ki=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,avatarList:[]}),LC=(e,t)=>(Promise.resolve().then(()=>UC(t)),ki.attach(Te).value),UC=e=>{ki.batch(t=>{switch(e.type){case"ACTION_PROCESSING":return t.merge({isProcessing:e.processing,error:""});case"LOGIN_USER_SUCCESS":return t.merge({isLoggedIn:!0,authUser:e.authUser});case"LOGIN_USER_ERROR":return t.merge({error:e.message});case"LOGIN_USER_BY_GITHUB_SUCCESS":return ki;case"LOGIN_USER_BY_GITHUB_ERROR":return t.merge({error:e.message});case"LOGIN_USER_BY_LINKEDIN_SUCCESS":return ki;case"LOGIN_USER_BY_LINKEDIN_ERROR":return t.merge({error:e.message});case"REGISTER_USER_BY_EMAIL_SUCCESS":return t.merge({identityProvider:e.identityProvider});case"REGISTER_USER_BY_EMAIL_ERROR":return ki;case"LOGOUT_USER":return t.merge({isLoggedIn:!1,user:Ar,authUser:Ir});case"DID_VERIFY_EMAIL":return t.identityProvider.merge({isVerified:e.result});case"LOADED_USER_DATA":return t.merge({user:e.user});case"RESTORE":{const n=Lx();return n?t.merge({isLoggedIn:n.isLoggedIn,authUser:n.authUser,identityProvider:n.identityProvider}):ki}case"AVATAR_UPDATED":return t.user.merge({avatarUrl:e.url});case"USERNAME_UPDATED":return t.user.merge({name:e.name});case"USERAVATARID_UPDATED":return t.user.merge({avatarId:e.avatarId});case"USER_UPDATED":return t.merge({user:e.user});case"UPDATE_USER_SETTINGS":return t.user.merge({user_setting:e.data});case"AVATAR_FETCHED":{const n=e.avatarList,r={};for(let a of n){const s=r[a.name]||{};if(!s){console.warn("Avatar resource is empty, have you synced avatars to your static file storage?");return}s[a.staticResourceType]=a,r[a.name]=s}return t.merge({avatarList:Object.keys(r).map(a=>r[a])})}}},e.type)},FC=()=>ki,Tz=()=>tn(ki),GC=z1.Map(),zC=Ev(bv);function HC(e){return Fc.store=Vd(e,GC,zC),window.store=Fc.store,Fc.store.subscribe(()=>{Ux(FC().value)}),Fc.store}class Fc{static store}var W1={},B1={},X1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(typeof window!="undefined"){var l;typeof window.gtag=="undefined"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(l=window).gtag.apply(l,s)}},n=t;e.default=n})(X1);var K1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(l){return l.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(f,d,h){return d>0&&d+f.length!==h.length&&f.search(t)>-1&&h.charAt(d-2)!==":"&&(h.charAt(d+f.length)!=="-"||h.charAt(d-1)==="-")&&h.charAt(d-1).search(/[^\s-]/)<0?f.toLowerCase():f.substr(1).search(/[A-Z]|\../)>-1?f:f.charAt(0).toUpperCase()+f.substr(1)})}function r(l){return typeof l=="string"&&l.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function s(l){return r(l)?(console.warn("This arg looks like an email address, redacting."),a):l}function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=l||"";return f&&(h=n(l)),d&&(h=s(h)),h}})(K1);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=l(X1),n=l(K1),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],s=["page","hitType"],u=["action","category","label","value","nonInteraction","transport"];function l($){return $&&$.__esModule?$:{default:$}}function f($,C){if($==null)return{};var x=d($,C),L,M;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols($);for(M=0;M<j.length;M++)L=j[M],!(C.indexOf(L)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,L)||(x[L]=$[L]))}return x}function d($,C){if($==null)return{};var x={},L=Object.keys($),M,j;for(j=0;j<L.length;j++)M=L[j],!(C.indexOf(M)>=0)&&(x[M]=$[M]);return x}function h($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(x){return typeof x}:h=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h($)}function _($){return T($)||S($)||W($)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function T($){if(Array.isArray($))return Z($)}function E($,C){var x=Object.keys($);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols($);C&&(L=L.filter(function(M){return Object.getOwnPropertyDescriptor($,M).enumerable})),x.push.apply(x,L)}return x}function A($){for(var C=1;C<arguments.length;C++){var x=arguments[C]!=null?arguments[C]:{};C%2?E(Object(x),!0).forEach(function(L){ee($,L,x[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(x)):E(Object(x)).forEach(function(L){Object.defineProperty($,L,Object.getOwnPropertyDescriptor(x,L))})}return $}function k($,C){return ne($)||B($,C)||W($,C)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W($,C){if(!!$){if(typeof $=="string")return Z($,C);var x=Object.prototype.toString.call($).slice(8,-1);if(x==="Object"&&$.constructor&&(x=$.constructor.name),x==="Map"||x==="Set")return Array.from($);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Z($,C)}}function Z($,C){(C==null||C>$.length)&&(C=$.length);for(var x=0,L=new Array(C);x<C;x++)L[x]=$[x];return L}function B($,C){var x=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(x!=null){var L=[],M=!0,j=!1,ie,X;try{for(x=x.call($);!(M=(ie=x.next()).done)&&(L.push(ie.value),!(C&&L.length===C));M=!0);}catch(re){j=!0,X=re}finally{try{!M&&x.return!=null&&x.return()}finally{if(j)throw X}}return L}}function ne($){if(Array.isArray($))return $}function z($,C){if(!($ instanceof C))throw new TypeError("Cannot call a class as a function")}function Y($,C){for(var x=0;x<C.length;x++){var L=C[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty($,L.key,L)}}function ae($,C,x){return C&&Y($.prototype,C),x&&Y($,x),$}function ee($,C,x){return C in $?Object.defineProperty($,C,{value:x,enumerable:!0,configurable:!0,writable:!0}):$[C]=x,$}var me=function(){function $(){var C=this;z(this,$),ee(this,"reset",function(){C.isInitialized=!1,C._testMode=!1,C._currentMeasurementId,C._hasLoadedGA=!1,C._isQueuing=!1,C._queueGtag=[]}),ee(this,"_gtag",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];C._testMode||C._isQueuing?C._queueGtag.push(L):t.default.apply(void 0,L)}),ee(this,"_loadGA",function(x){if(!(typeof window=="undefined"||typeof document=="undefined")&&!C._hasLoadedGA){var L=document.createElement("script");L.async=!0,L.src="https://www.googletagmanager.com/gtag/js?id=".concat(x),document.body.appendChild(L),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},C._hasLoadedGA=!0}}),ee(this,"_toGtagOptions",function(x){if(!!x){var L={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},M=Object.entries(x).reduce(function(j,ie){var X=k(ie,2),re=X[0],U=X[1];return L[re]?j[L[re]]=U:j[re]=U,j},{});return M}}),ee(this,"initialize",function(x){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)throw new Error("Require GA_MEASUREMENT_ID");var M=typeof x=="string"?[{trackingId:x}]:x;C._currentMeasurementId=M[0].trackingId;var j=L.testMode,ie=j===void 0?!1:j,X=L.gaOptions,re=L.gtagOptions;if(C._testMode=ie,ie||C._loadGA(C._currentMeasurementId),C.isInitialized||(C._gtag("js",new Date),M.forEach(function(J){var Q=C._appendCustomMap(A(A(A({send_page_view:!1},C._toGtagOptions(A(A({},X),J.gaOptions))),re),J.gaOptions));C._gtag("config",J.trackingId,Q)})),C.isInitialized=!0,!ie){var U=_(C._queueGtag);for(C._queueGtag=[],C._isQueuing=!1;U.length;){var G=U.shift();C._gtag.apply(C,_(G)),G[0]==="get"&&(C._isQueuing=!0)}}}),ee(this,"set",function(x){if(!x){console.warn("`fieldsObject` is required in .set()");return}if(h(x)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(x).length===0&&console.warn("empty `fieldsObject` given to .set()"),C._gaCommand("set",x)}),ee(this,"_gaCommandSendEvent",function(x,L,M,j,ie){C._gtag("event",L,A(A({event_category:x,event_label:M,value:j},ie&&{non_interaction:ie.nonInteraction}),C._toGtagOptions(ie)))}),ee(this,"_gaCommandSendEventParameters",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];if(typeof L[0]=="string")C._gaCommandSendEvent.apply(C,_(L.slice(1)));else{var j=L[0],ie=j.eventCategory,X=j.eventAction,re=j.eventLabel,U=j.eventValue;j.hitType;var G=f(j,r);C._gaCommandSendEvent(ie,X,re,U,G)}}),ee(this,"_gaCommandSendTiming",function(x,L,M,j){C._gtag("event","timing_complete",{name:L,value:M,event_category:x,event_label:j})}),ee(this,"_gaCommandSendPageview",function(x,L){if(L&&Object.keys(L).length){var M=C._toGtagOptions(L),j=M.title,ie=M.location,X=f(M,a);C._gtag("event","page_view",A(A(A(A({},x&&{page_path:x}),j&&{page_title:j}),ie&&{page_location:ie}),X))}else x?C._gtag("event","page_view",{page_path:x}):C._gtag("event","page_view")}),ee(this,"_gaCommandSendPageviewParameters",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];if(typeof L[0]=="string")C._gaCommandSendPageview.apply(C,_(L.slice(1)));else{var j=L[0],ie=j.page;j.hitType;var X=f(j,s);C._gaCommandSendPageview(ie,X)}}),ee(this,"_gaCommandSend",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];var j=typeof L[0]=="string"?L[0]:L[0].hitType;switch(j){case"event":C._gaCommandSendEventParameters.apply(C,L);break;case"pageview":C._gaCommandSendPageviewParameters.apply(C,L);break;case"timing":C._gaCommandSendTiming.apply(C,_(L.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(j));break;default:console.warn("Send command doesn't exist: ".concat(j))}}),ee(this,"_gaCommandSet",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];typeof L[0]=="string"&&(L[0]=ee({},L[0],L[1])),C._gtag("set",C._toGtagOptions(L[0]))}),ee(this,"_gaCommand",function(x){for(var L=arguments.length,M=new Array(L>1?L-1:0),j=1;j<L;j++)M[j-1]=arguments[j];switch(x){case"send":C._gaCommandSend.apply(C,M);break;case"set":C._gaCommandSet.apply(C,M);break;default:console.warn("Command doesn't exist: ".concat(x))}}),ee(this,"ga",function(){for(var x=arguments.length,L=new Array(x),M=0;M<x;M++)L[M]=arguments[M];if(typeof L[0]=="string")C._gaCommand.apply(C,L);else{var j=L[0];C._gtag("get",C._currentMeasurementId,"client_id",function(ie){C._isQueuing=!1;var X=C._queueGtag;for(j({get:function(G){return G==="clientId"?ie:G==="trackingId"?C._currentMeasurementId:G==="apiVersion"?"1":void 0}});X.length;){var re=X.shift();C._gtag.apply(C,_(re))}}),C._isQueuing=!0}return C.ga}),ee(this,"event",function(x,L){if(typeof x=="string")C._gtag("event",x,C._toGtagOptions(L));else{var M=x.action,j=x.category,ie=x.label,X=x.value,re=x.nonInteraction,U=x.transport,G=f(x,u);if(!j||!M){console.warn("args.category AND args.action are required in event()");return}var J={hitType:"event",eventCategory:(0,n.default)(j),eventAction:(0,n.default)(M)};ie&&(J.eventLabel=(0,n.default)(ie)),typeof X!="undefined"&&(typeof X!="number"?console.warn("Expected `args.value` arg to be a Number."):J.eventValue=X),typeof re!="undefined"&&(typeof re!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):J.nonInteraction=re),typeof U!="undefined"&&(typeof U!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(U)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),J.transport=U)),Object.keys(G).filter(function(Q){return Q.substr(0,"dimension".length)==="dimension"}).forEach(function(Q){J[Q]=G[Q]}),Object.keys(G).filter(function(Q){return Q.substr(0,"metric".length)==="metric"}).forEach(function(Q){J[Q]=G[Q]}),C._gaCommand("send",J)}}),ee(this,"send",function(x){C._gaCommand("send",x)}),ee(this,"pageview",function(x,L,M){var j=x==null?void 0:x.trim();if(j===""){console.warn("path cannot be an empty string in .pageview()");return}C._gaCommand("send","pageview",j,{title:M})}),this.reset()}return ae($,[{key:"_appendCustomMap",value:function(x){x.custom_map||(x.custom_map={});for(var L=1;L<=200;L++)x.custom_map["dimension".concat(L)]||(x.custom_map["dimension".concat(L)]="dimension".concat(L)),x.custom_map["metric".concat(L)]||(x.custom_map["metric".concat(L)]="metric".concat(L));return x}},{key:"outboundLink",value:function(x,L){var M=x.label;if(typeof L!="function"){console.warn("hitCallback function is required");return}if(!M){console.warn("args.label is required in outboundLink()");return}var j={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:(0,n.default)(M)},ie=!1,X=function(){ie=!0,L()},re=setTimeout(X,250),U=function(){clearTimeout(re),ie||L()};j.hitCallback=U,this._gaCommand("send",j)}}]),$}();e.GA4=me;var ge=new me;e.default=ge})(B1);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(B1);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default;e.default=r})(W1);var q1=jD(W1);const $C=()=>{Ma.publicRuntimeConfig.gaMeasurementId&&Ma.publicRuntimeConfig.gaMeasurementId.length>0&&q1.initialize(Ma.publicRuntimeConfig.gaMeasurementId)},VC=()=>{q1.send({hitType:"pageview",page:window.location.pathname})},YC=hv`
  /*! minireset.css v0.0.4 | MIT License | github.com/jgthms/minireset.css */
  html,
  body,
  p,
  ol,
  ul,
  li,
  dl,
  dt,
  dd,
  blockquote,
  figure,
  fieldset,
  legend,
  textarea,
  pre,
  iframe,
  hr,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
    padding: 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: 100%;
    font-weight: normal;
  }

  ul {
    list-style: none;
  }

  button,
  input,
  select,
  textarea {
    margin: 0;
  }

  html {
    box-sizing: border-box;
  }

  *, *:before, *:after {
    box-sizing: inherit;
  }

  img,
  embed,
  iframe,
  object,
  video {
    height: auto;
    max-width: 100%;
  }

  audio {
    max-width: 100%;
  }

  iframe {
    border: 0;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  td,
  th {
    padding: 0;
    text-align: left;
  }

  /* scrollbar-width is not inherited so apply to all elements. */
  * {
    scrollbar-width: thin;
  }

  ::selection {
    color: ${e=>e.theme.text};
    background-color: ${e=>e.theme.selected};
  }

  a {
    color: ${e=>e.theme.text};

    &:hover {
      color: ${e=>e.theme.blueHover};
    }

    &:active {
      color: ${e=>e.theme.bluePressed};
    }
  }

  html, body {
    width: 100%;
    height: 100%;
  }

  #app {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  main {
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  body {
    font-family: ${e=>e.theme.lato};
    font-size: 12px;
    color: ${e=>e.theme.text};
    background-color: ${e=>e.theme.background};
    scrollbar-color: #282c31 #5d646c;
  }

  .Modal {
    position: absolute;
    display: flex;
    flex: 1;
    outline: none;
    max-height: 100%;
    box-shadow: ${e=>e.theme.shadow30};
    margin-bottom: 10vh;
  }

  .Overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .ReactModal__Overlay--after-open {
    z-index: 100;
  }

  .sentry-error-embed {
    .form-field {
      margin-top: 20px;
    }

    .form-field:not(:last-child) {
      display: none;
    }
  }
`;function $p(e){return e&&rg(e)==="object"&&e.constructor===Object}function oo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?rt({},e):e;return $p(e)&&$p(t)&&Object.keys(t).forEach(function(a){a!=="__proto__"&&($p(t[a])&&a in e?r[a]=oo(e[a],t[a],n):r[a]=t[a])}),r}function Vp(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function Yp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,e),n)}function jC(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,a){return a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function WC(e){e=ca(e);var t=e,n=t.values,r=n[0],a=n[1]/100,s=n[2]/100,u=a*Math.min(s,1-s),l=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(_+r/30)%12;return s-u*Math.max(Math.min(v-3,9-v,1),-1)},f="rgb",d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(f+="a",d.push(n[3])),Gc({type:f,values:d})}function ca(e){if(e.type)return e;if(e.charAt(0)==="#")return ca(jC(e));var t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(Vp(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map(function(a){return parseFloat(a)}),{type:n,values:r}}function Gc(e){var t=e.type,n=e.values;return t.indexOf("rgb")!==-1?n=n.map(function(r,a){return a<3?parseInt(r,10):r}):t.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function BC(e,t){var n=jp(e),r=jp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function jp(e){e=ca(e);var t=e.type==="hsl"?ca(WC(e)).values:e.values;return t=t.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function wz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return jp(e)>.5?J1(e,t):Z1(e,t)}function Az(e,t){return e=ca(e),t=Yp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=t,Gc(e)}function J1(e,t){if(e=ca(e),t=Yp(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Gc(e)}function Z1(e,t){if(e=ca(e),t=Yp(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Gc(e)}var xi=["xs","sm","md","lg","xl"];function XC(e){var t=e.values,n=t===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=r===void 0?"px":r,s=e.step,u=s===void 0?5:s,l=Yo(e,["values","unit","step"]);function f(S){var T=typeof n[S]=="number"?n[S]:S;return"@media (min-width:".concat(T).concat(a,")")}function d(S){var T=xi.indexOf(S)+1,E=n[xi[T]];if(T===xi.length)return f("xs");var A=typeof E=="number"&&T>0?E:S;return"@media (max-width:".concat(A-u/100).concat(a,")")}function h(S,T){var E=xi.indexOf(T);return E===xi.length-1?f(S):"@media (min-width:".concat(typeof n[S]=="number"?n[S]:S).concat(a,") and ")+"(max-width:".concat((E!==-1&&typeof n[xi[E+1]]=="number"?n[xi[E+1]]:T)-u/100).concat(a,")")}function _(S){return h(S,S)}function v(S){return n[S]}return rt({keys:xi,values:n,up:f,down:d,between:h,only:_,width:v},l)}function KC(e,t,n){var r;return rt({gutters:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),rt({paddingLeft:t(2),paddingRight:t(2)},s,Yu({},e.up("sm"),rt({paddingLeft:t(3),paddingRight:t(3)},s[e.up("sm")])))},toolbar:(r={minHeight:56},Yu(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Yu(r,e.up("sm"),{minHeight:64}),r)},n)}var qC={black:"#000",white:"#fff"},zc=qC,JC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Wp=JC,ZC={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Bp=ZC,QC={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Xp=QC,eP={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hc=eP,tP={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Kp=tP,nP={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qp=nP,rP={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Jp=rP,Q1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zc.white,default:Wp[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Zp={text:{primary:zc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Wp[800],default:"#303030"},action:{active:zc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ey(e,t,n,r){var a=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Z1(e.main,a):t==="dark"&&(e.dark=J1(e.main,s)))}function iP(e){var t=e.primary,n=t===void 0?{light:Bp[300],main:Bp[500],dark:Bp[700]}:t,r=e.secondary,a=r===void 0?{light:Xp.A200,main:Xp.A400,dark:Xp.A700}:r,s=e.error,u=s===void 0?{light:Hc[300],main:Hc[500],dark:Hc[700]}:s,l=e.warning,f=l===void 0?{light:Kp[300],main:Kp[500],dark:Kp[700]}:l,d=e.info,h=d===void 0?{light:qp[300],main:qp[500],dark:qp[700]}:d,_=e.success,v=_===void 0?{light:Jp[300],main:Jp[500],dark:Jp[700]}:_,S=e.type,T=S===void 0?"light":S,E=e.contrastThreshold,A=E===void 0?3:E,k=e.tonalOffset,N=k===void 0?.2:k,W=Yo(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Z(Y){var ae=BC(Y,Zp.text.primary)>=A?Zp.text.primary:Q1.text.primary;return ae}var B=function(ae){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ae=rt({},ae),!ae.main&&ae[ee]&&(ae.main=ae[ee]),!ae.main)throw new Error(Vp(4,ee));if(typeof ae.main!="string")throw new Error(Vp(5,JSON.stringify(ae.main)));return ey(ae,"light",me,N),ey(ae,"dark",ge,N),ae.contrastText||(ae.contrastText=Z(ae.main)),ae},ne={dark:Zp,light:Q1},z=oo(rt({common:zc,type:T,primary:B(n),secondary:B(a,"A400","A200","A700"),error:B(u),warning:B(f),info:B(h),success:B(v),grey:Wp,contrastThreshold:A,getContrastText:Z,augmentColor:B,tonalOffset:N},ne[T]),W);return z}function ty(e){return Math.round(e*1e5)/1e5}function aP(e){return ty(e)}var ny={textTransform:"uppercase"},ry='"Roboto", "Helvetica", "Arial", sans-serif';function oP(e,t){var n=typeof t=="function"?t(e):t,r=n.fontFamily,a=r===void 0?ry:r,s=n.fontSize,u=s===void 0?14:s,l=n.fontWeightLight,f=l===void 0?300:l,d=n.fontWeightRegular,h=d===void 0?400:d,_=n.fontWeightMedium,v=_===void 0?500:_,S=n.fontWeightBold,T=S===void 0?700:S,E=n.htmlFontSize,A=E===void 0?16:E,k=n.allVariants,N=n.pxToRem,W=Yo(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),Z=u/14,B=N||function(Y){return"".concat(Y/A*Z,"rem")},ne=function(ae,ee,me,ge,$){return rt({fontFamily:a,fontWeight:ae,fontSize:B(ee),lineHeight:me},a===ry?{letterSpacing:"".concat(ty(ge/ee),"em")}:{},$,k)},z={h1:ne(f,96,1.167,-1.5),h2:ne(f,60,1.2,-.5),h3:ne(h,48,1.167,0),h4:ne(h,34,1.235,.25),h5:ne(h,24,1.334,0),h6:ne(v,20,1.6,.15),subtitle1:ne(h,16,1.75,.15),subtitle2:ne(v,14,1.57,.1),body1:ne(h,16,1.5,.15),body2:ne(h,14,1.43,.15),button:ne(v,14,1.75,.4,ny),caption:ne(h,12,1.66,.4),overline:ne(h,12,2.66,1,ny)};return oo(rt({htmlFontSize:A,pxToRem:B,round:aP,fontFamily:a,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:T},z),W,{clone:!1})}var sP=.2,uP=.14,cP=.12;function bt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(sP,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(uP,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(cP,")")].join(",")}var lP=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],fP=lP,dP={borderRadius:4},pP=dP;function hP(e){if(Array.isArray(e))return WD(e)}function mP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gP(e){return hP(e)||mP(e)||BD(e)||_P()}function iy(e,t){return t?oo(e,t,{clone:!1}):e}var vP={xs:0,sm:600,md:960,lg:1280,xl:1920},Qp={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(vP[t],"px)")}};function yP(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Qp;return t.reduce(function(u,l,f){return u[r.up(r.keys[f])]=n(t[f]),u},{})}if(rg(t)==="object"){var a=e.theme.breakpoints||Qp;return Object.keys(t).reduce(function(u,l){return u[a.up(l)]=n(t[l]),u},{})}var s=n(t);return s}function Oz(e){var t=function(r){var a=e(r),s=r.theme.breakpoints||Qp,u=s.keys.reduce(function(l,f){return r[f]&&(l=l||{},l[s.up(f)]=e(rt({theme:r.theme},r[f]))),l},null);return iy(a,u)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat(gP(e.filterProps)),t}function EP(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var SP={m:"margin",p:"padding"},bP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ay={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},TP=EP(function(e){if(e.length>2)if(ay[e])e=ay[e];else return[e];var t=e.split(""),n=XD(t,2),r=n[0],a=n[1],s=SP[r],u=bP[a]||"";return Array.isArray(u)?u.map(function(l){return s+l}):[s+u]}),oy=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function sy(e){var t=e.spacing||8;return typeof t=="number"?function(n){return t*n}:Array.isArray(t)?function(n){return t[n]}:typeof t=="function"?t:function(){}}function wP(e,t){if(typeof t=="string"||t==null)return t;var n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:"-".concat(r)}function AP(e,t){return function(n){return e.reduce(function(r,a){return r[a]=wP(t,n),r},{})}}function uy(e){var t=e.theme,n=sy(t);return Object.keys(e).map(function(r){if(oy.indexOf(r)===-1)return null;var a=TP(r),s=AP(a,n),u=e[r];return yP(e,u,s)}).reduce(iy,{})}uy.propTypes={};uy.filterProps=oy;function OP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var t=sy({spacing:e}),n=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return s.length===0?t(1):s.length===1?t(s[0]):s.map(function(l){if(typeof l=="string")return l;var f=t(l);return typeof f=="number"?"".concat(f,"px"):f}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var cy={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ly={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fy(e){return"".concat(Math.round(e),"ms")}var IP={easing:cy,duration:ly,create:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,a=r===void 0?ly.standard:r,s=n.easing,u=s===void 0?cy.easeInOut:s,l=n.delay,f=l===void 0?0:l;return Yo(n,["duration","easing","delay"]),(Array.isArray(t)?t:[t]).map(function(d){return"".concat(d," ").concat(typeof a=="string"?a:fy(a)," ").concat(u," ").concat(typeof f=="string"?f:fy(f))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var n=t/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}},RP={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},DP=RP;function kP(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.breakpoints,n=t===void 0?{}:t,r=e.mixins,a=r===void 0?{}:r,s=e.palette,u=s===void 0?{}:s,l=e.spacing,f=e.typography,d=f===void 0?{}:f,h=Yo(e,["breakpoints","mixins","palette","spacing","typography"]),_=iP(u),v=XC(n),S=OP(l),T=oo({breakpoints:v,direction:"ltr",mixins:KC(v,S,a),overrides:{},palette:_,props:{},shadows:fP,typography:oP(_,d),spacing:S,shape:pP,transitions:IP,zIndex:DP},h),E=arguments.length,A=new Array(E>1?E-1:0),k=1;k<E;k++)A[k-1]=arguments[k];return T=A.reduce(function(N,W){return oo(N,W)},T),T}function dy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=dy(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ci(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=dy(t))&&(r&&(r+=" "),r+=n);return r}var Iz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ci});const xP=kP({palette:{primary:{main:"#5151FF"},secondary:{main:"#FFFFFF"},error:{main:Hc.A400},background:{default:"#000000"},text:{primary:"#FFFFFF"}},typography:{fontFamily:["SFProText-Regular","Roboto","Helvetica","Arial","sans-serif"].join(","),fontSize:14,button:{color:"#FFFFFF"}},overrides:{MuiTypography:{body1:{fontFamily:["SFProText-Regular","Roboto","Helvetica","Arial","sans-serif"].join(",")},h1:{fontSize:28,fontWeight:"bold",margin:"15px 0px",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h2:{fontSize:16,margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h3:{fontSize:14,margin:"5px 0px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h4:{fontSize:14,margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center","&.MuiTypography-colorSecondary":{color:"#8A8A8E"}},h5:{fontSize:18,fontWeight:"bold",margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h6:{fontSize:14,fontFamily:"SFProText-Regular"},alignRight:{textAlign:"right",justifyContent:"flex-end",alignItems:"right"},alignLeft:{textAlign:"left",justifyContent:"flex-start",alignItems:"left"},alignCenter:{textAlign:"center",justifyContent:"center",alignItems:"center"}},MuiContainer:{root:{flex:"none"}},MuiDialog:{paperWidthSm:{maxWidth:"40%",width:"40%",margin:"0 auto",fontSize:16,textAlign:"center",backgroundColor:"#FFFFFF","@media (max-width: 768px)":{maxWidth:"90%",width:"90%"}}},MuiDialogTitle:{root:{display:"flex",flexDirection:"row-reverse",alignItems:"center"}},MuiDialogContent:{root:{textAlign:"justify",padding:" 0 24px 24px 24px"}},MuiButtonBase:{root:{backgroundColor:"rgba(0, 0, 0, ,0.9)",color:"#000000",fontSize:16,textAlign:"center",margin:"0 10px"}},MuiIconButton:{root:{color:"#000000","&:hover":{backgroundColor:"transparent"}},colorPrimary:{backgroundColor:"#5151FF",color:"#FFFFFF","&:hover":{backgroundColor:"#5151FF"}},colorSecondary:{backgroundColor:"transparent",color:"#8E8E93"}},MuiSlider:{root:{color:"#484848"},thumb:{height:"24px",width:"24px",marginTop:"-10px",boxSizing:"border-box"},thumbColorPrimary:{background:"rgba(0, 0, 0, 0.8)",border:"2px solid #A8A8FF"}},MuiLinearProgress:{root:{height:"34px",backgroundColor:"#FFFFFF",borderRadius:"8px","@media (max-width: 768px)":{height:"16px",borderRadius:"10px"}},bar:{borderRadius:"inherit"}},MuiMenuItem:{root:{padding:"5px",borderRadius:"8px"}},MuiSnackbar:{root:{maxWidth:"80%",minWidth:"40%",width:"auto",left:"30%",right:"30%",userSelect:"none",borderRadius:"8px",fontSize:16,backgroundColor:"rgba(0,0,0,0.9)",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2)",padding:"20px",boxSizing:"border-box","@media (max-width: 768px)":{maxWidth:"90%",width:"90%",left:"5%",right:"5%"},MuiSvgIcon:{root:{height:"7em",width:"auto",color:"#000000"}}},anchorOriginTopCenter:{top:"10%"},anchorOriginBottomCenter:{bottom:"60px",left:"50%",transform:"translate(-50%, 20px)"},anchorOriginTopLeft:{left:"0px",top:"24px",width:"52%",maxWidth:"80%","@media (max-width: 768px)":{width:"90%"},"@media (min-width: 600px)":{left:"0px"}}},MuiSnackbarContent:{root:{color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, 0.9)",minWidth:"0px","@media (min-width: 600px)":{minWidth:"0px"}}},MuiDrawer:{paper:{padding:"20px",backgroundColor:"rgba(0,0,0,0.85)"},paperAnchorRight:{width:"25%","@media (max-width: 1280px)":{width:"33%"},"@media (max-width: 1024px)":{width:"40%"},"@media (orientation: portrait)":{width:"100vw"}}},MuiCard:{root:{overflow:"visible"}},MuiCardMedia:{media:{"&:hover":{backgroundColor:"#A8A8FF"}}},MuiList:{root:{background:"rgba(206,206,206,0.1)",color:"#FFFFFF"}},MuiListItem:{root:{padding:"0px",paddingTop:"0px",margin:"2px 0"}},MuiListItemText:{root:{background:"rgba(0, 0, 0, .5)",borderRadius:"5px",padding:"5px 10px",width:"fit-content",flex:"inherit",wordBreak:"break-all"}},MuiCardContent:{root:{margin:"5px 0",padding:"5px 20px","&:last-child":{paddingBottom:"0px"}}},MuiCardHeader:{root:{padding:"0 15px 5px 15px"},avatar:{borderRadius:"50%",overflow:"hidden",height:"40px",width:"40px"}},MuiPaper:{root:{backgroundColor:"transparent",color:"#000000"}},MuiInputBase:{input:{color:"#000000"}},MuiFormLabel:{root:{color:"#000000"}},MuiButton:{root:{width:"220px",margin:"10px auto",cursor:"pointer",fontSize:16,borderRadius:"10px",textTransform:"none"},outlined:{background:"transparent"},outlinedPrimary:{"&:hover":{boxShadow:"0 0 10px #5151FF"}},outlinedSecondary:{"&:hover":{boxShadow:"0 0 10px #FFFFFF"}},containedSecondary:{backgroundColor:"#FFFFFF","&:hover":{backgroundColor:"#FFFFFF"}},containedPrimary:{backgroundColor:"#000000"},text:{background:"transparent",color:"#000000"}},MuiSvgIcon:{colorPrimary:{color:"#A8A8FF"}},MuiFab:{root:{height:"3em",width:"fit-content",padding:"10px",margin:"0px 5px",display:"flex",alignItems:"center",textTransform:"capitalize",backgroundColor:"#F4F4F5",color:"#8E8E93"},primary:{backgroundColor:"rgba(0,0,0,0.8)",borderRadius:"8px"}},MuiFormGroup:{root:{display:"flex",flexWrap:"wrap",flexDirection:"row"}},MuiOutlinedInput:{root:{color:"#000000",margin:"10px 0"},adornedEnd:{paddingRight:"0px"}},MuiBadge:{anchorOriginTopLeftRectangle:{left:"6px"},dot:{height:"12px",width:"12px",borderRadius:"50%"},colorPrimary:{backgroundColor:"#7AFF64"}}}});function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function la(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var py={disabled:!1},hy=R.createContext(null),As="unmounted",fa="exited",da="entering",so="entered",eh="exiting",Xr=function(e){ur(t,e);function t(r,a){var s;s=e.call(this,r,a)||this;var u=a,l=u&&!u.isMounting?r.enter:r.appear,f;return s.appearStatus=null,r.in?l?(f=fa,s.appearStatus=da):f=so:r.unmountOnExit||r.mountOnEnter?f=As:f=fa,s.state={status:f},s.nextCallback=null,s}t.getDerivedStateFromProps=function(a,s){var u=a.in;return u&&s.status===As?{status:fa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var s=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==da&&u!==so&&(s=da):(u===da||u===so)&&(s=eh)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,s,u,l;return s=u=l=a,a!=null&&typeof a!="number"&&(s=a.exit,u=a.enter,l=a.appear!==void 0?a.appear:u),{exit:s,enter:u,appear:l}},n.updateStatus=function(a,s){a===void 0&&(a=!1),s!==null?(this.cancelNextCallback(),s===da?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===fa&&this.setState({status:As})},n.performEnter=function(a){var s=this,u=this.props.enter,l=this.context?this.context.isMounting:a,f=this.props.nodeRef?[l]:[rd.findDOMNode(this),l],d=f[0],h=f[1],_=this.getTimeouts(),v=l?_.appear:_.enter;if(!a&&!u||py.disabled){this.safeSetState({status:so},function(){s.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:da},function(){s.props.onEntering(d,h),s.onTransitionEnd(v,function(){s.safeSetState({status:so},function(){s.props.onEntered(d,h)})})})},n.performExit=function(){var a=this,s=this.props.exit,u=this.getTimeouts(),l=this.props.nodeRef?void 0:rd.findDOMNode(this);if(!s||py.disabled){this.safeSetState({status:fa},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:eh},function(){a.props.onExiting(l),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:fa},function(){a.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,s){s=this.setNextCallback(s),this.setState(a,s)},n.setNextCallback=function(a){var s=this,u=!0;return this.nextCallback=function(l){u&&(u=!1,s.nextCallback=null,a(l))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,s){this.setNextCallback(s);var u=this.props.nodeRef?this.props.nodeRef.current:rd.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!u||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=f[0],h=f[1];this.props.addEndListener(d,h)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===As)return null;var s=this.props,u=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=Na(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return R.createElement(hy.Provider,{value:null},typeof u=="function"?u(a,l):R.cloneElement(R.Children.only(u),l))},t}(R.Component);Xr.contextType=hy;Xr.propTypes={};function uo(){}Xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uo,onEntering:uo,onEntered:uo,onExit:uo,onExiting:uo,onExited:uo};Xr.UNMOUNTED=As;Xr.EXITED=fa;Xr.ENTERING=da;Xr.ENTERED=so;Xr.EXITING=eh;var my=Xr;function th(){return th=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(this,arguments)}function $c(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function Kr(e,t,n={clone:!0}){const r=n.clone?th({},e):e;return $c(e)&&$c(t)&&Object.keys(t).forEach(a=>{a!=="__proto__"&&($c(t[a])&&a in e&&$c(e[a])?r[a]=Kr(e[a],t[a],n):r[a]=t[a])}),r}function Os(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Pi(e){if(typeof e!="string")throw new Error(Os(7));return e.charAt(0).toUpperCase()+e.slice(1)}function CP(e,t=166){let n;function r(...a){const s=()=>{e.apply(this,a)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function Vc(e){return e&&e.ownerDocument||document}function _y(e){return Vc(e).defaultView||window}function gy(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const PP=typeof window!="undefined"?oe.exports.useLayoutEffect:oe.exports.useEffect;var NP=PP;function MP(e){const t=oe.exports.useRef(e);return NP(()=>{t.current=e}),oe.exports.useCallback((...n)=>(0,t.current)(...n),[])}function Yc(e,t){return oe.exports.useMemo(()=>e==null&&t==null?null:n=>{gy(e,n),gy(t,n)},[e,t])}function vy(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var LP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,UP=vy(function(e){return LP.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function FP(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function GP(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var zP=function(){function e(n){var r=this;this._insertTag=function(a){var s;r.tags.length===0?s=r.prepend?r.container.firstChild:r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,s),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(GP(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=FP(a);try{s.insertRule(r,s.cssRules.length)}catch(u){}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),nn="-ms-",jc="-moz-",Xe="-webkit-",yy="comm",nh="rule",rh="decl",HP="@import",$P="@keyframes",VP=Math.abs,Wc=String.fromCharCode;function YP(e,t){return(((t<<2^bn(e,0))<<2^bn(e,1))<<2^bn(e,2))<<2^bn(e,3)}function Ey(e){return e.trim()}function jP(e,t){return(e=t.exec(e))?e[0]:e}function Qe(e,t,n){return e.replace(t,n)}function Sy(e,t){return e.indexOf(t)}function bn(e,t){return e.charCodeAt(t)|0}function Is(e,t,n){return e.slice(t,n)}function Rr(e){return e.length}function ih(e){return e.length}function Bc(e,t){return t.push(e),e}function WP(e,t){return e.map(t).join("")}var Xc=1,co=1,by=0,Ln=0,Mt=0,lo="";function Kc(e,t,n,r,a,s,u){return{value:e,root:t,parent:n,type:r,props:a,children:s,line:Xc,column:co,length:u,return:""}}function Rs(e,t,n){return Kc(e,t.root,t.parent,n,t.props,t.children,0)}function BP(){return Mt}function XP(){return Mt=Ln>0?bn(lo,--Ln):0,co--,Mt===10&&(co=1,Xc--),Mt}function Qn(){return Mt=Ln<by?bn(lo,Ln++):0,co++,Mt===10&&(co=1,Xc++),Mt}function qr(){return bn(lo,Ln)}function qc(){return Ln}function Jc(e,t){return Is(lo,e,t)}function Zc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ty(e){return Xc=co=1,by=Rr(lo=e),Ln=0,[]}function wy(e){return lo="",e}function ah(e){return Ey(Jc(Ln-1,oh(e===91?e+2:e===40?e+1:e)))}function KP(e){for(;(Mt=qr())&&Mt<33;)Qn();return Zc(e)>2||Zc(Mt)>3?"":" "}function qP(e,t){for(;--t&&Qn()&&!(Mt<48||Mt>102||Mt>57&&Mt<65||Mt>70&&Mt<97););return Jc(e,qc()+(t<6&&qr()==32&&Qn()==32))}function oh(e){for(;Qn();)switch(Mt){case e:return Ln;case 34:case 39:return oh(e===34||e===39?e:Mt);case 40:e===41&&oh(e);break;case 92:Qn();break}return Ln}function JP(e,t){for(;Qn()&&e+Mt!==47+10;)if(e+Mt===42+42&&qr()===47)break;return"/*"+Jc(t,Ln-1)+"*"+Wc(e===47?e:Qn())}function Ay(e){for(;!Zc(qr());)Qn();return Jc(e,Ln)}function ZP(e){return wy(Qc("",null,null,null,[""],e=Ty(e),0,[0],e))}function Qc(e,t,n,r,a,s,u,l,f){for(var d=0,h=0,_=u,v=0,S=0,T=0,E=1,A=1,k=1,N=0,W="",Z=a,B=s,ne=r,z=W;A;)switch(T=N,N=Qn()){case 34:case 39:case 91:case 40:z+=ah(N);break;case 9:case 10:case 13:case 32:z+=KP(T);break;case 92:z+=qP(qc()-1,7);continue;case 47:switch(qr()){case 42:case 47:Bc(QP(JP(Qn(),qc()),t,n),f);break;default:z+="/"}break;case 123*E:l[d++]=Rr(z)*k;case 125*E:case 59:case 0:switch(N){case 0:case 125:A=0;case 59+h:S>0&&Rr(z)-_&&Bc(S>32?Iy(z+";",r,n,_-1):Iy(Qe(z," ","")+";",r,n,_-2),f);break;case 59:z+=";";default:if(Bc(ne=Oy(z,t,n,d,h,a,l,W,Z=[],B=[],_),s),N===123)if(h===0)Qc(z,t,ne,ne,Z,s,_,l,B);else switch(v){case 100:case 109:case 115:Qc(e,ne,ne,r&&Bc(Oy(e,ne,ne,0,0,a,l,W,a,Z=[],_),B),a,B,_,l,r?Z:B);break;default:Qc(z,ne,ne,ne,[""],B,_,l,B)}}d=h=S=0,E=k=1,W=z="",_=u;break;case 58:_=1+Rr(z),S=T;default:if(E<1){if(N==123)--E;else if(N==125&&E++==0&&XP()==125)continue}switch(z+=Wc(N),N*E){case 38:k=h>0?1:(z+="\f",-1);break;case 44:l[d++]=(Rr(z)-1)*k,k=1;break;case 64:qr()===45&&(z+=ah(Qn())),v=qr(),h=Rr(W=z+=Ay(qc())),N++;break;case 45:T===45&&Rr(z)==2&&(E=0)}}return s}function Oy(e,t,n,r,a,s,u,l,f,d,h){for(var _=a-1,v=a===0?s:[""],S=ih(v),T=0,E=0,A=0;T<r;++T)for(var k=0,N=Is(e,_+1,_=VP(E=u[T])),W=e;k<S;++k)(W=Ey(E>0?v[k]+" "+N:Qe(N,/&\f/g,v[k])))&&(f[A++]=W);return Kc(e,t,n,a===0?nh:l,f,d,h)}function QP(e,t,n){return Kc(e,t,n,yy,Wc(BP()),Is(e,2,-2),0)}function Iy(e,t,n,r){return Kc(e,t,n,rh,Is(e,0,r),Is(e,r+1,-1),r)}function Ry(e,t){switch(YP(e,t)){case 5103:return Xe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+e+jc+e+nn+e+e;case 6828:case 4268:return Xe+e+nn+e+e;case 6165:return Xe+e+nn+"flex-"+e+e;case 5187:return Xe+e+Qe(e,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+nn+"flex-$1$2")+e;case 5443:return Xe+e+nn+"flex-item-"+Qe(e,/flex-|-self/,"")+e;case 4675:return Xe+e+nn+"flex-line-pack"+Qe(e,/align-content|flex-|-self/,"")+e;case 5548:return Xe+e+nn+Qe(e,"shrink","negative")+e;case 5292:return Xe+e+nn+Qe(e,"basis","preferred-size")+e;case 6060:return Xe+"box-"+Qe(e,"-grow","")+Xe+e+nn+Qe(e,"grow","positive")+e;case 4554:return Xe+Qe(e,/([^-])(transform)/g,"$1"+Xe+"$2")+e;case 6187:return Qe(Qe(Qe(e,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),e,"")+e;case 5495:case 3959:return Qe(e,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Qe(Qe(e,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+e+e;case 4095:case 3583:case 4068:case 2532:return Qe(e,/(.+)-inline(.+)/,Xe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rr(e)-1-t>6)switch(bn(e,t+1)){case 109:if(bn(e,t+4)!==45)break;case 102:return Qe(e,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+jc+(bn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Sy(e,"stretch")?Ry(Qe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(bn(e,t+1)!==115)break;case 6444:switch(bn(e,Rr(e)-3-(~Sy(e,"!important")&&10))){case 107:return Qe(e,":",":"+Xe)+e;case 101:return Qe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(bn(e,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+nn+"$2box$3")+e}break;case 5936:switch(bn(e,t+11)){case 114:return Xe+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xe+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xe+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Xe+e+nn+e+e}return e}function Ds(e,t){for(var n="",r=ih(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function eN(e,t,n,r){switch(e.type){case HP:case rh:return e.return=e.return||e.value;case yy:return"";case nh:e.value=e.props.join(",")}return Rr(n=Ds(e.children,r))?e.return=e.value+"{"+n+"}":""}function tN(e){var t=ih(e);return function(n,r,a,s){for(var u="",l=0;l<t;l++)u+=e[l](n,r,a,s)||"";return u}}function nN(e){return function(t){t.root||(t=t.return)&&e(t)}}function rN(e,t,n,r){if(!e.return)switch(e.type){case rh:e.return=Ry(e.value,e.length);break;case $P:return Ds([Rs(Qe(e.value,"@","@"+Xe),e,"")],r);case nh:if(e.length)return WP(e.props,function(a){switch(jP(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ds([Rs(Qe(a,/:(read-\w+)/,":"+jc+"$1"),e,"")],r);case"::placeholder":return Ds([Rs(Qe(a,/:(plac\w+)/,":"+Xe+"input-$1"),e,""),Rs(Qe(a,/:(plac\w+)/,":"+jc+"$1"),e,""),Rs(Qe(a,/:(plac\w+)/,nn+"input-$1"),e,"")],r)}return""})}}var iN=function(t,n){var r=-1,a=44;do switch(Zc(a)){case 0:a===38&&qr()===12&&(n[r]=1),t[r]+=Ay(Ln-1);break;case 2:t[r]+=ah(a);break;case 4:if(a===44){t[++r]=qr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Wc(a)}while(a=Qn());return t},aN=function(t,n){return wy(iN(Ty(t),n))},Dy=new WeakMap,oN=function(t){if(!(t.type!=="rule"||!t.parent||!t.length)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Dy.get(r))&&!a){Dy.set(t,!0);for(var s=[],u=aN(n,s),l=r.props,f=0,d=0;f<u.length;f++)for(var h=0;h<l.length;h++,d++)t.props[d]=s[f]?u[f].replace(/&\f/g,l[h]):l[h]+" "+u[f]}}},sN=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}},uN=[rN],cN=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var A=E.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var a=t.stylisPlugins||uN,s={},u,l=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var A=E.getAttribute("data-emotion").split(" "),k=1;k<A.length;k++)s[A[k]]=!0;l.push(E)});var f,d=[oN,sN];{var h,_=[eN,nN(function(E){h.insert(E)})],v=tN(d.concat(a,_)),S=function(A){return Ds(ZP(A),v)};f=function(A,k,N,W){h=N,S(A?A+"{"+k.styles+"}":k.styles),W&&(T.inserted[k.name]=!0)}}var T={key:n,sheet:new zP({key:n,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:s,registered:{},insert:f};return T.sheet.hydrate(l),T},lN=!0;function ky(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):r+=a+" "}),r}var xy=function(t,n,r){var a=t.key+"-"+n.name;if((r===!1||lN===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles),t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function fN(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dN=/[A-Z]|^ms/g,pN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cy=function(t){return t.charCodeAt(1)===45},Py=function(t){return t!=null&&typeof t!="boolean"},sh=vy(function(e){return Cy(e)?e:e.replace(dN,"-$&").toLowerCase()}),Ny=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(pN,function(r,a,s){return Dr={name:a,styles:s,next:Dr},a})}return Kg[t]!==1&&!Cy(t)&&typeof n=="number"&&n!==0?n+"px":n};function ks(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Dr={name:n.name,styles:n.styles,next:Dr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Dr={name:r.name,styles:r.styles,next:Dr},r=r.next;var a=n.styles+";";return a}return hN(e,t,n)}case"function":{if(e!==void 0){var s=Dr,u=n(e);return Dr=s,ks(e,t,u)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function hN(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=ks(e,t,n[a])+";";else for(var s in n){var u=n[s];if(typeof u!="object")t!=null&&t[u]!==void 0?r+=s+"{"+t[u]+"}":Py(u)&&(r+=sh(s)+":"+Ny(s,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var l=0;l<u.length;l++)Py(u[l])&&(r+=sh(s)+":"+Ny(s,u[l])+";");else{var f=ks(e,t,u);switch(s){case"animation":case"animationName":{r+=sh(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var My=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Dr,Ly=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,s="";Dr=void 0;var u=t[0];u==null||u.raw===void 0?(a=!1,s+=ks(r,n,u)):s+=u[0];for(var l=1;l<t.length;l++)s+=ks(r,n,t[l]),a&&(s+=u[l]);My.lastIndex=0;for(var f="",d;(d=My.exec(s))!==null;)f+="-"+d[1];var h=fN(s)+f;return{name:h,styles:s,next:Dr}},Uy=Object.prototype.hasOwnProperty,Fy=oe.exports.createContext(typeof HTMLElement!="undefined"?cN({key:"css"}):null);Fy.Provider;var Gy=function(t){return oe.exports.forwardRef(function(n,r){var a=oe.exports.useContext(Fy);return t(n,a,r)})},zy=oe.exports.createContext({}),uh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Rz=function(t,n){var r={};for(var a in n)Uy.call(n,a)&&(r[a]=n[a]);return r[uh]=t,r},Dz=Gy(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=e[uh],s=[r],u="";typeof e.className=="string"?u=ky(t.registered,s,e.className):e.className!=null&&(u=e.className+" ");var l=Ly(s,void 0,oe.exports.useContext(zy));xy(t,l,typeof a=="string"),u+=t.key+"-"+l.name;var f={};for(var d in e)Uy.call(e,d)&&d!=="css"&&d!==uh&&(f[d]=e[d]);f.ref=n,f.className=u;var h=oe.exports.createElement(a,f);return h}),mN=UP,_N=function(t){return t!=="theme"},Hy=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?mN:_N},$y=function(t,n,r){var a;if(n){var s=n.shouldForwardProp;a=t.__emotion_forwardProp&&s?function(u){return t.__emotion_forwardProp(u)&&s(u)}:s}return typeof a!="function"&&r&&(a=t.__emotion_forwardProp),a},gN=function e(t,n){var r=t.__emotion_real===t,a=r&&t.__emotion_base||t,s,u;n!==void 0&&(s=n.label,u=n.target);var l=$y(t,n,r),f=l||Hy(a),d=!f("as");return function(){var h=arguments,_=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&_.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)_.push.apply(_,h);else{_.push(h[0][0]);for(var v=h.length,S=1;S<v;S++)_.push(h[S],h[0][S])}var T=Gy(function(E,A,k){var N=d&&E.as||a,W="",Z=[],B=E;if(E.theme==null){B={};for(var ne in E)B[ne]=E[ne];B.theme=oe.exports.useContext(zy)}typeof E.className=="string"?W=ky(A.registered,Z,E.className):E.className!=null&&(W=E.className+" ");var z=Ly(_.concat(Z),A.registered,B);xy(A,z,typeof N=="string"),W+=A.key+"-"+z.name,u!==void 0&&(W+=" "+u);var Y=d&&l===void 0?Hy(N):f,ae={};for(var ee in E)d&&ee==="as"||Y(ee)&&(ae[ee]=E[ee]);ae.className=W,ae.ref=k;var me=oe.exports.createElement(N,ae);return me});return T.displayName=s!==void 0?s:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",T.defaultProps=t.defaultProps,T.__emotion_real=T,T.__emotion_base=a,T.__emotion_styles=_,T.__emotion_forwardProp=l,Object.defineProperty(T,"toString",{value:function(){return"."+u}}),T.withComponent=function(E,A){return e(E,rt({},n,A,{shouldForwardProp:$y(T,A,!0)})).apply(void 0,_)},T}},vN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ch=gN.bind();vN.forEach(function(e){ch[e]=ch(e)});var yN=ch,Jr={exports:{}},xs={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=oe.exports,Vy=60103;xs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Yy=Symbol.for;Vy=Yy("react.element"),xs.Fragment=Yy("react.fragment")}var SN=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bN=Object.prototype.hasOwnProperty,TN={key:!0,ref:!0,__self:!0,__source:!0};function jy(e,t,n){var r,a={},s=null,u=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)bN.call(t,r)&&!TN.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Vy,type:e,key:s,ref:u,props:a,_owner:SN.current}}xs.jsx=jy;xs.jsxs=jy;Jr.exports=xs;/** @license MUI v5.0.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function wN(e,t){return yN(e,t)}function kr(){return kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}function Cs(e,t){return t?Kr(e,t,{clone:!1}):e}const lh={xs:0,sm:600,md:900,lg:1200,xl:1536},Wy={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${lh[e]}px)`};function Ni(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||Wy;return t.reduce((u,l,f)=>(u[s.up(s.keys[f])]=n(t[f]),u),{})}if(typeof t=="object"){const s=r.breakpoints||Wy;return Object.keys(t).reduce((u,l)=>{if(Object.keys(s.values||lh).indexOf(l)!==-1){const f=s.up(l);u[f]=n(t[l],l)}else{const f=l;u[f]=t[f]}return u},{})}return n(t)}function AN(e={}){var t;return(e==null||(t=e.keys)==null?void 0:t.reduce((r,a)=>{const s=e.up(a);return r[s]={},r},{}))||{}}function ON(e,t){return e.reduce((n,r)=>{const a=n[r];return Object.keys(a).length===0&&delete n[r],n},t)}function fh(e,t){return!t||typeof t!="string"?null:t.split(".").reduce((n,r)=>n&&n[r]?n[r]:null,e)}function By(e,t,n,r=n){let a;return typeof e=="function"?a=e(n):Array.isArray(e)?a=e[n]||r:a=fh(e,n)||r,t&&(a=t(a)),a}function de(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:a}=e,s=u=>{if(u[t]==null)return null;const l=u[t],f=u.theme,d=fh(f,r)||{};return Ni(u,l,_=>{let v=By(d,a,_);return _===v&&typeof _=="string"&&(v=By(d,a,`${t}${_==="default"?"":Pi(_)}`,_)),n===!1?v:{[n]:v}})};return s.propTypes={},s.filterProps=[t],s}function Mi(...e){const t=e.reduce((r,a)=>(a.filterProps.forEach(s=>{r[s]=a}),r),{}),n=r=>Object.keys(r).reduce((a,s)=>t[s]?Cs(a,t[s](r)):a,{});return n.propTypes={},n.filterProps=e.reduce((r,a)=>r.concat(a.filterProps),[]),n}function IN(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const RN={m:"margin",p:"padding"},DN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Xy={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kN=IN(e=>{if(e.length>2)if(Xy[e])e=Xy[e];else return[e];const[t,n]=e.split(""),r=RN[t],a=DN[n]||"";return Array.isArray(a)?a.map(s=>r+s):[r+a]}),xN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],CN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ky=[...xN,...CN];function Ps(e,t,n,r){const a=fh(e,t)||n;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function qy(e){return Ps(e,"spacing",8)}function Ns(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function PN(e,t){return n=>e.reduce((r,a)=>(r[a]=Ns(t,n),r),{})}function NN(e,t,n,r){if(t.indexOf(n)===-1)return null;const a=kN(n),s=PN(a,r),u=e[n];return Ni(e,u,s)}function MN(e,t){const n=qy(e.theme);return Object.keys(e).map(r=>NN(e,t,r,n)).reduce(Cs,{})}function el(e){return MN(e,Ky)}el.propTypes={};el.filterProps=Ky;function Ms(e){return typeof e!="number"?e:`${e}px solid`}const LN=de({prop:"border",themeKey:"borders",transform:Ms}),UN=de({prop:"borderTop",themeKey:"borders",transform:Ms}),FN=de({prop:"borderRight",themeKey:"borders",transform:Ms}),GN=de({prop:"borderBottom",themeKey:"borders",transform:Ms}),zN=de({prop:"borderLeft",themeKey:"borders",transform:Ms}),HN=de({prop:"borderColor",themeKey:"palette"}),$N=de({prop:"borderTopColor",themeKey:"palette"}),VN=de({prop:"borderRightColor",themeKey:"palette"}),YN=de({prop:"borderBottomColor",themeKey:"palette"}),jN=de({prop:"borderLeftColor",themeKey:"palette"}),dh=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ps(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ns(t,r)});return Ni(e,e.borderRadius,n)}return null};dh.propTypes={};dh.filterProps=["borderRadius"];const WN=Mi(LN,UN,FN,GN,zN,HN,$N,VN,YN,jN,dh);var Jy=WN;const BN=de({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),XN=de({prop:"display"}),KN=de({prop:"overflow"}),qN=de({prop:"textOverflow"}),JN=de({prop:"visibility"}),ZN=de({prop:"whiteSpace"});var Zy=Mi(BN,XN,KN,qN,JN,ZN);const QN=de({prop:"flexBasis"}),eM=de({prop:"flexDirection"}),tM=de({prop:"flexWrap"}),nM=de({prop:"justifyContent"}),rM=de({prop:"alignItems"}),iM=de({prop:"alignContent"}),aM=de({prop:"order"}),oM=de({prop:"flex"}),sM=de({prop:"flexGrow"}),uM=de({prop:"flexShrink"}),cM=de({prop:"alignSelf"}),lM=de({prop:"justifyItems"}),fM=de({prop:"justifySelf"}),dM=Mi(QN,eM,tM,nM,rM,iM,aM,oM,sM,uM,cM,lM,fM);var Qy=dM;const ph=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ps(e.theme,"spacing",8),n=r=>({gap:Ns(t,r)});return Ni(e,e.gap,n)}return null};ph.propTypes={};ph.filterProps=["gap"];const hh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ps(e.theme,"spacing",8),n=r=>({columnGap:Ns(t,r)});return Ni(e,e.columnGap,n)}return null};hh.propTypes={};hh.filterProps=["columnGap"];const mh=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ps(e.theme,"spacing",8),n=r=>({rowGap:Ns(t,r)});return Ni(e,e.rowGap,n)}return null};mh.propTypes={};mh.filterProps=["rowGap"];const pM=de({prop:"gridColumn"}),hM=de({prop:"gridRow"}),mM=de({prop:"gridAutoFlow"}),_M=de({prop:"gridAutoColumns"}),gM=de({prop:"gridAutoRows"}),vM=de({prop:"gridTemplateColumns"}),yM=de({prop:"gridTemplateRows"}),EM=de({prop:"gridTemplateAreas"}),SM=de({prop:"gridArea"}),bM=Mi(ph,hh,mh,pM,hM,mM,_M,gM,vM,yM,EM,SM);var eE=bM;const TM=de({prop:"color",themeKey:"palette"}),wM=de({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),AM=de({prop:"backgroundColor",themeKey:"palette"}),OM=Mi(TM,wM,AM);var tE=OM;const IM=de({prop:"position"}),RM=de({prop:"zIndex",themeKey:"zIndex"}),DM=de({prop:"top"}),kM=de({prop:"right"}),xM=de({prop:"bottom"}),CM=de({prop:"left"});var nE=Mi(IM,RM,DM,kM,xM,CM);const PM=de({prop:"boxShadow",themeKey:"shadows"});var rE=PM;function Li(e){return e<=1&&e!==0?`${e*100}%`:e}const NM=de({prop:"width",transform:Li}),iE=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,a,s;return{maxWidth:((r=e.theme)==null||(a=r.breakpoints)==null||(s=a.values)==null?void 0:s[n])||lh[n]||Li(n)}};return Ni(e,e.maxWidth,t)}return null};iE.filterProps=["maxWidth"];const MM=de({prop:"minWidth",transform:Li}),LM=de({prop:"height",transform:Li}),UM=de({prop:"maxHeight",transform:Li}),FM=de({prop:"minHeight",transform:Li});de({prop:"size",cssProperty:"width",transform:Li});de({prop:"size",cssProperty:"height",transform:Li});const GM=de({prop:"boxSizing"}),zM=Mi(NM,iE,MM,LM,UM,FM,GM);var aE=zM;const HM=de({prop:"fontFamily",themeKey:"typography"}),$M=de({prop:"fontSize",themeKey:"typography"}),VM=de({prop:"fontStyle",themeKey:"typography"}),YM=de({prop:"fontWeight",themeKey:"typography"}),jM=de({prop:"letterSpacing"}),WM=de({prop:"lineHeight"}),BM=de({prop:"textAlign"}),XM=de({prop:"typography",cssProperty:!1,themeKey:"typography"}),KM=Mi(XM,HM,$M,VM,YM,jM,WM,BM);var oE=KM;const sE={borders:Jy.filterProps,display:Zy.filterProps,flexbox:Qy.filterProps,grid:eE.filterProps,positions:nE.filterProps,palette:tE.filterProps,shadows:rE.filterProps,sizing:aE.filterProps,spacing:el.filterProps,typography:oE.filterProps},qM={borders:Jy,display:Zy,flexbox:Qy,grid:eE,positions:nE,palette:tE,shadows:rE,sizing:aE,spacing:el,typography:oE},uE=Object.keys(sE).reduce((e,t)=>(sE[t].forEach(n=>{e[n]=qM[t]}),e),{});function cE(e,t,n){const r={[e]:t,theme:n},a=uE[e];return a?a(r):{[e]:t}}function JM(...e){const t=e.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function ZM(e,t){return typeof e=="function"?e(t):e}function _h(e){const{sx:t,theme:n={}}=e||{};if(!t)return null;if(typeof t=="function")return t(n);if(typeof t!="object")return t;const r=AN(n.breakpoints),a=Object.keys(r);let s=r;return Object.keys(t).forEach(u=>{const l=ZM(t[u],n);if(typeof l=="object")if(uE[u])s=Cs(s,cE(u,l,n));else{const f=Ni({theme:n},l,d=>({[u]:d}));JM(f,l)?s[u]=_h({sx:l,theme:n}):s=Cs(s,f)}else s=Cs(s,cE(u,l,n))}),ON(a,s)}_h.filterProps=["sx"];function fo(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}const QM=["values","unit","step"];function eL(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,a=fo(e,QM),s=Object.keys(t);function u(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function f(h,_){const v=s.indexOf(_);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(v!==-1&&typeof t[s[v]]=="number"?t[s[v]]:_)-r/100}${n})`}function d(h){return s.indexOf(h)+1<s.length?f(h,s[s.indexOf(h)+1]):u(h)}return kr({keys:s,values:t,up:u,down:l,between:f,only:d,unit:n},a)}const tL={borderRadius:4};var nL=tL;function rL(e=8){if(e.mui)return e;const t=qy({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const u=t(s);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}const iL=["breakpoints","palette","spacing","shape"];function gh(e={},...t){const{breakpoints:n={},palette:r={},spacing:a,shape:s={}}=e,u=fo(e,iL),l=eL(n),f=rL(a);let d=Kr({breakpoints:l,direction:"ltr",components:{},palette:kr({mode:"light"},r),spacing:f,shape:kr({},nL,s)},u);return d=t.reduce((h,_)=>Kr(h,_),d),d}const aL=oe.exports.createContext(null);var oL=aL;function sL(){return oe.exports.useContext(oL)}function uL(e){return Object.keys(e).length===0}function cL(e=null){const t=sL();return!t||uL(t)?e:t}const lL=gh();function lE(e=lL){return cL(e)}const fL=["variant"];function fE(e){return e.length===0}function dE(e){const{variant:t}=e,n=fo(e,fL);let r=t||"";return Object.keys(n).sort().forEach(a=>{a==="color"?r+=fE(r)?e[a]:Pi(e[a]):r+=`${fE(r)?a:Pi(a)}${Pi(e[a].toString())}`}),r}const dL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],pL=["theme"],hL=["theme"];function Ls(e){return Object.keys(e).length===0}const mL=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,_L=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(a=>{const s=dE(a.props);r[s]=a.style}),r},gL=(e,t,n,r)=>{var a,s;const{ownerState:u={}}=e,l=[],f=n==null||(a=n.components)==null||(s=a[r])==null?void 0:s.variants;return f&&f.forEach(d=>{let h=!0;Object.keys(d.props).forEach(_=>{u[_]!==d.props[_]&&e[_]!==d.props[_]&&(h=!1)}),h&&l.push(t[dE(d.props)])}),l};function tl(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const vL=gh();function yL(e={}){const{defaultTheme:t=vL,rootShouldForwardProp:n=tl,slotShouldForwardProp:r=tl}=e;return(a,s={})=>{const{name:u,slot:l,skipVariantsResolver:f,skipSx:d,overridesResolver:h}=s,_=fo(s,dL),v=f!==void 0?f:l&&l!=="Root"||!1,S=d||!1;let T,E=tl;l==="Root"?E=n:l&&(E=r);const A=wN(a,kr({shouldForwardProp:E,label:T},_));return(N,...W)=>{const Z=W?W.map(Y=>typeof Y=="function"?ae=>{let{theme:ee}=ae,me=fo(ae,pL);return Y(kr({theme:Ls(ee)?t:ee},me))}:Y):[];let B=N;u&&h&&Z.push(Y=>{const ae=Ls(Y.theme)?t:Y.theme,ee=mL(u,ae);return ee?h(Y,ee):null}),u&&!v&&Z.push(Y=>{const ae=Ls(Y.theme)?t:Y.theme;return gL(Y,_L(u,ae),ae,u)}),S||Z.push(Y=>{const ae=Ls(Y.theme)?t:Y.theme;return _h(kr({},Y,{theme:ae}))});const ne=Z.length-W.length;if(Array.isArray(N)&&ne>0){const Y=new Array(ne).fill("");B=[...N,...Y],B.raw=[...N.raw,...Y]}else typeof N=="function"&&(B=Y=>{let{theme:ae}=Y,ee=fo(Y,hL);return N(kr({theme:Ls(ae)?t:ae},ee))});return A(B,...Z)}}}function EL(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;const a=kr({},r),s=t.components[n].defaultProps;let u;for(u in s)a[u]===void 0&&(a[u]=s[u]);return a}function SL({props:e,name:t,defaultTheme:n}){const r=lE(n);return EL({theme:r,name:t,props:e})}function pE(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function bL(e){e=e.substr(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function po(e){if(e.type)return e;if(e.charAt(0)==="#")return po(bL(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Os(9,e));let r=e.substring(t+1,e.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(Os(10,a))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:a}}function vh(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((a,s)=>s<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function TL(e){e=po(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),u=(d,h=(d+n/30)%12)=>a-s*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(l+="a",f.push(t[3])),vh({type:l,values:f})}function yh(e){e=po(e);let t=e.type==="hsl"?po(TL(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function wL(e,t){const n=yh(e),r=yh(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function hE(e,t){if(e=po(e),t=pE(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return vh(e)}function mE(e,t){if(e=po(e),t=pE(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return vh(e)}function AL(e,t=.15){return yh(e)>.5?hE(e,t):mE(e,t)}function _E(e,t,n){const r={};return Object.keys(e).forEach(a=>{r[a]=e[a].reduce((s,u)=>(u&&(n&&n[u]&&s.push(n[u]),s.push(t(u))),s),[]).join(" ")}),r}const OL={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Eh(e,t){return OL[t]||`${e}-${t}`}function gE(e,t){const n={};return t.forEach(r=>{n[r]=Eh(e,r)}),n}function IL(e,t,n){return Ze({toolbar:{minHeight:56,[`${e.up("xs")} and (orientation: landscape)`]:{minHeight:48},[e.up("sm")]:{minHeight:64}}},n)}const RL={black:"#000",white:"#fff"};var Us=RL;const DL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var kL=DL;const xL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var ho=xL;const CL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var mo=CL;const PL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Fs=PL;const NL={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var _o=NL;const ML={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var go=ML;const LL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var vo=LL;const UL=["mode","contrastThreshold","tonalOffset"],vE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Us.white,default:Us.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Sh={text:{primary:Us.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Us.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yE(e,t,n,r){const a=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=mE(e.main,a):t==="dark"&&(e.dark=hE(e.main,s)))}function FL(e="light"){return e==="dark"?{main:_o[200],light:_o[50],dark:_o[400]}:{main:_o[700],light:_o[400],dark:_o[800]}}function GL(e="light"){return e==="dark"?{main:ho[200],light:ho[50],dark:ho[400]}:{main:ho[500],light:ho[300],dark:ho[700]}}function zL(e="light"){return e==="dark"?{main:mo[500],light:mo[300],dark:mo[700]}:{main:mo[700],light:mo[400],dark:mo[800]}}function HL(e="light"){return e==="dark"?{main:go[400],light:go[300],dark:go[700]}:{main:go[700],light:go[500],dark:go[900]}}function $L(e="light"){return e==="dark"?{main:vo[400],light:vo[300],dark:vo[700]}:{main:vo[800],light:vo[500],dark:vo[900]}}function VL(e="light"){return e==="dark"?{main:Fs[400],light:Fs[300],dark:Fs[700]}:{main:"#ED6C02",light:Fs[500],dark:Fs[900]}}function YL(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,a=la(e,UL),s=e.primary||FL(t),u=e.secondary||GL(t),l=e.error||zL(t),f=e.info||HL(t),d=e.success||$L(t),h=e.warning||VL(t);function _(E){return wL(E,Sh.text.primary)>=n?Sh.text.primary:vE.text.primary}const v=({color:E,name:A,mainShade:k=500,lightShade:N=300,darkShade:W=700})=>{if(E=Ze({},E),!E.main&&E[k]&&(E.main=E[k]),!E.hasOwnProperty("main"))throw new Error(Os(11,A?` (${A})`:"",k));if(typeof E.main!="string")throw new Error(Os(12,A?` (${A})`:"",JSON.stringify(E.main)));return yE(E,"light",N,r),yE(E,"dark",W,r),E.contrastText||(E.contrastText=_(E.main)),E},S={dark:Sh,light:vE};return Kr(Ze({common:Us,mode:t,primary:v({color:s,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:kL,contrastThreshold:n,getContrastText:_,augmentColor:v,tonalOffset:r},S[t]),a)}const jL=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function WL(e){return Math.round(e*1e5)/1e5}const EE={textTransform:"uppercase"},SE='"Roboto", "Helvetica", "Arial", sans-serif';function BL(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=SE,fontSize:a=14,fontWeightLight:s=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:d=16,allVariants:h,pxToRem:_}=n,v=la(n,jL),S=a/14,T=_||(k=>`${k/d*S}rem`),E=(k,N,W,Z,B)=>Ze({fontFamily:r,fontWeight:k,fontSize:T(N),lineHeight:W},r===SE?{letterSpacing:`${WL(Z/N)}em`}:{},B,h),A={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(u,48,1.167,0),h4:E(u,34,1.235,.25),h5:E(u,24,1.334,0),h6:E(l,20,1.6,.15),subtitle1:E(u,16,1.75,.15),subtitle2:E(l,14,1.57,.1),body1:E(u,16,1.5,.15),body2:E(u,14,1.43,.15),button:E(l,14,1.75,.4,EE),caption:E(u,12,1.66,.4),overline:E(u,12,2.66,1,EE)};return Kr(Ze({htmlFontSize:d,pxToRem:T,fontFamily:r,fontSize:a,fontWeightLight:s,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:f},A),v,{clone:!1})}const XL=.2,KL=.14,qL=.12;function Tt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${XL})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${KL})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${qL})`].join(",")}const JL=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)];var ZL=JL;const QL=["duration","easing","delay"],bh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bE(e){return`${Math.round(e)}ms`}function e5(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function t5(e){const t=Ze({},bh,e.easing),n=Ze({},nl,e.duration);return Ze({getAutoHeightDuration:e5,create:(a=["all"],s={})=>{const{duration:u=n.standard,easing:l=t.easeInOut,delay:f=0}=s;return la(s,QL),(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof u=="string"?u:bE(u)} ${l} ${typeof f=="string"?f:bE(f)}`).join(",")}},e,{easing:t,duration:n})}const n5={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var r5=n5;const i5=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function a5(e={},...t){const{mixins:n={},palette:r={},transitions:a={},typography:s={}}=e,u=la(e,i5),l=YL(r),f=gh(e);let d=Kr(f,{mixins:IL(f.breakpoints,f.spacing,n),palette:l,shadows:ZL.slice(),typography:BL(l,s),transitions:t5(a),zIndex:Ze({},r5)});return d=Kr(d,u),d=t.reduce((h,_)=>Kr(h,_),d),d}const o5=a5();var Th=o5;function TE(){return lE(Th)}const s5=e=>e.scrollTop;function rl(e,t){var n,r;const{timeout:a,easing:s,style:u={}}=e;return{duration:(n=u.transitionDuration)!=null?n:typeof a=="number"?a:a[t.mode]||0,easing:(r=u.transitionTimingFunction)!=null?r:typeof s=="object"?s[t.mode]:s,delay:u.transitionDelay}}function wE({props:e,name:t}){return SL({props:e,name:t,defaultTheme:Th})}const u5=e=>tl(e)&&e!=="classes",c5=yL({defaultTheme:Th,rootShouldForwardProp:u5});var pa=c5;function l5(e){return Eh("MuiSvgIcon",e)}gE("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const f5=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],d5=e=>{const{color:t,fontSize:n,classes:r}=e,a={root:["root",t!=="inherit"&&`color${Pi(t)}`,`fontSize${Pi(n)}`]};return _E(a,l5,r)},p5=pa("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Pi(n.color)}`],t[`fontSize${Pi(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(35)}[t.fontSize],color:(n=(r=e.palette[t.color])==null?void 0:r.main)!=null?n:{action:e.palette.action.active,disabled:e.palette.action.disabled,inherit:void 0}[t.color]}}),AE=oe.exports.forwardRef(function(t,n){const r=wE({props:t,name:"MuiSvgIcon"}),{children:a,className:s,color:u="inherit",component:l="svg",fontSize:f="medium",htmlColor:d,titleAccess:h,viewBox:_="0 0 24 24"}=r,v=la(r,f5),S=Ze({},r,{color:u,component:l,fontSize:f,viewBox:_}),T=d5(S);return Jr.exports.jsxs(p5,Ze({as:l,className:Ci(T.root,s),ownerState:S,focusable:"false",viewBox:_,color:d,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},v,{children:[a,h?Jr.exports.jsx("title",{children:h}):null]}))});AE.muiName="SvgIcon";var il=AE;const h5=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function m5(e,t,n){const r=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),s=_y(t);let u;if(t.fakeTransform)u=t.fakeTransform;else{const d=s.getComputedStyle(t);u=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let l=0,f=0;if(u&&u!=="none"&&typeof u=="string"){const d=u.split("(")[1].split(")")[0].split(",");l=parseInt(d[4],10),f=parseInt(d[5],10)}return e==="left"?a?`translateX(${a.right+l-r.left}px)`:`translateX(${s.innerWidth+l-r.left}px)`:e==="right"?a?`translateX(-${r.right-a.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:e==="up"?a?`translateY(${a.bottom+f-r.top}px)`:`translateY(${s.innerHeight+f-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-f}px)`:`translateY(-${r.top+r.height-f}px)`}function _5(e){return typeof e=="function"?e():e}function al(e,t,n){const r=_5(n),a=m5(e,t,r);a&&(t.style.webkitTransform=a,t.style.transform=a)}const g5={enter:bh.easeOut,exit:bh.sharp},v5={enter:nl.enteringScreen,exit:nl.leavingScreen},y5=oe.exports.forwardRef(function(t,n){const{addEndListener:r,appear:a=!0,children:s,container:u,direction:l="down",easing:f=g5,in:d,onEnter:h,onEntered:_,onEntering:v,onExit:S,onExited:T,onExiting:E,style:A,timeout:k=v5,TransitionComponent:N=my}=t,W=la(t,h5),Z=TE(),B=oe.exports.useRef(null),ne=Yc(s.ref,B),z=Yc(ne,n),Y=M=>j=>{M&&(j===void 0?M(B.current):M(B.current,j))},ae=Y((M,j)=>{al(l,M,u),s5(M),h&&h(M,j)}),ee=Y((M,j)=>{const ie=rl({timeout:k,style:A,easing:f},{mode:"enter"});M.style.webkitTransition=Z.transitions.create("-webkit-transform",Ze({},ie)),M.style.transition=Z.transitions.create("transform",Ze({},ie)),M.style.webkitTransform="none",M.style.transform="none",v&&v(M,j)}),me=Y(_),ge=Y(E),$=Y(M=>{const j=rl({timeout:k,style:A,easing:f},{mode:"exit"});M.style.webkitTransition=Z.transitions.create("-webkit-transform",j),M.style.transition=Z.transitions.create("transform",j),al(l,M,u),S&&S(M)}),C=Y(M=>{M.style.webkitTransition="",M.style.transition="",T&&T(M)}),x=M=>{r&&r(B.current,M)},L=oe.exports.useCallback(()=>{B.current&&al(l,B.current,u)},[l,u]);return oe.exports.useEffect(()=>{if(d||l==="down"||l==="right")return;const M=CP(()=>{B.current&&al(l,B.current,u)}),j=_y(B.current);return j.addEventListener("resize",M),()=>{M.clear(),j.removeEventListener("resize",M)}},[l,d,u]),oe.exports.useEffect(()=>{d||L()},[d,L]),Jr.exports.jsx(N,Ze({nodeRef:B,onEnter:ae,onEntered:me,onEntering:ee,onExit:$,onExited:C,onExiting:ge,addEndListener:x,appear:a,in:d,timeout:k},W,{children:(M,j)=>oe.exports.cloneElement(s,Ze({ref:z,style:Ze({visibility:M==="exited"&&!d?"hidden":void 0},A,s.props.style)},j))}))});var E5=y5;function S5(e){return Eh("MuiCollapse",e)}gE("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const b5=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],T5=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return _E(r,S5,n)},w5=pa("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>Ze({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&Ze({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),A5=pa("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>Ze({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),O5=pa("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>Ze({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),OE=oe.exports.forwardRef(function(t,n){const r=wE({props:t,name:"MuiCollapse"}),{addEndListener:a,children:s,className:u,collapsedSize:l="0px",component:f,easing:d,in:h,onEnter:_,onEntered:v,onEntering:S,onExit:T,onExited:E,onExiting:A,orientation:k="vertical",style:N,timeout:W=nl.standard,TransitionComponent:Z=my}=r,B=la(r,b5),ne=Ze({},r,{orientation:k,collapsedSize:l}),z=T5(ne),Y=TE(),ae=oe.exports.useRef(),ee=oe.exports.useRef(null),me=oe.exports.useRef(),ge=typeof l=="number"?`${l}px`:l,$=k==="horizontal",C=$?"width":"height";oe.exports.useEffect(()=>()=>{clearTimeout(ae.current)},[]);const x=oe.exports.useRef(null),L=Yc(n,x),M=O=>ce=>{if(O){const K=x.current;ce===void 0?O(K):O(K,ce)}},j=()=>ee.current?ee.current[$?"clientWidth":"clientHeight"]:0,ie=M((O,ce)=>{ee.current&&$&&(ee.current.style.position="absolute"),O.style[C]=ge,_&&_(O,ce)}),X=M((O,ce)=>{const K=j();ee.current&&$&&(ee.current.style.position="");const{duration:Ie,easing:Re}=rl({style:N,timeout:W,easing:d},{mode:"enter"});if(W==="auto"){const Le=Y.transitions.getAutoHeightDuration(K);O.style.transitionDuration=`${Le}ms`,me.current=Le}else O.style.transitionDuration=typeof Ie=="string"?Ie:`${Ie}ms`;O.style[C]=`${K}px`,O.style.transitionTimingFunction=Re,S&&S(O,ce)}),re=M((O,ce)=>{O.style[C]="auto",v&&v(O,ce)}),U=M(O=>{O.style[C]=`${j()}px`,T&&T(O)}),G=M(E),J=M(O=>{const ce=j(),{duration:K,easing:Ie}=rl({style:N,timeout:W,easing:d},{mode:"exit"});if(W==="auto"){const Re=Y.transitions.getAutoHeightDuration(ce);O.style.transitionDuration=`${Re}ms`,me.current=Re}else O.style.transitionDuration=typeof K=="string"?K:`${K}ms`;O.style[C]=ge,O.style.transitionTimingFunction=Ie,A&&A(O)}),Q=O=>{W==="auto"&&(ae.current=setTimeout(O,me.current||0)),a&&a(x.current,O)};return Jr.exports.jsx(Z,Ze({in:h,onEnter:ie,onEntered:re,onEntering:X,onExit:U,onExited:G,onExiting:J,addEndListener:Q,nodeRef:x,timeout:W==="auto"?null:W},B,{children:(O,ce)=>Jr.exports.jsx(w5,Ze({as:f,className:Ci(z.root,u,{entered:z.entered,exited:!h&&ge==="0px"&&z.hidden}[O]),style:Ze({[$?"minWidth":"minHeight"]:ge},N),ownerState:Ze({},ne,{state:O}),ref:L},ce,{children:Jr.exports.jsx(A5,{ownerState:Ze({},ne,{state:O}),className:z.wrapper,ref:ee,children:Jr.exports.jsx(O5,{ownerState:Ze({},ne,{state:O}),className:z.wrapperInner,children:s})})}))}))});OE.muiSupportAuto=!0;var I5=OE;function IE(e){return e.substring(2).toLowerCase()}function R5(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function D5(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:s="onTouchEnd"}=e,u=oe.exports.useRef(!1),l=oe.exports.useRef(null),f=oe.exports.useRef(!1),d=oe.exports.useRef(!1);oe.exports.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const h=Yc(t.ref,l),_=MP(T=>{const E=d.current;d.current=!1;const A=Vc(l.current);if(!f.current||!l.current||"clientX"in T&&R5(T,A))return;if(u.current){u.current=!1;return}let k;T.composedPath?k=T.composedPath().indexOf(l.current)>-1:k=!A.documentElement.contains(T.target)||l.current.contains(T.target),!k&&(n||!E)&&a(T)}),v=T=>E=>{d.current=!0;const A=t.props[T];A&&A(E)},S={ref:h};return s!==!1&&(S[s]=v(s)),oe.exports.useEffect(()=>{if(s!==!1){const T=IE(s),E=Vc(l.current),A=()=>{u.current=!0};return E.addEventListener(T,_),E.addEventListener("touchmove",A),()=>{E.removeEventListener(T,_),E.removeEventListener("touchmove",A)}}},[_,s]),r!==!1&&(S[r]=v(r)),oe.exports.useEffect(()=>{if(r!==!1){const T=IE(r),E=Vc(l.current);return E.addEventListener(T,_),()=>{E.removeEventListener(T,_)}}},[_,r]),Jr.exports.jsx(oe.exports.Fragment,{children:oe.exports.cloneElement(t,S)})}function RE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k5(e,t,n){return t&&RE(e.prototype,t),n&&RE(e,n),e}function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(this,arguments)}function x5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ui(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function DE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kE=R.createContext(),C5={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}},Zr={view:{default:20,dense:4},snackbar:{default:6,dense:2}},ha={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:E5,transitionDuration:{enter:225,exit:195}},Gs=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},P5=function(t){return""+Gs(t.vertical)+Gs(t.horizontal)},N5=function(t){return Object.keys(t).filter(function(n){return!C5.container[n]}).reduce(function(n,r){var a;return _t({},n,(a={},a[r]=t[r],a))},{})},Fi={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},wh={toContainerAnchorOrigin:function(t){return"containerAnchorOrigin"+t},toAnchorOrigin:function(t){var n=t.vertical,r=t.horizontal;return"anchorOrigin"+Gs(n)+Gs(r)},toVariant:function(t){return"variant"+Gs(t)}},ol=function(t){return!!t||t===0},xE=function(t){return typeof t=="number"||t===null},M5=function(t,n,r){return function(a){return a==="autoHideDuration"?xE(t.autoHideDuration)?t.autoHideDuration:xE(n.autoHideDuration)?n.autoHideDuration:ha.autoHideDuration:t[a]||n[a]||r[a]}};function Ah(e,t,n){return e===void 0&&(e={}),t===void 0&&(t={}),n===void 0&&(n={}),_t({},n,{},t,{},e)}var L5="SnackbarContent",CE={root:L5+"-root"},U5=pa("div")(function(e){var t,n,r=e.theme;return n={},n["&."+CE.root]=(t={display:"flex",flexWrap:"wrap",flexGrow:1},t[r.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},t),n}),F5=oe.exports.forwardRef(function(e,t){var n=e.className,r=Ui(e,["className"]);return R.createElement(U5,Object.assign({ref:t,className:Ci(CE.root,n)},r))}),PE={right:"left",left:"right",bottom:"up",top:"down"},G5=function(t){return t.horizontal!=="center"?PE[t.horizontal]:PE[t.vertical]},z5=function(t){return R.createElement(il,Object.assign({},t),R.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},H5=function(t){return R.createElement(il,Object.assign({},t),R.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},$5=function(t){return R.createElement(il,Object.assign({},t),R.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},V5=function(t){return R.createElement(il,Object.assign({},t),R.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},sl={fontSize:20,marginInlineEnd:8},Y5={default:void 0,success:R.createElement(z5,{style:sl}),warning:R.createElement(H5,{style:sl}),error:R.createElement($5,{style:sl}),info:R.createElement(V5,{style:sl})};function zs(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var f=[].concat(u);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},function(){})}var j5=typeof window!="undefined"?oe.exports.useLayoutEffect:oe.exports.useEffect;function NE(e){var t=oe.exports.useRef(e);return j5(function(){t.current=e}),oe.exports.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var W5=oe.exports.forwardRef(function(e,t){var n=e.children,r=e.autoHideDuration,a=e.ClickAwayListenerProps,s=e.disableWindowBlurListener,u=s===void 0?!1:s,l=e.onClose,f=e.onMouseEnter,d=e.onMouseLeave,h=e.open,_=e.resumeHideDuration,v=Ui(e,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),S=oe.exports.useRef(),T=NE(function(){l&&l.apply(void 0,arguments)}),E=NE(function(B){!l||B==null||(clearTimeout(S.current),S.current=setTimeout(function(){T(null,Fi.TIMEOUT)},B))});oe.exports.useEffect(function(){return h&&E(r),function(){clearTimeout(S.current)}},[h,r,E]);var A=function(){clearTimeout(S.current)},k=oe.exports.useCallback(function(){r!=null&&E(_??r*.5)},[r,_,E]),N=function(ne){f&&f(ne),A()},W=function(ne){d&&d(ne),k()},Z=function(ne){l&&l(ne,Fi.CLICKAWAY)};return oe.exports.useEffect(function(){if(!u&&h)return window.addEventListener("focus",k),window.addEventListener("blur",A),function(){window.removeEventListener("focus",k),window.removeEventListener("blur",A)}},[u,k,h]),oe.exports.createElement(D5,_t({onClickAway:Z},a),oe.exports.createElement("div",_t({onMouseEnter:N,onMouseLeave:W,ref:t},v),n))}),Qr="SnackbarItem",mn={contentRoot:Qr+"-contentRoot",lessPadding:Qr+"-lessPadding",variantSuccess:Qr+"-variantSuccess",variantError:Qr+"-variantError",variantInfo:Qr+"-variantInfo",variantWarning:Qr+"-variantWarning",message:Qr+"-message",action:Qr+"-action",wrappedRoot:Qr+"-wrappedRoot"},B5=pa(W5)(function(e){var t,n=e.theme,r=n.palette.mode||n.palette.type,a=AL(n.palette.background.default,r==="light"?.8:.98);return t={},t["&."+mn.wrappedRoot]={position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},t["."+mn.contentRoot]=_t({},n.typography.body2,{backgroundColor:a,color:n.palette.getContrastText(a),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),t["."+mn.lessPadding]={paddingLeft:8*2.5},t["."+mn.variantSuccess]={backgroundColor:"#43a047",color:"#fff"},t["."+mn.variantError]={backgroundColor:"#d32f2f",color:"#fff"},t["."+mn.variantInfo]={backgroundColor:"#2196f3",color:"#fff"},t["."+mn.variantWarning]={backgroundColor:"#ff9800",color:"#fff"},t["."+mn.message]={display:"flex",alignItems:"center",padding:"8px 0"},t["."+mn.action]={display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},t}),X5=function(t){var n=t.classes,r=Ui(t,["classes"]),a=oe.exports.useRef(),s=oe.exports.useState(!0),u=s[0],l=s[1];oe.exports.useEffect(function(){return function(){a.current&&clearTimeout(a.current)}},[]);var f=zs([r.snack.onClose,r.onClose],r.snack.key),d=function(){r.snack.requestClose&&f(null,Fi.INSTRCUTED)},h=function(){a.current=setTimeout(function(){l(!u)},125)},_=r.style,v=r.ariaAttributes,S=r.className,T=r.hideIconVariant,E=r.iconVariant,A=r.snack,k=r.action,N=r.content,W=r.TransitionComponent,Z=r.TransitionProps,B=r.transitionDuration,ne=Ui(r,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),z=A.key,Y=A.open,ae=A.className,ee=A.variant,me=A.content,ge=A.action,$=A.ariaAttributes,C=A.anchorOrigin,x=A.message,L=A.TransitionComponent,M=A.TransitionProps,j=A.transitionDuration,ie=Ui(A,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),X=_t({},Y5,{},E)[ee],re=_t({"aria-describedby":"notistack-snackbar"},Ah($,v)),U=L||W||ha.TransitionComponent,G=Ah(j,B,ha.transitionDuration),J=_t({direction:G5(C)},Ah(M,Z)),Q=ge||k;typeof Q=="function"&&(Q=Q(z));var O=me||N;typeof O=="function"&&(O=O(z,A.message));var ce=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce(function(K,Ie){var Re;return _t({},K,(Re={},Re[Ie]=zs([r.snack[Ie],r[Ie]],r.snack.key),Re))},{});return R.createElement(I5,{unmountOnExit:!0,timeout:175,in:u,onExited:ce.onExited},R.createElement(B5,Object.assign({},ne,ie,{open:Y,className:Ci(n.root,mn.wrappedRoot,n[wh.toAnchorOrigin(C)]),onClose:f}),R.createElement(U,Object.assign({appear:!0,in:Y,timeout:G},J,{onExit:ce.onExit,onExiting:ce.onExiting,onExited:h,onEnter:ce.onEnter,onEntering:ce.onEntering,onEntered:zs([ce.onEntered,d])}),O||R.createElement(F5,Object.assign({},re,{role:"alert",style:_,className:Ci(mn.contentRoot,mn[wh.toVariant(ee)],S,ae,!T&&X&&mn.lessPadding)}),R.createElement("div",{id:re["aria-describedby"],className:mn.message},T?null:X,x),Q&&R.createElement("div",{className:mn.action},Q)))))},Oh={container:"& > .MuiCollapse-container, & > .MuiCollapse-root",wrapper:"& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper"},Ih=16,ma="SnackbarContainer",hr={root:ma+"-root",rootDense:ma+"-rootDense",top:ma+"-top",bottom:ma+"-bottom",left:ma+"-left",right:ma+"-right",center:ma+"-center"},K5=pa("div")(function(e){var t,n,r,a,s,u,l=e.theme;return u={},u["&."+hr.root]=(t={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:l.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"},t[Oh.container]={pointerEvents:"all"},t[Oh.wrapper]={padding:Zr.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - "+Zr.view.default*2+"px)",t[l.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - "+Ih*2+"px)"},t),u["&."+hr.rootDense]=(n={},n[Oh.wrapper]={padding:Zr.snackbar.dense+"px 0px"},n),u["&."+hr.top]={top:Zr.view.default-Zr.snackbar.default,flexDirection:"column"},u["&."+hr.bottom]={bottom:Zr.view.default-Zr.snackbar.default,flexDirection:"column-reverse"},u["&."+hr.left]=(r={left:Zr.view.default},r[l.breakpoints.up("sm")]={alignItems:"flex-start"},r[l.breakpoints.down("sm")]={left:Ih+"px"},r),u["&."+hr.right]=(a={right:Zr.view.default},a[l.breakpoints.up("sm")]={alignItems:"flex-end"},a[l.breakpoints.down("sm")]={right:Ih+"px"},a),u["&."+hr.center]=(s={left:"50%",transform:"translateX(-50%)"},s[l.breakpoints.up("sm")]={alignItems:"center"},s),u}),q5=function(t){var n=t.className,r=t.anchorOrigin,a=t.dense,s=Ui(t,["className","anchorOrigin","dense"]),u=Ci(hr[r.vertical],hr[r.horizontal],hr.root,n,a&&hr.rootDense);return R.createElement(K5,Object.assign({className:u},s))},J5=R.memo(q5),Z5=function(e){x5(t,e);function t(r){var a;return a=e.call(this,r)||this,a.enqueueSnackbar=function(s,u){u===void 0&&(u={});var l=u,f=l.key,d=l.preventDuplicate,h=Ui(l,["key","preventDuplicate"]),_=ol(f),v=_?f:new Date().getTime()+Math.random(),S=M5(h,a.props,ha),T=_t({key:v},h,{message:s,open:!0,entered:!1,requestClose:!1,variant:S("variant"),anchorOrigin:S("anchorOrigin"),autoHideDuration:S("autoHideDuration")});return h.persist&&(T.autoHideDuration=void 0),a.setState(function(E){if(d===void 0&&a.props.preventDuplicate||d){var A=function(Z){return _?Z.key===f:Z.message===s},k=E.queue.findIndex(A)>-1,N=E.snacks.findIndex(A)>-1;if(k||N)return E}return a.handleDisplaySnack(_t({},E,{queue:[].concat(E.queue,[T])}))}),v},a.handleDisplaySnack=function(s){var u=s.snacks;return u.length>=a.maxSnack?a.handleDismissOldest(s):a.processQueue(s)},a.processQueue=function(s){var u=s.queue,l=s.snacks;return u.length>0?_t({},s,{snacks:[].concat(l,[u[0]]),queue:u.slice(1,u.length)}):s},a.handleDismissOldest=function(s){if(s.snacks.some(function(h){return!h.open||h.requestClose}))return s;var u=!1,l=!1,f=s.snacks.reduce(function(h,_){return h+(_.open&&_.persist?1:0)},0);f===a.maxSnack&&(l=!0);var d=s.snacks.map(function(h){return!u&&(!h.persist||l)?(u=!0,h.entered?(h.onClose&&h.onClose(null,Fi.MAXSNACK,h.key),a.props.onClose&&a.props.onClose(null,Fi.MAXSNACK,h.key),_t({},h,{open:!1})):_t({},h,{requestClose:!0})):_t({},h)});return _t({},s,{snacks:d})},a.handleEnteredSnack=function(s,u,l){if(!ol(l))throw new Error("handleEnteredSnack Cannot be called with undefined key");a.setState(function(f){var d=f.snacks;return{snacks:d.map(function(h){return h.key===l?_t({},h,{entered:!0}):_t({},h)})}})},a.handleCloseSnack=function(s,u,l){if(a.props.onClose&&a.props.onClose(s,u,l),u!==Fi.CLICKAWAY){var f=l===void 0;a.setState(function(d){var h=d.snacks,_=d.queue;return{snacks:h.map(function(v){return!f&&v.key!==l?_t({},v):v.entered?_t({},v,{open:!1}):_t({},v,{requestClose:!0})}),queue:_.filter(function(v){return v.key!==l})}})}},a.closeSnackbar=function(s){var u=a.state.snacks.find(function(l){return l.key===s});ol(s)&&u&&u.onClose&&u.onClose(null,Fi.INSTRUCTED,s),a.handleCloseSnack(null,Fi.INSTRUCTED,s)},a.handleExitedSnack=function(s,u,l){var f=u||l;if(!ol(f))throw new Error("handleExitedSnack Cannot be called with undefined key");a.setState(function(d){var h=a.processQueue(_t({},d,{snacks:d.snacks.filter(function(_){return _.key!==f})}));return h.queue.length===0?h:a.handleDismissOldest(h)})},a.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:a.enqueueSnackbar.bind(DE(a)),closeSnackbar:a.closeSnackbar.bind(DE(a))}},a}var n=t.prototype;return n.render=function(){var a=this,s=this.state.contextValue,u=this.props,l=u.iconVariant,f=u.dense,d=f===void 0?ha.dense:f,h=u.hideIconVariant,_=h===void 0?ha.hideIconVariant:h,v=u.domRoot,S=u.children,T=u.classes,E=T===void 0?{}:T,A=Ui(u,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),k=this.state.snacks.reduce(function(W,Z){var B,ne=P5(Z.anchorOrigin),z=W[ne]||[];return _t({},W,(B={},B[ne]=[].concat(z,[Z]),B))},{}),N=Object.keys(k).map(function(W){var Z=k[W];return R.createElement(J5,{key:W,dense:d,anchorOrigin:Z[0].anchorOrigin,className:Ci(E.containerRoot,E[wh.toContainerAnchorOrigin(W)])},Z.map(function(B){return R.createElement(X5,Object.assign({},A,{key:B.key,snack:B,dense:d,iconVariant:l,hideIconVariant:_,classes:N5(E),onClose:a.handleCloseSnack,onExited:zs([a.handleExitedSnack,a.props.onExited]),onEntered:zs([a.handleEnteredSnack,a.props.onEntered])}))}))});return R.createElement(kE.Provider,{value:s},S,v?tg.exports.createPortal(N,v):N)},k5(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||ha.maxSnack}}]),t}(oe.exports.Component),kz=function(){return oe.exports.useContext(kE)};const Q5={actionProcessing:e=>({type:"ACTION_PROCESSING",processing:e}),loginUserSuccess:e=>({type:"LOGIN_USER_SUCCESS",authUser:e,message:""}),loginUserError:e=>({type:"LOGIN_USER_ERROR",message:e}),loginUserByGithubSuccess:e=>({type:"LOGIN_USER_BY_GITHUB_SUCCESS",message:e}),loginUserByGithubError:e=>({type:"LOGIN_USER_BY_GITHUB_ERROR",message:e}),loginUserByLinkedinSuccess:e=>({type:"LOGIN_USER_BY_LINKEDIN_SUCCESS",message:e}),loginUserByLinkedinError:e=>({type:"LOGIN_USER_BY_LINKEDIN_ERROR",message:e}),didLogout:()=>({type:"LOGOUT_USER",message:""}),registerUserByEmailSuccess:e=>({type:"REGISTER_USER_BY_EMAIL_SUCCESS",identityProvider:e,message:""}),registerUserByEmailError:e=>({type:"REGISTER_USER_BY_EMAIL_ERROR",message:e}),didVerifyEmail:e=>({type:"DID_VERIFY_EMAIL",result:e}),didResendVerificationEmail:e=>({type:"DID_RESEND_VERIFICATION_EMAIL",result:e}),didForgotPassword:e=>({type:"DID_FORGOT_PASSWORD",result:e}),didResetPassword:e=>({type:"DID_RESET_PASSWORD",result:e}),didCreateMagicLink:e=>({type:"DID_CREATE_MAGICLINK",result:e}),loadedUserData:e=>({type:"LOADED_USER_DATA",user:e}),updatedUserSettingsAction:e=>({type:"UPDATE_USER_SETTINGS",data:e}),avatarUpdated:e=>{const t=e.url;return{type:"AVATAR_UPDATED",url:t}},usernameUpdated:e=>{const t=e.name;return{type:"USERNAME_UPDATED",name:t}},userAvatarIdUpdated:e=>{const t=e.avatarId;return{type:"USERAVATARID_UPDATED",avatarId:t}},userUpdated:e=>({type:"USER_UPDATED",user:e}),updateAvatarList:e=>({type:"AVATAR_FETCHED",avatarList:e}),restoreAuth:()=>({type:"RESTORE"})};class e2 extends R.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(t){super(t);this.state={hasError:!1}}componentDidCatch(){setTimeout(()=>{this.setState({hasError:!1})},2e3)}render(){return this.state.hasError?R.createElement("div",null,"Working..."):R.createElement(nk,null,R.createElement(ze,{path:"/",component:R.lazy(()=>Ge(()=>import("./index.92926843.js"),["assets/index.92926843.js","assets/index.e10a7bb4.css","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/vendor.c8b8cc93.js","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/CreatorService.2fe5442c.js","assets/upload.38e3baaf.js","assets/WebxrNativeService.ca552518.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js","assets/index.8221d0c2.js","assets/createSvgIcon.43fd6609.js","assets/ownerWindow.3d7152ce.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Typography.52db5622.js","assets/IconButton.6d410d2a.js","assets/Modal.0a92aab7.js","assets/CardContent.33751f6e.js","assets/CardMedia.1681aab5.js","assets/index.64cdcbaf.js","assets/index.301208a0.css","assets/TheFeedsService.2793e11c.js","assets/index.8a6b9b2f.js","assets/index.dd82ccb3.css","assets/ArrowBackIos.b66b83b5.js","assets/FeedService.1e1a3393.js","assets/index.683a8168.js","assets/Grid.7f9f57eb.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js","assets/Snackbar.ed7a56d5.js","assets/Alert.702d7c18.js","assets/Button.9f6477a8.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/Slide.c23656e9.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/index.5c8080a0.js","assets/index.113ffea6.css","assets/index.038eb325.js","assets/index.4e34e7f2.css","assets/DialogTitle.49ec867b.js","assets/DialogContentText.4d134c54.js","assets/index.02aa5acf.js","assets/index.18508d4e.css","assets/index.14f14606.js","assets/styled.2b87e6b6.js","assets/createStyles.1d8ebf67.js","assets/index.b1f8906e.js","assets/index.f367570a.css","assets/index.bce0f5bf.js","assets/index.9af95596.js","assets/index.472b90b5.js","assets/Box.a81f5212.js","assets/Player.78b7e742.js","assets/workerFunction.efd6a346.js","assets/terms.27e53fc6.js","assets/Paragraph.9f4506c4.js","assets/Paragraph.e298a02d.css","assets/policy.0161e0f1.js"])),exact:!0}),R.createElement(ze,{path:"/login",component:R.lazy(()=>Ge(()=>import("./login.3d3afe6a.js"),["assets/login.3d3afe6a.js","assets/EmptyLayout.35f11d72.js","assets/EmptyLayout.915abf47.css","assets/vendor.c8b8cc93.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/Box.a81f5212.js","assets/capitalize.afc8605e.js","assets/styled.2b87e6b6.js","assets/Alert.702d7c18.js","assets/createSvgIcon.f69c4b03.js","assets/Modal.0a92aab7.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/Close.aa3c4763.js","assets/createSvgIcon.43fd6609.js","assets/useControlled.815a4900.js","assets/DialogActions.4fd50af4.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/DialogTitle.49ec867b.js","assets/AuthService.6db25508.js","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/ProfileMenu.1f485511.js","assets/ProfileMenu.a4959623.css","assets/index.deaef12e.js","assets/useFormControl.7fcaf9d0.js","assets/Button.9f6477a8.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js"]))}),R.createElement(ze,{path:"/webxr",component:R.lazy(()=>Ge(()=>import("./webxr.3b1de579.js"),["assets/webxr.3b1de579.js","assets/three.module.0404e109.js","assets/vendor.c8b8cc93.js","assets/Player.78b7e742.js","assets/workerFunction.efd6a346.js"]))}),R.createElement(ze,{path:"/admin/armedia",component:R.lazy(()=>Ge(()=>import("./armedia.4c1bc190.js"),["assets/armedia.4c1bc190.js","assets/vendor.c8b8cc93.js","assets/index.d47ecd2f.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Slide.c23656e9.js","assets/Modal.0a92aab7.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.4981fe97.js","assets/List.8fe8fc26.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/object.45289cca.js","assets/_baseIteratee.1eb87af4.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/index.14f14606.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/styled.2b87e6b6.js","assets/Grid.7f9f57eb.js","assets/index.472b90b5.js","assets/Close.aa3c4763.js","assets/Container.0fefc5ce.js","assets/DialogTitle.49ec867b.js","assets/Select.f8860986.js","assets/Button.9f6477a8.js","assets/CardContent.33751f6e.js","assets/DialogContentText.4d134c54.js","assets/CardMedia.1681aab5.js","assets/Dialog.869ec0a3.js"]))}),R.createElement(ze,{path:"/admin/thefeeds",component:R.lazy(()=>Ge(()=>import("./thefeeds.733d8751.js"),["assets/thefeeds.733d8751.js","assets/vendor.c8b8cc93.js","assets/index.d47ecd2f.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Slide.c23656e9.js","assets/Modal.0a92aab7.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.4981fe97.js","assets/List.8fe8fc26.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/TheFeedsService.2793e11c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/AuthService.6db25508.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Button.9f6477a8.js","assets/TableRow.72c53387.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js"]))}),R.createElement(ze,{path:"/admin/feeds",component:R.lazy(()=>Ge(()=>import("./feeds.07927bee.js"),["assets/feeds.07927bee.js","assets/vendor.c8b8cc93.js","assets/index.d47ecd2f.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Slide.c23656e9.js","assets/Modal.0a92aab7.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.4981fe97.js","assets/List.8fe8fc26.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/feathers.081246a7.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/upload.38e3baaf.js"]))}),R.createElement(ze,{path:"/admin/users",component:R.lazy(()=>Ge(()=>import("./users.7622193e.js"),["assets/users.7622193e.js","assets/users.abbde69b.css","assets/vendor.c8b8cc93.js","assets/index.8221d0c2.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/PopupsStateService.d6dc4710.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/CreatorService.2fe5442c.js","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/Typography.52db5622.js","assets/Avatar.42349c47.js","assets/IconButton.6d410d2a.js","assets/Modal.0a92aab7.js","assets/CardContent.33751f6e.js","assets/TableRow.72c53387.js","assets/index.02aa5acf.js","assets/index.18508d4e.css","assets/ArrowBackIos.b66b83b5.js","assets/Button.9f6477a8.js","assets/CardMedia.1681aab5.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/DialogTitle.49ec867b.js","assets/DialogContentText.4d134c54.js","assets/index.038eb325.js","assets/index.4e34e7f2.css","assets/FeedService.1e1a3393.js","assets/Slide.c23656e9.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/index.d47ecd2f.js"]))}),R.createElement(ze,{path:"/admin",component:R.lazy(()=>Ge(()=>import("./index.a3c35453.js"),["assets/index.a3c35453.js","assets/index.d47ecd2f.js","assets/vendor.c8b8cc93.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Slide.c23656e9.js","assets/Modal.0a92aab7.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.4981fe97.js","assets/List.8fe8fc26.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css"]))}),R.createElement(ze,{path:"/editor/projects/:projectId",component:R.lazy(()=>Ge(()=>import("./[projectId].d5e44847.js").then(function(t){return t._}),["assets/[projectId].d5e44847.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/SystemUpdateType.4e88f289.js","assets/upload.38e3baaf.js","assets/index.9af95596.js"]))}),R.createElement(ze,{path:"/editor/projects",component:R.lazy(()=>Ge(()=>import("./projects.3bc33b63.js"),["assets/projects.3bc33b63.js","assets/vendor.c8b8cc93.js","assets/object.45289cca.js","assets/capitalize.afc8605e.js","assets/Toolbar.74518232.js","assets/createStyles.1d8ebf67.js","assets/Modal.0a92aab7.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/Backdrop.4981fe97.js","assets/Slide.c23656e9.js","assets/useControlled.815a4900.js","assets/List.8fe8fc26.js","assets/createSvgIcon.f69c4b03.js","assets/createSvgIcon.43fd6609.js","assets/_baseIteratee.1eb87af4.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/IconButton.6d410d2a.js","assets/SceneService.fc3e3726.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/Container.0fefc5ce.js","assets/Typography.52db5622.js","assets/Avatar.42349c47.js","assets/Select.f8860986.js","assets/Grid.7f9f57eb.js","assets/projectFunctions.0f4266a2.js","assets/projectFunctions.9c5356f8.css","assets/upload.38e3baaf.js","assets/___vite-browser-external_commonjs-proxy.5bbecace.js","assets/__vite-browser-external.b6126e45.js","assets/three.module.0404e109.js","assets/avatarFunctions.c7a0e273.js","assets/SystemUpdateType.4e88f289.js","assets/index.9af95596.js","assets/index.472b90b5.js","assets/index.1a856ebd.js","assets/DialogContentText.4d134c54.js","assets/Button.9f6477a8.js","assets/Snackbar.ed7a56d5.js","assets/Alert.702d7c18.js","assets/TableRow.72c53387.js","assets/Dialog.869ec0a3.js","assets/DialogTitle.49ec867b.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/AuthService.6db25508.js","assets/TextField.556bc809.js","assets/InputLabel.e3f1626a.js","assets/DialogActions.4fd50af4.js","assets/ForgotPassword.c79cee9d.js","assets/ProfileMenu.1f485511.js","assets/ProfileMenu.a4959623.css","assets/index.deaef12e.js","assets/templates.cfdd031e.js"]))}),R.createElement(ze,{path:"/editor/create",component:R.lazy(()=>Ge(()=>import("./create.3ae04391.js"),["assets/create.3ae04391.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/vendor.c8b8cc93.js"]))}),R.createElement(ze,{path:"/auth/oauth/facebook",component:R.lazy(()=>Ge(()=>import("./facebook.9037382d.js"),["assets/facebook.9037382d.js","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Container.0fefc5ce.js","assets/capitalize.afc8605e.js"]))}),R.createElement(ze,{path:"/auth/oauth/github",component:R.lazy(()=>Ge(()=>import("./github.c69a053f.js"),["assets/github.c69a053f.js","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Container.0fefc5ce.js","assets/capitalize.afc8605e.js"]))}),R.createElement(ze,{path:"/auth/oauth/google",component:R.lazy(()=>Ge(()=>import("./google.827a546c.js"),["assets/google.827a546c.js","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Container.0fefc5ce.js","assets/capitalize.afc8605e.js"]))}),R.createElement(ze,{path:"/auth/oauth/linkedin",component:R.lazy(()=>Ge(()=>import("./linkedin.bee929a7.js"),["assets/linkedin.bee929a7.js","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Container.0fefc5ce.js","assets/capitalize.afc8605e.js"]))}),R.createElement(ze,{path:"/auth/confirm",component:R.lazy(()=>Ge(()=>import("./confirm.c23f669c.js"),["assets/confirm.c23f669c.js","assets/confirm.6366265d.css","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/CardMedia.1681aab5.js","assets/capitalize.afc8605e.js","assets/Typography.52db5622.js","assets/Button.9f6477a8.js","assets/ButtonBase.4949ff38.js"]))}),R.createElement(ze,{path:"/auth/forgotpassword",component:R.lazy(()=>Ge(()=>import("./forgotpassword.50ae0a74.js"),["assets/forgotpassword.50ae0a74.js","assets/vendor.c8b8cc93.js","assets/ForgotPassword.c79cee9d.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/Container.0fefc5ce.js","assets/capitalize.afc8605e.js","assets/Typography.52db5622.js","assets/Grid.7f9f57eb.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useControlled.815a4900.js","assets/useFormControl.7fcaf9d0.js","assets/ButtonBase.4949ff38.js","assets/ownerWindow.3d7152ce.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/Modal.0a92aab7.js","assets/List.8fe8fc26.js","assets/createSvgIcon.f69c4b03.js","assets/Button.9f6477a8.js"]))}),R.createElement(ze,{path:"/auth/magiclink",component:R.lazy(()=>Ge(()=>import("./magiclink.c38bbd0a.js"),["assets/magiclink.c38bbd0a.js","assets/vendor.c8b8cc93.js","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/EmptyLayout.35f11d72.js","assets/EmptyLayout.915abf47.css","assets/Box.a81f5212.js","assets/capitalize.afc8605e.js","assets/styled.2b87e6b6.js","assets/Alert.702d7c18.js","assets/createSvgIcon.f69c4b03.js","assets/Modal.0a92aab7.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/Close.aa3c4763.js","assets/createSvgIcon.43fd6609.js","assets/useControlled.815a4900.js","assets/DialogActions.4fd50af4.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/DialogTitle.49ec867b.js","assets/Container.0fefc5ce.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js","assets/Button.9f6477a8.js"]))}),R.createElement(ze,{path:"/registration",component:R.lazy(()=>Ge(()=>import("./index.c36b955b.js"),["assets/index.c36b955b.js","assets/index.7c83e844.css","assets/AuthService.6db25508.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/vendor.c8b8cc93.js","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/CreatorService.2fe5442c.js","assets/upload.38e3baaf.js","assets/WebxrNativeService.ca552518.js","assets/index.deaef12e.js","assets/capitalize.afc8605e.js","assets/useFormControl.7fcaf9d0.js","assets/Typography.52db5622.js","assets/createSvgIcon.f69c4b03.js","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/ownerWindow.3d7152ce.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/Modal.0a92aab7.js","assets/List.8fe8fc26.js","assets/Button.9f6477a8.js"]))}),R.createElement(ze,{path:"/post/:pid",component:R.lazy(()=>Ge(()=>import("./[pid].1e69e45c.js"),["assets/[pid].1e69e45c.js","assets/vendor.c8b8cc93.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js"]))}),R.createElement(ze,{path:"/activity",component:R.lazy(()=>Ge(()=>import("./activity.a5fed168.js"),["assets/activity.a5fed168.js","assets/vendor.c8b8cc93.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js"]))}),R.createElement(ze,{path:"/creator",component:R.lazy(()=>Ge(()=>import("./creator.54bf7b1f.js"),["assets/creator.54bf7b1f.js","assets/vendor.c8b8cc93.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Slide.c23656e9.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/Modal.0a92aab7.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Button.9f6477a8.js","assets/Avatar.42349c47.js","assets/createSvgIcon.f69c4b03.js","assets/index.5c8080a0.js","assets/index.113ffea6.css","assets/index.038eb325.js","assets/index.4e34e7f2.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/useControlled.815a4900.js","assets/index.8221d0c2.js","assets/Typography.52db5622.js","assets/IconButton.6d410d2a.js","assets/CardContent.33751f6e.js","assets/FeedService.1e1a3393.js","assets/CardMedia.1681aab5.js","assets/DialogTitle.49ec867b.js","assets/DialogContentText.4d134c54.js","assets/index.64cdcbaf.js","assets/index.301208a0.css"]))}),R.createElement(ze,{path:"/creatorEdit",component:R.lazy(()=>Ge(()=>import("./creatorEdit.9251ddf9.js"),["assets/creatorEdit.9251ddf9.js","assets/vendor.c8b8cc93.js","assets/index.02aa5acf.js","assets/index.18508d4e.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Button.9f6477a8.js","assets/Typography.52db5622.js","assets/CardMedia.1681aab5.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/Modal.0a92aab7.js","assets/List.8fe8fc26.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/Slide.c23656e9.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Avatar.42349c47.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),R.createElement(ze,{path:"/explore",component:R.lazy(()=>Ge(()=>import("./creatorEdit.9251ddf9.js"),["assets/creatorEdit.9251ddf9.js","assets/vendor.c8b8cc93.js","assets/index.02aa5acf.js","assets/index.18508d4e.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Button.9f6477a8.js","assets/Typography.52db5622.js","assets/CardMedia.1681aab5.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/Modal.0a92aab7.js","assets/List.8fe8fc26.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/Slide.c23656e9.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Avatar.42349c47.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),R.createElement(ze,{path:"/feed",component:R.lazy(()=>Ge(()=>import("./feed.5be43ec5.js"),["assets/feed.5be43ec5.js","assets/vendor.c8b8cc93.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Slide.c23656e9.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/Modal.0a92aab7.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Button.9f6477a8.js","assets/Avatar.42349c47.js","assets/createSvgIcon.f69c4b03.js","assets/index.8a6b9b2f.js","assets/index.dd82ccb3.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/useControlled.815a4900.js","assets/FeedService.1e1a3393.js","assets/index.64cdcbaf.js","assets/index.301208a0.css","assets/CardContent.33751f6e.js","assets/CardMedia.1681aab5.js","assets/Typography.52db5622.js","assets/index.8221d0c2.js","assets/IconButton.6d410d2a.js","assets/index.683a8168.js","assets/Grid.7f9f57eb.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/useFormControl.7fcaf9d0.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js","assets/Snackbar.ed7a56d5.js","assets/Alert.702d7c18.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),R.createElement(ze,{path:"/login",component:R.lazy(()=>Ge(()=>import("./login.3d3afe6a.js"),["assets/login.3d3afe6a.js","assets/EmptyLayout.35f11d72.js","assets/EmptyLayout.915abf47.css","assets/vendor.c8b8cc93.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/Box.a81f5212.js","assets/capitalize.afc8605e.js","assets/styled.2b87e6b6.js","assets/Alert.702d7c18.js","assets/createSvgIcon.f69c4b03.js","assets/Modal.0a92aab7.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/IconButton.6d410d2a.js","assets/Typography.52db5622.js","assets/Close.aa3c4763.js","assets/createSvgIcon.43fd6609.js","assets/useControlled.815a4900.js","assets/DialogActions.4fd50af4.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/DialogTitle.49ec867b.js","assets/AuthService.6db25508.js","assets/feathers.081246a7.js","assets/avatarFunctions.c7a0e273.js","assets/three.module.0404e109.js","assets/ProfileMenu.1f485511.js","assets/ProfileMenu.a4959623.css","assets/index.deaef12e.js","assets/useFormControl.7fcaf9d0.js","assets/Button.9f6477a8.js","assets/TextField.556bc809.js","assets/Input.d01777ba.js","assets/InputLabel.e3f1626a.js","assets/Select.f8860986.js","assets/List.8fe8fc26.js"]))}),R.createElement(ze,{path:"/messages",component:R.lazy(()=>Ge(()=>import("./messages.d117d9b0.js"),["assets/messages.d117d9b0.js","assets/vendor.c8b8cc93.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js"]))}),R.createElement(ze,{path:"/newfeed",component:R.lazy(()=>Ge(()=>import("./newfeed.173beba1.js"),["assets/newfeed.173beba1.js","assets/vendor.c8b8cc93.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Slide.c23656e9.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/Modal.0a92aab7.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Button.9f6477a8.js","assets/Avatar.42349c47.js","assets/createSvgIcon.f69c4b03.js","assets/index.b1f8906e.js","assets/index.f367570a.css","assets/index.bce0f5bf.js","assets/index.9af95596.js","assets/index.472b90b5.js","assets/index.683a8168.js","assets/FeedService.1e1a3393.js","assets/WebxrNativeService.ca552518.js","assets/Typography.52db5622.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),R.createElement(ze,{path:"/notifications",component:R.lazy(()=>Ge(()=>import("./notifications.06cb7b05.js"),["assets/notifications.06cb7b05.js","assets/notifications.84e8497c.css","assets/vendor.c8b8cc93.js","assets/index.821475c5.js","assets/index.6ac56a98.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Slide.c23656e9.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.4949ff38.js","assets/Modal.0a92aab7.js","assets/Dialog.869ec0a3.js","assets/Backdrop.4981fe97.js","assets/Button.9f6477a8.js","assets/Avatar.42349c47.js","assets/createSvgIcon.f69c4b03.js","assets/CardContent.33751f6e.js","assets/Typography.52db5622.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),R.createElement(ze,{path:"/onboarding",component:R.lazy(()=>Ge(()=>import("./onboarding.24236055.js"),["assets/onboarding.24236055.js","assets/onboarding.2431354f.css","assets/vendor.c8b8cc93.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/Button.9f6477a8.js","assets/capitalize.afc8605e.js","assets/ButtonBase.4949ff38.js","assets/Typography.52db5622.js","assets/CardMedia.1681aab5.js"]))}),R.createElement(ze,{path:"/videorecord",component:R.lazy(()=>Ge(()=>import("./videorecord.138d04f3.js"),["assets/videorecord.138d04f3.js","assets/vendor.c8b8cc93.js","assets/index.bce0f5bf.js","assets/index.9af95596.js","assets/index.472b90b5.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js"]))}),R.createElement(ze,{path:"/privacypolicy",component:R.lazy(()=>Ge(()=>import("./privacypolicy.80d30712.js"),["assets/privacypolicy.80d30712.js","assets/vendor.c8b8cc93.js"]))}),R.createElement(ze,{path:"/terms",component:R.lazy(()=>Ge(()=>import("./terms.27e53fc6.js"),["assets/terms.27e53fc6.js","assets/vendor.c8b8cc93.js","assets/Paragraph.9f4506c4.js","assets/Paragraph.e298a02d.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Button.9f6477a8.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css"]))}),R.createElement(ze,{path:"/policy",component:R.lazy(()=>Ge(()=>import("./policy.0161e0f1.js"),["assets/policy.0161e0f1.js","assets/vendor.c8b8cc93.js","assets/Paragraph.9f4506c4.js","assets/Paragraph.e298a02d.css","assets/ArrowBackIos.b66b83b5.js","assets/createSvgIcon.43fd6609.js","assets/capitalize.afc8605e.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.f69c4b03.js","assets/useControlled.815a4900.js","assets/ButtonBase.4949ff38.js","assets/Button.9f6477a8.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css"]))}),R.createElement(ze,{path:"/:pid",component:R.lazy(()=>Ge(()=>import("./[pid].22d3fe09.js"),["assets/[pid].22d3fe09.js","assets/index.6b9ef4cc.js","assets/index.1f903c4e.css","assets/vendor.c8b8cc93.js","assets/CreatorService.2fe5442c.js","assets/AlertService.bfed2141.js","assets/index.0040ebb6.js","assets/index.85ecc35e.css","assets/feathers.081246a7.js","assets/upload.38e3baaf.js","assets/PopupsStateService.d6dc4710.js","assets/Avatar.42349c47.js","assets/capitalize.afc8605e.js","assets/createSvgIcon.f69c4b03.js"]))}),R.createElement(ze,{path:"*",component:R.lazy(()=>Ge(()=>import("./404.47769aca.js"),["assets/404.47769aca.js","assets/vendor.c8b8cc93.js"]))}))}}var Rh={},Dh={exports:{}},ME=ng(OC),Gi={},ul={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return n&&n.type==="@@redux/INIT"?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default})(ul,ul.exports);var kh={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ME,r=u(n),a=ul.exports,s=u(a);function u(l){return l&&l.__esModule?l:{default:l}}t.default=function(l,f,d){var h=Object.keys(f);if(!h.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var _=(0,s.default)(d);if(r.default.isImmutable?!r.default.isImmutable(l):!r.default.Iterable.isIterable(l))return"The "+_+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+h.join('", "')+'".';var v=l.toSeq().keySeq().toArray().filter(function(S){return!f.hasOwnProperty(S)});return v.length>0?"Unexpected "+(v.length===1?"property":"properties")+' "'+v.join('", "')+'" found in '+_+'. Expected to find one of the known reducer property names instead: "'+h.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default})(kh,kh.exports);var xh={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,r,a){if(n===void 0)throw new Error('Reducer "'+r+'" returned undefined when handling "'+a.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default})(xh,xh.exports);Object.defineProperty(Gi,"__esModule",{value:!0});Gi.validateNextState=Gi.getUnexpectedInvocationParameterMessage=Gi.getStateName=void 0;var t2=ul.exports,n2=Ch(t2),r2=kh.exports,i2=Ch(r2),a2=xh.exports,o2=Ch(a2);function Ch(e){return e&&e.__esModule?e:{default:e}}Gi.getStateName=n2.default;Gi.getUnexpectedInvocationParameterMessage=i2.default;Gi.validateNextState=o2.default;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ME,r=s(n),a=Gi;function s(u){return u&&u.__esModule?u:{default:u}}t.default=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.Map,f=Object.keys(u);return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),h=arguments[1];return d.withMutations(function(_){f.forEach(function(v){var S=u[v],T=_.get(v),E=S(T,h);(0,a.validateNextState)(E,v,h),_.set(v,E)})})}},e.exports=t.default})(Dh,Dh.exports);Object.defineProperty(Rh,"__esModule",{value:!0});var LE=Rh.combineReducers=void 0,s2=Dh.exports,u2=c2(s2);function c2(e){return e&&e.__esModule?e:{default:e}}LE=Rh.combineReducers=u2.default;const xz=100,UE=Ee({data:{}}),l2=(e,t)=>(Promise.resolve().then(()=>f2(t)),UE.attach(Te).value),f2=e=>{UE.batch(t=>{switch(e.type){case"VIDEO_CREATED":return t.merge({data:e.data})}},e.type)},FE=100,Hs=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,users:{users:[],skip:0,limit:FE,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},userRole:{userRole:[],skip:0,limit:FE,total:0,retrieving:!1,fetched:!1,updateNeeded:!0},singleUser:{singleUser:{userRole:"",scopes:[]},retrieving:!1,fetched:!1,updateNeeded:!0},staticResource:{staticResource:[],retrieving:!1,fetched:!1,updateNeeded:!0}}),d2=(e,t)=>(Promise.resolve().then(()=>p2(t)),Hs.attach(Te).value),p2=e=>{let t;Hs.batch(n=>{switch(e.type){case"ADMIN_LOADED_USERS":return t=e.users,n.users.merge({users:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"USER_ROLE_RETRIEVED":return t=e.types,n.userRole.merge({userRole:t.data,updateNeeded:!1});case"USER_ROLE_CREATED":return n.userRole.merge({updateNeeded:!0});case"USER_ADMIN_REMOVED":t=e.data;let r=Hs.users.users.value;return r=r.filter(a=>a.id!==t.id),n.users.merge({users:r,updateNeeded:!0});case"USER_ADMIN_CREATED":return t=e.user,n.users.merge({updateNeeded:!0});case"USER_ADMIN_PATCHED":return t=e.user,n.users.merge({updateNeeded:!0});case"USER_ROLE_UPDATED":return n.users.merge({updateNeeded:!0});case"USER_SEARCH_ADMIN":return t=e.data,n.users.merge({users:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"SINGLE_USER_ADMIN_LOADED":return t=e.data,n.singleUser.merge({singleUser:t,retrieving:!1,fetched:!0,updateNeeded:!1});case"STATIC_RESOURCE_RETRIEVED":return t=e.staticResource,n.staticResource.merge({staticResource:t.data,retrieving:!1,updateNeeded:!1,fetched:!0});case"SINGLE_USER_ADMIN_REFETCH":return n.singleUser.merge({updateNeeded:!0})}},e.type)},Cz=()=>Hs,Pz=()=>tn(Hs),GE=Ee({contentPacks:[],updateNeeded:!0}),h2=(e,t)=>(Promise.resolve().then(()=>m2(t)),GE.attach(Te).value),m2=e=>{GE.batch(t=>{switch(e.type){case"LOADED_CONTENT_PACKS":return t.merge({updateNeeded:!1,contentPacks:e.contentPacks});case"CONTENT_PACK_CREATED":return t.merge({updateNeeded:!0});case"CONTENT_PACK_PATCHED":return t.merge({updateNeeded:!0})}},e.type)},_2=100,zE=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,avatars:{avatars:[],skip:0,limit:_2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),g2=(e,t)=>(Promise.resolve().then(()=>v2(t)),zE.attach(Te).value),v2=e=>{let t;zE.batch(n=>{switch(e.type){case"AVATARS_RETRIEVED":t=e.avatars,n.avatars.merge({avatars:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},y2=100,$s=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,instances:{instances:[],skip:0,limit:y2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),E2=(e,t)=>(Promise.resolve().then(()=>S2(t)),$s.attach(Te).value),S2=e=>{let t;$s.batch(n=>{switch(e.type){case"INSTANCES_RETRIEVED":return t=e.instances,n.instances.merge({instances:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"INSTANCE_REMOVED_ROW":t=e.instance;let r=$s.instances.value,a=r.instances;a=a.filter(s=>s.id!==t.id),r.instances=a,n.merge({instances:r})}},e.type)},Nz=()=>$s,Mz=()=>tn($s),b2=100,Vs=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,locations:{locations:[],skip:0,limit:b2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,created:!1,lastFetched:new Date},locationTypes:{locationTypes:[],updateNeeded:!0}}),T2=(e,t)=>(Promise.resolve().then(()=>w2(t)),Vs.attach(Te).value),w2=e=>{let t;Vs.batch(n=>{switch(e.type){case"ADMIN_LOCATIONS_RETRIEVED":return t=e.locations,n.locations.merge({locations:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADMIN_LOCATION_CREATED":return n.locations.merge({updateNeeded:!0,created:!0});case"ADMIN_LOCATION_PATCHED":const r=Vs.locations.locations.value;for(let a=0;a<r.length;a++)r[a].id===e.location.id?r[a]=e.location:e.location.isLobby&&r[a].isLobby&&(r[a].isLobby=!1);return n.locations.merge({locations:r});case"ADMIN_LOCATION_REMOVED":return n.locations.merge({updateNeeded:!0});case"ADMIN_LOCATION_TYPES_RETRIEVED":return t=e.types,n.locationTypes.set({locationTypes:t.data,updateNeeded:!1})}},e.type)},Lz=()=>Vs,Uz=()=>tn(Vs),A2=100,HE=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,parties:{parties:[],skip:0,limit:A2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),O2=(e,t)=>(Promise.resolve().then(()=>I2(t)),HE.attach(Te).value),I2=e=>{let t;HE.batch(n=>{switch(e.type){case"PARTY_ADMIN_DISPLAYED":return t=e.data,n.parties.merge({parties:t,updateNeeded:!1});case"PARTY_ADMIN_CREATED":return n.parties.merge({updateNeeded:!0})}},e.type)},R2=100,cl=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,scenes:{scenes:[],skip:0,limit:R2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),D2=(e,t)=>(Promise.resolve().then(()=>k2(t)),cl.attach(Te).value),k2=e=>{let t;cl.batch(n=>{switch(e.type){case"ADMIN_SCENES_RETRIEVED":return t=e.collections,n.scenes.merge({scenes:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},Fz=()=>cl,Gz=()=>tn(cl),$E=100,VE=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,bots:{bots:[],skip:0,limit:$E,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},botCommand:{botCommand:[],skip:0,limit:$E,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),x2=(e,t)=>(Promise.resolve().then(()=>C2(t)),VE.attach(Te).value),C2=e=>{let t;VE.batch(n=>{switch(e.type){case"BOT_ADMIN_DISPLAY":return t=e.bots,n.merge({error:""}),n.bots.merge({bots:t.data,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"BOT_ADMIN_CREATE":return n.bots.merge({updateNeeded:!0});case"BOT_COMMAND_ADMIN_CREATE":return n.bots.merge({updateNeeded:!0});case"BOT_ADMIN_REMOVE":return n.bots.merge({updateNeeded:!0});case"BOT_COMMAND_ADMIN_REMOVE":return n.bots.merge({updateNeeded:!0});case"BOT_ADMIN_UPDATE":return n.bots.merge({updateNeeded:!0})}},e.type)},YE=Ee({activeInstances:[],activeParties:[],instanceUsers:[],channelUsers:[],activeLocations:[],activeScenes:[],dailyUsers:[],dailyNewUsers:[]}),P2=(e,t)=>(Promise.resolve().then(()=>N2(t)),YE.attach(Te).value),N2=e=>{let t;YE.batch(n=>{switch(e.type){case"ACTIVE_INSTANCES_FETCHED":return t=e.analytics,n.merge({activeInstances:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_PARTIES_FETCHED":return t=e.analytics,n.merge({activeParties:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_LOCATIONS_FETCHED":return t=e.analytics,n.merge({activeLocations:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_SCENES_FETCHED":return t=e.analytics,n.merge({activeScenes:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"CHANNEL_USERS_FETCHED":return t=e.analytics,n.merge({channelUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"INSTANCE_USERS_FETCHED":return t=e.analytics,n.merge({instanceUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"DAILY_NEW_USERS_FETCHED":return t=e.analytics,n.merge({dailyNewUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"DAILY_USERS_FETCHED":return t=e.analytics,n.merge({dailyUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()})}},e.type)},M2=100,jE=Ee({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Ir,user:Ar,identityProvider:Or,realityPacks:{realityPacks:[],skip:0,limit:M2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),L2=(e,t)=>(Promise.resolve().then(()=>U2(t)),jE.attach(Te).value),U2=e=>{let t;jE.batch(n=>{switch(e.type){case"REALITY_PACKS_RETRIEVED":return t=e.realityPacks,n.realityPacks.merge({realityPacks:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},F2=100,Ph=Ee({arMedia:{arMedia:[],skip:0,limit:F2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},adminList:[],list:[],fetching:!1,item:{},fetchingItem:!1}),WE=(e,t)=>(Promise.resolve().then(()=>G2(t)),Ph.attach(Te).value),G2=e=>{Ph.batch(t=>{let n;switch(e.type){case"ARMEDIA_FETCHING":return t.fetching.set(!0);case"ARMEDIA_ADMIN_RETRIEVED":return n=e.list,t.arMedia.merge({arMedia:n.data,skip:n.skip,limit:n.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ARMEDIA_RETRIEVED":return t.merge({list:e.list,fetching:!1});case"ADD_ARMEDIA":return t.arMedia.updateNeeded.set(!0);case"REMOVE_ARMEDIA":return t.arMedia.updateNeeded.set(!0);case"ARMEDIA_FETCHING_ITEM":return t.fetchingItem.set(!0);case"ARMEDIA_RETRIEVED_ITEM":return t.merge({item:e.item,fetchingItem:!1});case"UPDATE_AR_MEDIA":return t.arMedia.updateNeeded.set(!0)}},e.type)},zz=()=>tn(Ph),ll=Ee({feeds:{feeds:[],feedsFetching:!1,feedsFeatured:[],feedsFeaturedFetching:!1,feedsCreator:[],feedsCreatorFetching:!1,feedsBookmark:[],feedsBookmarkFetching:!1,feedsFired:[],feedsFiredFetching:!1,myFeatured:[],myFeaturedFetching:!1,feed:{},fetching:!1,feedsAdmin:{feeds:[],updateNeeded:!0,lastFetched:new Date},feedsAdminFetching:!1,lastFeedVideoUrl:null}}),BE=(e,t)=>(Promise.resolve().then(()=>z2(t)),ll.attach(Te).value),z2=e=>{ll.batch(t=>{let n;switch(e.type){case"FEEDS_FETCH":return t.feeds.feedsFetching.set(!0);case"FEATURED_FEEDS_FETCH":return t.feeds.feedsFeaturedFetching.set(!0);case"CREATOR_FEEDS_FETCH":return t.feeds.feedsCreatorFetching.set(!0);case"BOOKMARK_FEEDS_FETCH":return t.feeds.feedsBookmarkFetching.set(!0);case"MY_FEATURED_FEEDS_FETCH":return t.feeds.myFeaturedFetching.set(!0);case"FEEDS_FETCH":return t.feeds.fetching.set(!0);case"ADMIN_FEEDS_FETCH":return t.feeds.feedsAdminFetching.set(!0);case"FIRED_FEEDS_FETCH":return t.feeds.feedsFiredFetching.set(!0);case"FEEDS_RETRIEVED":return t.feeds.merge({feeds:e.feeds,feedsFetching:!1});case"FEEDS_FEATURED_RETRIEVED":return t.feeds.merge({feedsFeatured:e.feeds,feedsFeaturedFetching:!1});case"FEEDS_CREATOR_RETRIEVED":return t.feeds.merge({feedsCreator:e.feeds,feedsCreatorFetching:!1});case"CLEAR_CREATOR_FEATURED":return t.feeds.merge({feedsCreator:[],feedsCreatorFetching:!1});case"FEEDS_MY_FEATURED_RETRIEVED":return t.feeds.merge({myFeatured:e.feeds,myFeaturedFetching:!1});case"FEEDS_BOOKMARK_RETRIEVED":return t.feeds.merge({feedsBookmark:e.feeds,feedsBookmarkFetching:!1});case"FEEDS_FIRED_RETRIEVED":return t.feeds.merge({feedsFired:e.feeds,feedsFiredFetching:!1});case"FEED_RETRIEVED":return t.feeds.merge({feed:e.feed,fetching:!1});case"ADD_FEED_FIRES":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(s=>s.id===e.feedId?{...s,fires:++s.fires,isFired:!0}:{...s})),t.feeds.feed.set(n?{...n,fires:++n.fires,isFired:!0}:{});case"REMOVE_FEED_FIRES":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(s=>s.id===e.feedId?{...s,fires:s.fires-1,isFired:!1}:{...s})),t.feeds.feed.set(n?{...n,fires:--n.fires,isFired:!1}:{});case"ADD_FEED_BOOKMARK":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(s=>s.id===e.feedId?{...s,isBookmarked:!0}:{...s})),t.feeds.feed.set(n?{...n,isBookmarked:!0}:{});case"REMOVE_FEED_BOOKMARK":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(s=>s.id===e.feedId?{...s,isBookmarked:!1}:{...s})),t.feeds.feed.set(n?{...n,isBookmarked:!1}:{});case"ADD_FEED_VIEW":return t.feeds.feedsFeatured.set(t.feeds.feedsFeatured?.value?.map(s=>s.id===e.feedId?{...s,viewsCount:++s.viewsCount}:{...s})),t.feeds.feed.set(n?{...n,viewsCount:++n.viewsCount}:{});case"ADD_FEED":return t.feeds.feeds.set([...t.feeds.feeds.value,e.feed]),t.feeds.feedsFetching.set(!1);case"ADD_FEED_FEATURED":return t.feeds.feedsCreator.set(t.feeds.feedsCreator.value.map(s=>s.id===e.feedId?{...s,featured:!0}:{...s}));case"REMOVE_FEED_FEATURED":const r=ll.feeds.myFeatured.value;return t.feeds.feedsCreator.set(t.feeds.feedsCreator.value.map(s=>s.id===e.feedId?{...s,featured:!1}:{...s})),t.feeds.myFeatured.set(r?[...r.splice(r.findIndex(s=>s.id===e.feedId),1)]:[]);case"FEEDS_AS_ADMIN_RETRIEVED":const a=e.feeds;return t.feeds.feedsAdmin.merge({feeds:a.data,updateNeeded:!1,lastFetched:new Date}),t.feeds.fetching.set(!1);case"UPDATE_FEED":return t.feeds.feedsAdmin.feeds.set(t.feeds.feedsAdmin.feeds.value.map(s=>s.id===e.feed.id?{...s,...e.feed}:{...s})),t.feeds.feedsAdminFetching.set(!1);case"DELETE_FEED":return t.feeds.feedsFeatured.set([...t.feeds.feedsFeatured.value.filter(s=>s.id!==e.feedId)]);case"LAST_FEED_VIDEO_URL":return t.feeds.lastFeedVideoUrl.set(e.filePath)}},e.type)},Hz=()=>tn(ll),Nh=Ee({creators:{creators:[],fetchingCreators:!1,creator:{},fetchingCreator:!1,currentCreator:{},fetchingCurrentCreator:!1,currentCreatorNotifications:[],followers:[],following:[],fetching:!1,blocked:[],splashTimeout:!0,updateNeeded:!1}}),XE=(e,t)=>(Promise.resolve().then(()=>H2(t)),Nh.attach(Te).value),H2=e=>{Nh.batch(t=>{switch(e.type){case"SET_STATE_CREATORS":return t.creators.splashTimeout.set(e.splashTimeout);case"CURRENT_CREATOR_FETCH":return t.creators.fetchingCurrentCreator.set(!0);case"CURRENT_CREATOR_RETRIEVED":return t.creators.merge({currentCreator:e.creator,creators:t.creators.creators?.value?.map(u=>u.id===e.creator.id?{...e.creator}:{...u}),fetchingCurrentCreator:!1});case"CREATOR_FETCH":return t.creators.merge({fetchingCreator:!0,creator:{id:"",name:"",username:""}});case"CREATOR_RETRIEVED":return t.creators.merge({creator:e.creator,fetchingCreator:!1});case"CREATORS_FETCH":return t.creators.merge({fetchingCreators:!0,creators:[]});case"CREATORS_RETRIEVED":return t.creators.merge({creators:e.creators,fetchingCreators:!1});case"CREATOR_NOTIFICATION_LIST_RETRIEVED":return t.creators.merge({currentCreatorNotifications:e.notifications,fetching:!1});case"SET_CREATOR_AS_FOLLOWED":return t.creators.creator.followed.set(!0);case"SET_CREATOR_NOT_FOLLOWED":return t.creators.creator.followed.set(!1);case"SET_CREATOR_AS_BLOCKED":const n=[...t.creators.creators.value],r=n.findIndex(u=>u.id===e.creatorId);return n.splice(r,1),t.creators.creator.blocked.set(!0),t.creators.creators.set(n);case"SET_CREATOR_AS_UN_BLOCKED":const a=[...t.creators.blocked.value],s=a.findIndex(u=>u.userId===e.blokedCreatorId);return a.splice(s,1),t.creators.blocked.set(a);case"CREATOR_BLOCKED_RETRIEVED":return t.creators.blocked.set(e.creators);case"CREATOR_FOLLOWERS_RETRIEVED":return t.creators.followers.set(e.creators);case"CREATOR_FOLLOWING_RETRIEVED":return t.creators.following.set(e.creators)}},e.type)},$z=()=>tn(Nh),$2=10,KE=Ee({group:{group:[],skip:0,limit:$2,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},fetching:!1}),V2=(e,t)=>(Promise.resolve().then(()=>Y2(t)),KE.attach(Te).value),Y2=e=>{let t;KE.batch(n=>{switch(e.type){case"GROUP_FETCHING":return n.merge({fetching:!0});case"GROUP_ADMIN_RETRIEVED":return t=e.list,n.group.merge({group:t.data,skip:t.skip,limit:t.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADD_GROUP":return n.group.merge({updateNeeded:!0});case"GROUP_ADMIN_UPDATE":return n.group.merge({updateNeeded:!0});case"GROUP_ADMIN_DELETE":return n.group.merge({updateNeeded:!0})}},e.type)},qE=100,JE=Ee({scope:{scope:[],skip:0,limit:qE,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},scopeType:{scopeType:[],skip:0,limit:qE,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},fetching:!1}),j2=(e,t)=>(Promise.resolve().then(()=>W2(t)),JE.attach(Te).value),W2=e=>{let t;JE.batch(n=>{switch(e.type){case"SCOPE_FETCHING":return n.merge({fetching:!0});case"SCOPE_ADMIN_RETRIEVED":return t=e.list,n.scope.merge({scope:t.data,skip:t.skip,limit:t.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADD_SCOPE":return n.scope.merge({updateNeeded:!0});case"UPDATE_SCOPE":return n.scope.merge({updateNeeded:!0});case"REMOVE_SCOPE":return n.scope.merge({updateNeeded:!0});case"SCOPE_TYPE_RETRIEVED":return t=e.list,n.scopeType.merge({scopeType:t.data,skip:t.skip,limit:t.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},ZE=Ee({Analytics:{analytics:[],updateNeeded:!0}}),B2=(e,t)=>(Promise.resolve().then(()=>X2(t)),ZE.attach(Te).value),X2=e=>{let t;ZE.batch(n=>{switch(e.type){case"SETTING_ANALYIS_DISPLAY":return t=e.analytics,n.Analytics.merge({analytics:t.data,updateNeeded:!1})}},e.type)},QE=Ee({Server:{server:[],updateNeeded:!0}}),K2=(e,t)=>(Promise.resolve().then(()=>q2(t)),QE.attach(Te).value),q2=e=>{let t;QE.batch(n=>{switch(e.type){case"SETTING_SERVER_DISPLAY":return t=e.serverInfo,n.Server.merge({server:t.data,updateNeeded:!1})}},e.type)},eS=Ee({Client:{client:[],updateNeeded:!0}}),J2=(e,t)=>(Promise.resolve().then(()=>Z2(t)),eS.attach(Te).value),Z2=e=>{let t;eS.batch(n=>{switch(e.type){case"CLIENT_SETTING_DISPLAY":return t=e.client,n.Client.merge({client:t.data,updateNeeded:!1})}},e.type)},tS=Ee({gameServer:{gameserver:[],updateNeeded:!0}}),Q2=(e,t)=>(Promise.resolve().then(()=>eU(t)),tS.attach(Te).value),eU=e=>{let t;tS.batch(n=>{switch(e.type){case"GAME_SERVER_SETTING_DISPLAY":return t=e.gameServer,n.gameServer.merge({gameserver:t.data,updateNeeded:!1})}},e.type)},nS=Ee({Email:{email:[],updateNeeded:!0}}),tU=(e,t)=>(Promise.resolve().then(()=>nU(t)),nS.attach(Te).value),nU=e=>{let t;nS.batch(n=>{switch(e.type){case"EMAIL_SETTING_DISPLAY":return t=e.email,n.Email.merge({email:t.data,updateNeeded:!1})}},e.type)},rS=Ee({Chargebee:{chargebee:[],updateNeeded:!0}}),rU=(e,t)=>(Promise.resolve().then(()=>iU(t)),rS.attach(Te).value),iU=e=>{let t;rS.batch(n=>{switch(e.type){case"CHARGEBEE_SETTING_DISPLAY":return t=e.chargebee,n.Chargebee.merge({chargebee:t.data,updateNeeded:!1})}},e.type)},iS=Ee({authSettings:{authSettings:[],skip:0,limit:100,total:0,retrieving:!1,fetched:!1,updateNeeded:!0}}),aU=(e,t)=>(Promise.resolve().then(()=>oU(t)),iS.attach(Te).value),oU=e=>{let t;iS.batch(n=>{switch(e.type){case"ADMIN_AUTH_SETTING_FETCHED":return t=e.list,n.authSettings.merge({authSettings:t.data,skip:t.skip,limit:t.limit,total:t.total,updateNeeded:!1});case"ADMIN_AUTH_SETTING_PATCHED":return n.authSettings.updateNeeded.set(!0)}},e.type)},aS=Ee({awsSettings:{awsSettings:[],skip:0,limit:100,total:0,updateNeeded:!0}}),sU=(e,t)=>(Promise.resolve().then(()=>uU(t)),aS.attach(Te).value),uU=e=>{let t;aS.batch(n=>{switch(e.type){case"ADMIN_AWS_SETTING_FETCHED":return t=e.list,n.awsSettings.merge({awsSettings:t.data,updateNeeded:!1})}},e.type)},oS=Ee({redisSettings:{redisSettings:[],skip:0,limit:100,total:0,updateNeeded:!0}}),cU=(e,t)=>(Promise.resolve().then(()=>lU(t)),oS.attach(Te).value),lU=e=>{let t;oS.batch(n=>{switch(e.type){case"ADMIN_REDIS_SETTING_FETCHED":return t=e.list,n.redisSettings.merge({redisSettings:t.data,updateNeeded:!1})}},e.type)};var fU={adminUser:d2,admin:l2,contentPack:h2,adminAvatar:g2,adminInstance:E2,adminLocation:T2,adminParty:O2,adminRealityPack:L2,adminScene:D2,adminBots:x2,adminAnalytics:P2,arMedia:WE,feedsAdmin:BE,adminCreator:XE,group:V2,scope:j2,settingAnalytics:B2,serverSettings:K2,clientSettings:J2,gameServer:Q2,email:tU,adminAuthSetting:aU,adminAwsSetting:sU,adminChargeBeeSetting:rU,adminRedisSetting:cU};const Mh=Ee({type:"none",message:""}),dU=(e,t)=>(Promise.resolve().then(()=>pU(t)),Mh.attach(Te).value),pU=e=>{Mh.batch(t=>{switch(e.type){case"SHOW_NOTIFICATION":return t.merge({type:e.alertType,message:e.message});case"HIDE_NOTIFICATION":return t.merge({type:e.alertType,message:e.message})}},e.alertType)},Vz=()=>tn(Mh);var Ys;(function(e){e[e.START_STATE=0]="START_STATE",e[e.AWAITING_INPUT=1]="AWAITING_INPUT",e[e.SCENE_LOADING=2]="SCENE_LOADING",e[e.SCENE_LOADED=3]="SCENE_LOADED",e[e.SUCCESS=4]="SUCCESS",e[e.FAILED=5]="FAILED",e[e.ALL_DONE=6]="ALL_DONE"})(Ys||(Ys={}));const zi=Ee({loaded:!1,inVrMode:!1,viewport:{width:1400,height:900},onBoardingStep:Ys.START_STATE,isTutorial:!1,userHasInteracted:!1,loadPercent:0}),hU=(e,t)=>(Promise.resolve().then(()=>mU(t)),zi.attach(Te).value),mU=e=>{zi.batch(t=>{switch(e.type){case"SET_APP_LOADED":return t.merge({loaded:e.loaded});case"SET_APP_LOADING_PERCENT":return t.merge({loadPercent:e.loadPercent});case"SET_VIEWPORT_SIZE":return t.merge({viewport:{width:e.width,height:e.height}});case"SET_IN_VR_MODE":return t.merge({inVrMode:e.inVrMode});case"SET_USER_HAS_INTERACTED":return t.merge({userHasInteracted:!0});case"SET_APP_ONBOARDING_STEP":return e.onBoardingStep===Ys.ALL_DONE?t.merge({onBoardingStep:e.onBoardingStep>=zi.onBoardingStep.value?e.onBoardingStep:zi.onBoardingStep.value}):e.onBoardingStep===Ys.SCENE_LOADED?t.merge({onBoardingStep:e.onBoardingStep>=zi.onBoardingStep.value?e.onBoardingStep:zi.onBoardingStep.value,isTutorial:!0}):t.merge({onBoardingStep:e.onBoardingStep>=zi.onBoardingStep.value?e.onBoardingStep:zi.onBoardingStep.value,isTutorial:!1});case"SET_APP_SPECIFIC_ONBOARDING_STEP":return t.merge({onBoardingStep:e.onBoardingStep,isTutorial:e.isTutorial})}},e.type)},Lh=Ee({isOpened:!1,content:void 0}),_U=(e,t)=>(Promise.resolve().then(()=>gU(t)),Lh.attach(Te).value),gU=e=>{Lh.batch(t=>{switch(e.type){case"SHOW_DIALOG":return t.merge({isOpened:!0,content:e.content});case"CLOSE_DIALOG":return t.merge({isOpened:!1,content:void 0})}},e.type)},Yz=()=>tn(Lh),Uh=Ee({readError:{scopeErrorMessage:"",statusCode:0},writeError:{scopeErrorMessage:"",statusCode:0}}),vU=(e,t)=>(Promise.resolve().then(()=>yU(t)),Uh.attach(Te).value),yU=e=>{Uh.batch(t=>{switch(e.type){case"SET_SCOPE_READ_ERROR":return t.merge({readError:{scopeErrorMessage:e.message,statusCode:e.statusCode}});case"SET_SCOPE_WRITE_ERROR":return t.merge({writeError:{scopeErrorMessage:e.message,statusCode:e.statusCode}})}},e.type)},jz=()=>tn(Uh);var EU={app:hU,alert:dU,dialog:_U,scopeError:vU},Fh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",_=1,v=2,S=4,T=1,E=2,A=1,k=2,N=4,W=8,Z=16,B=32,ne=64,z=128,Y=256,ae=512,ee=30,me="...",ge=800,$=16,C=1,x=2,L=3,M=1/0,j=9007199254740991,ie=17976931348623157e292,X=0/0,re=4294967295,U=re-1,G=re>>>1,J=[["ary",z],["bind",A],["bindKey",k],["curry",W],["curryRight",Z],["flip",ae],["partial",B],["partialRight",ne],["rearg",Y]],Q="[object Arguments]",O="[object Array]",ce="[object AsyncFunction]",K="[object Boolean]",Ie="[object Date]",Re="[object DOMException]",Le="[object Error]",Se="[object Function]",xt="[object GeneratorFunction]",it="[object Map]",Ne="[object Number]",zt="[object Null]",xe="[object Object]",Ct="[object Promise]",Yi="[object Proxy]",At="[object RegExp]",Xt="[object Set]",rr="[object String]",Kt="[object Symbol]",be="[object Undefined]",tt="[object WeakMap]",Ro="[object WeakSet]",Mr="[object ArrayBuffer]",sn="[object DataView]",Ml="[object Float32Array]",Ll="[object Float64Array]",Ul="[object Int8Array]",Fl="[object Int16Array]",Gl="[object Int32Array]",zl="[object Uint8Array]",Hl="[object Uint8ClampedArray]",$l="[object Uint16Array]",Vl="[object Uint32Array]",lb=/\b__p \+= '';/g,fb=/\b(__p \+=) '' \+/g,db=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Om=/&(?:amp|lt|gt|quot|#39);/g,Im=/[&<>"']/g,pb=RegExp(Om.source),hb=RegExp(Im.source),mb=/<%-([\s\S]+?)%>/g,_b=/<%([\s\S]+?)%>/g,Rm=/<%=([\s\S]+?)%>/g,gb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vb=/^\w*$/,yb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yl=/[\\^$.*+?()[\]{}|]/g,Eb=RegExp(Yl.source),jl=/^\s+/,Sb=/\s/,bb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tb=/\{\n\/\* \[wrapped with (.+)\] \*/,wb=/,? & /,Ab=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ob=/[()=,{}\[\]\/\s]/,Ib=/\\(\\)?/g,Rb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dm=/\w*$/,Db=/^[-+]0x[0-9a-f]+$/i,kb=/^0b[01]+$/i,xb=/^\[object .+?Constructor\]$/,Cb=/^0o[0-7]+$/i,Pb=/^(?:0|[1-9]\d*)$/,Nb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nu=/($^)/,Mb=/['\n\r\u2028\u2029\\]/g,ru="\\ud800-\\udfff",Lb="\\u0300-\\u036f",Ub="\\ufe20-\\ufe2f",Fb="\\u20d0-\\u20ff",km=Lb+Ub+Fb,xm="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",Gb="\\xac\\xb1\\xd7\\xf7",zb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hb="\\u2000-\\u206f",$b=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pm="A-Z\\xc0-\\xd6\\xd8-\\xde",Nm="\\ufe0e\\ufe0f",Mm=Gb+zb+Hb+$b,Wl="['\u2019]",Vb="["+ru+"]",Lm="["+Mm+"]",iu="["+km+"]",Um="\\d+",Yb="["+xm+"]",Fm="["+Cm+"]",Gm="[^"+ru+Mm+Um+xm+Cm+Pm+"]",Bl="\\ud83c[\\udffb-\\udfff]",jb="(?:"+iu+"|"+Bl+")",zm="[^"+ru+"]",Xl="(?:\\ud83c[\\udde6-\\uddff]){2}",Kl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ea="["+Pm+"]",Hm="\\u200d",$m="(?:"+Fm+"|"+Gm+")",Wb="(?:"+Ea+"|"+Gm+")",Vm="(?:"+Wl+"(?:d|ll|m|re|s|t|ve))?",Ym="(?:"+Wl+"(?:D|LL|M|RE|S|T|VE))?",jm=jb+"?",Wm="["+Nm+"]?",Bb="(?:"+Hm+"(?:"+[zm,Xl,Kl].join("|")+")"+Wm+jm+")*",Xb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bm=Wm+jm+Bb,qb="(?:"+[Yb,Xl,Kl].join("|")+")"+Bm,Jb="(?:"+[zm+iu+"?",iu,Xl,Kl,Vb].join("|")+")",Zb=RegExp(Wl,"g"),Qb=RegExp(iu,"g"),ql=RegExp(Bl+"(?="+Bl+")|"+Jb+Bm,"g"),eT=RegExp([Ea+"?"+Fm+"+"+Vm+"(?="+[Lm,Ea,"$"].join("|")+")",Wb+"+"+Ym+"(?="+[Lm,Ea+$m,"$"].join("|")+")",Ea+"?"+$m+"+"+Vm,Ea+"+"+Ym,Kb,Xb,Um,qb].join("|"),"g"),tT=RegExp("["+Hm+ru+km+Nm+"]"),nT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rT=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],iT=-1,ft={};ft[Ml]=ft[Ll]=ft[Ul]=ft[Fl]=ft[Gl]=ft[zl]=ft[Hl]=ft[$l]=ft[Vl]=!0,ft[Q]=ft[O]=ft[Mr]=ft[K]=ft[sn]=ft[Ie]=ft[Le]=ft[Se]=ft[it]=ft[Ne]=ft[xe]=ft[At]=ft[Xt]=ft[rr]=ft[tt]=!1;var at={};at[Q]=at[O]=at[Mr]=at[sn]=at[K]=at[Ie]=at[Ml]=at[Ll]=at[Ul]=at[Fl]=at[Gl]=at[it]=at[Ne]=at[xe]=at[At]=at[Xt]=at[rr]=at[Kt]=at[zl]=at[Hl]=at[$l]=at[Vl]=!0,at[Le]=at[Se]=at[tt]=!1;var aT={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},oT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sT={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cT=parseFloat,lT=parseInt,Xm=typeof jo=="object"&&jo&&jo.Object===Object&&jo,fT=typeof self=="object"&&self&&self.Object===Object&&self,Vt=Xm||fT||Function("return this")(),Jl=t&&!t.nodeType&&t,ji=Jl&&!0&&e&&!e.nodeType&&e,Km=ji&&ji.exports===Jl,Zl=Km&&Xm.process,Gn=function(){try{var I=ji&&ji.require&&ji.require("util").types;return I||Zl&&Zl.binding&&Zl.binding("util")}catch(F){}}(),qm=Gn&&Gn.isArrayBuffer,Jm=Gn&&Gn.isDate,Zm=Gn&&Gn.isMap,Qm=Gn&&Gn.isRegExp,e_=Gn&&Gn.isSet,t_=Gn&&Gn.isTypedArray;function wn(I,F,P){switch(P.length){case 0:return I.call(F);case 1:return I.call(F,P[0]);case 2:return I.call(F,P[0],P[1]);case 3:return I.call(F,P[0],P[1],P[2])}return I.apply(F,P)}function dT(I,F,P,le){for(var we=-1,Be=I==null?0:I.length;++we<Be;){var Lt=I[we];F(le,Lt,P(Lt),I)}return le}function zn(I,F){for(var P=-1,le=I==null?0:I.length;++P<le&&F(I[P],P,I)!==!1;);return I}function pT(I,F){for(var P=I==null?0:I.length;P--&&F(I[P],P,I)!==!1;);return I}function n_(I,F){for(var P=-1,le=I==null?0:I.length;++P<le;)if(!F(I[P],P,I))return!1;return!0}function ui(I,F){for(var P=-1,le=I==null?0:I.length,we=0,Be=[];++P<le;){var Lt=I[P];F(Lt,P,I)&&(Be[we++]=Lt)}return Be}function au(I,F){var P=I==null?0:I.length;return!!P&&Sa(I,F,0)>-1}function Ql(I,F,P){for(var le=-1,we=I==null?0:I.length;++le<we;)if(P(F,I[le]))return!0;return!1}function yt(I,F){for(var P=-1,le=I==null?0:I.length,we=Array(le);++P<le;)we[P]=F(I[P],P,I);return we}function ci(I,F){for(var P=-1,le=F.length,we=I.length;++P<le;)I[we+P]=F[P];return I}function ef(I,F,P,le){var we=-1,Be=I==null?0:I.length;for(le&&Be&&(P=I[++we]);++we<Be;)P=F(P,I[we],we,I);return P}function hT(I,F,P,le){var we=I==null?0:I.length;for(le&&we&&(P=I[--we]);we--;)P=F(P,I[we],we,I);return P}function tf(I,F){for(var P=-1,le=I==null?0:I.length;++P<le;)if(F(I[P],P,I))return!0;return!1}var mT=nf("length");function _T(I){return I.split("")}function gT(I){return I.match(Ab)||[]}function r_(I,F,P){var le;return P(I,function(we,Be,Lt){if(F(we,Be,Lt))return le=Be,!1}),le}function ou(I,F,P,le){for(var we=I.length,Be=P+(le?1:-1);le?Be--:++Be<we;)if(F(I[Be],Be,I))return Be;return-1}function Sa(I,F,P){return F===F?DT(I,F,P):ou(I,i_,P)}function vT(I,F,P,le){for(var we=P-1,Be=I.length;++we<Be;)if(le(I[we],F))return we;return-1}function i_(I){return I!==I}function a_(I,F){var P=I==null?0:I.length;return P?af(I,F)/P:X}function nf(I){return function(F){return F==null?n:F[I]}}function rf(I){return function(F){return I==null?n:I[F]}}function o_(I,F,P,le,we){return we(I,function(Be,Lt,nt){P=le?(le=!1,Be):F(P,Be,Lt,nt)}),P}function yT(I,F){var P=I.length;for(I.sort(F);P--;)I[P]=I[P].value;return I}function af(I,F){for(var P,le=-1,we=I.length;++le<we;){var Be=F(I[le]);Be!==n&&(P=P===n?Be:P+Be)}return P}function of(I,F){for(var P=-1,le=Array(I);++P<I;)le[P]=F(P);return le}function ET(I,F){return yt(F,function(P){return[P,I[P]]})}function s_(I){return I&&I.slice(0,f_(I)+1).replace(jl,"")}function An(I){return function(F){return I(F)}}function sf(I,F){return yt(F,function(P){return I[P]})}function Do(I,F){return I.has(F)}function u_(I,F){for(var P=-1,le=I.length;++P<le&&Sa(F,I[P],0)>-1;);return P}function c_(I,F){for(var P=I.length;P--&&Sa(F,I[P],0)>-1;);return P}function ST(I,F){for(var P=I.length,le=0;P--;)I[P]===F&&++le;return le}var bT=rf(aT),TT=rf(oT);function wT(I){return"\\"+uT[I]}function AT(I,F){return I==null?n:I[F]}function ba(I){return tT.test(I)}function OT(I){return nT.test(I)}function IT(I){for(var F,P=[];!(F=I.next()).done;)P.push(F.value);return P}function uf(I){var F=-1,P=Array(I.size);return I.forEach(function(le,we){P[++F]=[we,le]}),P}function l_(I,F){return function(P){return I(F(P))}}function li(I,F){for(var P=-1,le=I.length,we=0,Be=[];++P<le;){var Lt=I[P];(Lt===F||Lt===h)&&(I[P]=h,Be[we++]=P)}return Be}function su(I){var F=-1,P=Array(I.size);return I.forEach(function(le){P[++F]=le}),P}function RT(I){var F=-1,P=Array(I.size);return I.forEach(function(le){P[++F]=[le,le]}),P}function DT(I,F,P){for(var le=P-1,we=I.length;++le<we;)if(I[le]===F)return le;return-1}function kT(I,F,P){for(var le=P+1;le--;)if(I[le]===F)return le;return le}function Ta(I){return ba(I)?CT(I):mT(I)}function ir(I){return ba(I)?PT(I):_T(I)}function f_(I){for(var F=I.length;F--&&Sb.test(I.charAt(F)););return F}var xT=rf(sT);function CT(I){for(var F=ql.lastIndex=0;ql.test(I);)++F;return F}function PT(I){return I.match(ql)||[]}function NT(I){return I.match(eT)||[]}var MT=function I(F){F=F==null?Vt:wa.defaults(Vt.Object(),F,wa.pick(Vt,rT));var P=F.Array,le=F.Date,we=F.Error,Be=F.Function,Lt=F.Math,nt=F.Object,cf=F.RegExp,LT=F.String,Hn=F.TypeError,uu=P.prototype,UT=Be.prototype,Aa=nt.prototype,cu=F["__core-js_shared__"],lu=UT.toString,qe=Aa.hasOwnProperty,FT=0,d_=function(){var i=/[^.]+$/.exec(cu&&cu.keys&&cu.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),fu=Aa.toString,GT=lu.call(nt),zT=Vt._,HT=cf("^"+lu.call(qe).replace(Yl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=Km?F.Buffer:n,fi=F.Symbol,pu=F.Uint8Array,p_=du?du.allocUnsafe:n,hu=l_(nt.getPrototypeOf,nt),h_=nt.create,m_=Aa.propertyIsEnumerable,mu=uu.splice,__=fi?fi.isConcatSpreadable:n,ko=fi?fi.iterator:n,Wi=fi?fi.toStringTag:n,_u=function(){try{var i=Ji(nt,"defineProperty");return i({},"",{}),i}catch(o){}}(),$T=F.clearTimeout!==Vt.clearTimeout&&F.clearTimeout,VT=le&&le.now!==Vt.Date.now&&le.now,YT=F.setTimeout!==Vt.setTimeout&&F.setTimeout,gu=Lt.ceil,vu=Lt.floor,lf=nt.getOwnPropertySymbols,jT=du?du.isBuffer:n,g_=F.isFinite,WT=uu.join,BT=l_(nt.keys,nt),Ut=Lt.max,qt=Lt.min,XT=le.now,KT=F.parseInt,v_=Lt.random,qT=uu.reverse,ff=Ji(F,"DataView"),xo=Ji(F,"Map"),df=Ji(F,"Promise"),Oa=Ji(F,"Set"),Co=Ji(F,"WeakMap"),Po=Ji(nt,"create"),yu=Co&&new Co,Ia={},JT=Zi(ff),ZT=Zi(xo),QT=Zi(df),ew=Zi(Oa),tw=Zi(Co),Eu=fi?fi.prototype:n,No=Eu?Eu.valueOf:n,y_=Eu?Eu.toString:n;function g(i){if(It(i)&&!Ae(i)&&!(i instanceof Fe)){if(i instanceof $n)return i;if(qe.call(i,"__wrapped__"))return E0(i)}return new $n(i)}var Ra=function(){function i(){}return function(o){if(!Ot(o))return{};if(h_)return h_(o);i.prototype=o;var c=new i;return i.prototype=n,c}}();function Su(){}function $n(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}g.templateSettings={escape:mb,evaluate:_b,interpolate:Rm,variable:"",imports:{_:g}},g.prototype=Su.prototype,g.prototype.constructor=g,$n.prototype=Ra(Su.prototype),$n.prototype.constructor=$n;function Fe(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function nw(){var i=new Fe(this.__wrapped__);return i.__actions__=_n(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=_n(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=_n(this.__views__),i}function rw(){if(this.__filtered__){var i=new Fe(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function iw(){var i=this.__wrapped__.value(),o=this.__dir__,c=Ae(i),p=o<0,m=c?i.length:0,y=_A(0,m,this.__views__),b=y.start,w=y.end,D=w-b,H=p?w:b-1,V=this.__iteratees__,q=V.length,se=0,pe=qt(D,this.__takeCount__);if(!c||!p&&m==D&&pe==D)return V_(i,this.__actions__);var ve=[];e:for(;D--&&se<pe;){H+=o;for(var Ce=-1,ye=i[H];++Ce<q;){var Ue=V[Ce],He=Ue.iteratee,Rn=Ue.type,ln=He(ye);if(Rn==x)ye=ln;else if(!ln){if(Rn==C)continue e;break e}}ve[se++]=ye}return ve}Fe.prototype=Ra(Su.prototype),Fe.prototype.constructor=Fe;function Bi(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var p=i[o];this.set(p[0],p[1])}}function aw(){this.__data__=Po?Po(null):{},this.size=0}function ow(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function sw(i){var o=this.__data__;if(Po){var c=o[i];return c===f?n:c}return qe.call(o,i)?o[i]:n}function uw(i){var o=this.__data__;return Po?o[i]!==n:qe.call(o,i)}function cw(i,o){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Po&&o===n?f:o,this}Bi.prototype.clear=aw,Bi.prototype.delete=ow,Bi.prototype.get=sw,Bi.prototype.has=uw,Bi.prototype.set=cw;function Lr(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var p=i[o];this.set(p[0],p[1])}}function lw(){this.__data__=[],this.size=0}function fw(i){var o=this.__data__,c=bu(o,i);if(c<0)return!1;var p=o.length-1;return c==p?o.pop():mu.call(o,c,1),--this.size,!0}function dw(i){var o=this.__data__,c=bu(o,i);return c<0?n:o[c][1]}function pw(i){return bu(this.__data__,i)>-1}function hw(i,o){var c=this.__data__,p=bu(c,i);return p<0?(++this.size,c.push([i,o])):c[p][1]=o,this}Lr.prototype.clear=lw,Lr.prototype.delete=fw,Lr.prototype.get=dw,Lr.prototype.has=pw,Lr.prototype.set=hw;function Ur(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var p=i[o];this.set(p[0],p[1])}}function mw(){this.size=0,this.__data__={hash:new Bi,map:new(xo||Lr),string:new Bi}}function _w(i){var o=Nu(this,i).delete(i);return this.size-=o?1:0,o}function gw(i){return Nu(this,i).get(i)}function vw(i){return Nu(this,i).has(i)}function yw(i,o){var c=Nu(this,i),p=c.size;return c.set(i,o),this.size+=c.size==p?0:1,this}Ur.prototype.clear=mw,Ur.prototype.delete=_w,Ur.prototype.get=gw,Ur.prototype.has=vw,Ur.prototype.set=yw;function Xi(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new Ur;++o<c;)this.add(i[o])}function Ew(i){return this.__data__.set(i,f),this}function Sw(i){return this.__data__.has(i)}Xi.prototype.add=Xi.prototype.push=Ew,Xi.prototype.has=Sw;function ar(i){var o=this.__data__=new Lr(i);this.size=o.size}function bw(){this.__data__=new Lr,this.size=0}function Tw(i){var o=this.__data__,c=o.delete(i);return this.size=o.size,c}function ww(i){return this.__data__.get(i)}function Aw(i){return this.__data__.has(i)}function Ow(i,o){var c=this.__data__;if(c instanceof Lr){var p=c.__data__;if(!xo||p.length<a-1)return p.push([i,o]),this.size=++c.size,this;c=this.__data__=new Ur(p)}return c.set(i,o),this.size=c.size,this}ar.prototype.clear=bw,ar.prototype.delete=Tw,ar.prototype.get=ww,ar.prototype.has=Aw,ar.prototype.set=Ow;function E_(i,o){var c=Ae(i),p=!c&&Qi(i),m=!c&&!p&&_i(i),y=!c&&!p&&!m&&Ca(i),b=c||p||m||y,w=b?of(i.length,LT):[],D=w.length;for(var H in i)(o||qe.call(i,H))&&!(b&&(H=="length"||m&&(H=="offset"||H=="parent")||y&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||Hr(H,D)))&&w.push(H);return w}function S_(i){var o=i.length;return o?i[Tf(0,o-1)]:n}function Iw(i,o){return Mu(_n(i),Ki(o,0,i.length))}function Rw(i){return Mu(_n(i))}function pf(i,o,c){(c!==n&&!or(i[o],c)||c===n&&!(o in i))&&Fr(i,o,c)}function Mo(i,o,c){var p=i[o];(!(qe.call(i,o)&&or(p,c))||c===n&&!(o in i))&&Fr(i,o,c)}function bu(i,o){for(var c=i.length;c--;)if(or(i[c][0],o))return c;return-1}function Dw(i,o,c,p){return di(i,function(m,y,b){o(p,m,c(m),b)}),p}function b_(i,o){return i&&Sr(o,Ht(o),i)}function kw(i,o){return i&&Sr(o,vn(o),i)}function Fr(i,o,c){o=="__proto__"&&_u?_u(i,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[o]=c}function hf(i,o){for(var c=-1,p=o.length,m=P(p),y=i==null;++c<p;)m[c]=y?n:Xf(i,o[c]);return m}function Ki(i,o,c){return i===i&&(c!==n&&(i=i<=c?i:c),o!==n&&(i=i>=o?i:o)),i}function Vn(i,o,c,p,m,y){var b,w=o&_,D=o&v,H=o&S;if(c&&(b=m?c(i,p,m,y):c(i)),b!==n)return b;if(!Ot(i))return i;var V=Ae(i);if(V){if(b=vA(i),!w)return _n(i,b)}else{var q=Jt(i),se=q==Se||q==xt;if(_i(i))return W_(i,w);if(q==xe||q==Q||se&&!m){if(b=D||se?{}:f0(i),!w)return D?sA(i,kw(b,i)):oA(i,b_(b,i))}else{if(!at[q])return m?i:{};b=yA(i,q,w)}}y||(y=new ar);var pe=y.get(i);if(pe)return pe;y.set(i,b),z0(i)?i.forEach(function(ye){b.add(Vn(ye,o,c,ye,i,y))}):F0(i)&&i.forEach(function(ye,Ue){b.set(Ue,Vn(ye,o,c,Ue,i,y))});var ve=H?D?Nf:Pf:D?vn:Ht,Ce=V?n:ve(i);return zn(Ce||i,function(ye,Ue){Ce&&(Ue=ye,ye=i[Ue]),Mo(b,Ue,Vn(ye,o,c,Ue,i,y))}),b}function xw(i){var o=Ht(i);return function(c){return T_(c,i,o)}}function T_(i,o,c){var p=c.length;if(i==null)return!p;for(i=nt(i);p--;){var m=c[p],y=o[m],b=i[m];if(b===n&&!(m in i)||!y(b))return!1}return!0}function w_(i,o,c){if(typeof i!="function")throw new Hn(u);return $o(function(){i.apply(n,c)},o)}function Lo(i,o,c,p){var m=-1,y=au,b=!0,w=i.length,D=[],H=o.length;if(!w)return D;c&&(o=yt(o,An(c))),p?(y=Ql,b=!1):o.length>=a&&(y=Do,b=!1,o=new Xi(o));e:for(;++m<w;){var V=i[m],q=c==null?V:c(V);if(V=p||V!==0?V:0,b&&q===q){for(var se=H;se--;)if(o[se]===q)continue e;D.push(V)}else y(o,q,p)||D.push(V)}return D}var di=J_(Er),A_=J_(_f,!0);function Cw(i,o){var c=!0;return di(i,function(p,m,y){return c=!!o(p,m,y),c}),c}function Tu(i,o,c){for(var p=-1,m=i.length;++p<m;){var y=i[p],b=o(y);if(b!=null&&(w===n?b===b&&!In(b):c(b,w)))var w=b,D=y}return D}function Pw(i,o,c,p){var m=i.length;for(c=De(c),c<0&&(c=-c>m?0:m+c),p=p===n||p>m?m:De(p),p<0&&(p+=m),p=c>p?0:$0(p);c<p;)i[c++]=o;return i}function O_(i,o){var c=[];return di(i,function(p,m,y){o(p,m,y)&&c.push(p)}),c}function Yt(i,o,c,p,m){var y=-1,b=i.length;for(c||(c=SA),m||(m=[]);++y<b;){var w=i[y];o>0&&c(w)?o>1?Yt(w,o-1,c,p,m):ci(m,w):p||(m[m.length]=w)}return m}var mf=Z_(),I_=Z_(!0);function Er(i,o){return i&&mf(i,o,Ht)}function _f(i,o){return i&&I_(i,o,Ht)}function wu(i,o){return ui(o,function(c){return $r(i[c])})}function qi(i,o){o=hi(o,i);for(var c=0,p=o.length;i!=null&&c<p;)i=i[br(o[c++])];return c&&c==p?i:n}function R_(i,o,c){var p=o(i);return Ae(i)?p:ci(p,c(i))}function un(i){return i==null?i===n?be:zt:Wi&&Wi in nt(i)?mA(i):RA(i)}function gf(i,o){return i>o}function Nw(i,o){return i!=null&&qe.call(i,o)}function Mw(i,o){return i!=null&&o in nt(i)}function Lw(i,o,c){return i>=qt(o,c)&&i<Ut(o,c)}function vf(i,o,c){for(var p=c?Ql:au,m=i[0].length,y=i.length,b=y,w=P(y),D=1/0,H=[];b--;){var V=i[b];b&&o&&(V=yt(V,An(o))),D=qt(V.length,D),w[b]=!c&&(o||m>=120&&V.length>=120)?new Xi(b&&V):n}V=i[0];var q=-1,se=w[0];e:for(;++q<m&&H.length<D;){var pe=V[q],ve=o?o(pe):pe;if(pe=c||pe!==0?pe:0,!(se?Do(se,ve):p(H,ve,c))){for(b=y;--b;){var Ce=w[b];if(!(Ce?Do(Ce,ve):p(i[b],ve,c)))continue e}se&&se.push(ve),H.push(pe)}}return H}function Uw(i,o,c,p){return Er(i,function(m,y,b){o(p,c(m),y,b)}),p}function Uo(i,o,c){o=hi(o,i),i=m0(i,o);var p=i==null?i:i[br(jn(o))];return p==null?n:wn(p,i,c)}function D_(i){return It(i)&&un(i)==Q}function Fw(i){return It(i)&&un(i)==Mr}function Gw(i){return It(i)&&un(i)==Ie}function Fo(i,o,c,p,m){return i===o?!0:i==null||o==null||!It(i)&&!It(o)?i!==i&&o!==o:zw(i,o,c,p,Fo,m)}function zw(i,o,c,p,m,y){var b=Ae(i),w=Ae(o),D=b?O:Jt(i),H=w?O:Jt(o);D=D==Q?xe:D,H=H==Q?xe:H;var V=D==xe,q=H==xe,se=D==H;if(se&&_i(i)){if(!_i(o))return!1;b=!0,V=!1}if(se&&!V)return y||(y=new ar),b||Ca(i)?u0(i,o,c,p,m,y):pA(i,o,D,c,p,m,y);if(!(c&T)){var pe=V&&qe.call(i,"__wrapped__"),ve=q&&qe.call(o,"__wrapped__");if(pe||ve){var Ce=pe?i.value():i,ye=ve?o.value():o;return y||(y=new ar),m(Ce,ye,c,p,y)}}return se?(y||(y=new ar),hA(i,o,c,p,m,y)):!1}function Hw(i){return It(i)&&Jt(i)==it}function yf(i,o,c,p){var m=c.length,y=m,b=!p;if(i==null)return!y;for(i=nt(i);m--;){var w=c[m];if(b&&w[2]?w[1]!==i[w[0]]:!(w[0]in i))return!1}for(;++m<y;){w=c[m];var D=w[0],H=i[D],V=w[1];if(b&&w[2]){if(H===n&&!(D in i))return!1}else{var q=new ar;if(p)var se=p(H,V,D,i,o,q);if(!(se===n?Fo(V,H,T|E,p,q):se))return!1}}return!0}function k_(i){if(!Ot(i)||TA(i))return!1;var o=$r(i)?HT:xb;return o.test(Zi(i))}function $w(i){return It(i)&&un(i)==At}function Vw(i){return It(i)&&Jt(i)==Xt}function Yw(i){return It(i)&&Hu(i.length)&&!!ft[un(i)]}function x_(i){return typeof i=="function"?i:i==null?yn:typeof i=="object"?Ae(i)?N_(i[0],i[1]):P_(i):Q0(i)}function Ef(i){if(!Ho(i))return BT(i);var o=[];for(var c in nt(i))qe.call(i,c)&&c!="constructor"&&o.push(c);return o}function jw(i){if(!Ot(i))return IA(i);var o=Ho(i),c=[];for(var p in i)p=="constructor"&&(o||!qe.call(i,p))||c.push(p);return c}function Sf(i,o){return i<o}function C_(i,o){var c=-1,p=gn(i)?P(i.length):[];return di(i,function(m,y,b){p[++c]=o(m,y,b)}),p}function P_(i){var o=Lf(i);return o.length==1&&o[0][2]?p0(o[0][0],o[0][1]):function(c){return c===i||yf(c,i,o)}}function N_(i,o){return Ff(i)&&d0(o)?p0(br(i),o):function(c){var p=Xf(c,i);return p===n&&p===o?Kf(c,i):Fo(o,p,T|E)}}function Au(i,o,c,p,m){i!==o&&mf(o,function(y,b){if(m||(m=new ar),Ot(y))Ww(i,o,b,c,Au,p,m);else{var w=p?p(zf(i,b),y,b+"",i,o,m):n;w===n&&(w=y),pf(i,b,w)}},vn)}function Ww(i,o,c,p,m,y,b){var w=zf(i,c),D=zf(o,c),H=b.get(D);if(H){pf(i,c,H);return}var V=y?y(w,D,c+"",i,o,b):n,q=V===n;if(q){var se=Ae(D),pe=!se&&_i(D),ve=!se&&!pe&&Ca(D);V=D,se||pe||ve?Ae(w)?V=w:Rt(w)?V=_n(w):pe?(q=!1,V=W_(D,!0)):ve?(q=!1,V=B_(D,!0)):V=[]:Vo(D)||Qi(D)?(V=w,Qi(w)?V=V0(w):(!Ot(w)||$r(w))&&(V=f0(D))):q=!1}q&&(b.set(D,V),m(V,D,p,y,b),b.delete(D)),pf(i,c,V)}function M_(i,o){var c=i.length;if(!!c)return o+=o<0?c:0,Hr(o,c)?i[o]:n}function L_(i,o,c){o.length?o=yt(o,function(y){return Ae(y)?function(b){return qi(b,y.length===1?y[0]:y)}:y}):o=[yn];var p=-1;o=yt(o,An(_e()));var m=C_(i,function(y,b,w){var D=yt(o,function(H){return H(y)});return{criteria:D,index:++p,value:y}});return yT(m,function(y,b){return aA(y,b,c)})}function Bw(i,o){return U_(i,o,function(c,p){return Kf(i,p)})}function U_(i,o,c){for(var p=-1,m=o.length,y={};++p<m;){var b=o[p],w=qi(i,b);c(w,b)&&Go(y,hi(b,i),w)}return y}function Xw(i){return function(o){return qi(o,i)}}function bf(i,o,c,p){var m=p?vT:Sa,y=-1,b=o.length,w=i;for(i===o&&(o=_n(o)),c&&(w=yt(i,An(c)));++y<b;)for(var D=0,H=o[y],V=c?c(H):H;(D=m(w,V,D,p))>-1;)w!==i&&mu.call(w,D,1),mu.call(i,D,1);return i}function F_(i,o){for(var c=i?o.length:0,p=c-1;c--;){var m=o[c];if(c==p||m!==y){var y=m;Hr(m)?mu.call(i,m,1):Of(i,m)}}return i}function Tf(i,o){return i+vu(v_()*(o-i+1))}function Kw(i,o,c,p){for(var m=-1,y=Ut(gu((o-i)/(c||1)),0),b=P(y);y--;)b[p?y:++m]=i,i+=c;return b}function wf(i,o){var c="";if(!i||o<1||o>j)return c;do o%2&&(c+=i),o=vu(o/2),o&&(i+=i);while(o);return c}function Pe(i,o){return Hf(h0(i,o,yn),i+"")}function qw(i){return S_(Pa(i))}function Jw(i,o){var c=Pa(i);return Mu(c,Ki(o,0,c.length))}function Go(i,o,c,p){if(!Ot(i))return i;o=hi(o,i);for(var m=-1,y=o.length,b=y-1,w=i;w!=null&&++m<y;){var D=br(o[m]),H=c;if(D==="__proto__"||D==="constructor"||D==="prototype")return i;if(m!=b){var V=w[D];H=p?p(V,D,w):n,H===n&&(H=Ot(V)?V:Hr(o[m+1])?[]:{})}Mo(w,D,H),w=w[D]}return i}var G_=yu?function(i,o){return yu.set(i,o),i}:yn,Zw=_u?function(i,o){return _u(i,"toString",{configurable:!0,enumerable:!1,value:Jf(o),writable:!0})}:yn;function Qw(i){return Mu(Pa(i))}function Yn(i,o,c){var p=-1,m=i.length;o<0&&(o=-o>m?0:m+o),c=c>m?m:c,c<0&&(c+=m),m=o>c?0:c-o>>>0,o>>>=0;for(var y=P(m);++p<m;)y[p]=i[p+o];return y}function eA(i,o){var c;return di(i,function(p,m,y){return c=o(p,m,y),!c}),!!c}function Ou(i,o,c){var p=0,m=i==null?p:i.length;if(typeof o=="number"&&o===o&&m<=G){for(;p<m;){var y=p+m>>>1,b=i[y];b!==null&&!In(b)&&(c?b<=o:b<o)?p=y+1:m=y}return m}return Af(i,o,yn,c)}function Af(i,o,c,p){var m=0,y=i==null?0:i.length;if(y===0)return 0;o=c(o);for(var b=o!==o,w=o===null,D=In(o),H=o===n;m<y;){var V=vu((m+y)/2),q=c(i[V]),se=q!==n,pe=q===null,ve=q===q,Ce=In(q);if(b)var ye=p||ve;else H?ye=ve&&(p||se):w?ye=ve&&se&&(p||!pe):D?ye=ve&&se&&!pe&&(p||!Ce):pe||Ce?ye=!1:ye=p?q<=o:q<o;ye?m=V+1:y=V}return qt(y,U)}function z_(i,o){for(var c=-1,p=i.length,m=0,y=[];++c<p;){var b=i[c],w=o?o(b):b;if(!c||!or(w,D)){var D=w;y[m++]=b===0?0:b}}return y}function H_(i){return typeof i=="number"?i:In(i)?X:+i}function On(i){if(typeof i=="string")return i;if(Ae(i))return yt(i,On)+"";if(In(i))return y_?y_.call(i):"";var o=i+"";return o=="0"&&1/i==-M?"-0":o}function pi(i,o,c){var p=-1,m=au,y=i.length,b=!0,w=[],D=w;if(c)b=!1,m=Ql;else if(y>=a){var H=o?null:fA(i);if(H)return su(H);b=!1,m=Do,D=new Xi}else D=o?[]:w;e:for(;++p<y;){var V=i[p],q=o?o(V):V;if(V=c||V!==0?V:0,b&&q===q){for(var se=D.length;se--;)if(D[se]===q)continue e;o&&D.push(q),w.push(V)}else m(D,q,c)||(D!==w&&D.push(q),w.push(V))}return w}function Of(i,o){return o=hi(o,i),i=m0(i,o),i==null||delete i[br(jn(o))]}function $_(i,o,c,p){return Go(i,o,c(qi(i,o)),p)}function Iu(i,o,c,p){for(var m=i.length,y=p?m:-1;(p?y--:++y<m)&&o(i[y],y,i););return c?Yn(i,p?0:y,p?y+1:m):Yn(i,p?y+1:0,p?m:y)}function V_(i,o){var c=i;return c instanceof Fe&&(c=c.value()),ef(o,function(p,m){return m.func.apply(m.thisArg,ci([p],m.args))},c)}function If(i,o,c){var p=i.length;if(p<2)return p?pi(i[0]):[];for(var m=-1,y=P(p);++m<p;)for(var b=i[m],w=-1;++w<p;)w!=m&&(y[m]=Lo(y[m]||b,i[w],o,c));return pi(Yt(y,1),o,c)}function Y_(i,o,c){for(var p=-1,m=i.length,y=o.length,b={};++p<m;){var w=p<y?o[p]:n;c(b,i[p],w)}return b}function Rf(i){return Rt(i)?i:[]}function Df(i){return typeof i=="function"?i:yn}function hi(i,o){return Ae(i)?i:Ff(i,o)?[i]:y0(Ke(i))}var tA=Pe;function mi(i,o,c){var p=i.length;return c=c===n?p:c,!o&&c>=p?i:Yn(i,o,c)}var j_=$T||function(i){return Vt.clearTimeout(i)};function W_(i,o){if(o)return i.slice();var c=i.length,p=p_?p_(c):new i.constructor(c);return i.copy(p),p}function kf(i){var o=new i.constructor(i.byteLength);return new pu(o).set(new pu(i)),o}function nA(i,o){var c=o?kf(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function rA(i){var o=new i.constructor(i.source,Dm.exec(i));return o.lastIndex=i.lastIndex,o}function iA(i){return No?nt(No.call(i)):{}}function B_(i,o){var c=o?kf(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function X_(i,o){if(i!==o){var c=i!==n,p=i===null,m=i===i,y=In(i),b=o!==n,w=o===null,D=o===o,H=In(o);if(!w&&!H&&!y&&i>o||y&&b&&D&&!w&&!H||p&&b&&D||!c&&D||!m)return 1;if(!p&&!y&&!H&&i<o||H&&c&&m&&!p&&!y||w&&c&&m||!b&&m||!D)return-1}return 0}function aA(i,o,c){for(var p=-1,m=i.criteria,y=o.criteria,b=m.length,w=c.length;++p<b;){var D=X_(m[p],y[p]);if(D){if(p>=w)return D;var H=c[p];return D*(H=="desc"?-1:1)}}return i.index-o.index}function K_(i,o,c,p){for(var m=-1,y=i.length,b=c.length,w=-1,D=o.length,H=Ut(y-b,0),V=P(D+H),q=!p;++w<D;)V[w]=o[w];for(;++m<b;)(q||m<y)&&(V[c[m]]=i[m]);for(;H--;)V[w++]=i[m++];return V}function q_(i,o,c,p){for(var m=-1,y=i.length,b=-1,w=c.length,D=-1,H=o.length,V=Ut(y-w,0),q=P(V+H),se=!p;++m<V;)q[m]=i[m];for(var pe=m;++D<H;)q[pe+D]=o[D];for(;++b<w;)(se||m<y)&&(q[pe+c[b]]=i[m++]);return q}function _n(i,o){var c=-1,p=i.length;for(o||(o=P(p));++c<p;)o[c]=i[c];return o}function Sr(i,o,c,p){var m=!c;c||(c={});for(var y=-1,b=o.length;++y<b;){var w=o[y],D=p?p(c[w],i[w],w,c,i):n;D===n&&(D=i[w]),m?Fr(c,w,D):Mo(c,w,D)}return c}function oA(i,o){return Sr(i,Uf(i),o)}function sA(i,o){return Sr(i,c0(i),o)}function Ru(i,o){return function(c,p){var m=Ae(c)?dT:Dw,y=o?o():{};return m(c,i,_e(p,2),y)}}function Da(i){return Pe(function(o,c){var p=-1,m=c.length,y=m>1?c[m-1]:n,b=m>2?c[2]:n;for(y=i.length>3&&typeof y=="function"?(m--,y):n,b&&cn(c[0],c[1],b)&&(y=m<3?n:y,m=1),o=nt(o);++p<m;){var w=c[p];w&&i(o,w,p,y)}return o})}function J_(i,o){return function(c,p){if(c==null)return c;if(!gn(c))return i(c,p);for(var m=c.length,y=o?m:-1,b=nt(c);(o?y--:++y<m)&&p(b[y],y,b)!==!1;);return c}}function Z_(i){return function(o,c,p){for(var m=-1,y=nt(o),b=p(o),w=b.length;w--;){var D=b[i?w:++m];if(c(y[D],D,y)===!1)break}return o}}function uA(i,o,c){var p=o&A,m=zo(i);function y(){var b=this&&this!==Vt&&this instanceof y?m:i;return b.apply(p?c:this,arguments)}return y}function Q_(i){return function(o){o=Ke(o);var c=ba(o)?ir(o):n,p=c?c[0]:o.charAt(0),m=c?mi(c,1).join(""):o.slice(1);return p[i]()+m}}function ka(i){return function(o){return ef(J0(q0(o).replace(Zb,"")),i,"")}}function zo(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ra(i.prototype),p=i.apply(c,o);return Ot(p)?p:c}}function cA(i,o,c){var p=zo(i);function m(){for(var y=arguments.length,b=P(y),w=y,D=xa(m);w--;)b[w]=arguments[w];var H=y<3&&b[0]!==D&&b[y-1]!==D?[]:li(b,D);if(y-=H.length,y<c)return i0(i,o,Du,m.placeholder,n,b,H,n,n,c-y);var V=this&&this!==Vt&&this instanceof m?p:i;return wn(V,this,b)}return m}function e0(i){return function(o,c,p){var m=nt(o);if(!gn(o)){var y=_e(c,3);o=Ht(o),c=function(w){return y(m[w],w,m)}}var b=i(o,c,p);return b>-1?m[y?o[b]:b]:n}}function t0(i){return zr(function(o){var c=o.length,p=c,m=$n.prototype.thru;for(i&&o.reverse();p--;){var y=o[p];if(typeof y!="function")throw new Hn(u);if(m&&!b&&Pu(y)=="wrapper")var b=new $n([],!0)}for(p=b?p:c;++p<c;){y=o[p];var w=Pu(y),D=w=="wrapper"?Mf(y):n;D&&Gf(D[0])&&D[1]==(z|W|B|Y)&&!D[4].length&&D[9]==1?b=b[Pu(D[0])].apply(b,D[3]):b=y.length==1&&Gf(y)?b[w]():b.thru(y)}return function(){var H=arguments,V=H[0];if(b&&H.length==1&&Ae(V))return b.plant(V).value();for(var q=0,se=c?o[q].apply(this,H):V;++q<c;)se=o[q].call(this,se);return se}})}function Du(i,o,c,p,m,y,b,w,D,H){var V=o&z,q=o&A,se=o&k,pe=o&(W|Z),ve=o&ae,Ce=se?n:zo(i);function ye(){for(var Ue=arguments.length,He=P(Ue),Rn=Ue;Rn--;)He[Rn]=arguments[Rn];if(pe)var ln=xa(ye),Dn=ST(He,ln);if(p&&(He=K_(He,p,m,pe)),y&&(He=q_(He,y,b,pe)),Ue-=Dn,pe&&Ue<H){var Dt=li(He,ln);return i0(i,o,Du,ye.placeholder,c,He,Dt,w,D,H-Ue)}var sr=q?c:this,Yr=se?sr[i]:i;return Ue=He.length,w?He=DA(He,w):ve&&Ue>1&&He.reverse(),V&&D<Ue&&(He.length=D),this&&this!==Vt&&this instanceof ye&&(Yr=Ce||zo(Yr)),Yr.apply(sr,He)}return ye}function n0(i,o){return function(c,p){return Uw(c,i,o(p),{})}}function ku(i,o){return function(c,p){var m;if(c===n&&p===n)return o;if(c!==n&&(m=c),p!==n){if(m===n)return p;typeof c=="string"||typeof p=="string"?(c=On(c),p=On(p)):(c=H_(c),p=H_(p)),m=i(c,p)}return m}}function xf(i){return zr(function(o){return o=yt(o,An(_e())),Pe(function(c){var p=this;return i(o,function(m){return wn(m,p,c)})})})}function xu(i,o){o=o===n?" ":On(o);var c=o.length;if(c<2)return c?wf(o,i):o;var p=wf(o,gu(i/Ta(o)));return ba(o)?mi(ir(p),0,i).join(""):p.slice(0,i)}function lA(i,o,c,p){var m=o&A,y=zo(i);function b(){for(var w=-1,D=arguments.length,H=-1,V=p.length,q=P(V+D),se=this&&this!==Vt&&this instanceof b?y:i;++H<V;)q[H]=p[H];for(;D--;)q[H++]=arguments[++w];return wn(se,m?c:this,q)}return b}function r0(i){return function(o,c,p){return p&&typeof p!="number"&&cn(o,c,p)&&(c=p=n),o=Vr(o),c===n?(c=o,o=0):c=Vr(c),p=p===n?o<c?1:-1:Vr(p),Kw(o,c,p,i)}}function Cu(i){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=Wn(o),c=Wn(c)),i(o,c)}}function i0(i,o,c,p,m,y,b,w,D,H){var V=o&W,q=V?b:n,se=V?n:b,pe=V?y:n,ve=V?n:y;o|=V?B:ne,o&=~(V?ne:B),o&N||(o&=~(A|k));var Ce=[i,o,m,pe,q,ve,se,w,D,H],ye=c.apply(n,Ce);return Gf(i)&&_0(ye,Ce),ye.placeholder=p,g0(ye,i,o)}function Cf(i){var o=Lt[i];return function(c,p){if(c=Wn(c),p=p==null?0:qt(De(p),292),p&&g_(c)){var m=(Ke(c)+"e").split("e"),y=o(m[0]+"e"+(+m[1]+p));return m=(Ke(y)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return o(c)}}var fA=Oa&&1/su(new Oa([,-0]))[1]==M?function(i){return new Oa(i)}:ed;function a0(i){return function(o){var c=Jt(o);return c==it?uf(o):c==Xt?RT(o):ET(o,i(o))}}function Gr(i,o,c,p,m,y,b,w){var D=o&k;if(!D&&typeof i!="function")throw new Hn(u);var H=p?p.length:0;if(H||(o&=~(B|ne),p=m=n),b=b===n?b:Ut(De(b),0),w=w===n?w:De(w),H-=m?m.length:0,o&ne){var V=p,q=m;p=m=n}var se=D?n:Mf(i),pe=[i,o,c,p,m,V,q,y,b,w];if(se&&OA(pe,se),i=pe[0],o=pe[1],c=pe[2],p=pe[3],m=pe[4],w=pe[9]=pe[9]===n?D?0:i.length:Ut(pe[9]-H,0),!w&&o&(W|Z)&&(o&=~(W|Z)),!o||o==A)var ve=uA(i,o,c);else o==W||o==Z?ve=cA(i,o,w):(o==B||o==(A|B))&&!m.length?ve=lA(i,o,c,p):ve=Du.apply(n,pe);var Ce=se?G_:_0;return g0(Ce(ve,pe),i,o)}function o0(i,o,c,p){return i===n||or(i,Aa[c])&&!qe.call(p,c)?o:i}function s0(i,o,c,p,m,y){return Ot(i)&&Ot(o)&&(y.set(o,i),Au(i,o,n,s0,y),y.delete(o)),i}function dA(i){return Vo(i)?n:i}function u0(i,o,c,p,m,y){var b=c&T,w=i.length,D=o.length;if(w!=D&&!(b&&D>w))return!1;var H=y.get(i),V=y.get(o);if(H&&V)return H==o&&V==i;var q=-1,se=!0,pe=c&E?new Xi:n;for(y.set(i,o),y.set(o,i);++q<w;){var ve=i[q],Ce=o[q];if(p)var ye=b?p(Ce,ve,q,o,i,y):p(ve,Ce,q,i,o,y);if(ye!==n){if(ye)continue;se=!1;break}if(pe){if(!tf(o,function(Ue,He){if(!Do(pe,He)&&(ve===Ue||m(ve,Ue,c,p,y)))return pe.push(He)})){se=!1;break}}else if(!(ve===Ce||m(ve,Ce,c,p,y))){se=!1;break}}return y.delete(i),y.delete(o),se}function pA(i,o,c,p,m,y,b){switch(c){case sn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Mr:return!(i.byteLength!=o.byteLength||!y(new pu(i),new pu(o)));case K:case Ie:case Ne:return or(+i,+o);case Le:return i.name==o.name&&i.message==o.message;case At:case rr:return i==o+"";case it:var w=uf;case Xt:var D=p&T;if(w||(w=su),i.size!=o.size&&!D)return!1;var H=b.get(i);if(H)return H==o;p|=E,b.set(i,o);var V=u0(w(i),w(o),p,m,y,b);return b.delete(i),V;case Kt:if(No)return No.call(i)==No.call(o)}return!1}function hA(i,o,c,p,m,y){var b=c&T,w=Pf(i),D=w.length,H=Pf(o),V=H.length;if(D!=V&&!b)return!1;for(var q=D;q--;){var se=w[q];if(!(b?se in o:qe.call(o,se)))return!1}var pe=y.get(i),ve=y.get(o);if(pe&&ve)return pe==o&&ve==i;var Ce=!0;y.set(i,o),y.set(o,i);for(var ye=b;++q<D;){se=w[q];var Ue=i[se],He=o[se];if(p)var Rn=b?p(He,Ue,se,o,i,y):p(Ue,He,se,i,o,y);if(!(Rn===n?Ue===He||m(Ue,He,c,p,y):Rn)){Ce=!1;break}ye||(ye=se=="constructor")}if(Ce&&!ye){var ln=i.constructor,Dn=o.constructor;ln!=Dn&&"constructor"in i&&"constructor"in o&&!(typeof ln=="function"&&ln instanceof ln&&typeof Dn=="function"&&Dn instanceof Dn)&&(Ce=!1)}return y.delete(i),y.delete(o),Ce}function zr(i){return Hf(h0(i,n,T0),i+"")}function Pf(i){return R_(i,Ht,Uf)}function Nf(i){return R_(i,vn,c0)}var Mf=yu?function(i){return yu.get(i)}:ed;function Pu(i){for(var o=i.name+"",c=Ia[o],p=qe.call(Ia,o)?c.length:0;p--;){var m=c[p],y=m.func;if(y==null||y==i)return m.name}return o}function xa(i){var o=qe.call(g,"placeholder")?g:i;return o.placeholder}function _e(){var i=g.iteratee||Zf;return i=i===Zf?x_:i,arguments.length?i(arguments[0],arguments[1]):i}function Nu(i,o){var c=i.__data__;return bA(o)?c[typeof o=="string"?"string":"hash"]:c.map}function Lf(i){for(var o=Ht(i),c=o.length;c--;){var p=o[c],m=i[p];o[c]=[p,m,d0(m)]}return o}function Ji(i,o){var c=AT(i,o);return k_(c)?c:n}function mA(i){var o=qe.call(i,Wi),c=i[Wi];try{i[Wi]=n;var p=!0}catch(y){}var m=fu.call(i);return p&&(o?i[Wi]=c:delete i[Wi]),m}var Uf=lf?function(i){return i==null?[]:(i=nt(i),ui(lf(i),function(o){return m_.call(i,o)}))}:td,c0=lf?function(i){for(var o=[];i;)ci(o,Uf(i)),i=hu(i);return o}:td,Jt=un;(ff&&Jt(new ff(new ArrayBuffer(1)))!=sn||xo&&Jt(new xo)!=it||df&&Jt(df.resolve())!=Ct||Oa&&Jt(new Oa)!=Xt||Co&&Jt(new Co)!=tt)&&(Jt=function(i){var o=un(i),c=o==xe?i.constructor:n,p=c?Zi(c):"";if(p)switch(p){case JT:return sn;case ZT:return it;case QT:return Ct;case ew:return Xt;case tw:return tt}return o});function _A(i,o,c){for(var p=-1,m=c.length;++p<m;){var y=c[p],b=y.size;switch(y.type){case"drop":i+=b;break;case"dropRight":o-=b;break;case"take":o=qt(o,i+b);break;case"takeRight":i=Ut(i,o-b);break}}return{start:i,end:o}}function gA(i){var o=i.match(Tb);return o?o[1].split(wb):[]}function l0(i,o,c){o=hi(o,i);for(var p=-1,m=o.length,y=!1;++p<m;){var b=br(o[p]);if(!(y=i!=null&&c(i,b)))break;i=i[b]}return y||++p!=m?y:(m=i==null?0:i.length,!!m&&Hu(m)&&Hr(b,m)&&(Ae(i)||Qi(i)))}function vA(i){var o=i.length,c=new i.constructor(o);return o&&typeof i[0]=="string"&&qe.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function f0(i){return typeof i.constructor=="function"&&!Ho(i)?Ra(hu(i)):{}}function yA(i,o,c){var p=i.constructor;switch(o){case Mr:return kf(i);case K:case Ie:return new p(+i);case sn:return nA(i,c);case Ml:case Ll:case Ul:case Fl:case Gl:case zl:case Hl:case $l:case Vl:return B_(i,c);case it:return new p;case Ne:case rr:return new p(i);case At:return rA(i);case Xt:return new p;case Kt:return iA(i)}}function EA(i,o){var c=o.length;if(!c)return i;var p=c-1;return o[p]=(c>1?"& ":"")+o[p],o=o.join(c>2?", ":" "),i.replace(bb,`{
/* [wrapped with `+o+`] */
`)}function SA(i){return Ae(i)||Qi(i)||!!(__&&i&&i[__])}function Hr(i,o){var c=typeof i;return o=o??j,!!o&&(c=="number"||c!="symbol"&&Pb.test(i))&&i>-1&&i%1==0&&i<o}function cn(i,o,c){if(!Ot(c))return!1;var p=typeof o;return(p=="number"?gn(c)&&Hr(o,c.length):p=="string"&&o in c)?or(c[o],i):!1}function Ff(i,o){if(Ae(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||In(i)?!0:vb.test(i)||!gb.test(i)||o!=null&&i in nt(o)}function bA(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Gf(i){var o=Pu(i),c=g[o];if(typeof c!="function"||!(o in Fe.prototype))return!1;if(i===c)return!0;var p=Mf(c);return!!p&&i===p[0]}function TA(i){return!!d_&&d_ in i}var wA=cu?$r:nd;function Ho(i){var o=i&&i.constructor,c=typeof o=="function"&&o.prototype||Aa;return i===c}function d0(i){return i===i&&!Ot(i)}function p0(i,o){return function(c){return c==null?!1:c[i]===o&&(o!==n||i in nt(c))}}function AA(i){var o=Gu(i,function(p){return c.size===d&&c.clear(),p}),c=o.cache;return o}function OA(i,o){var c=i[1],p=o[1],m=c|p,y=m<(A|k|z),b=p==z&&c==W||p==z&&c==Y&&i[7].length<=o[8]||p==(z|Y)&&o[7].length<=o[8]&&c==W;if(!(y||b))return i;p&A&&(i[2]=o[2],m|=c&A?0:N);var w=o[3];if(w){var D=i[3];i[3]=D?K_(D,w,o[4]):w,i[4]=D?li(i[3],h):o[4]}return w=o[5],w&&(D=i[5],i[5]=D?q_(D,w,o[6]):w,i[6]=D?li(i[5],h):o[6]),w=o[7],w&&(i[7]=w),p&z&&(i[8]=i[8]==null?o[8]:qt(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=m,i}function IA(i){var o=[];if(i!=null)for(var c in nt(i))o.push(c);return o}function RA(i){return fu.call(i)}function h0(i,o,c){return o=Ut(o===n?i.length-1:o,0),function(){for(var p=arguments,m=-1,y=Ut(p.length-o,0),b=P(y);++m<y;)b[m]=p[o+m];m=-1;for(var w=P(o+1);++m<o;)w[m]=p[m];return w[o]=c(b),wn(i,this,w)}}function m0(i,o){return o.length<2?i:qi(i,Yn(o,0,-1))}function DA(i,o){for(var c=i.length,p=qt(o.length,c),m=_n(i);p--;){var y=o[p];i[p]=Hr(y,c)?m[y]:n}return i}function zf(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var _0=v0(G_),$o=YT||function(i,o){return Vt.setTimeout(i,o)},Hf=v0(Zw);function g0(i,o,c){var p=o+"";return Hf(i,EA(p,kA(gA(p),c)))}function v0(i){var o=0,c=0;return function(){var p=XT(),m=$-(p-c);if(c=p,m>0){if(++o>=ge)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Mu(i,o){var c=-1,p=i.length,m=p-1;for(o=o===n?p:o;++c<o;){var y=Tf(c,m),b=i[y];i[y]=i[c],i[c]=b}return i.length=o,i}var y0=AA(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(yb,function(c,p,m,y){o.push(m?y.replace(Ib,"$1"):p||c)}),o});function br(i){if(typeof i=="string"||In(i))return i;var o=i+"";return o=="0"&&1/i==-M?"-0":o}function Zi(i){if(i!=null){try{return lu.call(i)}catch(o){}try{return i+""}catch(o){}}return""}function kA(i,o){return zn(J,function(c){var p="_."+c[0];o&c[1]&&!au(i,p)&&i.push(p)}),i.sort()}function E0(i){if(i instanceof Fe)return i.clone();var o=new $n(i.__wrapped__,i.__chain__);return o.__actions__=_n(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function xA(i,o,c){(c?cn(i,o,c):o===n)?o=1:o=Ut(De(o),0);var p=i==null?0:i.length;if(!p||o<1)return[];for(var m=0,y=0,b=P(gu(p/o));m<p;)b[y++]=Yn(i,m,m+=o);return b}function CA(i){for(var o=-1,c=i==null?0:i.length,p=0,m=[];++o<c;){var y=i[o];y&&(m[p++]=y)}return m}function PA(){var i=arguments.length;if(!i)return[];for(var o=P(i-1),c=arguments[0],p=i;p--;)o[p-1]=arguments[p];return ci(Ae(c)?_n(c):[c],Yt(o,1))}var NA=Pe(function(i,o){return Rt(i)?Lo(i,Yt(o,1,Rt,!0)):[]}),MA=Pe(function(i,o){var c=jn(o);return Rt(c)&&(c=n),Rt(i)?Lo(i,Yt(o,1,Rt,!0),_e(c,2)):[]}),LA=Pe(function(i,o){var c=jn(o);return Rt(c)&&(c=n),Rt(i)?Lo(i,Yt(o,1,Rt,!0),n,c):[]});function UA(i,o,c){var p=i==null?0:i.length;return p?(o=c||o===n?1:De(o),Yn(i,o<0?0:o,p)):[]}function FA(i,o,c){var p=i==null?0:i.length;return p?(o=c||o===n?1:De(o),o=p-o,Yn(i,0,o<0?0:o)):[]}function GA(i,o){return i&&i.length?Iu(i,_e(o,3),!0,!0):[]}function zA(i,o){return i&&i.length?Iu(i,_e(o,3),!0):[]}function HA(i,o,c,p){var m=i==null?0:i.length;return m?(c&&typeof c!="number"&&cn(i,o,c)&&(c=0,p=m),Pw(i,o,c,p)):[]}function S0(i,o,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:De(c);return m<0&&(m=Ut(p+m,0)),ou(i,_e(o,3),m)}function b0(i,o,c){var p=i==null?0:i.length;if(!p)return-1;var m=p-1;return c!==n&&(m=De(c),m=c<0?Ut(p+m,0):qt(m,p-1)),ou(i,_e(o,3),m,!0)}function T0(i){var o=i==null?0:i.length;return o?Yt(i,1):[]}function $A(i){var o=i==null?0:i.length;return o?Yt(i,M):[]}function VA(i,o){var c=i==null?0:i.length;return c?(o=o===n?1:De(o),Yt(i,o)):[]}function YA(i){for(var o=-1,c=i==null?0:i.length,p={};++o<c;){var m=i[o];p[m[0]]=m[1]}return p}function w0(i){return i&&i.length?i[0]:n}function jA(i,o,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:De(c);return m<0&&(m=Ut(p+m,0)),Sa(i,o,m)}function WA(i){var o=i==null?0:i.length;return o?Yn(i,0,-1):[]}var BA=Pe(function(i){var o=yt(i,Rf);return o.length&&o[0]===i[0]?vf(o):[]}),XA=Pe(function(i){var o=jn(i),c=yt(i,Rf);return o===jn(c)?o=n:c.pop(),c.length&&c[0]===i[0]?vf(c,_e(o,2)):[]}),KA=Pe(function(i){var o=jn(i),c=yt(i,Rf);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===i[0]?vf(c,n,o):[]});function qA(i,o){return i==null?"":WT.call(i,o)}function jn(i){var o=i==null?0:i.length;return o?i[o-1]:n}function JA(i,o,c){var p=i==null?0:i.length;if(!p)return-1;var m=p;return c!==n&&(m=De(c),m=m<0?Ut(p+m,0):qt(m,p-1)),o===o?kT(i,o,m):ou(i,i_,m,!0)}function ZA(i,o){return i&&i.length?M_(i,De(o)):n}var QA=Pe(A0);function A0(i,o){return i&&i.length&&o&&o.length?bf(i,o):i}function eO(i,o,c){return i&&i.length&&o&&o.length?bf(i,o,_e(c,2)):i}function tO(i,o,c){return i&&i.length&&o&&o.length?bf(i,o,n,c):i}var nO=zr(function(i,o){var c=i==null?0:i.length,p=hf(i,o);return F_(i,yt(o,function(m){return Hr(m,c)?+m:m}).sort(X_)),p});function rO(i,o){var c=[];if(!(i&&i.length))return c;var p=-1,m=[],y=i.length;for(o=_e(o,3);++p<y;){var b=i[p];o(b,p,i)&&(c.push(b),m.push(p))}return F_(i,m),c}function $f(i){return i==null?i:qT.call(i)}function iO(i,o,c){var p=i==null?0:i.length;return p?(c&&typeof c!="number"&&cn(i,o,c)?(o=0,c=p):(o=o==null?0:De(o),c=c===n?p:De(c)),Yn(i,o,c)):[]}function aO(i,o){return Ou(i,o)}function oO(i,o,c){return Af(i,o,_e(c,2))}function sO(i,o){var c=i==null?0:i.length;if(c){var p=Ou(i,o);if(p<c&&or(i[p],o))return p}return-1}function uO(i,o){return Ou(i,o,!0)}function cO(i,o,c){return Af(i,o,_e(c,2),!0)}function lO(i,o){var c=i==null?0:i.length;if(c){var p=Ou(i,o,!0)-1;if(or(i[p],o))return p}return-1}function fO(i){return i&&i.length?z_(i):[]}function dO(i,o){return i&&i.length?z_(i,_e(o,2)):[]}function pO(i){var o=i==null?0:i.length;return o?Yn(i,1,o):[]}function hO(i,o,c){return i&&i.length?(o=c||o===n?1:De(o),Yn(i,0,o<0?0:o)):[]}function mO(i,o,c){var p=i==null?0:i.length;return p?(o=c||o===n?1:De(o),o=p-o,Yn(i,o<0?0:o,p)):[]}function _O(i,o){return i&&i.length?Iu(i,_e(o,3),!1,!0):[]}function gO(i,o){return i&&i.length?Iu(i,_e(o,3)):[]}var vO=Pe(function(i){return pi(Yt(i,1,Rt,!0))}),yO=Pe(function(i){var o=jn(i);return Rt(o)&&(o=n),pi(Yt(i,1,Rt,!0),_e(o,2))}),EO=Pe(function(i){var o=jn(i);return o=typeof o=="function"?o:n,pi(Yt(i,1,Rt,!0),n,o)});function SO(i){return i&&i.length?pi(i):[]}function bO(i,o){return i&&i.length?pi(i,_e(o,2)):[]}function TO(i,o){return o=typeof o=="function"?o:n,i&&i.length?pi(i,n,o):[]}function Vf(i){if(!(i&&i.length))return[];var o=0;return i=ui(i,function(c){if(Rt(c))return o=Ut(c.length,o),!0}),of(o,function(c){return yt(i,nf(c))})}function O0(i,o){if(!(i&&i.length))return[];var c=Vf(i);return o==null?c:yt(c,function(p){return wn(o,n,p)})}var wO=Pe(function(i,o){return Rt(i)?Lo(i,o):[]}),AO=Pe(function(i){return If(ui(i,Rt))}),OO=Pe(function(i){var o=jn(i);return Rt(o)&&(o=n),If(ui(i,Rt),_e(o,2))}),IO=Pe(function(i){var o=jn(i);return o=typeof o=="function"?o:n,If(ui(i,Rt),n,o)}),RO=Pe(Vf);function DO(i,o){return Y_(i||[],o||[],Mo)}function kO(i,o){return Y_(i||[],o||[],Go)}var xO=Pe(function(i){var o=i.length,c=o>1?i[o-1]:n;return c=typeof c=="function"?(i.pop(),c):n,O0(i,c)});function I0(i){var o=g(i);return o.__chain__=!0,o}function CO(i,o){return o(i),i}function Lu(i,o){return o(i)}var PO=zr(function(i){var o=i.length,c=o?i[0]:0,p=this.__wrapped__,m=function(y){return hf(y,i)};return o>1||this.__actions__.length||!(p instanceof Fe)||!Hr(c)?this.thru(m):(p=p.slice(c,+c+(o?1:0)),p.__actions__.push({func:Lu,args:[m],thisArg:n}),new $n(p,this.__chain__).thru(function(y){return o&&!y.length&&y.push(n),y}))});function NO(){return I0(this)}function MO(){return new $n(this.value(),this.__chain__)}function LO(){this.__values__===n&&(this.__values__=H0(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function UO(){return this}function FO(i){for(var o,c=this;c instanceof Su;){var p=E0(c);p.__index__=0,p.__values__=n,o?m.__wrapped__=p:o=p;var m=p;c=c.__wrapped__}return m.__wrapped__=i,o}function GO(){var i=this.__wrapped__;if(i instanceof Fe){var o=i;return this.__actions__.length&&(o=new Fe(this)),o=o.reverse(),o.__actions__.push({func:Lu,args:[$f],thisArg:n}),new $n(o,this.__chain__)}return this.thru($f)}function zO(){return V_(this.__wrapped__,this.__actions__)}var HO=Ru(function(i,o,c){qe.call(i,c)?++i[c]:Fr(i,c,1)});function $O(i,o,c){var p=Ae(i)?n_:Cw;return c&&cn(i,o,c)&&(o=n),p(i,_e(o,3))}function VO(i,o){var c=Ae(i)?ui:O_;return c(i,_e(o,3))}var YO=e0(S0),jO=e0(b0);function WO(i,o){return Yt(Uu(i,o),1)}function BO(i,o){return Yt(Uu(i,o),M)}function XO(i,o,c){return c=c===n?1:De(c),Yt(Uu(i,o),c)}function R0(i,o){var c=Ae(i)?zn:di;return c(i,_e(o,3))}function D0(i,o){var c=Ae(i)?pT:A_;return c(i,_e(o,3))}var KO=Ru(function(i,o,c){qe.call(i,c)?i[c].push(o):Fr(i,c,[o])});function qO(i,o,c,p){i=gn(i)?i:Pa(i),c=c&&!p?De(c):0;var m=i.length;return c<0&&(c=Ut(m+c,0)),$u(i)?c<=m&&i.indexOf(o,c)>-1:!!m&&Sa(i,o,c)>-1}var JO=Pe(function(i,o,c){var p=-1,m=typeof o=="function",y=gn(i)?P(i.length):[];return di(i,function(b){y[++p]=m?wn(o,b,c):Uo(b,o,c)}),y}),ZO=Ru(function(i,o,c){Fr(i,c,o)});function Uu(i,o){var c=Ae(i)?yt:C_;return c(i,_e(o,3))}function QO(i,o,c,p){return i==null?[]:(Ae(o)||(o=o==null?[]:[o]),c=p?n:c,Ae(c)||(c=c==null?[]:[c]),L_(i,o,c))}var eI=Ru(function(i,o,c){i[c?0:1].push(o)},function(){return[[],[]]});function tI(i,o,c){var p=Ae(i)?ef:o_,m=arguments.length<3;return p(i,_e(o,4),c,m,di)}function nI(i,o,c){var p=Ae(i)?hT:o_,m=arguments.length<3;return p(i,_e(o,4),c,m,A_)}function rI(i,o){var c=Ae(i)?ui:O_;return c(i,zu(_e(o,3)))}function iI(i){var o=Ae(i)?S_:qw;return o(i)}function aI(i,o,c){(c?cn(i,o,c):o===n)?o=1:o=De(o);var p=Ae(i)?Iw:Jw;return p(i,o)}function oI(i){var o=Ae(i)?Rw:Qw;return o(i)}function sI(i){if(i==null)return 0;if(gn(i))return $u(i)?Ta(i):i.length;var o=Jt(i);return o==it||o==Xt?i.size:Ef(i).length}function uI(i,o,c){var p=Ae(i)?tf:eA;return c&&cn(i,o,c)&&(o=n),p(i,_e(o,3))}var cI=Pe(function(i,o){if(i==null)return[];var c=o.length;return c>1&&cn(i,o[0],o[1])?o=[]:c>2&&cn(o[0],o[1],o[2])&&(o=[o[0]]),L_(i,Yt(o,1),[])}),Fu=VT||function(){return Vt.Date.now()};function lI(i,o){if(typeof o!="function")throw new Hn(u);return i=De(i),function(){if(--i<1)return o.apply(this,arguments)}}function k0(i,o,c){return o=c?n:o,o=i&&o==null?i.length:o,Gr(i,z,n,n,n,n,o)}function x0(i,o){var c;if(typeof o!="function")throw new Hn(u);return i=De(i),function(){return--i>0&&(c=o.apply(this,arguments)),i<=1&&(o=n),c}}var Yf=Pe(function(i,o,c){var p=A;if(c.length){var m=li(c,xa(Yf));p|=B}return Gr(i,p,o,c,m)}),C0=Pe(function(i,o,c){var p=A|k;if(c.length){var m=li(c,xa(C0));p|=B}return Gr(o,p,i,c,m)});function P0(i,o,c){o=c?n:o;var p=Gr(i,W,n,n,n,n,n,o);return p.placeholder=P0.placeholder,p}function N0(i,o,c){o=c?n:o;var p=Gr(i,Z,n,n,n,n,n,o);return p.placeholder=N0.placeholder,p}function M0(i,o,c){var p,m,y,b,w,D,H=0,V=!1,q=!1,se=!0;if(typeof i!="function")throw new Hn(u);o=Wn(o)||0,Ot(c)&&(V=!!c.leading,q="maxWait"in c,y=q?Ut(Wn(c.maxWait)||0,o):y,se="trailing"in c?!!c.trailing:se);function pe(Dt){var sr=p,Yr=m;return p=m=n,H=Dt,b=i.apply(Yr,sr),b}function ve(Dt){return H=Dt,w=$o(Ue,o),V?pe(Dt):b}function Ce(Dt){var sr=Dt-D,Yr=Dt-H,eg=o-sr;return q?qt(eg,y-Yr):eg}function ye(Dt){var sr=Dt-D,Yr=Dt-H;return D===n||sr>=o||sr<0||q&&Yr>=y}function Ue(){var Dt=Fu();if(ye(Dt))return He(Dt);w=$o(Ue,Ce(Dt))}function He(Dt){return w=n,se&&p?pe(Dt):(p=m=n,b)}function Rn(){w!==n&&j_(w),H=0,p=D=m=w=n}function ln(){return w===n?b:He(Fu())}function Dn(){var Dt=Fu(),sr=ye(Dt);if(p=arguments,m=this,D=Dt,sr){if(w===n)return ve(D);if(q)return j_(w),w=$o(Ue,o),pe(D)}return w===n&&(w=$o(Ue,o)),b}return Dn.cancel=Rn,Dn.flush=ln,Dn}var fI=Pe(function(i,o){return w_(i,1,o)}),dI=Pe(function(i,o,c){return w_(i,Wn(o)||0,c)});function pI(i){return Gr(i,ae)}function Gu(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new Hn(u);var c=function(){var p=arguments,m=o?o.apply(this,p):p[0],y=c.cache;if(y.has(m))return y.get(m);var b=i.apply(this,p);return c.cache=y.set(m,b)||y,b};return c.cache=new(Gu.Cache||Ur),c}Gu.Cache=Ur;function zu(i){if(typeof i!="function")throw new Hn(u);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function hI(i){return x0(2,i)}var mI=tA(function(i,o){o=o.length==1&&Ae(o[0])?yt(o[0],An(_e())):yt(Yt(o,1),An(_e()));var c=o.length;return Pe(function(p){for(var m=-1,y=qt(p.length,c);++m<y;)p[m]=o[m].call(this,p[m]);return wn(i,this,p)})}),jf=Pe(function(i,o){var c=li(o,xa(jf));return Gr(i,B,n,o,c)}),L0=Pe(function(i,o){var c=li(o,xa(L0));return Gr(i,ne,n,o,c)}),_I=zr(function(i,o){return Gr(i,Y,n,n,n,o)});function gI(i,o){if(typeof i!="function")throw new Hn(u);return o=o===n?o:De(o),Pe(i,o)}function vI(i,o){if(typeof i!="function")throw new Hn(u);return o=o==null?0:Ut(De(o),0),Pe(function(c){var p=c[o],m=mi(c,0,o);return p&&ci(m,p),wn(i,this,m)})}function yI(i,o,c){var p=!0,m=!0;if(typeof i!="function")throw new Hn(u);return Ot(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),M0(i,o,{leading:p,maxWait:o,trailing:m})}function EI(i){return k0(i,1)}function SI(i,o){return jf(Df(o),i)}function bI(){if(!arguments.length)return[];var i=arguments[0];return Ae(i)?i:[i]}function TI(i){return Vn(i,S)}function wI(i,o){return o=typeof o=="function"?o:n,Vn(i,S,o)}function AI(i){return Vn(i,_|S)}function OI(i,o){return o=typeof o=="function"?o:n,Vn(i,_|S,o)}function II(i,o){return o==null||T_(i,o,Ht(o))}function or(i,o){return i===o||i!==i&&o!==o}var RI=Cu(gf),DI=Cu(function(i,o){return i>=o}),Qi=D_(function(){return arguments}())?D_:function(i){return It(i)&&qe.call(i,"callee")&&!m_.call(i,"callee")},Ae=P.isArray,kI=qm?An(qm):Fw;function gn(i){return i!=null&&Hu(i.length)&&!$r(i)}function Rt(i){return It(i)&&gn(i)}function xI(i){return i===!0||i===!1||It(i)&&un(i)==K}var _i=jT||nd,CI=Jm?An(Jm):Gw;function PI(i){return It(i)&&i.nodeType===1&&!Vo(i)}function NI(i){if(i==null)return!0;if(gn(i)&&(Ae(i)||typeof i=="string"||typeof i.splice=="function"||_i(i)||Ca(i)||Qi(i)))return!i.length;var o=Jt(i);if(o==it||o==Xt)return!i.size;if(Ho(i))return!Ef(i).length;for(var c in i)if(qe.call(i,c))return!1;return!0}function MI(i,o){return Fo(i,o)}function LI(i,o,c){c=typeof c=="function"?c:n;var p=c?c(i,o):n;return p===n?Fo(i,o,n,c):!!p}function Wf(i){if(!It(i))return!1;var o=un(i);return o==Le||o==Re||typeof i.message=="string"&&typeof i.name=="string"&&!Vo(i)}function UI(i){return typeof i=="number"&&g_(i)}function $r(i){if(!Ot(i))return!1;var o=un(i);return o==Se||o==xt||o==ce||o==Yi}function U0(i){return typeof i=="number"&&i==De(i)}function Hu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=j}function Ot(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function It(i){return i!=null&&typeof i=="object"}var F0=Zm?An(Zm):Hw;function FI(i,o){return i===o||yf(i,o,Lf(o))}function GI(i,o,c){return c=typeof c=="function"?c:n,yf(i,o,Lf(o),c)}function zI(i){return G0(i)&&i!=+i}function HI(i){if(wA(i))throw new we(s);return k_(i)}function $I(i){return i===null}function VI(i){return i==null}function G0(i){return typeof i=="number"||It(i)&&un(i)==Ne}function Vo(i){if(!It(i)||un(i)!=xe)return!1;var o=hu(i);if(o===null)return!0;var c=qe.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&lu.call(c)==GT}var Bf=Qm?An(Qm):$w;function YI(i){return U0(i)&&i>=-j&&i<=j}var z0=e_?An(e_):Vw;function $u(i){return typeof i=="string"||!Ae(i)&&It(i)&&un(i)==rr}function In(i){return typeof i=="symbol"||It(i)&&un(i)==Kt}var Ca=t_?An(t_):Yw;function jI(i){return i===n}function WI(i){return It(i)&&Jt(i)==tt}function BI(i){return It(i)&&un(i)==Ro}var XI=Cu(Sf),KI=Cu(function(i,o){return i<=o});function H0(i){if(!i)return[];if(gn(i))return $u(i)?ir(i):_n(i);if(ko&&i[ko])return IT(i[ko]());var o=Jt(i),c=o==it?uf:o==Xt?su:Pa;return c(i)}function Vr(i){if(!i)return i===0?i:0;if(i=Wn(i),i===M||i===-M){var o=i<0?-1:1;return o*ie}return i===i?i:0}function De(i){var o=Vr(i),c=o%1;return o===o?c?o-c:o:0}function $0(i){return i?Ki(De(i),0,re):0}function Wn(i){if(typeof i=="number")return i;if(In(i))return X;if(Ot(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Ot(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=s_(i);var c=kb.test(i);return c||Cb.test(i)?lT(i.slice(2),c?2:8):Db.test(i)?X:+i}function V0(i){return Sr(i,vn(i))}function qI(i){return i?Ki(De(i),-j,j):i===0?i:0}function Ke(i){return i==null?"":On(i)}var JI=Da(function(i,o){if(Ho(o)||gn(o)){Sr(o,Ht(o),i);return}for(var c in o)qe.call(o,c)&&Mo(i,c,o[c])}),Y0=Da(function(i,o){Sr(o,vn(o),i)}),Vu=Da(function(i,o,c,p){Sr(o,vn(o),i,p)}),ZI=Da(function(i,o,c,p){Sr(o,Ht(o),i,p)}),QI=zr(hf);function eR(i,o){var c=Ra(i);return o==null?c:b_(c,o)}var tR=Pe(function(i,o){i=nt(i);var c=-1,p=o.length,m=p>2?o[2]:n;for(m&&cn(o[0],o[1],m)&&(p=1);++c<p;)for(var y=o[c],b=vn(y),w=-1,D=b.length;++w<D;){var H=b[w],V=i[H];(V===n||or(V,Aa[H])&&!qe.call(i,H))&&(i[H]=y[H])}return i}),nR=Pe(function(i){return i.push(n,s0),wn(j0,n,i)});function rR(i,o){return r_(i,_e(o,3),Er)}function iR(i,o){return r_(i,_e(o,3),_f)}function aR(i,o){return i==null?i:mf(i,_e(o,3),vn)}function oR(i,o){return i==null?i:I_(i,_e(o,3),vn)}function sR(i,o){return i&&Er(i,_e(o,3))}function uR(i,o){return i&&_f(i,_e(o,3))}function cR(i){return i==null?[]:wu(i,Ht(i))}function lR(i){return i==null?[]:wu(i,vn(i))}function Xf(i,o,c){var p=i==null?n:qi(i,o);return p===n?c:p}function fR(i,o){return i!=null&&l0(i,o,Nw)}function Kf(i,o){return i!=null&&l0(i,o,Mw)}var dR=n0(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=fu.call(o)),i[o]=c},Jf(yn)),pR=n0(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=fu.call(o)),qe.call(i,o)?i[o].push(c):i[o]=[c]},_e),hR=Pe(Uo);function Ht(i){return gn(i)?E_(i):Ef(i)}function vn(i){return gn(i)?E_(i,!0):jw(i)}function mR(i,o){var c={};return o=_e(o,3),Er(i,function(p,m,y){Fr(c,o(p,m,y),p)}),c}function _R(i,o){var c={};return o=_e(o,3),Er(i,function(p,m,y){Fr(c,m,o(p,m,y))}),c}var gR=Da(function(i,o,c){Au(i,o,c)}),j0=Da(function(i,o,c,p){Au(i,o,c,p)}),vR=zr(function(i,o){var c={};if(i==null)return c;var p=!1;o=yt(o,function(y){return y=hi(y,i),p||(p=y.length>1),y}),Sr(i,Nf(i),c),p&&(c=Vn(c,_|v|S,dA));for(var m=o.length;m--;)Of(c,o[m]);return c});function yR(i,o){return W0(i,zu(_e(o)))}var ER=zr(function(i,o){return i==null?{}:Bw(i,o)});function W0(i,o){if(i==null)return{};var c=yt(Nf(i),function(p){return[p]});return o=_e(o),U_(i,c,function(p,m){return o(p,m[0])})}function SR(i,o,c){o=hi(o,i);var p=-1,m=o.length;for(m||(m=1,i=n);++p<m;){var y=i==null?n:i[br(o[p])];y===n&&(p=m,y=c),i=$r(y)?y.call(i):y}return i}function bR(i,o,c){return i==null?i:Go(i,o,c)}function TR(i,o,c,p){return p=typeof p=="function"?p:n,i==null?i:Go(i,o,c,p)}var B0=a0(Ht),X0=a0(vn);function wR(i,o,c){var p=Ae(i),m=p||_i(i)||Ca(i);if(o=_e(o,4),c==null){var y=i&&i.constructor;m?c=p?new y:[]:Ot(i)?c=$r(y)?Ra(hu(i)):{}:c={}}return(m?zn:Er)(i,function(b,w,D){return o(c,b,w,D)}),c}function AR(i,o){return i==null?!0:Of(i,o)}function OR(i,o,c){return i==null?i:$_(i,o,Df(c))}function IR(i,o,c,p){return p=typeof p=="function"?p:n,i==null?i:$_(i,o,Df(c),p)}function Pa(i){return i==null?[]:sf(i,Ht(i))}function RR(i){return i==null?[]:sf(i,vn(i))}function DR(i,o,c){return c===n&&(c=o,o=n),c!==n&&(c=Wn(c),c=c===c?c:0),o!==n&&(o=Wn(o),o=o===o?o:0),Ki(Wn(i),o,c)}function kR(i,o,c){return o=Vr(o),c===n?(c=o,o=0):c=Vr(c),i=Wn(i),Lw(i,o,c)}function xR(i,o,c){if(c&&typeof c!="boolean"&&cn(i,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof i=="boolean"&&(c=i,i=n)),i===n&&o===n?(i=0,o=1):(i=Vr(i),o===n?(o=i,i=0):o=Vr(o)),i>o){var p=i;i=o,o=p}if(c||i%1||o%1){var m=v_();return qt(i+m*(o-i+cT("1e-"+((m+"").length-1))),o)}return Tf(i,o)}var CR=ka(function(i,o,c){return o=o.toLowerCase(),i+(c?K0(o):o)});function K0(i){return qf(Ke(i).toLowerCase())}function q0(i){return i=Ke(i),i&&i.replace(Nb,bT).replace(Qb,"")}function PR(i,o,c){i=Ke(i),o=On(o);var p=i.length;c=c===n?p:Ki(De(c),0,p);var m=c;return c-=o.length,c>=0&&i.slice(c,m)==o}function NR(i){return i=Ke(i),i&&hb.test(i)?i.replace(Im,TT):i}function MR(i){return i=Ke(i),i&&Eb.test(i)?i.replace(Yl,"\\$&"):i}var LR=ka(function(i,o,c){return i+(c?"-":"")+o.toLowerCase()}),UR=ka(function(i,o,c){return i+(c?" ":"")+o.toLowerCase()}),FR=Q_("toLowerCase");function GR(i,o,c){i=Ke(i),o=De(o);var p=o?Ta(i):0;if(!o||p>=o)return i;var m=(o-p)/2;return xu(vu(m),c)+i+xu(gu(m),c)}function zR(i,o,c){i=Ke(i),o=De(o);var p=o?Ta(i):0;return o&&p<o?i+xu(o-p,c):i}function HR(i,o,c){i=Ke(i),o=De(o);var p=o?Ta(i):0;return o&&p<o?xu(o-p,c)+i:i}function $R(i,o,c){return c||o==null?o=0:o&&(o=+o),KT(Ke(i).replace(jl,""),o||0)}function VR(i,o,c){return(c?cn(i,o,c):o===n)?o=1:o=De(o),wf(Ke(i),o)}function YR(){var i=arguments,o=Ke(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var jR=ka(function(i,o,c){return i+(c?"_":"")+o.toLowerCase()});function WR(i,o,c){return c&&typeof c!="number"&&cn(i,o,c)&&(o=c=n),c=c===n?re:c>>>0,c?(i=Ke(i),i&&(typeof o=="string"||o!=null&&!Bf(o))&&(o=On(o),!o&&ba(i))?mi(ir(i),0,c):i.split(o,c)):[]}var BR=ka(function(i,o,c){return i+(c?" ":"")+qf(o)});function XR(i,o,c){return i=Ke(i),c=c==null?0:Ki(De(c),0,i.length),o=On(o),i.slice(c,c+o.length)==o}function KR(i,o,c){var p=g.templateSettings;c&&cn(i,o,c)&&(o=n),i=Ke(i),o=Vu({},o,p,o0);var m=Vu({},o.imports,p.imports,o0),y=Ht(m),b=sf(m,y),w,D,H=0,V=o.interpolate||nu,q="__p += '",se=cf((o.escape||nu).source+"|"+V.source+"|"+(V===Rm?Rb:nu).source+"|"+(o.evaluate||nu).source+"|$","g"),pe="//# sourceURL="+(qe.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++iT+"]")+`
`;i.replace(se,function(ye,Ue,He,Rn,ln,Dn){return He||(He=Rn),q+=i.slice(H,Dn).replace(Mb,wT),Ue&&(w=!0,q+=`' +
__e(`+Ue+`) +
'`),ln&&(D=!0,q+=`';
`+ln+`;
__p += '`),He&&(q+=`' +
((__t = (`+He+`)) == null ? '' : __t) +
'`),H=Dn+ye.length,ye}),q+=`';
`;var ve=qe.call(o,"variable")&&o.variable;if(!ve)q=`with (obj) {
`+q+`
}
`;else if(Ob.test(ve))throw new we(l);q=(D?q.replace(lb,""):q).replace(fb,"$1").replace(db,"$1;"),q="function("+(ve||"obj")+`) {
`+(ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var Ce=Z0(function(){return Be(y,pe+"return "+q).apply(n,b)});if(Ce.source=q,Wf(Ce))throw Ce;return Ce}function qR(i){return Ke(i).toLowerCase()}function JR(i){return Ke(i).toUpperCase()}function ZR(i,o,c){if(i=Ke(i),i&&(c||o===n))return s_(i);if(!i||!(o=On(o)))return i;var p=ir(i),m=ir(o),y=u_(p,m),b=c_(p,m)+1;return mi(p,y,b).join("")}function QR(i,o,c){if(i=Ke(i),i&&(c||o===n))return i.slice(0,f_(i)+1);if(!i||!(o=On(o)))return i;var p=ir(i),m=c_(p,ir(o))+1;return mi(p,0,m).join("")}function eD(i,o,c){if(i=Ke(i),i&&(c||o===n))return i.replace(jl,"");if(!i||!(o=On(o)))return i;var p=ir(i),m=u_(p,ir(o));return mi(p,m).join("")}function tD(i,o){var c=ee,p=me;if(Ot(o)){var m="separator"in o?o.separator:m;c="length"in o?De(o.length):c,p="omission"in o?On(o.omission):p}i=Ke(i);var y=i.length;if(ba(i)){var b=ir(i);y=b.length}if(c>=y)return i;var w=c-Ta(p);if(w<1)return p;var D=b?mi(b,0,w).join(""):i.slice(0,w);if(m===n)return D+p;if(b&&(w+=D.length-w),Bf(m)){if(i.slice(w).search(m)){var H,V=D;for(m.global||(m=cf(m.source,Ke(Dm.exec(m))+"g")),m.lastIndex=0;H=m.exec(V);)var q=H.index;D=D.slice(0,q===n?w:q)}}else if(i.indexOf(On(m),w)!=w){var se=D.lastIndexOf(m);se>-1&&(D=D.slice(0,se))}return D+p}function nD(i){return i=Ke(i),i&&pb.test(i)?i.replace(Om,xT):i}var rD=ka(function(i,o,c){return i+(c?" ":"")+o.toUpperCase()}),qf=Q_("toUpperCase");function J0(i,o,c){return i=Ke(i),o=c?n:o,o===n?OT(i)?NT(i):gT(i):i.match(o)||[]}var Z0=Pe(function(i,o){try{return wn(i,n,o)}catch(c){return Wf(c)?c:new we(c)}}),iD=zr(function(i,o){return zn(o,function(c){c=br(c),Fr(i,c,Yf(i[c],i))}),i});function aD(i){var o=i==null?0:i.length,c=_e();return i=o?yt(i,function(p){if(typeof p[1]!="function")throw new Hn(u);return[c(p[0]),p[1]]}):[],Pe(function(p){for(var m=-1;++m<o;){var y=i[m];if(wn(y[0],this,p))return wn(y[1],this,p)}})}function oD(i){return xw(Vn(i,_))}function Jf(i){return function(){return i}}function sD(i,o){return i==null||i!==i?o:i}var uD=t0(),cD=t0(!0);function yn(i){return i}function Zf(i){return x_(typeof i=="function"?i:Vn(i,_))}function lD(i){return P_(Vn(i,_))}function fD(i,o){return N_(i,Vn(o,_))}var dD=Pe(function(i,o){return function(c){return Uo(c,i,o)}}),pD=Pe(function(i,o){return function(c){return Uo(i,c,o)}});function Qf(i,o,c){var p=Ht(o),m=wu(o,p);c==null&&!(Ot(o)&&(m.length||!p.length))&&(c=o,o=i,i=this,m=wu(o,Ht(o)));var y=!(Ot(c)&&"chain"in c)||!!c.chain,b=$r(i);return zn(m,function(w){var D=o[w];i[w]=D,b&&(i.prototype[w]=function(){var H=this.__chain__;if(y||H){var V=i(this.__wrapped__),q=V.__actions__=_n(this.__actions__);return q.push({func:D,args:arguments,thisArg:i}),V.__chain__=H,V}return D.apply(i,ci([this.value()],arguments))})}),i}function hD(){return Vt._===this&&(Vt._=zT),this}function ed(){}function mD(i){return i=De(i),Pe(function(o){return M_(o,i)})}var _D=xf(yt),gD=xf(n_),vD=xf(tf);function Q0(i){return Ff(i)?nf(br(i)):Xw(i)}function yD(i){return function(o){return i==null?n:qi(i,o)}}var ED=r0(),SD=r0(!0);function td(){return[]}function nd(){return!1}function bD(){return{}}function TD(){return""}function wD(){return!0}function AD(i,o){if(i=De(i),i<1||i>j)return[];var c=re,p=qt(i,re);o=_e(o),i-=re;for(var m=of(p,o);++c<i;)o(c);return m}function OD(i){return Ae(i)?yt(i,br):In(i)?[i]:_n(y0(Ke(i)))}function ID(i){var o=++FT;return Ke(i)+o}var RD=ku(function(i,o){return i+o},0),DD=Cf("ceil"),kD=ku(function(i,o){return i/o},1),xD=Cf("floor");function CD(i){return i&&i.length?Tu(i,yn,gf):n}function PD(i,o){return i&&i.length?Tu(i,_e(o,2),gf):n}function ND(i){return a_(i,yn)}function MD(i,o){return a_(i,_e(o,2))}function LD(i){return i&&i.length?Tu(i,yn,Sf):n}function UD(i,o){return i&&i.length?Tu(i,_e(o,2),Sf):n}var FD=ku(function(i,o){return i*o},1),GD=Cf("round"),zD=ku(function(i,o){return i-o},0);function HD(i){return i&&i.length?af(i,yn):0}function $D(i,o){return i&&i.length?af(i,_e(o,2)):0}return g.after=lI,g.ary=k0,g.assign=JI,g.assignIn=Y0,g.assignInWith=Vu,g.assignWith=ZI,g.at=QI,g.before=x0,g.bind=Yf,g.bindAll=iD,g.bindKey=C0,g.castArray=bI,g.chain=I0,g.chunk=xA,g.compact=CA,g.concat=PA,g.cond=aD,g.conforms=oD,g.constant=Jf,g.countBy=HO,g.create=eR,g.curry=P0,g.curryRight=N0,g.debounce=M0,g.defaults=tR,g.defaultsDeep=nR,g.defer=fI,g.delay=dI,g.difference=NA,g.differenceBy=MA,g.differenceWith=LA,g.drop=UA,g.dropRight=FA,g.dropRightWhile=GA,g.dropWhile=zA,g.fill=HA,g.filter=VO,g.flatMap=WO,g.flatMapDeep=BO,g.flatMapDepth=XO,g.flatten=T0,g.flattenDeep=$A,g.flattenDepth=VA,g.flip=pI,g.flow=uD,g.flowRight=cD,g.fromPairs=YA,g.functions=cR,g.functionsIn=lR,g.groupBy=KO,g.initial=WA,g.intersection=BA,g.intersectionBy=XA,g.intersectionWith=KA,g.invert=dR,g.invertBy=pR,g.invokeMap=JO,g.iteratee=Zf,g.keyBy=ZO,g.keys=Ht,g.keysIn=vn,g.map=Uu,g.mapKeys=mR,g.mapValues=_R,g.matches=lD,g.matchesProperty=fD,g.memoize=Gu,g.merge=gR,g.mergeWith=j0,g.method=dD,g.methodOf=pD,g.mixin=Qf,g.negate=zu,g.nthArg=mD,g.omit=vR,g.omitBy=yR,g.once=hI,g.orderBy=QO,g.over=_D,g.overArgs=mI,g.overEvery=gD,g.overSome=vD,g.partial=jf,g.partialRight=L0,g.partition=eI,g.pick=ER,g.pickBy=W0,g.property=Q0,g.propertyOf=yD,g.pull=QA,g.pullAll=A0,g.pullAllBy=eO,g.pullAllWith=tO,g.pullAt=nO,g.range=ED,g.rangeRight=SD,g.rearg=_I,g.reject=rI,g.remove=rO,g.rest=gI,g.reverse=$f,g.sampleSize=aI,g.set=bR,g.setWith=TR,g.shuffle=oI,g.slice=iO,g.sortBy=cI,g.sortedUniq=fO,g.sortedUniqBy=dO,g.split=WR,g.spread=vI,g.tail=pO,g.take=hO,g.takeRight=mO,g.takeRightWhile=_O,g.takeWhile=gO,g.tap=CO,g.throttle=yI,g.thru=Lu,g.toArray=H0,g.toPairs=B0,g.toPairsIn=X0,g.toPath=OD,g.toPlainObject=V0,g.transform=wR,g.unary=EI,g.union=vO,g.unionBy=yO,g.unionWith=EO,g.uniq=SO,g.uniqBy=bO,g.uniqWith=TO,g.unset=AR,g.unzip=Vf,g.unzipWith=O0,g.update=OR,g.updateWith=IR,g.values=Pa,g.valuesIn=RR,g.without=wO,g.words=J0,g.wrap=SI,g.xor=AO,g.xorBy=OO,g.xorWith=IO,g.zip=RO,g.zipObject=DO,g.zipObjectDeep=kO,g.zipWith=xO,g.entries=B0,g.entriesIn=X0,g.extend=Y0,g.extendWith=Vu,Qf(g,g),g.add=RD,g.attempt=Z0,g.camelCase=CR,g.capitalize=K0,g.ceil=DD,g.clamp=DR,g.clone=TI,g.cloneDeep=AI,g.cloneDeepWith=OI,g.cloneWith=wI,g.conformsTo=II,g.deburr=q0,g.defaultTo=sD,g.divide=kD,g.endsWith=PR,g.eq=or,g.escape=NR,g.escapeRegExp=MR,g.every=$O,g.find=YO,g.findIndex=S0,g.findKey=rR,g.findLast=jO,g.findLastIndex=b0,g.findLastKey=iR,g.floor=xD,g.forEach=R0,g.forEachRight=D0,g.forIn=aR,g.forInRight=oR,g.forOwn=sR,g.forOwnRight=uR,g.get=Xf,g.gt=RI,g.gte=DI,g.has=fR,g.hasIn=Kf,g.head=w0,g.identity=yn,g.includes=qO,g.indexOf=jA,g.inRange=kR,g.invoke=hR,g.isArguments=Qi,g.isArray=Ae,g.isArrayBuffer=kI,g.isArrayLike=gn,g.isArrayLikeObject=Rt,g.isBoolean=xI,g.isBuffer=_i,g.isDate=CI,g.isElement=PI,g.isEmpty=NI,g.isEqual=MI,g.isEqualWith=LI,g.isError=Wf,g.isFinite=UI,g.isFunction=$r,g.isInteger=U0,g.isLength=Hu,g.isMap=F0,g.isMatch=FI,g.isMatchWith=GI,g.isNaN=zI,g.isNative=HI,g.isNil=VI,g.isNull=$I,g.isNumber=G0,g.isObject=Ot,g.isObjectLike=It,g.isPlainObject=Vo,g.isRegExp=Bf,g.isSafeInteger=YI,g.isSet=z0,g.isString=$u,g.isSymbol=In,g.isTypedArray=Ca,g.isUndefined=jI,g.isWeakMap=WI,g.isWeakSet=BI,g.join=qA,g.kebabCase=LR,g.last=jn,g.lastIndexOf=JA,g.lowerCase=UR,g.lowerFirst=FR,g.lt=XI,g.lte=KI,g.max=CD,g.maxBy=PD,g.mean=ND,g.meanBy=MD,g.min=LD,g.minBy=UD,g.stubArray=td,g.stubFalse=nd,g.stubObject=bD,g.stubString=TD,g.stubTrue=wD,g.multiply=FD,g.nth=ZA,g.noConflict=hD,g.noop=ed,g.now=Fu,g.pad=GR,g.padEnd=zR,g.padStart=HR,g.parseInt=$R,g.random=xR,g.reduce=tI,g.reduceRight=nI,g.repeat=VR,g.replace=YR,g.result=SR,g.round=GD,g.runInContext=I,g.sample=iI,g.size=sI,g.snakeCase=jR,g.some=uI,g.sortedIndex=aO,g.sortedIndexBy=oO,g.sortedIndexOf=sO,g.sortedLastIndex=uO,g.sortedLastIndexBy=cO,g.sortedLastIndexOf=lO,g.startCase=BR,g.startsWith=XR,g.subtract=zD,g.sum=HD,g.sumBy=$D,g.template=KR,g.times=AD,g.toFinite=Vr,g.toInteger=De,g.toLength=$0,g.toLower=qR,g.toNumber=Wn,g.toSafeInteger=qI,g.toString=Ke,g.toUpper=JR,g.trim=ZR,g.trimEnd=QR,g.trimStart=eD,g.truncate=tD,g.unescape=nD,g.uniqueId=ID,g.upperCase=rD,g.upperFirst=qf,g.each=R0,g.eachRight=D0,g.first=w0,Qf(g,function(){var i={};return Er(g,function(o,c){qe.call(g.prototype,c)||(i[c]=o)}),i}(),{chain:!1}),g.VERSION=r,zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),zn(["drop","take"],function(i,o){Fe.prototype[i]=function(c){c=c===n?1:Ut(De(c),0);var p=this.__filtered__&&!o?new Fe(this):this.clone();return p.__filtered__?p.__takeCount__=qt(c,p.__takeCount__):p.__views__.push({size:qt(c,re),type:i+(p.__dir__<0?"Right":"")}),p},Fe.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),zn(["filter","map","takeWhile"],function(i,o){var c=o+1,p=c==C||c==L;Fe.prototype[i]=function(m){var y=this.clone();return y.__iteratees__.push({iteratee:_e(m,3),type:c}),y.__filtered__=y.__filtered__||p,y}}),zn(["head","last"],function(i,o){var c="take"+(o?"Right":"");Fe.prototype[i]=function(){return this[c](1).value()[0]}}),zn(["initial","tail"],function(i,o){var c="drop"+(o?"":"Right");Fe.prototype[i]=function(){return this.__filtered__?new Fe(this):this[c](1)}}),Fe.prototype.compact=function(){return this.filter(yn)},Fe.prototype.find=function(i){return this.filter(i).head()},Fe.prototype.findLast=function(i){return this.reverse().find(i)},Fe.prototype.invokeMap=Pe(function(i,o){return typeof i=="function"?new Fe(this):this.map(function(c){return Uo(c,i,o)})}),Fe.prototype.reject=function(i){return this.filter(zu(_e(i)))},Fe.prototype.slice=function(i,o){i=De(i);var c=this;return c.__filtered__&&(i>0||o<0)?new Fe(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),o!==n&&(o=De(o),c=o<0?c.dropRight(-o):c.take(o-i)),c)},Fe.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Fe.prototype.toArray=function(){return this.take(re)},Er(Fe.prototype,function(i,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),p=/^(?:head|last)$/.test(o),m=g[p?"take"+(o=="last"?"Right":""):o],y=p||/^find/.test(o);!m||(g.prototype[o]=function(){var b=this.__wrapped__,w=p?[1]:arguments,D=b instanceof Fe,H=w[0],V=D||Ae(b),q=function(Ue){var He=m.apply(g,ci([Ue],w));return p&&se?He[0]:He};V&&c&&typeof H=="function"&&H.length!=1&&(D=V=!1);var se=this.__chain__,pe=!!this.__actions__.length,ve=y&&!se,Ce=D&&!pe;if(!y&&V){b=Ce?b:new Fe(this);var ye=i.apply(b,w);return ye.__actions__.push({func:Lu,args:[q],thisArg:n}),new $n(ye,se)}return ve&&Ce?i.apply(this,w):(ye=this.thru(q),ve?p?ye.value()[0]:ye.value():ye)})}),zn(["pop","push","shift","sort","splice","unshift"],function(i){var o=uu[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var m=arguments;if(p&&!this.__chain__){var y=this.value();return o.apply(Ae(y)?y:[],m)}return this[c](function(b){return o.apply(Ae(b)?b:[],m)})}}),Er(Fe.prototype,function(i,o){var c=g[o];if(c){var p=c.name+"";qe.call(Ia,p)||(Ia[p]=[]),Ia[p].push({name:o,func:c})}}),Ia[Du(n,k).name]=[{name:"wrapper",func:n}],Fe.prototype.clone=nw,Fe.prototype.reverse=rw,Fe.prototype.value=iw,g.prototype.at=PO,g.prototype.chain=NO,g.prototype.commit=MO,g.prototype.next=LO,g.prototype.plant=FO,g.prototype.reverse=GO,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=zO,g.prototype.first=g.prototype.head,ko&&(g.prototype[ko]=UO),g},wa=MT();ji?((ji.exports=wa)._=wa,Jl._=wa):Vt._=wa}).call(jo)})(Fh,Fh.exports);var mr=Fh.exports;//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var sS;function ue(){return sS.apply(null,arguments)}function SU(e){sS=e}function _r(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function _a(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gh(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(je(e,t))return!1;return!0}function Tn(e){return e===void 0}function ei(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function js(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function uS(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function Hi(e,t){for(var n in t)je(t,n)&&(e[n]=t[n]);return je(t,"toString")&&(e.toString=t.toString),je(t,"valueOf")&&(e.valueOf=t.valueOf),e}function xr(e,t,n,r){return NS(e,t,n,r,!0).utc()}function bU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(e){return e._pf==null&&(e._pf=bU()),e._pf}var zh;Array.prototype.some?zh=Array.prototype.some:zh=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Hh(e){if(e._isValid==null){var t=ke(e),n=zh.call(t.parsedDateParts,function(a){return a!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function fl(e){var t=xr(NaN);return e!=null?Hi(ke(t),e):ke(t).userInvalidated=!0,t}var $h=ue.momentProperties=[],Vh=!1;function Yh(e,t){var n,r,a;if(Tn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Tn(t._i)||(e._i=t._i),Tn(t._f)||(e._f=t._f),Tn(t._l)||(e._l=t._l),Tn(t._strict)||(e._strict=t._strict),Tn(t._tzm)||(e._tzm=t._tzm),Tn(t._isUTC)||(e._isUTC=t._isUTC),Tn(t._offset)||(e._offset=t._offset),Tn(t._pf)||(e._pf=ke(t)),Tn(t._locale)||(e._locale=t._locale),$h.length>0)for(n=0;n<$h.length;n++)r=$h[n],a=t[r],Tn(a)||(e[r]=a);return e}function Ws(e){Yh(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Vh===!1&&(Vh=!0,ue.updateOffset(this),Vh=!1)}function gr(e){return e instanceof Ws||e!=null&&e._isAMomentObject!=null}function cS(e){ue.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function er(e,t){var n=!0;return Hi(function(){if(ue.deprecationHandler!=null&&ue.deprecationHandler(null,e),n){var r=[],a,s,u;for(s=0;s<arguments.length;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(u in arguments[0])je(arguments[0],u)&&(a+=u+": "+arguments[0][u]+", ");a=a.slice(0,-2)}else a=arguments[s];r.push(a)}cS(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var lS={};function fS(e,t){ue.deprecationHandler!=null&&ue.deprecationHandler(e,t),lS[e]||(cS(t),lS[e]=!0)}ue.suppressDeprecationWarnings=!1;ue.deprecationHandler=null;function Cr(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function TU(e){var t,n;for(n in e)je(e,n)&&(t=e[n],Cr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function jh(e,t){var n=Hi({},e),r;for(r in t)je(t,r)&&(_a(e[r])&&_a(t[r])?(n[r]={},Hi(n[r],e[r]),Hi(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)je(e,r)&&!je(t,r)&&_a(e[r])&&(n[r]=Hi({},n[r]));return n}function Wh(e){e!=null&&this.set(e)}var Bh;Object.keys?Bh=Object.keys:Bh=function(e){var t,n=[];for(t in e)je(e,t)&&n.push(t);return n};var wU={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function AU(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Cr(r)?r.call(t,n):r}function Pr(e,t,n){var r=""+Math.abs(e),a=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var Xh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dl=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Kh={},yo={};function he(e,t,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),e&&(yo[e]=a),t&&(yo[t[0]]=function(){return Pr(a.apply(this,arguments),t[1],t[2])}),n&&(yo[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function OU(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function IU(e){var t=e.match(Xh),n,r;for(n=0,r=t.length;n<r;n++)yo[t[n]]?t[n]=yo[t[n]]:t[n]=OU(t[n]);return function(a){var s="",u;for(u=0;u<r;u++)s+=Cr(t[u])?t[u].call(a,e):t[u];return s}}function pl(e,t){return e.isValid()?(t=dS(t,e.localeData()),Kh[t]=Kh[t]||IU(t),Kh[t](e)):e.localeData().invalidDate()}function dS(e,t){var n=5;function r(a){return t.longDateFormat(a)||a}for(dl.lastIndex=0;n>=0&&dl.test(e);)e=e.replace(dl,r),dl.lastIndex=0,n-=1;return e}var RU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function DU(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Xh).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var kU="Invalid date";function xU(){return this._invalidDate}var CU="%d",PU=/\d{1,2}/;function NU(e){return this._ordinal.replace("%d",e)}var MU={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function LU(e,t,n,r){var a=this._relativeTime[n];return Cr(a)?a(e,t,n,r):a.replace(/%d/i,e)}function UU(e,t){var n=this._relativeTime[e>0?"future":"past"];return Cr(n)?n(t):n.replace(/%s/i,t)}var Bs={};function rn(e,t){var n=e.toLowerCase();Bs[n]=Bs[n+"s"]=Bs[t]=e}function tr(e){return typeof e=="string"?Bs[e]||Bs[e.toLowerCase()]:void 0}function qh(e){var t={},n,r;for(r in e)je(e,r)&&(n=tr(r),n&&(t[n]=e[r]));return t}var pS={};function an(e,t){pS[e]=t}function FU(e){var t=[],n;for(n in e)je(e,n)&&t.push({unit:n,priority:pS[n]});return t.sort(function(r,a){return r.priority-a.priority}),t}function hl(e){return e%4==0&&e%100!=0||e%400==0}function nr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Me(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=nr(t)),n}function Eo(e,t){return function(n){return n!=null?(hS(this,e,n),ue.updateOffset(this,t),this):ml(this,e)}}function ml(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function hS(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&hl(e.year())&&e.month()===1&&e.date()===29?(n=Me(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),bl(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function GU(e){return e=tr(e),Cr(this[e])?this[e]():this}function zU(e,t){if(typeof e=="object"){e=qh(e);var n=FU(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=tr(e),Cr(this[e]))return this[e](t);return this}var mS=/\d/,Un=/\d\d/,_S=/\d{3}/,Jh=/\d{4}/,_l=/[+-]?\d{6}/,gt=/\d\d?/,gS=/\d\d\d\d?/,vS=/\d\d\d\d\d\d?/,gl=/\d{1,3}/,Zh=/\d{1,4}/,vl=/[+-]?\d{1,6}/,So=/\d+/,yl=/[+-]?\d+/,HU=/Z|[+-]\d\d:?\d\d/gi,El=/Z|[+-]\d\d(?::?\d\d)?/gi,$U=/[+-]?\d+(\.\d{1,3})?/,Xs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sl;Sl={};function fe(e,t,n){Sl[e]=Cr(t)?t:function(r,a){return r&&n?n:t}}function VU(e,t){return je(Sl,e)?Sl[e](t._strict,t._locale):new RegExp(YU(e))}function YU(e){return Fn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,a,s){return n||r||a||s}))}function Fn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Qh={};function et(e,t){var n,r=t;for(typeof e=="string"&&(e=[e]),ei(t)&&(r=function(a,s){s[t]=Me(a)}),n=0;n<e.length;n++)Qh[e[n]]=r}function Ks(e,t){et(e,function(n,r,a,s){a._w=a._w||{},t(n,a._w,a,s)})}function jU(e,t,n){t!=null&&je(Qh,e)&&Qh[e](t,n._a,n,e)}var on=0,ti=1,Nr=2,Gt=3,vr=4,ni=5,ga=6,WU=7,BU=8;function XU(e,t){return(e%t+t)%t}var kt;Array.prototype.indexOf?kt=Array.prototype.indexOf:kt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function bl(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=XU(t,12);return e+=(t-n)/12,n===1?hl(e)?29:28:31-n%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1});he("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});he("MMMM",0,0,function(e){return this.localeData().months(this,e)});rn("month","M");an("month",8);fe("M",gt);fe("MM",gt,Un);fe("MMM",function(e,t){return t.monthsShortRegex(e)});fe("MMMM",function(e,t){return t.monthsRegex(e)});et(["M","MM"],function(e,t){t[ti]=Me(e)-1});et(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);a!=null?t[ti]=a:ke(n).invalidMonth=e});var KU="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ES=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qU=Xs,JU=Xs;function ZU(e,t){return e?_r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ES).test(t)?"format":"standalone"][e.month()]:_r(this._months)?this._months:this._months.standalone}function QU(e,t){return e?_r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ES.test(t)?"format":"standalone"][e.month()]:_r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function eF(e,t,n){var r,a,s,u=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=xr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(a=kt.call(this._shortMonthsParse,u),a!==-1?a:null):(a=kt.call(this._longMonthsParse,u),a!==-1?a:null):t==="MMM"?(a=kt.call(this._shortMonthsParse,u),a!==-1?a:(a=kt.call(this._longMonthsParse,u),a!==-1?a:null)):(a=kt.call(this._longMonthsParse,u),a!==-1?a:(a=kt.call(this._shortMonthsParse,u),a!==-1?a:null))}function tF(e,t,n){var r,a,s;if(this._monthsParseExact)return eF.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=xr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function SS(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Me(t);else if(t=e.localeData().monthsParse(t),!ei(t))return e}return n=Math.min(e.date(),bl(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function bS(e){return e!=null?(SS(this,e),ue.updateOffset(this,!0),this):ml(this,"Month")}function nF(){return bl(this.year(),this.month())}function rF(e){return this._monthsParseExact?(je(this,"_monthsRegex")||TS.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(je(this,"_monthsShortRegex")||(this._monthsShortRegex=qU),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function iF(e){return this._monthsParseExact?(je(this,"_monthsRegex")||TS.call(this),e?this._monthsStrictRegex:this._monthsRegex):(je(this,"_monthsRegex")||(this._monthsRegex=JU),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function TS(){function e(u,l){return l.length-u.length}var t=[],n=[],r=[],a,s;for(a=0;a<12;a++)s=xr([2e3,a]),t.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(t.sort(e),n.sort(e),r.sort(e),a=0;a<12;a++)t[a]=Fn(t[a]),n[a]=Fn(n[a]);for(a=0;a<24;a++)r[a]=Fn(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}he("Y",0,0,function(){var e=this.year();return e<=9999?Pr(e,4):"+"+e});he(0,["YY",2],0,function(){return this.year()%100});he(0,["YYYY",4],0,"year");he(0,["YYYYY",5],0,"year");he(0,["YYYYYY",6,!0],0,"year");rn("year","y");an("year",1);fe("Y",yl);fe("YY",gt,Un);fe("YYYY",Zh,Jh);fe("YYYYY",vl,_l);fe("YYYYYY",vl,_l);et(["YYYYY","YYYYYY"],on);et("YYYY",function(e,t){t[on]=e.length===2?ue.parseTwoDigitYear(e):Me(e)});et("YY",function(e,t){t[on]=ue.parseTwoDigitYear(e)});et("Y",function(e,t){t[on]=parseInt(e,10)});function qs(e){return hl(e)?366:365}ue.parseTwoDigitYear=function(e){return Me(e)+(Me(e)>68?1900:2e3)};var wS=Eo("FullYear",!0);function aF(){return hl(this.year())}function oF(e,t,n,r,a,s,u){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,r,a,s,u),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,r,a,s,u),l}function Js(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tl(e,t,n){var r=7+t-n,a=(7+Js(e,0,r).getUTCDay()-t)%7;return-a+r-1}function AS(e,t,n,r,a){var s=(7+n-r)%7,u=Tl(e,r,a),l=1+7*(t-1)+s+u,f,d;return l<=0?(f=e-1,d=qs(f)+l):l>qs(e)?(f=e+1,d=l-qs(e)):(f=e,d=l),{year:f,dayOfYear:d}}function Zs(e,t,n){var r=Tl(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1,s,u;return a<1?(u=e.year()-1,s=a+ri(u,t,n)):a>ri(e.year(),t,n)?(s=a-ri(e.year(),t,n),u=e.year()+1):(u=e.year(),s=a),{week:s,year:u}}function ri(e,t,n){var r=Tl(e,t,n),a=Tl(e+1,t,n);return(qs(e)-r+a)/7}he("w",["ww",2],"wo","week");he("W",["WW",2],"Wo","isoWeek");rn("week","w");rn("isoWeek","W");an("week",5);an("isoWeek",5);fe("w",gt);fe("ww",gt,Un);fe("W",gt);fe("WW",gt,Un);Ks(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Me(e)});function sF(e){return Zs(e,this._week.dow,this._week.doy).week}var uF={dow:0,doy:6};function cF(){return this._week.dow}function lF(){return this._week.doy}function fF(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function dF(e){var t=Zs(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}he("d",0,"do","day");he("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});he("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});he("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});he("e",0,0,"weekday");he("E",0,0,"isoWeekday");rn("day","d");rn("weekday","e");rn("isoWeekday","E");an("day",11);an("weekday",11);an("isoWeekday",11);fe("d",gt);fe("e",gt);fe("E",gt);fe("dd",function(e,t){return t.weekdaysMinRegex(e)});fe("ddd",function(e,t){return t.weekdaysShortRegex(e)});fe("dddd",function(e,t){return t.weekdaysRegex(e)});Ks(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);a!=null?t.d=a:ke(n).invalidWeekday=e});Ks(["d","e","E"],function(e,t,n,r){t[r]=Me(e)});function pF(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function hF(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function em(e,t){return e.slice(t,7).concat(e.slice(0,t))}var mF="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),OS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_F="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gF=Xs,vF=Xs,yF=Xs;function EF(e,t){var n=_r(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?em(n,this._week.dow):e?n[e.day()]:n}function SF(e){return e===!0?em(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function bF(e){return e===!0?em(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function TF(e,t,n){var r,a,s,u=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=xr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(a=kt.call(this._weekdaysParse,u),a!==-1?a:null):t==="ddd"?(a=kt.call(this._shortWeekdaysParse,u),a!==-1?a:null):(a=kt.call(this._minWeekdaysParse,u),a!==-1?a:null):t==="dddd"?(a=kt.call(this._weekdaysParse,u),a!==-1||(a=kt.call(this._shortWeekdaysParse,u),a!==-1)?a:(a=kt.call(this._minWeekdaysParse,u),a!==-1?a:null)):t==="ddd"?(a=kt.call(this._shortWeekdaysParse,u),a!==-1||(a=kt.call(this._weekdaysParse,u),a!==-1)?a:(a=kt.call(this._minWeekdaysParse,u),a!==-1?a:null)):(a=kt.call(this._minWeekdaysParse,u),a!==-1||(a=kt.call(this._weekdaysParse,u),a!==-1)?a:(a=kt.call(this._shortWeekdaysParse,u),a!==-1?a:null))}function wF(e,t,n){var r,a,s;if(this._weekdaysParseExact)return TF.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=xr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function AF(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=pF(e,this.localeData()),this.add(e-t,"d")):t}function OF(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function IF(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=hF(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function RF(e){return this._weekdaysParseExact?(je(this,"_weekdaysRegex")||tm.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(je(this,"_weekdaysRegex")||(this._weekdaysRegex=gF),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function DF(e){return this._weekdaysParseExact?(je(this,"_weekdaysRegex")||tm.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(je(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vF),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function kF(e){return this._weekdaysParseExact?(je(this,"_weekdaysRegex")||tm.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(je(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yF),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function tm(){function e(h,_){return _.length-h.length}var t=[],n=[],r=[],a=[],s,u,l,f,d;for(s=0;s<7;s++)u=xr([2e3,1]).day(s),l=Fn(this.weekdaysMin(u,"")),f=Fn(this.weekdaysShort(u,"")),d=Fn(this.weekdays(u,"")),t.push(l),n.push(f),r.push(d),a.push(l),a.push(f),a.push(d);t.sort(e),n.sort(e),r.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function nm(){return this.hours()%12||12}function xF(){return this.hours()||24}he("H",["HH",2],0,"hour");he("h",["hh",2],0,nm);he("k",["kk",2],0,xF);he("hmm",0,0,function(){return""+nm.apply(this)+Pr(this.minutes(),2)});he("hmmss",0,0,function(){return""+nm.apply(this)+Pr(this.minutes(),2)+Pr(this.seconds(),2)});he("Hmm",0,0,function(){return""+this.hours()+Pr(this.minutes(),2)});he("Hmmss",0,0,function(){return""+this.hours()+Pr(this.minutes(),2)+Pr(this.seconds(),2)});function IS(e,t){he(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}IS("a",!0);IS("A",!1);rn("hour","h");an("hour",13);function RS(e,t){return t._meridiemParse}fe("a",RS);fe("A",RS);fe("H",gt);fe("h",gt);fe("k",gt);fe("HH",gt,Un);fe("hh",gt,Un);fe("kk",gt,Un);fe("hmm",gS);fe("hmmss",vS);fe("Hmm",gS);fe("Hmmss",vS);et(["H","HH"],Gt);et(["k","kk"],function(e,t,n){var r=Me(e);t[Gt]=r===24?0:r});et(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});et(["h","hh"],function(e,t,n){t[Gt]=Me(e),ke(n).bigHour=!0});et("hmm",function(e,t,n){var r=e.length-2;t[Gt]=Me(e.substr(0,r)),t[vr]=Me(e.substr(r)),ke(n).bigHour=!0});et("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Gt]=Me(e.substr(0,r)),t[vr]=Me(e.substr(r,2)),t[ni]=Me(e.substr(a)),ke(n).bigHour=!0});et("Hmm",function(e,t,n){var r=e.length-2;t[Gt]=Me(e.substr(0,r)),t[vr]=Me(e.substr(r))});et("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Gt]=Me(e.substr(0,r)),t[vr]=Me(e.substr(r,2)),t[ni]=Me(e.substr(a))});function CF(e){return(e+"").toLowerCase().charAt(0)==="p"}var PF=/[ap]\.?m?\.?/i,NF=Eo("Hours",!0);function MF(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var DS={calendar:wU,longDateFormat:RU,invalidDate:kU,ordinal:CU,dayOfMonthOrdinalParse:PU,relativeTime:MU,months:KU,monthsShort:yS,week:uF,weekdays:mF,weekdaysMin:_F,weekdaysShort:OS,meridiemParse:PF},wt={},Qs={},eu;function LF(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function kS(e){return e&&e.toLowerCase().replace("_","-")}function UF(e){for(var t=0,n,r,a,s;t<e.length;){for(s=kS(e[t]).split("-"),n=s.length,r=kS(e[t+1]),r=r?r.split("-"):null;n>0;){if(a=wl(s.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&LF(s,r)>=n-1)break;n--}t++}return eu}function wl(e){var t=null,n;if(wt[e]===void 0&&typeof module!="undefined"&&module&&module.exports)try{t=eu._abbr,n=require,n("./locale/"+e),$i(t)}catch(r){wt[e]=null}return wt[e]}function $i(e,t){var n;return e&&(Tn(t)?n=ii(e):n=rm(e,t),n?eu=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),eu._abbr}function rm(e,t){if(t!==null){var n,r=DS;if(t.abbr=e,wt[e]!=null)fS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=wt[e]._config;else if(t.parentLocale!=null)if(wt[t.parentLocale]!=null)r=wt[t.parentLocale]._config;else if(n=wl(t.parentLocale),n!=null)r=n._config;else return Qs[t.parentLocale]||(Qs[t.parentLocale]=[]),Qs[t.parentLocale].push({name:e,config:t}),null;return wt[e]=new Wh(jh(r,t)),Qs[e]&&Qs[e].forEach(function(a){rm(a.name,a.config)}),$i(e),wt[e]}else return delete wt[e],null}function FF(e,t){if(t!=null){var n,r,a=DS;wt[e]!=null&&wt[e].parentLocale!=null?wt[e].set(jh(wt[e]._config,t)):(r=wl(e),r!=null&&(a=r._config),t=jh(a,t),r==null&&(t.abbr=e),n=new Wh(t),n.parentLocale=wt[e],wt[e]=n),$i(e)}else wt[e]!=null&&(wt[e].parentLocale!=null?(wt[e]=wt[e].parentLocale,e===$i()&&$i(e)):wt[e]!=null&&delete wt[e]);return wt[e]}function ii(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return eu;if(!_r(e)){if(t=wl(e),t)return t;e=[e]}return UF(e)}function GF(){return Bh(wt)}function im(e){var t,n=e._a;return n&&ke(e).overflow===-2&&(t=n[ti]<0||n[ti]>11?ti:n[Nr]<1||n[Nr]>bl(n[on],n[ti])?Nr:n[Gt]<0||n[Gt]>24||n[Gt]===24&&(n[vr]!==0||n[ni]!==0||n[ga]!==0)?Gt:n[vr]<0||n[vr]>59?vr:n[ni]<0||n[ni]>59?ni:n[ga]<0||n[ga]>999?ga:-1,ke(e)._overflowDayOfYear&&(t<on||t>Nr)&&(t=Nr),ke(e)._overflowWeeks&&t===-1&&(t=WU),ke(e)._overflowWeekday&&t===-1&&(t=BU),ke(e).overflow=t),e}var zF=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HF=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$F=/Z|[+-]\d\d(?::?\d\d)?/,Al=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],am=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],VF=/^\/?Date\((-?\d+)/i,YF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jF={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xS(e){var t,n,r=e._i,a=zF.exec(r)||HF.exec(r),s,u,l,f;if(a){for(ke(e).iso=!0,t=0,n=Al.length;t<n;t++)if(Al[t][1].exec(a[1])){u=Al[t][0],s=Al[t][2]!==!1;break}if(u==null){e._isValid=!1;return}if(a[3]){for(t=0,n=am.length;t<n;t++)if(am[t][1].exec(a[3])){l=(a[2]||" ")+am[t][0];break}if(l==null){e._isValid=!1;return}}if(!s&&l!=null){e._isValid=!1;return}if(a[4])if($F.exec(a[4]))f="Z";else{e._isValid=!1;return}e._f=u+(l||"")+(f||""),sm(e)}else e._isValid=!1}function WF(e,t,n,r,a,s){var u=[BF(e),yS.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return s&&u.push(parseInt(s,10)),u}function BF(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function XF(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function KF(e,t,n){if(e){var r=OS.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function qF(e,t,n){if(e)return jF[e];if(t)return 0;var r=parseInt(n,10),a=r%100,s=(r-a)/100;return s*60+a}function CS(e){var t=YF.exec(XF(e._i)),n;if(t){if(n=WF(t[4],t[3],t[2],t[5],t[6],t[7]),!KF(t[1],n,e))return;e._a=n,e._tzm=qF(t[8],t[9],t[10]),e._d=Js.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ke(e).rfc2822=!0}else e._isValid=!1}function JF(e){var t=VF.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(xS(e),e._isValid===!1)delete e._isValid;else return;if(CS(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ue.createFromInputFallback(e)}ue.createFromInputFallback=er("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function bo(e,t,n){return e??t??n}function ZF(e){var t=new Date(ue.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function om(e){var t,n,r=[],a,s,u;if(!e._d){for(a=ZF(e),e._w&&e._a[Nr]==null&&e._a[ti]==null&&QF(e),e._dayOfYear!=null&&(u=bo(e._a[on],a[on]),(e._dayOfYear>qs(u)||e._dayOfYear===0)&&(ke(e)._overflowDayOfYear=!0),n=Js(u,0,e._dayOfYear),e._a[ti]=n.getUTCMonth(),e._a[Nr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Gt]===24&&e._a[vr]===0&&e._a[ni]===0&&e._a[ga]===0&&(e._nextDay=!0,e._a[Gt]=0),e._d=(e._useUTC?Js:oF).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Gt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==s&&(ke(e).weekdayMismatch=!0)}}function QF(e){var t,n,r,a,s,u,l,f,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,u=4,n=bo(t.GG,e._a[on],Zs(vt(),1,4).year),r=bo(t.W,1),a=bo(t.E,1),(a<1||a>7)&&(f=!0)):(s=e._locale._week.dow,u=e._locale._week.doy,d=Zs(vt(),s,u),n=bo(t.gg,e._a[on],d.year),r=bo(t.w,d.week),t.d!=null?(a=t.d,(a<0||a>6)&&(f=!0)):t.e!=null?(a=t.e+s,(t.e<0||t.e>6)&&(f=!0)):a=s),r<1||r>ri(n,s,u)?ke(e)._overflowWeeks=!0:f!=null?ke(e)._overflowWeekday=!0:(l=AS(n,r,a,s,u),e._a[on]=l.year,e._dayOfYear=l.dayOfYear)}ue.ISO_8601=function(){};ue.RFC_2822=function(){};function sm(e){if(e._f===ue.ISO_8601){xS(e);return}if(e._f===ue.RFC_2822){CS(e);return}e._a=[],ke(e).empty=!0;var t=""+e._i,n,r,a,s,u,l=t.length,f=0,d;for(a=dS(e._f,e._locale).match(Xh)||[],n=0;n<a.length;n++)s=a[n],r=(t.match(VU(s,e))||[])[0],r&&(u=t.substr(0,t.indexOf(r)),u.length>0&&ke(e).unusedInput.push(u),t=t.slice(t.indexOf(r)+r.length),f+=r.length),yo[s]?(r?ke(e).empty=!1:ke(e).unusedTokens.push(s),jU(s,r,e)):e._strict&&!r&&ke(e).unusedTokens.push(s);ke(e).charsLeftOver=l-f,t.length>0&&ke(e).unusedInput.push(t),e._a[Gt]<=12&&ke(e).bigHour===!0&&e._a[Gt]>0&&(ke(e).bigHour=void 0),ke(e).parsedDateParts=e._a.slice(0),ke(e).meridiem=e._meridiem,e._a[Gt]=eG(e._locale,e._a[Gt],e._meridiem),d=ke(e).era,d!==null&&(e._a[on]=e._locale.erasConvertYear(d,e._a[on])),om(e),im(e)}function eG(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function tG(e){var t,n,r,a,s,u,l=!1;if(e._f.length===0){ke(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++)s=0,u=!1,t=Yh({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],sm(t),Hh(t)&&(u=!0),s+=ke(t).charsLeftOver,s+=ke(t).unusedTokens.length*10,ke(t).score=s,l?s<r&&(r=s,n=t):(r==null||s<r||u)&&(r=s,n=t,u&&(l=!0));Hi(e,n||t)}function nG(e){if(!e._d){var t=qh(e._i),n=t.day===void 0?t.date:t.day;e._a=uS([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),om(e)}}function rG(e){var t=new Ws(im(PS(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function PS(e){var t=e._i,n=e._f;return e._locale=e._locale||ii(e._l),t===null||n===void 0&&t===""?fl({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),gr(t)?new Ws(im(t)):(js(t)?e._d=t:_r(n)?tG(e):n?sm(e):iG(e),Hh(e)||(e._d=null),e))}function iG(e){var t=e._i;Tn(t)?e._d=new Date(ue.now()):js(t)?e._d=new Date(t.valueOf()):typeof t=="string"?JF(e):_r(t)?(e._a=uS(t.slice(0),function(n){return parseInt(n,10)}),om(e)):_a(t)?nG(e):ei(t)?e._d=new Date(t):ue.createFromInputFallback(e)}function NS(e,t,n,r,a){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(_a(e)&&Gh(e)||_r(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=e,s._f=t,s._strict=r,rG(s)}function vt(e,t,n,r){return NS(e,t,n,r,!1)}var aG=er("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:fl()}),oG=er("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:fl()});function MS(e,t){var n,r;if(t.length===1&&_r(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function sG(){var e=[].slice.call(arguments,0);return MS("isBefore",e)}function uG(){var e=[].slice.call(arguments,0);return MS("isAfter",e)}var cG=function(){return Date.now?Date.now():+new Date},tu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function lG(e){var t,n=!1,r;for(t in e)if(je(e,t)&&!(kt.call(tu,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<tu.length;++r)if(e[tu[r]]){if(n)return!1;parseFloat(e[tu[r]])!==Me(e[tu[r]])&&(n=!0)}return!0}function fG(){return this._isValid}function dG(){return yr(NaN)}function Ol(e){var t=qh(e),n=t.year||0,r=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,u=t.day||0,l=t.hour||0,f=t.minute||0,d=t.second||0,h=t.millisecond||0;this._isValid=lG(t),this._milliseconds=+h+d*1e3+f*6e4+l*1e3*60*60,this._days=+u+s*7,this._months=+a+r*3+n*12,this._data={},this._locale=ii(),this._bubble()}function Il(e){return e instanceof Ol}function um(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function pG(e,t,n){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0,u;for(u=0;u<r;u++)(n&&e[u]!==t[u]||!n&&Me(e[u])!==Me(t[u]))&&s++;return s+a}function LS(e,t){he(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Pr(~~(n/60),2)+t+Pr(~~n%60,2)})}LS("Z",":");LS("ZZ","");fe("Z",El);fe("ZZ",El);et(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=cm(El,e)});var hG=/([\+\-]|\d\d)/gi;function cm(e,t){var n=(t||"").match(e),r,a,s;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(hG)||["-",0,0],s=+(a[1]*60)+Me(a[2]),s===0?0:a[0]==="+"?s:-s)}function lm(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(gr(e)||js(e)?e.valueOf():vt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ue.updateOffset(n,!1),n):vt(e).local()}function fm(e){return-Math.round(e._d.getTimezoneOffset())}ue.updateOffset=function(){};function mG(e,t,n){var r=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=cm(El,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(a=fm(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==e&&(!t||this._changeInProgress?zS(this,yr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:fm(this)}function _G(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gG(e){return this.utcOffset(0,e)}function vG(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fm(this),"m")),this}function yG(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=cm(HU,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function EG(e){return this.isValid()?(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60==0):!1}function SG(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bG(){if(!Tn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Yh(e,this),e=PS(e),e._a?(t=e._isUTC?xr(e._a):vt(e._a),this._isDSTShifted=this.isValid()&&pG(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function TG(){return this.isValid()?!this._isUTC:!1}function wG(){return this.isValid()?this._isUTC:!1}function US(){return this.isValid()?this._isUTC&&this._offset===0:!1}var AG=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,OG=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yr(e,t){var n=e,r=null,a,s,u;return Il(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ei(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=AG.exec(e))?(a=r[1]==="-"?-1:1,n={y:0,d:Me(r[Nr])*a,h:Me(r[Gt])*a,m:Me(r[vr])*a,s:Me(r[ni])*a,ms:Me(um(r[ga]*1e3))*a}):(r=OG.exec(e))?(a=r[1]==="-"?-1:1,n={y:va(r[2],a),M:va(r[3],a),w:va(r[4],a),d:va(r[5],a),h:va(r[6],a),m:va(r[7],a),s:va(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(u=IG(vt(n.from),vt(n.to)),n={},n.ms=u.milliseconds,n.M=u.months),s=new Ol(n),Il(e)&&je(e,"_locale")&&(s._locale=e._locale),Il(e)&&je(e,"_isValid")&&(s._isValid=e._isValid),s}yr.fn=Ol.prototype;yr.invalid=dG;function va(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function FS(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function IG(e,t){var n;return e.isValid()&&t.isValid()?(t=lm(t,e),e.isBefore(t)?n=FS(e,t):(n=FS(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function GS(e,t){return function(n,r){var a,s;return r!==null&&!isNaN(+r)&&(fS(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),a=yr(n,r),zS(this,a,e),this}}function zS(e,t,n,r){var a=t._milliseconds,s=um(t._days),u=um(t._months);!e.isValid()||(r=r??!0,u&&SS(e,ml(e,"Month")+u*n),s&&hS(e,"Date",ml(e,"Date")+s*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&ue.updateOffset(e,s||u))}var RG=GS(1,"add"),DG=GS(-1,"subtract");function HS(e){return typeof e=="string"||e instanceof String}function kG(e){return gr(e)||js(e)||HS(e)||ei(e)||CG(e)||xG(e)||e===null||e===void 0}function xG(e){var t=_a(e)&&!Gh(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s;for(a=0;a<r.length;a+=1)s=r[a],n=n||je(e,s);return t&&n}function CG(e){var t=_r(e),n=!1;return t&&(n=e.filter(function(r){return!ei(r)&&HS(e)}).length===0),t&&n}function PG(e){var t=_a(e)&&!Gh(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<r.length;a+=1)s=r[a],n=n||je(e,s);return t&&n}function NG(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function MG(e,t){arguments.length===1&&(arguments[0]?kG(arguments[0])?(e=arguments[0],t=void 0):PG(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||vt(),r=lm(n,this).startOf("day"),a=ue.calendarFormat(this,r)||"sameElse",s=t&&(Cr(t[a])?t[a].call(this,n):t[a]);return this.format(s||this.localeData().calendar(a,this,vt(n)))}function LG(){return new Ws(this)}function UG(e,t){var n=gr(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function FG(e,t){var n=gr(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function GG(e,t,n,r){var a=gr(e)?e:vt(e),s=gr(t)?t:vt(t);return this.isValid()&&a.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function zG(e,t){var n=gr(e)?e:vt(e),r;return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function HG(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $G(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function VG(e,t,n){var r,a,s;if(!this.isValid())return NaN;if(r=lm(e,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,t=tr(t),t){case"year":s=Rl(this,r)/12;break;case"month":s=Rl(this,r);break;case"quarter":s=Rl(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-a)/864e5;break;case"week":s=(this-r-a)/6048e5;break;default:s=this-r}return n?s:nr(s)}function Rl(e,t){if(e.date()<t.date())return-Rl(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),a,s;return t-r<0?(a=e.clone().add(n-1,"months"),s=(t-r)/(r-a)):(a=e.clone().add(n+1,"months"),s=(t-r)/(a-r)),-(n+s)||0}ue.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ue.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function YG(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jG(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?pl(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Cr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pl(n,"Z")):pl(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function WG(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,a,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+a+s)}function BG(e){e||(e=this.isUtc()?ue.defaultFormatUtc:ue.defaultFormat);var t=pl(this,e);return this.localeData().postformat(t)}function XG(e,t){return this.isValid()&&(gr(e)&&e.isValid()||vt(e).isValid())?yr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function KG(e){return this.from(vt(),e)}function qG(e,t){return this.isValid()&&(gr(e)&&e.isValid()||vt(e).isValid())?yr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function JG(e){return this.to(vt(),e)}function $S(e){var t;return e===void 0?this._locale._abbr:(t=ii(e),t!=null&&(this._locale=t),this)}var VS=er("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function YS(){return this._locale}var Dl=1e3,To=60*Dl,kl=60*To,jS=(365*400+97)*24*kl;function wo(e,t){return(e%t+t)%t}function WS(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-jS:new Date(e,t,n).valueOf()}function BS(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-jS:Date.UTC(e,t,n)}function ZG(e){var t,n;if(e=tr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?BS:WS,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wo(t+(this._isUTC?0:this.utcOffset()*To),kl);break;case"minute":t=this._d.valueOf(),t-=wo(t,To);break;case"second":t=this._d.valueOf(),t-=wo(t,Dl);break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function QG(e){var t,n;if(e=tr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?BS:WS,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=kl-wo(t+(this._isUTC?0:this.utcOffset()*To),kl)-1;break;case"minute":t=this._d.valueOf(),t+=To-wo(t,To)-1;break;case"second":t=this._d.valueOf(),t+=Dl-wo(t,Dl)-1;break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function e4(){return this._d.valueOf()-(this._offset||0)*6e4}function t4(){return Math.floor(this.valueOf()/1e3)}function n4(){return new Date(this.valueOf())}function r4(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function i4(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function a4(){return this.isValid()?this.toISOString():null}function o4(){return Hh(this)}function s4(){return Hi({},ke(this))}function u4(){return ke(this).overflow}function c4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr");he("NN",0,0,"eraAbbr");he("NNN",0,0,"eraAbbr");he("NNNN",0,0,"eraName");he("NNNNN",0,0,"eraNarrow");he("y",["y",1],"yo","eraYear");he("y",["yy",2],0,"eraYear");he("y",["yyy",3],0,"eraYear");he("y",["yyyy",4],0,"eraYear");fe("N",dm);fe("NN",dm);fe("NNN",dm);fe("NNNN",E4);fe("NNNNN",S4);et(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?ke(n).era=a:ke(n).invalidEra=e});fe("y",So);fe("yy",So);fe("yyy",So);fe("yyyy",So);fe("yo",b4);et(["y","yy","yyy","yyyy"],on);et(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[on]=n._locale.eraYearOrdinalParse(e,a):t[on]=parseInt(e,10)});function l4(e,t){var n,r,a,s=this._eras||ii("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":a=ue(s[n].since).startOf("day"),s[n].since=a.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":a=ue(s[n].until).startOf("day").valueOf(),s[n].until=a.valueOf();break}}return s}function f4(e,t,n){var r,a,s=this.eras(),u,l,f;for(e=e.toUpperCase(),r=0,a=s.length;r<a;++r)if(u=s[r].name.toUpperCase(),l=s[r].abbr.toUpperCase(),f=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(l===e)return s[r];break;case"NNNN":if(u===e)return s[r];break;case"NNNNN":if(f===e)return s[r];break}else if([u,l,f].indexOf(e)>=0)return s[r]}function d4(e,t){var n=e.since<=e.until?1:-1;return t===void 0?ue(e.since).year():ue(e.since).year()+(t-e.offset)*n}function p4(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function h4(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function m4(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function _4(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-ue(a[e].since).year())*n+a[e].offset;return this.year()}function g4(e){return je(this,"_erasNameRegex")||pm.call(this),e?this._erasNameRegex:this._erasRegex}function v4(e){return je(this,"_erasAbbrRegex")||pm.call(this),e?this._erasAbbrRegex:this._erasRegex}function y4(e){return je(this,"_erasNarrowRegex")||pm.call(this),e?this._erasNarrowRegex:this._erasRegex}function dm(e,t){return t.erasAbbrRegex(e)}function E4(e,t){return t.erasNameRegex(e)}function S4(e,t){return t.erasNarrowRegex(e)}function b4(e,t){return t._eraYearOrdinalRegex||So}function pm(){var e=[],t=[],n=[],r=[],a,s,u=this.eras();for(a=0,s=u.length;a<s;++a)t.push(Fn(u[a].name)),e.push(Fn(u[a].abbr)),n.push(Fn(u[a].narrow)),r.push(Fn(u[a].name)),r.push(Fn(u[a].abbr)),r.push(Fn(u[a].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100});he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xl(e,t){he(0,[e,e.length],0,t)}xl("gggg","weekYear");xl("ggggg","weekYear");xl("GGGG","isoWeekYear");xl("GGGGG","isoWeekYear");rn("weekYear","gg");rn("isoWeekYear","GG");an("weekYear",1);an("isoWeekYear",1);fe("G",yl);fe("g",yl);fe("GG",gt,Un);fe("gg",gt,Un);fe("GGGG",Zh,Jh);fe("gggg",Zh,Jh);fe("GGGGG",vl,_l);fe("ggggg",vl,_l);Ks(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Me(e)});Ks(["gg","GG"],function(e,t,n,r){t[r]=ue.parseTwoDigitYear(e)});function T4(e){return XS.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function w4(e){return XS.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function A4(){return ri(this.year(),1,4)}function O4(){return ri(this.isoWeekYear(),1,4)}function I4(){var e=this.localeData()._week;return ri(this.year(),e.dow,e.doy)}function R4(){var e=this.localeData()._week;return ri(this.weekYear(),e.dow,e.doy)}function XS(e,t,n,r,a){var s;return e==null?Zs(this,r,a).year:(s=ri(e,r,a),t>s&&(t=s),D4.call(this,e,t,n,r,a))}function D4(e,t,n,r,a){var s=AS(e,t,n,r,a),u=Js(s.year,0,s.dayOfYear);return this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}he("Q",0,"Qo","quarter");rn("quarter","Q");an("quarter",7);fe("Q",mS);et("Q",function(e,t){t[ti]=(Me(e)-1)*3});function k4(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}he("D",["DD",2],"Do","date");rn("date","D");an("date",9);fe("D",gt);fe("DD",gt,Un);fe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});et(["D","DD"],Nr);et("Do",function(e,t){t[Nr]=Me(e.match(gt)[0])});var KS=Eo("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear");rn("dayOfYear","DDD");an("dayOfYear",4);fe("DDD",gl);fe("DDDD",_S);et(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Me(e)});function x4(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}he("m",["mm",2],0,"minute");rn("minute","m");an("minute",14);fe("m",gt);fe("mm",gt,Un);et(["m","mm"],vr);var C4=Eo("Minutes",!1);he("s",["ss",2],0,"second");rn("second","s");an("second",15);fe("s",gt);fe("ss",gt,Un);et(["s","ss"],ni);var P4=Eo("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)});he(0,["SS",2],0,function(){return~~(this.millisecond()/10)});he(0,["SSS",3],0,"millisecond");he(0,["SSSS",4],0,function(){return this.millisecond()*10});he(0,["SSSSS",5],0,function(){return this.millisecond()*100});he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});rn("millisecond","ms");an("millisecond",16);fe("S",gl,mS);fe("SS",gl,Un);fe("SSS",gl,_S);var Vi,qS;for(Vi="SSSS";Vi.length<=9;Vi+="S")fe(Vi,So);function N4(e,t){t[ga]=Me(("0."+e)*1e3)}for(Vi="S";Vi.length<=9;Vi+="S")et(Vi,N4);qS=Eo("Milliseconds",!1);he("z",0,0,"zoneAbbr");he("zz",0,0,"zoneName");function M4(){return this._isUTC?"UTC":""}function L4(){return this._isUTC?"Coordinated Universal Time":""}var te=Ws.prototype;te.add=RG;te.calendar=MG;te.clone=LG;te.diff=VG;te.endOf=QG;te.format=BG;te.from=XG;te.fromNow=KG;te.to=qG;te.toNow=JG;te.get=GU;te.invalidAt=u4;te.isAfter=UG;te.isBefore=FG;te.isBetween=GG;te.isSame=zG;te.isSameOrAfter=HG;te.isSameOrBefore=$G;te.isValid=o4;te.lang=VS;te.locale=$S;te.localeData=YS;te.max=oG;te.min=aG;te.parsingFlags=s4;te.set=zU;te.startOf=ZG;te.subtract=DG;te.toArray=r4;te.toObject=i4;te.toDate=n4;te.toISOString=jG;te.inspect=WG;typeof Symbol!="undefined"&&Symbol.for!=null&&(te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});te.toJSON=a4;te.toString=YG;te.unix=t4;te.valueOf=e4;te.creationData=c4;te.eraName=p4;te.eraNarrow=h4;te.eraAbbr=m4;te.eraYear=_4;te.year=wS;te.isLeapYear=aF;te.weekYear=T4;te.isoWeekYear=w4;te.quarter=te.quarters=k4;te.month=bS;te.daysInMonth=nF;te.week=te.weeks=fF;te.isoWeek=te.isoWeeks=dF;te.weeksInYear=I4;te.weeksInWeekYear=R4;te.isoWeeksInYear=A4;te.isoWeeksInISOWeekYear=O4;te.date=KS;te.day=te.days=AF;te.weekday=OF;te.isoWeekday=IF;te.dayOfYear=x4;te.hour=te.hours=NF;te.minute=te.minutes=C4;te.second=te.seconds=P4;te.millisecond=te.milliseconds=qS;te.utcOffset=mG;te.utc=gG;te.local=vG;te.parseZone=yG;te.hasAlignedHourOffset=EG;te.isDST=SG;te.isLocal=TG;te.isUtcOffset=wG;te.isUtc=US;te.isUTC=US;te.zoneAbbr=M4;te.zoneName=L4;te.dates=er("dates accessor is deprecated. Use date instead.",KS);te.months=er("months accessor is deprecated. Use month instead",bS);te.years=er("years accessor is deprecated. Use year instead",wS);te.zone=er("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_G);te.isDSTShifted=er("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bG);function U4(e){return vt(e*1e3)}function F4(){return vt.apply(null,arguments).parseZone()}function JS(e){return e}var We=Wh.prototype;We.calendar=AU;We.longDateFormat=DU;We.invalidDate=xU;We.ordinal=NU;We.preparse=JS;We.postformat=JS;We.relativeTime=LU;We.pastFuture=UU;We.set=TU;We.eras=l4;We.erasParse=f4;We.erasConvertYear=d4;We.erasAbbrRegex=v4;We.erasNameRegex=g4;We.erasNarrowRegex=y4;We.months=ZU;We.monthsShort=QU;We.monthsParse=tF;We.monthsRegex=iF;We.monthsShortRegex=rF;We.week=sF;We.firstDayOfYear=lF;We.firstDayOfWeek=cF;We.weekdays=EF;We.weekdaysMin=bF;We.weekdaysShort=SF;We.weekdaysParse=wF;We.weekdaysRegex=RF;We.weekdaysShortRegex=DF;We.weekdaysMinRegex=kF;We.isPM=CF;We.meridiem=MF;function Cl(e,t,n,r){var a=ii(),s=xr().set(r,t);return a[n](s,e)}function ZS(e,t,n){if(ei(e)&&(t=e,e=void 0),e=e||"",t!=null)return Cl(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Cl(e,r,n,"month");return a}function hm(e,t,n,r){typeof e=="boolean"?(ei(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ei(t)&&(n=t,t=void 0),t=t||"");var a=ii(),s=e?a._week.dow:0,u,l=[];if(n!=null)return Cl(t,(n+s)%7,r,"day");for(u=0;u<7;u++)l[u]=Cl(t,(u+s)%7,r,"day");return l}function G4(e,t){return ZS(e,t,"months")}function z4(e,t){return ZS(e,t,"monthsShort")}function H4(e,t,n){return hm(e,t,n,"weekdays")}function $4(e,t,n){return hm(e,t,n,"weekdaysShort")}function V4(e,t,n){return hm(e,t,n,"weekdaysMin")}$i("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Me(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});ue.lang=er("moment.lang is deprecated. Use moment.locale instead.",$i);ue.langData=er("moment.langData is deprecated. Use moment.localeData instead.",ii);var ai=Math.abs;function Y4(){var e=this._data;return this._milliseconds=ai(this._milliseconds),this._days=ai(this._days),this._months=ai(this._months),e.milliseconds=ai(e.milliseconds),e.seconds=ai(e.seconds),e.minutes=ai(e.minutes),e.hours=ai(e.hours),e.months=ai(e.months),e.years=ai(e.years),this}function QS(e,t,n,r){var a=yr(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function j4(e,t){return QS(this,e,t,1)}function W4(e,t){return QS(this,e,t,-1)}function eb(e){return e<0?Math.floor(e):Math.ceil(e)}function B4(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,a,s,u,l,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=eb(mm(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,a=nr(e/1e3),r.seconds=a%60,s=nr(a/60),r.minutes=s%60,u=nr(s/60),r.hours=u%24,t+=nr(u/24),f=nr(tb(t)),n+=f,t-=eb(mm(f)),l=nr(n/12),n%=12,r.days=t,r.months=n,r.years=l,this}function tb(e){return e*4800/146097}function mm(e){return e*146097/4800}function X4(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=tr(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+tb(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(mm(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function K4(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Me(this._months/12)*31536e6:NaN}function oi(e){return function(){return this.as(e)}}var q4=oi("ms"),J4=oi("s"),Z4=oi("m"),Q4=oi("h"),e6=oi("d"),t6=oi("w"),n6=oi("M"),r6=oi("Q"),i6=oi("y");function a6(){return yr(this)}function o6(e){return e=tr(e),this.isValid()?this[e+"s"]():NaN}function ya(e){return function(){return this.isValid()?this._data[e]:NaN}}var s6=ya("milliseconds"),u6=ya("seconds"),c6=ya("minutes"),l6=ya("hours"),f6=ya("days"),d6=ya("months"),p6=ya("years");function h6(){return nr(this.days()/7)}var si=Math.round,Ao={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function m6(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function _6(e,t,n,r){var a=yr(e).abs(),s=si(a.as("s")),u=si(a.as("m")),l=si(a.as("h")),f=si(a.as("d")),d=si(a.as("M")),h=si(a.as("w")),_=si(a.as("y")),v=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||u<=1&&["m"]||u<n.m&&["mm",u]||l<=1&&["h"]||l<n.h&&["hh",l]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(v=v||h<=1&&["w"]||h<n.w&&["ww",h]),v=v||d<=1&&["M"]||d<n.M&&["MM",d]||_<=1&&["y"]||["yy",_],v[2]=t,v[3]=+e>0,v[4]=r,m6.apply(null,v)}function g6(e){return e===void 0?si:typeof e=="function"?(si=e,!0):!1}function v6(e,t){return Ao[e]===void 0?!1:t===void 0?Ao[e]:(Ao[e]=t,e==="s"&&(Ao.ss=t-1),!0)}function y6(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ao,a,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ao,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),a=this.localeData(),s=_6(this,!n,r,a),n&&(s=a.pastFuture(+this,s)),a.postformat(s)}var _m=Math.abs;function Oo(e){return(e>0)-(e<0)||+e}function Pl(){if(!this.isValid())return this.localeData().invalidDate();var e=_m(this._milliseconds)/1e3,t=_m(this._days),n=_m(this._months),r,a,s,u,l=this.asSeconds(),f,d,h,_;return l?(r=nr(e/60),a=nr(r/60),e%=60,r%=60,s=nr(n/12),n%=12,u=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=l<0?"-":"",d=Oo(this._months)!==Oo(l)?"-":"",h=Oo(this._days)!==Oo(l)?"-":"",_=Oo(this._milliseconds)!==Oo(l)?"-":"",f+"P"+(s?d+s+"Y":"")+(n?d+n+"M":"")+(t?h+t+"D":"")+(a||r||e?"T":"")+(a?_+a+"H":"")+(r?_+r+"M":"")+(e?_+u+"S":"")):"P0D"}var Ve=Ol.prototype;Ve.isValid=fG;Ve.abs=Y4;Ve.add=j4;Ve.subtract=W4;Ve.as=X4;Ve.asMilliseconds=q4;Ve.asSeconds=J4;Ve.asMinutes=Z4;Ve.asHours=Q4;Ve.asDays=e6;Ve.asWeeks=t6;Ve.asMonths=n6;Ve.asQuarters=r6;Ve.asYears=i6;Ve.valueOf=K4;Ve._bubble=B4;Ve.clone=a6;Ve.get=o6;Ve.milliseconds=s6;Ve.seconds=u6;Ve.minutes=c6;Ve.hours=l6;Ve.days=f6;Ve.weeks=h6;Ve.months=d6;Ve.years=p6;Ve.humanize=y6;Ve.toISOString=Pl;Ve.toString=Pl;Ve.toJSON=Pl;Ve.locale=$S;Ve.localeData=YS;Ve.toIsoString=er("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pl);Ve.lang=VS;he("X",0,0,"unix");he("x",0,0,"valueOf");fe("x",yl);fe("X",$U);et("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});et("x",function(e,t,n){n._d=new Date(Me(e))});//! moment.js
ue.version="2.29.1";SU(vt);ue.fn=te;ue.min=sG;ue.max=uG;ue.now=cG;ue.utc=xr;ue.unix=U4;ue.months=G4;ue.isDate=js;ue.locale=$i;ue.invalid=fl;ue.duration=yr;ue.isMoment=gr;ue.weekdays=H4;ue.parseZone=F4;ue.localeData=ii;ue.isDuration=Il;ue.monthsShort=z4;ue.weekdaysMin=V4;ue.defineLocale=rm;ue.updateLocale=FF;ue.locales=GF;ue.weekdaysShort=$4;ue.normalizeUnits=tr;ue.relativeTimeRounding=g6;ue.relativeTimeThreshold=v6;ue.calendarFormat=NG;ue.prototype=te;ue.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const gm=Ee({channels:{channels:{},limit:5,skip:0,total:0,updateNeeded:!0,fetchingInstanceChannel:!1},targetObjectType:"",targetObject:{id:"",name:""},targetChannelId:"",updateMessageScroll:!1,messageScrollInit:!1,instanceChannelFetching:!1,instanceChannelFetched:!1}),E6=(e,t)=>(Promise.resolve().then(()=>S6(t)),gm.attach(Te).value),S6=e=>{let t,n,r,a,s;gm.batch(u=>{switch(e.type){case"LOADED_CHANNELS":return n=e,t=gm.channels.value,t.limit=n.limit,t.skip=n.skip,t.total=n.total,r=t.channels,t.updateNeeded=!1,n.channels.forEach(k=>{r[k.id]==null&&(k.updateNeeded=!0,k.limit=8,k.skip=0,k.total=0,r[k.id]=k)}),t.channels=r,u.merge({channels:t});case"LOADED_CHANNEL":n=e;const l=n.channel,f=n.channelType;if(t=u.channels.value,r=t.channels,f==="instance"){const k={};Object.entries(r).forEach(([N,W])=>{W.channelType!=="instance"&&(k[N]=W)}),r=k}if(l?.id!=null&&r[l.id]==null&&(l.updateNeeded=!0,l.limit=10,l.skip=0,l.total=0,r[l.id]=l),t.channels=r,s=u.merge({channels:t}),f==="instance"){const k=u.channels.value;k.fetchingInstanceChannel=!1,s=u.merge({instanceChannelFetched:!0,channels:k})}return s;case"CREATED_MESSAGE":n=e;const d=n.message.channelId,h=n.selfUser;if(t=u.channels.value,r=t.channels,a=r[d],a==null?t.updateNeeded=!0:(a.messages=a.messages==null||a.messages.size!=null||a.updateNeeded===!0?[n.message]:mr.unionBy(a.messages,[n.message],"id"),a.skip=a.skip+1,a.updatedAt=ue().utc().toJSON(),r[d]=a,t.channels=r),s=u.merge({channels:t,updateMessageScroll:!0}),u.targetChannelId.value.length===0&&a!=null){const k=a.channelType,N=k==="user"?a.userId1===h.id?a.user2:a.user1:k==="group"?a.group:k==="instance"?a.instance:a.party;s=u.merge({targetChannelId:d,targetObjectType:k,targetObject:N})}return s;case"LOADED_MESSAGES":return n=e,t=u.channels.value,r=t.channels,a=r[n.channelId],a.messages=a.messages==null||a.messages.size!=null||a.updateNeeded===!0?n.messages:mr.unionBy(a.messages,n.messages,"id"),a.limit=n.limit,a.skip=n.skip,a.total=n.total,a.updateNeeded=!1,r[n.channelId]=a,u.channels.merge({channels:r});case"REMOVED_MESSAGE":return n=e,t=u.channels.value,r=t.channels,a=r[n.message.channelId],a!=null&&(mr.remove(a.messages,k=>k.id===n.message.id),a.skip=a.skip-1,r[n.message.channelId]=a,t.channels=r),u.merge({channels:t});case"PATCHED_MESSAGE":return n=e,t=u.channels.value,r=t.channels,a=r[n.message.channelId],a!=null&&(a.messages=a.messages.map(k=>k.id===n.message.id?n.message:k),r[n.message.channelId]=a,t.channels=r),u.merge({channels:t});case"CREATED_CHANNEL":n=e;const _=n.channel;return t=u.channels.value,r=t.channels,_.updateNeeded=!0,_.limit=10,_.skip=0,_.total=0,r[_.id]=_,t.channels=r,u.merge({channels:t});case"PATCHED_CHANNEL":n=e;const v=n.channel;return t=u.channels.value,r=t.channels,a=r[n.channel.id],a!=null&&(a.updatedAt=v.updatedAt,a.group=v.group,a.instance=v.instance,a.party=v.party,a.user1=v.user1,a.user2=v.user2,r[n.channel.id]=a,t.channels=r),u.merge({channels:t});case"REMOVED_CHANNEL":return n=e,u.channels.channels[n.channel.id].set(St);case"CHAT_TARGET_SET":const{targetObjectType:S,targetObject:T,targetChannelId:E}=e;return u.merge({targetObjectType:S,targetObject:T,targetChannelId:E,updateMessageScroll:!0,messageScrollInit:!0});case"SET_MESSAGE_SCROLL_INIT":const{value:A}=e;return u.merge({messageScrollInit:A});case"FETCHING_INSTANCE_CHANNEL":return u.channels.merge({fetchingInstanceChannel:!0});case"SET_UPDATE_MESSAGE_SCROLL":return u.merge({updateMessageScroll:e.value})}},e.type)},nb=Ee({friends:{friends:[],total:0,limit:5,skip:0},getFriendsInProgress:!1,updateNeeded:!0}),b6=(e,t)=>(Promise.resolve().then(()=>T6(t)),nb.attach(Te).value),T6=e=>{let t,n,r,a;nb.batch(s=>{switch(e.type){case"LOADED_FRIENDS":return t=e,s.updateNeeded.value===!0?s.friends.friends.set(t.friends):s.friends.friends.set([s.friends.friends.value,t.friends]),s.friends.skip.set(t.skip),s.friends.limit.set(t.limit),s.friends.total.set(t.total),s.updateNeeded.set(!1),s.getFriendsInProgress.set(!1);case"CREATED_FRIEND":t=e;const u=t.userRelationship;s.friends.friends.set([...s.friends.friends.value,u]);case"PATCHED_FRIEND":t=e;const l=t.userRelationship;n=t.selfUser,r=l.userId===n.id?l.relatedUser:l.user;const f=s.friends.friends.value.findIndex(_=>_!=null&&_.id===r.id);return f===-1?s.friends.friends.set([...s.friends.friends.value,r]):s.friends.friends[f].set(r);case"REMOVED_FRIEND":t=e;const d=t.userRelationship;n=t.selfUser,a=d.userId===n.id?d.relatedUserId:d.userId;const h=s.friends.friends.value.findIndex(_=>_!=null&&_.id===a);return s.friends.friends[h].set(St);case"FETCHING_FRIENDS":return s.getFriendsInProgress.set(!0)}},e.type)},vm=Ee({locations:{locations:[],total:0,limit:10,skip:0},currentLocation:{location:{},bannedUsers:[]},updateNeeded:!0,currentLocationUpdateNeeded:!0,fetchingCurrentLocation:!1,invalidLocation:!1}),w6=(e,t)=>(Promise.resolve().then(()=>A6(t)),vm.attach(Te).value),A6=e=>{let t;vm.batch(n=>{switch(e.type){case"LOCATIONS_RETRIEVED":return t=e.locations,n.locations.locations==null||n.updateNeeded.value===!0?n.locations.locations.set(t.data):n.locations.locations.set([...n.locations.locations.value,...t.data]),n.locations.skip.set(t.skip),n.locations.limit.set(t.limit),n.locations.total.set(t.total),n.updateNeeded.set(!1);case"FETCH_CURRENT_LOCATION":return n.fetchingCurrentLocation.set(!0);case"LOCATION_RETRIEVED":t=e.location,t.locationSettings=t.location_setting;let r=[];return t.location_bans?.forEach(a=>{r.push(a.userId)}),r=[...new Set(r)],n.currentLocation.location.set(t),n.currentLocation.bannedUsers.set(r),n.currentLocationUpdateNeeded.set(!1),n.fetchingCurrentLocation.set(!1);case"LOCATION_NOT_FOUND":return n.currentLocation.merge({location:{},bannedUsers:[]}),n.currentLocationUpdateNeeded.set(!1),n.fetchingCurrentLocation.set(!1),n.invalidLocation.set(!0);case"LOCATION_BAN_CREATED":return n.currentLocationUpdateNeeded.set(!0)}},e.type)},Wz=()=>vm,rb=Ee({groups:{groups:[],total:0,limit:5,skip:0},invitableGroups:{groups:[],total:0,limit:5,skip:0},getInvitableGroupsInProgress:!1,getGroupsInProgress:!1,invitableUpdateNeeded:!0,updateNeeded:!0,closeDetails:""}),O6=(e,t)=>(Promise.resolve().then(()=>I6(t)),rb.attach(Te).value),I6=e=>{let t,n,r,a,s,u,l,f;rb.batch(d=>{switch(e.type){case"LOADED_GROUPS":return t=e,d.updateNeeded.value===!0?d.groups.groups.set(t.groups):d.groups.groups.set([...d.groups.groups.value,...t.groups]),d.groups.merge({skip:t.skip,limit:t.limit,total:t.total}),d.updateNeeded.set(!1),d.getGroupsInProgress.set(!1);case"LOADED_INVITABLE_GROUPS":return t=e,d.updateNeeded.value===!0?d.invitableGroups.groups.set(t.groups):d.invitableGroups.groups.set([...d.invitableGroups.groups.value,...t.groups]),d.invitableGroups.skip.set(t.skip),d.invitableGroups.limit.set(t.limit),d.invitableGroups.total.set(t.total),d.merge({invitableUpdateNeeded:!1,getInvitableGroupsInProgress:!1});case"CREATED_GROUP":return t=e,d.merge({updateNeeded:!0,invitableUpdateNeeded:!0});case"PATCHED_GROUP":return t=e,l=t.group,f=d.groups.groups.value.findIndex(v=>v!=null&&v.id===u.groupId),f!==-1?d.groups.groups[f].set(l):d;case"REMOVED_GROUP":return d.updateNeeded.set(!0),d.invitableUpdateNeeded.set(!0);case"INVITED_GROUP_USER":return d;case"LEFT_GROUP":return d.updateNeeded.set(!0);case"FETCHING_GROUPS":return d.getGroupsInProgress.set(!0);case"FETCHING_INVITABLE_GROUPS":return d.getInvitableGroupsInProgress.set(!0);case"CREATED_GROUP_USER":if(t=e,u=t.groupUser,n=d.groups.value,r=n.groups,a=mr.find(r,v=>v!=null&&v.id===u.groupId),a!=null){s=a.groupUsers;const v=s.find(S=>S!=null&&S.id===u.id);s=Array.isArray(s)?v==null?s.concat([u]):s.map(S=>S.id===u.id?u:S):[u],a.groupUsers=s}return d.groups.groups.set(r);case"PATCHED_GROUP_USER":t=e,u=t.groupUser,n=d.groups.value,r=n.groups,a=mr.find(r,v=>v!=null&&v.id===u.groupId),a!=null&&(a.groupUsers=a.groupUsers.map(v=>v.id===u.id?u:v)),d.groups.groups.set(r);case"REMOVED_GROUP_USER":t=e,u=t.groupUser;const h=t.self;n=d.groups.value,r=n.groups,a=mr.find(r,v=>v!=null&&v.id===u.groupId),a!=null&&(s=a.groupUsers,mr.findIndex(s,v=>u.id===v.id));let _=d.groups.groups.set(r);return h===!0&&(_=d.merge({closeDetails:u.groupId,updateNeeded:!0})),_;case"REMOVE_CLOSE_GROUP_DETAIL":return d.closeDetails.set("")}},e.type)},ym=Ee({party:{},updateNeeded:!0}),R6=(e,t)=>(Promise.resolve().then(()=>D6(t)),ym.attach(Te).value),D6=e=>{let t,n,r,a;ym.batch(s=>{switch(e.type){case"LOADED_PARTY":return s.merge({party:e.party,updateNeeded:!1});case"CREATED_PARTY":return s.updateNeeded.set(!0);case"REMOVED_PARTY":return n=new Map,s.merge({party:{},updateNeeded:!0});case"INVITED_PARTY_USER":return s.updateNeeded.set(!0);case"CREATED_PARTY_USER":return t=e,r=t.partyUser,n=mr.cloneDeep(s.party.value),n!=null&&(a=n.partyUsers,a=Array.isArray(a)?a.find(u=>u!=null&&u.id===r.id)==null?a.concat([r]):n.partyUsers.map(u=>u!=null&&u.id===r.id?r:u):[r],n.partyUsers=a),s.party.set(n);case"PATCHED_PARTY_USER":return t=e,r=t.partyUser,n=mr.cloneDeep(s.party.value),n!=null&&(a=n.partyUsers,a=Array.isArray(a)?a.find(u=>u!=null&&u.id===r.id)==null?a.concat([r]):n.partyUsers.map(u=>u!=null&&u.id===r.id?r:u):[r],n.partyUsers=a),s.party.set(n);case"REMOVED_PARTY_USER":return t=e,r=t.partyUser,n=mr.cloneDeep(s.party.value),n!=null&&(a=n.partyUsers,mr.remove(a,u=>u!=null&&r.id===u.id)),s.party.set(n),s.updateNeeded.set(!0)}},e.type)},Bz=()=>ym,Em=Ee({receivedInvites:{invites:[],skip:0,limit:5,total:0},sentInvites:{invites:[],skip:0,limit:5,total:0},sentUpdateNeeded:!0,receivedUpdateNeeded:!0,getSentInvitesInProgress:!1,getReceivedInvitesInProgress:!1,targetObjectId:"",targetObjectType:""}),k6=(e,t)=>(Promise.resolve().then(()=>x6(t)),Em.attach(Te).value),x6=e=>{let t;Em.batch(n=>{switch(e.type){case"INVITE_SENT":return n.sentUpdateNeeded.set(!0);case"SENT_INVITES_RETRIEVED":return t=e,n.sentInvites.merge({invites:t.invites,skip:t.skip,limit:t.limit,total:t.total}),n.merge({sentUpdateNeeded:!1,getSentInvitesInProgress:!1});case"RECEIVED_INVITES_RETRIEVED":return t=e,n.receivedInvites.invites.value===null||n.receivedUpdateNeeded.value===!0?n.receivedInvites.invites.set(t.invites):n.receivedInvites.invites.merge([...n.receivedInvites.invites.value,...t.invites]),n.receivedInvites.merge({skip:t.skip,limit:t.limit,total:t.total}),n.merge({receivedUpdateNeeded:!1,getReceivedInvitesInProgress:!1});case"CREATED_RECEIVED_INVITE":return n.receivedUpdateNeeded.set(!0);case"CREATED_SENT_INVITE":return n.sentUpdateNeeded.set(!0);case"REMOVED_RECEIVED_INVITE":return n.receivedUpdateNeeded.set(!0);case"REMOVED_SENT_INVITE":return n.sentUpdateNeeded.set(!0);case"ACCEPTED_INVITE":return n.receivedUpdateNeeded.set(!0);case"DECLINED_INVITE":return n.receivedUpdateNeeded.set(!0);case"INVITE_TARGET_SET":return t=e,Em.merge({targetObjectId:t.targetObjectId||"",targetObjectType:t.targetObjectType||""});case"FETCHING_SENT_INVITES":return n.getSentInvitesInProgress.set(!0);case"FETCHING_RECEIVED_INVITES":return n.getReceivedInvitesInProgress.set(!0)}},e.type)},ib=Ee({inviteTypeData:{invitesType:[],skip:0,limit:5,total:0}}),C6=(e,t)=>(Promise.resolve().then(()=>P6(t)),ib.attach(Te).value),P6=e=>{let t;ib.batch(n=>{switch(e.type){case"LOAD_INVITE_TYPE":return t=e,t.invitesType!=null&&n.inviteTypeData.invitesType.merge([t.invitesType]),n.inviteTypeData.skip.set(t.skip),n.inviteTypeData.limit.set(t.limit),n.inviteTypeData.total.set(t.total)}},e.type)};var N6={locations:w6,chat:E6,friends:b6,party:R6,groups:O6,invite:k6,invitesTypeData:C6};const Sm=Ee({feeds:{feedComments:[],commentFires:[],fetching:!1}}),M6=(e,t)=>(Promise.resolve().then(()=>L6(t)),Sm.attach(Te).value),L6=e=>{Sm.batch(t=>{switch(e.type){case"FEED_COMMENTS_FETCH":return t.feeds.fetching.set(!0);case"FEED_COMMENTS_RETRIEVED":return t.feeds.merge({feedComments:e.comments||[],fetching:!1});case"ADD_FEED_COMMENT_FIRES":return t.feeds.feedComments.set(t.feeds.feedComments.value.map(n=>n.id===e.commentId?{...n,fires:parseInt(n.fires)+1,isFired:!0}:{...n}));case"REMOVE_FEED_COMMENT_FIRES":return t.feeds.feedComments.set(t.feeds.feedComments.value.map(n=>n.id===e.commentId?{...n,fires:--n.fires,isFired:!1}:{...n}));case"ADD_FEED_COMMENT":return t.feeds.feedComments.set([e.comment,...t.feeds.feedComments.value||[]]);case"COMMENT_FIRES":return t.feeds.commentFires.set(e.creators)}},e.type)},Xz=()=>tn(Sm),ab=Ee({feedFires:{feedFires:[],fetching:!1}}),U6=(e,t)=>(Promise.resolve().then(()=>F6(t)),ab.attach(Te).value),F6=e=>{ab.batch(t=>{switch(e.type){case"FEED_FIRES_FETCH":return t.feedFires.fetching.set(!0);case"FEED_FIRES_RETRIEVED":return t.feedFires.merge({feedFires:e.feedFires,fetching:!1})}},e.type)},bm=Ee({popups:{creatorPage:!1,creatorForm:!1,creatorId:null,feedPage:!1,feedId:null,shareFeedPage:!1,arMedia:!1,shareForm:!1,videoUrl:null,webxr:!1,videoPath:null,imgSrc:null,fPath:null,nameId:null,itemId:null}}),G6=(e,t)=>(Promise.resolve().then(()=>z6(t)),bm.attach(Te).value),z6=e=>{bm.batch(t=>{switch(e.type){case"CHANGE_CREATOR_PAGE_STATE":return t.popups.merge({creatorPage:e.state,creatorId:e.id});case"CHANGE_CREATOR_FORM_STATE":return t.popups.creatorForm.set(e.state);case"CHANGE_FEED_PAGE_STATE":return t.popups.merge({feedPage:e.state,feedId:e.id});case"CHANGE_ARMEDIA_CHOOSE_STATE":return t.popups.arMedia.set(e.state);case"CHANGE_NEW_FEED_PAGE_STATE":return t.popups.merge({shareFeedPage:e.state,videoPath:e.id,fPath:e.fPath,nameId:e.nameId});case"CHANGE_SHARE_FORM_STATE":return t.popups.merge({shareForm:e.state,videoUrl:e.id,imgSrc:e.imgSrc});case"CHANGE_WEB_XR_STATE":return t.popups.merge({webxr:e.state,itemId:e.itemId})}},e.type)},Kz=()=>tn(bm),Tm=Ee({thefeeds:[],fetching:!1}),H6=(e,t)=>(Promise.resolve().then(()=>$6(t)),Tm.attach(Te).value),$6=e=>{Tm.batch(t=>{switch(e.type){case"THEFEEDS_FETCH":return t.fetching.set(!0);case"THEFEEDS_RETRIEVED":return t.merge({thefeeds:e.thefeeds,fetching:!1});case"ADD_THEFEEDS":return t.thefeeds.set([...t.thefeeds.value,e.thefeeds]);case"UPDATE_THEFEEDS":return t.thefeeds.set(t.thefeeds.value.map(n=>n.id===e.thefeeds.id?{...n,...e.thefeeds}:{...n}));case"REMOVE_THEFEEDS":return t.thefeeds.set([...t.thefeeds.value.filter(n=>n.id!==e.thefeeds)])}},e.type)},qz=()=>tn(Tm),ob=Ee({thefeedsFires:{thefeedsFires:[],fetching:!1}}),V6=(e,t)=>(Promise.resolve().then(()=>Y6(t)),ob.attach(Te).value),Y6=e=>{ob.batch(t=>{switch(e.type){case"THEFEEDS_FIRES_FETCH":return t.thefeedsFires.fetching.set(!0);case"THEFEEDS_FIRES_RETRIEVED":return t.thefeedsFires.thefeedsFires.set(e.thefeedsFires);case"ADD_THEFEEDS_FIRES":return t.thefeedsFires.thefeedsFires.set([...t.thefeedsFires.thefeedsFires,e.thefeedsFire]);case"REMOVE_THEFEEDS_FIRES":return t.thefeedsFires.thefeedsFires.set(t.thefeedsFires.thefeedsFires.value.filter(n=>n.id!==e.thefeedsFireId))}},e.type)},wm=Ee({webxrnative:null}),j6=(e,t)=>(Promise.resolve().then(()=>W6(t)),wm.attach(Te).value),W6=e=>{wm.batch(t=>{switch(e.type){case"SET_WEBXRNATIVE":return t.webxrnative.set(!1);case"TOGGLE_WEBXRNATIVE":return t.webxrnative.set(!t.webxrnative.value)}},e.type)},Jz=()=>tn(wm),B6=Ee({registration:{}}),X6=(e,t)=>(Promise.resolve().then(()=>K6()),B6.attach(Te).value),K6=e=>{};var q6={creators:XE,feeds:BE,feedFires:U6,feedComments:M6,arMedia:WE,popups:G6,thefeeds:H6,thefeedsFires:V6,webxrnative:j6,registrationReducer:X6};const J6={userId:"",friend:[],requested:[],blocking:[],blocked:[]},sb=Ee({relationship:J6,users:[],updateNeeded:!0,layerUsers:[],layerUsersUpdateNeeded:!0,channelLayerUsers:[],channelLayerUsersUpdateNeeded:!0,toastMessages:[]}),Z6=(e,t)=>(Promise.resolve().then(()=>Q6(t)),sb.attach(Te).value),Q6=e=>{sb.batch(t=>{switch(e.type){case"LOADED_RELATIONSHIP":return t.merge({relationship:e.relationship,updateNeeded:!1});case"ADMIN_LOADED_USERS":return t.merge({users:e.users,updateNeeded:!1});case"CHANGED_RELATION":return t.updateNeeded.set(!0);case"CLEAR_LAYER_USERS":return t.merge({layerUsers:[],layerUsersUpdateNeeded:!0});case"LOADED_LAYER_USERS":return t.merge({layerUsers:e.users,layerUsersUpdateNeeded:!1});case"ADDED_LAYER_USER":{const a=e.user,s=t.layerUsers.findIndex(u=>u!=null&&u.id.value===a.id);return s===-1?t.layerUsers.merge([a]):t.layerUsers[s].set(a),t.layerUsersUpdateNeeded.set(!0)}case"REMOVED_LAYER_USER":{const s=t.layerUsers.findIndex(u=>u!=null&&u.value.id===e.user.id);return t.layerUsers[s].set(St)}case"CLEAR_CHANNEL_LAYER_USERS":return t.merge({channelLayerUsers:[],channelLayerUsersUpdateNeeded:!0});case"LOADED_CHANNEL_LAYER_USERS":return t.merge({channelLayerUsers:e.users,channelLayerUsersUpdateNeeded:!1});case"ADDED_CHANNEL_LAYER_USER":{const a=e.user,s=t.channelLayerUsers.findIndex(u=>u!=null&&u.value.id===a.id);return s===-1?t.channelLayerUsers.merge([a]):t.channelLayerUsers[s].set(a),t.channelLayerUsersUpdateNeeded.set(!0)}case"REMOVED_CHANNEL_LAYER_USER":const n=e.user,r=t.channelLayerUsers.findIndex(a=>a!=null&&a.value.id===n.id);return t.channelLayerUsers[r].set(St);case"USER_TOAST":return t.toastMessages.merge([e.message])}},e.type)};var ez={auth:LC,user:Z6};const ub=Ee({scenes:[],currentScene:null,error:""}),tz=(e,t)=>(Promise.resolve().then(()=>nz(t)),ub.attach(Te).value),nz=e=>{ub.batch(t=>{switch(e.type){case"SCENES_FETCHED_SUCCESS":return t.merge({scenes:e.scenes});case"SCENES_FETCHED_ERROR":return t.merge({error:e.message});case"SET_CURRENT_SCENE":return t.merge({currentScene:e.scene})}},e.type)};var rz={scenes:tz};const iz=LE({...fU,...EU,...N6,...q6,...ez,...rz});/*! Capacitor: https://capacitorjs.com/ - MIT License */const az=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(s,u)=>{n.platforms.set(s,u)},a=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=a,n},oz=e=>e.CapacitorPlatforms=az(e),cb=oz(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});cb.addPlatform;cb.setPlatform;var Io;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Io||(Io={}));class Am extends Error{constructor(t,n){super(t);this.message=t,this.code=n}}const sz=e=>{var t,n;return(e==null?void 0:e.androidBridge)?"android":((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0?void 0:n.bridge)?"ios":"web"},uz=e=>{var t,n,r,a,s;const u=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},f=l.Plugins=l.Plugins||{},d=e.CapacitorPlatforms,h=()=>u!==null?u.name:sz(e),_=((t=d==null?void 0:d.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||h,v=()=>_()!=="web",S=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||v,T=z=>{const Y=Z.get(z);return!!((Y==null?void 0:Y.platforms.has(_()))||k(z))},E=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||T,A=z=>{var Y;return(Y=l.PluginHeaders)===null||Y===void 0?void 0:Y.find(ae=>ae.name===z)},k=((a=d==null?void 0:d.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||A,N=z=>e.console.error(z),W=(z,Y,ae)=>Promise.reject(`${ae} does not have an implementation of "${Y}".`),Z=new Map,B=(z,Y={})=>{const ae=Z.get(z);if(ae)return console.warn(`Capacitor plugin "${z}" already registered. Cannot register plugins twice.`),ae.proxy;const ee=_(),me=k(z);let ge;const $=async()=>(!ge&&ee in Y?ge=typeof Y[ee]=="function"?ge=await Y[ee]():ge=Y[ee]:u!==null&&!ge&&"web"in Y&&(ge=typeof Y.web=="function"?ge=await Y.web():ge=Y.web),ge),C=(X,re)=>{var U,G;if(me){const J=me==null?void 0:me.methods.find(Q=>re===Q.name);if(J)return J.rtype==="promise"?Q=>l.nativePromise(z,re.toString(),Q):(Q,O)=>l.nativeCallback(z,re.toString(),Q,O);if(X)return(U=X[re])===null||U===void 0?void 0:U.bind(X)}else{if(X)return(G=X[re])===null||G===void 0?void 0:G.bind(X);throw new Am(`"${z}" plugin is not implemented on ${ee}`,Io.Unimplemented)}},x=X=>{let re;const U=(...G)=>{const J=$().then(Q=>{const O=C(Q,X);if(O){const ce=O(...G);return re=ce==null?void 0:ce.remove,ce}else throw new Am(`"${z}.${X}()" is not implemented on ${ee}`,Io.Unimplemented)});return X==="addListener"&&(J.remove=async()=>re()),J};return U.toString=()=>`${X.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:X,writable:!1,configurable:!1}),U},L=x("addListener"),M=x("removeListener"),j=(X,re)=>{const U=L({eventName:X},re),G=async()=>{const Q=await U;M({eventName:X,callbackId:Q},re)},J=new Promise(Q=>U.then(()=>Q({remove:G})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await G()},J},ie=new Proxy({},{get(X,re){switch(re){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return me?j:L;case"removeListener":return M;default:return x(re)}}});return f[z]=ie,Z.set(z,{name:z,proxy:ie,platforms:new Set([...Object.keys(Y),...me?[ee]:[]])}),ie},ne=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||B;return l.convertFileSrc||(l.convertFileSrc=z=>z),l.getPlatform=_,l.handleError=N,l.isNativePlatform=S,l.isPluginAvailable=E,l.pluginMethodNoop=W,l.registerPlugin=ne,l.Exception=Am,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},cz=e=>e.Capacitor=uz(e),Nl=cz(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),lz=Nl.registerPlugin,Zz=Nl.Plugins;class Qz{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a);const s=async()=>this.removeListener(t,n),u=Promise.resolve({remove:s});return Object.defineProperty(u,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),u}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(a=>a(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Nl.Exception(t,Io.Unimplemented)}unavailable(t="not available"){return new Nl.Exception(t,Io.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const a=r.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const fz=lz("App",{web:()=>import("./web.04f1193e.js").then(e=>new e.AppWeb)}),dz=()=>{let e=rk();return oe.exports.useEffect(()=>{fz.addListener("appUrlOpen",t=>{const n=t.url.split(".us").pop();n&&e.push(n)})},[]),null},pz=()=>{const e=S3(),t=oe.exports.useCallback(()=>{({GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}&&{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.NODE_CONFIG)?window.env={GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",LANGUAGE:"en_US:en",USER:"kimenyi",LC_TIME:"en_US.UTF-8",npm_config_user_agent:"npm/7.21.0 node/v16.7.0 linux x64 workspaces/false",GIT_EXEC_PATH:"/usr/lib/git-core",TEXTDOMAIN:"lightdm",SSH_AGENT_PID:"2607",XDG_SESSION_TYPE:"wayland",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",SHLVL:"2",npm_config_noproxy:"",HOME:"/home/kimenyi",CHROME_DESKTOP:"code-url-handler.desktop",TERM_PROGRAM_VERSION:"1.59.0",DESKTOP_SESSION:"pop-wayland",NVM_BIN:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin",npm_package_json:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/package.json",NVM_INC:"/home/kimenyi/.nvm/versions/node/v16.7.0/include/node",rvm_stored_umask:"0002",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_package_engines_node:">= 16.3.0",GNOME_SHELL_SESSION_MODE:"pop",GTK_MODULES:"gail:atk-bridge:appmenu-gtk-module",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",LC_MONETARY:"en_US.UTF-8",rvm_user_install_flag:"1",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",MANAGERPID:"2415",GIT_PREFIX:"",npm_config_userconfig:"/home/kimenyi/.npmrc",IM_CONFIG_CHECK_ENV:"1",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"5260",COLOR:"0",NVM_DIR:"/home/kimenyi/.nvm",npm_config_metrics_registry:"https://registry.npmjs.org/",MANDATORY_PATH:"/usr/share/gconf/pop-wayland.mandatory.path",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",GTK_IM_MODULE:"ibus",LOGNAME:"kimenyi",rvm_bin_path:"/home/kimenyi/.rvm/bin",JOURNAL_STREAM:"8:42324",_:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_config_prefix:"/home/kimenyi/.nvm/versions/node/v16.7.0",XDG_SESSION_CLASS:"user",DEFAULTS_PATH:"/usr/share/gconf/pop-wayland.default.path",TERM:"xterm-256color",npm_config_cache:"/home/kimenyi/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/kimenyi/Desktop/upwork/XREngine/packages/social/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/packages/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/kimenyi/Desktop/upwork/XREngine/node_modules/.bin:/home/kimenyi/Desktop/upwork/node_modules/.bin:/home/kimenyi/Desktop/node_modules/.bin:/home/kimenyi/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/kimenyi/.nvm/versions/node/v16.7.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/lib/git-core:/home/kimenyi/.nvm/versions/node/v16.7.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin:/home/kimenyi/.rvm/bin",SESSION_MANAGER:"local/kimenyi:@/tmp/.ICE-unix/2755,unix/kimenyi:/tmp/.ICE-unix/2755",GDM_LANG:"en_US",INVOCATION_ID:"0d5b4912468b4f239fa0d09dc96af083",PAPERSIZE:"letter",NODE:"/home/kimenyi/.nvm/versions/node/v16.7.0/bin/node",npm_package_name:"@xrengine/social",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session0",XDG_MENU_PREFIX:"gnome-",LC_ADDRESS:"en_US.UTF-8",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",GDK_BACKEND:"x11",DISPLAY:":0",npm_config_legacy_peer_deps:"true",LANG:"en_US.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LC_TELEPHONE:"en_US.UTF-8",XMODIFIERS:"@im=ibus",XDG_SESSION_DESKTOP:"pop-wayland",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8G4IB1",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-218449f2b1.sock",TERM_PROGRAM:"vscode",npm_config_loglevel:"silent",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",XDG_GREETER_DATA_DIR:"/var/lib/lightdm-data/kimenyi",ORIGINAL_XDG_CURRENT_DESKTOP:"pop:GNOME",SHELL:"/bin/bash",LC_NAME:"en_US.UTF-8",npm_package_version:"0.4.8",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",rvm_prefix:"/home/kimenyi",rvm_loaded_flag:"1",GDMSESSION:"pop-wayland",LESSCLOSE:"/usr/bin/lesspipe %s %s",LC_MEASUREMENT:"en_US.UTF-8",rvm_version:"1.29.12-next (master)",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",GJS_DEBUG_OUTPUT:"stderr",LC_IDENTIFICATION:"en_US.UTF-8",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/kimenyi/.nvm/versions/node/v16.7.0/etc/npmrc",npm_config_init_module:"/home/kimenyi/.npm-init.js",PWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",npm_execpath:"/home/kimenyi/Desktop/upwork/XREngine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-pop-wayland:/etc/xdg",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/share/pop-wayland:/home/kimenyi/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share",LC_NUMERIC:"en_US.UTF-8",npm_command:"run-script",BREAKPAD_DUMP_LOCATION:"/home/kimenyi/.config/Code/exthost Crash Reports",LC_PAPER:"en_US.UTF-8",rvm_path:"/home/kimenyi/.rvm",INIT_CWD:"/home/kimenyi/Desktop/upwork/XREngine/packages/social",EDITOR:"vi",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"undefined","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.NODE_CONFIG:window.env="",e(Q5.restoreAuth()),$C(),VC()},[]);return oe.exports.useEffect(t,[]),R.createElement(R.Fragment,null,R.createElement(Id,null,R.createElement("title",null,Ma.publicRuntimeConfig.title),R.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"})),R.createElement(dv,{theme:xP},R.createElement(Z5,{maxSnack:3},R.createElement(YC,null),R.createElement(e2,null))))},hz=()=>R.createElement(a3,{store:HC(iz)},R.createElement(ik,null,R.createElement(dz,null),R.createElement(pz,null)));var eH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hz});export{mr as $,Q5 as A,gP as B,Nl as C,oo as D,cd as E,kP as F,Vp as G,hy as H,ot as I,Oz as J,uy as K,sy as L,yz as M,DP as N,wz as O,Zz as P,J1 as Q,Z1 as R,Fc as S,my as T,yP as U,iy as V,Vz as W,Yz as X,sk as Y,xz as Z,rt as _,S3 as a,Fh as a0,Cz as a1,Nz as a2,Gz as a3,Uz as a4,Mz as a5,b2 as a6,jz as a7,Pz as a8,kx as a9,Ly as aa,Uy as ab,Dz as ac,Rz as ad,Gy as ae,zy as af,xy as ag,ky as ah,hv as ai,qg as aj,_v as ak,Lz as al,Fz as am,gz as an,vz as ao,Qz as ap,Vd as aq,Jr as ar,ju as as,jk as at,Si as au,eH as av,qz as b,Hz as c,Kz as d,zz as e,rk as f,Iz as g,Tz as h,Jz as i,Lx as j,FC as k,Bz as l,Wz as m,bz as n,Sz as o,ig as p,Nx as q,Ez as r,Ci as s,Az as t,$z as u,Xz as v,kz as w,lz as x,ly as y,ur as z};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX2FwcC4wMDllOTZhYy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9Db250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL2JhdGNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaG9va3MvdXNlUmVkdXhDb250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2hvb2tzL3VzZVN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2hvb2tzL3VzZURpc3BhdGNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9lc20vcmVzb2x2ZS1wYXRobmFtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aW55LWludmFyaWFudC9kaXN0L3RpbnktaW52YXJpYW50LmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3JlYXRlLXJlYWN0LWNvbnRleHQvZGlzdC9lc20vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbm9kZV9tb2R1bGVzL3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9lc20vcmVhY3Qtcm91dGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vZXNtL3JlYWN0LXJvdXRlci1kb20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2lkZS1lZmZlY3QvbGliL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWZhc3QtY29tcGFyZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1oZWxtZXQvZXMvSGVsbWV0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NoYWxsb3dlcXVhbC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zdHlsaXMvZGlzdC9zdHlsaXMuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vdW5pdGxlc3MvZGlzdC91bml0bGVzcy5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9pcy1wcm9wLXZhbGlkL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9tZW1vaXplL2Rpc3QvbWVtb2l6ZS5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9pcy1wcm9wLXZhbGlkL2Rpc3QvaXMtcHJvcC12YWxpZC5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZWQtY29tcG9uZW50cy9kaXN0L3N0eWxlZC1jb21wb25lbnRzLmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvcGVyc2lzdGVkLnN0b3JlLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2VzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ltbXV0YWJsZS9kaXN0L2ltbXV0YWJsZS5lcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC1kZXZ0b29scy1leHRlbnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvb2tzdGF0ZS9jb3JlL2Rpc3QvaW5kZXguZXMuanMiLCIuLi8uLi8uLi9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlci50cyIsIi4uLy4uLy4uL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyLnRzIiwiLi4vLi4vLi4vY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvc3RvcmUudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZ2E0L2Rpc3QvZ3RhZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1nYTQvZGlzdC9mb3JtYXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZ2E0L2Rpc3QvZ2E0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWdhNC9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9jb21wb25lbnRzL2FuYWx5dGljcy50c3giLCIuLi8uLi8uLi9lZGl0b3Ivc3JjL2NvbXBvbmVudHMvR2xvYmFsU3R5bGUudHN4IiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS91dGlscy9lc20vZGVlcG1lcmdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS91dGlscy9lc20vZm9ybWF0TXVpRXJyb3JNZXNzYWdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY29sb3JNYW5pcHVsYXRvci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NyZWF0ZUJyZWFrcG9pbnRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY3JlYXRlTWl4aW5zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvY29tbW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvZ3JleS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vY29sb3JzL2luZGlnby5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vY29sb3JzL3BpbmsuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL2NvbG9ycy9yZWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL2NvbG9ycy9vcmFuZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL2NvbG9ycy9ibHVlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvZ3JlZW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL3N0eWxlcy9jcmVhdGVQYWxldHRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY3JlYXRlVHlwb2dyYXBoeS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL3NoYWRvd3MuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL3N0eWxlcy9zaGFwZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N5c3RlbS9lc20vbWVyZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N5c3RlbS9lc20vYnJlYWtwb2ludHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N5c3RlbS9lc20vbWVtb2l6ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3lzdGVtL2VzbS9zcGFjaW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY3JlYXRlU3BhY2luZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL3RyYW5zaXRpb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvekluZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY3JlYXRlVGhlbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubS5qcyIsIi4uLy4uL3RoZW1lLnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vY29uZmlnLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvZXNtL1RyYW5zaXRpb25Hcm91cENvbnRleHQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vVHJhbnNpdGlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2RlZXBtZXJnZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9mb3JtYXRNdWlFcnJvck1lc3NhZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vY2FwaXRhbGl6ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9kZWJvdW5jZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9vd25lckRvY3VtZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL293bmVyV2luZG93LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3NldFJlZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VFbmhhbmNlZEVmZmVjdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VFdmVudENhbGxiYWNrLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL3VzZUZvcmtSZWYuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vbWVtb2l6ZS9kaXN0L2Vtb3Rpb24tbWVtb2l6ZS5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zdHlsZWQvbm9kZV9tb2R1bGVzL0BlbW90aW9uL2lzLXByb3AtdmFsaWQvZGlzdC9lbW90aW9uLWlzLXByb3AtdmFsaWQuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vc2hlZXQvZGlzdC9lbW90aW9uLXNoZWV0LmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxpcy9zcmMvRW51bS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1V0aWxpdHkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9Ub2tlbml6ZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9QYXJzZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9QcmVmaXhlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1NlcmlhbGl6ZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9NaWRkbGV3YXJlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL2NhY2hlL2Rpc3QvZW1vdGlvbi1jYWNoZS5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi91dGlscy9kaXN0L2Vtb3Rpb24tdXRpbHMuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vaGFzaC9kaXN0L2hhc2guYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vc2VyaWFsaXplL2Rpc3QvZW1vdGlvbi1zZXJpYWxpemUuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vcmVhY3QvZGlzdC9lbW90aW9uLWVsZW1lbnQtOTkyODliMjEuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vc3R5bGVkL2Jhc2UvZGlzdC9lbW90aW9uLXN0eWxlZC1iYXNlLmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3N0eWxlZC9kaXN0L2Vtb3Rpb24tc3R5bGVkLmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9qc3gtcnVudGltZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N0eWxlZC1lbmdpbmUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL21lcmdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9icmVha3BvaW50cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vc3R5bGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NvbXBvc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL21lbW9pemUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3NwYWNpbmcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2JvcmRlcnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2Rpc3BsYXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2ZsZXhib3guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2dyaWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3BhbGV0dGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3Bvc2l0aW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vc2hhZG93cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vc2l6aW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS90eXBvZ3JhcGh5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9nZXRUaGVtZVZhbHVlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zdHlsZUZ1bmN0aW9uU3gvc3R5bGVGdW5jdGlvblN4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jcmVhdGVUaGVtZS9jcmVhdGVCcmVha3BvaW50cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlVGhlbWUvc2hhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NyZWF0ZVRoZW1lL2NyZWF0ZVNwYWNpbmcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NyZWF0ZVRoZW1lL2NyZWF0ZVRoZW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvcHJpdmF0ZS10aGVtaW5nL3VzZVRoZW1lL1RoZW1lQ29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3ByaXZhdGUtdGhlbWluZy91c2VUaGVtZS91c2VUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vdXNlVGhlbWVXaXRob3V0RGVmYXVsdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vdXNlVGhlbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3Byb3BzVG9DbGFzc0tleS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlU3R5bGVkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VUaGVtZVByb3BzL2dldFRoZW1lUHJvcHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3VzZVRoZW1lUHJvcHMvdXNlVGhlbWVQcm9wcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY29sb3JNYW5pcHVsYXRvci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL2NvcmUvY29tcG9zZUNsYXNzZXMvY29tcG9zZUNsYXNzZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9jb3JlL2dlbmVyYXRlVXRpbGl0eUNsYXNzL2dlbmVyYXRlVXRpbGl0eUNsYXNzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvY29yZS9nZW5lcmF0ZVV0aWxpdHlDbGFzc2VzL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvY3JlYXRlTWl4aW5zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2NvbG9ycy9ncmV5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL3B1cnBsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2NvbG9ycy9yZWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvb3JhbmdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL2JsdWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvbGlnaHRCbHVlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL2dyZWVuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL2NyZWF0ZVBhbGV0dGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvY3JlYXRlVHlwb2dyYXBoeS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy9zaGFkb3dzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL2NyZWF0ZVRyYW5zaXRpb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL3pJbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy9jcmVhdGVUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy9kZWZhdWx0VGhlbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvdXNlVGhlbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC90cmFuc2l0aW9ucy91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy91c2VUaGVtZVByb3BzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL3N0eWxlZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL1N2Z0ljb24vc3ZnSWNvbkNsYXNzZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9TdmdJY29uL1N2Z0ljb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9TbGlkZS9TbGlkZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL0NvbGxhcHNlL2NvbGxhcHNlQ2xhc3Nlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL0NvbGxhcHNlL0NvbGxhcHNlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvQ2xpY2tBd2F5TGlzdGVuZXIvQ2xpY2tBd2F5TGlzdGVuZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbm90aXN0YWNrL2Rpc3Qvbm90aXN0YWNrLmVzbS5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy91c2VyL3JlZHVjZXJzL2F1dGgvQXV0aEFjdGlvbi50cyIsIi4uLy4uL3NyYy9yb3V0ZXIudHN4IiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LWltbXV0YWJsZS9kaXN0L3V0aWxpdGllcy9nZXRTdGF0ZU5hbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgtaW1tdXRhYmxlL2Rpc3QvdXRpbGl0aWVzL2dldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC1pbW11dGFibGUvZGlzdC91dGlsaXRpZXMvdmFsaWRhdGVOZXh0U3RhdGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgtaW1tdXRhYmxlL2Rpc3QvdXRpbGl0aWVzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LWltbXV0YWJsZS9kaXN0L2NvbWJpbmVSZWR1Y2Vycy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC1pbW11dGFibGUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9BZG1pblN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL3VzZXIvVXNlclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2NvbnRlbnRQYWNrL0NvbnRlbnRQYWNrU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vYXZhdGFyL0F2YXRhclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL2luc3RhbmNlL0luc3RhbmNlU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vbG9jYXRpb24vTG9jYXRpb25TdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9wYXJ0eS9QYXJ0eVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL3NjZW5lL1NjZW5lU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vYm90cy9Cb3RzU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vYW5hbHl0aWNzL0FuYWx5dGljc1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL3JlYWxpdHktcGFjay9SZWFsaXR5UGFja1N0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL2FyTWVkaWEvQXJNZWRpYVN0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL2ZlZWQvRmVlZFN0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL2NyZWF0b3IvQ3JlYXRvclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL2dyb3VwL0dyb3VwU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vc2NvcGUvU2NvcGVTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2FuYWx5dGljcy9TZXR0aW5nQW5hbHl0aWNzU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9zZXJ2ZXIvU2VydmVyU2V0dGluZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL1NldHRpbmcvY2xpZW50L0NsaWVudFNldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2dhbWUtc2VydmVyL0dhbWVTZXJ2ZXJTZXR0aW5nU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9lbWFpbC9FbWFpbFNldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2NoYXJnZWJlZS9DaGFyZ2ViZWVTZXR0aW5nU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9hdXRoZW50aWNhdGlvbi1zZXR0aW5nL0F1dGhTZXR0aW5nU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9hd3MvQXdzU2V0dGluZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL1NldHRpbmcvcmVkaXMvQWRtaW5SZWRpc1NldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvYWxlcnQvQWxlcnRTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvYXBwL0FwcEFjdGlvbnMudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvY29tbW9uL3JlZHVjZXJzL2FwcC9BcHBTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvZGlhbG9nL0RpYWxvZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9lcnJvci9FcnJvclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbWVudC9kaXN0L21vbWVudC5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY2hhdC9DaGF0U3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2ZyaWVuZC9GcmllbmRTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvbG9jYXRpb24vTG9jYXRpb25TdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZ3JvdXAvR3JvdXBTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcGFydHkvUGFydHlTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvaW52aXRlL0ludml0ZVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9pbnZpdGVUeXBlL0ludml0ZVR5cGVTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvaW5kZXgudHMiLCIuLi8uLi9zcmMvcmVkdWNlcnMvZmVlZENvbW1lbnQvRmVlZENvbW1lbnRTdGF0ZS50cyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy9mZWVkRmlyZXMvRmVlZEZpcmVzU3RhdGUudHMiLCIuLi8uLi9zcmMvcmVkdWNlcnMvcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTdGF0ZS50cyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy90aGVmZWVkcy9UaGVGZWVkc1N0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL3RoZWZlZWRzRmlyZXMvVGhlRmVlZHNGaXJlc1N0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL3dlYnhyX25hdGl2ZS9XZWJ4ck5hdGl2ZVN0YXRlLnRzIiwiLi4vLi4vc3JjL3JlZHVjZXJzL3JlZ2lzdHJhdGlvbi9SZWdpc3RyYXRpb25TdGF0ZS50cyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uLy4uL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9SZWxhdGlvbnNoaXAudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvdXNlci9zdG9yZS9Vc2VyU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy93b3JsZC9yZWR1Y2Vycy9zY2VuZXMvU2NlbmVTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy93b3JsZC9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2NvcmUvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY2FwYWNpdG9yL2FwcC9kaXN0L2VzbS9pbmRleC5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0FwcERlZXBMaW5rL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9fYXBwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25XaXRoUmVzZXQoKSB7fVxuZW1wdHlGdW5jdGlvbldpdGhSZXNldC5yZXNldFdhcm5pbmdDYWNoZSA9IGVtcHR5RnVuY3Rpb247XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBlbGVtZW50VHlwZTogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltLFxuXG4gICAgY2hlY2tQcm9wVHlwZXM6IGVtcHR5RnVuY3Rpb25XaXRoUmVzZXQsXG4gICAgcmVzZXRXYXJuaW5nQ2FjaGU6IGVtcHR5RnVuY3Rpb25cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgUmVhY3RSZWR1eENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUmVhY3RSZWR1eENvbnRleHQuZGlzcGxheU5hbWUgPSAnUmVhY3RSZWR1eCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXhDb250ZXh0OyIsIi8vIERlZmF1bHQgdG8gYSBkdW1teSBcImJhdGNoXCIgaW1wbGVtZW50YXRpb24gdGhhdCBqdXN0IHJ1bnMgdGhlIGNhbGxiYWNrXG5mdW5jdGlvbiBkZWZhdWx0Tm9vcEJhdGNoKGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKCk7XG59XG5cbnZhciBiYXRjaCA9IGRlZmF1bHROb29wQmF0Y2g7IC8vIEFsbG93IGluamVjdGluZyBhbm90aGVyIGJhdGNoaW5nIGZ1bmN0aW9uIGxhdGVyXG5cbmV4cG9ydCB2YXIgc2V0QmF0Y2ggPSBmdW5jdGlvbiBzZXRCYXRjaChuZXdCYXRjaCkge1xuICByZXR1cm4gYmF0Y2ggPSBuZXdCYXRjaDtcbn07IC8vIFN1cHBseSBhIGdldHRlciBqdXN0IHRvIHNraXAgZGVhbGluZyB3aXRoIEVTTSBiaW5kaW5nc1xuXG5leHBvcnQgdmFyIGdldEJhdGNoID0gZnVuY3Rpb24gZ2V0QmF0Y2goKSB7XG4gIHJldHVybiBiYXRjaDtcbn07IiwiaW1wb3J0IHsgZ2V0QmF0Y2ggfSBmcm9tICcuL2JhdGNoJzsgLy8gZW5jYXBzdWxhdGVzIHRoZSBzdWJzY3JpcHRpb24gbG9naWMgZm9yIGNvbm5lY3RpbmcgYSBjb21wb25lbnQgdG8gdGhlIHJlZHV4IHN0b3JlLCBhc1xuLy8gd2VsbCBhcyBuZXN0aW5nIHN1YnNjcmlwdGlvbnMgb2YgZGVzY2VuZGFudCBjb21wb25lbnRzLCBzbyB0aGF0IHdlIGNhbiBlbnN1cmUgdGhlXG4vLyBhbmNlc3RvciBjb21wb25lbnRzIHJlLXJlbmRlciBiZWZvcmUgZGVzY2VuZGFudHNcblxuZnVuY3Rpb24gY3JlYXRlTGlzdGVuZXJDb2xsZWN0aW9uKCkge1xuICB2YXIgYmF0Y2ggPSBnZXRCYXRjaCgpO1xuICB2YXIgZmlyc3QgPSBudWxsO1xuICB2YXIgbGFzdCA9IG51bGw7XG4gIHJldHVybiB7XG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgZmlyc3QgPSBudWxsO1xuICAgICAgbGFzdCA9IG51bGw7XG4gICAgfSxcbiAgICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgICAgIGJhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gZmlyc3Q7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soKTtcbiAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICB2YXIgbGlzdGVuZXIgPSBmaXJzdDtcblxuICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGFzdCA9IHtcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICBwcmV2OiBsYXN0XG4gICAgICB9O1xuXG4gICAgICBpZiAobGlzdGVuZXIucHJldikge1xuICAgICAgICBsaXN0ZW5lci5wcmV2Lm5leHQgPSBsaXN0ZW5lcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0ID0gbGlzdGVuZXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKCFpc1N1YnNjcmliZWQgfHwgZmlyc3QgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyLm5leHQpIHtcbiAgICAgICAgICBsaXN0ZW5lci5uZXh0LnByZXYgPSBsaXN0ZW5lci5wcmV2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3QgPSBsaXN0ZW5lci5wcmV2O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyLnByZXYpIHtcbiAgICAgICAgICBsaXN0ZW5lci5wcmV2Lm5leHQgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpcnN0ID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBudWxsTGlzdGVuZXJzID0ge1xuICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeSgpIHt9LFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlLCBwYXJlbnRTdWIpIHtcbiAgdmFyIHVuc3Vic2NyaWJlO1xuICB2YXIgbGlzdGVuZXJzID0gbnVsbExpc3RlbmVycztcblxuICBmdW5jdGlvbiBhZGROZXN0ZWRTdWIobGlzdGVuZXIpIHtcbiAgICB0cnlTdWJzY3JpYmUoKTtcbiAgICByZXR1cm4gbGlzdGVuZXJzLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH1cblxuICBmdW5jdGlvbiBub3RpZnlOZXN0ZWRTdWJzKCkge1xuICAgIGxpc3RlbmVycy5ub3RpZnkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVdyYXBwZXIoKSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih1bnN1YnNjcmliZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF1bnN1YnNjcmliZSkge1xuICAgICAgdW5zdWJzY3JpYmUgPSBwYXJlbnRTdWIgPyBwYXJlbnRTdWIuYWRkTmVzdGVkU3ViKGhhbmRsZUNoYW5nZVdyYXBwZXIpIDogc3RvcmUuc3Vic2NyaWJlKGhhbmRsZUNoYW5nZVdyYXBwZXIpO1xuICAgICAgbGlzdGVuZXJzID0gY3JlYXRlTGlzdGVuZXJDb2xsZWN0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5VW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgdW5zdWJzY3JpYmUgPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0ZW5lcnMuY2xlYXIoKTtcbiAgICAgIGxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICBhZGROZXN0ZWRTdWI6IGFkZE5lc3RlZFN1YixcbiAgICBub3RpZnlOZXN0ZWRTdWJzOiBub3RpZnlOZXN0ZWRTdWJzLFxuICAgIGhhbmRsZUNoYW5nZVdyYXBwZXI6IGhhbmRsZUNoYW5nZVdyYXBwZXIsXG4gICAgaXNTdWJzY3JpYmVkOiBpc1N1YnNjcmliZWQsXG4gICAgdHJ5U3Vic2NyaWJlOiB0cnlTdWJzY3JpYmUsXG4gICAgdHJ5VW5zdWJzY3JpYmU6IHRyeVVuc3Vic2NyaWJlLFxuICAgIGdldExpc3RlbmVyczogZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKCkge1xuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9XG4gIH07XG4gIHJldHVybiBzdWJzY3JpcHRpb247XG59IiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7IC8vIFJlYWN0IGN1cnJlbnRseSB0aHJvd3MgYSB3YXJuaW5nIHdoZW4gdXNpbmcgdXNlTGF5b3V0RWZmZWN0IG9uIHRoZSBzZXJ2ZXIuXG4vLyBUbyBnZXQgYXJvdW5kIGl0LCB3ZSBjYW4gY29uZGl0aW9uYWxseSB1c2VFZmZlY3Qgb24gdGhlIHNlcnZlciAobm8tb3ApIGFuZFxuLy8gdXNlTGF5b3V0RWZmZWN0IGluIHRoZSBicm93c2VyLiBXZSBuZWVkIHVzZUxheW91dEVmZmVjdCB0byBlbnN1cmUgdGhlIHN0b3JlXG4vLyBzdWJzY3JpcHRpb24gY2FsbGJhY2sgYWx3YXlzIGhhcyB0aGUgc2VsZWN0b3IgZnJvbSB0aGUgbGF0ZXN0IHJlbmRlciBjb21taXRcbi8vIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGEgc3RvcmUgdXBkYXRlIG1heSBoYXBwZW4gYmV0d2VlbiByZW5kZXIgYW5kIHRoZSBlZmZlY3QsXG4vLyB3aGljaCBtYXkgY2F1c2UgbWlzc2VkIHVwZGF0ZXM7IHdlIGFsc28gbXVzdCBlbnN1cmUgdGhlIHN0b3JlIHN1YnNjcmlwdGlvblxuLy8gaXMgY3JlYXRlZCBzeW5jaHJvbm91c2x5LCBvdGhlcndpc2UgYSBzdG9yZSB1cGRhdGUgbWF5IG9jY3VyIGJlZm9yZSB0aGVcbi8vIHN1YnNjcmlwdGlvbiBpcyBjcmVhdGVkIGFuZCBhbiBpbmNvbnNpc3RlbnQgc3RhdGUgbWF5IGJlIG9ic2VydmVkXG5cbmV4cG9ydCB2YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuL0NvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vdXRpbHMvU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JztcblxuZnVuY3Rpb24gUHJvdmlkZXIoX3JlZikge1xuICB2YXIgc3RvcmUgPSBfcmVmLnN0b3JlLFxuICAgICAgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgdmFyIGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBjcmVhdGVTdWJzY3JpcHRpb24oc3RvcmUpO1xuICAgIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gc3Vic2NyaXB0aW9uLm5vdGlmeU5lc3RlZFN1YnM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uXG4gICAgfTtcbiAgfSwgW3N0b3JlXSk7XG4gIHZhciBwcmV2aW91c1N0YXRlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCk7XG4gIH0sIFtzdG9yZV0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gY29udGV4dFZhbHVlLnN1YnNjcmlwdGlvbjtcbiAgICBzdWJzY3JpcHRpb24udHJ5U3Vic2NyaWJlKCk7XG5cbiAgICBpZiAocHJldmlvdXNTdGF0ZSAhPT0gc3RvcmUuZ2V0U3RhdGUoKSkge1xuICAgICAgc3Vic2NyaXB0aW9uLm5vdGlmeU5lc3RlZFN1YnMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc3Vic2NyaXB0aW9uLnRyeVVuc3Vic2NyaWJlKCk7XG4gICAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IG51bGw7XG4gICAgfTtcbiAgfSwgW2NvbnRleHRWYWx1ZSwgcHJldmlvdXNTdGF0ZV0pO1xuICB2YXIgQ29udGV4dCA9IGNvbnRleHQgfHwgUmVhY3RSZWR1eENvbnRleHQ7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRWYWx1ZVxuICB9LCBjaGlsZHJlbik7XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgICBzdG9yZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHN1YnNjcmliZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgZ2V0U3RhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgICB9KSxcbiAgICBjb250ZXh0OiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb3ZpZGVyOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi4xMy4xXG4gKiByZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0Jzt2YXIgYj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLGM9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxkPWI/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixlPWI/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LGY9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsZz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxoPWI/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LGs9Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxsPWI/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsbT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEsbj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixwPWI/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLHE9Yj9cblN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpOjYwMTIwLHI9Yj9TeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKTo2MDExNSx0PWI/U3ltYm9sLmZvcihcInJlYWN0LmxhenlcIik6NjAxMTYsdj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5ibG9ja1wiKTo2MDEyMSx3PWI/U3ltYm9sLmZvcihcInJlYWN0LmZ1bmRhbWVudGFsXCIpOjYwMTE3LHg9Yj9TeW1ib2wuZm9yKFwicmVhY3QucmVzcG9uZGVyXCIpOjYwMTE4LHk9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc2NvcGVcIik6NjAxMTk7XG5mdW5jdGlvbiB6KGEpe2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEpe3ZhciB1PWEuJCR0eXBlb2Y7c3dpdGNoKHUpe2Nhc2UgYzpzd2l0Y2goYT1hLnR5cGUsYSl7Y2FzZSBsOmNhc2UgbTpjYXNlIGU6Y2FzZSBnOmNhc2UgZjpjYXNlIHA6cmV0dXJuIGE7ZGVmYXVsdDpzd2l0Y2goYT1hJiZhLiQkdHlwZW9mLGEpe2Nhc2UgazpjYXNlIG46Y2FzZSB0OmNhc2UgcjpjYXNlIGg6cmV0dXJuIGE7ZGVmYXVsdDpyZXR1cm4gdX19Y2FzZSBkOnJldHVybiB1fX19ZnVuY3Rpb24gQShhKXtyZXR1cm4geihhKT09PW19ZXhwb3J0cy5Bc3luY01vZGU9bDtleHBvcnRzLkNvbmN1cnJlbnRNb2RlPW07ZXhwb3J0cy5Db250ZXh0Q29uc3VtZXI9aztleHBvcnRzLkNvbnRleHRQcm92aWRlcj1oO2V4cG9ydHMuRWxlbWVudD1jO2V4cG9ydHMuRm9yd2FyZFJlZj1uO2V4cG9ydHMuRnJhZ21lbnQ9ZTtleHBvcnRzLkxhenk9dDtleHBvcnRzLk1lbW89cjtleHBvcnRzLlBvcnRhbD1kO1xuZXhwb3J0cy5Qcm9maWxlcj1nO2V4cG9ydHMuU3RyaWN0TW9kZT1mO2V4cG9ydHMuU3VzcGVuc2U9cDtleHBvcnRzLmlzQXN5bmNNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBBKGEpfHx6KGEpPT09bH07ZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlPUE7ZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWt9O2V4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1ofTtleHBvcnRzLmlzRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09Y307ZXhwb3J0cy5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1ufTtleHBvcnRzLmlzRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1lfTtleHBvcnRzLmlzTGF6eT1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PXR9O1xuZXhwb3J0cy5pc01lbW89ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1yfTtleHBvcnRzLmlzUG9ydGFsPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09ZH07ZXhwb3J0cy5pc1Byb2ZpbGVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09Z307ZXhwb3J0cy5pc1N0cmljdE1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1mfTtleHBvcnRzLmlzU3VzcGVuc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1wfTtcbmV4cG9ydHMuaXNWYWxpZEVsZW1lbnRUeXBlPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGF8fGE9PT1lfHxhPT09bXx8YT09PWd8fGE9PT1mfHxhPT09cHx8YT09PXF8fFwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJihhLiQkdHlwZW9mPT09dHx8YS4kJHR5cGVvZj09PXJ8fGEuJCR0eXBlb2Y9PT1ofHxhLiQkdHlwZW9mPT09a3x8YS4kJHR5cGVvZj09PW58fGEuJCR0eXBlb2Y9PT13fHxhLiQkdHlwZW9mPT09eHx8YS4kJHR5cGVvZj09PXl8fGEuJCR0eXBlb2Y9PT12KX07ZXhwb3J0cy50eXBlT2Y9ejtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgY29udGV4dFR5cGU6IHRydWUsXG4gIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgbWl4aW5zOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xudmFyIEZPUldBUkRfUkVGX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlXG59O1xudmFyIE1FTU9fU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgY29tcGFyZTogdHJ1ZSxcbiAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIFRZUEVfU1RBVElDUyA9IHt9O1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuRm9yd2FyZFJlZl0gPSBGT1JXQVJEX1JFRl9TVEFUSUNTO1xuVFlQRV9TVEFUSUNTW3JlYWN0SXMuTWVtb10gPSBNRU1PX1NUQVRJQ1M7XG5cbmZ1bmN0aW9uIGdldFN0YXRpY3MoY29tcG9uZW50KSB7XG4gIC8vIFJlYWN0IHYxNi4xMSBhbmQgYmVsb3dcbiAgaWYgKHJlYWN0SXMuaXNNZW1vKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gTUVNT19TVEFUSUNTO1xuICB9IC8vIFJlYWN0IHYxNi4xMiBhbmQgYWJvdmVcblxuXG4gIHJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXSB8fCBSRUFDVF9TVEFUSUNTO1xufVxuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAga2V5cyA9IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0U3RhdGljcyA9IGdldFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50KTtcbiAgICB2YXIgc291cmNlU3RhdGljcyA9IGdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghS05PV05fU1RBVElDU1trZXldICYmICEoYmxhY2tsaXN0ICYmIGJsYWNrbGlzdFtrZXldKSAmJiAhKHNvdXJjZVN0YXRpY3MgJiYgc291cmNlU3RhdGljc1trZXldKSAmJiAhKHRhcmdldFN0YXRpY3MgJiYgdGFyZ2V0U3RhdGljc1trZXldKSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaG9pc3ROb25SZWFjdFN0YXRpY3M7XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRleHQnO1xuLyoqXHJcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgLiBUaGlzIGlzIGEgbG93LWxldmVsXHJcbiAqIGhvb2sgdGhhdCB5b3Ugc2hvdWxkIHVzdWFsbHkgbm90IG5lZWQgdG8gY2FsbCBkaXJlY3RseS5cclxuICpcclxuICogQHJldHVybnMge2FueX0gdGhlIHZhbHVlIG9mIHRoZSBgUmVhY3RSZWR1eENvbnRleHRgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuICogaW1wb3J0IHsgdXNlUmVkdXhDb250ZXh0IH0gZnJvbSAncmVhY3QtcmVkdXgnXHJcbiAqXHJcbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyQ29tcG9uZW50ID0gKHsgdmFsdWUgfSkgPT4ge1xyXG4gKiAgIGNvbnN0IHsgc3RvcmUgfSA9IHVzZVJlZHV4Q29udGV4dCgpXHJcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmdldFN0YXRlKCl9PC9kaXY+XHJcbiAqIH1cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWR1eENvbnRleHQoKSB7XG4gIHZhciBjb250ZXh0VmFsdWUgPSB1c2VDb250ZXh0KFJlYWN0UmVkdXhDb250ZXh0KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29udGV4dFZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCByZWFjdC1yZWR1eCBjb250ZXh0IHZhbHVlOyBwbGVhc2UgZW5zdXJlIHRoZSBjb21wb25lbnQgaXMgd3JhcHBlZCBpbiBhIDxQcm92aWRlcj4nKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0VmFsdWU7XG59IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0JztcbmltcG9ydCB7IHVzZVJlZHV4Q29udGV4dCBhcyB1c2VEZWZhdWx0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi91c2VSZWR1eENvbnRleHQnO1xuLyoqXHJcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VTdG9yZWAgaG9vayBib3VuZCB0byBhIGdpdmVuIGNvbnRleHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhY3QuQ29udGV4dH0gW2NvbnRleHQ9UmVhY3RSZWR1eENvbnRleHRdIENvbnRleHQgcGFzc2VkIHRvIHlvdXIgYDxQcm92aWRlcj5gLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVN0b3JlYCBob29rIGJvdW5kIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZUhvb2soY29udGV4dCkge1xuICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgY29udGV4dCA9IFJlYWN0UmVkdXhDb250ZXh0O1xuICB9XG5cbiAgdmFyIHVzZVJlZHV4Q29udGV4dCA9IGNvbnRleHQgPT09IFJlYWN0UmVkdXhDb250ZXh0ID8gdXNlRGVmYXVsdFJlZHV4Q29udGV4dCA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChjb250ZXh0KTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVzZVN0b3JlKCkge1xuICAgIHZhciBfdXNlUmVkdXhDb250ZXh0ID0gdXNlUmVkdXhDb250ZXh0KCksXG4gICAgICAgIHN0b3JlID0gX3VzZVJlZHV4Q29udGV4dC5zdG9yZTtcblxuICAgIHJldHVybiBzdG9yZTtcbiAgfTtcbn1cbi8qKlxyXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSByZWR1eCBzdG9yZS5cclxuICpcclxuICogQHJldHVybnMge2FueX0gdGhlIHJlZHV4IHN0b3JlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuICogaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICdyZWFjdC1yZWR1eCdcclxuICpcclxuICogZXhwb3J0IGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpXHJcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmdldFN0YXRlKCl9PC9kaXY+XHJcbiAqIH1cclxuICovXG5cbmV4cG9ydCB2YXIgdXNlU3RvcmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlU3RvcmVIb29rKCk7IiwiaW1wb3J0IHsgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRleHQnO1xuaW1wb3J0IHsgdXNlU3RvcmUgYXMgdXNlRGVmYXVsdFN0b3JlLCBjcmVhdGVTdG9yZUhvb2sgfSBmcm9tICcuL3VzZVN0b3JlJztcbi8qKlxyXG4gKiBIb29rIGZhY3RvcnksIHdoaWNoIGNyZWF0ZXMgYSBgdXNlRGlzcGF0Y2hgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWN0LkNvbnRleHR9IFtjb250ZXh0PVJlYWN0UmVkdXhDb250ZXh0XSBDb250ZXh0IHBhc3NlZCB0byB5b3VyIGA8UHJvdmlkZXI+YC5cclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGB1c2VEaXNwYXRjaGAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGlzcGF0Y2hIb29rKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgIGNvbnRleHQgPSBSZWFjdFJlZHV4Q29udGV4dDtcbiAgfVxuXG4gIHZhciB1c2VTdG9yZSA9IGNvbnRleHQgPT09IFJlYWN0UmVkdXhDb250ZXh0ID8gdXNlRGVmYXVsdFN0b3JlIDogY3JlYXRlU3RvcmVIb29rKGNvbnRleHQpO1xuICByZXR1cm4gZnVuY3Rpb24gdXNlRGlzcGF0Y2goKSB7XG4gICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2g7XG4gIH07XG59XG4vKipcclxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgcmVkdXggYGRpc3BhdGNoYCBmdW5jdGlvbi5cclxuICpcclxuICogQHJldHVybnMge2FueXxmdW5jdGlvbn0gcmVkdXggc3RvcmUncyBgZGlzcGF0Y2hgIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG4gKiBpbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG4gKlxyXG4gKiBleHBvcnQgY29uc3QgQ291bnRlckNvbXBvbmVudCA9ICh7IHZhbHVlIH0pID0+IHtcclxuICogICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcclxuICogICBjb25zdCBpbmNyZWFzZUNvdW50ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdpbmNyZWFzZS1jb3VudGVyJyB9KSwgW10pXHJcbiAqICAgcmV0dXJuIChcclxuICogICAgIDxkaXY+XHJcbiAqICAgICAgIDxzcGFuPnt2YWx1ZX08L3NwYW4+XHJcbiAqICAgICAgIDxidXR0b24gb25DbGljaz17aW5jcmVhc2VDb3VudGVyfT5JbmNyZWFzZSBjb3VudGVyPC9idXR0b24+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICApXHJcbiAqIH1cclxuICovXG5cbmV4cG9ydCB2YXIgdXNlRGlzcGF0Y2ggPSAvKiNfX1BVUkVfXyovY3JlYXRlRGlzcGF0Y2hIb29rKCk7IiwiZXhwb3J0ICogZnJvbSAnLi9leHBvcnRzJztcbmltcG9ydCB7IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIGFzIGJhdGNoIH0gZnJvbSAnLi91dGlscy9yZWFjdEJhdGNoZWRVcGRhdGVzJztcbmltcG9ydCB7IHNldEJhdGNoIH0gZnJvbSAnLi91dGlscy9iYXRjaCc7IC8vIEVuYWJsZSBiYXRjaGVkIHVwZGF0ZXMgaW4gb3VyIHN1YnNjcmlwdGlvbnMgZm9yIHVzZVxuLy8gd2l0aCBzdGFuZGFyZCBSZWFjdCByZW5kZXJlcnMgKFJlYWN0RE9NLCBSZWFjdCBOYXRpdmUpXG5cbnNldEJhdGNoKGJhdGNoKTtcbmV4cG9ydCB7IGJhdGNoIH07IiwiaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gXCIuL3NldFByb3RvdHlwZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn1cblxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1cblxuICBsaXN0LnBvcCgpO1xufVxuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHRvLCBmcm9tKSB7XG4gIGlmIChmcm9tID09PSB1bmRlZmluZWQpIGZyb20gPSAnJztcblxuICB2YXIgdG9QYXJ0cyA9ICh0byAmJiB0by5zcGxpdCgnLycpKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IChmcm9tICYmIGZyb20uc3BsaXQoJy8nKSkgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSBmcm9tUGFydHMudW5zaGlmdCgnLi4nKTtcblxuICBpZiAoXG4gICAgbXVzdEVuZEFicyAmJlxuICAgIGZyb21QYXJ0c1swXSAhPT0gJycgJiZcbiAgICAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKVxuICApXG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lO1xuIiwidmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG52YXIgcHJlZml4ID0gJ0ludmFyaWFudCBmYWlsZWQnO1xuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IocHJlZml4ICsgXCI6IFwiICsgKG1lc3NhZ2UgfHwgJycpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW52YXJpYW50O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHJlc29sdmVQYXRobmFtZSBmcm9tICdyZXNvbHZlLXBhdGhuYW1lJztcbmltcG9ydCB2YWx1ZUVxdWFsIGZyb20gJ3ZhbHVlLWVxdWFsJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcblxuZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn1cbmZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIHBhdGgudG9Mb3dlckNhc2UoKS5pbmRleE9mKHByZWZpeC50b0xvd2VyQ2FzZSgpKSA9PT0gMCAmJiAnLz8jJy5pbmRleE9mKHBhdGguY2hhckF0KHByZWZpeC5sZW5ndGgpKSAhPT0gLTE7XG59XG5mdW5jdGlvbiBzdHJpcEJhc2VuYW1lKHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSA/IHBhdGguc3Vic3RyKHByZWZpeC5sZW5ndGgpIDogcGF0aDtcbn1cbmZ1bmN0aW9uIHN0cmlwVHJhaWxpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdChwYXRoLmxlbmd0aCAtIDEpID09PSAnLycgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBwYXRoIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuXG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG5cbiAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cihzZWFyY2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgc2VhcmNoSW5kZXgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICB2YXIgcGF0aCA9IHBhdGhuYW1lIHx8ICcvJztcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09ICc/JykgcGF0aCArPSBzZWFyY2guY2hhckF0KDApID09PSAnPycgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbiAgaWYgKGhhc2ggJiYgaGFzaCAhPT0gJyMnKSBwYXRoICs9IGhhc2guY2hhckF0KDApID09PSAnIycgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xuICByZXR1cm4gcGF0aDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGtleSwgY3VycmVudExvY2F0aW9uKSB7XG4gIHZhciBsb2NhdGlvbjtcblxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gcGFyc2VQYXRoKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9jYXRpb24ucGF0aG5hbWUgPSBkZWNvZGVVUkkobG9jYXRpb24ucGF0aG5hbWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBVUklFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFVSSUVycm9yKCdQYXRobmFtZSBcIicgKyBsb2NhdGlvbi5wYXRobmFtZSArICdcIiBjb3VsZCBub3QgYmUgZGVjb2RlZC4gJyArICdUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgYW4gaW52YWxpZCBwZXJjZW50LWVuY29kaW5nLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChrZXkpIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSByZXNvbHZlUGF0aG5hbWUobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gcHJpb3IgbG9jYXRpb24gYW5kIHBhdGhuYW1lIGlzIGVtcHR5LCBzZXQgaXQgdG8gL1xuICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiB2YWx1ZUVxdWFsKGEuc3RhdGUsIGIuc3RhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKSA6IHZvaWQgMDtcbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvbXB0ID09PSBuZXh0UHJvbXB0KSBwcm9tcHQgPSBudWxsO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgYW5vdGhlciB0cmFuc2l0aW9uIHN0YXJ0cyB3aGlsZSB3ZSdyZSBzdGlsbCBjb25maXJtaW5nXG4gICAgLy8gdGhlIHByZXZpb3VzIG9uZSwgd2UgbWF5IGVuZCB1cCBpbiBhIHdlaXJkIHN0YXRlLiBGaWd1cmUgb3V0IHRoZVxuICAgIC8vIGJlc3Qgd2F5IHRvIGhhbmRsZSB0aGlzLlxuICAgIGlmIChwcm9tcHQgIT0gbnVsbCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHR5cGVvZiBwcm9tcHQgPT09ICdmdW5jdGlvbicgPyBwcm9tcHQobG9jYXRpb24sIGFjdGlvbikgOiBwcm9tcHQ7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGdldFVzZXJDb25maXJtYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKHJlc3VsdCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsICdBIGhpc3RvcnkgbmVlZHMgYSBnZXRVc2VyQ29uZmlybWF0aW9uIGZ1bmN0aW9uIGluIG9yZGVyIHRvIHVzZSBhIHByb21wdCBtZXNzYWdlJykgOiB2b2lkIDA7XG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICBmdW5jdGlvbiBhcHBlbmRMaXN0ZW5lcihmbikge1xuICAgIHZhciBpc0FjdGl2ZSA9IHRydWU7XG5cbiAgICBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgIGlmIChpc0FjdGl2ZSkgZm4uYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn1cblxudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5mdW5jdGlvbiBnZXRDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gd2luZG93Lmhpc3RvcnkgJiYgJ3B1c2hTdGF0ZScgaW4gd2luZG93Lmhpc3Rvcnk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBicm93c2VyIGZpcmVzIHBvcHN0YXRlIG9uIGhhc2ggY2hhbmdlLlxuICogSUUxMCBhbmQgSUUxMSBkbyBub3QuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKSA9PT0gLTE7XG59XG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGdpdmVuIHBvcHN0YXRlIGV2ZW50IGlzIGFuIGV4dHJhbmVvdXMgV2ViS2l0IGV2ZW50LlxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xuICogY29udGFpbmluZyB1bmRlZmluZWQgc3RhdGUgd2hlbiBwcmVzc2luZyB0aGUgYmFjayBidXR0b24uXG4gKi9cblxuZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICAhY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9IHN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZm9yY2VSZWZyZXNoID0gX3Byb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkpIHJldHVybjtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH1cblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ICsgMSk7XG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbnZhciBIYXNoQ2hhbmdlRXZlbnQkMSA9ICdoYXNoY2hhbmdlJztcbnZhciBIYXNoUGF0aENvZGVycyA9IHtcbiAgaGFzaGJhbmc6IHtcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aCA6ICchLycgKyBzdHJpcExlYWRpbmdTbGFzaChwYXRoKTtcbiAgICB9LFxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG4gICAgfVxuICB9LFxuICBub3NsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogc3RyaXBMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH0sXG4gIHNsYXNoOiB7XG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9XG59O1xuXG5mdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7XG4gIHZhciBoYXNoSW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICByZXR1cm4gaGFzaEluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zbGljZSgwLCBoYXNoSW5kZXgpO1xufVxuXG5mdW5jdGlvbiBnZXRIYXNoUGF0aCgpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxuICAvLyBjb25zaXN0ZW50IGFjcm9zcyBicm93c2VycyAtIEZpcmVmb3ggd2lsbCBwcmUtZGVjb2RlIGl0IVxuICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gJycgOiBocmVmLnN1YnN0cmluZyhoYXNoSW5kZXggKyAxKTtcbn1cblxuZnVuY3Rpb24gcHVzaEhhc2hQYXRoKHBhdGgpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShzdHJpcEhhc2god2luZG93LmxvY2F0aW9uLmhyZWYpICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gICFjYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRoYXNoVHlwZSA9IF9wcm9wcy5oYXNoVHlwZSxcbiAgICAgIGhhc2hUeXBlID0gX3Byb3BzJGhhc2hUeXBlID09PSB2b2lkIDAgPyAnc2xhc2gnIDogX3Byb3BzJGhhc2hUeXBlO1xuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuICB2YXIgX0hhc2hQYXRoQ29kZXJzJGhhc2hUID0gSGFzaFBhdGhDb2RlcnNbaGFzaFR5cGVdLFxuICAgICAgZW5jb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5lbmNvZGVQYXRoLFxuICAgICAgZGVjb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5kZWNvZGVQYXRoO1xuXG4gIGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKCkge1xuICAgIHZhciBwYXRoID0gZGVjb2RlUGF0aChnZXRIYXNoUGF0aCgpKTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgdmFyIGlnbm9yZVBhdGggPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsJCQxKGEsIGIpIHtcbiAgICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2g7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuXG4gICAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSB7XG4gICAgICAvLyBFbnN1cmUgd2UgYWx3YXlzIGhhdmUgYSBwcm9wZXJseS1lbmNvZGVkIGhhc2guXG4gICAgICByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICAgICAgdmFyIHByZXZMb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG4gICAgICBpZiAoIWZvcmNlTmV4dFBvcCAmJiBsb2NhdGlvbnNBcmVFcXVhbCQkMShwcmV2TG9jYXRpb24sIGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBBIGhhc2hjaGFuZ2UgZG9lc24ndCBhbHdheXMgPT0gbG9jYXRpb24gY2hhbmdlLlxuXG4gICAgICBpZiAoaWdub3JlUGF0aCA9PT0gY3JlYXRlUGF0aChsb2NhdGlvbikpIHJldHVybjsgLy8gSWdub3JlIHRoaXMgY2hhbmdlOyB3ZSBhbHJlYWR5IHNldFN0YXRlIGluIHB1c2gvcmVwbGFjZS5cblxuICAgICAgaWdub3JlUGF0aCA9IG51bGw7XG4gICAgICBoYW5kbGVQb3AobG9jYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uOyAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIHBhdGhzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIHBhdGhzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgodG9Mb2NhdGlvbikpO1xuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG4gICAgdmFyIGZyb21JbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoZnJvbUxvY2F0aW9uKSk7XG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH0gLy8gRW5zdXJlIHRoZSBoYXNoIGlzIGVuY29kZWQgcHJvcGVybHkgYmVmb3JlIGRvaW5nIGFueXRoaW5nIGVsc2UuXG5cblxuICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG4gIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gIHZhciBhbGxQYXRocyA9IFtjcmVhdGVQYXRoKGluaXRpYWxMb2NhdGlvbildOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHZhciBiYXNlVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpO1xuICAgIHZhciBocmVmID0gJyc7XG5cbiAgICBpZiAoYmFzZVRhZyAmJiBiYXNlVGFnLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB7XG4gICAgICBocmVmID0gc3RyaXBIYXNoKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaHJlZiArICcjJyArIGVuY29kZVBhdGgoYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUFVTSCwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcHVzaEhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgICB2YXIgbmV4dFBhdGhzID0gYWxsUGF0aHMuc2xpY2UoMCwgcHJldkluZGV4ICsgMSk7XG4gICAgICAgIG5leHRQYXRocy5wdXNoKHBhdGgpO1xuICAgICAgICBhbGxQYXRocyA9IG5leHRQYXRocztcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsICdIYXNoIGhpc3RvcnkgY2Fubm90IFBVU0ggdGhlIHNhbWUgcGF0aDsgYSBuZXcgZW50cnkgd2lsbCBub3QgYmUgYWRkZWQgdG8gdGhlIGhpc3Rvcnkgc3RhY2snKSA6IHZvaWQgMDtcbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBSRVBMQUNFLCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMuaW5kZXhPZihjcmVhdGVQYXRoKGhpc3RvcnkubG9jYXRpb24pKTtcbiAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxQYXRoc1twcmV2SW5kZXhdID0gcGF0aDtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhjYW5Hb1dpdGhvdXRSZWxvYWQsICdIYXNoIGhpc3RvcnkgZ28obikgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpbiB0aGlzIGJyb3dzZXInKSA6IHZvaWQgMDtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIGdvKC0xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICBnbygxKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSAmJiBkZWx0YSA9PT0gMSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50JDEsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50JDEsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcbiAgICAgIHByb21wdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuZnVuY3Rpb24gY2xhbXAobiwgbG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgbG93ZXJCb3VuZCksIHVwcGVyQm91bmQpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCBzdG9yZXMgbG9jYXRpb25zIGluIG1lbW9yeS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgX3Byb3BzJGluaXRpYWxFbnRyaWVzID0gX3Byb3BzLmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPT09IHZvaWQgMCA/IFsnLyddIDogX3Byb3BzJGluaXRpYWxFbnRyaWVzLFxuICAgICAgX3Byb3BzJGluaXRpYWxJbmRleCA9IF9wcm9wcy5pbml0aWFsSW5kZXgsXG4gICAgICBpbml0aWFsSW5kZXggPSBfcHJvcHMkaW5pdGlhbEluZGV4ID09PSB2b2lkIDAgPyAwIDogX3Byb3BzJGluaXRpYWxJbmRleCxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBfcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdm9pZCAwID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfVxuXG4gIHZhciBpbmRleCA9IGNsYW1wKGluaXRpYWxJbmRleCwgMCwgaW5pdGlhbEVudHJpZXMubGVuZ3RoIC0gMSk7XG4gIHZhciBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHJldHVybiB0eXBlb2YgZW50cnkgPT09ICdzdHJpbmcnID8gY3JlYXRlTG9jYXRpb24oZW50cnksIHVuZGVmaW5lZCwgY3JlYXRlS2V5KCkpIDogY3JlYXRlTG9jYXRpb24oZW50cnksIHVuZGVmaW5lZCwgZW50cnkua2V5IHx8IGNyZWF0ZUtleSgpKTtcbiAgfSk7IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGNyZWF0ZVBhdGg7XG5cbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwcmV2SW5kZXggPSBoaXN0b3J5LmluZGV4O1xuICAgICAgdmFyIG5leHRJbmRleCA9IHByZXZJbmRleCArIDE7XG4gICAgICB2YXIgbmV4dEVudHJpZXMgPSBoaXN0b3J5LmVudHJpZXMuc2xpY2UoMCk7XG5cbiAgICAgIGlmIChuZXh0RW50cmllcy5sZW5ndGggPiBuZXh0SW5kZXgpIHtcbiAgICAgICAgbmV4dEVudHJpZXMuc3BsaWNlKG5leHRJbmRleCwgbmV4dEVudHJpZXMubGVuZ3RoIC0gbmV4dEluZGV4LCBsb2NhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0RW50cmllcy5wdXNoKGxvY2F0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICBpbmRleDogbmV4dEluZGV4LFxuICAgICAgICBlbnRyaWVzOiBuZXh0RW50cmllc1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgaGlzdG9yeS5lbnRyaWVzW2hpc3RvcnkuaW5kZXhdID0gbG9jYXRpb247XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBjbGFtcChoaXN0b3J5LmluZGV4ICsgbiwgMCwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aCAtIDEpO1xuICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICB2YXIgbG9jYXRpb24gPSBoaXN0b3J5LmVudHJpZXNbbmV4dEluZGV4XTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKG9rKSB7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgaW5kZXg6IG5leHRJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1pbWljIHRoZSBiZWhhdmlvciBvZiBET00gaGlzdG9yaWVzIGJ5XG4gICAgICAgIC8vIGNhdXNpbmcgYSByZW5kZXIgYWZ0ZXIgYSBjYW5jZWxsZWQgUE9QLlxuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIGdvKC0xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICBnbygxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbkdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gaGlzdG9yeS5pbmRleCArIG47XG4gICAgcmV0dXJuIG5leHRJbmRleCA+PSAwICYmIG5leHRJbmRleCA8IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcbiAgICAgIHByb21wdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHJldHVybiB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGVudHJpZXMubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGVudHJpZXNbaW5kZXhdLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICBlbnRyaWVzOiBlbnRyaWVzLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBjYW5HbzogY2FuR28sXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5leHBvcnQgeyBjcmVhdGVCcm93c2VySGlzdG9yeSwgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZU1lbW9yeUhpc3RvcnksIGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCwgcGFyc2VQYXRoLCBjcmVhdGVQYXRoIH07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5cbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB7fTtcblxuZnVuY3Rpb24gZ2V0VW5pcXVlSWQoKSB7XG4gIHZhciBrZXkgPSAnX19nbG9iYWxfdW5pcXVlX2lkX18nO1xuICByZXR1cm4gY29tbW9uanNHbG9iYWxba2V5XSA9IChjb21tb25qc0dsb2JhbFtrZXldIHx8IDApICsgMTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0SXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RW1pdHRlcih2YWx1ZSkge1xuICB2YXIgaGFuZGxlcnMgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBvbjogZnVuY3Rpb24gb24oaGFuZGxlcikge1xuICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICB9LFxuICAgIG9mZjogZnVuY3Rpb24gb2ZmKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXJzID0gaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbHVlLCBjaGFuZ2VkQml0cykge1xuICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIGhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIodmFsdWUsIGNoYW5nZWRCaXRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0Q29udGV4dChkZWZhdWx0VmFsdWUsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSB7XG4gIHZhciBfUHJvdmlkZXIkY2hpbGRDb250ZXgsIF9Db25zdW1lciRjb250ZXh0VHlwZTtcblxuICB2YXIgY29udGV4dFByb3AgPSAnX19jcmVhdGUtcmVhY3QtY29udGV4dC0nICsgZ2V0VW5pcXVlSWQoKSArICdfXyc7XG5cbiAgdmFyIFByb3ZpZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5lbWl0dGVyID0gY3JlYXRlRXZlbnRFbWl0dGVyKF90aGlzLnByb3BzLnZhbHVlKTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUHJvdmlkZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW2NvbnRleHRQcm9wXSA9IHRoaXMuZW1pdHRlciwgX3JlZjtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudmFsdWUgIT09IG5leHRQcm9wcy52YWx1ZSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlO1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgICAgIHZhciBjaGFuZ2VkQml0cztcblxuICAgICAgICBpZiAob2JqZWN0SXMob2xkVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgICAgICAgIGNoYW5nZWRCaXRzID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IHR5cGVvZiBjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGN1bGF0ZUNoYW5nZWRCaXRzKG9sZFZhbHVlLCBuZXdWYWx1ZSkgOiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG5cbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgd2FybmluZygoY2hhbmdlZEJpdHMgJiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQpID09PSBjaGFuZ2VkQml0cywgJ2NhbGN1bGF0ZUNoYW5nZWRCaXRzOiBFeHBlY3RlZCB0aGUgcmV0dXJuIHZhbHVlIHRvIGJlIGEgJyArICczMS1iaXQgaW50ZWdlci4gSW5zdGVhZCByZWNlaXZlZDogJyArIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkQml0cyB8PSAwO1xuXG4gICAgICAgICAgaWYgKGNoYW5nZWRCaXRzICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIuc2V0KG5leHRQcm9wcy52YWx1ZSwgY2hhbmdlZEJpdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfTtcblxuICAgIHJldHVybiBQcm92aWRlcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIFByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0gKF9Qcm92aWRlciRjaGlsZENvbnRleCA9IHt9LCBfUHJvdmlkZXIkY2hpbGRDb250ZXhbY29udGV4dFByb3BdID0gUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLCBfUHJvdmlkZXIkY2hpbGRDb250ZXgpO1xuXG4gIHZhciBDb25zdW1lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShDb25zdW1lciwgX0NvbXBvbmVudDIpO1xuXG4gICAgZnVuY3Rpb24gQ29uc3VtZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyO1xuXG4gICAgICBfdGhpczIgPSBfQ29tcG9uZW50Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpczIuc3RhdGUgPSB7XG4gICAgICAgIHZhbHVlOiBfdGhpczIuZ2V0VmFsdWUoKVxuICAgICAgfTtcblxuICAgICAgX3RoaXMyLm9uVXBkYXRlID0gZnVuY3Rpb24gKG5ld1ZhbHVlLCBjaGFuZ2VkQml0cykge1xuICAgICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gX3RoaXMyLm9ic2VydmVkQml0cyB8IDA7XG5cbiAgICAgICAgaWYgKChvYnNlcnZlZEJpdHMgJiBjaGFuZ2VkQml0cykgIT09IDApIHtcbiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdmFsdWU6IF90aGlzMi5nZXRWYWx1ZSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfdGhpczI7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90bzIgPSBDb25zdW1lci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8yLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIG9ic2VydmVkQml0cyA9IG5leHRQcm9wcy5vYnNlcnZlZEJpdHM7XG4gICAgICB0aGlzLm9ic2VydmVkQml0cyA9IG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCA/IE1BWF9TSUdORURfMzFfQklUX0lOVCA6IG9ic2VydmVkQml0cztcbiAgICB9O1xuXG4gICAgX3Byb3RvMi5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXS5vbih0aGlzLm9uVXBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9ic2VydmVkQml0cyA9IHRoaXMucHJvcHMub2JzZXJ2ZWRCaXRzO1xuICAgICAgdGhpcy5vYnNlcnZlZEJpdHMgPSBvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwgPyBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgOiBvYnNlcnZlZEJpdHM7XG4gICAgfTtcblxuICAgIF9wcm90bzIuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRbY29udGV4dFByb3BdKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0ub2ZmKHRoaXMub25VcGRhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8yLmdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXS5nZXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90bzIucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG9ubHlDaGlsZCh0aGlzLnByb3BzLmNoaWxkcmVuKSh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENvbnN1bWVyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgQ29uc3VtZXIuY29udGV4dFR5cGVzID0gKF9Db25zdW1lciRjb250ZXh0VHlwZSA9IHt9LCBfQ29uc3VtZXIkY29udGV4dFR5cGVbY29udGV4dFByb3BdID0gUHJvcFR5cGVzLm9iamVjdCwgX0NvbnN1bWVyJGNvbnRleHRUeXBlKTtcbiAgcmV0dXJuIHtcbiAgICBQcm92aWRlcjogUHJvdmlkZXIsXG4gICAgQ29uc3VtZXI6IENvbnN1bWVyXG4gIH07XG59XG5cbnZhciBpbmRleCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQgfHwgY3JlYXRlUmVhY3RDb250ZXh0O1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiIsIm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsInZhciBpc2FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbi8qKlxuICogRXhwb3NlIGBwYXRoVG9SZWdleHBgLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ2V4cFxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IGNvbXBpbGVcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSB0b2tlbnNUb0Z1bmN0aW9uXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb1JlZ0V4cCA9IHRva2Vuc1RvUmVnRXhwXG5cbi8qKlxuICogVGhlIG1haW4gcGF0aCBtYXRjaGluZyByZWdleHAgdXRpbGl0eS5cbiAqXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgUEFUSF9SRUdFWFAgPSBuZXcgUmVnRXhwKFtcbiAgLy8gTWF0Y2ggZXNjYXBlZCBjaGFyYWN0ZXJzIHRoYXQgd291bGQgb3RoZXJ3aXNlIGFwcGVhciBpbiBmdXR1cmUgbWF0Y2hlcy5cbiAgLy8gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gZXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyB0aGF0IHdvbid0IHRyYW5zZm9ybS5cbiAgJyhcXFxcXFxcXC4pJyxcbiAgLy8gTWF0Y2ggRXhwcmVzcy1zdHlsZSBwYXJhbWV0ZXJzIGFuZCB1bi1uYW1lZCBwYXJhbWV0ZXJzIHdpdGggYSBwcmVmaXhcbiAgLy8gYW5kIG9wdGlvbmFsIHN1ZmZpeGVzLiBNYXRjaGVzIGFwcGVhciBhczpcbiAgLy9cbiAgLy8gXCIvOnRlc3QoXFxcXGQrKT9cIiA9PiBbXCIvXCIsIFwidGVzdFwiLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCBcIj9cIiwgdW5kZWZpbmVkXVxuICAvLyBcIi9yb3V0ZShcXFxcZCspXCIgID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gIC8vIFwiLypcIiAgICAgICAgICAgID0+IFtcIi9cIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIipcIl1cbiAgJyhbXFxcXC8uXSk/KD86KD86XFxcXDooXFxcXHcrKSg/OlxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpP3xcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKShbKyo/XSk/fChcXFxcKikpJ1xuXS5qb2luKCd8JyksICdnJylcblxuLyoqXG4gKiBQYXJzZSBhIHN0cmluZyBmb3IgdGhlIHJhdyB0b2tlbnMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshQXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChzdHIsIG9wdGlvbnMpIHtcbiAgdmFyIHRva2VucyA9IFtdXG4gIHZhciBrZXkgPSAwXG4gIHZhciBpbmRleCA9IDBcbiAgdmFyIHBhdGggPSAnJ1xuICB2YXIgZGVmYXVsdERlbGltaXRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nXG4gIHZhciByZXNcblxuICB3aGlsZSAoKHJlcyA9IFBBVEhfUkVHRVhQLmV4ZWMoc3RyKSkgIT0gbnVsbCkge1xuICAgIHZhciBtID0gcmVzWzBdXG4gICAgdmFyIGVzY2FwZWQgPSByZXNbMV1cbiAgICB2YXIgb2Zmc2V0ID0gcmVzLmluZGV4XG4gICAgcGF0aCArPSBzdHIuc2xpY2UoaW5kZXgsIG9mZnNldClcbiAgICBpbmRleCA9IG9mZnNldCArIG0ubGVuZ3RoXG5cbiAgICAvLyBJZ25vcmUgYWxyZWFkeSBlc2NhcGVkIHNlcXVlbmNlcy5cbiAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgcGF0aCArPSBlc2NhcGVkWzFdXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHZhciBuZXh0ID0gc3RyW2luZGV4XVxuICAgIHZhciBwcmVmaXggPSByZXNbMl1cbiAgICB2YXIgbmFtZSA9IHJlc1szXVxuICAgIHZhciBjYXB0dXJlID0gcmVzWzRdXG4gICAgdmFyIGdyb3VwID0gcmVzWzVdXG4gICAgdmFyIG1vZGlmaWVyID0gcmVzWzZdXG4gICAgdmFyIGFzdGVyaXNrID0gcmVzWzddXG5cbiAgICAvLyBQdXNoIHRoZSBjdXJyZW50IHBhdGggb250byB0aGUgdG9rZW5zLlxuICAgIGlmIChwYXRoKSB7XG4gICAgICB0b2tlbnMucHVzaChwYXRoKVxuICAgICAgcGF0aCA9ICcnXG4gICAgfVxuXG4gICAgdmFyIHBhcnRpYWwgPSBwcmVmaXggIT0gbnVsbCAmJiBuZXh0ICE9IG51bGwgJiYgbmV4dCAhPT0gcHJlZml4XG4gICAgdmFyIHJlcGVhdCA9IG1vZGlmaWVyID09PSAnKycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBvcHRpb25hbCA9IG1vZGlmaWVyID09PSAnPycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBkZWxpbWl0ZXIgPSByZXNbMl0gfHwgZGVmYXVsdERlbGltaXRlclxuICAgIHZhciBwYXR0ZXJuID0gY2FwdHVyZSB8fCBncm91cFxuXG4gICAgdG9rZW5zLnB1c2goe1xuICAgICAgbmFtZTogbmFtZSB8fCBrZXkrKyxcbiAgICAgIHByZWZpeDogcHJlZml4IHx8ICcnLFxuICAgICAgZGVsaW1pdGVyOiBkZWxpbWl0ZXIsXG4gICAgICBvcHRpb25hbDogb3B0aW9uYWwsXG4gICAgICByZXBlYXQ6IHJlcGVhdCxcbiAgICAgIHBhcnRpYWw6IHBhcnRpYWwsXG4gICAgICBhc3RlcmlzazogISFhc3RlcmlzayxcbiAgICAgIHBhdHRlcm46IHBhdHRlcm4gPyBlc2NhcGVHcm91cChwYXR0ZXJuKSA6IChhc3RlcmlzayA/ICcuKicgOiAnW14nICsgZXNjYXBlU3RyaW5nKGRlbGltaXRlcikgKyAnXSs/JylcbiAgICB9KVxuICB9XG5cbiAgLy8gTWF0Y2ggYW55IGNoYXJhY3RlcnMgc3RpbGwgcmVtYWluaW5nLlxuICBpZiAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgcGF0aCArPSBzdHIuc3Vic3RyKGluZGV4KVxuICB9XG5cbiAgLy8gSWYgdGhlIHBhdGggZXhpc3RzLCBwdXNoIGl0IG9udG8gdGhlIGVuZC5cbiAgaWYgKHBhdGgpIHtcbiAgICB0b2tlbnMucHVzaChwYXRoKVxuICB9XG5cbiAgcmV0dXJuIHRva2Vuc1xufVxuXG4vKipcbiAqIENvbXBpbGUgYSBzdHJpbmcgdG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBmb3IgdGhlIHBhdGguXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IWZ1bmN0aW9uKE9iamVjdD0sIE9iamVjdD0pfVxuICovXG5mdW5jdGlvbiBjb21waWxlIChzdHIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvRnVuY3Rpb24ocGFyc2Uoc3RyLCBvcHRpb25zKSwgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBQcmV0dGllciBlbmNvZGluZyBvZiBVUkkgcGF0aCBzZWdtZW50cy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bXFwvPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEVuY29kZSB0aGUgYXN0ZXJpc2sgcGFyYW1ldGVyLiBTaW1pbGFyIHRvIGBwcmV0dHlgLCBidXQgYWxsb3dzIHNsYXNoZXMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVBc3RlcmlzayAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIG1ldGhvZCBmb3IgdHJhbnNmb3JtaW5nIHRva2VucyBpbnRvIHRoZSBwYXRoIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0b2tlbnNUb0Z1bmN0aW9uICh0b2tlbnMsIG9wdGlvbnMpIHtcbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHRva2VucyBpbnRvIHJlZ2V4cHMuXG4gIHZhciBtYXRjaGVzID0gbmV3IEFycmF5KHRva2Vucy5sZW5ndGgpXG5cbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHBhdHRlcm5zIGJlZm9yZSBjb21waWxhdGlvbi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZW9mIHRva2Vuc1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG1hdGNoZXNbaV0gPSBuZXcgUmVnRXhwKCdeKD86JyArIHRva2Vuc1tpXS5wYXR0ZXJuICsgJykkJywgZmxhZ3Mob3B0aW9ucykpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuc2Vuc2l0aXZlID8gJycgOiAnaSdcbn1cblxuLyoqXG4gKiBQdWxsIG91dCBrZXlzIGZyb20gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcmVnZXhwVG9SZWdleHAgKHBhdGgsIGtleXMpIHtcbiAgLy8gVXNlIGEgbmVnYXRpdmUgbG9va2FoZWFkIHRvIG1hdGNoIG9ubHkgY2FwdHVyaW5nIGdyb3Vwcy5cbiAgdmFyIGdyb3VwcyA9IHBhdGguc291cmNlLm1hdGNoKC9cXCgoPyFcXD8pL2cpXG5cbiAgaWYgKGdyb3Vwcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBuYW1lOiBpLFxuICAgICAgICBwcmVmaXg6IG51bGwsXG4gICAgICAgIGRlbGltaXRlcjogbnVsbCxcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxuICAgICAgICBwYXJ0aWFsOiBmYWxzZSxcbiAgICAgICAgYXN0ZXJpc2s6IGZhbHNlLFxuICAgICAgICBwYXR0ZXJuOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHBhdGgsIGtleXMpXG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGFuIGFycmF5IGludG8gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgcGF0aFxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICB2YXIgcGFydHMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHBhcnRzLnB1c2gocGF0aFRvUmVnZXhwKHBhdGhbaV0sIGtleXMsIG9wdGlvbnMpLnNvdXJjZSlcbiAgfVxuXG4gIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCcoPzonICsgcGFydHMuam9pbignfCcpICsgJyknLCBmbGFncyhvcHRpb25zKSlcblxuICByZXR1cm4gYXR0YWNoS2V5cyhyZWdleHAsIGtleXMpXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcGF0aCByZWdleHAgZnJvbSBzdHJpbmcgaW5wdXQuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvUmVnRXhwKHBhcnNlKHBhdGgsIG9wdGlvbnMpLCBrZXlzLCBvcHRpb25zKVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIGZ1bmN0aW9uIGZvciB0YWtpbmcgdG9rZW5zIGFuZCByZXR1cm5pbmcgYSBSZWdFeHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgICAgICAgICB0b2tlbnNcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0ga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiB0b2tlbnNUb1JlZ0V4cCAodG9rZW5zLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdFxuICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgIT09IGZhbHNlXG4gIHZhciByb3V0ZSA9ICcnXG5cbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSB0b2tlbnMgYW5kIGNyZWF0ZSBvdXIgcmVnZXhwIHN0cmluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICByb3V0ZSArPSBlc2NhcGVTdHJpbmcodG9rZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmVmaXggPSBlc2NhcGVTdHJpbmcodG9rZW4ucHJlZml4KVxuICAgICAgdmFyIGNhcHR1cmUgPSAnKD86JyArIHRva2VuLnBhdHRlcm4gKyAnKSdcblxuICAgICAga2V5cy5wdXNoKHRva2VuKVxuXG4gICAgICBpZiAodG9rZW4ucmVwZWF0KSB7XG4gICAgICAgIGNhcHR1cmUgKz0gJyg/OicgKyBwcmVmaXggKyBjYXB0dXJlICsgJykqJ1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgY2FwdHVyZSA9ICcoPzonICsgcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpKT8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKT8nXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyknXG4gICAgICB9XG5cbiAgICAgIHJvdXRlICs9IGNhcHR1cmVcbiAgICB9XG4gIH1cblxuICB2YXIgZGVsaW1pdGVyID0gZXNjYXBlU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJylcbiAgdmFyIGVuZHNXaXRoRGVsaW1pdGVyID0gcm91dGUuc2xpY2UoLWRlbGltaXRlci5sZW5ndGgpID09PSBkZWxpbWl0ZXJcblxuICAvLyBJbiBub24tc3RyaWN0IG1vZGUgd2UgYWxsb3cgYSBzbGFzaCBhdCB0aGUgZW5kIG9mIG1hdGNoLiBJZiB0aGUgcGF0aCB0b1xuICAvLyBtYXRjaCBhbHJlYWR5IGVuZHMgd2l0aCBhIHNsYXNoLCB3ZSByZW1vdmUgaXQgZm9yIGNvbnNpc3RlbmN5LiBUaGUgc2xhc2hcbiAgLy8gaXMgdmFsaWQgYXQgdGhlIGVuZCBvZiBhIHBhdGggbWF0Y2gsIG5vdCBpbiB0aGUgbWlkZGxlLiBUaGlzIGlzIGltcG9ydGFudFxuICAvLyBpbiBub24tZW5kaW5nIG1vZGUsIHdoZXJlIFwiL3Rlc3QvXCIgc2hvdWxkbid0IG1hdGNoIFwiL3Rlc3QvL3JvdXRlXCIuXG4gIGlmICghc3RyaWN0KSB7XG4gICAgcm91dGUgPSAoZW5kc1dpdGhEZWxpbWl0ZXIgPyByb3V0ZS5zbGljZSgwLCAtZGVsaW1pdGVyLmxlbmd0aCkgOiByb3V0ZSkgKyAnKD86JyArIGRlbGltaXRlciArICcoPz0kKSk/J1xuICB9XG5cbiAgaWYgKGVuZCkge1xuICAgIHJvdXRlICs9ICckJ1xuICB9IGVsc2Uge1xuICAgIC8vIEluIG5vbi1lbmRpbmcgbW9kZSwgd2UgbmVlZCB0aGUgY2FwdHVyaW5nIGdyb3VwcyB0byBtYXRjaCBhcyBtdWNoIGFzXG4gICAgLy8gcG9zc2libGUgYnkgdXNpbmcgYSBwb3NpdGl2ZSBsb29rYWhlYWQgdG8gdGhlIGVuZCBvciBuZXh0IHBhdGggc2VnbWVudC5cbiAgICByb3V0ZSArPSBzdHJpY3QgJiYgZW5kc1dpdGhEZWxpbWl0ZXIgPyAnJyA6ICcoPz0nICsgZGVsaW1pdGVyICsgJ3wkKSdcbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKG5ldyBSZWdFeHAoJ14nICsgcm91dGUsIGZsYWdzKG9wdGlvbnMpKSwga2V5cylcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgdGhlIGdpdmVuIHBhdGggc3RyaW5nLCByZXR1cm5pbmcgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKlxuICogQW4gZW1wdHkgYXJyYXkgY2FuIGJlIHBhc3NlZCBpbiBmb3IgdGhlIGtleXMsIHdoaWNoIHdpbGwgaG9sZCB0aGVcbiAqIHBsYWNlaG9sZGVyIGtleSBkZXNjcmlwdGlvbnMuIEZvciBleGFtcGxlLCB1c2luZyBgL3VzZXIvOmlkYCwgYGtleXNgIHdpbGxcbiAqIGNvbnRhaW4gYFt7IG5hbWU6ICdpZCcsIGRlbGltaXRlcjogJy8nLCBvcHRpb25hbDogZmFsc2UsIHJlcGVhdDogZmFsc2UgfV1gLlxuICpcbiAqIEBwYXJhbSAgeyhzdHJpbmd8UmVnRXhwfEFycmF5KX0gcGF0aFxuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSAgICAgICBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHBhdGhUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICBpZiAocGF0aCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiByZWdleHBUb1JlZ2V4cChwYXRoLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpKVxuICB9XG5cbiAgaWYgKGlzYXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gYXJyYXlUb1JlZ2V4cCgvKiogQHR5cGUgeyFBcnJheX0gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZ1RvUmVnZXhwKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG59XG4iLCJpbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNyZWF0ZU1lbW9yeUhpc3RvcnksIGNyZWF0ZUxvY2F0aW9uLCBsb2NhdGlvbnNBcmVFcXVhbCwgY3JlYXRlUGF0aCB9IGZyb20gJ2hpc3RvcnknO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcbmltcG9ydCBjcmVhdGVDb250ZXh0IGZyb20gJ21pbmktY3JlYXRlLXJlYWN0LWNvbnRleHQnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgcGF0aFRvUmVnZXhwIGZyb20gJ3BhdGgtdG8tcmVnZXhwJztcbmltcG9ydCB7IGlzVmFsaWRFbGVtZW50VHlwZSB9IGZyb20gJ3JlYWN0LWlzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcbmltcG9ydCBob2lzdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuXG4vLyBUT0RPOiBSZXBsYWNlIHdpdGggUmVhY3QuY3JlYXRlQ29udGV4dCBvbmNlIHdlIGNhbiBhc3N1bWUgUmVhY3QgMTYrXG5cbnZhciBjcmVhdGVOYW1lZENvbnRleHQgPSBmdW5jdGlvbiBjcmVhdGVOYW1lZENvbnRleHQobmFtZSkge1xuICB2YXIgY29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcbiAgY29udGV4dC5kaXNwbGF5TmFtZSA9IG5hbWU7XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxudmFyIGhpc3RvcnlDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZU5hbWVkQ29udGV4dChcIlJvdXRlci1IaXN0b3J5XCIpO1xuXG52YXIgY29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVOYW1lZENvbnRleHQoXCJSb3V0ZXJcIik7XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHB1dHRpbmcgaGlzdG9yeSBvbiBjb250ZXh0LlxuICovXG5cbnZhciBSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBSb3V0ZXIuY29tcHV0ZVJvb3RNYXRjaCA9IGZ1bmN0aW9uIGNvbXB1dGVSb290TWF0Y2gocGF0aG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogXCIvXCIsXG4gICAgICB1cmw6IFwiL1wiLFxuICAgICAgcGFyYW1zOiB7fSxcbiAgICAgIGlzRXhhY3Q6IHBhdGhuYW1lID09PSBcIi9cIlxuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gUm91dGVyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBsb2NhdGlvbjogcHJvcHMuaGlzdG9yeS5sb2NhdGlvblxuICAgIH07IC8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrLiBXZSBoYXZlIHRvIHN0YXJ0IGxpc3RlbmluZyBmb3IgbG9jYXRpb25cbiAgICAvLyBjaGFuZ2VzIGhlcmUgaW4gdGhlIGNvbnN0cnVjdG9yIGluIGNhc2UgdGhlcmUgYXJlIGFueSA8UmVkaXJlY3Q+c1xuICAgIC8vIG9uIHRoZSBpbml0aWFsIHJlbmRlci4gSWYgdGhlcmUgYXJlLCB0aGV5IHdpbGwgcmVwbGFjZS9wdXNoIHdoZW5cbiAgICAvLyB0aGV5IG1vdW50IGFuZCBzaW5jZSBjRE0gZmlyZXMgaW4gY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMsIHdlIG1heVxuICAgIC8vIGdldCBhIG5ldyBsb2NhdGlvbiBiZWZvcmUgdGhlIDxSb3V0ZXI+IGlzIG1vdW50ZWQuXG5cbiAgICBfdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgX3RoaXMuX3BlbmRpbmdMb2NhdGlvbiA9IG51bGw7XG5cbiAgICBpZiAoIXByb3BzLnN0YXRpY0NvbnRleHQpIHtcbiAgICAgIF90aGlzLnVubGlzdGVuID0gcHJvcHMuaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChfdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuX3BlbmRpbmdMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUm91dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuX3BlbmRpbmdMb2NhdGlvbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGxvY2F0aW9uOiB0aGlzLl9wZW5kaW5nTG9jYXRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy51bmxpc3Rlbikge1xuICAgICAgdGhpcy51bmxpc3RlbigpO1xuICAgICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9wZW5kaW5nTG9jYXRpb24gPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBoaXN0b3J5OiB0aGlzLnByb3BzLmhpc3RvcnksXG4gICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLmxvY2F0aW9uLFxuICAgICAgICBtYXRjaDogUm91dGVyLmNvbXB1dGVSb290TWF0Y2godGhpcy5zdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSksXG4gICAgICAgIHN0YXRpY0NvbnRleHQ6IHRoaXMucHJvcHMuc3RhdGljQ29udGV4dFxuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGhpc3RvcnlDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCBudWxsLFxuICAgICAgdmFsdWU6IHRoaXMucHJvcHMuaGlzdG9yeVxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gUm91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFJvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGhpc3Rvcnk6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzdGF0aWNDb250ZXh0OiBQcm9wVHlwZXMub2JqZWN0XG4gIH07XG5cbiAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhwcmV2UHJvcHMuaGlzdG9yeSA9PT0gdGhpcy5wcm9wcy5oaXN0b3J5LCBcIllvdSBjYW5ub3QgY2hhbmdlIDxSb3V0ZXIgaGlzdG9yeT5cIikgOiB2b2lkIDA7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIGEgPFJvdXRlcj4gdGhhdCBzdG9yZXMgbG9jYXRpb24gaW4gbWVtb3J5LlxuICovXG5cbnZhciBNZW1vcnlSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTWVtb3J5Um91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNZW1vcnlSb3V0ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuaGlzdG9yeSA9IGNyZWF0ZU1lbW9yeUhpc3RvcnkoX3RoaXMucHJvcHMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBNZW1vcnlSb3V0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlciwge1xuICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gTWVtb3J5Um91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIE1lbW9yeVJvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgaW5pdGlhbEVudHJpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBpbml0aWFsSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAga2V5TGVuZ3RoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZVxuICB9O1xuXG4gIE1lbW9yeVJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghdGhpcy5wcm9wcy5oaXN0b3J5LCBcIjxNZW1vcnlSb3V0ZXI+IGlnbm9yZXMgdGhlIGhpc3RvcnkgcHJvcC4gVG8gdXNlIGEgY3VzdG9tIGhpc3RvcnksIFwiICsgXCJ1c2UgYGltcG9ydCB7IFJvdXRlciB9YCBpbnN0ZWFkIG9mIGBpbXBvcnQgeyBNZW1vcnlSb3V0ZXIgYXMgUm91dGVyIH1gLlwiKSA6IHZvaWQgMDtcbiAgfTtcbn1cblxudmFyIExpZmVjeWNsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShMaWZlY3ljbGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcbiAgICByZXR1cm4gX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTGlmZWN5Y2xlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbk1vdW50KSB0aGlzLnByb3BzLm9uTW91bnQuY2FsbCh0aGlzLCB0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB0aGlzLnByb3BzLm9uVXBkYXRlLmNhbGwodGhpcywgdGhpcywgcHJldlByb3BzKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVubW91bnQpIHRoaXMucHJvcHMub25Vbm1vdW50LmNhbGwodGhpcywgdGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gTGlmZWN5Y2xlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBwcm9tcHRpbmcgdGhlIHVzZXIgYmVmb3JlIG5hdmlnYXRpbmcgYXdheSBmcm9tIGEgc2NyZWVuLlxuICovXG5cbmZ1bmN0aW9uIFByb21wdChfcmVmKSB7XG4gIHZhciBtZXNzYWdlID0gX3JlZi5tZXNzYWdlLFxuICAgICAgX3JlZiR3aGVuID0gX3JlZi53aGVuLFxuICAgICAgd2hlbiA9IF9yZWYkd2hlbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkd2hlbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgIWNvbnRleHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IHNob3VsZCBub3QgdXNlIDxQcm9tcHQ+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgaWYgKCF3aGVuIHx8IGNvbnRleHQuc3RhdGljQ29udGV4dCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIG1ldGhvZCA9IGNvbnRleHQuaGlzdG9yeS5ibG9jaztcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGlmZWN5Y2xlLCB7XG4gICAgICBvbk1vdW50OiBmdW5jdGlvbiBvbk1vdW50KHNlbGYpIHtcbiAgICAgICAgc2VsZi5yZWxlYXNlID0gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShzZWxmLCBwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHByZXZQcm9wcy5tZXNzYWdlICE9PSBtZXNzYWdlKSB7XG4gICAgICAgICAgc2VsZi5yZWxlYXNlKCk7XG4gICAgICAgICAgc2VsZi5yZWxlYXNlID0gbWV0aG9kKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50OiBmdW5jdGlvbiBvblVubW91bnQoc2VsZikge1xuICAgICAgICBzZWxmLnJlbGVhc2UoKTtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIHZhciBtZXNzYWdlVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMuc3RyaW5nXSk7XG4gIFByb21wdC5wcm9wVHlwZXMgPSB7XG4gICAgd2hlbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgbWVzc2FnZTogbWVzc2FnZVR5cGUuaXNSZXF1aXJlZFxuICB9O1xufVxuXG52YXIgY2FjaGUgPSB7fTtcbnZhciBjYWNoZUxpbWl0ID0gMTAwMDA7XG52YXIgY2FjaGVDb3VudCA9IDA7XG5cbmZ1bmN0aW9uIGNvbXBpbGVQYXRoKHBhdGgpIHtcbiAgaWYgKGNhY2hlW3BhdGhdKSByZXR1cm4gY2FjaGVbcGF0aF07XG4gIHZhciBnZW5lcmF0b3IgPSBwYXRoVG9SZWdleHAuY29tcGlsZShwYXRoKTtcblxuICBpZiAoY2FjaGVDb3VudCA8IGNhY2hlTGltaXQpIHtcbiAgICBjYWNoZVtwYXRoXSA9IGdlbmVyYXRvcjtcbiAgICBjYWNoZUNvdW50Kys7XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdG9yO1xufVxuLyoqXG4gKiBQdWJsaWMgQVBJIGZvciBnZW5lcmF0aW5nIGEgVVJMIHBhdGhuYW1lIGZyb20gYSBwYXRoIGFuZCBwYXJhbWV0ZXJzLlxuICovXG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKHBhdGgsIHBhcmFtcykge1xuICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0aCA9IFwiL1wiO1xuICB9XG5cbiAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7XG4gICAgcGFyYW1zID0ge307XG4gIH1cblxuICByZXR1cm4gcGF0aCA9PT0gXCIvXCIgPyBwYXRoIDogY29tcGlsZVBhdGgocGF0aCkocGFyYW1zLCB7XG4gICAgcHJldHR5OiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBuYXZpZ2F0aW5nIHByb2dyYW1tYXRpY2FsbHkgd2l0aCBhIGNvbXBvbmVudC5cbiAqL1xuXG5mdW5jdGlvbiBSZWRpcmVjdChfcmVmKSB7XG4gIHZhciBjb21wdXRlZE1hdGNoID0gX3JlZi5jb21wdXRlZE1hdGNoLFxuICAgICAgdG8gPSBfcmVmLnRvLFxuICAgICAgX3JlZiRwdXNoID0gX3JlZi5wdXNoLFxuICAgICAgcHVzaCA9IF9yZWYkcHVzaCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHB1c2g7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8UmVkaXJlY3Q+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGhpc3RvcnkgPSBjb250ZXh0Lmhpc3RvcnksXG4gICAgICAgIHN0YXRpY0NvbnRleHQgPSBjb250ZXh0LnN0YXRpY0NvbnRleHQ7XG4gICAgdmFyIG1ldGhvZCA9IHB1c2ggPyBoaXN0b3J5LnB1c2ggOiBoaXN0b3J5LnJlcGxhY2U7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oY29tcHV0ZWRNYXRjaCA/IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IGdlbmVyYXRlUGF0aCh0bywgY29tcHV0ZWRNYXRjaC5wYXJhbXMpIDogX2V4dGVuZHMoe30sIHRvLCB7XG4gICAgICBwYXRobmFtZTogZ2VuZXJhdGVQYXRoKHRvLnBhdGhuYW1lLCBjb21wdXRlZE1hdGNoLnBhcmFtcylcbiAgICB9KSA6IHRvKTsgLy8gV2hlbiByZW5kZXJpbmcgaW4gYSBzdGF0aWMgY29udGV4dCxcbiAgICAvLyBzZXQgdGhlIG5ldyBsb2NhdGlvbiBpbW1lZGlhdGVseS5cblxuICAgIGlmIChzdGF0aWNDb250ZXh0KSB7XG4gICAgICBtZXRob2QobG9jYXRpb24pO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpZmVjeWNsZSwge1xuICAgICAgb25Nb3VudDogZnVuY3Rpb24gb25Nb3VudCgpIHtcbiAgICAgICAgbWV0aG9kKGxvY2F0aW9uKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoc2VsZiwgcHJldlByb3BzKSB7XG4gICAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwcmV2UHJvcHMudG8pO1xuXG4gICAgICAgIGlmICghbG9jYXRpb25zQXJlRXF1YWwocHJldkxvY2F0aW9uLCBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICAgICAgICBrZXk6IHByZXZMb2NhdGlvbi5rZXlcbiAgICAgICAgfSkpKSB7XG4gICAgICAgICAgbWV0aG9kKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRvOiB0b1xuICAgIH0pO1xuICB9KTtcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBSZWRpcmVjdC5wcm9wVHlwZXMgPSB7XG4gICAgcHVzaDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZnJvbTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0bzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLmlzUmVxdWlyZWRcbiAgfTtcbn1cblxudmFyIGNhY2hlJDEgPSB7fTtcbnZhciBjYWNoZUxpbWl0JDEgPSAxMDAwMDtcbnZhciBjYWNoZUNvdW50JDEgPSAwO1xuXG5mdW5jdGlvbiBjb21waWxlUGF0aCQxKHBhdGgsIG9wdGlvbnMpIHtcbiAgdmFyIGNhY2hlS2V5ID0gXCJcIiArIG9wdGlvbnMuZW5kICsgb3B0aW9ucy5zdHJpY3QgKyBvcHRpb25zLnNlbnNpdGl2ZTtcbiAgdmFyIHBhdGhDYWNoZSA9IGNhY2hlJDFbY2FjaGVLZXldIHx8IChjYWNoZSQxW2NhY2hlS2V5XSA9IHt9KTtcbiAgaWYgKHBhdGhDYWNoZVtwYXRoXSkgcmV0dXJuIHBhdGhDYWNoZVtwYXRoXTtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHJlZ2V4cCA9IHBhdGhUb1JlZ2V4cChwYXRoLCBrZXlzLCBvcHRpb25zKTtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICByZWdleHA6IHJlZ2V4cCxcbiAgICBrZXlzOiBrZXlzXG4gIH07XG5cbiAgaWYgKGNhY2hlQ291bnQkMSA8IGNhY2hlTGltaXQkMSkge1xuICAgIHBhdGhDYWNoZVtwYXRoXSA9IHJlc3VsdDtcbiAgICBjYWNoZUNvdW50JDErKztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFB1YmxpYyBBUEkgZm9yIG1hdGNoaW5nIGEgVVJMIHBhdGhuYW1lIHRvIGEgcGF0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1hdGNoUGF0aChwYXRobmFtZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgcGF0aDogb3B0aW9uc1xuICAgIH07XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgcGF0aCA9IF9vcHRpb25zLnBhdGgsXG4gICAgICBfb3B0aW9ucyRleGFjdCA9IF9vcHRpb25zLmV4YWN0LFxuICAgICAgZXhhY3QgPSBfb3B0aW9ucyRleGFjdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRleGFjdCxcbiAgICAgIF9vcHRpb25zJHN0cmljdCA9IF9vcHRpb25zLnN0cmljdCxcbiAgICAgIHN0cmljdCA9IF9vcHRpb25zJHN0cmljdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRzdHJpY3QsXG4gICAgICBfb3B0aW9ucyRzZW5zaXRpdmUgPSBfb3B0aW9ucy5zZW5zaXRpdmUsXG4gICAgICBzZW5zaXRpdmUgPSBfb3B0aW9ucyRzZW5zaXRpdmUgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkc2Vuc2l0aXZlO1xuICB2YXIgcGF0aHMgPSBbXS5jb25jYXQocGF0aCk7XG4gIHJldHVybiBwYXRocy5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoZWQsIHBhdGgpIHtcbiAgICBpZiAoIXBhdGggJiYgcGF0aCAhPT0gXCJcIikgcmV0dXJuIG51bGw7XG4gICAgaWYgKG1hdGNoZWQpIHJldHVybiBtYXRjaGVkO1xuXG4gICAgdmFyIF9jb21waWxlUGF0aCA9IGNvbXBpbGVQYXRoJDEocGF0aCwge1xuICAgICAgZW5kOiBleGFjdCxcbiAgICAgIHN0cmljdDogc3RyaWN0LFxuICAgICAgc2Vuc2l0aXZlOiBzZW5zaXRpdmVcbiAgICB9KSxcbiAgICAgICAgcmVnZXhwID0gX2NvbXBpbGVQYXRoLnJlZ2V4cCxcbiAgICAgICAga2V5cyA9IF9jb21waWxlUGF0aC5rZXlzO1xuXG4gICAgdmFyIG1hdGNoID0gcmVnZXhwLmV4ZWMocGF0aG5hbWUpO1xuICAgIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuICAgIHZhciB1cmwgPSBtYXRjaFswXSxcbiAgICAgICAgdmFsdWVzID0gbWF0Y2guc2xpY2UoMSk7XG4gICAgdmFyIGlzRXhhY3QgPSBwYXRobmFtZSA9PT0gdXJsO1xuICAgIGlmIChleGFjdCAmJiAhaXNFeGFjdCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAvLyB0aGUgcGF0aCB1c2VkIHRvIG1hdGNoXG4gICAgICB1cmw6IHBhdGggPT09IFwiL1wiICYmIHVybCA9PT0gXCJcIiA/IFwiL1wiIDogdXJsLFxuICAgICAgLy8gdGhlIG1hdGNoZWQgcG9ydGlvbiBvZiB0aGUgVVJMXG4gICAgICBpc0V4YWN0OiBpc0V4YWN0LFxuICAgICAgLy8gd2hldGhlciBvciBub3Qgd2UgbWF0Y2hlZCBleGFjdGx5XG4gICAgICBwYXJhbXM6IGtleXMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBrZXksIGluZGV4KSB7XG4gICAgICAgIG1lbW9ba2V5Lm5hbWVdID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgICB9LCB7fSlcbiAgICB9O1xuICB9LCBudWxsKTtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHJldHVybiBSZWFjdC5DaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGV2YWxDaGlsZHJlbkRldihjaGlsZHJlbiwgcHJvcHMsIHBhdGgpIHtcbiAgdmFyIHZhbHVlID0gY2hpbGRyZW4ocHJvcHMpO1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHZhbHVlICE9PSB1bmRlZmluZWQsIFwiWW91IHJldHVybmVkIGB1bmRlZmluZWRgIGZyb20gdGhlIGBjaGlsZHJlbmAgZnVuY3Rpb24gb2YgXCIgKyAoXCI8Um91dGVcIiArIChwYXRoID8gXCIgcGF0aD1cXFwiXCIgKyBwYXRoICsgXCJcXFwiXCIgOiBcIlwiKSArIFwiPiwgYnV0IHlvdSBcIikgKyBcInNob3VsZCBoYXZlIHJldHVybmVkIGEgUmVhY3QgZWxlbWVudCBvciBgbnVsbGBcIikgOiB2b2lkIDA7XG4gIHJldHVybiB2YWx1ZSB8fCBudWxsO1xufVxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgbWF0Y2hpbmcgYSBzaW5nbGUgcGF0aCBhbmQgcmVuZGVyaW5nLlxuICovXG5cblxudmFyIFJvdXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJvdXRlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBSb3V0ZSgpIHtcbiAgICByZXR1cm4gX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUm91dGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCQxKSB7XG4gICAgICAhY29udGV4dCQxID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGU+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbG9jYXRpb24gPSBfdGhpcy5wcm9wcy5sb2NhdGlvbiB8fCBjb250ZXh0JDEubG9jYXRpb247XG4gICAgICB2YXIgbWF0Y2ggPSBfdGhpcy5wcm9wcy5jb21wdXRlZE1hdGNoID8gX3RoaXMucHJvcHMuY29tcHV0ZWRNYXRjaCAvLyA8U3dpdGNoPiBhbHJlYWR5IGNvbXB1dGVkIHRoZSBtYXRjaCBmb3IgdXNcbiAgICAgIDogX3RoaXMucHJvcHMucGF0aCA/IG1hdGNoUGF0aChsb2NhdGlvbi5wYXRobmFtZSwgX3RoaXMucHJvcHMpIDogY29udGV4dCQxLm1hdGNoO1xuXG4gICAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgY29udGV4dCQxLCB7XG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2g6IG1hdGNoXG4gICAgICB9KTtcblxuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjb21wb25lbnQgPSBfdGhpcyRwcm9wcy5jb21wb25lbnQsXG4gICAgICAgICAgcmVuZGVyID0gX3RoaXMkcHJvcHMucmVuZGVyOyAvLyBQcmVhY3QgdXNlcyBhbiBlbXB0eSBhcnJheSBhcyBjaGlsZHJlbiBieVxuICAgICAgLy8gZGVmYXVsdCwgc28gdXNlIG51bGwgaWYgdGhhdCdzIHRoZSBjYXNlLlxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgaXNFbXB0eUNoaWxkcmVuKGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBwcm9wc1xuICAgICAgfSwgcHJvcHMubWF0Y2ggPyBjaGlsZHJlbiA/IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gZXZhbENoaWxkcmVuRGV2KGNoaWxkcmVuLCBwcm9wcywgX3RoaXMucHJvcHMucGF0aCkgOiBjaGlsZHJlbihwcm9wcykgOiBjaGlsZHJlbiA6IGNvbXBvbmVudCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcHMpIDogcmVuZGVyID8gcmVuZGVyKHByb3BzKSA6IG51bGwgOiB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGV2YWxDaGlsZHJlbkRldihjaGlsZHJlbiwgcHJvcHMsIF90aGlzLnByb3BzLnBhdGgpIDogY2hpbGRyZW4ocHJvcHMpIDogbnVsbCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFJvdXRlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFJvdXRlLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5ub2RlXSksXG4gICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocHJvcHMsIHByb3BOYW1lKSB7XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdICYmICFpc1ZhbGlkRWxlbWVudFR5cGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiSW52YWxpZCBwcm9wICdjb21wb25lbnQnIHN1cHBsaWVkIHRvICdSb3V0ZSc6IHRoZSBwcm9wIGlzIG5vdCBhIHZhbGlkIFJlYWN0IGNvbXBvbmVudFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV4YWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwYXRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pLFxuICAgIHJlbmRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2Vuc2l0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzdHJpY3Q6IFByb3BUeXBlcy5ib29sXG4gIH07XG5cbiAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmNoaWxkcmVuICYmICFpc0VtcHR5Q2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbikgJiYgdGhpcy5wcm9wcy5jb21wb25lbnQpLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGUgY29tcG9uZW50PiBhbmQgPFJvdXRlIGNoaWxkcmVuPiBpbiB0aGUgc2FtZSByb3V0ZTsgPFJvdXRlIGNvbXBvbmVudD4gd2lsbCBiZSBpZ25vcmVkXCIpIDogdm9pZCAwO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmNoaWxkcmVuICYmICFpc0VtcHR5Q2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbikgJiYgdGhpcy5wcm9wcy5yZW5kZXIpLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGUgcmVuZGVyPiBhbmQgPFJvdXRlIGNoaWxkcmVuPiBpbiB0aGUgc2FtZSByb3V0ZTsgPFJvdXRlIHJlbmRlcj4gd2lsbCBiZSBpZ25vcmVkXCIpIDogdm9pZCAwO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmNvbXBvbmVudCAmJiB0aGlzLnByb3BzLnJlbmRlciksIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZSBjb21wb25lbnQ+IGFuZCA8Um91dGUgcmVuZGVyPiBpbiB0aGUgc2FtZSByb3V0ZTsgPFJvdXRlIHJlbmRlcj4gd2lsbCBiZSBpZ25vcmVkXCIpIDogdm9pZCAwO1xuICB9O1xuXG4gIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHRoaXMucHJvcHMubG9jYXRpb24gJiYgIXByZXZQcm9wcy5sb2NhdGlvbiksICc8Um91dGU+IGVsZW1lbnRzIHNob3VsZCBub3QgY2hhbmdlIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiBZb3UgaW5pdGlhbGx5IHVzZWQgbm8gXCJsb2NhdGlvblwiIHByb3AgYW5kIHRoZW4gcHJvdmlkZWQgb25lIG9uIGEgc3Vic2VxdWVudCByZW5kZXIuJykgOiB2b2lkIDA7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKCF0aGlzLnByb3BzLmxvY2F0aW9uICYmIHByZXZQcm9wcy5sb2NhdGlvbiksICc8Um91dGU+IGVsZW1lbnRzIHNob3VsZCBub3QgY2hhbmdlIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiBZb3UgcHJvdmlkZWQgYSBcImxvY2F0aW9uXCIgcHJvcCBpbml0aWFsbHkgYnV0IG9taXR0ZWQgaXQgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKSA6IHZvaWQgMDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSBcIi9cIiA/IHBhdGggOiBcIi9cIiArIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGFkZEJhc2VuYW1lKGJhc2VuYW1lLCBsb2NhdGlvbikge1xuICBpZiAoIWJhc2VuYW1lKSByZXR1cm4gbG9jYXRpb247XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICBwYXRobmFtZTogYWRkTGVhZGluZ1NsYXNoKGJhc2VuYW1lKSArIGxvY2F0aW9uLnBhdGhuYW1lXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdHJpcEJhc2VuYW1lKGJhc2VuYW1lLCBsb2NhdGlvbikge1xuICBpZiAoIWJhc2VuYW1lKSByZXR1cm4gbG9jYXRpb247XG4gIHZhciBiYXNlID0gYWRkTGVhZGluZ1NsYXNoKGJhc2VuYW1lKTtcbiAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoYmFzZSkgIT09IDApIHJldHVybiBsb2NhdGlvbjtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xuICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoYmFzZS5sZW5ndGgpXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVUkwobG9jYXRpb24pIHtcbiAgcmV0dXJuIHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IGxvY2F0aW9uIDogY3JlYXRlUGF0aChsb2NhdGlvbik7XG59XG5cbmZ1bmN0aW9uIHN0YXRpY0hhbmRsZXIobWV0aG9kTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IGNhbm5vdCAlcyB3aXRoIDxTdGF0aWNSb3V0ZXI+XCIsIG1ldGhvZE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuLyoqXG4gKiBUaGUgcHVibGljIHRvcC1sZXZlbCBBUEkgZm9yIGEgXCJzdGF0aWNcIiA8Um91dGVyPiwgc28tY2FsbGVkIGJlY2F1c2UgaXRcbiAqIGNhbid0IGFjdHVhbGx5IGNoYW5nZSB0aGUgY3VycmVudCBsb2NhdGlvbi4gSW5zdGVhZCwgaXQganVzdCByZWNvcmRzXG4gKiBsb2NhdGlvbiBjaGFuZ2VzIGluIGEgY29udGV4dCBvYmplY3QuIFVzZWZ1bCBtYWlubHkgaW4gdGVzdGluZyBhbmRcbiAqIHNlcnZlci1yZW5kZXJpbmcgc2NlbmFyaW9zLlxuICovXG5cblxudmFyIFN0YXRpY1JvdXRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShTdGF0aWNSb3V0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0YXRpY1JvdXRlcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF90aGlzLmhhbmRsZVB1c2ggPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBfdGhpcy5uYXZpZ2F0ZVRvKGxvY2F0aW9uLCBcIlBVU0hcIik7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVJlcGxhY2UgPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgIHJldHVybiBfdGhpcy5uYXZpZ2F0ZVRvKGxvY2F0aW9uLCBcIlJFUExBQ0VcIik7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBub29wO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBub29wO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU3RhdGljUm91dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ubmF2aWdhdGVUbyA9IGZ1bmN0aW9uIG5hdmlnYXRlVG8obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIF90aGlzJHByb3BzJGJhc2VuYW1lID0gX3RoaXMkcHJvcHMuYmFzZW5hbWUsXG4gICAgICAgIGJhc2VuYW1lID0gX3RoaXMkcHJvcHMkYmFzZW5hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfdGhpcyRwcm9wcyRiYXNlbmFtZSxcbiAgICAgICAgX3RoaXMkcHJvcHMkY29udGV4dCA9IF90aGlzJHByb3BzLmNvbnRleHQsXG4gICAgICAgIGNvbnRleHQgPSBfdGhpcyRwcm9wcyRjb250ZXh0ID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzJGNvbnRleHQ7XG4gICAgY29udGV4dC5hY3Rpb24gPSBhY3Rpb247XG4gICAgY29udGV4dC5sb2NhdGlvbiA9IGFkZEJhc2VuYW1lKGJhc2VuYW1lLCBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikpO1xuICAgIGNvbnRleHQudXJsID0gY3JlYXRlVVJMKGNvbnRleHQubG9jYXRpb24pO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIF90aGlzJHByb3BzMiRiYXNlbmFtZSA9IF90aGlzJHByb3BzMi5iYXNlbmFtZSxcbiAgICAgICAgYmFzZW5hbWUgPSBfdGhpcyRwcm9wczIkYmFzZW5hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfdGhpcyRwcm9wczIkYmFzZW5hbWUsXG4gICAgICAgIF90aGlzJHByb3BzMiRjb250ZXh0ID0gX3RoaXMkcHJvcHMyLmNvbnRleHQsXG4gICAgICAgIGNvbnRleHQgPSBfdGhpcyRwcm9wczIkY29udGV4dCA9PT0gdm9pZCAwID8ge30gOiBfdGhpcyRwcm9wczIkY29udGV4dCxcbiAgICAgICAgX3RoaXMkcHJvcHMyJGxvY2F0aW9uID0gX3RoaXMkcHJvcHMyLmxvY2F0aW9uLFxuICAgICAgICBsb2NhdGlvbiA9IF90aGlzJHByb3BzMiRsb2NhdGlvbiA9PT0gdm9pZCAwID8gXCIvXCIgOiBfdGhpcyRwcm9wczIkbG9jYXRpb24sXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wczIsIFtcImJhc2VuYW1lXCIsIFwiY29udGV4dFwiLCBcImxvY2F0aW9uXCJdKTtcblxuICAgIHZhciBoaXN0b3J5ID0ge1xuICAgICAgY3JlYXRlSHJlZjogZnVuY3Rpb24gY3JlYXRlSHJlZihwYXRoKSB7XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nU2xhc2goYmFzZW5hbWUgKyBjcmVhdGVVUkwocGF0aCkpO1xuICAgICAgfSxcbiAgICAgIGFjdGlvbjogXCJQT1BcIixcbiAgICAgIGxvY2F0aW9uOiBzdHJpcEJhc2VuYW1lKGJhc2VuYW1lLCBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikpLFxuICAgICAgcHVzaDogdGhpcy5oYW5kbGVQdXNoLFxuICAgICAgcmVwbGFjZTogdGhpcy5oYW5kbGVSZXBsYWNlLFxuICAgICAgZ286IHN0YXRpY0hhbmRsZXIoXCJnb1wiKSxcbiAgICAgIGdvQmFjazogc3RhdGljSGFuZGxlcihcImdvQmFja1wiKSxcbiAgICAgIGdvRm9yd2FyZDogc3RhdGljSGFuZGxlcihcImdvRm9yd2FyZFwiKSxcbiAgICAgIGxpc3RlbjogdGhpcy5oYW5kbGVMaXN0ZW4sXG4gICAgICBibG9jazogdGhpcy5oYW5kbGVCbG9ja1xuICAgIH07XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlciwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIGhpc3Rvcnk6IGhpc3RvcnksXG4gICAgICBzdGF0aWNDb250ZXh0OiBjb250ZXh0XG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBTdGF0aWNSb3V0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgU3RhdGljUm91dGVyLnByb3BUeXBlcyA9IHtcbiAgICBiYXNlbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb250ZXh0OiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGxvY2F0aW9uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0XSlcbiAgfTtcblxuICBTdGF0aWNSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8U3RhdGljUm91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgU3RhdGljUm91dGVyIGFzIFJvdXRlciB9YC5cIikgOiB2b2lkIDA7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHJlbmRlcmluZyB0aGUgZmlyc3QgPFJvdXRlPiB0aGF0IG1hdGNoZXMuXG4gKi9cblxudmFyIFN3aXRjaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShTd2l0Y2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN3aXRjaCgpIHtcbiAgICByZXR1cm4gX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU3dpdGNoLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8U3dpdGNoPiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGxvY2F0aW9uID0gX3RoaXMucHJvcHMubG9jYXRpb24gfHwgY29udGV4dC5sb2NhdGlvbjtcbiAgICAgIHZhciBlbGVtZW50LCBtYXRjaDsgLy8gV2UgdXNlIFJlYWN0LkNoaWxkcmVuLmZvckVhY2ggaW5zdGVhZCBvZiBSZWFjdC5DaGlsZHJlbi50b0FycmF5KCkuZmluZCgpXG4gICAgICAvLyBoZXJlIGJlY2F1c2UgdG9BcnJheSBhZGRzIGtleXMgdG8gYWxsIGNoaWxkIGVsZW1lbnRzIGFuZCB3ZSBkbyBub3Qgd2FudFxuICAgICAgLy8gdG8gdHJpZ2dlciBhbiB1bm1vdW50L3JlbW91bnQgZm9yIHR3byA8Um91dGU+cyB0aGF0IHJlbmRlciB0aGUgc2FtZVxuICAgICAgLy8gY29tcG9uZW50IGF0IGRpZmZlcmVudCBVUkxzLlxuXG4gICAgICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKF90aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKG1hdGNoID09IG51bGwgJiYgLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIGVsZW1lbnQgPSBjaGlsZDtcbiAgICAgICAgICB2YXIgcGF0aCA9IGNoaWxkLnByb3BzLnBhdGggfHwgY2hpbGQucHJvcHMuZnJvbTtcbiAgICAgICAgICBtYXRjaCA9IHBhdGggPyBtYXRjaFBhdGgobG9jYXRpb24ucGF0aG5hbWUsIF9leHRlbmRzKHt9LCBjaGlsZC5wcm9wcywge1xuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICAgIH0pKSA6IGNvbnRleHQubWF0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hdGNoID8gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgY29tcHV0ZWRNYXRjaDogbWF0Y2hcbiAgICAgIH0pIDogbnVsbDtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gU3dpdGNoO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFN3aXRjaC5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0XG4gIH07XG5cbiAgU3dpdGNoLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAocHJldlByb3BzKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHRoaXMucHJvcHMubG9jYXRpb24gJiYgIXByZXZQcm9wcy5sb2NhdGlvbiksICc8U3dpdGNoPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IGluaXRpYWxseSB1c2VkIG5vIFwibG9jYXRpb25cIiBwcm9wIGFuZCB0aGVuIHByb3ZpZGVkIG9uZSBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpIDogdm9pZCAwO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISghdGhpcy5wcm9wcy5sb2NhdGlvbiAmJiBwcmV2UHJvcHMubG9jYXRpb24pLCAnPFN3aXRjaD4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBwcm92aWRlZCBhIFwibG9jYXRpb25cIiBwcm9wIGluaXRpYWxseSBidXQgb21pdHRlZCBpdCBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpIDogdm9pZCAwO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcHVibGljIGhpZ2hlci1vcmRlciBjb21wb25lbnQgdG8gYWNjZXNzIHRoZSBpbXBlcmF0aXZlIEFQSVxuICovXG5cbmZ1bmN0aW9uIHdpdGhSb3V0ZXIoQ29tcG9uZW50KSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IFwid2l0aFJvdXRlcihcIiArIChDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUpICsgXCIpXCI7XG5cbiAgdmFyIEMgPSBmdW5jdGlvbiBDKHByb3BzKSB7XG4gICAgdmFyIHdyYXBwZWRDb21wb25lbnRSZWYgPSBwcm9wcy53cmFwcGVkQ29tcG9uZW50UmVmLFxuICAgICAgICByZW1haW5pbmdQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJ3cmFwcGVkQ29tcG9uZW50UmVmXCJdKTtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgIWNvbnRleHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IHNob3VsZCBub3QgdXNlIDxcIiArIGRpc3BsYXlOYW1lICsgXCIgLz4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHt9LCByZW1haW5pbmdQcm9wcywgY29udGV4dCwge1xuICAgICAgICByZWY6IHdyYXBwZWRDb21wb25lbnRSZWZcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICBDLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gIEMuV3JhcHBlZENvbXBvbmVudCA9IENvbXBvbmVudDtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgQy5wcm9wVHlwZXMgPSB7XG4gICAgICB3cmFwcGVkQ29tcG9uZW50UmVmOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBob2lzdFN0YXRpY3MoQywgQ29tcG9uZW50KTtcbn1cblxudmFyIHVzZUNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0O1xuZnVuY3Rpb24gdXNlSGlzdG9yeSgpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICEodHlwZW9mIHVzZUNvbnRleHQgPT09IFwiZnVuY3Rpb25cIikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IG11c3QgdXNlIFJlYWN0ID49IDE2LjggaW4gb3JkZXIgdG8gdXNlIHVzZUhpc3RvcnkoKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cblxuICByZXR1cm4gdXNlQ29udGV4dChoaXN0b3J5Q29udGV4dCk7XG59XG5mdW5jdGlvbiB1c2VMb2NhdGlvbigpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICEodHlwZW9mIHVzZUNvbnRleHQgPT09IFwiZnVuY3Rpb25cIikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IG11c3QgdXNlIFJlYWN0ID49IDE2LjggaW4gb3JkZXIgdG8gdXNlIHVzZUxvY2F0aW9uKClcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG5cbiAgcmV0dXJuIHVzZUNvbnRleHQoY29udGV4dCkubG9jYXRpb247XG59XG5mdW5jdGlvbiB1c2VQYXJhbXMoKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAhKHR5cGVvZiB1c2VDb250ZXh0ID09PSBcImZ1bmN0aW9uXCIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBtdXN0IHVzZSBSZWFjdCA+PSAxNi44IGluIG9yZGVyIHRvIHVzZSB1c2VQYXJhbXMoKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cblxuICB2YXIgbWF0Y2ggPSB1c2VDb250ZXh0KGNvbnRleHQpLm1hdGNoO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaC5wYXJhbXMgOiB7fTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlTWF0Y2gocGF0aCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgISh0eXBlb2YgdXNlQ29udGV4dCA9PT0gXCJmdW5jdGlvblwiKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3UgbXVzdCB1c2UgUmVhY3QgPj0gMTYuOCBpbiBvcmRlciB0byB1c2UgdXNlUm91dGVNYXRjaCgpXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHZhciBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIHZhciBtYXRjaCA9IHVzZUNvbnRleHQoY29udGV4dCkubWF0Y2g7XG4gIHJldHVybiBwYXRoID8gbWF0Y2hQYXRoKGxvY2F0aW9uLnBhdGhuYW1lLCBwYXRoKSA6IG1hdGNoO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIGdsb2JhbCA9IHdpbmRvdztcbiAgICB2YXIga2V5ID0gXCJfX3JlYWN0X3JvdXRlcl9idWlsZF9fXCI7XG4gICAgdmFyIGJ1aWxkTmFtZXMgPSB7XG4gICAgICBjanM6IFwiQ29tbW9uSlNcIixcbiAgICAgIGVzbTogXCJFUyBtb2R1bGVzXCIsXG4gICAgICB1bWQ6IFwiVU1EXCJcbiAgICB9O1xuXG4gICAgaWYgKGdsb2JhbFtrZXldICYmIGdsb2JhbFtrZXldICE9PSBcImVzbVwiKSB7XG4gICAgICB2YXIgaW5pdGlhbEJ1aWxkTmFtZSA9IGJ1aWxkTmFtZXNbZ2xvYmFsW2tleV1dO1xuICAgICAgdmFyIHNlY29uZGFyeUJ1aWxkTmFtZSA9IGJ1aWxkTmFtZXNbXCJlc21cIl07IC8vIFRPRE86IEFkZCBsaW5rIHRvIGFydGljbGUgdGhhdCBleHBsYWlucyBpbiBkZXRhaWwgaG93IHRvIGF2b2lkXG4gICAgICAvLyBsb2FkaW5nIDIgZGlmZmVyZW50IGJ1aWxkcy5cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBsb2FkaW5nIHRoZSBcIiArIHNlY29uZGFyeUJ1aWxkTmFtZSArIFwiIGJ1aWxkIG9mIFJlYWN0IFJvdXRlciBcIiArIChcIm9uIGEgcGFnZSB0aGF0IGlzIGFscmVhZHkgcnVubmluZyB0aGUgXCIgKyBpbml0aWFsQnVpbGROYW1lICsgXCIgXCIpICsgXCJidWlsZCwgc28gdGhpbmdzIHdvbid0IHdvcmsgcmlnaHQuXCIpO1xuICAgIH1cblxuICAgIGdsb2JhbFtrZXldID0gXCJlc21cIjtcbiAgfVxufVxuXG5leHBvcnQgeyBNZW1vcnlSb3V0ZXIsIFByb21wdCwgUmVkaXJlY3QsIFJvdXRlLCBSb3V0ZXIsIFN0YXRpY1JvdXRlciwgU3dpdGNoLCBoaXN0b3J5Q29udGV4dCBhcyBfX0hpc3RvcnlDb250ZXh0LCBjb250ZXh0IGFzIF9fUm91dGVyQ29udGV4dCwgZ2VuZXJhdGVQYXRoLCBtYXRjaFBhdGgsIHVzZUhpc3RvcnksIHVzZUxvY2F0aW9uLCB1c2VQYXJhbXMsIHVzZVJvdXRlTWF0Y2gsIHdpdGhSb3V0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXJvdXRlci5qcy5tYXBcbiIsImltcG9ydCB7IFJvdXRlciwgX19Sb3V0ZXJDb250ZXh0LCBtYXRjaFBhdGggfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuZXhwb3J0IHsgTWVtb3J5Um91dGVyLCBQcm9tcHQsIFJlZGlyZWN0LCBSb3V0ZSwgUm91dGVyLCBTdGF0aWNSb3V0ZXIsIFN3aXRjaCwgZ2VuZXJhdGVQYXRoLCBtYXRjaFBhdGgsIHVzZUhpc3RvcnksIHVzZUxvY2F0aW9uLCB1c2VQYXJhbXMsIHVzZVJvdXRlTWF0Y2gsIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJIaXN0b3J5LCBjcmVhdGVIYXNoSGlzdG9yeSwgY3JlYXRlTG9jYXRpb24sIGNyZWF0ZVBhdGggfSBmcm9tICdoaXN0b3J5JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIGEgPFJvdXRlcj4gdGhhdCB1c2VzIEhUTUw1IGhpc3RvcnkuXG4gKi9cblxudmFyIEJyb3dzZXJSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQnJvd3NlclJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQnJvd3NlclJvdXRlcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICBfdGhpcy5oaXN0b3J5ID0gY3JlYXRlQnJvd3Nlckhpc3RvcnkoX3RoaXMucHJvcHMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBCcm93c2VyUm91dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIHtcbiAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEJyb3dzZXJSb3V0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgQnJvd3NlclJvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZW5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGZvcmNlUmVmcmVzaDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAga2V5TGVuZ3RoOiBQcm9wVHlwZXMubnVtYmVyXG4gIH07XG5cbiAgQnJvd3NlclJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghdGhpcy5wcm9wcy5oaXN0b3J5LCBcIjxCcm93c2VyUm91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIgfWAuXCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgdXNlcyB3aW5kb3cubG9jYXRpb24uaGFzaC5cbiAqL1xuXG52YXIgSGFzaFJvdXRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShIYXNoUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBIYXNoUm91dGVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLmhpc3RvcnkgPSBjcmVhdGVIYXNoSGlzdG9yeShfdGhpcy5wcm9wcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEhhc2hSb3V0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlciwge1xuICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LFxuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gSGFzaFJvdXRlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBIYXNoUm91dGVyLnByb3BUeXBlcyA9IHtcbiAgICBiYXNlbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGFzaFR5cGU6IFByb3BUeXBlcy5vbmVPZihbXCJoYXNoYmFuZ1wiLCBcIm5vc2xhc2hcIiwgXCJzbGFzaFwiXSlcbiAgfTtcblxuICBIYXNoUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCF0aGlzLnByb3BzLmhpc3RvcnksIFwiPEhhc2hSb3V0ZXI+IGlnbm9yZXMgdGhlIGhpc3RvcnkgcHJvcC4gVG8gdXNlIGEgY3VzdG9tIGhpc3RvcnksIFwiICsgXCJ1c2UgYGltcG9ydCB7IFJvdXRlciB9YCBpbnN0ZWFkIG9mIGBpbXBvcnQgeyBIYXNoUm91dGVyIGFzIFJvdXRlciB9YC5cIikgOiB2b2lkIDA7XG4gIH07XG59XG5cbnZhciByZXNvbHZlVG9Mb2NhdGlvbiA9IGZ1bmN0aW9uIHJlc29sdmVUb0xvY2F0aW9uKHRvLCBjdXJyZW50TG9jYXRpb24pIHtcbiAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJmdW5jdGlvblwiID8gdG8oY3VycmVudExvY2F0aW9uKSA6IHRvO1xufTtcbnZhciBub3JtYWxpemVUb0xvY2F0aW9uID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Mb2NhdGlvbih0bywgY3VycmVudExvY2F0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBjcmVhdGVMb2NhdGlvbih0bywgbnVsbCwgbnVsbCwgY3VycmVudExvY2F0aW9uKSA6IHRvO1xufTtcblxudmFyIGZvcndhcmRSZWZTaGltID0gZnVuY3Rpb24gZm9yd2FyZFJlZlNoaW0oQykge1xuICByZXR1cm4gQztcbn07XG5cbnZhciBmb3J3YXJkUmVmID0gUmVhY3QuZm9yd2FyZFJlZjtcblxuaWYgKHR5cGVvZiBmb3J3YXJkUmVmID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIGZvcndhcmRSZWYgPSBmb3J3YXJkUmVmU2hpbTtcbn1cblxuZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiAhIShldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KTtcbn1cblxudmFyIExpbmtBbmNob3IgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIGlubmVyUmVmID0gX3JlZi5pbm5lclJlZixcbiAgICAgIG5hdmlnYXRlID0gX3JlZi5uYXZpZ2F0ZSxcbiAgICAgIF9vbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImlubmVyUmVmXCIsIFwibmF2aWdhdGVcIiwgXCJvbkNsaWNrXCJdKTtcblxuICB2YXIgdGFyZ2V0ID0gcmVzdC50YXJnZXQ7XG5cbiAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoX29uQ2xpY2spIF9vbkNsaWNrKGV2ZW50KTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgLy8gb25DbGljayBwcmV2ZW50ZWQgZGVmYXVsdFxuICAgICAgZXZlbnQuYnV0dG9uID09PSAwICYmICggLy8gaWdub3JlIGV2ZXJ5dGhpbmcgYnV0IGxlZnQgY2xpY2tzXG4gICAgICAhdGFyZ2V0IHx8IHRhcmdldCA9PT0gXCJfc2VsZlwiKSAmJiAvLyBsZXQgYnJvd3NlciBoYW5kbGUgXCJ0YXJnZXQ9X2JsYW5rXCIgZXRjLlxuICAgICAgIWlzTW9kaWZpZWRFdmVudChldmVudCkgLy8gaWdub3JlIGNsaWNrcyB3aXRoIG1vZGlmaWVyIGtleXNcbiAgICAgICkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgbmF2aWdhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfSk7IC8vIFJlYWN0IDE1IGNvbXBhdFxuXG5cbiAgaWYgKGZvcndhcmRSZWZTaGltICE9PSBmb3J3YXJkUmVmKSB7XG4gICAgcHJvcHMucmVmID0gZm9yd2FyZGVkUmVmIHx8IGlubmVyUmVmO1xuICB9IGVsc2Uge1xuICAgIHByb3BzLnJlZiA9IGlubmVyUmVmO1xuICB9XG4gIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9hbmNob3ItaGFzLWNvbnRlbnQgKi9cblxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwgcHJvcHMpO1xufSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgTGlua0FuY2hvci5kaXNwbGF5TmFtZSA9IFwiTGlua0FuY2hvclwiO1xufVxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcmVuZGVyaW5nIGEgaGlzdG9yeS1hd2FyZSA8YT4uXG4gKi9cblxuXG52YXIgTGluayA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYyLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9yZWYyJGNvbXBvbmVudCA9IF9yZWYyLmNvbXBvbmVudCxcbiAgICAgIGNvbXBvbmVudCA9IF9yZWYyJGNvbXBvbmVudCA9PT0gdm9pZCAwID8gTGlua0FuY2hvciA6IF9yZWYyJGNvbXBvbmVudCxcbiAgICAgIHJlcGxhY2UgPSBfcmVmMi5yZXBsYWNlLFxuICAgICAgdG8gPSBfcmVmMi50byxcbiAgICAgIGlubmVyUmVmID0gX3JlZjIuaW5uZXJSZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcImNvbXBvbmVudFwiLCBcInJlcGxhY2VcIiwgXCJ0b1wiLCBcImlubmVyUmVmXCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX19Sb3V0ZXJDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8TGluaz4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgaGlzdG9yeSA9IGNvbnRleHQuaGlzdG9yeTtcbiAgICB2YXIgbG9jYXRpb24gPSBub3JtYWxpemVUb0xvY2F0aW9uKHJlc29sdmVUb0xvY2F0aW9uKHRvLCBjb250ZXh0LmxvY2F0aW9uKSwgY29udGV4dC5sb2NhdGlvbik7XG4gICAgdmFyIGhyZWYgPSBsb2NhdGlvbiA/IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbikgOiBcIlwiO1xuXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIGhyZWY6IGhyZWYsXG4gICAgICBuYXZpZ2F0ZTogZnVuY3Rpb24gbmF2aWdhdGUoKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHJlc29sdmVUb0xvY2F0aW9uKHRvLCBjb250ZXh0LmxvY2F0aW9uKTtcbiAgICAgICAgdmFyIGlzRHVwbGljYXRlTmF2aWdhdGlvbiA9IGNyZWF0ZVBhdGgoY29udGV4dC5sb2NhdGlvbikgPT09IGNyZWF0ZVBhdGgobm9ybWFsaXplVG9Mb2NhdGlvbihsb2NhdGlvbikpO1xuICAgICAgICB2YXIgbWV0aG9kID0gcmVwbGFjZSB8fCBpc0R1cGxpY2F0ZU5hdmlnYXRpb24gPyBoaXN0b3J5LnJlcGxhY2UgOiBoaXN0b3J5LnB1c2g7XG4gICAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICB9XG4gICAgfSk7IC8vIFJlYWN0IDE1IGNvbXBhdFxuXG5cbiAgICBpZiAoZm9yd2FyZFJlZlNoaW0gIT09IGZvcndhcmRSZWYpIHtcbiAgICAgIHByb3BzLnJlZiA9IGZvcndhcmRlZFJlZiB8fCBpbm5lclJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcHMuaW5uZXJSZWYgPSBpbm5lclJlZjtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcyk7XG4gIH0pO1xufSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgdmFyIHRvVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5mdW5jXSk7XG4gIHZhciByZWZUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogUHJvcFR5cGVzLmFueVxuICB9KV0pO1xuICBMaW5rLmRpc3BsYXlOYW1lID0gXCJMaW5rXCI7XG4gIExpbmsucHJvcFR5cGVzID0ge1xuICAgIGlubmVyUmVmOiByZWZUeXBlLFxuICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICAgIHJlcGxhY2U6IFByb3BUeXBlcy5ib29sLFxuICAgIHRhcmdldDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0bzogdG9UeXBlLmlzUmVxdWlyZWRcbiAgfTtcbn1cblxudmFyIGZvcndhcmRSZWZTaGltJDEgPSBmdW5jdGlvbiBmb3J3YXJkUmVmU2hpbShDKSB7XG4gIHJldHVybiBDO1xufTtcblxudmFyIGZvcndhcmRSZWYkMSA9IFJlYWN0LmZvcndhcmRSZWY7XG5cbmlmICh0eXBlb2YgZm9yd2FyZFJlZiQxID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIGZvcndhcmRSZWYkMSA9IGZvcndhcmRSZWZTaGltJDE7XG59XG5cbmZ1bmN0aW9uIGpvaW5DbGFzc25hbWVzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NuYW1lcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBjbGFzc25hbWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGNsYXNzbmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIGk7XG4gIH0pLmpvaW4oXCIgXCIpO1xufVxuLyoqXG4gKiBBIDxMaW5rPiB3cmFwcGVyIHRoYXQga25vd3MgaWYgaXQncyBcImFjdGl2ZVwiIG9yIG5vdC5cbiAqL1xuXG5cbnZhciBOYXZMaW5rID0gZm9yd2FyZFJlZiQxKGZ1bmN0aW9uIChfcmVmLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9yZWYkYXJpYUN1cnJlbnQgPSBfcmVmW1wiYXJpYS1jdXJyZW50XCJdLFxuICAgICAgYXJpYUN1cnJlbnQgPSBfcmVmJGFyaWFDdXJyZW50ID09PSB2b2lkIDAgPyBcInBhZ2VcIiA6IF9yZWYkYXJpYUN1cnJlbnQsXG4gICAgICBfcmVmJGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3JlZiRhY3RpdmVDbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiYWN0aXZlXCIgOiBfcmVmJGFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZSxcbiAgICAgIGNsYXNzTmFtZVByb3AgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGV4YWN0ID0gX3JlZi5leGFjdCxcbiAgICAgIGlzQWN0aXZlUHJvcCA9IF9yZWYuaXNBY3RpdmUsXG4gICAgICBsb2NhdGlvblByb3AgPSBfcmVmLmxvY2F0aW9uLFxuICAgICAgc2Vuc2l0aXZlID0gX3JlZi5zZW5zaXRpdmUsXG4gICAgICBzdHJpY3QgPSBfcmVmLnN0cmljdCxcbiAgICAgIHN0eWxlUHJvcCA9IF9yZWYuc3R5bGUsXG4gICAgICB0byA9IF9yZWYudG8sXG4gICAgICBpbm5lclJlZiA9IF9yZWYuaW5uZXJSZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYXJpYS1jdXJyZW50XCIsIFwiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJleGFjdFwiLCBcImlzQWN0aXZlXCIsIFwibG9jYXRpb25cIiwgXCJzZW5zaXRpdmVcIiwgXCJzdHJpY3RcIiwgXCJzdHlsZVwiLCBcInRvXCIsIFwiaW5uZXJSZWZcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfX1JvdXRlckNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgIWNvbnRleHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IHNob3VsZCBub3QgdXNlIDxOYXZMaW5rPiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBjdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvblByb3AgfHwgY29udGV4dC5sb2NhdGlvbjtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IG5vcm1hbGl6ZVRvTG9jYXRpb24ocmVzb2x2ZVRvTG9jYXRpb24odG8sIGN1cnJlbnRMb2NhdGlvbiksIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgdmFyIHBhdGggPSB0b0xvY2F0aW9uLnBhdGhuYW1lOyAvLyBSZWdleCB0YWtlbiBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vcGlsbGFyanMvcGF0aC10by1yZWdleHAvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDIwMlxuXG4gICAgdmFyIGVzY2FwZWRQYXRoID0gcGF0aCAmJiBwYXRoLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18L1xcXFxdKS9nLCBcIlxcXFwkMVwiKTtcbiAgICB2YXIgbWF0Y2ggPSBlc2NhcGVkUGF0aCA/IG1hdGNoUGF0aChjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIHtcbiAgICAgIHBhdGg6IGVzY2FwZWRQYXRoLFxuICAgICAgZXhhY3Q6IGV4YWN0LFxuICAgICAgc2Vuc2l0aXZlOiBzZW5zaXRpdmUsXG4gICAgICBzdHJpY3Q6IHN0cmljdFxuICAgIH0pIDogbnVsbDtcbiAgICB2YXIgaXNBY3RpdmUgPSAhIShpc0FjdGl2ZVByb3AgPyBpc0FjdGl2ZVByb3AobWF0Y2gsIGN1cnJlbnRMb2NhdGlvbikgOiBtYXRjaCk7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHR5cGVvZiBjbGFzc05hbWVQcm9wID09PSBcImZ1bmN0aW9uXCIgPyBjbGFzc05hbWVQcm9wKGlzQWN0aXZlKSA6IGNsYXNzTmFtZVByb3A7XG4gICAgdmFyIHN0eWxlID0gdHlwZW9mIHN0eWxlUHJvcCA9PT0gXCJmdW5jdGlvblwiID8gc3R5bGVQcm9wKGlzQWN0aXZlKSA6IHN0eWxlUHJvcDtcblxuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgY2xhc3NOYW1lID0gam9pbkNsYXNzbmFtZXMoY2xhc3NOYW1lLCBhY3RpdmVDbGFzc05hbWUpO1xuICAgICAgc3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUsIGFjdGl2ZVN0eWxlKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7XG4gICAgICBcImFyaWEtY3VycmVudFwiOiBpc0FjdGl2ZSAmJiBhcmlhQ3VycmVudCB8fCBudWxsLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICB0bzogdG9Mb2NhdGlvblxuICAgIH0sIHJlc3QpOyAvLyBSZWFjdCAxNSBjb21wYXRcblxuXG4gICAgaWYgKGZvcndhcmRSZWZTaGltJDEgIT09IGZvcndhcmRSZWYkMSkge1xuICAgICAgcHJvcHMucmVmID0gZm9yd2FyZGVkUmVmIHx8IGlubmVyUmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wcy5pbm5lclJlZiA9IGlubmVyUmVmO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCBwcm9wcyk7XG4gIH0pO1xufSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgTmF2TGluay5kaXNwbGF5TmFtZSA9IFwiTmF2TGlua1wiO1xuICB2YXIgYXJpYUN1cnJlbnRUeXBlID0gUHJvcFR5cGVzLm9uZU9mKFtcInBhZ2VcIiwgXCJzdGVwXCIsIFwibG9jYXRpb25cIiwgXCJkYXRlXCIsIFwidGltZVwiLCBcInRydWVcIiwgXCJmYWxzZVwiXSk7XG4gIE5hdkxpbmsucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIExpbmsucHJvcFR5cGVzLCB7XG4gICAgXCJhcmlhLWN1cnJlbnRcIjogYXJpYUN1cnJlbnRUeXBlLFxuICAgIGFjdGl2ZUNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhY3RpdmVTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSksXG4gICAgZXhhY3Q6IFByb3BUeXBlcy5ib29sLFxuICAgIGlzQWN0aXZlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzZW5zaXRpdmU6IFByb3BUeXBlcy5ib29sLFxuICAgIHN0cmljdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5mdW5jXSlcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEJyb3dzZXJSb3V0ZXIsIEhhc2hSb3V0ZXIsIExpbmssIE5hdkxpbmsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXJvdXRlci1kb20uanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZXgpIHsgcmV0dXJuIChleCAmJiAodHlwZW9mIGV4ID09PSAnb2JqZWN0JykgJiYgJ2RlZmF1bHQnIGluIGV4KSA/IGV4WydkZWZhdWx0J10gOiBleDsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIFJlYWN0X19kZWZhdWx0ID0gX2ludGVyb3BEZWZhdWx0KFJlYWN0KTtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5mdW5jdGlvbiB3aXRoU2lkZUVmZmVjdChyZWR1Y2VQcm9wc1RvU3RhdGUsIGhhbmRsZVN0YXRlQ2hhbmdlT25DbGllbnQsIG1hcFN0YXRlT25TZXJ2ZXIpIHtcbiAgaWYgKHR5cGVvZiByZWR1Y2VQcm9wc1RvU3RhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHJlZHVjZVByb3BzVG9TdGF0ZSB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50IHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIG1hcFN0YXRlT25TZXJ2ZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtYXBTdGF0ZU9uU2VydmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBtYXBTdGF0ZU9uU2VydmVyIHRvIGVpdGhlciBiZSB1bmRlZmluZWQgb3IgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICByZXR1cm4gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gd3JhcChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgaWYgKHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFdyYXBwZWRDb21wb25lbnQgdG8gYmUgYSBSZWFjdCBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIG1vdW50ZWRJbnN0YW5jZXMgPSBbXTtcbiAgICB2YXIgc3RhdGU7XG5cbiAgICBmdW5jdGlvbiBlbWl0Q2hhbmdlKCkge1xuICAgICAgc3RhdGUgPSByZWR1Y2VQcm9wc1RvU3RhdGUobW91bnRlZEluc3RhbmNlcy5tYXAoZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5wcm9wcztcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKFNpZGVFZmZlY3QuY2FuVXNlRE9NKSB7XG4gICAgICAgIGhhbmRsZVN0YXRlQ2hhbmdlT25DbGllbnQoc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChtYXBTdGF0ZU9uU2VydmVyKSB7XG4gICAgICAgIHN0YXRlID0gbWFwU3RhdGVPblNlcnZlcihzdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFNpZGVFZmZlY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShTaWRlRWZmZWN0LCBfUHVyZUNvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFNpZGVFZmZlY3QoKSB7XG4gICAgICAgIHJldHVybiBfUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIFRyeSB0byB1c2UgZGlzcGxheU5hbWUgb2Ygd3JhcHBlZCBjb21wb25lbnRcbiAgICAgIC8vIEV4cG9zZSBjYW5Vc2VET00gc28gdGVzdHMgY2FuIG1vbmtleXBhdGNoIGl0XG4gICAgICBTaWRlRWZmZWN0LnBlZWsgPSBmdW5jdGlvbiBwZWVrKCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9O1xuXG4gICAgICBTaWRlRWZmZWN0LnJld2luZCA9IGZ1bmN0aW9uIHJld2luZCgpIHtcbiAgICAgICAgaWYgKFNpZGVFZmZlY3QuY2FuVXNlRE9NKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG9ubHkgY2FsbCByZXdpbmQoKSBvbiB0aGUgc2VydmVyLiBDYWxsIHBlZWsoKSB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29yZGVkU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIG1vdW50ZWRJbnN0YW5jZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHJlY29yZGVkU3RhdGU7XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3Byb3RvID0gU2lkZUVmZmVjdC5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgbW91bnRlZEluc3RhbmNlcy5wdXNoKHRoaXMpO1xuICAgICAgICBlbWl0Q2hhbmdlKCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICBlbWl0Q2hhbmdlKCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbW91bnRlZEluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuICAgICAgICBtb3VudGVkSW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGVtaXRDaGFuZ2UoKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBTaWRlRWZmZWN0O1xuICAgIH0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoU2lkZUVmZmVjdCwgXCJkaXNwbGF5TmFtZVwiLCBcIlNpZGVFZmZlY3QoXCIgKyBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSArIFwiKVwiKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShTaWRlRWZmZWN0LCBcImNhblVzZURPTVwiLCBjYW5Vc2VET00pO1xuXG4gICAgcmV0dXJuIFNpZGVFZmZlY3Q7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2l0aFNpZGVFZmZlY3Q7XG4iLCIvKiBnbG9iYWwgTWFwOnJlYWRvbmx5LCBTZXQ6cmVhZG9ubHksIEFycmF5QnVmZmVyOnJlYWRvbmx5ICovXG5cbnZhciBoYXNFbGVtZW50VHlwZSA9IHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBoYXNNYXAgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nO1xudmFyIGhhc1NldCA9IHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbic7XG52YXIgaGFzQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgISFBcnJheUJ1ZmZlci5pc1ZpZXc7XG5cbi8vIE5vdGU6IFdlICoqZG9uJ3QqKiBuZWVkIGBlbnZIYXNCaWdJbnQ2NEFycmF5YCBpbiBmZGUgZXM2L2luZGV4LmpzXG5cbmZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgLy8gU1RBUlQ6IGZhc3QtZGVlcC1lcXVhbCBlczYvaW5kZXguanMgMy4xLjFcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFNUQVJUOiBNb2RpZmljYXRpb25zOlxuICAgIC8vIDEuIEV4dHJhIGBoYXM8VHlwZT4gJiZgIGhlbHBlcnMgaW4gaW5pdGlhbCBjb25kaXRpb24gYWxsb3cgZXM2IGNvZGVcbiAgICAvLyAgICB0byBjby1leGlzdCB3aXRoIGVzNS5cbiAgICAvLyAyLiBSZXBsYWNlIGBmb3Igb2ZgIHdpdGggZXM1IGNvbXBsaWFudCBpdGVyYXRpb24gdXNpbmcgYGZvcmAuXG4gICAgLy8gICAgQmFzaWNhbGx5LCB0YWtlOlxuICAgIC8vXG4gICAgLy8gICAgYGBganNcbiAgICAvLyAgICBmb3IgKGkgb2YgYS5lbnRyaWVzKCkpXG4gICAgLy8gICAgICBpZiAoIWIuaGFzKGlbMF0pKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gICAgYGBgXG4gICAgLy9cbiAgICAvLyAgICAuLi4gYW5kIGNvbnZlcnQgdG86XG4gICAgLy9cbiAgICAvLyAgICBgYGBqc1xuICAgIC8vICAgIGl0ID0gYS5lbnRyaWVzKCk7XG4gICAgLy8gICAgd2hpbGUgKCEoaSA9IGl0Lm5leHQoKSkuZG9uZSlcbiAgICAvLyAgICAgIGlmICghYi5oYXMoaS52YWx1ZVswXSkpIHJldHVybiBmYWxzZTtcbiAgICAvLyAgICBgYGBcbiAgICAvL1xuICAgIC8vICAgICoqTm90ZSoqOiBgaWAgYWNjZXNzIHN3aXRjaGVzIHRvIGBpLnZhbHVlYC5cbiAgICB2YXIgaXQ7XG4gICAgaWYgKGhhc01hcCAmJiAoYSBpbnN0YW5jZW9mIE1hcCkgJiYgKGIgaW5zdGFuY2VvZiBNYXApKSB7XG4gICAgICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ID0gYS5lbnRyaWVzKCk7XG4gICAgICB3aGlsZSAoIShpID0gaXQubmV4dCgpKS5kb25lKVxuICAgICAgICBpZiAoIWIuaGFzKGkudmFsdWVbMF0pKSByZXR1cm4gZmFsc2U7XG4gICAgICBpdCA9IGEuZW50cmllcygpO1xuICAgICAgd2hpbGUgKCEoaSA9IGl0Lm5leHQoKSkuZG9uZSlcbiAgICAgICAgaWYgKCFlcXVhbChpLnZhbHVlWzFdLCBiLmdldChpLnZhbHVlWzBdKSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChoYXNTZXQgJiYgKGEgaW5zdGFuY2VvZiBTZXQpICYmIChiIGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSByZXR1cm4gZmFsc2U7XG4gICAgICBpdCA9IGEuZW50cmllcygpO1xuICAgICAgd2hpbGUgKCEoaSA9IGl0Lm5leHQoKSkuZG9uZSlcbiAgICAgICAgaWYgKCFiLmhhcyhpLnZhbHVlWzBdKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIEVORDogTW9kaWZpY2F0aW9uc1xuXG4gICAgaWYgKGhhc0FycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLmlzVmlldyhhKSAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcoYikpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICAvLyBFTkQ6IGZhc3QtZGVlcC1lcXVhbFxuXG4gICAgLy8gU1RBUlQ6IHJlYWN0LWZhc3QtY29tcGFyZVxuICAgIC8vIGN1c3RvbSBoYW5kbGluZyBmb3IgRE9NIGVsZW1lbnRzXG4gICAgaWYgKGhhc0VsZW1lbnRUeXBlICYmIGEgaW5zdGFuY2VvZiBFbGVtZW50KSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBjdXN0b20gaGFuZGxpbmcgZm9yIFJlYWN0L1ByZWFjdFxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgaWYgKChrZXlzW2ldID09PSAnX293bmVyJyB8fCBrZXlzW2ldID09PSAnX192JyB8fCBrZXlzW2ldID09PSAnX19vJykgJiYgYS4kJHR5cGVvZikge1xuICAgICAgICAvLyBSZWFjdC1zcGVjaWZpYzogYXZvaWQgdHJhdmVyc2luZyBSZWFjdCBlbGVtZW50cycgX293bmVyXG4gICAgICAgIC8vIFByZWFjdC1zcGVjaWZpYzogYXZvaWQgdHJhdmVyc2luZyBQcmVhY3QgZWxlbWVudHMnIF9fdiBhbmQgX19vXG4gICAgICAgIC8vICAgIF9fdiA9ICRfb3JpZ2luYWwgLyAkX3Zub2RlXG4gICAgICAgIC8vICAgIF9fbyA9ICRfb3duZXJcbiAgICAgICAgLy8gVGhlc2UgcHJvcGVydGllcyBjb250YWluIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIGFyZSBub3QgbmVlZGVkIHdoZW5cbiAgICAgICAgLy8gY29tcGFyaW5nIHRoZSBhY3R1YWwgZWxlbWVudHMgKGFuZCBub3QgdGhlaXIgb3duZXJzKVxuICAgICAgICAvLyAuJCR0eXBlb2YgYW5kIC5fc3RvcmUgb24ganVzdCByZWFzb25hYmxlIG1hcmtlcnMgb2YgZWxlbWVudHNcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gYWxsIG90aGVyIHByb3BlcnRpZXMgc2hvdWxkIGJlIHRyYXZlcnNlZCBhcyB1c3VhbFxuICAgICAgaWYgKCFlcXVhbChhW2tleXNbaV1dLCBiW2tleXNbaV1dKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBFTkQ6IHJlYWN0LWZhc3QtY29tcGFyZVxuXG4gICAgLy8gU1RBUlQ6IGZhc3QtZGVlcC1lcXVhbFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGEgIT09IGEgJiYgYiAhPT0gYjtcbn1cbi8vIGVuZCBmYXN0LWRlZXAtZXF1YWxcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZXF1YWwoYSwgYik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKCgoZXJyb3IubWVzc2FnZSB8fCAnJykubWF0Y2goL3N0YWNrfHJlY3Vyc2lvbi9pKSkpIHtcbiAgICAgIC8vIHdhcm4gb24gY2lyY3VsYXIgcmVmZXJlbmNlcywgZG9uJ3QgY3Jhc2hcbiAgICAgIC8vIGJyb3dzZXJzIGdpdmUgdGhpcyBkaWZmZXJlbnQgZXJyb3JzIG5hbWUgYW5kIG1lc3NhZ2VzOlxuICAgICAgLy8gY2hyb21lL3NhZmFyaTogXCJSYW5nZUVycm9yXCIsIFwiTWF4aW11bSBjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIlxuICAgICAgLy8gZmlyZWZveDogXCJJbnRlcm5hbEVycm9yXCIsIHRvbyBtdWNoIHJlY3Vyc2lvblwiXG4gICAgICAvLyBlZGdlOiBcIkVycm9yXCIsIFwiT3V0IG9mIHN0YWNrIHNwYWNlXCJcbiAgICAgIGNvbnNvbGUud2FybigncmVhY3QtZmFzdC1jb21wYXJlIGNhbm5vdCBoYW5kbGUgY2lyY3VsYXIgcmVmcycpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBzb21lIG90aGVyIGVycm9yLiB3ZSBzaG91bGQgZGVmaW5pdGVseSBrbm93IGFib3V0IHRoZXNlXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHdpdGhTaWRlRWZmZWN0IGZyb20gJ3JlYWN0LXNpZGUtZWZmZWN0JztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ3JlYWN0LWZhc3QtY29tcGFyZSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG9iamVjdEFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcblxudmFyIEFUVFJJQlVURV9OQU1FUyA9IHtcbiAgICBCT0RZOiBcImJvZHlBdHRyaWJ1dGVzXCIsXG4gICAgSFRNTDogXCJodG1sQXR0cmlidXRlc1wiLFxuICAgIFRJVExFOiBcInRpdGxlQXR0cmlidXRlc1wiXG59O1xuXG52YXIgVEFHX05BTUVTID0ge1xuICAgIEJBU0U6IFwiYmFzZVwiLFxuICAgIEJPRFk6IFwiYm9keVwiLFxuICAgIEhFQUQ6IFwiaGVhZFwiLFxuICAgIEhUTUw6IFwiaHRtbFwiLFxuICAgIExJTks6IFwibGlua1wiLFxuICAgIE1FVEE6IFwibWV0YVwiLFxuICAgIE5PU0NSSVBUOiBcIm5vc2NyaXB0XCIsXG4gICAgU0NSSVBUOiBcInNjcmlwdFwiLFxuICAgIFNUWUxFOiBcInN0eWxlXCIsXG4gICAgVElUTEU6IFwidGl0bGVcIlxufTtcblxudmFyIFZBTElEX1RBR19OQU1FUyA9IE9iamVjdC5rZXlzKFRBR19OQU1FUykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIFRBR19OQU1FU1tuYW1lXTtcbn0pO1xuXG52YXIgVEFHX1BST1BFUlRJRVMgPSB7XG4gICAgQ0hBUlNFVDogXCJjaGFyc2V0XCIsXG4gICAgQ1NTX1RFWFQ6IFwiY3NzVGV4dFwiLFxuICAgIEhSRUY6IFwiaHJlZlwiLFxuICAgIEhUVFBFUVVJVjogXCJodHRwLWVxdWl2XCIsXG4gICAgSU5ORVJfSFRNTDogXCJpbm5lckhUTUxcIixcbiAgICBJVEVNX1BST1A6IFwiaXRlbXByb3BcIixcbiAgICBOQU1FOiBcIm5hbWVcIixcbiAgICBQUk9QRVJUWTogXCJwcm9wZXJ0eVwiLFxuICAgIFJFTDogXCJyZWxcIixcbiAgICBTUkM6IFwic3JjXCIsXG4gICAgVEFSR0VUOiBcInRhcmdldFwiXG59O1xuXG52YXIgUkVBQ1RfVEFHX01BUCA9IHtcbiAgICBhY2Nlc3NrZXk6IFwiYWNjZXNzS2V5XCIsXG4gICAgY2hhcnNldDogXCJjaGFyU2V0XCIsXG4gICAgY2xhc3M6IFwiY2xhc3NOYW1lXCIsXG4gICAgY29udGVudGVkaXRhYmxlOiBcImNvbnRlbnRFZGl0YWJsZVwiLFxuICAgIGNvbnRleHRtZW51OiBcImNvbnRleHRNZW51XCIsXG4gICAgXCJodHRwLWVxdWl2XCI6IFwiaHR0cEVxdWl2XCIsXG4gICAgaXRlbXByb3A6IFwiaXRlbVByb3BcIixcbiAgICB0YWJpbmRleDogXCJ0YWJJbmRleFwiXG59O1xuXG52YXIgSEVMTUVUX1BST1BTID0ge1xuICAgIERFRkFVTFRfVElUTEU6IFwiZGVmYXVsdFRpdGxlXCIsXG4gICAgREVGRVI6IFwiZGVmZXJcIixcbiAgICBFTkNPREVfU1BFQ0lBTF9DSEFSQUNURVJTOiBcImVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzXCIsXG4gICAgT05fQ0hBTkdFX0NMSUVOVF9TVEFURTogXCJvbkNoYW5nZUNsaWVudFN0YXRlXCIsXG4gICAgVElUTEVfVEVNUExBVEU6IFwidGl0bGVUZW1wbGF0ZVwiXG59O1xuXG52YXIgSFRNTF9UQUdfTUFQID0gT2JqZWN0LmtleXMoUkVBQ1RfVEFHX01BUCkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgIG9ialtSRUFDVF9UQUdfTUFQW2tleV1dID0ga2V5O1xuICAgIHJldHVybiBvYmo7XG59LCB7fSk7XG5cbnZhciBTRUxGX0NMT1NJTkdfVEFHUyA9IFtUQUdfTkFNRVMuTk9TQ1JJUFQsIFRBR19OQU1FUy5TQ1JJUFQsIFRBR19OQU1FUy5TVFlMRV07XG5cbnZhciBIRUxNRVRfQVRUUklCVVRFID0gXCJkYXRhLXJlYWN0LWhlbG1ldFwiO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxudmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBvYmplY3RXaXRob3V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChvYmosIGtleXMpIHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuXG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTtcbiAgICB0YXJnZXRbaV0gPSBvYmpbaV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cbnZhciBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVycyA9IGZ1bmN0aW9uIGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzKHN0cikge1xuICAgIHZhciBlbmNvZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICBpZiAoZW5jb2RlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKS5yZXBsYWNlKC88L2csIFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csIFwiJiN4Mjc7XCIpO1xufTtcblxudmFyIGdldFRpdGxlRnJvbVByb3BzTGlzdCA9IGZ1bmN0aW9uIGdldFRpdGxlRnJvbVByb3BzTGlzdChwcm9wc0xpc3QpIHtcbiAgICB2YXIgaW5uZXJtb3N0VGl0bGUgPSBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIFRBR19OQU1FUy5USVRMRSk7XG4gICAgdmFyIGlubmVybW9zdFRlbXBsYXRlID0gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBIRUxNRVRfUFJPUFMuVElUTEVfVEVNUExBVEUpO1xuXG4gICAgaWYgKGlubmVybW9zdFRlbXBsYXRlICYmIGlubmVybW9zdFRpdGxlKSB7XG4gICAgICAgIC8vIHVzZSBmdW5jdGlvbiBhcmcgdG8gYXZvaWQgbmVlZCB0byBlc2NhcGUgJCBjaGFyYWN0ZXJzXG4gICAgICAgIHJldHVybiBpbm5lcm1vc3RUZW1wbGF0ZS5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpbm5lcm1vc3RUaXRsZSkgPyBpbm5lcm1vc3RUaXRsZS5qb2luKFwiXCIpIDogaW5uZXJtb3N0VGl0bGU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBpbm5lcm1vc3REZWZhdWx0VGl0bGUgPSBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5ERUZBVUxUX1RJVExFKTtcblxuICAgIHJldHVybiBpbm5lcm1vc3RUaXRsZSB8fCBpbm5lcm1vc3REZWZhdWx0VGl0bGUgfHwgdW5kZWZpbmVkO1xufTtcblxudmFyIGdldE9uQ2hhbmdlQ2xpZW50U3RhdGUgPSBmdW5jdGlvbiBnZXRPbkNoYW5nZUNsaWVudFN0YXRlKHByb3BzTGlzdCkge1xuICAgIHJldHVybiBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5PTl9DSEFOR0VfQ0xJRU5UX1NUQVRFKSB8fCBmdW5jdGlvbiAoKSB7fTtcbn07XG5cbnZhciBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdCA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXNGcm9tUHJvcHNMaXN0KHRhZ1R5cGUsIHByb3BzTGlzdCkge1xuICAgIHJldHVybiBwcm9wc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHByb3BzW3RhZ1R5cGVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgIH0pLm1hcChmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzW3RhZ1R5cGVdO1xuICAgIH0pLnJlZHVjZShmdW5jdGlvbiAodGFnQXR0cnMsIGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0YWdBdHRycywgY3VycmVudCk7XG4gICAgfSwge30pO1xufTtcblxudmFyIGdldEJhc2VUYWdGcm9tUHJvcHNMaXN0ID0gZnVuY3Rpb24gZ2V0QmFzZVRhZ0Zyb21Qcm9wc0xpc3QocHJpbWFyeUF0dHJpYnV0ZXMsIHByb3BzTGlzdCkge1xuICAgIHJldHVybiBwcm9wc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHByb3BzW1RBR19OQU1FUy5CQVNFXSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBwcm9wc1tUQUdfTkFNRVMuQkFTRV07XG4gICAgfSkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoaW5uZXJtb3N0QmFzZVRhZywgdGFnKSB7XG4gICAgICAgIGlmICghaW5uZXJtb3N0QmFzZVRhZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGFnKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSA9IGF0dHJpYnV0ZUtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByaW1hcnlBdHRyaWJ1dGVzLmluZGV4T2YobG93ZXJDYXNlQXR0cmlidXRlS2V5KSAhPT0gLTEgJiYgdGFnW2xvd2VyQ2FzZUF0dHJpYnV0ZUtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlubmVybW9zdEJhc2VUYWcuY29uY2F0KHRhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlubmVybW9zdEJhc2VUYWc7XG4gICAgfSwgW10pO1xufTtcblxudmFyIGdldFRhZ3NGcm9tUHJvcHNMaXN0ID0gZnVuY3Rpb24gZ2V0VGFnc0Zyb21Qcm9wc0xpc3QodGFnTmFtZSwgcHJpbWFyeUF0dHJpYnV0ZXMsIHByb3BzTGlzdCkge1xuICAgIC8vIENhbGN1bGF0ZSBsaXN0IG9mIHRhZ3MsIGdpdmluZyBwcmlvcml0eSBpbm5lcm1vc3QgY29tcG9uZW50IChlbmQgb2YgdGhlIHByb3BzbGlzdClcbiAgICB2YXIgYXBwcm92ZWRTZWVuVGFncyA9IHt9O1xuXG4gICAgcmV0dXJuIHByb3BzTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BzW3RhZ05hbWVdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wc1t0YWdOYW1lXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgd2FybihcIkhlbG1ldDogXCIgKyB0YWdOYW1lICsgXCIgc2hvdWxkIGJlIG9mIHR5cGUgXFxcIkFycmF5XFxcIi4gSW5zdGVhZCBmb3VuZCB0eXBlIFxcXCJcIiArIF90eXBlb2YocHJvcHNbdGFnTmFtZV0pICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBwcm9wc1t0YWdOYW1lXTtcbiAgICB9KS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChhcHByb3ZlZFRhZ3MsIGluc3RhbmNlVGFncykge1xuICAgICAgICB2YXIgaW5zdGFuY2VTZWVuVGFncyA9IHt9O1xuXG4gICAgICAgIGluc3RhbmNlVGFncy5maWx0ZXIoZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgdmFyIHByaW1hcnlBdHRyaWJ1dGVLZXkgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRhZyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlS2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgbG93ZXJDYXNlQXR0cmlidXRlS2V5ID0gYXR0cmlidXRlS2V5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIHJ1bGUgd2l0aCBsaW5rIHRhZ3MsIHNpbmNlIHJlbCBhbmQgaHJlZiBhcmUgYm90aCBwcmltYXJ5IHRhZ3MsIHJlbCB0YWtlcyBwcmlvcml0eVxuICAgICAgICAgICAgICAgIGlmIChwcmltYXJ5QXR0cmlidXRlcy5pbmRleE9mKGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSkgIT09IC0xICYmICEocHJpbWFyeUF0dHJpYnV0ZUtleSA9PT0gVEFHX1BST1BFUlRJRVMuUkVMICYmIHRhZ1twcmltYXJ5QXR0cmlidXRlS2V5XS50b0xvd2VyQ2FzZSgpID09PSBcImNhbm9uaWNhbFwiKSAmJiAhKGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSA9PT0gVEFHX1BST1BFUlRJRVMuUkVMICYmIHRhZ1tsb3dlckNhc2VBdHRyaWJ1dGVLZXldLnRvTG93ZXJDYXNlKCkgPT09IFwic3R5bGVzaGVldFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QXR0cmlidXRlS2V5ID0gbG93ZXJDYXNlQXR0cmlidXRlS2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGlubmVySFRNTCB3aGljaCBkb2Vzbid0IHdvcmsgbG93ZXJjYXNlZFxuICAgICAgICAgICAgICAgIGlmIChwcmltYXJ5QXR0cmlidXRlcy5pbmRleE9mKGF0dHJpYnV0ZUtleSkgIT09IC0xICYmIChhdHRyaWJ1dGVLZXkgPT09IFRBR19QUk9QRVJUSUVTLklOTkVSX0hUTUwgfHwgYXR0cmlidXRlS2V5ID09PSBUQUdfUFJPUEVSVElFUy5DU1NfVEVYVCB8fCBhdHRyaWJ1dGVLZXkgPT09IFRBR19QUk9QRVJUSUVTLklURU1fUFJPUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUF0dHJpYnV0ZUtleSA9IGF0dHJpYnV0ZUtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghcHJpbWFyeUF0dHJpYnV0ZUtleSB8fCAhdGFnW3ByaW1hcnlBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0YWdbcHJpbWFyeUF0dHJpYnV0ZUtleV0udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKCFhcHByb3ZlZFNlZW5UYWdzW3ByaW1hcnlBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgICAgICAgICAgYXBwcm92ZWRTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlU2VlblRhZ3NbcHJpbWFyeUF0dHJpYnV0ZUtleV0pIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVNlZW5UYWdzW3ByaW1hcnlBdHRyaWJ1dGVLZXldID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghYXBwcm92ZWRTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVNlZW5UYWdzW3ByaW1hcnlBdHRyaWJ1dGVLZXldW3ZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSkucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVkVGFncy5wdXNoKHRhZyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzZWVuIHRhZ3Mgd2l0aCB0YWdzIGZyb20gdGhpcyBpbnN0YW5jZVxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGluc3RhbmNlU2VlblRhZ3MpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVLZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgdmFyIHRhZ1VuaW9uID0gb2JqZWN0QXNzaWduKHt9LCBhcHByb3ZlZFNlZW5UYWdzW2F0dHJpYnV0ZUtleV0sIGluc3RhbmNlU2VlblRhZ3NbYXR0cmlidXRlS2V5XSk7XG5cbiAgICAgICAgICAgIGFwcHJvdmVkU2VlblRhZ3NbYXR0cmlidXRlS2V5XSA9IHRhZ1VuaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFwcHJvdmVkVGFncztcbiAgICB9LCBbXSkucmV2ZXJzZSgpO1xufTtcblxudmFyIGdldElubmVybW9zdFByb3BlcnR5ID0gZnVuY3Rpb24gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBwcm9wZXJ0eSkge1xuICAgIGZvciAodmFyIGkgPSBwcm9wc0xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHByb3BzID0gcHJvcHNMaXN0W2ldO1xuXG4gICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciByZWR1Y2VQcm9wc1RvU3RhdGUgPSBmdW5jdGlvbiByZWR1Y2VQcm9wc1RvU3RhdGUocHJvcHNMaXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZVRhZzogZ2V0QmFzZVRhZ0Zyb21Qcm9wc0xpc3QoW1RBR19QUk9QRVJUSUVTLkhSRUYsIFRBR19QUk9QRVJUSUVTLlRBUkdFVF0sIHByb3BzTGlzdCksXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdChBVFRSSUJVVEVfTkFNRVMuQk9EWSwgcHJvcHNMaXN0KSxcbiAgICAgICAgZGVmZXI6IGdldElubmVybW9zdFByb3BlcnR5KHByb3BzTGlzdCwgSEVMTUVUX1BST1BTLkRFRkVSKSxcbiAgICAgICAgZW5jb2RlOiBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5FTkNPREVfU1BFQ0lBTF9DSEFSQUNURVJTKSxcbiAgICAgICAgaHRtbEF0dHJpYnV0ZXM6IGdldEF0dHJpYnV0ZXNGcm9tUHJvcHNMaXN0KEFUVFJJQlVURV9OQU1FUy5IVE1MLCBwcm9wc0xpc3QpLFxuICAgICAgICBsaW5rVGFnczogZ2V0VGFnc0Zyb21Qcm9wc0xpc3QoVEFHX05BTUVTLkxJTkssIFtUQUdfUFJPUEVSVElFUy5SRUwsIFRBR19QUk9QRVJUSUVTLkhSRUZdLCBwcm9wc0xpc3QpLFxuICAgICAgICBtZXRhVGFnczogZ2V0VGFnc0Zyb21Qcm9wc0xpc3QoVEFHX05BTUVTLk1FVEEsIFtUQUdfUFJPUEVSVElFUy5OQU1FLCBUQUdfUFJPUEVSVElFUy5DSEFSU0VULCBUQUdfUFJPUEVSVElFUy5IVFRQRVFVSVYsIFRBR19QUk9QRVJUSUVTLlBST1BFUlRZLCBUQUdfUFJPUEVSVElFUy5JVEVNX1BST1BdLCBwcm9wc0xpc3QpLFxuICAgICAgICBub3NjcmlwdFRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFRBR19OQU1FUy5OT1NDUklQVCwgW1RBR19QUk9QRVJUSUVTLklOTkVSX0hUTUxdLCBwcm9wc0xpc3QpLFxuICAgICAgICBvbkNoYW5nZUNsaWVudFN0YXRlOiBnZXRPbkNoYW5nZUNsaWVudFN0YXRlKHByb3BzTGlzdCksXG4gICAgICAgIHNjcmlwdFRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFRBR19OQU1FUy5TQ1JJUFQsIFtUQUdfUFJPUEVSVElFUy5TUkMsIFRBR19QUk9QRVJUSUVTLklOTkVSX0hUTUxdLCBwcm9wc0xpc3QpLFxuICAgICAgICBzdHlsZVRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFRBR19OQU1FUy5TVFlMRSwgW1RBR19QUk9QRVJUSUVTLkNTU19URVhUXSwgcHJvcHNMaXN0KSxcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlRnJvbVByb3BzTGlzdChwcm9wc0xpc3QpLFxuICAgICAgICB0aXRsZUF0dHJpYnV0ZXM6IGdldEF0dHJpYnV0ZXNGcm9tUHJvcHNMaXN0KEFUVFJJQlVURV9OQU1FUy5USVRMRSwgcHJvcHNMaXN0KVxuICAgIH07XG59O1xuXG52YXIgcmFmUG9seWZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNsb2NrID0gRGF0ZS5ub3coKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBjbG9jayA+IDE2KSB7XG4gICAgICAgICAgICBjbG9jayA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgY2FsbGJhY2soY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmFmUG9seWZpbGwoY2FsbGJhY2spO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xufSgpO1xuXG52YXIgY2FmUG9seWZpbGwgPSBmdW5jdGlvbiBjYWZQb2x5ZmlsbChpZCkge1xuICAgIHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xufTtcblxudmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByYWZQb2x5ZmlsbCA6IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgcmFmUG9seWZpbGw7XG5cbnZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBjYWZQb2x5ZmlsbCA6IGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBjYWZQb2x5ZmlsbDtcblxudmFyIHdhcm4gPSBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIHJldHVybiBjb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIiAmJiBjb25zb2xlLndhcm4obXNnKTtcbn07XG5cbnZhciBfaGVsbWV0Q2FsbGJhY2sgPSBudWxsO1xuXG52YXIgaGFuZGxlQ2xpZW50U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDbGllbnRTdGF0ZUNoYW5nZShuZXdTdGF0ZSkge1xuICAgIGlmIChfaGVsbWV0Q2FsbGJhY2spIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX2hlbG1ldENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAobmV3U3RhdGUuZGVmZXIpIHtcbiAgICAgICAgX2hlbG1ldENhbGxiYWNrID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbW1pdFRhZ0NoYW5nZXMobmV3U3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfaGVsbWV0Q2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbW1pdFRhZ0NoYW5nZXMobmV3U3RhdGUpO1xuICAgICAgICBfaGVsbWV0Q2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbn07XG5cbnZhciBjb21taXRUYWdDaGFuZ2VzID0gZnVuY3Rpb24gY29tbWl0VGFnQ2hhbmdlcyhuZXdTdGF0ZSwgY2IpIHtcbiAgICB2YXIgYmFzZVRhZyA9IG5ld1N0YXRlLmJhc2VUYWcsXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzID0gbmV3U3RhdGUuYm9keUF0dHJpYnV0ZXMsXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzID0gbmV3U3RhdGUuaHRtbEF0dHJpYnV0ZXMsXG4gICAgICAgIGxpbmtUYWdzID0gbmV3U3RhdGUubGlua1RhZ3MsXG4gICAgICAgIG1ldGFUYWdzID0gbmV3U3RhdGUubWV0YVRhZ3MsXG4gICAgICAgIG5vc2NyaXB0VGFncyA9IG5ld1N0YXRlLm5vc2NyaXB0VGFncyxcbiAgICAgICAgb25DaGFuZ2VDbGllbnRTdGF0ZSA9IG5ld1N0YXRlLm9uQ2hhbmdlQ2xpZW50U3RhdGUsXG4gICAgICAgIHNjcmlwdFRhZ3MgPSBuZXdTdGF0ZS5zY3JpcHRUYWdzLFxuICAgICAgICBzdHlsZVRhZ3MgPSBuZXdTdGF0ZS5zdHlsZVRhZ3MsXG4gICAgICAgIHRpdGxlID0gbmV3U3RhdGUudGl0bGUsXG4gICAgICAgIHRpdGxlQXR0cmlidXRlcyA9IG5ld1N0YXRlLnRpdGxlQXR0cmlidXRlcztcblxuICAgIHVwZGF0ZUF0dHJpYnV0ZXMoVEFHX05BTUVTLkJPRFksIGJvZHlBdHRyaWJ1dGVzKTtcbiAgICB1cGRhdGVBdHRyaWJ1dGVzKFRBR19OQU1FUy5IVE1MLCBodG1sQXR0cmlidXRlcyk7XG5cbiAgICB1cGRhdGVUaXRsZSh0aXRsZSwgdGl0bGVBdHRyaWJ1dGVzKTtcblxuICAgIHZhciB0YWdVcGRhdGVzID0ge1xuICAgICAgICBiYXNlVGFnOiB1cGRhdGVUYWdzKFRBR19OQU1FUy5CQVNFLCBiYXNlVGFnKSxcbiAgICAgICAgbGlua1RhZ3M6IHVwZGF0ZVRhZ3MoVEFHX05BTUVTLkxJTkssIGxpbmtUYWdzKSxcbiAgICAgICAgbWV0YVRhZ3M6IHVwZGF0ZVRhZ3MoVEFHX05BTUVTLk1FVEEsIG1ldGFUYWdzKSxcbiAgICAgICAgbm9zY3JpcHRUYWdzOiB1cGRhdGVUYWdzKFRBR19OQU1FUy5OT1NDUklQVCwgbm9zY3JpcHRUYWdzKSxcbiAgICAgICAgc2NyaXB0VGFnczogdXBkYXRlVGFncyhUQUdfTkFNRVMuU0NSSVBULCBzY3JpcHRUYWdzKSxcbiAgICAgICAgc3R5bGVUYWdzOiB1cGRhdGVUYWdzKFRBR19OQU1FUy5TVFlMRSwgc3R5bGVUYWdzKVxuICAgIH07XG5cbiAgICB2YXIgYWRkZWRUYWdzID0ge307XG4gICAgdmFyIHJlbW92ZWRUYWdzID0ge307XG5cbiAgICBPYmplY3Qua2V5cyh0YWdVcGRhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWdUeXBlKSB7XG4gICAgICAgIHZhciBfdGFnVXBkYXRlcyR0YWdUeXBlID0gdGFnVXBkYXRlc1t0YWdUeXBlXSxcbiAgICAgICAgICAgIG5ld1RhZ3MgPSBfdGFnVXBkYXRlcyR0YWdUeXBlLm5ld1RhZ3MsXG4gICAgICAgICAgICBvbGRUYWdzID0gX3RhZ1VwZGF0ZXMkdGFnVHlwZS5vbGRUYWdzO1xuXG5cbiAgICAgICAgaWYgKG5ld1RhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRlZFRhZ3NbdGFnVHlwZV0gPSBuZXdUYWdzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRUYWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVtb3ZlZFRhZ3NbdGFnVHlwZV0gPSB0YWdVcGRhdGVzW3RhZ1R5cGVdLm9sZFRhZ3M7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNiICYmIGNiKCk7XG5cbiAgICBvbkNoYW5nZUNsaWVudFN0YXRlKG5ld1N0YXRlLCBhZGRlZFRhZ3MsIHJlbW92ZWRUYWdzKTtcbn07XG5cbnZhciBmbGF0dGVuQXJyYXkgPSBmdW5jdGlvbiBmbGF0dGVuQXJyYXkocG9zc2libGVBcnJheSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBvc3NpYmxlQXJyYXkpID8gcG9zc2libGVBcnJheS5qb2luKFwiXCIpIDogcG9zc2libGVBcnJheTtcbn07XG5cbnZhciB1cGRhdGVUaXRsZSA9IGZ1bmN0aW9uIHVwZGF0ZVRpdGxlKHRpdGxlLCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHR5cGVvZiB0aXRsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC50aXRsZSAhPT0gdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBmbGF0dGVuQXJyYXkodGl0bGUpO1xuICAgIH1cblxuICAgIHVwZGF0ZUF0dHJpYnV0ZXMoVEFHX05BTUVTLlRJVExFLCBhdHRyaWJ1dGVzKTtcbn07XG5cbnZhciB1cGRhdGVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlcyh0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIGVsZW1lbnRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKVswXTtcblxuICAgIGlmICghZWxlbWVudFRhZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGhlbG1ldEF0dHJpYnV0ZVN0cmluZyA9IGVsZW1lbnRUYWcuZ2V0QXR0cmlidXRlKEhFTE1FVF9BVFRSSUJVVEUpO1xuICAgIHZhciBoZWxtZXRBdHRyaWJ1dGVzID0gaGVsbWV0QXR0cmlidXRlU3RyaW5nID8gaGVsbWV0QXR0cmlidXRlU3RyaW5nLnNwbGl0KFwiLFwiKSA6IFtdO1xuICAgIHZhciBhdHRyaWJ1dGVzVG9SZW1vdmUgPSBbXS5jb25jYXQoaGVsbWV0QXR0cmlidXRlcyk7XG4gICAgdmFyIGF0dHJpYnV0ZUtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlS2V5c1tpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVdIHx8IFwiXCI7XG5cbiAgICAgICAgaWYgKGVsZW1lbnRUYWcuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50VGFnLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWxtZXRBdHRyaWJ1dGVzLmluZGV4T2YoYXR0cmlidXRlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGhlbG1ldEF0dHJpYnV0ZXMucHVzaChhdHRyaWJ1dGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4VG9TYXZlID0gYXR0cmlidXRlc1RvUmVtb3ZlLmluZGV4T2YoYXR0cmlidXRlKTtcbiAgICAgICAgaWYgKGluZGV4VG9TYXZlICE9PSAtMSkge1xuICAgICAgICAgICAgYXR0cmlidXRlc1RvUmVtb3ZlLnNwbGljZShpbmRleFRvU2F2ZSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IGF0dHJpYnV0ZXNUb1JlbW92ZS5sZW5ndGggLSAxOyBfaSA+PSAwOyBfaS0tKSB7XG4gICAgICAgIGVsZW1lbnRUYWcucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXNUb1JlbW92ZVtfaV0pO1xuICAgIH1cblxuICAgIGlmIChoZWxtZXRBdHRyaWJ1dGVzLmxlbmd0aCA9PT0gYXR0cmlidXRlc1RvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50VGFnLnJlbW92ZUF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUYWcuZ2V0QXR0cmlidXRlKEhFTE1FVF9BVFRSSUJVVEUpICE9PSBhdHRyaWJ1dGVLZXlzLmpvaW4oXCIsXCIpKSB7XG4gICAgICAgIGVsZW1lbnRUYWcuc2V0QXR0cmlidXRlKEhFTE1FVF9BVFRSSUJVVEUsIGF0dHJpYnV0ZUtleXMuam9pbihcIixcIikpO1xuICAgIH1cbn07XG5cbnZhciB1cGRhdGVUYWdzID0gZnVuY3Rpb24gdXBkYXRlVGFncyh0eXBlLCB0YWdzKSB7XG4gICAgdmFyIGhlYWRFbGVtZW50ID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFRBR19OQU1FUy5IRUFEKTtcbiAgICB2YXIgdGFnTm9kZXMgPSBoZWFkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHR5cGUgKyBcIltcIiArIEhFTE1FVF9BVFRSSUJVVEUgKyBcIl1cIik7XG4gICAgdmFyIG9sZFRhZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0YWdOb2Rlcyk7XG4gICAgdmFyIG5ld1RhZ3MgPSBbXTtcbiAgICB2YXIgaW5kZXhUb0RlbGV0ZSA9IHZvaWQgMDtcblxuICAgIGlmICh0YWdzICYmIHRhZ3MubGVuZ3RoKSB7XG4gICAgICAgIHRhZ3MuZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiB0YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFnLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gVEFHX1BST1BFUlRJRVMuSU5ORVJfSFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSB0YWcuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gVEFHX1BST1BFUlRJRVMuQ1NTX1RFWFQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRhZy5jc3NUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRhZy5jc3NUZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0eXBlb2YgdGFnW2F0dHJpYnV0ZV0gPT09IFwidW5kZWZpbmVkXCIgPyBcIlwiIDogdGFnW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoSEVMTUVUX0FUVFJJQlVURSwgXCJ0cnVlXCIpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgYSBkdXBsaWNhdGUgdGFnIGZyb20gZG9tVGFnc3RvUmVtb3ZlLCBzbyBpdCBpc24ndCBjbGVhcmVkLlxuICAgICAgICAgICAgaWYgKG9sZFRhZ3Muc29tZShmdW5jdGlvbiAoZXhpc3RpbmdUYWcsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaW5kZXhUb0RlbGV0ZSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdFbGVtZW50LmlzRXF1YWxOb2RlKGV4aXN0aW5nVGFnKTtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgb2xkVGFncy5zcGxpY2UoaW5kZXhUb0RlbGV0ZSwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1RhZ3MucHVzaChuZXdFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb2xkVGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgcmV0dXJuIHRhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhZyk7XG4gICAgfSk7XG4gICAgbmV3VGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgcmV0dXJuIGhlYWRFbGVtZW50LmFwcGVuZENoaWxkKHRhZyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvbGRUYWdzOiBvbGRUYWdzLFxuICAgICAgICBuZXdUYWdzOiBuZXdUYWdzXG4gICAgfTtcbn07XG5cbnZhciBnZW5lcmF0ZUVsZW1lbnRBdHRyaWJ1dGVzQXNTdHJpbmcgPSBmdW5jdGlvbiBnZW5lcmF0ZUVsZW1lbnRBdHRyaWJ1dGVzQXNTdHJpbmcoYXR0cmlidXRlcykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5yZWR1Y2UoZnVuY3Rpb24gKHN0ciwga2V5KSB7XG4gICAgICAgIHZhciBhdHRyID0gdHlwZW9mIGF0dHJpYnV0ZXNba2V5XSAhPT0gXCJ1bmRlZmluZWRcIiA/IGtleSArIFwiPVxcXCJcIiArIGF0dHJpYnV0ZXNba2V5XSArIFwiXFxcIlwiIDogXCJcIiArIGtleTtcbiAgICAgICAgcmV0dXJuIHN0ciA/IHN0ciArIFwiIFwiICsgYXR0ciA6IGF0dHI7XG4gICAgfSwgXCJcIik7XG59O1xuXG52YXIgZ2VuZXJhdGVUaXRsZUFzU3RyaW5nID0gZnVuY3Rpb24gZ2VuZXJhdGVUaXRsZUFzU3RyaW5nKHR5cGUsIHRpdGxlLCBhdHRyaWJ1dGVzLCBlbmNvZGUpIHtcbiAgICB2YXIgYXR0cmlidXRlU3RyaW5nID0gZ2VuZXJhdGVFbGVtZW50QXR0cmlidXRlc0FzU3RyaW5nKGF0dHJpYnV0ZXMpO1xuICAgIHZhciBmbGF0dGVuZWRUaXRsZSA9IGZsYXR0ZW5BcnJheSh0aXRsZSk7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVN0cmluZyA/IFwiPFwiICsgdHlwZSArIFwiIFwiICsgSEVMTUVUX0FUVFJJQlVURSArIFwiPVxcXCJ0cnVlXFxcIiBcIiArIGF0dHJpYnV0ZVN0cmluZyArIFwiPlwiICsgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnMoZmxhdHRlbmVkVGl0bGUsIGVuY29kZSkgKyBcIjwvXCIgKyB0eXBlICsgXCI+XCIgOiBcIjxcIiArIHR5cGUgKyBcIiBcIiArIEhFTE1FVF9BVFRSSUJVVEUgKyBcIj1cXFwidHJ1ZVxcXCI+XCIgKyBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVycyhmbGF0dGVuZWRUaXRsZSwgZW5jb2RlKSArIFwiPC9cIiArIHR5cGUgKyBcIj5cIjtcbn07XG5cbnZhciBnZW5lcmF0ZVRhZ3NBc1N0cmluZyA9IGZ1bmN0aW9uIGdlbmVyYXRlVGFnc0FzU3RyaW5nKHR5cGUsIHRhZ3MsIGVuY29kZSkge1xuICAgIHJldHVybiB0YWdzLnJlZHVjZShmdW5jdGlvbiAoc3RyLCB0YWcpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUh0bWwgPSBPYmplY3Qua2V5cyh0YWcpLmZpbHRlcihmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gIShhdHRyaWJ1dGUgPT09IFRBR19QUk9QRVJUSUVTLklOTkVSX0hUTUwgfHwgYXR0cmlidXRlID09PSBUQUdfUFJPUEVSVElFUy5DU1NfVEVYVCk7XG4gICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoc3RyaW5nLCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHZhciBhdHRyID0gdHlwZW9mIHRhZ1thdHRyaWJ1dGVdID09PSBcInVuZGVmaW5lZFwiID8gYXR0cmlidXRlIDogYXR0cmlidXRlICsgXCI9XFxcIlwiICsgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnModGFnW2F0dHJpYnV0ZV0sIGVuY29kZSkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyBzdHJpbmcgKyBcIiBcIiArIGF0dHIgOiBhdHRyO1xuICAgICAgICB9LCBcIlwiKTtcblxuICAgICAgICB2YXIgdGFnQ29udGVudCA9IHRhZy5pbm5lckhUTUwgfHwgdGFnLmNzc1RleHQgfHwgXCJcIjtcblxuICAgICAgICB2YXIgaXNTZWxmQ2xvc2luZyA9IFNFTEZfQ0xPU0lOR19UQUdTLmluZGV4T2YodHlwZSkgPT09IC0xO1xuXG4gICAgICAgIHJldHVybiBzdHIgKyBcIjxcIiArIHR5cGUgKyBcIiBcIiArIEhFTE1FVF9BVFRSSUJVVEUgKyBcIj1cXFwidHJ1ZVxcXCIgXCIgKyBhdHRyaWJ1dGVIdG1sICsgKGlzU2VsZkNsb3NpbmcgPyBcIi8+XCIgOiBcIj5cIiArIHRhZ0NvbnRlbnQgKyBcIjwvXCIgKyB0eXBlICsgXCI+XCIpO1xuICAgIH0sIFwiXCIpO1xufTtcblxudmFyIGNvbnZlcnRFbGVtZW50QXR0cmlidXRlc3RvUmVhY3RQcm9wcyA9IGZ1bmN0aW9uIGNvbnZlcnRFbGVtZW50QXR0cmlidXRlc3RvUmVhY3RQcm9wcyhhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIGluaXRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYXR0cmlidXRlcykucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICBvYmpbUkVBQ1RfVEFHX01BUFtrZXldIHx8IGtleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwgaW5pdFByb3BzKTtcbn07XG5cbnZhciBjb252ZXJ0UmVhY3RQcm9wc3RvSHRtbEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBjb252ZXJ0UmVhY3RQcm9wc3RvSHRtbEF0dHJpYnV0ZXMocHJvcHMpIHtcbiAgICB2YXIgaW5pdEF0dHJpYnV0ZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgIG9ialtIVE1MX1RBR19NQVBba2V5XSB8fCBrZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCBpbml0QXR0cmlidXRlcyk7XG59O1xuXG52YXIgZ2VuZXJhdGVUaXRsZUFzUmVhY3RDb21wb25lbnQgPSBmdW5jdGlvbiBnZW5lcmF0ZVRpdGxlQXNSZWFjdENvbXBvbmVudCh0eXBlLCB0aXRsZSwgYXR0cmlidXRlcykge1xuICAgIHZhciBfaW5pdFByb3BzO1xuXG4gICAgLy8gYXNzaWduaW5nIGludG8gYW4gYXJyYXkgdG8gZGVmaW5lIHRvU3RyaW5nIGZ1bmN0aW9uIG9uIGl0XG4gICAgdmFyIGluaXRQcm9wcyA9IChfaW5pdFByb3BzID0ge1xuICAgICAgICBrZXk6IHRpdGxlXG4gICAgfSwgX2luaXRQcm9wc1tIRUxNRVRfQVRUUklCVVRFXSA9IHRydWUsIF9pbml0UHJvcHMpO1xuICAgIHZhciBwcm9wcyA9IGNvbnZlcnRFbGVtZW50QXR0cmlidXRlc3RvUmVhY3RQcm9wcyhhdHRyaWJ1dGVzLCBpbml0UHJvcHMpO1xuXG4gICAgcmV0dXJuIFtSZWFjdC5jcmVhdGVFbGVtZW50KFRBR19OQU1FUy5USVRMRSwgcHJvcHMsIHRpdGxlKV07XG59O1xuXG52YXIgZ2VuZXJhdGVUYWdzQXNSZWFjdENvbXBvbmVudCA9IGZ1bmN0aW9uIGdlbmVyYXRlVGFnc0FzUmVhY3RDb21wb25lbnQodHlwZSwgdGFncykge1xuICAgIHJldHVybiB0YWdzLm1hcChmdW5jdGlvbiAodGFnLCBpKSB7XG4gICAgICAgIHZhciBfbWFwcGVkVGFnO1xuXG4gICAgICAgIHZhciBtYXBwZWRUYWcgPSAoX21hcHBlZFRhZyA9IHtcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICB9LCBfbWFwcGVkVGFnW0hFTE1FVF9BVFRSSUJVVEVdID0gdHJ1ZSwgX21hcHBlZFRhZyk7XG5cbiAgICAgICAgT2JqZWN0LmtleXModGFnKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRBdHRyaWJ1dGUgPSBSRUFDVF9UQUdfTUFQW2F0dHJpYnV0ZV0gfHwgYXR0cmlidXRlO1xuXG4gICAgICAgICAgICBpZiAobWFwcGVkQXR0cmlidXRlID09PSBUQUdfUFJPUEVSVElFUy5JTk5FUl9IVE1MIHx8IG1hcHBlZEF0dHJpYnV0ZSA9PT0gVEFHX1BST1BFUlRJRVMuQ1NTX1RFWFQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IHRhZy5pbm5lckhUTUwgfHwgdGFnLmNzc1RleHQ7XG4gICAgICAgICAgICAgICAgbWFwcGVkVGFnLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0geyBfX2h0bWw6IGNvbnRlbnQgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFwcGVkVGFnW21hcHBlZEF0dHJpYnV0ZV0gPSB0YWdbYXR0cmlidXRlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQodHlwZSwgbWFwcGVkVGFnKTtcbiAgICB9KTtcbn07XG5cbnZhciBnZXRNZXRob2RzRm9yVGFnID0gZnVuY3Rpb24gZ2V0TWV0aG9kc0ZvclRhZyh0eXBlLCB0YWdzLCBlbmNvZGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBUQUdfTkFNRVMuVElUTEU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvQ29tcG9uZW50OiBmdW5jdGlvbiB0b0NvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlVGl0bGVBc1JlYWN0Q29tcG9uZW50KHR5cGUsIHRhZ3MudGl0bGUsIHRhZ3MudGl0bGVBdHRyaWJ1dGVzLCBlbmNvZGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVUaXRsZUFzU3RyaW5nKHR5cGUsIHRhZ3MudGl0bGUsIHRhZ3MudGl0bGVBdHRyaWJ1dGVzLCBlbmNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgQVRUUklCVVRFX05BTUVTLkJPRFk6XG4gICAgICAgIGNhc2UgQVRUUklCVVRFX05BTUVTLkhUTUw6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvQ29tcG9uZW50OiBmdW5jdGlvbiB0b0NvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRFbGVtZW50QXR0cmlidXRlc3RvUmVhY3RQcm9wcyh0YWdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRWxlbWVudEF0dHJpYnV0ZXNBc1N0cmluZyh0YWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b0NvbXBvbmVudDogZnVuY3Rpb24gdG9Db21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVRhZ3NBc1JlYWN0Q29tcG9uZW50KHR5cGUsIHRhZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVUYWdzQXNTdHJpbmcodHlwZSwgdGFncywgZW5jb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgIH1cbn07XG5cbnZhciBtYXBTdGF0ZU9uU2VydmVyID0gZnVuY3Rpb24gbWFwU3RhdGVPblNlcnZlcihfcmVmKSB7XG4gICAgdmFyIGJhc2VUYWcgPSBfcmVmLmJhc2VUYWcsXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzID0gX3JlZi5ib2R5QXR0cmlidXRlcyxcbiAgICAgICAgZW5jb2RlID0gX3JlZi5lbmNvZGUsXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzID0gX3JlZi5odG1sQXR0cmlidXRlcyxcbiAgICAgICAgbGlua1RhZ3MgPSBfcmVmLmxpbmtUYWdzLFxuICAgICAgICBtZXRhVGFncyA9IF9yZWYubWV0YVRhZ3MsXG4gICAgICAgIG5vc2NyaXB0VGFncyA9IF9yZWYubm9zY3JpcHRUYWdzLFxuICAgICAgICBzY3JpcHRUYWdzID0gX3JlZi5zY3JpcHRUYWdzLFxuICAgICAgICBzdHlsZVRhZ3MgPSBfcmVmLnN0eWxlVGFncyxcbiAgICAgICAgX3JlZiR0aXRsZSA9IF9yZWYudGl0bGUsXG4gICAgICAgIHRpdGxlID0gX3JlZiR0aXRsZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IF9yZWYkdGl0bGUsXG4gICAgICAgIHRpdGxlQXR0cmlidXRlcyA9IF9yZWYudGl0bGVBdHRyaWJ1dGVzO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IGdldE1ldGhvZHNGb3JUYWcoVEFHX05BTUVTLkJBU0UsIGJhc2VUYWcsIGVuY29kZSksXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzOiBnZXRNZXRob2RzRm9yVGFnKEFUVFJJQlVURV9OQU1FUy5CT0RZLCBib2R5QXR0cmlidXRlcywgZW5jb2RlKSxcbiAgICAgICAgaHRtbEF0dHJpYnV0ZXM6IGdldE1ldGhvZHNGb3JUYWcoQVRUUklCVVRFX05BTUVTLkhUTUwsIGh0bWxBdHRyaWJ1dGVzLCBlbmNvZGUpLFxuICAgICAgICBsaW5rOiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5MSU5LLCBsaW5rVGFncywgZW5jb2RlKSxcbiAgICAgICAgbWV0YTogZ2V0TWV0aG9kc0ZvclRhZyhUQUdfTkFNRVMuTUVUQSwgbWV0YVRhZ3MsIGVuY29kZSksXG4gICAgICAgIG5vc2NyaXB0OiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5OT1NDUklQVCwgbm9zY3JpcHRUYWdzLCBlbmNvZGUpLFxuICAgICAgICBzY3JpcHQ6IGdldE1ldGhvZHNGb3JUYWcoVEFHX05BTUVTLlNDUklQVCwgc2NyaXB0VGFncywgZW5jb2RlKSxcbiAgICAgICAgc3R5bGU6IGdldE1ldGhvZHNGb3JUYWcoVEFHX05BTUVTLlNUWUxFLCBzdHlsZVRhZ3MsIGVuY29kZSksXG4gICAgICAgIHRpdGxlOiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5USVRMRSwgeyB0aXRsZTogdGl0bGUsIHRpdGxlQXR0cmlidXRlczogdGl0bGVBdHRyaWJ1dGVzIH0sIGVuY29kZSlcbiAgICB9O1xufTtcblxudmFyIEhlbG1ldCA9IGZ1bmN0aW9uIEhlbG1ldChDb21wb25lbnQpIHtcbiAgICB2YXIgX2NsYXNzLCBfdGVtcDtcblxuICAgIHJldHVybiBfdGVtcCA9IF9jbGFzcyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgICAgIGluaGVyaXRzKEhlbG1ldFdyYXBwZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEhlbG1ldFdyYXBwZXIoKSB7XG4gICAgICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBIZWxtZXRXcmFwcGVyKTtcbiAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzRXF1YWwodGhpcy5wcm9wcywgbmV4dFByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS5tYXBOZXN0ZWRDaGlsZHJlblRvUHJvcHMgPSBmdW5jdGlvbiBtYXBOZXN0ZWRDaGlsZHJlblRvUHJvcHMoY2hpbGQsIG5lc3RlZENoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIW5lc3RlZENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoY2hpbGQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLlNDUklQVDpcbiAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5OT1NDUklQVDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVySFRNTDogbmVzdGVkQ2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLlNUWUxFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dDogbmVzdGVkQ2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPFwiICsgY2hpbGQudHlwZSArIFwiIC8+IGVsZW1lbnRzIGFyZSBzZWxmLWNsb3NpbmcgYW5kIGNhbiBub3QgY29udGFpbiBjaGlsZHJlbi4gUmVmZXIgdG8gb3VyIEFQSSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgSGVsbWV0V3JhcHBlci5wcm90b3R5cGUuZmxhdHRlbkFycmF5VHlwZUNoaWxkcmVuID0gZnVuY3Rpb24gZmxhdHRlbkFycmF5VHlwZUNoaWxkcmVuKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBfYmFiZWxIZWxwZXJzJGV4dGVuZHM7XG5cbiAgICAgICAgICAgIHZhciBjaGlsZCA9IF9yZWYuY2hpbGQsXG4gICAgICAgICAgICAgICAgYXJyYXlUeXBlQ2hpbGRyZW4gPSBfcmVmLmFycmF5VHlwZUNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkUHJvcHMgPSBfcmVmLm5ld0NoaWxkUHJvcHMsXG4gICAgICAgICAgICAgICAgbmVzdGVkQ2hpbGRyZW4gPSBfcmVmLm5lc3RlZENoaWxkcmVuO1xuXG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGFycmF5VHlwZUNoaWxkcmVuLCAoX2JhYmVsSGVscGVycyRleHRlbmRzID0ge30sIF9iYWJlbEhlbHBlcnMkZXh0ZW5kc1tjaGlsZC50eXBlXSA9IFtdLmNvbmNhdChhcnJheVR5cGVDaGlsZHJlbltjaGlsZC50eXBlXSB8fCBbXSwgW19leHRlbmRzKHt9LCBuZXdDaGlsZFByb3BzLCB0aGlzLm1hcE5lc3RlZENoaWxkcmVuVG9Qcm9wcyhjaGlsZCwgbmVzdGVkQ2hpbGRyZW4pKV0pLCBfYmFiZWxIZWxwZXJzJGV4dGVuZHMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS5tYXBPYmplY3RUeXBlQ2hpbGRyZW4gPSBmdW5jdGlvbiBtYXBPYmplY3RUeXBlQ2hpbGRyZW4oX3JlZjIpIHtcbiAgICAgICAgICAgIHZhciBfYmFiZWxIZWxwZXJzJGV4dGVuZHMyLCBfYmFiZWxIZWxwZXJzJGV4dGVuZHMzO1xuXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBfcmVmMi5jaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdQcm9wcyA9IF9yZWYyLm5ld1Byb3BzLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkUHJvcHMgPSBfcmVmMi5uZXdDaGlsZFByb3BzLFxuICAgICAgICAgICAgICAgIG5lc3RlZENoaWxkcmVuID0gX3JlZjIubmVzdGVkQ2hpbGRyZW47XG5cbiAgICAgICAgICAgIHN3aXRjaCAoY2hpbGQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLlRJVExFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG5ld1Byb3BzLCAoX2JhYmVsSGVscGVycyRleHRlbmRzMiA9IHt9LCBfYmFiZWxIZWxwZXJzJGV4dGVuZHMyW2NoaWxkLnR5cGVdID0gbmVzdGVkQ2hpbGRyZW4sIF9iYWJlbEhlbHBlcnMkZXh0ZW5kczIudGl0bGVBdHRyaWJ1dGVzID0gX2V4dGVuZHMoe30sIG5ld0NoaWxkUHJvcHMpLCBfYmFiZWxIZWxwZXJzJGV4dGVuZHMyKSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5CT0RZOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG5ld1Byb3BzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QXR0cmlidXRlczogX2V4dGVuZHMoe30sIG5ld0NoaWxkUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuSFRNTDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXdQcm9wcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEF0dHJpYnV0ZXM6IF9leHRlbmRzKHt9LCBuZXdDaGlsZFByb3BzKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXdQcm9wcywgKF9iYWJlbEhlbHBlcnMkZXh0ZW5kczMgPSB7fSwgX2JhYmVsSGVscGVycyRleHRlbmRzM1tjaGlsZC50eXBlXSA9IF9leHRlbmRzKHt9LCBuZXdDaGlsZFByb3BzKSwgX2JhYmVsSGVscGVycyRleHRlbmRzMykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIEhlbG1ldFdyYXBwZXIucHJvdG90eXBlLm1hcEFycmF5VHlwZUNoaWxkcmVuVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcEFycmF5VHlwZUNoaWxkcmVuVG9Qcm9wcyhhcnJheVR5cGVDaGlsZHJlbiwgbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBuZXdGbGF0dGVuZWRQcm9wcyA9IF9leHRlbmRzKHt9LCBuZXdQcm9wcyk7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGFycmF5VHlwZUNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChhcnJheUNoaWxkTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYmFiZWxIZWxwZXJzJGV4dGVuZHM0O1xuXG4gICAgICAgICAgICAgICAgbmV3RmxhdHRlbmVkUHJvcHMgPSBfZXh0ZW5kcyh7fSwgbmV3RmxhdHRlbmVkUHJvcHMsIChfYmFiZWxIZWxwZXJzJGV4dGVuZHM0ID0ge30sIF9iYWJlbEhlbHBlcnMkZXh0ZW5kczRbYXJyYXlDaGlsZE5hbWVdID0gYXJyYXlUeXBlQ2hpbGRyZW5bYXJyYXlDaGlsZE5hbWVdLCBfYmFiZWxIZWxwZXJzJGV4dGVuZHM0KSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ld0ZsYXR0ZW5lZFByb3BzO1xuICAgICAgICB9O1xuXG4gICAgICAgIEhlbG1ldFdyYXBwZXIucHJvdG90eXBlLndhcm5PbkludmFsaWRDaGlsZHJlbiA9IGZ1bmN0aW9uIHdhcm5PbkludmFsaWRDaGlsZHJlbihjaGlsZCwgbmVzdGVkQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIVZBTElEX1RBR19OQU1FUy5zb21lKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC50eXBlID09PSBuYW1lO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGQudHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2FybihcIllvdSBtYXkgYmUgYXR0ZW1wdGluZyB0byBuZXN0IDxIZWxtZXQ+IGNvbXBvbmVudHMgd2l0aGluIGVhY2ggb3RoZXIsIHdoaWNoIGlzIG5vdCBhbGxvd2VkLiBSZWZlciB0byBvdXIgQVBJIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXJuKFwiT25seSBlbGVtZW50cyB0eXBlcyBcIiArIFZBTElEX1RBR19OQU1FUy5qb2luKFwiLCBcIikgKyBcIiBhcmUgYWxsb3dlZC4gSGVsbWV0IGRvZXMgbm90IHN1cHBvcnQgcmVuZGVyaW5nIDxcIiArIGNoaWxkLnR5cGUgKyBcIj4gZWxlbWVudHMuIFJlZmVyIHRvIG91ciBBUEkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRDaGlsZHJlbiAmJiB0eXBlb2YgbmVzdGVkQ2hpbGRyZW4gIT09IFwic3RyaW5nXCIgJiYgKCFBcnJheS5pc0FycmF5KG5lc3RlZENoaWxkcmVuKSB8fCBuZXN0ZWRDaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChuZXN0ZWRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIG5lc3RlZENoaWxkICE9PSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgIH0pKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWxtZXQgZXhwZWN0cyBhIHN0cmluZyBhcyBhIGNoaWxkIG9mIDxcIiArIGNoaWxkLnR5cGUgKyBcIj4uIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBjaGlsZHJlbiBpbiBicmFjZXM/ICggPFwiICsgY2hpbGQudHlwZSArIFwiPntgYH08L1wiICsgY2hpbGQudHlwZSArIFwiPiApIFJlZmVyIHRvIG91ciBBUEkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgSGVsbWV0V3JhcHBlci5wcm90b3R5cGUubWFwQ2hpbGRyZW5Ub1Byb3BzID0gZnVuY3Rpb24gbWFwQ2hpbGRyZW5Ub1Byb3BzKGNoaWxkcmVuLCBuZXdQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBhcnJheVR5cGVDaGlsZHJlbiA9IHt9O1xuXG4gICAgICAgICAgICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIF9jaGlsZCRwcm9wcyA9IGNoaWxkLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRDaGlsZHJlbiA9IF9jaGlsZCRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRQcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9jaGlsZCRwcm9wcywgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkUHJvcHMgPSBjb252ZXJ0UmVhY3RQcm9wc3RvSHRtbEF0dHJpYnV0ZXMoY2hpbGRQcm9wcyk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczIud2Fybk9uSW52YWxpZENoaWxkcmVuKGNoaWxkLCBuZXN0ZWRDaGlsZHJlbik7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoaWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuTElOSzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuTUVUQTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuTk9TQ1JJUFQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLlNDUklQVDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuU1RZTEU6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheVR5cGVDaGlsZHJlbiA9IF90aGlzMi5mbGF0dGVuQXJyYXlUeXBlQ2hpbGRyZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVR5cGVDaGlsZHJlbjogYXJyYXlUeXBlQ2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRQcm9wczogbmV3Q2hpbGRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXN0ZWRDaGlsZHJlbjogbmVzdGVkQ2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzID0gX3RoaXMyLm1hcE9iamVjdFR5cGVDaGlsZHJlbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IGNoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzOiBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZFByb3BzOiBuZXdDaGlsZFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZENoaWxkcmVuOiBuZXN0ZWRDaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbmV3UHJvcHMgPSB0aGlzLm1hcEFycmF5VHlwZUNoaWxkcmVuVG9Qcm9wcyhhcnJheVR5cGVDaGlsZHJlbiwgbmV3UHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Byb3BzO1xuICAgICAgICB9O1xuXG4gICAgICAgIEhlbG1ldFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHByb3BzID0gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbXCJjaGlsZHJlblwiXSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IF9leHRlbmRzKHt9LCBwcm9wcyk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIG5ld1Byb3BzID0gdGhpcy5tYXBDaGlsZHJlblRvUHJvcHMoY2hpbGRyZW4sIG5ld1Byb3BzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBuZXdQcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY3JlYXRlQ2xhc3MoSGVsbWV0V3JhcHBlciwgbnVsbCwgW3tcbiAgICAgICAgICAgIGtleTogXCJjYW5Vc2VET01cIixcblxuXG4gICAgICAgICAgICAvLyBDb21wb25lbnQucGVlayBjb21lcyBmcm9tIHJlYWN0LXNpZGUtZWZmZWN0OlxuICAgICAgICAgICAgLy8gRm9yIHRlc3RpbmcsIHlvdSBtYXkgdXNlIGEgc3RhdGljIHBlZWsoKSBtZXRob2QgYXZhaWxhYmxlIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQuXG4gICAgICAgICAgICAvLyBJdCBsZXRzIHlvdSBnZXQgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aG91dCByZXNldHRpbmcgdGhlIG1vdW50ZWQgaW5zdGFuY2Ugc3RhY2suXG4gICAgICAgICAgICAvLyBEb27igJl0IHVzZSBpdCBmb3IgYW55dGhpbmcgb3RoZXIgdGhhbiB0ZXN0aW5nLlxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBiYXNlOiB7XCJ0YXJnZXRcIjogXCJfYmxhbmtcIiwgXCJocmVmXCI6IFwiaHR0cDovL215c2l0ZS5jb20vXCJ9XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gYm9keUF0dHJpYnV0ZXM6IHtcImNsYXNzTmFtZVwiOiBcInJvb3RcIn1cbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWZhdWx0VGl0bGU6IFwiRGVmYXVsdCBUaXRsZVwiXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlZmVyOiB0cnVlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzOiB0cnVlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaHRtbEF0dHJpYnV0ZXM6IHtcImxhbmdcIjogXCJlblwiLCBcImFtcFwiOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBsaW5rOiBbe1wicmVsXCI6IFwiY2Fub25pY2FsXCIsIFwiaHJlZlwiOiBcImh0dHA6Ly9teXNpdGUuY29tL2V4YW1wbGVcIn1dXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBtZXRhOiBbe1wibmFtZVwiOiBcImRlc2NyaXB0aW9uXCIsIFwiY29udGVudFwiOiBcIlRlc3QgZGVzY3JpcHRpb25cIn1dXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBub3NjcmlwdDogW3tcImlubmVySFRNTFwiOiBcIjxpbWcgc3JjPSdodHRwOi8vbXlzaXRlLmNvbS9qcy90ZXN0LmpzJ1wifV1cbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQ2hhbmdlQ2xpZW50U3RhdGU6IFwiKG5ld1N0YXRlKSA9PiBjb25zb2xlLmxvZyhuZXdTdGF0ZSlcIlxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gc2NyaXB0OiBbe1widHlwZVwiOiBcInRleHQvamF2YXNjcmlwdFwiLCBcInNyY1wiOiBcImh0dHA6Ly9teXNpdGUuY29tL2pzL3Rlc3QuanNcIn1dXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBzdHlsZTogW3tcInR5cGVcIjogXCJ0ZXh0L2Nzc1wiLCBcImNzc1RleHRcIjogXCJkaXYgeyBkaXNwbGF5OiBibG9jazsgY29sb3I6IGJsdWU7IH1cIn1dXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGU6IFwiVGl0bGVcIlxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRpdGxlQXR0cmlidXRlczoge1wiaXRlbXByb3BcIjogXCJuYW1lXCJ9XG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGVUZW1wbGF0ZTogXCJNeVNpdGUuY29tIC0gJXNcIlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMShjYW5Vc2VET00pIHtcbiAgICAgICAgICAgICAgICBDb21wb25lbnQuY2FuVXNlRE9NID0gY2FuVXNlRE9NO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG4gICAgICAgIHJldHVybiBIZWxtZXRXcmFwcGVyO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KSwgX2NsYXNzLnByb3BUeXBlcyA9IHtcbiAgICAgICAgYmFzZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgYm9keUF0dHJpYnV0ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSksIFByb3BUeXBlcy5ub2RlXSksXG4gICAgICAgIGRlZmF1bHRUaXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGVmZXI6IFByb3BUeXBlcy5ib29sLFxuICAgICAgICBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyczogUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICBsaW5rOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgICAgICAgbWV0YTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIG5vc2NyaXB0OiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgICAgICAgb25DaGFuZ2VDbGllbnRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIHNjcmlwdDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIHN0eWxlOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgICAgICAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHRpdGxlQXR0cmlidXRlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgdGl0bGVUZW1wbGF0ZTogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0sIF9jbGFzcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyczogdHJ1ZVxuICAgIH0sIF9jbGFzcy5wZWVrID0gQ29tcG9uZW50LnBlZWssIF9jbGFzcy5yZXdpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IENvbXBvbmVudC5yZXdpbmQoKTtcbiAgICAgICAgaWYgKCFtYXBwZWRTdGF0ZSkge1xuICAgICAgICAgICAgLy8gcHJvdmlkZSBmYWxsYmFjayBpZiBtYXBwZWRTdGF0ZSBpcyB1bmRlZmluZWRcbiAgICAgICAgICAgIG1hcHBlZFN0YXRlID0gbWFwU3RhdGVPblNlcnZlcih7XG4gICAgICAgICAgICAgICAgYmFzZVRhZzogW10sXG4gICAgICAgICAgICAgICAgYm9keUF0dHJpYnV0ZXM6IHt9LFxuICAgICAgICAgICAgICAgIGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGh0bWxBdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgICAgICAgICBsaW5rVGFnczogW10sXG4gICAgICAgICAgICAgICAgbWV0YVRhZ3M6IFtdLFxuICAgICAgICAgICAgICAgIG5vc2NyaXB0VGFnczogW10sXG4gICAgICAgICAgICAgICAgc2NyaXB0VGFnczogW10sXG4gICAgICAgICAgICAgICAgc3R5bGVUYWdzOiBbXSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgICAgICB0aXRsZUF0dHJpYnV0ZXM6IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBwZWRTdGF0ZTtcbiAgICB9LCBfdGVtcDtcbn07XG5cbnZhciBOdWxsQ29tcG9uZW50ID0gZnVuY3Rpb24gTnVsbENvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBIZWxtZXRTaWRlRWZmZWN0cyA9IHdpdGhTaWRlRWZmZWN0KHJlZHVjZVByb3BzVG9TdGF0ZSwgaGFuZGxlQ2xpZW50U3RhdGVDaGFuZ2UsIG1hcFN0YXRlT25TZXJ2ZXIpKE51bGxDb21wb25lbnQpO1xuXG52YXIgSGVsbWV0RXhwb3J0ID0gSGVsbWV0KEhlbG1ldFNpZGVFZmZlY3RzKTtcbkhlbG1ldEV4cG9ydC5yZW5kZXJTdGF0aWMgPSBIZWxtZXRFeHBvcnQucmV3aW5kO1xuXG5leHBvcnQgZGVmYXVsdCBIZWxtZXRFeHBvcnQ7XG5leHBvcnQgeyBIZWxtZXRFeHBvcnQgYXMgSGVsbWV0IH07XG4iLCIvL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCLCBjb21wYXJlLCBjb21wYXJlQ29udGV4dCkge1xuICB2YXIgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgb2JqQSwgb2JqQikgOiB2b2lkIDA7XG5cbiAgaWYgKHJldCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuICEhcmV0O1xuICB9XG5cbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQSB8fCB0eXBlb2Ygb2JqQiAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgYkhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5iaW5kKG9iakIpO1xuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGtleXNBLmxlbmd0aDsgaWR4KyspIHtcbiAgICB2YXIga2V5ID0ga2V5c0FbaWR4XTtcblxuICAgIGlmICghYkhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVBID0gb2JqQVtrZXldO1xuICAgIHZhciB2YWx1ZUIgPSBvYmpCW2tleV07XG5cbiAgICByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCB2YWx1ZUEsIHZhbHVlQiwga2V5KSA6IHZvaWQgMDtcblxuICAgIGlmIChyZXQgPT09IGZhbHNlIHx8IChyZXQgPT09IHZvaWQgMCAmJiB2YWx1ZUEgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4iLCJmdW5jdGlvbiBzdHlsaXNfbWluIChXKSB7XG4gIGZ1bmN0aW9uIE0oZCwgYywgZSwgaCwgYSkge1xuICAgIGZvciAodmFyIG0gPSAwLCBiID0gMCwgdiA9IDAsIG4gPSAwLCBxLCBnLCB4ID0gMCwgSyA9IDAsIGssIHUgPSBrID0gcSA9IDAsIGwgPSAwLCByID0gMCwgSSA9IDAsIHQgPSAwLCBCID0gZS5sZW5ndGgsIEogPSBCIC0gMSwgeSwgZiA9ICcnLCBwID0gJycsIEYgPSAnJywgRyA9ICcnLCBDOyBsIDwgQjspIHtcbiAgICAgIGcgPSBlLmNoYXJDb2RlQXQobCk7XG4gICAgICBsID09PSBKICYmIDAgIT09IGIgKyBuICsgdiArIG0gJiYgKDAgIT09IGIgJiYgKGcgPSA0NyA9PT0gYiA/IDEwIDogNDcpLCBuID0gdiA9IG0gPSAwLCBCKyssIEorKyk7XG5cbiAgICAgIGlmICgwID09PSBiICsgbiArIHYgKyBtKSB7XG4gICAgICAgIGlmIChsID09PSBKICYmICgwIDwgciAmJiAoZiA9IGYucmVwbGFjZShOLCAnJykpLCAwIDwgZi50cmltKCkubGVuZ3RoKSkge1xuICAgICAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIGNhc2UgNTk6XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGYgKz0gZS5jaGFyQXQobCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZyA9IDU5O1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChnKSB7XG4gICAgICAgICAgY2FzZSAxMjM6XG4gICAgICAgICAgICBmID0gZi50cmltKCk7XG4gICAgICAgICAgICBxID0gZi5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgayA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodCA9ICsrbDsgbCA8IEI7KSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZyA9IGUuY2hhckNvZGVBdChsKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTIzOlxuICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZyA9IGUuY2hhckNvZGVBdChsICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHUgPSBsICsgMTsgdSA8IEo7ICsrdSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUuY2hhckNvZGVBdCh1KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNDIgPT09IGcgJiYgNDIgPT09IGUuY2hhckNvZGVBdCh1IC0gMSkgJiYgbCArIDIgIT09IHUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHUgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoNDcgPT09IGcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHUgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICAgICAgICAgIGcrKztcblxuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICBnKys7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICBmb3IgKDsgbCsrIDwgSiAmJiBlLmNoYXJDb2RlQXQobCkgIT09IGc7KSB7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgwID09PSBrKSBicmVhaztcbiAgICAgICAgICAgICAgbCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBrID0gZS5zdWJzdHJpbmcodCwgbCk7XG4gICAgICAgICAgICAwID09PSBxICYmIChxID0gKGYgPSBmLnJlcGxhY2UoY2EsICcnKS50cmltKCkpLmNoYXJDb2RlQXQoMCkpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHEpIHtcbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICAwIDwgciAmJiAoZiA9IGYucmVwbGFjZShOLCAnJykpO1xuICAgICAgICAgICAgICAgIGcgPSBmLmNoYXJDb2RlQXQoMSk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTAwOlxuICAgICAgICAgICAgICAgICAgY2FzZSAxMDk6XG4gICAgICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBjO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgciA9IE87XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgayA9IE0oYywgciwgaywgZywgYSArIDEpO1xuICAgICAgICAgICAgICAgIHQgPSBrLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAwIDwgQSAmJiAociA9IFgoTywgZiwgSSksIEMgPSBIKDMsIGssIHIsIGMsIEQsIHosIHQsIGcsIGEsIGgpLCBmID0gci5qb2luKCcnKSwgdm9pZCAwICE9PSBDICYmIDAgPT09ICh0ID0gKGsgPSBDLnRyaW0oKSkubGVuZ3RoKSAmJiAoZyA9IDAsIGsgPSAnJykpO1xuICAgICAgICAgICAgICAgIGlmICgwIDwgdCkgc3dpdGNoIChnKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICAgICAgZiA9IGYucmVwbGFjZShkYSwgZWEpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA5OlxuICAgICAgICAgICAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICAgICAgICAgICAgayA9IGYgKyAneycgKyBrICsgJ30nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxMDc6XG4gICAgICAgICAgICAgICAgICAgIGYgPSBmLnJlcGxhY2UoZmEsICckMSAkMicpO1xuICAgICAgICAgICAgICAgICAgICBrID0gZiArICd7JyArIGsgKyAnfSc7XG4gICAgICAgICAgICAgICAgICAgIGsgPSAxID09PSB3IHx8IDIgPT09IHcgJiYgTCgnQCcgKyBrLCAzKSA/ICdALXdlYmtpdC0nICsgayArICdAJyArIGsgOiAnQCcgKyBrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgayA9IGYgKyBrLCAxMTIgPT09IGggJiYgKGsgPSAocCArPSBrLCAnJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBrID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBrID0gTShjLCBYKGMsIGYsIEkpLCBrLCBoLCBhICsgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEYgKz0gaztcbiAgICAgICAgICAgIGsgPSBJID0gciA9IHUgPSBxID0gMDtcbiAgICAgICAgICAgIGYgPSAnJztcbiAgICAgICAgICAgIGcgPSBlLmNoYXJDb2RlQXQoKytsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxMjU6XG4gICAgICAgICAgY2FzZSA1OTpcbiAgICAgICAgICAgIGYgPSAoMCA8IHIgPyBmLnJlcGxhY2UoTiwgJycpIDogZikudHJpbSgpO1xuICAgICAgICAgICAgaWYgKDEgPCAodCA9IGYubGVuZ3RoKSkgc3dpdGNoICgwID09PSB1ICYmIChxID0gZi5jaGFyQ29kZUF0KDApLCA0NSA9PT0gcSB8fCA5NiA8IHEgJiYgMTIzID4gcSkgJiYgKHQgPSAoZiA9IGYucmVwbGFjZSgnICcsICc6JykpLmxlbmd0aCksIDAgPCBBICYmIHZvaWQgMCAhPT0gKEMgPSBIKDEsIGYsIGMsIGQsIEQsIHosIHAubGVuZ3RoLCBoLCBhLCBoKSkgJiYgMCA9PT0gKHQgPSAoZiA9IEMudHJpbSgpKS5sZW5ndGgpICYmIChmID0gJ1xceDAwXFx4MDAnKSwgcSA9IGYuY2hhckNvZGVBdCgwKSwgZyA9IGYuY2hhckNvZGVBdCgxKSwgcSkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICBpZiAoMTA1ID09PSBnIHx8IDk5ID09PSBnKSB7XG4gICAgICAgICAgICAgICAgICBHICs9IGYgKyBlLmNoYXJBdChsKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIDU4ICE9PSBmLmNoYXJDb2RlQXQodCAtIDEpICYmIChwICs9IFAoZiwgcSwgZywgZi5jaGFyQ29kZUF0KDIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBJID0gciA9IHUgPSBxID0gMDtcbiAgICAgICAgICAgIGYgPSAnJztcbiAgICAgICAgICAgIGcgPSBlLmNoYXJDb2RlQXQoKytsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGcpIHtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICA0NyA9PT0gYiA/IGIgPSAwIDogMCA9PT0gMSArIHEgJiYgMTA3ICE9PSBoICYmIDAgPCBmLmxlbmd0aCAmJiAociA9IDEsIGYgKz0gJ1xceDAwJyk7XG4gICAgICAgICAgMCA8IEEgKiBZICYmIEgoMCwgZiwgYywgZCwgRCwgeiwgcC5sZW5ndGgsIGgsIGEsIGgpO1xuICAgICAgICAgIHogPSAxO1xuICAgICAgICAgIEQrKztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDU5OlxuICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICBpZiAoMCA9PT0gYiArIG4gKyB2ICsgbSkge1xuICAgICAgICAgICAgeisrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgeisrO1xuICAgICAgICAgIHkgPSBlLmNoYXJBdChsKTtcblxuICAgICAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IG4gKyBtICsgYikgc3dpdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgeSA9ICcnO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgMzIgIT09IGcgJiYgKHkgPSAnICcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHkgPSAnXFxcXDAnO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgeSA9ICdcXFxcZic7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICB5ID0gJ1xcXFx2JztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgIDAgPT09IG4gKyBiICsgbSAmJiAociA9IEkgPSAxLCB5ID0gJ1xcZicgKyB5KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTA4OlxuICAgICAgICAgICAgICBpZiAoMCA9PT0gbiArIGIgKyBtICsgRSAmJiAwIDwgdSkgc3dpdGNoIChsIC0gdSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgIDExMiA9PT0geCAmJiA1OCA9PT0gZS5jaGFyQ29kZUF0KGwgLSAzKSAmJiAoRSA9IHgpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgMTExID09PSBLICYmIChFID0gSyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNTg6XG4gICAgICAgICAgICAgIDAgPT09IG4gKyBiICsgbSAmJiAodSA9IGwpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICAgICAgMCA9PT0gYiArIHYgKyBuICsgbSAmJiAociA9IDEsIHkgKz0gJ1xccicpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgIDAgPT09IGIgJiYgKG4gPSBuID09PSBnID8gMCA6IDAgPT09IG4gPyBnIDogbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDkxOlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIHYgJiYgbSsrO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA5MzpcbiAgICAgICAgICAgICAgMCA9PT0gbiArIGIgKyB2ICYmIG0tLTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgIDAgPT09IG4gKyBiICsgbSAmJiB2LS07XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICBpZiAoMCA9PT0gbiArIGIgKyBtKSB7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHEpIHN3aXRjaCAoMiAqIHggKyAzICogSykge1xuICAgICAgICAgICAgICAgICAgY2FzZSA1MzM6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBxID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdisrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgIDAgPT09IGIgKyB2ICsgbiArIG0gKyB1ICsgayAmJiAoayA9IDEpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgIGlmICghKDAgPCBuICsgbSArIHYpKSBzd2l0Y2ggKGIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKDIgKiBnICsgMyAqIGUuY2hhckNvZGVBdChsICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzU6XG4gICAgICAgICAgICAgICAgICAgICAgYiA9IDQ3O1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjIwOlxuICAgICAgICAgICAgICAgICAgICAgIHQgPSBsLCBiID0gNDI7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgICAgICAgIDQ3ID09PSBnICYmIDQyID09PSB4ICYmIHQgKyAyICE9PSBsICYmICgzMyA9PT0gZS5jaGFyQ29kZUF0KHQgKyAyKSAmJiAocCArPSBlLnN1YnN0cmluZyh0LCBsICsgMSkpLCB5ID0gJycsIGIgPSAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIDAgPT09IGIgJiYgKGYgKz0geSk7XG4gICAgICB9XG5cbiAgICAgIEsgPSB4O1xuICAgICAgeCA9IGc7XG4gICAgICBsKys7XG4gICAgfVxuXG4gICAgdCA9IHAubGVuZ3RoO1xuXG4gICAgaWYgKDAgPCB0KSB7XG4gICAgICByID0gYztcbiAgICAgIGlmICgwIDwgQSAmJiAoQyA9IEgoMiwgcCwgciwgZCwgRCwgeiwgdCwgaCwgYSwgaCksIHZvaWQgMCAhPT0gQyAmJiAwID09PSAocCA9IEMpLmxlbmd0aCkpIHJldHVybiBHICsgcCArIEY7XG4gICAgICBwID0gci5qb2luKCcsJykgKyAneycgKyBwICsgJ30nO1xuXG4gICAgICBpZiAoMCAhPT0gdyAqIEUpIHtcbiAgICAgICAgMiAhPT0gdyB8fCBMKHAsIDIpIHx8IChFID0gMCk7XG5cbiAgICAgICAgc3dpdGNoIChFKSB7XG4gICAgICAgICAgY2FzZSAxMTE6XG4gICAgICAgICAgICBwID0gcC5yZXBsYWNlKGhhLCAnOi1tb3otJDEnKSArIHA7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTEyOlxuICAgICAgICAgICAgcCA9IHAucmVwbGFjZShRLCAnOjotd2Via2l0LWlucHV0LSQxJykgKyBwLnJlcGxhY2UoUSwgJzo6LW1vei0kMScpICsgcC5yZXBsYWNlKFEsICc6LW1zLWlucHV0LSQxJykgKyBwO1xuICAgICAgICB9XG5cbiAgICAgICAgRSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEcgKyBwICsgRjtcbiAgfVxuXG4gIGZ1bmN0aW9uIFgoZCwgYywgZSkge1xuICAgIHZhciBoID0gYy50cmltKCkuc3BsaXQoaWEpO1xuICAgIGMgPSBoO1xuICAgIHZhciBhID0gaC5sZW5ndGgsXG4gICAgICAgIG0gPSBkLmxlbmd0aDtcblxuICAgIHN3aXRjaCAobSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgY2FzZSAxOlxuICAgICAgICB2YXIgYiA9IDA7XG5cbiAgICAgICAgZm9yIChkID0gMCA9PT0gbSA/ICcnIDogZFswXSArICcgJzsgYiA8IGE7ICsrYikge1xuICAgICAgICAgIGNbYl0gPSBaKGQsIGNbYl0sIGUpLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgdiA9IGIgPSAwO1xuXG4gICAgICAgIGZvciAoYyA9IFtdOyBiIDwgYTsgKytiKSB7XG4gICAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBtOyArK24pIHtcbiAgICAgICAgICAgIGNbdisrXSA9IFooZFtuXSArICcgJywgaFtiXSwgZSkudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiBaKGQsIGMsIGUpIHtcbiAgICB2YXIgaCA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAzMyA+IGggJiYgKGggPSAoYyA9IGMudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtcblxuICAgIHN3aXRjaCAoaCkge1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgcmV0dXJuIGMucmVwbGFjZShGLCAnJDEnICsgZC50cmltKCkpO1xuXG4gICAgICBjYXNlIDU4OlxuICAgICAgICByZXR1cm4gZC50cmltKCkgKyBjLnJlcGxhY2UoRiwgJyQxJyArIGQudHJpbSgpKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKDAgPCAxICogZSAmJiAwIDwgYy5pbmRleE9mKCdcXGYnKSkgcmV0dXJuIGMucmVwbGFjZShGLCAoNTggPT09IGQuY2hhckNvZGVBdCgwKSA/ICcnIDogJyQxJykgKyBkLnRyaW0oKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGQgKyBjO1xuICB9XG5cbiAgZnVuY3Rpb24gUChkLCBjLCBlLCBoKSB7XG4gICAgdmFyIGEgPSBkICsgJzsnLFxuICAgICAgICBtID0gMiAqIGMgKyAzICogZSArIDQgKiBoO1xuXG4gICAgaWYgKDk0NCA9PT0gbSkge1xuICAgICAgZCA9IGEuaW5kZXhPZignOicsIDkpICsgMTtcbiAgICAgIHZhciBiID0gYS5zdWJzdHJpbmcoZCwgYS5sZW5ndGggLSAxKS50cmltKCk7XG4gICAgICBiID0gYS5zdWJzdHJpbmcoMCwgZCkudHJpbSgpICsgYiArICc7JztcbiAgICAgIHJldHVybiAxID09PSB3IHx8IDIgPT09IHcgJiYgTChiLCAxKSA/ICctd2Via2l0LScgKyBiICsgYiA6IGI7XG4gICAgfVxuXG4gICAgaWYgKDAgPT09IHcgfHwgMiA9PT0gdyAmJiAhTChhLCAxKSkgcmV0dXJuIGE7XG5cbiAgICBzd2l0Y2ggKG0pIHtcbiAgICAgIGNhc2UgMTAxNTpcbiAgICAgICAgcmV0dXJuIDk3ID09PSBhLmNoYXJDb2RlQXQoMTApID8gJy13ZWJraXQtJyArIGEgKyBhIDogYTtcblxuICAgICAgY2FzZSA5NTE6XG4gICAgICAgIHJldHVybiAxMTYgPT09IGEuY2hhckNvZGVBdCgzKSA/ICctd2Via2l0LScgKyBhICsgYSA6IGE7XG5cbiAgICAgIGNhc2UgOTYzOlxuICAgICAgICByZXR1cm4gMTEwID09PSBhLmNoYXJDb2RlQXQoNSkgPyAnLXdlYmtpdC0nICsgYSArIGEgOiBhO1xuXG4gICAgICBjYXNlIDEwMDk6XG4gICAgICAgIGlmICgxMDAgIT09IGEuY2hhckNvZGVBdCg0KSkgYnJlYWs7XG5cbiAgICAgIGNhc2UgOTY5OlxuICAgICAgY2FzZSA5NDI6XG4gICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArIGE7XG5cbiAgICAgIGNhc2UgOTc4OlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1vei0nICsgYSArIGE7XG5cbiAgICAgIGNhc2UgMTAxOTpcbiAgICAgIGNhc2UgOTgzOlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1vei0nICsgYSArICctbXMtJyArIGEgKyBhO1xuXG4gICAgICBjYXNlIDg4MzpcbiAgICAgICAgaWYgKDQ1ID09PSBhLmNoYXJDb2RlQXQoOCkpIHJldHVybiAnLXdlYmtpdC0nICsgYSArIGE7XG4gICAgICAgIGlmICgwIDwgYS5pbmRleE9mKCdpbWFnZS1zZXQoJywgMTEpKSByZXR1cm4gYS5yZXBsYWNlKGphLCAnJDEtd2Via2l0LSQyJykgKyBhO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA5MzI6XG4gICAgICAgIGlmICg0NSA9PT0gYS5jaGFyQ29kZUF0KDQpKSBzd2l0Y2ggKGEuY2hhckNvZGVBdCg1KSkge1xuICAgICAgICAgIGNhc2UgMTAzOlxuICAgICAgICAgICAgcmV0dXJuICctd2Via2l0LWJveC0nICsgYS5yZXBsYWNlKCctZ3JvdycsICcnKSArICctd2Via2l0LScgKyBhICsgJy1tcy0nICsgYS5yZXBsYWNlKCdncm93JywgJ3Bvc2l0aXZlJykgKyBhO1xuXG4gICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhLnJlcGxhY2UoJ3NocmluaycsICduZWdhdGl2ZScpICsgYTtcblxuICAgICAgICAgIGNhc2UgOTg6XG4gICAgICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhLnJlcGxhY2UoJ2Jhc2lzJywgJ3ByZWZlcnJlZC1zaXplJykgKyBhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtJyArIGEgKyBhO1xuXG4gICAgICBjYXNlIDk2NDpcbiAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tcy1mbGV4LScgKyBhICsgYTtcblxuICAgICAgY2FzZSAxMDIzOlxuICAgICAgICBpZiAoOTkgIT09IGEuY2hhckNvZGVBdCg4KSkgYnJlYWs7XG4gICAgICAgIGIgPSBhLnN1YnN0cmluZyhhLmluZGV4T2YoJzonLCAxNSkpLnJlcGxhY2UoJ2ZsZXgtJywgJycpLnJlcGxhY2UoJ3NwYWNlLWJldHdlZW4nLCAnanVzdGlmeScpO1xuICAgICAgICByZXR1cm4gJy13ZWJraXQtYm94LXBhY2snICsgYiArICctd2Via2l0LScgKyBhICsgJy1tcy1mbGV4LXBhY2snICsgYiArIGE7XG5cbiAgICAgIGNhc2UgMTAwNTpcbiAgICAgICAgcmV0dXJuIGthLnRlc3QoYSkgPyBhLnJlcGxhY2UoYWEsICc6LXdlYmtpdC0nKSArIGEucmVwbGFjZShhYSwgJzotbW96LScpICsgYSA6IGE7XG5cbiAgICAgIGNhc2UgMWUzOlxuICAgICAgICBiID0gYS5zdWJzdHJpbmcoMTMpLnRyaW0oKTtcbiAgICAgICAgYyA9IGIuaW5kZXhPZignLScpICsgMTtcblxuICAgICAgICBzd2l0Y2ggKGIuY2hhckNvZGVBdCgwKSArIGIuY2hhckNvZGVBdChjKSkge1xuICAgICAgICAgIGNhc2UgMjI2OlxuICAgICAgICAgICAgYiA9IGEucmVwbGFjZShHLCAndGInKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyMzI6XG4gICAgICAgICAgICBiID0gYS5yZXBsYWNlKEcsICd0Yi1ybCcpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDIyMDpcbiAgICAgICAgICAgIGIgPSBhLnJlcGxhY2UoRywgJ2xyJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtJyArIGIgKyBhO1xuXG4gICAgICBjYXNlIDEwMTc6XG4gICAgICAgIGlmICgtMSA9PT0gYS5pbmRleE9mKCdzdGlja3knLCA5KSkgYnJlYWs7XG5cbiAgICAgIGNhc2UgOTc1OlxuICAgICAgICBjID0gKGEgPSBkKS5sZW5ndGggLSAxMDtcbiAgICAgICAgYiA9ICgzMyA9PT0gYS5jaGFyQ29kZUF0KGMpID8gYS5zdWJzdHJpbmcoMCwgYykgOiBhKS5zdWJzdHJpbmcoZC5pbmRleE9mKCc6JywgNykgKyAxKS50cmltKCk7XG5cbiAgICAgICAgc3dpdGNoIChtID0gYi5jaGFyQ29kZUF0KDApICsgKGIuY2hhckNvZGVBdCg3KSB8IDApKSB7XG4gICAgICAgICAgY2FzZSAyMDM6XG4gICAgICAgICAgICBpZiAoMTExID4gYi5jaGFyQ29kZUF0KDgpKSBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTE1OlxuICAgICAgICAgICAgYSA9IGEucmVwbGFjZShiLCAnLXdlYmtpdC0nICsgYikgKyAnOycgKyBhO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDIwNzpcbiAgICAgICAgICBjYXNlIDEwMjpcbiAgICAgICAgICAgIGEgPSBhLnJlcGxhY2UoYiwgJy13ZWJraXQtJyArICgxMDIgPCBtID8gJ2lubGluZS0nIDogJycpICsgJ2JveCcpICsgJzsnICsgYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyBiKSArICc7JyArIGEucmVwbGFjZShiLCAnLW1zLScgKyBiICsgJ2JveCcpICsgJzsnICsgYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhICsgJzsnO1xuXG4gICAgICBjYXNlIDkzODpcbiAgICAgICAgaWYgKDQ1ID09PSBhLmNoYXJDb2RlQXQoNSkpIHN3aXRjaCAoYS5jaGFyQ29kZUF0KDYpKSB7XG4gICAgICAgICAgY2FzZSAxMDU6XG4gICAgICAgICAgICByZXR1cm4gYiA9IGEucmVwbGFjZSgnLWl0ZW1zJywgJycpLCAnLXdlYmtpdC0nICsgYSArICctd2Via2l0LWJveC0nICsgYiArICctbXMtZmxleC0nICsgYiArIGE7XG5cbiAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC1pdGVtLScgKyBhLnJlcGxhY2UoYmEsICcnKSArIGE7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tcy1mbGV4LWxpbmUtcGFjaycgKyBhLnJlcGxhY2UoJ2FsaWduLWNvbnRlbnQnLCAnJykucmVwbGFjZShiYSwgJycpICsgYTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA5NzM6XG4gICAgICBjYXNlIDk4OTpcbiAgICAgICAgaWYgKDQ1ICE9PSBhLmNoYXJDb2RlQXQoMykgfHwgMTIyID09PSBhLmNoYXJDb2RlQXQoNCkpIGJyZWFrO1xuXG4gICAgICBjYXNlIDkzMTpcbiAgICAgIGNhc2UgOTUzOlxuICAgICAgICBpZiAoITAgPT09IGxhLnRlc3QoZCkpIHJldHVybiAxMTUgPT09IChiID0gZC5zdWJzdHJpbmcoZC5pbmRleE9mKCc6JykgKyAxKSkuY2hhckNvZGVBdCgwKSA/IFAoZC5yZXBsYWNlKCdzdHJldGNoJywgJ2ZpbGwtYXZhaWxhYmxlJyksIGMsIGUsIGgpLnJlcGxhY2UoJzpmaWxsLWF2YWlsYWJsZScsICc6c3RyZXRjaCcpIDogYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyBiKSArIGEucmVwbGFjZShiLCAnLW1vei0nICsgYi5yZXBsYWNlKCdmaWxsLScsICcnKSkgKyBhO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA5NjI6XG4gICAgICAgIGlmIChhID0gJy13ZWJraXQtJyArIGEgKyAoMTAyID09PSBhLmNoYXJDb2RlQXQoNSkgPyAnLW1zLScgKyBhIDogJycpICsgYSwgMjExID09PSBlICsgaCAmJiAxMDUgPT09IGEuY2hhckNvZGVBdCgxMykgJiYgMCA8IGEuaW5kZXhPZigndHJhbnNmb3JtJywgMTApKSByZXR1cm4gYS5zdWJzdHJpbmcoMCwgYS5pbmRleE9mKCc7JywgMjcpICsgMSkucmVwbGFjZShtYSwgJyQxLXdlYmtpdC0kMicpICsgYTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEwoZCwgYykge1xuICAgIHZhciBlID0gZC5pbmRleE9mKDEgPT09IGMgPyAnOicgOiAneycpLFxuICAgICAgICBoID0gZC5zdWJzdHJpbmcoMCwgMyAhPT0gYyA/IGUgOiAxMCk7XG4gICAgZSA9IGQuc3Vic3RyaW5nKGUgKyAxLCBkLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiBSKDIgIT09IGMgPyBoIDogaC5yZXBsYWNlKG5hLCAnJDEnKSwgZSwgYyk7XG4gIH1cblxuICBmdW5jdGlvbiBlYShkLCBjKSB7XG4gICAgdmFyIGUgPSBQKGMsIGMuY2hhckNvZGVBdCgwKSwgYy5jaGFyQ29kZUF0KDEpLCBjLmNoYXJDb2RlQXQoMikpO1xuICAgIHJldHVybiBlICE9PSBjICsgJzsnID8gZS5yZXBsYWNlKG9hLCAnIG9yICgkMSknKS5zdWJzdHJpbmcoNCkgOiAnKCcgKyBjICsgJyknO1xuICB9XG5cbiAgZnVuY3Rpb24gSChkLCBjLCBlLCBoLCBhLCBtLCBiLCB2LCBuLCBxKSB7XG4gICAgZm9yICh2YXIgZyA9IDAsIHggPSBjLCB3OyBnIDwgQTsgKytnKSB7XG4gICAgICBzd2l0Y2ggKHcgPSBTW2ddLmNhbGwoQiwgZCwgeCwgZSwgaCwgYSwgbSwgYiwgdiwgbiwgcSkpIHtcbiAgICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIGNhc2UgITE6XG4gICAgICAgIGNhc2UgITA6XG4gICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHggPSB3O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh4ICE9PSBjKSByZXR1cm4geDtcbiAgfVxuXG4gIGZ1bmN0aW9uIFQoZCkge1xuICAgIHN3aXRjaCAoZCkge1xuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICBjYXNlIG51bGw6XG4gICAgICAgIEEgPSBTLmxlbmd0aCA9IDA7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGQpIFNbQSsrXSA9IGQ7ZWxzZSBpZiAoJ29iamVjdCcgPT09IHR5cGVvZiBkKSBmb3IgKHZhciBjID0gMCwgZSA9IGQubGVuZ3RoOyBjIDwgZTsgKytjKSB7XG4gICAgICAgICAgVChkW2NdKTtcbiAgICAgICAgfSBlbHNlIFkgPSAhIWQgfCAwO1xuICAgIH1cblxuICAgIHJldHVybiBUO1xuICB9XG5cbiAgZnVuY3Rpb24gVShkKSB7XG4gICAgZCA9IGQucHJlZml4O1xuICAgIHZvaWQgMCAhPT0gZCAmJiAoUiA9IG51bGwsIGQgPyAnZnVuY3Rpb24nICE9PSB0eXBlb2YgZCA/IHcgPSAxIDogKHcgPSAyLCBSID0gZCkgOiB3ID0gMCk7XG4gICAgcmV0dXJuIFU7XG4gIH1cblxuICBmdW5jdGlvbiBCKGQsIGMpIHtcbiAgICB2YXIgZSA9IGQ7XG4gICAgMzMgPiBlLmNoYXJDb2RlQXQoMCkgJiYgKGUgPSBlLnRyaW0oKSk7XG4gICAgViA9IGU7XG4gICAgZSA9IFtWXTtcblxuICAgIGlmICgwIDwgQSkge1xuICAgICAgdmFyIGggPSBIKC0xLCBjLCBlLCBlLCBELCB6LCAwLCAwLCAwLCAwKTtcbiAgICAgIHZvaWQgMCAhPT0gaCAmJiAnc3RyaW5nJyA9PT0gdHlwZW9mIGggJiYgKGMgPSBoKTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IE0oTywgZSwgYywgMCwgMCk7XG4gICAgMCA8IEEgJiYgKGggPSBIKC0yLCBhLCBlLCBlLCBELCB6LCBhLmxlbmd0aCwgMCwgMCwgMCksIHZvaWQgMCAhPT0gaCAmJiAoYSA9IGgpKTtcbiAgICBWID0gJyc7XG4gICAgRSA9IDA7XG4gICAgeiA9IEQgPSAxO1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgdmFyIGNhID0gL15cXDArL2csXG4gICAgICBOID0gL1tcXDBcXHJcXGZdL2csXG4gICAgICBhYSA9IC86ICovZyxcbiAgICAgIGthID0gL3pvb3xncmEvLFxuICAgICAgbWEgPSAvKFssOiBdKSh0cmFuc2Zvcm0pL2csXG4gICAgICBpYSA9IC8sXFxyKz8vZyxcbiAgICAgIEYgPSAvKFtcXHRcXHJcXG4gXSkqXFxmPyYvZyxcbiAgICAgIGZhID0gL0Aoa1xcdyspXFxzKihcXFMqKVxccyovLFxuICAgICAgUSA9IC86OihwbGFjZSkvZyxcbiAgICAgIGhhID0gLzoocmVhZC1vbmx5KS9nLFxuICAgICAgRyA9IC9bc3ZoXVxcdystW3RibHJdezJ9LyxcbiAgICAgIGRhID0gL1xcKFxccyooLiopXFxzKlxcKS9nLFxuICAgICAgb2EgPSAvKFtcXHNcXFNdKj8pOy9nLFxuICAgICAgYmEgPSAvLXNlbGZ8ZmxleC0vZyxcbiAgICAgIG5hID0gL1teXSo/KDpbcnBdW2VsXWFbXFx3LV0rKVteXSovLFxuICAgICAgbGEgPSAvc3RyZXRjaHw6XFxzKlxcdytcXC0oPzpjb250ZXxhdmFpbCkvLFxuICAgICAgamEgPSAvKFteLV0pKGltYWdlLXNldFxcKCkvLFxuICAgICAgeiA9IDEsXG4gICAgICBEID0gMSxcbiAgICAgIEUgPSAwLFxuICAgICAgdyA9IDEsXG4gICAgICBPID0gW10sXG4gICAgICBTID0gW10sXG4gICAgICBBID0gMCxcbiAgICAgIFIgPSBudWxsLFxuICAgICAgWSA9IDAsXG4gICAgICBWID0gJyc7XG4gIEIudXNlID0gVDtcbiAgQi5zZXQgPSBVO1xuICB2b2lkIDAgIT09IFcgJiYgVShXKTtcbiAgcmV0dXJuIEI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxpc19taW47XG4iLCJ2YXIgdW5pdGxlc3NLZXlzID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogMSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IDEsXG4gIGJvcmRlckltYWdlU2xpY2U6IDEsXG4gIGJvcmRlckltYWdlV2lkdGg6IDEsXG4gIGJveEZsZXg6IDEsXG4gIGJveEZsZXhHcm91cDogMSxcbiAgYm94T3JkaW5hbEdyb3VwOiAxLFxuICBjb2x1bW5Db3VudDogMSxcbiAgY29sdW1uczogMSxcbiAgZmxleDogMSxcbiAgZmxleEdyb3c6IDEsXG4gIGZsZXhQb3NpdGl2ZTogMSxcbiAgZmxleFNocmluazogMSxcbiAgZmxleE5lZ2F0aXZlOiAxLFxuICBmbGV4T3JkZXI6IDEsXG4gIGdyaWRSb3c6IDEsXG4gIGdyaWRSb3dFbmQ6IDEsXG4gIGdyaWRSb3dTcGFuOiAxLFxuICBncmlkUm93U3RhcnQ6IDEsXG4gIGdyaWRDb2x1bW46IDEsXG4gIGdyaWRDb2x1bW5FbmQ6IDEsXG4gIGdyaWRDb2x1bW5TcGFuOiAxLFxuICBncmlkQ29sdW1uU3RhcnQ6IDEsXG4gIG1zR3JpZFJvdzogMSxcbiAgbXNHcmlkUm93U3BhbjogMSxcbiAgbXNHcmlkQ29sdW1uOiAxLFxuICBtc0dyaWRDb2x1bW5TcGFuOiAxLFxuICBmb250V2VpZ2h0OiAxLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBvcGFjaXR5OiAxLFxuICBvcmRlcjogMSxcbiAgb3JwaGFuczogMSxcbiAgdGFiU2l6ZTogMSxcbiAgd2lkb3dzOiAxLFxuICB6SW5kZXg6IDEsXG4gIHpvb206IDEsXG4gIFdlYmtpdExpbmVDbGFtcDogMSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogMSxcbiAgZmxvb2RPcGFjaXR5OiAxLFxuICBzdG9wT3BhY2l0eTogMSxcbiAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICBzdHJva2VEYXNob2Zmc2V0OiAxLFxuICBzdHJva2VNaXRlcmxpbWl0OiAxLFxuICBzdHJva2VPcGFjaXR5OiAxLFxuICBzdHJva2VXaWR0aDogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgdW5pdGxlc3NLZXlzO1xuIiwiZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIgY2FjaGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICBpZiAoY2FjaGVbYXJnXSA9PT0gdW5kZWZpbmVkKSBjYWNoZVthcmddID0gZm4oYXJnKTtcbiAgICByZXR1cm4gY2FjaGVbYXJnXTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVtb2l6ZTtcbiIsImltcG9ydCBtZW1vaXplIGZyb20gJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgcmVhY3RQcm9wc1JlZ2V4ID0gL14oKGNoaWxkcmVufGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MfGtleXxyZWZ8YXV0b0ZvY3VzfGRlZmF1bHRWYWx1ZXxkZWZhdWx0Q2hlY2tlZHxpbm5lckhUTUx8c3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nfHN1cHByZXNzSHlkcmF0aW9uV2FybmluZ3x2YWx1ZUxpbmt8YWNjZXB0fGFjY2VwdENoYXJzZXR8YWNjZXNzS2V5fGFjdGlvbnxhbGxvd3xhbGxvd1VzZXJNZWRpYXxhbGxvd1BheW1lbnRSZXF1ZXN0fGFsbG93RnVsbFNjcmVlbnxhbGxvd1RyYW5zcGFyZW5jeXxhbHR8YXN5bmN8YXV0b0NvbXBsZXRlfGF1dG9QbGF5fGNhcHR1cmV8Y2VsbFBhZGRpbmd8Y2VsbFNwYWNpbmd8Y2hhbGxlbmdlfGNoYXJTZXR8Y2hlY2tlZHxjaXRlfGNsYXNzSUR8Y2xhc3NOYW1lfGNvbHN8Y29sU3Bhbnxjb250ZW50fGNvbnRlbnRFZGl0YWJsZXxjb250ZXh0TWVudXxjb250cm9sc3xjb250cm9sc0xpc3R8Y29vcmRzfGNyb3NzT3JpZ2lufGRhdGF8ZGF0ZVRpbWV8ZGVjb2Rpbmd8ZGVmYXVsdHxkZWZlcnxkaXJ8ZGlzYWJsZWR8ZGlzYWJsZVBpY3R1cmVJblBpY3R1cmV8ZG93bmxvYWR8ZHJhZ2dhYmxlfGVuY1R5cGV8Zm9ybXxmb3JtQWN0aW9ufGZvcm1FbmNUeXBlfGZvcm1NZXRob2R8Zm9ybU5vVmFsaWRhdGV8Zm9ybVRhcmdldHxmcmFtZUJvcmRlcnxoZWFkZXJzfGhlaWdodHxoaWRkZW58aGlnaHxocmVmfGhyZWZMYW5nfGh0bWxGb3J8aHR0cEVxdWl2fGlkfGlucHV0TW9kZXxpbnRlZ3JpdHl8aXN8a2V5UGFyYW1zfGtleVR5cGV8a2luZHxsYWJlbHxsYW5nfGxpc3R8bG9hZGluZ3xsb29wfGxvd3xtYXJnaW5IZWlnaHR8bWFyZ2luV2lkdGh8bWF4fG1heExlbmd0aHxtZWRpYXxtZWRpYUdyb3VwfG1ldGhvZHxtaW58bWluTGVuZ3RofG11bHRpcGxlfG11dGVkfG5hbWV8bm9uY2V8bm9WYWxpZGF0ZXxvcGVufG9wdGltdW18cGF0dGVybnxwbGFjZWhvbGRlcnxwbGF5c0lubGluZXxwb3N0ZXJ8cHJlbG9hZHxwcm9maWxlfHJhZGlvR3JvdXB8cmVhZE9ubHl8cmVmZXJyZXJQb2xpY3l8cmVsfHJlcXVpcmVkfHJldmVyc2VkfHJvbGV8cm93c3xyb3dTcGFufHNhbmRib3h8c2NvcGV8c2NvcGVkfHNjcm9sbGluZ3xzZWFtbGVzc3xzZWxlY3RlZHxzaGFwZXxzaXplfHNpemVzfHNsb3R8c3BhbnxzcGVsbENoZWNrfHNyY3xzcmNEb2N8c3JjTGFuZ3xzcmNTZXR8c3RhcnR8c3RlcHxzdHlsZXxzdW1tYXJ5fHRhYkluZGV4fHRhcmdldHx0aXRsZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxyZXN1bHRzfHNlY3VyaXR5fHVuc2VsZWN0YWJsZXxhY2NlbnRIZWlnaHR8YWNjdW11bGF0ZXxhZGRpdGl2ZXxhbGlnbm1lbnRCYXNlbGluZXxhbGxvd1Jlb3JkZXJ8YWxwaGFiZXRpY3xhbXBsaXR1ZGV8YXJhYmljRm9ybXxhc2NlbnR8YXR0cmlidXRlTmFtZXxhdHRyaWJ1dGVUeXBlfGF1dG9SZXZlcnNlfGF6aW11dGh8YmFzZUZyZXF1ZW5jeXxiYXNlbGluZVNoaWZ0fGJhc2VQcm9maWxlfGJib3h8YmVnaW58Ymlhc3xieXxjYWxjTW9kZXxjYXBIZWlnaHR8Y2xpcHxjbGlwUGF0aFVuaXRzfGNsaXBQYXRofGNsaXBSdWxlfGNvbG9ySW50ZXJwb2xhdGlvbnxjb2xvckludGVycG9sYXRpb25GaWx0ZXJzfGNvbG9yUHJvZmlsZXxjb2xvclJlbmRlcmluZ3xjb250ZW50U2NyaXB0VHlwZXxjb250ZW50U3R5bGVUeXBlfGN1cnNvcnxjeHxjeXxkfGRlY2VsZXJhdGV8ZGVzY2VudHxkaWZmdXNlQ29uc3RhbnR8ZGlyZWN0aW9ufGRpc3BsYXl8ZGl2aXNvcnxkb21pbmFudEJhc2VsaW5lfGR1cnxkeHxkeXxlZGdlTW9kZXxlbGV2YXRpb258ZW5hYmxlQmFja2dyb3VuZHxlbmR8ZXhwb25lbnR8ZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZHxmaWxsfGZpbGxPcGFjaXR5fGZpbGxSdWxlfGZpbHRlcnxmaWx0ZXJSZXN8ZmlsdGVyVW5pdHN8Zmxvb2RDb2xvcnxmbG9vZE9wYWNpdHl8Zm9jdXNhYmxlfGZvbnRGYW1pbHl8Zm9udFNpemV8Zm9udFNpemVBZGp1c3R8Zm9udFN0cmV0Y2h8Zm9udFN0eWxlfGZvbnRWYXJpYW50fGZvbnRXZWlnaHR8Zm9ybWF0fGZyb218ZnJ8Znh8Znl8ZzF8ZzJ8Z2x5cGhOYW1lfGdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsfGdseXBoT3JpZW50YXRpb25WZXJ0aWNhbHxnbHlwaFJlZnxncmFkaWVudFRyYW5zZm9ybXxncmFkaWVudFVuaXRzfGhhbmdpbmd8aG9yaXpBZHZYfGhvcml6T3JpZ2luWHxpZGVvZ3JhcGhpY3xpbWFnZVJlbmRlcmluZ3xpbnxpbjJ8aW50ZXJjZXB0fGt8azF8azJ8azN8azR8a2VybmVsTWF0cml4fGtlcm5lbFVuaXRMZW5ndGh8a2VybmluZ3xrZXlQb2ludHN8a2V5U3BsaW5lc3xrZXlUaW1lc3xsZW5ndGhBZGp1c3R8bGV0dGVyU3BhY2luZ3xsaWdodGluZ0NvbG9yfGxpbWl0aW5nQ29uZUFuZ2xlfGxvY2FsfG1hcmtlckVuZHxtYXJrZXJNaWR8bWFya2VyU3RhcnR8bWFya2VySGVpZ2h0fG1hcmtlclVuaXRzfG1hcmtlcldpZHRofG1hc2t8bWFza0NvbnRlbnRVbml0c3xtYXNrVW5pdHN8bWF0aGVtYXRpY2FsfG1vZGV8bnVtT2N0YXZlc3xvZmZzZXR8b3BhY2l0eXxvcGVyYXRvcnxvcmRlcnxvcmllbnR8b3JpZW50YXRpb258b3JpZ2lufG92ZXJmbG93fG92ZXJsaW5lUG9zaXRpb258b3ZlcmxpbmVUaGlja25lc3N8cGFub3NlMXxwYWludE9yZGVyfHBhdGhMZW5ndGh8cGF0dGVybkNvbnRlbnRVbml0c3xwYXR0ZXJuVHJhbnNmb3JtfHBhdHRlcm5Vbml0c3xwb2ludGVyRXZlbnRzfHBvaW50c3xwb2ludHNBdFh8cG9pbnRzQXRZfHBvaW50c0F0WnxwcmVzZXJ2ZUFscGhhfHByZXNlcnZlQXNwZWN0UmF0aW98cHJpbWl0aXZlVW5pdHN8cnxyYWRpdXN8cmVmWHxyZWZZfHJlbmRlcmluZ0ludGVudHxyZXBlYXRDb3VudHxyZXBlYXREdXJ8cmVxdWlyZWRFeHRlbnNpb25zfHJlcXVpcmVkRmVhdHVyZXN8cmVzdGFydHxyZXN1bHR8cm90YXRlfHJ4fHJ5fHNjYWxlfHNlZWR8c2hhcGVSZW5kZXJpbmd8c2xvcGV8c3BhY2luZ3xzcGVjdWxhckNvbnN0YW50fHNwZWN1bGFyRXhwb25lbnR8c3BlZWR8c3ByZWFkTWV0aG9kfHN0YXJ0T2Zmc2V0fHN0ZERldmlhdGlvbnxzdGVtaHxzdGVtdnxzdGl0Y2hUaWxlc3xzdG9wQ29sb3J8c3RvcE9wYWNpdHl8c3RyaWtldGhyb3VnaFBvc2l0aW9ufHN0cmlrZXRocm91Z2hUaGlja25lc3N8c3RyaW5nfHN0cm9rZXxzdHJva2VEYXNoYXJyYXl8c3Ryb2tlRGFzaG9mZnNldHxzdHJva2VMaW5lY2FwfHN0cm9rZUxpbmVqb2lufHN0cm9rZU1pdGVybGltaXR8c3Ryb2tlT3BhY2l0eXxzdHJva2VXaWR0aHxzdXJmYWNlU2NhbGV8c3lzdGVtTGFuZ3VhZ2V8dGFibGVWYWx1ZXN8dGFyZ2V0WHx0YXJnZXRZfHRleHRBbmNob3J8dGV4dERlY29yYXRpb258dGV4dFJlbmRlcmluZ3x0ZXh0TGVuZ3RofHRvfHRyYW5zZm9ybXx1MXx1Mnx1bmRlcmxpbmVQb3NpdGlvbnx1bmRlcmxpbmVUaGlja25lc3N8dW5pY29kZXx1bmljb2RlQmlkaXx1bmljb2RlUmFuZ2V8dW5pdHNQZXJFbXx2QWxwaGFiZXRpY3x2SGFuZ2luZ3x2SWRlb2dyYXBoaWN8dk1hdGhlbWF0aWNhbHx2YWx1ZXN8dmVjdG9yRWZmZWN0fHZlcnNpb258dmVydEFkdll8dmVydE9yaWdpblh8dmVydE9yaWdpbll8dmlld0JveHx2aWV3VGFyZ2V0fHZpc2liaWxpdHl8d2lkdGhzfHdvcmRTcGFjaW5nfHdyaXRpbmdNb2RlfHh8eEhlaWdodHx4MXx4Mnx4Q2hhbm5lbFNlbGVjdG9yfHhsaW5rQWN0dWF0ZXx4bGlua0FyY3JvbGV8eGxpbmtIcmVmfHhsaW5rUm9sZXx4bGlua1Nob3d8eGxpbmtUaXRsZXx4bGlua1R5cGV8eG1sQmFzZXx4bWxuc3x4bWxuc1hsaW5rfHhtbExhbmd8eG1sU3BhY2V8eXx5MXx5Mnx5Q2hhbm5lbFNlbGVjdG9yfHp8em9vbUFuZFBhbnxmb3J8Y2xhc3N8YXV0b2ZvY3VzKXwoKFtEZF1bQWFdW1R0XVtBYV18W0FhXVtScl1bSWldW0FhXXx4KS0uKikpJC87IC8vIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNWJmZWU2OGE0Y2Q3ZTYwMDllZjYxZDIzXG5cbnZhciBpbmRleCA9IG1lbW9pemUoZnVuY3Rpb24gKHByb3ApIHtcbiAgcmV0dXJuIHJlYWN0UHJvcHNSZWdleC50ZXN0KHByb3ApIHx8IHByb3AuY2hhckNvZGVBdCgwKSA9PT0gMTExXG4gIC8qIG8gKi9cbiAgJiYgcHJvcC5jaGFyQ29kZUF0KDEpID09PSAxMTBcbiAgLyogbiAqL1xuICAmJiBwcm9wLmNoYXJDb2RlQXQoMikgPCA5MTtcbn1cbi8qIForMSAqL1xuKTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG4iLCJpbXBvcnR7dHlwZU9mIGFzIGUsaXNFbGVtZW50IGFzIHQsaXNWYWxpZEVsZW1lbnRUeXBlIGFzIG59ZnJvbVwicmVhY3QtaXNcIjtpbXBvcnQgcix7dXNlU3RhdGUgYXMgbyx1c2VDb250ZXh0IGFzIHMsdXNlTWVtbyBhcyBpLHVzZUVmZmVjdCBhcyBhLHVzZVJlZiBhcyBjLGNyZWF0ZUVsZW1lbnQgYXMgdSx1c2VEZWJ1Z1ZhbHVlIGFzIGwsdXNlTGF5b3V0RWZmZWN0IGFzIGR9ZnJvbVwicmVhY3RcIjtpbXBvcnQgaCBmcm9tXCJzaGFsbG93ZXF1YWxcIjtpbXBvcnQgcCBmcm9tXCJAZW1vdGlvbi9zdHlsaXNcIjtpbXBvcnQgZiBmcm9tXCJAZW1vdGlvbi91bml0bGVzc1wiO2ltcG9ydCBtIGZyb21cIkBlbW90aW9uL2lzLXByb3AtdmFsaWRcIjtpbXBvcnQgeSBmcm9tXCJob2lzdC1ub24tcmVhY3Qtc3RhdGljc1wiO2Z1bmN0aW9uIHYoKXtyZXR1cm4odj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtlWzBdXSxyPTAsbz10Lmxlbmd0aDtyPG87cis9MSluLnB1c2godFtyXSxlW3IrMV0pO3JldHVybiBufSxTPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiW29iamVjdCBPYmplY3RdXCI9PT0odC50b1N0cmluZz90LnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSYmIWUodCl9LHc9T2JqZWN0LmZyZWV6ZShbXSksRT1PYmplY3QuZnJlZXplKHt9KTtmdW5jdGlvbiBiKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gXyhlKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmZXx8ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwifWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnN0eWxlZENvbXBvbmVudElkfXZhciBBPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiYocHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0FUVFJ8fHByb2Nlc3MuZW52LlNDX0FUVFIpfHxcImRhdGEtc3R5bGVkXCIsQz1cIjUuMy4xXCIsST1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcIkhUTUxFbGVtZW50XCJpbiB3aW5kb3csUD1Cb29sZWFuKFwiYm9vbGVhblwiPT10eXBlb2YgU0NfRElTQUJMRV9TUEVFRFk/U0NfRElTQUJMRV9TUEVFRFk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJnZvaWQgMCE9PXByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19ESVNBQkxFX1NQRUVEWSYmXCJcIiE9PXByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19ESVNBQkxFX1NQRUVEWT9cImZhbHNlXCIhPT1wcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFkmJnByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19ESVNBQkxFX1NQRUVEWTpcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmdm9pZCAwIT09cHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFkmJlwiXCIhPT1wcm9jZXNzLmVudi5TQ19ESVNBQkxFX1NQRUVEWT9cImZhbHNlXCIhPT1wcm9jZXNzLmVudi5TQ19ESVNBQkxFX1NQRUVEWSYmcHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFk6XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViksTz17fSxSPVwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlY/ezE6XCJDYW5ub3QgY3JlYXRlIHN0eWxlZC1jb21wb25lbnQgZm9yIGNvbXBvbmVudDogJXMuXFxuXFxuXCIsMjpcIkNhbid0IGNvbGxlY3Qgc3R5bGVzIG9uY2UgeW91J3ZlIGNvbnN1bWVkIGEgYFNlcnZlclN0eWxlU2hlZXRgJ3Mgc3R5bGVzISBgU2VydmVyU3R5bGVTaGVldGAgaXMgYSBvbmUgb2ZmIGluc3RhbmNlIGZvciBlYWNoIHNlcnZlci1zaWRlIHJlbmRlciBjeWNsZS5cXG5cXG4tIEFyZSB5b3UgdHJ5aW5nIHRvIHJldXNlIGl0IGFjcm9zcyByZW5kZXJzP1xcbi0gQXJlIHlvdSBhY2NpZGVudGFsbHkgY2FsbGluZyBjb2xsZWN0U3R5bGVzIHR3aWNlP1xcblxcblwiLDM6XCJTdHJlYW1pbmcgU1NSIGlzIG9ubHkgc3VwcG9ydGVkIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudDsgUGxlYXNlIGRvIG5vdCB0cnkgdG8gY2FsbCB0aGlzIG1ldGhvZCBpbiB0aGUgYnJvd3Nlci5cXG5cXG5cIiw0OlwiVGhlIGBTdHlsZVNoZWV0TWFuYWdlcmAgZXhwZWN0cyBhIHZhbGlkIHRhcmdldCBvciBzaGVldCBwcm9wIVxcblxcbi0gRG9lcyB0aGlzIGVycm9yIG9jY3VyIG9uIHRoZSBjbGllbnQgYW5kIGlzIHlvdXIgdGFyZ2V0IGZhbHN5P1xcbi0gRG9lcyB0aGlzIGVycm9yIG9jY3VyIG9uIHRoZSBzZXJ2ZXIgYW5kIGlzIHRoZSBzaGVldCBmYWxzeT9cXG5cXG5cIiw1OlwiVGhlIGNsb25lIG1ldGhvZCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgY2xpZW50IVxcblxcbi0gQXJlIHlvdSBydW5uaW5nIGluIGEgY2xpZW50LWxpa2UgZW52aXJvbm1lbnQgb24gdGhlIHNlcnZlcj9cXG4tIEFyZSB5b3UgdHJ5aW5nIHRvIHJ1biBTU1Igb24gdGhlIGNsaWVudD9cXG5cXG5cIiw2OlwiVHJ5aW5nIHRvIGluc2VydCBhIG5ldyBzdHlsZSB0YWcsIGJ1dCB0aGUgZ2l2ZW4gTm9kZSBpcyB1bm1vdW50ZWQhXFxuXFxuLSBBcmUgeW91IHVzaW5nIGEgY3VzdG9tIHRhcmdldCB0aGF0IGlzbid0IG1vdW50ZWQ/XFxuLSBEb2VzIHlvdXIgZG9jdW1lbnQgbm90IGhhdmUgYSB2YWxpZCBoZWFkIGVsZW1lbnQ/XFxuLSBIYXZlIHlvdSBhY2NpZGVudGFsbHkgcmVtb3ZlZCBhIHN0eWxlIHRhZyBtYW51YWxseT9cXG5cXG5cIiw3OidUaGVtZVByb3ZpZGVyOiBQbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgXCJ0aGVtZVwiIHByb3AgZnVuY3Rpb24sIGUuZy5cXG5cXG5gYGBqc1xcbnRoZW1lPXsoKSA9PiAoe30pfVxcbmBgYFxcblxcbicsODonVGhlbWVQcm92aWRlcjogUGxlYXNlIG1ha2UgeW91ciBcInRoZW1lXCIgcHJvcCBhbiBvYmplY3QuXFxuXFxuJyw5OlwiTWlzc2luZyBkb2N1bWVudCBgPGhlYWQ+YFxcblxcblwiLDEwOlwiQ2Fubm90IGZpbmQgYSBTdHlsZVNoZWV0IGluc3RhbmNlLiBVc3VhbGx5IHRoaXMgaGFwcGVucyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY29waWVzIG9mIHN0eWxlZC1jb21wb25lbnRzIGxvYWRlZCBhdCBvbmNlLiBDaGVjayBvdXQgdGhpcyBpc3N1ZSBmb3IgaG93IHRvIHRyb3VibGVzaG9vdCBhbmQgZml4IHRoZSBjb21tb24gY2FzZXMgd2hlcmUgdGhpcyBzaXR1YXRpb24gY2FuIGhhcHBlbjogaHR0cHM6Ly9naXRodWIuY29tL3N0eWxlZC1jb21wb25lbnRzL3N0eWxlZC1jb21wb25lbnRzL2lzc3Vlcy8xOTQxI2lzc3VlY29tbWVudC00MTc4NjIwMjFcXG5cXG5cIiwxMTpcIl9UaGlzIGVycm9yIHdhcyByZXBsYWNlZCB3aXRoIGEgZGV2LXRpbWUgd2FybmluZywgaXQgd2lsbCBiZSBkZWxldGVkIGZvciB2NCBmaW5hbC5fIFtjcmVhdGVHbG9iYWxTdHlsZV0gcmVjZWl2ZWQgY2hpbGRyZW4gd2hpY2ggd2lsbCBub3QgYmUgcmVuZGVyZWQuIFBsZWFzZSB1c2UgdGhlIGNvbXBvbmVudCB3aXRob3V0IHBhc3NpbmcgY2hpbGRyZW4gZWxlbWVudHMuXFxuXFxuXCIsMTI6XCJJdCBzZWVtcyB5b3UgYXJlIGludGVycG9sYXRpbmcgYSBrZXlmcmFtZSBkZWNsYXJhdGlvbiAoJXMpIGludG8gYW4gdW50YWdnZWQgc3RyaW5nLiBUaGlzIHdhcyBzdXBwb3J0ZWQgaW4gc3R5bGVkLWNvbXBvbmVudHMgdjMsIGJ1dCBpcyBub3QgbG9uZ2VyIHN1cHBvcnRlZCBpbiB2NCBhcyBrZXlmcmFtZXMgYXJlIG5vdyBpbmplY3RlZCBvbi1kZW1hbmQuIFBsZWFzZSB3cmFwIHlvdXIgc3RyaW5nIGluIHRoZSBjc3NcXFxcYFxcXFxgIGhlbHBlciB3aGljaCBlbnN1cmVzIHRoZSBzdHlsZXMgYXJlIGluamVjdGVkIGNvcnJlY3RseS4gU2VlIGh0dHBzOi8vd3d3LnN0eWxlZC1jb21wb25lbnRzLmNvbS9kb2NzL2FwaSNjc3NcXG5cXG5cIiwxMzpcIiVzIGlzIG5vdCBhIHN0eWxlZCBjb21wb25lbnQgYW5kIGNhbm5vdCBiZSByZWZlcnJlZCB0byB2aWEgY29tcG9uZW50IHNlbGVjdG9yLiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYWR2YW5jZWQjcmVmZXJyaW5nLXRvLW90aGVyLWNvbXBvbmVudHMgZm9yIG1vcmUgZGV0YWlscy5cXG5cXG5cIiwxNDonVGhlbWVQcm92aWRlcjogXCJ0aGVtZVwiIHByb3AgaXMgcmVxdWlyZWQuXFxuXFxuJywxNTpcIkEgc3R5bGlzIHBsdWdpbiBoYXMgYmVlbiBzdXBwbGllZCB0aGF0IGlzIG5vdCBuYW1lZC4gV2UgbmVlZCBhIG5hbWUgZm9yIGVhY2ggcGx1Z2luIHRvIGJlIGFibGUgdG8gcHJldmVudCBzdHlsaW5nIGNvbGxpc2lvbnMgYmV0d2VlbiBkaWZmZXJlbnQgc3R5bGlzIGNvbmZpZ3VyYXRpb25zIHdpdGhpbiB0aGUgc2FtZSBhcHAuIEJlZm9yZSB5b3UgcGFzcyB5b3VyIHBsdWdpbiB0byBgPFN0eWxlU2hlZXRNYW5hZ2VyIHN0eWxpc1BsdWdpbnM9e1tdfT5gLCBwbGVhc2UgbWFrZSBzdXJlIGVhY2ggcGx1Z2luIGlzIHVuaXF1ZWx5LW5hbWVkLCBlLmcuXFxuXFxuYGBganNcXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoaW1wb3J0ZWRQbHVnaW4sICduYW1lJywgeyB2YWx1ZTogJ3NvbWUtdW5pcXVlLW5hbWUnIH0pO1xcbmBgYFxcblxcblwiLDE2OlwiUmVhY2hlZCB0aGUgbGltaXQgb2YgaG93IG1hbnkgc3R5bGVkIGNvbXBvbmVudHMgbWF5IGJlIGNyZWF0ZWQgYXQgZ3JvdXAgJXMuXFxuWW91IG1heSBvbmx5IGNyZWF0ZSB1cCB0byAxLDA3Myw3NDEsODI0IGNvbXBvbmVudHMuIElmIHlvdSdyZSBjcmVhdGluZyBjb21wb25lbnRzIGR5bmFtaWNhbGx5LFxcbmFzIGZvciBpbnN0YW5jZSBpbiB5b3VyIHJlbmRlciBtZXRob2QgdGhlbiB5b3UgbWF5IGJlIHJ1bm5pbmcgaW50byB0aGlzIGxpbWl0YXRpb24uXFxuXFxuXCIsMTc6XCJDU1NTdHlsZVNoZWV0IGNvdWxkIG5vdCBiZSBmb3VuZCBvbiBIVE1MU3R5bGVFbGVtZW50LlxcbkhhcyBzdHlsZWQtY29tcG9uZW50cycgc3R5bGUgdGFnIGJlZW4gdW5tb3VudGVkIG9yIGFsdGVyZWQgYnkgYW5vdGhlciBzY3JpcHQ/XFxuXCJ9Ont9O2Z1bmN0aW9uIEQoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdLHQ9W10sbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bis9MSl0LnB1c2gobjwwfHxhcmd1bWVudHMubGVuZ3RoPD1uP3ZvaWQgMDphcmd1bWVudHNbbl0pO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2U9ZS5yZXBsYWNlKC8lW2Etel0vLHQpfSkpLGV9ZnVuY3Rpb24gaihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dGhyb3dcInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WP25ldyBFcnJvcihcIkFuIGVycm9yIG9jY3VycmVkLiBTZWUgaHR0cHM6Ly9naXQuaW8vSlVJYUUjXCIrZStcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIisobi5sZW5ndGg+MD9cIiBBcmdzOiBcIituLmpvaW4oXCIsIFwiKTpcIlwiKSk6bmV3IEVycm9yKEQuYXBwbHkodm9pZCAwLFtSW2VdXS5jb25jYXQobikpLnRyaW0oKSl9dmFyIFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZ3JvdXBTaXplcz1uZXcgVWludDMyQXJyYXkoNTEyKSx0aGlzLmxlbmd0aD01MTIsdGhpcy50YWc9ZX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5pbmRleE9mR3JvdXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wO248ZTtuKyspdCs9dGhpcy5ncm91cFNpemVzW25dO3JldHVybiB0fSx0Lmluc2VydFJ1bGVzPWZ1bmN0aW9uKGUsdCl7aWYoZT49dGhpcy5ncm91cFNpemVzLmxlbmd0aCl7Zm9yKHZhciBuPXRoaXMuZ3JvdXBTaXplcyxyPW4ubGVuZ3RoLG89cjtlPj1vOykobzw8PTEpPDAmJmooMTYsXCJcIitlKTt0aGlzLmdyb3VwU2l6ZXM9bmV3IFVpbnQzMkFycmF5KG8pLHRoaXMuZ3JvdXBTaXplcy5zZXQobiksdGhpcy5sZW5ndGg9bztmb3IodmFyIHM9cjtzPG87cysrKXRoaXMuZ3JvdXBTaXplc1tzXT0wfWZvcih2YXIgaT10aGlzLmluZGV4T2ZHcm91cChlKzEpLGE9MCxjPXQubGVuZ3RoO2E8YzthKyspdGhpcy50YWcuaW5zZXJ0UnVsZShpLHRbYV0pJiYodGhpcy5ncm91cFNpemVzW2VdKyssaSsrKX0sdC5jbGVhckdyb3VwPWZ1bmN0aW9uKGUpe2lmKGU8dGhpcy5sZW5ndGgpe3ZhciB0PXRoaXMuZ3JvdXBTaXplc1tlXSxuPXRoaXMuaW5kZXhPZkdyb3VwKGUpLHI9bit0O3RoaXMuZ3JvdXBTaXplc1tlXT0wO2Zvcih2YXIgbz1uO288cjtvKyspdGhpcy50YWcuZGVsZXRlUnVsZShuKX19LHQuZ2V0R3JvdXA9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtpZihlPj10aGlzLmxlbmd0aHx8MD09PXRoaXMuZ3JvdXBTaXplc1tlXSlyZXR1cm4gdDtmb3IodmFyIG49dGhpcy5ncm91cFNpemVzW2VdLHI9dGhpcy5pbmRleE9mR3JvdXAoZSksbz1yK24scz1yO3M8bztzKyspdCs9dGhpcy50YWcuZ2V0UnVsZShzKStcIi8qIXNjKi9cXG5cIjtyZXR1cm4gdH0sZX0oKSxrPW5ldyBNYXAseD1uZXcgTWFwLFY9MSxCPWZ1bmN0aW9uKGUpe2lmKGsuaGFzKGUpKXJldHVybiBrLmdldChlKTtmb3IoO3guaGFzKFYpOylWKys7dmFyIHQ9VisrO3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJigoMHx0KTwwfHx0PjE8PDMwKSYmaigxNixcIlwiK3QpLGsuc2V0KGUsdCkseC5zZXQodCxlKSx0fSxNPWZ1bmN0aW9uKGUpe3JldHVybiB4LmdldChlKX0sej1mdW5jdGlvbihlLHQpe3Q+PVYmJihWPXQrMSksay5zZXQoZSx0KSx4LnNldCh0LGUpfSxMPVwic3R5bGVbXCIrQSsnXVtkYXRhLXN0eWxlZC12ZXJzaW9uPVwiNS4zLjFcIl0nLEc9bmV3IFJlZ0V4cChcIl5cIitBKydcXFxcLmcoXFxcXGQrKVxcXFxbaWQ9XCIoW1xcXFx3XFxcXGQtXSspXCJcXFxcXS4qP1wiKFteXCJdKiknKSxGPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbz1uLnNwbGl0KFwiLFwiKSxzPTAsaT1vLmxlbmd0aDtzPGk7cysrKShyPW9bc10pJiZlLnJlZ2lzdGVyTmFtZSh0LHIpfSxZPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSh0LmlubmVySFRNTHx8XCJcIikuc3BsaXQoXCIvKiFzYyovXFxuXCIpLHI9W10sbz0wLHM9bi5sZW5ndGg7bzxzO28rKyl7dmFyIGk9bltvXS50cmltKCk7aWYoaSl7dmFyIGE9aS5tYXRjaChHKTtpZihhKXt2YXIgYz0wfHBhcnNlSW50KGFbMV0sMTApLHU9YVsyXTswIT09YyYmKHoodSxjKSxGKGUsdSxhWzNdKSxlLmdldFRhZygpLmluc2VydFJ1bGVzKGMscikpLHIubGVuZ3RoPTB9ZWxzZSByLnB1c2goaSl9fX0scT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5fX3dlYnBhY2tfbm9uY2VfXz93aW5kb3cuX193ZWJwYWNrX25vbmNlX186bnVsbH0sSD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5oZWFkLG49ZXx8dCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNoaWxkTm9kZXMsbj10Lmxlbmd0aDtuPj0wO24tLSl7dmFyIHI9dFtuXTtpZihyJiYxPT09ci5ub2RlVHlwZSYmci5oYXNBdHRyaWJ1dGUoQSkpcmV0dXJuIHJ9fShuKSxzPXZvaWQgMCE9PW8/by5uZXh0U2libGluZzpudWxsO3Iuc2V0QXR0cmlidXRlKEEsXCJhY3RpdmVcIiksci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0eWxlZC12ZXJzaW9uXCIsXCI1LjMuMVwiKTt2YXIgaT1xKCk7cmV0dXJuIGkmJnIuc2V0QXR0cmlidXRlKFwibm9uY2VcIixpKSxuLmluc2VydEJlZm9yZShyLHMpLHJ9LCQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXMuZWxlbWVudD1IKGUpO3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikpLHRoaXMuc2hlZXQ9ZnVuY3Rpb24oZSl7aWYoZS5zaGVldClyZXR1cm4gZS5zaGVldDtmb3IodmFyIHQ9ZG9jdW1lbnQuc3R5bGVTaGVldHMsbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7dmFyIG89dFtuXTtpZihvLm93bmVyTm9kZT09PWUpcmV0dXJuIG99aigxNyl9KHQpLHRoaXMubGVuZ3RoPTB9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5zZXJ0UnVsZT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gdGhpcy5zaGVldC5pbnNlcnRSdWxlKHQsZSksdGhpcy5sZW5ndGgrKywhMH1jYXRjaChlKXtyZXR1cm4hMX19LHQuZGVsZXRlUnVsZT1mdW5jdGlvbihlKXt0aGlzLnNoZWV0LmRlbGV0ZVJ1bGUoZSksdGhpcy5sZW5ndGgtLX0sdC5nZXRSdWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hlZXQuY3NzUnVsZXNbZV07cmV0dXJuIHZvaWQgMCE9PXQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LmNzc1RleHQ/dC5jc3NUZXh0OlwiXCJ9LGV9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpcy5lbGVtZW50PUgoZSk7dGhpcy5ub2Rlcz10LmNoaWxkTm9kZXMsdGhpcy5sZW5ndGg9MH12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5pbnNlcnRSdWxlPWZ1bmN0aW9uKGUsdCl7aWYoZTw9dGhpcy5sZW5ndGgmJmU+PTApe3ZhciBuPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLHI9dGhpcy5ub2Rlc1tlXTtyZXR1cm4gdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShuLHJ8fG51bGwpLHRoaXMubGVuZ3RoKyssITB9cmV0dXJuITF9LHQuZGVsZXRlUnVsZT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5ub2Rlc1tlXSksdGhpcy5sZW5ndGgtLX0sdC5nZXRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPHRoaXMubGVuZ3RoP3RoaXMubm9kZXNbZV0udGV4dENvbnRlbnQ6XCJcIn0sZX0oKSxVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnJ1bGVzPVtdLHRoaXMubGVuZ3RoPTB9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5zZXJ0UnVsZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPD10aGlzLmxlbmd0aCYmKHRoaXMucnVsZXMuc3BsaWNlKGUsMCx0KSx0aGlzLmxlbmd0aCsrLCEwKX0sdC5kZWxldGVSdWxlPWZ1bmN0aW9uKGUpe3RoaXMucnVsZXMuc3BsaWNlKGUsMSksdGhpcy5sZW5ndGgtLX0sdC5nZXRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPHRoaXMubGVuZ3RoP3RoaXMucnVsZXNbZV06XCJcIn0sZX0oKSxKPUksWD17aXNTZXJ2ZXI6IUksdXNlQ1NTT01JbmplY3Rpb246IVB9LFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT1lJiYoZT1FKSx2b2lkIDA9PT10JiYodD17fSksdGhpcy5vcHRpb25zPXYoe30sWCx7fSxlKSx0aGlzLmdzPXQsdGhpcy5uYW1lcz1uZXcgTWFwKG4pLHRoaXMuc2VydmVyPSEhZS5pc1NlcnZlciwhdGhpcy5zZXJ2ZXImJkkmJkomJihKPSExLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEwpLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl07byYmXCJhY3RpdmVcIiE9PW8uZ2V0QXR0cmlidXRlKEEpJiYoWShlLG8pLG8ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKX19KHRoaXMpKX1lLnJlZ2lzdGVySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEIoZSl9O3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnJlY29uc3RydWN0V2l0aE9wdGlvbnM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49ITApLG5ldyBlKHYoe30sdGhpcy5vcHRpb25zLHt9LHQpLHRoaXMuZ3MsbiYmdGhpcy5uYW1lc3x8dm9pZCAwKX0sdC5hbGxvY2F0ZUdTSW5zdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ3NbZV09KHRoaXMuZ3NbZV18fDApKzF9LHQuZ2V0VGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFnfHwodGhpcy50YWc9KG49KHQ9dGhpcy5vcHRpb25zKS5pc1NlcnZlcixyPXQudXNlQ1NTT01JbmplY3Rpb24sbz10LnRhcmdldCxlPW4/bmV3IFUobyk6cj9uZXcgJChvKTpuZXcgVyhvKSxuZXcgVChlKSkpO3ZhciBlLHQsbixyLG99LHQuaGFzTmFtZUZvcklkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubmFtZXMuaGFzKGUpJiZ0aGlzLm5hbWVzLmdldChlKS5oYXModCl9LHQucmVnaXN0ZXJOYW1lPWZ1bmN0aW9uKGUsdCl7aWYoQihlKSx0aGlzLm5hbWVzLmhhcyhlKSl0aGlzLm5hbWVzLmdldChlKS5hZGQodCk7ZWxzZXt2YXIgbj1uZXcgU2V0O24uYWRkKHQpLHRoaXMubmFtZXMuc2V0KGUsbil9fSx0Lmluc2VydFJ1bGVzPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnJlZ2lzdGVyTmFtZShlLHQpLHRoaXMuZ2V0VGFnKCkuaW5zZXJ0UnVsZXMoQihlKSxuKX0sdC5jbGVhck5hbWVzPWZ1bmN0aW9uKGUpe3RoaXMubmFtZXMuaGFzKGUpJiZ0aGlzLm5hbWVzLmdldChlKS5jbGVhcigpfSx0LmNsZWFyUnVsZXM9ZnVuY3Rpb24oZSl7dGhpcy5nZXRUYWcoKS5jbGVhckdyb3VwKEIoZSkpLHRoaXMuY2xlYXJOYW1lcyhlKX0sdC5jbGVhclRhZz1mdW5jdGlvbigpe3RoaXMudGFnPXZvaWQgMH0sdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5nZXRUYWcoKSxuPXQubGVuZ3RoLHI9XCJcIixvPTA7bzxuO28rKyl7dmFyIHM9TShvKTtpZih2b2lkIDAhPT1zKXt2YXIgaT1lLm5hbWVzLmdldChzKSxhPXQuZ2V0R3JvdXAobyk7aWYoaSYmYSYmaS5zaXplKXt2YXIgYz1BK1wiLmdcIitvKydbaWQ9XCInK3MrJ1wiXScsdT1cIlwiO3ZvaWQgMCE9PWkmJmkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MCYmKHUrPWUrXCIsXCIpfSkpLHIrPVwiXCIrYStjKyd7Y29udGVudDpcIicrdSsnXCJ9Lyohc2MqL1xcbid9fX1yZXR1cm4gcn0odGhpcyl9LGV9KCksSz0vKGEpKGQpL2dpLFE9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSsoZT4yNT8zOTo5NykpfTtmdW5jdGlvbiBlZShlKXt2YXIgdCxuPVwiXCI7Zm9yKHQ9TWF0aC5hYnMoZSk7dD41Mjt0PXQvNTJ8MCluPVEodCU1MikrbjtyZXR1cm4oUSh0JTUyKStuKS5yZXBsYWNlKEssXCIkMS0kMlwiKX12YXIgdGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5sZW5ndGg7bjspZT0zMyplXnQuY2hhckNvZGVBdCgtLW4pO3JldHVybiBlfSxuZT1mdW5jdGlvbihlKXtyZXR1cm4gdGUoNTM4MSxlKX07ZnVuY3Rpb24gcmUoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kz0xKXt2YXIgbj1lW3RdO2lmKGIobikmJiFOKG4pKXJldHVybiExfXJldHVybiEwfXZhciBvZT1uZShcIjUuMy4xXCIpLHNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5ydWxlcz1lLHRoaXMuc3RhdGljUnVsZXNJZD1cIlwiLHRoaXMuaXNTdGF0aWM9XCJwcm9kdWN0aW9uXCI9PT1wcm9jZXNzLmVudi5OT0RFX0VOViYmKHZvaWQgMD09PW58fG4uaXNTdGF0aWMpJiZyZShlKSx0aGlzLmNvbXBvbmVudElkPXQsdGhpcy5iYXNlSGFzaD10ZShvZSx0KSx0aGlzLmJhc2VTdHlsZT1uLFoucmVnaXN0ZXJJZCh0KX1yZXR1cm4gZS5wcm90b3R5cGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuY29tcG9uZW50SWQsbz1bXTtpZih0aGlzLmJhc2VTdHlsZSYmby5wdXNoKHRoaXMuYmFzZVN0eWxlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKGUsdCxuKSksdGhpcy5pc1N0YXRpYyYmIW4uaGFzaClpZih0aGlzLnN0YXRpY1J1bGVzSWQmJnQuaGFzTmFtZUZvcklkKHIsdGhpcy5zdGF0aWNSdWxlc0lkKSlvLnB1c2godGhpcy5zdGF0aWNSdWxlc0lkKTtlbHNle3ZhciBzPU5lKHRoaXMucnVsZXMsZSx0LG4pLmpvaW4oXCJcIiksaT1lZSh0ZSh0aGlzLmJhc2VIYXNoLHMpPj4+MCk7aWYoIXQuaGFzTmFtZUZvcklkKHIsaSkpe3ZhciBhPW4ocyxcIi5cIitpLHZvaWQgMCxyKTt0Lmluc2VydFJ1bGVzKHIsaSxhKX1vLnB1c2goaSksdGhpcy5zdGF0aWNSdWxlc0lkPWl9ZWxzZXtmb3IodmFyIGM9dGhpcy5ydWxlcy5sZW5ndGgsdT10ZSh0aGlzLmJhc2VIYXNoLG4uaGFzaCksbD1cIlwiLGQ9MDtkPGM7ZCsrKXt2YXIgaD10aGlzLnJ1bGVzW2RdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBoKWwrPWgsXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmKHU9dGUodSxoK2QpKTtlbHNlIGlmKGgpe3ZhciBwPU5lKGgsZSx0LG4pLGY9QXJyYXkuaXNBcnJheShwKT9wLmpvaW4oXCJcIik6cDt1PXRlKHUsZitkKSxsKz1mfX1pZihsKXt2YXIgbT1lZSh1Pj4+MCk7aWYoIXQuaGFzTmFtZUZvcklkKHIsbSkpe3ZhciB5PW4obCxcIi5cIittLHZvaWQgMCxyKTt0Lmluc2VydFJ1bGVzKHIsbSx5KX1vLnB1c2gobSl9fXJldHVybiBvLmpvaW4oXCIgXCIpfSxlfSgpLGllPS9eXFxzKlxcL1xcLy4qJC9nbSxhZT1bXCI6XCIsXCJbXCIsXCIuXCIsXCIjXCJdO2Z1bmN0aW9uIGNlKGUpe3ZhciB0LG4scixvLHM9dm9pZCAwPT09ZT9FOmUsaT1zLm9wdGlvbnMsYT12b2lkIDA9PT1pP0U6aSxjPXMucGx1Z2lucyx1PXZvaWQgMD09PWM/dzpjLGw9bmV3IHAoYSksZD1bXSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7aWYodCl0cnl7ZSh0K1wifVwiKX1jYXRjaChlKXt9fXJldHVybiBmdW5jdGlvbihuLHIsbyxzLGksYSxjLHUsbCxkKXtzd2l0Y2gobil7Y2FzZSAxOmlmKDA9PT1sJiY2ND09PXIuY2hhckNvZGVBdCgwKSlyZXR1cm4gZShyK1wiO1wiKSxcIlwiO2JyZWFrO2Nhc2UgMjppZigwPT09dSlyZXR1cm4gcitcIi8qfCovXCI7YnJlYWs7Y2FzZSAzOnN3aXRjaCh1KXtjYXNlIDEwMjpjYXNlIDExMjpyZXR1cm4gZShvWzBdK3IpLFwiXCI7ZGVmYXVsdDpyZXR1cm4gcisoMD09PWQ/XCIvKnwqL1wiOlwiXCIpfWNhc2UtMjpyLnNwbGl0KFwiLyp8Ki99XCIpLmZvckVhY2godCl9fX0oKGZ1bmN0aW9uKGUpe2QucHVzaChlKX0pKSxmPWZ1bmN0aW9uKGUscixzKXtyZXR1cm4gMD09PXImJi0xIT09YWUuaW5kZXhPZihzW24ubGVuZ3RoXSl8fHMubWF0Y2gobyk/ZTpcIi5cIit0fTtmdW5jdGlvbiBtKGUscyxpLGEpe3ZvaWQgMD09PWEmJihhPVwiJlwiKTt2YXIgYz1lLnJlcGxhY2UoaWUsXCJcIiksdT1zJiZpP2krXCIgXCIrcytcIiB7IFwiK2MrXCIgfVwiOmM7cmV0dXJuIHQ9YSxuPXMscj1uZXcgUmVnRXhwKFwiXFxcXFwiK24rXCJcXFxcYlwiLFwiZ1wiKSxvPW5ldyBSZWdFeHAoXCIoXFxcXFwiK24rXCJcXFxcYil7Mix9XCIpLGwoaXx8IXM/XCJcIjpzLHUpfXJldHVybiBsLnVzZShbXS5jb25jYXQodSxbZnVuY3Rpb24oZSx0LG8pezI9PT1lJiZvLmxlbmd0aCYmb1swXS5sYXN0SW5kZXhPZihuKT4wJiYob1swXT1vWzBdLnJlcGxhY2UocixmKSl9LGgsZnVuY3Rpb24oZSl7aWYoLTI9PT1lKXt2YXIgdD1kO3JldHVybiBkPVtdLHR9fV0pKSxtLmhhc2g9dS5sZW5ndGg/dS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubmFtZXx8aigxNSksdGUoZSx0Lm5hbWUpfSksNTM4MSkudG9TdHJpbmcoKTpcIlwiLG19dmFyIHVlPXIuY3JlYXRlQ29udGV4dCgpLGxlPXVlLkNvbnN1bWVyLGRlPXIuY3JlYXRlQ29udGV4dCgpLGhlPShkZS5Db25zdW1lcixuZXcgWikscGU9Y2UoKTtmdW5jdGlvbiBmZSgpe3JldHVybiBzKHVlKXx8aGV9ZnVuY3Rpb24gbWUoKXtyZXR1cm4gcyhkZSl8fHBlfWZ1bmN0aW9uIHllKGUpe3ZhciB0PW8oZS5zdHlsaXNQbHVnaW5zKSxuPXRbMF0scz10WzFdLGM9ZmUoKSx1PWkoKGZ1bmN0aW9uKCl7dmFyIHQ9YztyZXR1cm4gZS5zaGVldD90PWUuc2hlZXQ6ZS50YXJnZXQmJih0PXQucmVjb25zdHJ1Y3RXaXRoT3B0aW9ucyh7dGFyZ2V0OmUudGFyZ2V0fSwhMSkpLGUuZGlzYWJsZUNTU09NSW5qZWN0aW9uJiYodD10LnJlY29uc3RydWN0V2l0aE9wdGlvbnMoe3VzZUNTU09NSW5qZWN0aW9uOiExfSkpLHR9KSxbZS5kaXNhYmxlQ1NTT01JbmplY3Rpb24sZS5zaGVldCxlLnRhcmdldF0pLGw9aSgoZnVuY3Rpb24oKXtyZXR1cm4gY2Uoe29wdGlvbnM6e3ByZWZpeDohZS5kaXNhYmxlVmVuZG9yUHJlZml4ZXN9LHBsdWdpbnM6bn0pfSksW2UuZGlzYWJsZVZlbmRvclByZWZpeGVzLG5dKTtyZXR1cm4gYSgoZnVuY3Rpb24oKXtoKG4sZS5zdHlsaXNQbHVnaW5zKXx8cyhlLnN0eWxpc1BsdWdpbnMpfSksW2Uuc3R5bGlzUGx1Z2luc10pLHIuY3JlYXRlRWxlbWVudCh1ZS5Qcm92aWRlcix7dmFsdWU6dX0sci5jcmVhdGVFbGVtZW50KGRlLlByb3ZpZGVyLHt2YWx1ZTpsfSxcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WP3IuQ2hpbGRyZW4ub25seShlLmNoaWxkcmVuKTplLmNoaWxkcmVuKSl9dmFyIHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPXRoaXM7dGhpcy5pbmplY3Q9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1wZSk7dmFyIHI9bi5uYW1lK3QuaGFzaDtlLmhhc05hbWVGb3JJZChuLmlkLHIpfHxlLmluc2VydFJ1bGVzKG4uaWQscix0KG4ucnVsZXMscixcIkBrZXlmcmFtZXNcIikpfSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGooMTIsU3RyaW5nKG4ubmFtZSkpfSx0aGlzLm5hbWU9ZSx0aGlzLmlkPVwic2Mta2V5ZnJhbWVzLVwiK2UsdGhpcy5ydWxlcz10fXJldHVybiBlLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1wZSksdGhpcy5uYW1lK2UuaGFzaH0sZX0oKSxnZT0vKFtBLVpdKS8sU2U9LyhbQS1aXSkvZyx3ZT0vXm1zLS8sRWU9ZnVuY3Rpb24oZSl7cmV0dXJuXCItXCIrZS50b0xvd2VyQ2FzZSgpfTtmdW5jdGlvbiBiZShlKXtyZXR1cm4gZ2UudGVzdChlKT9lLnJlcGxhY2UoU2UsRWUpLnJlcGxhY2Uod2UsXCItbXMtXCIpOmV9dmFyIF9lPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfHwhMT09PWV8fFwiXCI9PT1lfTtmdW5jdGlvbiBOZShlLG4scixvKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHMsaT1bXSxhPTAsYz1lLmxlbmd0aDthPGM7YSs9MSlcIlwiIT09KHM9TmUoZVthXSxuLHIsbykpJiYoQXJyYXkuaXNBcnJheShzKT9pLnB1c2guYXBwbHkoaSxzKTppLnB1c2gocykpO3JldHVybiBpfWlmKF9lKGUpKXJldHVyblwiXCI7aWYoTihlKSlyZXR1cm5cIi5cIitlLnN0eWxlZENvbXBvbmVudElkO2lmKGIoZSkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mKGw9ZSl8fGwucHJvdG90eXBlJiZsLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50fHwhbilyZXR1cm4gZTt2YXIgdT1lKG4pO3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJnQodSkmJmNvbnNvbGUud2FybihfKGUpK1wiIGlzIG5vdCBhIHN0eWxlZCBjb21wb25lbnQgYW5kIGNhbm5vdCBiZSByZWZlcnJlZCB0byB2aWEgY29tcG9uZW50IHNlbGVjdG9yLiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYWR2YW5jZWQjcmVmZXJyaW5nLXRvLW90aGVyLWNvbXBvbmVudHMgZm9yIG1vcmUgZGV0YWlscy5cIiksTmUodSxuLHIsbyl9dmFyIGw7cmV0dXJuIGUgaW5zdGFuY2VvZiB2ZT9yPyhlLmluamVjdChyLG8pLGUuZ2V0TmFtZShvKSk6ZTpTKGUpP2Z1bmN0aW9uIGUodCxuKXt2YXIgcixvLHM9W107Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmIV9lKHRbaV0pJiYoQXJyYXkuaXNBcnJheSh0W2ldKSYmdFtpXS5pc0Nzc3x8Yih0W2ldKT9zLnB1c2goYmUoaSkrXCI6XCIsdFtpXSxcIjtcIik6Uyh0W2ldKT9zLnB1c2guYXBwbHkocyxlKHRbaV0saSkpOnMucHVzaChiZShpKStcIjogXCIrKHI9aSxudWxsPT0obz10W2ldKXx8XCJib29sZWFuXCI9PXR5cGVvZiBvfHxcIlwiPT09bz9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiBvfHwwPT09b3x8ciBpbiBmP1N0cmluZyhvKS50cmltKCk6bytcInB4XCIpK1wiO1wiKSk7cmV0dXJuIG4/W24rXCIge1wiXS5jb25jYXQocyxbXCJ9XCJdKTpzfShlKTplLnRvU3RyaW5nKCl9dmFyIEFlPWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYoZS5pc0Nzcz0hMCksZX07ZnVuY3Rpb24gQ2UoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBiKGUpfHxTKGUpP0FlKE5lKGcodyxbZV0uY29uY2F0KG4pKSkpOjA9PT1uLmxlbmd0aCYmMT09PWUubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXT9lOkFlKE5lKGcoZSxuKSkpfXZhciBJZT0vaW52YWxpZCBob29rIGNhbGwvaSxQZT1uZXcgU2V0LE9lPWZ1bmN0aW9uKGUsdCl7aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVil7dmFyIG49XCJUaGUgY29tcG9uZW50IFwiK2UrKHQ/JyB3aXRoIHRoZSBpZCBvZiBcIicrdCsnXCInOlwiXCIpK1wiIGhhcyBiZWVuIGNyZWF0ZWQgZHluYW1pY2FsbHkuXFxuWW91IG1heSBzZWUgdGhpcyB3YXJuaW5nIGJlY2F1c2UgeW91J3ZlIGNhbGxlZCBzdHlsZWQgaW5zaWRlIGFub3RoZXIgY29tcG9uZW50LlxcblRvIHJlc29sdmUgdGhpcyBvbmx5IGNyZWF0ZSBuZXcgU3R5bGVkQ29tcG9uZW50cyBvdXRzaWRlIG9mIGFueSByZW5kZXIgbWV0aG9kIGFuZCBmdW5jdGlvbiBjb21wb25lbnQuXCIscj1jb25zb2xlLmVycm9yO3RyeXt2YXIgbz0hMDtjb25zb2xlLmVycm9yPWZ1bmN0aW9uKGUpe2lmKEllLnRlc3QoZSkpbz0hMSxQZS5kZWxldGUobik7ZWxzZXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheSh0PjE/dC0xOjApLGk9MTtpPHQ7aSsrKXNbaS0xXT1hcmd1bWVudHNbaV07ci5hcHBseSh2b2lkIDAsW2VdLmNvbmNhdChzKSl9fSxjKCksbyYmIVBlLmhhcyhuKSYmKGNvbnNvbGUud2FybihuKSxQZS5hZGQobikpfWNhdGNoKGUpe0llLnRlc3QoZS5tZXNzYWdlKSYmUGUuZGVsZXRlKG4pfWZpbmFsbHl7Y29uc29sZS5lcnJvcj1yfX19LFJlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49RSksZS50aGVtZSE9PW4udGhlbWUmJmUudGhlbWV8fHR8fG4udGhlbWV9LERlPS9bIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXFxcXFxdXmB7fH1+LV0rL2csamU9LyheLXwtJCkvZztmdW5jdGlvbiBUZShlKXtyZXR1cm4gZS5yZXBsYWNlKERlLFwiLVwiKS5yZXBsYWNlKGplLFwiXCIpfXZhciBrZT1mdW5jdGlvbihlKXtyZXR1cm4gZWUobmUoZSk+Pj4wKX07ZnVuY3Rpb24geGUoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihcInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxlLmNoYXJBdCgwKT09PWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkpfXZhciBWZT1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJiFBcnJheS5pc0FycmF5KGUpfSxCZT1mdW5jdGlvbihlKXtyZXR1cm5cIl9fcHJvdG9fX1wiIT09ZSYmXCJjb25zdHJ1Y3RvclwiIT09ZSYmXCJwcm90b3R5cGVcIiE9PWV9O2Z1bmN0aW9uIE1lKGUsdCxuKXt2YXIgcj1lW25dO1ZlKHQpJiZWZShyKT96ZShyLHQpOmVbbl09dH1mdW5jdGlvbiB6ZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07Zm9yKHZhciBvPTAscz1uO288cy5sZW5ndGg7bysrKXt2YXIgaT1zW29dO2lmKFZlKGkpKWZvcih2YXIgYSBpbiBpKUJlKGEpJiZNZShlLGlbYV0sYSl9cmV0dXJuIGV9dmFyIExlPXIuY3JlYXRlQ29udGV4dCgpLEdlPUxlLkNvbnN1bWVyO2Z1bmN0aW9uIEZlKGUpe3ZhciB0PXMoTGUpLG49aSgoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gaigxNCk7aWYoYihlKSl7dmFyIG49ZSh0KTtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxudWxsIT09biYmIUFycmF5LmlzQXJyYXkobikmJlwib2JqZWN0XCI9PXR5cGVvZiBuP246aig3KX1yZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8XCJvYmplY3RcIiE9dHlwZW9mIGU/aig4KTp0P3Yoe30sdCx7fSxlKTplfShlLnRoZW1lLHQpfSksW2UudGhlbWUsdF0pO3JldHVybiBlLmNoaWxkcmVuP3IuY3JlYXRlRWxlbWVudChMZS5Qcm92aWRlcix7dmFsdWU6bn0sZS5jaGlsZHJlbik6bnVsbH12YXIgWWU9e307ZnVuY3Rpb24gcWUoZSx0LG4pe3ZhciBvPU4oZSksaT0heGUoZSksYT10LmF0dHJzLGM9dm9pZCAwPT09YT93OmEsZD10LmNvbXBvbmVudElkLGg9dm9pZCAwPT09ZD9mdW5jdGlvbihlLHQpe3ZhciBuPVwic3RyaW5nXCIhPXR5cGVvZiBlP1wic2NcIjpUZShlKTtZZVtuXT0oWWVbbl18fDApKzE7dmFyIHI9bitcIi1cIitrZShcIjUuMy4xXCIrbitZZVtuXSk7cmV0dXJuIHQ/dCtcIi1cIityOnJ9KHQuZGlzcGxheU5hbWUsdC5wYXJlbnRDb21wb25lbnRJZCk6ZCxwPXQuZGlzcGxheU5hbWUsZj12b2lkIDA9PT1wP2Z1bmN0aW9uKGUpe3JldHVybiB4ZShlKT9cInN0eWxlZC5cIitlOlwiU3R5bGVkKFwiK18oZSkrXCIpXCJ9KGUpOnAsZz10LmRpc3BsYXlOYW1lJiZ0LmNvbXBvbmVudElkP1RlKHQuZGlzcGxheU5hbWUpK1wiLVwiK3QuY29tcG9uZW50SWQ6dC5jb21wb25lbnRJZHx8aCxTPW8mJmUuYXR0cnM/QXJyYXkucHJvdG90eXBlLmNvbmNhdChlLmF0dHJzLGMpLmZpbHRlcihCb29sZWFuKTpjLEE9dC5zaG91bGRGb3J3YXJkUHJvcDtvJiZlLnNob3VsZEZvcndhcmRQcm9wJiYoQT10LnNob3VsZEZvcndhcmRQcm9wP2Z1bmN0aW9uKG4scixvKXtyZXR1cm4gZS5zaG91bGRGb3J3YXJkUHJvcChuLHIsbykmJnQuc2hvdWxkRm9yd2FyZFByb3AobixyLG8pfTplLnNob3VsZEZvcndhcmRQcm9wKTt2YXIgQyxJPW5ldyBzZShuLGcsbz9lLmNvbXBvbmVudFN0eWxlOnZvaWQgMCksUD1JLmlzU3RhdGljJiYwPT09Yy5sZW5ndGgsTz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmF0dHJzLGk9ZS5jb21wb25lbnRTdHlsZSxhPWUuZGVmYXVsdFByb3BzLGM9ZS5mb2xkZWRDb21wb25lbnRJZHMsZD1lLnNob3VsZEZvcndhcmRQcm9wLGg9ZS5zdHlsZWRDb21wb25lbnRJZCxwPWUudGFyZ2V0O1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmwoaCk7dmFyIGY9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PWUmJihlPUUpO3ZhciByPXYoe30sdCx7dGhlbWU6ZX0pLG89e307cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQsbixzLGk9ZTtmb3IodCBpbiBiKGkpJiYoaT1pKHIpKSxpKXJbdF09b1t0XT1cImNsYXNzTmFtZVwiPT09dD8obj1vW3RdLHM9aVt0XSxuJiZzP24rXCIgXCIrczpufHxzKTppW3RdfSkpLFtyLG9dfShSZSh0LHMoTGUpLGEpfHxFLHQsbykseT1mWzBdLGc9ZlsxXSxTPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWZlKCkscz1tZSgpLGk9dD9lLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKEUsbyxzKTplLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKG4sbyxzKTtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZsKGkpLFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJiF0JiZyJiZyKGkpLGl9KGkscix5LFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlY/ZS53YXJuVG9vTWFueUNsYXNzZXM6dm9pZCAwKSx3PW4sXz1nLiRhc3x8dC4kYXN8fGcuYXN8fHQuYXN8fHAsTj14ZShfKSxBPWchPT10P3Yoe30sdCx7fSxnKTp0LEM9e307Zm9yKHZhciBJIGluIEEpXCIkXCIhPT1JWzBdJiZcImFzXCIhPT1JJiYoXCJmb3J3YXJkZWRBc1wiPT09ST9DLmFzPUFbSV06KGQ/ZChJLG0sXyk6IU58fG0oSSkpJiYoQ1tJXT1BW0ldKSk7cmV0dXJuIHQuc3R5bGUmJmcuc3R5bGUhPT10LnN0eWxlJiYoQy5zdHlsZT12KHt9LHQuc3R5bGUse30sZy5zdHlsZSkpLEMuY2xhc3NOYW1lPUFycmF5LnByb3RvdHlwZS5jb25jYXQoYyxoLFMhPT1oP1M6bnVsbCx0LmNsYXNzTmFtZSxnLmNsYXNzTmFtZSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLEMucmVmPXcsdShfLEMpfShDLGUsdCxQKX07cmV0dXJuIE8uZGlzcGxheU5hbWU9ZiwoQz1yLmZvcndhcmRSZWYoTykpLmF0dHJzPVMsQy5jb21wb25lbnRTdHlsZT1JLEMuZGlzcGxheU5hbWU9ZixDLnNob3VsZEZvcndhcmRQcm9wPUEsQy5mb2xkZWRDb21wb25lbnRJZHM9bz9BcnJheS5wcm90b3R5cGUuY29uY2F0KGUuZm9sZGVkQ29tcG9uZW50SWRzLGUuc3R5bGVkQ29tcG9uZW50SWQpOncsQy5zdHlsZWRDb21wb25lbnRJZD1nLEMudGFyZ2V0PW8/ZS50YXJnZXQ6ZSxDLndpdGhDb21wb25lbnQ9ZnVuY3Rpb24oZSl7dmFyIHI9dC5jb21wb25lbnRJZCxvPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixyLG89e30scz1PYmplY3Qua2V5cyhlKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKW49c1tyXSx0LmluZGV4T2Yobik+PTB8fChvW25dPWVbbl0pO3JldHVybiBvfSh0LFtcImNvbXBvbmVudElkXCJdKSxzPXImJnIrXCItXCIrKHhlKGUpP2U6VGUoXyhlKSkpO3JldHVybiBxZShlLHYoe30sbyx7YXR0cnM6Uyxjb21wb25lbnRJZDpzfSksbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFwiZGVmYXVsdFByb3BzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHM9bz96ZSh7fSxlLmRlZmF1bHRQcm9wcyx0KTp0fX0pLFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJihPZShmLGcpLEMud2FyblRvb01hbnlDbGFzc2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49e30scj0hMTtyZXR1cm4gZnVuY3Rpb24obyl7aWYoIXImJihuW29dPSEwLE9iamVjdC5rZXlzKG4pLmxlbmd0aD49MjAwKSl7dmFyIHM9dD8nIHdpdGggdGhlIGlkIG9mIFwiJyt0KydcIic6XCJcIjtjb25zb2xlLndhcm4oXCJPdmVyIDIwMCBjbGFzc2VzIHdlcmUgZ2VuZXJhdGVkIGZvciBjb21wb25lbnQgXCIrZStzK1wiLlxcbkNvbnNpZGVyIHVzaW5nIHRoZSBhdHRycyBtZXRob2QsIHRvZ2V0aGVyIHdpdGggYSBzdHlsZSBvYmplY3QgZm9yIGZyZXF1ZW50bHkgY2hhbmdlZCBzdHlsZXMuXFxuRXhhbXBsZTpcXG4gIGNvbnN0IENvbXBvbmVudCA9IHN0eWxlZC5kaXYuYXR0cnMocHJvcHMgPT4gKHtcXG4gICAgc3R5bGU6IHtcXG4gICAgICBiYWNrZ3JvdW5kOiBwcm9wcy5iYWNrZ3JvdW5kLFxcbiAgICB9LFxcbiAgfSkpYHdpZHRoOiAxMDAlO2BcXG5cXG4gIDxDb21wb25lbnQgLz5cIikscj0hMCxuPXt9fX19KGYsZykpLEMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5cIitDLnN0eWxlZENvbXBvbmVudElkfSxpJiZ5KEMsZSx7YXR0cnM6ITAsY29tcG9uZW50U3R5bGU6ITAsZGlzcGxheU5hbWU6ITAsZm9sZGVkQ29tcG9uZW50SWRzOiEwLHNob3VsZEZvcndhcmRQcm9wOiEwLHN0eWxlZENvbXBvbmVudElkOiEwLHRhcmdldDohMCx3aXRoQ29tcG9uZW50OiEwfSksQ312YXIgSGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2lmKHZvaWQgMD09PW8mJihvPUUpLCFuKHIpKXJldHVybiBqKDEsU3RyaW5nKHIpKTt2YXIgcz1mdW5jdGlvbigpe3JldHVybiB0KHIsbyxDZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9O3JldHVybiBzLndpdGhDb25maWc9ZnVuY3Rpb24obil7cmV0dXJuIGUodCxyLHYoe30sbyx7fSxuKSl9LHMuYXR0cnM9ZnVuY3Rpb24obil7cmV0dXJuIGUodCxyLHYoe30sbyx7YXR0cnM6QXJyYXkucHJvdG90eXBlLmNvbmNhdChvLmF0dHJzLG4pLmZpbHRlcihCb29sZWFuKX0pKX0sc30ocWUsZSl9O1tcImFcIixcImFiYnJcIixcImFkZHJlc3NcIixcImFyZWFcIixcImFydGljbGVcIixcImFzaWRlXCIsXCJhdWRpb1wiLFwiYlwiLFwiYmFzZVwiLFwiYmRpXCIsXCJiZG9cIixcImJpZ1wiLFwiYmxvY2txdW90ZVwiLFwiYm9keVwiLFwiYnJcIixcImJ1dHRvblwiLFwiY2FudmFzXCIsXCJjYXB0aW9uXCIsXCJjaXRlXCIsXCJjb2RlXCIsXCJjb2xcIixcImNvbGdyb3VwXCIsXCJkYXRhXCIsXCJkYXRhbGlzdFwiLFwiZGRcIixcImRlbFwiLFwiZGV0YWlsc1wiLFwiZGZuXCIsXCJkaWFsb2dcIixcImRpdlwiLFwiZGxcIixcImR0XCIsXCJlbVwiLFwiZW1iZWRcIixcImZpZWxkc2V0XCIsXCJmaWdjYXB0aW9uXCIsXCJmaWd1cmVcIixcImZvb3RlclwiLFwiZm9ybVwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwiaGVhZFwiLFwiaGVhZGVyXCIsXCJoZ3JvdXBcIixcImhyXCIsXCJodG1sXCIsXCJpXCIsXCJpZnJhbWVcIixcImltZ1wiLFwiaW5wdXRcIixcImluc1wiLFwia2JkXCIsXCJrZXlnZW5cIixcImxhYmVsXCIsXCJsZWdlbmRcIixcImxpXCIsXCJsaW5rXCIsXCJtYWluXCIsXCJtYXBcIixcIm1hcmtcIixcIm1hcnF1ZWVcIixcIm1lbnVcIixcIm1lbnVpdGVtXCIsXCJtZXRhXCIsXCJtZXRlclwiLFwibmF2XCIsXCJub3NjcmlwdFwiLFwib2JqZWN0XCIsXCJvbFwiLFwib3B0Z3JvdXBcIixcIm9wdGlvblwiLFwib3V0cHV0XCIsXCJwXCIsXCJwYXJhbVwiLFwicGljdHVyZVwiLFwicHJlXCIsXCJwcm9ncmVzc1wiLFwicVwiLFwicnBcIixcInJ0XCIsXCJydWJ5XCIsXCJzXCIsXCJzYW1wXCIsXCJzY3JpcHRcIixcInNlY3Rpb25cIixcInNlbGVjdFwiLFwic21hbGxcIixcInNvdXJjZVwiLFwic3BhblwiLFwic3Ryb25nXCIsXCJzdHlsZVwiLFwic3ViXCIsXCJzdW1tYXJ5XCIsXCJzdXBcIixcInRhYmxlXCIsXCJ0Ym9keVwiLFwidGRcIixcInRleHRhcmVhXCIsXCJ0Zm9vdFwiLFwidGhcIixcInRoZWFkXCIsXCJ0aW1lXCIsXCJ0aXRsZVwiLFwidHJcIixcInRyYWNrXCIsXCJ1XCIsXCJ1bFwiLFwidmFyXCIsXCJ2aWRlb1wiLFwid2JyXCIsXCJjaXJjbGVcIixcImNsaXBQYXRoXCIsXCJkZWZzXCIsXCJlbGxpcHNlXCIsXCJmb3JlaWduT2JqZWN0XCIsXCJnXCIsXCJpbWFnZVwiLFwibGluZVwiLFwibGluZWFyR3JhZGllbnRcIixcIm1hcmtlclwiLFwibWFza1wiLFwicGF0aFwiLFwicGF0dGVyblwiLFwicG9seWdvblwiLFwicG9seWxpbmVcIixcInJhZGlhbEdyYWRpZW50XCIsXCJyZWN0XCIsXCJzdG9wXCIsXCJzdmdcIixcInRleHRcIixcInRleHRQYXRoXCIsXCJ0c3BhblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtIZVtlXT1IZShlKX0pKTt2YXIgJGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5ydWxlcz1lLHRoaXMuY29tcG9uZW50SWQ9dCx0aGlzLmlzU3RhdGljPXJlKGUpLFoucmVnaXN0ZXJJZCh0aGlzLmNvbXBvbmVudElkKzEpfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZVN0eWxlcz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1yKE5lKHRoaXMucnVsZXMsdCxuLHIpLmpvaW4oXCJcIiksXCJcIikscz10aGlzLmNvbXBvbmVudElkK2U7bi5pbnNlcnRSdWxlcyhzLHMsbyl9LHQucmVtb3ZlU3R5bGVzPWZ1bmN0aW9uKGUsdCl7dC5jbGVhclJ1bGVzKHRoaXMuY29tcG9uZW50SWQrZSl9LHQucmVuZGVyU3R5bGVzPWZ1bmN0aW9uKGUsdCxuLHIpe2U+MiYmWi5yZWdpc3RlcklkKHRoaXMuY29tcG9uZW50SWQrZSksdGhpcy5yZW1vdmVTdHlsZXMoZSxuKSx0aGlzLmNyZWF0ZVN0eWxlcyhlLHQsbixyKX0sZX0oKTtmdW5jdGlvbiBXZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLG89MTtvPHQ7bysrKW5bby0xXT1hcmd1bWVudHNbb107dmFyIGk9Q2UuYXBwbHkodm9pZCAwLFtlXS5jb25jYXQobikpLGE9XCJzYy1nbG9iYWwtXCIra2UoSlNPTi5zdHJpbmdpZnkoaSkpLHU9bmV3ICRlKGksYSk7ZnVuY3Rpb24gbChlKXt2YXIgdD1mZSgpLG49bWUoKSxvPXMoTGUpLGw9Yyh0LmFsbG9jYXRlR1NJbnN0YW5jZShhKSkuY3VycmVudDtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZyLkNoaWxkcmVuLmNvdW50KGUuY2hpbGRyZW4pJiZjb25zb2xlLndhcm4oXCJUaGUgZ2xvYmFsIHN0eWxlIGNvbXBvbmVudCBcIithK1wiIHdhcyBnaXZlbiBjaGlsZCBKU1guIGNyZWF0ZUdsb2JhbFN0eWxlIGRvZXMgbm90IHJlbmRlciBjaGlsZHJlbi5cIiksXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmaS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPT1lLmluZGV4T2YoXCJAaW1wb3J0XCIpfSkpJiZjb25zb2xlLndhcm4oXCJQbGVhc2UgZG8gbm90IHVzZSBAaW1wb3J0IENTUyBzeW50YXggaW4gY3JlYXRlR2xvYmFsU3R5bGUgYXQgdGhpcyB0aW1lLCBhcyB0aGUgQ1NTT00gQVBJcyB3ZSB1c2UgaW4gcHJvZHVjdGlvbiBkbyBub3QgaGFuZGxlIGl0IHdlbGwuIEluc3RlYWQsIHdlIHJlY29tbWVuZCB1c2luZyBhIGxpYnJhcnkgc3VjaCBhcyByZWFjdC1oZWxtZXQgdG8gaW5qZWN0IGEgdHlwaWNhbCA8bGluaz4gbWV0YSB0YWcgdG8gdGhlIHN0eWxlc2hlZXQsIG9yIHNpbXBseSBlbWJlZGRpbmcgaXQgbWFudWFsbHkgaW4geW91ciBpbmRleC5odG1sIDxoZWFkPiBzZWN0aW9uIGZvciBhIHNpbXBsZXIgYXBwLlwiKSx0LnNlcnZlciYmaChsLGUsdCxvLG4pLGQoKGZ1bmN0aW9uKCl7aWYoIXQuc2VydmVyKXJldHVybiBoKGwsZSx0LG8sbiksZnVuY3Rpb24oKXtyZXR1cm4gdS5yZW1vdmVTdHlsZXMobCx0KX19KSxbbCxlLHQsbyxuXSksbnVsbH1mdW5jdGlvbiBoKGUsdCxuLHIsbyl7aWYodS5pc1N0YXRpYyl1LnJlbmRlclN0eWxlcyhlLE8sbixvKTtlbHNle3ZhciBzPXYoe30sdCx7dGhlbWU6UmUodCxyLGwuZGVmYXVsdFByb3BzKX0pO3UucmVuZGVyU3R5bGVzKGUscyxuLG8pfX1yZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZPZShhKSxyLm1lbW8obCl9ZnVuY3Rpb24gVWUoZSl7XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJmNvbnNvbGUud2FybihcImBrZXlmcmFtZXNgIGNhbm5vdCBiZSB1c2VkIG9uIFJlYWN0TmF0aXZlLCBvbmx5IG9uIHRoZSB3ZWIuIFRvIGRvIGFuaW1hdGlvbiBpbiBSZWFjdE5hdGl2ZSBwbGVhc2UgdXNlIEFuaW1hdGVkLlwiKTtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dmFyIG89Q2UuYXBwbHkodm9pZCAwLFtlXS5jb25jYXQobikpLmpvaW4oXCJcIikscz1rZShvKTtyZXR1cm4gbmV3IHZlKHMsbyl9dmFyIEplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXRoaXM7dGhpcy5fZW1pdFNoZWV0Q1NTPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5pbnN0YW5jZS50b1N0cmluZygpO2lmKCF0KXJldHVyblwiXCI7dmFyIG49cSgpO3JldHVyblwiPHN0eWxlIFwiK1tuJiYnbm9uY2U9XCInK24rJ1wiJyxBKyc9XCJ0cnVlXCInLCdkYXRhLXN0eWxlZC12ZXJzaW9uPVwiNS4zLjFcIiddLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKStcIj5cIit0K1wiPC9zdHlsZT5cIn0sdGhpcy5nZXRTdHlsZVRhZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWFsZWQ/aigyKTplLl9lbWl0U2hlZXRDU1MoKX0sdGhpcy5nZXRTdHlsZUVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdDtpZihlLnNlYWxlZClyZXR1cm4gaigyKTt2YXIgbj0oKHQ9e30pW0FdPVwiXCIsdFtcImRhdGEtc3R5bGVkLXZlcnNpb25cIl09XCI1LjMuMVwiLHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e19faHRtbDplLmluc3RhbmNlLnRvU3RyaW5nKCl9LHQpLG89cSgpO3JldHVybiBvJiYobi5ub25jZT1vKSxbci5jcmVhdGVFbGVtZW50KFwic3R5bGVcIix2KHt9LG4se2tleTpcInNjLTAtMFwifSkpXX0sdGhpcy5zZWFsPWZ1bmN0aW9uKCl7ZS5zZWFsZWQ9ITB9LHRoaXMuaW5zdGFuY2U9bmV3IFooe2lzU2VydmVyOiEwfSksdGhpcy5zZWFsZWQ9ITF9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY29sbGVjdFN0eWxlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZWFsZWQ/aigyKTpyLmNyZWF0ZUVsZW1lbnQoeWUse3NoZWV0OnRoaXMuaW5zdGFuY2V9LGUpfSx0LmludGVybGVhdmVXaXRoTm9kZVN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gaigzKX0sZX0oKSxYZT1mdW5jdGlvbihlKXt2YXIgdD1yLmZvcndhcmRSZWYoKGZ1bmN0aW9uKHQsbil7dmFyIG89cyhMZSksaT1lLmRlZmF1bHRQcm9wcyxhPVJlKHQsbyxpKTtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZ2b2lkIDA9PT1hJiZjb25zb2xlLndhcm4oJ1t3aXRoVGhlbWVdIFlvdSBhcmUgbm90IHVzaW5nIGEgVGhlbWVQcm92aWRlciBub3IgcGFzc2luZyBhIHRoZW1lIHByb3Agb3IgYSB0aGVtZSBpbiBkZWZhdWx0UHJvcHMgaW4gY29tcG9uZW50IGNsYXNzIFwiJytfKGUpKydcIicpLHIuY3JlYXRlRWxlbWVudChlLHYoe30sdCx7dGhlbWU6YSxyZWY6bn0pKX0pKTtyZXR1cm4geSh0LGUpLHQuZGlzcGxheU5hbWU9XCJXaXRoVGhlbWUoXCIrXyhlKStcIilcIix0fSxaZT1mdW5jdGlvbigpe3JldHVybiBzKExlKX0sS2U9e1N0eWxlU2hlZXQ6WixtYXN0ZXJTaGVldDpoZX07XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJmNvbnNvbGUud2FybihcIkl0IGxvb2tzIGxpa2UgeW91J3ZlIGltcG9ydGVkICdzdHlsZWQtY29tcG9uZW50cycgb24gUmVhY3QgTmF0aXZlLlxcblBlcmhhcHMgeW91J3JlIGxvb2tpbmcgdG8gaW1wb3J0ICdzdHlsZWQtY29tcG9uZW50cy9uYXRpdmUnP1xcblJlYWQgbW9yZSBhYm91dCB0aGlzIGF0IGh0dHBzOi8vd3d3LnN0eWxlZC1jb21wb25lbnRzLmNvbS9kb2NzL2Jhc2ljcyNyZWFjdC1uYXRpdmVcIiksXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJ0ZXN0XCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvd1tcIl9fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fXCJdPXdpbmRvd1tcIl9fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fXCJdfHwwLDE9PT13aW5kb3dbXCJfX3N0eWxlZC1jb21wb25lbnRzLWluaXRfX1wiXSYmY29uc29sZS53YXJuKFwiSXQgbG9va3MgbGlrZSB0aGVyZSBhcmUgc2V2ZXJhbCBpbnN0YW5jZXMgb2YgJ3N0eWxlZC1jb21wb25lbnRzJyBpbml0aWFsaXplZCBpbiB0aGlzIGFwcGxpY2F0aW9uLiBUaGlzIG1heSBjYXVzZSBkeW5hbWljIHN0eWxlcyB0byBub3QgcmVuZGVyIHByb3Blcmx5LCBlcnJvcnMgZHVyaW5nIHRoZSByZWh5ZHJhdGlvbiBwcm9jZXNzLCBhIG1pc3NpbmcgdGhlbWUgcHJvcCwgYW5kIG1ha2VzIHlvdXIgYXBwbGljYXRpb24gYmlnZ2VyIHdpdGhvdXQgZ29vZCByZWFzb24uXFxuXFxuU2VlIGh0dHBzOi8vcy1jLnNoLzJCQVh6ZWQgZm9yIG1vcmUgaW5mby5cIiksd2luZG93W1wiX19zdHlsZWQtY29tcG9uZW50cy1pbml0X19cIl0rPTEpO2V4cG9ydCBkZWZhdWx0IEhlO2V4cG9ydHtKZSBhcyBTZXJ2ZXJTdHlsZVNoZWV0LGxlIGFzIFN0eWxlU2hlZXRDb25zdW1lcix1ZSBhcyBTdHlsZVNoZWV0Q29udGV4dCx5ZSBhcyBTdHlsZVNoZWV0TWFuYWdlcixHZSBhcyBUaGVtZUNvbnN1bWVyLExlIGFzIFRoZW1lQ29udGV4dCxGZSBhcyBUaGVtZVByb3ZpZGVyLEtlIGFzIF9fUFJJVkFURV9fLFdlIGFzIGNyZWF0ZUdsb2JhbFN0eWxlLENlIGFzIGNzcyxOIGFzIGlzU3R5bGVkQ29tcG9uZW50LFVlIGFzIGtleWZyYW1lcyxaZSBhcyB1c2VUaGVtZSxDIGFzIHZlcnNpb24sWGUgYXMgd2l0aFRoZW1lfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlZC1jb21wb25lbnRzLmJyb3dzZXIuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IGRlZmluZVByb3BlcnR5IGZyb20gXCIuL2RlZmluZVByb3BlcnR5LmpzXCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcblxuICAgIGlmIChlbnVtZXJhYmxlT25seSkge1xuICAgICAgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gUmVhY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvZm9ybWF0UHJvZEVycm9yTWVzc2FnZS5qc1xuICpcbiAqIERvIG5vdCByZXF1aXJlIHRoaXMgbW9kdWxlIGRpcmVjdGx5ISBVc2Ugbm9ybWFsIHRocm93IGVycm9yIGNhbGxzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZXJyb3IgY29kZXNcbiAqIGR1cmluZyBidWlsZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoY29kZSkge1xuICByZXR1cm4gXCJNaW5pZmllZCBSZWR1eCBlcnJvciAjXCIgKyBjb2RlICsgXCI7IHZpc2l0IGh0dHBzOi8vcmVkdXguanMub3JnL0Vycm9ycz9jb2RlPVwiICsgY29kZSArIFwiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIFwiICsgJ3VzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMuICc7XG59XG5cbi8vIElubGluZWQgdmVyc2lvbiBvZiB0aGUgYHN5bWJvbC1vYnNlcnZhYmxlYCBwb2x5ZmlsbFxudmFyICQkb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnO1xufSkoKTtcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8vIElubGluZWQgLyBzaG9ydGVuZWQgdmVyc2lvbiBvZiBga2luZE9mYCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2tpbmQtb2ZcbmZ1bmN0aW9uIG1pbmlLaW5kT2YodmFsKSB7XG4gIGlmICh2YWwgPT09IHZvaWQgMCkgcmV0dXJuICd1bmRlZmluZWQnO1xuICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAge1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiAnYXJyYXknO1xuICBpZiAoaXNEYXRlKHZhbCkpIHJldHVybiAnZGF0ZSc7XG4gIGlmIChpc0Vycm9yKHZhbCkpIHJldHVybiAnZXJyb3InO1xuICB2YXIgY29uc3RydWN0b3JOYW1lID0gY3Rvck5hbWUodmFsKTtcblxuICBzd2l0Y2ggKGNvbnN0cnVjdG9yTmFtZSkge1xuICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgY2FzZSAnV2Vha01hcCc6XG4gICAgY2FzZSAnV2Vha1NldCc6XG4gICAgY2FzZSAnTWFwJzpcbiAgICBjYXNlICdTZXQnOlxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yTmFtZTtcbiAgfSAvLyBvdGhlclxuXG5cbiAgcmV0dXJuIHR5cGUuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKTtcbn1cblxuZnVuY3Rpb24gY3Rvck5hbWUodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nID8gdmFsLmNvbnN0cnVjdG9yLm5hbWUgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yKHZhbCkge1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIHZhbC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJiB2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5zdGFja1RyYWNlTGltaXQgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHR5cGVvZiB2YWwudG9EYXRlU3RyaW5nID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWwuZ2V0RGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLnNldERhdGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGtpbmRPZih2YWwpIHtcbiAgdmFyIHR5cGVPZlZhbCA9IHR5cGVvZiB2YWw7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0eXBlT2ZWYWwgPSBtaW5pS2luZE9mKHZhbCk7XG4gIH1cblxuICByZXR1cm4gdHlwZU9mVmFsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBhcmd1bWVudHNbM10gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgwKSA6ICdJdCBsb29rcyBsaWtlIHlvdSBhcmUgcGFzc2luZyBzZXZlcmFsIHN0b3JlIGVuaGFuY2VycyB0byAnICsgJ2NyZWF0ZVN0b3JlKCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgY29tcG9zZSB0aGVtICcgKyAndG9nZXRoZXIgdG8gYSBzaW5nbGUgZnVuY3Rpb24uIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNjcmVhdGluZy1hLXN0b3JlLXdpdGgtZW5oYW5jZXJzIGZvciBhbiBleGFtcGxlLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMSkgOiBcIkV4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKGVuaGFuY2VyKSArIFwiJ1wiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDIpIDogXCJFeHBlY3RlZCB0aGUgcm9vdCByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YocmVkdWNlcikgKyBcIidcIik7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFRoaXMgbWFrZXMgYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudExpc3RlbmVycyBzbyB3ZSBjYW4gdXNlXG4gICAqIG5leHRMaXN0ZW5lcnMgYXMgYSB0ZW1wb3JhcnkgbGlzdCB3aGlsZSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogVGhpcyBwcmV2ZW50cyBhbnkgYnVncyBhcm91bmQgY29uc3VtZXJzIGNhbGxpbmdcbiAgICogc3Vic2NyaWJlL3Vuc3Vic2NyaWJlIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDMpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuZ2V0U3RhdGUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnVGhlIHJlZHVjZXIgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIHN0YXRlIGFzIGFuIGFyZ3VtZW50LiAnICsgJ1Bhc3MgaXQgZG93biBmcm9tIHRoZSB0b3AgcmVkdWNlciBpbnN0ZWFkIG9mIHJlYWRpbmcgaXQgZnJvbSB0aGUgc3RvcmUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNCkgOiBcIkV4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKGxpc3RlbmVyKSArIFwiJ1wiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNSkgOiAnWW91IG1heSBub3QgY2FsbCBzdG9yZS5zdWJzY3JpYmUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgJyArICdjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg2KSA6ICdZb3UgbWF5IG5vdCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgbGlzdGVuZXIgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGkvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgY3VycmVudExpc3RlbmVycyA9IG51bGw7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg3KSA6IFwiQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIEluc3RlYWQsIHRoZSBhY3R1YWwgdHlwZSB3YXM6ICdcIiArIGtpbmRPZihhY3Rpb24pICsgXCInLiBZb3UgbWF5IG5lZWQgdG8gYWRkIG1pZGRsZXdhcmUgdG8geW91ciBzdG9yZSBzZXR1cCB0byBoYW5kbGUgZGlzcGF0Y2hpbmcgb3RoZXIgdmFsdWVzLCBzdWNoIGFzICdyZWR1eC10aHVuaycgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIGZ1bmN0aW9ucy4gU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL3R1dG9yaWFscy9mdW5kYW1lbnRhbHMvcGFydC00LXN0b3JlI21pZGRsZXdhcmUgYW5kIGh0dHBzOi8vcmVkdXguanMub3JnL3R1dG9yaWFscy9mdW5kYW1lbnRhbHMvcGFydC02LWFzeW5jLWxvZ2ljI3VzaW5nLXRoZS1yZWR1eC10aHVuay1taWRkbGV3YXJlIGZvciBleGFtcGxlcy5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDgpIDogJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gWW91IG1heSBoYXZlIG1pc3NwZWxsZWQgYW4gYWN0aW9uIHR5cGUgc3RyaW5nIGNvbnN0YW50LicpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg5KSA6ICdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTApIDogXCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihuZXh0UmVkdWNlcikpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7IC8vIFRoaXMgYWN0aW9uIGhhcyBhIHNpbWlsaWFyIGVmZmVjdCB0byBBY3Rpb25UeXBlcy5JTklULlxuICAgIC8vIEFueSByZWR1Y2VycyB0aGF0IGV4aXN0ZWQgaW4gYm90aCB0aGUgbmV3IGFuZCBvbGQgcm9vdFJlZHVjZXJcbiAgICAvLyB3aWxsIHJlY2VpdmUgdGhlIHByZXZpb3VzIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAgIC8vIHRoZSBuZXcgc3RhdGUgdHJlZSB3aXRoIGFueSByZWxldmFudCBkYXRhIGZyb20gdGhlIG9sZCBvbmUuXG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5SRVBMQUNFXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcgfHwgb2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxMSkgOiBcIkV4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2Yob2JzZXJ2ZXIpICsgXCInXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH0gLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG5cblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICB9KTtcbiAgcmV0dXJuIF9yZWYyID0ge1xuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gIH0sIF9yZWYyWyQkb2JzZXJ2YWJsZV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsga2luZE9mKGlucHV0U3RhdGUpICsgXCJcXFwiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIFwiICsgKFwia2V5czogXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCJcIik7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gXCJVbmV4cGVjdGVkIFwiICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyBcIiBcIiArIChcIlxcXCJcIiArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiIGZvdW5kIGluIFwiICsgYXJndW1lbnROYW1lICsgXCIuIFwiKSArIFwiRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiBcIiArIChcIlxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLlwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTIpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTMpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBcIiArIChcIkRvbid0IHRyeSB0byBoYW5kbGUgJ1wiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiJyBvciBvdGhlciBhY3Rpb25zIGluIFxcXCJyZWR1eC8qXFxcIiBcIikgKyBcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIFwiICsgXCJjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBcIiArIFwiaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIFwiICsgXCJhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC5cIik7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdhcm5pbmcoXCJObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpOyAvLyBUaGlzIGlzIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHdhcm4gYWJvdXQgdGhlIHNhbWVcbiAgLy8ga2V5cyBtdWx0aXBsZSB0aW1lcy5cblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2hhcGVBc3NlcnRpb25FcnJvcjtcblxuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTaGFwZShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGVBc3NlcnRpb25FcnJvcikge1xuICAgICAgdGhyb3cgc2hhcGVBc3NlcnRpb25FcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuXG4gICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgd2FybmluZyh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcblxuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNCkgOiBcIldoZW4gY2FsbGVkIHdpdGggYW4gYWN0aW9uIG9mIHR5cGUgXCIgKyAoYWN0aW9uVHlwZSA/IFwiXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgOiAnKHVua25vd24gdHlwZSknKSArIFwiLCB0aGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIF9rZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYW4gYWN0aW9uIGNyZWF0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGRpc3BhdGNoIHdyYXBwZWQgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTYpIDogXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YoYWN0aW9uQ3JlYXRvcnMpICsgXCInLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDE1KSA6ICdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh2b2lkIDAsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdG9yZSksIHt9LCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbi8qXG4gKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4gKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4gKi9cblxuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0IHsgQWN0aW9uVHlwZXMgYXMgX19ET19OT1RfVVNFX19BY3Rpb25UeXBlcywgYXBwbHlNaWRkbGV3YXJlLCBiaW5kQWN0aW9uQ3JlYXRvcnMsIGNvbWJpbmVSZWR1Y2VycywgY29tcG9zZSwgY3JlYXRlU3RvcmUgfTtcbiIsImltcG9ydCB7IENvbmZpZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2NvbmZpZydcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZEF1dGhTdGF0ZSgpIHtcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgY29uc3QgcmF3U3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDb25maWcucHVibGljUnVudGltZUNvbmZpZy5sb2NhbFN0b3JhZ2VLZXkpXG4gIGlmICghcmF3U3RhdGUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgY29uc3Qgc3RhdGUgPSBKU09OLnBhcnNlKHJhd1N0YXRlKVxuICByZXR1cm4gc3RhdGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVBdXRoU3RhdGUoc3RhdGU6IGFueSkge1xuICBpZiAoc3RhdGUuaXNMb2dnZWRJbikgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcubG9jYWxTdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpXG59XG4iLCJmdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuICAgICAgICBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydCBkZWZhdWx0IHRodW5rOyIsIi8qKlxuICogTUlUIExpY2Vuc2VcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIExlZSBCeXJvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzLlxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiBcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKi9cbnZhciBERUxFVEUgPSAnZGVsZXRlJztcblxuLy8gQ29uc3RhbnRzIGRlc2NyaWJpbmcgdGhlIHNpemUgb2YgdHJpZSBub2Rlcy5cbnZhciBTSElGVCA9IDU7IC8vIFJlc3VsdGVkIGluIGJlc3QgcGVyZm9ybWFuY2UgYWZ0ZXIgX19fX19fP1xudmFyIFNJWkUgPSAxIDw8IFNISUZUO1xudmFyIE1BU0sgPSBTSVpFIC0gMTtcblxuLy8gQSBjb25zaXN0ZW50IHNoYXJlZCB2YWx1ZSByZXByZXNlbnRpbmcgXCJub3Qgc2V0XCIgd2hpY2ggZXF1YWxzIG5vdGhpbmcgb3RoZXJcbi8vIHRoYW4gaXRzZWxmLCBhbmQgbm90aGluZyB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGV4dGVybmFsbHkuXG52YXIgTk9UX1NFVCA9IHt9O1xuXG4vLyBCb29sZWFuIHJlZmVyZW5jZXMsIFJvdWdoIGVxdWl2YWxlbnQgb2YgYGJvb2wgJmAuXG5mdW5jdGlvbiBNYWtlUmVmKCkge1xuICByZXR1cm4geyB2YWx1ZTogZmFsc2UgfTtcbn1cblxuZnVuY3Rpb24gU2V0UmVmKHJlZikge1xuICBpZiAocmVmKSB7XG4gICAgcmVmLnZhbHVlID0gdHJ1ZTtcbiAgfVxufVxuXG4vLyBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSByZXByZXNlbnRpbmcgYW4gXCJvd25lclwiIGZvciB0cmFuc2llbnQgd3JpdGVzXG4vLyB0byB0cmllcy4gVGhlIHJldHVybiB2YWx1ZSB3aWxsIG9ubHkgZXZlciBlcXVhbCBpdHNlbGYsIGFuZCB3aWxsIG5vdCBlcXVhbFxuLy8gdGhlIHJldHVybiBvZiBhbnkgc3Vic2VxdWVudCBjYWxsIG9mIHRoaXMgZnVuY3Rpb24uXG5mdW5jdGlvbiBPd25lcklEKCkge31cblxuZnVuY3Rpb24gZW5zdXJlU2l6ZShpdGVyKSB7XG4gIGlmIChpdGVyLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgIGl0ZXIuc2l6ZSA9IGl0ZXIuX19pdGVyYXRlKHJldHVyblRydWUpO1xuICB9XG4gIHJldHVybiBpdGVyLnNpemU7XG59XG5cbmZ1bmN0aW9uIHdyYXBJbmRleChpdGVyLCBpbmRleCkge1xuICAvLyBUaGlzIGltcGxlbWVudHMgXCJpcyBhcnJheSBpbmRleFwiIHdoaWNoIHRoZSBFQ01BU3RyaW5nIHNwZWMgZGVmaW5lcyBhczpcbiAgLy9cbiAgLy8gICAgIEEgU3RyaW5nIHByb3BlcnR5IG5hbWUgUCBpcyBhbiBhcnJheSBpbmRleCBpZiBhbmQgb25seSBpZlxuICAvLyAgICAgVG9TdHJpbmcoVG9VaW50MzIoUCkpIGlzIGVxdWFsIHRvIFAgYW5kIFRvVWludDMyKFApIGlzIG5vdCBlcXVhbFxuICAvLyAgICAgdG8gMl4zMuKIkjEuXG4gIC8vXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1hcnJheS1leG90aWMtb2JqZWN0c1xuICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgIHZhciB1aW50MzJJbmRleCA9IGluZGV4ID4+PiAwOyAvLyBOID4+PiAwIGlzIHNob3J0aGFuZCBmb3IgVG9VaW50MzJcbiAgICBpZiAoJycgKyB1aW50MzJJbmRleCAhPT0gaW5kZXggfHwgdWludDMySW5kZXggPT09IDQyOTQ5NjcyOTUpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGluZGV4ID0gdWludDMySW5kZXg7XG4gIH1cbiAgcmV0dXJuIGluZGV4IDwgMCA/IGVuc3VyZVNpemUoaXRlcikgKyBpbmRleCA6IGluZGV4O1xufVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSB7XG4gIHJldHVybiAoXG4gICAgKChiZWdpbiA9PT0gMCAmJiAhaXNOZWcoYmVnaW4pKSB8fFxuICAgICAgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBiZWdpbiA8PSAtc2l6ZSkpICYmXG4gICAgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgZW5kID49IHNpemUpKVxuICApO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpIHtcbiAgcmV0dXJuIHJlc29sdmVJbmRleChiZWdpbiwgc2l6ZSwgMCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVFbmQoZW5kLCBzaXplKSB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoZW5kLCBzaXplLCBzaXplKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUluZGV4KGluZGV4LCBzaXplLCBkZWZhdWx0SW5kZXgpIHtcbiAgLy8gU2FuaXRpemUgaW5kaWNlcyB1c2luZyB0aGlzIHNob3J0aGFuZCBmb3IgVG9JbnQzMihhcmd1bWVudClcbiAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvaW50MzJcbiAgcmV0dXJuIGluZGV4ID09PSB1bmRlZmluZWRcbiAgICA/IGRlZmF1bHRJbmRleFxuICAgIDogaXNOZWcoaW5kZXgpXG4gICAgPyBzaXplID09PSBJbmZpbml0eVxuICAgICAgPyBzaXplXG4gICAgICA6IE1hdGgubWF4KDAsIHNpemUgKyBpbmRleCkgfCAwXG4gICAgOiBzaXplID09PSB1bmRlZmluZWQgfHwgc2l6ZSA9PT0gaW5kZXhcbiAgICA/IGluZGV4XG4gICAgOiBNYXRoLm1pbihzaXplLCBpbmRleCkgfCAwO1xufVxuXG5mdW5jdGlvbiBpc05lZyh2YWx1ZSkge1xuICAvLyBBY2NvdW50IGZvciAtMCB3aGljaCBpcyBuZWdhdGl2ZSwgYnV0IG5vdCBsZXNzIHRoYW4gMC5cbiAgcmV0dXJuIHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlID09PSAtSW5maW5pdHkpO1xufVxuXG52YXIgSVNfQ09MTEVDVElPTl9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuXG5mdW5jdGlvbiBpc0NvbGxlY3Rpb24obWF5YmVDb2xsZWN0aW9uKSB7XG4gIHJldHVybiBCb29sZWFuKG1heWJlQ29sbGVjdGlvbiAmJiBtYXliZUNvbGxlY3Rpb25bSVNfQ09MTEVDVElPTl9TWU1CT0xdKTtcbn1cblxudmFyIElTX0tFWUVEX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG5cbmZ1bmN0aW9uIGlzS2V5ZWQobWF5YmVLZXllZCkge1xuICByZXR1cm4gQm9vbGVhbihtYXliZUtleWVkICYmIG1heWJlS2V5ZWRbSVNfS0VZRURfU1lNQk9MXSk7XG59XG5cbnZhciBJU19JTkRFWEVEX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcblxuZnVuY3Rpb24gaXNJbmRleGVkKG1heWJlSW5kZXhlZCkge1xuICByZXR1cm4gQm9vbGVhbihtYXliZUluZGV4ZWQgJiYgbWF5YmVJbmRleGVkW0lTX0lOREVYRURfU1lNQk9MXSk7XG59XG5cbmZ1bmN0aW9uIGlzQXNzb2NpYXRpdmUobWF5YmVBc3NvY2lhdGl2ZSkge1xuICByZXR1cm4gaXNLZXllZChtYXliZUFzc29jaWF0aXZlKSB8fCBpc0luZGV4ZWQobWF5YmVBc3NvY2lhdGl2ZSk7XG59XG5cbnZhciBDb2xsZWN0aW9uID0gZnVuY3Rpb24gQ29sbGVjdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNDb2xsZWN0aW9uKHZhbHVlKSA/IHZhbHVlIDogU2VxKHZhbHVlKTtcbn07XG5cbnZhciBLZXllZENvbGxlY3Rpb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIEtleWVkQ29sbGVjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc0tleWVkKHZhbHVlKSA/IHZhbHVlIDogS2V5ZWRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgS2V5ZWRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBLZXllZENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIEtleWVkQ29sbGVjdGlvbjtcbn0oQ29sbGVjdGlvbikpO1xuXG52YXIgSW5kZXhlZENvbGxlY3Rpb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIEluZGV4ZWRDb2xsZWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzSW5kZXhlZCh2YWx1ZSkgPyB2YWx1ZSA6IEluZGV4ZWRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgSW5kZXhlZENvbGxlY3Rpb24uX19wcm90b19fID0gQ29sbGVjdGlvbjtcbiAgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbmRleGVkQ29sbGVjdGlvbjtcblxuICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxudmFyIFNldENvbGxlY3Rpb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIFNldENvbGxlY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNDb2xsZWN0aW9uKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IFNldFNlcSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24gKSBTZXRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIFNldENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIFNldENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxuQ29sbGVjdGlvbi5LZXllZCA9IEtleWVkQ29sbGVjdGlvbjtcbkNvbGxlY3Rpb24uSW5kZXhlZCA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuQ29sbGVjdGlvbi5TZXQgPSBTZXRDb2xsZWN0aW9uO1xuXG52YXIgSVNfU0VRX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX1NFUV9fQEAnO1xuXG5mdW5jdGlvbiBpc1NlcShtYXliZVNlcSkge1xuICByZXR1cm4gQm9vbGVhbihtYXliZVNlcSAmJiBtYXliZVNlcVtJU19TRVFfU1lNQk9MXSk7XG59XG5cbnZhciBJU19SRUNPUkRfU1lNQk9MID0gJ0BAX19JTU1VVEFCTEVfUkVDT1JEX19AQCc7XG5cbmZ1bmN0aW9uIGlzUmVjb3JkKG1heWJlUmVjb3JkKSB7XG4gIHJldHVybiBCb29sZWFuKG1heWJlUmVjb3JkICYmIG1heWJlUmVjb3JkW0lTX1JFQ09SRF9TWU1CT0xdKTtcbn1cblxuZnVuY3Rpb24gaXNJbW11dGFibGUobWF5YmVJbW11dGFibGUpIHtcbiAgcmV0dXJuIGlzQ29sbGVjdGlvbihtYXliZUltbXV0YWJsZSkgfHwgaXNSZWNvcmQobWF5YmVJbW11dGFibGUpO1xufVxuXG52YXIgSVNfT1JERVJFRF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbmZ1bmN0aW9uIGlzT3JkZXJlZChtYXliZU9yZGVyZWQpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVPcmRlcmVkICYmIG1heWJlT3JkZXJlZFtJU19PUkRFUkVEX1NZTUJPTF0pO1xufVxuXG52YXIgSVRFUkFURV9LRVlTID0gMDtcbnZhciBJVEVSQVRFX1ZBTFVFUyA9IDE7XG52YXIgSVRFUkFURV9FTlRSSUVTID0gMjtcblxudmFyIFJFQUxfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbnZhciBJVEVSQVRPUl9TWU1CT0wgPSBSRUFMX0lURVJBVE9SX1NZTUJPTCB8fCBGQVVYX0lURVJBVE9SX1NZTUJPTDtcblxudmFyIEl0ZXJhdG9yID0gZnVuY3Rpb24gSXRlcmF0b3IobmV4dCkge1xuICB0aGlzLm5leHQgPSBuZXh0O1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICByZXR1cm4gJ1tJdGVyYXRvcl0nO1xufTtcblxuSXRlcmF0b3IuS0VZUyA9IElURVJBVEVfS0VZUztcbkl0ZXJhdG9yLlZBTFVFUyA9IElURVJBVEVfVkFMVUVTO1xuSXRlcmF0b3IuRU5UUklFUyA9IElURVJBVEVfRU5UUklFUztcblxuSXRlcmF0b3IucHJvdG90eXBlLmluc3BlY3QgPSBJdGVyYXRvci5wcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG59O1xuSXRlcmF0b3IucHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBpdGVyYXRvclJlc3VsdCkge1xuICB2YXIgdmFsdWUgPSB0eXBlID09PSAwID8gayA6IHR5cGUgPT09IDEgPyB2IDogW2ssIHZdO1xuICBpdGVyYXRvclJlc3VsdFxuICAgID8gKGl0ZXJhdG9yUmVzdWx0LnZhbHVlID0gdmFsdWUpXG4gICAgOiAoaXRlcmF0b3JSZXN1bHQgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB9KTtcbiAgcmV0dXJuIGl0ZXJhdG9yUmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpdGVyYXRvckRvbmUoKSB7XG4gIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbn1cblxuZnVuY3Rpb24gaGFzSXRlcmF0b3IobWF5YmVJdGVyYWJsZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShtYXliZUl0ZXJhYmxlKSkge1xuICAgIC8vIElFMTEgdHJpY2sgYXMgaXQgZG9lcyBub3Qgc3VwcG9ydCBgU3ltYm9sLml0ZXJhdG9yYFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuICEhZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbn1cblxuZnVuY3Rpb24gaXNJdGVyYXRvcihtYXliZUl0ZXJhdG9yKSB7XG4gIHJldHVybiBtYXliZUl0ZXJhdG9yICYmIHR5cGVvZiBtYXliZUl0ZXJhdG9yLm5leHQgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSk7XG4gIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4uY2FsbChpdGVyYWJsZSk7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPVxuICAgIGl0ZXJhYmxlICYmXG4gICAgKChSRUFMX0lURVJBVE9SX1NZTUJPTCAmJiBpdGVyYWJsZVtSRUFMX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICBpdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0VudHJpZXNJdGVyYWJsZShtYXliZUl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbiAgcmV0dXJuIGl0ZXJhdG9yRm4gJiYgaXRlcmF0b3JGbiA9PT0gbWF5YmVJdGVyYWJsZS5lbnRyaWVzO1xufVxuXG5mdW5jdGlvbiBpc0tleXNJdGVyYWJsZShtYXliZUl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbiAgcmV0dXJuIGl0ZXJhdG9yRm4gJiYgaXRlcmF0b3JGbiA9PT0gbWF5YmVJdGVyYWJsZS5rZXlzO1xufVxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICB2YWx1ZSAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlLmxlbmd0aCkgJiZcbiAgICB2YWx1ZS5sZW5ndGggPj0gMCAmJlxuICAgICh2YWx1ZS5sZW5ndGggPT09IDBcbiAgICAgID8gLy8gT25seSB7bGVuZ3RoOiAwfSBpcyBjb25zaWRlcmVkIEFycmF5LWxpa2UuXG4gICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDFcbiAgICAgIDogLy8gQW4gb2JqZWN0IGlzIG9ubHkgQXJyYXktbGlrZSBpZiBpdCBoYXMgYSBwcm9wZXJ0eSB3aGVyZSB0aGUgbGFzdCB2YWx1ZVxuICAgICAgICAvLyBpbiB0aGUgYXJyYXktbGlrZSBtYXkgYmUgZm91bmQgKHdoaWNoIGNvdWxkIGJlIHVuZGVmaW5lZCkuXG4gICAgICAgIHZhbHVlLmhhc093blByb3BlcnR5KHZhbHVlLmxlbmd0aCAtIDEpKVxuICApO1xufVxuXG52YXIgU2VxID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNlcXVlbmNlKClcbiAgICAgIDogaXNJbW11dGFibGUodmFsdWUpXG4gICAgICA/IHZhbHVlLnRvU2VxKClcbiAgICAgIDogc2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIFNlcS5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2VxO1xuXG4gIFNlcS5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbiB0b1NlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgeycsICd9Jyk7XG4gIH07XG5cbiAgU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IGZ1bmN0aW9uIGNhY2hlUmVzdWx0ICgpIHtcbiAgICBpZiAoIXRoaXMuX2NhY2hlICYmIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQpIHtcbiAgICAgIHRoaXMuX2NhY2hlID0gdGhpcy5lbnRyeVNlcSgpLnRvQXJyYXkoKTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2NhY2hlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpXG5cbiAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgc2l6ZSA9IGNhY2hlLmxlbmd0aDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgICAgaWYgKGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpXG5cbiAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIHNpemUgPSBjYWNoZS5sZW5ndGg7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICByZXR1cm4gU2VxO1xufShDb2xsZWN0aW9uKSk7XG5cbnZhciBLZXllZFNlcSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBLZXllZFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2VxdWVuY2UoKS50b0tleWVkU2VxKClcbiAgICAgIDogaXNDb2xsZWN0aW9uKHZhbHVlKVxuICAgICAgPyBpc0tleWVkKHZhbHVlKVxuICAgICAgICA/IHZhbHVlLnRvU2VxKClcbiAgICAgICAgOiB2YWx1ZS5mcm9tRW50cnlTZXEoKVxuICAgICAgOiBpc1JlY29yZCh2YWx1ZSlcbiAgICAgID8gdmFsdWUudG9TZXEoKVxuICAgICAgOiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIFNlcSApIEtleWVkU2VxLl9fcHJvdG9fXyA9IFNlcTtcbiAgS2V5ZWRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgS2V5ZWRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gS2V5ZWRTZXE7XG5cbiAgS2V5ZWRTZXEucHJvdG90eXBlLnRvS2V5ZWRTZXEgPSBmdW5jdGlvbiB0b0tleWVkU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gS2V5ZWRTZXE7XG59KFNlcSkpO1xuXG52YXIgSW5kZXhlZFNlcSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBJbmRleGVkU2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXF1ZW5jZSgpXG4gICAgICA6IGlzQ29sbGVjdGlvbih2YWx1ZSlcbiAgICAgID8gaXNLZXllZCh2YWx1ZSlcbiAgICAgICAgPyB2YWx1ZS5lbnRyeVNlcSgpXG4gICAgICAgIDogdmFsdWUudG9JbmRleGVkU2VxKClcbiAgICAgIDogaXNSZWNvcmQodmFsdWUpXG4gICAgICA/IHZhbHVlLnRvU2VxKCkuZW50cnlTZXEoKVxuICAgICAgOiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggU2VxICkgSW5kZXhlZFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIEluZGV4ZWRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbmRleGVkU2VxO1xuXG4gIEluZGV4ZWRTZXEub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiBJbmRleGVkU2VxKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9JbmRleGVkU2VxID0gZnVuY3Rpb24gdG9JbmRleGVkU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBJbmRleGVkU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgWycsICddJyk7XG4gIH07XG5cbiAgcmV0dXJuIEluZGV4ZWRTZXE7XG59KFNlcSkpO1xuXG52YXIgU2V0U2VxID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2VxKSB7XG4gIGZ1bmN0aW9uIFNldFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBpc0NvbGxlY3Rpb24odmFsdWUpICYmICFpc0Fzc29jaWF0aXZlKHZhbHVlKSA/IHZhbHVlIDogSW5kZXhlZFNlcSh2YWx1ZSlcbiAgICApLnRvU2V0U2VxKCk7XG4gIH1cblxuICBpZiAoIFNlcSApIFNldFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIFNldFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXEgJiYgU2VxLnByb3RvdHlwZSApO1xuICBTZXRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0U2VxO1xuXG4gIFNldFNlcS5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIFNldFNlcShhcmd1bWVudHMpO1xuICB9O1xuXG4gIFNldFNlcS5wcm90b3R5cGUudG9TZXRTZXEgPSBmdW5jdGlvbiB0b1NldFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIFNldFNlcTtcbn0oU2VxKSk7XG5cblNlcS5pc1NlcSA9IGlzU2VxO1xuU2VxLktleWVkID0gS2V5ZWRTZXE7XG5TZXEuU2V0ID0gU2V0U2VxO1xuU2VxLkluZGV4ZWQgPSBJbmRleGVkU2VxO1xuXG5TZXEucHJvdG90eXBlW0lTX1NFUV9TWU1CT0xdID0gdHJ1ZTtcblxuLy8gI3ByYWdtYSBSb290IFNlcXVlbmNlc1xuXG52YXIgQXJyYXlTZXEgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIEFycmF5U2VxKGFycmF5KSB7XG4gICAgdGhpcy5fYXJyYXkgPSBhcnJheTtcbiAgICB0aGlzLnNpemUgPSBhcnJheS5sZW5ndGg7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBBcnJheVNlcS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBBcnJheVNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIEFycmF5U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFycmF5U2VxO1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl9hcnJheVt3cmFwSW5kZXgodGhpcywgaW5kZXgpXSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgdmFyIHNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICB2YXIgaWkgPSByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKztcbiAgICAgIGlmIChmbihhcnJheVtpaV0sIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgIHZhciBzaXplID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBpaSA9IHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaWksIGFycmF5W2lpXSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEFycmF5U2VxO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBPYmplY3RTZXEgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChLZXllZFNlcSkge1xuICBmdW5jdGlvbiBPYmplY3RTZXEob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgIHRoaXMuX29iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICB0aGlzLnNpemUgPSBrZXlzLmxlbmd0aDtcbiAgfVxuXG4gIGlmICggS2V5ZWRTZXEgKSBPYmplY3RTZXEuX19wcm90b19fID0gS2V5ZWRTZXE7XG4gIE9iamVjdFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZFNlcSAmJiBLZXllZFNlcS5wcm90b3R5cGUgKTtcbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9iamVjdFNlcTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIGlmIChub3RTZXRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9vYmplY3Rba2V5XTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwodGhpcy5fb2JqZWN0LCBrZXkpO1xuICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgIHZhciBzaXplID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICBpZiAoZm4ob2JqZWN0W2tleV0sIGtleSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgdmFyIHNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrZXksIG9iamVjdFtrZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0U2VxO1xufShLZXllZFNlcSkpO1xuT2JqZWN0U2VxLnByb3RvdHlwZVtJU19PUkRFUkVEX1NZTUJPTF0gPSB0cnVlO1xuXG52YXIgQ29sbGVjdGlvblNlcSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gQ29sbGVjdGlvblNlcShjb2xsZWN0aW9uKSB7XG4gICAgdGhpcy5fY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgdGhpcy5zaXplID0gY29sbGVjdGlvbi5sZW5ndGggfHwgY29sbGVjdGlvbi5zaXplO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgQ29sbGVjdGlvblNlcS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xsZWN0aW9uU2VxO1xuXG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRlVW5jYWNoZWQgKGZuLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLl9jb2xsZWN0aW9uO1xuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBpZiAoaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yVW5jYWNoZWQgKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuX2NvbGxlY3Rpb247XG4gICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoY29sbGVjdGlvbik7XG4gICAgaWYgKCFpc0l0ZXJhdG9yKGl0ZXJhdG9yKSkge1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihpdGVyYXRvckRvbmUpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBDb2xsZWN0aW9uU2VxO1xufShJbmRleGVkU2VxKSk7XG5cbi8vICMgcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxudmFyIEVNUFRZX1NFUTtcblxuZnVuY3Rpb24gZW1wdHlTZXF1ZW5jZSgpIHtcbiAgcmV0dXJuIEVNUFRZX1NFUSB8fCAoRU1QVFlfU0VRID0gbmV3IEFycmF5U2VxKFtdKSk7XG59XG5cbmZ1bmN0aW9uIGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICBpZiAoc2VxKSB7XG4gICAgcmV0dXJuIHNlcS5mcm9tRW50cnlTZXEoKTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBuZXcgT2JqZWN0U2VxKHZhbHVlKTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdFeHBlY3RlZCBBcnJheSBvciBjb2xsZWN0aW9uIG9iamVjdCBvZiBbaywgdl0gZW50cmllcywgb3Iga2V5ZWQgb2JqZWN0OiAnICtcbiAgICAgIHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIGlmIChzZXEpIHtcbiAgICByZXR1cm4gc2VxO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0V4cGVjdGVkIEFycmF5IG9yIGNvbGxlY3Rpb24gb2JqZWN0IG9mIHZhbHVlczogJyArIHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgaWYgKHNlcSkge1xuICAgIHJldHVybiBpc0VudHJpZXNJdGVyYWJsZSh2YWx1ZSlcbiAgICAgID8gc2VxLmZyb21FbnRyeVNlcSgpXG4gICAgICA6IGlzS2V5c0l0ZXJhYmxlKHZhbHVlKVxuICAgICAgPyBzZXEudG9TZXRTZXEoKVxuICAgICAgOiBzZXE7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdFNlcSh2YWx1ZSk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgY29sbGVjdGlvbiBvYmplY3Qgb2YgdmFsdWVzLCBvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKHZhbHVlKVxuICAgID8gbmV3IEFycmF5U2VxKHZhbHVlKVxuICAgIDogaGFzSXRlcmF0b3IodmFsdWUpXG4gICAgPyBuZXcgQ29sbGVjdGlvblNlcSh2YWx1ZSlcbiAgICA6IHVuZGVmaW5lZDtcbn1cblxudmFyIElTX01BUF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcblxuZnVuY3Rpb24gaXNNYXAobWF5YmVNYXApIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVNYXAgJiYgbWF5YmVNYXBbSVNfTUFQX1NZTUJPTF0pO1xufVxuXG5mdW5jdGlvbiBpc09yZGVyZWRNYXAobWF5YmVPcmRlcmVkTWFwKSB7XG4gIHJldHVybiBpc01hcChtYXliZU9yZGVyZWRNYXApICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRNYXApO1xufVxuXG5mdW5jdGlvbiBpc1ZhbHVlT2JqZWN0KG1heWJlVmFsdWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgbWF5YmVWYWx1ZSAmJlxuICAgICAgdHlwZW9mIG1heWJlVmFsdWUuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgbWF5YmVWYWx1ZS5oYXNoQ29kZSA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuXG4vKipcbiAqIEFuIGV4dGVuc2lvbiBvZiB0aGUgXCJzYW1lLXZhbHVlXCIgYWxnb3JpdGhtIGFzIFtkZXNjcmliZWQgZm9yIHVzZSBieSBFUzYgTWFwXG4gKiBhbmQgU2V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXAjS2V5X2VxdWFsaXR5KVxuICpcbiAqIE5hTiBpcyBjb25zaWRlcmVkIHRoZSBzYW1lIGFzIE5hTiwgaG93ZXZlciAtMCBhbmQgMCBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICogdmFsdWUsIHdoaWNoIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBhbGdvcml0aG0gZGVzY3JpYmVkIGJ5XG4gKiBbYE9iamVjdC5pc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pcykuXG4gKlxuICogVGhpcyBpcyBleHRlbmRlZCBmdXJ0aGVyIHRvIGFsbG93IE9iamVjdHMgdG8gZGVzY3JpYmUgdGhlIHZhbHVlcyB0aGV5XG4gKiByZXByZXNlbnQsIGJ5IHdheSBvZiBgdmFsdWVPZmAgb3IgYGVxdWFsc2AgKGFuZCBgaGFzaENvZGVgKS5cbiAqXG4gKiBOb3RlOiBiZWNhdXNlIG9mIHRoaXMgZXh0ZW5zaW9uLCB0aGUga2V5IGVxdWFsaXR5IG9mIEltbXV0YWJsZS5NYXAgYW5kIHRoZVxuICogdmFsdWUgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLlNldCB3aWxsIGRpZmZlciBmcm9tIEVTNiBNYXAgYW5kIFNldC5cbiAqXG4gKiAjIyMgRGVmaW5pbmcgY3VzdG9tIHZhbHVlc1xuICpcbiAqIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGUgdmFsdWUgYW4gb2JqZWN0IHJlcHJlc2VudHMgaXMgYnkgaW1wbGVtZW50aW5nXG4gKiBgdmFsdWVPZmAuIEZvciBleGFtcGxlLCBgRGF0ZWAgcmVwcmVzZW50cyBhIHZhbHVlIGJ5IHJldHVybmluZyBhIHVuaXhcbiAqIHRpbWVzdGFtcCBmb3IgYHZhbHVlT2ZgOlxuICpcbiAqICAgICB2YXIgZGF0ZTEgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTsgLy8gRnJpIEZlYiAxMyAyMDA5IC4uLlxuICogICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApO1xuICogICAgIGRhdGUxLnZhbHVlT2YoKTsgLy8gMTIzNDU2Nzg5MDAwMFxuICogICAgIGFzc2VydCggZGF0ZTEgIT09IGRhdGUyICk7XG4gKiAgICAgYXNzZXJ0KCBJbW11dGFibGUuaXMoIGRhdGUxLCBkYXRlMiApICk7XG4gKlxuICogTm90ZTogb3ZlcnJpZGluZyBgdmFsdWVPZmAgbWF5IGhhdmUgb3RoZXIgaW1wbGljYXRpb25zIGlmIHlvdSB1c2UgdGhpcyBvYmplY3RcbiAqIHdoZXJlIEphdmFTY3JpcHQgZXhwZWN0cyBhIHByaW1pdGl2ZSwgc3VjaCBhcyBpbXBsaWNpdCBzdHJpbmcgY29lcmNpb24uXG4gKlxuICogRm9yIG1vcmUgY29tcGxleCB0eXBlcywgZXNwZWNpYWxseSBjb2xsZWN0aW9ucywgaW1wbGVtZW50aW5nIGB2YWx1ZU9mYCBtYXlcbiAqIG5vdCBiZSBwZXJmb3JtYW50LiBBbiBhbHRlcm5hdGl2ZSBpcyB0byBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gKlxuICogYGVxdWFsc2AgdGFrZXMgYW5vdGhlciBvYmplY3QsIHByZXN1bWFibHkgb2Ygc2ltaWxhciB0eXBlLCBhbmQgcmV0dXJucyB0cnVlXG4gKiBpZiBpdCBpcyBlcXVhbC4gRXF1YWxpdHkgaXMgc3ltbWV0cmljYWwsIHNvIHRoZSBzYW1lIHJlc3VsdCBzaG91bGQgYmVcbiAqIHJldHVybmVkIGlmIHRoaXMgYW5kIHRoZSBhcmd1bWVudCBhcmUgZmxpcHBlZC5cbiAqXG4gKiAgICAgYXNzZXJ0KCBhLmVxdWFscyhiKSA9PT0gYi5lcXVhbHMoYSkgKTtcbiAqXG4gKiBgaGFzaENvZGVgIHJldHVybnMgYSAzMmJpdCBpbnRlZ2VyIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9iamVjdCB3aGljaCB3aWxsXG4gKiBiZSB1c2VkIHRvIGRldGVybWluZSBob3cgdG8gc3RvcmUgdGhlIHZhbHVlIG9iamVjdCBpbiBhIE1hcCBvciBTZXQuIFlvdSBtdXN0XG4gKiBwcm92aWRlIGJvdGggb3IgbmVpdGhlciBtZXRob2RzLCBvbmUgbXVzdCBub3QgZXhpc3Qgd2l0aG91dCB0aGUgb3RoZXIuXG4gKlxuICogQWxzbywgYW4gaW1wb3J0YW50IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZXNlIG1ldGhvZHMgbXVzdCBiZSB1cGhlbGQ6IGlmIHR3b1xuICogdmFsdWVzIGFyZSBlcXVhbCwgdGhleSAqbXVzdCogcmV0dXJuIHRoZSBzYW1lIGhhc2hDb2RlLiBJZiB0aGUgdmFsdWVzIGFyZSBub3RcbiAqIGVxdWFsLCB0aGV5IG1pZ2h0IGhhdmUgdGhlIHNhbWUgaGFzaENvZGU7IHRoaXMgaXMgY2FsbGVkIGEgaGFzaCBjb2xsaXNpb24sXG4gKiBhbmQgd2hpbGUgdW5kZXNpcmFibGUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIGl0IGlzIGFjY2VwdGFibGUuXG4gKlxuICogICAgIGlmIChhLmVxdWFscyhiKSkge1xuICogICAgICAgYXNzZXJ0KCBhLmhhc2hDb2RlKCkgPT09IGIuaGFzaENvZGUoKSApO1xuICogICAgIH1cbiAqXG4gKiBBbGwgSW1tdXRhYmxlIGNvbGxlY3Rpb25zIGFyZSBWYWx1ZSBPYmplY3RzOiB0aGV5IGltcGxlbWVudCBgZXF1YWxzKClgXG4gKiBhbmQgYGhhc2hDb2RlKClgLlxuICovXG5mdW5jdGlvbiBpcyh2YWx1ZUEsIHZhbHVlQikge1xuICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKFxuICAgIHR5cGVvZiB2YWx1ZUEudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZUIudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICB2YWx1ZUEgPSB2YWx1ZUEudmFsdWVPZigpO1xuICAgIHZhbHVlQiA9IHZhbHVlQi52YWx1ZU9mKCk7XG4gICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiAhIShcbiAgICBpc1ZhbHVlT2JqZWN0KHZhbHVlQSkgJiZcbiAgICBpc1ZhbHVlT2JqZWN0KHZhbHVlQikgJiZcbiAgICB2YWx1ZUEuZXF1YWxzKHZhbHVlQilcbiAgKTtcbn1cblxudmFyIGltdWwgPVxuICB0eXBlb2YgTWF0aC5pbXVsID09PSAnZnVuY3Rpb24nICYmIE1hdGguaW11bCgweGZmZmZmZmZmLCAyKSA9PT0gLTJcbiAgICA/IE1hdGguaW11bFxuICAgIDogZnVuY3Rpb24gaW11bChhLCBiKSB7XG4gICAgICAgIGEgfD0gMDsgLy8gaW50XG4gICAgICAgIGIgfD0gMDsgLy8gaW50XG4gICAgICAgIHZhciBjID0gYSAmIDB4ZmZmZjtcbiAgICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgICAvLyBTaGlmdCBieSAwIGZpeGVzIHRoZSBzaWduIG9uIHRoZSBoaWdoIHBhcnQuXG4gICAgICAgIHJldHVybiAoYyAqIGQgKyAoKCgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpKSA8PCAxNikgPj4+IDApKSB8IDA7IC8vIGludFxuICAgICAgfTtcblxuLy8gdjggaGFzIGFuIG9wdGltaXphdGlvbiBmb3Igc3RvcmluZyAzMS1iaXQgc2lnbmVkIG51bWJlcnMuXG4vLyBWYWx1ZXMgd2hpY2ggaGF2ZSBlaXRoZXIgMDAgb3IgMTEgYXMgdGhlIGhpZ2ggb3JkZXIgYml0cyBxdWFsaWZ5LlxuLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuLy8gdGhlIHNpZ24gYml0LlxuZnVuY3Rpb24gc21pKGkzMikge1xuICByZXR1cm4gKChpMzIgPj4+IDEpICYgMHg0MDAwMDAwMCkgfCAoaTMyICYgMHhiZmZmZmZmZik7XG59XG5cbnZhciBkZWZhdWx0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gaGFzaChvKSB7XG4gIGlmIChvID09IG51bGwpIHtcbiAgICByZXR1cm4gaGFzaE51bGxpc2gobyk7XG4gIH1cblxuICBpZiAodHlwZW9mIG8uaGFzaENvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBEcm9wIGFueSBoaWdoIGJpdHMgZnJvbSBhY2NpZGVudGFsbHkgbG9uZyBoYXNoIGNvZGVzLlxuICAgIHJldHVybiBzbWkoby5oYXNoQ29kZShvKSk7XG4gIH1cblxuICB2YXIgdiA9IHZhbHVlT2Yobyk7XG5cbiAgaWYgKHYgPT0gbnVsbCkge1xuICAgIHJldHVybiBoYXNoTnVsbGlzaCh2KTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIC8vIFRoZSBoYXNoIHZhbHVlcyBmb3IgYnVpbHQtaW4gY29uc3RhbnRzIGFyZSBhIDEgdmFsdWUgZm9yIGVhY2ggNS1ieXRlXG4gICAgICAvLyBzaGlmdCByZWdpb24gZXhwZWN0IGZvciB0aGUgZmlyc3QsIHdoaWNoIGVuY29kZXMgdGhlIHZhbHVlLiBUaGlzXG4gICAgICAvLyByZWR1Y2VzIHRoZSBvZGRzIG9mIGEgaGFzaCBjb2xsaXNpb24gZm9yIHRoZXNlIGNvbW1vbiB2YWx1ZXMuXG4gICAgICByZXR1cm4gdiA/IDB4NDIxMDg0MjEgOiAweDQyMTA4NDIwO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaGFzaE51bWJlcih2KTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHYubGVuZ3RoID4gU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTlxuICAgICAgICA/IGNhY2hlZEhhc2hTdHJpbmcodilcbiAgICAgICAgOiBoYXNoU3RyaW5nKHYpO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGhhc2hKU09iaih2KTtcbiAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgcmV0dXJuIGhhc2hTeW1ib2wodik7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0eXBlb2Ygdi50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gaGFzaFN0cmluZyh2LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSB0eXBlICcgKyB0eXBlb2YgdiArICcgY2Fubm90IGJlIGhhc2hlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNoTnVsbGlzaChudWxsaXNoKSB7XG4gIHJldHVybiBudWxsaXNoID09PSBudWxsID8gMHg0MjEwODQyMiA6IC8qIHVuZGVmaW5lZCAqLyAweDQyMTA4NDIzO1xufVxuXG4vLyBDb21wcmVzcyBhcmJpdHJhcmlseSBsYXJnZSBudW1iZXJzIGludG8gc21pIGhhc2hlcy5cbmZ1bmN0aW9uIGhhc2hOdW1iZXIobikge1xuICBpZiAobiAhPT0gbiB8fCBuID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBoYXNoID0gbiB8IDA7XG4gIGlmIChoYXNoICE9PSBuKSB7XG4gICAgaGFzaCBePSBuICogMHhmZmZmZmZmZjtcbiAgfVxuICB3aGlsZSAobiA+IDB4ZmZmZmZmZmYpIHtcbiAgICBuIC89IDB4ZmZmZmZmZmY7XG4gICAgaGFzaCBePSBuO1xuICB9XG4gIHJldHVybiBzbWkoaGFzaCk7XG59XG5cbmZ1bmN0aW9uIGNhY2hlZEhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciBoYXNoZWQgPSBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXTtcbiAgaWYgKGhhc2hlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaGFzaGVkID0gaGFzaFN0cmluZyhzdHJpbmcpO1xuICAgIGlmIChTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID09PSBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSkge1xuICAgICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gICAgICBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcbiAgICB9XG4gICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSsrO1xuICAgIHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddID0gaGFzaGVkO1xuICB9XG4gIHJldHVybiBoYXNoZWQ7XG59XG5cbi8vIGh0dHA6Ly9qc3BlcmYuY29tL2hhc2hpbmctc3RyaW5nc1xuZnVuY3Rpb24gaGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgLy8gVGhpcyBpcyB0aGUgaGFzaCBmcm9tIEpWTVxuICAvLyBUaGUgaGFzaCBjb2RlIGZvciBhIHN0cmluZyBpcyBjb21wdXRlZCBhc1xuICAvLyBzWzBdICogMzEgXiAobiAtIDEpICsgc1sxXSAqIDMxIF4gKG4gLSAyKSArIC4uLiArIHNbbiAtIDFdLFxuICAvLyB3aGVyZSBzW2ldIGlzIHRoZSBpdGggY2hhcmFjdGVyIG9mIHRoZSBzdHJpbmcgYW5kIG4gaXMgdGhlIGxlbmd0aCBvZlxuICAvLyB0aGUgc3RyaW5nLiBXZSBcIm1vZFwiIHRoZSByZXN1bHQgdG8gbWFrZSBpdCBiZXR3ZWVuIDAgKGluY2x1c2l2ZSkgYW5kIDJeMzFcbiAgLy8gKGV4Y2x1c2l2ZSkgYnkgZHJvcHBpbmcgaGlnaCBiaXRzLlxuICB2YXIgaGFzaGVkID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHN0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICBoYXNoZWQgPSAoMzEgKiBoYXNoZWQgKyBzdHJpbmcuY2hhckNvZGVBdChpaSkpIHwgMDtcbiAgfVxuICByZXR1cm4gc21pKGhhc2hlZCk7XG59XG5cbmZ1bmN0aW9uIGhhc2hTeW1ib2woc3ltKSB7XG4gIHZhciBoYXNoZWQgPSBzeW1ib2xNYXBbc3ltXTtcbiAgaWYgKGhhc2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGhhc2hlZDtcbiAgfVxuXG4gIGhhc2hlZCA9IG5leHRIYXNoKCk7XG5cbiAgc3ltYm9sTWFwW3N5bV0gPSBoYXNoZWQ7XG5cbiAgcmV0dXJuIGhhc2hlZDtcbn1cblxuZnVuY3Rpb24gaGFzaEpTT2JqKG9iaikge1xuICB2YXIgaGFzaGVkO1xuICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgaGFzaGVkID0gd2Vha01hcC5nZXQob2JqKTtcbiAgICBpZiAoaGFzaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoZWQ7XG4gICAgfVxuICB9XG5cbiAgaGFzaGVkID0gb2JqW1VJRF9IQVNIX0tFWV07XG4gIGlmIChoYXNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNoZWQ7XG4gIH1cblxuICBpZiAoIWNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgaGFzaGVkID0gb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICYmIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldO1xuICAgIGlmIChoYXNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2hlZDtcbiAgICB9XG5cbiAgICBoYXNoZWQgPSBnZXRJRU5vZGVIYXNoKG9iaik7XG4gICAgaWYgKGhhc2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaGVkO1xuICAgIH1cbiAgfVxuXG4gIGhhc2hlZCA9IG5leHRIYXNoKCk7XG5cbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIHdlYWtNYXAuc2V0KG9iaiwgaGFzaGVkKTtcbiAgfSBlbHNlIGlmIChpc0V4dGVuc2libGUgIT09IHVuZGVmaW5lZCAmJiBpc0V4dGVuc2libGUob2JqKSA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuJyk7XG4gIH0gZWxzZSBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBVSURfSEFTSF9LRVksIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBoYXNoZWQsXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICE9PSB1bmRlZmluZWQgJiZcbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPT09IG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGVcbiAgKSB7XG4gICAgLy8gU2luY2Ugd2UgY2FuJ3QgZGVmaW5lIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuICAgIC8vIHdlJ2xsIGhpamFjayBvbmUgb2YgdGhlIGxlc3MtdXNlZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIHRvXG4gICAgLy8gc2F2ZSBvdXIgaGFzaCBvbiBpdC4gU2luY2UgdGhpcyBpcyBhIGZ1bmN0aW9uIGl0IHdpbGwgbm90IHNob3cgdXAgaW5cbiAgICAvLyBgSlNPTi5zdHJpbmdpZnlgIHdoaWNoIGlzIHdoYXQgd2Ugd2FudC5cbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuYXBwbHkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGFyZ3VtZW50c1xuICAgICAgKTtcbiAgICB9O1xuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldID0gaGFzaGVkO1xuICB9IGVsc2UgaWYgKG9iai5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBjb3VsZG4ndCBnZXQgdGhlIElFIGB1bmlxdWVJRGAgdG8gdXNlIGFzIGEgaGFzaFxuICAgIC8vIGFuZCB3ZSBjb3VsZG4ndCB1c2UgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB0byBleHBsb2l0IHRoZVxuICAgIC8vIGRvbnRFbnVtIGJ1ZyBzbyB3ZSBzaW1wbHkgYWRkIHRoZSBgVUlEX0hBU0hfS0VZYCBvbiB0aGUgbm9kZVxuICAgIC8vIGl0c2VsZi5cbiAgICBvYmpbVUlEX0hBU0hfS0VZXSA9IGhhc2hlZDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuJyk7XG4gIH1cblxuICByZXR1cm4gaGFzaGVkO1xufVxuXG4vLyBHZXQgcmVmZXJlbmNlcyB0byBFUzUgb2JqZWN0IG1ldGhvZHMuXG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuLy8gVHJ1ZSBpZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgd29ya3MgYXMgZXhwZWN0ZWQuIElFOCBmYWlscyB0aGlzIHRlc3QuXG52YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ0AnLCB7fSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pKCk7XG5cbi8vIElFIGhhcyBhIGB1bmlxdWVJRGAgcHJvcGVydHkgb24gRE9NIG5vZGVzLiBXZSBjYW4gY29uc3RydWN0IHRoZSBoYXNoIGZyb20gaXRcbi8vIGFuZCBhdm9pZCBtZW1vcnkgbGVha3MgZnJvbSB0aGUgSUUgY2xvbmVOb2RlIGJ1Zy5cbmZ1bmN0aW9uIGdldElFTm9kZUhhc2gobm9kZSkge1xuICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID4gMCkge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgY2FzZSAxOiAvLyBFbGVtZW50XG4gICAgICAgIHJldHVybiBub2RlLnVuaXF1ZUlEO1xuICAgICAgY2FzZSA5OiAvLyBEb2N1bWVudFxuICAgICAgICByZXR1cm4gbm9kZS5kb2N1bWVudEVsZW1lbnQgJiYgbm9kZS5kb2N1bWVudEVsZW1lbnQudW5pcXVlSUQ7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2Yob2JqKSB7XG4gIHJldHVybiBvYmoudmFsdWVPZiAhPT0gZGVmYXVsdFZhbHVlT2YgJiYgdHlwZW9mIG9iai52YWx1ZU9mID09PSAnZnVuY3Rpb24nXG4gICAgPyBvYmoudmFsdWVPZihvYmopXG4gICAgOiBvYmo7XG59XG5cbmZ1bmN0aW9uIG5leHRIYXNoKCkge1xuICB2YXIgbmV4dEhhc2ggPSArK19vYmpIYXNoVUlEO1xuICBpZiAoX29iakhhc2hVSUQgJiAweDQwMDAwMDAwKSB7XG4gICAgX29iakhhc2hVSUQgPSAwO1xuICB9XG4gIHJldHVybiBuZXh0SGFzaDtcbn1cblxuLy8gSWYgcG9zc2libGUsIHVzZSBhIFdlYWtNYXAuXG52YXIgdXNpbmdXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbic7XG52YXIgd2Vha01hcDtcbmlmICh1c2luZ1dlYWtNYXApIHtcbiAgd2Vha01hcCA9IG5ldyBXZWFrTWFwKCk7XG59XG5cbnZhciBzeW1ib2xNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG52YXIgX29iakhhc2hVSUQgPSAwO1xuXG52YXIgVUlEX0hBU0hfS0VZID0gJ19faW1tdXRhYmxlaGFzaF9fJztcbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gIFVJRF9IQVNIX0tFWSA9IFN5bWJvbChVSURfSEFTSF9LRVkpO1xufVxuXG52YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA9IDE2O1xudmFyIFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFID0gMjU1O1xudmFyIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xudmFyIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuXG52YXIgVG9LZXllZFNlcXVlbmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoS2V5ZWRTZXEpIHtcbiAgZnVuY3Rpb24gVG9LZXllZFNlcXVlbmNlKGluZGV4ZWQsIHVzZUtleXMpIHtcbiAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICB0aGlzLl91c2VLZXlzID0gdXNlS2V5cztcbiAgICB0aGlzLnNpemUgPSBpbmRleGVkLnNpemU7XG4gIH1cblxuICBpZiAoIEtleWVkU2VxICkgVG9LZXllZFNlcXVlbmNlLl9fcHJvdG9fXyA9IEtleWVkU2VxO1xuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEgJiYgS2V5ZWRTZXEucHJvdG90eXBlICk7XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb0tleWVkU2VxdWVuY2U7XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5nZXQoa2V5LCBub3RTZXRWYWx1ZSk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmhhcyhrZXkpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbiB2YWx1ZVNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIudmFsdWVTZXEoKTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlICgpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEkMS5faXRlci50b1NlcSgpLnJldmVyc2UoKTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICBtYXBwZWRTZXF1ZW5jZS52YWx1ZVNlcSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMSQxLl9pdGVyLnRvU2VxKCkubWFwKG1hcHBlciwgY29udGV4dCk7IH07XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCBrLCB0aGlzJDEkMSk7IH0sIHJldmVyc2UpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIHJldHVybiBUb0tleWVkU2VxdWVuY2U7XG59KEtleWVkU2VxKSk7XG5Ub0tleWVkU2VxdWVuY2UucHJvdG90eXBlW0lTX09SREVSRURfU1lNQk9MXSA9IHRydWU7XG5cbnZhciBUb0luZGV4ZWRTZXF1ZW5jZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gVG9JbmRleGVkU2VxdWVuY2UoaXRlcikge1xuICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIFRvSW5kZXhlZFNlcXVlbmNlLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9JbmRleGVkU2VxdWVuY2U7XG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModmFsdWUpO1xuICB9O1xuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZuKHYsIHJldmVyc2UgPyB0aGlzJDEkMS5zaXplIC0gKytpIDogaSsrLCB0aGlzJDEkMSk7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKHRoaXMpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lXG4gICAgICAgID8gc3RlcFxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmV2ZXJzZSA/IHRoaXMkMSQxLnNpemUgLSArK2kgOiBpKyssXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRvSW5kZXhlZFNlcXVlbmNlO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBUb1NldFNlcXVlbmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2V0U2VxKSB7XG4gIGZ1bmN0aW9uIFRvU2V0U2VxdWVuY2UoaXRlcikge1xuICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGlmICggU2V0U2VxICkgVG9TZXRTZXF1ZW5jZS5fX3Byb3RvX18gPSBTZXRTZXE7XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0U2VxICYmIFNldFNlcS5wcm90b3R5cGUgKTtcbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb1NldFNlcXVlbmNlO1xuXG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXMoa2V5KTtcbiAgfTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodikgeyByZXR1cm4gZm4odiwgdiwgdGhpcyQxJDEpOyB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHJldHVybiBzdGVwLmRvbmVcbiAgICAgICAgPyBzdGVwXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVG9TZXRTZXF1ZW5jZTtcbn0oU2V0U2VxKSk7XG5cbnZhciBGcm9tRW50cmllc1NlcXVlbmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoS2V5ZWRTZXEpIHtcbiAgZnVuY3Rpb24gRnJvbUVudHJpZXNTZXF1ZW5jZShlbnRyaWVzKSB7XG4gICAgdGhpcy5faXRlciA9IGVudHJpZXM7XG4gICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICB9XG5cbiAgaWYgKCBLZXllZFNlcSApIEZyb21FbnRyaWVzU2VxdWVuY2UuX19wcm90b19fID0gS2V5ZWRTZXE7XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEgJiYgS2V5ZWRTZXEucHJvdG90eXBlICk7XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRnJvbUVudHJpZXNTZXF1ZW5jZTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5lbnRyeVNlcSA9IGZ1bmN0aW9uIGVudHJ5U2VxICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICB9O1xuXG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgIHZhciBpbmRleGVkQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbihlbnRyeSk7XG4gICAgICAgIHJldHVybiBmbihcbiAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgdGhpcyQxJDFcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgIHZhciBpbmRleGVkQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbihlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBzdGVwXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBGcm9tRW50cmllc1NlcXVlbmNlO1xufShLZXllZFNlcSkpO1xuXG5Ub0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gICAgY2FjaGVSZXN1bHRUaHJvdWdoO1xuXG5mdW5jdGlvbiBmbGlwRmFjdG9yeShjb2xsZWN0aW9uKSB7XG4gIHZhciBmbGlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGZsaXBTZXF1ZW5jZS5faXRlciA9IGNvbGxlY3Rpb247XG4gIGZsaXBTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplO1xuICBmbGlwU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb247IH07XG4gIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gY29sbGVjdGlvbi5yZXZlcnNlLmFwcGx5KHRoaXMpOyAvLyBzdXBlci5yZXZlcnNlKClcbiAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLnJldmVyc2UoKTsgfTtcbiAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgfTtcbiAgZmxpcFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaW5jbHVkZXMoa2V5KTsgfTtcbiAgZmxpcFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5oYXMoa2V5KTsgfTtcbiAgZmxpcFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICBmbGlwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbihrLCB2LCB0aGlzJDEkMSkgIT09IGZhbHNlOyB9LCByZXZlcnNlKTtcbiAgfTtcbiAgZmxpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoIXN0ZXAuZG9uZSkge1xuICAgICAgICAgIHZhciBrID0gc3RlcC52YWx1ZVswXTtcbiAgICAgICAgICBzdGVwLnZhbHVlWzBdID0gc3RlcC52YWx1ZVsxXTtcbiAgICAgICAgICBzdGVwLnZhbHVlWzFdID0gaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKFxuICAgICAgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgPyBJVEVSQVRFX0tFWVMgOiBJVEVSQVRFX1ZBTFVFUyxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuICByZXR1cm4gZmxpcFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBtYXBGYWN0b3J5KGNvbGxlY3Rpb24sIG1hcHBlciwgY29udGV4dCkge1xuICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIG1hcHBlZFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG4gIG1hcHBlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKGtleSk7IH07XG4gIG1hcHBlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uIChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIHYgPSBjb2xsZWN0aW9uLmdldChrZXksIE5PVF9TRVQpO1xuICAgIHJldHVybiB2ID09PSBOT1RfU0VUXG4gICAgICA/IG5vdFNldFZhbHVlXG4gICAgICA6IG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGtleSwgY29sbGVjdGlvbik7XG4gIH07XG4gIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrLCBjKSB7IHJldHVybiBmbihtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjKSwgaywgdGhpcyQxJDEpICE9PSBmYWxzZTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICB0eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGNvbGxlY3Rpb24pLFxuICAgICAgICBzdGVwXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHJldmVyc2VGYWN0b3J5KGNvbGxlY3Rpb24sIHVzZUtleXMpIHtcbiAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5faXRlciA9IGNvbGxlY3Rpb247XG4gIHJldmVyc2VkU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbjsgfTtcbiAgaWYgKGNvbGxlY3Rpb24uZmxpcCkge1xuICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmbGlwU2VxdWVuY2UgPSBmbGlwRmFjdG9yeShjb2xsZWN0aW9uKTtcbiAgICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbi5mbGlwKCk7IH07XG4gICAgICByZXR1cm4gZmxpcFNlcXVlbmNlO1xuICAgIH07XG4gIH1cbiAgcmV2ZXJzZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkgeyByZXR1cm4gY29sbGVjdGlvbi5nZXQodXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5LCBub3RTZXRWYWx1ZSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KTsgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY29sbGVjdGlvbi5pbmNsdWRlcyh2YWx1ZSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogcmV2ZXJzZSA/IHRoaXMkMSQxLnNpemUgLSArK2kgOiBpKyssIHRoaXMkMSQxKTsgfSxcbiAgICAgICFyZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKGNvbGxlY3Rpb24pO1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsICFyZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdXNlS2V5cyA/IGVudHJ5WzBdIDogcmV2ZXJzZSA/IHRoaXMkMSQxLnNpemUgLSArK2kgOiBpKyssXG4gICAgICAgIGVudHJ5WzFdLFxuICAgICAgICBzdGVwXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyRmFjdG9yeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgdmFyIGZpbHRlclNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBpZiAodXNlS2V5cykge1xuICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciB2ID0gY29sbGVjdGlvbi5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ICE9PSBOT1RfU0VUICYmICEhcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICAgIGZpbHRlclNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uIChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgdiA9IGNvbGxlY3Rpb24uZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGNvbGxlY3Rpb24pXG4gICAgICAgID8gdlxuICAgICAgICA6IG5vdFNldFZhbHVlO1xuICAgIH07XG4gIH1cbiAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQxJDEpO1xuICAgICAgfVxuICAgIH0sIHJldmVyc2UpO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGtleSA6IGl0ZXJhdGlvbnMrKywgdmFsdWUsIHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBmaWx0ZXJTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gY291bnRCeUZhY3RvcnkoY29sbGVjdGlvbiwgZ3JvdXBlciwgY29udGV4dCkge1xuICB2YXIgZ3JvdXBzID0gTWFwKCkuYXNNdXRhYmxlKCk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgZ3JvdXBzLnVwZGF0ZShncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbiksIDAsIGZ1bmN0aW9uIChhKSB7IHJldHVybiBhICsgMTsgfSk7XG4gIH0pO1xuICByZXR1cm4gZ3JvdXBzLmFzSW1tdXRhYmxlKCk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQnlGYWN0b3J5KGNvbGxlY3Rpb24sIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGlzS2V5ZWRJdGVyID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGdyb3VwcyA9IChpc09yZGVyZWQoY29sbGVjdGlvbikgPyBPcmRlcmVkTWFwKCkgOiBNYXAoKSkuYXNNdXRhYmxlKCk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgZ3JvdXBzLnVwZGF0ZShcbiAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjb2xsZWN0aW9uKSxcbiAgICAgIGZ1bmN0aW9uIChhKSB7IHJldHVybiAoKGEgPSBhIHx8IFtdKSwgYS5wdXNoKGlzS2V5ZWRJdGVyID8gW2ssIHZdIDogdiksIGEpOyB9XG4gICAgKTtcbiAgfSk7XG4gIHZhciBjb2VyY2UgPSBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbik7XG4gIHJldHVybiBncm91cHMubWFwKGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIHJlaWZ5KGNvbGxlY3Rpb24sIGNvZXJjZShhcnIpKTsgfSkuYXNJbW11dGFibGUoKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VGYWN0b3J5KGNvbGxlY3Rpb24sIGJlZ2luLCBlbmQsIHVzZUtleXMpIHtcbiAgdmFyIG9yaWdpbmFsU2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcblxuICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBvcmlnaW5hbFNpemUpKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cblxuICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgb3JpZ2luYWxTaXplKTtcbiAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIG9yaWdpbmFsU2l6ZSk7XG5cbiAgLy8gYmVnaW4gb3IgZW5kIHdpbGwgYmUgTmFOIGlmIHRoZXkgd2VyZSBwcm92aWRlZCBhcyBuZWdhdGl2ZSBudW1iZXJzIGFuZFxuICAvLyB0aGlzIGNvbGxlY3Rpb24ncyBzaXplIGlzIHVua25vd24uIEluIHRoYXQgY2FzZSwgY2FjaGUgZmlyc3Qgc28gdGhlcmUgaXNcbiAgLy8gYSBrbm93biBzaXplIGFuZCB0aGVzZSBkbyBub3QgcmVzb2x2ZSB0byBOYU4uXG4gIGlmIChyZXNvbHZlZEJlZ2luICE9PSByZXNvbHZlZEJlZ2luIHx8IHJlc29sdmVkRW5kICE9PSByZXNvbHZlZEVuZCkge1xuICAgIHJldHVybiBzbGljZUZhY3RvcnkoY29sbGVjdGlvbi50b1NlcSgpLmNhY2hlUmVzdWx0KCksIGJlZ2luLCBlbmQsIHVzZUtleXMpO1xuICB9XG5cbiAgLy8gTm90ZTogcmVzb2x2ZWRFbmQgaXMgdW5kZWZpbmVkIHdoZW4gdGhlIG9yaWdpbmFsIHNlcXVlbmNlJ3MgbGVuZ3RoIGlzXG4gIC8vIHVua25vd24gYW5kIHRoaXMgc2xpY2UgZGlkIG5vdCBzdXBwbHkgYW4gZW5kIGFuZCBzaG91bGQgY29udGFpbiBhbGxcbiAgLy8gZWxlbWVudHMgYWZ0ZXIgcmVzb2x2ZWRCZWdpbi5cbiAgLy8gSW4gdGhhdCBjYXNlLCByZXNvbHZlZFNpemUgd2lsbCBiZSBOYU4gYW5kIHNsaWNlU2l6ZSB3aWxsIHJlbWFpbiB1bmRlZmluZWQuXG4gIHZhciByZXNvbHZlZFNpemUgPSByZXNvbHZlZEVuZCAtIHJlc29sdmVkQmVnaW47XG4gIHZhciBzbGljZVNpemU7XG4gIGlmIChyZXNvbHZlZFNpemUgPT09IHJlc29sdmVkU2l6ZSkge1xuICAgIHNsaWNlU2l6ZSA9IHJlc29sdmVkU2l6ZSA8IDAgPyAwIDogcmVzb2x2ZWRTaXplO1xuICB9XG5cbiAgdmFyIHNsaWNlU2VxID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuXG4gIC8vIElmIGNvbGxlY3Rpb24uc2l6ZSBpcyB1bmRlZmluZWQsIHRoZSBzaXplIG9mIHRoZSByZWFsaXplZCBzbGljZVNlcSBpc1xuICAvLyB1bmtub3duIGF0IHRoaXMgcG9pbnQgdW5sZXNzIHRoZSBudW1iZXIgb2YgaXRlbXMgdG8gc2xpY2UgaXMgMFxuICBzbGljZVNlcS5zaXplID1cbiAgICBzbGljZVNpemUgPT09IDAgPyBzbGljZVNpemUgOiAoY29sbGVjdGlvbi5zaXplICYmIHNsaWNlU2l6ZSkgfHwgdW5kZWZpbmVkO1xuXG4gIGlmICghdXNlS2V5cyAmJiBpc1NlcShjb2xsZWN0aW9uKSAmJiBzbGljZVNpemUgPj0gMCkge1xuICAgIHNsaWNlU2VxLmdldCA9IGZ1bmN0aW9uIChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgc2xpY2VTaXplXG4gICAgICAgID8gY29sbGVjdGlvbi5nZXQoaW5kZXggKyByZXNvbHZlZEJlZ2luLCBub3RTZXRWYWx1ZSlcbiAgICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgc2xpY2VTZXEuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHNsaWNlU2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBza2lwcGVkID0gMDtcbiAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikpKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDEkMSkgIT09IGZhbHNlICYmXG4gICAgICAgICAgaXRlcmF0aW9ucyAhPT0gc2xpY2VTaXplXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgc2xpY2VTZXEuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAoc2xpY2VTaXplICE9PSAwICYmIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGluc3RhbnRpYXRpbmcgcGFyZW50IGl0ZXJhdG9yIGlmIHRha2luZyAwLlxuICAgIGlmIChzbGljZVNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoaXRlcmF0b3JEb25lKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIHZhciBza2lwcGVkID0gMDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAoc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikge1xuICAgICAgICBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB9XG4gICAgICBpZiAoKytpdGVyYXRpb25zID4gc2xpY2VTaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgfHwgc3RlcC5kb25lKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gc2xpY2VTZXE7XG59XG5cbmZ1bmN0aW9uIHRha2VXaGlsZUZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHZhciB0YWtlU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaywgYykgeyByZXR1cm4gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykgJiYgKytpdGVyYXRpb25zICYmIGZuKHYsIGssIHRoaXMkMSQxKTsgfVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaXRlcmF0aW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXRlcmF0aW5nKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICB2YXIgayA9IGVudHJ5WzBdO1xuICAgICAgdmFyIHYgPSBlbnRyeVsxXTtcbiAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQxJDEpKSB7XG4gICAgICAgIGl0ZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB0YWtlU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHNraXBXaGlsZUZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gIHZhciBza2lwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpKSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDEkMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgdmFyIGs7XG4gICAgICB2YXIgdjtcbiAgICAgIGRvIHtcbiAgICAgICAgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIGsgPSBlbnRyeVswXTtcbiAgICAgICAgdiA9IGVudHJ5WzFdO1xuICAgICAgICBza2lwcGluZyAmJiAoc2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDEkMSkpO1xuICAgICAgfSB3aGlsZSAoc2tpcHBpbmcpO1xuICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gc2tpcFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBjb25jYXRGYWN0b3J5KGNvbGxlY3Rpb24sIHZhbHVlcykge1xuICB2YXIgaXNLZXllZENvbGxlY3Rpb24gPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgaXRlcnMgPSBbY29sbGVjdGlvbl1cbiAgICAuY29uY2F0KHZhbHVlcylcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpZiAoIWlzQ29sbGVjdGlvbih2KSkge1xuICAgICAgICB2ID0gaXNLZXllZENvbGxlY3Rpb25cbiAgICAgICAgICA/IGtleWVkU2VxRnJvbVZhbHVlKHYpXG4gICAgICAgICAgOiBpbmRleGVkU2VxRnJvbVZhbHVlKEFycmF5LmlzQXJyYXkodikgPyB2IDogW3ZdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNLZXllZENvbGxlY3Rpb24pIHtcbiAgICAgICAgdiA9IEtleWVkQ29sbGVjdGlvbih2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2O1xuICAgIH0pXG4gICAgLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5zaXplICE9PSAwOyB9KTtcblxuICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cblxuICBpZiAoaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIHNpbmdsZXRvbiA9IGl0ZXJzWzBdO1xuICAgIGlmIChcbiAgICAgIHNpbmdsZXRvbiA9PT0gY29sbGVjdGlvbiB8fFxuICAgICAgKGlzS2V5ZWRDb2xsZWN0aW9uICYmIGlzS2V5ZWQoc2luZ2xldG9uKSkgfHxcbiAgICAgIChpc0luZGV4ZWQoY29sbGVjdGlvbikgJiYgaXNJbmRleGVkKHNpbmdsZXRvbikpXG4gICAgKSB7XG4gICAgICByZXR1cm4gc2luZ2xldG9uO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb25jYXRTZXEgPSBuZXcgQXJyYXlTZXEoaXRlcnMpO1xuICBpZiAoaXNLZXllZENvbGxlY3Rpb24pIHtcbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9LZXllZFNlcSgpO1xuICB9IGVsc2UgaWYgKCFpc0luZGV4ZWQoY29sbGVjdGlvbikpIHtcbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9TZXRTZXEoKTtcbiAgfVxuICBjb25jYXRTZXEgPSBjb25jYXRTZXEuZmxhdHRlbih0cnVlKTtcbiAgY29uY2F0U2VxLnNpemUgPSBpdGVycy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgc2VxKSB7XG4gICAgaWYgKHN1bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgc2l6ZSA9IHNlcS5zaXplO1xuICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VtICsgc2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIDApO1xuICByZXR1cm4gY29uY2F0U2VxO1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuRmFjdG9yeShjb2xsZWN0aW9uLCBkZXB0aCwgdXNlS2V5cykge1xuICB2YXIgZmxhdFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBmbGF0U2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBmbGF0RGVlcChpdGVyLCBjdXJyZW50RGVwdGgpIHtcbiAgICAgIGl0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgIGlmICgoIWRlcHRoIHx8IGN1cnJlbnREZXB0aCA8IGRlcHRoKSAmJiBpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgICBmbGF0RGVlcCh2LCBjdXJyZW50RGVwdGggKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgaWYgKGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIGZsYXRTZXF1ZW5jZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFzdG9wcGVkO1xuICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIGZsYXREZWVwKGNvbGxlY3Rpb24sIDApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBmbGF0U2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lICE9PSBmYWxzZSkge1xuICAgICAgICAgIGl0ZXJhdG9yID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHYgPSBzdGVwLnZhbHVlO1xuICAgICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICAgICAgdiA9IHZbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghZGVwdGggfHwgc3RhY2subGVuZ3RoIDwgZGVwdGgpICYmIGlzQ29sbGVjdGlvbih2KSkge1xuICAgICAgICAgIHN0YWNrLnB1c2goaXRlcmF0b3IpO1xuICAgICAgICAgIGl0ZXJhdG9yID0gdi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1c2VLZXlzID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2LCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmxhdFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBmbGF0TWFwRmFjdG9yeShjb2xsZWN0aW9uLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGNvZXJjZSA9IGNvbGxlY3Rpb25DbGFzcyhjb2xsZWN0aW9uKTtcbiAgcmV0dXJuIGNvbGxlY3Rpb25cbiAgICAudG9TZXEoKVxuICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGNvZXJjZShtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjb2xsZWN0aW9uKSk7IH0pXG4gICAgLmZsYXR0ZW4odHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGludGVycG9zZUZhY3RvcnkoY29sbGVjdGlvbiwgc2VwYXJhdG9yKSB7XG4gIHZhciBpbnRlcnBvc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGludGVycG9zZWRTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplICYmIGNvbGxlY3Rpb24uc2l6ZSAqIDIgLSAxO1xuICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYpIHsgcmV0dXJuICghaXRlcmF0aW9ucyB8fCBmbihzZXBhcmF0b3IsIGl0ZXJhdGlvbnMrKywgdGhpcyQxJDEpICE9PSBmYWxzZSkgJiZcbiAgICAgICAgZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDEkMSkgIT09IGZhbHNlOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBzdGVwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzdGVwIHx8IGl0ZXJhdGlvbnMgJSAyKSB7XG4gICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnMgJSAyXG4gICAgICAgID8gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHNlcGFyYXRvcilcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBpbnRlcnBvc2VkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHNvcnRGYWN0b3J5KGNvbGxlY3Rpb24sIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gIH1cbiAgdmFyIGlzS2V5ZWRDb2xsZWN0aW9uID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGVudHJpZXMgPSBjb2xsZWN0aW9uXG4gICAgLnRvU2VxKClcbiAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBbaywgdiwgaW5kZXgrKywgbWFwcGVyID8gbWFwcGVyKHYsIGssIGNvbGxlY3Rpb24pIDogdl07IH0pXG4gICAgLnZhbHVlU2VxKClcbiAgICAudG9BcnJheSgpO1xuICBlbnRyaWVzXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNvbXBhcmF0b3IoYVszXSwgYlszXSkgfHwgYVsyXSAtIGJbMl07IH0pXG4gICAgLmZvckVhY2goXG4gICAgICBpc0tleWVkQ29sbGVjdGlvblxuICAgICAgICA/IGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICBlbnRyaWVzW2ldLmxlbmd0aCA9IDI7XG4gICAgICAgICAgfVxuICAgICAgICA6IGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICBlbnRyaWVzW2ldID0gdlsxXTtcbiAgICAgICAgICB9XG4gICAgKTtcbiAgcmV0dXJuIGlzS2V5ZWRDb2xsZWN0aW9uXG4gICAgPyBLZXllZFNlcShlbnRyaWVzKVxuICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pXG4gICAgPyBJbmRleGVkU2VxKGVudHJpZXMpXG4gICAgOiBTZXRTZXEoZW50cmllcyk7XG59XG5cbmZ1bmN0aW9uIG1heEZhY3RvcnkoY29sbGVjdGlvbiwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gIGlmICghY29tcGFyYXRvcikge1xuICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgfVxuICBpZiAobWFwcGVyKSB7XG4gICAgdmFyIGVudHJ5ID0gY29sbGVjdGlvblxuICAgICAgLnRvU2VxKClcbiAgICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIFt2LCBtYXBwZXIodiwgaywgY29sbGVjdGlvbildOyB9KVxuICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKG1heENvbXBhcmUoY29tcGFyYXRvciwgYVsxXSwgYlsxXSkgPyBiIDogYSk7IH0pO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbi5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGEsIGIpID8gYiA6IGEpOyB9KTtcbn1cblxuZnVuY3Rpb24gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSB7XG4gIHZhciBjb21wID0gY29tcGFyYXRvcihiLCBhKTtcbiAgLy8gYiBpcyBjb25zaWRlcmVkIHRoZSBuZXcgbWF4IGlmIHRoZSBjb21wYXJhdG9yIGRlY2xhcmVzIHRoZW0gZXF1YWwsIGJ1dFxuICAvLyB0aGV5IGFyZSBub3QgZXF1YWwgYW5kIGIgaXMgaW4gZmFjdCBhIG51bGxpc2ggdmFsdWUuXG4gIHJldHVybiAoXG4gICAgKGNvbXAgPT09IDAgJiYgYiAhPT0gYSAmJiAoYiA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiAhPT0gYikpIHx8XG4gICAgY29tcCA+IDBcbiAgKTtcbn1cblxuZnVuY3Rpb24gemlwV2l0aEZhY3Rvcnkoa2V5SXRlciwgemlwcGVyLCBpdGVycywgemlwQWxsKSB7XG4gIHZhciB6aXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShrZXlJdGVyKTtcbiAgdmFyIHNpemVzID0gbmV3IEFycmF5U2VxKGl0ZXJzKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuc2l6ZTsgfSk7XG4gIHppcFNlcXVlbmNlLnNpemUgPSB6aXBBbGwgPyBzaXplcy5tYXgoKSA6IHNpemVzLm1pbigpO1xuICAvLyBOb3RlOiB0aGlzIGEgZ2VuZXJpYyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIF9faXRlcmF0ZSBpbiB0ZXJtcyBvZlxuICAvLyBfX2l0ZXJhdG9yIHdoaWNoIG1heSBiZSBtb3JlIGdlbmVyaWNhbGx5IHVzZWZ1bCBpbiB0aGUgZnV0dXJlLlxuICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICAvKiBnZW5lcmljOlxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBzdGVwO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICBpdGVyYXRpb25zKys7XG4gICAgICBpZiAoZm4oc3RlcC52YWx1ZVsxXSwgc3RlcC52YWx1ZVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAqL1xuICAgIC8vIGluZGV4ZWQ6XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc3RlcDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgemlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3JzID0gaXRlcnMubWFwKFxuICAgICAgZnVuY3Rpb24gKGkpIHsgcmV0dXJuICgoaSA9IENvbGxlY3Rpb24oaSkpLCBnZXRJdGVyYXRvcihyZXZlcnNlID8gaS5yZXZlcnNlKCkgOiBpKSk7IH1cbiAgICApO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgaXNEb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcHM7XG4gICAgICBpZiAoIWlzRG9uZSkge1xuICAgICAgICBzdGVwcyA9IGl0ZXJhdG9ycy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmV4dCgpOyB9KTtcbiAgICAgICAgaXNEb25lID0gemlwQWxsID8gc3RlcHMuZXZlcnkoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuZG9uZTsgfSkgOiBzdGVwcy5zb21lKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmRvbmU7IH0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAgaXRlcmF0aW9ucysrLFxuICAgICAgICB6aXBwZXIuYXBwbHkoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBzdGVwcy5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudmFsdWU7IH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB6aXBTZXF1ZW5jZTtcbn1cblxuLy8gI3ByYWdtYSBIZWxwZXIgRnVuY3Rpb25zXG5cbmZ1bmN0aW9uIHJlaWZ5KGl0ZXIsIHNlcSkge1xuICByZXR1cm4gaXRlciA9PT0gc2VxID8gaXRlciA6IGlzU2VxKGl0ZXIpID8gc2VxIDogaXRlci5jb25zdHJ1Y3RvcihzZXEpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUVudHJ5KGVudHJ5KSB7XG4gIGlmIChlbnRyeSAhPT0gT2JqZWN0KGVudHJ5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFtLLCBWXSB0dXBsZTogJyArIGVudHJ5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbikge1xuICByZXR1cm4gaXNLZXllZChjb2xsZWN0aW9uKVxuICAgID8gS2V5ZWRDb2xsZWN0aW9uXG4gICAgOiBpc0luZGV4ZWQoY29sbGVjdGlvbilcbiAgICA/IEluZGV4ZWRDb2xsZWN0aW9uXG4gICAgOiBTZXRDb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbikge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShcbiAgICAoaXNLZXllZChjb2xsZWN0aW9uKVxuICAgICAgPyBLZXllZFNlcVxuICAgICAgOiBpc0luZGV4ZWQoY29sbGVjdGlvbilcbiAgICAgID8gSW5kZXhlZFNlcVxuICAgICAgOiBTZXRTZXFcbiAgICApLnByb3RvdHlwZVxuICApO1xufVxuXG5mdW5jdGlvbiBjYWNoZVJlc3VsdFRocm91Z2goKSB7XG4gIGlmICh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KSB7XG4gICAgdGhpcy5faXRlci5jYWNoZVJlc3VsdCgpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2l0ZXIuc2l6ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXR1cm4gU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdC5jYWxsKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyYXRvcihhLCBiKSB7XG4gIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG5mdW5jdGlvbiBhcnJDb3B5KGFyciwgb2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICB2YXIgbGVuID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCAtIG9mZnNldCk7XG4gIHZhciBuZXdBcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykge1xuICAgIG5ld0FycltpaV0gPSBhcnJbaWkgKyBvZmZzZXRdO1xuICB9XG4gIHJldHVybiBuZXdBcnI7XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGVycm9yKSB7XG4gIGlmICghY29uZGl0aW9uKSB7IHRocm93IG5ldyBFcnJvcihlcnJvcik7IH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSkge1xuICBpbnZhcmlhbnQoXG4gICAgc2l6ZSAhPT0gSW5maW5pdHksXG4gICAgJ0Nhbm5vdCBwZXJmb3JtIHRoaXMgYWN0aW9uIHdpdGggYW4gaW5maW5pdGUgc2l6ZS4nXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNvZXJjZUtleVBhdGgoa2V5UGF0aCkge1xuICBpZiAoaXNBcnJheUxpa2Uoa2V5UGF0aCkgJiYgdHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGtleVBhdGg7XG4gIH1cbiAgaWYgKGlzT3JkZXJlZChrZXlQYXRoKSkge1xuICAgIHJldHVybiBrZXlQYXRoLnRvQXJyYXkoKTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdJbnZhbGlkIGtleVBhdGg6IGV4cGVjdGVkIE9yZGVyZWQgQ29sbGVjdGlvbiBvciBBcnJheTogJyArIGtleVBhdGhcbiAgKTtcbn1cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAvLyBUaGUgYmFzZSBwcm90b3R5cGUncyB0b1N0cmluZyBkZWFscyB3aXRoIEFyZ3VtZW50IG9iamVjdHMgYW5kIG5hdGl2ZSBuYW1lc3BhY2VzIGxpa2UgTWF0aFxuICBpZiAoXG4gICAgIXZhbHVlIHx8XG4gICAgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fFxuICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpICE9PSAnW29iamVjdCBPYmplY3RdJ1xuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEl0ZXJhdGl2ZWx5IGdvaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4gaXMgbmVlZGVkIGZvciBjcm9zcy1yZWFsbSBlbnZpcm9ubWVudHMgKGRpZmZlcmluZyBjb250ZXh0cywgaWZyYW1lcywgZXRjKVxuICB2YXIgcGFyZW50UHJvdG8gPSBwcm90bztcbiAgdmFyIG5leHRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIHdoaWxlIChuZXh0UHJvdG8gIT09IG51bGwpIHtcbiAgICBwYXJlbnRQcm90byA9IG5leHRQcm90bztcbiAgICBuZXh0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGFyZW50UHJvdG8pO1xuICB9XG4gIHJldHVybiBwYXJlbnRQcm90byA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHBvdGVudGlhbGx5LXBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmUsIGVpdGhlclxuICogcHJvdmlkZWQgYnkgSW1tdXRhYmxlLmpzIG9yIGEgcGxhaW4gQXJyYXkgb3IgT2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc0RhdGFTdHJ1Y3R1cmUodmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgKGlzSW1tdXRhYmxlKHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gcXVvdGVTdHJpbmcodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG4gIH0gY2F0Y2ggKF9pZ25vcmVFcnJvcikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzKGNvbGxlY3Rpb24sIGtleSkge1xuICByZXR1cm4gaXNJbW11dGFibGUoY29sbGVjdGlvbilcbiAgICA/IGNvbGxlY3Rpb24uaGFzKGtleSlcbiAgICA6IGlzRGF0YVN0cnVjdHVyZShjb2xsZWN0aW9uKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbGxlY3Rpb24sIGtleSk7XG59XG5cbmZ1bmN0aW9uIGdldChjb2xsZWN0aW9uLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHJldHVybiBpc0ltbXV0YWJsZShjb2xsZWN0aW9uKVxuICAgID8gY29sbGVjdGlvbi5nZXQoa2V5LCBub3RTZXRWYWx1ZSlcbiAgICA6ICFoYXMoY29sbGVjdGlvbiwga2V5KVxuICAgID8gbm90U2V0VmFsdWVcbiAgICA6IHR5cGVvZiBjb2xsZWN0aW9uLmdldCA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gY29sbGVjdGlvbi5nZXQoa2V5KVxuICAgIDogY29sbGVjdGlvbltrZXldO1xufVxuXG5mdW5jdGlvbiBzaGFsbG93Q29weShmcm9tKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGZyb20pKSB7XG4gICAgcmV0dXJuIGFyckNvcHkoZnJvbSk7XG4gIH1cbiAgdmFyIHRvID0ge307XG4gIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoY29sbGVjdGlvbiwga2V5KSB7XG4gIGlmICghaXNEYXRhU3RydWN0dXJlKGNvbGxlY3Rpb24pKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdDYW5ub3QgdXBkYXRlIG5vbi1kYXRhLXN0cnVjdHVyZSB2YWx1ZTogJyArIGNvbGxlY3Rpb25cbiAgICApO1xuICB9XG4gIGlmIChpc0ltbXV0YWJsZShjb2xsZWN0aW9uKSkge1xuICAgIGlmICghY29sbGVjdGlvbi5yZW1vdmUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdDYW5ub3QgdXBkYXRlIGltbXV0YWJsZSB2YWx1ZSB3aXRob3V0IC5yZW1vdmUoKSBtZXRob2Q6ICcgKyBjb2xsZWN0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbi5yZW1vdmUoa2V5KTtcbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwga2V5KSkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG4gIHZhciBjb2xsZWN0aW9uQ29weSA9IHNoYWxsb3dDb3B5KGNvbGxlY3Rpb24pO1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uQ29weSkpIHtcbiAgICBjb2xsZWN0aW9uQ29weS5zcGxpY2Uoa2V5LCAxKTtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgY29sbGVjdGlvbkNvcHlba2V5XTtcbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbkNvcHk7XG59XG5cbmZ1bmN0aW9uIHNldChjb2xsZWN0aW9uLCBrZXksIHZhbHVlKSB7XG4gIGlmICghaXNEYXRhU3RydWN0dXJlKGNvbGxlY3Rpb24pKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdDYW5ub3QgdXBkYXRlIG5vbi1kYXRhLXN0cnVjdHVyZSB2YWx1ZTogJyArIGNvbGxlY3Rpb25cbiAgICApO1xuICB9XG4gIGlmIChpc0ltbXV0YWJsZShjb2xsZWN0aW9uKSkge1xuICAgIGlmICghY29sbGVjdGlvbi5zZXQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdDYW5ub3QgdXBkYXRlIGltbXV0YWJsZSB2YWx1ZSB3aXRob3V0IC5zZXQoKSBtZXRob2Q6ICcgKyBjb2xsZWN0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbi5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwga2V5KSAmJiB2YWx1ZSA9PT0gY29sbGVjdGlvbltrZXldKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cbiAgdmFyIGNvbGxlY3Rpb25Db3B5ID0gc2hhbGxvd0NvcHkoY29sbGVjdGlvbik7XG4gIGNvbGxlY3Rpb25Db3B5W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIGNvbGxlY3Rpb25Db3B5O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJbiQxKGNvbGxlY3Rpb24sIGtleVBhdGgsIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gIGlmICghdXBkYXRlcikge1xuICAgIHVwZGF0ZXIgPSBub3RTZXRWYWx1ZTtcbiAgICBub3RTZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgdXBkYXRlZFZhbHVlID0gdXBkYXRlSW5EZWVwbHkoXG4gICAgaXNJbW11dGFibGUoY29sbGVjdGlvbiksXG4gICAgY29sbGVjdGlvbixcbiAgICBjb2VyY2VLZXlQYXRoKGtleVBhdGgpLFxuICAgIDAsXG4gICAgbm90U2V0VmFsdWUsXG4gICAgdXBkYXRlclxuICApO1xuICByZXR1cm4gdXBkYXRlZFZhbHVlID09PSBOT1RfU0VUID8gbm90U2V0VmFsdWUgOiB1cGRhdGVkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUluRGVlcGx5KFxuICBpbkltbXV0YWJsZSxcbiAgZXhpc3RpbmcsXG4gIGtleVBhdGgsXG4gIGksXG4gIG5vdFNldFZhbHVlLFxuICB1cGRhdGVyXG4pIHtcbiAgdmFyIHdhc05vdFNldCA9IGV4aXN0aW5nID09PSBOT1RfU0VUO1xuICBpZiAoaSA9PT0ga2V5UGF0aC5sZW5ndGgpIHtcbiAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IHdhc05vdFNldCA/IG5vdFNldFZhbHVlIDogZXhpc3Rpbmc7XG4gICAgdmFyIG5ld1ZhbHVlID0gdXBkYXRlcihleGlzdGluZ1ZhbHVlKTtcbiAgICByZXR1cm4gbmV3VmFsdWUgPT09IGV4aXN0aW5nVmFsdWUgPyBleGlzdGluZyA6IG5ld1ZhbHVlO1xuICB9XG4gIGlmICghd2FzTm90U2V0ICYmICFpc0RhdGFTdHJ1Y3R1cmUoZXhpc3RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdDYW5ub3QgdXBkYXRlIHdpdGhpbiBub24tZGF0YS1zdHJ1Y3R1cmUgdmFsdWUgaW4gcGF0aCBbJyArXG4gICAgICAgIGtleVBhdGguc2xpY2UoMCwgaSkubWFwKHF1b3RlU3RyaW5nKSArXG4gICAgICAgICddOiAnICtcbiAgICAgICAgZXhpc3RpbmdcbiAgICApO1xuICB9XG4gIHZhciBrZXkgPSBrZXlQYXRoW2ldO1xuICB2YXIgbmV4dEV4aXN0aW5nID0gd2FzTm90U2V0ID8gTk9UX1NFVCA6IGdldChleGlzdGluZywga2V5LCBOT1RfU0VUKTtcbiAgdmFyIG5leHRVcGRhdGVkID0gdXBkYXRlSW5EZWVwbHkoXG4gICAgbmV4dEV4aXN0aW5nID09PSBOT1RfU0VUID8gaW5JbW11dGFibGUgOiBpc0ltbXV0YWJsZShuZXh0RXhpc3RpbmcpLFxuICAgIG5leHRFeGlzdGluZyxcbiAgICBrZXlQYXRoLFxuICAgIGkgKyAxLFxuICAgIG5vdFNldFZhbHVlLFxuICAgIHVwZGF0ZXJcbiAgKTtcbiAgcmV0dXJuIG5leHRVcGRhdGVkID09PSBuZXh0RXhpc3RpbmdcbiAgICA/IGV4aXN0aW5nXG4gICAgOiBuZXh0VXBkYXRlZCA9PT0gTk9UX1NFVFxuICAgID8gcmVtb3ZlKGV4aXN0aW5nLCBrZXkpXG4gICAgOiBzZXQoXG4gICAgICAgIHdhc05vdFNldCA/IChpbkltbXV0YWJsZSA/IGVtcHR5TWFwKCkgOiB7fSkgOiBleGlzdGluZyxcbiAgICAgICAga2V5LFxuICAgICAgICBuZXh0VXBkYXRlZFxuICAgICAgKTtcbn1cblxuZnVuY3Rpb24gc2V0SW4kMShjb2xsZWN0aW9uLCBrZXlQYXRoLCB2YWx1ZSkge1xuICByZXR1cm4gdXBkYXRlSW4kMShjb2xsZWN0aW9uLCBrZXlQYXRoLCBOT1RfU0VULCBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XG59XG5cbmZ1bmN0aW9uIHNldEluKGtleVBhdGgsIHYpIHtcbiAgcmV0dXJuIHNldEluJDEodGhpcywga2V5UGF0aCwgdik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUluKGNvbGxlY3Rpb24sIGtleVBhdGgpIHtcbiAgcmV0dXJuIHVwZGF0ZUluJDEoY29sbGVjdGlvbiwga2V5UGF0aCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gTk9UX1NFVDsgfSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUluKGtleVBhdGgpIHtcbiAgcmV0dXJuIHJlbW92ZUluKHRoaXMsIGtleVBhdGgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUkMShjb2xsZWN0aW9uLCBrZXksIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gIHJldHVybiB1cGRhdGVJbiQxKGNvbGxlY3Rpb24sIFtrZXldLCBub3RTZXRWYWx1ZSwgdXBkYXRlcik7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShrZXksIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxXG4gICAgPyBrZXkodGhpcylcbiAgICA6IHVwZGF0ZSQxKHRoaXMsIGtleSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJbihrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICByZXR1cm4gdXBkYXRlSW4kMSh0aGlzLCBrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcik7XG59XG5cbmZ1bmN0aW9uIG1lcmdlJDEoKSB7XG4gIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICByZXR1cm4gbWVyZ2VJbnRvS2V5ZWRXaXRoKHRoaXMsIGl0ZXJzKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VXaXRoJDEobWVyZ2VyKSB7XG4gIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICBpZiAodHlwZW9mIG1lcmdlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWVyZ2VyIGZ1bmN0aW9uOiAnICsgbWVyZ2VyKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VJbnRvS2V5ZWRXaXRoKHRoaXMsIGl0ZXJzLCBtZXJnZXIpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9LZXllZFdpdGgoY29sbGVjdGlvbiwgY29sbGVjdGlvbnMsIG1lcmdlcikge1xuICB2YXIgaXRlcnMgPSBbXTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaWkrKykge1xuICAgIHZhciBjb2xsZWN0aW9uJDEgPSBLZXllZENvbGxlY3Rpb24oY29sbGVjdGlvbnNbaWldKTtcbiAgICBpZiAoY29sbGVjdGlvbiQxLnNpemUgIT09IDApIHtcbiAgICAgIGl0ZXJzLnB1c2goY29sbGVjdGlvbiQxKTtcbiAgICB9XG4gIH1cbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG4gIGlmIChcbiAgICBjb2xsZWN0aW9uLnRvU2VxKCkuc2l6ZSA9PT0gMCAmJlxuICAgICFjb2xsZWN0aW9uLl9fb3duZXJJRCAmJlxuICAgIGl0ZXJzLmxlbmd0aCA9PT0gMVxuICApIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbi5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb24ud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoY29sbGVjdGlvbikge1xuICAgIHZhciBtZXJnZUludG9Db2xsZWN0aW9uID0gbWVyZ2VyXG4gICAgICA/IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgdXBkYXRlJDEoY29sbGVjdGlvbiwga2V5LCBOT1RfU0VULCBmdW5jdGlvbiAob2xkVmFsKSB7IHJldHVybiBvbGRWYWwgPT09IE5PVF9TRVQgPyB2YWx1ZSA6IG1lcmdlcihvbGRWYWwsIHZhbHVlLCBrZXkpOyB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgOiBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGl0ZXJzW2lpXS5mb3JFYWNoKG1lcmdlSW50b0NvbGxlY3Rpb24pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlKGNvbGxlY3Rpb24pIHtcbiAgdmFyIHNvdXJjZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgc291cmNlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICByZXR1cm4gbWVyZ2VXaXRoU291cmNlcyhjb2xsZWN0aW9uLCBzb3VyY2VzKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VXaXRoKG1lcmdlciwgY29sbGVjdGlvbikge1xuICB2YXIgc291cmNlcyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgd2hpbGUgKCBsZW4tLSA+IDAgKSBzb3VyY2VzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMiBdO1xuXG4gIHJldHVybiBtZXJnZVdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMsIG1lcmdlcik7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGVlcCQxKGNvbGxlY3Rpb24pIHtcbiAgdmFyIHNvdXJjZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgc291cmNlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICByZXR1cm4gbWVyZ2VEZWVwV2l0aFNvdXJjZXMoY29sbGVjdGlvbiwgc291cmNlcyk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGVlcFdpdGgkMShtZXJnZXIsIGNvbGxlY3Rpb24pIHtcbiAgdmFyIHNvdXJjZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgc291cmNlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICByZXR1cm4gbWVyZ2VEZWVwV2l0aFNvdXJjZXMoY29sbGVjdGlvbiwgc291cmNlcywgbWVyZ2VyKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZWVwV2l0aFNvdXJjZXMoY29sbGVjdGlvbiwgc291cmNlcywgbWVyZ2VyKSB7XG4gIHJldHVybiBtZXJnZVdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMsIGRlZXBNZXJnZXJXaXRoKG1lcmdlcikpO1xufVxuXG5mdW5jdGlvbiBtZXJnZVdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMsIG1lcmdlcikge1xuICBpZiAoIWlzRGF0YVN0cnVjdHVyZShjb2xsZWN0aW9uKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnQ2Fubm90IG1lcmdlIGludG8gbm9uLWRhdGEtc3RydWN0dXJlIHZhbHVlOiAnICsgY29sbGVjdGlvblxuICAgICk7XG4gIH1cbiAgaWYgKGlzSW1tdXRhYmxlKGNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXJnZXIgPT09ICdmdW5jdGlvbicgJiYgY29sbGVjdGlvbi5tZXJnZVdpdGhcbiAgICAgID8gY29sbGVjdGlvbi5tZXJnZVdpdGguYXBwbHkoY29sbGVjdGlvbiwgWyBtZXJnZXIgXS5jb25jYXQoIHNvdXJjZXMgKSlcbiAgICAgIDogY29sbGVjdGlvbi5tZXJnZVxuICAgICAgPyBjb2xsZWN0aW9uLm1lcmdlLmFwcGx5KGNvbGxlY3Rpb24sIHNvdXJjZXMpXG4gICAgICA6IGNvbGxlY3Rpb24uY29uY2F0LmFwcGx5KGNvbGxlY3Rpb24sIHNvdXJjZXMpO1xuICB9XG4gIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKTtcbiAgdmFyIG1lcmdlZCA9IGNvbGxlY3Rpb247XG4gIHZhciBDb2xsZWN0aW9uID0gaXNBcnJheSA/IEluZGV4ZWRDb2xsZWN0aW9uIDogS2V5ZWRDb2xsZWN0aW9uO1xuICB2YXIgbWVyZ2VJdGVtID0gaXNBcnJheVxuICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIENvcHkgb24gd3JpdGVcbiAgICAgICAgaWYgKG1lcmdlZCA9PT0gY29sbGVjdGlvbikge1xuICAgICAgICAgIG1lcmdlZCA9IHNoYWxsb3dDb3B5KG1lcmdlZCk7XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIDogZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdmFyIGhhc1ZhbCA9IGhhc093blByb3BlcnR5LmNhbGwobWVyZ2VkLCBrZXkpO1xuICAgICAgICB2YXIgbmV4dFZhbCA9XG4gICAgICAgICAgaGFzVmFsICYmIG1lcmdlciA/IG1lcmdlcihtZXJnZWRba2V5XSwgdmFsdWUsIGtleSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKCFoYXNWYWwgfHwgbmV4dFZhbCAhPT0gbWVyZ2VkW2tleV0pIHtcbiAgICAgICAgICAvLyBDb3B5IG9uIHdyaXRlXG4gICAgICAgICAgaWYgKG1lcmdlZCA9PT0gY29sbGVjdGlvbikge1xuICAgICAgICAgICAgbWVyZ2VkID0gc2hhbGxvd0NvcHkobWVyZ2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVyZ2VkW2tleV0gPSBuZXh0VmFsO1xuICAgICAgICB9XG4gICAgICB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICBDb2xsZWN0aW9uKHNvdXJjZXNbaV0pLmZvckVhY2gobWVyZ2VJdGVtKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2VyV2l0aChtZXJnZXIpIHtcbiAgZnVuY3Rpb24gZGVlcE1lcmdlcihvbGRWYWx1ZSwgbmV3VmFsdWUsIGtleSkge1xuICAgIHJldHVybiBpc0RhdGFTdHJ1Y3R1cmUob2xkVmFsdWUpICYmXG4gICAgICBpc0RhdGFTdHJ1Y3R1cmUobmV3VmFsdWUpICYmXG4gICAgICBhcmVNZXJnZWFibGUob2xkVmFsdWUsIG5ld1ZhbHVlKVxuICAgICAgPyBtZXJnZVdpdGhTb3VyY2VzKG9sZFZhbHVlLCBbbmV3VmFsdWVdLCBkZWVwTWVyZ2VyKVxuICAgICAgOiBtZXJnZXJcbiAgICAgID8gbWVyZ2VyKG9sZFZhbHVlLCBuZXdWYWx1ZSwga2V5KVxuICAgICAgOiBuZXdWYWx1ZTtcbiAgfVxuICByZXR1cm4gZGVlcE1lcmdlcjtcbn1cblxuLyoqXG4gKiBJdCdzIHVuY2xlYXIgd2hhdCB0aGUgZGVzaXJlZCBiZWhhdmlvciBpcyBmb3IgbWVyZ2luZyB0d28gY29sbGVjdGlvbnMgdGhhdFxuICogZmFsbCBpbnRvIHNlcGFyYXRlIGNhdGVnb3JpZXMgYmV0d2VlbiBrZXllZCwgaW5kZXhlZCwgb3Igc2V0LWxpa2UsIHNvIHdlIG9ubHlcbiAqIGNvbnNpZGVyIHRoZW0gbWVyZ2VhYmxlIGlmIHRoZXkgZmFsbCBpbnRvIHRoZSBzYW1lIGNhdGVnb3J5LlxuICovXG5mdW5jdGlvbiBhcmVNZXJnZWFibGUob2xkRGF0YVN0cnVjdHVyZSwgbmV3RGF0YVN0cnVjdHVyZSkge1xuICB2YXIgb2xkU2VxID0gU2VxKG9sZERhdGFTdHJ1Y3R1cmUpO1xuICB2YXIgbmV3U2VxID0gU2VxKG5ld0RhdGFTdHJ1Y3R1cmUpO1xuICAvLyBUaGlzIGxvZ2ljIGFzc3VtZXMgdGhhdCBhIHNlcXVlbmNlIGNhbiBvbmx5IGZhbGwgaW50byBvbmUgb2YgdGhlIHRocmVlXG4gIC8vIGNhdGVnb3JpZXMgbWVudGlvbmVkIGFib3ZlIChzaW5jZSB0aGVyZSdzIG5vIGBpc1NldExpa2UoKWAgbWV0aG9kKS5cbiAgcmV0dXJuIChcbiAgICBpc0luZGV4ZWQob2xkU2VxKSA9PT0gaXNJbmRleGVkKG5ld1NlcSkgJiZcbiAgICBpc0tleWVkKG9sZFNlcSkgPT09IGlzS2V5ZWQobmV3U2VxKVxuICApO1xufVxuXG5mdW5jdGlvbiBtZXJnZURlZXAoKSB7XG4gIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICByZXR1cm4gbWVyZ2VEZWVwV2l0aFNvdXJjZXModGhpcywgaXRlcnMpO1xufVxuXG5mdW5jdGlvbiBtZXJnZURlZXBXaXRoKG1lcmdlcikge1xuICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgcmV0dXJuIG1lcmdlRGVlcFdpdGhTb3VyY2VzKHRoaXMsIGl0ZXJzLCBtZXJnZXIpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUluKGtleVBhdGgpIHtcbiAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gIHJldHVybiB1cGRhdGVJbiQxKHRoaXMsIGtleVBhdGgsIGVtcHR5TWFwKCksIGZ1bmN0aW9uIChtKSB7IHJldHVybiBtZXJnZVdpdGhTb3VyY2VzKG0sIGl0ZXJzKTsgfSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGVlcEluKGtleVBhdGgpIHtcbiAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gIHJldHVybiB1cGRhdGVJbiQxKHRoaXMsIGtleVBhdGgsIGVtcHR5TWFwKCksIGZ1bmN0aW9uIChtKSB7IHJldHVybiBtZXJnZURlZXBXaXRoU291cmNlcyhtLCBpdGVycyk7IH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gd2l0aE11dGF0aW9ucyhmbikge1xuICB2YXIgbXV0YWJsZSA9IHRoaXMuYXNNdXRhYmxlKCk7XG4gIGZuKG11dGFibGUpO1xuICByZXR1cm4gbXV0YWJsZS53YXNBbHRlcmVkKCkgPyBtdXRhYmxlLl9fZW5zdXJlT3duZXIodGhpcy5fX293bmVySUQpIDogdGhpcztcbn1cblxuZnVuY3Rpb24gYXNNdXRhYmxlKCkge1xuICByZXR1cm4gdGhpcy5fX293bmVySUQgPyB0aGlzIDogdGhpcy5fX2Vuc3VyZU93bmVyKG5ldyBPd25lcklEKCkpO1xufVxuXG5mdW5jdGlvbiBhc0ltbXV0YWJsZSgpIHtcbiAgcmV0dXJuIHRoaXMuX19lbnN1cmVPd25lcigpO1xufVxuXG5mdW5jdGlvbiB3YXNBbHRlcmVkKCkge1xuICByZXR1cm4gdGhpcy5fX2FsdGVyZWQ7XG59XG5cbnZhciBNYXAgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChLZXllZENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlNYXAoKVxuICAgICAgOiBpc01hcCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkQ29sbGVjdGlvbih2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIG1hcC5zZXQoaywgdik7IH0pO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggS2V5ZWRDb2xsZWN0aW9uICkgTWFwLl9fcHJvdG9fXyA9IEtleWVkQ29sbGVjdGlvbjtcbiAgTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkQ29sbGVjdGlvbiAmJiBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIE1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXA7XG5cbiAgTWFwLm9mID0gZnVuY3Rpb24gb2YgKCkge1xuICAgIHZhciBrZXlWYWx1ZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkga2V5VmFsdWVzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICByZXR1cm4gZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5VmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGlmIChpICsgMSA+PSBrZXlWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHZhbHVlIGZvciBrZXk6ICcgKyBrZXlWYWx1ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5zZXQoa2V5VmFsdWVzW2ldLCBrZXlWYWx1ZXNbaSArIDFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ01hcCB7JywgJ30nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrLCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9yb290XG4gICAgICA/IHRoaXMuX3Jvb3QuZ2V0KDAsIHVuZGVmaW5lZCwgaywgbm90U2V0VmFsdWUpXG4gICAgICA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIHYpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmRlbGV0ZUFsbCA9IGZ1bmN0aW9uIGRlbGV0ZUFsbCAoa2V5cykge1xuICAgIHZhciBjb2xsZWN0aW9uID0gQ29sbGVjdGlvbihrZXlzKTtcblxuICAgIGlmIChjb2xsZWN0aW9uLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG1hcC5yZW1vdmUoa2V5KTsgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgTWFwLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gc29ydCAoY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIHNvcnRCeSAobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXBwZXIuY2FsbChjb250ZXh0LCB2YWx1ZSwga2V5LCB0aGlzJDEkMSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB0aGlzLl9yb290ICYmXG4gICAgICB0aGlzLl9yb290Lml0ZXJhdGUoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQxJDEpO1xuICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VNYXAodGhpcy5zaXplLCB0aGlzLl9yb290LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gIH07XG5cbiAgcmV0dXJuIE1hcDtcbn0oS2V5ZWRDb2xsZWN0aW9uKSk7XG5cbk1hcC5pc01hcCA9IGlzTWFwO1xuXG52YXIgTWFwUHJvdG90eXBlID0gTWFwLnByb3RvdHlwZTtcbk1hcFByb3RvdHlwZVtJU19NQVBfU1lNQk9MXSA9IHRydWU7XG5NYXBQcm90b3R5cGVbREVMRVRFXSA9IE1hcFByb3RvdHlwZS5yZW1vdmU7XG5NYXBQcm90b3R5cGUucmVtb3ZlQWxsID0gTWFwUHJvdG90eXBlLmRlbGV0ZUFsbDtcbk1hcFByb3RvdHlwZS5zZXRJbiA9IHNldEluO1xuTWFwUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLmRlbGV0ZUluID0gZGVsZXRlSW47XG5NYXBQcm90b3R5cGUudXBkYXRlID0gdXBkYXRlO1xuTWFwUHJvdG90eXBlLnVwZGF0ZUluID0gdXBkYXRlSW47XG5NYXBQcm90b3R5cGUubWVyZ2UgPSBNYXBQcm90b3R5cGUuY29uY2F0ID0gbWVyZ2UkMTtcbk1hcFByb3RvdHlwZS5tZXJnZVdpdGggPSBtZXJnZVdpdGgkMTtcbk1hcFByb3RvdHlwZS5tZXJnZURlZXAgPSBtZXJnZURlZXA7XG5NYXBQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IG1lcmdlRGVlcFdpdGg7XG5NYXBQcm90b3R5cGUubWVyZ2VJbiA9IG1lcmdlSW47XG5NYXBQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBtZXJnZURlZXBJbjtcbk1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gd2l0aE11dGF0aW9ucztcbk1hcFByb3RvdHlwZS53YXNBbHRlcmVkID0gd2FzQWx0ZXJlZDtcbk1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGFzSW1tdXRhYmxlO1xuTWFwUHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZSA9IGFzTXV0YWJsZTtcbk1hcFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGFycikge1xuICByZXR1cm4gcmVzdWx0LnNldChhcnJbMF0sIGFyclsxXSk7XG59O1xuTWFwUHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmouYXNJbW11dGFibGUoKTtcbn07XG5cbi8vICNwcmFnbWEgVHJpZSBOb2Rlc1xuXG52YXIgQXJyYXlNYXBOb2RlID0gZnVuY3Rpb24gQXJyYXlNYXBOb2RlKG93bmVySUQsIGVudHJpZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbn07XG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vdFNldFZhbHVlO1xufTtcblxuQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoO1xuICBmb3IgKDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gIGlmIChyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgfVxuXG4gIGlmICghZXhpc3RzICYmICFyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID49IE1BWF9BUlJBWV9NQVBfU0laRSkge1xuICAgIHJldHVybiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gIGlmIChleGlzdHMpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgaWR4ID09PSBsZW4gLSAxXG4gICAgICAgID8gbmV3RW50cmllcy5wb3AoKVxuICAgICAgICA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0VudHJpZXMpO1xufTtcblxudmFyIEJpdG1hcEluZGV4ZWROb2RlID0gZnVuY3Rpb24gQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBub2Rlcykge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgdGhpcy5ub2RlcyA9IG5vZGVzO1xufTtcblxuQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGJpdCA9IDEgPDwgKChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLKTtcbiAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICByZXR1cm4gKGJpdG1hcCAmIGJpdCkgPT09IDBcbiAgICA/IG5vdFNldFZhbHVlXG4gICAgOiB0aGlzLm5vZGVzW3BvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSldLmdldChcbiAgICAgICAgc2hpZnQgKyBTSElGVCxcbiAgICAgICAga2V5SGFzaCxcbiAgICAgICAga2V5LFxuICAgICAgICBub3RTZXRWYWx1ZVxuICAgICAgKTtcbn07XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIga2V5SGFzaEZyYWcgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIGJpdCA9IDEgPDwga2V5SGFzaEZyYWc7XG4gIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgdmFyIGV4aXN0cyA9IChiaXRtYXAgJiBiaXQpICE9PSAwO1xuXG4gIGlmICghZXhpc3RzICYmIHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgaWR4ID0gcG9wQ291bnQoYml0bWFwICYgKGJpdCAtIDEpKTtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgdmFyIG5vZGUgPSBleGlzdHMgPyBub2Rlc1tpZHhdIDogdW5kZWZpbmVkO1xuICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUoXG4gICAgbm9kZSxcbiAgICBvd25lcklELFxuICAgIHNoaWZ0ICsgU0hJRlQsXG4gICAga2V5SGFzaCxcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICBkaWRBbHRlclxuICApO1xuXG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpZiAoIWV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA+PSBNQVhfQklUTUFQX0lOREVYRURfU0laRSkge1xuICAgIHJldHVybiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBrZXlIYXNoRnJhZywgbmV3Tm9kZSk7XG4gIH1cblxuICBpZiAoXG4gICAgZXhpc3RzICYmXG4gICAgIW5ld05vZGUgJiZcbiAgICBub2Rlcy5sZW5ndGggPT09IDIgJiZcbiAgICBpc0xlYWZOb2RlKG5vZGVzW2lkeCBeIDFdKVxuICApIHtcbiAgICByZXR1cm4gbm9kZXNbaWR4IF4gMV07XG4gIH1cblxuICBpZiAoZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAxICYmIGlzTGVhZk5vZGUobmV3Tm9kZSkpIHtcbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdCaXRtYXAgPSBleGlzdHMgPyAobmV3Tm9kZSA/IGJpdG1hcCA6IGJpdG1hcCBeIGJpdCkgOiBiaXRtYXAgfCBiaXQ7XG4gIHZhciBuZXdOb2RlcyA9IGV4aXN0c1xuICAgID8gbmV3Tm9kZVxuICAgICAgPyBzZXRBdChub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKVxuICAgICAgOiBzcGxpY2VPdXQobm9kZXMsIGlkeCwgaXNFZGl0YWJsZSlcbiAgICA6IHNwbGljZUluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpO1xuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5iaXRtYXAgPSBuZXdCaXRtYXA7XG4gICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBuZXdCaXRtYXAsIG5ld05vZGVzKTtcbn07XG5cbnZhciBIYXNoQXJyYXlNYXBOb2RlID0gZnVuY3Rpb24gSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCwgbm9kZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xuICB0aGlzLm5vZGVzID0gbm9kZXM7XG59O1xuXG5IYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBpZHggPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2lkeF07XG4gIHJldHVybiBub2RlXG4gICAgPyBub2RlLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKVxuICAgIDogbm90U2V0VmFsdWU7XG59O1xuXG5IYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIHZhciBub2RlID0gbm9kZXNbaWR4XTtcblxuICBpZiAocmVtb3ZlZCAmJiAhbm9kZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCArIFNISUZULFxuICAgIGtleUhhc2gsXG4gICAga2V5LFxuICAgIHZhbHVlLFxuICAgIGRpZENoYW5nZVNpemUsXG4gICAgZGlkQWx0ZXJcbiAgKTtcbiAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBuZXdDb3VudCA9IHRoaXMuY291bnQ7XG4gIGlmICghbm9kZSkge1xuICAgIG5ld0NvdW50Kys7XG4gIH0gZWxzZSBpZiAoIW5ld05vZGUpIHtcbiAgICBuZXdDb3VudC0tO1xuICAgIGlmIChuZXdDb3VudCA8IE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFKSB7XG4gICAgICByZXR1cm4gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBuZXdDb3VudCwgaWR4KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3Tm9kZXMgPSBzZXRBdChub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuY291bnQgPSBuZXdDb3VudDtcbiAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3Q291bnQsIG5ld05vZGVzKTtcbn07XG5cbnZhciBIYXNoQ29sbGlzaW9uTm9kZSA9IGZ1bmN0aW9uIEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJpZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbn07XG5cbkhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbm90U2V0VmFsdWU7XG59O1xuXG5IYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cblxuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gIGlmIChrZXlIYXNoICE9PSB0aGlzLmtleUhhc2gpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7XG4gIGZvciAoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgaWYgKHJlbW92ZWQgJiYgbGVuID09PSAyKSB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBlbnRyaWVzW2lkeCBeIDFdKTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gIGlmIChleGlzdHMpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgaWR4ID09PSBsZW4gLSAxXG4gICAgICAgID8gbmV3RW50cmllcy5wb3AoKVxuICAgICAgICA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBuZXdFbnRyaWVzKTtcbn07XG5cbnZhciBWYWx1ZU5vZGUgPSBmdW5jdGlvbiBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgdGhpcy5lbnRyeSA9IGVudHJ5O1xufTtcblxuVmFsdWVOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHJldHVybiBpcyhrZXksIHRoaXMuZW50cnlbMF0pID8gdGhpcy5lbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xufTtcblxuVmFsdWVOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICB2YXIga2V5TWF0Y2ggPSBpcyhrZXksIHRoaXMuZW50cnlbMF0pO1xuICBpZiAoa2V5TWF0Y2ggPyB2YWx1ZSA9PT0gdGhpcy5lbnRyeVsxXSA6IHJlbW92ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG5cbiAgaWYgKHJlbW92ZWQpIHtcbiAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgfVxuXG4gIGlmIChrZXlNYXRjaCkge1xuICAgIGlmIChvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRCkge1xuICAgICAgdGhpcy5lbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbn07XG5cbi8vICNwcmFnbWEgSXRlcmF0b3JzXG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIGlmIChmbihlbnRyaWVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICBpZiAobm9kZSAmJiBub2RlLml0ZXJhdGUoZm4sIHJldmVyc2UpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblZhbHVlTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICByZXR1cm4gZm4odGhpcy5lbnRyeSk7XG59O1xuXG52YXIgTWFwSXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJdGVyYXRvcikge1xuICBmdW5jdGlvbiBNYXBJdGVyYXRvcihtYXAsIHR5cGUsIHJldmVyc2UpIHtcbiAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB0aGlzLl9yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICB0aGlzLl9zdGFjayA9IG1hcC5fcm9vdCAmJiBtYXBJdGVyYXRvckZyYW1lKG1hcC5fcm9vdCk7XG4gIH1cblxuICBpZiAoIEl0ZXJhdG9yICkgTWFwSXRlcmF0b3IuX19wcm90b19fID0gSXRlcmF0b3I7XG4gIE1hcEl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEl0ZXJhdG9yICYmIEl0ZXJhdG9yLnByb3RvdHlwZSApO1xuICBNYXBJdGVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBJdGVyYXRvcjtcblxuICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIG5leHQgKCkge1xuICAgIHZhciB0eXBlID0gdGhpcy5fdHlwZTtcbiAgICB2YXIgc3RhY2sgPSB0aGlzLl9zdGFjaztcbiAgICB3aGlsZSAoc3RhY2spIHtcbiAgICAgIHZhciBub2RlID0gc3RhY2subm9kZTtcbiAgICAgIHZhciBpbmRleCA9IHN0YWNrLmluZGV4Kys7XG4gICAgICB2YXIgbWF4SW5kZXggPSAodm9pZCAwKTtcbiAgICAgIGlmIChub2RlLmVudHJ5KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuZW50cmllcykge1xuICAgICAgICBtYXhJbmRleCA9IG5vZGUuZW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBub2RlLmVudHJpZXNbdGhpcy5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhJbmRleCA9IG5vZGUubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgdmFyIHN1Yk5vZGUgPSBub2RlLm5vZGVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdO1xuICAgICAgICAgIGlmIChzdWJOb2RlKSB7XG4gICAgICAgICAgICBpZiAoc3ViTm9kZS5lbnRyeSkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBzdWJOb2RlLmVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSBtYXBJdGVyYXRvckZyYW1lKHN1Yk5vZGUsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSB0aGlzLl9zdGFjay5fX3ByZXY7XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgfTtcblxuICByZXR1cm4gTWFwSXRlcmF0b3I7XG59KEl0ZXJhdG9yKSk7XG5cbmZ1bmN0aW9uIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnkpIHtcbiAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbn1cblxuZnVuY3Rpb24gbWFwSXRlcmF0b3JGcmFtZShub2RlLCBwcmV2KSB7XG4gIHJldHVybiB7XG4gICAgbm9kZTogbm9kZSxcbiAgICBpbmRleDogMCxcbiAgICBfX3ByZXY6IHByZXYsXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VNYXAoc2l6ZSwgcm9vdCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShNYXBQcm90b3R5cGUpO1xuICBtYXAuc2l6ZSA9IHNpemU7XG4gIG1hcC5fcm9vdCA9IHJvb3Q7XG4gIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICBtYXAuX19oYXNoID0gaGFzaDtcbiAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbWFwO1xufVxuXG52YXIgRU1QVFlfTUFQO1xuZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gIHJldHVybiBFTVBUWV9NQVAgfHwgKEVNUFRZX01BUCA9IG1ha2VNYXAoMCkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVNYXAobWFwLCBrLCB2KSB7XG4gIHZhciBuZXdSb290O1xuICB2YXIgbmV3U2l6ZTtcbiAgaWYgKCFtYXAuX3Jvb3QpIHtcbiAgICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgbmV3U2l6ZSA9IDE7XG4gICAgbmV3Um9vdCA9IG5ldyBBcnJheU1hcE5vZGUobWFwLl9fb3duZXJJRCwgW1trLCB2XV0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBkaWRDaGFuZ2VTaXplID0gTWFrZVJlZigpO1xuICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoKTtcbiAgICBuZXdSb290ID0gdXBkYXRlTm9kZShcbiAgICAgIG1hcC5fcm9vdCxcbiAgICAgIG1hcC5fX293bmVySUQsXG4gICAgICAwLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgayxcbiAgICAgIHYsXG4gICAgICBkaWRDaGFuZ2VTaXplLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIG5ld1NpemUgPSBtYXAuc2l6ZSArIChkaWRDaGFuZ2VTaXplLnZhbHVlID8gKHYgPT09IE5PVF9TRVQgPyAtMSA6IDEpIDogMCk7XG4gIH1cbiAgaWYgKG1hcC5fX293bmVySUQpIHtcbiAgICBtYXAuc2l6ZSA9IG5ld1NpemU7XG4gICAgbWFwLl9yb290ID0gbmV3Um9vdDtcbiAgICBtYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIG1hcC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cbiAgcmV0dXJuIG5ld1Jvb3QgPyBtYWtlTWFwKG5ld1NpemUsIG5ld1Jvb3QpIDogZW1wdHlNYXAoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTm9kZShcbiAgbm9kZSxcbiAgb3duZXJJRCxcbiAgc2hpZnQsXG4gIGtleUhhc2gsXG4gIGtleSxcbiAgdmFsdWUsXG4gIGRpZENoYW5nZVNpemUsXG4gIGRpZEFsdGVyXG4pIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgaWYgKHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuICByZXR1cm4gbm9kZS51cGRhdGUoXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCxcbiAgICBrZXlIYXNoLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgICBkaWRDaGFuZ2VTaXplLFxuICAgIGRpZEFsdGVyXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzTGVhZk5vZGUobm9kZSkge1xuICByZXR1cm4gKFxuICAgIG5vZGUuY29uc3RydWN0b3IgPT09IFZhbHVlTm9kZSB8fCBub2RlLmNvbnN0cnVjdG9yID09PSBIYXNoQ29sbGlzaW9uTm9kZVxuICApO1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBlbnRyeSkge1xuICBpZiAobm9kZS5rZXlIYXNoID09PSBrZXlIYXNoKSB7XG4gICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBbbm9kZS5lbnRyeSwgZW50cnldKTtcbiAgfVxuXG4gIHZhciBpZHgxID0gKHNoaWZ0ID09PSAwID8gbm9kZS5rZXlIYXNoIDogbm9kZS5rZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgaWR4MiA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuXG4gIHZhciBuZXdOb2RlO1xuICB2YXIgbm9kZXMgPVxuICAgIGlkeDEgPT09IGlkeDJcbiAgICAgID8gW21lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwgZW50cnkpXVxuICAgICAgOiAoKG5ld05vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSksXG4gICAgICAgIGlkeDEgPCBpZHgyID8gW25vZGUsIG5ld05vZGVdIDogW25ld05vZGUsIG5vZGVdKTtcblxuICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsICgxIDw8IGlkeDEpIHwgKDEgPDwgaWR4MiksIG5vZGVzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSkge1xuICBpZiAoIW93bmVySUQpIHtcbiAgICBvd25lcklEID0gbmV3IE93bmVySUQoKTtcbiAgfVxuICB2YXIgbm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgZW50cmllcy5sZW5ndGg7IGlpKyspIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2lpXTtcbiAgICBub2RlID0gbm9kZS51cGRhdGUob3duZXJJRCwgMCwgdW5kZWZpbmVkLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIGNvdW50LCBleGNsdWRpbmcpIHtcbiAgdmFyIGJpdG1hcCA9IDA7XG4gIHZhciBwYWNrZWRJSSA9IDA7XG4gIHZhciBwYWNrZWROb2RlcyA9IG5ldyBBcnJheShjb3VudCk7XG4gIGZvciAodmFyIGlpID0gMCwgYml0ID0gMSwgbGVuID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKywgYml0IDw8PSAxKSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1tpaV07XG4gICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCAmJiBpaSAhPT0gZXhjbHVkaW5nKSB7XG4gICAgICBiaXRtYXAgfD0gYml0O1xuICAgICAgcGFja2VkTm9kZXNbcGFja2VkSUkrK10gPSBub2RlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgcGFja2VkTm9kZXMpO1xufVxuXG5mdW5jdGlvbiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBpbmNsdWRpbmcsIG5vZGUpIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIGV4cGFuZGVkTm9kZXMgPSBuZXcgQXJyYXkoU0laRSk7XG4gIGZvciAodmFyIGlpID0gMDsgYml0bWFwICE9PSAwOyBpaSsrLCBiaXRtYXAgPj4+PSAxKSB7XG4gICAgZXhwYW5kZWROb2Rlc1tpaV0gPSBiaXRtYXAgJiAxID8gbm9kZXNbY291bnQrK10gOiB1bmRlZmluZWQ7XG4gIH1cbiAgZXhwYW5kZWROb2Rlc1tpbmNsdWRpbmddID0gbm9kZTtcbiAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50ICsgMSwgZXhwYW5kZWROb2Rlcyk7XG59XG5cbmZ1bmN0aW9uIHBvcENvdW50KHgpIHtcbiAgeCAtPSAoeCA+PiAxKSAmIDB4NTU1NTU1NTU7XG4gIHggPSAoeCAmIDB4MzMzMzMzMzMpICsgKCh4ID4+IDIpICYgMHgzMzMzMzMzMyk7XG4gIHggPSAoeCArICh4ID4+IDQpKSAmIDB4MGYwZjBmMGY7XG4gIHggKz0geCA+PiA4O1xuICB4ICs9IHggPj4gMTY7XG4gIHJldHVybiB4ICYgMHg3Zjtcbn1cblxuZnVuY3Rpb24gc2V0QXQoYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gIHZhciBuZXdBcnJheSA9IGNhbkVkaXQgPyBhcnJheSA6IGFyckNvcHkoYXJyYXkpO1xuICBuZXdBcnJheVtpZHhdID0gdmFsO1xuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZUluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoICsgMTtcbiAgaWYgKGNhbkVkaXQgJiYgaWR4ICsgMSA9PT0gbmV3TGVuKSB7XG4gICAgYXJyYXlbaWR4XSA9IHZhbDtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gIHZhciBhZnRlciA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgbmV3QXJyYXlbaWldID0gdmFsO1xuICAgICAgYWZ0ZXIgPSAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT3V0KGFycmF5LCBpZHgsIGNhbkVkaXQpIHtcbiAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gIGlmIChjYW5FZGl0ICYmIGlkeCA9PT0gbmV3TGVuKSB7XG4gICAgYXJyYXkucG9wKCk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICB2YXIgYWZ0ZXIgPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgIGFmdGVyID0gMTtcbiAgICB9XG4gICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gIH1cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG52YXIgTUFYX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG52YXIgTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUgPSBTSVpFIC8gMjtcbnZhciBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xuXG52YXIgSVNfTElTVF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbmZ1bmN0aW9uIGlzTGlzdChtYXliZUxpc3QpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVMaXN0ICYmIG1heWJlTGlzdFtJU19MSVNUX1NZTUJPTF0pO1xufVxuXG52YXIgTGlzdCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEluZGV4ZWRDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIExpc3QodmFsdWUpIHtcbiAgICB2YXIgZW1wdHkgPSBlbXB0eUxpc3QoKTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICBpZiAoaXNMaXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXIgaXRlciA9IEluZGV4ZWRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICB2YXIgc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICBpZiAoc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICBhc3NlcnROb3RJbmZpbml0ZShzaXplKTtcbiAgICBpZiAoc2l6ZSA+IDAgJiYgc2l6ZSA8IFNJWkUpIHtcbiAgICAgIHJldHVybiBtYWtlTGlzdCgwLCBzaXplLCBTSElGVCwgbnVsbCwgbmV3IFZOb2RlKGl0ZXIudG9BcnJheSgpKSk7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBsaXN0LnNldFNpemUoc2l6ZSk7XG4gICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGxpc3Quc2V0KGksIHYpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZENvbGxlY3Rpb24gKSBMaXN0Ll9fcHJvdG9fXyA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuICBMaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRDb2xsZWN0aW9uICYmIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpc3Q7XG5cbiAgTGlzdC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdMaXN0IFsnLCAnXScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnNpemUpIHtcbiAgICAgIGluZGV4ICs9IHRoaXMuX29yaWdpbjtcbiAgICAgIHZhciBub2RlID0gbGlzdE5vZGVGb3IodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5hcnJheVtpbmRleCAmIE1BU0tdO1xuICAgIH1cbiAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGluZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChpbmRleCkge1xuICAgIHJldHVybiAhdGhpcy5oYXMoaW5kZXgpXG4gICAgICA/IHRoaXNcbiAgICAgIDogaW5kZXggPT09IDBcbiAgICAgID8gdGhpcy5zaGlmdCgpXG4gICAgICA6IGluZGV4ID09PSB0aGlzLnNpemUgLSAxXG4gICAgICA/IHRoaXMucG9wKClcbiAgICAgIDogdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIGluc2VydCAoaW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5fb3JpZ2luID0gdGhpcy5fY2FwYWNpdHkgPSAwO1xuICAgICAgdGhpcy5fbGV2ZWwgPSBTSElGVDtcbiAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLl90YWlsID0gdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICB2YXIgb2xkU2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGxpc3Quc2V0KG9sZFNpemUgKyBpaSwgdmFsdWVzW2lpXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpIHtcbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIHVuc2hpZnQgKC8qLi4udmFsdWVzKi8pIHtcbiAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgLXZhbHVlcy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgbGlzdC5zZXQoaWksIHZhbHVlc1tpaV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gc2hpZnQgKCkge1xuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDEpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKC8qLi4uY29sbGVjdGlvbnMqLykge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIHZhciBzZXFzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBhcmd1bWVudCA9IGFyZ3VtZW50cyQxW2ldO1xuICAgICAgdmFyIHNlcSA9IEluZGV4ZWRDb2xsZWN0aW9uKFxuICAgICAgICB0eXBlb2YgYXJndW1lbnQgIT09ICdzdHJpbmcnICYmIGhhc0l0ZXJhdG9yKGFyZ3VtZW50KVxuICAgICAgICAgID8gYXJndW1lbnRcbiAgICAgICAgICA6IFthcmd1bWVudF1cbiAgICAgICk7XG4gICAgICBpZiAoc2VxLnNpemUgIT09IDApIHtcbiAgICAgICAgc2Vxcy5wdXNoKHNlcSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZXFzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpemUgPT09IDAgJiYgIXRoaXMuX19vd25lcklEICYmIHNlcXMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihzZXFzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgc2Vxcy5mb3JFYWNoKGZ1bmN0aW9uIChzZXEpIHsgcmV0dXJuIHNlcS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbGlzdC5wdXNoKHZhbHVlKTsgfSk7IH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplIChzaXplKSB7XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgc2l6ZSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzJDEkMS5zaXplOyBpKyspIHtcbiAgICAgICAgbGlzdC5zZXQoaSwgbWFwcGVyLmNhbGwoY29udGV4dCwgbGlzdC5nZXQoaSksIGksIHRoaXMkMSQxKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyhcbiAgICAgIHRoaXMsXG4gICAgICByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpLFxuICAgICAgcmVzb2x2ZUVuZChlbmQsIHNpemUpXG4gICAgKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyB0aGlzLnNpemUgOiAwO1xuICAgIHZhciB2YWx1ZXMgPSBpdGVyYXRlTGlzdCh0aGlzLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBET05FXG4gICAgICAgID8gaXRlcmF0b3JEb25lKClcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyAtLWluZGV4IDogaW5kZXgrKywgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gdGhpcy5zaXplIDogMDtcbiAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgdmFyIHZhbHVlO1xuICAgIHdoaWxlICgodmFsdWUgPSB2YWx1ZXMoKSkgIT09IERPTkUpIHtcbiAgICAgIGlmIChmbih2YWx1ZSwgcmV2ZXJzZSA/IC0taW5kZXggOiBpbmRleCsrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChcbiAgICAgIHRoaXMuX29yaWdpbixcbiAgICAgIHRoaXMuX2NhcGFjaXR5LFxuICAgICAgdGhpcy5fbGV2ZWwsXG4gICAgICB0aGlzLl9yb290LFxuICAgICAgdGhpcy5fdGFpbCxcbiAgICAgIG93bmVySUQsXG4gICAgICB0aGlzLl9faGFzaFxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIExpc3Q7XG59KEluZGV4ZWRDb2xsZWN0aW9uKSk7XG5cbkxpc3QuaXNMaXN0ID0gaXNMaXN0O1xuXG52YXIgTGlzdFByb3RvdHlwZSA9IExpc3QucHJvdG90eXBlO1xuTGlzdFByb3RvdHlwZVtJU19MSVNUX1NZTUJPTF0gPSB0cnVlO1xuTGlzdFByb3RvdHlwZVtERUxFVEVdID0gTGlzdFByb3RvdHlwZS5yZW1vdmU7XG5MaXN0UHJvdG90eXBlLm1lcmdlID0gTGlzdFByb3RvdHlwZS5jb25jYXQ7XG5MaXN0UHJvdG90eXBlLnNldEluID0gc2V0SW47XG5MaXN0UHJvdG90eXBlLmRlbGV0ZUluID0gTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IGRlbGV0ZUluO1xuTGlzdFByb3RvdHlwZS51cGRhdGUgPSB1cGRhdGU7XG5MaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gdXBkYXRlSW47XG5MaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBtZXJnZUluO1xuTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IG1lcmdlRGVlcEluO1xuTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gd2l0aE11dGF0aW9ucztcbkxpc3RQcm90b3R5cGUud2FzQWx0ZXJlZCA9IHdhc0FsdGVyZWQ7XG5MaXN0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gYXNJbW11dGFibGU7XG5MaXN0UHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gTGlzdFByb3RvdHlwZS5hc011dGFibGUgPSBhc011dGFibGU7XG5MaXN0UHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKHJlc3VsdCwgYXJyKSB7XG4gIHJldHVybiByZXN1bHQucHVzaChhcnIpO1xufTtcbkxpc3RQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iai5hc0ltbXV0YWJsZSgpO1xufTtcblxudmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xufTtcblxuLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuVk5vZGUucHJvdG90eXBlLnJlbW92ZUJlZm9yZSA9IGZ1bmN0aW9uIHJlbW92ZUJlZm9yZSAob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgb3JpZ2luSW5kZXggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgVk5vZGUoW10sIG93bmVySUQpO1xuICB9XG4gIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gIHZhciBuZXdDaGlsZDtcbiAgaWYgKGxldmVsID4gMCkge1xuICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgIG5ld0NoaWxkID1cbiAgICAgIG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiByZW1vdmluZ0ZpcnN0KSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cbiAgaWYgKHJlbW92aW5nRmlyc3QgJiYgIW5ld0NoaWxkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIGVkaXRhYmxlID0gZWRpdGFibGVWTm9kZSh0aGlzLCBvd25lcklEKTtcbiAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG9yaWdpbkluZGV4OyBpaSsrKSB7XG4gICAgICBlZGl0YWJsZS5hcnJheVtpaV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGlmIChuZXdDaGlsZCkge1xuICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICB9XG4gIHJldHVybiBlZGl0YWJsZTtcbn07XG5cblZOb2RlLnByb3RvdHlwZS5yZW1vdmVBZnRlciA9IGZ1bmN0aW9uIHJlbW92ZUFmdGVyIChvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSAobGV2ZWwgPyAxIDw8IGxldmVsIDogMCkgfHwgdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgc2l6ZUluZGV4ID0gKChpbmRleCAtIDEpID4+PiBsZXZlbCkgJiBNQVNLO1xuICBpZiAoc2l6ZUluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbmV3Q2hpbGQ7XG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W3NpemVJbmRleF07XG4gICAgbmV3Q2hpbGQgPVxuICAgICAgb2xkQ2hpbGQgJiYgb2xkQ2hpbGQucmVtb3ZlQWZ0ZXIob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgc2l6ZUluZGV4ID09PSB0aGlzLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gIGVkaXRhYmxlLmFycmF5LnNwbGljZShzaXplSW5kZXggKyAxKTtcbiAgaWYgKG5ld0NoaWxkKSB7XG4gICAgZWRpdGFibGUuYXJyYXlbc2l6ZUluZGV4XSA9IG5ld0NoaWxkO1xuICB9XG4gIHJldHVybiBlZGl0YWJsZTtcbn07XG5cbnZhciBET05FID0ge307XG5cbmZ1bmN0aW9uIGl0ZXJhdGVMaXN0KGxpc3QsIHJldmVyc2UpIHtcbiAgdmFyIGxlZnQgPSBsaXN0Ll9vcmlnaW47XG4gIHZhciByaWdodCA9IGxpc3QuX2NhcGFjaXR5O1xuICB2YXIgdGFpbFBvcyA9IGdldFRhaWxPZmZzZXQocmlnaHQpO1xuICB2YXIgdGFpbCA9IGxpc3QuX3RhaWw7XG5cbiAgcmV0dXJuIGl0ZXJhdGVOb2RlT3JMZWFmKGxpc3QuX3Jvb3QsIGxpc3QuX2xldmVsLCAwKTtcblxuICBmdW5jdGlvbiBpdGVyYXRlTm9kZU9yTGVhZihub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIGxldmVsID09PSAwXG4gICAgICA/IGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldClcbiAgICAgIDogaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCk7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIHtcbiAgICB2YXIgYXJyYXkgPSBvZmZzZXQgPT09IHRhaWxQb3MgPyB0YWlsICYmIHRhaWwuYXJyYXkgOiBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IGxlZnQgLSBvZmZzZXQ7XG4gICAgdmFyIHRvID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgdG8gPSBTSVpFO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgIHJldHVybiBET05FO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgcmV0dXJuIGFycmF5ICYmIGFycmF5W2lkeF07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICB2YXIgdmFsdWVzO1xuICAgIHZhciBhcnJheSA9IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogKGxlZnQgLSBvZmZzZXQpID4+IGxldmVsO1xuICAgIHZhciB0byA9ICgocmlnaHQgLSBvZmZzZXQpID4+IGxldmVsKSArIDE7XG4gICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgdG8gPSBTSVpFO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gRE9ORSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgdmFsdWVzID0gaXRlcmF0ZU5vZGVPckxlYWYoXG4gICAgICAgICAgYXJyYXkgJiYgYXJyYXlbaWR4XSxcbiAgICAgICAgICBsZXZlbCAtIFNISUZULFxuICAgICAgICAgIG9mZnNldCArIChpZHggPDwgbGV2ZWwpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlTGlzdChvcmlnaW4sIGNhcGFjaXR5LCBsZXZlbCwgcm9vdCwgdGFpbCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgbGlzdCA9IE9iamVjdC5jcmVhdGUoTGlzdFByb3RvdHlwZSk7XG4gIGxpc3Quc2l6ZSA9IGNhcGFjaXR5IC0gb3JpZ2luO1xuICBsaXN0Ll9vcmlnaW4gPSBvcmlnaW47XG4gIGxpc3QuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gIGxpc3QuX2xldmVsID0gbGV2ZWw7XG4gIGxpc3QuX3Jvb3QgPSByb290O1xuICBsaXN0Ll90YWlsID0gdGFpbDtcbiAgbGlzdC5fX293bmVySUQgPSBvd25lcklEO1xuICBsaXN0Ll9faGFzaCA9IGhhc2g7XG4gIGxpc3QuX19hbHRlcmVkID0gZmFsc2U7XG4gIHJldHVybiBsaXN0O1xufVxuXG52YXIgRU1QVFlfTElTVDtcbmZ1bmN0aW9uIGVtcHR5TGlzdCgpIHtcbiAgcmV0dXJuIEVNUFRZX0xJU1QgfHwgKEVNUFRZX0xJU1QgPSBtYWtlTGlzdCgwLCAwLCBTSElGVCkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVMaXN0KGxpc3QsIGluZGV4LCB2YWx1ZSkge1xuICBpbmRleCA9IHdyYXBJbmRleChsaXN0LCBpbmRleCk7XG5cbiAgaWYgKGluZGV4ICE9PSBpbmRleCkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgaWYgKGluZGV4ID49IGxpc3Quc2l6ZSB8fCBpbmRleCA8IDApIHtcbiAgICByZXR1cm4gbGlzdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBpbmRleCA8IDBcbiAgICAgICAgPyBzZXRMaXN0Qm91bmRzKGxpc3QsIGluZGV4KS5zZXQoMCwgdmFsdWUpXG4gICAgICAgIDogc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBpbmRleCArIDEpLnNldChpbmRleCwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5kZXggKz0gbGlzdC5fb3JpZ2luO1xuXG4gIHZhciBuZXdUYWlsID0gbGlzdC5fdGFpbDtcbiAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKCk7XG4gIGlmIChpbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgIG5ld1RhaWwgPSB1cGRhdGVWTm9kZShuZXdUYWlsLCBsaXN0Ll9fb3duZXJJRCwgMCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gIH0gZWxzZSB7XG4gICAgbmV3Um9vdCA9IHVwZGF0ZVZOb2RlKFxuICAgICAgbmV3Um9vdCxcbiAgICAgIGxpc3QuX19vd25lcklELFxuICAgICAgbGlzdC5fbGV2ZWwsXG4gICAgICBpbmRleCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICB9XG5cbiAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gIHJldHVybiBtYWtlTGlzdChsaXN0Ll9vcmlnaW4sIGxpc3QuX2NhcGFjaXR5LCBsaXN0Ll9sZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZOb2RlKG5vZGUsIG93bmVySUQsIGxldmVsLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKSB7XG4gIHZhciBpZHggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gIHZhciBub2RlSGFzID0gbm9kZSAmJiBpZHggPCBub2RlLmFycmF5Lmxlbmd0aDtcbiAgaWYgKCFub2RlSGFzICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHZhciBuZXdOb2RlO1xuXG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgbG93ZXJOb2RlID0gbm9kZSAmJiBub2RlLmFycmF5W2lkeF07XG4gICAgdmFyIG5ld0xvd2VyTm9kZSA9IHVwZGF0ZVZOb2RlKFxuICAgICAgbG93ZXJOb2RlLFxuICAgICAgb3duZXJJRCxcbiAgICAgIGxldmVsIC0gU0hJRlQsXG4gICAgICBpbmRleCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICAgIGlmIChuZXdMb3dlck5vZGUgPT09IGxvd2VyTm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG5ld05vZGUgPSBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpO1xuICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IG5ld0xvd2VyTm9kZTtcbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIGlmIChub2RlSGFzICYmIG5vZGUuYXJyYXlbaWR4XSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGlmIChkaWRBbHRlcikge1xuICAgIFNldFJlZihkaWRBbHRlcik7XG4gIH1cblxuICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaWR4ID09PSBuZXdOb2RlLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICBuZXdOb2RlLmFycmF5LnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBuZXdOb2RlO1xufVxuXG5mdW5jdGlvbiBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpIHtcbiAgaWYgKG93bmVySUQgJiYgbm9kZSAmJiBvd25lcklEID09PSBub2RlLm93bmVySUQpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICByZXR1cm4gbmV3IFZOb2RlKG5vZGUgPyBub2RlLmFycmF5LnNsaWNlKCkgOiBbXSwgb3duZXJJRCk7XG59XG5cbmZ1bmN0aW9uIGxpc3ROb2RlRm9yKGxpc3QsIHJhd0luZGV4KSB7XG4gIGlmIChyYXdJbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgIHJldHVybiBsaXN0Ll90YWlsO1xuICB9XG4gIGlmIChyYXdJbmRleCA8IDEgPDwgKGxpc3QuX2xldmVsICsgU0hJRlQpKSB7XG4gICAgdmFyIG5vZGUgPSBsaXN0Ll9yb290O1xuICAgIHZhciBsZXZlbCA9IGxpc3QuX2xldmVsO1xuICAgIHdoaWxlIChub2RlICYmIGxldmVsID4gMCkge1xuICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbKHJhd0luZGV4ID4+PiBsZXZlbCkgJiBNQVNLXTtcbiAgICAgIGxldmVsIC09IFNISUZUO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRMaXN0Qm91bmRzKGxpc3QsIGJlZ2luLCBlbmQpIHtcbiAgLy8gU2FuaXRpemUgYmVnaW4gJiBlbmQgdXNpbmcgdGhpcyBzaG9ydGhhbmQgZm9yIFRvSW50MzIoYXJndW1lbnQpXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2ludDMyXG4gIGlmIChiZWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYmVnaW4gfD0gMDtcbiAgfVxuICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgfD0gMDtcbiAgfVxuICB2YXIgb3duZXIgPSBsaXN0Ll9fb3duZXJJRCB8fCBuZXcgT3duZXJJRCgpO1xuICB2YXIgb2xkT3JpZ2luID0gbGlzdC5fb3JpZ2luO1xuICB2YXIgb2xkQ2FwYWNpdHkgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgdmFyIG5ld09yaWdpbiA9IG9sZE9yaWdpbiArIGJlZ2luO1xuICB2YXIgbmV3Q2FwYWNpdHkgPVxuICAgIGVuZCA9PT0gdW5kZWZpbmVkXG4gICAgICA/IG9sZENhcGFjaXR5XG4gICAgICA6IGVuZCA8IDBcbiAgICAgID8gb2xkQ2FwYWNpdHkgKyBlbmRcbiAgICAgIDogb2xkT3JpZ2luICsgZW5kO1xuICBpZiAobmV3T3JpZ2luID09PSBvbGRPcmlnaW4gJiYgbmV3Q2FwYWNpdHkgPT09IG9sZENhcGFjaXR5KSB7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICAvLyBJZiBpdCdzIGdvaW5nIHRvIGVuZCBhZnRlciBpdCBzdGFydHMsIGl0J3MgZW1wdHkuXG4gIGlmIChuZXdPcmlnaW4gPj0gbmV3Q2FwYWNpdHkpIHtcbiAgICByZXR1cm4gbGlzdC5jbGVhcigpO1xuICB9XG5cbiAgdmFyIG5ld0xldmVsID0gbGlzdC5fbGV2ZWw7XG4gIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcblxuICAvLyBOZXcgb3JpZ2luIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgdmFyIG9mZnNldFNoaWZ0ID0gMDtcbiAgd2hpbGUgKG5ld09yaWdpbiArIG9mZnNldFNoaWZ0IDwgMCkge1xuICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUoXG4gICAgICBuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW3VuZGVmaW5lZCwgbmV3Um9vdF0gOiBbXSxcbiAgICAgIG93bmVyXG4gICAgKTtcbiAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICBvZmZzZXRTaGlmdCArPSAxIDw8IG5ld0xldmVsO1xuICB9XG4gIGlmIChvZmZzZXRTaGlmdCkge1xuICAgIG5ld09yaWdpbiArPSBvZmZzZXRTaGlmdDtcbiAgICBvbGRPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgbmV3Q2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgb2xkQ2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gIH1cblxuICB2YXIgb2xkVGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQob2xkQ2FwYWNpdHkpO1xuICB2YXIgbmV3VGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQobmV3Q2FwYWNpdHkpO1xuXG4gIC8vIE5ldyBzaXplIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgd2hpbGUgKG5ld1RhaWxPZmZzZXQgPj0gMSA8PCAobmV3TGV2ZWwgKyBTSElGVCkpIHtcbiAgICBuZXdSb290ID0gbmV3IFZOb2RlKFxuICAgICAgbmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFtuZXdSb290XSA6IFtdLFxuICAgICAgb3duZXJcbiAgICApO1xuICAgIG5ld0xldmVsICs9IFNISUZUO1xuICB9XG5cbiAgLy8gTG9jYXRlIG9yIGNyZWF0ZSB0aGUgbmV3IHRhaWwuXG4gIHZhciBvbGRUYWlsID0gbGlzdC5fdGFpbDtcbiAgdmFyIG5ld1RhaWwgPVxuICAgIG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0XG4gICAgICA/IGxpc3ROb2RlRm9yKGxpc3QsIG5ld0NhcGFjaXR5IC0gMSlcbiAgICAgIDogbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXRcbiAgICAgID8gbmV3IFZOb2RlKFtdLCBvd25lcilcbiAgICAgIDogb2xkVGFpbDtcblxuICAvLyBNZXJnZSBUYWlsIGludG8gdHJlZS5cbiAgaWYgKFxuICAgIG9sZFRhaWwgJiZcbiAgICBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCAmJlxuICAgIG5ld09yaWdpbiA8IG9sZENhcGFjaXR5ICYmXG4gICAgb2xkVGFpbC5hcnJheS5sZW5ndGhcbiAgKSB7XG4gICAgbmV3Um9vdCA9IGVkaXRhYmxlVk5vZGUobmV3Um9vdCwgb3duZXIpO1xuICAgIHZhciBub2RlID0gbmV3Um9vdDtcbiAgICBmb3IgKHZhciBsZXZlbCA9IG5ld0xldmVsOyBsZXZlbCA+IFNISUZUOyBsZXZlbCAtPSBTSElGVCkge1xuICAgICAgdmFyIGlkeCA9IChvbGRUYWlsT2Zmc2V0ID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbaWR4XSA9IGVkaXRhYmxlVk5vZGUobm9kZS5hcnJheVtpZHhdLCBvd25lcik7XG4gICAgfVxuICAgIG5vZGUuYXJyYXlbKG9sZFRhaWxPZmZzZXQgPj4+IFNISUZUKSAmIE1BU0tdID0gb2xkVGFpbDtcbiAgfVxuXG4gIC8vIElmIHRoZSBzaXplIGhhcyBiZWVuIHJlZHVjZWQsIHRoZXJlJ3MgYSBjaGFuY2UgdGhlIHRhaWwgbmVlZHMgdG8gYmUgdHJpbW1lZC5cbiAgaWYgKG5ld0NhcGFjaXR5IDwgb2xkQ2FwYWNpdHkpIHtcbiAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUFmdGVyKG93bmVyLCAwLCBuZXdDYXBhY2l0eSk7XG4gIH1cblxuICAvLyBJZiB0aGUgbmV3IG9yaWdpbiBpcyB3aXRoaW4gdGhlIHRhaWwsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSByb290LlxuICBpZiAobmV3T3JpZ2luID49IG5ld1RhaWxPZmZzZXQpIHtcbiAgICBuZXdPcmlnaW4gLT0gbmV3VGFpbE9mZnNldDtcbiAgICBuZXdDYXBhY2l0eSAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgIG5ld0xldmVsID0gU0hJRlQ7XG4gICAgbmV3Um9vdCA9IG51bGw7XG4gICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVCZWZvcmUob3duZXIsIDAsIG5ld09yaWdpbik7XG5cbiAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSByb290IGhhcyBiZWVuIHRyaW1tZWQsIGdhcmJhZ2UgY29sbGVjdC5cbiAgfSBlbHNlIGlmIChuZXdPcmlnaW4gPiBvbGRPcmlnaW4gfHwgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICBvZmZzZXRTaGlmdCA9IDA7XG5cbiAgICAvLyBJZGVudGlmeSB0aGUgbmV3IHRvcCByb290IG5vZGUgb2YgdGhlIHN1YnRyZWUgb2YgdGhlIG9sZCByb290LlxuICAgIHdoaWxlIChuZXdSb290KSB7XG4gICAgICB2YXIgYmVnaW5JbmRleCA9IChuZXdPcmlnaW4gPj4+IG5ld0xldmVsKSAmIE1BU0s7XG4gICAgICBpZiAoKGJlZ2luSW5kZXggIT09IG5ld1RhaWxPZmZzZXQgPj4+IG5ld0xldmVsKSAmIE1BU0spIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoYmVnaW5JbmRleCkge1xuICAgICAgICBvZmZzZXRTaGlmdCArPSAoMSA8PCBuZXdMZXZlbCkgKiBiZWdpbkluZGV4O1xuICAgICAgfVxuICAgICAgbmV3TGV2ZWwgLT0gU0hJRlQ7XG4gICAgICBuZXdSb290ID0gbmV3Um9vdC5hcnJheVtiZWdpbkluZGV4XTtcbiAgICB9XG5cbiAgICAvLyBUcmltIHRoZSBuZXcgc2lkZXMgb2YgdGhlIG5ldyByb290LlxuICAgIGlmIChuZXdSb290ICYmIG5ld09yaWdpbiA+IG9sZE9yaWdpbikge1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQmVmb3JlKG93bmVyLCBuZXdMZXZlbCwgbmV3T3JpZ2luIC0gb2Zmc2V0U2hpZnQpO1xuICAgIH1cbiAgICBpZiAobmV3Um9vdCAmJiBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQWZ0ZXIoXG4gICAgICAgIG93bmVyLFxuICAgICAgICBuZXdMZXZlbCxcbiAgICAgICAgbmV3VGFpbE9mZnNldCAtIG9mZnNldFNoaWZ0XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgIG5ld09yaWdpbiAtPSBvZmZzZXRTaGlmdDtcbiAgICAgIG5ld0NhcGFjaXR5IC09IG9mZnNldFNoaWZ0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgIGxpc3Quc2l6ZSA9IG5ld0NhcGFjaXR5IC0gbmV3T3JpZ2luO1xuICAgIGxpc3QuX29yaWdpbiA9IG5ld09yaWdpbjtcbiAgICBsaXN0Ll9jYXBhY2l0eSA9IG5ld0NhcGFjaXR5O1xuICAgIGxpc3QuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gIHJldHVybiBtYWtlTGlzdChuZXdPcmlnaW4sIG5ld0NhcGFjaXR5LCBuZXdMZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG59XG5cbmZ1bmN0aW9uIGdldFRhaWxPZmZzZXQoc2l6ZSkge1xuICByZXR1cm4gc2l6ZSA8IFNJWkUgPyAwIDogKChzaXplIC0gMSkgPj4+IFNISUZUKSA8PCBTSElGVDtcbn1cblxudmFyIE9yZGVyZWRNYXAgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNYXApIHtcbiAgZnVuY3Rpb24gT3JkZXJlZE1hcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5T3JkZXJlZE1hcCgpXG4gICAgICA6IGlzT3JkZXJlZE1hcCh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogZW1wdHlPcmRlcmVkTWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZENvbGxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIE1hcCApIE9yZGVyZWRNYXAuX19wcm90b19fID0gTWFwO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1hcCAmJiBNYXAucHJvdG90eXBlICk7XG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3JkZXJlZE1hcDtcblxuICBPcmRlcmVkTWFwLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRNYXAgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGssIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5fbWFwLmdldChrKTtcbiAgICByZXR1cm4gaW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpc3QuZ2V0KGluZGV4KVsxXSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgdGhpcy5fbGlzdC5jbGVhcigpO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCB2KTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGspIHtcbiAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9saXN0Ll9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkgJiYgZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDEkMSk7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiB0aGlzLl9saXN0LmZyb21FbnRyeVNlcSgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgdmFyIG5ld0xpc3QgPSB0aGlzLl9saXN0Ll9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICB0aGlzLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gIH07XG5cbiAgcmV0dXJuIE9yZGVyZWRNYXA7XG59KE1hcCkpO1xuXG5PcmRlcmVkTWFwLmlzT3JkZXJlZE1hcCA9IGlzT3JkZXJlZE1hcDtcblxuT3JkZXJlZE1hcC5wcm90b3R5cGVbSVNfT1JERVJFRF9TWU1CT0xdID0gdHJ1ZTtcbk9yZGVyZWRNYXAucHJvdG90eXBlW0RFTEVURV0gPSBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmU7XG5cbmZ1bmN0aW9uIG1ha2VPcmRlcmVkTWFwKG1hcCwgbGlzdCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgb21hcCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZE1hcC5wcm90b3R5cGUpO1xuICBvbWFwLnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIG9tYXAuX21hcCA9IG1hcDtcbiAgb21hcC5fbGlzdCA9IGxpc3Q7XG4gIG9tYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgb21hcC5fX2hhc2ggPSBoYXNoO1xuICBvbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gb21hcDtcbn1cblxudmFyIEVNUFRZX09SREVSRURfTUFQO1xuZnVuY3Rpb24gZW1wdHlPcmRlcmVkTWFwKCkge1xuICByZXR1cm4gKFxuICAgIEVNUFRZX09SREVSRURfTUFQIHx8XG4gICAgKEVNUFRZX09SREVSRURfTUFQID0gbWFrZU9yZGVyZWRNYXAoZW1wdHlNYXAoKSwgZW1wdHlMaXN0KCkpKVxuICApO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVPcmRlcmVkTWFwKG9tYXAsIGssIHYpIHtcbiAgdmFyIG1hcCA9IG9tYXAuX21hcDtcbiAgdmFyIGxpc3QgPSBvbWFwLl9saXN0O1xuICB2YXIgaSA9IG1hcC5nZXQoayk7XG4gIHZhciBoYXMgPSBpICE9PSB1bmRlZmluZWQ7XG4gIHZhciBuZXdNYXA7XG4gIHZhciBuZXdMaXN0O1xuICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgIC8vIHJlbW92ZWRcbiAgICBpZiAoIWhhcykge1xuICAgICAgcmV0dXJuIG9tYXA7XG4gICAgfVxuICAgIGlmIChsaXN0LnNpemUgPj0gU0laRSAmJiBsaXN0LnNpemUgPj0gbWFwLnNpemUgKiAyKSB7XG4gICAgICBuZXdMaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5LCBpZHgpIHsgcmV0dXJuIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgaSAhPT0gaWR4OyB9KTtcbiAgICAgIG5ld01hcCA9IG5ld0xpc3RcbiAgICAgICAgLnRvS2V5ZWRTZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnlbMF07IH0pXG4gICAgICAgIC5mbGlwKClcbiAgICAgICAgLnRvTWFwKCk7XG4gICAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgICAgbmV3TWFwLl9fb3duZXJJRCA9IG5ld0xpc3QuX19vd25lcklEID0gb21hcC5fX293bmVySUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld01hcCA9IG1hcC5yZW1vdmUoayk7XG4gICAgICBuZXdMaXN0ID0gaSA9PT0gbGlzdC5zaXplIC0gMSA/IGxpc3QucG9wKCkgOiBsaXN0LnNldChpLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChoYXMpIHtcbiAgICBpZiAodiA9PT0gbGlzdC5nZXQoaSlbMV0pIHtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICBuZXdNYXAgPSBtYXA7XG4gICAgbmV3TGlzdCA9IGxpc3Quc2V0KGksIFtrLCB2XSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3TWFwID0gbWFwLnNldChrLCBsaXN0LnNpemUpO1xuICAgIG5ld0xpc3QgPSBsaXN0LnNldChsaXN0LnNpemUsIFtrLCB2XSk7XG4gIH1cbiAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgb21hcC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgb21hcC5fbWFwID0gbmV3TWFwO1xuICAgIG9tYXAuX2xpc3QgPSBuZXdMaXN0O1xuICAgIG9tYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIG9tYXAuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gb21hcDtcbiAgfVxuICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0KTtcbn1cblxudmFyIElTX1NUQUNLX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX1NUQUNLX19AQCc7XG5cbmZ1bmN0aW9uIGlzU3RhY2sobWF5YmVTdGFjaykge1xuICByZXR1cm4gQm9vbGVhbihtYXliZVN0YWNrICYmIG1heWJlU3RhY2tbSVNfU1RBQ0tfU1lNQk9MXSk7XG59XG5cbnZhciBTdGFjayA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEluZGV4ZWRDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIFN0YWNrKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTdGFjaygpXG4gICAgICA6IGlzU3RhY2sodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IGVtcHR5U3RhY2soKS5wdXNoQWxsKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZENvbGxlY3Rpb24gKSBTdGFjay5fX3Byb3RvX18gPSBJbmRleGVkQ29sbGVjdGlvbjtcbiAgU3RhY2sucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZENvbGxlY3Rpb24gJiYgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIFN0YWNrLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0YWNrO1xuXG4gIFN0YWNrLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTdGFjayBbJywgJ10nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgd2hpbGUgKGhlYWQgJiYgaW5kZXgtLSkge1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWQgPyBoZWFkLnZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiBwZWVrICgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVhZCAmJiB0aGlzLl9oZWFkLnZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgU3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSArIGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIGZvciAodmFyIGlpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGlpID49IDA7IGlpLS0pIHtcbiAgICAgIGhlYWQgPSB7XG4gICAgICAgIHZhbHVlOiBhcmd1bWVudHMkMVtpaV0sXG4gICAgICAgIG5leHQ6IGhlYWQsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnB1c2hBbGwgPSBmdW5jdGlvbiBwdXNoQWxsIChpdGVyKSB7XG4gICAgaXRlciA9IEluZGV4ZWRDb2xsZWN0aW9uKGl0ZXIpO1xuICAgIGlmIChpdGVyLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaXplID09PSAwICYmIGlzU3RhY2soaXRlcikpIHtcbiAgICAgIHJldHVybiBpdGVyO1xuICAgIH1cbiAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBpdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIG5ld1NpemUrKztcbiAgICAgIGhlYWQgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgbmV4dDogaGVhZCxcbiAgICAgIH07XG4gICAgfSwgLyogcmV2ZXJzZSAqLyB0cnVlKTtcbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9oZWFkID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICBpZiAocmVzb2x2ZWRFbmQgIT09IHRoaXMuc2l6ZSkge1xuICAgICAgLy8gc3VwZXIuc2xpY2UoYmVnaW4sIGVuZCk7XG4gICAgICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcywgYmVnaW4sIGVuZCk7XG4gICAgfVxuICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplIC0gcmVzb2x2ZWRCZWdpbjtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKHJlc29sdmVkQmVnaW4tLSkge1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlTdGFjaygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKHRoaXMuc2l6ZSwgdGhpcy5faGVhZCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEodGhpcy50b0FycmF5KCkpLl9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKHYsIGssIHRoaXMkMSQxKTsgfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKGZuKG5vZGUudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEodGhpcy50b0FycmF5KCkpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBub2RlLnZhbHVlO1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gU3RhY2s7XG59KEluZGV4ZWRDb2xsZWN0aW9uKSk7XG5cblN0YWNrLmlzU3RhY2sgPSBpc1N0YWNrO1xuXG52YXIgU3RhY2tQcm90b3R5cGUgPSBTdGFjay5wcm90b3R5cGU7XG5TdGFja1Byb3RvdHlwZVtJU19TVEFDS19TWU1CT0xdID0gdHJ1ZTtcblN0YWNrUHJvdG90eXBlLnNoaWZ0ID0gU3RhY2tQcm90b3R5cGUucG9wO1xuU3RhY2tQcm90b3R5cGUudW5zaGlmdCA9IFN0YWNrUHJvdG90eXBlLnB1c2g7XG5TdGFja1Byb3RvdHlwZS51bnNoaWZ0QWxsID0gU3RhY2tQcm90b3R5cGUucHVzaEFsbDtcblN0YWNrUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSB3aXRoTXV0YXRpb25zO1xuU3RhY2tQcm90b3R5cGUud2FzQWx0ZXJlZCA9IHdhc0FsdGVyZWQ7XG5TdGFja1Byb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGFzSW1tdXRhYmxlO1xuU3RhY2tQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBTdGFja1Byb3RvdHlwZS5hc011dGFibGUgPSBhc011dGFibGU7XG5TdGFja1Byb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGFycikge1xuICByZXR1cm4gcmVzdWx0LnVuc2hpZnQoYXJyKTtcbn07XG5TdGFja1Byb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqLmFzSW1tdXRhYmxlKCk7XG59O1xuXG5mdW5jdGlvbiBtYWtlU3RhY2soc2l6ZSwgaGVhZCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShTdGFja1Byb3RvdHlwZSk7XG4gIG1hcC5zaXplID0gc2l6ZTtcbiAgbWFwLl9oZWFkID0gaGVhZDtcbiAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIG1hcC5fX2hhc2ggPSBoYXNoO1xuICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gIHJldHVybiBtYXA7XG59XG5cbnZhciBFTVBUWV9TVEFDSztcbmZ1bmN0aW9uIGVtcHR5U3RhY2soKSB7XG4gIHJldHVybiBFTVBUWV9TVEFDSyB8fCAoRU1QVFlfU1RBQ0sgPSBtYWtlU3RhY2soMCkpO1xufVxuXG52YXIgSVNfU0VUX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX1NFVF9fQEAnO1xuXG5mdW5jdGlvbiBpc1NldChtYXliZVNldCkge1xuICByZXR1cm4gQm9vbGVhbihtYXliZVNldCAmJiBtYXliZVNldFtJU19TRVRfU1lNQk9MXSk7XG59XG5cbmZ1bmN0aW9uIGlzT3JkZXJlZFNldChtYXliZU9yZGVyZWRTZXQpIHtcbiAgcmV0dXJuIGlzU2V0KG1heWJlT3JkZXJlZFNldCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZFNldCk7XG59XG5cbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgIWlzQ29sbGVjdGlvbihiKSB8fFxuICAgIChhLnNpemUgIT09IHVuZGVmaW5lZCAmJiBiLnNpemUgIT09IHVuZGVmaW5lZCAmJiBhLnNpemUgIT09IGIuc2l6ZSkgfHxcbiAgICAoYS5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgYi5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgYS5fX2hhc2ggIT09IGIuX19oYXNoKSB8fFxuICAgIGlzS2V5ZWQoYSkgIT09IGlzS2V5ZWQoYikgfHxcbiAgICBpc0luZGV4ZWQoYSkgIT09IGlzSW5kZXhlZChiKSB8fFxuICAgIGlzT3JkZXJlZChhKSAhPT0gaXNPcmRlcmVkKGIpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhLnNpemUgPT09IDAgJiYgYi5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgbm90QXNzb2NpYXRpdmUgPSAhaXNBc3NvY2lhdGl2ZShhKTtcblxuICBpZiAoaXNPcmRlcmVkKGEpKSB7XG4gICAgdmFyIGVudHJpZXMgPSBhLmVudHJpZXMoKTtcbiAgICByZXR1cm4gKFxuICAgICAgYi5ldmVyeShmdW5jdGlvbiAodiwgaykge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzLm5leHQoKS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGlzKGVudHJ5WzFdLCB2KSAmJiAobm90QXNzb2NpYXRpdmUgfHwgaXMoZW50cnlbMF0sIGspKTtcbiAgICAgIH0pICYmIGVudHJpZXMubmV4dCgpLmRvbmVcbiAgICApO1xuICB9XG5cbiAgdmFyIGZsaXBwZWQgPSBmYWxzZTtcblxuICBpZiAoYS5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoYi5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgYS5jYWNoZVJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhLmNhY2hlUmVzdWx0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsaXBwZWQgPSB0cnVlO1xuICAgICAgdmFyIF8gPSBhO1xuICAgICAgYSA9IGI7XG4gICAgICBiID0gXztcbiAgICB9XG4gIH1cblxuICB2YXIgYWxsRXF1YWwgPSB0cnVlO1xuICB2YXIgYlNpemUgPSBiLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGlmIChcbiAgICAgIG5vdEFzc29jaWF0aXZlXG4gICAgICAgID8gIWEuaGFzKHYpXG4gICAgICAgIDogZmxpcHBlZFxuICAgICAgICA/ICFpcyh2LCBhLmdldChrLCBOT1RfU0VUKSlcbiAgICAgICAgOiAhaXMoYS5nZXQoaywgTk9UX1NFVCksIHYpXG4gICAgKSB7XG4gICAgICBhbGxFcXVhbCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGFsbEVxdWFsICYmIGEuc2l6ZSA9PT0gYlNpemU7XG59XG5cbmZ1bmN0aW9uIG1peGluKGN0b3IsIG1ldGhvZHMpIHtcbiAgdmFyIGtleUNvcGllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjdG9yLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldO1xuICB9O1xuICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiZcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgcmV0dXJuIGN0b3I7XG59XG5cbmZ1bmN0aW9uIHRvSlModmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICghaXNDb2xsZWN0aW9uKHZhbHVlKSkge1xuICAgIGlmICghaXNEYXRhU3RydWN0dXJlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YWx1ZSA9IFNlcSh2YWx1ZSk7XG4gIH1cbiAgaWYgKGlzS2V5ZWQodmFsdWUpKSB7XG4gICAgdmFyIHJlc3VsdCQxID0ge307XG4gICAgdmFsdWUuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICByZXN1bHQkMVtrXSA9IHRvSlModik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdCQxO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFsdWUuX19pdGVyYXRlKGZ1bmN0aW9uICh2KSB7XG4gICAgcmVzdWx0LnB1c2godG9KUyh2KSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgU2V0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2V0Q29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNldCgpXG4gICAgICA6IGlzU2V0KHZhbHVlKSAmJiAhaXNPcmRlcmVkKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBlbXB0eVNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0Q29sbGVjdGlvbih2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggU2V0Q29sbGVjdGlvbiApIFNldC5fX3Byb3RvX18gPSBTZXRDb2xsZWN0aW9uO1xuICBTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0Q29sbGVjdGlvbiAmJiBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0O1xuXG4gIFNldC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXQuZnJvbUtleXMgPSBmdW5jdGlvbiBmcm9tS2V5cyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcyhLZXllZENvbGxlY3Rpb24odmFsdWUpLmtleVNlcSgpKTtcbiAgfTtcblxuICBTZXQuaW50ZXJzZWN0ID0gZnVuY3Rpb24gaW50ZXJzZWN0IChzZXRzKSB7XG4gICAgc2V0cyA9IENvbGxlY3Rpb24oc2V0cykudG9BcnJheSgpO1xuICAgIHJldHVybiBzZXRzLmxlbmd0aFxuICAgICAgPyBTZXRQcm90b3R5cGUuaW50ZXJzZWN0LmFwcGx5KFNldChzZXRzLnBvcCgpKSwgc2V0cylcbiAgICAgIDogZW1wdHlTZXQoKTtcbiAgfTtcblxuICBTZXQudW5pb24gPSBmdW5jdGlvbiB1bmlvbiAoc2V0cykge1xuICAgIHNldHMgPSBDb2xsZWN0aW9uKHNldHMpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gc2V0cy5sZW5ndGhcbiAgICAgID8gU2V0UHJvdG90eXBlLnVuaW9uLmFwcGx5KFNldChzZXRzLnBvcCgpKSwgc2V0cylcbiAgICAgIDogZW1wdHlTZXQoKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NldCB7JywgJ30nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkICh2YWx1ZSkge1xuICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAodmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5yZW1vdmUodmFsdWUpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLmNsZWFyKCkpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICBTZXQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIC8vIGtlZXAgdHJhY2sgaWYgdGhlIHNldCBpcyBhbHRlcmVkIGJ5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICB2YXIgZGlkQ2hhbmdlcyA9IGZhbHNlO1xuXG4gICAgdmFyIG5ld01hcCA9IHVwZGF0ZVNldChcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLl9tYXAubWFwRW50cmllcyhmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHZhciB2ID0gcmVmWzFdO1xuXG4gICAgICAgIHZhciBtYXBwZWQgPSBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCB2LCB0aGlzJDEkMSk7XG5cbiAgICAgICAgaWYgKG1hcHBlZCAhPT0gdikge1xuICAgICAgICAgIGRpZENoYW5nZXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFttYXBwZWQsIG1hcHBlZF07XG4gICAgICB9LCBjb250ZXh0KVxuICAgICk7XG5cbiAgICByZXR1cm4gZGlkQ2hhbmdlcyA/IG5ld01hcCA6IHRoaXM7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uIHVuaW9uICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNpemUgIT09IDA7IH0pO1xuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIFNldENvbGxlY3Rpb24oaXRlcnNbaWldKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gc2V0LmFkZCh2YWx1ZSk7IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24gaW50ZXJzZWN0ICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gU2V0Q29sbGVjdGlvbihpdGVyKTsgfSk7XG4gICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpdGVycy5ldmVyeShmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pKSB7XG4gICAgICAgIHRvUmVtb3ZlLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgdG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3QgKCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uIChpdGVyKSB7IHJldHVybiBTZXRDb2xsZWN0aW9uKGl0ZXIpOyB9KTtcbiAgICB2YXIgdG9SZW1vdmUgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoaXRlcnMuc29tZShmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pKSB7XG4gICAgICAgIHRvUmVtb3ZlLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgdG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiBzb3J0IChjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24gc29ydEJ5IChtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX21hcC5fX2l0ZXJhdGUoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGZuKGssIGssIHRoaXMkMSQxKTsgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiB0aGlzLl9tYXAuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2VtcHR5KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19tYWtlKG5ld01hcCwgb3duZXJJRCk7XG4gIH07XG5cbiAgcmV0dXJuIFNldDtcbn0oU2V0Q29sbGVjdGlvbikpO1xuXG5TZXQuaXNTZXQgPSBpc1NldDtcblxudmFyIFNldFByb3RvdHlwZSA9IFNldC5wcm90b3R5cGU7XG5TZXRQcm90b3R5cGVbSVNfU0VUX1NZTUJPTF0gPSB0cnVlO1xuU2V0UHJvdG90eXBlW0RFTEVURV0gPSBTZXRQcm90b3R5cGUucmVtb3ZlO1xuU2V0UHJvdG90eXBlLm1lcmdlID0gU2V0UHJvdG90eXBlLmNvbmNhdCA9IFNldFByb3RvdHlwZS51bmlvbjtcblNldFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gd2l0aE11dGF0aW9ucztcblNldFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGFzSW1tdXRhYmxlO1xuU2V0UHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gU2V0UHJvdG90eXBlLmFzTXV0YWJsZSA9IGFzTXV0YWJsZTtcblNldFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGFycikge1xuICByZXR1cm4gcmVzdWx0LmFkZChhcnIpO1xufTtcblNldFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqLmFzSW1tdXRhYmxlKCk7XG59O1xuXG5TZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5U2V0O1xuU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VTZXQ7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNldChzZXQsIG5ld01hcCkge1xuICBpZiAoc2V0Ll9fb3duZXJJRCkge1xuICAgIHNldC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgc2V0Ll9tYXAgPSBuZXdNYXA7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuICByZXR1cm4gbmV3TWFwID09PSBzZXQuX21hcFxuICAgID8gc2V0XG4gICAgOiBuZXdNYXAuc2l6ZSA9PT0gMFxuICAgID8gc2V0Ll9fZW1wdHkoKVxuICAgIDogc2V0Ll9fbWFrZShuZXdNYXApO1xufVxuXG5mdW5jdGlvbiBtYWtlU2V0KG1hcCwgb3duZXJJRCkge1xuICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShTZXRQcm90b3R5cGUpO1xuICBzZXQuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgc2V0Ll9tYXAgPSBtYXA7XG4gIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICByZXR1cm4gc2V0O1xufVxuXG52YXIgRU1QVFlfU0VUO1xuZnVuY3Rpb24gZW1wdHlTZXQoKSB7XG4gIHJldHVybiBFTVBUWV9TRVQgfHwgKEVNUFRZX1NFVCA9IG1ha2VTZXQoZW1wdHlNYXAoKSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBsYXp5IHNlcSBvZiBudW1zIGZyb20gc3RhcnQgKGluY2x1c2l2ZSkgdG8gZW5kXG4gKiAoZXhjbHVzaXZlKSwgYnkgc3RlcCwgd2hlcmUgc3RhcnQgZGVmYXVsdHMgdG8gMCwgc3RlcCB0byAxLCBhbmQgZW5kIHRvXG4gKiBpbmZpbml0eS4gV2hlbiBzdGFydCBpcyBlcXVhbCB0byBlbmQsIHJldHVybnMgZW1wdHkgbGlzdC5cbiAqL1xudmFyIFJhbmdlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKTtcbiAgICB9XG4gICAgaW52YXJpYW50KHN0ZXAgIT09IDAsICdDYW5ub3Qgc3RlcCBhIFJhbmdlIGJ5IDAnKTtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBJbmZpbml0eTtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLmFicyhzdGVwKTtcbiAgICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICB9XG4gICAgdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLl9lbmQgPSBlbmQ7XG4gICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gICAgdGhpcy5zaXplID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChlbmQgLSBzdGFydCkgLyBzdGVwIC0gMSkgKyAxKTtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICBpZiAoRU1QVFlfUkFOR0UpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZX1JBTkdFO1xuICAgICAgfVxuICAgICAgRU1QVFlfUkFOR0UgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIFJhbmdlLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIFJhbmdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgUmFuZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2U7XG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAnUmFuZ2UgW10nO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgJ1JhbmdlIFsgJyArXG4gICAgICB0aGlzLl9zdGFydCArXG4gICAgICAnLi4uJyArXG4gICAgICB0aGlzLl9lbmQgK1xuICAgICAgKHRoaXMuX3N0ZXAgIT09IDEgPyAnIGJ5ICcgKyB0aGlzLl9zdGVwIDogJycpICtcbiAgICAgICcgXSdcbiAgICApO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhpbmRleClcbiAgICAgID8gdGhpcy5fc3RhcnQgKyB3cmFwSW5kZXgodGhpcywgaW5kZXgpICogdGhpcy5fc3RlcFxuICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIgcG9zc2libGVJbmRleCA9IChzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0KSAvIHRoaXMuX3N0ZXA7XG4gICAgcmV0dXJuIChcbiAgICAgIHBvc3NpYmxlSW5kZXggPj0gMCAmJlxuICAgICAgcG9zc2libGVJbmRleCA8IHRoaXMuc2l6ZSAmJlxuICAgICAgcG9zc2libGVJbmRleCA9PT0gTWF0aC5mbG9vcihwb3NzaWJsZUluZGV4KVxuICAgICk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgZW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgaWYgKGVuZCA8PSBiZWdpbikge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZSgwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSYW5nZShcbiAgICAgIHRoaXMuZ2V0KGJlZ2luLCB0aGlzLl9lbmQpLFxuICAgICAgdGhpcy5nZXQoZW5kLCB0aGlzLl9lbmQpLFxuICAgICAgdGhpcy5fc3RlcFxuICAgICk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBvZmZzZXRWYWx1ZSA9IHNlYXJjaFZhbHVlIC0gdGhpcy5fc3RhcnQ7XG4gICAgaWYgKG9mZnNldFZhbHVlICUgdGhpcy5fc3RlcCA9PT0gMCkge1xuICAgICAgdmFyIGluZGV4ID0gb2Zmc2V0VmFsdWUgLyB0aGlzLl9zdGVwO1xuICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgKHNpemUgLSAxKSAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIGlmIChmbih2YWx1ZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBzdGVwID0gdGhpcy5fc3RlcDtcbiAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyAoc2l6ZSAtIDEpICogc3RlcCA6IHRoaXMuX3N0YXJ0O1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciB2ID0gdmFsdWU7XG4gICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHYpO1xuICAgIH0pO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmFuZ2VcbiAgICAgID8gdGhpcy5fc3RhcnQgPT09IG90aGVyLl9zdGFydCAmJlxuICAgICAgICAgIHRoaXMuX2VuZCA9PT0gb3RoZXIuX2VuZCAmJlxuICAgICAgICAgIHRoaXMuX3N0ZXAgPT09IG90aGVyLl9zdGVwXG4gICAgICA6IGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBFTVBUWV9SQU5HRTtcblxuZnVuY3Rpb24gZ2V0SW4kMShjb2xsZWN0aW9uLCBzZWFyY2hLZXlQYXRoLCBub3RTZXRWYWx1ZSkge1xuICB2YXIga2V5UGF0aCA9IGNvZXJjZUtleVBhdGgoc2VhcmNoS2V5UGF0aCk7XG4gIHZhciBpID0gMDtcbiAgd2hpbGUgKGkgIT09IGtleVBhdGgubGVuZ3RoKSB7XG4gICAgY29sbGVjdGlvbiA9IGdldChjb2xsZWN0aW9uLCBrZXlQYXRoW2krK10sIE5PVF9TRVQpO1xuICAgIGlmIChjb2xsZWN0aW9uID09PSBOT1RfU0VUKSB7XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRJbihzZWFyY2hLZXlQYXRoLCBub3RTZXRWYWx1ZSkge1xuICByZXR1cm4gZ2V0SW4kMSh0aGlzLCBzZWFyY2hLZXlQYXRoLCBub3RTZXRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGhhc0luJDEoY29sbGVjdGlvbiwga2V5UGF0aCkge1xuICByZXR1cm4gZ2V0SW4kMShjb2xsZWN0aW9uLCBrZXlQYXRoLCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbn1cblxuZnVuY3Rpb24gaGFzSW4oc2VhcmNoS2V5UGF0aCkge1xuICByZXR1cm4gaGFzSW4kMSh0aGlzLCBzZWFyY2hLZXlQYXRoKTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gIHZhciBvYmplY3QgPSB7fTtcbiAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICBvYmplY3Rba10gPSB2O1xuICB9KTtcbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLy8gTm90ZTogYWxsIG9mIHRoZXNlIG1ldGhvZHMgYXJlIGRlcHJlY2F0ZWQuXG5Db2xsZWN0aW9uLmlzSXRlcmFibGUgPSBpc0NvbGxlY3Rpb247XG5Db2xsZWN0aW9uLmlzS2V5ZWQgPSBpc0tleWVkO1xuQ29sbGVjdGlvbi5pc0luZGV4ZWQgPSBpc0luZGV4ZWQ7XG5Db2xsZWN0aW9uLmlzQXNzb2NpYXRpdmUgPSBpc0Fzc29jaWF0aXZlO1xuQ29sbGVjdGlvbi5pc09yZGVyZWQgPSBpc09yZGVyZWQ7XG5cbkNvbGxlY3Rpb24uSXRlcmF0b3IgPSBJdGVyYXRvcjtcblxubWl4aW4oQ29sbGVjdGlvbiwge1xuICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkodGhpcy5zaXplIHx8IDApO1xuICAgIHZhciB1c2VUdXBsZXMgPSBpc0tleWVkKHRoaXMpO1xuICAgIHZhciBpID0gMDtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgLy8gS2V5ZWQgY29sbGVjdGlvbnMgcHJvZHVjZSBhbiBhcnJheSBvZiB0dXBsZXMuXG4gICAgICBhcnJheVtpKytdID0gdXNlVHVwbGVzID8gW2ssIHZdIDogdjtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH0sXG5cbiAgdG9JbmRleGVkU2VxOiBmdW5jdGlvbiB0b0luZGV4ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0luZGV4ZWRTZXF1ZW5jZSh0aGlzKTtcbiAgfSxcblxuICB0b0pTOiBmdW5jdGlvbiB0b0pTJDEoKSB7XG4gICAgcmV0dXJuIHRvSlModGhpcyk7XG4gIH0sXG5cbiAgdG9LZXllZFNlcTogZnVuY3Rpb24gdG9LZXllZFNlcSgpIHtcbiAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCB0cnVlKTtcbiAgfSxcblxuICB0b01hcDogZnVuY3Rpb24gdG9NYXAoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICB9LFxuXG4gIHRvT2JqZWN0OiB0b09iamVjdCxcblxuICB0b09yZGVyZWRNYXA6IGZ1bmN0aW9uIHRvT3JkZXJlZE1hcCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIE9yZGVyZWRNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICB9LFxuXG4gIHRvT3JkZXJlZFNldDogZnVuY3Rpb24gdG9PcmRlcmVkU2V0KCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gT3JkZXJlZFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9TZXQ6IGZ1bmN0aW9uIHRvU2V0KCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICB0b1NldFNlcTogZnVuY3Rpb24gdG9TZXRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb1NldFNlcXVlbmNlKHRoaXMpO1xuICB9LFxuXG4gIHRvU2VxOiBmdW5jdGlvbiB0b1NlcSgpIHtcbiAgICByZXR1cm4gaXNJbmRleGVkKHRoaXMpXG4gICAgICA/IHRoaXMudG9JbmRleGVkU2VxKClcbiAgICAgIDogaXNLZXllZCh0aGlzKVxuICAgICAgPyB0aGlzLnRvS2V5ZWRTZXEoKVxuICAgICAgOiB0aGlzLnRvU2V0U2VxKCk7XG4gIH0sXG5cbiAgdG9TdGFjazogZnVuY3Rpb24gdG9TdGFjaygpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIFN0YWNrKGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICB0b0xpc3Q6IGZ1bmN0aW9uIHRvTGlzdCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIExpc3QoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIC8vICMjIyBDb21tb24gSmF2YVNjcmlwdCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG5cbiAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnW0NvbGxlY3Rpb25dJztcbiAgfSxcblxuICBfX3RvU3RyaW5nOiBmdW5jdGlvbiBfX3RvU3RyaW5nKGhlYWQsIHRhaWwpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gaGVhZCArIHRhaWw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBoZWFkICtcbiAgICAgICcgJyArXG4gICAgICB0aGlzLnRvU2VxKCkubWFwKHRoaXMuX190b1N0cmluZ01hcHBlcikuam9pbignLCAnKSArXG4gICAgICAnICcgK1xuICAgICAgdGFpbFxuICAgICk7XG4gIH0sXG5cbiAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgdmFsdWVzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICByZXR1cm4gcmVpZnkodGhpcywgY29uY2F0RmFjdG9yeSh0aGlzLCB2YWx1ZXMpKTtcbiAgfSxcblxuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKTsgfSk7XG4gIH0sXG5cbiAgZW50cmllczogZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUyk7XG4gIH0sXG5cbiAgZXZlcnk6IGZ1bmN0aW9uIGV2ZXJ5KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgdmFyIHJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICB9LFxuXG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgfSxcblxuICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKHNpZGVFZmZlY3QsIGNvbnRleHQpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0ZShjb250ZXh0ID8gc2lkZUVmZmVjdC5iaW5kKGNvbnRleHQpIDogc2lkZUVmZmVjdCk7XG4gIH0sXG5cbiAgam9pbjogZnVuY3Rpb24gam9pbihzZXBhcmF0b3IpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gJycgKyBzZXBhcmF0b3IgOiAnLCc7XG4gICAgdmFyIGpvaW5lZCA9ICcnO1xuICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodikge1xuICAgICAgaXNGaXJzdCA/IChpc0ZpcnN0ID0gZmFsc2UpIDogKGpvaW5lZCArPSBzZXBhcmF0b3IpO1xuICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIGpvaW5lZDtcbiAgfSxcblxuICBrZXlzOiBmdW5jdGlvbiBrZXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9LRVlTKTtcbiAgfSxcblxuICBtYXA6IGZ1bmN0aW9uIG1hcChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgfSxcblxuICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZSQxKHJlZHVjZXIsIGluaXRpYWxSZWR1Y3Rpb24sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVkdWNlKFxuICAgICAgdGhpcyxcbiAgICAgIHJlZHVjZXIsXG4gICAgICBpbml0aWFsUmVkdWN0aW9uLFxuICAgICAgY29udGV4dCxcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPCAyLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9LFxuXG4gIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlZHVjZShcbiAgICAgIHRoaXMsXG4gICAgICByZWR1Y2VyLFxuICAgICAgaW5pdGlhbFJlZHVjdGlvbixcbiAgICAgIGNvbnRleHQsXG4gICAgICBhcmd1bWVudHMubGVuZ3RoIDwgMixcbiAgICAgIHRydWVcbiAgICApO1xuICB9LFxuXG4gIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIHRydWUpKTtcbiAgfSxcblxuICBzbGljZTogZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgdHJ1ZSkpO1xuICB9LFxuXG4gIHNvbWU6IGZ1bmN0aW9uIHNvbWUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICB9LFxuXG4gIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICB9LFxuXG4gIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gIGJ1dExhc3Q6IGZ1bmN0aW9uIGJ1dExhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgLTEpO1xuICB9LFxuXG4gIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgfSxcblxuICBjb3VudDogZnVuY3Rpb24gY291bnQocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICBwcmVkaWNhdGUgPyB0aGlzLnRvU2VxKCkuZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkgOiB0aGlzXG4gICAgKTtcbiAgfSxcblxuICBjb3VudEJ5OiBmdW5jdGlvbiBjb3VudEJ5KGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY291bnRCeUZhY3RvcnkodGhpcywgZ3JvdXBlciwgY29udGV4dCk7XG4gIH0sXG5cbiAgZXF1YWxzOiBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgfSxcblxuICBlbnRyeVNlcTogZnVuY3Rpb24gZW50cnlTZXEoKSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzO1xuICAgIGlmIChjb2xsZWN0aW9uLl9jYWNoZSkge1xuICAgICAgLy8gV2UgY2FjaGUgYXMgYW4gZW50cmllcyBhcnJheSwgc28gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBjYWNoZSFcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoY29sbGVjdGlvbi5fY2FjaGUpO1xuICAgIH1cbiAgICB2YXIgZW50cmllc1NlcXVlbmNlID0gY29sbGVjdGlvbi50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgZW50cmllc1NlcXVlbmNlLmZyb21FbnRyeVNlcSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb24udG9TZXEoKTsgfTtcbiAgICByZXR1cm4gZW50cmllc1NlcXVlbmNlO1xuICB9LFxuXG4gIGZpbHRlck5vdDogZnVuY3Rpb24gZmlsdGVyTm90KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgZmluZEVudHJ5OiBmdW5jdGlvbiBmaW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBmb3VuZCA9IG5vdFNldFZhbHVlO1xuICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgZm91bmQgPSBbaywgdl07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH0sXG5cbiAgZmluZEtleTogZnVuY3Rpb24gZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgfSxcblxuICBmaW5kTGFzdDogZnVuY3Rpb24gZmluZExhc3QocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbiBmaW5kTGFzdEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZmluZExhc3RLZXk6IGZ1bmN0aW9uIGZpbmRMYXN0S2V5KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9LFxuXG4gIGZpcnN0OiBmdW5jdGlvbiBmaXJzdChub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmQocmV0dXJuVHJ1ZSwgbnVsbCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGZsYXRNYXA6IGZ1bmN0aW9uIGZsYXRNYXAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXRNYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICB9LFxuXG4gIGZsYXR0ZW46IGZ1bmN0aW9uIGZsYXR0ZW4oZGVwdGgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIHRydWUpKTtcbiAgfSxcblxuICBmcm9tRW50cnlTZXE6IGZ1bmN0aW9uIGZyb21FbnRyeVNlcSgpIHtcbiAgICByZXR1cm4gbmV3IEZyb21FbnRyaWVzU2VxdWVuY2UodGhpcyk7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoc2VhcmNoS2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24gKF8sIGtleSkgeyByZXR1cm4gaXMoa2V5LCBzZWFyY2hLZXkpOyB9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBnZXRJbjogZ2V0SW4sXG5cbiAgZ3JvdXBCeTogZnVuY3Rpb24gZ3JvdXBCeShncm91cGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGdyb3VwQnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24gaGFzKHNlYXJjaEtleSkge1xuICAgIHJldHVybiB0aGlzLmdldChzZWFyY2hLZXksIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICB9LFxuXG4gIGhhc0luOiBoYXNJbixcblxuICBpc1N1YnNldDogZnVuY3Rpb24gaXNTdWJzZXQoaXRlcikge1xuICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pbmNsdWRlcyA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBDb2xsZWN0aW9uKGl0ZXIpO1xuICAgIHJldHVybiB0aGlzLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pO1xuICB9LFxuXG4gIGlzU3VwZXJzZXQ6IGZ1bmN0aW9uIGlzU3VwZXJzZXQoaXRlcikge1xuICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pc1N1YnNldCA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBDb2xsZWN0aW9uKGl0ZXIpO1xuICAgIHJldHVybiBpdGVyLmlzU3Vic2V0KHRoaXMpO1xuICB9LFxuXG4gIGtleU9mOiBmdW5jdGlvbiBrZXlPZihzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmRLZXkoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpOyB9KTtcbiAgfSxcblxuICBrZXlTZXE6IGZ1bmN0aW9uIGtleVNlcSgpIHtcbiAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICB9LFxuXG4gIGxhc3Q6IGZ1bmN0aW9uIGxhc3Qobm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maXJzdChub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgbGFzdEtleU9mOiBmdW5jdGlvbiBsYXN0S2V5T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmtleU9mKHNlYXJjaFZhbHVlKTtcbiAgfSxcblxuICBtYXg6IGZ1bmN0aW9uIG1heChjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvcik7XG4gIH0sXG5cbiAgbWF4Qnk6IGZ1bmN0aW9uIG1heEJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcik7XG4gIH0sXG5cbiAgbWluOiBmdW5jdGlvbiBtaW4oY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KFxuICAgICAgdGhpcyxcbiAgICAgIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvclxuICAgICk7XG4gIH0sXG5cbiAgbWluQnk6IGZ1bmN0aW9uIG1pbkJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KFxuICAgICAgdGhpcyxcbiAgICAgIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvcixcbiAgICAgIG1hcHBlclxuICAgICk7XG4gIH0sXG5cbiAgcmVzdDogZnVuY3Rpb24gcmVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgfSxcblxuICBza2lwOiBmdW5jdGlvbiBza2lwKGFtb3VudCkge1xuICAgIHJldHVybiBhbW91bnQgPT09IDAgPyB0aGlzIDogdGhpcy5zbGljZShNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICBza2lwTGFzdDogZnVuY3Rpb24gc2tpcExhc3QoYW1vdW50KSB7XG4gICAgcmV0dXJuIGFtb3VudCA9PT0gMCA/IHRoaXMgOiB0aGlzLnNsaWNlKDAsIC1NYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICBza2lwV2hpbGU6IGZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgfSxcblxuICBza2lwVW50aWw6IGZ1bmN0aW9uIHNraXBVbnRpbChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5za2lwV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIHNvcnRCeTogZnVuY3Rpb24gc29ydEJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgfSxcblxuICB0YWtlOiBmdW5jdGlvbiB0YWtlKGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHRha2VMYXN0OiBmdW5jdGlvbiB0YWtlTGFzdChhbW91bnQpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgtTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgdGFrZVdoaWxlOiBmdW5jdGlvbiB0YWtlV2hpbGUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRha2VXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0KSk7XG4gIH0sXG5cbiAgdGFrZVVudGlsOiBmdW5jdGlvbiB0YWtlVW50aWwocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMudGFrZVdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuICAgIHJldHVybiBmbih0aGlzKTtcbiAgfSxcblxuICB2YWx1ZVNlcTogZnVuY3Rpb24gdmFsdWVTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9JbmRleGVkU2VxKCk7XG4gIH0sXG5cbiAgLy8gIyMjIEhhc2hhYmxlIE9iamVjdFxuXG4gIGhhc2hDb2RlOiBmdW5jdGlvbiBoYXNoQ29kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2hhc2ggfHwgKHRoaXMuX19oYXNoID0gaGFzaENvbGxlY3Rpb24odGhpcykpO1xuICB9LFxuXG4gIC8vICMjIyBJbnRlcm5hbFxuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0ZShmbiwgcmV2ZXJzZSlcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpXG59KTtcblxudmFyIENvbGxlY3Rpb25Qcm90b3R5cGUgPSBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbkNvbGxlY3Rpb25Qcm90b3R5cGVbSVNfQ09MTEVDVElPTl9TWU1CT0xdID0gdHJ1ZTtcbkNvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IENvbGxlY3Rpb25Qcm90b3R5cGUudmFsdWVzO1xuQ29sbGVjdGlvblByb3RvdHlwZS50b0pTT04gPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvQXJyYXk7XG5Db2xsZWN0aW9uUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBxdW90ZVN0cmluZztcbkNvbGxlY3Rpb25Qcm90b3R5cGUuaW5zcGVjdCA9IENvbGxlY3Rpb25Qcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG59O1xuQ29sbGVjdGlvblByb3RvdHlwZS5jaGFpbiA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZmxhdE1hcDtcbkNvbGxlY3Rpb25Qcm90b3R5cGUuY29udGFpbnMgPSBDb2xsZWN0aW9uUHJvdG90eXBlLmluY2x1ZGVzO1xuXG5taXhpbihLZXllZENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgZmxpcDogZnVuY3Rpb24gZmxpcCgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxpcEZhY3RvcnkodGhpcykpO1xuICB9LFxuXG4gIG1hcEVudHJpZXM6IGZ1bmN0aW9uIG1hcEVudHJpZXMobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gcmVpZnkoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy50b1NlcSgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIFtrLCB2XSwgaXRlcmF0aW9ucysrLCB0aGlzJDEkMSk7IH0pXG4gICAgICAgIC5mcm9tRW50cnlTZXEoKVxuICAgICk7XG4gIH0sXG5cbiAgbWFwS2V5czogZnVuY3Rpb24gbWFwS2V5cyhtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudG9TZXEoKVxuICAgICAgICAuZmxpcCgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGssIHYpIHsgcmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIGssIHYsIHRoaXMkMSQxKTsgfSlcbiAgICAgICAgLmZsaXAoKVxuICAgICk7XG4gIH0sXG59KTtcblxudmFyIEtleWVkQ29sbGVjdGlvblByb3RvdHlwZSA9IEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfS0VZRURfU1lNQk9MXSA9IHRydWU7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZW50cmllcztcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZS50b0pTT04gPSB0b09iamVjdDtcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIHF1b3RlU3RyaW5nKGspICsgJzogJyArIHF1b3RlU3RyaW5nKHYpOyB9O1xuXG5taXhpbihJbmRleGVkQ29sbGVjdGlvbiwge1xuICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uIHRvS2V5ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgZmFsc2UpO1xuICB9LFxuXG4gIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gIH0sXG5cbiAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICB9LFxuXG4gIGluZGV4T2Y6IGZ1bmN0aW9uIGluZGV4T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gIH0sXG5cbiAgbGFzdEluZGV4T2Y6IGZ1bmN0aW9uIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIGtleSA9IHRoaXMubGFzdEtleU9mKHNlYXJjaFZhbHVlKTtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgfSxcblxuICByZXZlcnNlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCBmYWxzZSkpO1xuICB9LFxuXG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShiZWdpbiwgZW5kKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCBmYWxzZSkpO1xuICB9LFxuXG4gIHNwbGljZTogZnVuY3Rpb24gc3BsaWNlKGluZGV4LCByZW1vdmVOdW0gLyosIC4uLnZhbHVlcyovKSB7XG4gICAgdmFyIG51bUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJlbW92ZU51bSA9IE1hdGgubWF4KHJlbW92ZU51bSB8fCAwLCAwKTtcbiAgICBpZiAobnVtQXJncyA9PT0gMCB8fCAobnVtQXJncyA9PT0gMiAmJiAhcmVtb3ZlTnVtKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIElmIGluZGV4IGlzIG5lZ2F0aXZlLCBpdCBzaG91bGQgcmVzb2x2ZSByZWxhdGl2ZSB0byB0aGUgc2l6ZSBvZiB0aGVcbiAgICAvLyBjb2xsZWN0aW9uLiBIb3dldmVyIHNpemUgbWF5IGJlIGV4cGVuc2l2ZSB0byBjb21wdXRlIGlmIG5vdCBjYWNoZWQsIHNvXG4gICAgLy8gb25seSBjYWxsIGNvdW50KCkgaWYgdGhlIG51bWJlciBpcyBpbiBmYWN0IG5lZ2F0aXZlLlxuICAgIGluZGV4ID0gcmVzb2x2ZUJlZ2luKGluZGV4LCBpbmRleCA8IDAgPyB0aGlzLmNvdW50KCkgOiB0aGlzLnNpemUpO1xuICAgIHZhciBzcGxpY2VkID0gdGhpcy5zbGljZSgwLCBpbmRleCk7XG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIG51bUFyZ3MgPT09IDFcbiAgICAgICAgPyBzcGxpY2VkXG4gICAgICAgIDogc3BsaWNlZC5jb25jYXQoYXJyQ29weShhcmd1bWVudHMsIDIpLCB0aGlzLnNsaWNlKGluZGV4ICsgcmVtb3ZlTnVtKSlcbiAgICApO1xuICB9LFxuXG4gIC8vICMjIyBNb3JlIGNvbGxlY3Rpb24gbWV0aG9kc1xuXG4gIGZpbmRMYXN0SW5kZXg6IGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kTGFzdEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgfSxcblxuICBmaXJzdDogZnVuY3Rpb24gZmlyc3Qobm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoMCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGZsYXR0ZW46IGZ1bmN0aW9uIGZsYXR0ZW4oZGVwdGgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIGZhbHNlKSk7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHJldHVybiBpbmRleCA8IDAgfHxcbiAgICAgIHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHxcbiAgICAgICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IHRoaXMuc2l6ZSlcbiAgICAgID8gbm90U2V0VmFsdWVcbiAgICAgIDogdGhpcy5maW5kKGZ1bmN0aW9uIChfLCBrZXkpIHsgcmV0dXJuIGtleSA9PT0gaW5kZXg7IH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24gaGFzKGluZGV4KSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHJldHVybiAoXG4gICAgICBpbmRleCA+PSAwICYmXG4gICAgICAodGhpcy5zaXplICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8IGluZGV4IDwgdGhpcy5zaXplXG4gICAgICAgIDogdGhpcy5pbmRleE9mKGluZGV4KSAhPT0gLTEpXG4gICAgKTtcbiAgfSxcblxuICBpbnRlcnBvc2U6IGZ1bmN0aW9uIGludGVycG9zZShzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJwb3NlRmFjdG9yeSh0aGlzLCBzZXBhcmF0b3IpKTtcbiAgfSxcblxuICBpbnRlcmxlYXZlOiBmdW5jdGlvbiBpbnRlcmxlYXZlKC8qLi4uY29sbGVjdGlvbnMqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICB2YXIgemlwcGVkID0gemlwV2l0aEZhY3RvcnkodGhpcy50b1NlcSgpLCBJbmRleGVkU2VxLm9mLCBjb2xsZWN0aW9ucyk7XG4gICAgdmFyIGludGVybGVhdmVkID0gemlwcGVkLmZsYXR0ZW4odHJ1ZSk7XG4gICAgaWYgKHppcHBlZC5zaXplKSB7XG4gICAgICBpbnRlcmxlYXZlZC5zaXplID0gemlwcGVkLnNpemUgKiBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcmxlYXZlZCk7XG4gIH0sXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIFJhbmdlKDAsIHRoaXMuc2l6ZSk7XG4gIH0sXG5cbiAgbGFzdDogZnVuY3Rpb24gbGFzdChub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldCgtMSwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIHNraXBXaGlsZTogZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgfSxcblxuICB6aXA6IGZ1bmN0aW9uIHppcCgvKiwgLi4uY29sbGVjdGlvbnMgKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIGRlZmF1bHRaaXBwZXIsIGNvbGxlY3Rpb25zKSk7XG4gIH0sXG5cbiAgemlwQWxsOiBmdW5jdGlvbiB6aXBBbGwoLyosIC4uLmNvbGxlY3Rpb25zICovKSB7XG4gICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBjb2xsZWN0aW9ucywgdHJ1ZSkpO1xuICB9LFxuXG4gIHppcFdpdGg6IGZ1bmN0aW9uIHppcFdpdGgoemlwcGVyIC8qLCAuLi5jb2xsZWN0aW9ucyAqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IGFyckNvcHkoYXJndW1lbnRzKTtcbiAgICBjb2xsZWN0aW9uc1swXSA9IHRoaXM7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIHppcHBlciwgY29sbGVjdGlvbnMpKTtcbiAgfSxcbn0pO1xuXG52YXIgSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUgPSBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5JbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZVtJU19JTkRFWEVEX1NZTUJPTF0gPSB0cnVlO1xuSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfT1JERVJFRF9TWU1CT0xdID0gdHJ1ZTtcblxubWl4aW4oU2V0Q29sbGVjdGlvbiwge1xuICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQodmFsdWUsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKSA/IHZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH0sXG5cbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICBrZXlTZXE6IGZ1bmN0aW9uIGtleVNlcSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZVNlcSgpO1xuICB9LFxufSk7XG5cbnZhciBTZXRDb2xsZWN0aW9uUHJvdG90eXBlID0gU2V0Q29sbGVjdGlvbi5wcm90b3R5cGU7XG5TZXRDb2xsZWN0aW9uUHJvdG90eXBlLmhhcyA9IENvbGxlY3Rpb25Qcm90b3R5cGUuaW5jbHVkZXM7XG5TZXRDb2xsZWN0aW9uUHJvdG90eXBlLmNvbnRhaW5zID0gU2V0Q29sbGVjdGlvblByb3RvdHlwZS5pbmNsdWRlcztcblNldENvbGxlY3Rpb25Qcm90b3R5cGUua2V5cyA9IFNldENvbGxlY3Rpb25Qcm90b3R5cGUudmFsdWVzO1xuXG4vLyBNaXhpbiBzdWJjbGFzc2VzXG5cbm1peGluKEtleWVkU2VxLCBLZXllZENvbGxlY3Rpb25Qcm90b3R5cGUpO1xubWl4aW4oSW5kZXhlZFNlcSwgSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUpO1xubWl4aW4oU2V0U2VxLCBTZXRDb2xsZWN0aW9uUHJvdG90eXBlKTtcblxuLy8gI3ByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCByZWR1Y2VyLCByZWR1Y3Rpb24sIGNvbnRleHQsIHVzZUZpcnN0LCByZXZlcnNlKSB7XG4gIGFzc2VydE5vdEluZmluaXRlKGNvbGxlY3Rpb24uc2l6ZSk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgaWYgKHVzZUZpcnN0KSB7XG4gICAgICB1c2VGaXJzdCA9IGZhbHNlO1xuICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVkdWN0aW9uID0gcmVkdWNlci5jYWxsKGNvbnRleHQsIHJlZHVjdGlvbiwgdiwgaywgYyk7XG4gICAgfVxuICB9LCByZXZlcnNlKTtcbiAgcmV0dXJuIHJlZHVjdGlvbjtcbn1cblxuZnVuY3Rpb24ga2V5TWFwcGVyKHYsIGspIHtcbiAgcmV0dXJuIGs7XG59XG5cbmZ1bmN0aW9uIGVudHJ5TWFwcGVyKHYsIGspIHtcbiAgcmV0dXJuIFtrLCB2XTtcbn1cblxuZnVuY3Rpb24gbm90KHByZWRpY2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5lZyhwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gLXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0WmlwcGVyKCkge1xuICByZXR1cm4gYXJyQ29weShhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TmVnQ29tcGFyYXRvcihhLCBiKSB7XG4gIHJldHVybiBhIDwgYiA/IDEgOiBhID4gYiA/IC0xIDogMDtcbn1cblxuZnVuY3Rpb24gaGFzaENvbGxlY3Rpb24oY29sbGVjdGlvbikge1xuICBpZiAoY29sbGVjdGlvbi5zaXplID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBvcmRlcmVkID0gaXNPcmRlcmVkKGNvbGxlY3Rpb24pO1xuICB2YXIga2V5ZWQgPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgaCA9IG9yZGVyZWQgPyAxIDogMDtcbiAgdmFyIHNpemUgPSBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICBrZXllZFxuICAgICAgPyBvcmRlcmVkXG4gICAgICAgID8gZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgIGggPSAoMzEgKiBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpKSB8IDA7XG4gICAgICAgICAgfVxuICAgICAgICA6IGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICBoID0gKGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkpIHwgMDtcbiAgICAgICAgICB9XG4gICAgICA6IG9yZGVyZWRcbiAgICAgID8gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBoID0gKDMxICogaCArIGhhc2godikpIHwgMDtcbiAgICAgICAgfVxuICAgICAgOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIGggPSAoaCArIGhhc2godikpIHwgMDtcbiAgICAgICAgfVxuICApO1xuICByZXR1cm4gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKTtcbn1cblxuZnVuY3Rpb24gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKSB7XG4gIGggPSBpbXVsKGgsIDB4Y2M5ZTJkNTEpO1xuICBoID0gaW11bCgoaCA8PCAxNSkgfCAoaCA+Pj4gLTE1KSwgMHgxYjg3MzU5Myk7XG4gIGggPSBpbXVsKChoIDw8IDEzKSB8IChoID4+PiAtMTMpLCA1KTtcbiAgaCA9ICgoaCArIDB4ZTY1NDZiNjQpIHwgMCkgXiBzaXplO1xuICBoID0gaW11bChoIF4gKGggPj4+IDE2KSwgMHg4NWViY2E2Yik7XG4gIGggPSBpbXVsKGggXiAoaCA+Pj4gMTMpLCAweGMyYjJhZTM1KTtcbiAgaCA9IHNtaShoIF4gKGggPj4+IDE2KSk7XG4gIHJldHVybiBoO1xufVxuXG5mdW5jdGlvbiBoYXNoTWVyZ2UoYSwgYikge1xuICByZXR1cm4gKGEgXiAoYiArIDB4OWUzNzc5YjkgKyAoYSA8PCA2KSArIChhID4+IDIpKSkgfCAwOyAvLyBpbnRcbn1cblxudmFyIE9yZGVyZWRTZXQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTZXQpIHtcbiAgZnVuY3Rpb24gT3JkZXJlZFNldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5T3JkZXJlZFNldCgpXG4gICAgICA6IGlzT3JkZXJlZFNldCh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogZW1wdHlPcmRlcmVkU2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gc2V0LmFkZCh2KTsgfSk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBTZXQgKSBPcmRlcmVkU2V0Ll9fcHJvdG9fXyA9IFNldDtcbiAgT3JkZXJlZFNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXQgJiYgU2V0LnByb3RvdHlwZSApO1xuICBPcmRlcmVkU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yZGVyZWRTZXQ7XG5cbiAgT3JkZXJlZFNldC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBPcmRlcmVkU2V0LmZyb21LZXlzID0gZnVuY3Rpb24gZnJvbUtleXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMoS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKS5rZXlTZXEoKSk7XG4gIH07XG5cbiAgT3JkZXJlZFNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZFNldCB7JywgJ30nKTtcbiAgfTtcblxuICByZXR1cm4gT3JkZXJlZFNldDtcbn0oU2V0KSk7XG5cbk9yZGVyZWRTZXQuaXNPcmRlcmVkU2V0ID0gaXNPcmRlcmVkU2V0O1xuXG52YXIgT3JkZXJlZFNldFByb3RvdHlwZSA9IE9yZGVyZWRTZXQucHJvdG90eXBlO1xuT3JkZXJlZFNldFByb3RvdHlwZVtJU19PUkRFUkVEX1NZTUJPTF0gPSB0cnVlO1xuT3JkZXJlZFNldFByb3RvdHlwZS56aXAgPSBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZS56aXA7XG5PcmRlcmVkU2V0UHJvdG90eXBlLnppcFdpdGggPSBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZS56aXBXaXRoO1xuT3JkZXJlZFNldFByb3RvdHlwZS56aXBBbGwgPSBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZS56aXBBbGw7XG5cbk9yZGVyZWRTZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5T3JkZXJlZFNldDtcbk9yZGVyZWRTZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZU9yZGVyZWRTZXQ7XG5cbmZ1bmN0aW9uIG1ha2VPcmRlcmVkU2V0KG1hcCwgb3duZXJJRCkge1xuICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShPcmRlcmVkU2V0UHJvdG90eXBlKTtcbiAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIHNldC5fbWFwID0gbWFwO1xuICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgcmV0dXJuIHNldDtcbn1cblxudmFyIEVNUFRZX09SREVSRURfU0VUO1xuZnVuY3Rpb24gZW1wdHlPcmRlcmVkU2V0KCkge1xuICByZXR1cm4gKFxuICAgIEVNUFRZX09SREVSRURfU0VUIHx8IChFTVBUWV9PUkRFUkVEX1NFVCA9IG1ha2VPcmRlcmVkU2V0KGVtcHR5T3JkZXJlZE1hcCgpKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dPbkludmFsaWREZWZhdWx0VmFsdWVzKGRlZmF1bHRWYWx1ZXMpIHtcbiAgaWYgKGlzUmVjb3JkKGRlZmF1bHRWYWx1ZXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NhbiBub3QgY2FsbCBgUmVjb3JkYCB3aXRoIGFuIGltbXV0YWJsZSBSZWNvcmQgYXMgZGVmYXVsdCB2YWx1ZXMuIFVzZSBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IGluc3RlYWQuJ1xuICAgICk7XG4gIH1cblxuICBpZiAoaXNJbW11dGFibGUoZGVmYXVsdFZhbHVlcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQ2FuIG5vdCBjYWxsIGBSZWNvcmRgIHdpdGggYW4gaW1tdXRhYmxlIENvbGxlY3Rpb24gYXMgZGVmYXVsdCB2YWx1ZXMuIFVzZSBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IGluc3RlYWQuJ1xuICAgICk7XG4gIH1cblxuICBpZiAoZGVmYXVsdFZhbHVlcyA9PT0gbnVsbCB8fCB0eXBlb2YgZGVmYXVsdFZhbHVlcyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQ2FuIG5vdCBjYWxsIGBSZWNvcmRgIHdpdGggYSBub24tb2JqZWN0IGFzIGRlZmF1bHQgdmFsdWVzLiBVc2UgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCBpbnN0ZWFkLidcbiAgICApO1xuICB9XG59XG5cbnZhciBSZWNvcmQgPSBmdW5jdGlvbiBSZWNvcmQoZGVmYXVsdFZhbHVlcywgbmFtZSkge1xuICB2YXIgaGFzSW5pdGlhbGl6ZWQ7XG5cbiAgdGhyb3dPbkludmFsaWREZWZhdWx0VmFsdWVzKGRlZmF1bHRWYWx1ZXMpO1xuXG4gIHZhciBSZWNvcmRUeXBlID0gZnVuY3Rpb24gUmVjb3JkKHZhbHVlcykge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlY29yZFR5cGUodmFsdWVzKTtcbiAgICB9XG4gICAgaWYgKCFoYXNJbml0aWFsaXplZCkge1xuICAgICAgaGFzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTtcbiAgICAgIHZhciBpbmRpY2VzID0gKFJlY29yZFR5cGVQcm90b3R5cGUuX2luZGljZXMgPSB7fSk7XG4gICAgICAvLyBEZXByZWNhdGVkOiBsZWZ0IHRvIGF0dGVtcHQgbm90IHRvIGJyZWFrIGFueSBleHRlcm5hbCBjb2RlIHdoaWNoXG4gICAgICAvLyByZWxpZXMgb24gYSAuX25hbWUgcHJvcGVydHkgZXhpc3Rpbmcgb24gcmVjb3JkIGluc3RhbmNlcy5cbiAgICAgIC8vIFVzZSBSZWNvcmQuZ2V0RGVzY3JpcHRpdmVOYW1lKCkgaW5zdGVhZFxuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fbmFtZSA9IG5hbWU7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9rZXlzID0ga2V5cztcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2RlZmF1bHRWYWx1ZXMgPSBkZWZhdWx0VmFsdWVzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IGtleXNbaV07XG4gICAgICAgIGluZGljZXNbcHJvcE5hbWVdID0gaTtcbiAgICAgICAgaWYgKFJlY29yZFR5cGVQcm90b3R5cGVbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgIHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICdDYW5ub3QgZGVmaW5lICcgK1xuICAgICAgICAgICAgICAgIHJlY29yZE5hbWUodGhpcykgK1xuICAgICAgICAgICAgICAgICcgd2l0aCBwcm9wZXJ0eSBcIicgK1xuICAgICAgICAgICAgICAgIHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICAnXCIgc2luY2UgdGhhdCBwcm9wZXJ0eSBuYW1lIGlzIHBhcnQgb2YgdGhlIFJlY29yZCBBUEkuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRQcm9wKFJlY29yZFR5cGVQcm90b3R5cGUsIHByb3BOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9fb3duZXJJRCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl92YWx1ZXMgPSBMaXN0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobCkge1xuICAgICAgbC5zZXRTaXplKHRoaXMkMSQxLl9rZXlzLmxlbmd0aCk7XG4gICAgICBLZXllZENvbGxlY3Rpb24odmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgIGwuc2V0KHRoaXMkMSQxLl9pbmRpY2VzW2tdLCB2ID09PSB0aGlzJDEkMS5fZGVmYXVsdFZhbHVlc1trXSA/IHVuZGVmaW5lZCA6IHYpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIFJlY29yZFR5cGVQcm90b3R5cGUgPSAoUmVjb3JkVHlwZS5wcm90b3R5cGUgPVxuICAgIE9iamVjdC5jcmVhdGUoUmVjb3JkUHJvdG90eXBlKSk7XG4gIFJlY29yZFR5cGVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWNvcmRUeXBlO1xuXG4gIGlmIChuYW1lKSB7XG4gICAgUmVjb3JkVHlwZS5kaXNwbGF5TmFtZSA9IG5hbWU7XG4gIH1cblxuICByZXR1cm4gUmVjb3JkVHlwZTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBzdHIgPSByZWNvcmROYW1lKHRoaXMpICsgJyB7ICc7XG4gIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgdmFyIGs7XG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgIT09IGw7IGkrKykge1xuICAgIGsgPSBrZXlzW2ldO1xuICAgIHN0ciArPSAoaSA/ICcsICcgOiAnJykgKyBrICsgJzogJyArIHF1b3RlU3RyaW5nKHRoaXMuZ2V0KGspKTtcbiAgfVxuICByZXR1cm4gc3RyICsgJyB9Jztcbn07XG5cblJlY29yZC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICByZXR1cm4gKFxuICAgIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAmJiByZWNvcmRTZXEodGhpcykuZXF1YWxzKHJlY29yZFNlcShvdGhlcikpKVxuICApO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uIGhhc2hDb2RlICgpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS5oYXNoQ29kZSgpO1xufTtcblxuLy8gQHByYWdtYSBBY2Nlc3NcblxuUmVjb3JkLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGspIHtcbiAgcmV0dXJuIHRoaXMuX2luZGljZXMuaGFzT3duUHJvcGVydHkoayk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaywgbm90U2V0VmFsdWUpIHtcbiAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgfVxuICB2YXIgaW5kZXggPSB0aGlzLl9pbmRpY2VzW2tdO1xuICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZXMuZ2V0KGluZGV4KTtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdIDogdmFsdWU7XG59O1xuXG4vLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG5SZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoaywgdikge1xuICBpZiAodGhpcy5oYXMoaykpIHtcbiAgICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLnNldChcbiAgICAgIHRoaXMuX2luZGljZXNba10sXG4gICAgICB2ID09PSB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdID8gdW5kZWZpbmVkIDogdlxuICAgICk7XG4gICAgaWYgKG5ld1ZhbHVlcyAhPT0gdGhpcy5fdmFsdWVzICYmICF0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaykge1xuICByZXR1cm4gdGhpcy5zZXQoayk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLmNsZWFyKCkuc2V0U2l6ZSh0aGlzLl9rZXlzLmxlbmd0aCk7XG5cbiAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uIHdhc0FsdGVyZWQgKCkge1xuICByZXR1cm4gdGhpcy5fdmFsdWVzLndhc0FsdGVyZWQoKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbiB0b1NlcSAoKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvSlMgPSBmdW5jdGlvbiB0b0pTJDEgKCkge1xuICByZXR1cm4gdG9KUyh0aGlzKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uIGVudHJpZXMgKCkge1xuICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBuZXdWYWx1ZXMgPSB0aGlzLl92YWx1ZXMuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgaWYgKCFvd25lcklEKSB7XG4gICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdWYWx1ZXMsIG93bmVySUQpO1xufTtcblxuUmVjb3JkLmlzUmVjb3JkID0gaXNSZWNvcmQ7XG5SZWNvcmQuZ2V0RGVzY3JpcHRpdmVOYW1lID0gcmVjb3JkTmFtZTtcbnZhciBSZWNvcmRQcm90b3R5cGUgPSBSZWNvcmQucHJvdG90eXBlO1xuUmVjb3JkUHJvdG90eXBlW0lTX1JFQ09SRF9TWU1CT0xdID0gdHJ1ZTtcblJlY29yZFByb3RvdHlwZVtERUxFVEVdID0gUmVjb3JkUHJvdG90eXBlLnJlbW92ZTtcblJlY29yZFByb3RvdHlwZS5kZWxldGVJbiA9IFJlY29yZFByb3RvdHlwZS5yZW1vdmVJbiA9IGRlbGV0ZUluO1xuUmVjb3JkUHJvdG90eXBlLmdldEluID0gZ2V0SW47XG5SZWNvcmRQcm90b3R5cGUuaGFzSW4gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmhhc0luO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlID0gbWVyZ2UkMTtcblJlY29yZFByb3RvdHlwZS5tZXJnZVdpdGggPSBtZXJnZVdpdGgkMTtcblJlY29yZFByb3RvdHlwZS5tZXJnZUluID0gbWVyZ2VJbjtcblJlY29yZFByb3RvdHlwZS5tZXJnZURlZXAgPSBtZXJnZURlZXA7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IG1lcmdlRGVlcFdpdGg7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBtZXJnZURlZXBJbjtcblJlY29yZFByb3RvdHlwZS5zZXRJbiA9IHNldEluO1xuUmVjb3JkUHJvdG90eXBlLnVwZGF0ZSA9IHVwZGF0ZTtcblJlY29yZFByb3RvdHlwZS51cGRhdGVJbiA9IHVwZGF0ZUluO1xuUmVjb3JkUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSB3aXRoTXV0YXRpb25zO1xuUmVjb3JkUHJvdG90eXBlLmFzTXV0YWJsZSA9IGFzTXV0YWJsZTtcblJlY29yZFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGFzSW1tdXRhYmxlO1xuUmVjb3JkUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBSZWNvcmRQcm90b3R5cGUuZW50cmllcztcblJlY29yZFByb3RvdHlwZS50b0pTT04gPSBSZWNvcmRQcm90b3R5cGUudG9PYmplY3QgPVxuICBDb2xsZWN0aW9uUHJvdG90eXBlLnRvT2JqZWN0O1xuUmVjb3JkUHJvdG90eXBlLmluc3BlY3QgPSBSZWNvcmRQcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG59O1xuXG5mdW5jdGlvbiBtYWtlUmVjb3JkKGxpa2VSZWNvcmQsIHZhbHVlcywgb3duZXJJRCkge1xuICB2YXIgcmVjb3JkID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobGlrZVJlY29yZCkpO1xuICByZWNvcmQuX3ZhbHVlcyA9IHZhbHVlcztcbiAgcmVjb3JkLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIHJldHVybiByZWNvcmQ7XG59XG5cbmZ1bmN0aW9uIHJlY29yZE5hbWUocmVjb3JkKSB7XG4gIHJldHVybiByZWNvcmQuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgcmVjb3JkLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ1JlY29yZCc7XG59XG5cbmZ1bmN0aW9uIHJlY29yZFNlcShyZWNvcmQpIHtcbiAgcmV0dXJuIGtleWVkU2VxRnJvbVZhbHVlKHJlY29yZC5fa2V5cy5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIFtrLCByZWNvcmQuZ2V0KGspXTsgfSkpO1xufVxuXG5mdW5jdGlvbiBzZXRQcm9wKHByb3RvdHlwZSwgbmFtZSkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuX19vd25lcklELCAnQ2Fubm90IHNldCBvbiBhbiBpbW11dGFibGUgcmVjb3JkLicpO1xuICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBmYWlsZWQuIFByb2JhYmx5IElFOC5cbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBsYXp5IFNlcSBvZiBgdmFsdWVgIHJlcGVhdGVkIGB0aW1lc2AgdGltZXMuIFdoZW4gYHRpbWVzYCBpc1xuICogdW5kZWZpbmVkLCByZXR1cm5zIGFuIGluZmluaXRlIHNlcXVlbmNlIG9mIGB2YWx1ZWAuXG4gKi9cbnZhciBSZXBlYXQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIFJlcGVhdCh2YWx1ZSwgdGltZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVwZWF0KSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXBlYXQodmFsdWUsIHRpbWVzKTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLnNpemUgPSB0aW1lcyA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiBNYXRoLm1heCgwLCB0aW1lcyk7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKEVNUFRZX1JFUEVBVCkge1xuICAgICAgICByZXR1cm4gRU1QVFlfUkVQRUFUO1xuICAgICAgfVxuICAgICAgRU1QVFlfUkVQRUFUID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBSZXBlYXQuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgUmVwZWF0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgUmVwZWF0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlcGVhdDtcblxuICBSZXBlYXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAnUmVwZWF0IFtdJztcbiAgICB9XG4gICAgcmV0dXJuICdSZXBlYXQgWyAnICsgdGhpcy5fdmFsdWUgKyAnICcgKyB0aGlzLnNpemUgKyAnIHRpbWVzIF0nO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgcmV0dXJuIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSlcbiAgICAgID8gdGhpc1xuICAgICAgOiBuZXcgUmVwZWF0KFxuICAgICAgICAgIHRoaXMuX3ZhbHVlLFxuICAgICAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKSAtIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSlcbiAgICAgICAgKTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgaWYgKGZuKHRoaXMuX3ZhbHVlLCByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGkgPT09IHNpemVcbiAgICAgICAgPyBpdGVyYXRvckRvbmUoKVxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMkMSQxLl92YWx1ZSk7IH1cbiAgICApO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlcGVhdFxuICAgICAgPyBpcyh0aGlzLl92YWx1ZSwgb3RoZXIuX3ZhbHVlKVxuICAgICAgOiBkZWVwRXF1YWwob3RoZXIpO1xuICB9O1xuXG4gIHJldHVybiBSZXBlYXQ7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIEVNUFRZX1JFUEVBVDtcblxuZnVuY3Rpb24gZnJvbUpTKHZhbHVlLCBjb252ZXJ0ZXIpIHtcbiAgcmV0dXJuIGZyb21KU1dpdGgoXG4gICAgW10sXG4gICAgY29udmVydGVyIHx8IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgdmFsdWUsXG4gICAgJycsXG4gICAgY29udmVydGVyICYmIGNvbnZlcnRlci5sZW5ndGggPiAyID8gW10gOiB1bmRlZmluZWQsXG4gICAgeyAnJzogdmFsdWUgfVxuICApO1xufVxuXG5mdW5jdGlvbiBmcm9tSlNXaXRoKHN0YWNrLCBjb252ZXJ0ZXIsIHZhbHVlLCBrZXksIGtleVBhdGgsIHBhcmVudFZhbHVlKSB7XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAgIWlzSW1tdXRhYmxlKHZhbHVlKSAmJlxuICAgIChpc0FycmF5TGlrZSh2YWx1ZSkgfHwgaGFzSXRlcmF0b3IodmFsdWUpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUpKVxuICApIHtcbiAgICBpZiAofnN0YWNrLmluZGV4T2YodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSW1tdXRhYmxlJyk7XG4gICAgfVxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgIGtleVBhdGggJiYga2V5ICE9PSAnJyAmJiBrZXlQYXRoLnB1c2goa2V5KTtcbiAgICB2YXIgY29udmVydGVkID0gY29udmVydGVyLmNhbGwoXG4gICAgICBwYXJlbnRWYWx1ZSxcbiAgICAgIGtleSxcbiAgICAgIFNlcSh2YWx1ZSkubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmcm9tSlNXaXRoKHN0YWNrLCBjb252ZXJ0ZXIsIHYsIGssIGtleVBhdGgsIHZhbHVlKTsgfVxuICAgICAgKSxcbiAgICAgIGtleVBhdGggJiYga2V5UGF0aC5zbGljZSgpXG4gICAgKTtcbiAgICBzdGFjay5wb3AoKTtcbiAgICBrZXlQYXRoICYmIGtleVBhdGgucG9wKCk7XG4gICAgcmV0dXJuIGNvbnZlcnRlZDtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb252ZXJ0ZXIoaywgdikge1xuICAvLyBFZmZlY3RpdmVseSB0aGUgb3Bwb3NpdGUgb2YgXCJDb2xsZWN0aW9uLnRvU2VxKClcIlxuICByZXR1cm4gaXNJbmRleGVkKHYpID8gdi50b0xpc3QoKSA6IGlzS2V5ZWQodikgPyB2LnRvTWFwKCkgOiB2LnRvU2V0KCk7XG59XG5cbnZhciB2ZXJzaW9uID0gXCI0LjAuMFwiO1xuXG52YXIgSW1tdXRhYmxlID0ge1xuICB2ZXJzaW9uOiB2ZXJzaW9uLFxuXG4gIENvbGxlY3Rpb246IENvbGxlY3Rpb24sXG4gIC8vIE5vdGU6IEl0ZXJhYmxlIGlzIGRlcHJlY2F0ZWRcbiAgSXRlcmFibGU6IENvbGxlY3Rpb24sXG5cbiAgU2VxOiBTZXEsXG4gIE1hcDogTWFwLFxuICBPcmRlcmVkTWFwOiBPcmRlcmVkTWFwLFxuICBMaXN0OiBMaXN0LFxuICBTdGFjazogU3RhY2ssXG4gIFNldDogU2V0LFxuICBPcmRlcmVkU2V0OiBPcmRlcmVkU2V0LFxuXG4gIFJlY29yZDogUmVjb3JkLFxuICBSYW5nZTogUmFuZ2UsXG4gIFJlcGVhdDogUmVwZWF0LFxuXG4gIGlzOiBpcyxcbiAgZnJvbUpTOiBmcm9tSlMsXG4gIGhhc2g6IGhhc2gsXG5cbiAgaXNJbW11dGFibGU6IGlzSW1tdXRhYmxlLFxuICBpc0NvbGxlY3Rpb246IGlzQ29sbGVjdGlvbixcbiAgaXNLZXllZDogaXNLZXllZCxcbiAgaXNJbmRleGVkOiBpc0luZGV4ZWQsXG4gIGlzQXNzb2NpYXRpdmU6IGlzQXNzb2NpYXRpdmUsXG4gIGlzT3JkZXJlZDogaXNPcmRlcmVkLFxuICBpc1ZhbHVlT2JqZWN0OiBpc1ZhbHVlT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0LFxuICBpc1NlcTogaXNTZXEsXG4gIGlzTGlzdDogaXNMaXN0LFxuICBpc01hcDogaXNNYXAsXG4gIGlzT3JkZXJlZE1hcDogaXNPcmRlcmVkTWFwLFxuICBpc1N0YWNrOiBpc1N0YWNrLFxuICBpc1NldDogaXNTZXQsXG4gIGlzT3JkZXJlZFNldDogaXNPcmRlcmVkU2V0LFxuICBpc1JlY29yZDogaXNSZWNvcmQsXG5cbiAgZ2V0OiBnZXQsXG4gIGdldEluOiBnZXRJbiQxLFxuICBoYXM6IGhhcyxcbiAgaGFzSW46IGhhc0luJDEsXG4gIG1lcmdlOiBtZXJnZSxcbiAgbWVyZ2VEZWVwOiBtZXJnZURlZXAkMSxcbiAgbWVyZ2VXaXRoOiBtZXJnZVdpdGgsXG4gIG1lcmdlRGVlcFdpdGg6IG1lcmdlRGVlcFdpdGgkMSxcbiAgcmVtb3ZlOiByZW1vdmUsXG4gIHJlbW92ZUluOiByZW1vdmVJbixcbiAgc2V0OiBzZXQsXG4gIHNldEluOiBzZXRJbiQxLFxuICB1cGRhdGU6IHVwZGF0ZSQxLFxuICB1cGRhdGVJbjogdXBkYXRlSW4kMSxcbn07XG5cbi8vIE5vdGU6IEl0ZXJhYmxlIGlzIGRlcHJlY2F0ZWRcbnZhciBJdGVyYWJsZSA9IENvbGxlY3Rpb247XG5cbmV4cG9ydCBkZWZhdWx0IEltbXV0YWJsZTtcbmV4cG9ydCB7IENvbGxlY3Rpb24sIEl0ZXJhYmxlLCBMaXN0LCBNYXAsIE9yZGVyZWRNYXAsIE9yZGVyZWRTZXQsIFJhbmdlLCBSZWNvcmQsIFJlcGVhdCwgU2VxLCBTZXQsIFN0YWNrLCBmcm9tSlMsIGdldCwgZ2V0SW4kMSBhcyBnZXRJbiwgaGFzLCBoYXNJbiQxIGFzIGhhc0luLCBoYXNoLCBpcywgaXNBc3NvY2lhdGl2ZSwgaXNDb2xsZWN0aW9uLCBpc0ltbXV0YWJsZSwgaXNJbmRleGVkLCBpc0tleWVkLCBpc0xpc3QsIGlzTWFwLCBpc09yZGVyZWQsIGlzT3JkZXJlZE1hcCwgaXNPcmRlcmVkU2V0LCBpc1BsYWluT2JqZWN0LCBpc1JlY29yZCwgaXNTZXEsIGlzU2V0LCBpc1N0YWNrLCBpc1ZhbHVlT2JqZWN0LCBtZXJnZSwgbWVyZ2VEZWVwJDEgYXMgbWVyZ2VEZWVwLCBtZXJnZURlZXBXaXRoJDEgYXMgbWVyZ2VEZWVwV2l0aCwgbWVyZ2VXaXRoLCByZW1vdmUsIHJlbW92ZUluLCBzZXQsIHNldEluJDEgYXMgc2V0SW4sIHVwZGF0ZSQxIGFzIHVwZGF0ZSwgdXBkYXRlSW4kMSBhcyB1cGRhdGVJbiwgdmVyc2lvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29tcG9zZSA9IHJlcXVpcmUoJ3JlZHV4JykuY29tcG9zZTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZVdpdGhEZXZUb29scyA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX19cbiAgICA/IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX19cbiAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0JykgcmV0dXJuIGNvbXBvc2U7XG4gICAgICAgIHJldHVybiBjb21wb3NlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG5leHBvcnRzLmRldlRvb2xzRW5oYW5jZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fX1xuICAgID8gd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX19cbiAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChub29wKSB7XG4gICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH07XG4gICAgICB9O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIFNwZWNpYWwgc3ltYm9sIHdoaWNoIG1pZ2h0IGJlIHJldHVybmVkIGJ5IG9uUHJvbWlzZWQgY2FsbGJhY2sgb2YgW1N0YXRlTWV0aG9kcy5tYXBdKCNtYXApIGZ1bmN0aW9uLlxuICpcbiAqIFtMZWFybiBtb3JlLi4uXShodHRwczovL2hvb2tzdGF0ZS5qcy5vcmcvZG9jcy9hc3luY2hyb25vdXMtc3RhdGUjZXhlY3V0aW5nLWFuLWFjdGlvbi13aGVuLXN0YXRlLWlzLWxvYWRlZClcbiAqL1xudmFyIHBvc3Rwb25lID0gU3ltYm9sKCdwb3N0cG9uZScpO1xuLyoqXG4gKiBTcGVjaWFsIHN5bWJvbCB3aGljaCBtaWdodCBiZSB1c2VkIHRvIGRlbGV0ZSBwcm9wZXJ0aWVzXG4gKiBmcm9tIGFuIG9iamVjdCBjYWxsaW5nIFtTdGF0ZU1ldGhvZHMuc2V0XSgjc2V0KSBvciBbU3RhdGVNZXRob2RzLm1lcmdlXSgjbWVyZ2UpLlxuICpcbiAqIFtMZWFybiBtb3JlLi4uXShodHRwczovL2hvb2tzdGF0ZS5qcy5vcmcvZG9jcy9uZXN0ZWQtc3RhdGUjZGVsZXRpbmctZXhpc3RpbmctZWxlbWVudClcbiAqL1xudmFyIG5vbmUgPSBTeW1ib2woJ25vbmUnKTtcbi8qKlxuICogQ3JlYXRlcyBuZXcgc3RhdGUgYW5kIHJldHVybnMgaXQuXG4gKlxuICogWW91IGNhbiBjcmVhdGUgYXMgbWFueSBnbG9iYWwgc3RhdGVzIGFzIHlvdSBuZWVkLlxuICpcbiAqIFdoZW4geW91IHRoZSBzdGF0ZSBpcyBub3QgbmVlZGVkIGFueW1vcmUsXG4gKiBpdCBzaG91bGQgYmUgZGVzdHJveWVkIGJ5IGNhbGxpbmdcbiAqIGBkZXN0cm95KClgIG1ldGhvZCBvZiB0aGUgcmV0dXJuZWQgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBmb3Igc29tZSBwbHVnaW5zLFxuICogd2hpY2ggYWxsb2NhdGUgbmF0aXZlIHJlc291cmNlcyxcbiAqIGxpa2Ugc3Vic2NyaXB0aW9uIHRvIGRhdGFiYXNlcywgYnJvYWRjYXN0IGNoYW5uZWxzLCBldGMuXG4gKiBJbiBtb3N0IGNhc2VzLCBhIGdsb2JhbCBzdGF0ZSBpcyB1c2VkIGR1cmluZ1xuICogd2hvbGUgbGlmZSB0aW1lIG9mIGFuIGFwcGxpY2F0aW9uIGFuZCB3b3VsZCBub3QgcmVxdWlyZVxuICogZGVzdHJ1Y3Rpb24uIEhvd2V2ZXIsIGlmIHlvdSBoYXZlIGdvdCwgZm9yIGV4YW1wbGUsXG4gKiBhIGNhdGFsb2cgb2YgZHluYW1pY2FsbHkgY3JlYXRlZCBhbmQgZGVzdHJveWVkIGdsb2JhbCBzdGF0ZXMsXG4gKiB0aGUgc3RhdGVzIHNob3VsZCBiZSBkZXN0cm95ZWQgYXMgYWR2aXNlZCBhYm92ZS5cbiAqXG4gKiBAcGFyYW0gaW5pdGlhbCBJbml0aWFsIHZhbHVlIG9mIHRoZSBzdGF0ZS5cbiAqIEl0IGNhbiBiZSBhIHZhbHVlIE9SIGEgcHJvbWlzZSxcbiAqIHdoaWNoIGFzeW5jaHJvbm91c2x5IHJlc29sdmVzIHRvIGEgdmFsdWUsXG4gKiBPUiBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHZhbHVlIG9yIGEgcHJvbWlzZS5cbiAqXG4gKiBAdHlwZXBhcmFtIFMgVHlwZSBvZiBhIHZhbHVlIG9mIHRoZSBzdGF0ZVxuICpcbiAqIEByZXR1cm5zIFtTdGF0ZV0oI3N0YXRlKSBpbnN0YW5jZSxcbiAqIHdoaWNoIGNhbiBiZSB1c2VkIGRpcmVjdGx5IHRvIGdldCBhbmQgc2V0IHN0YXRlIHZhbHVlXG4gKiBvdXRzaWRlIG9mIFJlYWN0IGNvbXBvbmVudHMuXG4gKiBXaGVuIHlvdSBuZWVkIHRvIHVzZSB0aGUgc3RhdGUgaW4gYSBmdW5jdGlvbmFsIGBSZWFjdGAgY29tcG9uZW50LFxuICogcGFzcyB0aGUgY3JlYXRlZCBzdGF0ZSB0byBbdXNlU3RhdGVdKCN1c2VzdGF0ZSkgZnVuY3Rpb24gYW5kXG4gKiB1c2UgdGhlIHJldHVybmVkIHJlc3VsdCBpbiB0aGUgY29tcG9uZW50J3MgbG9naWMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlKGluaXRpYWwpIHtcbiAgICB2YXIgbWV0aG9kcyA9IGNyZWF0ZVN0b3JlKGluaXRpYWwpLnRvTWV0aG9kcygpO1xuICAgIHZhciBkZXZ0b29scyA9IGNyZWF0ZVN0YXRlW0RldlRvb2xzSURdO1xuICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBtZXRob2RzLmF0dGFjaChkZXZ0b29scyk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2RzLnNlbGY7XG59XG5mdW5jdGlvbiB1c2VTdGF0ZShzb3VyY2UpIHtcbiAgICByZXR1cm4gdXNlSG9va3N0YXRlKHNvdXJjZSk7XG59XG5mdW5jdGlvbiB1c2VIb29rc3RhdGUoc291cmNlKSB7XG4gICAgdmFyIHBhcmVudE1ldGhvZHMgPSB0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0JyAmJiBzb3VyY2UgIT09IG51bGwgP1xuICAgICAgICBzb3VyY2Vbc2VsZl0gOlxuICAgICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudE1ldGhvZHMpIHtcbiAgICAgICAgaWYgKHBhcmVudE1ldGhvZHMuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAvLyBTY29wZWQgc3RhdGUgbW91bnRcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgICAgICAgICAgdmFyIF9hID0gUmVhY3QudXNlU3RhdGUoe30pLCBzZXRWYWx1ZV8xID0gX2FbMV07XG4gICAgICAgICAgICByZXR1cm4gdXNlU3Vic2NyaWJlZFN0YXRlTWV0aG9kcyhwYXJlbnRNZXRob2RzLnN0YXRlLCBwYXJlbnRNZXRob2RzLnBhdGgsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFZhbHVlXzEoe30pOyB9LCBwYXJlbnRNZXRob2RzKS5zZWxmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gR2xvYmFsIHN0YXRlIG1vdW50IG9yIGRlc3Ryb3llZCBsaW5rXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICAgICAgICAgIHZhciBfYiA9IFJlYWN0LnVzZVN0YXRlKHsgc3RhdGU6IHBhcmVudE1ldGhvZHMuc3RhdGUgfSksIHZhbHVlXzEgPSBfYlswXSwgc2V0VmFsdWVfMiA9IF9iWzFdO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdXNlU3Vic2NyaWJlZFN0YXRlTWV0aG9kcyh2YWx1ZV8xLnN0YXRlLCBSb290UGF0aCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0VmFsdWVfMih7IHN0YXRlOiB2YWx1ZV8xLnN0YXRlIH0pOyB9LCB2YWx1ZV8xLnN0YXRlKS5zZWxmO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kID0gMDsgaW5kIDwgcGFyZW50TWV0aG9kcy5wYXRoLmxlbmd0aDsgaW5kICs9IDEpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLm5lc3RlZChwYXJlbnRNZXRob2RzLnBhdGhbaW5kXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIExvY2FsIHN0YXRlIG1vdW50XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgICAgICB2YXIgX2MgPSBSZWFjdC51c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBzdGF0ZTogY3JlYXRlU3RvcmUoc291cmNlKSB9KTsgfSksIHZhbHVlXzIgPSBfY1swXSwgc2V0VmFsdWVfMyA9IF9jWzFdO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdXNlU3Vic2NyaWJlZFN0YXRlTWV0aG9kcyh2YWx1ZV8yLnN0YXRlLCBSb290UGF0aCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0VmFsdWVfMyh7IHN0YXRlOiB2YWx1ZV8yLnN0YXRlIH0pOyB9LCB2YWx1ZV8yLnN0YXRlKTtcbiAgICAgICAgaWYgKGlzRGV2ZWxvcG1lbnRNb2RlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIGlzc3VlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F2a29uc3QvaG9va3N0YXRlL2lzc3Vlcy8xMDlcbiAgICAgICAgICAgIC8vIFNlZSB0ZWNobmljYWwgbm90ZXMgb24gUmVhY3QgYmVoYXZpb3IgaGVyZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1jbGllbnQvaXNzdWVzLzU4NzAjaXNzdWVjb21tZW50LTY4OTA5ODE4NVxuICAgICAgICAgICAgdmFyIGlzRWZmZWN0RXhlY3V0ZWRBZnRlclJlbmRlcl8xID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICAgICAgICAgIGlzRWZmZWN0RXhlY3V0ZWRBZnRlclJlbmRlcl8xLmN1cnJlbnQgPSBmYWxzZTsgLy8gbm90IHlldC4uLlxuICAgICAgICAgICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc0VmZmVjdEV4ZWN1dGVkQWZ0ZXJSZW5kZXJfMS5jdXJyZW50ID0gdHJ1ZTsgLy8gLi4uIGFuZCBub3csIHllcyFcbiAgICAgICAgICAgICAgICAvLyBUaGUgc3RhdGUgaXMgbm90IGRlc3Ryb3llZCBpbnRlbnRpb25hbGx5XG4gICAgICAgICAgICAgICAgLy8gdW5kZXIgaG90IHJlbG9hZCBjYXNlLlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IGlzRWZmZWN0RXhlY3V0ZWRBZnRlclJlbmRlcl8xLmN1cnJlbnQgJiYgdmFsdWVfMi5zdGF0ZS5kZXN0cm95KCk7IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZV8yLnN0YXRlLmRlc3Ryb3koKTsgfTsgfSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXZ0b29scyA9IHVzZVN0YXRlW0RldlRvb2xzSURdO1xuICAgICAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hdHRhY2goZGV2dG9vbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuc2VsZjtcbiAgICB9XG59XG5mdW5jdGlvbiBTdGF0ZUZyYWdtZW50KHByb3BzKSB7XG4gICAgdmFyIHNjb3BlZCA9IHVzZVN0YXRlKHByb3BzLnN0YXRlKTtcbiAgICByZXR1cm4gcHJvcHMuY2hpbGRyZW4oc2NvcGVkKTtcbn1cbi8qKlxuICogQSBwbHVnaW4gd2hpY2ggYWxsb3dzIHRvIG9wdC1vdXQgZnJvbSB1c2FnZSBvZiBKYXZhc2NyaXB0IHByb3hpZXMgZm9yXG4gKiBzdGF0ZSB1c2FnZSB0cmFja2luZy4gSXQgaXMgdXNlZnVsIGZvciBwZXJmb3JtYW5jZSB0dW5pbmcuXG4gKlxuICogW0xlYXJuIG1vcmUuLi5dKGh0dHBzOi8vaG9va3N0YXRlLmpzLm9yZy9kb2NzL3BlcmZvcm1hbmNlLW1hbmFnZWQtcmVuZGVyaW5nI2Rvd25ncmFkZWQtcGx1Z2luKVxuICovXG5mdW5jdGlvbiBEb3duZ3JhZGVkKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBEb3duZ3JhZGVkSURcbiAgICB9O1xufVxuLyoqXG4gKiBGb3IgcGx1Z2luIGRldmVsb3BlcnMgb25seS5cbiAqIFJlc2VydmVkIHBsdWdpbiBJRCBmb3IgZGV2ZWxvcGVycyB0b29scyBleHRlbnNpb24uXG4gKlxuICogQGhpZGRlblxuICogQGlnbm9yZVxuICovXG52YXIgRGV2VG9vbHNJRCA9IFN5bWJvbCgnRGV2VG9vbHMnKTtcbi8qKlxuICogUmV0dXJucyBhY2Nlc3MgdG8gdGhlIGRldmVsb3BtZW50IHRvb2xzIGZvciBhIGdpdmVuIHN0YXRlLlxuICogRGV2ZWxvcG1lbnQgdG9vbHMgYXJlIGRlbGl2ZXJlZCBhcyBvcHRpb25hbCBwbHVnaW5zLlxuICogWW91IGNhbiBhY3RpdmF0ZSBkZXZlbG9wbWVudCB0b29scyBmcm9tIGBAaG9va3N0YXRlL2RldnRvb2xzYHBhY2thZ2UsXG4gKiBmb3IgZXhhbXBsZS4gSWYgbm8gZGV2ZWxvcG1lbnQgdG9vbHMgYXJlIGFjdGl2YXRlZCxcbiAqIGl0IHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgZHVtbXkgdG9vbHMsIHdoaWNoIGRvIG5vdGhpbmcsIHdoZW4gY2FsbGVkLlxuICpcbiAqIFtMZWFybiBtb3JlLi4uXShodHRwczovL2hvb2tzdGF0ZS5qcy5vcmcvZG9jcy9kZXZ0b29scylcbiAqXG4gKiBAcGFyYW0gc3RhdGUgQSBzdGF0ZSB0byByZWxhdGUgdG8gdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAcmV0dXJucyBJbnRlcmZhY2UgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgZGV2ZWxvcG1lbnQgdG9vbHMgZm9yIGEgZ2l2ZW4gc3RhdGUuXG4gKlxuICogQHR5cGVwYXJhbSBTIFR5cGUgb2YgYSB2YWx1ZSBvZiBhIHN0YXRlXG4gKi9cbmZ1bmN0aW9uIERldlRvb2xzKHN0YXRlKSB7XG4gICAgdmFyIHBsdWdpbiA9IHN0YXRlLmF0dGFjaChEZXZUb29sc0lEKTtcbiAgICBpZiAocGx1Z2luWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIEVtcHR5RGV2VG9vbHNFeHRlbnNpb25zO1xuICAgIH1cbiAgICByZXR1cm4gcGx1Z2luWzBdO1xufVxuLy8vXG4vLy8gSU5URVJOQUwgU1lNQk9MUyAoTElCUkFSWSBJTVBMRU1FTlRBVElPTilcbi8vL1xudmFyIGlzRGV2ZWxvcG1lbnRNb2RlID0gdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHByb2Nlc3MuZW52ID09PSAnb2JqZWN0JyAmJlxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xudmFyIHNlbGYgPSBTeW1ib2woJ3NlbGYnKTtcbnZhciBFbXB0eURldlRvb2xzRXh0ZW5zaW9ucyA9IHtcbiAgICBsYWJlbDogZnVuY3Rpb24gKCkgeyB9LFxuICAgIGxvZzogZnVuY3Rpb24gKCkgeyB9XG59O1xudmFyIEVycm9ySWQ7XG4oZnVuY3Rpb24gKEVycm9ySWQpIHtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJJbml0U3RhdGVUb1ZhbHVlRnJvbVN0YXRlXCJdID0gMTAxXSA9IFwiSW5pdFN0YXRlVG9WYWx1ZUZyb21TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlNldFN0YXRlVG9WYWx1ZUZyb21TdGF0ZVwiXSA9IDEwMl0gPSBcIlNldFN0YXRlVG9WYWx1ZUZyb21TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkdldFN0YXRlV2hlblByb21pc2VkXCJdID0gMTAzXSA9IFwiR2V0U3RhdGVXaGVuUHJvbWlzZWRcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJTZXRTdGF0ZVdoZW5Qcm9taXNlZFwiXSA9IDEwNF0gPSBcIlNldFN0YXRlV2hlblByb21pc2VkXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0U3RhdGVOZXN0ZWRUb1Byb21pc2VkXCJdID0gMTA1XSA9IFwiU2V0U3RhdGVOZXN0ZWRUb1Byb21pc2VkXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0U3RhdGVXaGVuRGVzdHJveWVkXCJdID0gMTA2XSA9IFwiU2V0U3RhdGVXaGVuRGVzdHJveWVkXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiVG9Kc29uX1ZhbHVlXCJdID0gMTA4XSA9IFwiVG9Kc29uX1ZhbHVlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiVG9Kc29uX1N0YXRlXCJdID0gMTA5XSA9IFwiVG9Kc29uX1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiR2V0VW5rbm93blBsdWdpblwiXSA9IDEyMF0gPSBcIkdldFVua25vd25QbHVnaW5cIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJTZXRQcm9wZXJ0eV9TdGF0ZVwiXSA9IDIwMV0gPSBcIlNldFByb3BlcnR5X1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0UHJvcGVydHlfVmFsdWVcIl0gPSAyMDJdID0gXCJTZXRQcm9wZXJ0eV9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlNldFByb3RvdHlwZU9mX1N0YXRlXCJdID0gMjAzXSA9IFwiU2V0UHJvdG90eXBlT2ZfU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJTZXRQcm90b3R5cGVPZl9WYWx1ZVwiXSA9IDIwNF0gPSBcIlNldFByb3RvdHlwZU9mX1ZhbHVlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiUHJldmVudEV4dGVuc2lvbnNfU3RhdGVcIl0gPSAyMDVdID0gXCJQcmV2ZW50RXh0ZW5zaW9uc19TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlByZXZlbnRFeHRlbnNpb25zX1ZhbHVlXCJdID0gMjA2XSA9IFwiUHJldmVudEV4dGVuc2lvbnNfVmFsdWVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJEZWZpbmVQcm9wZXJ0eV9TdGF0ZVwiXSA9IDIwN10gPSBcIkRlZmluZVByb3BlcnR5X1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiRGVmaW5lUHJvcGVydHlfVmFsdWVcIl0gPSAyMDhdID0gXCJEZWZpbmVQcm9wZXJ0eV9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkRlbGV0ZVByb3BlcnR5X1N0YXRlXCJdID0gMjA5XSA9IFwiRGVsZXRlUHJvcGVydHlfU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJEZWxldGVQcm9wZXJ0eV9WYWx1ZVwiXSA9IDIxMF0gPSBcIkRlbGV0ZVByb3BlcnR5X1ZhbHVlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiQ29uc3RydWN0X1N0YXRlXCJdID0gMjExXSA9IFwiQ29uc3RydWN0X1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiQ29uc3RydWN0X1ZhbHVlXCJdID0gMjEyXSA9IFwiQ29uc3RydWN0X1ZhbHVlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiQXBwbHlfU3RhdGVcIl0gPSAyMTNdID0gXCJBcHBseV9TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkFwcGx5X1ZhbHVlXCJdID0gMjE0XSA9IFwiQXBwbHlfVmFsdWVcIjtcbn0pKEVycm9ySWQgfHwgKEVycm9ySWQgPSB7fSkpO1xudmFyIFN0YXRlSW52YWxpZFVzYWdlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0YXRlSW52YWxpZFVzYWdlRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihwYXRoLCBpZCwgZGV0YWlscykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgXCJFcnJvcjogSE9PS1NUQVRFLVwiICsgaWQgKyBcIiBbcGF0aDogL1wiICsgcGF0aC5qb2luKCcvJykgKyAoZGV0YWlscyA/IFwiLCBkZXRhaWxzOiBcIiArIGRldGFpbHMgOiAnJykgKyBcIl0uIFwiICtcbiAgICAgICAgICAgIChcIlNlZSBodHRwczovL2hvb2tzdGF0ZS5qcy5vcmcvZG9jcy9leGNlcHRpb25zI2hvb2tzdGF0ZS1cIiArIGlkKSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0YXRlSW52YWxpZFVzYWdlRXJyb3I7XG59KEVycm9yKSk7XG5mdW5jdGlvbiBpc05vUHJveHlJbml0aWFsaXplcigpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgdXNlZCA9IG5ldyBQcm94eSh7fSwge30pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbnZhciBJc05vUHJveHkgPSBpc05vUHJveHlJbml0aWFsaXplcigpO1xudmFyIERvd25ncmFkZWRJRCA9IFN5bWJvbCgnRG93bmdyYWRlZCcpO1xudmFyIFNlbGZNZXRob2RzSUQgPSBTeW1ib2woJ1Byb3h5TWFya2VyJyk7XG52YXIgUm9vdFBhdGggPSBbXTtcbnZhciBEZXN0cm95ZWRFZGl0aW9uID0gLTE7XG52YXIgU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RvcmUoX3ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICB0aGlzLl9lZGl0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3NldFN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9kZXN0cm95U3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2JhdGNoU3RhcnRTdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hGaW5pc2hTdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fcGx1Z2lucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hlcyA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgX3ZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKF92YWx1ZSkgPT09IF92YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZWQgPSB0aGlzLmNyZWF0ZVByb21pc2VkKF92YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3ZhbHVlID09PSBub25lKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlZCA9IHRoaXMuY3JlYXRlUHJvbWlzZWQodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdG9yZS5wcm90b3R5cGUuY3JlYXRlUHJvbWlzZWQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByb21pc2VkID0gbmV3IFByb21pc2VkKG5ld1ZhbHVlID8gUHJvbWlzZS5yZXNvbHZlKG5ld1ZhbHVlKSA6IHVuZGVmaW5lZCwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9taXNlZCA9PT0gcHJvbWlzZWQgJiYgX3RoaXMuZWRpdGlvbiAhPT0gRGVzdHJveWVkRWRpdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm9taXNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXQoUm9vdFBhdGgsIHIsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKFtSb290UGF0aF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvbWlzZWQgPT09IHByb21pc2VkICYmIF90aGlzLmVkaXRpb24gIT09IERlc3Ryb3llZEVkaXRpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZWRpdGlvbiArPSAxO1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZShbUm9vdFBhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaGVzUGVuZGluZ0FjdGlvbnMgJiZcbiAgICAgICAgICAgICAgICBfdGhpcy5fdmFsdWUgIT09IG5vbmUgJiZcbiAgICAgICAgICAgICAgICBfdGhpcy5lZGl0aW9uICE9PSBEZXN0cm95ZWRFZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBfdGhpcy5fYmF0Y2hlc1BlbmRpbmdBY3Rpb25zO1xuICAgICAgICAgICAgICAgIF90aGlzLl9iYXRjaGVzUGVuZGluZ0FjdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhKCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VkO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0b3JlLnByb3RvdHlwZSwgXCJlZGl0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWRpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG9yZS5wcm90b3R5cGUsIFwicHJvbWlzZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0b3JlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fdmFsdWU7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG5vbmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbcF07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZSwgbWVyZ2VWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fZWRpdGlvbiA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHBhdGgsIEVycm9ySWQuU2V0U3RhdGVXaGVuRGVzdHJveWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIFJvb3QgdmFsdWUgVVBEQVRFIGNhc2UsXG4gICAgICAgICAgICB2YXIgb25TZXRBcmcgPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzOiB0aGlzLl92YWx1ZSxcbiAgICAgICAgICAgICAgICBtZXJnZWQ6IG1lcmdlVmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG5vbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlZCA9IHRoaXMuY3JlYXRlUHJvbWlzZWQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb25TZXRBcmcudmFsdWU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9uU2V0QXJnLnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBQcm9taXNlLnJlc29sdmUodmFsdWUpID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb21pc2VkID0gdGhpcy5jcmVhdGVQcm9taXNlZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBub25lO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvblNldEFyZy52YWx1ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb25TZXRBcmcuc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9wcm9taXNlZCAmJiAoIXRoaXMuX3Byb21pc2VkLnJlc29sdmVyICYmICF0aGlzLl9wcm9taXNlZC5mdWxsZmlsbGVkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHBhdGgsIEVycm9ySWQuU2V0U3RhdGVXaGVuUHJvbWlzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXZWYWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICAgICAgaWYgKHByZXZWYWx1ZSA9PT0gbm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvblNldEFyZy5wcmV2aW91cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmFmdGVyU2V0KG9uU2V0QXJnKTtcbiAgICAgICAgICAgIGlmIChwcmV2VmFsdWUgPT09IG5vbmUgJiYgdGhpcy5fdmFsdWUgIT09IG5vbmUgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByb21pc2VkICYmIHRoaXMucHJvbWlzZWQucmVzb2x2ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb21pc2VkLnJlc29sdmVyKHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihwYXRoLCBFcnJvcklkLlNldFN0YXRlTmVzdGVkVG9Qcm9taXNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXRbcGF0aFtpXV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHAgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChwIGluIHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBub25lKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJvcGVydHkgVVBEQVRFIGNhc2VcbiAgICAgICAgICAgICAgICB2YXIgcHJldlZhbHVlID0gdGFyZ2V0W3BdO1xuICAgICAgICAgICAgICAgIHRhcmdldFtwXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTZXQoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5fdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IHByZXZWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkOiBtZXJnZVZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQcm9wZXJ0eSBERUxFVEUgY2FzZVxuICAgICAgICAgICAgICAgIHZhciBwcmV2VmFsdWUgPSB0YXJnZXRbcF07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSAmJiB0eXBlb2YgcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNwbGljZShwLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRbcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTZXQoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5fdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZDogbWVyZ2VWYWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIGlmIGFuIGFycmF5IG9mIG9iamVjdHMgaXMgYWJvdXQgdG8gbG9vc2UgZXhpc3RpbmcgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyB3ZSBjb25zaWRlciBpdCBpcyB0aGUgd2hvbGUgb2JqZWN0IGlzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBpZGVudGlmaWVkIGJ5IHVwcGVyIHBhdGhcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSBub25lKSB7XG4gICAgICAgICAgICAvLyBQcm9wZXJ0eSBJTlNFUlQgY2FzZVxuICAgICAgICAgICAgdGFyZ2V0W3BdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmFmdGVyU2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLl92YWx1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgbWVyZ2VkOiBtZXJnZVZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGlmIGFuIGFycmF5IG9mIG9iamVjdHMgaXMgYWJvdXQgdG8gYmUgZXh0ZW5kZWQgYnkgbmV3IHByb3BlcnR5XG4gICAgICAgICAgICAvLyB3ZSBjb25zaWRlciBpdCBpcyB0aGUgd2hvbGUgb2JqZWN0IGlzIGNoYW5nZWRcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIGlkZW50aWZpZWQgYnkgdXBwZXIgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vbi1leGlzdGluZyBwcm9wZXJ0eSBERUxFVEUgY2FzZVxuICAgICAgICAvLyBuby1vcFxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAocGF0aHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JhdGNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHMgPSB0aGlzLl9iYXRjaGVzUGVuZGluZ1BhdGhzIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5fYmF0Y2hlc1BlbmRpbmdQYXRocyA9IHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHMuY29uY2F0KHBhdGhzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm9uU2V0KHBhdGhzLCBhY3Rpb25zKTsgfSk7XG4gICAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSgpOyB9KTtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5hZnRlclNldCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VkaXRpb24gIT09IERlc3Ryb3llZEVkaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRpb24gKz0gMTtcbiAgICAgICAgICAgIHRoaXMuX3NldFN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYihwYXJhbXMpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnN0YXJ0QmF0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9iYXRjaGVzICs9IDE7XG4gICAgICAgIHZhciBjYkFyZ3VtZW50ID0ge1xuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0aW9ucyAmJiAnY29udGV4dCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY2JBcmd1bWVudC5jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gbm9uZSkge1xuICAgICAgICAgICAgY2JBcmd1bWVudC5zdGF0ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JhdGNoU3RhcnRTdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoY2JBcmd1bWVudCk7IH0pO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLmZpbmlzaEJhdGNoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNiQXJndW1lbnQgPSB7XG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zICYmICdjb250ZXh0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjYkFyZ3VtZW50LmNvbnRleHQgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZhbHVlICE9PSBub25lKSB7XG4gICAgICAgICAgICBjYkFyZ3VtZW50LnN0YXRlID0gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYmF0Y2hGaW5pc2hTdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoY2JBcmd1bWVudCk7IH0pO1xuICAgICAgICB0aGlzLl9iYXRjaGVzIC09IDE7XG4gICAgICAgIGlmICh0aGlzLl9iYXRjaGVzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYmF0Y2hlc1BlbmRpbmdQYXRocykge1xuICAgICAgICAgICAgICAgIHZhciBwYXRocyA9IHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHM7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmF0Y2hlc1BlbmRpbmdQYXRocyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShwYXRocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5wb3N0cG9uZUJhdGNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9iYXRjaGVzUGVuZGluZ0FjdGlvbnMgPSB0aGlzLl9iYXRjaGVzUGVuZGluZ0FjdGlvbnMgfHwgW107XG4gICAgICAgIHRoaXMuX2JhdGNoZXNQZW5kaW5nQWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUuZ2V0UGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbklkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbHVnaW5zLmdldChwbHVnaW5JZCk7XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHZhciBleGlzdGluZ0luc3RhbmNlID0gdGhpcy5fcGx1Z2lucy5nZXQocGx1Z2luLmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGx1Z2luQ2FsbGJhY2tzID0gcGx1Z2luLmluaXQgPyBwbHVnaW4uaW5pdCh0aGlzLnRvTWV0aG9kcygpLnNlbGYpIDoge307XG4gICAgICAgIHRoaXMuX3BsdWdpbnMuc2V0KHBsdWdpbi5pZCwgcGx1Z2luQ2FsbGJhY2tzKTtcbiAgICAgICAgaWYgKHBsdWdpbkNhbGxiYWNrcy5vblNldCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0U3Vic2NyaWJlcnMuYWRkKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwbHVnaW5DYWxsYmFja3Mub25TZXQocCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbHVnaW5DYWxsYmFja3Mub25EZXN0cm95KSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U3Vic2NyaWJlcnMuYWRkKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwbHVnaW5DYWxsYmFja3Mub25EZXN0cm95KHApOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGx1Z2luQ2FsbGJhY2tzLm9uQmF0Y2hTdGFydCkge1xuICAgICAgICAgICAgdGhpcy5fYmF0Y2hTdGFydFN1YnNjcmliZXJzLmFkZChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGx1Z2luQ2FsbGJhY2tzLm9uQmF0Y2hTdGFydChwKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsdWdpbkNhbGxiYWNrcy5vbkJhdGNoRmluaXNoKSB7XG4gICAgICAgICAgICB0aGlzLl9iYXRjaEZpbmlzaFN1YnNjcmliZXJzLmFkZChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGx1Z2luQ2FsbGJhY2tzLm9uQmF0Y2hGaW5pc2gocCk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUudG9NZXRob2RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRlTWV0aG9kc0ltcGwodGhpcywgUm9vdFBhdGgsIHRoaXMuZ2V0KFJvb3RQYXRoKSwgdGhpcy5lZGl0aW9uLCBPblNldFVzZWROb0FjdGlvbik7XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMuYWRkKGwpO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMuZGVsZXRlKGwpO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lTdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoX3RoaXMuX3ZhbHVlICE9PSBub25lID8geyBzdGF0ZTogX3RoaXMuX3ZhbHVlIH0gOiB7fSk7IH0pO1xuICAgICAgICB0aGlzLl9lZGl0aW9uID0gRGVzdHJveWVkRWRpdGlvbjtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKFJvb3RQYXRoLCBFcnJvcklkLlRvSnNvbl9WYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RvcmU7XG59KCkpO1xudmFyIFByb21pc2VkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb21pc2VkKHByb21pc2UsIG9uUmVzb2x2ZSwgb25SZWplY3QsIG9uUG9zdFJlc29sdmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNvbHZlciA9IHJlc29sdmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgX3RoaXMuZnVsbGZpbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgb25SZXNvbHZlKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIF90aGlzLmZ1bGxmaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBvblJlamVjdCgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gb25Qb3N0UmVzb2x2ZSgpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2VkO1xufSgpKTtcbi8vIHVzZSBzeW1ib2wgcHJvcGVydHkgdG8gYWxsb3cgZm9yIGVhc2llciByZWZlcmVuY2UgZmluZGluZ1xudmFyIFZhbHVlVW51c2VkTWFya2VyID0gU3ltYm9sKCdWYWx1ZVVudXNlZE1hcmtlcicpO1xuZnVuY3Rpb24gT25TZXRVc2VkTm9BY3Rpb24oKSB7IH1cbi8vIHVzZSBzeW1ib2wgdG8gbWFyayB0aGF0IGEgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBhbnltb3JlXG52YXIgVW5tb3VudGVkTWFya2VyID0gU3ltYm9sKCdVbm1vdW50ZWRNYXJrZXInKTtcbk9uU2V0VXNlZE5vQWN0aW9uW1VubW91bnRlZE1hcmtlcl0gPSB0cnVlO1xudmFyIFN0YXRlTWV0aG9kc0ltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVNZXRob2RzSW1wbChzdGF0ZSwgcGF0aCwgdmFsdWVTb3VyY2UsIHZhbHVlRWRpdGlvbiwgb25TZXRVc2VkKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy52YWx1ZVNvdXJjZSA9IHZhbHVlU291cmNlO1xuICAgICAgICB0aGlzLnZhbHVlRWRpdGlvbiA9IHZhbHVlRWRpdGlvbjtcbiAgICAgICAgdGhpcy5vblNldFVzZWQgPSBvblNldFVzZWQ7XG4gICAgICAgIHRoaXMudmFsdWVDYWNoZSA9IFZhbHVlVW51c2VkTWFya2VyO1xuICAgIH1cbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5nZXRVbnRyYWNrZWQgPSBmdW5jdGlvbiAoYWxsb3dQcm9taXNlZCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZUVkaXRpb24gIT09IHRoaXMuc3RhdGUuZWRpdGlvbikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZVNvdXJjZSA9IHRoaXMuc3RhdGUuZ2V0KHRoaXMucGF0aCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlRWRpdGlvbiA9IHRoaXMuc3RhdGUuZWRpdGlvbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgbGluayBpcyBzdGlsbCBtb3VudGVkIHRvIGEgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gcG9wdWxhdGUgY2FjaGUgYWdhaW4gdG8gZW5zdXJlIGNvcnJlY3QgdHJhY2tpbmcgb2YgdXNhZ2VcbiAgICAgICAgICAgICAgICAvLyB3aGVuIFJlYWN0IHNjYW5zIHdoaWNoIHN0YXRlcyB0byByZXJlbmRlciBvbiB1cGRhdGVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZUNhY2hlICE9PSBWYWx1ZVVudXNlZE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSBWYWx1ZVVudXNlZE1hcmtlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXQodHJ1ZSk7IC8vIHJlbmV3IGNhY2hlIHRvIGtlZXAgaXQgbWFya2VkIHVzZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGxpbmsgaXMgbm90IG1vdW50ZWQgdG8gYSBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAvLyBmb3IgZXhhbXBsZSwgaXQgbWlnaHQgYmUgZ2xvYmFsIGxpbmsgb3JcbiAgICAgICAgICAgICAgICAvLyBhIGxpbmsgd2hpY2ggaGFzIGJlZW4gZGlzY2FyZGVkIGFmdGVyIHJlcmVuZGVyXG4gICAgICAgICAgICAgICAgLy8gYnV0IHN0aWxsIGNhcHR1cmVkIGJ5IHNvbWUgY2FsbGJhY2sgb3IgYW4gZWZmZWN0LlxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBoZXJlIGFuZCBpZiBpdCB3YXMgbW91bnRlZCBiZWZvcmUsXG4gICAgICAgICAgICAgICAgLy8gaXQgbWVhbnMgaXQgaGFzIG5vdCBiZWVuIGdhcmJhZ2UgY29sbGVjdGVkXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBhIGNvbXBvbmVudCB1bm1vdW50ZWQuXG4gICAgICAgICAgICAgICAgLy8gV2UgdGFrZSB0aGlzIG9wcG9ydHVuaXR5IHRvIGNsZWFuIHVwIGNhY2hlc1xuICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIG1lbW9yeSBsZWFrcyB2aWEgc3RhbGUgY2hpbGRyZW4gc3RhdGVzIGNhY2hlLlxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVDYWNoZSA9IFZhbHVlVW51c2VkTWFya2VyO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNoaWxkcmVuQ2FjaGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2VsZkNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbHVlU291cmNlID09PSBub25lICYmICFhbGxvd1Byb21pc2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5wcm9taXNlZCAmJiB0aGlzLnN0YXRlLnByb21pc2VkLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5zdGF0ZS5wcm9taXNlZC5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHRoaXMucGF0aCwgRXJyb3JJZC5HZXRTdGF0ZVdoZW5Qcm9taXNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVTb3VyY2U7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoYWxsb3dQcm9taXNlZCkge1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXRVbnRyYWNrZWQoYWxsb3dQcm9taXNlZCk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlQ2FjaGUgPT09IFZhbHVlVW51c2VkTWFya2VyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rvd25ncmFkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSB0aGlzLnZhbHVlQXJyYXlJbXBsKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnb2JqZWN0JyAmJiBjdXJyZW50VmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSB0aGlzLnZhbHVlT2JqZWN0SW1wbChjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNhY2hlID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlQ2FjaGU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuc2V0VW50cmFja2VkID0gZnVuY3Rpb24gKG5ld1ZhbHVlLCBtZXJnZVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gbmV3VmFsdWUodGhpcy5nZXRVbnRyYWNrZWQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgJiYgbmV3VmFsdWUgIT09IG51bGwgJiYgbmV3VmFsdWVbU2VsZk1ldGhvZHNJRF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHRoaXMucGF0aCwgRXJyb3JJZC5TZXRTdGF0ZVRvVmFsdWVGcm9tU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdGhpcy5zdGF0ZS5zZXQodGhpcy5wYXRoLCBuZXdWYWx1ZSwgbWVyZ2VWYWx1ZSldO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUudXBkYXRlKHRoaXMuc2V0VW50cmFja2VkKG5ld1ZhbHVlKSk7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5tZXJnZVVudHJhY2tlZCA9IGZ1bmN0aW9uIChzb3VyY2VWYWx1ZSkge1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXRVbnRyYWNrZWQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc291cmNlVmFsdWUgPSBzb3VyY2VWYWx1ZShjdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVkUGF0aHM7XG4gICAgICAgIHZhciBkZWxldGVkT3JJbnNlcnRlZFByb3BzID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFVudHJhY2tlZChjdXJyZW50VmFsdWUuY29uY2F0KHNvdXJjZVZhbHVlKSwgc291cmNlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbGV0ZWRJbmRleGVzXzEgPSBbXTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2VWYWx1ZSkuc29ydCgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gTnVtYmVyKGkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3UHJvcFZhbHVlID0gc291cmNlVmFsdWVbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcFZhbHVlID09PSBub25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkT3JJbnNlcnRlZFByb3BzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWRJbmRleGVzXzEucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkT3JJbnNlcnRlZFByb3BzID0gZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyB8fCAhKGluZGV4IGluIGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWVbaW5kZXhdID0gbmV3UHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gaW5kZXhlcyBhcmUgYXNjZW5kaW5nIHNvcnRlZCBhcyBwZXIgYWJvdmVcbiAgICAgICAgICAgICAgICAvLyBzbywgZGVsZXRlIG9uZSBieSBvbmUgZnJvbSB0aGUgZW5kXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3YXkgaW5kZXggcG9zaXRpb25zIGRvIG5vdCBjaGFuZ2VcbiAgICAgICAgICAgICAgICBkZWxldGVkSW5kZXhlc18xLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5zcGxpY2UocCwgMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFBhdGhzID0gdGhpcy5zZXRVbnRyYWNrZWQoY3VycmVudFZhbHVlLCBzb3VyY2VWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgY3VycmVudFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2VWYWx1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1Byb3BWYWx1ZSA9IHNvdXJjZVZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Byb3BWYWx1ZSA9PT0gbm9uZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVkT3JJbnNlcnRlZFByb3BzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyA9IGRlbGV0ZWRPckluc2VydGVkUHJvcHMgfHwgIShrZXkgaW4gY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlW2tleV0gPSBuZXdQcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1cGRhdGVkUGF0aHMgPSB0aGlzLnNldFVudHJhY2tlZChjdXJyZW50VmFsdWUsIHNvdXJjZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0VW50cmFja2VkKChjdXJyZW50VmFsdWUgKyBTdHJpbmcoc291cmNlVmFsdWUpKSwgc291cmNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0VW50cmFja2VkKHNvdXJjZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZFBhdGhzLmxlbmd0aCAhPT0gMSB8fCB1cGRhdGVkUGF0aHNbMF0gIT09IHRoaXMucGF0aCB8fCBkZWxldGVkT3JJbnNlcnRlZFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZFBhdGhzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVkUGF0aCA9IHVwZGF0ZWRQYXRoc1swXTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZVZhbHVlKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHVwZGF0ZWRQYXRoLnNsaWNlKCkuY29uY2F0KHApOyB9KTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKHNvdXJjZVZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUudXBkYXRlKHRoaXMubWVyZ2VVbnRyYWNrZWQoc291cmNlVmFsdWUpKTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLm5lc3RlZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQoa2V5KS5zZWxmO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUucmVyZW5kZXIgPSBmdW5jdGlvbiAocGF0aHMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGUocGF0aHMpO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuYWRkKGwpO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmRlbGV0ZShsKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZSwgXCJpc01vdW50ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5vblNldFVzZWRbVW5tb3VudGVkTWFya2VyXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLm9uVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vblNldFVzZWRbVW5tb3VudGVkTWFya2VyXSA9IHRydWU7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5vblNldCA9IGZ1bmN0aW9uIChwYXRocywgYWN0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzRG93bmdyYWRlZCAmJiBfdGhpcy52YWx1ZUNhY2hlICE9PSBWYWx1ZVVudXNlZE1hcmtlcikge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMucHVzaChfdGhpcy5vblNldFVzZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBwYXRoc18xID0gcGF0aHM7IF9pIDwgcGF0aHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhzXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdENoaWxkS2V5ID0gcGF0aFtfdGhpcy5wYXRoLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMudmFsdWVDYWNoZSAhPT0gVmFsdWVVbnVzZWRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnMucHVzaChfdGhpcy5vblNldFVzZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdENoaWxkVmFsdWUgPSBfdGhpcy5jaGlsZHJlbkNhY2hlICYmIF90aGlzLmNoaWxkcmVuQ2FjaGVbZmlyc3RDaGlsZEtleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdENoaWxkVmFsdWUgJiYgZmlyc3RDaGlsZFZhbHVlLm9uU2V0KHBhdGhzLCBhY3Rpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB1cGRhdGVkID0gdXBkYXRlKCk7XG4gICAgICAgIGlmICghdXBkYXRlZCAmJiB0aGlzLnN1YnNjcmliZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHMub25TZXQocGF0aHMsIGFjdGlvbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwia2V5c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBOdW1iZXIoaSk7IH0pLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihpKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuY2hpbGQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIC8vIGlmIHRoaXMgc3RhdGUgaXMgbm90IG1vdW50ZWQgdG8gYSBob29rLFxuICAgICAgICAvLyB3ZSBkbyBub3QgY2FjaGUgY2hpbGRyZW4gdG8gYXZvaWQgdW5uZWNlc3NhcnkgbWVtb3J5IGxlYWtzXG4gICAgICAgIGlmICh0aGlzLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbkNhY2hlID0gdGhpcy5jaGlsZHJlbkNhY2hlIHx8IHt9O1xuICAgICAgICAgICAgdmFyIGNhY2hlaGl0ID0gdGhpcy5jaGlsZHJlbkNhY2hlW2tleV07XG4gICAgICAgICAgICBpZiAoY2FjaGVoaXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVoaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBuZXcgU3RhdGVNZXRob2RzSW1wbCh0aGlzLnN0YXRlLCB0aGlzLnBhdGguc2xpY2UoKS5jb25jYXQoa2V5KSwgdGhpcy52YWx1ZVNvdXJjZVtrZXldLCB0aGlzLnZhbHVlRWRpdGlvbiwgdGhpcy5vblNldFVzZWQpO1xuICAgICAgICBpZiAodGhpcy5pc0Rvd25ncmFkZWQpIHtcbiAgICAgICAgICAgIHIuaXNEb3duZ3JhZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbkNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuQ2FjaGVba2V5XSA9IHI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS52YWx1ZUFycmF5SW1wbCA9IGZ1bmN0aW9uIChjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKElzTm9Qcm94eSkge1xuICAgICAgICAgICAgdGhpcy5pc0Rvd25ncmFkZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJveHlXcmFwKHRoaXMucGF0aCwgY3VycmVudFZhbHVlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJyZW50VmFsdWU7IH0sIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgaW4gQXJyYXkucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSA9PT0gU2VsZk1ldGhvZHNJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgIC8vIGFsbG93IGNsaWVudHMgdG8gYXNzb2NpYXRlIGhpZGRlbiBjYWNoZSB3aXRoIHN0YXRlIHZhbHVlc1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmRleCA9IE51bWJlcihrZXkpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGluZGV4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY2hpbGQoaW5kZXgpLmdldCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjbGllbnRzIHRvIGFzc29jaWF0ZSBoaWRkZW4gY2FjaGUgd2l0aCBzdGF0ZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IoX3RoaXMucGF0aCwgRXJyb3JJZC5TZXRQcm9wZXJ0eV9WYWx1ZSk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUudmFsdWVPYmplY3RJbXBsID0gZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoSXNOb1Byb3h5KSB7XG4gICAgICAgICAgICB0aGlzLmlzRG93bmdyYWRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm94eVdyYXAodGhpcy5wYXRoLCBjdXJyZW50VmFsdWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGN1cnJlbnRWYWx1ZTsgfSwgZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBTZWxmTWV0aG9kc0lEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY2xpZW50cyB0byBhc3NvY2lhdGUgaGlkZGVuIGNhY2hlIHdpdGggc3RhdGUgdmFsdWVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNoaWxkKGtleSkuZ2V0KCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgIC8vIGFsbG93IGNsaWVudHMgdG8gYXNzb2NpYXRlIGhpZGRlbiBjYWNoZSB3aXRoIHN0YXRlIHZhbHVlc1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihfdGhpcy5wYXRoLCBFcnJvcklkLlNldFByb3BlcnR5X1ZhbHVlKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwic2VsZlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGZDYWNoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGZDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnZXR0ZXIgPSBmdW5jdGlvbiAoXywga2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAndG9KU09OJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihfdGhpcy5wYXRoLCBFcnJvcklkLlRvSnNvbl9TdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXN0ZWRHZXR0ZXIgPSBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudERvd25ncmFkZWQgPSBfdGhpcy5pc0Rvd25ncmFkZWQ7IC8vIHJlbGV2YW50IGZvciBJRTExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IF90aGlzLmdldCgpOyAvLyBJRTExIG1hcmtzIHRoaXMgYXMgZG93bmdyYWRlZFxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0Rvd25ncmFkZWQgPSBjdXJyZW50RG93bmdyYWRlZDsgLy8gcmVsZXZhbnQgZm9yIElFMTEgb25seVxuICAgICAgICAgICAgICAgICAgICBpZiAoIC8vIGlmIGN1cnJlbnRWYWx1ZSBpcyBwcmltaXRpdmUgdHlwZVxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGN1cnJlbnRWYWx1ZSAhPT0gJ29iamVjdCcgfHwgY3VycmVudFZhbHVlID09PSBudWxsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgcHJvbWlzZWQsIGl0IHdpbGwgYmUgbm9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICE9PSBub25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdhcyBhbiBlcnJvciBjYXNlLCBidXQgdmFyaW91cyB0b29scyBsaWtlIHdlYnBhY2sgYnVuZGxlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJlYWN0IGRldiB0b29scyBhdHRlbXB0IHRvIGdldCBwcm9wcyBvdXQgb2Ygbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhpcyB3YXMgY2hhbmdlZCB0byByZXR1cm4ganVzdCB1bmRlZmluZWQgZm9yIGFueSBwcm9wZXJ0eSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyB0aGVyZSBpcyBubyB3YXkgdG8gZml4IDNyZCBwYXJ0eSB0b29scy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZ2dpbmcgYSB3YXJuaW5nIHRvIGNvbnNvbGUgaXMgYWxzbyBub3QgYW4gb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCBwb2xsdXRlcyBjb25zb2xlIGZvciBsZWdpdGltYXRlIGFwcHMgb24gYXBwIHN0YXJ0IGFwcC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL2F2a29uc3QvaG9va3N0YXRlL2lzc3Vlcy8xMjVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCBpbiBBcnJheS5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gTnVtYmVyKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubmVzdGVkKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubmVzdGVkKHByb3AudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXRoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wYXRoO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdrZXlzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5rZXlzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29ybnVsbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub3JudWxsO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwcm9taXNlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvbWlzZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5nZXQoKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocCkgeyByZXR1cm4gX3RoaXMuc2V0KHApOyB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtZXJnZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHApIHsgcmV0dXJuIF90aGlzLm1lcmdlKHApOyB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICduZXN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7IHJldHVybiBuZXN0ZWRHZXR0ZXIocCk7IH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JhdGNoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgY29udGV4dCkgeyByZXR1cm4gX3RoaXMuYmF0Y2goYWN0aW9uLCBjb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXR0YWNoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocCkgeyByZXR1cm4gX3RoaXMuYXR0YWNoKHApOyB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXN0cm95JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5kZXN0cm95KCk7IH07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVzdGVkR2V0dGVyKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChJc05vUHJveHkpIHtcbiAgICAgICAgICAgICAgICAvLyBtaW5pbWFsIHN1cHBvcnQgZm9yIElFMTFcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlU291cmNlKSA/IFtdIDoge30pO1xuICAgICAgICAgICAgICAgIFtzZWxmLCAndG9KU09OJywgJ3BhdGgnLCAna2V5cycsICd2YWx1ZScsICdvcm51bGwnLFxuICAgICAgICAgICAgICAgICAgICAncHJvbWlzZWQnLCAnZXJyb3InLCAnZ2V0JywgJ3NldCcsICdtZXJnZScsXG4gICAgICAgICAgICAgICAgICAgICduZXN0ZWQnLCAnYmF0Y2gnLCAnYXR0YWNoJywgJ2Rlc3Ryb3knXVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXN1bHRfMSwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldHRlcihyZXN1bHRfMSwga2V5KTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWVTb3VyY2UgPT09ICdvYmplY3QnICYmIHRoaXMudmFsdWVTb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy52YWx1ZVNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0XzEsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZXR0ZXIocmVzdWx0XzEsIGtleSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmQ2FjaGUgPSByZXN1bHRfMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxmQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGZDYWNoZSA9IHByb3h5V3JhcCh0aGlzLnBhdGgsIHRoaXMudmFsdWVTb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXQoKTsgLy8gZ2V0IGxhdGVzdCAmIG1hcmsgdXNlZFxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWx1ZVNvdXJjZTtcbiAgICAgICAgICAgIH0sIGdldHRlciwgZnVuY3Rpb24gKF8sIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihfdGhpcy5wYXRoLCBFcnJvcklkLlNldFByb3BlcnR5X1N0YXRlKTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGZDYWNoZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZSwgXCJwcm9taXNlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0KHRydWUpOyAvLyBtYXJrcyB1c2VkXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlID09PSBub25lICYmIHRoaXMuc3RhdGUucHJvbWlzZWQgJiYgIXRoaXMuc3RhdGUucHJvbWlzZWQuZnVsbGZpbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLCBcImVycm9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXQodHJ1ZSk7IC8vIG1hcmtzIHVzZWRcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09IG5vbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5wcm9taXNlZCAmJiB0aGlzLnN0YXRlLnByb21pc2VkLmZ1bGxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUucHJvbWlzZWQuZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0KCk7IC8vIHdpbGwgdGhyb3cgJ3JlYWQgd2hpbGUgcHJvbWlzZWQnIGV4Y2VwdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLmJhdGNoID0gZnVuY3Rpb24gKGFjdGlvbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3B0cyA9IHsgY29udGV4dDogY29udGV4dCB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdGFydEJhdGNoKHRoaXMucGF0aCwgb3B0cyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYWN0aW9uKHRoaXMuc2VsZik7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBwb3N0cG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9zdHBvbmVCYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5iYXRjaChhY3Rpb24sIGNvbnRleHQpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmZpbmlzaEJhdGNoKHRoaXMucGF0aCwgb3B0cyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZSwgXCJvcm51bGxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGY7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW5NZXRhID0gcCgpO1xuICAgICAgICAgICAgaWYgKHBsdWdpbk1ldGEuaWQgPT09IERvd25ncmFkZWRJRCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNEb3duZ3JhZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZUNhY2hlICE9PSBWYWx1ZVVudXNlZE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXRVbnRyYWNrZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWVDYWNoZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUucmVnaXN0ZXIocGx1Z2luTWV0YSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdldFBsdWdpbihwKSB8fFxuICAgICAgICAgICAgICAgICAgICAobmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IodGhpcy5wYXRoLCBFcnJvcklkLkdldFVua25vd25QbHVnaW4sIHAudG9TdHJpbmcoKSkpLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZU1ldGhvZHNJbXBsO1xufSgpKTtcbmZ1bmN0aW9uIHByb3h5V3JhcChwYXRoLCBcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG50YXJnZXRCb290c3RyYXAsIFxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbnRhcmdldEdldHRlciwgXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxucHJvcGVydHlHZXR0ZXIsIFxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbnByb3BlcnR5U2V0dGVyLCBpc1ZhbHVlUHJveHkpIHtcbiAgICB2YXIgb25JbnZhbGlkVXNhZ2UgPSBmdW5jdGlvbiAob3ApIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IocGF0aCwgb3ApO1xuICAgIH07XG4gICAgaWYgKHR5cGVvZiB0YXJnZXRCb290c3RyYXAgIT09ICdvYmplY3QnIHx8IHRhcmdldEJvb3RzdHJhcCA9PT0gbnVsbCkge1xuICAgICAgICB0YXJnZXRCb290c3RyYXAgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm94eSh0YXJnZXRCb290c3RyYXAsIHtcbiAgICAgICAgZ2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBzYXRpc2Z5IHRoZSBpbnZhcmlhbnRzOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHkvaGFuZGxlci9nZXRQcm90b3R5cGVPZiNJbnZhcmlhbnRzXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVhbCA9IHRhcmdldEdldHRlcigpO1xuICAgICAgICAgICAgaWYgKHRhcmdldFJlYWwgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXRSZWFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldFJlYWwpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gKHRhcmdldCwgdikge1xuICAgICAgICAgICAgcmV0dXJuIG9uSW52YWxpZFVzYWdlKGlzVmFsdWVQcm94eSA/XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5TZXRQcm90b3R5cGVPZl9TdGF0ZSA6XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5TZXRQcm90b3R5cGVPZl9WYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGlzRXh0ZW5zaWJsZTogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIHNhdGlzZnkgdGhlIGludmFyaWFudHM6XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm94eS9oYW5kbGVyL2lzRXh0ZW5zaWJsZSNJbnZhcmlhbnRzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gcmVxdWlyZWQgdG8gc2F0aXNmeSB0aGUgaW52YXJpYW50cyBvZiB0aGUgZ2V0UHJvdG90eXBlT2ZcbiAgICAgICAgICAgIC8vIHJldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb25JbnZhbGlkVXNhZ2UoaXNWYWx1ZVByb3h5ID9cbiAgICAgICAgICAgICAgICBFcnJvcklkLlByZXZlbnRFeHRlbnNpb25zX1N0YXRlIDpcbiAgICAgICAgICAgICAgICBFcnJvcklkLlByZXZlbnRFeHRlbnNpb25zX1ZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiAodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVhbCA9IHRhcmdldEdldHRlcigpO1xuICAgICAgICAgICAgaWYgKHRhcmdldFJlYWwgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXRSZWFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcmlnaW4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldFJlYWwsIHApO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiAmJiBBcnJheS5pc0FycmF5KHRhcmdldFJlYWwpICYmIHAgaW4gQXJyYXkucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW4gJiYge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBvcmlnaW4uZW51bWVyYWJsZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3BlcnR5R2V0dGVyKHRhcmdldFJlYWwsIHApOyB9LFxuICAgICAgICAgICAgICAgIHNldDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBoYXM6IGZ1bmN0aW9uICh0YXJnZXQsIHApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVhbCA9IHRhcmdldEdldHRlcigpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRSZWFsID09PSAnb2JqZWN0JyAmJiB0YXJnZXRSZWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgaW4gdGFyZ2V0UmVhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBwcm9wZXJ0eUdldHRlcixcbiAgICAgICAgc2V0OiBwcm9wZXJ0eVNldHRlcixcbiAgICAgICAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uICh0YXJnZXQsIHApIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludmFsaWRVc2FnZShpc1ZhbHVlUHJveHkgP1xuICAgICAgICAgICAgICAgIEVycm9ySWQuRGVsZXRlUHJvcGVydHlfU3RhdGUgOlxuICAgICAgICAgICAgICAgIEVycm9ySWQuRGVsZXRlUHJvcGVydHlfVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eTogZnVuY3Rpb24gKHRhcmdldCwgcCwgYXR0cmlidXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG9uSW52YWxpZFVzYWdlKGlzVmFsdWVQcm94eSA/XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5EZWZpbmVQcm9wZXJ0eV9TdGF0ZSA6XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5EZWZpbmVQcm9wZXJ0eV9WYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG93bktleXM6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRSZWFsID0gdGFyZ2V0R2V0dGVyKCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXRSZWFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXRSZWFsKS5jb25jYXQoJ2xlbmd0aCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhcmdldFJlYWwgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXRSZWFsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldFJlYWwpO1xuICAgICAgICB9LFxuICAgICAgICBhcHBseTogZnVuY3Rpb24gKHRhcmdldCwgdGhpc0FyZywgYXJnQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludmFsaWRVc2FnZShpc1ZhbHVlUHJveHkgP1xuICAgICAgICAgICAgICAgIEVycm9ySWQuQXBwbHlfU3RhdGUgOlxuICAgICAgICAgICAgICAgIEVycm9ySWQuQXBwbHlfVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ0FycmF5LCBuZXdUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludmFsaWRVc2FnZShpc1ZhbHVlUHJveHkgP1xuICAgICAgICAgICAgICAgIEVycm9ySWQuQ29uc3RydWN0X1N0YXRlIDpcbiAgICAgICAgICAgICAgICBFcnJvcklkLkNvbnN0cnVjdF9WYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWwpIHtcbiAgICB2YXIgaW5pdGlhbFZhbHVlID0gaW5pdGlhbDtcbiAgICBpZiAodHlwZW9mIGluaXRpYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluaXRpYWxWYWx1ZSA9PT0gJ29iamVjdCcgJiYgaW5pdGlhbFZhbHVlICE9PSBudWxsICYmIGluaXRpYWxWYWx1ZVtTZWxmTWV0aG9kc0lEXSkge1xuICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihSb290UGF0aCwgRXJyb3JJZC5Jbml0U3RhdGVUb1ZhbHVlRnJvbVN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdG9yZShpbml0aWFsVmFsdWUpO1xufVxuLy8gRG8gbm90IHRyeSB0byB1c2UgdXNlTGF5b3V0RWZmZWN0IGlmIERPTSBub3QgYXZhaWxhYmxlIChTU1IpXG52YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuZnVuY3Rpb24gdXNlU3Vic2NyaWJlZFN0YXRlTWV0aG9kcyhzdGF0ZSwgcGF0aCwgdXBkYXRlLCBzdWJzY3JpYmVUYXJnZXQpIHtcbiAgICB2YXIgbGluayA9IG5ldyBTdGF0ZU1ldGhvZHNJbXBsKHN0YXRlLCBwYXRoLCBzdGF0ZS5nZXQocGF0aCksIHN0YXRlLmVkaXRpb24sIHVwZGF0ZSk7XG4gICAgLy8gdXNlTGF5b3V0RWZmZWN0IGhlcmUgaW5zdGVhZCBvZiB1c2VFZmZlY3QgYmVjYXVzZSBvZiB0aGlzIGlzc3VlOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdmtvbnN0L2hvb2tzdGF0ZS9pc3N1ZXMvMTY1I2lzc3VlY29tbWVudC04MjQ2NzA5MzBcbiAgICAvLyBhbmQgdmVyeSBsaWtlbHkgdGhpcyBpc3N1ZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXZrb25zdC9ob29rc3RhdGUvaXNzdWVzLzE4NlxuICAgIC8vIGFuZCBwcm9iYWJseSB0aGlzIGlzc3VlOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdmtvbnN0L2hvb2tzdGF0ZS9pc3N1ZXMvMTQ1XG4gICAgLy8gdXNlSXNvbW9ycGhpY0xheW91dCBmb3IgYmVsb3cgaXNzdWUgd2hlbiBwYWdlIGlzIFNTUlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdmtvbnN0L2hvb2tzdGF0ZS9pc3N1ZXMvMjIzXG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN1YnNjcmliZVRhcmdldC5zdWJzY3JpYmUobGluayk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsaW5rLm9uVW5tb3VudCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlVGFyZ2V0LnVuc3Vic2NyaWJlKGxpbmspO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBsaW5rO1xufVxuXG5leHBvcnQgeyBEZXZUb29scywgRGV2VG9vbHNJRCwgRG93bmdyYWRlZCwgU3RhdGVGcmFnbWVudCwgY3JlYXRlU3RhdGUsIG5vbmUsIHBvc3Rwb25lLCB1c2VIb29rc3RhdGUsIHVzZVN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiIsImltcG9ydCB7IElkZW50aXR5UHJvdmlkZXIgfSBmcm9tICcuL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBMb2NhdGlvbkFkbWluIH0gZnJvbSAnLi9Mb2NhdGlvbkFkbWluJ1xuaW1wb3J0IHsgTG9jYXRpb25CYW4gfSBmcm9tICcuL0xvY2F0aW9uQmFuJ1xuaW1wb3J0IHsgVXNlcklkIH0gZnJvbSAnLi9Vc2VySWQnXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXBUeXBlIH0gZnJvbSAnLi9Vc2VyUmVsYXRpb25zaGlwJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTZXR0aW5nIHtcbiAgaWQ6IHN0cmluZ1xuICBzcGF0aWFsQXVkaW9FbmFibGVkOiBib29sZWFuXG4gIHZvbHVtZTogbnVtYmVyXG4gIG1pY3JvcGhvbmU6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTY29wZSB7XG4gIHR5cGU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogVXNlcklkXG4gIG5hbWU6IHN0cmluZ1xuICB1c2VyUm9sZTogc3RyaW5nXG4gIGF2YXRhcklkOiBzdHJpbmdcbiAgaWRlbnRpdHlQcm92aWRlcnM6IElkZW50aXR5UHJvdmlkZXJbXVxuICBsb2NhdGlvbkFkbWluczogTG9jYXRpb25BZG1pbltdXG4gIHJlbGF0aW9uVHlwZT86IFJlbGF0aW9uc2hpcFR5cGVcbiAgaW52ZXJzZVJlbGF0aW9uVHlwZT86IFJlbGF0aW9uc2hpcFR5cGVcbiAgYXZhdGFyVXJsPzogc3RyaW5nXG4gIGluc3RhbmNlSWQ/OiBzdHJpbmdcbiAgY2hhbm5lbEluc3RhbmNlSWQ/OiBzdHJpbmdcbiAgcGFydHlJZD86IHN0cmluZ1xuICBsb2NhdGlvbkJhbnM/OiBMb2NhdGlvbkJhbltdXG4gIHVzZXJfc2V0dGluZz86IFVzZXJTZXR0aW5nXG4gIGludml0ZUNvZGU/OiBzdHJpbmdcbiAgc2NvcGVzPzogVXNlclNjb3BlW11cbn1cblxuZXhwb3J0IGNvbnN0IFVzZXJTZWVkOiBVc2VyID0ge1xuICBpZDogJycgYXMgVXNlcklkLFxuICBuYW1lOiAnJyxcbiAgdXNlclJvbGU6ICcnLFxuICBhdmF0YXJJZDogJycsXG4gIGlkZW50aXR5UHJvdmlkZXJzOiBbXSxcbiAgbG9jYXRpb25BZG1pbnM6IFtdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlVXNlcih1c2VyOiBhbnkpOiBVc2VyIHtcbiAgbGV0IHJldHVybmVkID0gdXNlclxuICBpZiAodXNlcj8uaWRlbnRpdHlfcHJvdmlkZXJzKSB7XG4gICAgcmV0dXJuZWQgPSB7XG4gICAgICAuLi5yZXR1cm5lZCxcbiAgICAgIGlkZW50aXR5UHJvdmlkZXJzOiB1c2VyLmlkZW50aXR5X3Byb3ZpZGVyc1xuICAgIH1cbiAgfVxuICBpZiAodXNlcj8ubG9jYXRpb25fYWRtaW5zICYmIHVzZXIubG9jYXRpb25fYWRtaW5zLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm5lZCA9IHtcbiAgICAgIC4uLnJldHVybmVkLFxuICAgICAgbG9jYXRpb25BZG1pbnM6IHVzZXIubG9jYXRpb25fYWRtaW5zXG4gICAgfVxuICB9XG4gIGlmICh1c2VyPy5sb2NhdGlvbl9iYW5zICYmIHVzZXIubG9jYXRpb25fYmFucy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuZWQgPSB7XG4gICAgICAuLi5yZXR1cm5lZCxcbiAgICAgIGxvY2F0aW9uQmFuczogdXNlci5sb2NhdGlvbl9iYW5zXG4gICAgfVxuICB9XG5cbiAgLy8gY29uc29sZS5sb2coJ1JldHVybmVkIHVzZXI6JylcbiAgLy8gY29uc29sZS5sb2cocmV0dXJuZWQpXG4gIHJldHVybiByZXR1cm5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVdhbGxldFVzZXIoY3JlZGVudGlhbHM6IGFueSk6IFVzZXIge1xuICBsZXQgcmV0dXJuZWQgPSB7XG4gICAgaWQ6ICcnIGFzIFVzZXJJZCxcbiAgICBpbnN0YW5jZUlkOiBjcmVkZW50aWFscy51c2VyLmlkLFxuICAgIG5hbWU6IGNyZWRlbnRpYWxzLnVzZXIuZGlzcGxheU5hbWUsXG4gICAgdXNlclJvbGU6ICdndWVzdCcsXG4gICAgYXZhdGFySWQ6IGNyZWRlbnRpYWxzLnVzZXIuaWQsXG4gICAgaWRlbnRpdHlQcm92aWRlcnM6IFtdLFxuICAgIGxvY2F0aW9uQWRtaW5zOiBbXSxcbiAgICBhdmF0YXJVcmw6IGNyZWRlbnRpYWxzLnVzZXIuaWNvblxuICB9XG5cbiAgcmV0dXJuIHJldHVybmVkXG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIElkZW50aXR5UHJvdmlkZXIge1xuICBpZDogbnVtYmVyXG4gIHRva2VuOiBzdHJpbmdcbiAgdHlwZTogc3RyaW5nXG4gIGlzVmVyaWZpZWQ6IGJvb2xlYW5cbiAgdXNlcklkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IElkZW50aXR5UHJvdmlkZXJTZWVkOiBJZGVudGl0eVByb3ZpZGVyID0ge1xuICBpZDogMCxcbiAgdG9rZW46ICcnLFxuICB0eXBlOiAnJyxcbiAgaXNWZXJpZmllZDogZmFsc2UsXG4gIHVzZXJJZDogJydcbn1cbiIsImltcG9ydCB7IElkZW50aXR5UHJvdmlkZXIsIElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnLi9JZGVudGl0eVByb3ZpZGVyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVc2VyIHtcbiAgYWNjZXNzVG9rZW46IHN0cmluZ1xuICBhdXRoZW50aWNhdGlvbjoge1xuICAgIHN0cmF0ZWd5OiBzdHJpbmdcbiAgfVxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyXG59XG5cbmV4cG9ydCBjb25zdCBBdXRoVXNlclNlZWQgPSB7XG4gIGFjY2Vzc1Rva2VuOiAnJyxcbiAgYXV0aGVudGljYXRpb246IHtcbiAgICBzdHJhdGVneTogJydcbiAgfSxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdXRoVXNlcihyZXM6IGFueSk6IEF1dGhVc2VyIHtcbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NUb2tlbjogcmVzLmFjY2Vzc1Rva2VuLFxuICAgIGF1dGhlbnRpY2F0aW9uOiByZXMuYXV0aGVudGljYXRpb24sXG4gICAgaWRlbnRpdHlQcm92aWRlcjogcmVzWydpZGVudGl0eS1wcm92aWRlciddXG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEF1dGhBY3Rpb25UeXBlIH0gZnJvbSAnLi9BdXRoQWN0aW9uJ1xuaW1wb3J0IHsgZ2V0U3RvcmVkQXV0aFN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vcGVyc2lzdGVkLnN0b3JlJ1xuaW1wb3J0IHsgVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlcidcbmltcG9ydCB7IEF1dGhVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQXV0aFVzZXInXG5pbXBvcnQgeyBVc2VyQXZhdGFyIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyQXZhdGFyJ1xuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgYXZhdGFyTGlzdDogW10gYXMgQXJyYXk8VXNlckF2YXRhcj5cbn0pXG5cbmV4cG9ydCBjb25zdCBhdXRoUmVkdWNlciA9IChfLCBhY3Rpb246IEF1dGhBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYXV0aFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuZXhwb3J0IGNvbnN0IGF1dGhSZWNlcHRvciA9IChhY3Rpb246IEF1dGhBY3Rpb25UeXBlKTogdm9pZCA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQUNUSU9OX1BST0NFU1NJTkcnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGlzUHJvY2Vzc2luZzogYWN0aW9uLnByb2Nlc3NpbmcsIGVycm9yOiAnJyB9KVxuICAgICAgY2FzZSAnTE9HSU5fVVNFUl9TVUNDRVNTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpc0xvZ2dlZEluOiB0cnVlLCBhdXRoVXNlcjogYWN0aW9uLmF1dGhVc2VyIH0pXG4gICAgICBjYXNlICdMT0dJTl9VU0VSX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBlcnJvcjogYWN0aW9uLm1lc3NhZ2UgfSlcbiAgICAgIGNhc2UgJ0xPR0lOX1VTRVJfQllfR0lUSFVCX1NVQ0NFU1MnOlxuICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgIGNhc2UgJ0xPR0lOX1VTRVJfQllfR0lUSFVCX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBlcnJvcjogYWN0aW9uLm1lc3NhZ2UgfSlcbiAgICAgIGNhc2UgJ0xPR0lOX1VTRVJfQllfTElOS0VESU5fU1VDQ0VTUyc6XG4gICAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgY2FzZSAnTE9HSU5fVVNFUl9CWV9MSU5LRURJTl9FUlJPUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgZXJyb3I6IGFjdGlvbi5tZXNzYWdlIH0pXG4gICAgICBjYXNlICdSRUdJU1RFUl9VU0VSX0JZX0VNQUlMX1NVQ0NFU1MnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGlkZW50aXR5UHJvdmlkZXI6IGFjdGlvbi5pZGVudGl0eVByb3ZpZGVyIH0pXG4gICAgICBjYXNlICdSRUdJU1RFUl9VU0VSX0JZX0VNQUlMX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICBjYXNlICdMT0dPVVRfVVNFUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaXNMb2dnZWRJbjogZmFsc2UsIHVzZXI6IFVzZXJTZWVkLCBhdXRoVXNlcjogQXV0aFVzZXJTZWVkIH0pXG4gICAgICBjYXNlICdESURfVkVSSUZZX0VNQUlMJzpcbiAgICAgICAgcmV0dXJuIHMuaWRlbnRpdHlQcm92aWRlci5tZXJnZSh7IGlzVmVyaWZpZWQ6IGFjdGlvbi5yZXN1bHQgfSlcblxuICAgICAgY2FzZSAnTE9BREVEX1VTRVJfREFUQSc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXNlcjogYWN0aW9uLnVzZXIgfSlcbiAgICAgIGNhc2UgJ1JFU1RPUkUnOiB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IGdldFN0b3JlZEF1dGhTdGF0ZSgpXG4gICAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgICBpc0xvZ2dlZEluOiBzdG9yZWQuaXNMb2dnZWRJbixcbiAgICAgICAgICAgIGF1dGhVc2VyOiBzdG9yZWQuYXV0aFVzZXIsXG4gICAgICAgICAgICBpZGVudGl0eVByb3ZpZGVyOiBzdG9yZWQuaWRlbnRpdHlQcm92aWRlclxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICB9XG4gICAgICBjYXNlICdBVkFUQVJfVVBEQVRFRCc6IHtcbiAgICAgICAgcmV0dXJuIHMudXNlci5tZXJnZSh7IGF2YXRhclVybDogYWN0aW9uLnVybCB9KVxuICAgICAgfVxuICAgICAgY2FzZSAnVVNFUk5BTUVfVVBEQVRFRCc6IHtcbiAgICAgICAgcmV0dXJuIHMudXNlci5tZXJnZSh7IG5hbWU6IGFjdGlvbi5uYW1lIH0pXG4gICAgICB9XG4gICAgICBjYXNlICdVU0VSQVZBVEFSSURfVVBEQVRFRCc6IHtcbiAgICAgICAgcmV0dXJuIHMudXNlci5tZXJnZSh7IGF2YXRhcklkOiBhY3Rpb24uYXZhdGFySWQgfSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1VTRVJfVVBEQVRFRCc6IHtcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1c2VyOiBhY3Rpb24udXNlciB9KVxuICAgICAgfVxuICAgICAgY2FzZSAnVVBEQVRFX1VTRVJfU0VUVElOR1MnOiB7XG4gICAgICAgIHJldHVybiBzLnVzZXIubWVyZ2UoeyB1c2VyX3NldHRpbmc6IGFjdGlvbi5kYXRhIH0pXG4gICAgICB9XG4gICAgICBjYXNlICdBVkFUQVJfRkVUQ0hFRCc6IHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gYWN0aW9uLmF2YXRhckxpc3RcbiAgICAgICAgY29uc3QgYXZhdGFyRGF0YSA9IHt9XG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHJlc291cmNlcykge1xuICAgICAgICAgIGNvbnN0IHIgPSBhdmF0YXJEYXRhWyhyZXNvdXJjZSBhcyBhbnkpLm5hbWVdIHx8IHt9XG4gICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0F2YXRhciByZXNvdXJjZSBpcyBlbXB0eSwgaGF2ZSB5b3Ugc3luY2VkIGF2YXRhcnMgdG8geW91ciBzdGF0aWMgZmlsZSBzdG9yYWdlPycpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgclsocmVzb3VyY2UgYXMgYW55KS5zdGF0aWNSZXNvdXJjZVR5cGVdID0gcmVzb3VyY2VcbiAgICAgICAgICBhdmF0YXJEYXRhWyhyZXNvdXJjZSBhcyBhbnkpLm5hbWVdID0gclxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBhdmF0YXJMaXN0OiBPYmplY3Qua2V5cyhhdmF0YXJEYXRhKS5tYXAoKGtleSkgPT4gYXZhdGFyRGF0YVtrZXldKSB9KVxuICAgICAgfVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBdXRoU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUF1dGhTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlIGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGFwcGx5TWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHsgc2F2ZUF1dGhTdGF0ZSB9IGZyb20gJy4vcGVyc2lzdGVkLnN0b3JlJ1xuaW1wb3J0IHRodW5rTWlkZGxld2FyZSBmcm9tICdyZWR1eC10aHVuaydcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJ1xuaW1wb3J0IHsgY29tcG9zZVdpdGhEZXZUb29scyB9IGZyb20gJ3JlZHV4LWRldnRvb2xzLWV4dGVuc2lvbidcbmltcG9ydCB7IGFjY2Vzc0F1dGhTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhTdGF0ZSdcbmNvbnN0IGluaXRpYWxTdGF0ZTogYW55ID0gSW1tdXRhYmxlLk1hcCgpXG5jb25zdCBtaWRkbGV3YXJlID0gYXBwbHlNaWRkbGV3YXJlKHRodW5rTWlkZGxld2FyZSlcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKHJlZHVjZXJzKSB7XG4gIFN0b3JlLnN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgcmVkdWNlcnMsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIC8vIGlmIG5vdCBwcm9kdWN0aW9uLCBlbmFibGUgcmVkdXggZGV2IHRvb2xzLlxuICAgIHByb2Nlc3MuZW52LkFQUF9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG1pZGRsZXdhcmUgOiBjb21wb3NlV2l0aERldlRvb2xzKG1pZGRsZXdhcmUpXG4gIClcbiAgOyh3aW5kb3cgYXMgYW55KS5zdG9yZSA9IFN0b3JlLnN0b3JlIC8vIEV4cG9zaW5nIHRoZSBzdG9yZSB0byB3aW5kb3cgdG8gbWFrZSBpdCBpbnRlbnRpb25hbGx5IGF2YWlsYWJsZSB0byBib3RzIGFuZCBjbGllbnRzIGFuZCB3aGF0bm90XG4gIC8vIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIG9uIGFueSBzdGF0ZSBjaGFuZ2UuXG4gIFN0b3JlLnN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgc2F2ZUF1dGhTdGF0ZShhY2Nlc3NBdXRoU3RhdGUoKS52YWx1ZSlcbiAgfSlcblxuICByZXR1cm4gU3RvcmUuc3RvcmVcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmUge1xuICBzdGF0aWMgc3RvcmVcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbnZhciBndGFnID0gZnVuY3Rpb24gZ3RhZygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIF93aW5kb3c7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5ndGFnID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcblxuICAgICAgd2luZG93Lmd0YWcgPSBmdW5jdGlvbiBndGFnKCkge1xuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgKF93aW5kb3cgPSB3aW5kb3cpLmd0YWcuYXBwbHkoX3dpbmRvdywgYXJncyk7XG4gIH1cbn07XG5cbnZhciBfZGVmYXVsdCA9IGd0YWc7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmb3JtYXQ7XG52YXIgc21hbGxXb3JkcyA9IC9eKGF8YW58YW5kfGFzfGF0fGJ1dHxieXxlbnxmb3J8aWZ8aW58bm9yfG9mfG9ufG9yfHBlcnx0aGV8dG98dnM/XFwuP3x2aWEpJC9pO1xuXG5mdW5jdGlvbiB0b1RpdGxlQ2FzZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50b1N0cmluZygpLnRyaW0oKS5yZXBsYWNlKC9bQS1aYS16MC05XFx1MDBDMC1cXHUwMEZGXStbXlxccy1dKi9nLCBmdW5jdGlvbiAobWF0Y2gsIGluZGV4LCB0aXRsZSkge1xuICAgIGlmIChpbmRleCA+IDAgJiYgaW5kZXggKyBtYXRjaC5sZW5ndGggIT09IHRpdGxlLmxlbmd0aCAmJiBtYXRjaC5zZWFyY2goc21hbGxXb3JkcykgPiAtMSAmJiB0aXRsZS5jaGFyQXQoaW5kZXggLSAyKSAhPT0gXCI6XCIgJiYgKHRpdGxlLmNoYXJBdChpbmRleCArIG1hdGNoLmxlbmd0aCkgIT09IFwiLVwiIHx8IHRpdGxlLmNoYXJBdChpbmRleCAtIDEpID09PSBcIi1cIikgJiYgdGl0bGUuY2hhckF0KGluZGV4IC0gMSkuc2VhcmNoKC9bXlxccy1dLykgPCAwKSB7XG4gICAgICByZXR1cm4gbWF0Y2gudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2guc3Vic3RyKDEpLnNlYXJjaCgvW0EtWl18XFwuLi8pID4gLTEpIHtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBtYXRjaC5zdWJzdHIoMSk7XG4gIH0pO1xufSAvLyBTZWUgaWYgcyBjb3VsZCBiZSBhbiBlbWFpbCBhZGRyZXNzLiBXZSBkb24ndCB3YW50IHRvIHNlbmQgcGVyc29uYWwgZGF0YSBsaWtlIGVtYWlsLlxuLy8gaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vYW5hbHl0aWNzL2Fuc3dlci8yNzk1OTgzP2hsPWVuXG5cblxuZnVuY3Rpb24gbWlnaHRCZUVtYWlsKHMpIHtcbiAgLy8gVGhlcmUncyBubyBwb2ludCB0cnlpbmcgdG8gdmFsaWRhdGUgcmZjODIyIGZ1bGx5LCBqdXN0IGxvb2sgZm9yIC4uLkAuLi5cbiAgcmV0dXJuIHR5cGVvZiBzID09PSBcInN0cmluZ1wiICYmIHMuaW5kZXhPZihcIkBcIikgIT09IC0xO1xufVxuXG52YXIgcmVkYWN0ZWQgPSBcIlJFREFDVEVEIChQb3RlbnRpYWwgRW1haWwgQWRkcmVzcylcIjtcblxuZnVuY3Rpb24gcmVkYWN0RW1haWwoc3RyaW5nKSB7XG4gIGlmIChtaWdodEJlRW1haWwoc3RyaW5nKSkge1xuICAgIGNvbnNvbGUud2FybihcIlRoaXMgYXJnIGxvb2tzIGxpa2UgYW4gZW1haWwgYWRkcmVzcywgcmVkYWN0aW5nLlwiKTtcbiAgICByZXR1cm4gcmVkYWN0ZWQ7XG4gIH1cblxuICByZXR1cm4gc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoKSB7XG4gIHZhciBzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBcIlwiO1xuICB2YXIgdGl0bGVDYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICB2YXIgcmVkYWN0aW5nRW1haWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG5cbiAgdmFyIF9zdHIgPSBzIHx8IFwiXCI7XG5cbiAgaWYgKHRpdGxlQ2FzZSkge1xuICAgIF9zdHIgPSB0b1RpdGxlQ2FzZShzKTtcbiAgfVxuXG4gIGlmIChyZWRhY3RpbmdFbWFpbCkge1xuICAgIF9zdHIgPSByZWRhY3RFbWFpbChfc3RyKTtcbiAgfVxuXG4gIHJldHVybiBfc3RyO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBleHBvcnRzLkdBNCA9IHZvaWQgMDtcblxudmFyIF9ndGFnID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ndGFnXCIpKTtcblxudmFyIF9mb3JtYXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2Zvcm1hdFwiKSk7XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJldmVudENhdGVnb3J5XCIsIFwiZXZlbnRBY3Rpb25cIiwgXCJldmVudExhYmVsXCIsIFwiZXZlbnRWYWx1ZVwiLCBcImhpdFR5cGVcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInRpdGxlXCIsIFwibG9jYXRpb25cIl0sXG4gICAgX2V4Y2x1ZGVkMyA9IFtcInBhZ2VcIiwgXCJoaXRUeXBlXCJdLFxuICAgIF9leGNsdWRlZDQgPSBbXCJhY3Rpb25cIiwgXCJjYXRlZ29yeVwiLCBcImxhYmVsXCIsIFwidmFsdWVcIiwgXCJub25JbnRlcmFjdGlvblwiLCBcInRyYW5zcG9ydFwiXTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLypcbkxpbmtzXG5odHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ndGFnanMvcmVmZXJlbmNlL2FwaVxuaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGFnLXBsYXRmb3JtL2d0YWdqcy9yZWZlcmVuY2VcbiovXG5cbi8qKlxuICogQHR5cGVkZWYgR2FPcHRpb25zXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29va2llVXBkYXRlPXRydWVdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Nvb2tpZUV4cGlyZXM9NjMwNzIwMDBdIERlZmF1bHQgdHdvIHllYXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Nvb2tpZURvbWFpbj1cImF1dG9cIl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29va2llRmxhZ3NdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VzZXJJZF1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xpZW50SWRdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbm9ueW1pemVJcF1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29udGVudEdyb3VwMV1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29udGVudEdyb3VwMl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29udGVudEdyb3VwM11cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29udGVudEdyb3VwNF1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29udGVudEdyb3VwNV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsbG93QWRGZWF0dXJlcz10cnVlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbYWxsb3dBZFBlcnNvbmFsaXphdGlvblNpZ25hbHNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtub25JbnRlcmFjdGlvbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGFnZV1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIFVhRXZlbnRPcHRpb25zXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFjdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNhdGVnb3J5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2xhYmVsXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt2YWx1ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vbkludGVyYWN0aW9uXVxuICogQHByb3BlcnR5IHsoJ2JlYWNvbid8J3hocid8J2ltYWdlJyl9IFt0cmFuc3BvcnRdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBJbml0T3B0aW9uc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0cmFja2luZ0lkXG4gKiBAcHJvcGVydHkge0dhT3B0aW9uc3xhbnl9IFtnYU9wdGlvbnNdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2d0YWdPcHRpb25zXSBOZXcgcGFyYW1ldGVyXG4gKi9cbnZhciBHQTQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHQTQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHQTQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuX3Rlc3RNb2RlID0gZmFsc2U7XG4gICAgICBfdGhpcy5fY3VycmVudE1lYXN1cmVtZW50SWQ7XG4gICAgICBfdGhpcy5faGFzTG9hZGVkR0EgPSBmYWxzZTtcbiAgICAgIF90aGlzLl9pc1F1ZXVpbmcgPSBmYWxzZTtcbiAgICAgIF90aGlzLl9xdWV1ZUd0YWcgPSBbXTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ndGFnXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLl90ZXN0TW9kZSkge1xuICAgICAgICBpZiAoX3RoaXMuX2lzUXVldWluZykge1xuICAgICAgICAgIF90aGlzLl9xdWV1ZUd0YWcucHVzaChhcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfZ3RhZ1tcImRlZmF1bHRcIl0uYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX3F1ZXVlR3RhZy5wdXNoKGFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2xvYWRHQVwiLCBmdW5jdGlvbiAoR0FfTUVBU1VSRU1FTlRfSUQpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMuX2hhc0xvYWRlZEdBKSB7XG4gICAgICAgIC8vIEdsb2JhbCBTaXRlIFRhZyAoZ3RhZy5qcykgLSBHb29nbGUgQW5hbHl0aWNzXG4gICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICBzY3JpcHQuc3JjID0gXCJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzP2lkPVwiLmNvbmNhdChHQV9NRUFTVVJFTUVOVF9JRCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG5cbiAgICAgICAgd2luZG93Lmd0YWcgPSBmdW5jdGlvbiBndGFnKCkge1xuICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaChhcmd1bWVudHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl9oYXNMb2FkZWRHQSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdG9HdGFnT3B0aW9uc1wiLCBmdW5jdGlvbiAoZ2FPcHRpb25zKSB7XG4gICAgICBpZiAoIWdhT3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXBGaWVsZHMgPSB7XG4gICAgICAgIC8vIE9sZCBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZmllbGQtcmVmZXJlbmNlI2Nvb2tpZVVwZGF0ZVxuICAgICAgICAvLyBOZXcgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2d0YWdqcy9jb29raWVzLXVzZXItaWQjY29va2llX3VwZGF0ZVxuICAgICAgICBjb29raWVVcGRhdGU6IFwiY29va2llX3VwZGF0ZVwiLFxuICAgICAgICBjb29raWVFeHBpcmVzOiBcImNvb2tpZV9leHBpcmVzXCIsXG4gICAgICAgIGNvb2tpZURvbWFpbjogXCJjb29raWVfZG9tYWluXCIsXG4gICAgICAgIGNvb2tpZUZsYWdzOiBcImNvb2tpZV9mbGFnc1wiLFxuICAgICAgICAvLyBtdXN0IGJlIGluIHNldCBtZXRob2Q/XG4gICAgICAgIHVzZXJJZDogXCJ1c2VyX2lkXCIsXG4gICAgICAgIGNsaWVudElkOiBcImNsaWVudF9pZFwiLFxuICAgICAgICBhbm9ueW1pemVJcDogXCJhbm9ueW1pemVfaXBcIixcbiAgICAgICAgLy8gaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vYW5hbHl0aWNzL2Fuc3dlci8yODUzNTQ2P2hsPWVuI3ppcHB5PSUyQ2luLXRoaXMtYXJ0aWNsZVxuICAgICAgICBjb250ZW50R3JvdXAxOiBcImNvbnRlbnRfZ3JvdXAxXCIsXG4gICAgICAgIGNvbnRlbnRHcm91cDI6IFwiY29udGVudF9ncm91cDJcIixcbiAgICAgICAgY29udGVudEdyb3VwMzogXCJjb250ZW50X2dyb3VwM1wiLFxuICAgICAgICBjb250ZW50R3JvdXA0OiBcImNvbnRlbnRfZ3JvdXA0XCIsXG4gICAgICAgIGNvbnRlbnRHcm91cDU6IFwiY29udGVudF9ncm91cDVcIixcbiAgICAgICAgLy8gaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vYW5hbHl0aWNzL2Fuc3dlci85MDUwODUyP2hsPWVuXG4gICAgICAgIGFsbG93QWRGZWF0dXJlczogXCJhbGxvd19nb29nbGVfc2lnbmFsc1wiLFxuICAgICAgICBhbGxvd0FkUGVyc29uYWxpemF0aW9uU2lnbmFsczogXCJhbGxvd19hZF9wZXJzb25hbGl6YXRpb25fc2lnbmFsc1wiLFxuICAgICAgICBub25JbnRlcmFjdGlvbjogXCJub25faW50ZXJhY3Rpb25cIixcbiAgICAgICAgcGFnZTogXCJwYWdlX3BhdGhcIixcbiAgICAgICAgaGl0Q2FsbGJhY2s6IFwiZXZlbnRfY2FsbGJhY2tcIlxuICAgICAgfTtcbiAgICAgIHZhciBndGFnT3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGdhT3B0aW9ucykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xuXG4gICAgICAgIGlmIChtYXBGaWVsZHNba2V5XSkge1xuICAgICAgICAgIHByZXZbbWFwRmllbGRzW2tleV1dID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldltrZXldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgIH0sIHt9KTtcbiAgICAgIHJldHVybiBndGFnT3B0aW9ucztcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRpYWxpemVcIiwgZnVuY3Rpb24gKEdBX01FQVNVUkVNRU5UX0lEKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIGlmICghR0FfTUVBU1VSRU1FTlRfSUQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZSBHQV9NRUFTVVJFTUVOVF9JRFwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluaXRDb25maWdzID0gdHlwZW9mIEdBX01FQVNVUkVNRU5UX0lEID09PSBcInN0cmluZ1wiID8gW3tcbiAgICAgICAgdHJhY2tpbmdJZDogR0FfTUVBU1VSRU1FTlRfSURcbiAgICAgIH1dIDogR0FfTUVBU1VSRU1FTlRfSUQ7XG4gICAgICBfdGhpcy5fY3VycmVudE1lYXN1cmVtZW50SWQgPSBpbml0Q29uZmlnc1swXS50cmFja2luZ0lkO1xuICAgICAgdmFyIF9vcHRpb25zJHRlc3RNb2RlID0gb3B0aW9ucy50ZXN0TW9kZSxcbiAgICAgICAgICB0ZXN0TW9kZSA9IF9vcHRpb25zJHRlc3RNb2RlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHRlc3RNb2RlLFxuICAgICAgICAgIGdhT3B0aW9ucyA9IG9wdGlvbnMuZ2FPcHRpb25zLFxuICAgICAgICAgIGd0YWdPcHRpb25zID0gb3B0aW9ucy5ndGFnT3B0aW9ucztcbiAgICAgIF90aGlzLl90ZXN0TW9kZSA9IHRlc3RNb2RlO1xuXG4gICAgICBpZiAoIXRlc3RNb2RlKSB7XG4gICAgICAgIF90aGlzLl9sb2FkR0EoX3RoaXMuX2N1cnJlbnRNZWFzdXJlbWVudElkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIF90aGlzLl9ndGFnKFwianNcIiwgbmV3IERhdGUoKSk7XG5cbiAgICAgICAgaW5pdENvbmZpZ3MuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgdmFyIG1lcmdlZEd0YWdPcHRpb25zID0gX3RoaXMuX2FwcGVuZEN1c3RvbU1hcChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vZ3RhZ2pzL3BhZ2VzI2Rpc2FibGVfcGFnZXZpZXdfbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIHNlbmRfcGFnZV92aWV3OiBmYWxzZVxuICAgICAgICAgIH0sIF90aGlzLl90b0d0YWdPcHRpb25zKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZ2FPcHRpb25zKSwgY29uZmlnLmdhT3B0aW9ucykpKSwgZ3RhZ09wdGlvbnMpLCBjb25maWcuZ2FPcHRpb25zKSk7XG5cbiAgICAgICAgICBfdGhpcy5fZ3RhZyhcImNvbmZpZ1wiLCBjb25maWcudHJhY2tpbmdJZCwgbWVyZ2VkR3RhZ09wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgIGlmICghdGVzdE1vZGUpIHtcbiAgICAgICAgdmFyIHF1ZXVlcyA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5fcXVldWVHdGFnKTtcblxuICAgICAgICBfdGhpcy5fcXVldWVHdGFnID0gW107XG4gICAgICAgIF90aGlzLl9pc1F1ZXVpbmcgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAocXVldWVzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBxdWV1ZSA9IHF1ZXVlcy5zaGlmdCgpO1xuXG4gICAgICAgICAgX3RoaXMuX2d0YWcuYXBwbHkoX3RoaXMsIF90b0NvbnN1bWFibGVBcnJheShxdWV1ZSkpO1xuXG4gICAgICAgICAgaWYgKHF1ZXVlWzBdID09PSBcImdldFwiKSB7XG4gICAgICAgICAgICBfdGhpcy5faXNRdWV1aW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldFwiLCBmdW5jdGlvbiAoZmllbGRzT2JqZWN0KSB7XG4gICAgICBpZiAoIWZpZWxkc09iamVjdCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJgZmllbGRzT2JqZWN0YCBpcyByZXF1aXJlZCBpbiAuc2V0KClcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90eXBlb2YoZmllbGRzT2JqZWN0KSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJFeHBlY3RlZCBgZmllbGRzT2JqZWN0YCBhcmcgdG8gYmUgYW4gT2JqZWN0XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhmaWVsZHNPYmplY3QpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJlbXB0eSBgZmllbGRzT2JqZWN0YCBnaXZlbiB0byAuc2V0KClcIik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9nYUNvbW1hbmQoXCJzZXRcIiwgZmllbGRzT2JqZWN0KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZW5kRXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50Q2F0ZWdvcnksIGV2ZW50QWN0aW9uLCBldmVudExhYmVsLCBldmVudFZhbHVlLCBmaWVsZHNPYmplY3QpIHtcbiAgICAgIF90aGlzLl9ndGFnKFwiZXZlbnRcIiwgZXZlbnRBY3Rpb24sIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGV2ZW50X2NhdGVnb3J5OiBldmVudENhdGVnb3J5LFxuICAgICAgICBldmVudF9sYWJlbDogZXZlbnRMYWJlbCxcbiAgICAgICAgdmFsdWU6IGV2ZW50VmFsdWVcbiAgICAgIH0sIGZpZWxkc09iamVjdCAmJiB7XG4gICAgICAgIG5vbl9pbnRlcmFjdGlvbjogZmllbGRzT2JqZWN0Lm5vbkludGVyYWN0aW9uXG4gICAgICB9KSwgX3RoaXMuX3RvR3RhZ09wdGlvbnMoZmllbGRzT2JqZWN0KSkpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dhQ29tbWFuZFNlbmRFdmVudFBhcmFtZXRlcnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kRXZlbnQuYXBwbHkoX3RoaXMsIF90b0NvbnN1bWFibGVBcnJheShhcmdzLnNsaWNlKDEpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2FyZ3MkID0gYXJnc1swXSxcbiAgICAgICAgICAgIGV2ZW50Q2F0ZWdvcnkgPSBfYXJncyQuZXZlbnRDYXRlZ29yeSxcbiAgICAgICAgICAgIGV2ZW50QWN0aW9uID0gX2FyZ3MkLmV2ZW50QWN0aW9uLFxuICAgICAgICAgICAgZXZlbnRMYWJlbCA9IF9hcmdzJC5ldmVudExhYmVsLFxuICAgICAgICAgICAgZXZlbnRWYWx1ZSA9IF9hcmdzJC5ldmVudFZhbHVlLFxuICAgICAgICAgICAgaGl0VHlwZSA9IF9hcmdzJC5oaXRUeXBlLFxuICAgICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfYXJncyQsIF9leGNsdWRlZCk7XG5cbiAgICAgICAgX3RoaXMuX2dhQ29tbWFuZFNlbmRFdmVudChldmVudENhdGVnb3J5LCBldmVudEFjdGlvbiwgZXZlbnRMYWJlbCwgZXZlbnRWYWx1ZSwgcmVzdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2FDb21tYW5kU2VuZFRpbWluZ1wiLCBmdW5jdGlvbiAodGltaW5nQ2F0ZWdvcnksIHRpbWluZ1ZhciwgdGltaW5nVmFsdWUsIHRpbWluZ0xhYmVsKSB7XG4gICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIFwidGltaW5nX2NvbXBsZXRlXCIsIHtcbiAgICAgICAgbmFtZTogdGltaW5nVmFyLFxuICAgICAgICB2YWx1ZTogdGltaW5nVmFsdWUsXG4gICAgICAgIGV2ZW50X2NhdGVnb3J5OiB0aW1pbmdDYXRlZ29yeSxcbiAgICAgICAgZXZlbnRfbGFiZWw6IHRpbWluZ0xhYmVsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZW5kUGFnZXZpZXdcIiwgZnVuY3Rpb24gKHBhZ2UsIGZpZWxkc09iamVjdCkge1xuICAgICAgaWYgKGZpZWxkc09iamVjdCAmJiBPYmplY3Qua2V5cyhmaWVsZHNPYmplY3QpLmxlbmd0aCkge1xuICAgICAgICB2YXIgX3RoaXMkX3RvR3RhZ09wdGlvbnMgPSBfdGhpcy5fdG9HdGFnT3B0aW9ucyhmaWVsZHNPYmplY3QpLFxuICAgICAgICAgICAgdGl0bGUgPSBfdGhpcyRfdG9HdGFnT3B0aW9ucy50aXRsZSxcbiAgICAgICAgICAgIGxvY2F0aW9uID0gX3RoaXMkX3RvR3RhZ09wdGlvbnMubG9jYXRpb24sXG4gICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJF90b0d0YWdPcHRpb25zLCBfZXhjbHVkZWQyKTtcblxuICAgICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIFwicGFnZV92aWV3XCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhZ2UgJiYge1xuICAgICAgICAgIHBhZ2VfcGF0aDogcGFnZVxuICAgICAgICB9KSwgdGl0bGUgJiYge1xuICAgICAgICAgIHBhZ2VfdGl0bGU6IHRpdGxlXG4gICAgICAgIH0pLCBsb2NhdGlvbiAmJiB7XG4gICAgICAgICAgcGFnZV9sb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSksIHJlc3QpKTtcbiAgICAgIH0gZWxzZSBpZiAocGFnZSkge1xuICAgICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIFwicGFnZV92aWV3XCIsIHtcbiAgICAgICAgICBwYWdlX3BhdGg6IHBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIFwicGFnZV92aWV3XCIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dhQ29tbWFuZFNlbmRQYWdldmlld1BhcmFtZXRlcnNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kUGFnZXZpZXcuYXBwbHkoX3RoaXMsIF90b0NvbnN1bWFibGVBcnJheShhcmdzLnNsaWNlKDEpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2FyZ3MkMiA9IGFyZ3NbMF0sXG4gICAgICAgICAgICBwYWdlID0gX2FyZ3MkMi5wYWdlLFxuICAgICAgICAgICAgaGl0VHlwZSA9IF9hcmdzJDIuaGl0VHlwZSxcbiAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX2FyZ3MkMiwgX2V4Y2x1ZGVkMyk7XG5cbiAgICAgICAgX3RoaXMuX2dhQ29tbWFuZFNlbmRQYWdldmlldyhwYWdlLCByZXN0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHZhciBoaXRUeXBlID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBhcmdzWzBdIDogYXJnc1swXS5oaXRUeXBlO1xuXG4gICAgICBzd2l0Y2ggKGhpdFR5cGUpIHtcbiAgICAgICAgY2FzZSBcImV2ZW50XCI6XG4gICAgICAgICAgX3RoaXMuX2dhQ29tbWFuZFNlbmRFdmVudFBhcmFtZXRlcnMuYXBwbHkoX3RoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInBhZ2V2aWV3XCI6XG4gICAgICAgICAgX3RoaXMuX2dhQ29tbWFuZFNlbmRQYWdldmlld1BhcmFtZXRlcnMuYXBwbHkoX3RoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInRpbWluZ1wiOlxuICAgICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kVGltaW5nLmFwcGx5KF90aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncy5zbGljZSgxKSkpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInNjcmVlbnZpZXdcIjpcbiAgICAgICAgY2FzZSBcInRyYW5zYWN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJpdGVtXCI6XG4gICAgICAgIGNhc2UgXCJzb2NpYWxcIjpcbiAgICAgICAgY2FzZSBcImV4Y2VwdGlvblwiOlxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuc3VwcG9ydGVkIHNlbmQgY29tbWFuZDogXCIuY29uY2F0KGhpdFR5cGUpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlNlbmQgY29tbWFuZCBkb2Vzbid0IGV4aXN0OiBcIi5jb25jYXQoaGl0VHlwZSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dhQ29tbWFuZFNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXJnc1swXSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9ndGFnKFwic2V0XCIsIF90aGlzLl90b0d0YWdPcHRpb25zKGFyZ3NbMF0pKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRcIiwgZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiA+IDEgPyBfbGVuNiAtIDEgOiAwKSwgX2tleTYgPSAxOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTYgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xuICAgICAgICBjYXNlIFwic2VuZFwiOlxuICAgICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kLmFwcGx5KF90aGlzLCBhcmdzKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICBfdGhpcy5fZ2FDb21tYW5kU2V0LmFwcGx5KF90aGlzLCBhcmdzKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiQ29tbWFuZCBkb2Vzbid0IGV4aXN0OiBcIi5jb25jYXQoY29tbWFuZCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2FcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmQuYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlYWR5Q2FsbGJhY2sgPSBhcmdzWzBdO1xuXG4gICAgICAgIF90aGlzLl9ndGFnKFwiZ2V0XCIsIF90aGlzLl9jdXJyZW50TWVhc3VyZW1lbnRJZCwgXCJjbGllbnRfaWRcIiwgZnVuY3Rpb24gKGNsaWVudElkKSB7XG4gICAgICAgICAgX3RoaXMuX2lzUXVldWluZyA9IGZhbHNlO1xuICAgICAgICAgIHZhciBxdWV1ZXMgPSBfdGhpcy5fcXVldWVHdGFnO1xuICAgICAgICAgIHJlYWR5Q2FsbGJhY2soe1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5ID09PSBcImNsaWVudElkXCIgPyBjbGllbnRJZCA6IHByb3BlcnR5ID09PSBcInRyYWNraW5nSWRcIiA/IF90aGlzLl9jdXJyZW50TWVhc3VyZW1lbnRJZCA6IHByb3BlcnR5ID09PSBcImFwaVZlcnNpb25cIiA/IFwiMVwiIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgd2hpbGUgKHF1ZXVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IHF1ZXVlcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICBfdGhpcy5fZ3RhZy5hcHBseShfdGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KHF1ZXVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5faXNRdWV1aW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLmdhO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRcIiwgZnVuY3Rpb24gKG9wdGlvbnNPck5hbWUsIHBhcmFtcykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zT3JOYW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIF90aGlzLl9ndGFnKFwiZXZlbnRcIiwgb3B0aW9uc09yTmFtZSwgX3RoaXMuX3RvR3RhZ09wdGlvbnMocGFyYW1zKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYWN0aW9uID0gb3B0aW9uc09yTmFtZS5hY3Rpb24sXG4gICAgICAgICAgICBjYXRlZ29yeSA9IG9wdGlvbnNPck5hbWUuY2F0ZWdvcnksXG4gICAgICAgICAgICBsYWJlbCA9IG9wdGlvbnNPck5hbWUubGFiZWwsXG4gICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbnNPck5hbWUudmFsdWUsXG4gICAgICAgICAgICBub25JbnRlcmFjdGlvbiA9IG9wdGlvbnNPck5hbWUubm9uSW50ZXJhY3Rpb24sXG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBvcHRpb25zT3JOYW1lLnRyYW5zcG9ydCxcbiAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9uc09yTmFtZSwgX2V4Y2x1ZGVkNCk7XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeSB8fCAhYWN0aW9uKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiYXJncy5jYXRlZ29yeSBBTkQgYXJncy5hY3Rpb24gYXJlIHJlcXVpcmVkIGluIGV2ZW50KClcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFJlcXVpcmVkIEZpZWxkc1xuXG5cbiAgICAgICAgdmFyIGZpZWxkT2JqZWN0ID0ge1xuICAgICAgICAgIGhpdFR5cGU6IFwiZXZlbnRcIixcbiAgICAgICAgICBldmVudENhdGVnb3J5OiAoMCwgX2Zvcm1hdFtcImRlZmF1bHRcIl0pKGNhdGVnb3J5KSxcbiAgICAgICAgICBldmVudEFjdGlvbjogKDAsIF9mb3JtYXRbXCJkZWZhdWx0XCJdKShhY3Rpb24pXG4gICAgICAgIH07IC8vIE9wdGlvbmFsIEZpZWxkc1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgIGZpZWxkT2JqZWN0LmV2ZW50TGFiZWwgPSAoMCwgX2Zvcm1hdFtcImRlZmF1bHRcIl0pKGxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFeHBlY3RlZCBgYXJncy52YWx1ZWAgYXJnIHRvIGJlIGEgTnVtYmVyLlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGRPYmplY3QuZXZlbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygbm9uSW50ZXJhY3Rpb24gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG5vbkludGVyYWN0aW9uICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYGFyZ3Mubm9uSW50ZXJhY3Rpb25gIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGRPYmplY3Qubm9uSW50ZXJhY3Rpb24gPSBub25JbnRlcmFjdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRyYW5zcG9ydCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJgYXJncy50cmFuc3BvcnRgIG11c3QgYmUgYSBzdHJpbmcuXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoW1wiYmVhY29uXCIsIFwieGhyXCIsIFwiaW1hZ2VcIl0uaW5kZXhPZih0cmFuc3BvcnQpID09PSAtMSkge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJgYXJncy50cmFuc3BvcnRgIG11c3QgYmUgZWl0aGVyIG9uZSBvZiB0aGVzZSB2YWx1ZXM6IGBiZWFjb25gLCBgeGhyYCBvciBgaW1hZ2VgXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWVsZE9iamVjdC50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmtleXMocmVzdCkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBcImRpbWVuc2lvblwiLmxlbmd0aCkgPT09IFwiZGltZW5zaW9uXCI7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGZpZWxkT2JqZWN0W2tleV0gPSByZXN0W2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhyZXN0KS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIFwibWV0cmljXCIubGVuZ3RoKSA9PT0gXCJtZXRyaWNcIjtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgZmllbGRPYmplY3Rba2V5XSA9IHJlc3Rba2V5XTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2dhQ29tbWFuZChcInNlbmRcIiwgZmllbGRPYmplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2VuZFwiLCBmdW5jdGlvbiAoZmllbGRPYmplY3QpIHtcbiAgICAgIF90aGlzLl9nYUNvbW1hbmQoXCJzZW5kXCIsIGZpZWxkT2JqZWN0KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2V2aWV3XCIsIGZ1bmN0aW9uIChwYXRoLCBfLCB0aXRsZSkge1xuICAgICAgdmFyIHBhdGhUcmltID0gcGF0aCA9PT0gbnVsbCB8fCBwYXRoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXRoLnRyaW0oKTtcblxuICAgICAgaWYgKHBhdGhUcmltID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInBhdGggY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZyBpbiAucGFnZXZpZXcoKVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fZ2FDb21tYW5kKFwic2VuZFwiLCBcInBhZ2V2aWV3XCIsIHBhdGhUcmltLCB7XG4gICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR0E0LCBbe1xuICAgIGtleTogXCJfYXBwZW5kQ3VzdG9tTWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRDdXN0b21NYXAob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zLmN1c3RvbV9tYXApIHtcbiAgICAgICAgb3B0aW9ucy5jdXN0b21fbWFwID0ge307XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDIwMDsgaSsrKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5jdXN0b21fbWFwW1wiZGltZW5zaW9uXCIuY29uY2F0KGkpXSkge1xuICAgICAgICAgIG9wdGlvbnMuY3VzdG9tX21hcFtcImRpbWVuc2lvblwiLmNvbmNhdChpKV0gPSBcImRpbWVuc2lvblwiLmNvbmNhdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5jdXN0b21fbWFwW1wibWV0cmljXCIuY29uY2F0KGkpXSkge1xuICAgICAgICAgIG9wdGlvbnMuY3VzdG9tX21hcFtcIm1ldHJpY1wiLmNvbmNhdChpKV0gPSBcIm1ldHJpY1wiLmNvbmNhdChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHNpbmNlIHYxLjAuMlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGF0aD1cImxvY2F0aW9uLmhyZWZcIl1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbX10gdW5zdXBwb3J0ZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RpdGxlPVwibG9jYXRpb24ucGF0aG5hbWVcIl1cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5zZW5kKFwicGFnZXZpZXdcIilgIGluc3RlYWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm91dGJvdW5kTGlua1wiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIEBzaW5jZSB2MS4wLjZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmxhYmVsXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGl0Q2FsbGJhY2tcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG91dGJvdW5kTGluayhfcmVmMywgaGl0Q2FsbGJhY2spIHtcbiAgICAgIHZhciBsYWJlbCA9IF9yZWYzLmxhYmVsO1xuXG4gICAgICBpZiAodHlwZW9mIGhpdENhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiaGl0Q2FsbGJhY2sgZnVuY3Rpb24gaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFsYWJlbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJhcmdzLmxhYmVsIGlzIHJlcXVpcmVkIGluIG91dGJvdW5kTGluaygpXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFJlcXVpcmVkIEZpZWxkc1xuXG5cbiAgICAgIHZhciBmaWVsZE9iamVjdCA9IHtcbiAgICAgICAgaGl0VHlwZTogXCJldmVudFwiLFxuICAgICAgICBldmVudENhdGVnb3J5OiBcIk91dGJvdW5kXCIsXG4gICAgICAgIGV2ZW50QWN0aW9uOiBcIkNsaWNrXCIsXG4gICAgICAgIGV2ZW50TGFiZWw6ICgwLCBfZm9ybWF0W1wiZGVmYXVsdFwiXSkobGFiZWwpXG4gICAgICB9O1xuICAgICAgdmFyIHNhZmV0eUNhbGxiYWNrQ2FsbGVkID0gZmFsc2U7XG5cbiAgICAgIHZhciBzYWZldHlDYWxsYmFjayA9IGZ1bmN0aW9uIHNhZmV0eUNhbGxiYWNrKCkge1xuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIGEgZGVsYXllZCByZXNwb25zZSBmcm9tIEdBXG4gICAgICAgIC8vIGNhdXNpbmcgaGl0Q2FsbGJhY2sgZnJvbSBiZWluZyBmaXJlZCB0d2ljZVxuICAgICAgICBzYWZldHlDYWxsYmFja0NhbGxlZCA9IHRydWU7XG4gICAgICAgIGhpdENhbGxiYWNrKCk7XG4gICAgICB9OyAvLyBVc2luZyBhIHRpbWVvdXQgdG8gZW5zdXJlIHRoZSBleGVjdXRpb24gb2YgY3JpdGljYWwgYXBwbGljYXRpb24gY29kZVxuICAgICAgLy8gaW4gdGhlIGNhc2Ugd2hlbiB0aGUgR0Egc2VydmVyIG1pZ2h0IGJlIGRvd25cbiAgICAgIC8vIG9yIGFuIGFkIGJsb2NrZXIgcHJldmVudHMgc2VuZGluZyB0aGUgZGF0YVxuICAgICAgLy8gcmVnaXN0ZXIgc2FmZXR5IG5ldCB0aW1lb3V0OlxuXG5cbiAgICAgIHZhciB0ID0gc2V0VGltZW91dChzYWZldHlDYWxsYmFjaywgMjUwKTtcblxuICAgICAgdmFyIGNsZWFyYWJsZUNhbGxiYWNrRm9yR0EgPSBmdW5jdGlvbiBjbGVhcmFibGVDYWxsYmFja0ZvckdBKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG5cbiAgICAgICAgaWYgKCFzYWZldHlDYWxsYmFja0NhbGxlZCkge1xuICAgICAgICAgIGhpdENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZpZWxkT2JqZWN0LmhpdENhbGxiYWNrID0gY2xlYXJhYmxlQ2FsbGJhY2tGb3JHQTtcblxuICAgICAgdGhpcy5fZ2FDb21tYW5kKFwic2VuZFwiLCBmaWVsZE9iamVjdCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdBNDtcbn0oKTtcblxuZXhwb3J0cy5HQTQgPSBHQTQ7XG5cbnZhciBfZGVmYXVsdCA9IG5ldyBHQTQoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdm9pZCAwO1xuXG52YXIgX2dhID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9nYTRcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2dhW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX2RlZmF1bHQ7IiwiLy8gVE9ETzogQWRkIGNvbmZpZyB2YXIgZm9yIGFuYWx5dGljcyBJRFxuaW1wb3J0IFJlYWN0R0EgZnJvbSAncmVhY3QtZ2E0J1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvY29uZmlnJ1xuXG5leHBvcnQgY29uc3QgaW5pdEdBID0gKCkgPT4ge1xuICBpZiAoQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcuZ2FNZWFzdXJlbWVudElkICYmIENvbmZpZy5wdWJsaWNSdW50aW1lQ29uZmlnLmdhTWVhc3VyZW1lbnRJZC5sZW5ndGggPiAwKVxuICAgIFJlYWN0R0EuaW5pdGlhbGl6ZShDb25maWcucHVibGljUnVudGltZUNvbmZpZy5nYU1lYXN1cmVtZW50SWQpXG59XG5cbmV4cG9ydCBjb25zdCBsb2dQYWdlVmlldyA9ICgpID0+IHtcbiAgUmVhY3RHQS5zZW5kKHsgaGl0VHlwZTogJ3BhZ2V2aWV3JywgcGFnZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIH0pXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVHbG9iYWxTdHlsZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgRWRpdG9yVGhlbWUgfSBmcm9tICcuL3RoZW1lJ1xuXG4vKipcbiAqIEdsb2JhbFN0eWxlIGNvbXBvbmVudCB1c2VkIHRvIHByb3ZpZGUgY29tbW9uIHN0eWxlcyBhbGwgb3ZlciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAYXV0aG9yIFJvYmVydCBMb25nXG4gKiBAdHlwZSB7c3R5bGVkIGNvbXBvbmVudH1cbiAqL1xuY29uc3QgR2xvYmFsU3R5bGUgPSBjcmVhdGVHbG9iYWxTdHlsZTx7IHRoZW1lOiBFZGl0b3JUaGVtZSB9PmBcbiAgLyohIG1pbmlyZXNldC5jc3MgdjAuMC40IHwgTUlUIExpY2Vuc2UgfCBnaXRodWIuY29tL2pndGhtcy9taW5pcmVzZXQuY3NzICovXG4gIGh0bWwsXG4gIGJvZHksXG4gIHAsXG4gIG9sLFxuICB1bCxcbiAgbGksXG4gIGRsLFxuICBkdCxcbiAgZGQsXG4gIGJsb2NrcXVvdGUsXG4gIGZpZ3VyZSxcbiAgZmllbGRzZXQsXG4gIGxlZ2VuZCxcbiAgdGV4dGFyZWEsXG4gIHByZSxcbiAgaWZyYW1lLFxuICBocixcbiAgaDEsXG4gIGgyLFxuICBoMyxcbiAgaDQsXG4gIGg1LFxuICBoNiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cblxuICBoMSxcbiAgaDIsXG4gIGgzLFxuICBoNCxcbiAgaDUsXG4gIGg2IHtcbiAgICBmb250LXNpemU6IDEwMCU7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgfVxuXG4gIHVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICB9XG5cbiAgYnV0dG9uLFxuICBpbnB1dCxcbiAgc2VsZWN0LFxuICB0ZXh0YXJlYSB7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5cbiAgaHRtbCB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuXG4gICosICo6YmVmb3JlLCAqOmFmdGVyIHtcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICB9XG5cbiAgaW1nLFxuICBlbWJlZCxcbiAgaWZyYW1lLFxuICBvYmplY3QsXG4gIHZpZGVvIHtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICB9XG5cbiAgYXVkaW8ge1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgfVxuXG4gIGlmcmFtZSB7XG4gICAgYm9yZGVyOiAwO1xuICB9XG5cbiAgdGFibGUge1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgYm9yZGVyLXNwYWNpbmc6IDA7XG4gIH1cblxuICB0ZCxcbiAgdGgge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgfVxuXG4gIC8qIHNjcm9sbGJhci13aWR0aCBpcyBub3QgaW5oZXJpdGVkIHNvIGFwcGx5IHRvIGFsbCBlbGVtZW50cy4gKi9cbiAgKiB7XG4gICAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluO1xuICB9XG5cbiAgOjpzZWxlY3Rpb24ge1xuICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUudGV4dH07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnNlbGVjdGVkfTtcbiAgfVxuXG4gIGEge1xuICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUudGV4dH07XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuYmx1ZUhvdmVyfTtcbiAgICB9XG5cbiAgICAmOmFjdGl2ZSB7XG4gICAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmJsdWVQcmVzc2VkfTtcbiAgICB9XG4gIH1cblxuICBodG1sLCBib2R5IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAjYXBwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgbWluLWhlaWdodDogMTAwdmg7XG4gIH1cblxuICBtYWluIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZmxleDogMTtcbiAgfVxuXG4gIGJvZHkge1xuICAgIGZvbnQtZmFtaWx5OiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUubGF0b307XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUudGV4dH07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmJhY2tncm91bmR9O1xuICAgIHNjcm9sbGJhci1jb2xvcjogIzI4MmMzMSAjNWQ2NDZjO1xuICB9XG5cbiAgLk1vZGFsIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4OiAxO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICBib3gtc2hhZG93OiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuc2hhZG93MzB9O1xuICAgIG1hcmdpbi1ib3R0b206IDEwdmg7XG4gIH1cblxuICAuT3ZlcmxheSB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICB9XG5cbiAgLlJlYWN0TW9kYWxfX092ZXJsYXktLWFmdGVyLW9wZW4ge1xuICAgIHotaW5kZXg6IDEwMDtcbiAgfVxuXG4gIC5zZW50cnktZXJyb3ItZW1iZWQge1xuICAgIC5mb3JtLWZpZWxkIHtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgfVxuXG4gICAgLmZvcm0tZmllbGQ6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxuYFxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsU3R5bGVcbiIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QoaXRlbSkge1xuICByZXR1cm4gaXRlbSAmJiBfdHlwZW9mKGl0ZW0pID09PSAnb2JqZWN0JyAmJiBpdGVtLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWVwbWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHtcbiAgICBjbG9uZTogdHJ1ZVxuICB9O1xuICB2YXIgb3V0cHV0ID0gb3B0aW9ucy5jbG9uZSA/IF9leHRlbmRzKHt9LCB0YXJnZXQpIDogdGFyZ2V0O1xuXG4gIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIC8vIEF2b2lkIHByb3RvdHlwZSBwb2xsdXRpb25cbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pICYmIGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgb3V0cHV0W2tleV0gPSBkZWVwbWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufSIsIi8qKlxuICogV0FSTklORzogRG9uJ3QgaW1wb3J0IHRoaXMgZGlyZWN0bHkuXG4gKiBVc2UgYE11aUVycm9yYCBmcm9tIGBAbWF0ZXJpYWwtdWkvdXRpbHMvbWFjcm9zL011aUVycm9yLm1hY3JvYCBpbnN0ZWFkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0TXVpRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgLy8gQXBwbHkgYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS10ZW1wbGF0ZS1saXRlcmFscyBpbiBsb29zZSBtb2RlXG4gIC8vIGxvb3NlIG1vZGUgaXMgc2FmZSBpZmYgd2UncmUgY29uY2F0ZW5hdGluZyBwcmltaXRpdmVzXG4gIC8vIHNlZSBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXRlbXBsYXRlLWxpdGVyYWxzI2xvb3NlXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXRlbXBsYXRlICovXG4gIHZhciB1cmwgPSAnaHR0cHM6Ly9tYXRlcmlhbC11aS5jb20vcHJvZHVjdGlvbi1lcnJvci8/Y29kZT0nICsgY29kZTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIC8vIHJlc3QgcGFyYW1zIG92ZXItdHJhbnNwaWxlIGZvciB0aGlzIGNhc2VcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgdXJsICs9ICcmYXJnc1tdPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW2ldKTtcbiAgfVxuXG4gIHJldHVybiAnTWluaWZpZWQgTWF0ZXJpYWwtVUkgZXJyb3IgIycgKyBjb2RlICsgJzsgdmlzaXQgJyArIHVybCArICcgZm9yIHRoZSBmdWxsIG1lc3NhZ2UuJztcbiAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItdGVtcGxhdGUgKi9cbn0iLCJpbXBvcnQgeyBmb3JtYXRNdWlFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdE11aUVycm9yTWVzc2FnZSB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvdXRpbHNcIjtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cblxuLyoqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIHdob3NlIHZhbHVlIGlzIGxpbWl0ZWQgdG8gdGhlIGdpdmVuIHJhbmdlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYmUgY2xhbXBlZFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbG93ZXIgYm91bmRhcnkgb2YgdGhlIG91dHB1dCByYW5nZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgdXBwZXIgYm91bmRhcnkgb2YgdGhlIG91dHB1dCByYW5nZVxuICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgaW4gdGhlIHJhbmdlIFttaW4sIG1heF1cbiAqL1xuZnVuY3Rpb24gY2xhbXAodmFsdWUpIHtcbiAgdmFyIG1pbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIG1heCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1hdGVyaWFsLVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgXCIuY29uY2F0KHZhbHVlLCBcIiBpcyBvdXQgb2YgcmFuZ2UgW1wiKS5jb25jYXQobWluLCBcIiwgXCIpLmNvbmNhdChtYXgsIFwiXS5cIikpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChtaW4sIHZhbHVlKSwgbWF4KTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIENTUyBoZXggZm9ybWF0IHRvIENTUyByZ2IgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEhleCBjb2xvciwgaS5lLiAjbm5uIG9yICNubm5ubm5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIHJnYiBjb2xvciBzdHJpbmdcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihjb2xvcikge1xuICBjb2xvciA9IGNvbG9yLnN1YnN0cigxKTtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIi57MSxcIi5jb25jYXQoY29sb3IubGVuZ3RoID49IDYgPyAyIDogMSwgXCJ9XCIpLCAnZycpO1xuICB2YXIgY29sb3JzID0gY29sb3IubWF0Y2gocmUpO1xuXG4gIGlmIChjb2xvcnMgJiYgY29sb3JzWzBdLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuICsgbjtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcnMgPyBcInJnYlwiLmNvbmNhdChjb2xvcnMubGVuZ3RoID09PSA0ID8gJ2EnIDogJycsIFwiKFwiKS5jb25jYXQoY29sb3JzLm1hcChmdW5jdGlvbiAobiwgaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPCAzID8gcGFyc2VJbnQobiwgMTYpIDogTWF0aC5yb3VuZChwYXJzZUludChuLCAxNikgLyAyNTUgKiAxMDAwKSAvIDEwMDA7XG4gIH0pLmpvaW4oJywgJyksIFwiKVwiKSA6ICcnO1xufVxuXG5mdW5jdGlvbiBpbnRUb0hleChpbnQpIHtcbiAgdmFyIGhleCA9IGludC50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gXCIwXCIuY29uY2F0KGhleCkgOiBoZXg7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBDU1MgcmdiIGZvcm1hdCB0byBDU1MgaGV4IGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBSR0IgY29sb3IsIGkuZS4gcmdiKG4sIG4sIG4pXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyByZ2IgY29sb3Igc3RyaW5nLCBpLmUuICNubm5ubm5cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci5pbmRleE9mKCcjJykgPT09IDApIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICB2YXIgX2RlY29tcG9zZUNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpLFxuICAgICAgdmFsdWVzID0gX2RlY29tcG9zZUNvbG9yLnZhbHVlcztcblxuICByZXR1cm4gXCIjXCIuY29uY2F0KHZhbHVlcy5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gaW50VG9IZXgobik7XG4gIH0pLmpvaW4oJycpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIGhzbCBmb3JtYXQgdG8gcmdiIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBIU0wgY29sb3IgdmFsdWVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZ2IgY29sb3IgdmFsdWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbFRvUmdiKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YXIgX2NvbG9yID0gY29sb3IsXG4gICAgICB2YWx1ZXMgPSBfY29sb3IudmFsdWVzO1xuICB2YXIgaCA9IHZhbHVlc1swXTtcbiAgdmFyIHMgPSB2YWx1ZXNbMV0gLyAxMDA7XG4gIHZhciBsID0gdmFsdWVzWzJdIC8gMTAwO1xuICB2YXIgYSA9IHMgKiBNYXRoLm1pbihsLCAxIC0gbCk7XG5cbiAgdmFyIGYgPSBmdW5jdGlvbiBmKG4pIHtcbiAgICB2YXIgayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogKG4gKyBoIC8gMzApICUgMTI7XG4gICAgcmV0dXJuIGwgLSBhICogTWF0aC5tYXgoTWF0aC5taW4oayAtIDMsIDkgLSBrLCAxKSwgLTEpO1xuICB9O1xuXG4gIHZhciB0eXBlID0gJ3JnYic7XG4gIHZhciByZ2IgPSBbTWF0aC5yb3VuZChmKDApICogMjU1KSwgTWF0aC5yb3VuZChmKDgpICogMjU1KSwgTWF0aC5yb3VuZChmKDQpICogMjU1KV07XG5cbiAgaWYgKGNvbG9yLnR5cGUgPT09ICdoc2xhJykge1xuICAgIHR5cGUgKz0gJ2EnO1xuICAgIHJnYi5wdXNoKHZhbHVlc1szXSk7XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3Ioe1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdmFsdWVzOiByZ2JcbiAgfSk7XG59XG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgYW5kIHZhbHVlcyBvZiBhIGNvbG9yLlxuICpcbiAqIE5vdGU6IERvZXMgbm90IHN1cHBvcnQgcmdiICUgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gQSBNVUkgY29sb3Igb2JqZWN0OiB7dHlwZTogc3RyaW5nLCB2YWx1ZXM6IG51bWJlcltdfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXBvc2VDb2xvcihjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci50eXBlKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgaWYgKGNvbG9yLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgcmV0dXJuIGRlY29tcG9zZUNvbG9yKGhleFRvUmdiKGNvbG9yKSk7XG4gIH1cblxuICB2YXIgbWFya2VyID0gY29sb3IuaW5kZXhPZignKCcpO1xuICB2YXIgdHlwZSA9IGNvbG9yLnN1YnN0cmluZygwLCBtYXJrZXIpO1xuXG4gIGlmIChbJ3JnYicsICdyZ2JhJywgJ2hzbCcsICdoc2xhJ10uaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJNYXRlcmlhbC1VSTogVW5zdXBwb3J0ZWQgYFwiLmNvbmNhdChjb2xvciwgXCJgIGNvbG9yLlxcbldlIHN1cHBvcnQgdGhlIGZvbGxvd2luZyBmb3JtYXRzOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLlwiKSA6IF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UoMywgY29sb3IpKTtcbiAgfVxuXG4gIHZhciB2YWx1ZXMgPSBjb2xvci5zdWJzdHJpbmcobWFya2VyICsgMSwgY29sb3IubGVuZ3RoIC0gMSkuc3BsaXQoJywnKTtcbiAgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdmFsdWVzOiB2YWx1ZXNcbiAgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBvYmplY3Qgd2l0aCB0eXBlIGFuZCB2YWx1ZXMgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbG9yIC0gRGVjb21wb3NlZCBjb2xvclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yLnR5cGUgLSBPbmUgb2Y6ICdyZ2InLCAncmdiYScsICdoc2wnLCAnaHNsYSdcbiAqIEBwYXJhbSB7YXJyYXl9IGNvbG9yLnZhbHVlcyAtIFtuLG4sbl0gb3IgW24sbixuLG5dXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmdcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVjb21wb3NlQ29sb3IoY29sb3IpIHtcbiAgdmFyIHR5cGUgPSBjb2xvci50eXBlO1xuICB2YXIgdmFsdWVzID0gY29sb3IudmFsdWVzO1xuXG4gIGlmICh0eXBlLmluZGV4T2YoJ3JnYicpICE9PSAtMSkge1xuICAgIC8vIE9ubHkgY29udmVydCB0aGUgZmlyc3QgMyB2YWx1ZXMgdG8gaW50IChpLmUuIG5vdCBhbHBoYSlcbiAgICB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICByZXR1cm4gaSA8IDMgPyBwYXJzZUludChuLCAxMCkgOiBuO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGUuaW5kZXhPZignaHNsJykgIT09IC0xKSB7XG4gICAgdmFsdWVzWzFdID0gXCJcIi5jb25jYXQodmFsdWVzWzFdLCBcIiVcIik7XG4gICAgdmFsdWVzWzJdID0gXCJcIi5jb25jYXQodmFsdWVzWzJdLCBcIiVcIik7XG4gIH1cblxuICByZXR1cm4gXCJcIi5jb25jYXQodHlwZSwgXCIoXCIpLmNvbmNhdCh2YWx1ZXMuam9pbignLCAnKSwgXCIpXCIpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb250cmFzdCByYXRpbyBiZXR3ZWVuIHR3byBjb2xvcnMuXG4gKlxuICogRm9ybXVsYTogaHR0cHM6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9HMTcuaHRtbCNHMTctdGVzdHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9yZWdyb3VuZCAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHJldHVybnMge251bWJlcn0gQSBjb250cmFzdCByYXRpbyB2YWx1ZSBpbiB0aGUgcmFuZ2UgMCAtIDIxLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgdmFyIGx1bUEgPSBnZXRMdW1pbmFuY2UoZm9yZWdyb3VuZCk7XG4gIHZhciBsdW1CID0gZ2V0THVtaW5hbmNlKGJhY2tncm91bmQpO1xuICByZXR1cm4gKE1hdGgubWF4KGx1bUEsIGx1bUIpICsgMC4wNSkgLyAoTWF0aC5taW4obHVtQSwgbHVtQikgKyAwLjA1KTtcbn1cbi8qKlxuICogVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgYW55IHBvaW50IGluIGEgY29sb3Igc3BhY2UsXG4gKiBub3JtYWxpemVkIHRvIDAgZm9yIGRhcmtlc3QgYmxhY2sgYW5kIDEgZm9yIGxpZ2h0ZXN0IHdoaXRlLlxuICpcbiAqIEZvcm11bGE6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAtVEVDSFMvRzE3Lmh0bWwjRzE3LXRlc3RzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHJldHVybnMge251bWJlcn0gVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgdGhlIGNvbG9yIGluIHRoZSByYW5nZSAwIC0gMVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMdW1pbmFuY2UoY29sb3IpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIHZhciByZ2IgPSBjb2xvci50eXBlID09PSAnaHNsJyA/IGRlY29tcG9zZUNvbG9yKGhzbFRvUmdiKGNvbG9yKSkudmFsdWVzIDogY29sb3IudmFsdWVzO1xuICByZ2IgPSByZ2IubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YWwgLz0gMjU1OyAvLyBub3JtYWxpemVkXG5cbiAgICByZXR1cm4gdmFsIDw9IDAuMDM5MjggPyB2YWwgLyAxMi45MiA6IE1hdGgucG93KCh2YWwgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbiAgfSk7IC8vIFRydW5jYXRlIGF0IDMgZGlnaXRzXG5cbiAgcmV0dXJuIE51bWJlcigoMC4yMTI2ICogcmdiWzBdICsgMC43MTUyICogcmdiWzFdICsgMC4wNzIyICogcmdiWzJdKS50b0ZpeGVkKDMpKTtcbn1cbi8qKlxuICogRGFya2VuIG9yIGxpZ2h0ZW4gYSBjb2xvciwgZGVwZW5kaW5nIG9uIGl0cyBsdW1pbmFuY2UuXG4gKiBMaWdodCBjb2xvcnMgYXJlIGRhcmtlbmVkLCBkYXJrIGNvbG9ycyBhcmUgbGlnaHRlbmVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2VmZmljaWVudD0wLjE1IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVtcGhhc2l6ZShjb2xvcikge1xuICB2YXIgY29lZmZpY2llbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDAuMTU7XG4gIHJldHVybiBnZXRMdW1pbmFuY2UoY29sb3IpID4gMC41ID8gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCkgOiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCk7XG59XG52YXIgd2FybmVkT25jZSA9IGZhbHNlO1xuLyoqXG4gKiBTZXQgdGhlIGFic29sdXRlIHRyYW5zcGFyZW5jeSBvZiBhIGNvbG9yLlxuICogQW55IGV4aXN0aW5nIGFscGhhIHZhbHVlcyBhcmUgb3ZlcndyaXR0ZW4uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdmFsdWUgdG8gc2V0IHRoZSBhbHBoYSBjaGFubmVsIHRvIGluIHRoZSByYW5nZSAwIC0xXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBVc2UgYGltcG9ydCB7IGFscGhhIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJ2AgaW5zdGVhZC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmFkZShjb2xvciwgdmFsdWUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgIHdhcm5lZE9uY2UgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihbJ01hdGVyaWFsLVVJOiBUaGUgYGZhZGVgIGNvbG9yIHV0aWxpdHkgd2FzIHJlbmFtZWQgdG8gYGFscGhhYCB0byBiZXR0ZXIgZGVzY3JpYmUgaXRzIGZ1bmN0aW9uYWxpdHkuJywgJycsIFwiWW91IHNob3VsZCB1c2UgYGltcG9ydCB7IGFscGhhIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJ2BcIl0uam9pbignXFxuJykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhbHBoYShjb2xvciwgdmFsdWUpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGFic29sdXRlIHRyYW5zcGFyZW5jeSBvZiBhIGNvbG9yLlxuICogQW55IGV4aXN0aW5nIGFscGhhIHZhbHVlIGlzIG92ZXJ3cml0dGVuLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIHNldCB0aGUgYWxwaGEgY2hhbm5lbCB0byBpbiB0aGUgcmFuZ2UgMC0xXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbHBoYShjb2xvciwgdmFsdWUpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIHZhbHVlID0gY2xhbXAodmFsdWUpO1xuXG4gIGlmIChjb2xvci50eXBlID09PSAncmdiJyB8fCBjb2xvci50eXBlID09PSAnaHNsJykge1xuICAgIGNvbG9yLnR5cGUgKz0gJ2EnO1xuICB9XG5cbiAgY29sb3IudmFsdWVzWzNdID0gdmFsdWU7XG4gIHJldHVybiByZWNvbXBvc2VDb2xvcihjb2xvcik7XG59XG4vKipcbiAqIERhcmtlbnMgYSBjb2xvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQgLSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgY29lZmZpY2llbnQgPSBjbGFtcChjb2VmZmljaWVudCk7XG5cbiAgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZignaHNsJykgIT09IC0xKSB7XG4gICAgY29sb3IudmFsdWVzWzJdICo9IDEgLSBjb2VmZmljaWVudDtcbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ3JnYicpICE9PSAtMSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKj0gMSAtIGNvZWZmaWNpZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWNvbXBvc2VDb2xvcihjb2xvcik7XG59XG4vKipcbiAqIExpZ2h0ZW5zIGEgY29sb3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxpZ2h0ZW4oY29sb3IsIGNvZWZmaWNpZW50KSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb2VmZmljaWVudCA9IGNsYW1wKGNvZWZmaWNpZW50KTtcblxuICBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdoc2wnKSAhPT0gLTEpIHtcbiAgICBjb2xvci52YWx1ZXNbMl0gKz0gKDEwMCAtIGNvbG9yLnZhbHVlc1syXSkgKiBjb2VmZmljaWVudDtcbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ3JnYicpICE9PSAtMSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKz0gKDI1NSAtIGNvbG9yLnZhbHVlc1tpXSkgKiBjb2VmZmljaWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbi8vIFNvcnRlZCBBU0MgYnkgc2l6ZS4gVGhhdCdzIGltcG9ydGFudC5cbi8vIEl0IGNhbid0IGJlIGNvbmZpZ3VyZWQgYXMgaXQncyB1c2VkIHN0YXRpY2FsbHkgZm9yIHByb3BUeXBlcy5cbmV4cG9ydCB2YXIga2V5cyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXTsgLy8gS2VlcCBpbiBtaW5kIHRoYXQgQG1lZGlhIGlzIGluY2x1c2l2ZSBieSB0aGUgQ1NTIHNwZWNpZmljYXRpb24uXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzKSB7XG4gIHZhciBfYnJlYWtwb2ludHMkdmFsdWVzID0gYnJlYWtwb2ludHMudmFsdWVzLFxuICAgICAgdmFsdWVzID0gX2JyZWFrcG9pbnRzJHZhbHVlcyA9PT0gdm9pZCAwID8ge1xuICAgIHhzOiAwLFxuICAgIHNtOiA2MDAsXG4gICAgbWQ6IDk2MCxcbiAgICBsZzogMTI4MCxcbiAgICB4bDogMTkyMFxuICB9IDogX2JyZWFrcG9pbnRzJHZhbHVlcyxcbiAgICAgIF9icmVha3BvaW50cyR1bml0ID0gYnJlYWtwb2ludHMudW5pdCxcbiAgICAgIHVuaXQgPSBfYnJlYWtwb2ludHMkdW5pdCA9PT0gdm9pZCAwID8gJ3B4JyA6IF9icmVha3BvaW50cyR1bml0LFxuICAgICAgX2JyZWFrcG9pbnRzJHN0ZXAgPSBicmVha3BvaW50cy5zdGVwLFxuICAgICAgc3RlcCA9IF9icmVha3BvaW50cyRzdGVwID09PSB2b2lkIDAgPyA1IDogX2JyZWFrcG9pbnRzJHN0ZXAsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhicmVha3BvaW50cywgW1widmFsdWVzXCIsIFwidW5pdFwiLCBcInN0ZXBcIl0pO1xuXG4gIGZ1bmN0aW9uIHVwKGtleSkge1xuICAgIHZhciB2YWx1ZSA9IHR5cGVvZiB2YWx1ZXNba2V5XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5XSA6IGtleTtcbiAgICByZXR1cm4gXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodmFsdWUpLmNvbmNhdCh1bml0LCBcIilcIik7XG4gIH1cblxuICBmdW5jdGlvbiBkb3duKGtleSkge1xuICAgIHZhciBlbmRJbmRleCA9IGtleXMuaW5kZXhPZihrZXkpICsgMTtcbiAgICB2YXIgdXBwZXJib3VuZCA9IHZhbHVlc1trZXlzW2VuZEluZGV4XV07XG5cbiAgICBpZiAoZW5kSW5kZXggPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAvLyB4bCBkb3duIGFwcGxpZXMgdG8gYWxsIHNpemVzXG4gICAgICByZXR1cm4gdXAoJ3hzJyk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gdHlwZW9mIHVwcGVyYm91bmQgPT09ICdudW1iZXInICYmIGVuZEluZGV4ID4gMCA/IHVwcGVyYm91bmQgOiBrZXk7XG4gICAgcmV0dXJuIFwiQG1lZGlhIChtYXgtd2lkdGg6XCIuY29uY2F0KHZhbHVlIC0gc3RlcCAvIDEwMCkuY29uY2F0KHVuaXQsIFwiKVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJldHdlZW4oc3RhcnQsIGVuZCkge1xuICAgIHZhciBlbmRJbmRleCA9IGtleXMuaW5kZXhPZihlbmQpO1xuXG4gICAgaWYgKGVuZEluZGV4ID09PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiB1cChzdGFydCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiQG1lZGlhIChtaW4td2lkdGg6XCIuY29uY2F0KHR5cGVvZiB2YWx1ZXNbc3RhcnRdID09PSAnbnVtYmVyJyA/IHZhbHVlc1tzdGFydF0gOiBzdGFydCkuY29uY2F0KHVuaXQsIFwiKSBhbmQgXCIpICsgXCIobWF4LXdpZHRoOlwiLmNvbmNhdCgoZW5kSW5kZXggIT09IC0xICYmIHR5cGVvZiB2YWx1ZXNba2V5c1tlbmRJbmRleCArIDFdXSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5c1tlbmRJbmRleCArIDFdXSA6IGVuZCkgLSBzdGVwIC8gMTAwKS5jb25jYXQodW5pdCwgXCIpXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25seShrZXkpIHtcbiAgICByZXR1cm4gYmV0d2VlbihrZXksIGtleSk7XG4gIH1cblxuICB2YXIgd2FybmVkT25jZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHdpZHRoKGtleSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgICAgd2FybmVkT25jZSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUud2FybihbXCJNYXRlcmlhbC1VSTogVGhlIGB0aGVtZS5icmVha3BvaW50cy53aWR0aGAgdXRpbGl0eSBpcyBkZXByZWNhdGVkIGJlY2F1c2UgaXQncyByZWR1bmRhbnQuXCIsICdVc2UgdGhlIGB0aGVtZS5icmVha3BvaW50cy52YWx1ZXNgIGluc3RlYWQuJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXNba2V5XTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAga2V5czoga2V5cyxcbiAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICB1cDogdXAsXG4gICAgZG93bjogZG93bixcbiAgICBiZXR3ZWVuOiBiZXR3ZWVuLFxuICAgIG9ubHk6IG9ubHksXG4gICAgd2lkdGg6IHdpZHRoXG4gIH0sIG90aGVyKTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNaXhpbnMoYnJlYWtwb2ludHMsIHNwYWNpbmcsIG1peGlucykge1xuICB2YXIgX3Rvb2xiYXI7XG5cbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBndXR0ZXJzOiBmdW5jdGlvbiBndXR0ZXJzKCkge1xuICAgICAgdmFyIHN0eWxlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBjb25zb2xlLndhcm4oWydNYXRlcmlhbC1VSTogdGhlbWUubWl4aW5zLmd1dHRlcnMoKSBpcyBkZXByZWNhdGVkLicsICdZb3UgY2FuIHVzZSB0aGUgc291cmNlIG9mIHRoZSBtaXhpbiBkaXJlY3RseTonLCBcIlxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygyKSxcXG4gICAgICBbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3NtJyldOiB7XFxuICAgICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygzKSxcXG4gICAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygzKSxcXG4gICAgICB9LFxcbiAgICAgIFwiXS5qb2luKCdcXG4nKSk7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICBwYWRkaW5nTGVmdDogc3BhY2luZygyKSxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBzcGFjaW5nKDIpXG4gICAgICB9LCBzdHlsZXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgYnJlYWtwb2ludHMudXAoJ3NtJyksIF9leHRlbmRzKHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHNwYWNpbmcoMyksXG4gICAgICAgIHBhZGRpbmdSaWdodDogc3BhY2luZygzKVxuICAgICAgfSwgc3R5bGVzW2JyZWFrcG9pbnRzLnVwKCdzbScpXSkpKTtcbiAgICB9LFxuICAgIHRvb2xiYXI6IChfdG9vbGJhciA9IHtcbiAgICAgIG1pbkhlaWdodDogNTZcbiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX3Rvb2xiYXIsIFwiXCIuY29uY2F0KGJyZWFrcG9pbnRzLnVwKCd4cycpLCBcIiBhbmQgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpXCIpLCB7XG4gICAgICBtaW5IZWlnaHQ6IDQ4XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfdG9vbGJhciwgYnJlYWtwb2ludHMudXAoJ3NtJyksIHtcbiAgICAgIG1pbkhlaWdodDogNjRcbiAgICB9KSwgX3Rvb2xiYXIpXG4gIH0sIG1peGlucyk7XG59IiwidmFyIGNvbW1vbiA9IHtcbiAgYmxhY2s6ICcjMDAwJyxcbiAgd2hpdGU6ICcjZmZmJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGNvbW1vbjsiLCJ2YXIgZ3JleSA9IHtcbiAgNTA6ICcjZmFmYWZhJyxcbiAgMTAwOiAnI2Y1ZjVmNScsXG4gIDIwMDogJyNlZWVlZWUnLFxuICAzMDA6ICcjZTBlMGUwJyxcbiAgNDAwOiAnI2JkYmRiZCcsXG4gIDUwMDogJyM5ZTllOWUnLFxuICA2MDA6ICcjNzU3NTc1JyxcbiAgNzAwOiAnIzYxNjE2MScsXG4gIDgwMDogJyM0MjQyNDInLFxuICA5MDA6ICcjMjEyMTIxJyxcbiAgQTEwMDogJyNkNWQ1ZDUnLFxuICBBMjAwOiAnI2FhYWFhYScsXG4gIEE0MDA6ICcjMzAzMDMwJyxcbiAgQTcwMDogJyM2MTYxNjEnXG59O1xuZXhwb3J0IGRlZmF1bHQgZ3JleTsiLCJ2YXIgaW5kaWdvID0ge1xuICA1MDogJyNlOGVhZjYnLFxuICAxMDA6ICcjYzVjYWU5JyxcbiAgMjAwOiAnIzlmYThkYScsXG4gIDMwMDogJyM3OTg2Y2InLFxuICA0MDA6ICcjNWM2YmMwJyxcbiAgNTAwOiAnIzNmNTFiNScsXG4gIDYwMDogJyMzOTQ5YWInLFxuICA3MDA6ICcjMzAzZjlmJyxcbiAgODAwOiAnIzI4MzU5MycsXG4gIDkwMDogJyMxYTIzN2UnLFxuICBBMTAwOiAnIzhjOWVmZicsXG4gIEEyMDA6ICcjNTM2ZGZlJyxcbiAgQTQwMDogJyMzZDVhZmUnLFxuICBBNzAwOiAnIzMwNGZmZSdcbn07XG5leHBvcnQgZGVmYXVsdCBpbmRpZ287IiwidmFyIHBpbmsgPSB7XG4gIDUwOiAnI2ZjZTRlYycsXG4gIDEwMDogJyNmOGJiZDAnLFxuICAyMDA6ICcjZjQ4ZmIxJyxcbiAgMzAwOiAnI2YwNjI5MicsXG4gIDQwMDogJyNlYzQwN2EnLFxuICA1MDA6ICcjZTkxZTYzJyxcbiAgNjAwOiAnI2Q4MWI2MCcsXG4gIDcwMDogJyNjMjE4NWInLFxuICA4MDA6ICcjYWQxNDU3JyxcbiAgOTAwOiAnIzg4MGU0ZicsXG4gIEExMDA6ICcjZmY4MGFiJyxcbiAgQTIwMDogJyNmZjQwODEnLFxuICBBNDAwOiAnI2Y1MDA1NycsXG4gIEE3MDA6ICcjYzUxMTYyJ1xufTtcbmV4cG9ydCBkZWZhdWx0IHBpbms7IiwidmFyIHJlZCA9IHtcbiAgNTA6ICcjZmZlYmVlJyxcbiAgMTAwOiAnI2ZmY2RkMicsXG4gIDIwMDogJyNlZjlhOWEnLFxuICAzMDA6ICcjZTU3MzczJyxcbiAgNDAwOiAnI2VmNTM1MCcsXG4gIDUwMDogJyNmNDQzMzYnLFxuICA2MDA6ICcjZTUzOTM1JyxcbiAgNzAwOiAnI2QzMmYyZicsXG4gIDgwMDogJyNjNjI4MjgnLFxuICA5MDA6ICcjYjcxYzFjJyxcbiAgQTEwMDogJyNmZjhhODAnLFxuICBBMjAwOiAnI2ZmNTI1MicsXG4gIEE0MDA6ICcjZmYxNzQ0JyxcbiAgQTcwMDogJyNkNTAwMDAnXG59O1xuZXhwb3J0IGRlZmF1bHQgcmVkOyIsInZhciBvcmFuZ2UgPSB7XG4gIDUwOiAnI2ZmZjNlMCcsXG4gIDEwMDogJyNmZmUwYjInLFxuICAyMDA6ICcjZmZjYzgwJyxcbiAgMzAwOiAnI2ZmYjc0ZCcsXG4gIDQwMDogJyNmZmE3MjYnLFxuICA1MDA6ICcjZmY5ODAwJyxcbiAgNjAwOiAnI2ZiOGMwMCcsXG4gIDcwMDogJyNmNTdjMDAnLFxuICA4MDA6ICcjZWY2YzAwJyxcbiAgOTAwOiAnI2U2NTEwMCcsXG4gIEExMDA6ICcjZmZkMTgwJyxcbiAgQTIwMDogJyNmZmFiNDAnLFxuICBBNDAwOiAnI2ZmOTEwMCcsXG4gIEE3MDA6ICcjZmY2ZDAwJ1xufTtcbmV4cG9ydCBkZWZhdWx0IG9yYW5nZTsiLCJ2YXIgYmx1ZSA9IHtcbiAgNTA6ICcjZTNmMmZkJyxcbiAgMTAwOiAnI2JiZGVmYicsXG4gIDIwMDogJyM5MGNhZjknLFxuICAzMDA6ICcjNjRiNWY2JyxcbiAgNDAwOiAnIzQyYTVmNScsXG4gIDUwMDogJyMyMTk2ZjMnLFxuICA2MDA6ICcjMWU4OGU1JyxcbiAgNzAwOiAnIzE5NzZkMicsXG4gIDgwMDogJyMxNTY1YzAnLFxuICA5MDA6ICcjMGQ0N2ExJyxcbiAgQTEwMDogJyM4MmIxZmYnLFxuICBBMjAwOiAnIzQ0OGFmZicsXG4gIEE0MDA6ICcjMjk3OWZmJyxcbiAgQTcwMDogJyMyOTYyZmYnXG59O1xuZXhwb3J0IGRlZmF1bHQgYmx1ZTsiLCJ2YXIgZ3JlZW4gPSB7XG4gIDUwOiAnI2U4ZjVlOScsXG4gIDEwMDogJyNjOGU2YzknLFxuICAyMDA6ICcjYTVkNmE3JyxcbiAgMzAwOiAnIzgxYzc4NCcsXG4gIDQwMDogJyM2NmJiNmEnLFxuICA1MDA6ICcjNGNhZjUwJyxcbiAgNjAwOiAnIzQzYTA0NycsXG4gIDcwMDogJyMzODhlM2MnLFxuICA4MDA6ICcjMmU3ZDMyJyxcbiAgOTAwOiAnIzFiNWUyMCcsXG4gIEExMDA6ICcjYjlmNmNhJyxcbiAgQTIwMDogJyM2OWYwYWUnLFxuICBBNDAwOiAnIzAwZTY3NicsXG4gIEE3MDA6ICcjMDBjODUzJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGdyZWVuOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCB7IGZvcm1hdE11aUVycm9yTWVzc2FnZSBhcyBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkBtYXRlcmlhbC11aS91dGlsc1wiO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCBjb21tb24gZnJvbSAnLi4vY29sb3JzL2NvbW1vbic7XG5pbXBvcnQgZ3JleSBmcm9tICcuLi9jb2xvcnMvZ3JleSc7XG5pbXBvcnQgaW5kaWdvIGZyb20gJy4uL2NvbG9ycy9pbmRpZ28nO1xuaW1wb3J0IHBpbmsgZnJvbSAnLi4vY29sb3JzL3BpbmsnO1xuaW1wb3J0IHJlZCBmcm9tICcuLi9jb2xvcnMvcmVkJztcbmltcG9ydCBvcmFuZ2UgZnJvbSAnLi4vY29sb3JzL29yYW5nZSc7XG5pbXBvcnQgYmx1ZSBmcm9tICcuLi9jb2xvcnMvYmx1ZSc7XG5pbXBvcnQgZ3JlZW4gZnJvbSAnLi4vY29sb3JzL2dyZWVuJztcbmltcG9ydCB7IGRhcmtlbiwgZ2V0Q29udHJhc3RSYXRpbywgbGlnaHRlbiB9IGZyb20gJy4vY29sb3JNYW5pcHVsYXRvcic7XG5leHBvcnQgdmFyIGxpZ2h0ID0ge1xuICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gc3R5bGUgdGhlIHRleHQuXG4gIHRleHQ6IHtcbiAgICAvLyBUaGUgbW9zdCBpbXBvcnRhbnQgdGV4dC5cbiAgICBwcmltYXJ5OiAncmdiYSgwLCAwLCAwLCAwLjg3KScsXG4gICAgLy8gU2Vjb25kYXJ5IHRleHQuXG4gICAgc2Vjb25kYXJ5OiAncmdiYSgwLCAwLCAwLCAwLjU0KScsXG4gICAgLy8gRGlzYWJsZWQgdGV4dCBoYXZlIGV2ZW4gbG93ZXIgdmlzdWFsIHByb21pbmVuY2UuXG4gICAgZGlzYWJsZWQ6ICdyZ2JhKDAsIDAsIDAsIDAuMzgpJyxcbiAgICAvLyBUZXh0IGhpbnRzLlxuICAgIGhpbnQ6ICdyZ2JhKDAsIDAsIDAsIDAuMzgpJ1xuICB9LFxuICAvLyBUaGUgY29sb3IgdXNlZCB0byBkaXZpZGUgZGlmZmVyZW50IGVsZW1lbnRzLlxuICBkaXZpZGVyOiAncmdiYSgwLCAwLCAwLCAwLjEyKScsXG4gIC8vIFRoZSBiYWNrZ3JvdW5kIGNvbG9ycyB1c2VkIHRvIHN0eWxlIHRoZSBzdXJmYWNlcy5cbiAgLy8gQ29uc2lzdGVuY3kgYmV0d2VlbiB0aGVzZSB2YWx1ZXMgaXMgaW1wb3J0YW50LlxuICBiYWNrZ3JvdW5kOiB7XG4gICAgcGFwZXI6IGNvbW1vbi53aGl0ZSxcbiAgICBkZWZhdWx0OiBncmV5WzUwXVxuICB9LFxuICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gc3R5bGUgdGhlIGFjdGlvbiBlbGVtZW50cy5cbiAgYWN0aW9uOiB7XG4gICAgLy8gVGhlIGNvbG9yIG9mIGFuIGFjdGl2ZSBhY3Rpb24gbGlrZSBhbiBpY29uIGJ1dHRvbi5cbiAgICBhY3RpdmU6ICdyZ2JhKDAsIDAsIDAsIDAuNTQpJyxcbiAgICAvLyBUaGUgY29sb3Igb2YgYW4gaG92ZXJlZCBhY3Rpb24uXG4gICAgaG92ZXI6ICdyZ2JhKDAsIDAsIDAsIDAuMDQpJyxcbiAgICBob3Zlck9wYWNpdHk6IDAuMDQsXG4gICAgLy8gVGhlIGNvbG9yIG9mIGEgc2VsZWN0ZWQgYWN0aW9uLlxuICAgIHNlbGVjdGVkOiAncmdiYSgwLCAwLCAwLCAwLjA4KScsXG4gICAgc2VsZWN0ZWRPcGFjaXR5OiAwLjA4LFxuICAgIC8vIFRoZSBjb2xvciBvZiBhIGRpc2FibGVkIGFjdGlvbi5cbiAgICBkaXNhYmxlZDogJ3JnYmEoMCwgMCwgMCwgMC4yNiknLFxuICAgIC8vIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIGEgZGlzYWJsZWQgYWN0aW9uLlxuICAgIGRpc2FibGVkQmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAgIGRpc2FibGVkT3BhY2l0eTogMC4zOCxcbiAgICBmb2N1czogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAgIGZvY3VzT3BhY2l0eTogMC4xMixcbiAgICBhY3RpdmF0ZWRPcGFjaXR5OiAwLjEyXG4gIH1cbn07XG5leHBvcnQgdmFyIGRhcmsgPSB7XG4gIHRleHQ6IHtcbiAgICBwcmltYXJ5OiBjb21tb24ud2hpdGUsXG4gICAgc2Vjb25kYXJ5OiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJyxcbiAgICBkaXNhYmxlZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KScsXG4gICAgaGludDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KScsXG4gICAgaWNvbjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSdcbiAgfSxcbiAgZGl2aWRlcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMiknLFxuICBiYWNrZ3JvdW5kOiB7XG4gICAgcGFwZXI6IGdyZXlbODAwXSxcbiAgICBkZWZhdWx0OiAnIzMwMzAzMCdcbiAgfSxcbiAgYWN0aW9uOiB7XG4gICAgYWN0aXZlOiBjb21tb24ud2hpdGUsXG4gICAgaG92ZXI6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDgpJyxcbiAgICBob3Zlck9wYWNpdHk6IDAuMDgsXG4gICAgc2VsZWN0ZWQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTYpJyxcbiAgICBzZWxlY3RlZE9wYWNpdHk6IDAuMTYsXG4gICAgZGlzYWJsZWQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgIGRpc2FibGVkQmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMiknLFxuICAgIGRpc2FibGVkT3BhY2l0eTogMC4zOCxcbiAgICBmb2N1czogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xMiknLFxuICAgIGZvY3VzT3BhY2l0eTogMC4xMixcbiAgICBhY3RpdmF0ZWRPcGFjaXR5OiAwLjI0XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGFkZExpZ2h0T3JEYXJrKGludGVudCwgZGlyZWN0aW9uLCBzaGFkZSwgdG9uYWxPZmZzZXQpIHtcbiAgdmFyIHRvbmFsT2Zmc2V0TGlnaHQgPSB0b25hbE9mZnNldC5saWdodCB8fCB0b25hbE9mZnNldDtcbiAgdmFyIHRvbmFsT2Zmc2V0RGFyayA9IHRvbmFsT2Zmc2V0LmRhcmsgfHwgdG9uYWxPZmZzZXQgKiAxLjU7XG5cbiAgaWYgKCFpbnRlbnRbZGlyZWN0aW9uXSkge1xuICAgIGlmIChpbnRlbnQuaGFzT3duUHJvcGVydHkoc2hhZGUpKSB7XG4gICAgICBpbnRlbnRbZGlyZWN0aW9uXSA9IGludGVudFtzaGFkZV07XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdsaWdodCcpIHtcbiAgICAgIGludGVudC5saWdodCA9IGxpZ2h0ZW4oaW50ZW50Lm1haW4sIHRvbmFsT2Zmc2V0TGlnaHQpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZGFyaycpIHtcbiAgICAgIGludGVudC5kYXJrID0gZGFya2VuKGludGVudC5tYWluLCB0b25hbE9mZnNldERhcmspO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQYWxldHRlKHBhbGV0dGUpIHtcbiAgdmFyIF9wYWxldHRlJHByaW1hcnkgPSBwYWxldHRlLnByaW1hcnksXG4gICAgICBwcmltYXJ5ID0gX3BhbGV0dGUkcHJpbWFyeSA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiBpbmRpZ29bMzAwXSxcbiAgICBtYWluOiBpbmRpZ29bNTAwXSxcbiAgICBkYXJrOiBpbmRpZ29bNzAwXVxuICB9IDogX3BhbGV0dGUkcHJpbWFyeSxcbiAgICAgIF9wYWxldHRlJHNlY29uZGFyeSA9IHBhbGV0dGUuc2Vjb25kYXJ5LFxuICAgICAgc2Vjb25kYXJ5ID0gX3BhbGV0dGUkc2Vjb25kYXJ5ID09PSB2b2lkIDAgPyB7XG4gICAgbGlnaHQ6IHBpbmsuQTIwMCxcbiAgICBtYWluOiBwaW5rLkE0MDAsXG4gICAgZGFyazogcGluay5BNzAwXG4gIH0gOiBfcGFsZXR0ZSRzZWNvbmRhcnksXG4gICAgICBfcGFsZXR0ZSRlcnJvciA9IHBhbGV0dGUuZXJyb3IsXG4gICAgICBlcnJvciA9IF9wYWxldHRlJGVycm9yID09PSB2b2lkIDAgPyB7XG4gICAgbGlnaHQ6IHJlZFszMDBdLFxuICAgIG1haW46IHJlZFs1MDBdLFxuICAgIGRhcms6IHJlZFs3MDBdXG4gIH0gOiBfcGFsZXR0ZSRlcnJvcixcbiAgICAgIF9wYWxldHRlJHdhcm5pbmcgPSBwYWxldHRlLndhcm5pbmcsXG4gICAgICB3YXJuaW5nID0gX3BhbGV0dGUkd2FybmluZyA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiBvcmFuZ2VbMzAwXSxcbiAgICBtYWluOiBvcmFuZ2VbNTAwXSxcbiAgICBkYXJrOiBvcmFuZ2VbNzAwXVxuICB9IDogX3BhbGV0dGUkd2FybmluZyxcbiAgICAgIF9wYWxldHRlJGluZm8gPSBwYWxldHRlLmluZm8sXG4gICAgICBpbmZvID0gX3BhbGV0dGUkaW5mbyA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiBibHVlWzMwMF0sXG4gICAgbWFpbjogYmx1ZVs1MDBdLFxuICAgIGRhcms6IGJsdWVbNzAwXVxuICB9IDogX3BhbGV0dGUkaW5mbyxcbiAgICAgIF9wYWxldHRlJHN1Y2Nlc3MgPSBwYWxldHRlLnN1Y2Nlc3MsXG4gICAgICBzdWNjZXNzID0gX3BhbGV0dGUkc3VjY2VzcyA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiBncmVlblszMDBdLFxuICAgIG1haW46IGdyZWVuWzUwMF0sXG4gICAgZGFyazogZ3JlZW5bNzAwXVxuICB9IDogX3BhbGV0dGUkc3VjY2VzcyxcbiAgICAgIF9wYWxldHRlJHR5cGUgPSBwYWxldHRlLnR5cGUsXG4gICAgICB0eXBlID0gX3BhbGV0dGUkdHlwZSA9PT0gdm9pZCAwID8gJ2xpZ2h0JyA6IF9wYWxldHRlJHR5cGUsXG4gICAgICBfcGFsZXR0ZSRjb250cmFzdFRocmUgPSBwYWxldHRlLmNvbnRyYXN0VGhyZXNob2xkLFxuICAgICAgY29udHJhc3RUaHJlc2hvbGQgPSBfcGFsZXR0ZSRjb250cmFzdFRocmUgPT09IHZvaWQgMCA/IDMgOiBfcGFsZXR0ZSRjb250cmFzdFRocmUsXG4gICAgICBfcGFsZXR0ZSR0b25hbE9mZnNldCA9IHBhbGV0dGUudG9uYWxPZmZzZXQsXG4gICAgICB0b25hbE9mZnNldCA9IF9wYWxldHRlJHRvbmFsT2Zmc2V0ID09PSB2b2lkIDAgPyAwLjIgOiBfcGFsZXR0ZSR0b25hbE9mZnNldCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHBhbGV0dGUsIFtcInByaW1hcnlcIiwgXCJzZWNvbmRhcnlcIiwgXCJlcnJvclwiLCBcIndhcm5pbmdcIiwgXCJpbmZvXCIsIFwic3VjY2Vzc1wiLCBcInR5cGVcIiwgXCJjb250cmFzdFRocmVzaG9sZFwiLCBcInRvbmFsT2Zmc2V0XCJdKTsgLy8gVXNlIHRoZSBzYW1lIGxvZ2ljIGFzXG4gIC8vIEJvb3RzdHJhcDogaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvMWQ2ZTM3MTBkZDQ0N2RlMWEyMDBmMjllOGZhNTIxZjhhMDkwOGY3MC9zY3NzL19mdW5jdGlvbnMuc2NzcyNMNTlcbiAgLy8gYW5kIG1hdGVyaWFsLWNvbXBvbmVudHMtd2ViIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbC1jb21wb25lbnRzL21hdGVyaWFsLWNvbXBvbmVudHMtd2ViL2Jsb2IvYWM0NmI4ODYzYzRkYWI5ZmMyMmM0YzY2MmRjNmJkMWI2NWRkNjUyZi9wYWNrYWdlcy9tZGMtdGhlbWUvX2Z1bmN0aW9ucy5zY3NzI0w1NFxuXG5cbiAgZnVuY3Rpb24gZ2V0Q29udHJhc3RUZXh0KGJhY2tncm91bmQpIHtcbiAgICB2YXIgY29udHJhc3RUZXh0ID0gZ2V0Q29udHJhc3RSYXRpbyhiYWNrZ3JvdW5kLCBkYXJrLnRleHQucHJpbWFyeSkgPj0gY29udHJhc3RUaHJlc2hvbGQgPyBkYXJrLnRleHQucHJpbWFyeSA6IGxpZ2h0LnRleHQucHJpbWFyeTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgY29udHJhc3QgPSBnZXRDb250cmFzdFJhdGlvKGJhY2tncm91bmQsIGNvbnRyYXN0VGV4dCk7XG5cbiAgICAgIGlmIChjb250cmFzdCA8IDMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbXCJNYXRlcmlhbC1VSTogVGhlIGNvbnRyYXN0IHJhdGlvIG9mIFwiLmNvbmNhdChjb250cmFzdCwgXCI6MSBmb3IgXCIpLmNvbmNhdChjb250cmFzdFRleHQsIFwiIG9uIFwiKS5jb25jYXQoYmFja2dyb3VuZCksICdmYWxscyBiZWxvdyB0aGUgV0NBRyByZWNvbW1lbmRlZCBhYnNvbHV0ZSBtaW5pbXVtIGNvbnRyYXN0IHJhdGlvIG9mIDM6MS4nLCAnaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jdmlzdWFsLWF1ZGlvLWNvbnRyYXN0LWNvbnRyYXN0J10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb250cmFzdFRleHQ7XG4gIH1cblxuICB2YXIgYXVnbWVudENvbG9yID0gZnVuY3Rpb24gYXVnbWVudENvbG9yKGNvbG9yKSB7XG4gICAgdmFyIG1haW5TaGFkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNTAwO1xuICAgIHZhciBsaWdodFNoYWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAzMDA7XG4gICAgdmFyIGRhcmtTaGFkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogNzAwO1xuICAgIGNvbG9yID0gX2V4dGVuZHMoe30sIGNvbG9yKTtcblxuICAgIGlmICghY29sb3IubWFpbiAmJiBjb2xvclttYWluU2hhZGVdKSB7XG4gICAgICBjb2xvci5tYWluID0gY29sb3JbbWFpblNoYWRlXTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbG9yLm1haW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIk1hdGVyaWFsLVVJOiBUaGUgY29sb3IgcHJvdmlkZWQgdG8gYXVnbWVudENvbG9yKGNvbG9yKSBpcyBpbnZhbGlkLlxcblRoZSBjb2xvciBvYmplY3QgbmVlZHMgdG8gaGF2ZSBhIGBtYWluYCBwcm9wZXJ0eSBvciBhIGBcIi5jb25jYXQobWFpblNoYWRlLCBcImAgcHJvcGVydHkuXCIpIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSg0LCBtYWluU2hhZGUpKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yLm1haW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJNYXRlcmlhbC1VSTogVGhlIGNvbG9yIHByb3ZpZGVkIHRvIGF1Z21lbnRDb2xvcihjb2xvcikgaXMgaW52YWxpZC5cXG5gY29sb3IubWFpbmAgc2hvdWxkIGJlIGEgc3RyaW5nLCBidXQgYFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShjb2xvci5tYWluKSwgXCJgIHdhcyBwcm92aWRlZCBpbnN0ZWFkLlxcblxcbkRpZCB5b3UgaW50ZW5kIHRvIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBhcHByb2FjaGVzP1xcblxcbmltcG9ydCB7XFx4QTBncmVlbiB9IGZyb20gXFxcIkBtYXRlcmlhbC11aS9jb3JlL2NvbG9yc1xcXCI7XFxuXFxuY29uc3QgdGhlbWUxID0gY3JlYXRlVGhlbWUoeyBwYWxldHRlOiB7XFxuICBwcmltYXJ5OiBncmVlbixcXG59IH0pO1xcblxcbmNvbnN0IHRoZW1lMiA9IGNyZWF0ZVRoZW1lKHsgcGFsZXR0ZToge1xcbiAgcHJpbWFyeTogeyBtYWluOiBncmVlbls1MDBdIH0sXFxufSB9KTtcIikgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDUsIEpTT04uc3RyaW5naWZ5KGNvbG9yLm1haW4pKSk7XG4gICAgfVxuXG4gICAgYWRkTGlnaHRPckRhcmsoY29sb3IsICdsaWdodCcsIGxpZ2h0U2hhZGUsIHRvbmFsT2Zmc2V0KTtcbiAgICBhZGRMaWdodE9yRGFyayhjb2xvciwgJ2RhcmsnLCBkYXJrU2hhZGUsIHRvbmFsT2Zmc2V0KTtcblxuICAgIGlmICghY29sb3IuY29udHJhc3RUZXh0KSB7XG4gICAgICBjb2xvci5jb250cmFzdFRleHQgPSBnZXRDb250cmFzdFRleHQoY29sb3IubWFpbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xuICB9O1xuXG4gIHZhciB0eXBlcyA9IHtcbiAgICBkYXJrOiBkYXJrLFxuICAgIGxpZ2h0OiBsaWdodFxuICB9O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCF0eXBlc1t0eXBlXSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1hdGVyaWFsLVVJOiBUaGUgcGFsZXR0ZSB0eXBlIGBcIi5jb25jYXQodHlwZSwgXCJgIGlzIG5vdCBzdXBwb3J0ZWQuXCIpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGFsZXR0ZU91dHB1dCA9IGRlZXBtZXJnZShfZXh0ZW5kcyh7XG4gICAgLy8gQSBjb2xsZWN0aW9uIG9mIGNvbW1vbiBjb2xvcnMuXG4gICAgY29tbW9uOiBjb21tb24sXG4gICAgLy8gVGhlIHBhbGV0dGUgdHlwZSwgY2FuIGJlIGxpZ2h0IG9yIGRhcmsuXG4gICAgdHlwZTogdHlwZSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IHByaW1hcnkgaW50ZXJmYWNlIGVsZW1lbnRzIGZvciBhIHVzZXIuXG4gICAgcHJpbWFyeTogYXVnbWVudENvbG9yKHByaW1hcnkpLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgc2Vjb25kYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHNlY29uZGFyeTogYXVnbWVudENvbG9yKHNlY29uZGFyeSwgJ0E0MDAnLCAnQTIwMCcsICdBNzAwJyksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBpbnRlcmZhY2UgZWxlbWVudHMgdGhhdCB0aGUgdXNlciBzaG91bGQgYmUgbWFkZSBhd2FyZSBvZi5cbiAgICBlcnJvcjogYXVnbWVudENvbG9yKGVycm9yKSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IHBvdGVudGlhbGx5IGRhbmdlcm91cyBhY3Rpb25zIG9yIGltcG9ydGFudCBtZXNzYWdlcy5cbiAgICB3YXJuaW5nOiBhdWdtZW50Q29sb3Iod2FybmluZyksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHByZXNlbnQgaW5mb3JtYXRpb24gdG8gdGhlIHVzZXIgdGhhdCBpcyBuZXV0cmFsIGFuZCBub3QgbmVjZXNzYXJpbHkgaW1wb3J0YW50LlxuICAgIGluZm86IGF1Z21lbnRDb2xvcihpbmZvKSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBvZiBhbiBhY3Rpb24gdGhhdCB1c2VyIHRyaWdnZXJlZC5cbiAgICBzdWNjZXNzOiBhdWdtZW50Q29sb3Ioc3VjY2VzcyksXG4gICAgLy8gVGhlIGdyZXkgY29sb3JzLlxuICAgIGdyZXk6IGdyZXksXG4gICAgLy8gVXNlZCBieSBgZ2V0Q29udHJhc3RUZXh0KClgIHRvIG1heGltaXplIHRoZSBjb250cmFzdCBiZXR3ZWVuXG4gICAgLy8gdGhlIGJhY2tncm91bmQgYW5kIHRoZSB0ZXh0LlxuICAgIGNvbnRyYXN0VGhyZXNob2xkOiBjb250cmFzdFRocmVzaG9sZCxcbiAgICAvLyBUYWtlcyBhIGJhY2tncm91bmQgY29sb3IgYW5kIHJldHVybnMgdGhlIHRleHQgY29sb3IgdGhhdCBtYXhpbWl6ZXMgdGhlIGNvbnRyYXN0LlxuICAgIGdldENvbnRyYXN0VGV4dDogZ2V0Q29udHJhc3RUZXh0LFxuICAgIC8vIEdlbmVyYXRlIGEgcmljaCBjb2xvciBvYmplY3QuXG4gICAgYXVnbWVudENvbG9yOiBhdWdtZW50Q29sb3IsXG4gICAgLy8gVXNlZCBieSB0aGUgZnVuY3Rpb25zIGJlbG93IHRvIHNoaWZ0IGEgY29sb3IncyBsdW1pbmFuY2UgYnkgYXBwcm94aW1hdGVseVxuICAgIC8vIHR3byBpbmRleGVzIHdpdGhpbiBpdHMgdG9uYWwgcGFsZXR0ZS5cbiAgICAvLyBFLmcuLCBzaGlmdCBmcm9tIFJlZCA1MDAgdG8gUmVkIDMwMCBvciBSZWQgNzAwLlxuICAgIHRvbmFsT2Zmc2V0OiB0b25hbE9mZnNldFxuICB9LCB0eXBlc1t0eXBlXSksIG90aGVyKTtcbiAgcmV0dXJuIHBhbGV0dGVPdXRwdXQ7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcblxuZnVuY3Rpb24gcm91bmQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxZTUpIC8gMWU1O1xufVxuXG52YXIgd2FybmVkT25jZSA9IGZhbHNlO1xuXG5mdW5jdGlvbiByb3VuZFdpdGhEZXByZWNhdGlvbldhcm5pbmcodmFsdWUpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgIGNvbnNvbGUud2FybihbJ01hdGVyaWFsLVVJOiBUaGUgYHRoZW1lLnR5cG9ncmFwaHkucm91bmRgIGhlbHBlciBpcyBkZXByZWNhdGVkLicsICdIZWFkIHRvIGh0dHBzOi8vbWF0ZXJpYWwtdWkuY29tL3IvbWlncmF0aW9uLXY0LyN0aGVtZSBmb3IgYSBtaWdyYXRpb24gcGF0aC4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB3YXJuZWRPbmNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcm91bmQodmFsdWUpO1xufVxuXG52YXIgY2FzZUFsbENhcHMgPSB7XG4gIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnXG59O1xudmFyIGRlZmF1bHRGb250RmFtaWx5ID0gJ1wiUm9ib3RvXCIsIFwiSGVsdmV0aWNhXCIsIFwiQXJpYWxcIiwgc2Fucy1zZXJpZic7XG4vKipcbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS90aGUtdHlwZS1zeXN0ZW0uaHRtbH1cbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS91bmRlcnN0YW5kaW5nLXR5cG9ncmFwaHkuaHRtbH1cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVUeXBvZ3JhcGh5KHBhbGV0dGUsIHR5cG9ncmFwaHkpIHtcbiAgdmFyIF9yZWYgPSB0eXBlb2YgdHlwb2dyYXBoeSA9PT0gJ2Z1bmN0aW9uJyA/IHR5cG9ncmFwaHkocGFsZXR0ZSkgOiB0eXBvZ3JhcGh5LFxuICAgICAgX3JlZiRmb250RmFtaWx5ID0gX3JlZi5mb250RmFtaWx5LFxuICAgICAgZm9udEZhbWlseSA9IF9yZWYkZm9udEZhbWlseSA9PT0gdm9pZCAwID8gZGVmYXVsdEZvbnRGYW1pbHkgOiBfcmVmJGZvbnRGYW1pbHksXG4gICAgICBfcmVmJGZvbnRTaXplID0gX3JlZi5mb250U2l6ZSxcbiAgICAgIGZvbnRTaXplID0gX3JlZiRmb250U2l6ZSA9PT0gdm9pZCAwID8gMTQgOiBfcmVmJGZvbnRTaXplLFxuICAgICAgX3JlZiRmb250V2VpZ2h0TGlnaHQgPSBfcmVmLmZvbnRXZWlnaHRMaWdodCxcbiAgICAgIGZvbnRXZWlnaHRMaWdodCA9IF9yZWYkZm9udFdlaWdodExpZ2h0ID09PSB2b2lkIDAgPyAzMDAgOiBfcmVmJGZvbnRXZWlnaHRMaWdodCxcbiAgICAgIF9yZWYkZm9udFdlaWdodFJlZ3VsYSA9IF9yZWYuZm9udFdlaWdodFJlZ3VsYXIsXG4gICAgICBmb250V2VpZ2h0UmVndWxhciA9IF9yZWYkZm9udFdlaWdodFJlZ3VsYSA9PT0gdm9pZCAwID8gNDAwIDogX3JlZiRmb250V2VpZ2h0UmVndWxhLFxuICAgICAgX3JlZiRmb250V2VpZ2h0TWVkaXVtID0gX3JlZi5mb250V2VpZ2h0TWVkaXVtLFxuICAgICAgZm9udFdlaWdodE1lZGl1bSA9IF9yZWYkZm9udFdlaWdodE1lZGl1bSA9PT0gdm9pZCAwID8gNTAwIDogX3JlZiRmb250V2VpZ2h0TWVkaXVtLFxuICAgICAgX3JlZiRmb250V2VpZ2h0Qm9sZCA9IF9yZWYuZm9udFdlaWdodEJvbGQsXG4gICAgICBmb250V2VpZ2h0Qm9sZCA9IF9yZWYkZm9udFdlaWdodEJvbGQgPT09IHZvaWQgMCA/IDcwMCA6IF9yZWYkZm9udFdlaWdodEJvbGQsXG4gICAgICBfcmVmJGh0bWxGb250U2l6ZSA9IF9yZWYuaHRtbEZvbnRTaXplLFxuICAgICAgaHRtbEZvbnRTaXplID0gX3JlZiRodG1sRm9udFNpemUgPT09IHZvaWQgMCA/IDE2IDogX3JlZiRodG1sRm9udFNpemUsXG4gICAgICBhbGxWYXJpYW50cyA9IF9yZWYuYWxsVmFyaWFudHMsXG4gICAgICBweFRvUmVtMiA9IF9yZWYucHhUb1JlbSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImZvbnRGYW1pbHlcIiwgXCJmb250U2l6ZVwiLCBcImZvbnRXZWlnaHRMaWdodFwiLCBcImZvbnRXZWlnaHRSZWd1bGFyXCIsIFwiZm9udFdlaWdodE1lZGl1bVwiLCBcImZvbnRXZWlnaHRCb2xkXCIsIFwiaHRtbEZvbnRTaXplXCIsIFwiYWxsVmFyaWFudHNcIiwgXCJweFRvUmVtXCJdKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgZm9udFNpemUgIT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogYGZvbnRTaXplYCBpcyByZXF1aXJlZCB0byBiZSBhIG51bWJlci4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGh0bWxGb250U2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01hdGVyaWFsLVVJOiBgaHRtbEZvbnRTaXplYCBpcyByZXF1aXJlZCB0byBiZSBhIG51bWJlci4nKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29lZiA9IGZvbnRTaXplIC8gMTQ7XG5cbiAgdmFyIHB4VG9SZW0gPSBweFRvUmVtMiB8fCBmdW5jdGlvbiAoc2l6ZSkge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChzaXplIC8gaHRtbEZvbnRTaXplICogY29lZiwgXCJyZW1cIik7XG4gIH07XG5cbiAgdmFyIGJ1aWxkVmFyaWFudCA9IGZ1bmN0aW9uIGJ1aWxkVmFyaWFudChmb250V2VpZ2h0LCBzaXplLCBsaW5lSGVpZ2h0LCBsZXR0ZXJTcGFjaW5nLCBjYXNpbmcpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgZm9udEZhbWlseTogZm9udEZhbWlseSxcbiAgICAgIGZvbnRXZWlnaHQ6IGZvbnRXZWlnaHQsXG4gICAgICBmb250U2l6ZTogcHhUb1JlbShzaXplKSxcbiAgICAgIC8vIFVuaXRsZXNzIGZvbGxvd2luZyBodHRwczovL21leWVyd2ViLmNvbS9lcmljL3Rob3VnaHRzLzIwMDYvMDIvMDgvdW5pdGxlc3MtbGluZS1oZWlnaHRzL1xuICAgICAgbGluZUhlaWdodDogbGluZUhlaWdodFxuICAgIH0sIGZvbnRGYW1pbHkgPT09IGRlZmF1bHRGb250RmFtaWx5ID8ge1xuICAgICAgbGV0dGVyU3BhY2luZzogXCJcIi5jb25jYXQocm91bmQobGV0dGVyU3BhY2luZyAvIHNpemUpLCBcImVtXCIpXG4gICAgfSA6IHt9LCBjYXNpbmcsIGFsbFZhcmlhbnRzKTtcbiAgfTtcblxuICB2YXIgdmFyaWFudHMgPSB7XG4gICAgaDE6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TGlnaHQsIDk2LCAxLjE2NywgLTEuNSksXG4gICAgaDI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TGlnaHQsIDYwLCAxLjIsIC0wLjUpLFxuICAgIGgzOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDQ4LCAxLjE2NywgMCksXG4gICAgaDQ6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMzQsIDEuMjM1LCAwLjI1KSxcbiAgICBoNTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAyNCwgMS4zMzQsIDApLFxuICAgIGg2OiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMjAsIDEuNiwgMC4xNSksXG4gICAgc3VidGl0bGUxOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDE2LCAxLjc1LCAwLjE1KSxcbiAgICBzdWJ0aXRsZTI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TWVkaXVtLCAxNCwgMS41NywgMC4xKSxcbiAgICBib2R5MTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNiwgMS41LCAwLjE1KSxcbiAgICBib2R5MjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNCwgMS40MywgMC4xNSksXG4gICAgYnV0dG9uOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMTQsIDEuNzUsIDAuNCwgY2FzZUFsbENhcHMpLFxuICAgIGNhcHRpb246IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTIsIDEuNjYsIDAuNCksXG4gICAgb3ZlcmxpbmU6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTIsIDIuNjYsIDEsIGNhc2VBbGxDYXBzKVxuICB9O1xuICByZXR1cm4gZGVlcG1lcmdlKF9leHRlbmRzKHtcbiAgICBodG1sRm9udFNpemU6IGh0bWxGb250U2l6ZSxcbiAgICBweFRvUmVtOiBweFRvUmVtLFxuICAgIHJvdW5kOiByb3VuZFdpdGhEZXByZWNhdGlvbldhcm5pbmcsXG4gICAgLy8gVE9ETyB2NTogcmVtb3ZlXG4gICAgZm9udEZhbWlseTogZm9udEZhbWlseSxcbiAgICBmb250U2l6ZTogZm9udFNpemUsXG4gICAgZm9udFdlaWdodExpZ2h0OiBmb250V2VpZ2h0TGlnaHQsXG4gICAgZm9udFdlaWdodFJlZ3VsYXI6IGZvbnRXZWlnaHRSZWd1bGFyLFxuICAgIGZvbnRXZWlnaHRNZWRpdW06IGZvbnRXZWlnaHRNZWRpdW0sXG4gICAgZm9udFdlaWdodEJvbGQ6IGZvbnRXZWlnaHRCb2xkXG4gIH0sIHZhcmlhbnRzKSwgb3RoZXIsIHtcbiAgICBjbG9uZTogZmFsc2UgLy8gTm8gbmVlZCB0byBjbG9uZSBkZWVwXG5cbiAgfSk7XG59IiwidmFyIHNoYWRvd0tleVVtYnJhT3BhY2l0eSA9IDAuMjtcbnZhciBzaGFkb3dLZXlQZW51bWJyYU9wYWNpdHkgPSAwLjE0O1xudmFyIHNoYWRvd0FtYmllbnRTaGFkb3dPcGFjaXR5ID0gMC4xMjtcblxuZnVuY3Rpb24gY3JlYXRlU2hhZG93KCkge1xuICByZXR1cm4gW1wiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMyA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1szXSwgXCJweCByZ2JhKDAsMCwwLFwiKS5jb25jYXQoc2hhZG93S2V5VW1icmFPcGFjaXR5LCBcIilcIiksIFwiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gNCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s0XSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gNSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s1XSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gNiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s2XSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gNyA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s3XSwgXCJweCByZ2JhKDAsMCwwLFwiKS5jb25jYXQoc2hhZG93S2V5UGVudW1icmFPcGFjaXR5LCBcIilcIiksIFwiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gOCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s4XSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gOSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1s5XSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMTAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMTBdLCBcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aCA8PSAxMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxMV0sIFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KHNoYWRvd0FtYmllbnRTaGFkb3dPcGFjaXR5LCBcIilcIildLmpvaW4oJywnKTtcbn0gLy8gVmFsdWVzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsLWNvbXBvbmVudHMvbWF0ZXJpYWwtY29tcG9uZW50cy13ZWIvYmxvYi9iZTg3NDdmOTQ1NzQ2NjljYjVlN2FkZDFhN2M1NGZhNDFhODljZWM3L3BhY2thZ2VzL21kYy1lbGV2YXRpb24vX3ZhcmlhYmxlcy5zY3NzXG5cblxudmFyIHNoYWRvd3MgPSBbJ25vbmUnLCBjcmVhdGVTaGFkb3coMCwgMiwgMSwgLTEsIDAsIDEsIDEsIDAsIDAsIDEsIDMsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMSwgLTIsIDAsIDIsIDIsIDAsIDAsIDEsIDUsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMywgLTIsIDAsIDMsIDQsIDAsIDAsIDEsIDgsIDApLCBjcmVhdGVTaGFkb3coMCwgMiwgNCwgLTEsIDAsIDQsIDUsIDAsIDAsIDEsIDEwLCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDUsIC0xLCAwLCA1LCA4LCAwLCAwLCAxLCAxNCwgMCksIGNyZWF0ZVNoYWRvdygwLCAzLCA1LCAtMSwgMCwgNiwgMTAsIDAsIDAsIDEsIDE4LCAwKSwgY3JlYXRlU2hhZG93KDAsIDQsIDUsIC0yLCAwLCA3LCAxMCwgMSwgMCwgMiwgMTYsIDEpLCBjcmVhdGVTaGFkb3coMCwgNSwgNSwgLTMsIDAsIDgsIDEwLCAxLCAwLCAzLCAxNCwgMiksIGNyZWF0ZVNoYWRvdygwLCA1LCA2LCAtMywgMCwgOSwgMTIsIDEsIDAsIDMsIDE2LCAyKSwgY3JlYXRlU2hhZG93KDAsIDYsIDYsIC0zLCAwLCAxMCwgMTQsIDEsIDAsIDQsIDE4LCAzKSwgY3JlYXRlU2hhZG93KDAsIDYsIDcsIC00LCAwLCAxMSwgMTUsIDEsIDAsIDQsIDIwLCAzKSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMiwgMTcsIDIsIDAsIDUsIDIyLCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMywgMTksIDIsIDAsIDUsIDI0LCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDksIC00LCAwLCAxNCwgMjEsIDIsIDAsIDUsIDI2LCA0KSwgY3JlYXRlU2hhZG93KDAsIDgsIDksIC01LCAwLCAxNSwgMjIsIDIsIDAsIDYsIDI4LCA1KSwgY3JlYXRlU2hhZG93KDAsIDgsIDEwLCAtNSwgMCwgMTYsIDI0LCAyLCAwLCA2LCAzMCwgNSksIGNyZWF0ZVNoYWRvdygwLCA4LCAxMSwgLTUsIDAsIDE3LCAyNiwgMiwgMCwgNiwgMzIsIDUpLCBjcmVhdGVTaGFkb3coMCwgOSwgMTEsIC01LCAwLCAxOCwgMjgsIDIsIDAsIDcsIDM0LCA2KSwgY3JlYXRlU2hhZG93KDAsIDksIDEyLCAtNiwgMCwgMTksIDI5LCAyLCAwLCA3LCAzNiwgNiksIGNyZWF0ZVNoYWRvdygwLCAxMCwgMTMsIC02LCAwLCAyMCwgMzEsIDMsIDAsIDgsIDM4LCA3KSwgY3JlYXRlU2hhZG93KDAsIDEwLCAxMywgLTYsIDAsIDIxLCAzMywgMywgMCwgOCwgNDAsIDcpLCBjcmVhdGVTaGFkb3coMCwgMTAsIDE0LCAtNiwgMCwgMjIsIDM1LCAzLCAwLCA4LCA0MiwgNyksIGNyZWF0ZVNoYWRvdygwLCAxMSwgMTQsIC03LCAwLCAyMywgMzYsIDMsIDAsIDksIDQ0LCA4KSwgY3JlYXRlU2hhZG93KDAsIDExLCAxNSwgLTcsIDAsIDI0LCAzOCwgMywgMCwgOSwgNDYsIDgpXTtcbmV4cG9ydCBkZWZhdWx0IHNoYWRvd3M7IiwidmFyIHNoYXBlID0ge1xuICBib3JkZXJSYWRpdXM6IDRcbn07XG5leHBvcnQgZGVmYXVsdCBzaGFwZTsiLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5cbmZ1bmN0aW9uIG1lcmdlKGFjYywgaXRlbSkge1xuICBpZiAoIWl0ZW0pIHtcbiAgICByZXR1cm4gYWNjO1xuICB9XG5cbiAgcmV0dXJuIGRlZXBtZXJnZShhY2MsIGl0ZW0sIHtcbiAgICBjbG9uZTogZmFsc2UgLy8gTm8gbmVlZCB0byBjbG9uZSBkZWVwLCBpdCdzIHdheSBmYXN0ZXIuXG5cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlOyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7IC8vIFRoZSBicmVha3BvaW50ICoqc3RhcnQqKiBhdCB0aGlzIHZhbHVlLlxuLy8gRm9yIGluc3RhbmNlIHdpdGggdGhlIGZpcnN0IGJyZWFrcG9pbnQgeHM6IFt4cywgc21bLlxuXG52YXIgdmFsdWVzID0ge1xuICB4czogMCxcbiAgc206IDYwMCxcbiAgbWQ6IDk2MCxcbiAgbGc6IDEyODAsXG4gIHhsOiAxOTIwXG59O1xudmFyIGRlZmF1bHRCcmVha3BvaW50cyA9IHtcbiAgLy8gU29ydGVkIEFTQyBieSBzaXplLiBUaGF0J3MgaW1wb3J0YW50LlxuICAvLyBJdCBjYW4ndCBiZSBjb25maWd1cmVkIGFzIGl0J3MgdXNlZCBzdGF0aWNhbGx5IGZvciBwcm9wVHlwZXMuXG4gIGtleXM6IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXSxcbiAgdXA6IGZ1bmN0aW9uIHVwKGtleSkge1xuICAgIHJldHVybiBcIkBtZWRpYSAobWluLXdpZHRoOlwiLmNvbmNhdCh2YWx1ZXNba2V5XSwgXCJweClcIik7XG4gIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BWYWx1ZSwgc3R5bGVGcm9tUHJvcFZhbHVlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCFwcm9wcy50aGVtZSkge1xuICAgICAgY29uc29sZS5lcnJvcignTWF0ZXJpYWwtVUk6IFlvdSBhcmUgY2FsbGluZyBhIHN0eWxlIGZ1bmN0aW9uIHdpdGhvdXQgYSB0aGVtZSB2YWx1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgdmFyIHRoZW1lQnJlYWtwb2ludHMgPSBwcm9wcy50aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgcmV0dXJuIHByb3BWYWx1ZS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgIGFjY1t0aGVtZUJyZWFrcG9pbnRzLnVwKHRoZW1lQnJlYWtwb2ludHMua2V5c1tpbmRleF0pXSA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWVbaW5kZXhdKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG5cbiAgaWYgKF90eXBlb2YocHJvcFZhbHVlKSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgX3RoZW1lQnJlYWtwb2ludHMgPSBwcm9wcy50aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcFZhbHVlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgYnJlYWtwb2ludCkge1xuICAgICAgYWNjW190aGVtZUJyZWFrcG9pbnRzLnVwKGJyZWFrcG9pbnQpXSA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWVbYnJlYWtwb2ludF0pO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cblxuICB2YXIgb3V0cHV0ID0gc3R5bGVGcm9tUHJvcFZhbHVlKHByb3BWYWx1ZSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGJyZWFrcG9pbnRzKHN0eWxlRnVuY3Rpb24pIHtcbiAgdmFyIG5ld1N0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiBuZXdTdHlsZUZ1bmN0aW9uKHByb3BzKSB7XG4gICAgdmFyIGJhc2UgPSBzdHlsZUZ1bmN0aW9uKHByb3BzKTtcbiAgICB2YXIgdGhlbWVCcmVha3BvaW50cyA9IHByb3BzLnRoZW1lLmJyZWFrcG9pbnRzIHx8IGRlZmF1bHRCcmVha3BvaW50cztcbiAgICB2YXIgZXh0ZW5kZWQgPSB0aGVtZUJyZWFrcG9pbnRzLmtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgaWYgKHByb3BzW2tleV0pIHtcbiAgICAgICAgYWNjID0gYWNjIHx8IHt9O1xuICAgICAgICBhY2NbdGhlbWVCcmVha3BvaW50cy51cChrZXkpXSA9IHN0eWxlRnVuY3Rpb24oX2V4dGVuZHMoe1xuICAgICAgICAgIHRoZW1lOiBwcm9wcy50aGVtZVxuICAgICAgICB9LCBwcm9wc1trZXldKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbnVsbCk7XG4gICAgcmV0dXJuIG1lcmdlKGJhc2UsIGV4dGVuZGVkKTtcbiAgfTtcblxuICBuZXdTdHlsZUZ1bmN0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfZXh0ZW5kcyh7fSwgc3R5bGVGdW5jdGlvbi5wcm9wVHlwZXMsIHtcbiAgICB4czogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzbTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtZDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBsZzogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB4bDogUHJvcFR5cGVzLm9iamVjdFxuICB9KSA6IHt9O1xuICBuZXdTdHlsZUZ1bmN0aW9uLmZpbHRlclByb3BzID0gWyd4cycsICdzbScsICdtZCcsICdsZycsICd4bCddLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3R5bGVGdW5jdGlvbi5maWx0ZXJQcm9wcykpO1xuICByZXR1cm4gbmV3U3R5bGVGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYnJlYWtwb2ludHM7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIgY2FjaGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICBpZiAoY2FjaGVbYXJnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYWNoZVthcmddID0gZm4oYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FjaGVbYXJnXTtcbiAgfTtcbn0iLCJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCByZXNwb25zaXZlUHJvcFR5cGUgZnJvbSAnLi9yZXNwb25zaXZlUHJvcFR5cGUnO1xuaW1wb3J0IHsgaGFuZGxlQnJlYWtwb2ludHMgfSBmcm9tICcuL2JyZWFrcG9pbnRzJztcbmltcG9ydCBtZXJnZSBmcm9tICcuL21lcmdlJztcbmltcG9ydCBtZW1vaXplIGZyb20gJy4vbWVtb2l6ZSc7XG52YXIgcHJvcGVydGllcyA9IHtcbiAgbTogJ21hcmdpbicsXG4gIHA6ICdwYWRkaW5nJ1xufTtcbnZhciBkaXJlY3Rpb25zID0ge1xuICB0OiAnVG9wJyxcbiAgcjogJ1JpZ2h0JyxcbiAgYjogJ0JvdHRvbScsXG4gIGw6ICdMZWZ0JyxcbiAgeDogWydMZWZ0JywgJ1JpZ2h0J10sXG4gIHk6IFsnVG9wJywgJ0JvdHRvbSddXG59O1xudmFyIGFsaWFzZXMgPSB7XG4gIG1hcmdpblg6ICdteCcsXG4gIG1hcmdpblk6ICdteScsXG4gIHBhZGRpbmdYOiAncHgnLFxuICBwYWRkaW5nWTogJ3B5J1xufTsgLy8gbWVtb2l6ZSgpIGltcGFjdDpcbi8vIEZyb20gMzAwLDAwMCBvcHMvc2VjXG4vLyBUbyAzNTAsMDAwIG9wcy9zZWNcblxudmFyIGdldENzc1Byb3BlcnRpZXMgPSBtZW1vaXplKGZ1bmN0aW9uIChwcm9wKSB7XG4gIC8vIEl0J3Mgbm90IGEgc2hvcnRoYW5kIG5vdGF0aW9uLlxuICBpZiAocHJvcC5sZW5ndGggPiAyKSB7XG4gICAgaWYgKGFsaWFzZXNbcHJvcF0pIHtcbiAgICAgIHByb3AgPSBhbGlhc2VzW3Byb3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3Byb3BdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfcHJvcCRzcGxpdCA9IHByb3Auc3BsaXQoJycpLFxuICAgICAgX3Byb3Akc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3Byb3Akc3BsaXQsIDIpLFxuICAgICAgYSA9IF9wcm9wJHNwbGl0MlswXSxcbiAgICAgIGIgPSBfcHJvcCRzcGxpdDJbMV07XG5cbiAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1thXTtcbiAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvbnNbYl0gfHwgJyc7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGRpcmVjdGlvbikgPyBkaXJlY3Rpb24ubWFwKGZ1bmN0aW9uIChkaXIpIHtcbiAgICByZXR1cm4gcHJvcGVydHkgKyBkaXI7XG4gIH0pIDogW3Byb3BlcnR5ICsgZGlyZWN0aW9uXTtcbn0pO1xudmFyIHNwYWNpbmdLZXlzID0gWydtJywgJ210JywgJ21yJywgJ21iJywgJ21sJywgJ214JywgJ215JywgJ3AnLCAncHQnLCAncHInLCAncGInLCAncGwnLCAncHgnLCAncHknLCAnbWFyZ2luJywgJ21hcmdpblRvcCcsICdtYXJnaW5SaWdodCcsICdtYXJnaW5Cb3R0b20nLCAnbWFyZ2luTGVmdCcsICdtYXJnaW5YJywgJ21hcmdpblknLCAncGFkZGluZycsICdwYWRkaW5nVG9wJywgJ3BhZGRpbmdSaWdodCcsICdwYWRkaW5nQm90dG9tJywgJ3BhZGRpbmdMZWZ0JywgJ3BhZGRpbmdYJywgJ3BhZGRpbmdZJ107XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hcnlTcGFjaW5nKHRoZW1lKSB7XG4gIHZhciB0aGVtZVNwYWNpbmcgPSB0aGVtZS5zcGFjaW5nIHx8IDg7XG5cbiAgaWYgKHR5cGVvZiB0aGVtZVNwYWNpbmcgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhYnMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWJzICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXRlcmlhbC1VSTogRXhwZWN0ZWQgc3BhY2luZyBhcmd1bWVudCB0byBiZSBhIG51bWJlciwgZ290IFwiLmNvbmNhdChhYnMsIFwiLlwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoZW1lU3BhY2luZyAqIGFicztcbiAgICB9O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodGhlbWVTcGFjaW5nKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWJzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoYWJzID4gdGhlbWVTcGFjaW5nLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtcIk1hdGVyaWFsLVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgKFwiLmNvbmNhdChhYnMsIFwiKSBvdmVyZmxvd3MuXCIpLCBcIlRoZSBzdXBwb3J0ZWQgdmFsdWVzIGFyZTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoZW1lU3BhY2luZyksIFwiLlwiKSwgXCJcIi5jb25jYXQoYWJzLCBcIiA+IFwiKS5jb25jYXQodGhlbWVTcGFjaW5nLmxlbmd0aCAtIDEsIFwiLCB5b3UgbmVlZCB0byBhZGQgdGhlIG1pc3NpbmcgdmFsdWVzLlwiKV0uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGVtZVNwYWNpbmdbYWJzXTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0aGVtZVNwYWNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhlbWVTcGFjaW5nO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKFtcIk1hdGVyaWFsLVVJOiBUaGUgYHRoZW1lLnNwYWNpbmdgIHZhbHVlIChcIi5jb25jYXQodGhlbWVTcGFjaW5nLCBcIikgaXMgaW52YWxpZC5cIiksICdJdCBzaG91bGQgYmUgYSBudW1iZXIsIGFuIGFycmF5IG9yIGEgZnVuY3Rpb24uJ10uam9pbignXFxuJykpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAnc3RyaW5nJyB8fCBwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBwcm9wVmFsdWU7XG4gIH1cblxuICB2YXIgYWJzID0gTWF0aC5hYnMocHJvcFZhbHVlKTtcbiAgdmFyIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtZXIoYWJzKTtcblxuICBpZiAocHJvcFZhbHVlID49IDApIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIHRyYW5zZm9ybWVkID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiAtdHJhbnNmb3JtZWQ7XG4gIH1cblxuICByZXR1cm4gXCItXCIuY29uY2F0KHRyYW5zZm9ybWVkKTtcbn1cblxuZnVuY3Rpb24gZ2V0U3R5bGVGcm9tUHJvcFZhbHVlKGNzc1Byb3BlcnRpZXMsIHRyYW5zZm9ybWVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcFZhbHVlKSB7XG4gICAgcmV0dXJuIGNzc1Byb3BlcnRpZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGNzc1Byb3BlcnR5KSB7XG4gICAgICBhY2NbY3NzUHJvcGVydHldID0gZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3BhY2luZyhwcm9wcykge1xuICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgdmFyIHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlTcGFjaW5nKHRoZW1lKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAvLyBVc2luZyBhIGhhc2ggY29tcHV0YXRpb24gb3ZlciBhbiBhcnJheSBpdGVyYXRpb24gY291bGQgYmUgZmFzdGVyLCBidXQgd2l0aCBvbmx5IDI4IGl0ZW1zLFxuICAgIC8vIGl0J3MgZG9lc24ndCB3b3J0aCB0aGUgYnVuZGxlIHNpemUuXG4gICAgaWYgKHNwYWNpbmdLZXlzLmluZGV4T2YocHJvcCkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3NzUHJvcGVydGllcyA9IGdldENzc1Byb3BlcnRpZXMocHJvcCk7XG4gICAgdmFyIHN0eWxlRnJvbVByb3BWYWx1ZSA9IGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcik7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcFZhbHVlLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9KS5yZWR1Y2UobWVyZ2UsIHt9KTtcbn1cblxuc3BhY2luZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gc3BhY2luZ0tleXMucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICBvYmpba2V5XSA9IHJlc3BvbnNpdmVQcm9wVHlwZTtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KSA6IHt9O1xuc3BhY2luZy5maWx0ZXJQcm9wcyA9IHNwYWNpbmdLZXlzO1xuZXhwb3J0IGRlZmF1bHQgc3BhY2luZzsiLCJpbXBvcnQgeyBjcmVhdGVVbmFyeVNwYWNpbmcgfSBmcm9tICdAbWF0ZXJpYWwtdWkvc3lzdGVtJztcbnZhciB3YXJuT25jZTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVNwYWNpbmcoKSB7XG4gIHZhciBzcGFjaW5nSW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDg7XG5cbiAgLy8gQWxyZWFkeSB0cmFuc2Zvcm1lZC5cbiAgaWYgKHNwYWNpbmdJbnB1dC5tdWkpIHtcbiAgICByZXR1cm4gc3BhY2luZ0lucHV0O1xuICB9IC8vIE1hdGVyaWFsIERlc2lnbiBsYXlvdXRzIGFyZSB2aXN1YWxseSBiYWxhbmNlZC4gTW9zdCBtZWFzdXJlbWVudHMgYWxpZ24gdG8gYW4gOGRwIGdyaWQgYXBwbGllZCwgd2hpY2ggYWxpZ25zIGJvdGggc3BhY2luZyBhbmQgdGhlIG92ZXJhbGwgbGF5b3V0LlxuICAvLyBTbWFsbGVyIGNvbXBvbmVudHMsIHN1Y2ggYXMgaWNvbnMgYW5kIHR5cGUsIGNhbiBhbGlnbiB0byBhIDRkcCBncmlkLlxuICAvLyBodHRwczovL21hdGVyaWFsLmlvL2Rlc2lnbi9sYXlvdXQvdW5kZXJzdGFuZGluZy1sYXlvdXQuaHRtbCN1c2FnZVxuXG5cbiAgdmFyIHRyYW5zZm9ybSA9IGNyZWF0ZVVuYXJ5U3BhY2luZyh7XG4gICAgc3BhY2luZzogc3BhY2luZ0lucHV0XG4gIH0pO1xuXG4gIHZhciBzcGFjaW5nID0gZnVuY3Rpb24gc3BhY2luZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghKGFyZ3MubGVuZ3RoIDw9IDQpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXRlcmlhbC1VSTogVG9vIG1hbnkgYXJndW1lbnRzIHByb3ZpZGVkLCBleHBlY3RlZCBiZXR3ZWVuIDAgYW5kIDQsIGdvdCBcIi5jb25jYXQoYXJncy5sZW5ndGgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm0oMSk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtKGFyZ3NbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBhcmdzLm1hcChmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dHB1dCA9IHRyYW5zZm9ybShhcmd1bWVudCk7XG4gICAgICByZXR1cm4gdHlwZW9mIG91dHB1dCA9PT0gJ251bWJlcicgPyBcIlwiLmNvbmNhdChvdXRwdXQsIFwicHhcIikgOiBvdXRwdXQ7XG4gICAgfSkuam9pbignICcpO1xuICB9OyAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0byByZW1vdmUgaW4gdjUuXG5cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3BhY2luZywgJ3VuaXQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoIXdhcm5PbmNlIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFsnTWF0ZXJpYWwtVUk6IHRoZW1lLnNwYWNpbmcudW5pdCB1c2FnZSBoYXMgYmVlbiBkZXByZWNhdGVkLicsICdJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdjUuJywgJ1lvdSBjYW4gcmVwbGFjZSBgdGhlbWUuc3BhY2luZy51bml0ICogeWAgd2l0aCBgdGhlbWUuc3BhY2luZyh5KWAuJywgJycsICdZb3UgY2FuIHVzZSB0aGUgYGh0dHBzOi8vZ2l0aHViLmNvbS9tdWktb3JnL21hdGVyaWFsLXVpL3RyZWUvbWFzdGVyL3BhY2thZ2VzL21hdGVyaWFsLXVpLWNvZGVtb2QvUkVBRE1FLm1kI3RoZW1lLXNwYWNpbmctYXBpYCBtaWdyYXRpb24gaGVscGVyIHRvIG1ha2UgdGhlIHByb2Nlc3Mgc21vb3RoZXIuJ10uam9pbignXFxuJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2Fybk9uY2UgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3BhY2luZ0lucHV0O1xuICAgIH1cbiAgfSk7XG4gIHNwYWNpbmcubXVpID0gdHJ1ZTtcbiAgcmV0dXJuIHNwYWNpbmc7XG59IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbi8vIEZvbGxvdyBodHRwczovL21hdGVyaWFsLmdvb2dsZS5jb20vbW90aW9uL2R1cmF0aW9uLWVhc2luZy5odG1sI2R1cmF0aW9uLWVhc2luZy1uYXR1cmFsLWVhc2luZy1jdXJ2ZXNcbi8vIHRvIGxlYXJuIHRoZSBjb250ZXh0IGluIHdoaWNoIGVhY2ggZWFzaW5nIHNob3VsZCBiZSB1c2VkLlxuZXhwb3J0IHZhciBlYXNpbmcgPSB7XG4gIC8vIFRoaXMgaXMgdGhlIG1vc3QgY29tbW9uIGVhc2luZyBjdXJ2ZS5cbiAgZWFzZUluT3V0OiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgZW50ZXIgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5IGZyb20gb2ZmLXNjcmVlbiBhbmRcbiAgLy8gc2xvd2x5IGRlY2VsZXJhdGUgdG8gYSByZXN0aW5nIHBvaW50LlxuICBlYXNlT3V0OiAnY3ViaWMtYmV6aWVyKDAuMCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgbGVhdmUgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCBkZWNlbGVyYXRlIHdoZW4gb2ZmLXNjcmVlbi5cbiAgZWFzZUluOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSknLFxuICAvLyBUaGUgc2hhcnAgY3VydmUgaXMgdXNlZCBieSBvYmplY3RzIHRoYXQgbWF5IHJldHVybiB0byB0aGUgc2NyZWVuIGF0IGFueSB0aW1lLlxuICBzaGFycDogJ2N1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSknXG59OyAvLyBGb2xsb3cgaHR0cHM6Ly9tYXRlcmlhbC5pby9ndWlkZWxpbmVzL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctY29tbW9uLWR1cmF0aW9uc1xuLy8gdG8gbGVhcm4gd2hlbiB1c2Ugd2hhdCB0aW1pbmdcblxuZXhwb3J0IHZhciBkdXJhdGlvbiA9IHtcbiAgc2hvcnRlc3Q6IDE1MCxcbiAgc2hvcnRlcjogMjAwLFxuICBzaG9ydDogMjUwLFxuICAvLyBtb3N0IGJhc2ljIHJlY29tbWVuZGVkIHRpbWluZ1xuICBzdGFuZGFyZDogMzAwLFxuICAvLyB0aGlzIGlzIHRvIGJlIHVzZWQgaW4gY29tcGxleCBhbmltYXRpb25zXG4gIGNvbXBsZXg6IDM3NSxcbiAgLy8gcmVjb21tZW5kZWQgd2hlbiBzb21ldGhpbmcgaXMgZW50ZXJpbmcgc2NyZWVuXG4gIGVudGVyaW5nU2NyZWVuOiAyMjUsXG4gIC8vIHJlY29tbWVuZGVkIHdoZW4gc29tZXRoaW5nIGlzIGxlYXZpbmcgc2NyZWVuXG4gIGxlYXZpbmdTY3JlZW46IDE5NVxufTtcblxuZnVuY3Rpb24gZm9ybWF0TXMobWlsbGlzZWNvbmRzKSB7XG4gIHJldHVybiBcIlwiLmNvbmNhdChNYXRoLnJvdW5kKG1pbGxpc2Vjb25kcyksIFwibXNcIik7XG59XG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0ucHJvcFxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtLmR1cmF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uZWFzaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gcGFyYW0uZGVsYXlcbiAqL1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZWFzaW5nOiBlYXNpbmcsXG4gIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbJ2FsbCddO1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIHZhciBfb3B0aW9ucyRkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGR1cmF0aW9uT3B0aW9uID0gX29wdGlvbnMkZHVyYXRpb24gPT09IHZvaWQgMCA/IGR1cmF0aW9uLnN0YW5kYXJkIDogX29wdGlvbnMkZHVyYXRpb24sXG4gICAgICAgIF9vcHRpb25zJGVhc2luZyA9IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICBlYXNpbmdPcHRpb24gPSBfb3B0aW9ucyRlYXNpbmcgPT09IHZvaWQgMCA/IGVhc2luZy5lYXNlSW5PdXQgOiBfb3B0aW9ucyRlYXNpbmcsXG4gICAgICAgIF9vcHRpb25zJGRlbGF5ID0gb3B0aW9ucy5kZWxheSxcbiAgICAgICAgZGVsYXkgPSBfb3B0aW9ucyRkZWxheSA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGRlbGF5LFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvcHRpb25zLCBbXCJkdXJhdGlvblwiLCBcImVhc2luZ1wiLCBcImRlbGF5XCJdKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgICAgIH07XG5cbiAgICAgIHZhciBpc051bWJlciA9IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFpc1N0cmluZyhwcm9wcykgJiYgIUFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01hdGVyaWFsLVVJOiBBcmd1bWVudCBcInByb3BzXCIgbXVzdCBiZSBhIHN0cmluZyBvciBBcnJheS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihkdXJhdGlvbk9wdGlvbikgJiYgIWlzU3RyaW5nKGR1cmF0aW9uT3B0aW9uKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWF0ZXJpYWwtVUk6IEFyZ3VtZW50IFxcXCJkdXJhdGlvblxcXCIgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZyBidXQgZm91bmQgXCIuY29uY2F0KGR1cmF0aW9uT3B0aW9uLCBcIi5cIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzU3RyaW5nKGVhc2luZ09wdGlvbikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTWF0ZXJpYWwtVUk6IEFyZ3VtZW50IFwiZWFzaW5nXCIgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihkZWxheSkgJiYgIWlzU3RyaW5nKGRlbGF5KSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogQXJndW1lbnQgXCJkZWxheVwiIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmcuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhvdGhlcikubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXRlcmlhbC1VSTogVW5yZWNvZ25pemVkIGFyZ3VtZW50KHMpIFtcIi5jb25jYXQoT2JqZWN0LmtleXMob3RoZXIpLmpvaW4oJywnKSwgXCJdLlwiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHByb3BzKSA/IHByb3BzIDogW3Byb3BzXSkubWFwKGZ1bmN0aW9uIChhbmltYXRlZFByb3ApIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChhbmltYXRlZFByb3AsIFwiIFwiKS5jb25jYXQodHlwZW9mIGR1cmF0aW9uT3B0aW9uID09PSAnc3RyaW5nJyA/IGR1cmF0aW9uT3B0aW9uIDogZm9ybWF0TXMoZHVyYXRpb25PcHRpb24pLCBcIiBcIikuY29uY2F0KGVhc2luZ09wdGlvbiwgXCIgXCIpLmNvbmNhdCh0eXBlb2YgZGVsYXkgPT09ICdzdHJpbmcnID8gZGVsYXkgOiBmb3JtYXRNcyhkZWxheSkpO1xuICAgIH0pLmpvaW4oJywnKTtcbiAgfSxcbiAgZ2V0QXV0b0hlaWdodER1cmF0aW9uOiBmdW5jdGlvbiBnZXRBdXRvSGVpZ2h0RHVyYXRpb24oaGVpZ2h0KSB7XG4gICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHZhciBjb25zdGFudCA9IGhlaWdodCAvIDM2OyAvLyBodHRwczovL3d3dy53b2xmcmFtYWxwaGEuY29tL2lucHV0Lz9pPSg0KyUyQisxNSsqKyh4KyUyRiszNispKyoqKzAuMjUrJTJCKyh4KyUyRiszNikrJTJGKzUpKyorMTBcblxuICAgIHJldHVybiBNYXRoLnJvdW5kKCg0ICsgMTUgKiBNYXRoLnBvdyhjb25zdGFudCwgMC4yNSkgKyBjb25zdGFudCAvIDUpICogMTApO1xuICB9XG59OyIsIi8vIFdlIG5lZWQgdG8gY2VudHJhbGl6ZSB0aGUgekluZGV4IGRlZmluaXRpb25zIGFzIHRoZXkgd29ya1xuLy8gbGlrZSBnbG9iYWwgdmFsdWVzIGluIHRoZSBicm93c2VyLlxudmFyIHpJbmRleCA9IHtcbiAgbW9iaWxlU3RlcHBlcjogMTAwMCxcbiAgc3BlZWREaWFsOiAxMDUwLFxuICBhcHBCYXI6IDExMDAsXG4gIGRyYXdlcjogMTIwMCxcbiAgbW9kYWw6IDEzMDAsXG4gIHNuYWNrYmFyOiAxNDAwLFxuICB0b29sdGlwOiAxNTAwXG59O1xuZXhwb3J0IGRlZmF1bHQgekluZGV4OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCBjcmVhdGVCcmVha3BvaW50cyBmcm9tICcuL2NyZWF0ZUJyZWFrcG9pbnRzJztcbmltcG9ydCBjcmVhdGVNaXhpbnMgZnJvbSAnLi9jcmVhdGVNaXhpbnMnO1xuaW1wb3J0IGNyZWF0ZVBhbGV0dGUgZnJvbSAnLi9jcmVhdGVQYWxldHRlJztcbmltcG9ydCBjcmVhdGVUeXBvZ3JhcGh5IGZyb20gJy4vY3JlYXRlVHlwb2dyYXBoeSc7XG5pbXBvcnQgc2hhZG93cyBmcm9tICcuL3NoYWRvd3MnO1xuaW1wb3J0IHNoYXBlIGZyb20gJy4vc2hhcGUnO1xuaW1wb3J0IGNyZWF0ZVNwYWNpbmcgZnJvbSAnLi9jcmVhdGVTcGFjaW5nJztcbmltcG9ydCB0cmFuc2l0aW9ucyBmcm9tICcuL3RyYW5zaXRpb25zJztcbmltcG9ydCB6SW5kZXggZnJvbSAnLi96SW5kZXgnO1xuXG5mdW5jdGlvbiBjcmVhdGVUaGVtZSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gIHZhciBfb3B0aW9ucyRicmVha3BvaW50cyA9IG9wdGlvbnMuYnJlYWtwb2ludHMsXG4gICAgICBicmVha3BvaW50c0lucHV0ID0gX29wdGlvbnMkYnJlYWtwb2ludHMgPT09IHZvaWQgMCA/IHt9IDogX29wdGlvbnMkYnJlYWtwb2ludHMsXG4gICAgICBfb3B0aW9ucyRtaXhpbnMgPSBvcHRpb25zLm1peGlucyxcbiAgICAgIG1peGluc0lucHV0ID0gX29wdGlvbnMkbWl4aW5zID09PSB2b2lkIDAgPyB7fSA6IF9vcHRpb25zJG1peGlucyxcbiAgICAgIF9vcHRpb25zJHBhbGV0dGUgPSBvcHRpb25zLnBhbGV0dGUsXG4gICAgICBwYWxldHRlSW5wdXQgPSBfb3B0aW9ucyRwYWxldHRlID09PSB2b2lkIDAgPyB7fSA6IF9vcHRpb25zJHBhbGV0dGUsXG4gICAgICBzcGFjaW5nSW5wdXQgPSBvcHRpb25zLnNwYWNpbmcsXG4gICAgICBfb3B0aW9ucyR0eXBvZ3JhcGh5ID0gb3B0aW9ucy50eXBvZ3JhcGh5LFxuICAgICAgdHlwb2dyYXBoeUlucHV0ID0gX29wdGlvbnMkdHlwb2dyYXBoeSA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyR0eXBvZ3JhcGh5LFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9ucywgW1wiYnJlYWtwb2ludHNcIiwgXCJtaXhpbnNcIiwgXCJwYWxldHRlXCIsIFwic3BhY2luZ1wiLCBcInR5cG9ncmFwaHlcIl0pO1xuXG4gIHZhciBwYWxldHRlID0gY3JlYXRlUGFsZXR0ZShwYWxldHRlSW5wdXQpO1xuICB2YXIgYnJlYWtwb2ludHMgPSBjcmVhdGVCcmVha3BvaW50cyhicmVha3BvaW50c0lucHV0KTtcbiAgdmFyIHNwYWNpbmcgPSBjcmVhdGVTcGFjaW5nKHNwYWNpbmdJbnB1dCk7XG4gIHZhciBtdWlUaGVtZSA9IGRlZXBtZXJnZSh7XG4gICAgYnJlYWtwb2ludHM6IGJyZWFrcG9pbnRzLFxuICAgIGRpcmVjdGlvbjogJ2x0cicsXG4gICAgbWl4aW5zOiBjcmVhdGVNaXhpbnMoYnJlYWtwb2ludHMsIHNwYWNpbmcsIG1peGluc0lucHV0KSxcbiAgICBvdmVycmlkZXM6IHt9LFxuICAgIC8vIEluamVjdCBjdXN0b20gc3R5bGVzXG4gICAgcGFsZXR0ZTogcGFsZXR0ZSxcbiAgICBwcm9wczoge30sXG4gICAgLy8gUHJvdmlkZSBkZWZhdWx0IHByb3BzXG4gICAgc2hhZG93czogc2hhZG93cyxcbiAgICB0eXBvZ3JhcGh5OiBjcmVhdGVUeXBvZ3JhcGh5KHBhbGV0dGUsIHR5cG9ncmFwaHlJbnB1dCksXG4gICAgc3BhY2luZzogc3BhY2luZyxcbiAgICBzaGFwZTogc2hhcGUsXG4gICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zLFxuICAgIHpJbmRleDogekluZGV4XG4gIH0sIG90aGVyKTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBtdWlUaGVtZSA9IGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGRlZXBtZXJnZShhY2MsIGFyZ3VtZW50KTtcbiAgfSwgbXVpVGhlbWUpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIHBzZXVkb0NsYXNzZXMgPSBbJ2NoZWNrZWQnLCAnZGlzYWJsZWQnLCAnZXJyb3InLCAnZm9jdXNlZCcsICdmb2N1c1Zpc2libGUnLCAncmVxdWlyZWQnLCAnZXhwYW5kZWQnLCAnc2VsZWN0ZWQnXTtcblxuICAgIHZhciB0cmF2ZXJzZSA9IGZ1bmN0aW9uIHRyYXZlcnNlKG5vZGUsIHBhcmVudEtleSkge1xuICAgICAgdmFyIGRlcHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgdmFyIGtleTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbiwgbm8tcmVzdHJpY3RlZC1zeW50YXhcblxuICAgICAgZm9yIChrZXkgaW4gbm9kZSkge1xuICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2tleV07XG5cbiAgICAgICAgaWYgKGRlcHRoID09PSAxKSB7XG4gICAgICAgICAgaWYgKGtleS5pbmRleE9mKCdNdWknKSA9PT0gMCAmJiBjaGlsZCkge1xuICAgICAgICAgICAgdHJhdmVyc2UoY2hpbGQsIGtleSwgZGVwdGggKyAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHNldWRvQ2xhc3Nlcy5pbmRleE9mKGtleSkgIT09IC0xICYmIE9iamVjdC5rZXlzKGNoaWxkKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoW1wiTWF0ZXJpYWwtVUk6IFRoZSBgXCIuY29uY2F0KHBhcmVudEtleSwgXCJgIGNvbXBvbmVudCBpbmNyZWFzZXMgXCIpICsgXCJ0aGUgQ1NTIHNwZWNpZmljaXR5IG9mIHRoZSBgXCIuY29uY2F0KGtleSwgXCJgIGludGVybmFsIHN0YXRlLlwiKSwgJ1lvdSBjYW4gbm90IG92ZXJyaWRlIGl0IGxpa2UgdGhpczogJywgSlNPTi5zdHJpbmdpZnkobm9kZSwgbnVsbCwgMiksICcnLCAnSW5zdGVhZCwgeW91IG5lZWQgdG8gdXNlIHRoZSAkcnVsZU5hbWUgc3ludGF4OicsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgcm9vdDogX2RlZmluZVByb3BlcnR5KHt9LCBcIiYkXCIuY29uY2F0KGtleSksIGNoaWxkKVxuICAgICAgICAgICAgfSwgbnVsbCwgMiksICcnLCAnaHR0cHM6Ly9tYXRlcmlhbC11aS5jb20vci9wc2V1ZG8tY2xhc3Nlcy1ndWlkZSddLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICB9IC8vIFJlbW92ZSB0aGUgc3R5bGUgdG8gcHJldmVudCBnbG9iYWwgY29uZmxpY3RzLlxuXG5cbiAgICAgICAgICBub2RlW2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0cmF2ZXJzZShtdWlUaGVtZS5vdmVycmlkZXMpO1xuICB9XG5cbiAgcmV0dXJuIG11aVRoZW1lO1xufVxuXG52YXIgd2FybmVkT25jZSA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU11aVRoZW1lKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghd2FybmVkT25jZSkge1xuICAgICAgd2FybmVkT25jZSA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKFsnTWF0ZXJpYWwtVUk6IHRoZSBjcmVhdGVNdWlUaGVtZSBmdW5jdGlvbiB3YXMgcmVuYW1lZCB0byBjcmVhdGVUaGVtZS4nLCAnJywgXCJZb3Ugc2hvdWxkIHVzZSBgaW1wb3J0IHsgY3JlYXRlVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnYFwiXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVRoZW1lLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lOyIsImZ1bmN0aW9uIHRvVmFsKG1peCkge1xuXHR2YXIgaywgeSwgc3RyPScnO1xuXG5cdGlmICh0eXBlb2YgbWl4ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbWl4ID09PSAnbnVtYmVyJykge1xuXHRcdHN0ciArPSBtaXg7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1peCA9PT0gJ29iamVjdCcpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShtaXgpKSB7XG5cdFx0XHRmb3IgKGs9MDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRpZiAobWl4W2tdKSB7XG5cdFx0XHRcdFx0aWYgKHkgPSB0b1ZhbChtaXhba10pKSB7XG5cdFx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRcdFx0c3RyICs9IHk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoayBpbiBtaXgpIHtcblx0XHRcdFx0aWYgKG1peFtrXSkge1xuXHRcdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdFx0c3RyICs9IGs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3RyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG5cdHZhciBpPTAsIHRtcCwgeCwgc3RyPScnO1xuXHR3aGlsZSAoaSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRpZiAodG1wID0gYXJndW1lbnRzW2krK10pIHtcblx0XHRcdGlmICh4ID0gdG9WYWwodG1wKSkge1xuXHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRzdHIgKz0geFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gc3RyO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnXG5pbXBvcnQgeyByZWQgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMnXG5pbXBvcnQgeyBOT05BTUUgfSBmcm9tICdkbnMnXG5cbmNvbnN0IGxpZ2h0VGhlbWUgPSBjcmVhdGVUaGVtZSh7XG4gIHBhbGV0dGU6IHtcbiAgICBwcmltYXJ5OiB7XG4gICAgICBtYWluOiAnIzUxNTFGRidcbiAgICB9LFxuICAgIHNlY29uZGFyeToge1xuICAgICAgbWFpbjogJyNGRkZGRkYnXG4gICAgfSxcbiAgICBlcnJvcjoge1xuICAgICAgbWFpbjogcmVkLkE0MDBcbiAgICB9LFxuICAgIGJhY2tncm91bmQ6IHtcbiAgICAgIGRlZmF1bHQ6ICcjMDAwMDAwJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgcHJpbWFyeTogJyNGRkZGRkYnXG4gICAgICAvLyBzZWNvbmRhcnk6ICcjRkZENjAwJyxcbiAgICB9XG4gIH0sXG4gIHR5cG9ncmFwaHk6IHtcbiAgICBmb250RmFtaWx5OiBbJ1NGUHJvVGV4dC1SZWd1bGFyJywgJ1JvYm90bycsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCAnc2Fucy1zZXJpZiddLmpvaW4oJywnKSxcbiAgICBmb250U2l6ZTogMTQsXG4gICAgYnV0dG9uOiB7XG4gICAgICBjb2xvcjogJyNGRkZGRkYnXG4gICAgfVxuICB9LFxuICBvdmVycmlkZXM6IHtcbiAgICBNdWlUeXBvZ3JhcGh5OiB7XG4gICAgICBib2R5MToge1xuICAgICAgICBmb250RmFtaWx5OiBbJ1NGUHJvVGV4dC1SZWd1bGFyJywgJ1JvYm90bycsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCAnc2Fucy1zZXJpZiddLmpvaW4oJywnKVxuICAgICAgfSxcbiAgICAgIGgxOiB7XG4gICAgICAgIGZvbnRTaXplOiAyOCxcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICBtYXJnaW46ICcxNXB4IDBweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICcmLk11aVR5cG9ncmFwaHktY29sb3JTZWNvbmRhcnknOiB7XG4gICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDI6IHtcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICBtYXJnaW46ICc1cHggMHB4JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICcmLk11aVR5cG9ncmFwaHktY29sb3JTZWNvbmRhcnknOiB7XG4gICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDM6IHtcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBtYXJnaW46ICc1cHggMHB4JyxcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgJyYuTXVpVHlwb2dyYXBoeS1jb2xvclNlY29uZGFyeSc6IHtcbiAgICAgICAgICBjb2xvcjogJyNGRkZGRkYnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoNDoge1xuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIG1hcmdpbjogJzVweCAwcHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgJyYuTXVpVHlwb2dyYXBoeS1jb2xvclNlY29uZGFyeSc6IHtcbiAgICAgICAgICBjb2xvcjogJyM4QThBOEUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoNToge1xuICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgbWFyZ2luOiAnNXB4IDBweCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAnJi5NdWlUeXBvZ3JhcGh5LWNvbG9yU2Vjb25kYXJ5Jzoge1xuICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGg2OiB7XG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgZm9udEZhbWlseTogJ1NGUHJvVGV4dC1SZWd1bGFyJ1xuICAgICAgfSxcbiAgICAgIGFsaWduUmlnaHQ6IHtcbiAgICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ3JpZ2h0J1xuICAgICAgfSxcbiAgICAgIGFsaWduTGVmdDoge1xuICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2xlZnQnXG4gICAgICB9LFxuICAgICAgYWxpZ25DZW50ZXI6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQ29udGFpbmVyOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGZsZXg6ICdub25lJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRGlhbG9nOiB7XG4gICAgICBwYXBlcldpZHRoU206IHtcbiAgICAgICAgbWF4V2lkdGg6ICc0MCUnLFxuICAgICAgICB3aWR0aDogJzQwJScsXG4gICAgICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI0ZGRkZGRicsXG4gICAgICAgICdAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpJzoge1xuICAgICAgICAgIG1heFdpZHRoOiAnOTAlJyxcbiAgICAgICAgICB3aWR0aDogJzkwJSdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRGlhbG9nVGl0bGU6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRGlhbG9nQ29udGVudDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICB0ZXh0QWxpZ246ICdqdXN0aWZ5JyxcbiAgICAgICAgcGFkZGluZzogJyAwIDI0cHggMjRweCAyNHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQnV0dG9uQmFzZToge1xuICAgICAgcm9vdDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsICwwLjkpJyxcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICBtYXJnaW46ICcwIDEwcHgnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlJY29uQnV0dG9uOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29sb3JQcmltYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM1MTUxRkYnLFxuICAgICAgICBjb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNTE1MUZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29sb3JTZWNvbmRhcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogJyM4RThFOTMnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlTbGlkZXI6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgY29sb3I6ICcjNDg0ODQ4J1xuICAgICAgfSxcbiAgICAgIHRodW1iOiB7XG4gICAgICAgIGhlaWdodDogJzI0cHgnLFxuICAgICAgICB3aWR0aDogJzI0cHgnLFxuICAgICAgICBtYXJnaW5Ub3A6ICctMTBweCcsXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnXG4gICAgICB9LFxuICAgICAgdGh1bWJDb2xvclByaW1hcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC44KScsXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjQThBOEZGJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpTGluZWFyUHJvZ3Jlc3M6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgaGVpZ2h0OiAnMzRweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAnQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSc6IHtcbiAgICAgICAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMHB4J1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmFyOiB7XG4gICAgICAgIGJvcmRlclJhZGl1czogJ2luaGVyaXQnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlNZW51SXRlbToge1xuICAgICAgcm9vdDoge1xuICAgICAgICBwYWRkaW5nOiAnNXB4JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpU25hY2tiYXI6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgbWF4V2lkdGg6ICc4MCUnLFxuICAgICAgICBtaW5XaWR0aDogJzQwJScsXG4gICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgIGxlZnQ6ICczMCUnLFxuICAgICAgICByaWdodDogJzMwJScsXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOSknLFxuICAgICAgICBib3hTaGFkb3c6ICcwcHggMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMiknLFxuICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICAnQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSc6IHtcbiAgICAgICAgICBtYXhXaWR0aDogJzkwJScsXG4gICAgICAgICAgd2lkdGg6ICc5MCUnLFxuICAgICAgICAgIGxlZnQ6ICc1JScsXG4gICAgICAgICAgcmlnaHQ6ICc1JSdcbiAgICAgICAgfSxcbiAgICAgICAgTXVpU3ZnSWNvbjoge1xuICAgICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIGhlaWdodDogJzdlbScsXG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpblRvcENlbnRlcjoge1xuICAgICAgICB0b3A6ICcxMCUnXG4gICAgICB9LFxuICAgICAgYW5jaG9yT3JpZ2luQm90dG9tQ2VudGVyOiB7XG4gICAgICAgIGJvdHRvbTogJzYwcHgnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIDIwcHgpJ1xuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpblRvcExlZnQ6IHtcbiAgICAgICAgbGVmdDogJzBweCcsXG4gICAgICAgIHRvcDogJzI0cHgnLFxuICAgICAgICB3aWR0aDogJzUyJScsXG4gICAgICAgIG1heFdpZHRoOiAnODAlJyxcbiAgICAgICAgJ0BtZWRpYSAobWF4LXdpZHRoOiA3NjhweCknOiB7XG4gICAgICAgICAgd2lkdGg6ICc5MCUnXG4gICAgICAgIH0sXG4gICAgICAgICdAbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpJzoge1xuICAgICAgICAgIGxlZnQ6ICcwcHgnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVNuYWNrYmFyQ29udGVudDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBjb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuOSknLFxuICAgICAgICBtaW5XaWR0aDogJzBweCcsXG4gICAgICAgICdAbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpJzoge1xuICAgICAgICAgIG1pbldpZHRoOiAnMHB4J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlEcmF3ZXI6IHtcbiAgICAgIHBhcGVyOiB7XG4gICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjg1KSdcbiAgICAgIH0sXG5cbiAgICAgIHBhcGVyQW5jaG9yUmlnaHQ6IHtcbiAgICAgICAgd2lkdGg6ICcyNSUnLFxuICAgICAgICAnQG1lZGlhIChtYXgtd2lkdGg6IDEyODBweCknOiB7XG4gICAgICAgICAgd2lkdGg6ICczMyUnXG4gICAgICAgIH0sXG4gICAgICAgICdAbWVkaWEgKG1heC13aWR0aDogMTAyNHB4KSc6IHtcbiAgICAgICAgICB3aWR0aDogJzQwJSdcbiAgICAgICAgfSxcbiAgICAgICAgJ0BtZWRpYSAob3JpZW50YXRpb246IHBvcnRyYWl0KSc6IHtcbiAgICAgICAgICB3aWR0aDogJzEwMHZ3J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlDYXJkOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUNhcmRNZWRpYToge1xuICAgICAgbWVkaWE6IHtcbiAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI0E4QThGRidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpTGlzdDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyMDYsMjA2LDIwNiwwLjEpJyxcbiAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpTGlzdEl0ZW06IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgcGFkZGluZzogJzBweCcsXG4gICAgICAgIHBhZGRpbmdUb3A6ICcwcHgnLFxuICAgICAgICBtYXJnaW46ICcycHggMCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUxpc3RJdGVtVGV4dDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAuNSknLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1cHgnLFxuICAgICAgICBwYWRkaW5nOiAnNXB4IDEwcHgnLFxuICAgICAgICB3aWR0aDogJ2ZpdC1jb250ZW50JyxcbiAgICAgICAgZmxleDogJ2luaGVyaXQnLFxuICAgICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlDYXJkQ29udGVudDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBtYXJnaW46ICc1cHggMCcsXG4gICAgICAgIHBhZGRpbmc6ICc1cHggMjBweCcsXG4gICAgICAgICcmOmxhc3QtY2hpbGQnOiB7XG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogJzBweCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQ2FyZEhlYWRlcjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBwYWRkaW5nOiAnMCAxNXB4IDVweCAxNXB4J1xuICAgICAgfSxcbiAgICAgIGF2YXRhcjoge1xuICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGhlaWdodDogJzQwcHgnLFxuICAgICAgICB3aWR0aDogJzQwcHgnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlQYXBlcjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUlucHV0QmFzZToge1xuICAgICAgaW5wdXQ6IHtcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRm9ybUxhYmVsOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUJ1dHRvbjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICB3aWR0aDogJzIyMHB4JyxcbiAgICAgICAgbWFyZ2luOiAnMTBweCBhdXRvJyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgIHRleHRUcmFuc2Zvcm06ICdub25lJ1xuICAgICAgfSxcbiAgICAgIC8vIGxhYmVsOiB7XG4gICAgICAvLyAgIHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJyxcbiAgICAgIC8vIH0sXG4gICAgICBvdXRsaW5lZDoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnXG4gICAgICB9LFxuICAgICAgb3V0bGluZWRQcmltYXJ5OiB7XG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJveFNoYWRvdzogJzAgMCAxMHB4ICM1MTUxRkYnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvdXRsaW5lZFNlY29uZGFyeToge1xuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDAgMTBweCAjRkZGRkZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29udGFpbmVkU2Vjb25kYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZGRkZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29udGFpbmVkUHJpbWFyeToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJ1xuICAgICAgfSxcbiAgICAgIHRleHQ6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpU3ZnSWNvbjoge1xuICAgICAgY29sb3JQcmltYXJ5OiB7XG4gICAgICAgIGNvbG9yOiAnI0E4QThGRidcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUZhYjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBoZWlnaHQ6ICczZW0nLFxuICAgICAgICB3aWR0aDogJ2ZpdC1jb250ZW50JyxcbiAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICBtYXJnaW46ICcwcHggNXB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogJ2NhcGl0YWxpemUnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRjRGNEY1JyxcbiAgICAgICAgY29sb3I6ICcjOEU4RTkzJ1xuICAgICAgfSxcbiAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjgpJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRm9ybUdyb3VwOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdydcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aU91dGxpbmVkSW5wdXQ6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgbWFyZ2luOiAnMTBweCAwJ1xuICAgICAgfSxcbiAgICAgIGFkb3JuZWRFbmQ6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQmFkZ2U6IHtcbiAgICAgIGFuY2hvck9yaWdpblRvcExlZnRSZWN0YW5nbGU6IHtcbiAgICAgICAgbGVmdDogJzZweCdcbiAgICAgIH0sXG4gICAgICBkb3Q6IHtcbiAgICAgICAgaGVpZ2h0OiAnMTJweCcsXG4gICAgICAgIHdpZHRoOiAnMTJweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzUwJSdcbiAgICAgIH0sXG4gICAgICBjb2xvclByaW1hcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzdBRkY2NCdcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pXG5cbi8vIGV4cG9ydCBkZWZhdWx0IGRhcmtUaGVtZTtcbmV4cG9ydCBkZWZhdWx0IGxpZ2h0VGhlbWVcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGRlZmF1bHQge1xuICBkaXNhYmxlZDogZmFsc2Vcbn07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBkZWZhdWx0IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2VcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IHRpbWVvdXRzU2hhcGUgfSBmcm9tICcuL3V0aWxzL1Byb3BUeXBlcyc7XG5pbXBvcnQgVHJhbnNpdGlvbkdyb3VwQ29udGV4dCBmcm9tICcuL1RyYW5zaXRpb25Hcm91cENvbnRleHQnO1xuZXhwb3J0IHZhciBVTk1PVU5URUQgPSAndW5tb3VudGVkJztcbmV4cG9ydCB2YXIgRVhJVEVEID0gJ2V4aXRlZCc7XG5leHBvcnQgdmFyIEVOVEVSSU5HID0gJ2VudGVyaW5nJztcbmV4cG9ydCB2YXIgRU5URVJFRCA9ICdlbnRlcmVkJztcbmV4cG9ydCB2YXIgRVhJVElORyA9ICdleGl0aW5nJztcbi8qKlxuICogVGhlIFRyYW5zaXRpb24gY29tcG9uZW50IGxldHMgeW91IGRlc2NyaWJlIGEgdHJhbnNpdGlvbiBmcm9tIG9uZSBjb21wb25lbnRcbiAqIHN0YXRlIHRvIGFub3RoZXIgX292ZXIgdGltZV8gd2l0aCBhIHNpbXBsZSBkZWNsYXJhdGl2ZSBBUEkuIE1vc3QgY29tbW9ubHlcbiAqIGl0J3MgdXNlZCB0byBhbmltYXRlIHRoZSBtb3VudGluZyBhbmQgdW5tb3VudGluZyBvZiBhIGNvbXBvbmVudCwgYnV0IGNhbiBhbHNvXG4gKiBiZSB1c2VkIHRvIGRlc2NyaWJlIGluLXBsYWNlIHRyYW5zaXRpb24gc3RhdGVzIGFzIHdlbGwuXG4gKlxuICogLS0tXG4gKlxuICogKipOb3RlKio6IGBUcmFuc2l0aW9uYCBpcyBhIHBsYXRmb3JtLWFnbm9zdGljIGJhc2UgY29tcG9uZW50LiBJZiB5b3UncmUgdXNpbmdcbiAqIHRyYW5zaXRpb25zIGluIENTUywgeW91J2xsIHByb2JhYmx5IHdhbnQgdG8gdXNlXG4gKiBbYENTU1RyYW5zaXRpb25gXShodHRwczovL3JlYWN0Y29tbXVuaXR5Lm9yZy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2Nzcy10cmFuc2l0aW9uKVxuICogaW5zdGVhZC4gSXQgaW5oZXJpdHMgYWxsIHRoZSBmZWF0dXJlcyBvZiBgVHJhbnNpdGlvbmAsIGJ1dCBjb250YWluc1xuICogYWRkaXRpb25hbCBmZWF0dXJlcyBuZWNlc3NhcnkgdG8gcGxheSBuaWNlIHdpdGggQ1NTIHRyYW5zaXRpb25zIChoZW5jZSB0aGVcbiAqIG5hbWUgb2YgdGhlIGNvbXBvbmVudCkuXG4gKlxuICogLS0tXG4gKlxuICogQnkgZGVmYXVsdCB0aGUgYFRyYW5zaXRpb25gIGNvbXBvbmVudCBkb2VzIG5vdCBhbHRlciB0aGUgYmVoYXZpb3Igb2YgdGhlXG4gKiBjb21wb25lbnQgaXQgcmVuZGVycywgaXQgb25seSB0cmFja3MgXCJlbnRlclwiIGFuZCBcImV4aXRcIiBzdGF0ZXMgZm9yIHRoZVxuICogY29tcG9uZW50cy4gSXQncyB1cCB0byB5b3UgdG8gZ2l2ZSBtZWFuaW5nIGFuZCBlZmZlY3QgdG8gdGhvc2Ugc3RhdGVzLiBGb3JcbiAqIGV4YW1wbGUgd2UgY2FuIGFkZCBzdHlsZXMgdG8gYSBjb21wb25lbnQgd2hlbiBpdCBlbnRlcnMgb3IgZXhpdHM6XG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyBUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG4gKlxuICogY29uc3QgZHVyYXRpb24gPSAzMDA7XG4gKlxuICogY29uc3QgZGVmYXVsdFN0eWxlID0ge1xuICogICB0cmFuc2l0aW9uOiBgb3BhY2l0eSAke2R1cmF0aW9ufW1zIGVhc2UtaW4tb3V0YCxcbiAqICAgb3BhY2l0eTogMCxcbiAqIH1cbiAqXG4gKiBjb25zdCB0cmFuc2l0aW9uU3R5bGVzID0ge1xuICogICBlbnRlcmluZzogeyBvcGFjaXR5OiAxIH0sXG4gKiAgIGVudGVyZWQ6ICB7IG9wYWNpdHk6IDEgfSxcbiAqICAgZXhpdGluZzogIHsgb3BhY2l0eTogMCB9LFxuICogICBleGl0ZWQ6ICB7IG9wYWNpdHk6IDAgfSxcbiAqIH07XG4gKlxuICogY29uc3QgRmFkZSA9ICh7IGluOiBpblByb3AgfSkgPT4gKFxuICogICA8VHJhbnNpdGlvbiBpbj17aW5Qcm9wfSB0aW1lb3V0PXtkdXJhdGlvbn0+XG4gKiAgICAge3N0YXRlID0+IChcbiAqICAgICAgIDxkaXYgc3R5bGU9e3tcbiAqICAgICAgICAgLi4uZGVmYXVsdFN0eWxlLFxuICogICAgICAgICAuLi50cmFuc2l0aW9uU3R5bGVzW3N0YXRlXVxuICogICAgICAgfX0+XG4gKiAgICAgICAgIEknbSBhIGZhZGUgVHJhbnNpdGlvbiFcbiAqICAgICAgIDwvZGl2PlxuICogICAgICl9XG4gKiAgIDwvVHJhbnNpdGlvbj5cbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBUaGVyZSBhcmUgNCBtYWluIHN0YXRlcyBhIFRyYW5zaXRpb24gY2FuIGJlIGluOlxuICogIC0gYCdlbnRlcmluZydgXG4gKiAgLSBgJ2VudGVyZWQnYFxuICogIC0gYCdleGl0aW5nJ2BcbiAqICAtIGAnZXhpdGVkJ2BcbiAqXG4gKiBUcmFuc2l0aW9uIHN0YXRlIGlzIHRvZ2dsZWQgdmlhIHRoZSBgaW5gIHByb3AuIFdoZW4gYHRydWVgIHRoZSBjb21wb25lbnRcbiAqIGJlZ2lucyB0aGUgXCJFbnRlclwiIHN0YWdlLiBEdXJpbmcgdGhpcyBzdGFnZSwgdGhlIGNvbXBvbmVudCB3aWxsIHNoaWZ0IGZyb21cbiAqIGl0cyBjdXJyZW50IHRyYW5zaXRpb24gc3RhdGUsIHRvIGAnZW50ZXJpbmcnYCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICogdHJhbnNpdGlvbiBhbmQgdGhlbiB0byB0aGUgYCdlbnRlcmVkJ2Agc3RhZ2Ugb25jZSBpdCdzIGNvbXBsZXRlLiBMZXQncyB0YWtlXG4gKiB0aGUgZm9sbG93aW5nIGV4YW1wbGUgKHdlJ2xsIHVzZSB0aGVcbiAqIFt1c2VTdGF0ZV0oaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLXJlZmVyZW5jZS5odG1sI3VzZXN0YXRlKSBob29rKTpcbiAqXG4gKiBgYGBqc3hcbiAqIGZ1bmN0aW9uIEFwcCgpIHtcbiAqICAgY29uc3QgW2luUHJvcCwgc2V0SW5Qcm9wXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPFRyYW5zaXRpb24gaW49e2luUHJvcH0gdGltZW91dD17NTAwfT5cbiAqICAgICAgICAge3N0YXRlID0+IChcbiAqICAgICAgICAgICAvLyAuLi5cbiAqICAgICAgICAgKX1cbiAqICAgICAgIDwvVHJhbnNpdGlvbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SW5Qcm9wKHRydWUpfT5cbiAqICAgICAgICAgQ2xpY2sgdG8gRW50ZXJcbiAqICAgICAgIDwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQgdGhlIGNvbXBvbmVudCB3aWxsIHNoaWZ0IHRvIHRoZSBgJ2VudGVyaW5nJ2Agc3RhdGVcbiAqIGFuZCBzdGF5IHRoZXJlIGZvciA1MDBtcyAodGhlIHZhbHVlIG9mIGB0aW1lb3V0YCkgYmVmb3JlIGl0IGZpbmFsbHkgc3dpdGNoZXNcbiAqIHRvIGAnZW50ZXJlZCdgLlxuICpcbiAqIFdoZW4gYGluYCBpcyBgZmFsc2VgIHRoZSBzYW1lIHRoaW5nIGhhcHBlbnMgZXhjZXB0IHRoZSBzdGF0ZSBtb3ZlcyBmcm9tXG4gKiBgJ2V4aXRpbmcnYCB0byBgJ2V4aXRlZCdgLlxuICovXG5cbnZhciBUcmFuc2l0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRyYW5zaXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb24ocHJvcHMsIGNvbnRleHQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcbiAgICB2YXIgcGFyZW50R3JvdXAgPSBjb250ZXh0OyAvLyBJbiB0aGUgY29udGV4dCBvZiBhIFRyYW5zaXRpb25Hcm91cCBhbGwgZW50ZXJzIGFyZSByZWFsbHkgYXBwZWFyc1xuXG4gICAgdmFyIGFwcGVhciA9IHBhcmVudEdyb3VwICYmICFwYXJlbnRHcm91cC5pc01vdW50aW5nID8gcHJvcHMuZW50ZXIgOiBwcm9wcy5hcHBlYXI7XG4gICAgdmFyIGluaXRpYWxTdGF0dXM7XG4gICAgX3RoaXMuYXBwZWFyU3RhdHVzID0gbnVsbDtcblxuICAgIGlmIChwcm9wcy5pbikge1xuICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICBpbml0aWFsU3RhdHVzID0gRVhJVEVEO1xuICAgICAgICBfdGhpcy5hcHBlYXJTdGF0dXMgPSBFTlRFUklORztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRpYWxTdGF0dXMgPSBFTlRFUkVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcHMudW5tb3VudE9uRXhpdCB8fCBwcm9wcy5tb3VudE9uRW50ZXIpIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IFVOTU9VTlRFRDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRpYWxTdGF0dXMgPSBFWElURUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdGF0dXM6IGluaXRpYWxTdGF0dXNcbiAgICB9O1xuICAgIF90aGlzLm5leHRDYWxsYmFjayA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVHJhbnNpdGlvbi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoX3JlZiwgcHJldlN0YXRlKSB7XG4gICAgdmFyIG5leHRJbiA9IF9yZWYuaW47XG5cbiAgICBpZiAobmV4dEluICYmIHByZXZTdGF0ZS5zdGF0dXMgPT09IFVOTU9VTlRFRCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzKSB7XG4gIC8vICAgbGV0IG5leHRTdGF0dXMgPSBudWxsXG4gIC8vICAgaWYgKHByZXZQcm9wcyAhPT0gdGhpcy5wcm9wcykge1xuICAvLyAgICAgY29uc3QgeyBzdGF0dXMgfSA9IHRoaXMuc3RhdGVcbiAgLy8gICAgIGlmICh0aGlzLnByb3BzLmluKSB7XG4gIC8vICAgICAgIGlmIChzdGF0dXMgIT09IEVOVEVSSU5HICYmIHN0YXR1cyAhPT0gRU5URVJFRCkge1xuICAvLyAgICAgICAgIG5leHRTdGF0dXMgPSBFTlRFUklOR1xuICAvLyAgICAgICB9XG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICBpZiAoc3RhdHVzID09PSBFTlRFUklORyB8fCBzdGF0dXMgPT09IEVOVEVSRUQpIHtcbiAgLy8gICAgICAgICBuZXh0U3RhdHVzID0gRVhJVElOR1xuICAvLyAgICAgICB9XG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyAgIHJldHVybiB7IG5leHRTdGF0dXMgfVxuICAvLyB9XG4gIDtcblxuICB2YXIgX3Byb3RvID0gVHJhbnNpdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy51cGRhdGVTdGF0dXModHJ1ZSwgdGhpcy5hcHBlYXJTdGF0dXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIG5leHRTdGF0dXMgPSBudWxsO1xuXG4gICAgaWYgKHByZXZQcm9wcyAhPT0gdGhpcy5wcm9wcykge1xuICAgICAgdmFyIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5pbikge1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBFTlRFUklORyAmJiBzdGF0dXMgIT09IEVOVEVSRUQpIHtcbiAgICAgICAgICBuZXh0U3RhdHVzID0gRU5URVJJTkc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IEVOVEVSSU5HIHx8IHN0YXR1cyA9PT0gRU5URVJFRCkge1xuICAgICAgICAgIG5leHRTdGF0dXMgPSBFWElUSU5HO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTdGF0dXMoZmFsc2UsIG5leHRTdGF0dXMpO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCk7XG4gIH07XG5cbiAgX3Byb3RvLmdldFRpbWVvdXRzID0gZnVuY3Rpb24gZ2V0VGltZW91dHMoKSB7XG4gICAgdmFyIHRpbWVvdXQgPSB0aGlzLnByb3BzLnRpbWVvdXQ7XG4gICAgdmFyIGV4aXQsIGVudGVyLCBhcHBlYXI7XG4gICAgZXhpdCA9IGVudGVyID0gYXBwZWFyID0gdGltZW91dDtcblxuICAgIGlmICh0aW1lb3V0ICE9IG51bGwgJiYgdHlwZW9mIHRpbWVvdXQgIT09ICdudW1iZXInKSB7XG4gICAgICBleGl0ID0gdGltZW91dC5leGl0O1xuICAgICAgZW50ZXIgPSB0aW1lb3V0LmVudGVyOyAvLyBUT0RPOiByZW1vdmUgZmFsbGJhY2sgZm9yIG5leHQgbWFqb3JcblxuICAgICAgYXBwZWFyID0gdGltZW91dC5hcHBlYXIgIT09IHVuZGVmaW5lZCA/IHRpbWVvdXQuYXBwZWFyIDogZW50ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV4aXQ6IGV4aXQsXG4gICAgICBlbnRlcjogZW50ZXIsXG4gICAgICBhcHBlYXI6IGFwcGVhclxuICAgIH07XG4gIH07XG5cbiAgX3Byb3RvLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhtb3VudGluZywgbmV4dFN0YXR1cykge1xuICAgIGlmIChtb3VudGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICBtb3VudGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChuZXh0U3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAvLyBuZXh0U3RhdHVzIHdpbGwgYWx3YXlzIGJlIEVOVEVSSU5HIG9yIEVYSVRJTkcuXG4gICAgICB0aGlzLmNhbmNlbE5leHRDYWxsYmFjaygpO1xuXG4gICAgICBpZiAobmV4dFN0YXR1cyA9PT0gRU5URVJJTkcpIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtRW50ZXIobW91bnRpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wZXJmb3JtRXhpdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51bm1vdW50T25FeGl0ICYmIHRoaXMuc3RhdGUuc3RhdHVzID09PSBFWElURUQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IFVOTU9VTlRFRFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5wZXJmb3JtRW50ZXIgPSBmdW5jdGlvbiBwZXJmb3JtRW50ZXIobW91bnRpbmcpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBlbnRlciA9IHRoaXMucHJvcHMuZW50ZXI7XG4gICAgdmFyIGFwcGVhcmluZyA9IHRoaXMuY29udGV4dCA/IHRoaXMuY29udGV4dC5pc01vdW50aW5nIDogbW91bnRpbmc7XG5cbiAgICB2YXIgX3JlZjIgPSB0aGlzLnByb3BzLm5vZGVSZWYgPyBbYXBwZWFyaW5nXSA6IFtSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKSwgYXBwZWFyaW5nXSxcbiAgICAgICAgbWF5YmVOb2RlID0gX3JlZjJbMF0sXG4gICAgICAgIG1heWJlQXBwZWFyaW5nID0gX3JlZjJbMV07XG5cbiAgICB2YXIgdGltZW91dHMgPSB0aGlzLmdldFRpbWVvdXRzKCk7XG4gICAgdmFyIGVudGVyVGltZW91dCA9IGFwcGVhcmluZyA/IHRpbWVvdXRzLmFwcGVhciA6IHRpbWVvdXRzLmVudGVyOyAvLyBubyBlbnRlciBhbmltYXRpb24gc2tpcCByaWdodCB0byBFTlRFUkVEXG4gICAgLy8gaWYgd2UgYXJlIG1vdW50aW5nIGFuZCBydW5uaW5nIHRoaXMgaXQgbWVhbnMgYXBwZWFyIF9tdXN0XyBiZSBzZXRcblxuICAgIGlmICghbW91bnRpbmcgJiYgIWVudGVyIHx8IGNvbmZpZy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IEVOVEVSRURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnByb3BzLm9uRW50ZXJlZChtYXliZU5vZGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkVudGVyKG1heWJlTm9kZSwgbWF5YmVBcHBlYXJpbmcpO1xuICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgIHN0YXR1czogRU5URVJJTkdcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIucHJvcHMub25FbnRlcmluZyhtYXliZU5vZGUsIG1heWJlQXBwZWFyaW5nKTtcblxuICAgICAgX3RoaXMyLm9uVHJhbnNpdGlvbkVuZChlbnRlclRpbWVvdXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnNhZmVTZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBFTlRFUkVEXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIucHJvcHMub25FbnRlcmVkKG1heWJlTm9kZSwgbWF5YmVBcHBlYXJpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5wZXJmb3JtRXhpdCA9IGZ1bmN0aW9uIHBlcmZvcm1FeGl0KCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIGV4aXQgPSB0aGlzLnByb3BzLmV4aXQ7XG4gICAgdmFyIHRpbWVvdXRzID0gdGhpcy5nZXRUaW1lb3V0cygpO1xuICAgIHZhciBtYXliZU5vZGUgPSB0aGlzLnByb3BzLm5vZGVSZWYgPyB1bmRlZmluZWQgOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTsgLy8gbm8gZXhpdCBhbmltYXRpb24gc2tpcCByaWdodCB0byBFWElURURcblxuICAgIGlmICghZXhpdCB8fCBjb25maWcuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnByb3BzLm9uRXhpdGVkKG1heWJlTm9kZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uRXhpdChtYXliZU5vZGUpO1xuICAgIHRoaXMuc2FmZVNldFN0YXRlKHtcbiAgICAgIHN0YXR1czogRVhJVElOR1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMy5wcm9wcy5vbkV4aXRpbmcobWF5YmVOb2RlKTtcblxuICAgICAgX3RoaXMzLm9uVHJhbnNpdGlvbkVuZCh0aW1lb3V0cy5leGl0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICAgIHN0YXR1czogRVhJVEVEXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczMucHJvcHMub25FeGl0ZWQobWF5YmVOb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8uY2FuY2VsTmV4dENhbGxiYWNrID0gZnVuY3Rpb24gY2FuY2VsTmV4dENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLm5leHRDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsKCk7XG4gICAgICB0aGlzLm5leHRDYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5zYWZlU2V0U3RhdGUgPSBmdW5jdGlvbiBzYWZlU2V0U3RhdGUobmV4dFN0YXRlLCBjYWxsYmFjaykge1xuICAgIC8vIFRoaXMgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeSwgYnV0IHRoZXJlIGFyZSB3ZWlyZCByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBhbmQgdW5tb3VudGluZyBpbiB0ZXN0aW5nLCBzbyBhbHdheXMgbWFrZSBzdXJlIHRoYXRcbiAgICAvLyB3ZSBjYW4gY2FuY2VsIGFueSBwZW5kaW5nIHNldFN0YXRlIGNhbGxiYWNrcyBhZnRlciB3ZSB1bm1vdW50LlxuICAgIGNhbGxiYWNrID0gdGhpcy5zZXROZXh0Q2FsbGJhY2soY2FsbGJhY2spO1xuICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgX3Byb3RvLnNldE5leHRDYWxsYmFjayA9IGZ1bmN0aW9uIHNldE5leHRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIGFjdGl2ZSA9IHRydWU7XG5cbiAgICB0aGlzLm5leHRDYWxsYmFjayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXM0Lm5leHRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIGNhbGxiYWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm5leHRDYWxsYmFjaztcbiAgfTtcblxuICBfcHJvdG8ub25UcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKHRpbWVvdXQsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnNldE5leHRDYWxsYmFjayhoYW5kbGVyKTtcbiAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZVJlZiA/IHRoaXMucHJvcHMubm9kZVJlZi5jdXJyZW50IDogUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG4gICAgdmFyIGRvZXNOb3RIYXZlVGltZW91dE9yTGlzdGVuZXIgPSB0aW1lb3V0ID09IG51bGwgJiYgIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7XG5cbiAgICBpZiAoIW5vZGUgfHwgZG9lc05vdEhhdmVUaW1lb3V0T3JMaXN0ZW5lcikge1xuICAgICAgc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIHZhciBfcmVmMyA9IHRoaXMucHJvcHMubm9kZVJlZiA/IFt0aGlzLm5leHRDYWxsYmFja10gOiBbbm9kZSwgdGhpcy5uZXh0Q2FsbGJhY2tdLFxuICAgICAgICAgIG1heWJlTm9kZSA9IF9yZWYzWzBdLFxuICAgICAgICAgIG1heWJlTmV4dENhbGxiYWNrID0gX3JlZjNbMV07XG5cbiAgICAgIHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIobWF5YmVOb2RlLCBtYXliZU5leHRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywgdGltZW91dCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gVU5NT1VOVEVEKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBfaW4gPSBfdGhpcyRwcm9wcy5pbixcbiAgICAgICAgX21vdW50T25FbnRlciA9IF90aGlzJHByb3BzLm1vdW50T25FbnRlcixcbiAgICAgICAgX3VubW91bnRPbkV4aXQgPSBfdGhpcyRwcm9wcy51bm1vdW50T25FeGl0LFxuICAgICAgICBfYXBwZWFyID0gX3RoaXMkcHJvcHMuYXBwZWFyLFxuICAgICAgICBfZW50ZXIgPSBfdGhpcyRwcm9wcy5lbnRlcixcbiAgICAgICAgX2V4aXQgPSBfdGhpcyRwcm9wcy5leGl0LFxuICAgICAgICBfdGltZW91dCA9IF90aGlzJHByb3BzLnRpbWVvdXQsXG4gICAgICAgIF9hZGRFbmRMaXN0ZW5lciA9IF90aGlzJHByb3BzLmFkZEVuZExpc3RlbmVyLFxuICAgICAgICBfb25FbnRlciA9IF90aGlzJHByb3BzLm9uRW50ZXIsXG4gICAgICAgIF9vbkVudGVyaW5nID0gX3RoaXMkcHJvcHMub25FbnRlcmluZyxcbiAgICAgICAgX29uRW50ZXJlZCA9IF90aGlzJHByb3BzLm9uRW50ZXJlZCxcbiAgICAgICAgX29uRXhpdCA9IF90aGlzJHByb3BzLm9uRXhpdCxcbiAgICAgICAgX29uRXhpdGluZyA9IF90aGlzJHByb3BzLm9uRXhpdGluZyxcbiAgICAgICAgX29uRXhpdGVkID0gX3RoaXMkcHJvcHMub25FeGl0ZWQsXG4gICAgICAgIF9ub2RlUmVmID0gX3RoaXMkcHJvcHMubm9kZVJlZixcbiAgICAgICAgY2hpbGRQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImluXCIsIFwibW91bnRPbkVudGVyXCIsIFwidW5tb3VudE9uRXhpdFwiLCBcImFwcGVhclwiLCBcImVudGVyXCIsIFwiZXhpdFwiLCBcInRpbWVvdXRcIiwgXCJhZGRFbmRMaXN0ZW5lclwiLCBcIm9uRW50ZXJcIiwgXCJvbkVudGVyaW5nXCIsIFwib25FbnRlcmVkXCIsIFwib25FeGl0XCIsIFwib25FeGl0aW5nXCIsIFwib25FeGl0ZWRcIiwgXCJub2RlUmVmXCJdKTtcblxuICAgIHJldHVybiAoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyBhbGxvd3MgZm9yIG5lc3RlZCBUcmFuc2l0aW9uc1xuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LCB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihzdGF0dXMsIGNoaWxkUHJvcHMpIDogUmVhY3QuY2xvbmVFbGVtZW50KFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCBjaGlsZFByb3BzKSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2l0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5UcmFuc2l0aW9uLmNvbnRleHRUeXBlID0gVHJhbnNpdGlvbkdyb3VwQ29udGV4dDtcblRyYW5zaXRpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogQSBSZWFjdCByZWZlcmVuY2UgdG8gRE9NIGVsZW1lbnQgdGhhdCBuZWVkIHRvIHRyYW5zaXRpb246XG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MTEyNzEzMC80NjcxOTMyXG4gICAqXG4gICAqICAgLSBXaGVuIGBub2RlUmVmYCBwcm9wIGlzIHVzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkIHRvIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgKiAgICAgIChlLmcuIGBvbkVudGVyYCkgYmVjYXVzZSB1c2VyIGFscmVhZHkgaGFzIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIG5vZGUuXG4gICAqICAgLSBXaGVuIGNoYW5naW5nIGBrZXlgIHByb3Agb2YgYFRyYW5zaXRpb25gIGluIGEgYFRyYW5zaXRpb25Hcm91cGAgYSBuZXdcbiAgICogICAgIGBub2RlUmVmYCBuZWVkIHRvIGJlIHByb3ZpZGVkIHRvIGBUcmFuc2l0aW9uYCB3aXRoIGNoYW5nZWQgYGtleWAgcHJvcFxuICAgKiAgICAgKHNlZVxuICAgKiAgICAgW3Rlc3QvQ1NTVHJhbnNpdGlvbi10ZXN0LmpzXShodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwL2Jsb2IvMTM0MzVmODk3YjNhYjcxZjZlMTlkNzI0ZjE0NTU5NmY1OTEwNTgxYy90ZXN0L0NTU1RyYW5zaXRpb24tdGVzdC5qcyNMMzYyLUw0MzcpKS5cbiAgICovXG4gIG5vZGVSZWY6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogdHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gUHJvcFR5cGVzLmFueSA6IGZ1bmN0aW9uIChwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwcm9wVmFsdWVba2V5XTtcbiAgICAgIHJldHVybiBQcm9wVHlwZXMuaW5zdGFuY2VPZih2YWx1ZSAmJiAnb3duZXJEb2N1bWVudCcgaW4gdmFsdWUgPyB2YWx1ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LkVsZW1lbnQgOiBFbGVtZW50KShwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KTtcbiAgICB9XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBBIGBmdW5jdGlvbmAgY2hpbGQgY2FuIGJlIHVzZWQgaW5zdGVhZCBvZiBhIFJlYWN0IGVsZW1lbnQuIFRoaXMgZnVuY3Rpb24gaXNcbiAgICogY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNpdGlvbiBzdGF0dXMgKGAnZW50ZXJpbmcnYCwgYCdlbnRlcmVkJ2AsXG4gICAqIGAnZXhpdGluZydgLCBgJ2V4aXRlZCdgKSwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXBwbHkgY29udGV4dFxuICAgKiBzcGVjaWZpYyBwcm9wcyB0byBhIGNvbXBvbmVudC5cbiAgICpcbiAgICogYGBganN4XG4gICAqIDxUcmFuc2l0aW9uIGluPXt0aGlzLnN0YXRlLmlufSB0aW1lb3V0PXsxNTB9PlxuICAgKiAgIHtzdGF0ZSA9PiAoXG4gICAqICAgICA8TXlDb21wb25lbnQgY2xhc3NOYW1lPXtgZmFkZSBmYWRlLSR7c3RhdGV9YH0gLz5cbiAgICogICApfVxuICAgKiA8L1RyYW5zaXRpb24+XG4gICAqIGBgYFxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBjb21wb25lbnQ7IHRyaWdnZXJzIHRoZSBlbnRlciBvciBleGl0IHN0YXRlc1xuICAgKi9cbiAgaW46IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBjaGlsZCBjb21wb25lbnQgaXMgbW91bnRlZCBpbW1lZGlhdGVseSBhbG9uZyB3aXRoXG4gICAqIHRoZSBwYXJlbnQgYFRyYW5zaXRpb25gIGNvbXBvbmVudC4gSWYgeW91IHdhbnQgdG8gXCJsYXp5IG1vdW50XCIgdGhlIGNvbXBvbmVudCBvbiB0aGVcbiAgICogZmlyc3QgYGluPXt0cnVlfWAgeW91IGNhbiBzZXQgYG1vdW50T25FbnRlcmAuIEFmdGVyIHRoZSBmaXJzdCBlbnRlciB0cmFuc2l0aW9uIHRoZSBjb21wb25lbnQgd2lsbCBzdGF5XG4gICAqIG1vdW50ZWQsIGV2ZW4gb24gXCJleGl0ZWRcIiwgdW5sZXNzIHlvdSBhbHNvIHNwZWNpZnkgYHVubW91bnRPbkV4aXRgLlxuICAgKi9cbiAgbW91bnRPbkVudGVyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCB0aGUgY2hpbGQgY29tcG9uZW50IHN0YXlzIG1vdW50ZWQgYWZ0ZXIgaXQgcmVhY2hlcyB0aGUgYCdleGl0ZWQnYCBzdGF0ZS5cbiAgICogU2V0IGB1bm1vdW50T25FeGl0YCBpZiB5b3UnZCBwcmVmZXIgdG8gdW5tb3VudCB0aGUgY29tcG9uZW50IGFmdGVyIGl0IGZpbmlzaGVzIGV4aXRpbmcuXG4gICAqL1xuICB1bm1vdW50T25FeGl0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCB0aGUgY2hpbGQgY29tcG9uZW50IGRvZXMgbm90IHBlcmZvcm0gdGhlIGVudGVyIHRyYW5zaXRpb24gd2hlblxuICAgKiBpdCBmaXJzdCBtb3VudHMsIHJlZ2FyZGxlc3Mgb2YgdGhlIHZhbHVlIG9mIGBpbmAuIElmIHlvdSB3YW50IHRoaXNcbiAgICogYmVoYXZpb3IsIHNldCBib3RoIGBhcHBlYXJgIGFuZCBgaW5gIHRvIGB0cnVlYC5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogdGhlcmUgYXJlIG5vIHNwZWNpYWwgYXBwZWFyIHN0YXRlcyBsaWtlIGBhcHBlYXJpbmdgL2BhcHBlYXJlZGAsIHRoaXMgcHJvcFxuICAgKiA+IG9ubHkgYWRkcyBhbiBhZGRpdGlvbmFsIGVudGVyIHRyYW5zaXRpb24uIEhvd2V2ZXIsIGluIHRoZVxuICAgKiA+IGA8Q1NTVHJhbnNpdGlvbj5gIGNvbXBvbmVudCB0aGF0IGZpcnN0IGVudGVyIHRyYW5zaXRpb24gZG9lcyByZXN1bHQgaW5cbiAgICogPiBhZGRpdGlvbmFsIGAuYXBwZWFyLSpgIGNsYXNzZXMsIHRoYXQgd2F5IHlvdSBjYW4gY2hvb3NlIHRvIHN0eWxlIGl0XG4gICAqID4gZGlmZmVyZW50bHkuXG4gICAqL1xuICBhcHBlYXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBlbnRlciB0cmFuc2l0aW9ucy5cbiAgICovXG4gIGVudGVyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZXhpdCB0cmFuc2l0aW9ucy5cbiAgICovXG4gIGV4aXQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24sIGluIG1pbGxpc2Vjb25kcy5cbiAgICogUmVxdWlyZWQgdW5sZXNzIGBhZGRFbmRMaXN0ZW5lcmAgaXMgcHJvdmlkZWQuXG4gICAqXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnM6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiB0aW1lb3V0PXs1MDB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBvciBpbmRpdmlkdWFsbHk6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiB0aW1lb3V0PXt7XG4gICAqICBhcHBlYXI6IDUwMCxcbiAgICogIGVudGVyOiAzMDAsXG4gICAqICBleGl0OiA1MDAsXG4gICAqIH19XG4gICAqIGBgYFxuICAgKlxuICAgKiAtIGBhcHBlYXJgIGRlZmF1bHRzIHRvIHRoZSB2YWx1ZSBvZiBgZW50ZXJgXG4gICAqIC0gYGVudGVyYCBkZWZhdWx0cyB0byBgMGBcbiAgICogLSBgZXhpdGAgZGVmYXVsdHMgdG8gYDBgXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXIgfCB7IGVudGVyPzogbnVtYmVyLCBleGl0PzogbnVtYmVyLCBhcHBlYXI/OiBudW1iZXIgfX1cbiAgICovXG4gIHRpbWVvdXQ6IGZ1bmN0aW9uIHRpbWVvdXQocHJvcHMpIHtcbiAgICB2YXIgcHQgPSB0aW1lb3V0c1NoYXBlO1xuICAgIGlmICghcHJvcHMuYWRkRW5kTGlzdGVuZXIpIHB0ID0gcHQuaXNSZXF1aXJlZDtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwdC5hcHBseSh2b2lkIDAsIFtwcm9wc10uY29uY2F0KGFyZ3MpKTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nXG4gICAqIERPTSBub2RlIGFuZCBhIGBkb25lYCBjYWxsYmFjay4gQWxsb3dzIGZvciBtb3JlIGZpbmUgZ3JhaW5lZCB0cmFuc2l0aW9uIGVuZFxuICAgKiBsb2dpYy4gVGltZW91dHMgYXJlIHN0aWxsIHVzZWQgYXMgYSBmYWxsYmFjayBpZiBwcm92aWRlZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogYGBganN4XG4gICAqIGFkZEVuZExpc3RlbmVyPXsobm9kZSwgZG9uZSkgPT4ge1xuICAgKiAgIC8vIHVzZSB0aGUgY3NzIHRyYW5zaXRpb25lbmQgZXZlbnQgdG8gbWFyayB0aGUgZmluaXNoIG9mIGEgdHJhbnNpdGlvblxuICAgKiAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGRvbmUsIGZhbHNlKTtcbiAgICogfX1cbiAgICogYGBgXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGJlZm9yZSB0aGUgXCJlbnRlcmluZ1wiIHN0YXR1cyBpcyBhcHBsaWVkLiBBbiBleHRyYSBwYXJhbWV0ZXJcbiAgICogYGlzQXBwZWFyaW5nYCBpcyBzdXBwbGllZCB0byBpbmRpY2F0ZSBpZiB0aGUgZW50ZXIgc3RhZ2UgaXMgb2NjdXJyaW5nIG9uIHRoZSBpbml0aWFsIG1vdW50XG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbCkgLT4gdm9pZFxuICAgKi9cbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImVudGVyaW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuIEFuIGV4dHJhIHBhcmFtZXRlclxuICAgKiBgaXNBcHBlYXJpbmdgIGlzIHN1cHBsaWVkIHRvIGluZGljYXRlIGlmIHRoZSBlbnRlciBzdGFnZSBpcyBvY2N1cnJpbmcgb24gdGhlIGluaXRpYWwgbW91bnRcbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImVudGVyZWRcIiBzdGF0dXMgaXMgYXBwbGllZC4gQW4gZXh0cmEgcGFyYW1ldGVyXG4gICAqIGBpc0FwcGVhcmluZ2AgaXMgc3VwcGxpZWQgdG8gaW5kaWNhdGUgaWYgdGhlIGVudGVyIHN0YWdlIGlzIG9jY3VycmluZyBvbiB0aGUgaW5pdGlhbCBtb3VudFxuICAgKlxuICAgKiAqKk5vdGUqKjogd2hlbiBgbm9kZVJlZmAgcHJvcCBpcyBwYXNzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpIC0+IHZvaWRcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGJlZm9yZSB0aGUgXCJleGl0aW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KSAtPiB2b2lkXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCBhZnRlciB0aGUgXCJleGl0aW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuXG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KSAtPiB2b2lkXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCBhZnRlciB0aGUgXCJleGl0ZWRcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZFxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCkgLT4gdm9pZFxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jXG59IDoge307IC8vIE5hbWUgdGhlIGZ1bmN0aW9uIHNvIGl0IGlzIGNsZWFyZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cblRyYW5zaXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBpbjogZmFsc2UsXG4gIG1vdW50T25FbnRlcjogZmFsc2UsXG4gIHVubW91bnRPbkV4aXQ6IGZhbHNlLFxuICBhcHBlYXI6IGZhbHNlLFxuICBlbnRlcjogdHJ1ZSxcbiAgZXhpdDogdHJ1ZSxcbiAgb25FbnRlcjogbm9vcCxcbiAgb25FbnRlcmluZzogbm9vcCxcbiAgb25FbnRlcmVkOiBub29wLFxuICBvbkV4aXQ6IG5vb3AsXG4gIG9uRXhpdGluZzogbm9vcCxcbiAgb25FeGl0ZWQ6IG5vb3Bcbn07XG5UcmFuc2l0aW9uLlVOTU9VTlRFRCA9IFVOTU9VTlRFRDtcblRyYW5zaXRpb24uRVhJVEVEID0gRVhJVEVEO1xuVHJhbnNpdGlvbi5FTlRFUklORyA9IEVOVEVSSU5HO1xuVHJhbnNpdGlvbi5FTlRFUkVEID0gRU5URVJFRDtcblRyYW5zaXRpb24uRVhJVElORyA9IEVYSVRJTkc7XG5leHBvcnQgZGVmYXVsdCBUcmFuc2l0aW9uOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChpdGVtKSB7XG4gIHJldHVybiBpdGVtICE9PSBudWxsICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAvLyBUUyB0aGlua3MgYGl0ZW0gaXMgcG9zc2libHkgbnVsbGAgZXZlbiB0aG91Z2ggdGhpcyB3YXMgb3VyIGZpcnN0IGd1YXJkLlxuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGl0ZW0uY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyA9IHtcbiAgY2xvbmU6IHRydWVcbn0pIHtcbiAgY29uc3Qgb3V0cHV0ID0gb3B0aW9ucy5jbG9uZSA/IF9leHRlbmRzKHt9LCB0YXJnZXQpIDogdGFyZ2V0O1xuXG4gIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAvLyBBdm9pZCBwcm90b3R5cGUgcG9sbHV0aW9uXG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSAmJiBrZXkgaW4gdGFyZ2V0ICYmIGlzUGxhaW5PYmplY3QodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgIC8vIFNpbmNlIGBvdXRwdXRgIGlzIGEgY2xvbmUgb2YgYHRhcmdldGAgYW5kIHdlIGhhdmUgbmFycm93ZWQgYHRhcmdldGAgaW4gdGhpcyBibG9jayB3ZSBjYW4gY2FzdCB0byB0aGUgc2FtZSB0eXBlLlxuICAgICAgICBvdXRwdXRba2V5XSA9IGRlZXBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0sIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59IiwiLyoqXG4gKiBXQVJOSU5HOiBEb24ndCBpbXBvcnQgdGhpcyBkaXJlY3RseS5cbiAqIFVzZSBgTXVpRXJyb3JgIGZyb20gYEBtdWkvdXRpbHMvbWFjcm9zL011aUVycm9yLm1hY3JvYCBpbnN0ZWFkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0TXVpRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgLy8gQXBwbHkgYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS10ZW1wbGF0ZS1saXRlcmFscyBpbiBsb29zZSBtb2RlXG4gIC8vIGxvb3NlIG1vZGUgaXMgc2FmZSBpZmYgd2UncmUgY29uY2F0ZW5hdGluZyBwcmltaXRpdmVzXG4gIC8vIHNlZSBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXRlbXBsYXRlLWxpdGVyYWxzI2xvb3NlXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXRlbXBsYXRlICovXG4gIGxldCB1cmwgPSAnaHR0cHM6Ly9tdWkuY29tL3Byb2R1Y3Rpb24tZXJyb3IvP2NvZGU9JyArIGNvZGU7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyByZXN0IHBhcmFtcyBvdmVyLXRyYW5zcGlsZSBmb3IgdGhpcyBjYXNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgIHVybCArPSAnJmFyZ3NbXT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gJ01pbmlmaWVkIE1VSSBlcnJvciAjJyArIGNvZGUgKyAnOyB2aXNpdCAnICsgdXJsICsgJyBmb3IgdGhlIGZ1bGwgbWVzc2FnZS4nO1xuICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xufSIsImltcG9ydCBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIGZyb20gXCIuL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuLy8gSXQgc2hvdWxkIHRvIGJlIG5vdGVkIHRoYXQgdGhpcyBmdW5jdGlvbiBpc24ndCBlcXVpdmFsZW50IHRvIGB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZWAuXG4vL1xuLy8gQSBzdHJpY3QgY2FwaXRhbGl6YXRpb24gc2hvdWxkIHVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBpbiB0aGUgc2VudGVuY2UuXG4vLyBXZSBvbmx5IGhhbmRsZSB0aGUgZmlyc3Qgd29yZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBcXGBjYXBpdGFsaXplKHN0cmluZylcXGAgZXhwZWN0cyBhIHN0cmluZyBhcmd1bWVudC5gIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSg3KSk7XG4gIH1cblxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufSIsIi8vIENvcnJlc3BvbmRzIHRvIDEwIGZyYW1lcyBhdCA2MCBIei5cbi8vIEEgZmV3IGJ5dGVzIHBheWxvYWQgb3ZlcmhlYWQgd2hlbiBsb2Rhc2gvZGVib3VuY2UgaXMgfjMga0IgYW5kIGRlYm91bmNlIH4zMDAgQi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQgPSAxNjYpIHtcbiAgbGV0IHRpbWVvdXQ7XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gIH1cblxuICBkZWJvdW5jZWQuY2xlYXIgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9O1xuXG4gIHJldHVybiBkZWJvdW5jZWQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3duZXJEb2N1bWVudChub2RlKSB7XG4gIHJldHVybiBub2RlICYmIG5vZGUub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbn0iLCJpbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICcuL293bmVyRG9jdW1lbnQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3duZXJXaW5kb3cobm9kZSkge1xuICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGUpO1xuICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbn0iLCIvKipcbiAqIFRPRE8gdjU6IGNvbnNpZGVyIG1ha2luZyBpdCBwcml2YXRlXG4gKlxuICogcGFzc2VzIHt2YWx1ZX0gdG8ge3JlZn1cbiAqXG4gKiBXQVJOSU5HOiBCZSBzdXJlIHRvIG9ubHkgY2FsbCB0aGlzIGluc2lkZSBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIGFzIGEgcmVmLlxuICogT3RoZXJ3aXNlLCBtYWtlIHN1cmUgdG8gY2xlYW51cCB0aGUgcHJldmlvdXMge3JlZn0gaWYgaXQgY2hhbmdlcy4gU2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXVpLW9yZy9tYXRlcmlhbC11aS9pc3N1ZXMvMTM1MzlcbiAqXG4gKiBVc2VmdWwgaWYgeW91IHdhbnQgdG8gZXhwb3NlIHRoZSByZWYgb2YgYW4gaW5uZXIgY29tcG9uZW50IHRvIHRoZSBwdWJsaWMgQVBJXG4gKiB3aGlsZSBzdGlsbCB1c2luZyBpdCBpbnNpZGUgdGhlIGNvbXBvbmVudC5cbiAqIEBwYXJhbSByZWYgQSByZWYgY2FsbGJhY2sgb3IgcmVmIG9iamVjdC4gSWYgYW55dGhpbmcgZmFsc3ksIHRoaXMgaXMgYSBuby1vcC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UmVmKHJlZiwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWYodmFsdWUpO1xuICB9IGVsc2UgaWYgKHJlZikge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCB1c2VFbmhhbmNlZEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuZXhwb3J0IGRlZmF1bHQgdXNlRW5oYW5jZWRFZmZlY3Q7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUVuaGFuY2VkRWZmZWN0IGZyb20gJy4vdXNlRW5oYW5jZWRFZmZlY3QnO1xuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0MDk5I2lzc3VlY29tbWVudC00NDAwMTM4OTJcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGZuKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihmbik7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGZuO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiAvLyBAdHMtZXhwZWN0LWVycm9yIGhpZGUgYHRoaXNgXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpiYW4tY29tbWEtb3BlcmF0b3JcbiAgKDAsIHJlZi5jdXJyZW50KSguLi5hcmdzKSwgW10pO1xufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzZXRSZWYgZnJvbSAnLi9zZXRSZWYnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRm9ya1JlZihyZWZBLCByZWZCKSB7XG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIGlmIHRoZSByZWYgcHJvcHMgY2hhbmdlIGFuZCBhcmUgZGVmaW5lZC5cbiAgICogVGhpcyBtZWFucyByZWFjdCB3aWxsIGNhbGwgdGhlIG9sZCBmb3JrUmVmIHdpdGggYG51bGxgIGFuZCB0aGUgbmV3IGZvcmtSZWZcbiAgICogd2l0aCB0aGUgcmVmLiBDbGVhbnVwIG5hdHVyYWxseSBlbWVyZ2VzIGZyb20gdGhpcyBiZWhhdmlvci5cbiAgICovXG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocmVmQSA9PSBudWxsICYmIHJlZkIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZlZhbHVlID0+IHtcbiAgICAgIHNldFJlZihyZWZBLCByZWZWYWx1ZSk7XG4gICAgICBzZXRSZWYocmVmQiwgcmVmVmFsdWUpO1xuICAgIH07XG4gIH0sIFtyZWZBLCByZWZCXSk7XG59IiwiZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgIGlmIChjYWNoZVthcmddID09PSB1bmRlZmluZWQpIGNhY2hlW2FyZ10gPSBmbihhcmcpO1xuICAgIHJldHVybiBjYWNoZVthcmddO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZW1vaXplO1xuIiwiaW1wb3J0IG1lbW9pemUgZnJvbSAnQGVtb3Rpb24vbWVtb2l6ZSc7XG5cbnZhciByZWFjdFByb3BzUmVnZXggPSAvXigoY2hpbGRyZW58ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8a2V5fHJlZnxhdXRvRm9jdXN8ZGVmYXVsdFZhbHVlfGRlZmF1bHRDaGVja2VkfGlubmVySFRNTHxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmd8c3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nfHZhbHVlTGlua3xhY2NlcHR8YWNjZXB0Q2hhcnNldHxhY2Nlc3NLZXl8YWN0aW9ufGFsbG93fGFsbG93VXNlck1lZGlhfGFsbG93UGF5bWVudFJlcXVlc3R8YWxsb3dGdWxsU2NyZWVufGFsbG93VHJhbnNwYXJlbmN5fGFsdHxhc3luY3xhdXRvQ29tcGxldGV8YXV0b1BsYXl8Y2FwdHVyZXxjZWxsUGFkZGluZ3xjZWxsU3BhY2luZ3xjaGFsbGVuZ2V8Y2hhclNldHxjaGVja2VkfGNpdGV8Y2xhc3NJRHxjbGFzc05hbWV8Y29sc3xjb2xTcGFufGNvbnRlbnR8Y29udGVudEVkaXRhYmxlfGNvbnRleHRNZW51fGNvbnRyb2xzfGNvbnRyb2xzTGlzdHxjb29yZHN8Y3Jvc3NPcmlnaW58ZGF0YXxkYXRlVGltZXxkZWNvZGluZ3xkZWZhdWx0fGRlZmVyfGRpcnxkaXNhYmxlZHxkaXNhYmxlUGljdHVyZUluUGljdHVyZXxkb3dubG9hZHxkcmFnZ2FibGV8ZW5jVHlwZXxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHRyYW5zbGF0ZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGZhbGxiYWNrfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxvcHRpb258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViZmVlNjhhNGNkN2U2MDA5ZWY2MWQyM1xuXG52YXIgaXNQcm9wVmFsaWQgPSAvKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHJldHVybiByZWFjdFByb3BzUmVnZXgudGVzdChwcm9wKSB8fCBwcm9wLmNoYXJDb2RlQXQoMCkgPT09IDExMVxuICAvKiBvICovXG4gICYmIHByb3AuY2hhckNvZGVBdCgxKSA9PT0gMTEwXG4gIC8qIG4gKi9cbiAgJiYgcHJvcC5jaGFyQ29kZUF0KDIpIDwgOTE7XG59XG4vKiBaKzEgKi9cbik7XG5cbmV4cG9ydCBkZWZhdWx0IGlzUHJvcFZhbGlkO1xuIiwiLypcblxuQmFzZWQgb2ZmIGdsYW1vcidzIFN0eWxlU2hlZXQsIHRoYW5rcyBTdW5pbCDinaTvuI9cblxuaGlnaCBwZXJmb3JtYW5jZSBTdHlsZVNoZWV0IGZvciBjc3MtaW4tanMgc3lzdGVtc1xuXG4tIHVzZXMgbXVsdGlwbGUgc3R5bGUgdGFncyBiZWhpbmQgdGhlIHNjZW5lcyBmb3IgbWlsbGlvbnMgb2YgcnVsZXNcbi0gdXNlcyBgaW5zZXJ0UnVsZWAgZm9yIGFwcGVuZGluZyBpbiBwcm9kdWN0aW9uIGZvciAqbXVjaCogZmFzdGVyIHBlcmZvcm1hbmNlXG5cbi8vIHVzYWdlXG5cbmltcG9ydCB7IFN0eWxlU2hlZXQgfSBmcm9tICdAZW1vdGlvbi9zaGVldCdcblxubGV0IHN0eWxlU2hlZXQgPSBuZXcgU3R5bGVTaGVldCh7IGtleTogJycsIGNvbnRhaW5lcjogZG9jdW1lbnQuaGVhZCB9KVxuXG5zdHlsZVNoZWV0Lmluc2VydCgnI2JveCB7IGJvcmRlcjogMXB4IHNvbGlkIHJlZDsgfScpXG4tIGFwcGVuZHMgYSBjc3MgcnVsZSBpbnRvIHRoZSBzdHlsZXNoZWV0XG5cbnN0eWxlU2hlZXQuZmx1c2goKVxuLSBlbXB0aWVzIHRoZSBzdHlsZXNoZWV0IG9mIGFsbCBpdHMgY29udGVudHNcblxuKi9cbi8vICRGbG93Rml4TWVcbmZ1bmN0aW9uIHNoZWV0Rm9yVGFnKHRhZykge1xuICBpZiAodGFnLnNoZWV0KSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIHJldHVybiB0YWcuc2hlZXQ7XG4gIH0gLy8gdGhpcyB3ZWlyZG5lc3MgYnJvdWdodCB0byB5b3UgYnkgZmlyZWZveFxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLm93bmVyTm9kZSA9PT0gdGFnKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICByZXR1cm4gZG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB0YWcuc2V0QXR0cmlidXRlKCdkYXRhLWVtb3Rpb24nLCBvcHRpb25zLmtleSk7XG5cbiAgaWYgKG9wdGlvbnMubm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgb3B0aW9ucy5ub25jZSk7XG4gIH1cblxuICB0YWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpKTtcbiAgdGFnLnNldEF0dHJpYnV0ZSgnZGF0YS1zJywgJycpO1xuICByZXR1cm4gdGFnO1xufVxuXG52YXIgU3R5bGVTaGVldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxlU2hlZXQob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9pbnNlcnRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgICB2YXIgYmVmb3JlO1xuXG4gICAgICBpZiAoX3RoaXMudGFncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmVmb3JlID0gX3RoaXMucHJlcGVuZCA/IF90aGlzLmNvbnRhaW5lci5maXJzdENoaWxkIDogX3RoaXMuYmVmb3JlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVmb3JlID0gX3RoaXMudGFnc1tfdGhpcy50YWdzLmxlbmd0aCAtIDFdLm5leHRTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhZywgYmVmb3JlKTtcblxuICAgICAgX3RoaXMudGFncy5wdXNoKHRhZyk7XG4gICAgfTtcblxuICAgIHRoaXMuaXNTcGVlZHkgPSBvcHRpb25zLnNwZWVkeSA9PT0gdW5kZWZpbmVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA6IG9wdGlvbnMuc3BlZWR5O1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY3RyID0gMDtcbiAgICB0aGlzLm5vbmNlID0gb3B0aW9ucy5ub25jZTsgLy8ga2V5IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YS1lbW90aW9uIGF0dHJpYnV0ZSwgaXQncyB1c2VkIHRvIGlkZW50aWZ5IGRpZmZlcmVudCBzaGVldHNcblxuICAgIHRoaXMua2V5ID0gb3B0aW9ucy5rZXk7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICB0aGlzLnByZXBlbmQgPSBvcHRpb25zLnByZXBlbmQ7XG4gICAgdGhpcy5iZWZvcmUgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4gIF9wcm90by5oeWRyYXRlID0gZnVuY3Rpb24gaHlkcmF0ZShub2Rlcykge1xuICAgIG5vZGVzLmZvckVhY2godGhpcy5faW5zZXJ0VGFnKTtcbiAgfTtcblxuICBfcHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0KHJ1bGUpIHtcbiAgICAvLyB0aGUgbWF4IGxlbmd0aCBpcyBob3cgbWFueSBydWxlcyB3ZSBoYXZlIHBlciBzdHlsZSB0YWcsIGl0J3MgNjUwMDAgaW4gc3BlZWR5IG1vZGVcbiAgICAvLyBpdCdzIDEgaW4gZGV2IGJlY2F1c2Ugd2UgaW5zZXJ0IHNvdXJjZSBtYXBzIHRoYXQgbWFwIGEgc2luZ2xlIHJ1bGUgdG8gYSBsb2NhdGlvblxuICAgIC8vIGFuZCB5b3UgY2FuIG9ubHkgaGF2ZSBvbmUgc291cmNlIG1hcCBwZXIgc3R5bGUgdGFnXG4gICAgaWYgKHRoaXMuY3RyICUgKHRoaXMuaXNTcGVlZHkgPyA2NTAwMCA6IDEpID09PSAwKSB7XG4gICAgICB0aGlzLl9pbnNlcnRUYWcoY3JlYXRlU3R5bGVFbGVtZW50KHRoaXMpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gdGhpcy50YWdzW3RoaXMudGFncy5sZW5ndGggLSAxXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgaXNJbXBvcnRSdWxlID0gcnVsZS5jaGFyQ29kZUF0KDApID09PSA2NCAmJiBydWxlLmNoYXJDb2RlQXQoMSkgPT09IDEwNTtcblxuICAgICAgaWYgKGlzSW1wb3J0UnVsZSAmJiB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSkge1xuICAgICAgICAvLyB0aGlzIHdvdWxkIG9ubHkgY2F1c2UgcHJvYmxlbSBpbiBzcGVlZHkgbW9kZVxuICAgICAgICAvLyBidXQgd2UgZG9uJ3Qgd2FudCBlbmFibGluZyBzcGVlZHkgdG8gYWZmZWN0IHRoZSBvYnNlcnZhYmxlIGJlaGF2aW9yXG4gICAgICAgIC8vIHNvIHdlIHJlcG9ydCB0aGlzIGVycm9yIGF0IGFsbCB0aW1lc1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91J3JlIGF0dGVtcHRpbmcgdG8gaW5zZXJ0IHRoZSBmb2xsb3dpbmcgcnVsZTpcXG5cIiArIHJ1bGUgKyAnXFxuXFxuYEBpbXBvcnRgIHJ1bGVzIG11c3QgYmUgYmVmb3JlIGFsbCBvdGhlciB0eXBlcyBvZiBydWxlcyBpbiBhIHN0eWxlc2hlZXQgYnV0IG90aGVyIHJ1bGVzIGhhdmUgYWxyZWFkeSBiZWVuIGluc2VydGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgYEBpbXBvcnRgIHJ1bGVzIGFyZSBiZWZvcmUgYWxsIG90aGVyIHJ1bGVzLicpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWxyZWFkeUluc2VydGVkT3JkZXJJbnNlbnNpdGl2ZVJ1bGUgPSB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSB8fCAhaXNJbXBvcnRSdWxlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU3BlZWR5KSB7XG4gICAgICB2YXIgc2hlZXQgPSBzaGVldEZvclRhZyh0YWcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSB1bHRyYWZhc3QgdmVyc2lvbiwgd29ya3MgYWNyb3NzIGJyb3dzZXJzXG4gICAgICAgIC8vIHRoZSBiaWcgZHJhd2JhY2sgaXMgdGhhdCB0aGUgY3NzIHdvbid0IGJlIGVkaXRhYmxlIGluIGRldnRvb2xzXG4gICAgICAgIHNoZWV0Lmluc2VydFJ1bGUocnVsZSwgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIS86KC1tb3otcGxhY2Vob2xkZXJ8LW1vei1mb2N1cy1pbm5lcnwtbW96LWZvY3VzcmluZ3wtbXMtaW5wdXQtcGxhY2Vob2xkZXJ8LW1vei1yZWFkLXdyaXRlfC1tb3otcmVhZC1vbmx5fC1tcy1jbGVhcil7Ly50ZXN0KHJ1bGUpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZXJlIHdhcyBhIHByb2JsZW0gaW5zZXJ0aW5nIHRoZSBmb2xsb3dpbmcgcnVsZTogXFxcIlwiICsgcnVsZSArIFwiXFxcIlwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZSkpO1xuICAgIH1cblxuICAgIHRoaXMuY3RyKys7XG4gIH07XG5cbiAgX3Byb3RvLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIHRoaXMudGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIHJldHVybiB0YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWcpO1xuICAgIH0pO1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY3RyID0gMDtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxuZXhwb3J0IHsgU3R5bGVTaGVldCB9O1xuIiwiZXhwb3J0IHZhciBNUyA9ICctbXMtJ1xuZXhwb3J0IHZhciBNT1ogPSAnLW1vei0nXG5leHBvcnQgdmFyIFdFQktJVCA9ICctd2Via2l0LSdcblxuZXhwb3J0IHZhciBDT01NRU5UID0gJ2NvbW0nXG5leHBvcnQgdmFyIFJVTEVTRVQgPSAncnVsZSdcbmV4cG9ydCB2YXIgREVDTEFSQVRJT04gPSAnZGVjbCdcblxuZXhwb3J0IHZhciBQQUdFID0gJ0BwYWdlJ1xuZXhwb3J0IHZhciBNRURJQSA9ICdAbWVkaWEnXG5leHBvcnQgdmFyIElNUE9SVCA9ICdAaW1wb3J0J1xuZXhwb3J0IHZhciBDSEFSU0VUID0gJ0BjaGFyc2V0J1xuZXhwb3J0IHZhciBWSUVXUE9SVCA9ICdAdmlld3BvcnQnXG5leHBvcnQgdmFyIFNVUFBPUlRTID0gJ0BzdXBwb3J0cydcbmV4cG9ydCB2YXIgRE9DVU1FTlQgPSAnQGRvY3VtZW50J1xuZXhwb3J0IHZhciBOQU1FU1BBQ0UgPSAnQG5hbWVzcGFjZSdcbmV4cG9ydCB2YXIgS0VZRlJBTUVTID0gJ0BrZXlmcmFtZXMnXG5leHBvcnQgdmFyIEZPTlRfRkFDRSA9ICdAZm9udC1mYWNlJ1xuZXhwb3J0IHZhciBDT1VOVEVSX1NUWUxFID0gJ0Bjb3VudGVyLXN0eWxlJ1xuZXhwb3J0IHZhciBGT05UX0ZFQVRVUkVfVkFMVUVTID0gJ0Bmb250LWZlYXR1cmUtdmFsdWVzJ1xuIiwiLyoqXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBhYnMgPSBNYXRoLmFic1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGZyb20gPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoICh2YWx1ZSwgbGVuZ3RoKSB7XG5cdHJldHVybiAoKCgoKCgobGVuZ3RoIDw8IDIpIF4gY2hhcmF0KHZhbHVlLCAwKSkgPDwgMikgXiBjaGFyYXQodmFsdWUsIDEpKSA8PCAyKSBeIGNoYXJhdCh2YWx1ZSwgMikpIDw8IDIpIF4gY2hhcmF0KHZhbHVlLCAzKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpbSAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLnRyaW0oKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtSZWdFeHB9IHBhdHRlcm5cbiAqIEByZXR1cm4ge3N0cmluZz99XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaCAodmFsdWUsIHBhdHRlcm4pIHtcblx0cmV0dXJuICh2YWx1ZSA9IHBhdHRlcm4uZXhlYyh2YWx1ZSkpID8gdmFsdWVbMF0gOiB2YWx1ZVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cCl9IHBhdHRlcm5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZSAodmFsdWUsIHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7XG5cdHJldHVybiB2YWx1ZS5yZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2VtZW50KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleG9mICh2YWx1ZSwgc2VhcmNoKSB7XG5cdHJldHVybiB2YWx1ZS5pbmRleE9mKHNlYXJjaClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhcmF0ICh2YWx1ZSwgaW5kZXgpIHtcblx0cmV0dXJuIHZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpIHwgMFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzdHIgKHZhbHVlLCBiZWdpbiwgZW5kKSB7XG5cdHJldHVybiB2YWx1ZS5zbGljZShiZWdpbiwgZW5kKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RybGVuICh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUubGVuZ3RoXG59XG5cbi8qKlxuICogQHBhcmFtIHthbnlbXX0gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpemVvZiAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLmxlbmd0aFxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCAodmFsdWUsIGFycmF5KSB7XG5cdHJldHVybiBhcnJheS5wdXNoKHZhbHVlKSwgdmFsdWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUgKGFycmF5LCBjYWxsYmFjaykge1xuXHRyZXR1cm4gYXJyYXkubWFwKGNhbGxiYWNrKS5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHtmcm9tLCB0cmltLCBjaGFyYXQsIHN0cmxlbiwgc3Vic3RyLCBhcHBlbmR9IGZyb20gJy4vVXRpbGl0eS5qcydcblxuZXhwb3J0IHZhciBsaW5lID0gMVxuZXhwb3J0IHZhciBjb2x1bW4gPSAxXG5leHBvcnQgdmFyIGxlbmd0aCA9IDBcbmV4cG9ydCB2YXIgcG9zaXRpb24gPSAwXG5leHBvcnQgdmFyIGNoYXJhY3RlciA9IDBcbmV4cG9ydCB2YXIgY2hhcmFjdGVycyA9ICcnXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge29iamVjdH0gcm9vdFxuICogQHBhcmFtIHtvYmplY3Q/fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wc1xuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vZGUgKHZhbHVlLCByb290LCBwYXJlbnQsIHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgbGVuZ3RoKSB7XG5cdHJldHVybiB7dmFsdWU6IHZhbHVlLCByb290OiByb290LCBwYXJlbnQ6IHBhcmVudCwgdHlwZTogdHlwZSwgcHJvcHM6IHByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4sIGxpbmU6IGxpbmUsIGNvbHVtbjogY29sdW1uLCBsZW5ndGg6IGxlbmd0aCwgcmV0dXJuOiAnJ31cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weSAodmFsdWUsIHJvb3QsIHR5cGUpIHtcblx0cmV0dXJuIG5vZGUodmFsdWUsIHJvb3Qucm9vdCwgcm9vdC5wYXJlbnQsIHR5cGUsIHJvb3QucHJvcHMsIHJvb3QuY2hpbGRyZW4sIDApXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhciAoKSB7XG5cdHJldHVybiBjaGFyYWN0ZXJcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ICgpIHtcblx0Y2hhcmFjdGVyID0gcG9zaXRpb24gPiAwID8gY2hhcmF0KGNoYXJhY3RlcnMsIC0tcG9zaXRpb24pIDogMFxuXG5cdGlmIChjb2x1bW4tLSwgY2hhcmFjdGVyID09PSAxMClcblx0XHRjb2x1bW4gPSAxLCBsaW5lLS1cblxuXHRyZXR1cm4gY2hhcmFjdGVyXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dCAoKSB7XG5cdGNoYXJhY3RlciA9IHBvc2l0aW9uIDwgbGVuZ3RoID8gY2hhcmF0KGNoYXJhY3RlcnMsIHBvc2l0aW9uKyspIDogMFxuXG5cdGlmIChjb2x1bW4rKywgY2hhcmFjdGVyID09PSAxMClcblx0XHRjb2x1bW4gPSAxLCBsaW5lKytcblxuXHRyZXR1cm4gY2hhcmFjdGVyXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGVlayAoKSB7XG5cdHJldHVybiBjaGFyYXQoY2hhcmFjdGVycywgcG9zaXRpb24pXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FyZXQgKCkge1xuXHRyZXR1cm4gcG9zaXRpb25cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG5cdHJldHVybiBzdWJzdHIoY2hhcmFjdGVycywgYmVnaW4sIGVuZClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW4gKHR5cGUpIHtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Ly8gXFwwIFxcdCBcXG4gXFxyIFxccyB3aGl0ZXNwYWNlIHRva2VuXG5cdFx0Y2FzZSAwOiBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTM6IGNhc2UgMzI6XG5cdFx0XHRyZXR1cm4gNVxuXHRcdC8vICEgKyAsIC8gPiBAIH4gaXNvbGF0ZSB0b2tlblxuXHRcdGNhc2UgMzM6IGNhc2UgNDM6IGNhc2UgNDQ6IGNhc2UgNDc6IGNhc2UgNjI6IGNhc2UgNjQ6IGNhc2UgMTI2OlxuXHRcdC8vIDsgeyB9IGJyZWFrcG9pbnQgdG9rZW5cblx0XHRjYXNlIDU5OiBjYXNlIDEyMzogY2FzZSAxMjU6XG5cdFx0XHRyZXR1cm4gNFxuXHRcdC8vIDogYWNjb21wYW5pZWQgdG9rZW5cblx0XHRjYXNlIDU4OlxuXHRcdFx0cmV0dXJuIDNcblx0XHQvLyBcIiAnICggWyBvcGVuaW5nIGRlbGltaXQgdG9rZW5cblx0XHRjYXNlIDM0OiBjYXNlIDM5OiBjYXNlIDQwOiBjYXNlIDkxOlxuXHRcdFx0cmV0dXJuIDJcblx0XHQvLyApIF0gY2xvc2luZyBkZWxpbWl0IHRva2VuXG5cdFx0Y2FzZSA0MTogY2FzZSA5Mzpcblx0XHRcdHJldHVybiAxXG5cdH1cblxuXHRyZXR1cm4gMFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGxvYyAodmFsdWUpIHtcblx0cmV0dXJuIGxpbmUgPSBjb2x1bW4gPSAxLCBsZW5ndGggPSBzdHJsZW4oY2hhcmFjdGVycyA9IHZhbHVlKSwgcG9zaXRpb24gPSAwLCBbXVxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybiB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVhbGxvYyAodmFsdWUpIHtcblx0cmV0dXJuIGNoYXJhY3RlcnMgPSAnJywgdmFsdWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsaW1pdCAodHlwZSkge1xuXHRyZXR1cm4gdHJpbShzbGljZShwb3NpdGlvbiAtIDEsIGRlbGltaXRlcih0eXBlID09PSA5MSA/IHR5cGUgKyAyIDogdHlwZSA9PT0gNDAgPyB0eXBlICsgMSA6IHR5cGUpKSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5pemUgKHZhbHVlKSB7XG5cdHJldHVybiBkZWFsbG9jKHRva2VuaXplcihhbGxvYyh2YWx1ZSkpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGl0ZXNwYWNlICh0eXBlKSB7XG5cdHdoaWxlIChjaGFyYWN0ZXIgPSBwZWVrKCkpXG5cdFx0aWYgKGNoYXJhY3RlciA8IDMzKVxuXHRcdFx0bmV4dCgpXG5cdFx0ZWxzZVxuXHRcdFx0YnJlYWtcblxuXHRyZXR1cm4gdG9rZW4odHlwZSkgPiAyIHx8IHRva2VuKGNoYXJhY3RlcikgPiAzID8gJycgOiAnICdcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjaGlsZHJlblxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZXIgKGNoaWxkcmVuKSB7XG5cdHdoaWxlIChuZXh0KCkpXG5cdFx0c3dpdGNoICh0b2tlbihjaGFyYWN0ZXIpKSB7XG5cdFx0XHRjYXNlIDA6IGFwcGVuZChpZGVudGlmaWVyKHBvc2l0aW9uIC0gMSksIGNoaWxkcmVuKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Y2FzZSAyOiBhcHBlbmQoZGVsaW1pdChjaGFyYWN0ZXIpLCBjaGlsZHJlbilcblx0XHRcdFx0YnJlYWtcblx0XHRcdGRlZmF1bHQ6IGFwcGVuZChmcm9tKGNoYXJhY3RlciksIGNoaWxkcmVuKVxuXHRcdH1cblxuXHRyZXR1cm4gY2hpbGRyZW5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBpbmcgKGluZGV4LCBjb3VudCkge1xuXHR3aGlsZSAoLS1jb3VudCAmJiBuZXh0KCkpXG5cdFx0Ly8gbm90IDAtOSBBLUYgYS1mXG5cdFx0aWYgKGNoYXJhY3RlciA8IDQ4IHx8IGNoYXJhY3RlciA+IDEwMiB8fCAoY2hhcmFjdGVyID4gNTcgJiYgY2hhcmFjdGVyIDwgNjUpIHx8IChjaGFyYWN0ZXIgPiA3MCAmJiBjaGFyYWN0ZXIgPCA5NykpXG5cdFx0XHRicmVha1xuXG5cdHJldHVybiBzbGljZShpbmRleCwgY2FyZXQoKSArIChjb3VudCA8IDYgJiYgcGVlaygpID09IDMyICYmIG5leHQoKSA9PSAzMikpXG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGltaXRlciAodHlwZSkge1xuXHR3aGlsZSAobmV4dCgpKVxuXHRcdHN3aXRjaCAoY2hhcmFjdGVyKSB7XG5cdFx0XHQvLyBdICkgXCIgJ1xuXHRcdFx0Y2FzZSB0eXBlOlxuXHRcdFx0XHRyZXR1cm4gcG9zaXRpb25cblx0XHRcdC8vIFwiICdcblx0XHRcdGNhc2UgMzQ6IGNhc2UgMzk6XG5cdFx0XHRcdHJldHVybiBkZWxpbWl0ZXIodHlwZSA9PT0gMzQgfHwgdHlwZSA9PT0gMzkgPyB0eXBlIDogY2hhcmFjdGVyKVxuXHRcdFx0Ly8gKFxuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0aWYgKHR5cGUgPT09IDQxKVxuXHRcdFx0XHRcdGRlbGltaXRlcih0eXBlKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Ly8gXFxcblx0XHRcdGNhc2UgOTI6XG5cdFx0XHRcdG5leHQoKVxuXHRcdFx0XHRicmVha1xuXHRcdH1cblxuXHRyZXR1cm4gcG9zaXRpb25cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50ZXIgKHR5cGUsIGluZGV4KSB7XG5cdHdoaWxlIChuZXh0KCkpXG5cdFx0Ly8gLy9cblx0XHRpZiAodHlwZSArIGNoYXJhY3RlciA9PT0gNDcgKyAxMClcblx0XHRcdGJyZWFrXG5cdFx0Ly8gLypcblx0XHRlbHNlIGlmICh0eXBlICsgY2hhcmFjdGVyID09PSA0MiArIDQyICYmIHBlZWsoKSA9PT0gNDcpXG5cdFx0XHRicmVha1xuXG5cdHJldHVybiAnLyonICsgc2xpY2UoaW5kZXgsIHBvc2l0aW9uIC0gMSkgKyAnKicgKyBmcm9tKHR5cGUgPT09IDQ3ID8gdHlwZSA6IG5leHQoKSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZpZXIgKGluZGV4KSB7XG5cdHdoaWxlICghdG9rZW4ocGVlaygpKSlcblx0XHRuZXh0KClcblxuXHRyZXR1cm4gc2xpY2UoaW5kZXgsIHBvc2l0aW9uKVxufVxuIiwiaW1wb3J0IHtDT01NRU5ULCBSVUxFU0VULCBERUNMQVJBVElPTn0gZnJvbSAnLi9FbnVtLmpzJ1xuaW1wb3J0IHthYnMsIHRyaW0sIGZyb20sIHNpemVvZiwgc3RybGVuLCBzdWJzdHIsIGFwcGVuZCwgcmVwbGFjZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuaW1wb3J0IHtub2RlLCBjaGFyLCBwcmV2LCBuZXh0LCBwZWVrLCBjYXJldCwgYWxsb2MsIGRlYWxsb2MsIGRlbGltaXQsIHdoaXRlc3BhY2UsIGVzY2FwaW5nLCBpZGVudGlmaWVyLCBjb21tZW50ZXJ9IGZyb20gJy4vVG9rZW5pemVyLmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7b2JqZWN0W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlICh2YWx1ZSkge1xuXHRyZXR1cm4gZGVhbGxvYyhwYXJzZSgnJywgbnVsbCwgbnVsbCwgbnVsbCwgWycnXSwgdmFsdWUgPSBhbGxvYyh2YWx1ZSksIDAsIFswXSwgdmFsdWUpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3R9IHJvb3RcbiAqIEBwYXJhbSB7b2JqZWN0P30gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlc1xuICogQHBhcmFtIHtzdHJpbmdbXX0gcnVsZXNldHNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBzZXVkb1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZWNsYXJhdGlvbnNcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlICh2YWx1ZSwgcm9vdCwgcGFyZW50LCBydWxlLCBydWxlcywgcnVsZXNldHMsIHBzZXVkbywgcG9pbnRzLCBkZWNsYXJhdGlvbnMpIHtcblx0dmFyIGluZGV4ID0gMFxuXHR2YXIgb2Zmc2V0ID0gMFxuXHR2YXIgbGVuZ3RoID0gcHNldWRvXG5cdHZhciBhdHJ1bGUgPSAwXG5cdHZhciBwcm9wZXJ0eSA9IDBcblx0dmFyIHByZXZpb3VzID0gMFxuXHR2YXIgdmFyaWFibGUgPSAxXG5cdHZhciBzY2FubmluZyA9IDFcblx0dmFyIGFtcGVyc2FuZCA9IDFcblx0dmFyIGNoYXJhY3RlciA9IDBcblx0dmFyIHR5cGUgPSAnJ1xuXHR2YXIgcHJvcHMgPSBydWxlc1xuXHR2YXIgY2hpbGRyZW4gPSBydWxlc2V0c1xuXHR2YXIgcmVmZXJlbmNlID0gcnVsZVxuXHR2YXIgY2hhcmFjdGVycyA9IHR5cGVcblxuXHR3aGlsZSAoc2Nhbm5pbmcpXG5cdFx0c3dpdGNoIChwcmV2aW91cyA9IGNoYXJhY3RlciwgY2hhcmFjdGVyID0gbmV4dCgpKSB7XG5cdFx0XHQvLyBcIiAnIFsgKFxuXHRcdFx0Y2FzZSAzNDogY2FzZSAzOTogY2FzZSA5MTogY2FzZSA0MDpcblx0XHRcdFx0Y2hhcmFjdGVycyArPSBkZWxpbWl0KGNoYXJhY3Rlcilcblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIFxcdCBcXG4gXFxyIFxcc1xuXHRcdFx0Y2FzZSA5OiBjYXNlIDEwOiBjYXNlIDEzOiBjYXNlIDMyOlxuXHRcdFx0XHRjaGFyYWN0ZXJzICs9IHdoaXRlc3BhY2UocHJldmlvdXMpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyBcXFxuXHRcdFx0Y2FzZSA5Mjpcblx0XHRcdFx0Y2hhcmFjdGVycyArPSBlc2NhcGluZyhjYXJldCgpIC0gMSwgNylcblx0XHRcdFx0Y29udGludWVcblx0XHRcdC8vIC9cblx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdHN3aXRjaCAocGVlaygpKSB7XG5cdFx0XHRcdFx0Y2FzZSA0MjogY2FzZSA0Nzpcblx0XHRcdFx0XHRcdGFwcGVuZChjb21tZW50KGNvbW1lbnRlcihuZXh0KCksIGNhcmV0KCkpLCByb290LCBwYXJlbnQpLCBkZWNsYXJhdGlvbnMpXG5cdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjaGFyYWN0ZXJzICs9ICcvJ1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyB7XG5cdFx0XHRjYXNlIDEyMyAqIHZhcmlhYmxlOlxuXHRcdFx0XHRwb2ludHNbaW5kZXgrK10gPSBzdHJsZW4oY2hhcmFjdGVycykgKiBhbXBlcnNhbmRcblx0XHRcdC8vIH0gOyBcXDBcblx0XHRcdGNhc2UgMTI1ICogdmFyaWFibGU6IGNhc2UgNTk6IGNhc2UgMDpcblx0XHRcdFx0c3dpdGNoIChjaGFyYWN0ZXIpIHtcblx0XHRcdFx0XHQvLyBcXDAgfVxuXHRcdFx0XHRcdGNhc2UgMDogY2FzZSAxMjU6IHNjYW5uaW5nID0gMFxuXHRcdFx0XHRcdC8vIDtcblx0XHRcdFx0XHRjYXNlIDU5ICsgb2Zmc2V0OlxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5ID4gMCAmJiAoc3RybGVuKGNoYXJhY3RlcnMpIC0gbGVuZ3RoKSlcblx0XHRcdFx0XHRcdFx0YXBwZW5kKHByb3BlcnR5ID4gMzIgPyBkZWNsYXJhdGlvbihjaGFyYWN0ZXJzICsgJzsnLCBydWxlLCBwYXJlbnQsIGxlbmd0aCAtIDEpIDogZGVjbGFyYXRpb24ocmVwbGFjZShjaGFyYWN0ZXJzLCAnICcsICcnKSArICc7JywgcnVsZSwgcGFyZW50LCBsZW5ndGggLSAyKSwgZGVjbGFyYXRpb25zKVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyBAIDtcblx0XHRcdFx0XHRjYXNlIDU5OiBjaGFyYWN0ZXJzICs9ICc7J1xuXHRcdFx0XHRcdC8vIHsgcnVsZS9hdC1ydWxlXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdGFwcGVuZChyZWZlcmVuY2UgPSBydWxlc2V0KGNoYXJhY3RlcnMsIHJvb3QsIHBhcmVudCwgaW5kZXgsIG9mZnNldCwgcnVsZXMsIHBvaW50cywgdHlwZSwgcHJvcHMgPSBbXSwgY2hpbGRyZW4gPSBbXSwgbGVuZ3RoKSwgcnVsZXNldHMpXG5cblx0XHRcdFx0XHRcdGlmIChjaGFyYWN0ZXIgPT09IDEyMylcblx0XHRcdFx0XHRcdFx0aWYgKG9mZnNldCA9PT0gMClcblx0XHRcdFx0XHRcdFx0XHRwYXJzZShjaGFyYWN0ZXJzLCByb290LCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgcHJvcHMsIHJ1bGVzZXRzLCBsZW5ndGgsIHBvaW50cywgY2hpbGRyZW4pXG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRzd2l0Y2ggKGF0cnVsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZCBtIHNcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTAwOiBjYXNlIDEwOTogY2FzZSAxMTU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlKHZhbHVlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgcnVsZSAmJiBhcHBlbmQocnVsZXNldCh2YWx1ZSwgcmVmZXJlbmNlLCByZWZlcmVuY2UsIDAsIDAsIHJ1bGVzLCBwb2ludHMsIHR5cGUsIHJ1bGVzLCBwcm9wcyA9IFtdLCBsZW5ndGgpLCBjaGlsZHJlbiksIHJ1bGVzLCBjaGlsZHJlbiwgbGVuZ3RoLCBwb2ludHMsIHJ1bGUgPyBwcm9wcyA6IGNoaWxkcmVuKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2UoY2hhcmFjdGVycywgcmVmZXJlbmNlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgWycnXSwgY2hpbGRyZW4sIGxlbmd0aCwgcG9pbnRzLCBjaGlsZHJlbilcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbmRleCA9IG9mZnNldCA9IHByb3BlcnR5ID0gMCwgdmFyaWFibGUgPSBhbXBlcnNhbmQgPSAxLCB0eXBlID0gY2hhcmFjdGVycyA9ICcnLCBsZW5ndGggPSBwc2V1ZG9cblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIDpcblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdGxlbmd0aCA9IDEgKyBzdHJsZW4oY2hhcmFjdGVycyksIHByb3BlcnR5ID0gcHJldmlvdXNcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGlmICh2YXJpYWJsZSA8IDEpXG5cdFx0XHRcdFx0aWYgKGNoYXJhY3RlciA9PSAxMjMpXG5cdFx0XHRcdFx0XHQtLXZhcmlhYmxlXG5cdFx0XHRcdFx0ZWxzZSBpZiAoY2hhcmFjdGVyID09IDEyNSAmJiB2YXJpYWJsZSsrID09IDAgJiYgcHJldigpID09IDEyNSlcblx0XHRcdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdFx0c3dpdGNoIChjaGFyYWN0ZXJzICs9IGZyb20oY2hhcmFjdGVyKSwgY2hhcmFjdGVyICogdmFyaWFibGUpIHtcblx0XHRcdFx0XHQvLyAmXG5cdFx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRcdGFtcGVyc2FuZCA9IG9mZnNldCA+IDAgPyAxIDogKGNoYXJhY3RlcnMgKz0gJ1xcZicsIC0xKVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyAsXG5cdFx0XHRcdFx0Y2FzZSA0NDpcblx0XHRcdFx0XHRcdHBvaW50c1tpbmRleCsrXSA9IChzdHJsZW4oY2hhcmFjdGVycykgLSAxKSAqIGFtcGVyc2FuZCwgYW1wZXJzYW5kID0gMVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyBAXG5cdFx0XHRcdFx0Y2FzZSA2NDpcblx0XHRcdFx0XHRcdC8vIC1cblx0XHRcdFx0XHRcdGlmIChwZWVrKCkgPT09IDQ1KVxuXHRcdFx0XHRcdFx0XHRjaGFyYWN0ZXJzICs9IGRlbGltaXQobmV4dCgpKVxuXG5cdFx0XHRcdFx0XHRhdHJ1bGUgPSBwZWVrKCksIG9mZnNldCA9IHN0cmxlbih0eXBlID0gY2hhcmFjdGVycyArPSBpZGVudGlmaWVyKGNhcmV0KCkpKSwgY2hhcmFjdGVyKytcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gLVxuXHRcdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0XHRpZiAocHJldmlvdXMgPT09IDQ1ICYmIHN0cmxlbihjaGFyYWN0ZXJzKSA9PSAyKVxuXHRcdFx0XHRcdFx0XHR2YXJpYWJsZSA9IDBcblx0XHRcdFx0fVxuXHRcdH1cblxuXHRyZXR1cm4gcnVsZXNldHNcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdD99IHBhcmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlc1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNoaWxkcmVuXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc2V0ICh2YWx1ZSwgcm9vdCwgcGFyZW50LCBpbmRleCwgb2Zmc2V0LCBydWxlcywgcG9pbnRzLCB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIGxlbmd0aCkge1xuXHR2YXIgcG9zdCA9IG9mZnNldCAtIDFcblx0dmFyIHJ1bGUgPSBvZmZzZXQgPT09IDAgPyBydWxlcyA6IFsnJ11cblx0dmFyIHNpemUgPSBzaXplb2YocnVsZSlcblxuXHRmb3IgKHZhciBpID0gMCwgaiA9IDAsIGsgPSAwOyBpIDwgaW5kZXg7ICsraSlcblx0XHRmb3IgKHZhciB4ID0gMCwgeSA9IHN1YnN0cih2YWx1ZSwgcG9zdCArIDEsIHBvc3QgPSBhYnMoaiA9IHBvaW50c1tpXSkpLCB6ID0gdmFsdWU7IHggPCBzaXplOyArK3gpXG5cdFx0XHRpZiAoeiA9IHRyaW0oaiA+IDAgPyBydWxlW3hdICsgJyAnICsgeSA6IHJlcGxhY2UoeSwgLyZcXGYvZywgcnVsZVt4XSkpKVxuXHRcdFx0XHRwcm9wc1trKytdID0gelxuXG5cdHJldHVybiBub2RlKHZhbHVlLCByb290LCBwYXJlbnQsIG9mZnNldCA9PT0gMCA/IFJVTEVTRVQgOiB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIGxlbmd0aClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdD99IHBhcmVudFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudCAodmFsdWUsIHJvb3QsIHBhcmVudCkge1xuXHRyZXR1cm4gbm9kZSh2YWx1ZSwgcm9vdCwgcGFyZW50LCBDT01NRU5ULCBmcm9tKGNoYXIoKSksIHN1YnN0cih2YWx1ZSwgMiwgLTIpLCAwKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3R9IHJvb3RcbiAqIEBwYXJhbSB7b2JqZWN0P30gcGFyZW50XG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNsYXJhdGlvbiAodmFsdWUsIHJvb3QsIHBhcmVudCwgbGVuZ3RoKSB7XG5cdHJldHVybiBub2RlKHZhbHVlLCByb290LCBwYXJlbnQsIERFQ0xBUkFUSU9OLCBzdWJzdHIodmFsdWUsIDAsIGxlbmd0aCksIHN1YnN0cih2YWx1ZSwgbGVuZ3RoICsgMSwgLTEpLCBsZW5ndGgpXG59XG4iLCJpbXBvcnQge01TLCBNT1osIFdFQktJVH0gZnJvbSAnLi9FbnVtLmpzJ1xuaW1wb3J0IHtoYXNoLCBjaGFyYXQsIHN0cmxlbiwgaW5kZXhvZiwgcmVwbGFjZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlZml4ICh2YWx1ZSwgbGVuZ3RoKSB7XG5cdHN3aXRjaCAoaGFzaCh2YWx1ZSwgbGVuZ3RoKSkge1xuXHRcdC8vIGNvbG9yLWFkanVzdFxuXHRcdGNhc2UgNTEwMzpcblx0XHRcdHJldHVybiBXRUJLSVQgKyAncHJpbnQtJyArIHZhbHVlICsgdmFsdWVcblx0XHQvLyBhbmltYXRpb24sIGFuaW1hdGlvbi0oZGVsYXl8ZGlyZWN0aW9ufGR1cmF0aW9ufGZpbGwtbW9kZXxpdGVyYXRpb24tY291bnR8bmFtZXxwbGF5LXN0YXRlfHRpbWluZy1mdW5jdGlvbilcblx0XHRjYXNlIDU3Mzc6IGNhc2UgNDIwMTogY2FzZSAzMTc3OiBjYXNlIDM0MzM6IGNhc2UgMTY0MTogY2FzZSA0NDU3OiBjYXNlIDI5MjE6XG5cdFx0Ly8gdGV4dC1kZWNvcmF0aW9uLCBmaWx0ZXIsIGNsaXAtcGF0aCwgYmFja2ZhY2UtdmlzaWJpbGl0eSwgY29sdW1uLCBib3gtZGVjb3JhdGlvbi1icmVha1xuXHRcdGNhc2UgNTU3MjogY2FzZSA2MzU2OiBjYXNlIDU4NDQ6IGNhc2UgMzE5MTogY2FzZSA2NjQ1OiBjYXNlIDMwMDU6XG5cdFx0Ly8gbWFzaywgbWFzay1pbWFnZSwgbWFzay0obW9kZXxjbGlwfHNpemUpLCBtYXNrLShyZXBlYXR8b3JpZ2luKSwgbWFzay1wb3NpdGlvbiwgbWFzay1jb21wb3NpdGUsXG5cdFx0Y2FzZSA2MzkxOiBjYXNlIDU4Nzk6IGNhc2UgNTYyMzogY2FzZSA2MTM1OiBjYXNlIDQ1OTk6IGNhc2UgNDg1NTpcblx0XHQvLyBiYWNrZ3JvdW5kLWNsaXAsIGNvbHVtbnMsIGNvbHVtbi0oY291bnR8ZmlsbHxnYXB8cnVsZXxydWxlLWNvbG9yfHJ1bGUtc3R5bGV8cnVsZS13aWR0aHxzcGFufHdpZHRoKVxuXHRcdGNhc2UgNDIxNTogY2FzZSA2Mzg5OiBjYXNlIDUxMDk6IGNhc2UgNTM2NTogY2FzZSA1NjIxOiBjYXNlIDM4Mjk6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIGFwcGVhcmFuY2UsIHVzZXItc2VsZWN0LCB0cmFuc2Zvcm0sIGh5cGhlbnMsIHRleHQtc2l6ZS1hZGp1c3Rcblx0XHRjYXNlIDUzNDk6IGNhc2UgNDI0NjogY2FzZSA0ODEwOiBjYXNlIDY5Njg6IGNhc2UgMjc1Njpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1PWiArIHZhbHVlICsgTVMgKyB2YWx1ZSArIHZhbHVlXG5cdFx0Ly8gZmxleCwgZmxleC1kaXJlY3Rpb25cblx0XHRjYXNlIDY4Mjg6IGNhc2UgNDI2ODpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIG9yZGVyXG5cdFx0Y2FzZSA2MTY1OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyAnZmxleC0nICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIGFsaWduLWl0ZW1zXG5cdFx0Y2FzZSA1MTg3OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgcmVwbGFjZSh2YWx1ZSwgLyhcXHcrKS4rKDpbXl0rKS8sIFdFQktJVCArICdib3gtJDEkMicgKyBNUyArICdmbGV4LSQxJDInKSArIHZhbHVlXG5cdFx0Ly8gYWxpZ24tc2VsZlxuXHRcdGNhc2UgNTQ0Mzpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgJ2ZsZXgtaXRlbS0nICsgcmVwbGFjZSh2YWx1ZSwgL2ZsZXgtfC1zZWxmLywgJycpICsgdmFsdWVcblx0XHQvLyBhbGlnbi1jb250ZW50XG5cdFx0Y2FzZSA0Njc1OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyAnZmxleC1saW5lLXBhY2snICsgcmVwbGFjZSh2YWx1ZSwgL2FsaWduLWNvbnRlbnR8ZmxleC18LXNlbGYvLCAnJykgKyB2YWx1ZVxuXHRcdC8vIGZsZXgtc2hyaW5rXG5cdFx0Y2FzZSA1NTQ4OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAnc2hyaW5rJywgJ25lZ2F0aXZlJykgKyB2YWx1ZVxuXHRcdC8vIGZsZXgtYmFzaXNcblx0XHRjYXNlIDUyOTI6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsICdiYXNpcycsICdwcmVmZXJyZWQtc2l6ZScpICsgdmFsdWVcblx0XHQvLyBmbGV4LWdyb3dcblx0XHRjYXNlIDYwNjA6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgJ2JveC0nICsgcmVwbGFjZSh2YWx1ZSwgJy1ncm93JywgJycpICsgV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsICdncm93JywgJ3Bvc2l0aXZlJykgKyB2YWx1ZVxuXHRcdC8vIHRyYW5zaXRpb25cblx0XHRjYXNlIDQ1NTQ6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgcmVwbGFjZSh2YWx1ZSwgLyhbXi1dKSh0cmFuc2Zvcm0pL2csICckMScgKyBXRUJLSVQgKyAnJDInKSArIHZhbHVlXG5cdFx0Ly8gY3Vyc29yXG5cdFx0Y2FzZSA2MTg3OlxuXHRcdFx0cmV0dXJuIHJlcGxhY2UocmVwbGFjZShyZXBsYWNlKHZhbHVlLCAvKHpvb20tfGdyYWIpLywgV0VCS0lUICsgJyQxJyksIC8oaW1hZ2Utc2V0KS8sIFdFQktJVCArICckMScpLCB2YWx1ZSwgJycpICsgdmFsdWVcblx0XHQvLyBiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kLWltYWdlXG5cdFx0Y2FzZSA1NDk1OiBjYXNlIDM5NTk6XG5cdFx0XHRyZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyhpbWFnZS1zZXRcXChbXl0qKS8sIFdFQktJVCArICckMScgKyAnJGAkMScpXG5cdFx0Ly8ganVzdGlmeS1jb250ZW50XG5cdFx0Y2FzZSA0OTY4OlxuXHRcdFx0cmV0dXJuIHJlcGxhY2UocmVwbGFjZSh2YWx1ZSwgLyguKzopKGZsZXgtKT8oLiopLywgV0VCS0lUICsgJ2JveC1wYWNrOiQzJyArIE1TICsgJ2ZsZXgtcGFjazokMycpLCAvcy4rLWJbXjtdKy8sICdqdXN0aWZ5JykgKyBXRUJLSVQgKyB2YWx1ZSArIHZhbHVlXG5cdFx0Ly8gKG1hcmdpbnxwYWRkaW5nKS1pbmxpbmUtKHN0YXJ0fGVuZClcblx0XHRjYXNlIDQwOTU6IGNhc2UgMzU4MzogY2FzZSA0MDY4OiBjYXNlIDI1MzI6XG5cdFx0XHRyZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyguKyktaW5saW5lKC4rKS8sIFdFQktJVCArICckMSQyJykgKyB2YWx1ZVxuXHRcdC8vIChtaW58bWF4KT8od2lkdGh8aGVpZ2h0fGlubGluZS1zaXplfGJsb2NrLXNpemUpXG5cdFx0Y2FzZSA4MTE2OiBjYXNlIDcwNTk6IGNhc2UgNTc1MzogY2FzZSA1NTM1OlxuXHRcdGNhc2UgNTQ0NTogY2FzZSA1NzAxOiBjYXNlIDQ5MzM6IGNhc2UgNDY3Nzpcblx0XHRjYXNlIDU1MzM6IGNhc2UgNTc4OTogY2FzZSA1MDIxOiBjYXNlIDQ3NjU6XG5cdFx0XHQvLyBzdHJldGNoLCBtYXgtY29udGVudCwgbWluLWNvbnRlbnQsIGZpbGwtYXZhaWxhYmxlXG5cdFx0XHRpZiAoc3RybGVuKHZhbHVlKSAtIDEgLSBsZW5ndGggPiA2KVxuXHRcdFx0XHRzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMSkpIHtcblx0XHRcdFx0XHQvLyAobSlheC1jb250ZW50LCAobSlpbi1jb250ZW50XG5cdFx0XHRcdFx0Y2FzZSAxMDk6XG5cdFx0XHRcdFx0XHQvLyAtXG5cdFx0XHRcdFx0XHRpZiAoY2hhcmF0KHZhbHVlLCBsZW5ndGggKyA0KSAhPT0gNDUpXG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gKGYpaWxsLWF2YWlsYWJsZSwgKGYpaXQtY29udGVudFxuXHRcdFx0XHRcdGNhc2UgMTAyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlcGxhY2UodmFsdWUsIC8oLis6KSguKyktKFteXSspLywgJyQxJyArIFdFQktJVCArICckMi0kMycgKyAnJDEnICsgTU9aICsgKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMykgPT0gMTA4ID8gJyQzJyA6ICckMi0kMycpKSArIHZhbHVlXG5cdFx0XHRcdFx0Ly8gKHMpdHJldGNoXG5cdFx0XHRcdFx0Y2FzZSAxMTU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gfmluZGV4b2YodmFsdWUsICdzdHJldGNoJykgPyBwcmVmaXgocmVwbGFjZSh2YWx1ZSwgJ3N0cmV0Y2gnLCAnZmlsbC1hdmFpbGFibGUnKSwgbGVuZ3RoKSArIHZhbHVlIDogdmFsdWVcblx0XHRcdFx0fVxuXHRcdFx0YnJlYWtcblx0XHQvLyBwb3NpdGlvbjogc3RpY2t5XG5cdFx0Y2FzZSA0OTQ5OlxuXHRcdFx0Ly8gKHMpdGlja3k/XG5cdFx0XHRpZiAoY2hhcmF0KHZhbHVlLCBsZW5ndGggKyAxKSAhPT0gMTE1KVxuXHRcdFx0XHRicmVha1xuXHRcdC8vIGRpc3BsYXk6IChmbGV4fGlubGluZS1mbGV4KVxuXHRcdGNhc2UgNjQ0NDpcblx0XHRcdHN3aXRjaCAoY2hhcmF0KHZhbHVlLCBzdHJsZW4odmFsdWUpIC0gMyAtICh+aW5kZXhvZih2YWx1ZSwgJyFpbXBvcnRhbnQnKSAmJiAxMCkpKSB7XG5cdFx0XHRcdC8vIHN0aWMoayl5XG5cdFx0XHRcdGNhc2UgMTA3OlxuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlKHZhbHVlLCAnOicsICc6JyArIFdFQktJVCkgKyB2YWx1ZVxuXHRcdFx0XHQvLyAoaW5saW5lLSk/ZmwoZSl4XG5cdFx0XHRcdGNhc2UgMTAxOlxuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlKHZhbHVlLCAvKC4rOikoW147IV0rKSg7fCEuKyk/LywgJyQxJyArIFdFQktJVCArIChjaGFyYXQodmFsdWUsIDE0KSA9PT0gNDUgPyAnaW5saW5lLScgOiAnJykgKyAnYm94JDMnICsgJyQxJyArIFdFQktJVCArICckMiQzJyArICckMScgKyBNUyArICckMmJveCQzJykgKyB2YWx1ZVxuXHRcdFx0fVxuXHRcdFx0YnJlYWtcblx0XHQvLyB3cml0aW5nLW1vZGVcblx0XHRjYXNlIDU5MzY6XG5cdFx0XHRzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMTEpKSB7XG5cdFx0XHRcdC8vIHZlcnRpY2FsLWwocilcblx0XHRcdFx0Y2FzZSAxMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sICd0YicpICsgdmFsdWVcblx0XHRcdFx0Ly8gdmVydGljYWwtcihsKVxuXHRcdFx0XHRjYXNlIDEwODpcblx0XHRcdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ3RiLXJsJykgKyB2YWx1ZVxuXHRcdFx0XHQvLyBob3Jpem9udGFsKC0pdGJcblx0XHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ2xyJykgKyB2YWx1ZVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHZhbHVlICsgdmFsdWVcblx0fVxuXG5cdHJldHVybiB2YWx1ZVxufVxuIiwiaW1wb3J0IHtJTVBPUlQsIENPTU1FTlQsIFJVTEVTRVQsIERFQ0xBUkFUSU9OfSBmcm9tICcuL0VudW0uanMnXG5pbXBvcnQge3N0cmxlbiwgc2l6ZW9mfSBmcm9tICcuL1V0aWxpdHkuanMnXG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUgKGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHR2YXIgb3V0cHV0ID0gJydcblx0dmFyIGxlbmd0aCA9IHNpemVvZihjaGlsZHJlbilcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuXHRcdG91dHB1dCArPSBjYWxsYmFjayhjaGlsZHJlbltpXSwgaSwgY2hpbGRyZW4sIGNhbGxiYWNrKSB8fCAnJ1xuXG5cdHJldHVybiBvdXRwdXRcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge29iamVjdFtdfSBjaGlsZHJlblxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdGNhc2UgSU1QT1JUOiBjYXNlIERFQ0xBUkFUSU9OOiByZXR1cm4gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnJldHVybiB8fCBlbGVtZW50LnZhbHVlXG5cdFx0Y2FzZSBDT01NRU5UOiByZXR1cm4gJydcblx0XHRjYXNlIFJVTEVTRVQ6IGVsZW1lbnQudmFsdWUgPSBlbGVtZW50LnByb3BzLmpvaW4oJywnKVxuXHR9XG5cblx0cmV0dXJuIHN0cmxlbihjaGlsZHJlbiA9IHNlcmlhbGl6ZShlbGVtZW50LmNoaWxkcmVuLCBjYWxsYmFjaykpID8gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnZhbHVlICsgJ3snICsgY2hpbGRyZW4gKyAnfScgOiAnJ1xufVxuIiwiaW1wb3J0IHtNUywgTU9aLCBXRUJLSVQsIFJVTEVTRVQsIEtFWUZSQU1FUywgREVDTEFSQVRJT059IGZyb20gJy4vRW51bS5qcydcbmltcG9ydCB7bWF0Y2gsIGNoYXJhdCwgc3Vic3RyLCBzdHJsZW4sIHNpemVvZiwgcmVwbGFjZSwgY29tYmluZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuaW1wb3J0IHtjb3B5LCB0b2tlbml6ZX0gZnJvbSAnLi9Ub2tlbml6ZXIuanMnXG5pbXBvcnQge3NlcmlhbGl6ZX0gZnJvbSAnLi9TZXJpYWxpemVyLmpzJ1xuaW1wb3J0IHtwcmVmaXh9IGZyb20gJy4vUHJlZml4ZXIuanMnXG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbltdfSBjb2xsZWN0aW9uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pZGRsZXdhcmUgKGNvbGxlY3Rpb24pIHtcblx0dmFyIGxlbmd0aCA9IHNpemVvZihjb2xsZWN0aW9uKVxuXG5cdHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHRcdHZhciBvdXRwdXQgPSAnJ1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcblx0XHRcdG91dHB1dCArPSBjb2xsZWN0aW9uW2ldKGVsZW1lbnQsIGluZGV4LCBjaGlsZHJlbiwgY2FsbGJhY2spIHx8ICcnXG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc2hlZXQgKGNhbGxiYWNrKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdGlmICghZWxlbWVudC5yb290KVxuXHRcdFx0aWYgKGVsZW1lbnQgPSBlbGVtZW50LnJldHVybilcblx0XHRcdFx0Y2FsbGJhY2soZWxlbWVudClcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7b2JqZWN0W119IGNoaWxkcmVuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlZml4ZXIgKGVsZW1lbnQsIGluZGV4LCBjaGlsZHJlbiwgY2FsbGJhY2spIHtcblx0aWYgKCFlbGVtZW50LnJldHVybilcblx0XHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBERUNMQVJBVElPTjogZWxlbWVudC5yZXR1cm4gPSBwcmVmaXgoZWxlbWVudC52YWx1ZSwgZWxlbWVudC5sZW5ndGgpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIEtFWUZSQU1FUzpcblx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZShbY29weShyZXBsYWNlKGVsZW1lbnQudmFsdWUsICdAJywgJ0AnICsgV0VCS0lUKSwgZWxlbWVudCwgJycpXSwgY2FsbGJhY2spXG5cdFx0XHRjYXNlIFJVTEVTRVQ6XG5cdFx0XHRcdGlmIChlbGVtZW50Lmxlbmd0aClcblx0XHRcdFx0XHRyZXR1cm4gY29tYmluZShlbGVtZW50LnByb3BzLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdHN3aXRjaCAobWF0Y2godmFsdWUsIC8oOjpwbGFjXFx3K3w6cmVhZC1cXHcrKS8pKSB7XG5cdFx0XHRcdFx0XHRcdC8vIDpyZWFkLShvbmx5fHdyaXRlKVxuXHRcdFx0XHRcdFx0XHRjYXNlICc6cmVhZC1vbmx5JzogY2FzZSAnOnJlYWQtd3JpdGUnOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemUoW2NvcHkocmVwbGFjZSh2YWx1ZSwgLzoocmVhZC1cXHcrKS8sICc6JyArIE1PWiArICckMScpLCBlbGVtZW50LCAnJyldLCBjYWxsYmFjaylcblx0XHRcdFx0XHRcdFx0Ly8gOnBsYWNlaG9sZGVyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJzo6cGxhY2Vob2xkZXInOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemUoW1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBXRUJLSVQgKyAnaW5wdXQtJDEnKSwgZWxlbWVudCwgJycpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBNT1ogKyAnJDEnKSwgZWxlbWVudCwgJycpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCBNUyArICdpbnB1dC0kMScpLCBlbGVtZW50LCAnJylcblx0XHRcdFx0XHRcdFx0XHRdLCBjYWxsYmFjaylcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuICcnXG5cdFx0XHRcdFx0fSlcblx0XHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5hbWVzcGFjZSAoZWxlbWVudCkge1xuXHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdGNhc2UgUlVMRVNFVDpcblx0XHRcdGVsZW1lbnQucHJvcHMgPSBlbGVtZW50LnByb3BzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIGNvbWJpbmUodG9rZW5pemUodmFsdWUpLCBmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBjaGlsZHJlbikge1xuXHRcdFx0XHRcdHN3aXRjaCAoY2hhcmF0KHZhbHVlLCAwKSkge1xuXHRcdFx0XHRcdFx0Ly8gXFxmXG5cdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc3Vic3RyKHZhbHVlLCAxLCBzdHJsZW4odmFsdWUpKVxuXHRcdFx0XHRcdFx0Ly8gXFwwICggKyA+IH5cblx0XHRcdFx0XHRcdGNhc2UgMDogY2FzZSA0MDogY2FzZSA0MzogY2FzZSA2MjogY2FzZSAxMjY6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0XHRcdFx0Ly8gOlxuXHRcdFx0XHRcdFx0Y2FzZSA1ODpcblx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkcmVuWysraW5kZXhdID09PSAnZ2xvYmFsJylcblx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbltpbmRleF0gPSAnJywgY2hpbGRyZW5bKytpbmRleF0gPSAnXFxmJyArIHN1YnN0cihjaGlsZHJlbltpbmRleF0sIGluZGV4ID0gMSwgLTEpXG5cdFx0XHRcdFx0XHQvLyBcXHNcblx0XHRcdFx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpbmRleCA9PT0gMSA/ICcnIDogdmFsdWVcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHN3aXRjaCAoaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6IGVsZW1lbnQgPSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNpemVvZihjaGlsZHJlbikgPiAxID8gJycgOiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgaW5kZXggPSBzaXplb2YoY2hpbGRyZW4pIC0gMTogY2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGluZGV4ID09PSAyID8gdmFsdWUgKyBlbGVtZW50ICsgZWxlbWVudCA6IHZhbHVlICsgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdH1cbn1cbiIsImltcG9ydCB7IFN0eWxlU2hlZXQgfSBmcm9tICdAZW1vdGlvbi9zaGVldCc7XG5pbXBvcnQgeyBkZWFsbG9jLCBhbGxvYywgbmV4dCwgdG9rZW4sIGZyb20sIHBlZWssIGRlbGltaXQsIGlkZW50aWZpZXIsIHBvc2l0aW9uLCBzdHJpbmdpZnksIENPTU1FTlQsIHJ1bGVzaGVldCwgbWlkZGxld2FyZSwgcHJlZml4ZXIsIHNlcmlhbGl6ZSwgY29tcGlsZSB9IGZyb20gJ3N0eWxpcyc7XG5pbXBvcnQgJ0BlbW90aW9uL3dlYWstbWVtb2l6ZSc7XG5pbXBvcnQgJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgbGFzdCA9IGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gIHJldHVybiBhcnIubGVuZ3RoID8gYXJyW2Fyci5sZW5ndGggLSAxXSA6IG51bGw7XG59O1xuXG52YXIgdG9SdWxlcyA9IGZ1bmN0aW9uIHRvUnVsZXMocGFyc2VkLCBwb2ludHMpIHtcbiAgLy8gcHJldGVuZCB3ZSd2ZSBzdGFydGVkIHdpdGggYSBjb21tYVxuICB2YXIgaW5kZXggPSAtMTtcbiAgdmFyIGNoYXJhY3RlciA9IDQ0O1xuXG4gIGRvIHtcbiAgICBzd2l0Y2ggKHRva2VuKGNoYXJhY3RlcikpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgLy8gJlxcZlxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAzOCAmJiBwZWVrKCkgPT09IDEyKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBub3QgMTAwJSBjb3JyZWN0LCB3ZSBkb24ndCBhY2NvdW50IGZvciBsaXRlcmFsIHNlcXVlbmNlcyBoZXJlIC0gbGlrZSBmb3IgZXhhbXBsZSBxdW90ZWQgc3RyaW5nc1xuICAgICAgICAgIC8vIHN0eWxpcyBpbnNlcnRzIFxcZiBhZnRlciAmIHRvIGtub3cgd2hlbiAmIHdoZXJlIGl0IHNob3VsZCByZXBsYWNlIHRoaXMgc2VxdWVuY2Ugd2l0aCB0aGUgY29udGV4dCBzZWxlY3RvclxuICAgICAgICAgIC8vIGFuZCB3aGVuIGl0IHNob3VsZCBqdXN0IGNvbmNhdGVuYXRlIHRoZSBvdXRlciBhbmQgaW5uZXIgc2VsZWN0b3JzXG4gICAgICAgICAgLy8gaXQncyB2ZXJ5IHVubGlrZWx5IGZvciB0aGlzIHNlcXVlbmNlIHRvIGFjdHVhbGx5IGFwcGVhciBpbiBhIGRpZmZlcmVudCBjb250ZXh0LCBzbyB3ZSBqdXN0IGxldmVyYWdlIHRoaXMgZmFjdCBoZXJlXG4gICAgICAgICAgcG9pbnRzW2luZGV4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWRbaW5kZXhdICs9IGlkZW50aWZpZXIocG9zaXRpb24gLSAxKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcGFyc2VkW2luZGV4XSArPSBkZWxpbWl0KGNoYXJhY3Rlcik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIC8vIGNvbW1hXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09IDQ0KSB7XG4gICAgICAgICAgLy8gY29sb25cbiAgICAgICAgICBwYXJzZWRbKytpbmRleF0gPSBwZWVrKCkgPT09IDU4ID8gJyZcXGYnIDogJyc7XG4gICAgICAgICAgcG9pbnRzW2luZGV4XSA9IHBhcnNlZFtpbmRleF0ubGVuZ3RoO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIC8vIGZhbGx0aHJvdWdoXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHBhcnNlZFtpbmRleF0gKz0gZnJvbShjaGFyYWN0ZXIpO1xuICAgIH1cbiAgfSB3aGlsZSAoY2hhcmFjdGVyID0gbmV4dCgpKTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxudmFyIGdldFJ1bGVzID0gZnVuY3Rpb24gZ2V0UnVsZXModmFsdWUsIHBvaW50cykge1xuICByZXR1cm4gZGVhbGxvYyh0b1J1bGVzKGFsbG9jKHZhbHVlKSwgcG9pbnRzKSk7XG59OyAvLyBXZWFrU2V0IHdvdWxkIGJlIG1vcmUgYXBwcm9wcmlhdGUsIGJ1dCBvbmx5IFdlYWtNYXAgaXMgc3VwcG9ydGVkIGluIElFMTFcblxuXG52YXIgZml4ZWRFbGVtZW50cyA9IC8qICNfX1BVUkVfXyAqL25ldyBXZWFrTWFwKCk7XG52YXIgY29tcGF0ID0gZnVuY3Rpb24gY29tcGF0KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQudHlwZSAhPT0gJ3J1bGUnIHx8ICFlbGVtZW50LnBhcmVudCB8fCAvLyAubGVuZ3RoIGluZGljYXRlcyBpZiB0aGlzIHJ1bGUgY29udGFpbnMgcHNldWRvIG9yIG5vdFxuICAhZWxlbWVudC5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlLFxuICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gIHZhciBpc0ltcGxpY2l0UnVsZSA9IGVsZW1lbnQuY29sdW1uID09PSBwYXJlbnQuY29sdW1uICYmIGVsZW1lbnQubGluZSA9PT0gcGFyZW50LmxpbmU7XG5cbiAgd2hpbGUgKHBhcmVudC50eXBlICE9PSAncnVsZScpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gIH0gLy8gc2hvcnQtY2lyY3VpdCBmb3IgdGhlIHNpbXBsZXN0IGNhc2VcblxuXG4gIGlmIChlbGVtZW50LnByb3BzLmxlbmd0aCA9PT0gMSAmJiB2YWx1ZS5jaGFyQ29kZUF0KDApICE9PSA1OFxuICAvKiBjb2xvbiAqL1xuICAmJiAhZml4ZWRFbGVtZW50cy5nZXQocGFyZW50KSkge1xuICAgIHJldHVybjtcbiAgfSAvLyBpZiB0aGlzIGlzIGFuIGltcGxpY2l0bHkgaW5zZXJ0ZWQgcnVsZSAodGhlIG9uZSBlYWdlcmx5IGluc2VydGVkIGF0IHRoZSBlYWNoIG5ldyBuZXN0ZWQgbGV2ZWwpXG4gIC8vIHRoZW4gdGhlIHByb3BzIGhhcyBhbHJlYWR5IGJlZW4gbWFuaXB1bGF0ZWQgYmVmb3JlaGFuZCBhcyB0aGV5IHRoYXQgYXJyYXkgaXMgc2hhcmVkIGJldHdlZW4gaXQgYW5kIGl0cyBcInJ1bGUgcGFyZW50XCJcblxuXG4gIGlmIChpc0ltcGxpY2l0UnVsZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZpeGVkRWxlbWVudHMuc2V0KGVsZW1lbnQsIHRydWUpO1xuICB2YXIgcG9pbnRzID0gW107XG4gIHZhciBydWxlcyA9IGdldFJ1bGVzKHZhbHVlLCBwb2ludHMpO1xuICB2YXIgcGFyZW50UnVsZXMgPSBwYXJlbnQucHJvcHM7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGsgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmVudFJ1bGVzLmxlbmd0aDsgaisrLCBrKyspIHtcbiAgICAgIGVsZW1lbnQucHJvcHNba10gPSBwb2ludHNbaV0gPyBydWxlc1tpXS5yZXBsYWNlKC8mXFxmL2csIHBhcmVudFJ1bGVzW2pdKSA6IHBhcmVudFJ1bGVzW2pdICsgXCIgXCIgKyBydWxlc1tpXTtcbiAgICB9XG4gIH1cbn07XG52YXIgcmVtb3ZlTGFiZWwgPSBmdW5jdGlvbiByZW1vdmVMYWJlbChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdkZWNsJykge1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG5cbiAgICBpZiAoIC8vIGNoYXJjb2RlIGZvciBsXG4gICAgdmFsdWUuY2hhckNvZGVBdCgwKSA9PT0gMTA4ICYmIC8vIGNoYXJjb2RlIGZvciBiXG4gICAgdmFsdWUuY2hhckNvZGVBdCgyKSA9PT0gOTgpIHtcbiAgICAgIC8vIHRoaXMgaWdub3JlcyBsYWJlbFxuICAgICAgZWxlbWVudFtcInJldHVyblwiXSA9ICcnO1xuICAgICAgZWxlbWVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfVxufTtcbnZhciBpZ25vcmVGbGFnID0gJ2Vtb3Rpb24tZGlzYWJsZS1zZXJ2ZXItcmVuZGVyaW5nLXVuc2FmZS1zZWxlY3Rvci13YXJuaW5nLXBsZWFzZS1kby1ub3QtdXNlLXRoaXMtdGhlLXdhcm5pbmctZXhpc3RzLWZvci1hLXJlYXNvbic7XG5cbnZhciBpc0lnbm9yaW5nQ29tbWVudCA9IGZ1bmN0aW9uIGlzSWdub3JpbmdDb21tZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudCAmJiBlbGVtZW50LnR5cGUgPT09ICdjb21tJyAmJiBlbGVtZW50LmNoaWxkcmVuLmluZGV4T2YoaWdub3JlRmxhZykgPiAtMTtcbn07XG5cbnZhciBjcmVhdGVVbnNhZmVTZWxlY3RvcnNBbGFybSA9IGZ1bmN0aW9uIGNyZWF0ZVVuc2FmZVNlbGVjdG9yc0FsYXJtKGNhY2hlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuKSB7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAhPT0gJ3J1bGUnKSByZXR1cm47XG4gICAgdmFyIHVuc2FmZVBzZXVkb0NsYXNzZXMgPSBlbGVtZW50LnZhbHVlLm1hdGNoKC8oOmZpcnN0fDpudGh8Om50aC1sYXN0KS1jaGlsZC9nKTtcblxuICAgIGlmICh1bnNhZmVQc2V1ZG9DbGFzc2VzICYmIGNhY2hlLmNvbXBhdCAhPT0gdHJ1ZSkge1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gaW5kZXggPiAwID8gY2hpbGRyZW5baW5kZXggLSAxXSA6IG51bGw7XG5cbiAgICAgIGlmIChwcmV2RWxlbWVudCAmJiBpc0lnbm9yaW5nQ29tbWVudChsYXN0KHByZXZFbGVtZW50LmNoaWxkcmVuKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1bnNhZmVQc2V1ZG9DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKHVuc2FmZVBzZXVkb0NsYXNzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHNldWRvIGNsYXNzIFxcXCJcIiArIHVuc2FmZVBzZXVkb0NsYXNzICsgXCJcXFwiIGlzIHBvdGVudGlhbGx5IHVuc2FmZSB3aGVuIGRvaW5nIHNlcnZlci1zaWRlIHJlbmRlcmluZy4gVHJ5IGNoYW5naW5nIGl0IHRvIFxcXCJcIiArIHVuc2FmZVBzZXVkb0NsYXNzLnNwbGl0KCctY2hpbGQnKVswXSArIFwiLW9mLXR5cGVcXFwiLlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBpc0ltcG9ydFJ1bGUgPSBmdW5jdGlvbiBpc0ltcG9ydFJ1bGUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC50eXBlLmNoYXJDb2RlQXQoMSkgPT09IDEwNSAmJiBlbGVtZW50LnR5cGUuY2hhckNvZGVBdCgwKSA9PT0gNjQ7XG59O1xuXG52YXIgaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzID0gZnVuY3Rpb24gaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzKGluZGV4LCBjaGlsZHJlbikge1xuICBmb3IgKHZhciBpID0gaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmICghaXNJbXBvcnRSdWxlKGNoaWxkcmVuW2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTsgLy8gdXNlIHRoaXMgdG8gcmVtb3ZlIGluY29ycmVjdCBlbGVtZW50cyBmcm9tIGZ1cnRoZXIgcHJvY2Vzc2luZ1xuLy8gc28gdGhleSBkb24ndCBnZXQgaGFuZGVkIHRvIHRoZSBgc2hlZXRgIChvciBhbnl0aGluZyBlbHNlKVxuLy8gYXMgdGhhdCBjb3VsZCBwb3RlbnRpYWxseSBsZWFkIHRvIGFkZGl0aW9uYWwgbG9ncyB3aGljaCBpbiB0dXJuIGNvdWxkIGJlIG92ZXJoZWxtaW5nIHRvIHRoZSB1c2VyXG5cblxudmFyIG51bGxpZnlFbGVtZW50ID0gZnVuY3Rpb24gbnVsbGlmeUVsZW1lbnQoZWxlbWVudCkge1xuICBlbGVtZW50LnR5cGUgPSAnJztcbiAgZWxlbWVudC52YWx1ZSA9ICcnO1xuICBlbGVtZW50W1wicmV0dXJuXCJdID0gJyc7XG4gIGVsZW1lbnQuY2hpbGRyZW4gPSAnJztcbiAgZWxlbWVudC5wcm9wcyA9ICcnO1xufTtcblxudmFyIGluY29ycmVjdEltcG9ydEFsYXJtID0gZnVuY3Rpb24gaW5jb3JyZWN0SW1wb3J0QWxhcm0oZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuKSB7XG4gIGlmICghaXNJbXBvcnRSdWxlKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQucGFyZW50KSB7XG4gICAgY29uc29sZS5lcnJvcihcImBAaW1wb3J0YCBydWxlcyBjYW4ndCBiZSBuZXN0ZWQgaW5zaWRlIG90aGVyIHJ1bGVzLiBQbGVhc2UgbW92ZSBpdCB0byB0aGUgdG9wIGxldmVsIGFuZCBwdXQgaXQgYmVmb3JlIHJlZ3VsYXIgcnVsZXMuIEtlZXAgaW4gbWluZCB0aGF0IHRoZXkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoaW4gZ2xvYmFsIHN0eWxlcy5cIik7XG4gICAgbnVsbGlmeUVsZW1lbnQoZWxlbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzKGluZGV4LCBjaGlsZHJlbikpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiYEBpbXBvcnRgIHJ1bGVzIGNhbid0IGJlIGFmdGVyIG90aGVyIHJ1bGVzLiBQbGVhc2UgcHV0IHlvdXIgYEBpbXBvcnRgIHJ1bGVzIGJlZm9yZSB5b3VyIG90aGVyIHJ1bGVzLlwiKTtcbiAgICBudWxsaWZ5RWxlbWVudChlbGVtZW50KTtcbiAgfVxufTtcblxudmFyIGRlZmF1bHRTdHlsaXNQbHVnaW5zID0gW3ByZWZpeGVyXTtcblxudmFyIGNyZWF0ZUNhY2hlID0gZnVuY3Rpb24gY3JlYXRlQ2FjaGUob3B0aW9ucykge1xuICB2YXIga2V5ID0gb3B0aW9ucy5rZXk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIHRvIGNvbmZpZ3VyZSBga2V5YCBmb3IgeW91ciBjYWNoZS4gUGxlYXNlIG1ha2Ugc3VyZSBpdCdzIHVuaXF1ZSAoYW5kIG5vdCBlcXVhbCB0byAnY3NzJykgYXMgaXQncyB1c2VkIGZvciBsaW5raW5nIHN0eWxlcyB0byB5b3VyIGNhY2hlLlxcblwiICsgXCJJZiBtdWx0aXBsZSBjYWNoZXMgc2hhcmUgdGhlIHNhbWUga2V5IHRoZXkgbWlnaHQgXFxcImZpZ2h0XFxcIiBmb3IgZWFjaCBvdGhlcidzIHN0eWxlIGVsZW1lbnRzLlwiKTtcbiAgfVxuXG4gIGlmICgga2V5ID09PSAnY3NzJykge1xuICAgIHZhciBzc3JTdHlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3R5bGVbZGF0YS1lbW90aW9uXTpub3QoW2RhdGEtc10pXCIpOyAvLyBnZXQgU1NSZWQgc3R5bGVzIG91dCBvZiB0aGUgd2F5IG9mIFJlYWN0J3MgaHlkcmF0aW9uXG4gICAgLy8gZG9jdW1lbnQuaGVhZCBpcyBhIHNhZmUgcGxhY2UgdG8gbW92ZSB0aGVtIHRvKHRob3VnaCBub3RlIGRvY3VtZW50LmhlYWQgaXMgbm90IG5lY2Vzc2FyaWx5IHRoZSBsYXN0IHBsYWNlIHRoZXkgd2lsbCBiZSlcbiAgICAvLyBub3RlIHRoaXMgdmVyeSB2ZXJ5IGludGVudGlvbmFsbHkgdGFyZ2V0cyBhbGwgc3R5bGUgZWxlbWVudHMgcmVnYXJkbGVzcyBvZiB0aGUga2V5IHRvIGVuc3VyZVxuICAgIC8vIHRoYXQgY3JlYXRpbmcgYSBjYWNoZSB3b3JrcyBpbnNpZGUgb2YgcmVuZGVyIG9mIGEgUmVhY3QgY29tcG9uZW50XG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNzclN0eWxlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIC8vIHdlIHdhbnQgdG8gb25seSBtb3ZlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBzcGFjZSBpbiB0aGUgZGF0YS1lbW90aW9uIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgLy8gYmVjYXVzZSB0aGF0IGluZGljYXRlcyB0aGF0IGl0IGlzIGFuIEVtb3Rpb24gMTEgc2VydmVyLXNpZGUgcmVuZGVyZWQgc3R5bGUgZWxlbWVudHNcbiAgICAgIC8vIHdoaWxlIHdlIHdpbGwgYWxyZWFkeSBpZ25vcmUgRW1vdGlvbiAxMSBjbGllbnQtc2lkZSBpbnNlcnRlZCBzdHlsZXMgYmVjYXVzZSBvZiB0aGUgOm5vdChbZGF0YS1zXSkgcGFydCBpbiB0aGUgc2VsZWN0b3JcbiAgICAgIC8vIEVtb3Rpb24gMTAgY2xpZW50LXNpZGUgaW5zZXJ0ZWQgc3R5bGVzIGRpZCBub3QgaGF2ZSBkYXRhLXMgKGJ1dCBpbXBvcnRhbnRseSBkaWQgbm90IGhhdmUgYSBzcGFjZSBpbiB0aGVpciBkYXRhLWVtb3Rpb24gYXR0cmlidXRlcylcbiAgICAgIC8vIHNvIGNoZWNraW5nIGZvciB0aGUgc3BhY2UgZW5zdXJlcyB0aGF0IGxvYWRpbmcgRW1vdGlvbiAxMSBhZnRlciBFbW90aW9uIDEwIGhhcyBpbnNlcnRlZCBzb21lIHN0eWxlc1xuICAgICAgLy8gd2lsbCBub3QgcmVzdWx0IGluIHRoZSBFbW90aW9uIDEwIHN0eWxlcyBiZWluZyBkZXN0cm95ZWRcbiAgICAgIHZhciBkYXRhRW1vdGlvbkF0dHJpYnV0ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWVtb3Rpb24nKTtcblxuICAgICAgaWYgKGRhdGFFbW90aW9uQXR0cmlidXRlLmluZGV4T2YoJyAnKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXMnLCAnJyk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc3R5bGlzUGx1Z2lucyA9IG9wdGlvbnMuc3R5bGlzUGx1Z2lucyB8fCBkZWZhdWx0U3R5bGlzUGx1Z2lucztcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBpZiAoL1teYS16LV0vLnRlc3Qoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1vdGlvbiBrZXkgbXVzdCBvbmx5IGNvbnRhaW4gbG93ZXIgY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVycyBhbmQgLSBidXQgXFxcIlwiICsga2V5ICsgXCJcXFwiIHdhcyBwYXNzZWRcIik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluc2VydGVkID0ge307IC8vICRGbG93Rml4TWVcblxuICB2YXIgY29udGFpbmVyO1xuICB2YXIgbm9kZXNUb0h5ZHJhdGUgPSBbXTtcblxuICB7XG4gICAgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuaGVhZDtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKCAvLyB0aGlzIG1lYW5zIHdlIHdpbGwgaWdub3JlIGVsZW1lbnRzIHdoaWNoIGRvbid0IGhhdmUgYSBzcGFjZSBpbiB0aGVtIHdoaWNoXG4gICAgLy8gbWVhbnMgdGhhdCB0aGUgc3R5bGUgZWxlbWVudHMgd2UncmUgbG9va2luZyBhdCBhcmUgb25seSBFbW90aW9uIDExIHNlcnZlci1yZW5kZXJlZCBzdHlsZSBlbGVtZW50c1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVtkYXRhLWVtb3Rpb25ePVxcXCJcIiArIGtleSArIFwiIFxcXCJdXCIpLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIGF0dHJpYiA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbW90aW9uXCIpLnNwbGl0KCcgJyk7IC8vICRGbG93Rml4TWVcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhdHRyaWIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5zZXJ0ZWRbYXR0cmliW2ldXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIG5vZGVzVG9IeWRyYXRlLnB1c2gobm9kZSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgX2luc2VydDtcblxuICB2YXIgb21uaXByZXNlbnRQbHVnaW5zID0gW2NvbXBhdCwgcmVtb3ZlTGFiZWxdO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgb21uaXByZXNlbnRQbHVnaW5zLnB1c2goY3JlYXRlVW5zYWZlU2VsZWN0b3JzQWxhcm0oe1xuICAgICAgZ2V0IGNvbXBhdCgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmNvbXBhdDtcbiAgICAgIH1cblxuICAgIH0pLCBpbmNvcnJlY3RJbXBvcnRBbGFybSk7XG4gIH1cblxuICB7XG4gICAgdmFyIGN1cnJlbnRTaGVldDtcbiAgICB2YXIgZmluYWxpemluZ1BsdWdpbnMgPSBbc3RyaW5naWZ5LCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGlmICghZWxlbWVudC5yb290KSB7XG4gICAgICAgIGlmIChlbGVtZW50W1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgY3VycmVudFNoZWV0Lmluc2VydChlbGVtZW50W1wicmV0dXJuXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbHVlICYmIGVsZW1lbnQudHlwZSAhPT0gQ09NTUVOVCkge1xuICAgICAgICAgIC8vIGluc2VydCBlbXB0eSBydWxlIGluIG5vbi1wcm9kdWN0aW9uIGVudmlyb25tZW50c1xuICAgICAgICAgIC8vIHNvIEBlbW90aW9uL2plc3QgY2FuIGdyYWIgYGtleWAgZnJvbSB0aGUgKEpTKURPTSBmb3IgY2FjaGVzIHdpdGhvdXQgYW55IHJ1bGVzIGluc2VydGVkIHlldFxuICAgICAgICAgIGN1cnJlbnRTaGVldC5pbnNlcnQoZWxlbWVudC52YWx1ZSArIFwie31cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IDogcnVsZXNoZWV0KGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICBjdXJyZW50U2hlZXQuaW5zZXJ0KHJ1bGUpO1xuICAgIH0pXTtcbiAgICB2YXIgc2VyaWFsaXplciA9IG1pZGRsZXdhcmUob21uaXByZXNlbnRQbHVnaW5zLmNvbmNhdChzdHlsaXNQbHVnaW5zLCBmaW5hbGl6aW5nUGx1Z2lucykpO1xuXG4gICAgdmFyIHN0eWxpcyA9IGZ1bmN0aW9uIHN0eWxpcyhzdHlsZXMpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemUoY29tcGlsZShzdHlsZXMpLCBzZXJpYWxpemVyKTtcbiAgICB9O1xuXG4gICAgX2luc2VydCA9IGZ1bmN0aW9uIGluc2VydChzZWxlY3Rvciwgc2VyaWFsaXplZCwgc2hlZXQsIHNob3VsZENhY2hlKSB7XG4gICAgICBjdXJyZW50U2hlZXQgPSBzaGVldDtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2VyaWFsaXplZC5tYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXJyZW50U2hlZXQgPSB7XG4gICAgICAgICAgaW5zZXJ0OiBmdW5jdGlvbiBpbnNlcnQocnVsZSkge1xuICAgICAgICAgICAgc2hlZXQuaW5zZXJ0KHJ1bGUgKyBzZXJpYWxpemVkLm1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBzdHlsaXMoc2VsZWN0b3IgPyBzZWxlY3RvciArIFwie1wiICsgc2VyaWFsaXplZC5zdHlsZXMgKyBcIn1cIiA6IHNlcmlhbGl6ZWQuc3R5bGVzKTtcblxuICAgICAgaWYgKHNob3VsZENhY2hlKSB7XG4gICAgICAgIGNhY2hlLmluc2VydGVkW3NlcmlhbGl6ZWQubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY2FjaGUgPSB7XG4gICAga2V5OiBrZXksXG4gICAgc2hlZXQ6IG5ldyBTdHlsZVNoZWV0KHtcbiAgICAgIGtleToga2V5LFxuICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICAgIHNwZWVkeTogb3B0aW9ucy5zcGVlZHksXG4gICAgICBwcmVwZW5kOiBvcHRpb25zLnByZXBlbmRcbiAgICB9KSxcbiAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICBpbnNlcnRlZDogaW5zZXJ0ZWQsXG4gICAgcmVnaXN0ZXJlZDoge30sXG4gICAgaW5zZXJ0OiBfaW5zZXJ0XG4gIH07XG4gIGNhY2hlLnNoZWV0Lmh5ZHJhdGUobm9kZXNUb0h5ZHJhdGUpO1xuICByZXR1cm4gY2FjaGU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDYWNoZTtcbiIsInZhciBpc0Jyb3dzZXIgPSBcIm9iamVjdFwiICE9PSAndW5kZWZpbmVkJztcbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRTdHlsZXMocmVnaXN0ZXJlZCwgcmVnaXN0ZXJlZFN0eWxlcywgY2xhc3NOYW1lcykge1xuICB2YXIgcmF3Q2xhc3NOYW1lID0gJyc7XG4gIGNsYXNzTmFtZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICBpZiAocmVnaXN0ZXJlZFtjbGFzc05hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlZ2lzdGVyZWRTdHlsZXMucHVzaChyZWdpc3RlcmVkW2NsYXNzTmFtZV0gKyBcIjtcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhd0NsYXNzTmFtZSArPSBjbGFzc05hbWUgKyBcIiBcIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmF3Q2xhc3NOYW1lO1xufVxudmFyIGluc2VydFN0eWxlcyA9IGZ1bmN0aW9uIGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgaXNTdHJpbmdUYWcpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuXG4gIGlmICggLy8gd2Ugb25seSBuZWVkIHRvIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSByZWdpc3RlcmVkIGNhY2hlIGlmIHRoZVxuICAvLyBjbGFzcyBuYW1lIGNvdWxkIGJlIHVzZWQgZnVydGhlciBkb3duXG4gIC8vIHRoZSB0cmVlIGJ1dCBpZiBpdCdzIGEgc3RyaW5nIHRhZywgd2Uga25vdyBpdCB3b24ndFxuICAvLyBzbyB3ZSBkb24ndCBoYXZlIHRvIGFkZCBpdCB0byByZWdpc3RlcmVkIGNhY2hlLlxuICAvLyB0aGlzIGltcHJvdmVzIG1lbW9yeSB1c2FnZSBzaW5jZSB3ZSBjYW4gYXZvaWQgc3RvcmluZyB0aGUgd2hvbGUgc3R5bGUgc3RyaW5nXG4gIChpc1N0cmluZ1RhZyA9PT0gZmFsc2UgfHwgLy8gd2UgbmVlZCB0byBhbHdheXMgc3RvcmUgaXQgaWYgd2UncmUgaW4gY29tcGF0IG1vZGUgYW5kXG4gIC8vIGluIG5vZGUgc2luY2UgZW1vdGlvbi1zZXJ2ZXIgcmVsaWVzIG9uIHdoZXRoZXIgYSBzdHlsZSBpcyBpblxuICAvLyB0aGUgcmVnaXN0ZXJlZCBjYWNoZSB0byBrbm93IHdoZXRoZXIgYSBzdHlsZSBpcyBnbG9iYWwgb3Igbm90XG4gIC8vIGFsc28sIG5vdGUgdGhhdCB0aGlzIGNoZWNrIHdpbGwgYmUgZGVhZCBjb2RlIGVsaW1pbmF0ZWQgaW4gdGhlIGJyb3dzZXJcbiAgaXNCcm93c2VyID09PSBmYWxzZSApICYmIGNhY2hlLnJlZ2lzdGVyZWRbY2xhc3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FjaGUucmVnaXN0ZXJlZFtjbGFzc05hbWVdID0gc2VyaWFsaXplZC5zdHlsZXM7XG4gIH1cblxuICBpZiAoY2FjaGUuaW5zZXJ0ZWRbc2VyaWFsaXplZC5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBzZXJpYWxpemVkO1xuXG4gICAgZG8ge1xuICAgICAgdmFyIG1heWJlU3R5bGVzID0gY2FjaGUuaW5zZXJ0KHNlcmlhbGl6ZWQgPT09IGN1cnJlbnQgPyBcIi5cIiArIGNsYXNzTmFtZSA6ICcnLCBjdXJyZW50LCBjYWNoZS5zaGVldCwgdHJ1ZSk7XG5cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgfSB3aGlsZSAoY3VycmVudCAhPT0gdW5kZWZpbmVkKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgZ2V0UmVnaXN0ZXJlZFN0eWxlcywgaW5zZXJ0U3R5bGVzIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2dhcnljb3VydC9tdXJtdXJoYXNoLWpzXG4vLyBQb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWFwcGxlYnkvc21oYXNoZXIvYmxvYi82MWEwNTMwZjI4Mjc3ZjJlODUwYmZjMzk2MDBjZTYxZDAyYjUxOGRlL3NyYy9NdXJtdXJIYXNoMi5jcHAjTDM3LUw4NlxuZnVuY3Rpb24gbXVybXVyMihzdHIpIHtcbiAgLy8gJ20nIGFuZCAncicgYXJlIG1peGluZyBjb25zdGFudHMgZ2VuZXJhdGVkIG9mZmxpbmUuXG4gIC8vIFRoZXkncmUgbm90IHJlYWxseSAnbWFnaWMnLCB0aGV5IGp1c3QgaGFwcGVuIHRvIHdvcmsgd2VsbC5cbiAgLy8gY29uc3QgbSA9IDB4NWJkMWU5OTU7XG4gIC8vIGNvbnN0IHIgPSAyNDtcbiAgLy8gSW5pdGlhbGl6ZSB0aGUgaGFzaFxuICB2YXIgaCA9IDA7IC8vIE1peCA0IGJ5dGVzIGF0IGEgdGltZSBpbnRvIHRoZSBoYXNoXG5cbiAgdmFyIGssXG4gICAgICBpID0gMCxcbiAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cbiAgZm9yICg7IGxlbiA+PSA0OyArK2ksIGxlbiAtPSA0KSB7XG4gICAgayA9IHN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZiB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgOCB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMTYgfCAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDI0O1xuICAgIGsgPVxuICAgIC8qIE1hdGguaW11bChrLCBtKTogKi9cbiAgICAoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChrID4+PiAxNikgKiAweGU5OTUgPDwgMTYpO1xuICAgIGsgXj1cbiAgICAvKiBrID4+PiByOiAqL1xuICAgIGsgPj4+IDI0O1xuICAgIGggPVxuICAgIC8qIE1hdGguaW11bChrLCBtKTogKi9cbiAgICAoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChrID4+PiAxNikgKiAweGU5OTUgPDwgMTYpIF5cbiAgICAvKiBNYXRoLmltdWwoaCwgbSk6ICovXG4gICAgKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSArICgoaCA+Pj4gMTYpICogMHhlOTk1IDw8IDE2KTtcbiAgfSAvLyBIYW5kbGUgdGhlIGxhc3QgZmV3IGJ5dGVzIG9mIHRoZSBpbnB1dCBhcnJheVxuXG5cbiAgc3dpdGNoIChsZW4pIHtcbiAgICBjYXNlIDM6XG4gICAgICBoIF49IChzdHIuY2hhckNvZGVBdChpICsgMikgJiAweGZmKSA8PCAxNjtcblxuICAgIGNhc2UgMjpcbiAgICAgIGggXj0gKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmYpIDw8IDg7XG5cbiAgICBjYXNlIDE6XG4gICAgICBoIF49IHN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZjtcbiAgICAgIGggPVxuICAgICAgLyogTWF0aC5pbXVsKGgsIG0pOiAqL1xuICAgICAgKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSArICgoaCA+Pj4gMTYpICogMHhlOTk1IDw8IDE2KTtcbiAgfSAvLyBEbyBhIGZldyBmaW5hbCBtaXhlcyBvZiB0aGUgaGFzaCB0byBlbnN1cmUgdGhlIGxhc3QgZmV3XG4gIC8vIGJ5dGVzIGFyZSB3ZWxsLWluY29ycG9yYXRlZC5cblxuXG4gIGggXj0gaCA+Pj4gMTM7XG4gIGggPVxuICAvKiBNYXRoLmltdWwoaCwgbSk6ICovXG4gIChoICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUgKyAoKGggPj4+IDE2KSAqIDB4ZTk5NSA8PCAxNik7XG4gIHJldHVybiAoKGggXiBoID4+PiAxNSkgPj4+IDApLnRvU3RyaW5nKDM2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbXVybXVyMjtcbiIsImltcG9ydCBoYXNoU3RyaW5nIGZyb20gJ0BlbW90aW9uL2hhc2gnO1xuaW1wb3J0IHVuaXRsZXNzIGZyb20gJ0BlbW90aW9uL3VuaXRsZXNzJztcbmltcG9ydCBtZW1vaXplIGZyb20gJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IgPSBcIllvdSBoYXZlIGlsbGVnYWwgZXNjYXBlIHNlcXVlbmNlIGluIHlvdXIgdGVtcGxhdGUgbGl0ZXJhbCwgbW9zdCBsaWtlbHkgaW5zaWRlIGNvbnRlbnQncyBwcm9wZXJ0eSB2YWx1ZS5cXG5CZWNhdXNlIHlvdSB3cml0ZSB5b3VyIENTUyBpbnNpZGUgYSBKYXZhU2NyaXB0IHN0cmluZyB5b3UgYWN0dWFsbHkgaGF2ZSB0byBkbyBkb3VibGUgZXNjYXBpbmcsIHNvIGZvciBleGFtcGxlIFxcXCJjb250ZW50OiAnXFxcXDAwZDcnO1xcXCIgc2hvdWxkIGJlY29tZSBcXFwiY29udGVudDogJ1xcXFxcXFxcMDBkNyc7XFxcIi5cXG5Zb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGlzIGhlcmU6XFxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvVGVtcGxhdGVfbGl0ZXJhbHMjRVMyMDE4X3JldmlzaW9uX29mX2lsbGVnYWxfZXNjYXBlX3NlcXVlbmNlc1wiO1xudmFyIFVOREVGSU5FRF9BU19PQkpFQ1RfS0VZX0VSUk9SID0gXCJZb3UgaGF2ZSBwYXNzZWQgaW4gZmFsc3kgdmFsdWUgYXMgc3R5bGUgb2JqZWN0J3Mga2V5IChjYW4gaGFwcGVuIHdoZW4gaW4gZXhhbXBsZSB5b3UgcGFzcyB1bmV4cG9ydGVkIGNvbXBvbmVudCBhcyBjb21wdXRlZCBrZXkpLlwiO1xudmFyIGh5cGhlbmF0ZVJlZ2V4ID0gL1tBLVpdfF5tcy9nO1xudmFyIGFuaW1hdGlvblJlZ2V4ID0gL19FTU9fKFteX10rPylfKFteXSo/KV9FTU9fL2c7XG5cbnZhciBpc0N1c3RvbVByb3BlcnR5ID0gZnVuY3Rpb24gaXNDdXN0b21Qcm9wZXJ0eShwcm9wZXJ0eSkge1xuICByZXR1cm4gcHJvcGVydHkuY2hhckNvZGVBdCgxKSA9PT0gNDU7XG59O1xuXG52YXIgaXNQcm9jZXNzYWJsZVZhbHVlID0gZnVuY3Rpb24gaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nO1xufTtcblxudmFyIHByb2Nlc3NTdHlsZU5hbWUgPSAvKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uIChzdHlsZU5hbWUpIHtcbiAgcmV0dXJuIGlzQ3VzdG9tUHJvcGVydHkoc3R5bGVOYW1lKSA/IHN0eWxlTmFtZSA6IHN0eWxlTmFtZS5yZXBsYWNlKGh5cGhlbmF0ZVJlZ2V4LCAnLSQmJykudG9Mb3dlckNhc2UoKTtcbn0pO1xuXG52YXIgcHJvY2Vzc1N0eWxlVmFsdWUgPSBmdW5jdGlvbiBwcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlKSB7XG4gIHN3aXRjaCAoa2V5KSB7XG4gICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICBjYXNlICdhbmltYXRpb25OYW1lJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShhbmltYXRpb25SZWdleCwgZnVuY3Rpb24gKG1hdGNoLCBwMSwgcDIpIHtcbiAgICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgICAgbmFtZTogcDEsXG4gICAgICAgICAgICAgIHN0eWxlczogcDIsXG4gICAgICAgICAgICAgIG5leHQ6IGN1cnNvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBwMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgaWYgKHVuaXRsZXNzW2tleV0gIT09IDEgJiYgIWlzQ3VzdG9tUHJvcGVydHkoa2V5KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBjb250ZW50VmFsdWVQYXR0ZXJuID0gLyhhdHRyfGNvdW50ZXJzP3x1cmx8KCgocmVwZWF0aW5nLSk/KGxpbmVhcnxyYWRpYWwpKXxjb25pYyktZ3JhZGllbnQpXFwofChuby0pPyhvcGVufGNsb3NlKS1xdW90ZS87XG4gIHZhciBjb250ZW50VmFsdWVzID0gWydub3JtYWwnLCAnbm9uZScsICdpbml0aWFsJywgJ2luaGVyaXQnLCAndW5zZXQnXTtcbiAgdmFyIG9sZFByb2Nlc3NTdHlsZVZhbHVlID0gcHJvY2Vzc1N0eWxlVmFsdWU7XG4gIHZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuICB2YXIgaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG4gIHZhciBoeXBoZW5hdGVkQ2FjaGUgPSB7fTtcblxuICBwcm9jZXNzU3R5bGVWYWx1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NTdHlsZVZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5ID09PSAnY29udGVudCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IGNvbnRlbnRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xICYmICFjb250ZW50VmFsdWVQYXR0ZXJuLnRlc3QodmFsdWUpICYmICh2YWx1ZS5jaGFyQXQoMCkgIT09IHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKSB8fCB2YWx1ZS5jaGFyQXQoMCkgIT09ICdcIicgJiYgdmFsdWUuY2hhckF0KDApICE9PSBcIidcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgYSB2YWx1ZSBmb3IgJ2NvbnRlbnQnIHdpdGhvdXQgcXVvdGVzLCB0cnkgcmVwbGFjaW5nIGl0IHdpdGggYGNvbnRlbnQ6ICdcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIidgXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9jZXNzZWQgPSBvbGRQcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlKTtcblxuICAgIGlmIChwcm9jZXNzZWQgIT09ICcnICYmICFpc0N1c3RvbVByb3BlcnR5KGtleSkgJiYga2V5LmluZGV4T2YoJy0nKSAhPT0gLTEgJiYgaHlwaGVuYXRlZENhY2hlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaHlwaGVuYXRlZENhY2hlW2tleV0gPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihcIlVzaW5nIGtlYmFiLWNhc2UgZm9yIGNzcyBwcm9wZXJ0aWVzIGluIG9iamVjdHMgaXMgbm90IHN1cHBvcnRlZC4gRGlkIHlvdSBtZWFuIFwiICsga2V5LnJlcGxhY2UobXNQYXR0ZXJuLCAnbXMtJykucmVwbGFjZShoeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoc3RyLCBfY2hhcikge1xuICAgICAgICByZXR1cm4gX2NoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pICsgXCI/XCIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIGludGVycG9sYXRpb24pIHtcbiAgaWYgKGludGVycG9sYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmIChpbnRlcnBvbGF0aW9uLl9fZW1vdGlvbl9zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGludGVycG9sYXRpb24udG9TdHJpbmcoKSA9PT0gJ05PX0NPTVBPTkVOVF9TRUxFQ1RPUicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IHNlbGVjdG9ycyBjYW4gb25seSBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggQGVtb3Rpb24vYmFiZWwtcGx1Z2luLicpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcnBvbGF0aW9uO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlb2YgaW50ZXJwb2xhdGlvbikge1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAge1xuICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbi5hbmltID09PSAxKSB7XG4gICAgICAgICAgY3Vyc29yID0ge1xuICAgICAgICAgICAgbmFtZTogaW50ZXJwb2xhdGlvbi5uYW1lLFxuICAgICAgICAgICAgc3R5bGVzOiBpbnRlcnBvbGF0aW9uLnN0eWxlcyxcbiAgICAgICAgICAgIG5leHQ6IGN1cnNvclxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGludGVycG9sYXRpb24ubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnBvbGF0aW9uLnN0eWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIG5leHQgPSBpbnRlcnBvbGF0aW9uLm5leHQ7XG5cbiAgICAgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBub3QgdGhlIG1vc3QgZWZmaWNpZW50IHRoaW5nIGV2ZXIgYnV0IHRoaXMgaXMgYSBwcmV0dHkgcmFyZSBjYXNlXG4gICAgICAgICAgICAvLyBhbmQgdGhlcmUgd2lsbCBiZSB2ZXJ5IGZldyBpdGVyYXRpb25zIG9mIHRoaXMgZ2VuZXJhbGx5XG4gICAgICAgICAgICB3aGlsZSAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuZXh0Lm5hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGVzOiBuZXh0LnN0eWxlcyxcbiAgICAgICAgICAgICAgICBuZXh0OiBjdXJzb3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc3R5bGVzID0gaW50ZXJwb2xhdGlvbi5zdHlsZXMgKyBcIjtcIjtcblxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGludGVycG9sYXRpb24ubWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0eWxlcyArPSBpbnRlcnBvbGF0aW9uLm1hcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVN0cmluZ0Zyb21PYmplY3QobWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIGludGVycG9sYXRpb24pO1xuICAgICAgfVxuXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAge1xuICAgICAgICBpZiAobWVyZ2VkUHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBwcmV2aW91c0N1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gaW50ZXJwb2xhdGlvbihtZXJnZWRQcm9wcyk7XG4gICAgICAgICAgY3Vyc29yID0gcHJldmlvdXNDdXJzb3I7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Z1bmN0aW9ucyB0aGF0IGFyZSBpbnRlcnBvbGF0ZWQgaW4gY3NzIGNhbGxzIHdpbGwgYmUgc3RyaW5naWZpZWQuXFxuJyArICdJZiB5b3Ugd2FudCB0byBoYXZlIGEgY3NzIGNhbGwgYmFzZWQgb24gcHJvcHMsIGNyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGNzcyBjYWxsIGxpa2UgdGhpc1xcbicgKyAnbGV0IGR5bmFtaWNTdHlsZSA9IChwcm9wcykgPT4gY3NzYGNvbG9yOiAke3Byb3BzLmNvbG9yfWBcXG4nICsgJ0l0IGNhbiBiZSBjYWxsZWQgZGlyZWN0bHkgd2l0aCBwcm9wcyBvciBpbnRlcnBvbGF0ZWQgaW4gYSBzdHlsZWQgY2FsbCBsaWtlIHRoaXNcXG4nICsgXCJsZXQgU29tZUNvbXBvbmVudCA9IHN0eWxlZCgnZGl2JylgJHtkeW5hbWljU3R5bGV9YFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gW107XG4gICAgICAgIHZhciByZXBsYWNlZCA9IGludGVycG9sYXRpb24ucmVwbGFjZShhbmltYXRpb25SZWdleCwgZnVuY3Rpb24gKG1hdGNoLCBwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgZmFrZVZhck5hbWUgPSBcImFuaW1hdGlvblwiICsgbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgICAgbWF0Y2hlZC5wdXNoKFwiY29uc3QgXCIgKyBmYWtlVmFyTmFtZSArIFwiID0ga2V5ZnJhbWVzYFwiICsgcDIucmVwbGFjZSgvXkBrZXlmcmFtZXMgYW5pbWF0aW9uLVxcdysvLCAnJykgKyBcImBcIik7XG4gICAgICAgICAgcmV0dXJuIFwiJHtcIiArIGZha2VWYXJOYW1lICsgXCJ9XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaGVkLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2BrZXlmcmFtZXNgIG91dHB1dCBnb3QgaW50ZXJwb2xhdGVkIGludG8gcGxhaW4gc3RyaW5nLCBwbGVhc2Ugd3JhcCBpdCB3aXRoIGBjc3NgLlxcblxcbicgKyAnSW5zdGVhZCBvZiBkb2luZyB0aGlzOlxcblxcbicgKyBbXS5jb25jYXQobWF0Y2hlZCwgW1wiYFwiICsgcmVwbGFjZWQgKyBcImBcIl0pLmpvaW4oJ1xcbicpICsgJ1xcblxcbllvdSBzaG91bGQgd3JhcCBpdCB3aXRoIGBjc3NgIGxpa2UgdGhpczpcXG5cXG4nICsgKFwiY3NzYFwiICsgcmVwbGFjZWQgKyBcImBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICB9IC8vIGZpbmFsaXplIHN0cmluZyB2YWx1ZXMgKHJlZ3VsYXIgc3RyaW5ncyBhbmQgZnVuY3Rpb25zIGludGVycG9sYXRlZCBpbnRvIGNzcyBjYWxscylcblxuXG4gIGlmIChyZWdpc3RlcmVkID09IG51bGwpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGlvbjtcbiAgfVxuXG4gIHZhciBjYWNoZWQgPSByZWdpc3RlcmVkW2ludGVycG9sYXRpb25dO1xuICByZXR1cm4gY2FjaGVkICE9PSB1bmRlZmluZWQgPyBjYWNoZWQgOiBpbnRlcnBvbGF0aW9uO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdGcm9tT2JqZWN0KG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBvYmopIHtcbiAgdmFyIHN0cmluZyA9ICcnO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyaW5nICs9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIG9ialtpXSkgKyBcIjtcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgX2tleSBpbiBvYmopIHtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtfa2V5XTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWQgIT0gbnVsbCAmJiByZWdpc3RlcmVkW3ZhbHVlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3RyaW5nICs9IF9rZXkgKyBcIntcIiArIHJlZ2lzdGVyZWRbdmFsdWVdICsgXCJ9XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgIHN0cmluZyArPSBwcm9jZXNzU3R5bGVOYW1lKF9rZXkpICsgXCI6XCIgKyBwcm9jZXNzU3R5bGVWYWx1ZShfa2V5LCB2YWx1ZSkgKyBcIjtcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKF9rZXkgPT09ICdOT19DT01QT05FTlRfU0VMRUNUT1InICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBzZWxlY3RvcnMgY2FuIG9ubHkgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIEBlbW90aW9uL2JhYmVsLXBsdWdpbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnICYmIChyZWdpc3RlcmVkID09IG51bGwgfHwgcmVnaXN0ZXJlZFt2YWx1ZVswXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdmFsdWUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlW19pXSkpIHtcbiAgICAgICAgICAgICAgc3RyaW5nICs9IHByb2Nlc3NTdHlsZU5hbWUoX2tleSkgKyBcIjpcIiArIHByb2Nlc3NTdHlsZVZhbHVlKF9rZXksIHZhbHVlW19pXSkgKyBcIjtcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRlZCA9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHZhbHVlKTtcblxuICAgICAgICAgIHN3aXRjaCAoX2tleSkge1xuICAgICAgICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ2FuaW1hdGlvbk5hbWUnOlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHByb2Nlc3NTdHlsZU5hbWUoX2tleSkgKyBcIjpcIiArIGludGVycG9sYXRlZCArIFwiO1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBfa2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihVTkRFRklORURfQVNfT0JKRUNUX0tFWV9FUlJPUik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IF9rZXkgKyBcIntcIiArIGludGVycG9sYXRlZCArIFwifVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZztcbn1cblxudmFyIGxhYmVsUGF0dGVybiA9IC9sYWJlbDpcXHMqKFteXFxzO1xcbntdKylcXHMqKDt8JCkvZztcbnZhciBzb3VyY2VNYXBQYXR0ZXJuO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBzb3VyY2VNYXBQYXR0ZXJuID0gL1xcL1xcKiNcXHNzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb25cXC9qc29uO1xcUytcXHMrXFwqXFwvL2c7XG59IC8vIHRoaXMgaXMgdGhlIGN1cnNvciBmb3Iga2V5ZnJhbWVzXG4vLyBrZXlmcmFtZXMgYXJlIHN0b3JlZCBvbiB0aGUgU2VyaWFsaXplZFN0eWxlcyBvYmplY3QgYXMgYSBsaW5rZWQgbGlzdFxuXG5cbnZhciBjdXJzb3I7XG52YXIgc2VyaWFsaXplU3R5bGVzID0gZnVuY3Rpb24gc2VyaWFsaXplU3R5bGVzKGFyZ3MsIHJlZ2lzdGVyZWQsIG1lcmdlZFByb3BzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcgJiYgYXJnc1swXSAhPT0gbnVsbCAmJiBhcmdzWzBdLnN0eWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGFyZ3NbMF07XG4gIH1cblxuICB2YXIgc3RyaW5nTW9kZSA9IHRydWU7XG4gIHZhciBzdHlsZXMgPSAnJztcbiAgY3Vyc29yID0gdW5kZWZpbmVkO1xuICB2YXIgc3RyaW5ncyA9IGFyZ3NbMF07XG5cbiAgaWYgKHN0cmluZ3MgPT0gbnVsbCB8fCBzdHJpbmdzLnJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RyaW5nTW9kZSA9IGZhbHNlO1xuICAgIHN0eWxlcyArPSBoYW5kbGVJbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBzdHJpbmdzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdHJpbmdzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgIH1cblxuICAgIHN0eWxlcyArPSBzdHJpbmdzWzBdO1xuICB9IC8vIHdlIHN0YXJ0IGF0IDEgc2luY2Ugd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBmaXJzdCBhcmdcblxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHN0eWxlcyArPSBoYW5kbGVJbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBhcmdzW2ldKTtcblxuICAgIGlmIChzdHJpbmdNb2RlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdHJpbmdzW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihJTExFR0FMX0VTQ0FQRV9TRVFVRU5DRV9FUlJPUik7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlcyArPSBzdHJpbmdzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzb3VyY2VNYXA7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBzdHlsZXMgPSBzdHlsZXMucmVwbGFjZShzb3VyY2VNYXBQYXR0ZXJuLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgIHNvdXJjZU1hcCA9IG1hdGNoO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICB9IC8vIHVzaW5nIGEgZ2xvYmFsIHJlZ2V4IHdpdGggLmV4ZWMgaXMgc3RhdGVmdWwgc28gbGFzdEluZGV4IGhhcyB0byBiZSByZXNldCBlYWNoIHRpbWVcblxuXG4gIGxhYmVsUGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICB2YXIgaWRlbnRpZmllck5hbWUgPSAnJztcbiAgdmFyIG1hdGNoOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViODA5YzJjZjI5NDk4MDBhMGY2MWZiNVxuXG4gIHdoaWxlICgobWF0Y2ggPSBsYWJlbFBhdHRlcm4uZXhlYyhzdHlsZXMpKSAhPT0gbnVsbCkge1xuICAgIGlkZW50aWZpZXJOYW1lICs9ICctJyArIC8vICRGbG93Rml4TWUgd2Uga25vdyBpdCdzIG5vdCBudWxsXG4gICAgbWF0Y2hbMV07XG4gIH1cblxuICB2YXIgbmFtZSA9IGhhc2hTdHJpbmcoc3R5bGVzKSArIGlkZW50aWZpZXJOYW1lO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gJEZsb3dGaXhNZSBTZXJpYWxpemVkU3R5bGVzIHR5cGUgZG9lc24ndCBoYXZlIHRvU3RyaW5nIHByb3BlcnR5IChhbmQgd2UgZG9uJ3Qgd2FudCB0byBhZGQgaXQpXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICAgIG1hcDogc291cmNlTWFwLFxuICAgICAgbmV4dDogY3Vyc29yLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJZb3UgaGF2ZSB0cmllZCB0byBzdHJpbmdpZnkgb2JqZWN0IHJldHVybmVkIGZyb20gYGNzc2AgZnVuY3Rpb24uIEl0IGlzbid0IHN1cHBvc2VkIHRvIGJlIHVzZWQgZGlyZWN0bHkgKGUuZy4gYXMgdmFsdWUgb2YgdGhlIGBjbGFzc05hbWVgIHByb3ApLCBidXQgcmF0aGVyIGhhbmRlZCB0byBlbW90aW9uIHNvIGl0IGNhbiBoYW5kbGUgaXQgKGUuZy4gYXMgdmFsdWUgb2YgYGNzc2AgcHJvcCkuXCI7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICBuZXh0OiBjdXJzb3JcbiAgfTtcbn07XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgZm9yd2FyZFJlZiwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVDYWNoZSBmcm9tICdAZW1vdGlvbi9jYWNoZSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgd2Vha01lbW9pemUgZnJvbSAnQGVtb3Rpb24vd2Vhay1tZW1vaXplJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICcuLi9pc29sYXRlZC1ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy1kby1ub3QtdXNlLXRoaXMtaW4teW91ci1jb2RlL2Rpc3QvZW1vdGlvbi1yZWFjdC1pc29sYXRlZC1ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy1kby1ub3QtdXNlLXRoaXMtaW4teW91ci1jb2RlLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IGdldFJlZ2lzdGVyZWRTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBFbW90aW9uQ2FjaGVDb250ZXh0ID0gLyogI19fUFVSRV9fICovY3JlYXRlQ29udGV4dCggLy8gd2UncmUgZG9pbmcgdGhpcyB0byBhdm9pZCBwcmVjb25zdHJ1Y3QncyBkZWFkIGNvZGUgZWxpbWluYXRpb24gaW4gdGhpcyBvbmUgY2FzZVxuLy8gYmVjYXVzZSB0aGlzIG1vZHVsZSBpcyBwcmltYXJpbHkgaW50ZW5kZWQgZm9yIHRoZSBicm93c2VyIGFuZCBub2RlXG4vLyBidXQgaXQncyBhbHNvIHJlcXVpcmVkIGluIHJlYWN0IG5hdGl2ZSBhbmQgc2ltaWxhciBlbnZpcm9ubWVudHMgc29tZXRpbWVzXG4vLyBhbmQgd2UgY291bGQgaGF2ZSBhIHNwZWNpYWwgYnVpbGQganVzdCBmb3IgdGhhdFxuLy8gYnV0IHRoaXMgaXMgbXVjaCBlYXNpZXIgYW5kIHRoZSBuYXRpdmUgcGFja2FnZXNcbi8vIG1pZ2h0IHVzZSBhIGRpZmZlcmVudCB0aGVtZSBjb250ZXh0IGluIHRoZSBmdXR1cmUgYW55d2F5XG50eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gLyogI19fUFVSRV9fICovY3JlYXRlQ2FjaGUoe1xuICBrZXk6ICdjc3MnXG59KSA6IG51bGwpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBFbW90aW9uQ2FjaGVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25DYWNoZUNvbnRleHQnO1xufVxuXG52YXIgQ2FjaGVQcm92aWRlciA9IEVtb3Rpb25DYWNoZUNvbnRleHQuUHJvdmlkZXI7XG52YXIgX191bnNhZmVfdXNlRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gdXNlRW1vdGlvbkNhY2hlKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChFbW90aW9uQ2FjaGVDb250ZXh0KTtcbn07XG5cbnZhciB3aXRoRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gd2l0aEVtb3Rpb25DYWNoZShmdW5jKSB7XG4gIC8vICRGbG93Rml4TWVcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgLy8gdGhlIGNhY2hlIHdpbGwgbmV2ZXIgYmUgbnVsbCBpbiB0aGUgYnJvd3NlclxuICAgIHZhciBjYWNoZSA9IHVzZUNvbnRleHQoRW1vdGlvbkNhY2hlQ29udGV4dCk7XG4gICAgcmV0dXJuIGZ1bmMocHJvcHMsIGNhY2hlLCByZWYpO1xuICB9KTtcbn07XG5cbnZhciBUaGVtZUNvbnRleHQgPSAvKiAjX19QVVJFX18gKi9jcmVhdGVDb250ZXh0KHt9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGhlbWVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25UaGVtZUNvbnRleHQnO1xufVxuXG52YXIgdXNlVGhlbWUgPSBmdW5jdGlvbiB1c2VUaGVtZSgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbn07XG5cbnZhciBnZXRUaGVtZSA9IGZ1bmN0aW9uIGdldFRoZW1lKG91dGVyVGhlbWUsIHRoZW1lKSB7XG4gIGlmICh0eXBlb2YgdGhlbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgbWVyZ2VkVGhlbWUgPSB0aGVtZShvdXRlclRoZW1lKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChtZXJnZWRUaGVtZSA9PSBudWxsIHx8IHR5cGVvZiBtZXJnZWRUaGVtZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShtZXJnZWRUaGVtZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tUaGVtZVByb3ZpZGVyXSBQbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgdGhlbWUgZnVuY3Rpb24sIGkuZS4gdGhlbWU9eygpID0+ICh7fSl9IScpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWRUaGVtZTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICh0aGVtZSA9PSBudWxsIHx8IHR5cGVvZiB0aGVtZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh0aGVtZSkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdbVGhlbWVQcm92aWRlcl0gUGxlYXNlIG1ha2UgeW91ciB0aGVtZSBwcm9wIGEgcGxhaW4gb2JqZWN0Jyk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIG91dGVyVGhlbWUsIHRoZW1lKTtcbn07XG5cbnZhciBjcmVhdGVDYWNoZVdpdGhUaGVtZSA9IC8qICNfX1BVUkVfXyAqL3dlYWtNZW1vaXplKGZ1bmN0aW9uIChvdXRlclRoZW1lKSB7XG4gIHJldHVybiB3ZWFrTWVtb2l6ZShmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gZ2V0VGhlbWUob3V0ZXJUaGVtZSwgdGhlbWUpO1xuICB9KTtcbn0pO1xudmFyIFRoZW1lUHJvdmlkZXIgPSBmdW5jdGlvbiBUaGVtZVByb3ZpZGVyKHByb3BzKSB7XG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcblxuICBpZiAocHJvcHMudGhlbWUgIT09IHRoZW1lKSB7XG4gICAgdGhlbWUgPSBjcmVhdGVDYWNoZVdpdGhUaGVtZSh0aGVtZSkocHJvcHMudGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KFRoZW1lQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB0aGVtZVxuICB9LCBwcm9wcy5jaGlsZHJlbik7XG59O1xuZnVuY3Rpb24gd2l0aFRoZW1lKENvbXBvbmVudCkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICB2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHByb3BzLCByZWYpIHtcbiAgICB2YXIgdGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgcmVmOiByZWZcbiAgICB9LCBwcm9wcykpO1xuICB9OyAvLyAkRmxvd0ZpeE1lXG5cblxuICB2YXIgV2l0aFRoZW1lID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYocmVuZGVyKTtcbiAgV2l0aFRoZW1lLmRpc3BsYXlOYW1lID0gXCJXaXRoVGhlbWUoXCIgKyBjb21wb25lbnROYW1lICsgXCIpXCI7XG4gIHJldHVybiBob2lzdE5vblJlYWN0U3RhdGljcyhXaXRoVGhlbWUsIENvbXBvbmVudCk7XG59XG5cbi8vIHRodXMgd2Ugb25seSBuZWVkIHRvIHJlcGxhY2Ugd2hhdCBpcyBhIHZhbGlkIGNoYXJhY3RlciBmb3IgSlMsIGJ1dCBub3QgZm9yIENTU1xuXG52YXIgc2FuaXRpemVJZGVudGlmaWVyID0gZnVuY3Rpb24gc2FuaXRpemVJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGlkZW50aWZpZXIucmVwbGFjZSgvXFwkL2csICctJyk7XG59O1xuXG52YXIgdHlwZVByb3BOYW1lID0gJ19fRU1PVElPTl9UWVBFX1BMRUFTRV9ET19OT1RfVVNFX18nO1xudmFyIGxhYmVsUHJvcE5hbWUgPSAnX19FTU9USU9OX0xBQkVMX1BMRUFTRV9ET19OT1RfVVNFX18nO1xudmFyIGNyZWF0ZUVtb3Rpb25Qcm9wcyA9IGZ1bmN0aW9uIGNyZWF0ZUVtb3Rpb25Qcm9wcyh0eXBlLCBwcm9wcykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgcHJvcHMuY3NzID09PSAnc3RyaW5nJyAmJiAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGNzcyBkZWNsYXJhdGlvblxuICBwcm9wcy5jc3MuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmluZ3MgYXJlIG5vdCBhbGxvd2VkIGFzIGNzcyBwcm9wIHZhbHVlcywgcGxlYXNlIHdyYXAgaXQgaW4gYSBjc3MgdGVtcGxhdGUgbGl0ZXJhbCBmcm9tICdAZW1vdGlvbi9yZWFjdCcgbGlrZSB0aGlzOiBjc3NgXCIgKyBwcm9wcy5jc3MgKyBcImBcIik7XG4gIH1cblxuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywga2V5KSkge1xuICAgICAgbmV3UHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICB9XG5cbiAgbmV3UHJvcHNbdHlwZVByb3BOYW1lXSA9IHR5cGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblxuICAgIGlmIChlcnJvci5zdGFjaykge1xuICAgICAgLy8gY2hyb21lXG4gICAgICB2YXIgbWF0Y2ggPSBlcnJvci5zdGFjay5tYXRjaCgvYXQgKD86T2JqZWN0XFwufE1vZHVsZVxcLnwpKD86anN4fGNyZWF0ZUVtb3Rpb25Qcm9wcykuKlxcblxccythdCAoPzpPYmplY3RcXC58KShbQS1aXVtBLVphLXowLTkkXSspIC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIC8vIHNhZmFyaSBhbmQgZmlyZWZveFxuICAgICAgICBtYXRjaCA9IGVycm9yLnN0YWNrLm1hdGNoKC8uKlxcbihbQS1aXVtBLVphLXowLTkkXSspQC8pO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbmV3UHJvcHNbbGFiZWxQcm9wTmFtZV0gPSBzYW5pdGl6ZUlkZW50aWZpZXIobWF0Y2hbMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdQcm9wcztcbn07XG52YXIgRW1vdGlvbiA9IC8qICNfX1BVUkVfXyAqL3dpdGhFbW90aW9uQ2FjaGUoZnVuY3Rpb24gKHByb3BzLCBjYWNoZSwgcmVmKSB7XG4gIHZhciBjc3NQcm9wID0gcHJvcHMuY3NzOyAvLyBzbyB0aGF0IHVzaW5nIGBjc3NgIGZyb20gYGVtb3Rpb25gIGFuZCBwYXNzaW5nIHRoZSByZXN1bHQgdG8gdGhlIGNzcyBwcm9wIHdvcmtzXG4gIC8vIG5vdCBwYXNzaW5nIHRoZSByZWdpc3RlcmVkIGNhY2hlIHRvIHNlcmlhbGl6ZVN0eWxlcyBiZWNhdXNlIGl0IHdvdWxkXG4gIC8vIG1ha2UgY2VydGFpbiBiYWJlbCBvcHRpbWlzYXRpb25zIG5vdCBwb3NzaWJsZVxuXG4gIGlmICh0eXBlb2YgY3NzUHJvcCA9PT0gJ3N0cmluZycgJiYgY2FjaGUucmVnaXN0ZXJlZFtjc3NQcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY3NzUHJvcCA9IGNhY2hlLnJlZ2lzdGVyZWRbY3NzUHJvcF07XG4gIH1cblxuICB2YXIgdHlwZSA9IHByb3BzW3R5cGVQcm9wTmFtZV07XG4gIHZhciByZWdpc3RlcmVkU3R5bGVzID0gW2Nzc1Byb3BdO1xuICB2YXIgY2xhc3NOYW1lID0gJyc7XG5cbiAgaWYgKHR5cGVvZiBwcm9wcy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgY2xhc3NOYW1lID0gZ2V0UmVnaXN0ZXJlZFN0eWxlcyhjYWNoZS5yZWdpc3RlcmVkLCByZWdpc3RlcmVkU3R5bGVzLCBwcm9wcy5jbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKHByb3BzLmNsYXNzTmFtZSAhPSBudWxsKSB7XG4gICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lICsgXCIgXCI7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhyZWdpc3RlcmVkU3R5bGVzLCB1bmRlZmluZWQsIHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2VyaWFsaXplZC5uYW1lLmluZGV4T2YoJy0nKSA9PT0gLTEpIHtcbiAgICB2YXIgbGFiZWxGcm9tU3RhY2sgPSBwcm9wc1tsYWJlbFByb3BOYW1lXTtcblxuICAgIGlmIChsYWJlbEZyb21TdGFjaykge1xuICAgICAgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhbc2VyaWFsaXplZCwgJ2xhYmVsOicgKyBsYWJlbEZyb21TdGFjayArICc7J10pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBydWxlcyA9IGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKTtcbiAgY2xhc3NOYW1lICs9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywga2V5KSAmJiBrZXkgIT09ICdjc3MnICYmIGtleSAhPT0gdHlwZVByb3BOYW1lICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nIHx8IGtleSAhPT0gbGFiZWxQcm9wTmFtZSkpIHtcbiAgICAgIG5ld1Byb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIG5ld1Byb3BzLnJlZiA9IHJlZjtcbiAgbmV3UHJvcHMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB2YXIgZWxlID0gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQodHlwZSwgbmV3UHJvcHMpO1xuXG4gIHJldHVybiBlbGU7XG59KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgRW1vdGlvbi5kaXNwbGF5TmFtZSA9ICdFbW90aW9uQ3NzUHJvcEludGVybmFsJztcbn1cblxuZXhwb3J0IHsgQ2FjaGVQcm92aWRlciBhcyBDLCBFbW90aW9uIGFzIEUsIFRoZW1lQ29udGV4dCBhcyBULCBfX3Vuc2FmZV91c2VFbW90aW9uQ2FjaGUgYXMgXywgVGhlbWVQcm92aWRlciBhcyBhLCB3aXRoVGhlbWUgYXMgYiwgY3JlYXRlRW1vdGlvblByb3BzIGFzIGMsIGhhc093blByb3BlcnR5IGFzIGgsIHVzZVRoZW1lIGFzIHUsIHdpdGhFbW90aW9uQ2FjaGUgYXMgdyB9O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBpc1Byb3BWYWxpZCBmcm9tICdAZW1vdGlvbi9pcy1wcm9wLXZhbGlkJztcbmltcG9ydCB7IHdpdGhFbW90aW9uQ2FjaGUsIFRoZW1lQ29udGV4dCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IGdldFJlZ2lzdGVyZWRTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5cbnZhciB0ZXN0T21pdFByb3BzT25TdHJpbmdUYWcgPSBpc1Byb3BWYWxpZDtcblxudmFyIHRlc3RPbWl0UHJvcHNPbkNvbXBvbmVudCA9IGZ1bmN0aW9uIHRlc3RPbWl0UHJvcHNPbkNvbXBvbmVudChrZXkpIHtcbiAgcmV0dXJuIGtleSAhPT0gJ3RoZW1lJztcbn07XG5cbnZhciBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AgPSBmdW5jdGlvbiBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AodGFnKSB7XG4gIHJldHVybiB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyAmJiAvLyA5NiBpcyBvbmUgbGVzcyB0aGFuIHRoZSBjaGFyIGNvZGVcbiAgLy8gZm9yIFwiYVwiIHNvIHRoaXMgaXMgY2hlY2tpbmcgdGhhdFxuICAvLyBpdCdzIGEgbG93ZXJjYXNlIGNoYXJhY3RlclxuICB0YWcuY2hhckNvZGVBdCgwKSA+IDk2ID8gdGVzdE9taXRQcm9wc09uU3RyaW5nVGFnIDogdGVzdE9taXRQcm9wc09uQ29tcG9uZW50O1xufTtcbnZhciBjb21wb3NlU2hvdWxkRm9yd2FyZFByb3BzID0gZnVuY3Rpb24gY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyh0YWcsIG9wdGlvbnMsIGlzUmVhbCkge1xuICB2YXIgc2hvdWxkRm9yd2FyZFByb3A7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wID0gb3B0aW9ucy5zaG91bGRGb3J3YXJkUHJvcDtcbiAgICBzaG91bGRGb3J3YXJkUHJvcCA9IHRhZy5fX2Vtb3Rpb25fZm9yd2FyZFByb3AgJiYgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wID8gZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICByZXR1cm4gdGFnLl9fZW1vdGlvbl9mb3J3YXJkUHJvcChwcm9wTmFtZSkgJiYgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wKHByb3BOYW1lKTtcbiAgICB9IDogb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzaG91bGRGb3J3YXJkUHJvcCAhPT0gJ2Z1bmN0aW9uJyAmJiBpc1JlYWwpIHtcbiAgICBzaG91bGRGb3J3YXJkUHJvcCA9IHRhZy5fX2Vtb3Rpb25fZm9yd2FyZFByb3A7XG4gIH1cblxuICByZXR1cm4gc2hvdWxkRm9yd2FyZFByb3A7XG59O1xuXG52YXIgSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IgPSBcIllvdSBoYXZlIGlsbGVnYWwgZXNjYXBlIHNlcXVlbmNlIGluIHlvdXIgdGVtcGxhdGUgbGl0ZXJhbCwgbW9zdCBsaWtlbHkgaW5zaWRlIGNvbnRlbnQncyBwcm9wZXJ0eSB2YWx1ZS5cXG5CZWNhdXNlIHlvdSB3cml0ZSB5b3VyIENTUyBpbnNpZGUgYSBKYXZhU2NyaXB0IHN0cmluZyB5b3UgYWN0dWFsbHkgaGF2ZSB0byBkbyBkb3VibGUgZXNjYXBpbmcsIHNvIGZvciBleGFtcGxlIFxcXCJjb250ZW50OiAnXFxcXDAwZDcnO1xcXCIgc2hvdWxkIGJlY29tZSBcXFwiY29udGVudDogJ1xcXFxcXFxcMDBkNyc7XFxcIi5cXG5Zb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGlzIGhlcmU6XFxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvVGVtcGxhdGVfbGl0ZXJhbHMjRVMyMDE4X3JldmlzaW9uX29mX2lsbGVnYWxfZXNjYXBlX3NlcXVlbmNlc1wiO1xuXG52YXIgY3JlYXRlU3R5bGVkID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVkKHRhZywgb3B0aW9ucykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHRyeWluZyB0byBjcmVhdGUgYSBzdHlsZWQgZWxlbWVudCB3aXRoIGFuIHVuZGVmaW5lZCBjb21wb25lbnQuXFxuWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBpbXBvcnQgaXQuJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzUmVhbCA9IHRhZy5fX2Vtb3Rpb25fcmVhbCA9PT0gdGFnO1xuICB2YXIgYmFzZVRhZyA9IGlzUmVhbCAmJiB0YWcuX19lbW90aW9uX2Jhc2UgfHwgdGFnO1xuICB2YXIgaWRlbnRpZmllck5hbWU7XG4gIHZhciB0YXJnZXRDbGFzc05hbWU7XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlkZW50aWZpZXJOYW1lID0gb3B0aW9ucy5sYWJlbDtcbiAgICB0YXJnZXRDbGFzc05hbWUgPSBvcHRpb25zLnRhcmdldDtcbiAgfVxuXG4gIHZhciBzaG91bGRGb3J3YXJkUHJvcCA9IGNvbXBvc2VTaG91bGRGb3J3YXJkUHJvcHModGFnLCBvcHRpb25zLCBpc1JlYWwpO1xuICB2YXIgZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3AgfHwgZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKGJhc2VUYWcpO1xuICB2YXIgc2hvdWxkVXNlQXMgPSAhZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKCdhcycpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzdHlsZXMgPSBpc1JlYWwgJiYgdGFnLl9fZW1vdGlvbl9zdHlsZXMgIT09IHVuZGVmaW5lZCA/IHRhZy5fX2Vtb3Rpb25fc3R5bGVzLnNsaWNlKDApIDogW107XG5cbiAgICBpZiAoaWRlbnRpZmllck5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVzLnB1c2goXCJsYWJlbDpcIiArIGlkZW50aWZpZXJOYW1lICsgXCI7XCIpO1xuICAgIH1cblxuICAgIGlmIChhcmdzWzBdID09IG51bGwgfHwgYXJnc1swXS5yYXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVzLnB1c2guYXBwbHkoc3R5bGVzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgYXJnc1swXVswXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXMucHVzaChhcmdzWzBdWzBdKTtcbiAgICAgIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgICAgIHZhciBpID0gMTtcblxuICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBhcmdzWzBdW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKElMTEVHQUxfRVNDQVBFX1NFUVVFTkNFX0VSUk9SKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlcy5wdXNoKGFyZ3NbaV0sIGFyZ3NbMF1baV0pO1xuICAgICAgfVxuICAgIH0gLy8gJEZsb3dGaXhNZTogd2UgbmVlZCB0byBjYXN0IFN0YXRlbGVzc0Z1bmN0aW9uYWxDb21wb25lbnQgdG8gb3VyIFByaXZhdGVTdHlsZWRDb21wb25lbnQgY2xhc3NcblxuXG4gICAgdmFyIFN0eWxlZCA9IHdpdGhFbW90aW9uQ2FjaGUoZnVuY3Rpb24gKHByb3BzLCBjYWNoZSwgcmVmKSB7XG4gICAgICB2YXIgZmluYWxUYWcgPSBzaG91bGRVc2VBcyAmJiBwcm9wcy5hcyB8fCBiYXNlVGFnO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICcnO1xuICAgICAgdmFyIGNsYXNzSW50ZXJwb2xhdGlvbnMgPSBbXTtcbiAgICAgIHZhciBtZXJnZWRQcm9wcyA9IHByb3BzO1xuXG4gICAgICBpZiAocHJvcHMudGhlbWUgPT0gbnVsbCkge1xuICAgICAgICBtZXJnZWRQcm9wcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIG1lcmdlZFByb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVyZ2VkUHJvcHMudGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICBjbGFzc05hbWUgPSBnZXRSZWdpc3RlcmVkU3R5bGVzKGNhY2hlLnJlZ2lzdGVyZWQsIGNsYXNzSW50ZXJwb2xhdGlvbnMsIHByb3BzLmNsYXNzTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmNsYXNzTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSArIFwiIFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhzdHlsZXMuY29uY2F0KGNsYXNzSW50ZXJwb2xhdGlvbnMpLCBjYWNoZS5yZWdpc3RlcmVkLCBtZXJnZWRQcm9wcyk7XG4gICAgICB2YXIgcnVsZXMgPSBpbnNlcnRTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQsIHR5cGVvZiBmaW5hbFRhZyA9PT0gJ3N0cmluZycpO1xuICAgICAgY2xhc3NOYW1lICs9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuXG4gICAgICBpZiAodGFyZ2V0Q2xhc3NOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IFwiIFwiICsgdGFyZ2V0Q2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmluYWxTaG91bGRGb3J3YXJkUHJvcCA9IHNob3VsZFVzZUFzICYmIHNob3VsZEZvcndhcmRQcm9wID09PSB1bmRlZmluZWQgPyBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AoZmluYWxUYWcpIDogZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wO1xuICAgICAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKHNob3VsZFVzZUFzICYmIF9rZXkgPT09ICdhcycpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmICggLy8gJEZsb3dGaXhNZVxuICAgICAgICBmaW5hbFNob3VsZEZvcndhcmRQcm9wKF9rZXkpKSB7XG4gICAgICAgICAgbmV3UHJvcHNbX2tleV0gPSBwcm9wc1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdQcm9wcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICBuZXdQcm9wcy5yZWYgPSByZWY7XG4gICAgICB2YXIgZWxlID0gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoZmluYWxUYWcsIG5ld1Byb3BzKTtcblxuICAgICAgcmV0dXJuIGVsZTtcbiAgICB9KTtcbiAgICBTdHlsZWQuZGlzcGxheU5hbWUgPSBpZGVudGlmaWVyTmFtZSAhPT0gdW5kZWZpbmVkID8gaWRlbnRpZmllck5hbWUgOiBcIlN0eWxlZChcIiArICh0eXBlb2YgYmFzZVRhZyA9PT0gJ3N0cmluZycgPyBiYXNlVGFnIDogYmFzZVRhZy5kaXNwbGF5TmFtZSB8fCBiYXNlVGFnLm5hbWUgfHwgJ0NvbXBvbmVudCcpICsgXCIpXCI7XG4gICAgU3R5bGVkLmRlZmF1bHRQcm9wcyA9IHRhZy5kZWZhdWx0UHJvcHM7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9yZWFsID0gU3R5bGVkO1xuICAgIFN0eWxlZC5fX2Vtb3Rpb25fYmFzZSA9IGJhc2VUYWc7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9zdHlsZXMgPSBzdHlsZXM7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9mb3J3YXJkUHJvcCA9IHNob3VsZEZvcndhcmRQcm9wO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHlsZWQsICd0b1N0cmluZycsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgaWYgKHRhcmdldENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gJ05PX0NPTVBPTkVOVF9TRUxFQ1RPUic7XG4gICAgICAgIH0gLy8gJEZsb3dGaXhNZTogY29lcmNlIHVuZGVmaW5lZCB0byBzdHJpbmdcblxuXG4gICAgICAgIHJldHVybiBcIi5cIiArIHRhcmdldENsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFN0eWxlZC53aXRoQ29tcG9uZW50ID0gZnVuY3Rpb24gKG5leHRUYWcsIG5leHRPcHRpb25zKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU3R5bGVkKG5leHRUYWcsIF9leHRlbmRzKHt9LCBvcHRpb25zLCBuZXh0T3B0aW9ucywge1xuICAgICAgICBzaG91bGRGb3J3YXJkUHJvcDogY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyhTdHlsZWQsIG5leHRPcHRpb25zLCB0cnVlKVxuICAgICAgfSkpLmFwcGx5KHZvaWQgMCwgc3R5bGVzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0eWxlZDtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0eWxlZDtcbiIsImltcG9ydCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCAncmVhY3QnO1xuaW1wb3J0ICdAZW1vdGlvbi9pcy1wcm9wLXZhbGlkJztcbmltcG9ydCBjcmVhdGVTdHlsZWQgZnJvbSAnLi4vYmFzZS9kaXN0L2Vtb3Rpb24tc3R5bGVkLWJhc2UuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCAnQGVtb3Rpb24vc2VyaWFsaXplJztcblxudmFyIHRhZ3MgPSBbJ2EnLCAnYWJicicsICdhZGRyZXNzJywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdhdWRpbycsICdiJywgJ2Jhc2UnLCAnYmRpJywgJ2JkbycsICdiaWcnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYW52YXMnLCAnY2FwdGlvbicsICdjaXRlJywgJ2NvZGUnLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RhdGEnLCAnZGF0YWxpc3QnLCAnZGQnLCAnZGVsJywgJ2RldGFpbHMnLCAnZGZuJywgJ2RpYWxvZycsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW0nLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaScsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lucycsICdrYmQnLCAna2V5Z2VuJywgJ2xhYmVsJywgJ2xlZ2VuZCcsICdsaScsICdsaW5rJywgJ21haW4nLCAnbWFwJywgJ21hcmsnLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbWV0ZXInLCAnbmF2JywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdvcHRncm91cCcsICdvcHRpb24nLCAnb3V0cHV0JywgJ3AnLCAncGFyYW0nLCAncGljdHVyZScsICdwcmUnLCAncHJvZ3Jlc3MnLCAncScsICdycCcsICdydCcsICdydWJ5JywgJ3MnLCAnc2FtcCcsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc21hbGwnLCAnc291cmNlJywgJ3NwYW4nLCAnc3Ryb25nJywgJ3N0eWxlJywgJ3N1YicsICdzdW1tYXJ5JywgJ3N1cCcsICd0YWJsZScsICd0Ym9keScsICd0ZCcsICd0ZXh0YXJlYScsICd0Zm9vdCcsICd0aCcsICd0aGVhZCcsICd0aW1lJywgJ3RpdGxlJywgJ3RyJywgJ3RyYWNrJywgJ3UnLCAndWwnLCAndmFyJywgJ3ZpZGVvJywgJ3dicicsIC8vIFNWR1xuJ2NpcmNsZScsICdjbGlwUGF0aCcsICdkZWZzJywgJ2VsbGlwc2UnLCAnZm9yZWlnbk9iamVjdCcsICdnJywgJ2ltYWdlJywgJ2xpbmUnLCAnbGluZWFyR3JhZGllbnQnLCAnbWFzaycsICdwYXRoJywgJ3BhdHRlcm4nLCAncG9seWdvbicsICdwb2x5bGluZScsICdyYWRpYWxHcmFkaWVudCcsICdyZWN0JywgJ3N0b3AnLCAnc3ZnJywgJ3RleHQnLCAndHNwYW4nXTtcblxudmFyIG5ld1N0eWxlZCA9IGNyZWF0ZVN0eWxlZC5iaW5kKCk7XG50YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgLy8gJEZsb3dGaXhNZTogd2UgY2FuIGlnbm9yZSB0aGlzIGJlY2F1c2UgaXRzIGV4cG9zZWQgdHlwZSBpcyBkZWZpbmVkIGJ5IHRoZSBDcmVhdGVTdHlsZWQgdHlwZVxuICBuZXdTdHlsZWRbdGFnTmFtZV0gPSBuZXdTdHlsZWQodGFnTmFtZSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbmV3U3R5bGVkO1xuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNy4wLjJcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0JztyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKTt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksZz02MDEwMztleHBvcnRzLkZyYWdtZW50PTYwMTA3O2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Ipe3ZhciBoPVN5bWJvbC5mb3I7Zz1oKFwicmVhY3QuZWxlbWVudFwiKTtleHBvcnRzLkZyYWdtZW50PWgoXCJyZWFjdC5mcmFnbWVudFwiKX12YXIgbT1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBxKGMsYSxrKXt2YXIgYixkPXt9LGU9bnVsbCxsPW51bGw7dm9pZCAwIT09ayYmKGU9XCJcIitrKTt2b2lkIDAhPT1hLmtleSYmKGU9XCJcIithLmtleSk7dm9pZCAwIT09YS5yZWYmJihsPWEucmVmKTtmb3IoYiBpbiBhKW4uY2FsbChhLGIpJiYhcC5oYXNPd25Qcm9wZXJ0eShiKSYmKGRbYl09YVtiXSk7aWYoYyYmYy5kZWZhdWx0UHJvcHMpZm9yKGIgaW4gYT1jLmRlZmF1bHRQcm9wcyxhKXZvaWQgMD09PWRbYl0mJihkW2JdPWFbYl0pO3JldHVybnskJHR5cGVvZjpnLHR5cGU6YyxrZXk6ZSxyZWY6bCxwcm9wczpkLF9vd25lcjptLmN1cnJlbnR9fWV4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKiBAbGljZW5zZSBNVUkgdjUuMC4xXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmltcG9ydCBlbVN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3R5bGVkKHRhZywgb3B0aW9ucykge1xuICBjb25zdCBzdHlsZXNGYWN0b3J5ID0gZW1TdHlsZWQodGFnLCBvcHRpb25zKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiAoLi4uc3R5bGVzKSA9PiB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyA/IGBcIiR7dGFnfVwiYCA6ICdjb21wb25lbnQnO1xuXG4gICAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBTZWVtcyBsaWtlIHlvdSBjYWxsZWQgXFxgc3R5bGVkKCR7Y29tcG9uZW50fSkoKVxcYCB3aXRob3V0IGEgXFxgc3R5bGVcXGAgYXJndW1lbnQuYCwgJ1lvdSBtdXN0IHByb3ZpZGUgYSBgc3R5bGVzYCBhcmd1bWVudDogYHN0eWxlZChcImRpdlwiKShzdHlsZVlvdUZvcmdvdFRvUGFzcylgLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3R5bGVzLnNvbWUoc3R5bGUgPT4gc3R5bGUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiB0aGUgc3R5bGVkKCR7Y29tcG9uZW50fSkoLi4uYXJncykgQVBJIHJlcXVpcmVzIGFsbCBpdHMgYXJncyB0byBiZSBkZWZpbmVkLmApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGVzRmFjdG9yeSguLi5zdHlsZXMpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gc3R5bGVzRmFjdG9yeTtcbn1cbmV4cG9ydCB7IFRoZW1lQ29udGV4dCwga2V5ZnJhbWVzLCBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN0eWxlZEVuZ2luZVByb3ZpZGVyIH0gZnJvbSAnLi9TdHlsZWRFbmdpbmVQcm92aWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbFN0eWxlcyB9IGZyb20gJy4vR2xvYmFsU3R5bGVzJzsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsImltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiBtZXJnZShhY2MsIGl0ZW0pIHtcbiAgaWYgKCFpdGVtKSB7XG4gICAgcmV0dXJuIGFjYztcbiAgfVxuXG4gIHJldHVybiBkZWVwbWVyZ2UoYWNjLCBpdGVtLCB7XG4gICAgY2xvbmU6IGZhbHNlIC8vIE5vIG5lZWQgdG8gY2xvbmUgZGVlcCwgaXQncyB3YXkgZmFzdGVyLlxuXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZXJnZTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCBtZXJnZSBmcm9tICcuL21lcmdlJzsgLy8gVGhlIGJyZWFrcG9pbnQgKipzdGFydCoqIGF0IHRoaXMgdmFsdWUuXG4vLyBGb3IgaW5zdGFuY2Ugd2l0aCB0aGUgZmlyc3QgYnJlYWtwb2ludCB4czogW3hzLCBzbVsuXG5cbmV4cG9ydCBjb25zdCB2YWx1ZXMgPSB7XG4gIHhzOiAwLFxuICAvLyBwaG9uZVxuICBzbTogNjAwLFxuICAvLyB0YWJsZXRzXG4gIG1kOiA5MDAsXG4gIC8vIHNtYWxsIGxhcHRvcFxuICBsZzogMTIwMCxcbiAgLy8gZGVza3RvcFxuICB4bDogMTUzNiAvLyBsYXJnZSBzY3JlZW5zXG5cbn07XG5jb25zdCBkZWZhdWx0QnJlYWtwb2ludHMgPSB7XG4gIC8vIFNvcnRlZCBBU0MgYnkgc2l6ZS4gVGhhdCdzIGltcG9ydGFudC5cbiAgLy8gSXQgY2FuJ3QgYmUgY29uZmlndXJlZCBhcyBpdCdzIHVzZWQgc3RhdGljYWxseSBmb3IgcHJvcFR5cGVzLlxuICBrZXlzOiBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJ10sXG4gIHVwOiBrZXkgPT4gYEBtZWRpYSAobWluLXdpZHRoOiR7dmFsdWVzW2tleV19cHgpYFxufTtcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcFZhbHVlLCBzdHlsZUZyb21Qcm9wVmFsdWUpIHtcbiAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSB8fCB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgY29uc3QgdGhlbWVCcmVha3BvaW50cyA9IHRoZW1lLmJyZWFrcG9pbnRzIHx8IGRlZmF1bHRCcmVha3BvaW50cztcbiAgICByZXR1cm4gcHJvcFZhbHVlLnJlZHVjZSgoYWNjLCBpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgYWNjW3RoZW1lQnJlYWtwb2ludHMudXAodGhlbWVCcmVha3BvaW50cy5rZXlzW2luZGV4XSldID0gc3R5bGVGcm9tUHJvcFZhbHVlKHByb3BWYWx1ZVtpbmRleF0pO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB0aGVtZUJyZWFrcG9pbnRzID0gdGhlbWUuYnJlYWtwb2ludHMgfHwgZGVmYXVsdEJyZWFrcG9pbnRzO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9wVmFsdWUpLnJlZHVjZSgoYWNjLCBicmVha3BvaW50KSA9PiB7XG4gICAgICAvLyBrZXkgaXMgYnJlYWtwb2ludFxuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoZW1lQnJlYWtwb2ludHMudmFsdWVzIHx8IHZhbHVlcykuaW5kZXhPZihicmVha3BvaW50KSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgbWVkaWFLZXkgPSB0aGVtZUJyZWFrcG9pbnRzLnVwKGJyZWFrcG9pbnQpO1xuICAgICAgICBhY2NbbWVkaWFLZXldID0gc3R5bGVGcm9tUHJvcFZhbHVlKHByb3BWYWx1ZVticmVha3BvaW50XSwgYnJlYWtwb2ludCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjc3NLZXkgPSBicmVha3BvaW50O1xuICAgICAgICBhY2NbY3NzS2V5XSA9IHByb3BWYWx1ZVtjc3NLZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIGNvbnN0IG91dHB1dCA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWUpO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBicmVha3BvaW50cyhzdHlsZUZ1bmN0aW9uKSB7XG4gIGNvbnN0IG5ld1N0eWxlRnVuY3Rpb24gPSBwcm9wcyA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZSB8fCB7fTtcbiAgICBjb25zdCBiYXNlID0gc3R5bGVGdW5jdGlvbihwcm9wcyk7XG4gICAgY29uc3QgdGhlbWVCcmVha3BvaW50cyA9IHRoZW1lLmJyZWFrcG9pbnRzIHx8IGRlZmF1bHRCcmVha3BvaW50cztcbiAgICBjb25zdCBleHRlbmRlZCA9IHRoZW1lQnJlYWtwb2ludHMua2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBpZiAocHJvcHNba2V5XSkge1xuICAgICAgICBhY2MgPSBhY2MgfHwge307XG4gICAgICAgIGFjY1t0aGVtZUJyZWFrcG9pbnRzLnVwKGtleSldID0gc3R5bGVGdW5jdGlvbihfZXh0ZW5kcyh7XG4gICAgICAgICAgdGhlbWVcbiAgICAgICAgfSwgcHJvcHNba2V5XSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBtZXJnZShiYXNlLCBleHRlbmRlZCk7XG4gIH07XG5cbiAgbmV3U3R5bGVGdW5jdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2V4dGVuZHMoe30sIHN0eWxlRnVuY3Rpb24ucHJvcFR5cGVzLCB7XG4gICAgeHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgc206IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbWQ6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbGc6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgeGw6IFByb3BUeXBlcy5vYmplY3RcbiAgfSkgOiB7fTtcbiAgbmV3U3R5bGVGdW5jdGlvbi5maWx0ZXJQcm9wcyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnLCAuLi5zdHlsZUZ1bmN0aW9uLmZpbHRlclByb3BzXTtcbiAgcmV0dXJuIG5ld1N0eWxlRnVuY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbXB0eUJyZWFrcG9pbnRPYmplY3QoYnJlYWtwb2ludHNJbnB1dCA9IHt9KSB7XG4gIHZhciBfYnJlYWtwb2ludHNJbnB1dCRrZXk7XG5cbiAgY29uc3QgYnJlYWtwb2ludHNJbk9yZGVyID0gYnJlYWtwb2ludHNJbnB1dCA9PSBudWxsID8gdm9pZCAwIDogKF9icmVha3BvaW50c0lucHV0JGtleSA9IGJyZWFrcG9pbnRzSW5wdXQua2V5cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9icmVha3BvaW50c0lucHV0JGtleS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgY29uc3QgYnJlYWtwb2ludFN0eWxlS2V5ID0gYnJlYWtwb2ludHNJbnB1dC51cChrZXkpO1xuICAgIGFjY1ticmVha3BvaW50U3R5bGVLZXldID0ge307XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICByZXR1cm4gYnJlYWtwb2ludHNJbk9yZGVyIHx8IHt9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVudXNlZEJyZWFrcG9pbnRzKGJyZWFrcG9pbnRLZXlzLCBzdHlsZSkge1xuICByZXR1cm4gYnJlYWtwb2ludEtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IGJyZWFrcG9pbnRPdXRwdXQgPSBhY2Nba2V5XTtcbiAgICBjb25zdCBpc0JyZWFrcG9pbnRVbnVzZWQgPSBPYmplY3Qua2V5cyhicmVha3BvaW50T3V0cHV0KS5sZW5ndGggPT09IDA7XG5cbiAgICBpZiAoaXNCcmVha3BvaW50VW51c2VkKSB7XG4gICAgICBkZWxldGUgYWNjW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwgc3R5bGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQnJlYWtwb2ludHNJbk9yZGVyKGJyZWFrcG9pbnRzSW5wdXQsIC4uLnN0eWxlcykge1xuICBjb25zdCBlbXB0eUJyZWFrcG9pbnRzID0gY3JlYXRlRW1wdHlCcmVha3BvaW50T2JqZWN0KGJyZWFrcG9pbnRzSW5wdXQpO1xuICBjb25zdCBtZXJnZWRPdXRwdXQgPSBbZW1wdHlCcmVha3BvaW50cywgLi4uc3R5bGVzXS5yZWR1Y2UoKHByZXYsIG5leHQpID0+IGRlZXBtZXJnZShwcmV2LCBuZXh0KSwge30pO1xuICByZXR1cm4gcmVtb3ZlVW51c2VkQnJlYWtwb2ludHMoT2JqZWN0LmtleXMoZW1wdHlCcmVha3BvaW50cyksIG1lcmdlZE91dHB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUJyZWFrcG9pbnRWYWx1ZXMoe1xuICB2YWx1ZXM6IGJyZWFrcG9pbnRWYWx1ZXMsXG4gIGJhc2Vcbn0pIHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGJhc2UpO1xuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBicmVha3BvaW50VmFsdWVzO1xuICB9XG5cbiAgbGV0IHByZXZpb3VzO1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywgYnJlYWtwb2ludCkgPT4ge1xuICAgIGlmICh0eXBlb2YgYnJlYWtwb2ludFZhbHVlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGFjY1ticmVha3BvaW50XSA9IGJyZWFrcG9pbnRWYWx1ZXNbYnJlYWtwb2ludF0gIT0gbnVsbCA/IGJyZWFrcG9pbnRWYWx1ZXNbYnJlYWtwb2ludF0gOiBicmVha3BvaW50VmFsdWVzW3ByZXZpb3VzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjW2JyZWFrcG9pbnRdID0gYnJlYWtwb2ludFZhbHVlcztcbiAgICB9XG5cbiAgICBwcmV2aW91cyA9IGJyZWFrcG9pbnQ7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuZXhwb3J0IGRlZmF1bHQgYnJlYWtwb2ludHM7IiwiaW1wb3J0IHsgdW5zdGFibGVfY2FwaXRhbGl6ZSBhcyBjYXBpdGFsaXplIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gJy4vcmVzcG9uc2l2ZVByb3BUeXBlJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSAnLi9icmVha3BvaW50cyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChvYmosIHBhdGgpIHtcbiAgaWYgKCFwYXRoIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICYmIGFjY1tpdGVtXSA/IGFjY1tpdGVtXSA6IG51bGwsIG9iaik7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBwcm9wVmFsdWVGaW5hbCwgdXNlclZhbHVlID0gcHJvcFZhbHVlRmluYWwpIHtcbiAgbGV0IHZhbHVlO1xuXG4gIGlmICh0eXBlb2YgdGhlbWVNYXBwaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFsdWUgPSB0aGVtZU1hcHBpbmcocHJvcFZhbHVlRmluYWwpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhlbWVNYXBwaW5nKSkge1xuICAgIHZhbHVlID0gdGhlbWVNYXBwaW5nW3Byb3BWYWx1ZUZpbmFsXSB8fCB1c2VyVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBnZXRQYXRoKHRoZW1lTWFwcGluZywgcHJvcFZhbHVlRmluYWwpIHx8IHVzZXJWYWx1ZTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm0pIHtcbiAgICB2YWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHN0eWxlKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHByb3AsXG4gICAgY3NzUHJvcGVydHkgPSBvcHRpb25zLnByb3AsXG4gICAgdGhlbWVLZXksXG4gICAgdHJhbnNmb3JtXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IGZuID0gcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wc1twcm9wXSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICBjb25zdCB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICAgIGNvbnN0IHRoZW1lTWFwcGluZyA9IGdldFBhdGgodGhlbWUsIHRoZW1lS2V5KSB8fCB7fTtcblxuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZUZpbmFsID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGdldFZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBwcm9wVmFsdWVGaW5hbCk7XG5cbiAgICAgIGlmIChwcm9wVmFsdWVGaW5hbCA9PT0gdmFsdWUgJiYgdHlwZW9mIHByb3BWYWx1ZUZpbmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBIYXZlbid0IGZvdW5kIHZhbHVlXG4gICAgICAgIHZhbHVlID0gZ2V0VmFsdWUodGhlbWVNYXBwaW5nLCB0cmFuc2Zvcm0sIGAke3Byb3B9JHtwcm9wVmFsdWVGaW5hbCA9PT0gJ2RlZmF1bHQnID8gJycgOiBjYXBpdGFsaXplKHByb3BWYWx1ZUZpbmFsKX1gLCBwcm9wVmFsdWVGaW5hbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjc3NQcm9wZXJ0eSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBbY3NzUHJvcGVydHldOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wVmFsdWUsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH07XG5cbiAgZm4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHtcbiAgICBbcHJvcF06IHJlc3BvbnNpdmVQcm9wVHlwZVxuICB9IDoge307XG4gIGZuLmZpbHRlclByb3BzID0gW3Byb3BdO1xuICByZXR1cm4gZm47XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlOyIsImltcG9ydCBtZXJnZSBmcm9tICcuL21lcmdlJztcblxuZnVuY3Rpb24gY29tcG9zZSguLi5zdHlsZXMpIHtcbiAgY29uc3QgaGFuZGxlcnMgPSBzdHlsZXMucmVkdWNlKChhY2MsIHN0eWxlKSA9PiB7XG4gICAgc3R5bGUuZmlsdGVyUHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIGFjY1twcm9wXSA9IHN0eWxlO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICBjb25zdCBmbiA9IHByb3BzID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICBpZiAoaGFuZGxlcnNbcHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGFjYywgaGFuZGxlcnNbcHJvcF0ocHJvcHMpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH07XG5cbiAgZm4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHN0eWxlcy5yZWR1Y2UoKGFjYywgc3R5bGUpID0+IE9iamVjdC5hc3NpZ24oYWNjLCBzdHlsZS5wcm9wVHlwZXMpLCB7fSkgOiB7fTtcbiAgZm4uZmlsdGVyUHJvcHMgPSBzdHlsZXMucmVkdWNlKChhY2MsIHN0eWxlKSA9PiBhY2MuY29uY2F0KHN0eWxlLmZpbHRlclByb3BzKSwgW10pO1xuICByZXR1cm4gZm47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvc2U7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICBjb25zdCBjYWNoZSA9IHt9O1xuICByZXR1cm4gYXJnID0+IHtcbiAgICBpZiAoY2FjaGVbYXJnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYWNoZVthcmddID0gZm4oYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FjaGVbYXJnXTtcbiAgfTtcbn0iLCJpbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gJy4vcmVzcG9uc2l2ZVByb3BUeXBlJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSAnLi9icmVha3BvaW50cyc7XG5pbXBvcnQgeyBnZXRQYXRoIH0gZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuL21lbW9pemUnO1xuY29uc3QgcHJvcGVydGllcyA9IHtcbiAgbTogJ21hcmdpbicsXG4gIHA6ICdwYWRkaW5nJ1xufTtcbmNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gIHQ6ICdUb3AnLFxuICByOiAnUmlnaHQnLFxuICBiOiAnQm90dG9tJyxcbiAgbDogJ0xlZnQnLFxuICB4OiBbJ0xlZnQnLCAnUmlnaHQnXSxcbiAgeTogWydUb3AnLCAnQm90dG9tJ11cbn07XG5jb25zdCBhbGlhc2VzID0ge1xuICBtYXJnaW5YOiAnbXgnLFxuICBtYXJnaW5ZOiAnbXknLFxuICBwYWRkaW5nWDogJ3B4JyxcbiAgcGFkZGluZ1k6ICdweSdcbn07IC8vIG1lbW9pemUoKSBpbXBhY3Q6XG4vLyBGcm9tIDMwMCwwMDAgb3BzL3NlY1xuLy8gVG8gMzUwLDAwMCBvcHMvc2VjXG5cbmNvbnN0IGdldENzc1Byb3BlcnRpZXMgPSBtZW1vaXplKHByb3AgPT4ge1xuICAvLyBJdCdzIG5vdCBhIHNob3J0aGFuZCBub3RhdGlvbi5cbiAgaWYgKHByb3AubGVuZ3RoID4gMikge1xuICAgIGlmIChhbGlhc2VzW3Byb3BdKSB7XG4gICAgICBwcm9wID0gYWxpYXNlc1twcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBbYSwgYl0gPSBwcm9wLnNwbGl0KCcnKTtcbiAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2FdO1xuICBjb25zdCBkaXJlY3Rpb24gPSBkaXJlY3Rpb25zW2JdIHx8ICcnO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShkaXJlY3Rpb24pID8gZGlyZWN0aW9uLm1hcChkaXIgPT4gcHJvcGVydHkgKyBkaXIpIDogW3Byb3BlcnR5ICsgZGlyZWN0aW9uXTtcbn0pO1xuY29uc3QgbWFyZ2luS2V5cyA9IFsnbScsICdtdCcsICdtcicsICdtYicsICdtbCcsICdteCcsICdteScsICdtYXJnaW4nLCAnbWFyZ2luVG9wJywgJ21hcmdpblJpZ2h0JywgJ21hcmdpbkJvdHRvbScsICdtYXJnaW5MZWZ0JywgJ21hcmdpblgnLCAnbWFyZ2luWScsICdtYXJnaW5JbmxpbmUnLCAnbWFyZ2luSW5saW5lU3RhcnQnLCAnbWFyZ2luSW5saW5lRW5kJywgJ21hcmdpbkJsb2NrJywgJ21hcmdpbkJsb2NrU3RhcnQnLCAnbWFyZ2luQmxvY2tFbmQnXTtcbmNvbnN0IHBhZGRpbmdLZXlzID0gWydwJywgJ3B0JywgJ3ByJywgJ3BiJywgJ3BsJywgJ3B4JywgJ3B5JywgJ3BhZGRpbmcnLCAncGFkZGluZ1RvcCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nWCcsICdwYWRkaW5nWScsICdwYWRkaW5nSW5saW5lJywgJ3BhZGRpbmdJbmxpbmVTdGFydCcsICdwYWRkaW5nSW5saW5lRW5kJywgJ3BhZGRpbmdCbG9jaycsICdwYWRkaW5nQmxvY2tTdGFydCcsICdwYWRkaW5nQmxvY2tFbmQnXTtcbmNvbnN0IHNwYWNpbmdLZXlzID0gWy4uLm1hcmdpbktleXMsIC4uLnBhZGRpbmdLZXlzXTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVbmFyeVVuaXQodGhlbWUsIHRoZW1lS2V5LCBkZWZhdWx0VmFsdWUsIHByb3BOYW1lKSB7XG4gIGNvbnN0IHRoZW1lU3BhY2luZyA9IGdldFBhdGgodGhlbWUsIHRoZW1lS2V5KSB8fCBkZWZhdWx0VmFsdWU7XG5cbiAgaWYgKHR5cGVvZiB0aGVtZVNwYWNpbmcgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGFicyA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFicyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGFicztcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhYnMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBFeHBlY3RlZCAke3Byb3BOYW1lfSBhcmd1bWVudCB0byBiZSBhIG51bWJlciBvciBhIHN0cmluZywgZ290ICR7YWJzfS5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhlbWVTcGFjaW5nICogYWJzO1xuICAgIH07XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh0aGVtZVNwYWNpbmcpKSB7XG4gICAgcmV0dXJuIGFicyA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFicyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGFicztcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGFicykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgXFxgdGhlbWUuJHt0aGVtZUtleX1cXGAgYXJyYXkgdHlwZSBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBub24gaW50ZWdlciB2YWx1ZXMuYCArIGBZb3Ugc2hvdWxkIGVpdGhlciB1c2UgYW4gaW50ZWdlciB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGluZGV4LCBvciBkZWZpbmUgdGhlIFxcYHRoZW1lLiR7dGhlbWVLZXl9XFxgIGFzIGEgbnVtYmVyLmBdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMgPiB0aGVtZVNwYWNpbmcubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoW2BNVUk6IFRoZSB2YWx1ZSBwcm92aWRlZCAoJHthYnN9KSBvdmVyZmxvd3MuYCwgYFRoZSBzdXBwb3J0ZWQgdmFsdWVzIGFyZTogJHtKU09OLnN0cmluZ2lmeSh0aGVtZVNwYWNpbmcpfS5gLCBgJHthYnN9ID4gJHt0aGVtZVNwYWNpbmcubGVuZ3RoIC0gMX0sIHlvdSBuZWVkIHRvIGFkZCB0aGUgbWlzc2luZyB2YWx1ZXMuYF0uam9pbignXFxuJykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGVtZVNwYWNpbmdbYWJzXTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0aGVtZVNwYWNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhlbWVTcGFjaW5nO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgXFxgdGhlbWUuJHt0aGVtZUtleX1cXGAgdmFsdWUgKCR7dGhlbWVTcGFjaW5nfSkgaXMgaW52YWxpZC5gLCAnSXQgc2hvdWxkIGJlIGEgbnVtYmVyLCBhbiBhcnJheSBvciBhIGZ1bmN0aW9uLiddLmpvaW4oJ1xcbicpKTtcbiAgfVxuXG4gIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hcnlTcGFjaW5nKHRoZW1lKSB7XG4gIHJldHVybiBjcmVhdGVVbmFyeVVuaXQodGhlbWUsICdzcGFjaW5nJywgOCwgJ3NwYWNpbmcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAnc3RyaW5nJyB8fCBwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBwcm9wVmFsdWU7XG4gIH1cblxuICBjb25zdCBhYnMgPSBNYXRoLmFicyhwcm9wVmFsdWUpO1xuICBjb25zdCB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybWVyKGFicyk7XG5cbiAgaWYgKHByb3BWYWx1ZSA+PSAwKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1lZCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gLXRyYW5zZm9ybWVkO1xuICB9XG5cbiAgcmV0dXJuIGAtJHt0cmFuc2Zvcm1lZH1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcikge1xuICByZXR1cm4gcHJvcFZhbHVlID0+IGNzc1Byb3BlcnRpZXMucmVkdWNlKChhY2MsIGNzc1Byb3BlcnR5KSA9PiB7XG4gICAgYWNjW2Nzc1Byb3BlcnR5XSA9IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUNzc1Byb3BlcnR5KHByb3BzLCBrZXlzLCBwcm9wLCB0cmFuc2Zvcm1lcikge1xuICAvLyBVc2luZyBhIGhhc2ggY29tcHV0YXRpb24gb3ZlciBhbiBhcnJheSBpdGVyYXRpb24gY291bGQgYmUgZmFzdGVyLCBidXQgd2l0aCBvbmx5IDI4IGl0ZW1zLFxuICAvLyBpdCdzIGRvZXNuJ3Qgd29ydGggdGhlIGJ1bmRsZSBzaXplLlxuICBpZiAoa2V5cy5pbmRleE9mKHByb3ApID09PSAtMSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgY3NzUHJvcGVydGllcyA9IGdldENzc1Byb3BlcnRpZXMocHJvcCk7XG4gIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcik7XG4gIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW3Byb3BdO1xuICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BWYWx1ZSwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gc3R5bGUocHJvcHMsIGtleXMpIHtcbiAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVNwYWNpbmcocHJvcHMudGhlbWUpO1xuICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLm1hcChwcm9wID0+IHJlc29sdmVDc3NQcm9wZXJ0eShwcm9wcywga2V5cywgcHJvcCwgdHJhbnNmb3JtZXIpKS5yZWR1Y2UobWVyZ2UsIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcmdpbihwcm9wcykge1xuICByZXR1cm4gc3R5bGUocHJvcHMsIG1hcmdpbktleXMpO1xufVxubWFyZ2luLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBtYXJnaW5LZXlzLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgb2JqW2tleV0gPSByZXNwb25zaXZlUHJvcFR5cGU7XG4gIHJldHVybiBvYmo7XG59LCB7fSkgOiB7fTtcbm1hcmdpbi5maWx0ZXJQcm9wcyA9IG1hcmdpbktleXM7XG5leHBvcnQgZnVuY3Rpb24gcGFkZGluZyhwcm9wcykge1xuICByZXR1cm4gc3R5bGUocHJvcHMsIHBhZGRpbmdLZXlzKTtcbn1cbnBhZGRpbmcucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHBhZGRpbmdLZXlzLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgb2JqW2tleV0gPSByZXNwb25zaXZlUHJvcFR5cGU7XG4gIHJldHVybiBvYmo7XG59LCB7fSkgOiB7fTtcbnBhZGRpbmcuZmlsdGVyUHJvcHMgPSBwYWRkaW5nS2V5cztcblxuZnVuY3Rpb24gc3BhY2luZyhwcm9wcykge1xuICByZXR1cm4gc3R5bGUocHJvcHMsIHNwYWNpbmdLZXlzKTtcbn1cblxuc3BhY2luZy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gc3BhY2luZ0tleXMucmVkdWNlKChvYmosIGtleSkgPT4ge1xuICBvYmpba2V5XSA9IHJlc3BvbnNpdmVQcm9wVHlwZTtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KSA6IHt9O1xuc3BhY2luZy5maWx0ZXJQcm9wcyA9IHNwYWNpbmdLZXlzO1xuZXhwb3J0IGRlZmF1bHQgc3BhY2luZzsiLCJpbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gJy4vcmVzcG9uc2l2ZVByb3BUeXBlJztcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5pbXBvcnQgeyBjcmVhdGVVbmFyeVVuaXQsIGdldFZhbHVlIH0gZnJvbSAnLi9zcGFjaW5nJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSAnLi9icmVha3BvaW50cyc7XG5cbmZ1bmN0aW9uIGdldEJvcmRlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBgJHt2YWx1ZX1weCBzb2xpZGA7XG59XG5cbmV4cG9ydCBjb25zdCBib3JkZXIgPSBzdHlsZSh7XG4gIHByb3A6ICdib3JkZXInLFxuICB0aGVtZUtleTogJ2JvcmRlcnMnLFxuICB0cmFuc2Zvcm06IGdldEJvcmRlclxufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyVG9wID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyVG9wJyxcbiAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgdHJhbnNmb3JtOiBnZXRCb3JkZXJcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclJpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyUmlnaHQnLFxuICB0aGVtZUtleTogJ2JvcmRlcnMnLFxuICB0cmFuc2Zvcm06IGdldEJvcmRlclxufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyQm90dG9tID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyQm90dG9tJyxcbiAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgdHJhbnNmb3JtOiBnZXRCb3JkZXJcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlckxlZnQgPSBzdHlsZSh7XG4gIHByb3A6ICdib3JkZXJMZWZ0JyxcbiAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgdHJhbnNmb3JtOiBnZXRCb3JkZXJcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlckNvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyQ29sb3InLFxuICB0aGVtZUtleTogJ3BhbGV0dGUnXG59KTtcbmV4cG9ydCBjb25zdCBib3JkZXJUb3BDb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlclRvcENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyUmlnaHRDb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlclJpZ2h0Q29sb3InLFxuICB0aGVtZUtleTogJ3BhbGV0dGUnXG59KTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b21Db2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlckJvdHRvbUNvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyTGVmdENvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyTGVmdENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyUmFkaXVzID0gcHJvcHMgPT4ge1xuICBpZiAocHJvcHMuYm9yZGVyUmFkaXVzICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuYm9yZGVyUmFkaXVzICE9PSBudWxsKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVVuaXQocHJvcHMudGhlbWUsICdzaGFwZS5ib3JkZXJSYWRpdXMnLCA0LCAnYm9yZGVyUmFkaXVzJyk7XG5cbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWUgPT4gKHtcbiAgICAgIGJvcmRlclJhZGl1czogZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSlcbiAgICB9KTtcblxuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMuYm9yZGVyUmFkaXVzLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuYm9yZGVyUmFkaXVzLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIGJvcmRlclJhZGl1czogcmVzcG9uc2l2ZVByb3BUeXBlXG59IDoge307XG5ib3JkZXJSYWRpdXMuZmlsdGVyUHJvcHMgPSBbJ2JvcmRlclJhZGl1cyddO1xuY29uc3QgYm9yZGVycyA9IGNvbXBvc2UoYm9yZGVyLCBib3JkZXJUb3AsIGJvcmRlclJpZ2h0LCBib3JkZXJCb3R0b20sIGJvcmRlckxlZnQsIGJvcmRlckNvbG9yLCBib3JkZXJUb3BDb2xvciwgYm9yZGVyUmlnaHRDb2xvciwgYm9yZGVyQm90dG9tQ29sb3IsIGJvcmRlckxlZnRDb2xvciwgYm9yZGVyUmFkaXVzKTtcbmV4cG9ydCBkZWZhdWx0IGJvcmRlcnM7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmV4cG9ydCBjb25zdCBkaXNwbGF5UHJpbnQgPSBzdHlsZSh7XG4gIHByb3A6ICdkaXNwbGF5UHJpbnQnLFxuICBjc3NQcm9wZXJ0eTogZmFsc2UsXG4gIHRyYW5zZm9ybTogdmFsdWUgPT4gKHtcbiAgICAnQG1lZGlhIHByaW50Jzoge1xuICAgICAgZGlzcGxheTogdmFsdWVcbiAgICB9XG4gIH0pXG59KTtcbmV4cG9ydCBjb25zdCBkaXNwbGF5UmF3ID0gc3R5bGUoe1xuICBwcm9wOiAnZGlzcGxheSdcbn0pO1xuZXhwb3J0IGNvbnN0IG92ZXJmbG93ID0gc3R5bGUoe1xuICBwcm9wOiAnb3ZlcmZsb3cnXG59KTtcbmV4cG9ydCBjb25zdCB0ZXh0T3ZlcmZsb3cgPSBzdHlsZSh7XG4gIHByb3A6ICd0ZXh0T3ZlcmZsb3cnXG59KTtcbmV4cG9ydCBjb25zdCB2aXNpYmlsaXR5ID0gc3R5bGUoe1xuICBwcm9wOiAndmlzaWJpbGl0eSdcbn0pO1xuZXhwb3J0IGNvbnN0IHdoaXRlU3BhY2UgPSBzdHlsZSh7XG4gIHByb3A6ICd3aGl0ZVNwYWNlJ1xufSk7XG5leHBvcnQgZGVmYXVsdCBjb21wb3NlKGRpc3BsYXlQcmludCwgZGlzcGxheVJhdywgb3ZlcmZsb3csIHRleHRPdmVyZmxvdywgdmlzaWJpbGl0eSwgd2hpdGVTcGFjZSk7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmV4cG9ydCBjb25zdCBmbGV4QmFzaXMgPSBzdHlsZSh7XG4gIHByb3A6ICdmbGV4QmFzaXMnXG59KTtcbmV4cG9ydCBjb25zdCBmbGV4RGlyZWN0aW9uID0gc3R5bGUoe1xuICBwcm9wOiAnZmxleERpcmVjdGlvbidcbn0pO1xuZXhwb3J0IGNvbnN0IGZsZXhXcmFwID0gc3R5bGUoe1xuICBwcm9wOiAnZmxleFdyYXAnXG59KTtcbmV4cG9ydCBjb25zdCBqdXN0aWZ5Q29udGVudCA9IHN0eWxlKHtcbiAgcHJvcDogJ2p1c3RpZnlDb250ZW50J1xufSk7XG5leHBvcnQgY29uc3QgYWxpZ25JdGVtcyA9IHN0eWxlKHtcbiAgcHJvcDogJ2FsaWduSXRlbXMnXG59KTtcbmV4cG9ydCBjb25zdCBhbGlnbkNvbnRlbnQgPSBzdHlsZSh7XG4gIHByb3A6ICdhbGlnbkNvbnRlbnQnXG59KTtcbmV4cG9ydCBjb25zdCBvcmRlciA9IHN0eWxlKHtcbiAgcHJvcDogJ29yZGVyJ1xufSk7XG5leHBvcnQgY29uc3QgZmxleCA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZsZXgnXG59KTtcbmV4cG9ydCBjb25zdCBmbGV4R3JvdyA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZsZXhHcm93J1xufSk7XG5leHBvcnQgY29uc3QgZmxleFNocmluayA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZsZXhTaHJpbmsnXG59KTtcbmV4cG9ydCBjb25zdCBhbGlnblNlbGYgPSBzdHlsZSh7XG4gIHByb3A6ICdhbGlnblNlbGYnXG59KTtcbmV4cG9ydCBjb25zdCBqdXN0aWZ5SXRlbXMgPSBzdHlsZSh7XG4gIHByb3A6ICdqdXN0aWZ5SXRlbXMnXG59KTtcbmV4cG9ydCBjb25zdCBqdXN0aWZ5U2VsZiA9IHN0eWxlKHtcbiAgcHJvcDogJ2p1c3RpZnlTZWxmJ1xufSk7XG5jb25zdCBmbGV4Ym94ID0gY29tcG9zZShmbGV4QmFzaXMsIGZsZXhEaXJlY3Rpb24sIGZsZXhXcmFwLCBqdXN0aWZ5Q29udGVudCwgYWxpZ25JdGVtcywgYWxpZ25Db250ZW50LCBvcmRlciwgZmxleCwgZmxleEdyb3csIGZsZXhTaHJpbmssIGFsaWduU2VsZiwganVzdGlmeUl0ZW1zLCBqdXN0aWZ5U2VsZik7XG5leHBvcnQgZGVmYXVsdCBmbGV4Ym94OyIsImltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5pbXBvcnQgeyBjcmVhdGVVbmFyeVVuaXQsIGdldFZhbHVlIH0gZnJvbSAnLi9zcGFjaW5nJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSAnLi9icmVha3BvaW50cyc7XG5pbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gJy4vcmVzcG9uc2l2ZVByb3BUeXBlJztcbmV4cG9ydCBjb25zdCBnYXAgPSBwcm9wcyA9PiB7XG4gIGlmIChwcm9wcy5nYXAgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5nYXAgIT09IG51bGwpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGNyZWF0ZVVuYXJ5VW5pdChwcm9wcy50aGVtZSwgJ3NwYWNpbmcnLCA4LCAnZ2FwJyk7XG5cbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWUgPT4gKHtcbiAgICAgIGdhcDogZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSlcbiAgICB9KTtcblxuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMuZ2FwLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuZ2FwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIGdhcDogcmVzcG9uc2l2ZVByb3BUeXBlXG59IDoge307XG5nYXAuZmlsdGVyUHJvcHMgPSBbJ2dhcCddO1xuZXhwb3J0IGNvbnN0IGNvbHVtbkdhcCA9IHByb3BzID0+IHtcbiAgaWYgKHByb3BzLmNvbHVtbkdhcCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmNvbHVtbkdhcCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlVbml0KHByb3BzLnRoZW1lLCAnc3BhY2luZycsIDgsICdjb2x1bW5HYXAnKTtcblxuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZSA9PiAoe1xuICAgICAgY29sdW1uR2FwOiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wcy5jb2x1bW5HYXAsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5jb2x1bW5HYXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHtcbiAgY29sdW1uR2FwOiByZXNwb25zaXZlUHJvcFR5cGVcbn0gOiB7fTtcbmNvbHVtbkdhcC5maWx0ZXJQcm9wcyA9IFsnY29sdW1uR2FwJ107XG5leHBvcnQgY29uc3Qgcm93R2FwID0gcHJvcHMgPT4ge1xuICBpZiAocHJvcHMucm93R2FwICE9PSB1bmRlZmluZWQgJiYgcHJvcHMucm93R2FwICE9PSBudWxsKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVVuaXQocHJvcHMudGhlbWUsICdzcGFjaW5nJywgOCwgJ3Jvd0dhcCcpO1xuXG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+ICh7XG4gICAgICByb3dHYXA6IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BzLnJvd0dhcCwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcbnJvd0dhcC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICByb3dHYXA6IHJlc3BvbnNpdmVQcm9wVHlwZVxufSA6IHt9O1xucm93R2FwLmZpbHRlclByb3BzID0gWydyb3dHYXAnXTtcbmV4cG9ydCBjb25zdCBncmlkQ29sdW1uID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZENvbHVtbidcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRSb3cgPSBzdHlsZSh7XG4gIHByb3A6ICdncmlkUm93J1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZEF1dG9GbG93ID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZEF1dG9GbG93J1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZEF1dG9Db2x1bW5zID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZEF1dG9Db2x1bW5zJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZEF1dG9Sb3dzID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZEF1dG9Sb3dzJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRUZW1wbGF0ZUNvbHVtbnMnXG59KTtcbmV4cG9ydCBjb25zdCBncmlkVGVtcGxhdGVSb3dzID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZFRlbXBsYXRlUm93cydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRUZW1wbGF0ZUFyZWFzID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZFRlbXBsYXRlQXJlYXMnXG59KTtcbmV4cG9ydCBjb25zdCBncmlkQXJlYSA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBcmVhJ1xufSk7XG5jb25zdCBncmlkID0gY29tcG9zZShnYXAsIGNvbHVtbkdhcCwgcm93R2FwLCBncmlkQ29sdW1uLCBncmlkUm93LCBncmlkQXV0b0Zsb3csIGdyaWRBdXRvQ29sdW1ucywgZ3JpZEF1dG9Sb3dzLCBncmlkVGVtcGxhdGVDb2x1bW5zLCBncmlkVGVtcGxhdGVSb3dzLCBncmlkVGVtcGxhdGVBcmVhcywgZ3JpZEFyZWEpO1xuZXhwb3J0IGRlZmF1bHQgZ3JpZDsiLCJpbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgY29tcG9zZSBmcm9tICcuL2NvbXBvc2UnO1xuZXhwb3J0IGNvbnN0IGNvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnY29sb3InLFxuICB0aGVtZUtleTogJ3BhbGV0dGUnXG59KTtcbmV4cG9ydCBjb25zdCBiZ2NvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnYmdjb2xvcicsXG4gIGNzc1Byb3BlcnR5OiAnYmFja2dyb3VuZENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYmFja2dyb3VuZENvbG9yID0gc3R5bGUoe1xuICBwcm9wOiAnYmFja2dyb3VuZENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5jb25zdCBwYWxldHRlID0gY29tcG9zZShjb2xvciwgYmdjb2xvciwgYmFja2dyb3VuZENvbG9yKTtcbmV4cG9ydCBkZWZhdWx0IHBhbGV0dGU7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmV4cG9ydCBjb25zdCBwb3NpdGlvbiA9IHN0eWxlKHtcbiAgcHJvcDogJ3Bvc2l0aW9uJ1xufSk7XG5leHBvcnQgY29uc3QgekluZGV4ID0gc3R5bGUoe1xuICBwcm9wOiAnekluZGV4JyxcbiAgdGhlbWVLZXk6ICd6SW5kZXgnXG59KTtcbmV4cG9ydCBjb25zdCB0b3AgPSBzdHlsZSh7XG4gIHByb3A6ICd0b3AnXG59KTtcbmV4cG9ydCBjb25zdCByaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ3JpZ2h0J1xufSk7XG5leHBvcnQgY29uc3QgYm90dG9tID0gc3R5bGUoe1xuICBwcm9wOiAnYm90dG9tJ1xufSk7XG5leHBvcnQgY29uc3QgbGVmdCA9IHN0eWxlKHtcbiAgcHJvcDogJ2xlZnQnXG59KTtcbmV4cG9ydCBkZWZhdWx0IGNvbXBvc2UocG9zaXRpb24sIHpJbmRleCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTsiLCJpbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5jb25zdCBib3hTaGFkb3cgPSBzdHlsZSh7XG4gIHByb3A6ICdib3hTaGFkb3cnLFxuICB0aGVtZUtleTogJ3NoYWRvd3MnXG59KTtcbmV4cG9ydCBkZWZhdWx0IGJveFNoYWRvdzsiLCJpbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgY29tcG9zZSBmcm9tICcuL2NvbXBvc2UnO1xuaW1wb3J0IHsgaGFuZGxlQnJlYWtwb2ludHMsIHZhbHVlcyBhcyBicmVha3BvaW50c1ZhbHVlcyB9IGZyb20gJy4vYnJlYWtwb2ludHMnO1xuXG5mdW5jdGlvbiB0cmFuc2Zvcm0odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIDw9IDEgJiYgdmFsdWUgIT09IDAgPyBgJHt2YWx1ZSAqIDEwMH0lYCA6IHZhbHVlO1xufVxuXG5leHBvcnQgY29uc3Qgd2lkdGggPSBzdHlsZSh7XG4gIHByb3A6ICd3aWR0aCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgbWF4V2lkdGggPSBwcm9wcyA9PiB7XG4gIGlmIChwcm9wcy5tYXhXaWR0aCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLm1heFdpZHRoICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+IHtcbiAgICAgIHZhciBfcHJvcHMkdGhlbWUsIF9wcm9wcyR0aGVtZSRicmVha3BvaSwgX3Byb3BzJHRoZW1lJGJyZWFrcG9pMjtcblxuICAgICAgY29uc3QgYnJlYWtwb2ludCA9ICgoX3Byb3BzJHRoZW1lID0gcHJvcHMudGhlbWUpID09IG51bGwgPyB2b2lkIDAgOiAoX3Byb3BzJHRoZW1lJGJyZWFrcG9pID0gX3Byb3BzJHRoZW1lLmJyZWFrcG9pbnRzKSA9PSBudWxsID8gdm9pZCAwIDogKF9wcm9wcyR0aGVtZSRicmVha3BvaTIgPSBfcHJvcHMkdGhlbWUkYnJlYWtwb2kudmFsdWVzKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJHRoZW1lJGJyZWFrcG9pMltwcm9wVmFsdWVdKSB8fCBicmVha3BvaW50c1ZhbHVlc1twcm9wVmFsdWVdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF4V2lkdGg6IGJyZWFrcG9pbnQgfHwgdHJhbnNmb3JtKHByb3BWYWx1ZSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMubWF4V2lkdGgsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5tYXhXaWR0aC5maWx0ZXJQcm9wcyA9IFsnbWF4V2lkdGgnXTtcbmV4cG9ydCBjb25zdCBtaW5XaWR0aCA9IHN0eWxlKHtcbiAgcHJvcDogJ21pbldpZHRoJyxcbiAgdHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBoZWlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdoZWlnaHQnLFxuICB0cmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IG1heEhlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ21heEhlaWdodCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgbWluSGVpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnbWluSGVpZ2h0JyxcbiAgdHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBzaXplV2lkdGggPSBzdHlsZSh7XG4gIHByb3A6ICdzaXplJyxcbiAgY3NzUHJvcGVydHk6ICd3aWR0aCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3Qgc2l6ZUhlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ3NpemUnLFxuICBjc3NQcm9wZXJ0eTogJ2hlaWdodCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgYm94U2l6aW5nID0gc3R5bGUoe1xuICBwcm9wOiAnYm94U2l6aW5nJ1xufSk7XG5jb25zdCBzaXppbmcgPSBjb21wb3NlKHdpZHRoLCBtYXhXaWR0aCwgbWluV2lkdGgsIGhlaWdodCwgbWF4SGVpZ2h0LCBtaW5IZWlnaHQsIGJveFNpemluZyk7XG5leHBvcnQgZGVmYXVsdCBzaXppbmc7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmV4cG9ydCBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUoe1xuICBwcm9wOiAnZm9udEZhbWlseScsXG4gIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbn0pO1xuZXhwb3J0IGNvbnN0IGZvbnRTaXplID0gc3R5bGUoe1xuICBwcm9wOiAnZm9udFNpemUnLFxuICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG59KTtcbmV4cG9ydCBjb25zdCBmb250U3R5bGUgPSBzdHlsZSh7XG4gIHByb3A6ICdmb250U3R5bGUnLFxuICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG59KTtcbmV4cG9ydCBjb25zdCBmb250V2VpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnZm9udFdlaWdodCcsXG4gIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbn0pO1xuZXhwb3J0IGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZSh7XG4gIHByb3A6ICdsZXR0ZXJTcGFjaW5nJ1xufSk7XG5leHBvcnQgY29uc3QgbGluZUhlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ2xpbmVIZWlnaHQnXG59KTtcbmV4cG9ydCBjb25zdCB0ZXh0QWxpZ24gPSBzdHlsZSh7XG4gIHByb3A6ICd0ZXh0QWxpZ24nXG59KTtcbmV4cG9ydCBjb25zdCB0eXBvZ3JhcGh5VmFyaWFudCA9IHN0eWxlKHtcbiAgcHJvcDogJ3R5cG9ncmFwaHknLFxuICBjc3NQcm9wZXJ0eTogZmFsc2UsXG4gIHRoZW1lS2V5OiAndHlwb2dyYXBoeSdcbn0pO1xuY29uc3QgdHlwb2dyYXBoeSA9IGNvbXBvc2UodHlwb2dyYXBoeVZhcmlhbnQsIGZvbnRGYW1pbHksIGZvbnRTaXplLCBmb250U3R5bGUsIGZvbnRXZWlnaHQsIGxldHRlclNwYWNpbmcsIGxpbmVIZWlnaHQsIHRleHRBbGlnbik7XG5leHBvcnQgZGVmYXVsdCB0eXBvZ3JhcGh5OyIsImltcG9ydCBib3JkZXJzIGZyb20gJy4vYm9yZGVycyc7XG5pbXBvcnQgZGlzcGxheSBmcm9tICcuL2Rpc3BsYXknO1xuaW1wb3J0IGZsZXhib3ggZnJvbSAnLi9mbGV4Ym94JztcbmltcG9ydCBncmlkIGZyb20gJy4vZ3JpZCc7XG5pbXBvcnQgcG9zaXRpb25zIGZyb20gJy4vcG9zaXRpb25zJztcbmltcG9ydCBwYWxldHRlIGZyb20gJy4vcGFsZXR0ZSc7XG5pbXBvcnQgc2hhZG93cyBmcm9tICcuL3NoYWRvd3MnO1xuaW1wb3J0IHNpemluZyBmcm9tICcuL3NpemluZyc7XG5pbXBvcnQgc3BhY2luZyBmcm9tICcuL3NwYWNpbmcnO1xuaW1wb3J0IHR5cG9ncmFwaHkgZnJvbSAnLi90eXBvZ3JhcGh5JztcbmNvbnN0IGZpbHRlclByb3BzTWFwcGluZyA9IHtcbiAgYm9yZGVyczogYm9yZGVycy5maWx0ZXJQcm9wcyxcbiAgZGlzcGxheTogZGlzcGxheS5maWx0ZXJQcm9wcyxcbiAgZmxleGJveDogZmxleGJveC5maWx0ZXJQcm9wcyxcbiAgZ3JpZDogZ3JpZC5maWx0ZXJQcm9wcyxcbiAgcG9zaXRpb25zOiBwb3NpdGlvbnMuZmlsdGVyUHJvcHMsXG4gIHBhbGV0dGU6IHBhbGV0dGUuZmlsdGVyUHJvcHMsXG4gIHNoYWRvd3M6IHNoYWRvd3MuZmlsdGVyUHJvcHMsXG4gIHNpemluZzogc2l6aW5nLmZpbHRlclByb3BzLFxuICBzcGFjaW5nOiBzcGFjaW5nLmZpbHRlclByb3BzLFxuICB0eXBvZ3JhcGh5OiB0eXBvZ3JhcGh5LmZpbHRlclByb3BzXG59O1xuY29uc3Qgc3R5bGVGdW5jdGlvbk1hcHBpbmcgPSB7XG4gIGJvcmRlcnMsXG4gIGRpc3BsYXksXG4gIGZsZXhib3gsXG4gIGdyaWQsXG4gIHBvc2l0aW9ucyxcbiAgcGFsZXR0ZSxcbiAgc2hhZG93cyxcbiAgc2l6aW5nLFxuICBzcGFjaW5nLFxuICB0eXBvZ3JhcGh5XG59O1xuZXhwb3J0IGNvbnN0IHByb3BUb1N0eWxlRnVuY3Rpb24gPSBPYmplY3Qua2V5cyhmaWx0ZXJQcm9wc01hcHBpbmcpLnJlZHVjZSgoYWNjLCBzdHlsZUZuTmFtZSkgPT4ge1xuICBmaWx0ZXJQcm9wc01hcHBpbmdbc3R5bGVGbk5hbWVdLmZvckVhY2gocHJvcE5hbWUgPT4ge1xuICAgIGFjY1twcm9wTmFtZV0gPSBzdHlsZUZ1bmN0aW9uTWFwcGluZ1tzdHlsZUZuTmFtZV07XG4gIH0pO1xuICByZXR1cm4gYWNjO1xufSwge30pO1xuXG5mdW5jdGlvbiBnZXRUaGVtZVZhbHVlKHByb3AsIHZhbHVlLCB0aGVtZSkge1xuICBjb25zdCBpbnB1dFByb3BzID0ge1xuICAgIFtwcm9wXTogdmFsdWUsXG4gICAgdGhlbWVcbiAgfTtcbiAgY29uc3Qgc3R5bGVGdW5jdGlvbiA9IHByb3BUb1N0eWxlRnVuY3Rpb25bcHJvcF07XG4gIHJldHVybiBzdHlsZUZ1bmN0aW9uID8gc3R5bGVGdW5jdGlvbihpbnB1dFByb3BzKSA6IHtcbiAgICBbcHJvcF06IHZhbHVlXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFRoZW1lVmFsdWU7IiwiaW1wb3J0IG1lcmdlIGZyb20gJy4uL21lcmdlJztcbmltcG9ydCBnZXRUaGVtZVZhbHVlLCB7IHByb3BUb1N0eWxlRnVuY3Rpb24gfSBmcm9tICcuLi9nZXRUaGVtZVZhbHVlJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzLCBjcmVhdGVFbXB0eUJyZWFrcG9pbnRPYmplY3QsIHJlbW92ZVVudXNlZEJyZWFrcG9pbnRzIH0gZnJvbSAnLi4vYnJlYWtwb2ludHMnO1xuXG5mdW5jdGlvbiBvYmplY3RzSGF2ZVNhbWVLZXlzKC4uLm9iamVjdHMpIHtcbiAgY29uc3QgYWxsS2V5cyA9IG9iamVjdHMucmVkdWNlKChrZXlzLCBvYmplY3QpID0+IGtleXMuY29uY2F0KE9iamVjdC5rZXlzKG9iamVjdCkpLCBbXSk7XG4gIGNvbnN0IHVuaW9uID0gbmV3IFNldChhbGxLZXlzKTtcbiAgcmV0dXJuIG9iamVjdHMuZXZlcnkob2JqZWN0ID0+IHVuaW9uLnNpemUgPT09IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gY2FsbElmRm4obWF5YmVGbiwgYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgbWF5YmVGbiA9PT0gJ2Z1bmN0aW9uJyA/IG1heWJlRm4oYXJnKSA6IG1heWJlRm47XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb25TeChwcm9wcykge1xuICBjb25zdCB7XG4gICAgc3g6IHN0eWxlcyxcbiAgICB0aGVtZSA9IHt9XG4gIH0gPSBwcm9wcyB8fCB7fTtcblxuICBpZiAoIXN0eWxlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHlsZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gc3R5bGVzKHRoZW1lKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3R5bGVzICE9PSAnb2JqZWN0Jykge1xuICAgIC8vIHZhbHVlXG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIGNvbnN0IGVtcHR5QnJlYWtwb2ludHMgPSBjcmVhdGVFbXB0eUJyZWFrcG9pbnRPYmplY3QodGhlbWUuYnJlYWtwb2ludHMpO1xuICBjb25zdCBicmVha3BvaW50c0tleXMgPSBPYmplY3Qua2V5cyhlbXB0eUJyZWFrcG9pbnRzKTtcbiAgbGV0IGNzcyA9IGVtcHR5QnJlYWtwb2ludHM7XG4gIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChzdHlsZUtleSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBjYWxsSWZGbihzdHlsZXNbc3R5bGVLZXldLCB0aGVtZSk7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BUb1N0eWxlRnVuY3Rpb25bc3R5bGVLZXldKSB7XG4gICAgICAgIGNzcyA9IG1lcmdlKGNzcywgZ2V0VGhlbWVWYWx1ZShzdHlsZUtleSwgdmFsdWUsIHRoZW1lKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBicmVha3BvaW50c1ZhbHVlcyA9IGhhbmRsZUJyZWFrcG9pbnRzKHtcbiAgICAgICAgICB0aGVtZVxuICAgICAgICB9LCB2YWx1ZSwgeCA9PiAoe1xuICAgICAgICAgIFtzdHlsZUtleV06IHhcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChvYmplY3RzSGF2ZVNhbWVLZXlzKGJyZWFrcG9pbnRzVmFsdWVzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBjc3Nbc3R5bGVLZXldID0gc3R5bGVGdW5jdGlvblN4KHtcbiAgICAgICAgICAgIHN4OiB2YWx1ZSxcbiAgICAgICAgICAgIHRoZW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3NzID0gbWVyZ2UoY3NzLCBicmVha3BvaW50c1ZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3NzID0gbWVyZ2UoY3NzLCBnZXRUaGVtZVZhbHVlKHN0eWxlS2V5LCB2YWx1ZSwgdGhlbWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVtb3ZlVW51c2VkQnJlYWtwb2ludHMoYnJlYWtwb2ludHNLZXlzLCBjc3MpO1xufVxuXG5zdHlsZUZ1bmN0aW9uU3guZmlsdGVyUHJvcHMgPSBbJ3N4J107XG5leHBvcnQgZGVmYXVsdCBzdHlsZUZ1bmN0aW9uU3g7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcInZhbHVlc1wiLCBcInVuaXRcIiwgXCJzdGVwXCJdO1xuLy8gU29ydGVkIEFTQyBieSBzaXplLiBUaGF0J3MgaW1wb3J0YW50LlxuLy8gSXQgY2FuJ3QgYmUgY29uZmlndXJlZCBhcyBpdCdzIHVzZWQgc3RhdGljYWxseSBmb3IgcHJvcFR5cGVzLlxuZXhwb3J0IGNvbnN0IGJyZWFrcG9pbnRLZXlzID0gWyd4cycsICdzbScsICdtZCcsICdsZycsICd4bCddOyAvLyBLZWVwIGluIG1pbmQgdGhhdCBAbWVkaWEgaXMgaW5jbHVzaXZlIGJ5IHRoZSBDU1Mgc3BlY2lmaWNhdGlvbi5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQnJlYWtwb2ludHMoYnJlYWtwb2ludHMpIHtcbiAgY29uc3Qge1xuICAgIC8vIFRoZSBicmVha3BvaW50ICoqc3RhcnQqKiBhdCB0aGlzIHZhbHVlLlxuICAgIC8vIEZvciBpbnN0YW5jZSB3aXRoIHRoZSBmaXJzdCBicmVha3BvaW50IHhzOiBbeHMsIHNtKS5cbiAgICB2YWx1ZXMgPSB7XG4gICAgICB4czogMCxcbiAgICAgIC8vIHBob25lXG4gICAgICBzbTogNjAwLFxuICAgICAgLy8gdGFibGV0c1xuICAgICAgbWQ6IDkwMCxcbiAgICAgIC8vIHNtYWxsIGxhcHRvcFxuICAgICAgbGc6IDEyMDAsXG4gICAgICAvLyBkZXNrdG9wXG4gICAgICB4bDogMTUzNiAvLyBsYXJnZSBzY3JlZW5zXG5cbiAgICB9LFxuICAgIHVuaXQgPSAncHgnLFxuICAgIHN0ZXAgPSA1XG4gIH0gPSBicmVha3BvaW50cyxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShicmVha3BvaW50cywgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcblxuICBmdW5jdGlvbiB1cChrZXkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiB2YWx1ZXNba2V5XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5XSA6IGtleTtcbiAgICByZXR1cm4gYEBtZWRpYSAobWluLXdpZHRoOiR7dmFsdWV9JHt1bml0fSlgO1xuICB9XG5cbiAgZnVuY3Rpb24gZG93bihrZXkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiB2YWx1ZXNba2V5XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5XSA6IGtleTtcbiAgICByZXR1cm4gYEBtZWRpYSAobWF4LXdpZHRoOiR7dmFsdWUgLSBzdGVwIC8gMTAwfSR7dW5pdH0pYDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJldHdlZW4oc3RhcnQsIGVuZCkge1xuICAgIGNvbnN0IGVuZEluZGV4ID0ga2V5cy5pbmRleE9mKGVuZCk7XG4gICAgcmV0dXJuIGBAbWVkaWEgKG1pbi13aWR0aDoke3R5cGVvZiB2YWx1ZXNbc3RhcnRdID09PSAnbnVtYmVyJyA/IHZhbHVlc1tzdGFydF0gOiBzdGFydH0ke3VuaXR9KSBhbmQgYCArIGAobWF4LXdpZHRoOiR7KGVuZEluZGV4ICE9PSAtMSAmJiB0eXBlb2YgdmFsdWVzW2tleXNbZW5kSW5kZXhdXSA9PT0gJ251bWJlcicgPyB2YWx1ZXNba2V5c1tlbmRJbmRleF1dIDogZW5kKSAtIHN0ZXAgLyAxMDB9JHt1bml0fSlgO1xuICB9XG5cbiAgZnVuY3Rpb24gb25seShrZXkpIHtcbiAgICBpZiAoa2V5cy5pbmRleE9mKGtleSkgKyAxIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBiZXR3ZWVuKGtleSwga2V5c1trZXlzLmluZGV4T2Yoa2V5KSArIDFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXAoa2V5KTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAga2V5cyxcbiAgICB2YWx1ZXMsXG4gICAgdXAsXG4gICAgZG93bixcbiAgICBiZXR3ZWVuLFxuICAgIG9ubHksXG4gICAgdW5pdFxuICB9LCBvdGhlcik7XG59IiwiY29uc3Qgc2hhcGUgPSB7XG4gIGJvcmRlclJhZGl1czogNFxufTtcbmV4cG9ydCBkZWZhdWx0IHNoYXBlOyIsImltcG9ydCB7IGNyZWF0ZVVuYXJ5U3BhY2luZyB9IGZyb20gJy4uL3NwYWNpbmcnO1xuXG4vKiB0c2xpbnQ6ZW5hYmxlOnVuaWZpZWQtc2lnbmF0dXJlcyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3BhY2luZyhzcGFjaW5nSW5wdXQgPSA4KSB7XG4gIC8vIEFscmVhZHkgdHJhbnNmb3JtZWQuXG4gIGlmIChzcGFjaW5nSW5wdXQubXVpKSB7XG4gICAgcmV0dXJuIHNwYWNpbmdJbnB1dDtcbiAgfSAvLyBNYXRlcmlhbCBEZXNpZ24gbGF5b3V0cyBhcmUgdmlzdWFsbHkgYmFsYW5jZWQuIE1vc3QgbWVhc3VyZW1lbnRzIGFsaWduIHRvIGFuIDhkcCBncmlkLCB3aGljaCBhbGlnbnMgYm90aCBzcGFjaW5nIGFuZCB0aGUgb3ZlcmFsbCBsYXlvdXQuXG4gIC8vIFNtYWxsZXIgY29tcG9uZW50cywgc3VjaCBhcyBpY29ucywgY2FuIGFsaWduIHRvIGEgNGRwIGdyaWQuXG4gIC8vIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL2xheW91dC91bmRlcnN0YW5kaW5nLWxheW91dC5odG1sI3VzYWdlXG5cblxuICBjb25zdCB0cmFuc2Zvcm0gPSBjcmVhdGVVbmFyeVNwYWNpbmcoe1xuICAgIHNwYWNpbmc6IHNwYWNpbmdJbnB1dFxuICB9KTtcblxuICBjb25zdCBzcGFjaW5nID0gKC4uLmFyZ3NJbnB1dCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIShhcmdzSW5wdXQubGVuZ3RoIDw9IDQpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVG9vIG1hbnkgYXJndW1lbnRzIHByb3ZpZGVkLCBleHBlY3RlZCBiZXR3ZWVuIDAgYW5kIDQsIGdvdCAke2FyZ3NJbnB1dC5sZW5ndGh9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYXJncyA9IGFyZ3NJbnB1dC5sZW5ndGggPT09IDAgPyBbMV0gOiBhcmdzSW5wdXQ7XG4gICAgcmV0dXJuIGFyZ3MubWFwKGFyZ3VtZW50ID0+IHtcbiAgICAgIGNvbnN0IG91dHB1dCA9IHRyYW5zZm9ybShhcmd1bWVudCk7XG4gICAgICByZXR1cm4gdHlwZW9mIG91dHB1dCA9PT0gJ251bWJlcicgPyBgJHtvdXRwdXR9cHhgIDogb3V0cHV0O1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfTtcblxuICBzcGFjaW5nLm11aSA9IHRydWU7XG4gIHJldHVybiBzcGFjaW5nO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJicmVha3BvaW50c1wiLCBcInBhbGV0dGVcIiwgXCJzcGFjaW5nXCIsIFwic2hhcGVcIl07XG5pbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCBjcmVhdGVCcmVha3BvaW50cyBmcm9tICcuL2NyZWF0ZUJyZWFrcG9pbnRzJztcbmltcG9ydCBzaGFwZSBmcm9tICcuL3NoYXBlJztcbmltcG9ydCBjcmVhdGVTcGFjaW5nIGZyb20gJy4vY3JlYXRlU3BhY2luZyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZW1lKG9wdGlvbnMgPSB7fSwgLi4uYXJncykge1xuICBjb25zdCB7XG4gICAgYnJlYWtwb2ludHM6IGJyZWFrcG9pbnRzSW5wdXQgPSB7fSxcbiAgICBwYWxldHRlOiBwYWxldHRlSW5wdXQgPSB7fSxcbiAgICBzcGFjaW5nOiBzcGFjaW5nSW5wdXQsXG4gICAgc2hhcGU6IHNoYXBlSW5wdXQgPSB7fVxuICB9ID0gb3B0aW9ucyxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShvcHRpb25zLCBfZXhjbHVkZWQpO1xuXG4gIGNvbnN0IGJyZWFrcG9pbnRzID0gY3JlYXRlQnJlYWtwb2ludHMoYnJlYWtwb2ludHNJbnB1dCk7XG4gIGNvbnN0IHNwYWNpbmcgPSBjcmVhdGVTcGFjaW5nKHNwYWNpbmdJbnB1dCk7XG4gIGxldCBtdWlUaGVtZSA9IGRlZXBtZXJnZSh7XG4gICAgYnJlYWtwb2ludHMsXG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICAvLyBJbmplY3QgY29tcG9uZW50IGRlZmluaXRpb25zLlxuICAgIHBhbGV0dGU6IF9leHRlbmRzKHtcbiAgICAgIG1vZGU6ICdsaWdodCdcbiAgICB9LCBwYWxldHRlSW5wdXQpLFxuICAgIHNwYWNpbmcsXG4gICAgc2hhcGU6IF9leHRlbmRzKHt9LCBzaGFwZSwgc2hhcGVJbnB1dClcbiAgfSwgb3RoZXIpO1xuICBtdWlUaGVtZSA9IGFyZ3MucmVkdWNlKChhY2MsIGFyZ3VtZW50KSA9PiBkZWVwbWVyZ2UoYWNjLCBhcmd1bWVudCksIG11aVRoZW1lKTtcbiAgcmV0dXJuIG11aVRoZW1lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUaGVtZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCBUaGVtZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGhlbWVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ1RoZW1lQ29udGV4dCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRoZW1lQ29udGV4dDsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGhlbWVDb250ZXh0IGZyb20gJy4vVGhlbWVDb250ZXh0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lKCkge1xuICBjb25zdCB0aGVtZSA9IFJlYWN0LnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIFJlYWN0LnVzZURlYnVnVmFsdWUodGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoZW1lO1xufSIsImltcG9ydCB7IHVzZVRoZW1lIGFzIG11aVVzZVRoZW1lIH0gZnJvbSAnQG11aS9wcml2YXRlLXRoZW1pbmcnO1xuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbmZ1bmN0aW9uIHVzZVRoZW1lKGRlZmF1bHRUaGVtZSA9IG51bGwpIHtcbiAgY29uc3QgY29udGV4dFRoZW1lID0gbXVpVXNlVGhlbWUoKTtcbiAgcmV0dXJuICFjb250ZXh0VGhlbWUgfHwgaXNPYmplY3RFbXB0eShjb250ZXh0VGhlbWUpID8gZGVmYXVsdFRoZW1lIDogY29udGV4dFRoZW1lO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VUaGVtZTsiLCJpbXBvcnQgY3JlYXRlVGhlbWUgZnJvbSAnLi9jcmVhdGVUaGVtZSc7XG5pbXBvcnQgdXNlVGhlbWVXaXRob3V0RGVmYXVsdCBmcm9tICcuL3VzZVRoZW1lV2l0aG91dERlZmF1bHQnO1xuZXhwb3J0IGNvbnN0IHN5c3RlbURlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG5cbmZ1bmN0aW9uIHVzZVRoZW1lKGRlZmF1bHRUaGVtZSA9IHN5c3RlbURlZmF1bHRUaGVtZSkge1xuICByZXR1cm4gdXNlVGhlbWVXaXRob3V0RGVmYXVsdChkZWZhdWx0VGhlbWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VUaGVtZTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcInZhcmlhbnRcIl07XG5pbXBvcnQgeyB1bnN0YWJsZV9jYXBpdGFsaXplIGFzIGNhcGl0YWxpemUgfSBmcm9tICdAbXVpL3V0aWxzJztcblxuZnVuY3Rpb24gaXNFbXB0eShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5sZW5ndGggPT09IDA7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBzdHJpbmcgY2xhc3NLZXkgYmFzZWQgb24gdGhlIHByb3BlcnRpZXMgcHJvdmlkZWQuIEl0IHN0YXJ0cyB3aXRoIHRoZVxuICogdmFyaWFudCBpZiBkZWZpbmVkLCBhbmQgdGhlbiBpdCBhcHBlbmRzIGFsbCBvdGhlciBwcm9wZXJ0aWVzIGluIGFscGhhYmV0aWNhbCBvcmRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyAtIHRoZSBwcm9wZXJ0aWVzIGZvciB3aGljaCB0aGUgY2xhc3NLZXkgc2hvdWxkIGJlIGNyZWF0ZWQuXG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9wc1RvQ2xhc3NLZXkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHZhcmlhbnRcbiAgfSA9IHByb3BzLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIGxldCBjbGFzc0tleSA9IHZhcmlhbnQgfHwgJyc7XG4gIE9iamVjdC5rZXlzKG90aGVyKS5zb3J0KCkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChrZXkgPT09ICdjb2xvcicpIHtcbiAgICAgIGNsYXNzS2V5ICs9IGlzRW1wdHkoY2xhc3NLZXkpID8gcHJvcHNba2V5XSA6IGNhcGl0YWxpemUocHJvcHNba2V5XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzS2V5ICs9IGAke2lzRW1wdHkoY2xhc3NLZXkpID8ga2V5IDogY2FwaXRhbGl6ZShrZXkpfSR7Y2FwaXRhbGl6ZShwcm9wc1trZXldLnRvU3RyaW5nKCkpfWA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsYXNzS2V5O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJuYW1lXCIsIFwic2xvdFwiLCBcInNraXBWYXJpYW50c1Jlc29sdmVyXCIsIFwic2tpcFN4XCIsIFwib3ZlcnJpZGVzUmVzb2x2ZXJcIl0sXG4gICAgICBfZXhjbHVkZWQyID0gW1widGhlbWVcIl0sXG4gICAgICBfZXhjbHVkZWQzID0gW1widGhlbWVcIl07XG5pbXBvcnQgc3R5bGVkRW5naW5lU3R5bGVkIGZyb20gJ0BtdWkvc3R5bGVkLWVuZ2luZSc7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gJy4vY3JlYXRlVGhlbWUnO1xuaW1wb3J0IHN0eWxlRnVuY3Rpb25TeCBmcm9tICcuL3N0eWxlRnVuY3Rpb25TeCc7XG5pbXBvcnQgcHJvcHNUb0NsYXNzS2V5IGZyb20gJy4vcHJvcHNUb0NsYXNzS2V5JztcblxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG5jb25zdCBnZXRTdHlsZU92ZXJyaWRlcyA9IChuYW1lLCB0aGVtZSkgPT4ge1xuICBpZiAodGhlbWUuY29tcG9uZW50cyAmJiB0aGVtZS5jb21wb25lbnRzW25hbWVdICYmIHRoZW1lLmNvbXBvbmVudHNbbmFtZV0uc3R5bGVPdmVycmlkZXMpIHtcbiAgICByZXR1cm4gdGhlbWUuY29tcG9uZW50c1tuYW1lXS5zdHlsZU92ZXJyaWRlcztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgZ2V0VmFyaWFudFN0eWxlcyA9IChuYW1lLCB0aGVtZSkgPT4ge1xuICBsZXQgdmFyaWFudHMgPSBbXTtcblxuICBpZiAodGhlbWUgJiYgdGhlbWUuY29tcG9uZW50cyAmJiB0aGVtZS5jb21wb25lbnRzW25hbWVdICYmIHRoZW1lLmNvbXBvbmVudHNbbmFtZV0udmFyaWFudHMpIHtcbiAgICB2YXJpYW50cyA9IHRoZW1lLmNvbXBvbmVudHNbbmFtZV0udmFyaWFudHM7XG4gIH1cblxuICBjb25zdCB2YXJpYW50c1N0eWxlcyA9IHt9O1xuICB2YXJpYW50cy5mb3JFYWNoKGRlZmluaXRpb24gPT4ge1xuICAgIGNvbnN0IGtleSA9IHByb3BzVG9DbGFzc0tleShkZWZpbml0aW9uLnByb3BzKTtcbiAgICB2YXJpYW50c1N0eWxlc1trZXldID0gZGVmaW5pdGlvbi5zdHlsZTtcbiAgfSk7XG4gIHJldHVybiB2YXJpYW50c1N0eWxlcztcbn07XG5cbmNvbnN0IHZhcmlhbnRzUmVzb2x2ZXIgPSAocHJvcHMsIHN0eWxlcywgdGhlbWUsIG5hbWUpID0+IHtcbiAgdmFyIF90aGVtZSRjb21wb25lbnRzLCBfdGhlbWUkY29tcG9uZW50cyRuYW07XG5cbiAgY29uc3Qge1xuICAgIG93bmVyU3RhdGUgPSB7fVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHZhcmlhbnRzU3R5bGVzID0gW107XG4gIGNvbnN0IHRoZW1lVmFyaWFudHMgPSB0aGVtZSA9PSBudWxsID8gdm9pZCAwIDogKF90aGVtZSRjb21wb25lbnRzID0gdGhlbWUuY29tcG9uZW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IChfdGhlbWUkY29tcG9uZW50cyRuYW0gPSBfdGhlbWUkY29tcG9uZW50c1tuYW1lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGVtZSRjb21wb25lbnRzJG5hbS52YXJpYW50cztcblxuICBpZiAodGhlbWVWYXJpYW50cykge1xuICAgIHRoZW1lVmFyaWFudHMuZm9yRWFjaCh0aGVtZVZhcmlhbnQgPT4ge1xuICAgICAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xuICAgICAgT2JqZWN0LmtleXModGhlbWVWYXJpYW50LnByb3BzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmIChvd25lclN0YXRlW2tleV0gIT09IHRoZW1lVmFyaWFudC5wcm9wc1trZXldICYmIHByb3BzW2tleV0gIT09IHRoZW1lVmFyaWFudC5wcm9wc1trZXldKSB7XG4gICAgICAgICAgaXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgdmFyaWFudHNTdHlsZXMucHVzaChzdHlsZXNbcHJvcHNUb0NsYXNzS2V5KHRoZW1lVmFyaWFudC5wcm9wcyldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YXJpYW50c1N0eWxlcztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRGb3J3YXJkUHJvcChwcm9wKSB7XG4gIHJldHVybiBwcm9wICE9PSAnb3duZXJTdGF0ZScgJiYgcHJvcCAhPT0gJ3RoZW1lJyAmJiBwcm9wICE9PSAnc3gnICYmIHByb3AgIT09ICdhcyc7XG59XG5leHBvcnQgY29uc3Qgc3lzdGVtRGVmYXVsdFRoZW1lID0gY3JlYXRlVGhlbWUoKTtcblxuY29uc3QgbG93ZXJjYXNlRmlyc3RMZXR0ZXIgPSBzdHJpbmcgPT4ge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3R5bGVkKGlucHV0ID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRUaGVtZSA9IHN5c3RlbURlZmF1bHRUaGVtZSxcbiAgICByb290U2hvdWxkRm9yd2FyZFByb3AgPSBzaG91bGRGb3J3YXJkUHJvcCxcbiAgICBzbG90U2hvdWxkRm9yd2FyZFByb3AgPSBzaG91bGRGb3J3YXJkUHJvcFxuICB9ID0gaW5wdXQ7XG4gIHJldHVybiAodGFnLCBpbnB1dE9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgICBzbG90OiBjb21wb25lbnRTbG90LFxuICAgICAgc2tpcFZhcmlhbnRzUmVzb2x2ZXI6IGlucHV0U2tpcFZhcmlhbnRzUmVzb2x2ZXIsXG4gICAgICBza2lwU3g6IGlucHV0U2tpcFN4LFxuICAgICAgb3ZlcnJpZGVzUmVzb2x2ZXJcbiAgICB9ID0gaW5wdXRPcHRpb25zLFxuICAgICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShpbnB1dE9wdGlvbnMsIF9leGNsdWRlZCk7IC8vIGlmIHNraXBWYXJpYW50c1Jlc29sdmVyIG9wdGlvbiBpcyBkZWZpbmVkLCB0YWtlIHRoZSB2YWx1ZSwgb3RoZXJ3aXNlLCB0cnVlIGZvciByb290IGFuZCBmYWxzZSBmb3Igb3RoZXIgc2xvdHMuXG5cblxuICAgIGNvbnN0IHNraXBWYXJpYW50c1Jlc29sdmVyID0gaW5wdXRTa2lwVmFyaWFudHNSZXNvbHZlciAhPT0gdW5kZWZpbmVkID8gaW5wdXRTa2lwVmFyaWFudHNSZXNvbHZlciA6IGNvbXBvbmVudFNsb3QgJiYgY29tcG9uZW50U2xvdCAhPT0gJ1Jvb3QnIHx8IGZhbHNlO1xuICAgIGNvbnN0IHNraXBTeCA9IGlucHV0U2tpcFN4IHx8IGZhbHNlO1xuICAgIGxldCBsYWJlbDtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoY29tcG9uZW50TmFtZSkge1xuICAgICAgICBsYWJlbCA9IGAke2NvbXBvbmVudE5hbWV9LSR7bG93ZXJjYXNlRmlyc3RMZXR0ZXIoY29tcG9uZW50U2xvdCB8fCAnUm9vdCcpfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNob3VsZEZvcndhcmRQcm9wT3B0aW9uID0gc2hvdWxkRm9yd2FyZFByb3A7XG5cbiAgICBpZiAoY29tcG9uZW50U2xvdCA9PT0gJ1Jvb3QnKSB7XG4gICAgICBzaG91bGRGb3J3YXJkUHJvcE9wdGlvbiA9IHJvb3RTaG91bGRGb3J3YXJkUHJvcDtcbiAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFNsb3QpIHtcbiAgICAgIC8vIGFueSBvdGhlciBzbG90IHNwZWNpZmllZFxuICAgICAgc2hvdWxkRm9yd2FyZFByb3BPcHRpb24gPSBzbG90U2hvdWxkRm9yd2FyZFByb3A7XG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdFN0eWxlZFJlc29sdmVyID0gc3R5bGVkRW5naW5lU3R5bGVkKHRhZywgX2V4dGVuZHMoe1xuICAgICAgc2hvdWxkRm9yd2FyZFByb3A6IHNob3VsZEZvcndhcmRQcm9wT3B0aW9uLFxuICAgICAgbGFiZWxcbiAgICB9LCBvcHRpb25zKSk7XG5cbiAgICBjb25zdCBtdWlTdHlsZWRSZXNvbHZlciA9IChzdHlsZUFyZywgLi4uZXhwcmVzc2lvbnMpID0+IHtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb25zV2l0aERlZmF1bHRUaGVtZSA9IGV4cHJlc3Npb25zID8gZXhwcmVzc2lvbnMubWFwKHN0eWxlc0FyZyA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3R5bGVzQXJnID09PSAnZnVuY3Rpb24nID8gX3JlZiA9PiB7XG4gICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIHRoZW1lOiB0aGVtZUlucHV0XG4gICAgICAgICAgfSA9IF9yZWYsXG4gICAgICAgICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkMik7XG5cbiAgICAgICAgICByZXR1cm4gc3R5bGVzQXJnKF9leHRlbmRzKHtcbiAgICAgICAgICAgIHRoZW1lOiBpc0VtcHR5KHRoZW1lSW5wdXQpID8gZGVmYXVsdFRoZW1lIDogdGhlbWVJbnB1dFxuICAgICAgICAgIH0sIG90aGVyKSk7XG4gICAgICAgIH0gOiBzdHlsZXNBcmc7XG4gICAgICB9KSA6IFtdO1xuICAgICAgbGV0IHRyYW5zZm9ybWVkU3R5bGVBcmcgPSBzdHlsZUFyZztcblxuICAgICAgaWYgKGNvbXBvbmVudE5hbWUgJiYgb3ZlcnJpZGVzUmVzb2x2ZXIpIHtcbiAgICAgICAgZXhwcmVzc2lvbnNXaXRoRGVmYXVsdFRoZW1lLnB1c2gocHJvcHMgPT4ge1xuICAgICAgICAgIGNvbnN0IHRoZW1lID0gaXNFbXB0eShwcm9wcy50aGVtZSkgPyBkZWZhdWx0VGhlbWUgOiBwcm9wcy50aGVtZTtcbiAgICAgICAgICBjb25zdCBzdHlsZU92ZXJyaWRlcyA9IGdldFN0eWxlT3ZlcnJpZGVzKGNvbXBvbmVudE5hbWUsIHRoZW1lKTtcblxuICAgICAgICAgIGlmIChzdHlsZU92ZXJyaWRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlc1Jlc29sdmVyKHByb3BzLCBzdHlsZU92ZXJyaWRlcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcG9uZW50TmFtZSAmJiAhc2tpcFZhcmlhbnRzUmVzb2x2ZXIpIHtcbiAgICAgICAgZXhwcmVzc2lvbnNXaXRoRGVmYXVsdFRoZW1lLnB1c2gocHJvcHMgPT4ge1xuICAgICAgICAgIGNvbnN0IHRoZW1lID0gaXNFbXB0eShwcm9wcy50aGVtZSkgPyBkZWZhdWx0VGhlbWUgOiBwcm9wcy50aGVtZTtcbiAgICAgICAgICByZXR1cm4gdmFyaWFudHNSZXNvbHZlcihwcm9wcywgZ2V0VmFyaWFudFN0eWxlcyhjb21wb25lbnROYW1lLCB0aGVtZSksIHRoZW1lLCBjb21wb25lbnROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghc2tpcFN4KSB7XG4gICAgICAgIGV4cHJlc3Npb25zV2l0aERlZmF1bHRUaGVtZS5wdXNoKHByb3BzID0+IHtcbiAgICAgICAgICBjb25zdCB0aGVtZSA9IGlzRW1wdHkocHJvcHMudGhlbWUpID8gZGVmYXVsdFRoZW1lIDogcHJvcHMudGhlbWU7XG4gICAgICAgICAgcmV0dXJuIHN0eWxlRnVuY3Rpb25TeChfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgIHRoZW1lXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbnVtT2ZDdXN0b21GbnNBcHBsaWVkID0gZXhwcmVzc2lvbnNXaXRoRGVmYXVsdFRoZW1lLmxlbmd0aCAtIGV4cHJlc3Npb25zLmxlbmd0aDtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVBcmcpICYmIG51bU9mQ3VzdG9tRm5zQXBwbGllZCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gbmV3IEFycmF5KG51bU9mQ3VzdG9tRm5zQXBwbGllZCkuZmlsbCgnJyk7IC8vIElmIHRoZSB0eXBlIGlzIGFycmF5LCB0aGFuIHdlIG5lZWQgdG8gYWRkIHBsYWNlaG9sZGVycyBpbiB0aGUgdGVtcGxhdGUgZm9yIHRoZSBvdmVycmlkZXMsIHZhcmlhbnRzIGFuZCB0aGUgc3ggc3R5bGVzLlxuXG4gICAgICAgIHRyYW5zZm9ybWVkU3R5bGVBcmcgPSBbLi4uc3R5bGVBcmcsIC4uLnBsYWNlaG9sZGVyc107XG4gICAgICAgIHRyYW5zZm9ybWVkU3R5bGVBcmcucmF3ID0gWy4uLnN0eWxlQXJnLnJhdywgLi4ucGxhY2Vob2xkZXJzXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0eWxlQXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHRoZSB0eXBlIGlzIGZ1bmN0aW9uLCB3ZSBuZWVkIHRvIGRlZmluZSB0aGUgZGVmYXVsdCB0aGVtZS5cbiAgICAgICAgdHJhbnNmb3JtZWRTdHlsZUFyZyA9IF9yZWYyID0+IHtcbiAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgdGhlbWU6IHRoZW1lSW5wdXRcbiAgICAgICAgICB9ID0gX3JlZjIsXG4gICAgICAgICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIF9leGNsdWRlZDMpO1xuXG4gICAgICAgICAgcmV0dXJuIHN0eWxlQXJnKF9leHRlbmRzKHtcbiAgICAgICAgICAgIHRoZW1lOiBpc0VtcHR5KHRoZW1lSW5wdXQpID8gZGVmYXVsdFRoZW1lIDogdGhlbWVJbnB1dFxuICAgICAgICAgIH0sIG90aGVyKSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IENvbXBvbmVudCA9IGRlZmF1bHRTdHlsZWRSZXNvbHZlcih0cmFuc2Zvcm1lZFN0eWxlQXJnLCAuLi5leHByZXNzaW9uc1dpdGhEZWZhdWx0VGhlbWUpO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBsZXQgZGlzcGxheU5hbWU7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgICBkaXNwbGF5TmFtZSA9IGAke2NvbXBvbmVudE5hbWV9JHtjb21wb25lbnRTbG90IHx8ICcnfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRpc3BsYXlOYW1lID0gYFN0eWxlZCgke2dldERpc3BsYXlOYW1lKHRhZyl9KWA7XG4gICAgICAgIH1cblxuICAgICAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIG11aVN0eWxlZFJlc29sdmVyO1xuICB9O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VGhlbWVQcm9wcyhwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIHRoZW1lLFxuICAgIG5hbWUsXG4gICAgcHJvcHNcbiAgfSA9IHBhcmFtcztcblxuICBpZiAoIXRoZW1lIHx8ICF0aGVtZS5jb21wb25lbnRzIHx8ICF0aGVtZS5jb21wb25lbnRzW25hbWVdIHx8ICF0aGVtZS5jb21wb25lbnRzW25hbWVdLmRlZmF1bHRQcm9wcykge1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuXG4gIGNvbnN0IG91dHB1dCA9IF9leHRlbmRzKHt9LCBwcm9wcyk7IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wcywgY29kZSBib3Jyb3cgZnJvbSBSZWFjdCBzb3VyY2UuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzE1YThmMDMxODM4YTU1M2U0MWMwYjY2ZWIxYmNmMWRhODQ0ODEwNGQvcGFja2FnZXMvcmVhY3Qvc3JjL1JlYWN0RWxlbWVudC5qcyNMMjIxXG5cblxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB0aGVtZS5jb21wb25lbnRzW25hbWVdLmRlZmF1bHRQcm9wcztcbiAgbGV0IHByb3BOYW1lO1xuXG4gIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgaWYgKG91dHB1dFtwcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3V0cHV0W3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn0iLCJpbXBvcnQgZ2V0VGhlbWVQcm9wcyBmcm9tICcuL2dldFRoZW1lUHJvcHMnO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gJy4uL3VzZVRoZW1lJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lUHJvcHMoe1xuICBwcm9wcyxcbiAgbmFtZSxcbiAgZGVmYXVsdFRoZW1lXG59KSB7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoZGVmYXVsdFRoZW1lKTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBnZXRUaGVtZVByb3BzKHtcbiAgICB0aGVtZSxcbiAgICBuYW1lLFxuICAgIHByb3BzXG4gIH0pO1xuICByZXR1cm4gbWVyZ2VkUHJvcHM7XG59IiwiaW1wb3J0IHsgZm9ybWF0TXVpRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQG11aS91dGlsc1wiO1xuXG4vKipcbiAqIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIGNsYW1wZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIGluIHRoZSByYW5nZSBbbWluLCBtYXhdXG4gKi9cbmZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4gPSAwLCBtYXggPSAxKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBNVUk6IFRoZSB2YWx1ZSBwcm92aWRlZCAke3ZhbHVlfSBpcyBvdXQgb2YgcmFuZ2UgWyR7bWlufSwgJHttYXh9XS5gKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobWluLCB2YWx1ZSksIG1heCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBDU1MgaGV4IGZvcm1hdCB0byBDU1MgcmdiIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEhleCBjb2xvciwgaS5lLiAjbm5uIG9yICNubm5ubm5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIHJnYiBjb2xvciBzdHJpbmdcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihjb2xvcikge1xuICBjb2xvciA9IGNvbG9yLnN1YnN0cigxKTtcbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGAuezEsJHtjb2xvci5sZW5ndGggPj0gNiA/IDIgOiAxfX1gLCAnZycpO1xuICBsZXQgY29sb3JzID0gY29sb3IubWF0Y2gocmUpO1xuXG4gIGlmIChjb2xvcnMgJiYgY29sb3JzWzBdLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAobiA9PiBuICsgbik7XG4gIH1cblxuICByZXR1cm4gY29sb3JzID8gYHJnYiR7Y29sb3JzLmxlbmd0aCA9PT0gNCA/ICdhJyA6ICcnfSgke2NvbG9ycy5tYXAoKG4sIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIGluZGV4IDwgMyA/IHBhcnNlSW50KG4sIDE2KSA6IE1hdGgucm91bmQocGFyc2VJbnQobiwgMTYpIC8gMjU1ICogMTAwMCkgLyAxMDAwO1xuICB9KS5qb2luKCcsICcpfSlgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGludFRvSGV4KGludCkge1xuICBjb25zdCBoZXggPSBpbnQudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IGAwJHtoZXh9YCA6IGhleDtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBhbmQgdmFsdWVzIG9mIGEgY29sb3IuXG4gKlxuICogTm90ZTogRG9lcyBub3Qgc3VwcG9ydCByZ2IgJSB2YWx1ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIEEgTVVJIGNvbG9yIG9iamVjdDoge3R5cGU6IHN0cmluZywgdmFsdWVzOiBudW1iZXJbXX1cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXBvc2VDb2xvcihjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci50eXBlKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgaWYgKGNvbG9yLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgcmV0dXJuIGRlY29tcG9zZUNvbG9yKGhleFRvUmdiKGNvbG9yKSk7XG4gIH1cblxuICBjb25zdCBtYXJrZXIgPSBjb2xvci5pbmRleE9mKCcoJyk7XG4gIGNvbnN0IHR5cGUgPSBjb2xvci5zdWJzdHJpbmcoMCwgbWFya2VyKTtcblxuICBpZiAoWydyZ2InLCAncmdiYScsICdoc2wnLCAnaHNsYScsICdjb2xvciddLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGBNVUk6IFVuc3VwcG9ydGVkIFxcYCR7Y29sb3J9XFxgIGNvbG9yLlxuVGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSBzdXBwb3J0ZWQ6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKCkuYCA6IF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UoOSwgY29sb3IpKTtcbiAgfVxuXG4gIGxldCB2YWx1ZXMgPSBjb2xvci5zdWJzdHJpbmcobWFya2VyICsgMSwgY29sb3IubGVuZ3RoIC0gMSk7XG4gIGxldCBjb2xvclNwYWNlO1xuXG4gIGlmICh0eXBlID09PSAnY29sb3InKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzLnNwbGl0KCcgJyk7XG4gICAgY29sb3JTcGFjZSA9IHZhbHVlcy5zaGlmdCgpO1xuXG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDQgJiYgdmFsdWVzWzNdLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICB2YWx1ZXNbM10gPSB2YWx1ZXNbM10uc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIGlmIChbJ3NyZ2InLCAnZGlzcGxheS1wMycsICdhOTgtcmdiJywgJ3Byb3Bob3RvLXJnYicsICdyZWMtMjAyMCddLmluZGV4T2YoY29sb3JTcGFjZSkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gYE1VSTogdW5zdXBwb3J0ZWQgXFxgJHtjb2xvclNwYWNlfVxcYCBjb2xvciBzcGFjZS5cblRoZSBmb2xsb3dpbmcgY29sb3Igc3BhY2VzIGFyZSBzdXBwb3J0ZWQ6IHNyZ2IsIGRpc3BsYXktcDMsIGE5OC1yZ2IsIHByb3Bob3RvLXJnYiwgcmVjLTIwMjAuYCA6IF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UoMTAsIGNvbG9yU3BhY2UpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWVzID0gdmFsdWVzLnNwbGl0KCcsJyk7XG4gIH1cblxuICB2YWx1ZXMgPSB2YWx1ZXMubWFwKHZhbHVlID0+IHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlLFxuICAgIHZhbHVlcyxcbiAgICBjb2xvclNwYWNlXG4gIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3Igb2JqZWN0IHdpdGggdHlwZSBhbmQgdmFsdWVzIHRvIGEgc3RyaW5nLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbG9yIC0gRGVjb21wb3NlZCBjb2xvclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yLnR5cGUgLSBPbmUgb2Y6ICdyZ2InLCAncmdiYScsICdoc2wnLCAnaHNsYSdcbiAqIEBwYXJhbSB7YXJyYXl9IGNvbG9yLnZhbHVlcyAtIFtuLG4sbl0gb3IgW24sbixuLG5dXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmdcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVjb21wb3NlQ29sb3IoY29sb3IpIHtcbiAgY29uc3Qge1xuICAgIHR5cGUsXG4gICAgY29sb3JTcGFjZVxuICB9ID0gY29sb3I7XG4gIGxldCB7XG4gICAgdmFsdWVzXG4gIH0gPSBjb2xvcjtcblxuICBpZiAodHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEpIHtcbiAgICAvLyBPbmx5IGNvbnZlcnQgdGhlIGZpcnN0IDMgdmFsdWVzIHRvIGludCAoaS5lLiBub3QgYWxwaGEpXG4gICAgdmFsdWVzID0gdmFsdWVzLm1hcCgobiwgaSkgPT4gaSA8IDMgPyBwYXJzZUludChuLCAxMCkgOiBuKTtcbiAgfSBlbHNlIGlmICh0eXBlLmluZGV4T2YoJ2hzbCcpICE9PSAtMSkge1xuICAgIHZhbHVlc1sxXSA9IGAke3ZhbHVlc1sxXX0lYDtcbiAgICB2YWx1ZXNbMl0gPSBgJHt2YWx1ZXNbMl19JWA7XG4gIH1cblxuICBpZiAodHlwZS5pbmRleE9mKCdjb2xvcicpICE9PSAtMSkge1xuICAgIHZhbHVlcyA9IGAke2NvbG9yU3BhY2V9ICR7dmFsdWVzLmpvaW4oJyAnKX1gO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlcyA9IGAke3ZhbHVlcy5qb2luKCcsICcpfWA7XG4gIH1cblxuICByZXR1cm4gYCR7dHlwZX0oJHt2YWx1ZXN9KWA7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBDU1MgcmdiIGZvcm1hdCB0byBDU1MgaGV4IGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIFJHQiBjb2xvciwgaS5lLiByZ2IobiwgbiwgbilcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIHJnYiBjb2xvciBzdHJpbmcsIGkuZS4gI25ubm5ublxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci5pbmRleE9mKCcjJykgPT09IDApIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBjb25zdCB7XG4gICAgdmFsdWVzXG4gIH0gPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIHJldHVybiBgIyR7dmFsdWVzLm1hcCgobiwgaSkgPT4gaW50VG9IZXgoaSA9PT0gMyA/IE1hdGgucm91bmQoMjU1ICogbikgOiBuKSkuam9pbignJyl9YDtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIGhzbCBmb3JtYXQgdG8gcmdiIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIEhTTCBjb2xvciB2YWx1ZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJnYiBjb2xvciB2YWx1ZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaHNsVG9SZ2IoY29sb3IpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZXNcbiAgfSA9IGNvbG9yO1xuICBjb25zdCBoID0gdmFsdWVzWzBdO1xuICBjb25zdCBzID0gdmFsdWVzWzFdIC8gMTAwO1xuICBjb25zdCBsID0gdmFsdWVzWzJdIC8gMTAwO1xuICBjb25zdCBhID0gcyAqIE1hdGgubWluKGwsIDEgLSBsKTtcblxuICBjb25zdCBmID0gKG4sIGsgPSAobiArIGggLyAzMCkgJSAxMikgPT4gbCAtIGEgKiBNYXRoLm1heChNYXRoLm1pbihrIC0gMywgOSAtIGssIDEpLCAtMSk7XG5cbiAgbGV0IHR5cGUgPSAncmdiJztcbiAgY29uc3QgcmdiID0gW01hdGgucm91bmQoZigwKSAqIDI1NSksIE1hdGgucm91bmQoZig4KSAqIDI1NSksIE1hdGgucm91bmQoZig0KSAqIDI1NSldO1xuXG4gIGlmIChjb2xvci50eXBlID09PSAnaHNsYScpIHtcbiAgICB0eXBlICs9ICdhJztcbiAgICByZ2IucHVzaCh2YWx1ZXNbM10pO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKHtcbiAgICB0eXBlLFxuICAgIHZhbHVlczogcmdiXG4gIH0pO1xufVxuLyoqXG4gKiBUaGUgcmVsYXRpdmUgYnJpZ2h0bmVzcyBvZiBhbnkgcG9pbnQgaW4gYSBjb2xvciBzcGFjZSxcbiAqIG5vcm1hbGl6ZWQgdG8gMCBmb3IgZGFya2VzdCBibGFjayBhbmQgMSBmb3IgbGlnaHRlc3Qgd2hpdGUuXG4gKlxuICogRm9ybXVsYTogaHR0cHM6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9HMTcuaHRtbCNHMTctdGVzdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByZWxhdGl2ZSBicmlnaHRuZXNzIG9mIHRoZSBjb2xvciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0THVtaW5hbmNlKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBsZXQgcmdiID0gY29sb3IudHlwZSA9PT0gJ2hzbCcgPyBkZWNvbXBvc2VDb2xvcihoc2xUb1JnYihjb2xvcikpLnZhbHVlcyA6IGNvbG9yLnZhbHVlcztcbiAgcmdiID0gcmdiLm1hcCh2YWwgPT4ge1xuICAgIGlmIChjb2xvci50eXBlICE9PSAnY29sb3InKSB7XG4gICAgICB2YWwgLz0gMjU1OyAvLyBub3JtYWxpemVkXG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbCA8PSAwLjAzOTI4ID8gdmFsIC8gMTIuOTIgOiAoKHZhbCArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQ7XG4gIH0pOyAvLyBUcnVuY2F0ZSBhdCAzIGRpZ2l0c1xuXG4gIHJldHVybiBOdW1iZXIoKDAuMjEyNiAqIHJnYlswXSArIDAuNzE1MiAqIHJnYlsxXSArIDAuMDcyMiAqIHJnYlsyXSkudG9GaXhlZCgzKSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbnRyYXN0IHJhdGlvIGJldHdlZW4gdHdvIGNvbG9ycy5cbiAqXG4gKiBGb3JtdWxhOiBodHRwczovL3d3dy53My5vcmcvVFIvV0NBRzIwLVRFQ0hTL0cxNy5odG1sI0cxNy10ZXN0c1xuICogQHBhcmFtIHtzdHJpbmd9IGZvcmVncm91bmQgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgY29udHJhc3QgcmF0aW8gdmFsdWUgaW4gdGhlIHJhbmdlIDAgLSAyMS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhc3RSYXRpbyhmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKSB7XG4gIGNvbnN0IGx1bUEgPSBnZXRMdW1pbmFuY2UoZm9yZWdyb3VuZCk7XG4gIGNvbnN0IGx1bUIgPSBnZXRMdW1pbmFuY2UoYmFja2dyb3VuZCk7XG4gIHJldHVybiAoTWF0aC5tYXgobHVtQSwgbHVtQikgKyAwLjA1KSAvIChNYXRoLm1pbihsdW1BLCBsdW1CKSArIDAuMDUpO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBhYnNvbHV0ZSB0cmFuc3BhcmVuY3kgb2YgYSBjb2xvci5cbiAqIEFueSBleGlzdGluZyBhbHBoYSB2YWx1ZXMgYXJlIG92ZXJ3cml0dGVuLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdmFsdWUgdG8gc2V0IHRoZSBhbHBoYSBjaGFubmVsIHRvIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGEoY29sb3IsIHZhbHVlKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YWx1ZSA9IGNsYW1wKHZhbHVlKTtcblxuICBpZiAoY29sb3IudHlwZSA9PT0gJ3JnYicgfHwgY29sb3IudHlwZSA9PT0gJ2hzbCcpIHtcbiAgICBjb2xvci50eXBlICs9ICdhJztcbiAgfVxuXG4gIGlmIChjb2xvci50eXBlID09PSAnY29sb3InKSB7XG4gICAgY29sb3IudmFsdWVzWzNdID0gYC8ke3ZhbHVlfWA7XG4gIH0gZWxzZSB7XG4gICAgY29sb3IudmFsdWVzWzNdID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuLyoqXG4gKiBEYXJrZW5zIGEgY29sb3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQgLSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgY29lZmZpY2llbnQgPSBjbGFtcChjb2VmZmljaWVudCk7XG5cbiAgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZignaHNsJykgIT09IC0xKSB7XG4gICAgY29sb3IudmFsdWVzWzJdICo9IDEgLSBjb2VmZmljaWVudDtcbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ3JnYicpICE9PSAtMSB8fCBjb2xvci50eXBlLmluZGV4T2YoJ2NvbG9yJykgIT09IC0xKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGNvbG9yLnZhbHVlc1tpXSAqPSAxIC0gY29lZmZpY2llbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKGNvbG9yKTtcbn1cbi8qKlxuICogTGlnaHRlbnMgYSBjb2xvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKClcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2VmZmljaWVudCAtIG11bHRpcGxpZXIgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgY29lZmZpY2llbnQgPSBjbGFtcChjb2VmZmljaWVudCk7XG5cbiAgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZignaHNsJykgIT09IC0xKSB7XG4gICAgY29sb3IudmFsdWVzWzJdICs9ICgxMDAgLSBjb2xvci52YWx1ZXNbMl0pICogY29lZmZpY2llbnQ7XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgICAgY29sb3IudmFsdWVzW2ldICs9ICgyNTUgLSBjb2xvci52YWx1ZXNbaV0pICogY29lZmZpY2llbnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZignY29sb3InKSAhPT0gLTEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgICAgY29sb3IudmFsdWVzW2ldICs9ICgxIC0gY29sb3IudmFsdWVzW2ldKSAqIGNvZWZmaWNpZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWNvbXBvc2VDb2xvcihjb2xvcik7XG59XG4vKipcbiAqIERhcmtlbiBvciBsaWdodGVuIGEgY29sb3IsIGRlcGVuZGluZyBvbiBpdHMgbHVtaW5hbmNlLlxuICogTGlnaHQgY29sb3JzIGFyZSBkYXJrZW5lZCwgZGFyayBjb2xvcnMgYXJlIGxpZ2h0ZW5lZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKClcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2VmZmljaWVudD0wLjE1IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVtcGhhc2l6ZShjb2xvciwgY29lZmZpY2llbnQgPSAwLjE1KSB7XG4gIHJldHVybiBnZXRMdW1pbmFuY2UoY29sb3IpID4gMC41ID8gZGFya2VuKGNvbG9yLCBjb2VmZmljaWVudCkgOiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldFV0aWxpdHlDbGFzcywgY2xhc3Nlcykge1xuICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgT2JqZWN0LmtleXMoc2xvdHMpLmZvckVhY2goIC8vIGBPYmpldC5rZXlzKHNsb3RzKWAgY2FuJ3QgYmUgd2lkZXIgdGhhbiBgVGAgYmVjYXVzZSB3ZSBpbmZlciBgVGAgZnJvbSBgc2xvdHNgLlxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9wdWxsLzEyMjUzI2lzc3VlY29tbWVudC0yNjMxMzIyMDhcbiAgc2xvdCA9PiB7XG4gICAgb3V0cHV0W3Nsb3RdID0gc2xvdHNbc2xvdF0ucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICBpZiAoY2xhc3NlcyAmJiBjbGFzc2VzW2tleV0pIHtcbiAgICAgICAgICBhY2MucHVzaChjbGFzc2VzW2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWNjLnB1c2goZ2V0VXRpbGl0eUNsYXNzKGtleSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKS5qb2luKCcgJyk7XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufSIsImNvbnN0IGdsb2JhbFN0YXRlQ2xhc3Nlc01hcHBpbmcgPSB7XG4gIGFjdGl2ZTogJ011aS1hY3RpdmUnLFxuICBjaGVja2VkOiAnTXVpLWNoZWNrZWQnLFxuICBjb21wbGV0ZWQ6ICdNdWktY29tcGxldGVkJyxcbiAgZGlzYWJsZWQ6ICdNdWktZGlzYWJsZWQnLFxuICBlcnJvcjogJ011aS1lcnJvcicsXG4gIGV4cGFuZGVkOiAnTXVpLWV4cGFuZGVkJyxcbiAgZm9jdXNlZDogJ011aS1mb2N1c2VkJyxcbiAgZm9jdXNWaXNpYmxlOiAnTXVpLWZvY3VzVmlzaWJsZScsXG4gIHJlcXVpcmVkOiAnTXVpLXJlcXVpcmVkJyxcbiAgc2VsZWN0ZWQ6ICdNdWktc2VsZWN0ZWQnXG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCkge1xuICBjb25zdCBnbG9iYWxTdGF0ZUNsYXNzID0gZ2xvYmFsU3RhdGVDbGFzc2VzTWFwcGluZ1tzbG90XTtcbiAgcmV0dXJuIGdsb2JhbFN0YXRlQ2xhc3MgfHwgYCR7Y29tcG9uZW50TmFtZX0tJHtzbG90fWA7XG59IiwiaW1wb3J0IGdlbmVyYXRlVXRpbGl0eUNsYXNzIGZyb20gJy4uL2dlbmVyYXRlVXRpbGl0eUNsYXNzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoY29tcG9uZW50TmFtZSwgc2xvdHMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIHNsb3RzLmZvckVhY2goc2xvdCA9PiB7XG4gICAgcmVzdWx0W3Nsb3RdID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoY29tcG9uZW50TmFtZSwgc2xvdCk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWl4aW5zKGJyZWFrcG9pbnRzLCBzcGFjaW5nLCBtaXhpbnMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICB0b29sYmFyOiB7XG4gICAgICBtaW5IZWlnaHQ6IDU2LFxuICAgICAgW2Ake2JyZWFrcG9pbnRzLnVwKCd4cycpfSBhbmQgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpYF06IHtcbiAgICAgICAgbWluSGVpZ2h0OiA0OFxuICAgICAgfSxcbiAgICAgIFticmVha3BvaW50cy51cCgnc20nKV06IHtcbiAgICAgICAgbWluSGVpZ2h0OiA2NFxuICAgICAgfVxuICAgIH1cbiAgfSwgbWl4aW5zKTtcbn0iLCJjb25zdCBjb21tb24gPSB7XG4gIGJsYWNrOiAnIzAwMCcsXG4gIHdoaXRlOiAnI2ZmZidcbn07XG5leHBvcnQgZGVmYXVsdCBjb21tb247IiwiY29uc3QgZ3JleSA9IHtcbiAgNTA6ICcjZmFmYWZhJyxcbiAgMTAwOiAnI2Y1ZjVmNScsXG4gIDIwMDogJyNlZWVlZWUnLFxuICAzMDA6ICcjZTBlMGUwJyxcbiAgNDAwOiAnI2JkYmRiZCcsXG4gIDUwMDogJyM5ZTllOWUnLFxuICA2MDA6ICcjNzU3NTc1JyxcbiAgNzAwOiAnIzYxNjE2MScsXG4gIDgwMDogJyM0MjQyNDInLFxuICA5MDA6ICcjMjEyMTIxJyxcbiAgQTEwMDogJyNmNWY1ZjUnLFxuICBBMjAwOiAnI2VlZWVlZScsXG4gIEE0MDA6ICcjYmRiZGJkJyxcbiAgQTcwMDogJyM2MTYxNjEnXG59O1xuZXhwb3J0IGRlZmF1bHQgZ3JleTsiLCJjb25zdCBwdXJwbGUgPSB7XG4gIDUwOiAnI2YzZTVmNScsXG4gIDEwMDogJyNlMWJlZTcnLFxuICAyMDA6ICcjY2U5M2Q4JyxcbiAgMzAwOiAnI2JhNjhjOCcsXG4gIDQwMDogJyNhYjQ3YmMnLFxuICA1MDA6ICcjOWMyN2IwJyxcbiAgNjAwOiAnIzhlMjRhYScsXG4gIDcwMDogJyM3YjFmYTInLFxuICA4MDA6ICcjNmExYjlhJyxcbiAgOTAwOiAnIzRhMTQ4YycsXG4gIEExMDA6ICcjZWE4MGZjJyxcbiAgQTIwMDogJyNlMDQwZmInLFxuICBBNDAwOiAnI2Q1MDBmOScsXG4gIEE3MDA6ICcjYWEwMGZmJ1xufTtcbmV4cG9ydCBkZWZhdWx0IHB1cnBsZTsiLCJjb25zdCByZWQgPSB7XG4gIDUwOiAnI2ZmZWJlZScsXG4gIDEwMDogJyNmZmNkZDInLFxuICAyMDA6ICcjZWY5YTlhJyxcbiAgMzAwOiAnI2U1NzM3MycsXG4gIDQwMDogJyNlZjUzNTAnLFxuICA1MDA6ICcjZjQ0MzM2JyxcbiAgNjAwOiAnI2U1MzkzNScsXG4gIDcwMDogJyNkMzJmMmYnLFxuICA4MDA6ICcjYzYyODI4JyxcbiAgOTAwOiAnI2I3MWMxYycsXG4gIEExMDA6ICcjZmY4YTgwJyxcbiAgQTIwMDogJyNmZjUyNTInLFxuICBBNDAwOiAnI2ZmMTc0NCcsXG4gIEE3MDA6ICcjZDUwMDAwJ1xufTtcbmV4cG9ydCBkZWZhdWx0IHJlZDsiLCJjb25zdCBvcmFuZ2UgPSB7XG4gIDUwOiAnI2ZmZjNlMCcsXG4gIDEwMDogJyNmZmUwYjInLFxuICAyMDA6ICcjZmZjYzgwJyxcbiAgMzAwOiAnI2ZmYjc0ZCcsXG4gIDQwMDogJyNmZmE3MjYnLFxuICA1MDA6ICcjZmY5ODAwJyxcbiAgNjAwOiAnI2ZiOGMwMCcsXG4gIDcwMDogJyNmNTdjMDAnLFxuICA4MDA6ICcjZWY2YzAwJyxcbiAgOTAwOiAnI2U2NTEwMCcsXG4gIEExMDA6ICcjZmZkMTgwJyxcbiAgQTIwMDogJyNmZmFiNDAnLFxuICBBNDAwOiAnI2ZmOTEwMCcsXG4gIEE3MDA6ICcjZmY2ZDAwJ1xufTtcbmV4cG9ydCBkZWZhdWx0IG9yYW5nZTsiLCJjb25zdCBibHVlID0ge1xuICA1MDogJyNlM2YyZmQnLFxuICAxMDA6ICcjYmJkZWZiJyxcbiAgMjAwOiAnIzkwY2FmOScsXG4gIDMwMDogJyM2NGI1ZjYnLFxuICA0MDA6ICcjNDJhNWY1JyxcbiAgNTAwOiAnIzIxOTZmMycsXG4gIDYwMDogJyMxZTg4ZTUnLFxuICA3MDA6ICcjMTk3NmQyJyxcbiAgODAwOiAnIzE1NjVjMCcsXG4gIDkwMDogJyMwZDQ3YTEnLFxuICBBMTAwOiAnIzgyYjFmZicsXG4gIEEyMDA6ICcjNDQ4YWZmJyxcbiAgQTQwMDogJyMyOTc5ZmYnLFxuICBBNzAwOiAnIzI5NjJmZidcbn07XG5leHBvcnQgZGVmYXVsdCBibHVlOyIsImNvbnN0IGxpZ2h0Qmx1ZSA9IHtcbiAgNTA6ICcjZTFmNWZlJyxcbiAgMTAwOiAnI2IzZTVmYycsXG4gIDIwMDogJyM4MWQ0ZmEnLFxuICAzMDA6ICcjNGZjM2Y3JyxcbiAgNDAwOiAnIzI5YjZmNicsXG4gIDUwMDogJyMwM2E5ZjQnLFxuICA2MDA6ICcjMDM5YmU1JyxcbiAgNzAwOiAnIzAyODhkMScsXG4gIDgwMDogJyMwMjc3YmQnLFxuICA5MDA6ICcjMDE1NzliJyxcbiAgQTEwMDogJyM4MGQ4ZmYnLFxuICBBMjAwOiAnIzQwYzRmZicsXG4gIEE0MDA6ICcjMDBiMGZmJyxcbiAgQTcwMDogJyMwMDkxZWEnXG59O1xuZXhwb3J0IGRlZmF1bHQgbGlnaHRCbHVlOyIsImNvbnN0IGdyZWVuID0ge1xuICA1MDogJyNlOGY1ZTknLFxuICAxMDA6ICcjYzhlNmM5JyxcbiAgMjAwOiAnI2E1ZDZhNycsXG4gIDMwMDogJyM4MWM3ODQnLFxuICA0MDA6ICcjNjZiYjZhJyxcbiAgNTAwOiAnIzRjYWY1MCcsXG4gIDYwMDogJyM0M2EwNDcnLFxuICA3MDA6ICcjMzg4ZTNjJyxcbiAgODAwOiAnIzJlN2QzMicsXG4gIDkwMDogJyMxYjVlMjAnLFxuICBBMTAwOiAnI2I5ZjZjYScsXG4gIEEyMDA6ICcjNjlmMGFlJyxcbiAgQTQwMDogJyMwMGU2NzYnLFxuICBBNzAwOiAnIzAwYzg1Mydcbn07XG5leHBvcnQgZGVmYXVsdCBncmVlbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuaW1wb3J0IHsgZm9ybWF0TXVpRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQG11aS91dGlsc1wiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wibW9kZVwiLCBcImNvbnRyYXN0VGhyZXNob2xkXCIsIFwidG9uYWxPZmZzZXRcIl07XG5pbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IGRhcmtlbiwgZ2V0Q29udHJhc3RSYXRpbywgbGlnaHRlbiB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBjb21tb24gZnJvbSAnLi4vY29sb3JzL2NvbW1vbic7XG5pbXBvcnQgZ3JleSBmcm9tICcuLi9jb2xvcnMvZ3JleSc7XG5pbXBvcnQgcHVycGxlIGZyb20gJy4uL2NvbG9ycy9wdXJwbGUnO1xuaW1wb3J0IHJlZCBmcm9tICcuLi9jb2xvcnMvcmVkJztcbmltcG9ydCBvcmFuZ2UgZnJvbSAnLi4vY29sb3JzL29yYW5nZSc7XG5pbXBvcnQgYmx1ZSBmcm9tICcuLi9jb2xvcnMvYmx1ZSc7XG5pbXBvcnQgbGlnaHRCbHVlIGZyb20gJy4uL2NvbG9ycy9saWdodEJsdWUnO1xuaW1wb3J0IGdyZWVuIGZyb20gJy4uL2NvbG9ycy9ncmVlbic7XG5leHBvcnQgY29uc3QgbGlnaHQgPSB7XG4gIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgdGV4dC5cbiAgdGV4dDoge1xuICAgIC8vIFRoZSBtb3N0IGltcG9ydGFudCB0ZXh0LlxuICAgIHByaW1hcnk6ICdyZ2JhKDAsIDAsIDAsIDAuODcpJyxcbiAgICAvLyBTZWNvbmRhcnkgdGV4dC5cbiAgICBzZWNvbmRhcnk6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxuICAgIC8vIERpc2FibGVkIHRleHQgaGF2ZSBldmVuIGxvd2VyIHZpc3VhbCBwcm9taW5lbmNlLlxuICAgIGRpc2FibGVkOiAncmdiYSgwLCAwLCAwLCAwLjM4KSdcbiAgfSxcbiAgLy8gVGhlIGNvbG9yIHVzZWQgdG8gZGl2aWRlIGRpZmZlcmVudCBlbGVtZW50cy5cbiAgZGl2aWRlcjogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAvLyBUaGUgYmFja2dyb3VuZCBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgc3VyZmFjZXMuXG4gIC8vIENvbnNpc3RlbmN5IGJldHdlZW4gdGhlc2UgdmFsdWVzIGlzIGltcG9ydGFudC5cbiAgYmFja2dyb3VuZDoge1xuICAgIHBhcGVyOiBjb21tb24ud2hpdGUsXG4gICAgZGVmYXVsdDogY29tbW9uLndoaXRlXG4gIH0sXG4gIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgYWN0aW9uIGVsZW1lbnRzLlxuICBhY3Rpb246IHtcbiAgICAvLyBUaGUgY29sb3Igb2YgYW4gYWN0aXZlIGFjdGlvbiBsaWtlIGFuIGljb24gYnV0dG9uLlxuICAgIGFjdGl2ZTogJ3JnYmEoMCwgMCwgMCwgMC41NCknLFxuICAgIC8vIFRoZSBjb2xvciBvZiBhbiBob3ZlcmVkIGFjdGlvbi5cbiAgICBob3ZlcjogJ3JnYmEoMCwgMCwgMCwgMC4wNCknLFxuICAgIGhvdmVyT3BhY2l0eTogMC4wNCxcbiAgICAvLyBUaGUgY29sb3Igb2YgYSBzZWxlY3RlZCBhY3Rpb24uXG4gICAgc2VsZWN0ZWQ6ICdyZ2JhKDAsIDAsIDAsIDAuMDgpJyxcbiAgICBzZWxlY3RlZE9wYWNpdHk6IDAuMDgsXG4gICAgLy8gVGhlIGNvbG9yIG9mIGEgZGlzYWJsZWQgYWN0aW9uLlxuICAgIGRpc2FibGVkOiAncmdiYSgwLCAwLCAwLCAwLjI2KScsXG4gICAgLy8gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgYSBkaXNhYmxlZCBhY3Rpb24uXG4gICAgZGlzYWJsZWRCYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjEyKScsXG4gICAgZGlzYWJsZWRPcGFjaXR5OiAwLjM4LFxuICAgIGZvY3VzOiAncmdiYSgwLCAwLCAwLCAwLjEyKScsXG4gICAgZm9jdXNPcGFjaXR5OiAwLjEyLFxuICAgIGFjdGl2YXRlZE9wYWNpdHk6IDAuMTJcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBkYXJrID0ge1xuICB0ZXh0OiB7XG4gICAgcHJpbWFyeTogY29tbW9uLndoaXRlLFxuICAgIHNlY29uZGFyeTogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScsXG4gICAgZGlzYWJsZWQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgIGljb246ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknXG4gIH0sXG4gIGRpdmlkZXI6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgYmFja2dyb3VuZDoge1xuICAgIHBhcGVyOiAnIzEyMTIxMicsXG4gICAgZGVmYXVsdDogJyMxMjEyMTInXG4gIH0sXG4gIGFjdGlvbjoge1xuICAgIGFjdGl2ZTogY29tbW9uLndoaXRlLFxuICAgIGhvdmVyOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KScsXG4gICAgaG92ZXJPcGFjaXR5OiAwLjA4LFxuICAgIHNlbGVjdGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE2KScsXG4gICAgc2VsZWN0ZWRPcGFjaXR5OiAwLjE2LFxuICAgIGRpc2FibGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcbiAgICBkaXNhYmxlZEJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgICBkaXNhYmxlZE9wYWNpdHk6IDAuMzgsXG4gICAgZm9jdXM6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgICBmb2N1c09wYWNpdHk6IDAuMTIsXG4gICAgYWN0aXZhdGVkT3BhY2l0eTogMC4yNFxuICB9XG59O1xuXG5mdW5jdGlvbiBhZGRMaWdodE9yRGFyayhpbnRlbnQsIGRpcmVjdGlvbiwgc2hhZGUsIHRvbmFsT2Zmc2V0KSB7XG4gIGNvbnN0IHRvbmFsT2Zmc2V0TGlnaHQgPSB0b25hbE9mZnNldC5saWdodCB8fCB0b25hbE9mZnNldDtcbiAgY29uc3QgdG9uYWxPZmZzZXREYXJrID0gdG9uYWxPZmZzZXQuZGFyayB8fCB0b25hbE9mZnNldCAqIDEuNTtcblxuICBpZiAoIWludGVudFtkaXJlY3Rpb25dKSB7XG4gICAgaWYgKGludGVudC5oYXNPd25Qcm9wZXJ0eShzaGFkZSkpIHtcbiAgICAgIGludGVudFtkaXJlY3Rpb25dID0gaW50ZW50W3NoYWRlXTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2xpZ2h0Jykge1xuICAgICAgaW50ZW50LmxpZ2h0ID0gbGlnaHRlbihpbnRlbnQubWFpbiwgdG9uYWxPZmZzZXRMaWdodCk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkYXJrJykge1xuICAgICAgaW50ZW50LmRhcmsgPSBkYXJrZW4oaW50ZW50Lm1haW4sIHRvbmFsT2Zmc2V0RGFyayk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRQcmltYXJ5KG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogYmx1ZVsyMDBdLFxuICAgICAgbGlnaHQ6IGJsdWVbNTBdLFxuICAgICAgZGFyazogYmx1ZVs0MDBdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWFpbjogYmx1ZVs3MDBdLFxuICAgIGxpZ2h0OiBibHVlWzQwMF0sXG4gICAgZGFyazogYmx1ZVs4MDBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRTZWNvbmRhcnkobW9kZSA9ICdsaWdodCcpIHtcbiAgaWYgKG1vZGUgPT09ICdkYXJrJykge1xuICAgIHJldHVybiB7XG4gICAgICBtYWluOiBwdXJwbGVbMjAwXSxcbiAgICAgIGxpZ2h0OiBwdXJwbGVbNTBdLFxuICAgICAgZGFyazogcHVycGxlWzQwMF1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYWluOiBwdXJwbGVbNTAwXSxcbiAgICBsaWdodDogcHVycGxlWzMwMF0sXG4gICAgZGFyazogcHVycGxlWzcwMF1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEVycm9yKG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogcmVkWzUwMF0sXG4gICAgICBsaWdodDogcmVkWzMwMF0sXG4gICAgICBkYXJrOiByZWRbNzAwXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1haW46IHJlZFs3MDBdLFxuICAgIGxpZ2h0OiByZWRbNDAwXSxcbiAgICBkYXJrOiByZWRbODAwXVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0SW5mbyhtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IGxpZ2h0Qmx1ZVs0MDBdLFxuICAgICAgbGlnaHQ6IGxpZ2h0Qmx1ZVszMDBdLFxuICAgICAgZGFyazogbGlnaHRCbHVlWzcwMF1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYWluOiBsaWdodEJsdWVbNzAwXSxcbiAgICBsaWdodDogbGlnaHRCbHVlWzUwMF0sXG4gICAgZGFyazogbGlnaHRCbHVlWzkwMF1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFN1Y2Nlc3MobW9kZSA9ICdsaWdodCcpIHtcbiAgaWYgKG1vZGUgPT09ICdkYXJrJykge1xuICAgIHJldHVybiB7XG4gICAgICBtYWluOiBncmVlbls0MDBdLFxuICAgICAgbGlnaHQ6IGdyZWVuWzMwMF0sXG4gICAgICBkYXJrOiBncmVlbls3MDBdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWFpbjogZ3JlZW5bODAwXSxcbiAgICBsaWdodDogZ3JlZW5bNTAwXSxcbiAgICBkYXJrOiBncmVlbls5MDBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRXYXJuaW5nKG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogb3JhbmdlWzQwMF0sXG4gICAgICBsaWdodDogb3JhbmdlWzMwMF0sXG4gICAgICBkYXJrOiBvcmFuZ2VbNzAwXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1haW46ICcjRUQ2QzAyJyxcbiAgICAvLyBjbG9zZXN0IHRvIG9yYW5nZVs4MDBdIHRoYXQgcGFzcyAzOjEuXG4gICAgbGlnaHQ6IG9yYW5nZVs1MDBdLFxuICAgIGRhcms6IG9yYW5nZVs5MDBdXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVBhbGV0dGUocGFsZXR0ZSkge1xuICBjb25zdCB7XG4gICAgbW9kZSA9ICdsaWdodCcsXG4gICAgY29udHJhc3RUaHJlc2hvbGQgPSAzLFxuICAgIHRvbmFsT2Zmc2V0ID0gMC4yXG4gIH0gPSBwYWxldHRlLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHBhbGV0dGUsIF9leGNsdWRlZCk7XG5cbiAgY29uc3QgcHJpbWFyeSA9IHBhbGV0dGUucHJpbWFyeSB8fCBnZXREZWZhdWx0UHJpbWFyeShtb2RlKTtcbiAgY29uc3Qgc2Vjb25kYXJ5ID0gcGFsZXR0ZS5zZWNvbmRhcnkgfHwgZ2V0RGVmYXVsdFNlY29uZGFyeShtb2RlKTtcbiAgY29uc3QgZXJyb3IgPSBwYWxldHRlLmVycm9yIHx8IGdldERlZmF1bHRFcnJvcihtb2RlKTtcbiAgY29uc3QgaW5mbyA9IHBhbGV0dGUuaW5mbyB8fCBnZXREZWZhdWx0SW5mbyhtb2RlKTtcbiAgY29uc3Qgc3VjY2VzcyA9IHBhbGV0dGUuc3VjY2VzcyB8fCBnZXREZWZhdWx0U3VjY2Vzcyhtb2RlKTtcbiAgY29uc3Qgd2FybmluZyA9IHBhbGV0dGUud2FybmluZyB8fCBnZXREZWZhdWx0V2FybmluZyhtb2RlKTsgLy8gVXNlIHRoZSBzYW1lIGxvZ2ljIGFzXG4gIC8vIEJvb3RzdHJhcDogaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvMWQ2ZTM3MTBkZDQ0N2RlMWEyMDBmMjllOGZhNTIxZjhhMDkwOGY3MC9zY3NzL19mdW5jdGlvbnMuc2NzcyNMNTlcbiAgLy8gYW5kIG1hdGVyaWFsLWNvbXBvbmVudHMtd2ViIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbC1jb21wb25lbnRzL21hdGVyaWFsLWNvbXBvbmVudHMtd2ViL2Jsb2IvYWM0NmI4ODYzYzRkYWI5ZmMyMmM0YzY2MmRjNmJkMWI2NWRkNjUyZi9wYWNrYWdlcy9tZGMtdGhlbWUvX2Z1bmN0aW9ucy5zY3NzI0w1NFxuXG4gIGZ1bmN0aW9uIGdldENvbnRyYXN0VGV4dChiYWNrZ3JvdW5kKSB7XG4gICAgY29uc3QgY29udHJhc3RUZXh0ID0gZ2V0Q29udHJhc3RSYXRpbyhiYWNrZ3JvdW5kLCBkYXJrLnRleHQucHJpbWFyeSkgPj0gY29udHJhc3RUaHJlc2hvbGQgPyBkYXJrLnRleHQucHJpbWFyeSA6IGxpZ2h0LnRleHQucHJpbWFyeTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zdCBjb250cmFzdCA9IGdldENvbnRyYXN0UmF0aW8oYmFja2dyb3VuZCwgY29udHJhc3RUZXh0KTtcblxuICAgICAgaWYgKGNvbnRyYXN0IDwgMykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgY29udHJhc3QgcmF0aW8gb2YgJHtjb250cmFzdH06MSBmb3IgJHtjb250cmFzdFRleHR9IG9uICR7YmFja2dyb3VuZH1gLCAnZmFsbHMgYmVsb3cgdGhlIFdDQUcgcmVjb21tZW5kZWQgYWJzb2x1dGUgbWluaW11bSBjb250cmFzdCByYXRpbyBvZiAzOjEuJywgJ2h0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3Zpc3VhbC1hdWRpby1jb250cmFzdC1jb250cmFzdCddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29udHJhc3RUZXh0O1xuICB9XG5cbiAgY29uc3QgYXVnbWVudENvbG9yID0gKHtcbiAgICBjb2xvcixcbiAgICBuYW1lLFxuICAgIG1haW5TaGFkZSA9IDUwMCxcbiAgICBsaWdodFNoYWRlID0gMzAwLFxuICAgIGRhcmtTaGFkZSA9IDcwMFxuICB9KSA9PiB7XG4gICAgY29sb3IgPSBfZXh0ZW5kcyh7fSwgY29sb3IpO1xuXG4gICAgaWYgKCFjb2xvci5tYWluICYmIGNvbG9yW21haW5TaGFkZV0pIHtcbiAgICAgIGNvbG9yLm1haW4gPSBjb2xvclttYWluU2hhZGVdO1xuICAgIH1cblxuICAgIGlmICghY29sb3IuaGFzT3duUHJvcGVydHkoJ21haW4nKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGBNVUk6IFRoZSBjb2xvciR7bmFtZSA/IGAgKCR7bmFtZX0pYCA6ICcnfSBwcm92aWRlZCB0byBhdWdtZW50Q29sb3IoY29sb3IpIGlzIGludmFsaWQuXG5UaGUgY29sb3Igb2JqZWN0IG5lZWRzIHRvIGhhdmUgYSBcXGBtYWluXFxgIHByb3BlcnR5IG9yIGEgXFxgJHttYWluU2hhZGV9XFxgIHByb3BlcnR5LmAgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDExLCBuYW1lID8gYCAoJHtuYW1lfSlgIDogJycsIG1haW5TaGFkZSkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29sb3IubWFpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBUaGUgY29sb3Ike25hbWUgPyBgICgke25hbWV9KWAgOiAnJ30gcHJvdmlkZWQgdG8gYXVnbWVudENvbG9yKGNvbG9yKSBpcyBpbnZhbGlkLlxuXFxgY29sb3IubWFpblxcYCBzaG91bGQgYmUgYSBzdHJpbmcsIGJ1dCBcXGAke0pTT04uc3RyaW5naWZ5KGNvbG9yLm1haW4pfVxcYCB3YXMgcHJvdmlkZWQgaW5zdGVhZC5cblxuRGlkIHlvdSBpbnRlbmQgdG8gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIGFwcHJvYWNoZXM/XG5cbmltcG9ydCB7IGdyZWVuIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWwvY29sb3JzXCI7XG5cbmNvbnN0IHRoZW1lMSA9IGNyZWF0ZVRoZW1lKHsgcGFsZXR0ZToge1xuICBwcmltYXJ5OiBncmVlbixcbn0gfSk7XG5cbmNvbnN0IHRoZW1lMiA9IGNyZWF0ZVRoZW1lKHsgcGFsZXR0ZToge1xuICBwcmltYXJ5OiB7IG1haW46IGdyZWVuWzUwMF0gfSxcbn0gfSk7YCA6IF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UoMTIsIG5hbWUgPyBgICgke25hbWV9KWAgOiAnJywgSlNPTi5zdHJpbmdpZnkoY29sb3IubWFpbikpKTtcbiAgICB9XG5cbiAgICBhZGRMaWdodE9yRGFyayhjb2xvciwgJ2xpZ2h0JywgbGlnaHRTaGFkZSwgdG9uYWxPZmZzZXQpO1xuICAgIGFkZExpZ2h0T3JEYXJrKGNvbG9yLCAnZGFyaycsIGRhcmtTaGFkZSwgdG9uYWxPZmZzZXQpO1xuXG4gICAgaWYgKCFjb2xvci5jb250cmFzdFRleHQpIHtcbiAgICAgIGNvbG9yLmNvbnRyYXN0VGV4dCA9IGdldENvbnRyYXN0VGV4dChjb2xvci5tYWluKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG4gIH07XG5cbiAgY29uc3QgbW9kZXMgPSB7XG4gICAgZGFyayxcbiAgICBsaWdodFxuICB9O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCFtb2Rlc1ttb2RlXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBUaGUgcGFsZXR0ZSBtb2RlIFxcYCR7bW9kZX1cXGAgaXMgbm90IHN1cHBvcnRlZC5gKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBwYWxldHRlT3V0cHV0ID0gZGVlcG1lcmdlKF9leHRlbmRzKHtcbiAgICAvLyBBIGNvbGxlY3Rpb24gb2YgY29tbW9uIGNvbG9ycy5cbiAgICBjb21tb24sXG4gICAgLy8gVGhlIHBhbGV0dGUgbW9kZSwgY2FuIGJlIGxpZ2h0IG9yIGRhcmsuXG4gICAgbW9kZSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IHByaW1hcnkgaW50ZXJmYWNlIGVsZW1lbnRzIGZvciBhIHVzZXIuXG4gICAgcHJpbWFyeTogYXVnbWVudENvbG9yKHtcbiAgICAgIGNvbG9yOiBwcmltYXJ5LFxuICAgICAgbmFtZTogJ3ByaW1hcnknXG4gICAgfSksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBzZWNvbmRhcnkgaW50ZXJmYWNlIGVsZW1lbnRzIGZvciBhIHVzZXIuXG4gICAgc2Vjb25kYXJ5OiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IHNlY29uZGFyeSxcbiAgICAgIG5hbWU6ICdzZWNvbmRhcnknLFxuICAgICAgbWFpblNoYWRlOiAnQTQwMCcsXG4gICAgICBsaWdodFNoYWRlOiAnQTIwMCcsXG4gICAgICBkYXJrU2hhZGU6ICdBNzAwJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgaW50ZXJmYWNlIGVsZW1lbnRzIHRoYXQgdGhlIHVzZXIgc2hvdWxkIGJlIG1hZGUgYXdhcmUgb2YuXG4gICAgZXJyb3I6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogZXJyb3IsXG4gICAgICBuYW1lOiAnZXJyb3InXG4gICAgfSksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgYWN0aW9ucyBvciBpbXBvcnRhbnQgbWVzc2FnZXMuXG4gICAgd2FybmluZzogYXVnbWVudENvbG9yKHtcbiAgICAgIGNvbG9yOiB3YXJuaW5nLFxuICAgICAgbmFtZTogJ3dhcm5pbmcnXG4gICAgfSksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHByZXNlbnQgaW5mb3JtYXRpb24gdG8gdGhlIHVzZXIgdGhhdCBpcyBuZXV0cmFsIGFuZCBub3QgbmVjZXNzYXJpbHkgaW1wb3J0YW50LlxuICAgIGluZm86IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogaW5mbyxcbiAgICAgIG5hbWU6ICdpbmZvJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBpbmRpY2F0ZSB0aGUgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uIG9mIGFuIGFjdGlvbiB0aGF0IHVzZXIgdHJpZ2dlcmVkLlxuICAgIHN1Y2Nlc3M6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogc3VjY2VzcyxcbiAgICAgIG5hbWU6ICdzdWNjZXNzJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBncmV5IGNvbG9ycy5cbiAgICBncmV5LFxuICAgIC8vIFVzZWQgYnkgYGdldENvbnRyYXN0VGV4dCgpYCB0byBtYXhpbWl6ZSB0aGUgY29udHJhc3QgYmV0d2VlblxuICAgIC8vIHRoZSBiYWNrZ3JvdW5kIGFuZCB0aGUgdGV4dC5cbiAgICBjb250cmFzdFRocmVzaG9sZCxcbiAgICAvLyBUYWtlcyBhIGJhY2tncm91bmQgY29sb3IgYW5kIHJldHVybnMgdGhlIHRleHQgY29sb3IgdGhhdCBtYXhpbWl6ZXMgdGhlIGNvbnRyYXN0LlxuICAgIGdldENvbnRyYXN0VGV4dCxcbiAgICAvLyBHZW5lcmF0ZSBhIHJpY2ggY29sb3Igb2JqZWN0LlxuICAgIGF1Z21lbnRDb2xvcixcbiAgICAvLyBVc2VkIGJ5IHRoZSBmdW5jdGlvbnMgYmVsb3cgdG8gc2hpZnQgYSBjb2xvcidzIGx1bWluYW5jZSBieSBhcHByb3hpbWF0ZWx5XG4gICAgLy8gdHdvIGluZGV4ZXMgd2l0aGluIGl0cyB0b25hbCBwYWxldHRlLlxuICAgIC8vIEUuZy4sIHNoaWZ0IGZyb20gUmVkIDUwMCB0byBSZWQgMzAwIG9yIFJlZCA3MDAuXG4gICAgdG9uYWxPZmZzZXRcbiAgfSwgbW9kZXNbbW9kZV0pLCBvdGhlcik7XG4gIHJldHVybiBwYWxldHRlT3V0cHV0O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJmb250RmFtaWx5XCIsIFwiZm9udFNpemVcIiwgXCJmb250V2VpZ2h0TGlnaHRcIiwgXCJmb250V2VpZ2h0UmVndWxhclwiLCBcImZvbnRXZWlnaHRNZWRpdW1cIiwgXCJmb250V2VpZ2h0Qm9sZFwiLCBcImh0bWxGb250U2l6ZVwiLCBcImFsbFZhcmlhbnRzXCIsIFwicHhUb1JlbVwiXTtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiByb3VuZCh2YWx1ZSkge1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDFlNSkgLyAxZTU7XG59XG5cbmNvbnN0IGNhc2VBbGxDYXBzID0ge1xuICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xufTtcbmNvbnN0IGRlZmF1bHRGb250RmFtaWx5ID0gJ1wiUm9ib3RvXCIsIFwiSGVsdmV0aWNhXCIsIFwiQXJpYWxcIiwgc2Fucy1zZXJpZic7XG4vKipcbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS90aGUtdHlwZS1zeXN0ZW0uaHRtbH1cbiAqIEBzZWUgQGxpbmt7aHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vdHlwb2dyYXBoeS91bmRlcnN0YW5kaW5nLXR5cG9ncmFwaHkuaHRtbH1cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVUeXBvZ3JhcGh5KHBhbGV0dGUsIHR5cG9ncmFwaHkpIHtcbiAgY29uc3QgX3JlZiA9IHR5cGVvZiB0eXBvZ3JhcGh5ID09PSAnZnVuY3Rpb24nID8gdHlwb2dyYXBoeShwYWxldHRlKSA6IHR5cG9ncmFwaHksXG4gICAgICAgIHtcbiAgICBmb250RmFtaWx5ID0gZGVmYXVsdEZvbnRGYW1pbHksXG4gICAgLy8gVGhlIGRlZmF1bHQgZm9udCBzaXplIG9mIHRoZSBNYXRlcmlhbCBTcGVjaWZpY2F0aW9uLlxuICAgIGZvbnRTaXplID0gMTQsXG4gICAgLy8gcHhcbiAgICBmb250V2VpZ2h0TGlnaHQgPSAzMDAsXG4gICAgZm9udFdlaWdodFJlZ3VsYXIgPSA0MDAsXG4gICAgZm9udFdlaWdodE1lZGl1bSA9IDUwMCxcbiAgICBmb250V2VpZ2h0Qm9sZCA9IDcwMCxcbiAgICAvLyBUZWxsIE1VSSB3aGF0J3MgdGhlIGZvbnQtc2l6ZSBvbiB0aGUgaHRtbCBlbGVtZW50LlxuICAgIC8vIDE2cHggaXMgdGhlIGRlZmF1bHQgZm9udC1zaXplIHVzZWQgYnkgYnJvd3NlcnMuXG4gICAgaHRtbEZvbnRTaXplID0gMTYsXG4gICAgLy8gQXBwbHkgdGhlIENTUyBwcm9wZXJ0aWVzIHRvIGFsbCB0aGUgdmFyaWFudHMuXG4gICAgYWxsVmFyaWFudHMsXG4gICAgcHhUb1JlbTogcHhUb1JlbTJcbiAgfSA9IF9yZWYsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgZm9udFNpemUgIT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNVUk6IGBmb250U2l6ZWAgaXMgcmVxdWlyZWQgdG8gYmUgYSBudW1iZXIuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBodG1sRm9udFNpemUgIT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNVUk6IGBodG1sRm9udFNpemVgIGlzIHJlcXVpcmVkIHRvIGJlIGEgbnVtYmVyLicpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvZWYgPSBmb250U2l6ZSAvIDE0O1xuXG4gIGNvbnN0IHB4VG9SZW0gPSBweFRvUmVtMiB8fCAoc2l6ZSA9PiBgJHtzaXplIC8gaHRtbEZvbnRTaXplICogY29lZn1yZW1gKTtcblxuICBjb25zdCBidWlsZFZhcmlhbnQgPSAoZm9udFdlaWdodCwgc2l6ZSwgbGluZUhlaWdodCwgbGV0dGVyU3BhY2luZywgY2FzaW5nKSA9PiBfZXh0ZW5kcyh7XG4gICAgZm9udEZhbWlseSxcbiAgICBmb250V2VpZ2h0LFxuICAgIGZvbnRTaXplOiBweFRvUmVtKHNpemUpLFxuICAgIC8vIFVuaXRsZXNzIGZvbGxvd2luZyBodHRwczovL21leWVyd2ViLmNvbS9lcmljL3Rob3VnaHRzLzIwMDYvMDIvMDgvdW5pdGxlc3MtbGluZS1oZWlnaHRzL1xuICAgIGxpbmVIZWlnaHRcbiAgfSwgZm9udEZhbWlseSA9PT0gZGVmYXVsdEZvbnRGYW1pbHkgPyB7XG4gICAgbGV0dGVyU3BhY2luZzogYCR7cm91bmQobGV0dGVyU3BhY2luZyAvIHNpemUpfWVtYFxuICB9IDoge30sIGNhc2luZywgYWxsVmFyaWFudHMpO1xuXG4gIGNvbnN0IHZhcmlhbnRzID0ge1xuICAgIGgxOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodExpZ2h0LCA5NiwgMS4xNjcsIC0xLjUpLFxuICAgIGgyOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodExpZ2h0LCA2MCwgMS4yLCAtMC41KSxcbiAgICBoMzogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCA0OCwgMS4xNjcsIDApLFxuICAgIGg0OiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDM0LCAxLjIzNSwgMC4yNSksXG4gICAgaDU6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMjQsIDEuMzM0LCAwKSxcbiAgICBoNjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRNZWRpdW0sIDIwLCAxLjYsIDAuMTUpLFxuICAgIHN1YnRpdGxlMTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNiwgMS43NSwgMC4xNSksXG4gICAgc3VidGl0bGUyOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMTQsIDEuNTcsIDAuMSksXG4gICAgYm9keTE6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTYsIDEuNSwgMC4xNSksXG4gICAgYm9keTI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTQsIDEuNDMsIDAuMTUpLFxuICAgIGJ1dHRvbjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRNZWRpdW0sIDE0LCAxLjc1LCAwLjQsIGNhc2VBbGxDYXBzKSxcbiAgICBjYXB0aW9uOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDEyLCAxLjY2LCAwLjQpLFxuICAgIG92ZXJsaW5lOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDEyLCAyLjY2LCAxLCBjYXNlQWxsQ2FwcylcbiAgfTtcbiAgcmV0dXJuIGRlZXBtZXJnZShfZXh0ZW5kcyh7XG4gICAgaHRtbEZvbnRTaXplLFxuICAgIHB4VG9SZW0sXG4gICAgZm9udEZhbWlseSxcbiAgICBmb250U2l6ZSxcbiAgICBmb250V2VpZ2h0TGlnaHQsXG4gICAgZm9udFdlaWdodFJlZ3VsYXIsXG4gICAgZm9udFdlaWdodE1lZGl1bSxcbiAgICBmb250V2VpZ2h0Qm9sZFxuICB9LCB2YXJpYW50cyksIG90aGVyLCB7XG4gICAgY2xvbmU6IGZhbHNlIC8vIE5vIG5lZWQgdG8gY2xvbmUgZGVlcFxuXG4gIH0pO1xufSIsImNvbnN0IHNoYWRvd0tleVVtYnJhT3BhY2l0eSA9IDAuMjtcbmNvbnN0IHNoYWRvd0tleVBlbnVtYnJhT3BhY2l0eSA9IDAuMTQ7XG5jb25zdCBzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSA9IDAuMTI7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNoYWRvdyguLi5weCkge1xuICByZXR1cm4gW2Ake3B4WzBdfXB4ICR7cHhbMV19cHggJHtweFsyXX1weCAke3B4WzNdfXB4IHJnYmEoMCwwLDAsJHtzaGFkb3dLZXlVbWJyYU9wYWNpdHl9KWAsIGAke3B4WzRdfXB4ICR7cHhbNV19cHggJHtweFs2XX1weCAke3B4WzddfXB4IHJnYmEoMCwwLDAsJHtzaGFkb3dLZXlQZW51bWJyYU9wYWNpdHl9KWAsIGAke3B4WzhdfXB4ICR7cHhbOV19cHggJHtweFsxMF19cHggJHtweFsxMV19cHggcmdiYSgwLDAsMCwke3NoYWRvd0FtYmllbnRTaGFkb3dPcGFjaXR5fSlgXS5qb2luKCcsJyk7XG59IC8vIFZhbHVlcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbC1jb21wb25lbnRzL21hdGVyaWFsLWNvbXBvbmVudHMtd2ViL2Jsb2IvYmU4NzQ3Zjk0NTc0NjY5Y2I1ZTdhZGQxYTdjNTRmYTQxYTg5Y2VjNy9wYWNrYWdlcy9tZGMtZWxldmF0aW9uL192YXJpYWJsZXMuc2Nzc1xuXG5cbmNvbnN0IHNoYWRvd3MgPSBbJ25vbmUnLCBjcmVhdGVTaGFkb3coMCwgMiwgMSwgLTEsIDAsIDEsIDEsIDAsIDAsIDEsIDMsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMSwgLTIsIDAsIDIsIDIsIDAsIDAsIDEsIDUsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgMywgLTIsIDAsIDMsIDQsIDAsIDAsIDEsIDgsIDApLCBjcmVhdGVTaGFkb3coMCwgMiwgNCwgLTEsIDAsIDQsIDUsIDAsIDAsIDEsIDEwLCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDUsIC0xLCAwLCA1LCA4LCAwLCAwLCAxLCAxNCwgMCksIGNyZWF0ZVNoYWRvdygwLCAzLCA1LCAtMSwgMCwgNiwgMTAsIDAsIDAsIDEsIDE4LCAwKSwgY3JlYXRlU2hhZG93KDAsIDQsIDUsIC0yLCAwLCA3LCAxMCwgMSwgMCwgMiwgMTYsIDEpLCBjcmVhdGVTaGFkb3coMCwgNSwgNSwgLTMsIDAsIDgsIDEwLCAxLCAwLCAzLCAxNCwgMiksIGNyZWF0ZVNoYWRvdygwLCA1LCA2LCAtMywgMCwgOSwgMTIsIDEsIDAsIDMsIDE2LCAyKSwgY3JlYXRlU2hhZG93KDAsIDYsIDYsIC0zLCAwLCAxMCwgMTQsIDEsIDAsIDQsIDE4LCAzKSwgY3JlYXRlU2hhZG93KDAsIDYsIDcsIC00LCAwLCAxMSwgMTUsIDEsIDAsIDQsIDIwLCAzKSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMiwgMTcsIDIsIDAsIDUsIDIyLCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDgsIC00LCAwLCAxMywgMTksIDIsIDAsIDUsIDI0LCA0KSwgY3JlYXRlU2hhZG93KDAsIDcsIDksIC00LCAwLCAxNCwgMjEsIDIsIDAsIDUsIDI2LCA0KSwgY3JlYXRlU2hhZG93KDAsIDgsIDksIC01LCAwLCAxNSwgMjIsIDIsIDAsIDYsIDI4LCA1KSwgY3JlYXRlU2hhZG93KDAsIDgsIDEwLCAtNSwgMCwgMTYsIDI0LCAyLCAwLCA2LCAzMCwgNSksIGNyZWF0ZVNoYWRvdygwLCA4LCAxMSwgLTUsIDAsIDE3LCAyNiwgMiwgMCwgNiwgMzIsIDUpLCBjcmVhdGVTaGFkb3coMCwgOSwgMTEsIC01LCAwLCAxOCwgMjgsIDIsIDAsIDcsIDM0LCA2KSwgY3JlYXRlU2hhZG93KDAsIDksIDEyLCAtNiwgMCwgMTksIDI5LCAyLCAwLCA3LCAzNiwgNiksIGNyZWF0ZVNoYWRvdygwLCAxMCwgMTMsIC02LCAwLCAyMCwgMzEsIDMsIDAsIDgsIDM4LCA3KSwgY3JlYXRlU2hhZG93KDAsIDEwLCAxMywgLTYsIDAsIDIxLCAzMywgMywgMCwgOCwgNDAsIDcpLCBjcmVhdGVTaGFkb3coMCwgMTAsIDE0LCAtNiwgMCwgMjIsIDM1LCAzLCAwLCA4LCA0MiwgNyksIGNyZWF0ZVNoYWRvdygwLCAxMSwgMTQsIC03LCAwLCAyMywgMzYsIDMsIDAsIDksIDQ0LCA4KSwgY3JlYXRlU2hhZG93KDAsIDExLCAxNSwgLTcsIDAsIDI0LCAzOCwgMywgMCwgOSwgNDYsIDgpXTtcbmV4cG9ydCBkZWZhdWx0IHNoYWRvd3M7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImR1cmF0aW9uXCIsIFwiZWFzaW5nXCIsIFwiZGVsYXlcIl07XG4vLyBGb2xsb3cgaHR0cHM6Ly9tYXRlcmlhbC5nb29nbGUuY29tL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctbmF0dXJhbC1lYXNpbmctY3VydmVzXG4vLyB0byBsZWFybiB0aGUgY29udGV4dCBpbiB3aGljaCBlYWNoIGVhc2luZyBzaG91bGQgYmUgdXNlZC5cbmV4cG9ydCBjb25zdCBlYXNpbmcgPSB7XG4gIC8vIFRoaXMgaXMgdGhlIG1vc3QgY29tbW9uIGVhc2luZyBjdXJ2ZS5cbiAgZWFzZUluT3V0OiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgZW50ZXIgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5IGZyb20gb2ZmLXNjcmVlbiBhbmRcbiAgLy8gc2xvd2x5IGRlY2VsZXJhdGUgdG8gYSByZXN0aW5nIHBvaW50LlxuICBlYXNlT3V0OiAnY3ViaWMtYmV6aWVyKDAuMCwgMCwgMC4yLCAxKScsXG4gIC8vIE9iamVjdHMgbGVhdmUgdGhlIHNjcmVlbiBhdCBmdWxsIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCBkZWNlbGVyYXRlIHdoZW4gb2ZmLXNjcmVlbi5cbiAgZWFzZUluOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSknLFxuICAvLyBUaGUgc2hhcnAgY3VydmUgaXMgdXNlZCBieSBvYmplY3RzIHRoYXQgbWF5IHJldHVybiB0byB0aGUgc2NyZWVuIGF0IGFueSB0aW1lLlxuICBzaGFycDogJ2N1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSknXG59OyAvLyBGb2xsb3cgaHR0cHM6Ly9tYXRlcmlhbC5pby9ndWlkZWxpbmVzL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctY29tbW9uLWR1cmF0aW9uc1xuLy8gdG8gbGVhcm4gd2hlbiB1c2Ugd2hhdCB0aW1pbmdcblxuZXhwb3J0IGNvbnN0IGR1cmF0aW9uID0ge1xuICBzaG9ydGVzdDogMTUwLFxuICBzaG9ydGVyOiAyMDAsXG4gIHNob3J0OiAyNTAsXG4gIC8vIG1vc3QgYmFzaWMgcmVjb21tZW5kZWQgdGltaW5nXG4gIHN0YW5kYXJkOiAzMDAsXG4gIC8vIHRoaXMgaXMgdG8gYmUgdXNlZCBpbiBjb21wbGV4IGFuaW1hdGlvbnNcbiAgY29tcGxleDogMzc1LFxuICAvLyByZWNvbW1lbmRlZCB3aGVuIHNvbWV0aGluZyBpcyBlbnRlcmluZyBzY3JlZW5cbiAgZW50ZXJpbmdTY3JlZW46IDIyNSxcbiAgLy8gcmVjb21tZW5kZWQgd2hlbiBzb21ldGhpbmcgaXMgbGVhdmluZyBzY3JlZW5cbiAgbGVhdmluZ1NjcmVlbjogMTk1XG59O1xuXG5mdW5jdGlvbiBmb3JtYXRNcyhtaWxsaXNlY29uZHMpIHtcbiAgcmV0dXJuIGAke01hdGgucm91bmQobWlsbGlzZWNvbmRzKX1tc2A7XG59XG5cbmZ1bmN0aW9uIGdldEF1dG9IZWlnaHREdXJhdGlvbihoZWlnaHQpIHtcbiAgaWYgKCFoZWlnaHQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGNvbnN0IGNvbnN0YW50ID0gaGVpZ2h0IC8gMzY7IC8vIGh0dHBzOi8vd3d3LndvbGZyYW1hbHBoYS5jb20vaW5wdXQvP2k9KDQrJTJCKzE1KyorKHgrJTJGKzM2KykrKiorMC4yNSslMkIrKHgrJTJGKzM2KSslMkYrNSkrKisxMFxuXG4gIHJldHVybiBNYXRoLnJvdW5kKCg0ICsgMTUgKiBjb25zdGFudCAqKiAwLjI1ICsgY29uc3RhbnQgLyA1KSAqIDEwKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbnMoaW5wdXRUcmFuc2l0aW9ucykge1xuICBjb25zdCBtZXJnZWRFYXNpbmcgPSBfZXh0ZW5kcyh7fSwgZWFzaW5nLCBpbnB1dFRyYW5zaXRpb25zLmVhc2luZyk7XG5cbiAgY29uc3QgbWVyZ2VkRHVyYXRpb24gPSBfZXh0ZW5kcyh7fSwgZHVyYXRpb24sIGlucHV0VHJhbnNpdGlvbnMuZHVyYXRpb24pO1xuXG4gIGNvbnN0IGNyZWF0ZSA9IChwcm9wcyA9IFsnYWxsJ10sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbk9wdGlvbiA9IG1lcmdlZER1cmF0aW9uLnN0YW5kYXJkLFxuICAgICAgZWFzaW5nOiBlYXNpbmdPcHRpb24gPSBtZXJnZWRFYXNpbmcuZWFzZUluT3V0LFxuICAgICAgZGVsYXkgPSAwXG4gICAgfSA9IG9wdGlvbnMsXG4gICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShvcHRpb25zLCBfZXhjbHVkZWQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGlzU3RyaW5nID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJzsgLy8gSUUxMSBzdXBwb3J0LCByZXBsYWNlIHdpdGggTnVtYmVyLmlzTmFOXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG5cblxuICAgICAgY29uc3QgaXNOdW1iZXIgPSB2YWx1ZSA9PiAhaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpO1xuXG4gICAgICBpZiAoIWlzU3RyaW5nKHByb3BzKSAmJiAhQXJyYXkuaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTVVJOiBBcmd1bWVudCBcInByb3BzXCIgbXVzdCBiZSBhIHN0cmluZyBvciBBcnJheS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihkdXJhdGlvbk9wdGlvbikgJiYgIWlzU3RyaW5nKGR1cmF0aW9uT3B0aW9uKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBNVUk6IEFyZ3VtZW50IFwiZHVyYXRpb25cIiBtdXN0IGJlIGEgbnVtYmVyIG9yIGEgc3RyaW5nIGJ1dCBmb3VuZCAke2R1cmF0aW9uT3B0aW9ufS5gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1N0cmluZyhlYXNpbmdPcHRpb24pKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogQXJndW1lbnQgXCJlYXNpbmdcIiBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGRlbGF5KSAmJiAhaXNTdHJpbmcoZGVsYXkpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogQXJndW1lbnQgXCJkZWxheVwiIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmcuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhvdGhlcikubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVW5yZWNvZ25pemVkIGFyZ3VtZW50KHMpIFske09iamVjdC5rZXlzKG90aGVyKS5qb2luKCcsJyl9XS5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBbcHJvcHNdKS5tYXAoYW5pbWF0ZWRQcm9wID0+IGAke2FuaW1hdGVkUHJvcH0gJHt0eXBlb2YgZHVyYXRpb25PcHRpb24gPT09ICdzdHJpbmcnID8gZHVyYXRpb25PcHRpb24gOiBmb3JtYXRNcyhkdXJhdGlvbk9wdGlvbil9ICR7ZWFzaW5nT3B0aW9ufSAke3R5cGVvZiBkZWxheSA9PT0gJ3N0cmluZycgPyBkZWxheSA6IGZvcm1hdE1zKGRlbGF5KX1gKS5qb2luKCcsJyk7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBnZXRBdXRvSGVpZ2h0RHVyYXRpb24sXG4gICAgY3JlYXRlXG4gIH0sIGlucHV0VHJhbnNpdGlvbnMsIHtcbiAgICBlYXNpbmc6IG1lcmdlZEVhc2luZyxcbiAgICBkdXJhdGlvbjogbWVyZ2VkRHVyYXRpb25cbiAgfSk7XG59IiwiLy8gV2UgbmVlZCB0byBjZW50cmFsaXplIHRoZSB6SW5kZXggZGVmaW5pdGlvbnMgYXMgdGhleSB3b3JrXG4vLyBsaWtlIGdsb2JhbCB2YWx1ZXMgaW4gdGhlIGJyb3dzZXIuXG5jb25zdCB6SW5kZXggPSB7XG4gIG1vYmlsZVN0ZXBwZXI6IDEwMDAsXG4gIHNwZWVkRGlhbDogMTA1MCxcbiAgYXBwQmFyOiAxMTAwLFxuICBkcmF3ZXI6IDEyMDAsXG4gIG1vZGFsOiAxMzAwLFxuICBzbmFja2JhcjogMTQwMCxcbiAgdG9vbHRpcDogMTUwMFxufTtcbmV4cG9ydCBkZWZhdWx0IHpJbmRleDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiYnJlYWtwb2ludHNcIiwgXCJtaXhpbnNcIiwgXCJzcGFjaW5nXCIsIFwicGFsZXR0ZVwiLCBcInRyYW5zaXRpb25zXCIsIFwidHlwb2dyYXBoeVwiLCBcInNoYXBlXCJdO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVV0aWxpdHlDbGFzcyB9IGZyb20gJ0BtdWkvY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVUaGVtZSBhcyBzeXN0ZW1DcmVhdGVUaGVtZSB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBjcmVhdGVNaXhpbnMgZnJvbSAnLi9jcmVhdGVNaXhpbnMnO1xuaW1wb3J0IGNyZWF0ZVBhbGV0dGUgZnJvbSAnLi9jcmVhdGVQYWxldHRlJztcbmltcG9ydCBjcmVhdGVUeXBvZ3JhcGh5IGZyb20gJy4vY3JlYXRlVHlwb2dyYXBoeSc7XG5pbXBvcnQgc2hhZG93cyBmcm9tICcuL3NoYWRvd3MnO1xuaW1wb3J0IGNyZWF0ZVRyYW5zaXRpb25zIGZyb20gJy4vY3JlYXRlVHJhbnNpdGlvbnMnO1xuaW1wb3J0IHpJbmRleCBmcm9tICcuL3pJbmRleCc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZW1lKG9wdGlvbnMgPSB7fSwgLi4uYXJncykge1xuICBjb25zdCB7XG4gICAgbWl4aW5zOiBtaXhpbnNJbnB1dCA9IHt9LFxuICAgIHBhbGV0dGU6IHBhbGV0dGVJbnB1dCA9IHt9LFxuICAgIHRyYW5zaXRpb25zOiB0cmFuc2l0aW9uc0lucHV0ID0ge30sXG4gICAgdHlwb2dyYXBoeTogdHlwb2dyYXBoeUlucHV0ID0ge31cbiAgfSA9IG9wdGlvbnMsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3B0aW9ucywgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCBwYWxldHRlID0gY3JlYXRlUGFsZXR0ZShwYWxldHRlSW5wdXQpO1xuICBjb25zdCBzeXN0ZW1UaGVtZSA9IHN5c3RlbUNyZWF0ZVRoZW1lKG9wdGlvbnMpO1xuICBsZXQgbXVpVGhlbWUgPSBkZWVwbWVyZ2Uoc3lzdGVtVGhlbWUsIHtcbiAgICBtaXhpbnM6IGNyZWF0ZU1peGlucyhzeXN0ZW1UaGVtZS5icmVha3BvaW50cywgc3lzdGVtVGhlbWUuc3BhY2luZywgbWl4aW5zSW5wdXQpLFxuICAgIHBhbGV0dGUsXG4gICAgLy8gRG9uJ3QgdXNlIFsuLi5zaGFkb3dzXSB1bnRpbCB5b3UndmUgdmVyaWZpZWQgaXRzIHRyYW5zcGlsZWQgY29kZSBpcyBub3QgaW52b2tpbmcgdGhlIGl0ZXJhdG9yIHByb3RvY29sLlxuICAgIHNoYWRvd3M6IHNoYWRvd3Muc2xpY2UoKSxcbiAgICB0eXBvZ3JhcGh5OiBjcmVhdGVUeXBvZ3JhcGh5KHBhbGV0dGUsIHR5cG9ncmFwaHlJbnB1dCksXG4gICAgdHJhbnNpdGlvbnM6IGNyZWF0ZVRyYW5zaXRpb25zKHRyYW5zaXRpb25zSW5wdXQpLFxuICAgIHpJbmRleDogX2V4dGVuZHMoe30sIHpJbmRleClcbiAgfSk7XG4gIG11aVRoZW1lID0gZGVlcG1lcmdlKG11aVRoZW1lLCBvdGhlcik7XG4gIG11aVRoZW1lID0gYXJncy5yZWR1Y2UoKGFjYywgYXJndW1lbnQpID0+IGRlZXBtZXJnZShhY2MsIGFyZ3VtZW50KSwgbXVpVGhlbWUpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc3Qgc3RhdGVDbGFzc2VzID0gWydhY3RpdmUnLCAnY2hlY2tlZCcsICdjb21wbGV0ZWQnLCAnZGlzYWJsZWQnLCAnZXJyb3InLCAnZXhwYW5kZWQnLCAnZm9jdXNlZCcsICdmb2N1c1Zpc2libGUnLCAncmVxdWlyZWQnLCAnc2VsZWN0ZWQnXTtcblxuICAgIGNvbnN0IHRyYXZlcnNlID0gKG5vZGUsIGNvbXBvbmVudCkgPT4ge1xuICAgICAgbGV0IGtleTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbiwgbm8tcmVzdHJpY3RlZC1zeW50YXhcblxuICAgICAgZm9yIChrZXkgaW4gbm9kZSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGVba2V5XTtcblxuICAgICAgICBpZiAoc3RhdGVDbGFzc2VzLmluZGV4T2Yoa2V5KSAhPT0gLTEgJiYgT2JqZWN0LmtleXMoY2hpbGQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVDbGFzcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzKCcnLCBrZXkpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIFxcYCR7Y29tcG9uZW50fVxcYCBjb21wb25lbnQgaW5jcmVhc2VzIGAgKyBgdGhlIENTUyBzcGVjaWZpY2l0eSBvZiB0aGUgXFxgJHtrZXl9XFxgIGludGVybmFsIHN0YXRlLmAsICdZb3UgY2FuIG5vdCBvdmVycmlkZSBpdCBsaWtlIHRoaXM6ICcsIEpTT04uc3RyaW5naWZ5KG5vZGUsIG51bGwsIDIpLCAnJywgYEluc3RlYWQsIHlvdSBuZWVkIHRvIHVzZSB0aGUgJyYuJHtzdGF0ZUNsYXNzfScgc3ludGF4OmAsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgcm9vdDoge1xuICAgICAgICAgICAgICAgIFtgJi4ke3N0YXRlQ2xhc3N9YF06IGNoaWxkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG51bGwsIDIpLCAnJywgJ2h0dHBzOi8vbXVpLmNvbS9yL3N0YXRlLWNsYXNzZXMtZ3VpZGUnXS5qb2luKCdcXG4nKSk7XG4gICAgICAgICAgfSAvLyBSZW1vdmUgdGhlIHN0eWxlIHRvIHByZXZlbnQgZ2xvYmFsIGNvbmZsaWN0cy5cblxuXG4gICAgICAgICAgbm9kZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXMobXVpVGhlbWUuY29tcG9uZW50cykuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgY29uc3Qgc3R5bGVPdmVycmlkZXMgPSBtdWlUaGVtZS5jb21wb25lbnRzW2NvbXBvbmVudF0uc3R5bGVPdmVycmlkZXM7XG5cbiAgICAgIGlmIChzdHlsZU92ZXJyaWRlcyAmJiBjb21wb25lbnQuaW5kZXhPZignTXVpJykgPT09IDApIHtcbiAgICAgICAgdHJhdmVyc2Uoc3R5bGVPdmVycmlkZXMsIGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbXVpVGhlbWU7XG59XG5cbmxldCB3YXJuZWRPbmNlID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXVpVGhlbWUoLi4uYXJncykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghd2FybmVkT25jZSkge1xuICAgICAgd2FybmVkT25jZSA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKFsnTVVJOiB0aGUgY3JlYXRlTXVpVGhlbWUgZnVuY3Rpb24gd2FzIHJlbmFtZWQgdG8gY3JlYXRlVGhlbWUuJywgJycsIFwiWW91IHNob3VsZCB1c2UgYGltcG9ydCB7IGNyZWF0ZVRoZW1lIH0gZnJvbSAnQG11aS9tYXRlcmlhbC9zdHlsZXMnYFwiXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVRoZW1lKC4uLmFyZ3MpO1xufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVGhlbWU7IiwiaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gJy4vY3JlYXRlVGhlbWUnO1xuY29uc3QgZGVmYXVsdFRoZW1lID0gY3JlYXRlVGhlbWUoKTtcbmV4cG9ydCBkZWZhdWx0IGRlZmF1bHRUaGVtZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUaGVtZSBhcyB1c2VUaGVtZVN5c3RlbSB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSAnLi9kZWZhdWx0VGhlbWUnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVGhlbWUoKSB7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWVTeXN0ZW0oZGVmYXVsdFRoZW1lKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIFJlYWN0LnVzZURlYnVnVmFsdWUodGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoZW1lO1xufSIsImV4cG9ydCBjb25zdCByZWZsb3cgPSBub2RlID0+IG5vZGUuc2Nyb2xsVG9wO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25Qcm9wcyhwcm9wcywgb3B0aW9ucykge1xuICB2YXIgX3N0eWxlJHRyYW5zaXRpb25EdXJhLCBfc3R5bGUkdHJhbnNpdGlvblRpbWk7XG5cbiAgY29uc3Qge1xuICAgIHRpbWVvdXQsXG4gICAgZWFzaW5nLFxuICAgIHN0eWxlID0ge31cbiAgfSA9IHByb3BzO1xuICByZXR1cm4ge1xuICAgIGR1cmF0aW9uOiAoX3N0eWxlJHRyYW5zaXRpb25EdXJhID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uKSAhPSBudWxsID8gX3N0eWxlJHRyYW5zaXRpb25EdXJhIDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IHRpbWVvdXRbb3B0aW9ucy5tb2RlXSB8fCAwLFxuICAgIGVhc2luZzogKF9zdHlsZSR0cmFuc2l0aW9uVGltaSA9IHN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbikgIT0gbnVsbCA/IF9zdHlsZSR0cmFuc2l0aW9uVGltaSA6IHR5cGVvZiBlYXNpbmcgPT09ICdvYmplY3QnID8gZWFzaW5nW29wdGlvbnMubW9kZV0gOiBlYXNpbmcsXG4gICAgZGVsYXk6IHN0eWxlLnRyYW5zaXRpb25EZWxheVxuICB9O1xufSIsImltcG9ydCB7IHVzZVRoZW1lUHJvcHMgYXMgc3lzdGVtVXNlVGhlbWVQcm9wcyB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSAnLi9kZWZhdWx0VGhlbWUnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVGhlbWVQcm9wcyh7XG4gIHByb3BzLFxuICBuYW1lXG59KSB7XG4gIHJldHVybiBzeXN0ZW1Vc2VUaGVtZVByb3BzKHtcbiAgICBwcm9wcyxcbiAgICBuYW1lLFxuICAgIGRlZmF1bHRUaGVtZVxuICB9KTtcbn0iLCJpbXBvcnQgeyBjcmVhdGVTdHlsZWQsIHNob3VsZEZvcndhcmRQcm9wIH0gZnJvbSAnQG11aS9zeXN0ZW0nO1xuaW1wb3J0IGRlZmF1bHRUaGVtZSBmcm9tICcuL2RlZmF1bHRUaGVtZSc7XG5leHBvcnQgY29uc3Qgcm9vdFNob3VsZEZvcndhcmRQcm9wID0gcHJvcCA9PiBzaG91bGRGb3J3YXJkUHJvcChwcm9wKSAmJiBwcm9wICE9PSAnY2xhc3Nlcyc7XG5leHBvcnQgY29uc3Qgc2xvdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3A7XG5jb25zdCBzdHlsZWQgPSBjcmVhdGVTdHlsZWQoe1xuICBkZWZhdWx0VGhlbWUsXG4gIHJvb3RTaG91bGRGb3J3YXJkUHJvcFxufSk7XG5leHBvcnQgZGVmYXVsdCBzdHlsZWQ7IiwiaW1wb3J0IHsgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MsIGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMgfSBmcm9tICdAbXVpL2NvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN2Z0ljb25VdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aVN2Z0ljb24nLCBzbG90KTtcbn1cbmNvbnN0IHN2Z0ljb25DbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpU3ZnSWNvbicsIFsncm9vdCcsICdjb2xvclByaW1hcnknLCAnY29sb3JTZWNvbmRhcnknLCAnY29sb3JBY3Rpb24nLCAnY29sb3JFcnJvcicsICdjb2xvckRpc2FibGVkJywgJ2ZvbnRTaXplSW5oZXJpdCcsICdmb250U2l6ZVNtYWxsJywgJ2ZvbnRTaXplTWVkaXVtJywgJ2ZvbnRTaXplTGFyZ2UnXSk7XG5leHBvcnQgZGVmYXVsdCBzdmdJY29uQ2xhc3NlczsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJjb2xvclwiLCBcImNvbXBvbmVudFwiLCBcImZvbnRTaXplXCIsIFwiaHRtbENvbG9yXCIsIFwidGl0bGVBY2Nlc3NcIiwgXCJ2aWV3Qm94XCJdO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgdW5zdGFibGVfY29tcG9zZUNsYXNzZXMgYXMgY29tcG9zZUNsYXNzZXMgfSBmcm9tICdAbXVpL2NvcmUnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnLi4vdXRpbHMvY2FwaXRhbGl6ZSc7XG5pbXBvcnQgdXNlVGhlbWVQcm9wcyBmcm9tICcuLi9zdHlsZXMvdXNlVGhlbWVQcm9wcyc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJy4uL3N0eWxlcy9zdHlsZWQnO1xuaW1wb3J0IHsgZ2V0U3ZnSWNvblV0aWxpdHlDbGFzcyB9IGZyb20gJy4vc3ZnSWNvbkNsYXNzZXMnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcblxuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbG9yLFxuICAgIGZvbnRTaXplLFxuICAgIGNsYXNzZXNcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCcsIGNvbG9yICE9PSAnaW5oZXJpdCcgJiYgYGNvbG9yJHtjYXBpdGFsaXplKGNvbG9yKX1gLCBgZm9udFNpemUke2NhcGl0YWxpemUoZm9udFNpemUpfWBdXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0U3ZnSWNvblV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG59O1xuXG5jb25zdCBTdmdJY29uUm9vdCA9IHN0eWxlZCgnc3ZnJywge1xuICBuYW1lOiAnTXVpU3ZnSWNvbicsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBvd25lclN0YXRlLmNvbG9yICE9PSAnaW5oZXJpdCcgJiYgc3R5bGVzW2Bjb2xvciR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLmNvbG9yKX1gXSwgc3R5bGVzW2Bmb250U2l6ZSR7Y2FwaXRhbGl6ZShvd25lclN0YXRlLmZvbnRTaXplKX1gXV07XG4gIH1cbn0pKCh7XG4gIHRoZW1lLFxuICBvd25lclN0YXRlXG59KSA9PiB7XG4gIHZhciBfdGhlbWUkcGFsZXR0ZSRvd25lclMsIF90aGVtZSRwYWxldHRlJG93bmVyUzI7XG5cbiAgcmV0dXJuIHtcbiAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgd2lkdGg6ICcxZW0nLFxuICAgIGhlaWdodDogJzFlbScsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgZmxleFNocmluazogMCxcbiAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ2ZpbGwnLCB7XG4gICAgICBkdXJhdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlclxuICAgIH0pLFxuICAgIGZvbnRTaXplOiB7XG4gICAgICBpbmhlcml0OiAnaW5oZXJpdCcsXG4gICAgICBzbWFsbDogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDIwKSxcbiAgICAgIG1lZGl1bTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDI0KSxcbiAgICAgIGxhcmdlOiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMzUpXG4gICAgfVtvd25lclN0YXRlLmZvbnRTaXplXSxcbiAgICAvLyBUT0RPIHY1IGRlcHJlY2F0ZSwgdjYgcmVtb3ZlIGZvciBzeFxuICAgIGNvbG9yOiAoX3RoZW1lJHBhbGV0dGUkb3duZXJTID0gKF90aGVtZSRwYWxldHRlJG93bmVyUzIgPSB0aGVtZS5wYWxldHRlW293bmVyU3RhdGUuY29sb3JdKSA9PSBudWxsID8gdm9pZCAwIDogX3RoZW1lJHBhbGV0dGUkb3duZXJTMi5tYWluKSAhPSBudWxsID8gX3RoZW1lJHBhbGV0dGUkb3duZXJTIDoge1xuICAgICAgYWN0aW9uOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsXG4gICAgICBkaXNhYmxlZDogdGhlbWUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWQsXG4gICAgICBpbmhlcml0OiB1bmRlZmluZWRcbiAgICB9W293bmVyU3RhdGUuY29sb3JdXG4gIH07XG59KTtcbmNvbnN0IFN2Z0ljb24gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBTdmdJY29uKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZVRoZW1lUHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlTdmdJY29uJ1xuICB9KTtcblxuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lLFxuICAgIGNvbG9yID0gJ2luaGVyaXQnLFxuICAgIGNvbXBvbmVudCA9ICdzdmcnLFxuICAgIGZvbnRTaXplID0gJ21lZGl1bScsXG4gICAgaHRtbENvbG9yLFxuICAgIHRpdGxlQWNjZXNzLFxuICAgIHZpZXdCb3ggPSAnMCAwIDI0IDI0J1xuICB9ID0gcHJvcHMsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgY29uc3Qgb3duZXJTdGF0ZSA9IF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIGNvbG9yLFxuICAgIGNvbXBvbmVudCxcbiAgICBmb250U2l6ZSxcbiAgICB2aWV3Qm94XG4gIH0pO1xuXG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhTdmdJY29uUm9vdCwgX2V4dGVuZHMoe1xuICAgIGFzOiBjb21wb25lbnQsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIHZpZXdCb3g6IHZpZXdCb3gsXG4gICAgY29sb3I6IGh0bWxDb2xvcixcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRpdGxlQWNjZXNzID8gdW5kZWZpbmVkIDogdHJ1ZSxcbiAgICByb2xlOiB0aXRsZUFjY2VzcyA/ICdpbWcnIDogdW5kZWZpbmVkLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyLCB7XG4gICAgY2hpbGRyZW46IFtjaGlsZHJlbiwgdGl0bGVBY2Nlc3MgPyAvKiNfX1BVUkVfXyovX2pzeChcInRpdGxlXCIsIHtcbiAgICAgIGNoaWxkcmVuOiB0aXRsZUFjY2Vzc1xuICAgIH0pIDogbnVsbF1cbiAgfSkpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBTdmdJY29uLnByb3BUeXBlc1xuLyogcmVtb3ZlLXByb3B0eXBlcyAqL1xuPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBOb2RlIHBhc3NlZCBpbnRvIHRoZSBTVkcgZWxlbWVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGNvbXBvbmVudC4gSXQgc3VwcG9ydHMgdGhvc2UgdGhlbWUgY29sb3JzIHRoYXQgbWFrZSBzZW5zZSBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAqIFlvdSBjYW4gdXNlIHRoZSBgaHRtbENvbG9yYCBwcm9wIHRvIGFwcGx5IGEgY29sb3IgYXR0cmlidXRlIHRvIHRoZSBTVkcgZWxlbWVudC5cbiAgICogQGRlZmF1bHQgJ2luaGVyaXQnXG4gICAqL1xuICBjb2xvcjogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaW5oZXJpdCcsICdhY3Rpb24nLCAnZGlzYWJsZWQnLCAncHJpbWFyeScsICdzZWNvbmRhcnknLCAnZXJyb3InLCAnaW5mbycsICdzdWNjZXNzJywgJ3dhcm5pbmcnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG5cbiAgLyoqXG4gICAqIFRoZSBmb250U2l6ZSBhcHBsaWVkIHRvIHRoZSBpY29uLiBEZWZhdWx0cyB0byAyNHB4LCBidXQgY2FuIGJlIGNvbmZpZ3VyZSB0byBpbmhlcml0IGZvbnQgc2l6ZS5cbiAgICogQGRlZmF1bHQgJ21lZGl1bSdcbiAgICovXG4gIGZvbnRTaXplOiBQcm9wVHlwZXNcbiAgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqL1xuICAub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydpbmhlcml0JywgJ2xhcmdlJywgJ21lZGl1bScsICdzbWFsbCddKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGEgY29sb3IgYXR0cmlidXRlIHRvIHRoZSBTVkcgZWxlbWVudC5cbiAgICovXG4gIGh0bWxDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIHNoYXBlLXJlbmRlcmluZyBhdHRyaWJ1dGUuIFRoZSBiZWhhdmlvciBvZiB0aGUgZGlmZmVyZW50IG9wdGlvbnMgaXMgZGVzY3JpYmVkIG9uIHRoZVxuICAgKiBbTUROIFdlYiBEb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3NoYXBlLXJlbmRlcmluZykuXG4gICAqIElmIHlvdSBhcmUgaGF2aW5nIGlzc3VlcyB3aXRoIGJsdXJyeSBpY29ucyB5b3Ugc2hvdWxkIGludmVzdGlnYXRlIHRoaXMgcHJvcC5cbiAgICovXG4gIHNoYXBlUmVuZGVyaW5nOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGh1bWFuLXJlYWRhYmxlIHRpdGxlIGZvciB0aGUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIGl0LlxuICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvU1ZHLWFjY2Vzcy8jRXF1aXZhbGVudFxuICAgKi9cbiAgdGl0bGVBY2Nlc3M6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gcmVkZWZpbmUgd2hhdCB0aGUgY29vcmRpbmF0ZXMgd2l0aG91dCB1bml0cyBtZWFuIGluc2lkZSBhbiBTVkcgZWxlbWVudC5cbiAgICogRm9yIGV4YW1wbGUsIGlmIHRoZSBTVkcgZWxlbWVudCBpcyA1MDAgKHdpZHRoKSBieSAyMDAgKGhlaWdodCksXG4gICAqIGFuZCB5b3UgcGFzcyB2aWV3Qm94PVwiMCAwIDUwIDIwXCIsXG4gICAqIHRoaXMgbWVhbnMgdGhhdCB0aGUgY29vcmRpbmF0ZXMgaW5zaWRlIHRoZSBTVkcgd2lsbCBnbyBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgKDAsMClcbiAgICogdG8gYm90dG9tIHJpZ2h0ICg1MCwyMCkgYW5kIGVhY2ggdW5pdCB3aWxsIGJlIHdvcnRoIDEwcHguXG4gICAqIEBkZWZhdWx0ICcwIDAgMjQgMjQnXG4gICAqL1xuICB2aWV3Qm94OiBQcm9wVHlwZXMuc3RyaW5nXG59IDogdm9pZCAwO1xuU3ZnSWNvbi5tdWlOYW1lID0gJ1N2Z0ljb24nO1xuZXhwb3J0IGRlZmF1bHQgU3ZnSWNvbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiYWRkRW5kTGlzdGVuZXJcIiwgXCJhcHBlYXJcIiwgXCJjaGlsZHJlblwiLCBcImNvbnRhaW5lclwiLCBcImRpcmVjdGlvblwiLCBcImVhc2luZ1wiLCBcImluXCIsIFwib25FbnRlclwiLCBcIm9uRW50ZXJlZFwiLCBcIm9uRW50ZXJpbmdcIiwgXCJvbkV4aXRcIiwgXCJvbkV4aXRlZFwiLCBcIm9uRXhpdGluZ1wiLCBcInN0eWxlXCIsIFwidGltZW91dFwiLCBcIlRyYW5zaXRpb25Db21wb25lbnRcIl07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgVHJhbnNpdGlvbiB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IHsgZWxlbWVudEFjY2VwdGluZ1JlZiwgSFRNTEVsZW1lbnRUeXBlLCBjaGFpblByb3BUeXBlcyB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJy4uL3V0aWxzL2RlYm91bmNlJztcbmltcG9ydCB1c2VGb3JrUmVmIGZyb20gJy4uL3V0aWxzL3VzZUZvcmtSZWYnO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gJy4uL3N0eWxlcy91c2VUaGVtZSc7XG5pbXBvcnQgeyBkdXJhdGlvbiwgZWFzaW5nIH0gZnJvbSAnLi4vc3R5bGVzL2NyZWF0ZVRyYW5zaXRpb25zJztcbmltcG9ydCB7IHJlZmxvdywgZ2V0VHJhbnNpdGlvblByb3BzIH0gZnJvbSAnLi4vdHJhbnNpdGlvbnMvdXRpbHMnO1xuaW1wb3J0IHsgb3duZXJXaW5kb3cgfSBmcm9tICcuLi91dGlscyc7IC8vIFRyYW5zbGF0ZSB0aGUgbm9kZSBzbyBpdCBjYW4ndCBiZSBzZWVuIG9uIHRoZSBzY3JlZW4uXG4vLyBMYXRlciwgd2UncmUgZ29pbmcgdG8gdHJhbnNsYXRlIHRoZSBub2RlIGJhY2sgdG8gaXRzIG9yaWdpbmFsIGxvY2F0aW9uIHdpdGggYG5vbmVgLlxuXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIG5vZGUsIHJlc29sdmVkQ29udGFpbmVyKSB7XG4gIGNvbnN0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb250YWluZXJSZWN0ID0gcmVzb2x2ZWRDb250YWluZXIgJiYgcmVzb2x2ZWRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNvbnRhaW5lcldpbmRvdyA9IG93bmVyV2luZG93KG5vZGUpO1xuICBsZXQgdHJhbnNmb3JtO1xuXG4gIGlmIChub2RlLmZha2VUcmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm0gPSBub2RlLmZha2VUcmFuc2Zvcm07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNvbnRhaW5lcldpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIHRyYW5zZm9ybSA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLXdlYmtpdC10cmFuc2Zvcm0nKSB8fCBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpO1xuICB9XG5cbiAgbGV0IG9mZnNldFggPSAwO1xuICBsZXQgb2Zmc2V0WSA9IDA7XG5cbiAgaWYgKHRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0gIT09ICdub25lJyAmJiB0eXBlb2YgdHJhbnNmb3JtID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IHRyYW5zZm9ybVZhbHVlcyA9IHRyYW5zZm9ybS5zcGxpdCgnKCcpWzFdLnNwbGl0KCcpJylbMF0uc3BsaXQoJywnKTtcbiAgICBvZmZzZXRYID0gcGFyc2VJbnQodHJhbnNmb3JtVmFsdWVzWzRdLCAxMCk7XG4gICAgb2Zmc2V0WSA9IHBhcnNlSW50KHRyYW5zZm9ybVZhbHVlc1s1XSwgMTApO1xuICB9XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgaWYgKGNvbnRhaW5lclJlY3QpIHtcbiAgICAgIHJldHVybiBgdHJhbnNsYXRlWCgke2NvbnRhaW5lclJlY3QucmlnaHQgKyBvZmZzZXRYIC0gcmVjdC5sZWZ0fXB4KWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGB0cmFuc2xhdGVYKCR7Y29udGFpbmVyV2luZG93LmlubmVyV2lkdGggKyBvZmZzZXRYIC0gcmVjdC5sZWZ0fXB4KWA7XG4gIH1cblxuICBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgaWYgKGNvbnRhaW5lclJlY3QpIHtcbiAgICAgIHJldHVybiBgdHJhbnNsYXRlWCgtJHtyZWN0LnJpZ2h0IC0gY29udGFpbmVyUmVjdC5sZWZ0IC0gb2Zmc2V0WH1weClgO1xuICAgIH1cblxuICAgIHJldHVybiBgdHJhbnNsYXRlWCgtJHtyZWN0LmxlZnQgKyByZWN0LndpZHRoIC0gb2Zmc2V0WH1weClgO1xuICB9XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZVkoJHtjb250YWluZXJSZWN0LmJvdHRvbSArIG9mZnNldFkgLSByZWN0LnRvcH1weClgO1xuICAgIH1cblxuICAgIHJldHVybiBgdHJhbnNsYXRlWSgke2NvbnRhaW5lcldpbmRvdy5pbm5lckhlaWdodCArIG9mZnNldFkgLSByZWN0LnRvcH1weClgO1xuICB9IC8vIGRpcmVjdGlvbiA9PT0gJ2Rvd24nXG5cblxuICBpZiAoY29udGFpbmVyUmVjdCkge1xuICAgIHJldHVybiBgdHJhbnNsYXRlWSgtJHtyZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wICsgcmVjdC5oZWlnaHQgLSBvZmZzZXRZfXB4KWA7XG4gIH1cblxuICByZXR1cm4gYHRyYW5zbGF0ZVkoLSR7cmVjdC50b3AgKyByZWN0LmhlaWdodCAtIG9mZnNldFl9cHgpYDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUNvbnRhaW5lcihjb250YWluZXJQcm9wUHJvcCkge1xuICByZXR1cm4gdHlwZW9mIGNvbnRhaW5lclByb3BQcm9wID09PSAnZnVuY3Rpb24nID8gY29udGFpbmVyUHJvcFByb3AoKSA6IGNvbnRhaW5lclByb3BQcm9wO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCBjb250YWluZXJQcm9wKSB7XG4gIGNvbnN0IHJlc29sdmVkQ29udGFpbmVyID0gcmVzb2x2ZUNvbnRhaW5lcihjb250YWluZXJQcm9wKTtcbiAgY29uc3QgdHJhbnNmb3JtID0gZ2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCByZXNvbHZlZENvbnRhaW5lcik7XG5cbiAgaWYgKHRyYW5zZm9ybSkge1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICB9XG59XG5jb25zdCBkZWZhdWx0RWFzaW5nID0ge1xuICBlbnRlcjogZWFzaW5nLmVhc2VPdXQsXG4gIGV4aXQ6IGVhc2luZy5zaGFycFxufTtcbmNvbnN0IGRlZmF1bHRUaW1lb3V0ID0ge1xuICBlbnRlcjogZHVyYXRpb24uZW50ZXJpbmdTY3JlZW4sXG4gIGV4aXQ6IGR1cmF0aW9uLmxlYXZpbmdTY3JlZW5cbn07XG4vKipcbiAqIFRoZSBTbGlkZSB0cmFuc2l0aW9uIGlzIHVzZWQgYnkgdGhlIFtEcmF3ZXJdKC9jb21wb25lbnRzL2RyYXdlcnMvKSBjb21wb25lbnQuXG4gKiBJdCB1c2VzIFtyZWFjdC10cmFuc2l0aW9uLWdyb3VwXShodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC10cmFuc2l0aW9uLWdyb3VwKSBpbnRlcm5hbGx5LlxuICovXG5cbmNvbnN0IFNsaWRlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gU2xpZGUocHJvcHMsIHJlZikge1xuICBjb25zdCB7XG4gICAgYWRkRW5kTGlzdGVuZXIsXG4gICAgYXBwZWFyID0gdHJ1ZSxcbiAgICBjaGlsZHJlbixcbiAgICBjb250YWluZXI6IGNvbnRhaW5lclByb3AsXG4gICAgZGlyZWN0aW9uID0gJ2Rvd24nLFxuICAgIGVhc2luZzogZWFzaW5nUHJvcCA9IGRlZmF1bHRFYXNpbmcsXG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nLFxuICAgIG9uRXhpdCxcbiAgICBvbkV4aXRlZCxcbiAgICBvbkV4aXRpbmcsXG4gICAgc3R5bGUsXG4gICAgdGltZW91dCA9IGRlZmF1bHRUaW1lb3V0LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9wcm9wLXR5cGVzXG4gICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IFRyYW5zaXRpb25cbiAgfSA9IHByb3BzLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgY2hpbGRyZW5SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZkludGVybWVkaWFyeSA9IHVzZUZvcmtSZWYoY2hpbGRyZW4ucmVmLCBjaGlsZHJlblJlZik7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoaGFuZGxlUmVmSW50ZXJtZWRpYXJ5LCByZWYpO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayA9PiBpc0FwcGVhcmluZyA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBvbkVudGVyWHh4IGFuZCBvbkV4aXRYeHggY2FsbGJhY2tzIGhhdmUgYSBkaWZmZXJlbnQgYXJndW1lbnRzLmxlbmd0aCB2YWx1ZS5cbiAgICAgIGlmIChpc0FwcGVhcmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKGNoaWxkcmVuUmVmLmN1cnJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soY2hpbGRyZW5SZWYuY3VycmVudCwgaXNBcHBlYXJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbnRlciA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2soKG5vZGUsIGlzQXBwZWFyaW5nKSA9PiB7XG4gICAgc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCBjb250YWluZXJQcm9wKTtcbiAgICByZWZsb3cobm9kZSk7XG5cbiAgICBpZiAob25FbnRlcikge1xuICAgICAgb25FbnRlcihub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRW50ZXJpbmcgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKChub2RlLCBpc0FwcGVhcmluZykgPT4ge1xuICAgIGNvbnN0IHRyYW5zaXRpb25Qcm9wcyA9IGdldFRyYW5zaXRpb25Qcm9wcyh7XG4gICAgICB0aW1lb3V0LFxuICAgICAgc3R5bGUsXG4gICAgICBlYXNpbmc6IGVhc2luZ1Byb3BcbiAgICB9LCB7XG4gICAgICBtb2RlOiAnZW50ZXInXG4gICAgfSk7XG4gICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCctd2Via2l0LXRyYW5zZm9ybScsIF9leHRlbmRzKHt9LCB0cmFuc2l0aW9uUHJvcHMpKTtcbiAgICBub2RlLnN0eWxlLnRyYW5zaXRpb24gPSB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ3RyYW5zZm9ybScsIF9leHRlbmRzKHt9LCB0cmFuc2l0aW9uUHJvcHMpKTtcbiAgICBub2RlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcblxuICAgIGlmIChvbkVudGVyaW5nKSB7XG4gICAgICBvbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFbnRlcmVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkVudGVyZWQpO1xuICBjb25zdCBoYW5kbGVFeGl0aW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkV4aXRpbmcpO1xuICBjb25zdCBoYW5kbGVFeGl0ID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhub2RlID0+IHtcbiAgICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgdGltZW91dCxcbiAgICAgIHN0eWxlLFxuICAgICAgZWFzaW5nOiBlYXNpbmdQcm9wXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2V4aXQnXG4gICAgfSk7XG4gICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCctd2Via2l0LXRyYW5zZm9ybScsIHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCB0cmFuc2l0aW9uUHJvcHMpO1xuICAgIHNldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgbm9kZSwgY29udGFpbmVyUHJvcCk7XG5cbiAgICBpZiAob25FeGl0KSB7XG4gICAgICBvbkV4aXQobm9kZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhub2RlID0+IHtcbiAgICAvLyBObyBuZWVkIGZvciB0cmFuc2l0aW9ucyB3aGVuIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuXG4gICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gJyc7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG5cbiAgICBpZiAob25FeGl0ZWQpIHtcbiAgICAgIG9uRXhpdGVkKG5vZGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlQWRkRW5kTGlzdGVuZXIgPSBuZXh0ID0+IHtcbiAgICBpZiAoYWRkRW5kTGlzdGVuZXIpIHtcbiAgICAgIC8vIE9sZCBjYWxsIHNpZ25hdHVyZSBiZWZvcmUgYHJlYWN0LXRyYW5zaXRpb24tZ3JvdXBgIGltcGxlbWVudGVkIGBub2RlUmVmYFxuICAgICAgYWRkRW5kTGlzdGVuZXIoY2hpbGRyZW5SZWYuY3VycmVudCwgbmV4dCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVBvc2l0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChjaGlsZHJlblJlZi5jdXJyZW50KSB7XG4gICAgICBzZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIGNoaWxkcmVuUmVmLmN1cnJlbnQsIGNvbnRhaW5lclByb3ApO1xuICAgIH1cbiAgfSwgW2RpcmVjdGlvbiwgY29udGFpbmVyUHJvcF0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNraXAgY29uZmlndXJhdGlvbiB3aGVyZSB0aGUgcG9zaXRpb24gaXMgc2NyZWVuIHNpemUgaW52YXJpYW50LlxuICAgIGlmIChpblByb3AgfHwgZGlyZWN0aW9uID09PSAnZG93bicgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChjaGlsZHJlblJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgY2hpbGRyZW5SZWYuY3VycmVudCwgY29udGFpbmVyUHJvcCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29udGFpbmVyV2luZG93ID0gb3duZXJXaW5kb3coY2hpbGRyZW5SZWYuY3VycmVudCk7XG4gICAgY29udGFpbmVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGhhbmRsZVJlc2l6ZS5jbGVhcigpO1xuICAgICAgY29udGFpbmVyV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgfTtcbiAgfSwgW2RpcmVjdGlvbiwgaW5Qcm9wLCBjb250YWluZXJQcm9wXSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpblByb3ApIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZHJhd2VyIHdoZW4gdGhlIGRpcmVjdGlvbiBjaGFuZ2UgYW5kXG4gICAgICAvLyB3aGVuIGl0J3MgaGlkZGVuLlxuICAgICAgdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG4gIH0sIFtpblByb3AsIHVwZGF0ZVBvc2l0aW9uXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUcmFuc2l0aW9uQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgbm9kZVJlZjogY2hpbGRyZW5SZWYsXG4gICAgb25FbnRlcjogaGFuZGxlRW50ZXIsXG4gICAgb25FbnRlcmVkOiBoYW5kbGVFbnRlcmVkLFxuICAgIG9uRW50ZXJpbmc6IGhhbmRsZUVudGVyaW5nLFxuICAgIG9uRXhpdDogaGFuZGxlRXhpdCxcbiAgICBvbkV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgIG9uRXhpdGluZzogaGFuZGxlRXhpdGluZyxcbiAgICBhZGRFbmRMaXN0ZW5lcjogaGFuZGxlQWRkRW5kTGlzdGVuZXIsXG4gICAgYXBwZWFyOiBhcHBlYXIsXG4gICAgaW46IGluUHJvcCxcbiAgICB0aW1lb3V0OiB0aW1lb3V0XG4gIH0sIG90aGVyLCB7XG4gICAgY2hpbGRyZW46IChzdGF0ZSwgY2hpbGRQcm9wcykgPT4ge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiBoYW5kbGVSZWYsXG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7XG4gICAgICAgICAgdmlzaWJpbGl0eTogc3RhdGUgPT09ICdleGl0ZWQnICYmICFpblByb3AgPyAnaGlkZGVuJyA6IHVuZGVmaW5lZFxuICAgICAgICB9LCBzdHlsZSwgY2hpbGRyZW4ucHJvcHMuc3R5bGUpXG4gICAgICB9LCBjaGlsZFByb3BzKSk7XG4gICAgfVxuICB9KSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFNsaWRlLnByb3BUeXBlc1xuLyogcmVtb3ZlLXByb3B0eXBlcyAqL1xuPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjdXN0b20gdHJhbnNpdGlvbiBlbmQgdHJpZ2dlci4gQ2FsbGVkIHdpdGggdGhlIHRyYW5zaXRpb25pbmcgRE9NXG4gICAqIG5vZGUgYW5kIGEgZG9uZSBjYWxsYmFjay4gQWxsb3dzIGZvciBtb3JlIGZpbmUgZ3JhaW5lZCB0cmFuc2l0aW9uIGVuZFxuICAgKiBsb2dpYy4gTm90ZTogVGltZW91dHMgYXJlIHN0aWxsIHVzZWQgYXMgYSBmYWxsYmFjayBpZiBwcm92aWRlZC5cbiAgICovXG4gIGFkZEVuZExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogUGVyZm9ybSB0aGUgZW50ZXIgdHJhbnNpdGlvbiB3aGVuIGl0IGZpcnN0IG1vdW50cyBpZiBgaW5gIGlzIGFsc28gYHRydWVgLlxuICAgKiBTZXQgdGhpcyB0byBgZmFsc2VgIHRvIGRpc2FibGUgdGhpcyBiZWhhdmlvci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgYXBwZWFyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQSBzaW5nbGUgY2hpbGQgY29udGVudCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYsXG5cbiAgLyoqXG4gICAqIEFuIEhUTUwgZWxlbWVudCwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgb25lLlxuICAgKiBJdCdzIHVzZWQgdG8gc2V0IHRoZSBjb250YWluZXIgdGhlIFNsaWRlIGlzIHRyYW5zaXRpb25pbmcgZnJvbS5cbiAgICovXG4gIGNvbnRhaW5lcjogY2hhaW5Qcm9wVHlwZXMoUHJvcFR5cGVzLm9uZU9mVHlwZShbSFRNTEVsZW1lbnRUeXBlLCBQcm9wVHlwZXMuZnVuY10pLCBwcm9wcyA9PiB7XG4gICAgaWYgKHByb3BzLm9wZW4pIHtcbiAgICAgIGNvbnN0IHJlc29sdmVkQ29udGFpbmVyID0gcmVzb2x2ZUNvbnRhaW5lcihwcm9wcy5jb250YWluZXIpO1xuXG4gICAgICBpZiAocmVzb2x2ZWRDb250YWluZXIgJiYgcmVzb2x2ZWRDb250YWluZXIubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgYm94ID0gcmVzb2x2ZWRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiYgYm94LnRvcCA9PT0gMCAmJiBib3gubGVmdCA9PT0gMCAmJiBib3gucmlnaHQgPT09IDAgJiYgYm94LmJvdHRvbSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoWydNVUk6IFRoZSBgY29udGFpbmVyYCBwcm9wIHByb3ZpZGVkIHRvIHRoZSBjb21wb25lbnQgaXMgaW52YWxpZC4nLCAnVGhlIGFuY2hvciBlbGVtZW50IHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBsYXlvdXQuJywgXCJNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgcHJlc2VudCBpbiB0aGUgZG9jdW1lbnQgb3IgdGhhdCBpdCdzIG5vdCBkaXNwbGF5IG5vbmUuXCJdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghcmVzb2x2ZWRDb250YWluZXIgfHwgdHlwZW9mIHJlc29sdmVkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gJ2Z1bmN0aW9uJyB8fCByZXNvbHZlZENvbnRhaW5lci5jb250ZXh0RWxlbWVudCAhPSBudWxsICYmIHJlc29sdmVkQ29udGFpbmVyLmNvbnRleHRFbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoWydNVUk6IFRoZSBgY29udGFpbmVyYCBwcm9wIHByb3ZpZGVkIHRvIHRoZSBjb21wb25lbnQgaXMgaW52YWxpZC4nLCAnSXQgc2hvdWxkIGJlIGFuIEhUTUwgZWxlbWVudCBpbnN0YW5jZS4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBEaXJlY3Rpb24gdGhlIGNoaWxkIG5vZGUgd2lsbCBlbnRlciBmcm9tLlxuICAgKiBAZGVmYXVsdCAnZG93bidcbiAgICovXG4gIGRpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnZG93bicsICdsZWZ0JywgJ3JpZ2h0JywgJ3VwJ10pLFxuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNpdGlvbiB0aW1pbmcgZnVuY3Rpb24uXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSBlYXNpbmcgb3IgYSBvYmplY3QgY29udGFpbmluZyBlbnRlciBhbmQgZXhpdCB2YWx1ZXMuXG4gICAqIEBkZWZhdWx0IHtcbiAgICogICBlbnRlcjogZWFzaW5nLmVhc2VPdXQsXG4gICAqICAgZXhpdDogZWFzaW5nLnNoYXJwLFxuICAgKiB9XG4gICAqL1xuICBlYXNpbmc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zaGFwZSh7XG4gICAgZW50ZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZXhpdDogUHJvcFR5cGVzLnN0cmluZ1xuICB9KSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgd2lsbCB0cmFuc2l0aW9uIGluLlxuICAgKi9cbiAgaW46IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcmluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FeGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBmb3IgdGhlIHRyYW5zaXRpb24sIGluIG1pbGxpc2Vjb25kcy5cbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIHRpbWVvdXQgZm9yIGFsbCB0cmFuc2l0aW9ucywgb3IgaW5kaXZpZHVhbGx5IHdpdGggYW4gb2JqZWN0LlxuICAgKiBAZGVmYXVsdCB7XG4gICAqICAgZW50ZXI6IGR1cmF0aW9uLmVudGVyaW5nU2NyZWVuLFxuICAgKiAgIGV4aXQ6IGR1cmF0aW9uLmxlYXZpbmdTY3JlZW4sXG4gICAqIH1cbiAgICovXG4gIHRpbWVvdXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXBwZWFyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGVudGVyOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5udW1iZXJcbiAgfSldKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFNsaWRlOyIsImltcG9ydCB7IGdlbmVyYXRlVXRpbGl0eUNsYXNzLCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIH0gZnJvbSAnQG11aS9jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsYXBzZVV0aWxpdHlDbGFzcyhzbG90KSB7XG4gIHJldHVybiBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnTXVpQ29sbGFwc2UnLCBzbG90KTtcbn1cbmNvbnN0IGNvbGxhcHNlQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aUNvbGxhcHNlJywgWydyb290JywgJ2hvcml6b250YWwnLCAndmVydGljYWwnLCAnZW50ZXJlZCcsICdoaWRkZW4nLCAnd3JhcHBlcicsICd3cmFwcGVySW5uZXInXSk7XG5leHBvcnQgZGVmYXVsdCBjb2xsYXBzZUNsYXNzZXM7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImFkZEVuZExpc3RlbmVyXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJjb2xsYXBzZWRTaXplXCIsIFwiY29tcG9uZW50XCIsIFwiZWFzaW5nXCIsIFwiaW5cIiwgXCJvbkVudGVyXCIsIFwib25FbnRlcmVkXCIsIFwib25FbnRlcmluZ1wiLCBcIm9uRXhpdFwiLCBcIm9uRXhpdGVkXCIsIFwib25FeGl0aW5nXCIsIFwib3JpZW50YXRpb25cIiwgXCJzdHlsZVwiLCBcInRpbWVvdXRcIiwgXCJUcmFuc2l0aW9uQ29tcG9uZW50XCJdO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgVHJhbnNpdGlvbiB9IGZyb20gJ3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAnO1xuaW1wb3J0IHsgZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCB7IHVuc3RhYmxlX2NvbXBvc2VDbGFzc2VzIGFzIGNvbXBvc2VDbGFzc2VzIH0gZnJvbSAnQG11aS9jb3JlJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnLi4vc3R5bGVzL3N0eWxlZCc7XG5pbXBvcnQgdXNlVGhlbWVQcm9wcyBmcm9tICcuLi9zdHlsZXMvdXNlVGhlbWVQcm9wcyc7XG5pbXBvcnQgeyBkdXJhdGlvbiB9IGZyb20gJy4uL3N0eWxlcy9jcmVhdGVUcmFuc2l0aW9ucyc7XG5pbXBvcnQgeyBnZXRUcmFuc2l0aW9uUHJvcHMgfSBmcm9tICcuLi90cmFuc2l0aW9ucy91dGlscyc7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSAnLi4vc3R5bGVzL3VzZVRoZW1lJztcbmltcG9ydCB7IHVzZUZvcmtSZWYgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBnZXRDb2xsYXBzZVV0aWxpdHlDbGFzcyB9IGZyb20gJy4vY29sbGFwc2VDbGFzc2VzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5cbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBvcmllbnRhdGlvbixcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBgJHtvcmllbnRhdGlvbn1gXSxcbiAgICBlbnRlcmVkOiBbJ2VudGVyZWQnXSxcbiAgICBoaWRkZW46IFsnaGlkZGVuJ10sXG4gICAgd3JhcHBlcjogWyd3cmFwcGVyJywgYCR7b3JpZW50YXRpb259YF0sXG4gICAgd3JhcHBlcklubmVyOiBbJ3dyYXBwZXJJbm5lcicsIGAke29yaWVudGF0aW9ufWBdXG4gIH07XG4gIHJldHVybiBjb21wb3NlQ2xhc3NlcyhzbG90cywgZ2V0Q29sbGFwc2VVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcblxuY29uc3QgQ29sbGFwc2VSb290ID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlDb2xsYXBzZScsXG4gIHNsb3Q6ICdSb290JyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgb3duZXJTdGF0ZVxuICAgIH0gPSBwcm9wcztcbiAgICByZXR1cm4gW3N0eWxlcy5yb290LCBzdHlsZXNbb3duZXJTdGF0ZS5vcmllbnRhdGlvbl0sIG93bmVyU3RhdGUuc3RhdGUgPT09ICdlbnRlcmVkJyAmJiBzdHlsZXMuZW50ZXJlZCwgb3duZXJTdGF0ZS5zdGF0ZSA9PT0gJ2V4aXRlZCcgJiYgIW93bmVyU3RhdGUuaW4gJiYgb3duZXJTdGF0ZS5jb2xsYXBzZWRTaXplID09PSAnMHB4JyAmJiBzdHlsZXMuaGlkZGVuXTtcbiAgfVxufSkoKHtcbiAgdGhlbWUsXG4gIG93bmVyU3RhdGVcbn0pID0+IF9leHRlbmRzKHtcbiAgaGVpZ2h0OiAwLFxuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnaGVpZ2h0Jylcbn0sIG93bmVyU3RhdGUub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiB7XG4gIGhlaWdodDogJ2F1dG8nLFxuICB3aWR0aDogMCxcbiAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd3aWR0aCcpXG59LCBvd25lclN0YXRlLnN0YXRlID09PSAnZW50ZXJlZCcgJiYgX2V4dGVuZHMoe1xuICBoZWlnaHQ6ICdhdXRvJyxcbiAgb3ZlcmZsb3c6ICd2aXNpYmxlJ1xufSwgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIHtcbiAgd2lkdGg6ICdhdXRvJ1xufSksIG93bmVyU3RhdGUuc3RhdGUgPT09ICdleGl0ZWQnICYmICFvd25lclN0YXRlLmluICYmIG93bmVyU3RhdGUuY29sbGFwc2VkU2l6ZSA9PT0gJzBweCcgJiYge1xuICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xufSkpO1xuY29uc3QgQ29sbGFwc2VXcmFwcGVyID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlDb2xsYXBzZScsXG4gIHNsb3Q6ICdXcmFwcGVyJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiBzdHlsZXMud3JhcHBlclxufSkoKHtcbiAgb3duZXJTdGF0ZVxufSkgPT4gX2V4dGVuZHMoe1xuICAvLyBIYWNrIHRvIGdldCBjaGlsZHJlbiB3aXRoIGEgbmVnYXRpdmUgbWFyZ2luIHRvIG5vdCBmYWxzaWZ5IHRoZSBoZWlnaHQgY29tcHV0YXRpb24uXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgd2lkdGg6ICcxMDAlJ1xufSwgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIHtcbiAgd2lkdGg6ICdhdXRvJyxcbiAgaGVpZ2h0OiAnMTAwJSdcbn0pKTtcbmNvbnN0IENvbGxhcHNlV3JhcHBlcklubmVyID0gc3R5bGVkKCdkaXYnLCB7XG4gIG5hbWU6ICdNdWlDb2xsYXBzZScsXG4gIHNsb3Q6ICdXcmFwcGVySW5uZXInLFxuICBvdmVycmlkZXNSZXNvbHZlcjogKHByb3BzLCBzdHlsZXMpID0+IHN0eWxlcy53cmFwcGVySW5uZXJcbn0pKCh7XG4gIG93bmVyU3RhdGVcbn0pID0+IF9leHRlbmRzKHtcbiAgd2lkdGg6ICcxMDAlJ1xufSwgb3duZXJTdGF0ZS5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIHtcbiAgd2lkdGg6ICdhdXRvJyxcbiAgaGVpZ2h0OiAnMTAwJSdcbn0pKTtcbi8qKlxuICogVGhlIENvbGxhcHNlIHRyYW5zaXRpb24gaXMgdXNlZCBieSB0aGVcbiAqIFtWZXJ0aWNhbCBTdGVwcGVyXSgvY29tcG9uZW50cy9zdGVwcGVycy8jdmVydGljYWwtc3RlcHBlcikgU3RlcENvbnRlbnQgY29tcG9uZW50LlxuICogSXQgdXNlcyBbcmVhY3QtdHJhbnNpdGlvbi1ncm91cF0oaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cCkgaW50ZXJuYWxseS5cbiAqL1xuXG5jb25zdCBDb2xsYXBzZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIENvbGxhcHNlKGluUHJvcHMsIHJlZikge1xuICBjb25zdCBwcm9wcyA9IHVzZVRoZW1lUHJvcHMoe1xuICAgIHByb3BzOiBpblByb3BzLFxuICAgIG5hbWU6ICdNdWlDb2xsYXBzZSdcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGFkZEVuZExpc3RlbmVyLFxuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb2xsYXBzZWRTaXplOiBjb2xsYXBzZWRTaXplUHJvcCA9ICcwcHgnLFxuICAgIGNvbXBvbmVudCxcbiAgICBlYXNpbmcsXG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nLFxuICAgIG9uRXhpdCxcbiAgICBvbkV4aXRlZCxcbiAgICBvbkV4aXRpbmcsXG4gICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnLFxuICAgIHN0eWxlLFxuICAgIHRpbWVvdXQgPSBkdXJhdGlvbi5zdGFuZGFyZCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuICAgIFRyYW5zaXRpb25Db21wb25lbnQgPSBUcmFuc2l0aW9uXG4gIH0gPSBwcm9wcyxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCBvd25lclN0YXRlID0gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgb3JpZW50YXRpb24sXG4gICAgY29sbGFwc2VkU2l6ZTogY29sbGFwc2VkU2l6ZVByb3BcbiAgfSk7XG5cbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IHRpbWVyID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IHdyYXBwZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGF1dG9UcmFuc2l0aW9uRHVyYXRpb24gPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgY29sbGFwc2VkU2l6ZSA9IHR5cGVvZiBjb2xsYXBzZWRTaXplUHJvcCA9PT0gJ251bWJlcicgPyBgJHtjb2xsYXBzZWRTaXplUHJvcH1weGAgOiBjb2xsYXBzZWRTaXplUHJvcDtcbiAgY29uc3QgaXNIb3Jpem9udGFsID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJztcbiAgY29uc3Qgc2l6ZSA9IGlzSG9yaXpvbnRhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3Qgbm9kZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZihyZWYsIG5vZGVSZWYpO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayA9PiBtYXliZUlzQXBwZWFyaW5nID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2RlUmVmLmN1cnJlbnQ7IC8vIG9uRW50ZXJYeHggYW5kIG9uRXhpdFh4eCBjYWxsYmFja3MgaGF2ZSBhIGRpZmZlcmVudCBhcmd1bWVudHMubGVuZ3RoIHZhbHVlLlxuXG4gICAgICBpZiAobWF5YmVJc0FwcGVhcmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobm9kZSwgbWF5YmVJc0FwcGVhcmluZyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFdyYXBwZXJTaXplID0gKCkgPT4gd3JhcHBlclJlZi5jdXJyZW50ID8gd3JhcHBlclJlZi5jdXJyZW50W2lzSG9yaXpvbnRhbCA/ICdjbGllbnRXaWR0aCcgOiAnY2xpZW50SGVpZ2h0J10gOiAwO1xuXG4gIGNvbnN0IGhhbmRsZUVudGVyID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBpZiAod3JhcHBlclJlZi5jdXJyZW50ICYmIGlzSG9yaXpvbnRhbCkge1xuICAgICAgLy8gU2V0IGFic29sdXRlIHBvc2l0aW9uIHRvIGdldCB0aGUgc2l6ZSBvZiBjb2xsYXBzZWQgY29udGVudFxuICAgICAgd3JhcHBlclJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB9XG5cbiAgICBub2RlLnN0eWxlW3NpemVdID0gY29sbGFwc2VkU2l6ZTtcblxuICAgIGlmIChvbkVudGVyKSB7XG4gICAgICBvbkVudGVyKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFbnRlcmluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2soKG5vZGUsIGlzQXBwZWFyaW5nKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlclNpemUgPSBnZXRXcmFwcGVyU2l6ZSgpO1xuXG4gICAgaWYgKHdyYXBwZXJSZWYuY3VycmVudCAmJiBpc0hvcml6b250YWwpIHtcbiAgICAgIC8vIEFmdGVyIHRoZSBzaXplIGlzIHJlYWQgcmVzZXQgdGhlIHBvc2l0aW9uIGJhY2sgdG8gZGVmYXVsdFxuICAgICAgd3JhcHBlclJlZi5jdXJyZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIGVhc2luZzogdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG4gICAgfSA9IGdldFRyYW5zaXRpb25Qcm9wcyh7XG4gICAgICBzdHlsZSxcbiAgICAgIHRpbWVvdXQsXG4gICAgICBlYXNpbmdcbiAgICB9LCB7XG4gICAgICBtb2RlOiAnZW50ZXInXG4gICAgfSk7XG5cbiAgICBpZiAodGltZW91dCA9PT0gJ2F1dG8nKSB7XG4gICAgICBjb25zdCBkdXJhdGlvbjIgPSB0aGVtZS50cmFuc2l0aW9ucy5nZXRBdXRvSGVpZ2h0RHVyYXRpb24od3JhcHBlclNpemUpO1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbjJ9bXNgO1xuICAgICAgYXV0b1RyYW5zaXRpb25EdXJhdGlvbi5jdXJyZW50ID0gZHVyYXRpb24yO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiB0cmFuc2l0aW9uRHVyYXRpb24gPT09ICdzdHJpbmcnID8gdHJhbnNpdGlvbkR1cmF0aW9uIDogYCR7dHJhbnNpdGlvbkR1cmF0aW9ufW1zYDtcbiAgICB9XG5cbiAgICBub2RlLnN0eWxlW3NpemVdID0gYCR7d3JhcHBlclNpemV9cHhgO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uO1xuXG4gICAgaWYgKG9uRW50ZXJpbmcpIHtcbiAgICAgIG9uRW50ZXJpbmcobm9kZSwgaXNBcHBlYXJpbmcpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUVudGVyZWQgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKChub2RlLCBpc0FwcGVhcmluZykgPT4ge1xuICAgIG5vZGUuc3R5bGVbc2l6ZV0gPSAnYXV0byc7XG5cbiAgICBpZiAob25FbnRlcmVkKSB7XG4gICAgICBvbkVudGVyZWQobm9kZSwgaXNBcHBlYXJpbmcpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUV4aXQgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKG5vZGUgPT4ge1xuICAgIG5vZGUuc3R5bGVbc2l6ZV0gPSBgJHtnZXRXcmFwcGVyU2l6ZSgpfXB4YDtcblxuICAgIGlmIChvbkV4aXQpIHtcbiAgICAgIG9uRXhpdChub2RlKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFeGl0ZWQgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKG9uRXhpdGVkKTtcbiAgY29uc3QgaGFuZGxlRXhpdGluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlclNpemUgPSBnZXRXcmFwcGVyU2l6ZSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICBlYXNpbmc6IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblxuICAgIH0gPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgc3R5bGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgZWFzaW5nXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2V4aXQnXG4gICAgfSk7XG5cbiAgICBpZiAodGltZW91dCA9PT0gJ2F1dG8nKSB7XG4gICAgICAvLyBUT0RPOiByZW5hbWUgZ2V0QXV0b0hlaWdodER1cmF0aW9uIHRvIHNvbWV0aGluZyBtb3JlIGdlbmVyaWMgKHdpZHRoIHN1cHBvcnQpXG4gICAgICAvLyBBY3R1YWxseSBpdCBqdXN0IGNhbGN1bGF0ZXMgYW5pbWF0aW9uIGR1cmF0aW9uIGJhc2VkIG9uIHNpemVcbiAgICAgIGNvbnN0IGR1cmF0aW9uMiA9IHRoZW1lLnRyYW5zaXRpb25zLmdldEF1dG9IZWlnaHREdXJhdGlvbih3cmFwcGVyU2l6ZSk7XG4gICAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9uMn1tc2A7XG4gICAgICBhdXRvVHJhbnNpdGlvbkR1cmF0aW9uLmN1cnJlbnQgPSBkdXJhdGlvbjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gdHlwZW9mIHRyYW5zaXRpb25EdXJhdGlvbiA9PT0gJ3N0cmluZycgPyB0cmFuc2l0aW9uRHVyYXRpb24gOiBgJHt0cmFuc2l0aW9uRHVyYXRpb259bXNgO1xuICAgIH1cblxuICAgIG5vZGUuc3R5bGVbc2l6ZV0gPSBjb2xsYXBzZWRTaXplO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uO1xuXG4gICAgaWYgKG9uRXhpdGluZykge1xuICAgICAgb25FeGl0aW5nKG5vZGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlQWRkRW5kTGlzdGVuZXIgPSBuZXh0ID0+IHtcbiAgICBpZiAodGltZW91dCA9PT0gJ2F1dG8nKSB7XG4gICAgICB0aW1lci5jdXJyZW50ID0gc2V0VGltZW91dChuZXh0LCBhdXRvVHJhbnNpdGlvbkR1cmF0aW9uLmN1cnJlbnQgfHwgMCk7XG4gICAgfVxuXG4gICAgaWYgKGFkZEVuZExpc3RlbmVyKSB7XG4gICAgICAvLyBPbGQgY2FsbCBzaWduYXR1cmUgYmVmb3JlIGByZWFjdC10cmFuc2l0aW9uLWdyb3VwYCBpbXBsZW1lbnRlZCBgbm9kZVJlZmBcbiAgICAgIGFkZEVuZExpc3RlbmVyKG5vZGVSZWYuY3VycmVudCwgbmV4dCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChUcmFuc2l0aW9uQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgaW46IGluUHJvcCxcbiAgICBvbkVudGVyOiBoYW5kbGVFbnRlcixcbiAgICBvbkVudGVyZWQ6IGhhbmRsZUVudGVyZWQsXG4gICAgb25FbnRlcmluZzogaGFuZGxlRW50ZXJpbmcsXG4gICAgb25FeGl0OiBoYW5kbGVFeGl0LFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWQsXG4gICAgb25FeGl0aW5nOiBoYW5kbGVFeGl0aW5nLFxuICAgIGFkZEVuZExpc3RlbmVyOiBoYW5kbGVBZGRFbmRMaXN0ZW5lcixcbiAgICBub2RlUmVmOiBub2RlUmVmLFxuICAgIHRpbWVvdXQ6IHRpbWVvdXQgPT09ICdhdXRvJyA/IG51bGwgOiB0aW1lb3V0XG4gIH0sIG90aGVyLCB7XG4gICAgY2hpbGRyZW46IChzdGF0ZSwgY2hpbGRQcm9wcykgPT4gLyojX19QVVJFX18qL19qc3goQ29sbGFwc2VSb290LCBfZXh0ZW5kcyh7XG4gICAgICBhczogY29tcG9uZW50LFxuICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lLCB7XG4gICAgICAgICdlbnRlcmVkJzogY2xhc3Nlcy5lbnRlcmVkLFxuICAgICAgICAnZXhpdGVkJzogIWluUHJvcCAmJiBjb2xsYXBzZWRTaXplID09PSAnMHB4JyAmJiBjbGFzc2VzLmhpZGRlblxuICAgICAgfVtzdGF0ZV0pLFxuICAgICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgICAgW2lzSG9yaXpvbnRhbCA/ICdtaW5XaWR0aCcgOiAnbWluSGVpZ2h0J106IGNvbGxhcHNlZFNpemVcbiAgICAgIH0sIHN0eWxlKSxcbiAgICAgIG93bmVyU3RhdGU6IF9leHRlbmRzKHt9LCBvd25lclN0YXRlLCB7XG4gICAgICAgIHN0YXRlXG4gICAgICB9KSxcbiAgICAgIHJlZjogaGFuZGxlUmVmXG4gICAgfSwgY2hpbGRQcm9wcywge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KENvbGxhcHNlV3JhcHBlciwge1xuICAgICAgICBvd25lclN0YXRlOiBfZXh0ZW5kcyh7fSwgb3duZXJTdGF0ZSwge1xuICAgICAgICAgIHN0YXRlXG4gICAgICAgIH0pLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMud3JhcHBlcixcbiAgICAgICAgcmVmOiB3cmFwcGVyUmVmLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQ29sbGFwc2VXcmFwcGVySW5uZXIsIHtcbiAgICAgICAgICBvd25lclN0YXRlOiBfZXh0ZW5kcyh7fSwgb3duZXJTdGF0ZSwge1xuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMud3JhcHBlcklubmVyLFxuICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KSlcbiAgfSkpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDb2xsYXBzZS5wcm9wVHlwZXNcbi8qIHJlbW92ZS1wcm9wdHlwZXMgKi9cbj0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nIERPTVxuICAgKiBub2RlIGFuZCBhIGRvbmUgY2FsbGJhY2suIEFsbG93cyBmb3IgbW9yZSBmaW5lIGdyYWluZWQgdHJhbnNpdGlvbiBlbmRcbiAgICogbG9naWMuIE5vdGU6IFRpbWVvdXRzIGFyZSBzdGlsbCB1c2VkIGFzIGEgZmFsbGJhY2sgaWYgcHJvdmlkZWQuXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG5vZGUgdG8gYmUgY29sbGFwc2VkLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSB3aWR0aCAoaG9yaXpvbnRhbCkgb3IgaGVpZ2h0ICh2ZXJ0aWNhbCkgb2YgdGhlIGNvbnRhaW5lciB3aGVuIGNvbGxhcHNlZC5cbiAgICogQGRlZmF1bHQgJzBweCdcbiAgICovXG4gIGNvbGxhcHNlZFNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBlbGVtZW50VHlwZUFjY2VwdGluZ1JlZixcblxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gdGltaW5nIGZ1bmN0aW9uLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgZWFzaW5nIG9yIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50ZXIgYW5kIGV4aXQgdmFsdWVzLlxuICAgKi9cbiAgZWFzaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVudGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHdpbGwgdHJhbnNpdGlvbiBpbi5cbiAgICovXG4gIGluOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdGluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2l0aW9uIG9yaWVudGF0aW9uLlxuICAgKiBAZGVmYXVsdCAndmVydGljYWwnXG4gICAqL1xuICBvcmllbnRhdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddKSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvcCB0aGF0IGFsbG93cyBkZWZpbmluZyBzeXN0ZW0gb3ZlcnJpZGVzIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBDU1Mgc3R5bGVzLlxuICAgKi9cbiAgc3g6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBmb3IgdGhlIHRyYW5zaXRpb24sIGluIG1pbGxpc2Vjb25kcy5cbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIHRpbWVvdXQgZm9yIGFsbCB0cmFuc2l0aW9ucywgb3IgaW5kaXZpZHVhbGx5IHdpdGggYW4gb2JqZWN0LlxuICAgKlxuICAgKiBTZXQgdG8gJ2F1dG8nIHRvIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlIHRyYW5zaXRpb24gdGltZSBiYXNlZCBvbiBoZWlnaHQuXG4gICAqIEBkZWZhdWx0IGR1cmF0aW9uLnN0YW5kYXJkXG4gICAqL1xuICB0aW1lb3V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWydhdXRvJ10pLCBQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGFwcGVhcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBlbnRlcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBleGl0OiBQcm9wVHlwZXMubnVtYmVyXG4gIH0pXSlcbn0gOiB2b2lkIDA7XG5Db2xsYXBzZS5tdWlTdXBwb3J0QXV0byA9IHRydWU7XG5leHBvcnQgZGVmYXVsdCBDb2xsYXBzZTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZWxlbWVudEFjY2VwdGluZ1JlZiwgZXhhY3RQcm9wIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICcuLi91dGlscy9vd25lckRvY3VtZW50JztcbmltcG9ydCB1c2VGb3JrUmVmIGZyb20gJy4uL3V0aWxzL3VzZUZvcmtSZWYnO1xuaW1wb3J0IHVzZUV2ZW50Q2FsbGJhY2sgZnJvbSAnLi4vdXRpbHMvdXNlRXZlbnRDYWxsYmFjayc7IC8vIFRPRE86IHJldHVybiBgRXZlbnRIYW5kbGVyTmFtZSBleHRlbmRzIGBvbiR7aW5mZXIgRXZlbnROYW1lfWAgPyBMb3dlcmNhc2U8RXZlbnROYW1lPiA6IG5ldmVyYCBvbmNlIGdlbmVyYXRlUHJvcFR5cGVzIHJ1bnMgd2l0aCBUUyA0LjFcblxuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcblxuZnVuY3Rpb24gbWFwRXZlbnRQcm9wVG9FdmVudChldmVudFByb3ApIHtcbiAgcmV0dXJuIGV2ZW50UHJvcC5zdWJzdHJpbmcoMikudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gY2xpY2tlZFJvb3RTY3JvbGxiYXIoZXZlbnQsIGRvYykge1xuICByZXR1cm4gZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IGV2ZW50LmNsaWVudFggfHwgZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPCBldmVudC5jbGllbnRZO1xufVxuXG4vKipcbiAqIExpc3RlbiBmb3IgY2xpY2sgZXZlbnRzIHRoYXQgb2NjdXIgc29tZXdoZXJlIGluIHRoZSBkb2N1bWVudCwgb3V0c2lkZSBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gKiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBuZWVkIHRvIGhpZGUgYSBtZW51IHdoZW4gcGVvcGxlIGNsaWNrIGFueXdoZXJlIGVsc2Ugb24geW91ciBwYWdlLlxuICpcbiAqIERlbW9zOlxuICpcbiAqIC0gW0NsaWNrIEF3YXkgTGlzdGVuZXJdKGh0dHBzOi8vbXVpLmNvbS9jb21wb25lbnRzL2NsaWNrLWF3YXktbGlzdGVuZXIvKVxuICogLSBbTWVudXNdKGh0dHBzOi8vbXVpLmNvbS9jb21wb25lbnRzL21lbnVzLylcbiAqXG4gKiBBUEk6XG4gKlxuICogLSBbQ2xpY2tBd2F5TGlzdGVuZXIgQVBJXShodHRwczovL211aS5jb20vYXBpL2NsaWNrLWF3YXktbGlzdGVuZXIvKVxuICovXG5mdW5jdGlvbiBDbGlja0F3YXlMaXN0ZW5lcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgZGlzYWJsZVJlYWN0VHJlZSA9IGZhbHNlLFxuICAgIG1vdXNlRXZlbnQgPSAnb25DbGljaycsXG4gICAgb25DbGlja0F3YXksXG4gICAgdG91Y2hFdmVudCA9ICdvblRvdWNoRW5kJ1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG1vdmVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgbm9kZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgYWN0aXZhdGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgc3ludGhldGljRXZlbnRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEVuc3VyZSB0aGF0IHRoaXMgY29tcG9uZW50IGlzIG5vdCBcImFjdGl2YXRlZFwiIHN5bmNocm9ub3VzbHkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8yMDA3NFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYWN0aXZhdGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhY3RpdmF0ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlUmVmID0gdXNlRm9ya1JlZiggLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHVwc3RyZWFtIGZpeFxuICBjaGlsZHJlbi5yZWYsIG5vZGVSZWYpOyAvLyBUaGUgaGFuZGxlciBkb2Vzbid0IHRha2UgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCBpbnRvIGFjY291bnQ6XG4gIC8vXG4gIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCkgaXMgbWVhbnQgdG8gc3RvcCBkZWZhdWx0IGJlaGF2aW9ycyBsaWtlXG4gIC8vIGNsaWNraW5nIGEgY2hlY2tib3ggdG8gY2hlY2sgaXQsIGhpdHRpbmcgYSBidXR0b24gdG8gc3VibWl0IGEgZm9ybSxcbiAgLy8gYW5kIGhpdHRpbmcgbGVmdCBhcnJvdyB0byBtb3ZlIHRoZSBjdXJzb3IgaW4gYSB0ZXh0IGlucHV0IGV0Yy5cbiAgLy8gT25seSBzcGVjaWFsIEhUTUwgZWxlbWVudHMgaGF2ZSB0aGVzZSBkZWZhdWx0IGJlaGF2aW9ycy5cblxuICBjb25zdCBoYW5kbGVDbGlja0F3YXkgPSB1c2VFdmVudENhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAvLyBHaXZlbiBkZXZlbG9wZXJzIGNhbiBzdG9wIHRoZSBwcm9wYWdhdGlvbiBvZiB0aGUgc3ludGhldGljIGV2ZW50LFxuICAgIC8vIHdlIGNhbiBvbmx5IGJlIGNvbmZpZGVudCB3aXRoIGEgcG9zaXRpdmUgdmFsdWUuXG4gICAgY29uc3QgaW5zaWRlUmVhY3RUcmVlID0gc3ludGhldGljRXZlbnRSZWYuY3VycmVudDtcbiAgICBzeW50aGV0aWNFdmVudFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChub2RlUmVmLmN1cnJlbnQpOyAvLyAxLiBJRTExIHN1cHBvcnQsIHdoaWNoIHRyaWdnZXIgdGhlIGhhbmRsZUNsaWNrQXdheSBldmVuIGFmdGVyIHRoZSB1bmJpbmRcbiAgICAvLyAyLiBUaGUgY2hpbGQgbWlnaHQgcmVuZGVyIG51bGwuXG4gICAgLy8gMy4gQmVoYXZlIGxpa2UgYSBibHVyIGxpc3RlbmVyLlxuXG4gICAgaWYgKCFhY3RpdmF0ZWRSZWYuY3VycmVudCB8fCAhbm9kZVJlZi5jdXJyZW50IHx8ICdjbGllbnRYJyBpbiBldmVudCAmJiBjbGlja2VkUm9vdFNjcm9sbGJhcihldmVudCwgZG9jKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRG8gbm90IGFjdCBpZiB1c2VyIHBlcmZvcm1lZCB0b3VjaG1vdmVcblxuXG4gICAgaWYgKG1vdmVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIG1vdmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgaW5zaWRlRE9NOyAvLyBJZiBub3QgZW5vdWdoLCBjYW4gdXNlIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWV0ZXJIb2x2b2V0L2V2ZW50LXByb3BhZ2F0aW9uLXBhdGgvYmxvYi9tYXN0ZXIvcHJvcGFnYXRpb25QYXRoLmpzXG5cbiAgICBpZiAoZXZlbnQuY29tcG9zZWRQYXRoKSB7XG4gICAgICBpbnNpZGVET00gPSBldmVudC5jb21wb3NlZFBhdGgoKS5pbmRleE9mKG5vZGVSZWYuY3VycmVudCkgPiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zaWRlRE9NID0gIWRvYy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoIC8vIEB0cy1leHBlY3QtZXJyb3IgcmV0dXJucyBgZmFsc2VgIGFzIGludGVuZGVkIHdoZW4gbm90IGRpc3BhdGNoZWQgZnJvbSBhIE5vZGVcbiAgICAgIGV2ZW50LnRhcmdldCkgfHwgbm9kZVJlZi5jdXJyZW50LmNvbnRhaW5zKCAvLyBAdHMtZXhwZWN0LWVycm9yIHJldHVybnMgYGZhbHNlYCBhcyBpbnRlbmRlZCB3aGVuIG5vdCBkaXNwYXRjaGVkIGZyb20gYSBOb2RlXG4gICAgICBldmVudC50YXJnZXQpO1xuICAgIH1cblxuICAgIGlmICghaW5zaWRlRE9NICYmIChkaXNhYmxlUmVhY3RUcmVlIHx8ICFpbnNpZGVSZWFjdFRyZWUpKSB7XG4gICAgICBvbkNsaWNrQXdheShldmVudCk7XG4gICAgfVxuICB9KTsgLy8gS2VlcCB0cmFjayBvZiBtb3VzZS90b3VjaCBldmVudHMgdGhhdCBidWJibGVkIHVwIHRocm91Z2ggdGhlIHBvcnRhbC5cblxuICBjb25zdCBjcmVhdGVIYW5kbGVTeW50aGV0aWMgPSBoYW5kbGVyTmFtZSA9PiBldmVudCA9PiB7XG4gICAgc3ludGhldGljRXZlbnRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgY29uc3QgY2hpbGRyZW5Qcm9wc0hhbmRsZXIgPSBjaGlsZHJlbi5wcm9wc1toYW5kbGVyTmFtZV07XG5cbiAgICBpZiAoY2hpbGRyZW5Qcm9wc0hhbmRsZXIpIHtcbiAgICAgIGNoaWxkcmVuUHJvcHNIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hpbGRyZW5Qcm9wcyA9IHtcbiAgICByZWY6IGhhbmRsZVJlZlxuICB9O1xuXG4gIGlmICh0b3VjaEV2ZW50ICE9PSBmYWxzZSkge1xuICAgIGNoaWxkcmVuUHJvcHNbdG91Y2hFdmVudF0gPSBjcmVhdGVIYW5kbGVTeW50aGV0aWModG91Y2hFdmVudCk7XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0b3VjaEV2ZW50ICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgbWFwcGVkVG91Y2hFdmVudCA9IG1hcEV2ZW50UHJvcFRvRXZlbnQodG91Y2hFdmVudCk7XG4gICAgICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGVSZWYuY3VycmVudCk7XG5cbiAgICAgIGNvbnN0IGhhbmRsZVRvdWNoTW92ZSA9ICgpID0+IHtcbiAgICAgICAgbW92ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihtYXBwZWRUb3VjaEV2ZW50LCBoYW5kbGVDbGlja0F3YXkpO1xuICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihtYXBwZWRUb3VjaEV2ZW50LCBoYW5kbGVDbGlja0F3YXkpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2hhbmRsZUNsaWNrQXdheSwgdG91Y2hFdmVudF0pO1xuXG4gIGlmIChtb3VzZUV2ZW50ICE9PSBmYWxzZSkge1xuICAgIGNoaWxkcmVuUHJvcHNbbW91c2VFdmVudF0gPSBjcmVhdGVIYW5kbGVTeW50aGV0aWMobW91c2VFdmVudCk7XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb3VzZUV2ZW50ICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgbWFwcGVkTW91c2VFdmVudCA9IG1hcEV2ZW50UHJvcFRvRXZlbnQobW91c2VFdmVudCk7XG4gICAgICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGVSZWYuY3VycmVudCk7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihtYXBwZWRNb3VzZUV2ZW50LCBoYW5kbGVDbGlja0F3YXkpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIobWFwcGVkTW91c2VFdmVudCwgaGFuZGxlQ2xpY2tBd2F5KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2hhbmRsZUNsaWNrQXdheSwgbW91c2VFdmVudF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goUmVhY3QuRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgY2hpbGRyZW5Qcm9wcylcbiAgfSk7XG59XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENsaWNrQXdheUxpc3RlbmVyLnByb3BUeXBlc1xuLyogcmVtb3ZlLXByb3B0eXBlcyAqL1xuPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IFR5cGVTY3JpcHQgdHlwZXMgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBUaGUgd3JhcHBlZCBlbGVtZW50LlxuICAgKi9cbiAgY2hpbGRyZW46IGVsZW1lbnRBY2NlcHRpbmdSZWYuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgUmVhY3QgdHJlZSBpcyBpZ25vcmVkIGFuZCBvbmx5IHRoZSBET00gdHJlZSBpcyBjb25zaWRlcmVkLlxuICAgKiBUaGlzIHByb3AgY2hhbmdlcyBob3cgcG9ydGFsZWQgZWxlbWVudHMgYXJlIGhhbmRsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkaXNhYmxlUmVhY3RUcmVlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogVGhlIG1vdXNlIGV2ZW50IHRvIGxpc3RlbiB0by4gWW91IGNhbiBkaXNhYmxlIHRoZSBsaXN0ZW5lciBieSBwcm92aWRpbmcgYGZhbHNlYC5cbiAgICogQGRlZmF1bHQgJ29uQ2xpY2snXG4gICAqL1xuICBtb3VzZUV2ZW50OiBQcm9wVHlwZXMub25lT2YoWydvbkNsaWNrJywgJ29uTW91c2VEb3duJywgJ29uTW91c2VVcCcsIGZhbHNlXSksXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gYSBcImNsaWNrIGF3YXlcIiBldmVudCBpcyBkZXRlY3RlZC5cbiAgICovXG4gIG9uQ2xpY2tBd2F5OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBUaGUgdG91Y2ggZXZlbnQgdG8gbGlzdGVuIHRvLiBZb3UgY2FuIGRpc2FibGUgdGhlIGxpc3RlbmVyIGJ5IHByb3ZpZGluZyBgZmFsc2VgLlxuICAgKiBAZGVmYXVsdCAnb25Ub3VjaEVuZCdcbiAgICovXG4gIHRvdWNoRXZlbnQ6IFByb3BUeXBlcy5vbmVPZihbJ29uVG91Y2hFbmQnLCAnb25Ub3VjaFN0YXJ0JywgZmFsc2VdKVxufSA6IHZvaWQgMDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIENsaWNrQXdheUxpc3RlbmVyWydwcm9wVHlwZXMnICsgJyddID0gZXhhY3RQcm9wKENsaWNrQXdheUxpc3RlbmVyLnByb3BUeXBlcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsaWNrQXdheUxpc3RlbmVyOyIsImltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCwgY3JlYXRlRWxlbWVudCwgdXNlU3RhdGUsIENvbXBvbmVudCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBTbGlkZSBmcm9tICdAbXVpL21hdGVyaWFsL1NsaWRlJztcbmltcG9ydCB7IHN0eWxlZCwgZW1waGFzaXplIH0gZnJvbSAnQG11aS9tYXRlcmlhbC9zdHlsZXMnO1xuaW1wb3J0IENvbGxhcHNlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQ29sbGFwc2UnO1xuaW1wb3J0IFN2Z0ljb24gZnJvbSAnQG11aS9tYXRlcmlhbC9TdmdJY29uJztcbmltcG9ydCBDbGlja0F3YXlMaXN0ZW5lciBmcm9tICdAbXVpL21hdGVyaWFsL0NsaWNrQXdheUxpc3RlbmVyJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxudmFyIFNuYWNrYmFyQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KCk7XG5cbnZhciBhbGxDbGFzc2VzID0ge1xuICBtdWk6IHtcbiAgICByb290OiB7fSxcbiAgICBhbmNob3JPcmlnaW5Ub3BDZW50ZXI6IHt9LFxuICAgIGFuY2hvck9yaWdpbkJvdHRvbUNlbnRlcjoge30sXG4gICAgYW5jaG9yT3JpZ2luVG9wUmlnaHQ6IHt9LFxuICAgIGFuY2hvck9yaWdpbkJvdHRvbVJpZ2h0OiB7fSxcbiAgICBhbmNob3JPcmlnaW5Ub3BMZWZ0OiB7fSxcbiAgICBhbmNob3JPcmlnaW5Cb3R0b21MZWZ0OiB7fVxuICB9LFxuICBjb250YWluZXI6IHtcbiAgICBjb250YWluZXJSb290OiB7fSxcbiAgICBjb250YWluZXJBbmNob3JPcmlnaW5Ub3BDZW50ZXI6IHt9LFxuICAgIGNvbnRhaW5lckFuY2hvck9yaWdpbkJvdHRvbUNlbnRlcjoge30sXG4gICAgY29udGFpbmVyQW5jaG9yT3JpZ2luVG9wUmlnaHQ6IHt9LFxuICAgIGNvbnRhaW5lckFuY2hvck9yaWdpbkJvdHRvbVJpZ2h0OiB7fSxcbiAgICBjb250YWluZXJBbmNob3JPcmlnaW5Ub3BMZWZ0OiB7fSxcbiAgICBjb250YWluZXJBbmNob3JPcmlnaW5Cb3R0b21MZWZ0OiB7fVxuICB9XG59O1xudmFyIE1FU1NBR0VTID0ge1xuICBOT19QRVJTSVNUX0FMTDogJ1dBUk5JTkcgLSBub3Rpc3RhY2s6IFJlYWNoZWQgbWF4U25hY2sgd2hpbGUgYWxsIGVucXVldWVkIHNuYWNrYmFycyBoYXZlIFxcJ3BlcnNpc3RcXCcgZmxhZy4gTm90aXN0YWNrIHdpbGwgZGlzbWlzcyB0aGUgb2xkZXN0IHNuYWNrYmFyIGFueXdheSB0byBhbGxvdyBvdGhlciBvbmVzIGluIHRoZSBxdWV1ZSB0byBiZSBwcmVzZW50ZWQuJ1xufTtcbnZhciBTTkFDS0JBUl9JTkRFTlRTID0ge1xuICB2aWV3OiB7XG4gICAgXCJkZWZhdWx0XCI6IDIwLFxuICAgIGRlbnNlOiA0XG4gIH0sXG4gIHNuYWNrYmFyOiB7XG4gICAgXCJkZWZhdWx0XCI6IDYsXG4gICAgZGVuc2U6IDJcbiAgfVxufTtcbnZhciBERUZBVUxUUyA9IHtcbiAgbWF4U25hY2s6IDMsXG4gIGRlbnNlOiBmYWxzZSxcbiAgaGlkZUljb25WYXJpYW50OiBmYWxzZSxcbiAgdmFyaWFudDogJ2RlZmF1bHQnLFxuICBhdXRvSGlkZUR1cmF0aW9uOiA1MDAwLFxuICBhbmNob3JPcmlnaW46IHtcbiAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgaG9yaXpvbnRhbDogJ2xlZnQnXG4gIH0sXG4gIFRyYW5zaXRpb25Db21wb25lbnQ6IFNsaWRlLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IHtcbiAgICBlbnRlcjogMjI1LFxuICAgIGV4aXQ6IDE5NVxuICB9XG59O1xudmFyIGNhcGl0YWxpc2UgPSBmdW5jdGlvbiBjYXBpdGFsaXNlKHRleHQpIHtcbiAgcmV0dXJuIHRleHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnNsaWNlKDEpO1xufTtcbnZhciBvcmlnaW5LZXlFeHRyYWN0b3IgPSBmdW5jdGlvbiBvcmlnaW5LZXlFeHRyYWN0b3IoYW5jaG9yKSB7XG4gIHJldHVybiBcIlwiICsgY2FwaXRhbGlzZShhbmNob3IudmVydGljYWwpICsgY2FwaXRhbGlzZShhbmNob3IuaG9yaXpvbnRhbCk7XG59O1xuLyoqXHJcbiAqIE9taXQgU25hY2tiYXJDb250YWluZXIgY2xhc3Mga2V5cyB0aGF0IGFyZSBub3QgbmVlZGVkIGZvciBTbmFja2Jhckl0ZW1cclxuICovXG5cbnZhciBvbWl0Q29udGFpbmVyS2V5cyA9IGZ1bmN0aW9uIG9taXRDb250YWluZXJLZXlzKGNsYXNzZXMpIHtcbiAgcmV0dXJuICgvLyBAdHMtaWdub3JlXG4gICAgT2JqZWN0LmtleXMoY2xhc3NlcykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiAhYWxsQ2xhc3Nlcy5jb250YWluZXJba2V5XTtcbiAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIG9iaiwgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJba2V5XSA9IGNsYXNzZXNba2V5XSwgX2V4dGVuZHMyKSk7XG4gICAgfSwge30pXG4gICk7XG59O1xudmFyIFJFQVNPTlMgPSB7XG4gIFRJTUVPVVQ6ICd0aW1lb3V0JyxcbiAgQ0xJQ0tBV0FZOiAnY2xpY2thd2F5JyxcbiAgTUFYU05BQ0s6ICdtYXhzbmFjaycsXG4gIElOU1RSVUNURUQ6ICdpbnN0cnVjdGVkJ1xufTtcbi8qKiBUcmFuZm9ybXMgY2xhc3NlcyBuYW1lICovXG5cbnZhciB0cmFuc2Zvcm1lciA9IHtcbiAgdG9Db250YWluZXJBbmNob3JPcmlnaW46IGZ1bmN0aW9uIHRvQ29udGFpbmVyQW5jaG9yT3JpZ2luKG9yaWdpbikge1xuICAgIHJldHVybiBcImNvbnRhaW5lckFuY2hvck9yaWdpblwiICsgb3JpZ2luO1xuICB9LFxuICB0b0FuY2hvck9yaWdpbjogZnVuY3Rpb24gdG9BbmNob3JPcmlnaW4oX3JlZikge1xuICAgIHZhciB2ZXJ0aWNhbCA9IF9yZWYudmVydGljYWwsXG4gICAgICAgIGhvcml6b250YWwgPSBfcmVmLmhvcml6b250YWw7XG4gICAgcmV0dXJuIFwiYW5jaG9yT3JpZ2luXCIgKyBjYXBpdGFsaXNlKHZlcnRpY2FsKSArIGNhcGl0YWxpc2UoaG9yaXpvbnRhbCk7XG4gIH0sXG4gIHRvVmFyaWFudDogZnVuY3Rpb24gdG9WYXJpYW50KHZhcmlhbnQpIHtcbiAgICByZXR1cm4gXCJ2YXJpYW50XCIgKyBjYXBpdGFsaXNlKHZhcmlhbnQpO1xuICB9XG59O1xudmFyIGlzRGVmaW5lZCA9IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gMDtcbn07XG5cbnZhciBudW1iZXJPck51bGwgPSBmdW5jdGlvbiBudW1iZXJPck51bGwobnVtYmVyaXNoKSB7XG4gIHJldHVybiB0eXBlb2YgbnVtYmVyaXNoID09PSAnbnVtYmVyJyB8fCBudW1iZXJpc2ggPT09IG51bGw7XG59OyAvLyBAdHMtaWdub3JlXG5cblxudmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2Uob3B0aW9ucywgcHJvcHMsIGRlZmF1bHRzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChuYW1lID09PSAnYXV0b0hpZGVEdXJhdGlvbicpIHtcbiAgICAgIGlmIChudW1iZXJPck51bGwob3B0aW9ucy5hdXRvSGlkZUR1cmF0aW9uKSkgcmV0dXJuIG9wdGlvbnMuYXV0b0hpZGVEdXJhdGlvbjtcbiAgICAgIGlmIChudW1iZXJPck51bGwocHJvcHMuYXV0b0hpZGVEdXJhdGlvbikpIHJldHVybiBwcm9wcy5hdXRvSGlkZUR1cmF0aW9uO1xuICAgICAgcmV0dXJuIERFRkFVTFRTLmF1dG9IaWRlRHVyYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNbbmFtZV0gfHwgcHJvcHNbbmFtZV0gfHwgZGVmYXVsdHNbbmFtZV07XG4gIH07XG59O1xuZnVuY3Rpb24gb2JqZWN0TWVyZ2Uob3B0aW9ucywgcHJvcHMsIGRlZmF1bHRzKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICBpZiAoZGVmYXVsdHMgPT09IHZvaWQgMCkge1xuICAgIGRlZmF1bHRzID0ge307XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCB7fSwgcHJvcHMsIHt9LCBvcHRpb25zKTtcbn1cblxudmFyIGNvbXBvbmVudE5hbWUgPSAnU25hY2tiYXJDb250ZW50JztcbnZhciBjbGFzc2VzID0ge1xuICByb290OiBjb21wb25lbnROYW1lICsgXCItcm9vdFwiXG59O1xudmFyIFJvb3QgPSAvKiNfX1BVUkVfXyovc3R5bGVkKCdkaXYnKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZjIsIF9yZWYzO1xuXG4gIHZhciB0aGVtZSA9IF9yZWYudGhlbWU7XG4gIHJldHVybiBfcmVmMyA9IHt9LCBfcmVmM1tcIiYuXCIgKyBjbGFzc2VzLnJvb3RdID0gKF9yZWYyID0ge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgIGZsZXhHcm93OiAxXG4gIH0sIF9yZWYyW3RoZW1lLmJyZWFrcG9pbnRzLnVwKCdzbScpXSA9IHtcbiAgICBmbGV4R3JvdzogJ2luaXRpYWwnLFxuICAgIG1pbldpZHRoOiAyODhcbiAgfSwgX3JlZjIpLCBfcmVmMztcbn0pO1xudmFyIFNuYWNrYmFyQ29udGVudCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmNCwgcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmNC5jbGFzc05hbWUsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY0LCBbXCJjbGFzc05hbWVcIl0pO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvb3QsIE9iamVjdC5hc3NpZ24oe1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSlcbiAgfSwgcHJvcHMpKTtcbn0pO1xuXG52YXIgRElSRUNUSU9OID0ge1xuICByaWdodDogJ2xlZnQnLFxuICBsZWZ0OiAncmlnaHQnLFxuICBib3R0b206ICd1cCcsXG4gIHRvcDogJ2Rvd24nXG59O1xudmFyIGdldFRyYW5zaXRpb25EaXJlY3Rpb24gPSBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uRGlyZWN0aW9uKGFuY2hvck9yaWdpbikge1xuICBpZiAoYW5jaG9yT3JpZ2luLmhvcml6b250YWwgIT09ICdjZW50ZXInKSB7XG4gICAgcmV0dXJuIERJUkVDVElPTlthbmNob3JPcmlnaW4uaG9yaXpvbnRhbF07XG4gIH1cblxuICByZXR1cm4gRElSRUNUSU9OW2FuY2hvck9yaWdpbi52ZXJ0aWNhbF07XG59O1xuXG52YXIgQ2hlY2tJY29uID0gZnVuY3Rpb24gQ2hlY2tJY29uKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z0ljb24sIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEyIDJDNi41IDIgMiA2LjUgMiAxMlM2LjUgMjIgMTIgMjIgMjIgMTcuNSAyMiAxMiAxNy41IDIgMTIgMk0xMCAxN0w1IDEyTDYuNDFcXG4gICAgICAgIDEwLjU5TDEwIDE0LjE3TDE3LjU5IDYuNThMMTkgOEwxMCAxN1pcIlxuICB9KSk7XG59O1xuXG52YXIgV2FybmluZ0ljb24gPSBmdW5jdGlvbiBXYXJuaW5nSWNvbihwcm9wcykge1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdmdJY29uLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMywxNEgxMVYxMEgxM00xMywxOEgxMVYxNkgxM00xLDIxSDIzTDEyLDJMMSwyMVpcIlxuICB9KSk7XG59O1xuXG52YXIgRXJyb3JJY29uID0gZnVuY3Rpb24gRXJyb3JJY29uKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z0ljb24sIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEyLDJDMTcuNTMsMiAyMiw2LjQ3IDIyLDEyQzIyLDE3LjUzIDE3LjUzLDIyIDEyLDIyQzYuNDcsMjIgMiwxNy41MyAyLDEyQzIsXFxuICAgICAgICA2LjQ3IDYuNDcsMiAxMiwyTTE1LjU5LDdMMTIsMTAuNTlMOC40MSw3TDcsOC40MUwxMC41OSwxMkw3LDE1LjU5TDguNDEsMTdMMTIsXFxuICAgICAgICAxMy40MUwxNS41OSwxN0wxNywxNS41OUwxMy40MSwxMkwxNyw4LjQxTDE1LjU5LDdaXCJcbiAgfSkpO1xufTtcblxudmFyIEluZm9JY29uID0gZnVuY3Rpb24gSW5mb0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3ZnSWNvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTMsOUgxMVY3SDEzTTEzLDE3SDExVjExSDEzTTEyLDJBMTAsMTAgMCAwLDAgMiwxMkExMCwxMCAwIDAsMCAxMiwyMkExMCwxMCAwIDAsXFxuICAgICAgICAwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaXCJcbiAgfSkpO1xufTtcblxudmFyIGljb25TdHlsZXMgPSB7XG4gIGZvbnRTaXplOiAyMCxcbiAgbWFyZ2luSW5saW5lRW5kOiA4XG59O1xudmFyIGRlZmF1bHRJY29uVmFyaWFudHMgPSB7XG4gIFwiZGVmYXVsdFwiOiB1bmRlZmluZWQsXG4gIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENoZWNrSWNvbiwge1xuICAgIHN0eWxlOiBpY29uU3R5bGVzXG4gIH0pLFxuICB3YXJuaW5nOiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChXYXJuaW5nSWNvbiwge1xuICAgIHN0eWxlOiBpY29uU3R5bGVzXG4gIH0pLFxuICBlcnJvcjogLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRXJyb3JJY29uLCB7XG4gICAgc3R5bGU6IGljb25TdHlsZXNcbiAgfSksXG4gIGluZm86IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEluZm9JY29uLCB7XG4gICAgc3R5bGU6IGljb25TdHlsZXNcbiAgfSlcbn07XG5cbi8qKlxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211aS1vcmcvbWF0ZXJpYWwtdWkvYmxvYi9tYXN0ZXIvcGFja2FnZXMvbWF0ZXJpYWwtdWkvc3JjL3V0aWxzL2NyZWF0ZUNoYWluZWRGdW5jdGlvbi5qc1xuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oZnVuY3MsIGV4dHJhQXJnKSB7XG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZnVuYykge1xuICAgIGlmIChmdW5jID09IG51bGwpIHJldHVybiBhY2M7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgQXJndW1lbnQgVHlwZS4gbXVzdCBvbmx5IHByb3ZpZGUgZnVuY3Rpb25zLCB1bmRlZmluZWQsIG9yIG51bGwuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJndW1zID0gW10uY29uY2F0KGFyZ3MpO1xuXG4gICAgICBpZiAoZXh0cmFBcmcgJiYgYXJndW1zLmluZGV4T2YoZXh0cmFBcmcpID09PSAtMSkge1xuICAgICAgICBhcmd1bXMucHVzaChleHRyYUFyZyk7XG4gICAgICB9XG5cbiAgICAgIGFjYy5hcHBseSh0aGlzLCBhcmd1bXMpO1xuICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bXMpO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuLyoqXG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVpLW9yZy9tYXRlcmlhbC11aS9ibG9iL21hc3Rlci9wYWNrYWdlcy9tYXRlcmlhbC11aS9zcmMvdXRpbHMvdXNlRXZlbnRDYWxsYmFjay5qc1xuICovXG52YXIgdXNlRW5oYW5jZWRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmZ1bmN0aW9uIHVzZUV2ZW50Q2FsbGJhY2soZm4pIHtcbiAgdmFyIHJlZiA9IHVzZVJlZihmbik7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZWYuY3VycmVudCA9IGZuO1xuICB9KTtcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHJlZi5jdXJyZW50KS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sIFtdKTtcbn1cblxudmFyIFNuYWNrYmFyID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBhdXRvSGlkZUR1cmF0aW9uID0gcHJvcHMuYXV0b0hpZGVEdXJhdGlvbixcbiAgICAgIENsaWNrQXdheUxpc3RlbmVyUHJvcHMgPSBwcm9wcy5DbGlja0F3YXlMaXN0ZW5lclByb3BzLFxuICAgICAgX3Byb3BzJGRpc2FibGVXaW5kb3dCID0gcHJvcHMuZGlzYWJsZVdpbmRvd0JsdXJMaXN0ZW5lcixcbiAgICAgIGRpc2FibGVXaW5kb3dCbHVyTGlzdGVuZXIgPSBfcHJvcHMkZGlzYWJsZVdpbmRvd0IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGRpc2FibGVXaW5kb3dCLFxuICAgICAgb25DbG9zZSA9IHByb3BzLm9uQ2xvc2UsXG4gICAgICBvbk1vdXNlRW50ZXIgPSBwcm9wcy5vbk1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmUgPSBwcm9wcy5vbk1vdXNlTGVhdmUsXG4gICAgICBvcGVuID0gcHJvcHMub3BlbixcbiAgICAgIHJlc3VtZUhpZGVEdXJhdGlvbiA9IHByb3BzLnJlc3VtZUhpZGVEdXJhdGlvbixcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiYXV0b0hpZGVEdXJhdGlvblwiLCBcIkNsaWNrQXdheUxpc3RlbmVyUHJvcHNcIiwgXCJkaXNhYmxlV2luZG93Qmx1ckxpc3RlbmVyXCIsIFwib25DbG9zZVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiLCBcIm9wZW5cIiwgXCJyZXN1bWVIaWRlRHVyYXRpb25cIl0pO1xuXG4gIHZhciB0aW1lckF1dG9IaWRlID0gdXNlUmVmKCk7XG4gIHZhciBoYW5kbGVDbG9zZSA9IHVzZUV2ZW50Q2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICBvbkNsb3NlLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgc2V0QXV0b0hpZGVUaW1lciA9IHVzZUV2ZW50Q2FsbGJhY2soZnVuY3Rpb24gKGF1dG9IaWRlRHVyYXRpb25QYXJhbSkge1xuICAgIGlmICghb25DbG9zZSB8fCBhdXRvSGlkZUR1cmF0aW9uUGFyYW0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dCh0aW1lckF1dG9IaWRlLmN1cnJlbnQpO1xuICAgIHRpbWVyQXV0b0hpZGUuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlQ2xvc2UobnVsbCwgUkVBU09OUy5USU1FT1VUKTtcbiAgICB9LCBhdXRvSGlkZUR1cmF0aW9uUGFyYW0pO1xuICB9KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob3Blbikge1xuICAgICAgc2V0QXV0b0hpZGVUaW1lcihhdXRvSGlkZUR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyQXV0b0hpZGUuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW29wZW4sIGF1dG9IaWRlRHVyYXRpb24sIHNldEF1dG9IaWRlVGltZXJdKTtcbiAgLyoqXG4gICAqIFBhdXNlIHRoZSB0aW1lciB3aGVuIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIFNuYWNrYmFyXG4gICAqIG9yIHdoZW4gdGhlIHVzZXIgaGlkZSB0aGUgd2luZG93LlxuICAgKi9cblxuICB2YXIgaGFuZGxlUGF1c2UgPSBmdW5jdGlvbiBoYW5kbGVQYXVzZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZXJBdXRvSGlkZS5jdXJyZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc3RhcnQgdGhlIHRpbWVyIHdoZW4gdGhlIHVzZXIgaXMgbm8gbG9uZ2VyIGludGVyYWN0aW5nIHdpdGggdGhlIFNuYWNrYmFyXG4gICAqIG9yIHdoZW4gdGhlIHdpbmRvdyBpcyBzaG93biBiYWNrLlxuICAgKi9cblxuXG4gIHZhciBoYW5kbGVSZXN1bWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGF1dG9IaWRlRHVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgc2V0QXV0b0hpZGVUaW1lcihyZXN1bWVIaWRlRHVyYXRpb24gIT0gbnVsbCA/IHJlc3VtZUhpZGVEdXJhdGlvbiA6IGF1dG9IaWRlRHVyYXRpb24gKiAwLjUpO1xuICAgIH1cbiAgfSwgW2F1dG9IaWRlRHVyYXRpb24sIHJlc3VtZUhpZGVEdXJhdGlvbiwgc2V0QXV0b0hpZGVUaW1lcl0pO1xuXG4gIHZhciBoYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlcihldmVudCkge1xuICAgIGlmIChvbk1vdXNlRW50ZXIpIHtcbiAgICAgIG9uTW91c2VFbnRlcihldmVudCk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGF1c2UoKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlTW91c2VMZWF2ZSA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBpZiAob25Nb3VzZUxlYXZlKSB7XG4gICAgICBvbk1vdXNlTGVhdmUoZXZlbnQpO1xuICAgIH1cblxuICAgIGhhbmRsZVJlc3VtZSgpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVDbGlja0F3YXkgPSBmdW5jdGlvbiBoYW5kbGVDbGlja0F3YXkoZXZlbnQpIHtcbiAgICBpZiAob25DbG9zZSkge1xuICAgICAgb25DbG9zZShldmVudCwgUkVBU09OUy5DTElDS0FXQVkpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghZGlzYWJsZVdpbmRvd0JsdXJMaXN0ZW5lciAmJiBvcGVuKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVSZXN1bWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVQYXVzZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVSZXN1bWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZVBhdXNlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2Rpc2FibGVXaW5kb3dCbHVyTGlzdGVuZXIsIGhhbmRsZVJlc3VtZSwgb3Blbl0pO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChDbGlja0F3YXlMaXN0ZW5lciwgX2V4dGVuZHMoe1xuICAgIG9uQ2xpY2tBd2F5OiBoYW5kbGVDbGlja0F3YXlcbiAgfSwgQ2xpY2tBd2F5TGlzdGVuZXJQcm9wcyksIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpLCBjaGlsZHJlbikpO1xufSk7XG5cbnZhciBjb21wb25lbnROYW1lJDEgPSAnU25hY2tiYXJJdGVtJztcbnZhciBjbGFzc2VzJDEgPSB7XG4gIGNvbnRlbnRSb290OiBjb21wb25lbnROYW1lJDEgKyBcIi1jb250ZW50Um9vdFwiLFxuICBsZXNzUGFkZGluZzogY29tcG9uZW50TmFtZSQxICsgXCItbGVzc1BhZGRpbmdcIixcbiAgdmFyaWFudFN1Y2Nlc3M6IGNvbXBvbmVudE5hbWUkMSArIFwiLXZhcmlhbnRTdWNjZXNzXCIsXG4gIHZhcmlhbnRFcnJvcjogY29tcG9uZW50TmFtZSQxICsgXCItdmFyaWFudEVycm9yXCIsXG4gIHZhcmlhbnRJbmZvOiBjb21wb25lbnROYW1lJDEgKyBcIi12YXJpYW50SW5mb1wiLFxuICB2YXJpYW50V2FybmluZzogY29tcG9uZW50TmFtZSQxICsgXCItdmFyaWFudFdhcm5pbmdcIixcbiAgbWVzc2FnZTogY29tcG9uZW50TmFtZSQxICsgXCItbWVzc2FnZVwiLFxuICBhY3Rpb246IGNvbXBvbmVudE5hbWUkMSArIFwiLWFjdGlvblwiLFxuICB3cmFwcGVkUm9vdDogY29tcG9uZW50TmFtZSQxICsgXCItd3JhcHBlZFJvb3RcIlxufTtcbnZhciBTdHlsZWRTbmFja2JhciA9IC8qI19fUFVSRV9fKi9zdHlsZWQoU25hY2tiYXIpKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBfcmVmMjtcblxuICB2YXIgdGhlbWUgPSBfcmVmLnRoZW1lO1xuICB2YXIgbW9kZSA9IHRoZW1lLnBhbGV0dGUubW9kZSB8fCB0aGVtZS5wYWxldHRlLnR5cGU7XG4gIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBlbXBoYXNpemUodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kW1wiZGVmYXVsdFwiXSwgbW9kZSA9PT0gJ2xpZ2h0JyA/IDAuOCA6IDAuOTgpO1xuICByZXR1cm4gX3JlZjIgPSB7fSwgX3JlZjJbXCImLlwiICsgY2xhc3NlcyQxLndyYXBwZWRSb290XSA9IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDApJyxcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEuY29udGVudFJvb3RdID0gX2V4dGVuZHMoe30sIHRoZW1lLnR5cG9ncmFwaHkuYm9keTIsIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQoYmFja2dyb3VuZENvbG9yKSxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBwYWRkaW5nOiAnNnB4IDE2cHgnLFxuICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgYm94U2hhZG93OiAnMHB4IDNweCA1cHggLTFweCByZ2JhKDAsMCwwLDAuMiksMHB4IDZweCAxMHB4IDBweCByZ2JhKDAsMCwwLDAuMTQpLDBweCAxcHggMThweCAwcHggcmdiYSgwLDAsMCwwLjEyKSdcbiAgfSksIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLmxlc3NQYWRkaW5nXSA9IHtcbiAgICBwYWRkaW5nTGVmdDogOCAqIDIuNVxuICB9LCBfcmVmMltcIi5cIiArIGNsYXNzZXMkMS52YXJpYW50U3VjY2Vzc10gPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzQzYTA0NycsXG4gICAgY29sb3I6ICcjZmZmJ1xuICB9LCBfcmVmMltcIi5cIiArIGNsYXNzZXMkMS52YXJpYW50RXJyb3JdID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNkMzJmMmYnLFxuICAgIGNvbG9yOiAnI2ZmZidcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEudmFyaWFudEluZm9dID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyMyMTk2ZjMnLFxuICAgIGNvbG9yOiAnI2ZmZidcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEudmFyaWFudFdhcm5pbmddID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZjk4MDAnLFxuICAgIGNvbG9yOiAnI2ZmZidcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEubWVzc2FnZV0gPSB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIHBhZGRpbmc6ICc4cHggMCdcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEuYWN0aW9uXSA9IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgbWFyZ2luTGVmdDogJ2F1dG8nLFxuICAgIHBhZGRpbmdMZWZ0OiAxNixcbiAgICBtYXJnaW5SaWdodDogLThcbiAgfSwgX3JlZjI7XG59KTtcblxudmFyIFNuYWNrYmFySXRlbSA9IGZ1bmN0aW9uIFNuYWNrYmFySXRlbShfcmVmMykge1xuICB2YXIgcHJvcENsYXNzZXMgPSBfcmVmMy5jbGFzc2VzLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgW1wiY2xhc3Nlc1wiXSk7XG5cbiAgdmFyIHRpbWVvdXQgPSB1c2VSZWYoKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICBjb2xsYXBzZWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRDb2xsYXBzZWQgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBoYW5kbGVDbG9zZSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihbcHJvcHMuc25hY2sub25DbG9zZSwgcHJvcHMub25DbG9zZV0sIHByb3BzLnNuYWNrLmtleSk7XG5cbiAgdmFyIGhhbmRsZUVudGVyZWQgPSBmdW5jdGlvbiBoYW5kbGVFbnRlcmVkKCkge1xuICAgIGlmIChwcm9wcy5zbmFjay5yZXF1ZXN0Q2xvc2UpIHtcbiAgICAgIGhhbmRsZUNsb3NlKG51bGwsIFJFQVNPTlMuSU5TVFJDVVRFRCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBoYW5kbGVFeGl0ZWRTY3JlZW4gPSBmdW5jdGlvbiBoYW5kbGVFeGl0ZWRTY3JlZW4oKSB7XG4gICAgdGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRDb2xsYXBzZWQoIWNvbGxhcHNlZCk7XG4gICAgfSwgMTI1KTtcbiAgfTtcblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIG90aGVyQXJpYUF0dHJpYnV0ZXMgPSBwcm9wcy5hcmlhQXR0cmlidXRlcyxcbiAgICAgIG90aGVyQ2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgaGlkZUljb25WYXJpYW50ID0gcHJvcHMuaGlkZUljb25WYXJpYW50LFxuICAgICAgaWNvblZhcmlhbnQgPSBwcm9wcy5pY29uVmFyaWFudCxcbiAgICAgIHNuYWNrID0gcHJvcHMuc25hY2ssXG4gICAgICBvdGhlckFjdGlvbiA9IHByb3BzLmFjdGlvbixcbiAgICAgIG90aGVyQ29udGVudCA9IHByb3BzLmNvbnRlbnQsXG4gICAgICBvdGhlclRyYW5Db21wb25lbnQgPSBwcm9wcy5UcmFuc2l0aW9uQ29tcG9uZW50LFxuICAgICAgb3RoZXJUcmFuUHJvcHMgPSBwcm9wcy5UcmFuc2l0aW9uUHJvcHMsXG4gICAgICBvdGhlclRyYW5EdXJhdGlvbiA9IHByb3BzLnRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcInN0eWxlXCIsIFwiZGVuc2VcIiwgXCJhcmlhQXR0cmlidXRlc1wiLCBcImNsYXNzTmFtZVwiLCBcImhpZGVJY29uVmFyaWFudFwiLCBcImljb25WYXJpYW50XCIsIFwic25hY2tcIiwgXCJhY3Rpb25cIiwgXCJjb250ZW50XCIsIFwiVHJhbnNpdGlvbkNvbXBvbmVudFwiLCBcIlRyYW5zaXRpb25Qcm9wc1wiLCBcInRyYW5zaXRpb25EdXJhdGlvblwiLCBcIm9uRW50ZXJcIiwgXCJvbkVudGVyZWRcIiwgXCJvbkVudGVyaW5nXCIsIFwib25FeGl0XCIsIFwib25FeGl0ZWRcIiwgXCJvbkV4aXRpbmdcIl0pO1xuXG4gIHZhciBrZXkgPSBzbmFjay5rZXksXG4gICAgICBvcGVuID0gc25hY2sub3BlbixcbiAgICAgIHNpbmdsZUNsYXNzTmFtZSA9IHNuYWNrLmNsYXNzTmFtZSxcbiAgICAgIHZhcmlhbnQgPSBzbmFjay52YXJpYW50LFxuICAgICAgc2luZ2xlQ29udGVudCA9IHNuYWNrLmNvbnRlbnQsXG4gICAgICBzaW5nbGVBY3Rpb24gPSBzbmFjay5hY3Rpb24sXG4gICAgICBzaW5nbGVBcmlhQXR0cmlidXRlcyA9IHNuYWNrLmFyaWFBdHRyaWJ1dGVzLFxuICAgICAgYW5jaG9yT3JpZ2luID0gc25hY2suYW5jaG9yT3JpZ2luLFxuICAgICAgc25hY2tNZXNzYWdlID0gc25hY2subWVzc2FnZSxcbiAgICAgIHNpbmdsZVRyYW5Db21wb25lbnQgPSBzbmFjay5UcmFuc2l0aW9uQ29tcG9uZW50LFxuICAgICAgc2luZ2xlVHJhblByb3BzID0gc25hY2suVHJhbnNpdGlvblByb3BzLFxuICAgICAgc2luZ2xlVHJhbkR1cmF0aW9uID0gc25hY2sudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgc2luZ2xlU25hY2tQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNuYWNrLCBbXCJwZXJzaXN0XCIsIFwia2V5XCIsIFwib3BlblwiLCBcImVudGVyZWRcIiwgXCJyZXF1ZXN0Q2xvc2VcIiwgXCJjbGFzc05hbWVcIiwgXCJ2YXJpYW50XCIsIFwiY29udGVudFwiLCBcImFjdGlvblwiLCBcImFyaWFBdHRyaWJ1dGVzXCIsIFwiYW5jaG9yT3JpZ2luXCIsIFwibWVzc2FnZVwiLCBcIlRyYW5zaXRpb25Db21wb25lbnRcIiwgXCJUcmFuc2l0aW9uUHJvcHNcIiwgXCJ0cmFuc2l0aW9uRHVyYXRpb25cIiwgXCJvbkVudGVyXCIsIFwib25FbnRlcmVkXCIsIFwib25FbnRlcmluZ1wiLCBcIm9uRXhpdFwiLCBcIm9uRXhpdGVkXCIsIFwib25FeGl0aW5nXCJdKTtcblxuICB2YXIgaWNvbiA9IF9leHRlbmRzKHt9LCBkZWZhdWx0SWNvblZhcmlhbnRzLCB7fSwgaWNvblZhcmlhbnQpW3ZhcmlhbnRdO1xuXG4gIHZhciBhcmlhQXR0cmlidXRlcyA9IF9leHRlbmRzKHtcbiAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdub3Rpc3RhY2stc25hY2tiYXInXG4gIH0sIG9iamVjdE1lcmdlKHNpbmdsZUFyaWFBdHRyaWJ1dGVzLCBvdGhlckFyaWFBdHRyaWJ1dGVzKSk7XG5cbiAgdmFyIFRyYW5zaXRpb25Db21wb25lbnQgPSBzaW5nbGVUcmFuQ29tcG9uZW50IHx8IG90aGVyVHJhbkNvbXBvbmVudCB8fCBERUZBVUxUUy5UcmFuc2l0aW9uQ29tcG9uZW50O1xuICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gb2JqZWN0TWVyZ2Uoc2luZ2xlVHJhbkR1cmF0aW9uLCBvdGhlclRyYW5EdXJhdGlvbiwgREVGQVVMVFMudHJhbnNpdGlvbkR1cmF0aW9uKTtcblxuICB2YXIgdHJhbnNpdGlvblByb3BzID0gX2V4dGVuZHMoe1xuICAgIGRpcmVjdGlvbjogZ2V0VHJhbnNpdGlvbkRpcmVjdGlvbihhbmNob3JPcmlnaW4pXG4gIH0sIG9iamVjdE1lcmdlKHNpbmdsZVRyYW5Qcm9wcywgb3RoZXJUcmFuUHJvcHMpKTtcblxuICB2YXIgYWN0aW9uID0gc2luZ2xlQWN0aW9uIHx8IG90aGVyQWN0aW9uO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYWN0aW9uID0gYWN0aW9uKGtleSk7XG4gIH1cblxuICB2YXIgY29udGVudCA9IHNpbmdsZUNvbnRlbnQgfHwgb3RoZXJDb250ZW50O1xuXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnRlbnQgPSBjb250ZW50KGtleSwgc25hY2subWVzc2FnZSk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9wZXJhdG9yLWxpbmVicmVha1xuXG5cbiAgdmFyIGNhbGxiYWNrcyA9IFsnb25FbnRlcicsICdvbkVudGVyaW5nJywgJ29uRW50ZXJlZCcsICdvbkV4aXQnLCAnb25FeGl0aW5nJywgJ29uRXhpdGVkJ10ucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGNiTmFtZSkge1xuICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGFjYywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbY2JOYW1lXSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihbcHJvcHMuc25hY2tbY2JOYW1lXSwgcHJvcHNbY2JOYW1lXV0sIHByb3BzLnNuYWNrLmtleSksIF9leHRlbmRzMikpO1xuICB9LCB7fSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbGxhcHNlLCB7XG4gICAgdW5tb3VudE9uRXhpdDogdHJ1ZSxcbiAgICB0aW1lb3V0OiAxNzUsXG4gICAgXCJpblwiOiBjb2xsYXBzZWQsXG4gICAgb25FeGl0ZWQ6IGNhbGxiYWNrcy5vbkV4aXRlZFxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0eWxlZFNuYWNrYmFyLCBPYmplY3QuYXNzaWduKHt9LCBvdGhlciwgc2luZ2xlU25hY2tQcm9wcywge1xuICAgIG9wZW46IG9wZW4sXG4gICAgY2xhc3NOYW1lOiBjbHN4KHByb3BDbGFzc2VzLnJvb3QsIGNsYXNzZXMkMS53cmFwcGVkUm9vdCwgcHJvcENsYXNzZXNbdHJhbnNmb3JtZXIudG9BbmNob3JPcmlnaW4oYW5jaG9yT3JpZ2luKV0pLFxuICAgIG9uQ2xvc2U6IGhhbmRsZUNsb3NlXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25Db21wb25lbnQsIE9iamVjdC5hc3NpZ24oe1xuICAgIGFwcGVhcjogdHJ1ZSxcbiAgICBcImluXCI6IG9wZW4sXG4gICAgdGltZW91dDogdHJhbnNpdGlvbkR1cmF0aW9uXG4gIH0sIHRyYW5zaXRpb25Qcm9wcywge1xuICAgIG9uRXhpdDogY2FsbGJhY2tzLm9uRXhpdCxcbiAgICBvbkV4aXRpbmc6IGNhbGxiYWNrcy5vbkV4aXRpbmcsXG4gICAgb25FeGl0ZWQ6IGhhbmRsZUV4aXRlZFNjcmVlbixcbiAgICBvbkVudGVyOiBjYWxsYmFja3Mub25FbnRlcixcbiAgICBvbkVudGVyaW5nOiBjYWxsYmFja3Mub25FbnRlcmluZyxcbiAgICAvLyBvcmRlciBtYXR0ZXJzLiBmaXJzdCBjYWxsYmFja3Mub25FbnRlcmVkIHRvIHNldCBlbnRlcmVkOiB0cnVlLFxuICAgIC8vIHRoZW4gaGFuZGxlRW50ZXJlZCB0byBjaGVjayBpZiB0aGVyZSdzIGEgcmVxdWVzdCBmb3IgY2xvc2luZ1xuICAgIG9uRW50ZXJlZDogY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKFtjYWxsYmFja3Mub25FbnRlcmVkLCBoYW5kbGVFbnRlcmVkXSlcbiAgfSksIGNvbnRlbnQgfHwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTbmFja2JhckNvbnRlbnQsIE9iamVjdC5hc3NpZ24oe30sIGFyaWFBdHRyaWJ1dGVzLCB7XG4gICAgcm9sZTogXCJhbGVydFwiLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3NlcyQxLmNvbnRlbnRSb290LCBjbGFzc2VzJDFbdHJhbnNmb3JtZXIudG9WYXJpYW50KHZhcmlhbnQpXSwgb3RoZXJDbGFzc05hbWUsIHNpbmdsZUNsYXNzTmFtZSwgIWhpZGVJY29uVmFyaWFudCAmJiBpY29uICYmIGNsYXNzZXMkMS5sZXNzUGFkZGluZylcbiAgfSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGlkOiBhcmlhQXR0cmlidXRlc1snYXJpYS1kZXNjcmliZWRieSddLFxuICAgIGNsYXNzTmFtZTogY2xhc3NlcyQxLm1lc3NhZ2VcbiAgfSwgIWhpZGVJY29uVmFyaWFudCA/IGljb24gOiBudWxsLCBzbmFja01lc3NhZ2UpLCBhY3Rpb24gJiYgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzJDEuYWN0aW9uXG4gIH0sIGFjdGlvbikpKSkpO1xufTtcblxudmFyIGNvbGxhcHNlID0ge1xuICAvLyBNYXRlcmlhbC1VSSA0LjEyLnggYW5kIGFib3ZlIHVzZXMgTXVpQ29sbGFwc2Utcm9vdDsgZWFybGllciB2ZXJzaW9ucyB1c2VcbiAgLy8gTXVpLUNvbGxhcHNlLWNvbnRhaW5lci4gIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWktb3JnL21hdGVyaWFsLXVpL3B1bGwvMjQwODRcbiAgY29udGFpbmVyOiAnJiA+IC5NdWlDb2xsYXBzZS1jb250YWluZXIsICYgPiAuTXVpQ29sbGFwc2Utcm9vdCcsXG4gIHdyYXBwZXI6ICcmID4gLk11aUNvbGxhcHNlLWNvbnRhaW5lciA+IC5NdWlDb2xsYXBzZS13cmFwcGVyLCAmID4gLk11aUNvbGxhcHNlLXJvb3QgPiAuTXVpQ29sbGFwc2Utd3JhcHBlcidcbn07XG52YXIgeHNXaWR0aE1hcmdpbiA9IDE2O1xudmFyIGNvbXBvbmVudE5hbWUkMiA9ICdTbmFja2JhckNvbnRhaW5lcic7XG52YXIgY2xhc3NlcyQyID0ge1xuICByb290OiBjb21wb25lbnROYW1lJDIgKyBcIi1yb290XCIsXG4gIHJvb3REZW5zZTogY29tcG9uZW50TmFtZSQyICsgXCItcm9vdERlbnNlXCIsXG4gIHRvcDogY29tcG9uZW50TmFtZSQyICsgXCItdG9wXCIsXG4gIGJvdHRvbTogY29tcG9uZW50TmFtZSQyICsgXCItYm90dG9tXCIsXG4gIGxlZnQ6IGNvbXBvbmVudE5hbWUkMiArIFwiLWxlZnRcIixcbiAgcmlnaHQ6IGNvbXBvbmVudE5hbWUkMiArIFwiLXJpZ2h0XCIsXG4gIGNlbnRlcjogY29tcG9uZW50TmFtZSQyICsgXCItY2VudGVyXCJcbn07XG52YXIgUm9vdCQxID0gLyojX19QVVJFX18qL3N0eWxlZCgnZGl2JykoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIF9yZWYyLCBfcmVmMywgX3JlZjQsIF9yZWY1LCBfcmVmNiwgX3JlZjc7XG5cbiAgdmFyIHRoZW1lID0gX3JlZi50aGVtZTtcbiAgcmV0dXJuIF9yZWY3ID0ge30sIF9yZWY3W1wiJi5cIiArIGNsYXNzZXMkMi5yb290XSA9IChfcmVmMiA9IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgbWF4SGVpZ2h0OiAnMTAwJScsXG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgekluZGV4OiB0aGVtZS56SW5kZXguc25hY2tiYXIsXG4gICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgd2lkdGg6ICdhdXRvJyxcbiAgICB0cmFuc2l0aW9uOiAndG9wIDMwMG1zIGVhc2UgMG1zLCByaWdodCAzMDBtcyBlYXNlIDBtcywgYm90dG9tIDMwMG1zIGVhc2UgMG1zLCBsZWZ0IDMwMG1zIGVhc2UgMG1zLCBtYXJnaW4gMzAwbXMgZWFzZSAwbXMsIG1heC13aWR0aCAzMDBtcyBlYXNlIDBtcycsXG4gICAgLy8gY29udGFpbmVyIGl0c2VsZiBpcyBpbnZpc2libGUgYW5kIHNob3VsZCBub3QgYmxvY2sgY2xpY2tzLCBjbGlja3Mgc2hvdWxkIGJlIHBhc3NlZCB0byBpdHMgY2hpbGRyZW5cbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgfSwgX3JlZjJbY29sbGFwc2UuY29udGFpbmVyXSA9IHtcbiAgICBwb2ludGVyRXZlbnRzOiAnYWxsJ1xuICB9LCBfcmVmMltjb2xsYXBzZS53cmFwcGVyXSA9IHtcbiAgICBwYWRkaW5nOiBTTkFDS0JBUl9JTkRFTlRTLnNuYWNrYmFyW1wiZGVmYXVsdFwiXSArIFwicHggMHB4XCIsXG4gICAgdHJhbnNpdGlvbjogJ3BhZGRpbmcgMzAwbXMgZWFzZSAwbXMnXG4gIH0sIF9yZWYyLm1heFdpZHRoID0gXCJjYWxjKDEwMCUgLSBcIiArIFNOQUNLQkFSX0lOREVOVFMudmlld1tcImRlZmF1bHRcIl0gKiAyICsgXCJweClcIiwgX3JlZjJbdGhlbWUuYnJlYWtwb2ludHMuZG93bignc20nKV0gPSB7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBtYXhXaWR0aDogXCJjYWxjKDEwMCUgLSBcIiArIHhzV2lkdGhNYXJnaW4gKiAyICsgXCJweClcIlxuICB9LCBfcmVmMiksIF9yZWY3W1wiJi5cIiArIGNsYXNzZXMkMi5yb290RGVuc2VdID0gKF9yZWYzID0ge30sIF9yZWYzW2NvbGxhcHNlLndyYXBwZXJdID0ge1xuICAgIHBhZGRpbmc6IFNOQUNLQkFSX0lOREVOVFMuc25hY2tiYXIuZGVuc2UgKyBcInB4IDBweFwiXG4gIH0sIF9yZWYzKSwgX3JlZjdbXCImLlwiICsgY2xhc3NlcyQyLnRvcF0gPSB7XG4gICAgdG9wOiBTTkFDS0JBUl9JTkRFTlRTLnZpZXdbXCJkZWZhdWx0XCJdIC0gU05BQ0tCQVJfSU5ERU5UUy5zbmFja2JhcltcImRlZmF1bHRcIl0sXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgfSwgX3JlZjdbXCImLlwiICsgY2xhc3NlcyQyLmJvdHRvbV0gPSB7XG4gICAgYm90dG9tOiBTTkFDS0JBUl9JTkRFTlRTLnZpZXdbXCJkZWZhdWx0XCJdIC0gU05BQ0tCQVJfSU5ERU5UUy5zbmFja2JhcltcImRlZmF1bHRcIl0sXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJ1xuICB9LCBfcmVmN1tcIiYuXCIgKyBjbGFzc2VzJDIubGVmdF0gPSAoX3JlZjQgPSB7XG4gICAgbGVmdDogU05BQ0tCQVJfSU5ERU5UUy52aWV3W1wiZGVmYXVsdFwiXVxuICB9LCBfcmVmNFt0aGVtZS5icmVha3BvaW50cy51cCgnc20nKV0gPSB7XG4gICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnXG4gIH0sIF9yZWY0W3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3NtJyldID0ge1xuICAgIGxlZnQ6IHhzV2lkdGhNYXJnaW4gKyBcInB4XCJcbiAgfSwgX3JlZjQpLCBfcmVmN1tcIiYuXCIgKyBjbGFzc2VzJDIucmlnaHRdID0gKF9yZWY1ID0ge1xuICAgIHJpZ2h0OiBTTkFDS0JBUl9JTkRFTlRTLnZpZXdbXCJkZWZhdWx0XCJdXG4gIH0sIF9yZWY1W3RoZW1lLmJyZWFrcG9pbnRzLnVwKCdzbScpXSA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnXG4gIH0sIF9yZWY1W3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3NtJyldID0ge1xuICAgIHJpZ2h0OiB4c1dpZHRoTWFyZ2luICsgXCJweFwiXG4gIH0sIF9yZWY1KSwgX3JlZjdbXCImLlwiICsgY2xhc3NlcyQyLmNlbnRlcl0gPSAoX3JlZjYgPSB7XG4gICAgbGVmdDogJzUwJScsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKSdcbiAgfSwgX3JlZjZbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3NtJyldID0ge1xuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gIH0sIF9yZWY2KSwgX3JlZjc7XG59KTtcblxudmFyIFNuYWNrYmFyQ29udGFpbmVyID0gZnVuY3Rpb24gU25hY2tiYXJDb250YWluZXIocHJvcHMpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGFuY2hvck9yaWdpbiA9IHByb3BzLmFuY2hvck9yaWdpbixcbiAgICAgIGRlbnNlID0gcHJvcHMuZGVuc2UsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJjbGFzc05hbWVcIiwgXCJhbmNob3JPcmlnaW5cIiwgXCJkZW5zZVwiXSk7XG5cbiAgdmFyIGNvbWJpbmVkQ2xhc3NuYW1lID0gY2xzeChjbGFzc2VzJDJbYW5jaG9yT3JpZ2luLnZlcnRpY2FsXSwgY2xhc3NlcyQyW2FuY2hvck9yaWdpbi5ob3Jpem9udGFsXSwgY2xhc3NlcyQyLnJvb3QsIC8vIHJvb3Qgc2hvdWxkIGNvbWUgYWZ0ZXIgb3RoZXJzIHRvIG92ZXJyaWRlIG1heFdpZHRoXG4gIGNsYXNzTmFtZSwgZGVuc2UgJiYgY2xhc3NlcyQyLnJvb3REZW5zZSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvb3QkMSwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBjb21iaW5lZENsYXNzbmFtZVxuICB9LCBvdGhlcikpO1xufTtcblxudmFyIFNuYWNrYmFyQ29udGFpbmVyJDEgPSAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQubWVtbyhTbmFja2JhckNvbnRhaW5lcik7XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgX19ERVZfXyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbic7XG5cbnZhciB3YXJuaW5nID0gKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gIGlmICghX19ERVZfXykgcmV0dXJuO1xuXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH0gY2F0Y2ggKHgpIHt9XG59KTtcblxudmFyIFNuYWNrYmFyUHJvdmlkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoU25hY2tiYXJQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU25hY2tiYXJQcm92aWRlcihwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIG5ldyBzbmFja2JhciB0byB0aGUgcXVldWUgdG8gYmUgcHJlc2VudGVkLlxyXG4gICAgICogUmV0dXJucyBnZW5lcmF0ZWQgb3IgdXNlciBkZWZpbmVkIGtleSByZWZlcmVuY2luZyB0aGUgbmV3IHNuYWNrYmFyIG9yIG51bGxcclxuICAgICAqL1xuXG4gICAgX3RoaXMuZW5xdWV1ZVNuYWNrYmFyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdHMpIHtcbiAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgX29wdHMgPSBvcHRzLFxuICAgICAgICAgIGtleSA9IF9vcHRzLmtleSxcbiAgICAgICAgICBwcmV2ZW50RHVwbGljYXRlID0gX29wdHMucHJldmVudER1cGxpY2F0ZSxcbiAgICAgICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29wdHMsIFtcImtleVwiLCBcInByZXZlbnREdXBsaWNhdGVcIl0pO1xuXG4gICAgICB2YXIgaGFzU3BlY2lmaWVkS2V5ID0gaXNEZWZpbmVkKGtleSk7XG4gICAgICB2YXIgaWQgPSBoYXNTcGVjaWZpZWRLZXkgPyBrZXkgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIE1hdGgucmFuZG9tKCk7XG4gICAgICB2YXIgbWVyZ2VyID0gbWVyZ2Uob3B0aW9ucywgX3RoaXMucHJvcHMsIERFRkFVTFRTKTtcblxuICAgICAgdmFyIHNuYWNrID0gX2V4dGVuZHMoe1xuICAgICAgICBrZXk6IGlkXG4gICAgICB9LCBvcHRpb25zLCB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgIGVudGVyZWQ6IGZhbHNlLFxuICAgICAgICByZXF1ZXN0Q2xvc2U6IGZhbHNlLFxuICAgICAgICB2YXJpYW50OiBtZXJnZXIoJ3ZhcmlhbnQnKSxcbiAgICAgICAgYW5jaG9yT3JpZ2luOiBtZXJnZXIoJ2FuY2hvck9yaWdpbicpLFxuICAgICAgICBhdXRvSGlkZUR1cmF0aW9uOiBtZXJnZXIoJ2F1dG9IaWRlRHVyYXRpb24nKVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnBlcnNpc3QpIHtcbiAgICAgICAgc25hY2suYXV0b0hpZGVEdXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChwcmV2ZW50RHVwbGljYXRlID09PSB1bmRlZmluZWQgJiYgX3RoaXMucHJvcHMucHJldmVudER1cGxpY2F0ZSB8fCBwcmV2ZW50RHVwbGljYXRlKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVGdW5jdGlvbiA9IGZ1bmN0aW9uIGNvbXBhcmVGdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzU3BlY2lmaWVkS2V5ID8gaXRlbS5rZXkgPT09IGtleSA6IGl0ZW0ubWVzc2FnZSA9PT0gbWVzc2FnZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGluUXVldWUgPSBzdGF0ZS5xdWV1ZS5maW5kSW5kZXgoY29tcGFyZUZ1bmN0aW9uKSA+IC0xO1xuICAgICAgICAgIHZhciBpblZpZXcgPSBzdGF0ZS5zbmFja3MuZmluZEluZGV4KGNvbXBhcmVGdW5jdGlvbikgPiAtMTtcblxuICAgICAgICAgIGlmIChpblF1ZXVlIHx8IGluVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVEaXNwbGF5U25hY2soX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgcXVldWU6IFtdLmNvbmNhdChzdGF0ZS5xdWV1ZSwgW3NuYWNrXSlcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogUmVkdWNlcjogRGlzcGxheSBzbmFjayBpZiB0aGVyZSdzIHNwYWNlIGZvciBpdC4gT3RoZXJ3aXNlLCBpbW1lZGlhdGVseVxyXG4gICAgICogYmVnaW4gZGlzbWlzc2luZyB0aGUgb2xkZXN0IG1lc3NhZ2UgdG8gc3RhcnQgc2hvd2luZyB0aGUgbmV3IG9uZS5cclxuICAgICAqL1xuXG5cbiAgICBfdGhpcy5oYW5kbGVEaXNwbGF5U25hY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHZhciBzbmFja3MgPSBzdGF0ZS5zbmFja3M7XG5cbiAgICAgIGlmIChzbmFja3MubGVuZ3RoID49IF90aGlzLm1heFNuYWNrKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVEaXNtaXNzT2xkZXN0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzLnByb2Nlc3NRdWV1ZShzdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIFJlZHVjZXI6IERpc3BsYXkgaXRlbXMgKG5vdGlmaWNhdGlvbnMpIGluIHRoZSBxdWV1ZSBpZiB0aGVyZSdzIHNwYWNlIGZvciB0aGVtLlxyXG4gICAgICovXG5cblxuICAgIF90aGlzLnByb2Nlc3NRdWV1ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgdmFyIHF1ZXVlID0gc3RhdGUucXVldWUsXG4gICAgICAgICAgc25hY2tzID0gc3RhdGUuc25hY2tzO1xuXG4gICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgc25hY2tzOiBbXS5jb25jYXQoc25hY2tzLCBbcXVldWVbMF1dKSxcbiAgICAgICAgICBxdWV1ZTogcXVldWUuc2xpY2UoMSwgcXVldWUubGVuZ3RoKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBSZWR1Y2VyOiBIaWRlIG9sZGVzdCBzbmFja2JhciBvbiB0aGUgc2NyZWVuIGJlY2F1c2UgdGhlcmUgZXhpc3RzIGEgbmV3IG9uZSB3aGljaCB3ZSBoYXZlIHRvIGRpc3BsYXkuXHJcbiAgICAgKiAoaWdub3JpbmcgdGhlIG9uZSB3aXRoICdwZXJzaXN0JyBmbGFnLiBpLmUuIGV4cGxpY2l0bHkgdG9sZCBieSB1c2VyIG5vdCB0byBnZXQgZGlzbWlzc2VkKS5cclxuICAgICAqXHJcbiAgICAgKiBOb3RlIDE6IElmIHRoZXJlIGlzIGFscmVhZHkgYSBtZXNzYWdlIGxlYXZpbmcgdGhlIHNjcmVlbiwgbm8gbmV3IG1lc3NhZ2VzIGFyZSBkaXNtaXNzZWQuXHJcbiAgICAgKiBOb3RlIDI6IElmIHRoZSBvbGRlc3QgbWVzc2FnZSBoYXMgbm90IHlldCBlbnRlcmVkIHRoZSBzY3JlZW4sIG9ubHkgYSByZXF1ZXN0IHRvIGNsb3NlIHRoZVxyXG4gICAgICogICAgICAgICBzbmFja2JhciBpcyBtYWRlLiBPbmNlIGl0IGVudGVyZWQgdGhlIHNjcmVlbiwgaXQgd2lsbCBiZSBpbW1lZGlhdGVseSBkaXNtaXNzZWQuXHJcbiAgICAgKi9cblxuXG4gICAgX3RoaXMuaGFuZGxlRGlzbWlzc09sZGVzdCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlLnNuYWNrcy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiAhaXRlbS5vcGVuIHx8IGl0ZW0ucmVxdWVzdENsb3NlO1xuICAgICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9wcGVkID0gZmFsc2U7XG4gICAgICB2YXIgaWdub3JlID0gZmFsc2U7XG4gICAgICB2YXIgcGVyc2lzdGVudENvdW50ID0gc3RhdGUuc25hY2tzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiBhY2MgKyAoY3VycmVudC5vcGVuICYmIGN1cnJlbnQucGVyc2lzdCA/IDEgOiAwKTtcbiAgICAgIH0sIDApO1xuXG4gICAgICBpZiAocGVyc2lzdGVudENvdW50ID09PSBfdGhpcy5tYXhTbmFjaykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKE1FU1NBR0VTLk5PX1BFUlNJU1RfQUxMKSA6IHZvaWQgMDtcbiAgICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNuYWNrcyA9IHN0YXRlLnNuYWNrcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKCFwb3BwZWQgJiYgKCFpdGVtLnBlcnNpc3QgfHwgaWdub3JlKSkge1xuICAgICAgICAgIHBvcHBlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoIWl0ZW0uZW50ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgIHJlcXVlc3RDbG9zZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGl0ZW0ub25DbG9zZSkgaXRlbS5vbkNsb3NlKG51bGwsIFJFQVNPTlMuTUFYU05BQ0ssIGl0ZW0ua2V5KTtcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkgX3RoaXMucHJvcHMub25DbG9zZShudWxsLCBSRUFTT05TLk1BWFNOQUNLLCBpdGVtLmtleSk7XG4gICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICBzbmFja3M6IHNuYWNrc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgZW50ZXJlZCBzdGF0ZSBvZiB0aGUgc25hY2tiYXIgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxyXG4gICAgICovXG5cblxuICAgIF90aGlzLmhhbmRsZUVudGVyZWRTbmFjayA9IGZ1bmN0aW9uIChub2RlLCBpc0FwcGVhcmluZywga2V5KSB7XG4gICAgICBpZiAoIWlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFuZGxlRW50ZXJlZFNuYWNrIENhbm5vdCBiZSBjYWxsZWQgd2l0aCB1bmRlZmluZWQga2V5Jyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBzbmFja3MgPSBfcmVmLnNuYWNrcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzbmFja3M6IHNuYWNrcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0ga2V5ID8gX2V4dGVuZHMoe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgZW50ZXJlZDogdHJ1ZVxuICAgICAgICAgICAgfSkgOiBfZXh0ZW5kcyh7fSwgaXRlbSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIGEgc25hY2tiYXIgYWZ0ZXIgaXRzIHRpbWVvdXQuXHJcbiAgICAgKi9cblxuXG4gICAgX3RoaXMuaGFuZGxlQ2xvc2VTbmFjayA9IGZ1bmN0aW9uIChldmVudCwgcmVhc29uLCBrZXkpIHtcbiAgICAgIC8vIHNob3VsZCBub3QgdXNlIGNyZWF0ZUNoYWluZWRGdW5jdGlvbiBmb3Igb25DbG9zZS5cbiAgICAgIC8vIGJlY2F1c2UgdGhpcy5jbG9zZVNuYWNrYmFyIGNhbGxlZCB0aGlzIGZ1bmN0aW9uXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DbG9zZSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbkNsb3NlKGV2ZW50LCByZWFzb24sIGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWFzb24gPT09IFJFQVNPTlMuQ0xJQ0tBV0FZKSByZXR1cm47XG4gICAgICB2YXIgc2hvdWxkQ2xvc2VBbGwgPSBrZXkgPT09IHVuZGVmaW5lZDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBzbmFja3MgPSBfcmVmMi5zbmFja3MsXG4gICAgICAgICAgICBxdWV1ZSA9IF9yZWYyLnF1ZXVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNuYWNrczogc25hY2tzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKCFzaG91bGRDbG9zZUFsbCAmJiBpdGVtLmtleSAhPT0ga2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpdGVtLmVudGVyZWQgPyBfZXh0ZW5kcyh7fSwgaXRlbSwge1xuICAgICAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICAgICAgfSkgOiBfZXh0ZW5kcyh7fSwgaXRlbSwge1xuICAgICAgICAgICAgICByZXF1ZXN0Q2xvc2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHF1ZXVlOiBxdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmtleSAhPT0ga2V5O1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogQ2xvc2Ugc25hY2tiYXIgd2l0aCB0aGUgZ2l2ZW4ga2V5XHJcbiAgICAgKi9cblxuXG4gICAgX3RoaXMuY2xvc2VTbmFja2JhciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIC8vIGNhbGwgaW5kaXZpZHVhbCBzbmFja2JhciBvbkNsb3NlIGNhbGxiYWNrIHBhc3NlZCB0aHJvdWdoIG9wdGlvbnMgcGFyYW1ldGVyXG4gICAgICB2YXIgdG9CZUNsb3NlZCA9IF90aGlzLnN0YXRlLnNuYWNrcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc0RlZmluZWQoa2V5KSAmJiB0b0JlQ2xvc2VkICYmIHRvQmVDbG9zZWQub25DbG9zZSkge1xuICAgICAgICB0b0JlQ2xvc2VkLm9uQ2xvc2UobnVsbCwgUkVBU09OUy5JTlNUUlVDVEVELCBrZXkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5oYW5kbGVDbG9zZVNuYWNrKG51bGwsIFJFQVNPTlMuSU5TVFJVQ1RFRCwga2V5KTtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogV2hlbiB3ZSBzZXQgb3BlbiBhdHRyaWJ1dGUgb2YgYSBzbmFja2JhciB0byBmYWxzZSAoaS5lLiBhZnRlciB3ZSBoaWRlIGEgc25hY2tiYXIpLFxyXG4gICAgICogaXQgbGVhdmVzIHRoZSBzY3JlZW4gYW5kIGltbWVkaWF0ZWx5IGFmdGVyIGxlYXZpbmcgYW5pbWF0aW9uIGlzIGRvbmUsIHRoaXMgbWV0aG9kXHJcbiAgICAgKiBnZXRzIGNhbGxlZC4gV2UgcmVtb3ZlIHRoZSBoaWRkZW4gc25hY2tiYXIgZnJvbSBzdGF0ZSBhbmQgdGhlbiBkaXNwbGF5IG5vdGlmaWNhdGlvbnNcclxuICAgICAqIHdhaXRpbmcgaW4gdGhlIHF1ZXVlIChpZiBhbnkpLiBJZiBhZnRlciB0aGlzIHByb2Nlc3MgdGhlIHF1ZXVlIGlzIG5vdCBlbXB0eSwgdGhlXHJcbiAgICAgKiBvbGRlc3QgbWVzc2FnZSBpcyBkaXNtaXNzZWQuXHJcbiAgICAgKi9cbiAgICAvLyBAdHMtaWdub3JlXG5cblxuICAgIF90aGlzLmhhbmRsZUV4aXRlZFNuYWNrID0gZnVuY3Rpb24gKGV2ZW50LCBrZXkxLCBrZXkyKSB7XG4gICAgICB2YXIga2V5ID0ga2V5MSB8fCBrZXkyO1xuXG4gICAgICBpZiAoIWlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFuZGxlRXhpdGVkU25hY2sgQ2Fubm90IGJlIGNhbGxlZCB3aXRoIHVuZGVmaW5lZCBrZXknKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IF90aGlzLnByb2Nlc3NRdWV1ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICBzbmFja3M6IHN0YXRlLnNuYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmtleSAhPT0ga2V5O1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcblxuICAgICAgICBpZiAobmV3U3RhdGUucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZURpc21pc3NPbGRlc3QobmV3U3RhdGUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgc25hY2tzOiBbXSxcbiAgICAgIHF1ZXVlOiBbXSxcbiAgICAgIGNvbnRleHRWYWx1ZToge1xuICAgICAgICBlbnF1ZXVlU25hY2tiYXI6IF90aGlzLmVucXVldWVTbmFja2Jhci5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSxcbiAgICAgICAgY2xvc2VTbmFja2JhcjogX3RoaXMuY2xvc2VTbmFja2Jhci5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFNuYWNrYmFyUHJvdmlkZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgY29udGV4dFZhbHVlID0gdGhpcy5zdGF0ZS5jb250ZXh0VmFsdWU7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBpY29uVmFyaWFudCA9IF90aGlzJHByb3BzLmljb25WYXJpYW50LFxuICAgICAgICBfdGhpcyRwcm9wcyRkZW5zZSA9IF90aGlzJHByb3BzLmRlbnNlLFxuICAgICAgICBkZW5zZSA9IF90aGlzJHByb3BzJGRlbnNlID09PSB2b2lkIDAgPyBERUZBVUxUUy5kZW5zZSA6IF90aGlzJHByb3BzJGRlbnNlLFxuICAgICAgICBfdGhpcyRwcm9wcyRoaWRlSWNvblYgPSBfdGhpcyRwcm9wcy5oaWRlSWNvblZhcmlhbnQsXG4gICAgICAgIGhpZGVJY29uVmFyaWFudCA9IF90aGlzJHByb3BzJGhpZGVJY29uViA9PT0gdm9pZCAwID8gREVGQVVMVFMuaGlkZUljb25WYXJpYW50IDogX3RoaXMkcHJvcHMkaGlkZUljb25WLFxuICAgICAgICBkb21Sb290ID0gX3RoaXMkcHJvcHMuZG9tUm9vdCxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgX3RoaXMkcHJvcHMkY2xhc3NlcyA9IF90aGlzJHByb3BzLmNsYXNzZXMsXG4gICAgICAgIGNsYXNzZXMgPSBfdGhpcyRwcm9wcyRjbGFzc2VzID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzJGNsYXNzZXMsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcIm1heFNuYWNrXCIsIFwicHJldmVudER1cGxpY2F0ZVwiLCBcInZhcmlhbnRcIiwgXCJhbmNob3JPcmlnaW5cIiwgXCJpY29uVmFyaWFudFwiLCBcImRlbnNlXCIsIFwiaGlkZUljb25WYXJpYW50XCIsIFwiZG9tUm9vdFwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiXSk7XG5cbiAgICB2YXIgY2F0ZWcgPSB0aGlzLnN0YXRlLnNuYWNrcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VycmVudCkge1xuICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgdmFyIGNhdGVnb3J5ID0gb3JpZ2luS2V5RXh0cmFjdG9yKGN1cnJlbnQuYW5jaG9yT3JpZ2luKTtcbiAgICAgIHZhciBleGlzdGluZ09mQ2F0ZWdvcnkgPSBhY2NbY2F0ZWdvcnldIHx8IFtdO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhY2MsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW2NhdGVnb3J5XSA9IFtdLmNvbmNhdChleGlzdGluZ09mQ2F0ZWdvcnksIFtjdXJyZW50XSksIF9leHRlbmRzMikpO1xuICAgIH0sIHt9KTtcbiAgICB2YXIgc25hY2tiYXJzID0gT2JqZWN0LmtleXMoY2F0ZWcpLm1hcChmdW5jdGlvbiAob3JpZ2luKSB7XG4gICAgICB2YXIgc25hY2tzID0gY2F0ZWdbb3JpZ2luXTtcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNuYWNrYmFyQ29udGFpbmVyJDEsIHtcbiAgICAgICAga2V5OiBvcmlnaW4sXG4gICAgICAgIGRlbnNlOiBkZW5zZSxcbiAgICAgICAgYW5jaG9yT3JpZ2luOiBzbmFja3NbMF0uYW5jaG9yT3JpZ2luLFxuICAgICAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5jb250YWluZXJSb290LCBjbGFzc2VzW3RyYW5zZm9ybWVyLnRvQ29udGFpbmVyQW5jaG9yT3JpZ2luKG9yaWdpbildKVxuICAgICAgfSwgc25hY2tzLm1hcChmdW5jdGlvbiAoc25hY2spIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXJJdGVtLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIGtleTogc25hY2sua2V5LFxuICAgICAgICAgIHNuYWNrOiBzbmFjayxcbiAgICAgICAgICBkZW5zZTogZGVuc2UsXG4gICAgICAgICAgaWNvblZhcmlhbnQ6IGljb25WYXJpYW50LFxuICAgICAgICAgIGhpZGVJY29uVmFyaWFudDogaGlkZUljb25WYXJpYW50LFxuICAgICAgICAgIGNsYXNzZXM6IG9taXRDb250YWluZXJLZXlzKGNsYXNzZXMpLFxuICAgICAgICAgIG9uQ2xvc2U6IF90aGlzMi5oYW5kbGVDbG9zZVNuYWNrLFxuICAgICAgICAgIG9uRXhpdGVkOiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oW190aGlzMi5oYW5kbGVFeGl0ZWRTbmFjaywgX3RoaXMyLnByb3BzLm9uRXhpdGVkXSksXG4gICAgICAgICAgb25FbnRlcmVkOiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oW190aGlzMi5oYW5kbGVFbnRlcmVkU25hY2ssIF90aGlzMi5wcm9wcy5vbkVudGVyZWRdKVxuICAgICAgICB9KSk7XG4gICAgICB9KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXJDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogY29udGV4dFZhbHVlXG4gICAgfSwgY2hpbGRyZW4sIGRvbVJvb3QgPyBjcmVhdGVQb3J0YWwoc25hY2tiYXJzLCBkb21Sb290KSA6IHNuYWNrYmFycyk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFNuYWNrYmFyUHJvdmlkZXIsIFt7XG4gICAga2V5OiBcIm1heFNuYWNrXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tYXhTbmFjayB8fCBERUZBVUxUUy5tYXhTbmFjaztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU25hY2tiYXJQcm92aWRlcjtcbn0oQ29tcG9uZW50KTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0phbWVzTUdyZWVuZS9GdW5jdGlvbi5uYW1lL2Jsb2IvNThiMzE0ZDRhOTgzMTEwYzM2ODJmMTIyOGY4NDVkMzljY2NhMTgxNy9GdW5jdGlvbi5uYW1lLmpzI0wzXG52YXIgZm5OYW1lTWF0Y2hSZWdleCA9IC9eXFxzKmZ1bmN0aW9uKD86XFxzfFxccypcXC9cXCouKlxcKlxcL1xccyopKyhbXihcXHMvXSopXFxzKi87XG5cbnZhciBnZXRGdW5jdGlvbk5hbWUgPSBmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoZm4pIHtcbiAgdmFyIG1hdGNoID0gKFwiXCIgKyBmbikubWF0Y2goZm5OYW1lTWF0Y2hSZWdleCk7XG4gIHZhciBuYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gIHJldHVybiBuYW1lIHx8ICcnO1xufTtcbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQ29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZmFsbGJhY2tcbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9XG4gKi9cblxuXG52YXIgZ2V0RnVuY3Rpb25Db21wb25lbnROYW1lID0gZnVuY3Rpb24gZ2V0RnVuY3Rpb25Db21wb25lbnROYW1lKENvbXBvbmVudCwgZmFsbGJhY2spIHtcbiAgaWYgKGZhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICBmYWxsYmFjayA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCBnZXRGdW5jdGlvbk5hbWUoQ29tcG9uZW50KSB8fCBmYWxsYmFjaztcbn07XG5cbnZhciBnZXRXcmFwcGVkTmFtZSA9IGZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZnVuY3Rpb25OYW1lID0gZ2V0RnVuY3Rpb25Db21wb25lbnROYW1lKGlubmVyVHlwZSk7XG4gIHJldHVybiBvdXRlclR5cGUuZGlzcGxheU5hbWUgfHwgKGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZSk7XG59O1xuLyoqIFxuICogRnJvbSByZWFjdC1pc1xuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3NoYXJlZC9SZWFjdFN5bWJvbHMuanNcbiAqL1xuXG5cbnZhciBGb3J3YXJkUmVmID0gZnVuY3Rpb24gRm9yd2FyZFJlZigpIHtcbiAgdmFyIHN5bWJvbEZvciA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sW1wiZm9yXCJdO1xuICByZXR1cm4gc3ltYm9sRm9yID8gc3ltYm9sRm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xufTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvNzY5YjFmMjcwZTEyNTFkOWRiZGNlMGZjYmQ5ZTkyZTUwMmQwNTliOC9wYWNrYWdlcy9zaGFyZWQvZ2V0Q29tcG9uZW50TmFtZS5qc1xuICpcbiAqIEBwYXJhbSB7UmVhY3QuUmVhY3RUeXBlfSBDb21wb25lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmcgfCB1bmRlZmluZWR9XG4gKi9cblxuXG52YXIgZ2V0RGlzcGxheU5hbWUgPSAoZnVuY3Rpb24gKENvbXBvbmVudCkge1xuICBpZiAoQ29tcG9uZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGdldEZ1bmN0aW9uQ29tcG9uZW50TmFtZShDb21wb25lbnQsICdDb21wb25lbnQnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAoQ29tcG9uZW50LiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIEZvcndhcmRSZWYoKTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKENvbXBvbmVudCwgQ29tcG9uZW50LnJlbmRlciwgJ0ZvcndhcmRSZWYnKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufSk7XG5cbnZhciB3aXRoU25hY2tiYXIgPSBmdW5jdGlvbiB3aXRoU25hY2tiYXIoQ29tcG9uZW50KSB7XG4gIHZhciBXcmFwcGVkQ29tcG9uZW50ID0gUmVhY3RfX2RlZmF1bHQuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNuYWNrYmFyQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBlbnF1ZXVlU25hY2tiYXI6IGNvbnRleHQuZW5xdWV1ZVNuYWNrYmFyLFxuICAgICAgICBjbG9zZVNuYWNrYmFyOiBjb250ZXh0LmNsb3NlU25hY2tiYXJcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gXCJXaXRoU25hY2tiYXIoXCIgKyBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpICsgXCIpXCI7XG4gIH1cblxuICBob2lzdE5vblJlYWN0U3RhdGljcyhXcmFwcGVkQ29tcG9uZW50LCBDb21wb25lbnQpO1xuICByZXR1cm4gV3JhcHBlZENvbXBvbmVudDtcbn07XG5cbnZhciB1c2VTbmFja2JhciA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KFNuYWNrYmFyQ29udGV4dCk7XG59KTtcblxuZXhwb3J0IHsgU25hY2tiYXJDb250ZW50LCBTbmFja2JhclByb3ZpZGVyLCB1c2VTbmFja2Jhciwgd2l0aFNuYWNrYmFyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3Rpc3RhY2suZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgQXV0aFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxMb2dpbkZvcm0ge1xuICBlbWFpbDogc3RyaW5nXG4gIHBhc3N3b3JkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbWFpbFJlZ2lzdHJhdGlvbkZvcm0ge1xuICBlbWFpbDogc3RyaW5nXG4gIHBhc3N3b3JkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHaXRodWJMb2dpbkZvcm0ge1xuICBlbWFpbDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlua2VkSW5Mb2dpbkZvcm0ge1xuICBlbWFpbDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBBdXRoQWN0aW9uID0ge1xuICBhY3Rpb25Qcm9jZXNzaW5nOiAocHJvY2Vzc2luZzogYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnQUNUSU9OX1BST0NFU1NJTkcnIGFzIGNvbnN0LFxuICAgICAgcHJvY2Vzc2luZ1xuICAgIH1cbiAgfSxcbiAgbG9naW5Vc2VyU3VjY2VzczogKGF1dGhVc2VyOiBBdXRoVXNlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnTE9HSU5fVVNFUl9TVUNDRVNTJyBhcyBjb25zdCxcbiAgICAgIGF1dGhVc2VyLFxuICAgICAgbWVzc2FnZTogJydcbiAgICB9XG4gIH0sXG4gIGxvZ2luVXNlckVycm9yOiAoZXJyOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfRVJST1InIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZTogZXJyXG4gICAgfVxuICB9LFxuICBsb2dpblVzZXJCeUdpdGh1YlN1Y2Nlc3M6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfQllfR0lUSFVCX1NVQ0NFU1MnIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZVxuICAgIH1cbiAgfSxcbiAgbG9naW5Vc2VyQnlHaXRodWJFcnJvcjogKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnTE9HSU5fVVNFUl9CWV9HSVRIVUJfRVJST1InIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZVxuICAgIH1cbiAgfSxcbiAgbG9naW5Vc2VyQnlMaW5rZWRpblN1Y2Nlc3M6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfQllfTElOS0VESU5fU1VDQ0VTUycgYXMgY29uc3QsXG4gICAgICBtZXNzYWdlXG4gICAgfVxuICB9LFxuICBsb2dpblVzZXJCeUxpbmtlZGluRXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfQllfTElOS0VESU5fRVJST1InIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZVxuICAgIH1cbiAgfSxcbiAgZGlkTG9nb3V0OiAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0dPVVRfVVNFUicgYXMgY29uc3QsXG4gICAgICBtZXNzYWdlOiAnJ1xuICAgIH1cbiAgfSxcbiAgcmVnaXN0ZXJVc2VyQnlFbWFpbFN1Y2Nlc3M6IChpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdSRUdJU1RFUl9VU0VSX0JZX0VNQUlMX1NVQ0NFU1MnIGFzIGNvbnN0LFxuICAgICAgaWRlbnRpdHlQcm92aWRlcixcbiAgICAgIG1lc3NhZ2U6ICcnXG4gICAgfVxuICB9LFxuICByZWdpc3RlclVzZXJCeUVtYWlsRXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1JFR0lTVEVSX1VTRVJfQllfRU1BSUxfRVJST1InIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgIH1cbiAgfSxcbiAgZGlkVmVyaWZ5RW1haWw6IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0RJRF9WRVJJRllfRU1BSUwnIGFzIGNvbnN0LFxuICAgICAgcmVzdWx0XG4gICAgfVxuICB9LFxuICBkaWRSZXNlbmRWZXJpZmljYXRpb25FbWFpbDogKHJlc3VsdDogYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnRElEX1JFU0VORF9WRVJJRklDQVRJT05fRU1BSUwnIGFzIGNvbnN0LFxuICAgICAgcmVzdWx0XG4gICAgfVxuICB9LFxuICBkaWRGb3Jnb3RQYXNzd29yZDogKHJlc3VsdDogYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnRElEX0ZPUkdPVF9QQVNTV09SRCcgYXMgY29uc3QsXG4gICAgICByZXN1bHRcbiAgICB9XG4gIH0sXG4gIGRpZFJlc2V0UGFzc3dvcmQ6IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0RJRF9SRVNFVF9QQVNTV09SRCcgYXMgY29uc3QsXG4gICAgICByZXN1bHRcbiAgICB9XG4gIH0sXG4gIGRpZENyZWF0ZU1hZ2ljTGluazogKHJlc3VsdDogYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnRElEX0NSRUFURV9NQUdJQ0xJTksnIGFzIGNvbnN0LFxuICAgICAgcmVzdWx0XG4gICAgfVxuICB9LFxuICBsb2FkZWRVc2VyRGF0YTogKHVzZXI6IFVzZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPQURFRF9VU0VSX0RBVEEnIGFzIGNvbnN0LFxuICAgICAgdXNlclxuICAgIH1cbiAgfSxcbiAgdXBkYXRlZFVzZXJTZXR0aW5nc0FjdGlvbjogKGRhdGE6IGFueSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnVVBEQVRFX1VTRVJfU0VUVElOR1MnIGFzIGNvbnN0LFxuICAgICAgZGF0YTogZGF0YVxuICAgIH1cbiAgfSxcbiAgYXZhdGFyVXBkYXRlZDogKHJlc3VsdDogYW55KSA9PiB7XG4gICAgY29uc3QgdXJsID0gcmVzdWx0LnVybFxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnQVZBVEFSX1VQREFURUQnIGFzIGNvbnN0LFxuICAgICAgdXJsXG4gICAgfVxuICB9LFxuICB1c2VybmFtZVVwZGF0ZWQ6IChyZXN1bHQ6IGFueSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSByZXN1bHQubmFtZVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnVVNFUk5BTUVfVVBEQVRFRCcgYXMgY29uc3QsXG4gICAgICBuYW1lXG4gICAgfVxuICB9LFxuICB1c2VyQXZhdGFySWRVcGRhdGVkOiAocmVzdWx0OiBhbnkpID0+IHtcbiAgICBjb25zdCBhdmF0YXJJZCA9IHJlc3VsdC5hdmF0YXJJZFxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnVVNFUkFWQVRBUklEX1VQREFURUQnIGFzIGNvbnN0LFxuICAgICAgYXZhdGFySWRcbiAgICB9XG4gIH0sXG4gIHVzZXJVcGRhdGVkOiAodXNlcjogVXNlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnVVNFUl9VUERBVEVEJyBhcyBjb25zdCxcbiAgICAgIHVzZXI6IHVzZXJcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZUF2YXRhckxpc3Q6IChhdmF0YXJMaXN0OiBbXSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnQVZBVEFSX0ZFVENIRUQnIGFzIGNvbnN0LFxuICAgICAgYXZhdGFyTGlzdFxuICAgIH1cbiAgfSxcbiAgcmVzdG9yZUF1dGg6ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1JFU1RPUkUnIGFzIGNvbnN0XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEF1dGhBY3Rpb25UeXBlID0gUmV0dXJuVHlwZTx0eXBlb2YgQXV0aEFjdGlvbltrZXlvZiB0eXBlb2YgQXV0aEFjdGlvbl0+XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBSb3V0ZSwgU3dpdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuY2xhc3MgUm91dGVyQ29tcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDx7fSwgeyBoYXNFcnJvcjogYm9vbGVhbiB9PiB7XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoKSB7XG4gICAgcmV0dXJuIHsgaGFzRXJyb3I6IHRydWUgfVxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSB9XG4gIH1cblxuICBjb21wb25lbnREaWRDYXRjaCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNFcnJvcjogZmFsc2UgfSlcbiAgICB9LCAyMDAwKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yKSByZXR1cm4gPGRpdj5Xb3JraW5nLi4uPC9kaXY+XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFN3aXRjaD5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9pbmRleCcpKX0gZXhhY3QgLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbG9naW5cIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2xvZ2luJykpfSAvPlxuXG4gICAgICAgIHsvKiBEZWJ1ZyBSb3V0ZXMgKi99XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3dlYnhyXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy93ZWJ4cicpKX0gLz5cblxuICAgICAgICB7LyogQWRtaW4gUm91dGVzICovfVxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hZG1pbi9hcm1lZGlhXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hZG1pbi9hcm1lZGlhJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hZG1pbi90aGVmZWVkc1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYWRtaW4vdGhlZmVlZHMnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FkbWluL2ZlZWRzXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hZG1pbi9mZWVkcycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYWRtaW4vdXNlcnNcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2FkbWluL3VzZXJzJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hZG1pblwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYWRtaW4vaW5kZXgnKSl9IC8+XG5cbiAgICAgICAgey8qIEVkaXRvciBSb3V0ZXMgKi99XG4gICAgICAgIDxSb3V0ZVxuICAgICAgICAgIHBhdGg9XCIvZWRpdG9yL3Byb2plY3RzLzpwcm9qZWN0SWRcIlxuICAgICAgICAgIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJ0B4cmVuZ2luZS9lZGl0b3Ivc3JjL3BhZ2VzL3Byb2plY3RzL1twcm9qZWN0SWRdJykpfVxuICAgICAgICAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9lZGl0b3IvcHJvamVjdHNcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAeHJlbmdpbmUvZWRpdG9yL3NyYy9wYWdlcy9wcm9qZWN0cycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvZWRpdG9yL2NyZWF0ZVwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJ0B4cmVuZ2luZS9lZGl0b3Ivc3JjL3BhZ2VzL2NyZWF0ZScpKX0gLz5cbiAgICAgICAgey8qIDxSZWRpcmVjdCBwYXRoPVwiL2VkaXRvclwiIHRvPVwiL2VkaXRvci9wcm9qZWN0c1wiIC8+ICovfVxuXG4gICAgICAgIHsvKiA8Um91dGUgcGF0aD1cIi9lZGl0b3IvcHJvamVjdHMvY3JlYXRlXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hZG1pbi9lZGl0b3InKSl9IC8+ICovfVxuXG4gICAgICAgIHsvKiBBdXRoIFJvdXRlcyAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYXV0aC9vYXV0aC9mYWNlYm9va1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9vYXV0aC9mYWNlYm9vaycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYXV0aC9vYXV0aC9naXRodWJcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2F1dGgvb2F1dGgvZ2l0aHViJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hdXRoL29hdXRoL2dvb2dsZVwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9vYXV0aC9nb29nbGUnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2F1dGgvb2F1dGgvbGlua2VkaW5cIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2F1dGgvb2F1dGgvbGlua2VkaW4nKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2F1dGgvY29uZmlybVwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9jb25maXJtJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hdXRoL2ZvcmdvdHBhc3N3b3JkXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hdXRoL2ZvcmdvdHBhc3N3b3JkJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hdXRoL21hZ2ljbGlua1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9tYWdpY2xpbmsnKSl9IC8+XG5cbiAgICAgICAgey8qIFJlZ2lzdHJhdGlvbiBSb3V0ZXMgKi99XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3JlZ2lzdHJhdGlvblwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvUmVnaXN0cmF0aW9uJykpfSAvPlxuXG4gICAgICAgIHsvKiBQb3N0IFJvdXRlcyAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvcG9zdC86cGlkXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9wb3N0L1twaWRdJykpfSAvPlxuXG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FjdGl2aXR5XCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hY3Rpdml0eScpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvY3JlYXRvclwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvY3JlYXRvcicpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvY3JlYXRvckVkaXRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2NyZWF0b3JFZGl0JykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9leHBsb3JlXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9jcmVhdG9yRWRpdCcpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvZmVlZFwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvZmVlZCcpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbG9naW5cIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2xvZ2luJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9tZXNzYWdlc1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbWVzc2FnZXMnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL25ld2ZlZWRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL25ld2ZlZWQnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL25vdGlmaWNhdGlvbnNcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL25vdGlmaWNhdGlvbnMnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL29uYm9hcmRpbmdcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL29uYm9hcmRpbmcnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3ZpZGVvcmVjb3JkXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy92aWRlb3JlY29yZCcpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvcHJpdmFjeXBvbGljeVwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvcHJpdmFjeXBvbGljeScpKX0gLz5cblxuICAgICAgICB7LyogVGVybXMgYW5kIFBvbGljeSAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvdGVybXNcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL1Rlcm1zQW5kUG9saWN5L3Rlcm1zJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9wb2xpY3lcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL1Rlcm1zQW5kUG9saWN5L3BvbGljeScpKX0gLz5cblxuICAgICAgICA8Um91dGUgcGF0aD1cIi86cGlkXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9bcGlkXScpKX0gLz5cblxuICAgICAgICA8Um91dGUgcGF0aD1cIipcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzLzQwNCcpKX0gLz5cbiAgICAgIDwvU3dpdGNoPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXJDb21wXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgcmV0dXJuIGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gJ0BAcmVkdXgvSU5JVCcgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTdGF0ZU5hbWUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2ltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuXG52YXIgX2ltbXV0YWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbW11dGFibGUpO1xuXG52YXIgX2dldFN0YXRlTmFtZSA9IHJlcXVpcmUoJy4vZ2V0U3RhdGVOYW1lJyk7XG5cbnZhciBfZ2V0U3RhdGVOYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFN0YXRlTmFtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbikge1xuICB2YXIgcmVkdWNlck5hbWVzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuXG4gIGlmICghcmVkdWNlck5hbWVzLmxlbmd0aCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgdmFyIHN0YXRlTmFtZSA9ICgwLCBfZ2V0U3RhdGVOYW1lMi5kZWZhdWx0KShhY3Rpb24pO1xuXG4gIGlmIChfaW1tdXRhYmxlMi5kZWZhdWx0LmlzSW1tdXRhYmxlID8gIV9pbW11dGFibGUyLmRlZmF1bHQuaXNJbW11dGFibGUoc3RhdGUpIDogIV9pbW11dGFibGUyLmRlZmF1bHQuSXRlcmFibGUuaXNJdGVyYWJsZShzdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgc3RhdGVOYW1lICsgJyBpcyBvZiB1bmV4cGVjdGVkIHR5cGUuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIGluc3RhbmNlIG9mIEltbXV0YWJsZS5Db2xsZWN0aW9uIG9yIEltbXV0YWJsZS5SZWNvcmQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6IFwiJyArIHJlZHVjZXJOYW1lcy5qb2luKCdcIiwgXCInKSArICdcIi4nO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRTdGF0ZVByb3BlcnR5TmFtZXMgPSBzdGF0ZS50b1NlcSgpLmtleVNlcSgpLnRvQXJyYXkoKS5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KG5hbWUpO1xuICB9KTtcblxuICBpZiAodW5leHBlY3RlZFN0YXRlUHJvcGVydHlOYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuICdVbmV4cGVjdGVkICcgKyAodW5leHBlY3RlZFN0YXRlUHJvcGVydHlOYW1lcy5sZW5ndGggPT09IDEgPyAncHJvcGVydHknIDogJ3Byb3BlcnRpZXMnKSArICcgXCInICsgdW5leHBlY3RlZFN0YXRlUHJvcGVydHlOYW1lcy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgc3RhdGVOYW1lICsgJy4gRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIgcHJvcGVydHkgbmFtZXMgaW5zdGVhZDogXCInICsgcmVkdWNlck5hbWVzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIHByb3BlcnRpZXMgd2lsbCBiZSBpZ25vcmVkLic7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG5leHRTdGF0ZSwgcmVkdWNlck5hbWUsIGFjdGlvbikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZpbmVkXG4gIGlmIChuZXh0U3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyByZWR1Y2VyTmFtZSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBoYW5kbGluZyBcIicgKyBhY3Rpb24udHlwZSArICdcIiBhY3Rpb24uIFRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZU5leHRTdGF0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnZhbGlkYXRlTmV4dFN0YXRlID0gZXhwb3J0cy5nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UgPSBleHBvcnRzLmdldFN0YXRlTmFtZSA9IHVuZGVmaW5lZDtcblxudmFyIF9nZXRTdGF0ZU5hbWUyID0gcmVxdWlyZSgnLi9nZXRTdGF0ZU5hbWUnKTtcblxudmFyIF9nZXRTdGF0ZU5hbWUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0U3RhdGVOYW1lMik7XG5cbnZhciBfZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlMiA9IHJlcXVpcmUoJy4vZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlJyk7XG5cbnZhciBfZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZTIpO1xuXG52YXIgX3ZhbGlkYXRlTmV4dFN0YXRlMiA9IHJlcXVpcmUoJy4vdmFsaWRhdGVOZXh0U3RhdGUnKTtcblxudmFyIF92YWxpZGF0ZU5leHRTdGF0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWxpZGF0ZU5leHRTdGF0ZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmdldFN0YXRlTmFtZSA9IF9nZXRTdGF0ZU5hbWUzLmRlZmF1bHQ7XG5leHBvcnRzLmdldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZSA9IF9nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UzLmRlZmF1bHQ7XG5leHBvcnRzLnZhbGlkYXRlTmV4dFN0YXRlID0gX3ZhbGlkYXRlTmV4dFN0YXRlMy5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2ltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuXG52YXIgX2ltbXV0YWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbW11dGFibGUpO1xuXG52YXIgX3V0aWxpdGllcyA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChyZWR1Y2Vycykge1xuICB2YXIgZ2V0RGVmYXVsdFN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBfaW1tdXRhYmxlMi5kZWZhdWx0Lk1hcDtcblxuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHNwYWNlLWluZml4LW9wc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnB1dFN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBnZXREZWZhdWx0U3RhdGUoKTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb2Nlc3MtZW52XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9ICgwLCBfdXRpbGl0aWVzLmdldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZSkoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbik7XG5cbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5wdXRTdGF0ZS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uICh0ZW1wb3JhcnlTdGF0ZSkge1xuICAgICAgcmVkdWNlcktleXMuZm9yRWFjaChmdW5jdGlvbiAocmVkdWNlck5hbWUpIHtcbiAgICAgICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1tyZWR1Y2VyTmFtZV07XG4gICAgICAgIHZhciBjdXJyZW50RG9tYWluU3RhdGUgPSB0ZW1wb3JhcnlTdGF0ZS5nZXQocmVkdWNlck5hbWUpO1xuICAgICAgICB2YXIgbmV4dERvbWFpblN0YXRlID0gcmVkdWNlcihjdXJyZW50RG9tYWluU3RhdGUsIGFjdGlvbik7XG5cbiAgICAgICAgKDAsIF91dGlsaXRpZXMudmFsaWRhdGVOZXh0U3RhdGUpKG5leHREb21haW5TdGF0ZSwgcmVkdWNlck5hbWUsIGFjdGlvbik7XG5cbiAgICAgICAgdGVtcG9yYXJ5U3RhdGUuc2V0KHJlZHVjZXJOYW1lLCBuZXh0RG9tYWluU3RhdGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVSZWR1Y2Vycy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IHVuZGVmaW5lZDtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMyID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gX2NvbWJpbmVSZWR1Y2VyczMuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IEFkbWluQWN0aW9uVHlwZSB9IGZyb20gJy4vQWRtaW5BY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG5leHBvcnQgY29uc3QgQURNSU5fUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZGF0YToge31cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pblJlZHVjZXIgPSAoXywgYWN0aW9uOiBBZG1pbkFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhZG1pblJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYWRtaW5SZWNlcHRvciA9IChhY3Rpb246IEFkbWluQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnVklERU9fQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgZGF0YTogYWN0aW9uLmRhdGEgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQWRtaW5TdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQWRtaW5TdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBVc2VyQWN0aW9uVHlwZSB9IGZyb20gJy4vVXNlckFjdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcblxuZXhwb3J0IGNvbnN0IFVTRVJfUEFHRV9MSU1JVCA9IDEwMFxuXG50eXBlIFVzZXJSb2xlID0geyByb2xlOiBzdHJpbmcgfVxudHlwZSBVc2VyUm9sZXMgPSBVc2VyUm9sZVtdXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgZXJyb3I6ICcnLFxuICBhdXRoVXNlcjogQXV0aFVzZXJTZWVkLFxuICB1c2VyOiBVc2VyU2VlZCxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWQsXG4gIHVzZXJzOiB7XG4gICAgdXNlcnM6IFtdIGFzIFVzZXJSb2xlcyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBVU0VSX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH0sXG4gIHVzZXJSb2xlOiB7XG4gICAgdXNlclJvbGU6IFtdIGFzIFVzZXJSb2xlcyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBVU0VSX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH0sXG4gIHNpbmdsZVVzZXI6IHtcbiAgICBzaW5nbGVVc2VyOiB7XG4gICAgICB1c2VyUm9sZTogJycsXG4gICAgICBzY29wZXM6IFtdXG4gICAgfSxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfSxcbiAgc3RhdGljUmVzb3VyY2U6IHtcbiAgICBzdGF0aWNSZXNvdXJjZTogW10sXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pblVzZXJSZWR1Y2VyID0gKF8sIGFjdGlvbjogVXNlckFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1c2VyUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCB1c2VyUmVjZXB0b3IgPSAoYWN0aW9uOiBVc2VyQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdBRE1JTl9MT0FERURfVVNFUlMnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24udXNlcnNcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2Uoe1xuICAgICAgICAgIHVzZXJzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdVU0VSX1JPTEVfUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnR5cGVzXG4gICAgICAgIHJldHVybiBzLnVzZXJSb2xlLm1lcmdlKHsgdXNlclJvbGU6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdVU0VSX1JPTEVfQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLnVzZXJSb2xlLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdVU0VSX0FETUlOX1JFTU9WRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uZGF0YVxuICAgICAgICBsZXQgdXNlclJlbW92ZSA9IHN0YXRlLnVzZXJzLnVzZXJzLnZhbHVlXG4gICAgICAgIHVzZXJSZW1vdmUgPSB1c2VyUmVtb3ZlLmZpbHRlcigodXNlcikgPT4gdXNlci5pZCAhPT0gcmVzdWx0LmlkKVxuICAgICAgICByZXR1cm4gcy51c2Vycy5tZXJnZSh7IHVzZXJzOiB1c2VyUmVtb3ZlLCB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ1VTRVJfQURNSU5fQ1JFQVRFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi51c2VyXG4gICAgICAgIHJldHVybiBzLnVzZXJzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdVU0VSX0FETUlOX1BBVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24udXNlclxuICAgICAgICByZXR1cm4gcy51c2Vycy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnVVNFUl9ST0xFX1VQREFURUQnOlxuICAgICAgICByZXR1cm4gcy51c2Vycy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnVVNFUl9TRUFSQ0hfQURNSU4nOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uZGF0YVxuICAgICAgICByZXR1cm4gcy51c2Vycy5tZXJnZSh7XG4gICAgICAgICAgdXNlcnM6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHNraXA6IHJlc3VsdC5za2lwLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ1NJTkdMRV9VU0VSX0FETUlOX0xPQURFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5kYXRhXG4gICAgICAgIHJldHVybiBzLnNpbmdsZVVzZXIubWVyZ2UoeyBzaW5nbGVVc2VyOiByZXN1bHQsIHJldHJpZXZpbmc6IGZhbHNlLCBmZXRjaGVkOiB0cnVlLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdTVEFUSUNfUkVTT1VSQ0VfUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnN0YXRpY1Jlc291cmNlXG4gICAgICAgIHJldHVybiBzLnN0YXRpY1Jlc291cmNlLm1lcmdlKHtcbiAgICAgICAgICBzdGF0aWNSZXNvdXJjZTogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdTSU5HTEVfVVNFUl9BRE1JTl9SRUZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuc2luZ2xlVXNlci5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NVc2VyU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVVzZXJTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBDb250ZW50UGFja0FjdGlvblR5cGUgfSBmcm9tICcuL0NvbnRlbnRQYWNrQWN0aW9ucydcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGNvbnRlbnRQYWNrczogW10sXG4gIHVwZGF0ZU5lZWRlZDogdHJ1ZVxufSlcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRQYWNrUmVkdWNlciA9IChfLCBhY3Rpb246IENvbnRlbnRQYWNrQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGNvbnRlbnRQYWNrUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBjb250ZW50UGFja1JlY2VwdG9yID0gKGFjdGlvbjogQ29udGVudFBhY2tBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0FERURfQ09OVEVOVF9QQUNLUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiBmYWxzZSwgY29udGVudFBhY2tzOiBhY3Rpb24uY29udGVudFBhY2tzIH0pXG4gICAgICBjYXNlICdDT05URU5UX1BBQ0tfQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdDT05URU5UX1BBQ0tfUEFUQ0hFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0NvbnRlbnRQYWNrU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUNvbnRlbnRQYWNrU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlcidcbmltcG9ydCB7IEF1dGhVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQXV0aFVzZXInXG5pbXBvcnQgeyBBdmF0YXJBY3Rpb25UeXBlIH0gZnJvbSAnLi9BdmF0YXJBY3Rpb25zJ1xuXG5leHBvcnQgY29uc3QgQVZBVEFSX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgYXZhdGFyczoge1xuICAgIGF2YXRhcnM6IFtdLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IEFWQVRBUl9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5BdmF0YXJSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXZhdGFyQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGF2YXRhclJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYXZhdGFyUmVjZXB0b3IgPSAoYWN0aW9uOiBBdmF0YXJBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQVZBVEFSU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYXZhdGFyc1xuXG4gICAgICAgIHMuYXZhdGFycy5tZXJnZSh7XG4gICAgICAgICAgYXZhdGFyczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBdmF0YXJTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQXZhdGFyU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgSW5zdGFuY2VBY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnN0YW5jZUFjdGlvbnMnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcblxuZXhwb3J0IGNvbnN0IElOU1ROQ0VfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgaXNMb2dnZWRJbjogZmFsc2UsXG4gIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbiAgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCxcbiAgdXNlcjogVXNlclNlZWQsXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkLFxuICBpbnN0YW5jZXM6IHtcbiAgICBpbnN0YW5jZXM6IFtdLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IElOU1ROQ0VfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluSW5zdGFuY2VSZWR1Y2VyID0gKF8sIGFjdGlvbjogSW5zdGFuY2VBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gaW5zdGFuY2VSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGluc3RhbmNlUmVjZXB0b3IgPSAoYWN0aW9uOiBJbnN0YW5jZUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnSU5TVEFOQ0VTX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5pbnN0YW5jZXNcbiAgICAgICAgcmV0dXJuIHMuaW5zdGFuY2VzLm1lcmdlKHtcbiAgICAgICAgICBpbnN0YW5jZXM6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHNraXA6IHJlc3VsdC5za2lwLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0lOU1RBTkNFX1JFTU9WRURfUk9XJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmluc3RhbmNlXG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHN0YXRlLmluc3RhbmNlcy52YWx1ZVxuICAgICAgICBsZXQgaW5zdGFuY2VMaXN0ID0gaW5zdGFuY2UuaW5zdGFuY2VzXG4gICAgICAgIGluc3RhbmNlTGlzdCA9IGluc3RhbmNlTGlzdC5maWx0ZXIoKGluc3RhbmNlKSA9PiBpbnN0YW5jZS5pZCAhPT0gcmVzdWx0LmlkKVxuICAgICAgICBpbnN0YW5jZS5pbnN0YW5jZXMgPSBpbnN0YW5jZUxpc3RcbiAgICAgICAgcy5tZXJnZSh7IGluc3RhbmNlczogaW5zdGFuY2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzSW5zdGFuY2VTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlSW5zdGFuY2VTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IExvY2F0aW9uQWN0aW9uVHlwZSB9IGZyb20gJy4vTG9jYXRpb25BY3Rpb25zJ1xuaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0xvY2F0aW9uJ1xuZXhwb3J0IGNvbnN0IExPQ0FUSU9OX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgbG9jYXRpb25zOiB7XG4gICAgbG9jYXRpb25zOiBbXSBhcyBBcnJheTxMb2NhdGlvbj4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogTE9DQVRJT05fUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgY3JlYXRlZDogZmFsc2UsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgbG9jYXRpb25UeXBlczoge1xuICAgIGxvY2F0aW9uVHlwZXM6IFtdLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5Mb2NhdGlvblJlZHVjZXIgPSAoXywgYWN0aW9uOiBMb2NhdGlvbkFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBsb2NhdGlvblJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgbG9jYXRpb25SZWNlcHRvciA9IChhY3Rpb246IExvY2F0aW9uQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FETUlOX0xPQ0FUSU9OU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubG9jYXRpb25zXG4gICAgICAgIHJldHVybiBzLmxvY2F0aW9ucy5tZXJnZSh7XG4gICAgICAgICAgbG9jYXRpb25zOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBRE1JTl9MT0NBVElPTl9DUkVBVEVEJzpcbiAgICAgICAgcmV0dXJuIHMubG9jYXRpb25zLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlLCBjcmVhdGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdBRE1JTl9MT0NBVElPTl9QQVRDSEVEJzpcbiAgICAgICAgY29uc3QgbG9jYXRpb25zTGlzdCA9IHN0YXRlLmxvY2F0aW9ucy5sb2NhdGlvbnMudmFsdWVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGxvY2F0aW9uc0xpc3RbaV0uaWQgPT09IGFjdGlvbi5sb2NhdGlvbi5pZCkge1xuICAgICAgICAgICAgbG9jYXRpb25zTGlzdFtpXSA9IGFjdGlvbi5sb2NhdGlvblxuICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLmxvY2F0aW9uLmlzTG9iYnkgJiYgbG9jYXRpb25zTGlzdFtpXS5pc0xvYmJ5KSB7XG4gICAgICAgICAgICAvLyBpZiB1cGRhdGVkIGxvY2F0aW9uIGlzIGxvYmJ5IHRoZW4gcmVtb3ZlIG9sZCBsb2JieS5cbiAgICAgICAgICAgIGxvY2F0aW9uc0xpc3RbaV0uaXNMb2JieSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLmxvY2F0aW9ucy5tZXJnZSh7IGxvY2F0aW9uczogbG9jYXRpb25zTGlzdCB9KVxuXG4gICAgICBjYXNlICdBRE1JTl9MT0NBVElPTl9SRU1PVkVEJzpcbiAgICAgICAgcmV0dXJuIHMubG9jYXRpb25zLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG5cbiAgICAgIGNhc2UgJ0FETUlOX0xPQ0FUSU9OX1RZUEVTX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi50eXBlc1xuICAgICAgICByZXR1cm4gcy5sb2NhdGlvblR5cGVzLnNldCh7IGxvY2F0aW9uVHlwZXM6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0xvY2F0aW9uU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUxvY2F0aW9uU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgUGFydHlBY3Rpb25UeXBlIH0gZnJvbSAnLi9QYXJ0QWN0aW9ucydcbmltcG9ydCB7IFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBBdXRoVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuXG5leHBvcnQgY29uc3QgUEFSVFlfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgaXNMb2dnZWRJbjogZmFsc2UsXG4gIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbiAgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCxcbiAgdXNlcjogVXNlclNlZWQsXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkLFxuICBwYXJ0aWVzOiB7XG4gICAgcGFydGllczogW10sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogUEFSVFlfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUGFydHlSZWR1Y2VyID0gKF8sIGFjdGlvbjogUGFydHlBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gcGFydHlSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHBhcnR5UmVjZXB0b3IgPSAoYWN0aW9uOiBQYXJ0eUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnUEFSVFlfQURNSU5fRElTUExBWUVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmRhdGFcbiAgICAgICAgcmV0dXJuIHMucGFydGllcy5tZXJnZSh7IHBhcnRpZXM6IHJlc3VsdCwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnUEFSVFlfQURNSU5fQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLnBhcnRpZXMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzUGFydHlTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUGFydHlTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IFNjZW5lQWN0aW9uVHlwZSB9IGZyb20gJy4vU2NlbmVBY3Rpb25zJ1xuaW1wb3J0IHsgU2NlbmVEYXRhIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9TY2VuZURhdGEnXG5cbmV4cG9ydCBjb25zdCBTQ0VORV9QQUdFX0xJTUlUID0gMTAwXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgZXJyb3I6ICcnLFxuICBhdXRoVXNlcjogQXV0aFVzZXJTZWVkLFxuICB1c2VyOiBVc2VyU2VlZCxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWQsXG4gIHNjZW5lczoge1xuICAgIHNjZW5lczogW10gYXMgQXJyYXk8U2NlbmVEYXRhPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBTQ0VORV9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5TY2VuZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBTY2VuZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzY2VuZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3Qgc2NlbmVSZWNlcHRvciA9IChhY3Rpb246IFNjZW5lQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FETUlOX1NDRU5FU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uY29sbGVjdGlvbnNcbiAgICAgICAgcmV0dXJuIHMuc2NlbmVzLm1lcmdlKHtcbiAgICAgICAgICBzY2VuZXM6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHNraXA6IHJlc3VsdC5za2lwLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2NlbmVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlU2NlbmVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBCb3RzQWN0aW9uVHlwZSB9IGZyb20gJy4vQm90c0FjdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcblxuZXhwb3J0IGNvbnN0IEJPVFNfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgaXNMb2dnZWRJbjogZmFsc2UsXG4gIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbiAgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCxcbiAgdXNlcjogVXNlclNlZWQsXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkLFxuICBib3RzOiB7XG4gICAgYm90czogW10sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogQk9UU19QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9LFxuICBib3RDb21tYW5kOiB7XG4gICAgYm90Q29tbWFuZDogW10sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogQk9UU19QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5Cb3RzUmVkdWNlciA9IChfLCBhY3Rpb246IEJvdHNBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYm90c1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuZXhwb3J0IGNvbnN0IGJvdHNSZWNlcHRvciA9IChhY3Rpb246IEJvdHNBY3Rpb25UeXBlKTogdm9pZCA9PiB7XG4gIGxldCByZXN1bHRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdCT1RfQURNSU5fRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5ib3RzXG4gICAgICAgIHMubWVyZ2UoeyBlcnJvcjogJycgfSlcbiAgICAgICAgcmV0dXJuIHMuYm90cy5tZXJnZSh7XG4gICAgICAgICAgYm90czogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdCT1RfQURNSU5fQ1JFQVRFJzpcbiAgICAgICAgcmV0dXJuIHMuYm90cy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnQk9UX0NPTU1BTkRfQURNSU5fQ1JFQVRFJzpcbiAgICAgICAgcmV0dXJuIHMuYm90cy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnQk9UX0FETUlOX1JFTU9WRSc6XG4gICAgICAgIHJldHVybiBzLmJvdHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0JPVF9DT01NQU5EX0FETUlOX1JFTU9WRSc6XG4gICAgICAgIHJldHVybiBzLmJvdHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0JPVF9BRE1JTl9VUERBVEUnOlxuICAgICAgICByZXR1cm4gcy5ib3RzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0JvdFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VCb3RTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBbmFseXRpY3NBY3Rpb25UeXBlIH0gZnJvbSAnLi9BbmFseXRpY3NBY3Rpb25zJ1xuXG5leHBvcnQgY29uc3QgQU5BTFlUSUNTX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGFjdGl2ZUluc3RhbmNlczogW10sXG4gIGFjdGl2ZVBhcnRpZXM6IFtdLFxuICBpbnN0YW5jZVVzZXJzOiBbXSxcbiAgY2hhbm5lbFVzZXJzOiBbXSxcbiAgYWN0aXZlTG9jYXRpb25zOiBbXSxcbiAgYWN0aXZlU2NlbmVzOiBbXSxcbiAgZGFpbHlVc2VyczogW10sXG4gIGRhaWx5TmV3VXNlcnM6IFtdXG59KVxuXG5leHBvcnQgY29uc3QgQWRtaW5BbmFseXRpY3NSZWR1Y2VyID0gKF8sIGFjdGlvbjogQW5hbHl0aWNzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFuYWx5dGljc1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYW5hbHl0aWNzUmVjZXB0b3IgPSAoYWN0aW9uOiBBbmFseXRpY3NBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55LCB1cGRhdGVNYXA6IGFueSwgZGF0ZTogRGF0ZVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FDVElWRV9JTlNUQU5DRVNfRkVUQ0hFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hbmFseXRpY3NcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGFjdGl2ZUluc3RhbmNlczogcmVzdWx0LmRhdGFcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgRGF0ZShpdGVtLmNyZWF0ZWRBdCkuZ2V0VGltZSgpLCBpdGVtLmNvdW50XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FDVElWRV9QQVJUSUVTX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYW5hbHl0aWNzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBhY3RpdmVQYXJ0aWVzOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQUNUSVZFX0xPQ0FUSU9OU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgYWN0aXZlTG9jYXRpb25zOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQUNUSVZFX1NDRU5FU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgYWN0aXZlU2NlbmVzOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQ0hBTk5FTF9VU0VSU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgY2hhbm5lbFVzZXJzOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnSU5TVEFOQ0VfVVNFUlNfRkVUQ0hFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hbmFseXRpY3NcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGluc3RhbmNlVXNlcnM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdEQUlMWV9ORVdfVVNFUlNfRkVUQ0hFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hbmFseXRpY3NcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGRhaWx5TmV3VXNlcnM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdEQUlMWV9VU0VSU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgZGFpbHlVc2VyczogcmVzdWx0LmRhdGFcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgRGF0ZShpdGVtLmNyZWF0ZWRBdCkuZ2V0VGltZSgpLCBpdGVtLmNvdW50XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQW5hbHl0aWNzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUFuYWx5dGljc1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBBdXRoVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuaW1wb3J0IHsgUmVhbGl0eVBhY2tBY3Rpb25UeXBlIH0gZnJvbSAnLi9SZWFsaXR5UGFja0FjdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBSRUFMSVRZX1BBQ0tfUEFHRV9MSU1JVCA9IDEwMFxuXG5leHBvcnQgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgcmVhbGl0eVBhY2tzOiB7XG4gICAgcmVhbGl0eVBhY2tzOiBbXSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBSRUFMSVRZX1BBQ0tfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVhbGl0eVBhY2tSZWR1Y2VyID0gKF8sIGFjdGlvbjogUmVhbGl0eVBhY2tBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gcmVhbGl0eVBhY2tSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHJlYWxpdHlQYWNrUmVjZXB0b3IgPSAoYWN0aW9uOiBSZWFsaXR5UGFja0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdSRUFMSVRZX1BBQ0tTX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5yZWFsaXR5UGFja3NcblxuICAgICAgICByZXR1cm4gcy5yZWFsaXR5UGFja3MubWVyZ2Uoe1xuICAgICAgICAgIHJlYWxpdHlQYWNrczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NSZWFsaXR5UGFja1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VSZWFsaXR5UGFja1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG4vKipcbiAqIENvbW1lbnRpbmcgY29kZSB0byBjb21waWxlIFRTRE9DIERvY3VzYXVydXNcbiAqIHRoaXMgZmlsZSBjb250YWluIHNvbWUgaXNzdWVzIHdpdGhcbiAqIEZlZWRGaXJlc0FjdGlvbiwgRmVlZEZpcmVzUmV0cmlldmVBY3Rpb24gaW1wb3J0cyBhcmUgbm90IGF2YWlsYWJsZSBpbiBhY3Rpb25zLnRzIGZpbGUgaXRzIGVtcHR5IGZpbGUuXG4gKlxuICovXG5cbmltcG9ydCB7IEFyTWVkaWFBY3Rpb25UeXBlIH0gZnJvbSAnLi9Bck1lZGlhQWN0aW9ucydcblxuZXhwb3J0IGNvbnN0IEFSTUVESUFfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgYXJNZWRpYToge1xuICAgIGFyTWVkaWE6IFtdLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IEFSTUVESUFfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgYWRtaW5MaXN0OiBbXSxcbiAgbGlzdDogW10sXG4gIGZldGNoaW5nOiBmYWxzZSxcbiAgaXRlbToge30sXG4gIGZldGNoaW5nSXRlbTogZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBhck1lZGlhUmVkdWNlciA9IChfLCBhY3Rpb246IEFyTWVkaWFBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYXJNZWRpYVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYXJNZWRpYVJlY2VwdG9yID0gKGFjdGlvbjogQXJNZWRpYUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIGxldCByZXN1bHQ6IGFueVxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FSTUVESUFfRkVUQ0hJTkcnOlxuICAgICAgICByZXR1cm4gcy5mZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0FSTUVESUFfQURNSU5fUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmxpc3RcbiAgICAgICAgcmV0dXJuIHMuYXJNZWRpYS5tZXJnZSh7XG4gICAgICAgICAgYXJNZWRpYTogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FSTUVESUFfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsaXN0OiBhY3Rpb24ubGlzdCwgZmV0Y2hpbmc6IGZhbHNlIH0pXG4gICAgICBjYXNlICdBRERfQVJNRURJQSc6XG4gICAgICAgIHJldHVybiBzLmFyTWVkaWEudXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnUkVNT1ZFX0FSTUVESUEnOlxuICAgICAgICByZXR1cm4gcy5hck1lZGlhLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0FSTUVESUFfRkVUQ0hJTkdfSVRFTSc6XG4gICAgICAgIHJldHVybiBzLmZldGNoaW5nSXRlbS5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0FSTUVESUFfUkVUUklFVkVEX0lURU0nOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGl0ZW06IGFjdGlvbi5pdGVtLCBmZXRjaGluZ0l0ZW06IGZhbHNlIH0pXG4gICAgICBjYXNlICdVUERBVEVfQVJfTUVESUEnOlxuICAgICAgICByZXR1cm4gcy5hck1lZGlhLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQXJNZWRpYVN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBck1lZGlhU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5cbmltcG9ydCB7IEZlZWRBY3Rpb25UeXBlIH0gZnJvbSAnLi9GZWVkQWN0aW9ucydcbmltcG9ydCB7IEZlZWRTaG9ydCwgRmVlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvRmVlZCdcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGZlZWRzOiB7XG4gICAgZmVlZHM6IFtdIGFzIEFycmF5PEZlZWQ+LFxuICAgIGZlZWRzRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWRzRmVhdHVyZWQ6IFtdIGFzIEFycmF5PEZlZWRTaG9ydD4sXG4gICAgZmVlZHNGZWF0dXJlZEZldGNoaW5nOiBmYWxzZSxcbiAgICBmZWVkc0NyZWF0b3I6IFtdIGFzIEFycmF5PEZlZWRTaG9ydD4sXG4gICAgZmVlZHNDcmVhdG9yRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWRzQm9va21hcms6IFtdIGFzIEFycmF5PEZlZWRTaG9ydD4sXG4gICAgZmVlZHNCb29rbWFya0ZldGNoaW5nOiBmYWxzZSxcbiAgICBmZWVkc0ZpcmVkOiBbXSBhcyBBcnJheTxGZWVkU2hvcnQ+LFxuICAgIGZlZWRzRmlyZWRGZXRjaGluZzogZmFsc2UsXG4gICAgbXlGZWF0dXJlZDogW10gYXMgQXJyYXk8RmVlZFNob3J0PixcbiAgICBteUZlYXR1cmVkRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWQ6IHt9LFxuICAgIGZldGNoaW5nOiBmYWxzZSxcbiAgICBmZWVkc0FkbWluOiB7XG4gICAgICBmZWVkczogW10sXG4gICAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgIH0sXG4gICAgZmVlZHNBZG1pbkZldGNoaW5nOiBmYWxzZSxcbiAgICBsYXN0RmVlZFZpZGVvVXJsOiBudWxsXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBmZWVkUmVkdWNlciA9IChfLCBhY3Rpb246IEZlZWRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZmVlZFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZmVlZFJlY2VwdG9yID0gKGFjdGlvbjogRmVlZEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIGxldCBjdXJyZW50RmVlZFxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNGZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZFQVRVUkVEX0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNGZWF0dXJlZEZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnQ1JFQVRPUl9GRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzQ3JlYXRvckZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnQk9PS01BUktfRkVFRFNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0Jvb2ttYXJrRmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdNWV9GRUFUVVJFRF9GRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm15RmVhdHVyZWRGZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdBRE1JTl9GRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzQWRtaW5GZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZJUkVEX0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNGaXJlZEZldGNoaW5nLnNldCh0cnVlKVxuXG4gICAgICBjYXNlICdGRUVEU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IGZlZWRzOiBhY3Rpb24uZmVlZHMsIGZlZWRzRmV0Y2hpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0ZFRURTX0ZFQVRVUkVEX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm1lcmdlKHsgZmVlZHNGZWF0dXJlZDogYWN0aW9uLmZlZWRzLCBmZWVkc0ZlYXR1cmVkRmV0Y2hpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0ZFRURTX0NSRUFUT1JfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkc0NyZWF0b3I6IGFjdGlvbi5mZWVkcywgZmVlZHNDcmVhdG9yRmV0Y2hpbmc6IGZhbHNlIH0pXG4gICAgICBjYXNlICdDTEVBUl9DUkVBVE9SX0ZFQVRVUkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkc0NyZWF0b3I6IFtdLCBmZWVkc0NyZWF0b3JGZXRjaGluZzogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0ZFRURTX01ZX0ZFQVRVUkVEX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm1lcmdlKHsgbXlGZWF0dXJlZDogYWN0aW9uLmZlZWRzLCBteUZlYXR1cmVkRmV0Y2hpbmc6IGZhbHNlIH0pXG4gICAgICBjYXNlICdGRUVEU19CT09LTUFSS19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IGZlZWRzQm9va21hcms6IGFjdGlvbi5mZWVkcywgZmVlZHNCb29rbWFya0ZldGNoaW5nOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnRkVFRFNfRklSRURfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkc0ZpcmVkOiBhY3Rpb24uZmVlZHMsIGZlZWRzRmlyZWRGZXRjaGluZzogZmFsc2UgfSlcblxuICAgICAgY2FzZSAnRkVFRF9SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IGZlZWQ6IGFjdGlvbi5mZWVkLCBmZXRjaGluZzogZmFsc2UgfSlcblxuICAgICAgY2FzZSAnQUREX0ZFRURfRklSRVMnOlxuICAgICAgICBjdXJyZW50RmVlZCA9IHMuZmVlZHMuZmVlZD8udmFsdWVcbiAgICAgICAgcy5mZWVkcy5mZWVkcy5zZXQoXG4gICAgICAgICAgcy5mZWVkcy5mZWVkcy52YWx1ZS5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQsIGZpcmVzOiArK2ZlZWQuZmlyZXMsIGlzRmlyZWQ6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkLnNldChjdXJyZW50RmVlZCA/IHsgLi4uY3VycmVudEZlZWQsIGZpcmVzOiArK2N1cnJlbnRGZWVkLmZpcmVzLCBpc0ZpcmVkOiB0cnVlIH0gOiB7fSlcbiAgICAgIGNhc2UgJ1JFTU9WRV9GRUVEX0ZJUkVTJzpcbiAgICAgICAgY3VycmVudEZlZWQgPSBzLmZlZWRzLmZlZWQ/LnZhbHVlXG4gICAgICAgIHMuZmVlZHMuZmVlZHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHMudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCBmaXJlczogZmVlZC5maXJlcyAtIDEsIGlzRmlyZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZC5zZXQoY3VycmVudEZlZWQgPyB7IC4uLmN1cnJlbnRGZWVkLCBmaXJlczogLS1jdXJyZW50RmVlZC5maXJlcywgaXNGaXJlZDogZmFsc2UgfSA6IHt9KVxuICAgICAgY2FzZSAnQUREX0ZFRURfQk9PS01BUksnOlxuICAgICAgICBjdXJyZW50RmVlZCA9IHMuZmVlZHMuZmVlZD8udmFsdWVcbiAgICAgICAgcy5mZWVkcy5mZWVkcy5zZXQoXG4gICAgICAgICAgcy5mZWVkcy5mZWVkcy52YWx1ZS5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQsIGlzQm9va21hcmtlZDogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWQuc2V0KGN1cnJlbnRGZWVkID8geyAuLi5jdXJyZW50RmVlZCwgaXNCb29rbWFya2VkOiB0cnVlIH0gOiB7fSlcblxuICAgICAgY2FzZSAnUkVNT1ZFX0ZFRURfQk9PS01BUksnOlxuICAgICAgICBjdXJyZW50RmVlZCA9IHMuZmVlZHMuZmVlZD8udmFsdWVcbiAgICAgICAgcy5mZWVkcy5mZWVkcy5zZXQoXG4gICAgICAgICAgcy5mZWVkcy5mZWVkcy52YWx1ZS5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQsIGlzQm9va21hcmtlZDogZmFsc2UgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkLnNldChjdXJyZW50RmVlZCA/IHsgLi4uY3VycmVudEZlZWQsIGlzQm9va21hcmtlZDogZmFsc2UgfSA6IHt9KVxuXG4gICAgICBjYXNlICdBRERfRkVFRF9WSUVXJzpcbiAgICAgICAgcy5mZWVkcy5mZWVkc0ZlYXR1cmVkLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRzRmVhdHVyZWQ/LnZhbHVlPy5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQsIHZpZXdzQ291bnQ6ICsrZmVlZC52aWV3c0NvdW50IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZC5zZXQoY3VycmVudEZlZWQgPyB7IC4uLmN1cnJlbnRGZWVkLCB2aWV3c0NvdW50OiArK2N1cnJlbnRGZWVkLnZpZXdzQ291bnQgfSA6IHt9KVxuICAgICAgY2FzZSAnQUREX0ZFRUQnOlxuICAgICAgICBzLmZlZWRzLmZlZWRzLnNldChbLi4ucy5mZWVkcy5mZWVkcy52YWx1ZSwgYWN0aW9uLmZlZWRdKVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0ZldGNoaW5nLnNldChmYWxzZSlcblxuICAgICAgY2FzZSAnQUREX0ZFRURfRkVBVFVSRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0NyZWF0b3Iuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHNDcmVhdG9yLnZhbHVlLm1hcCgoZmVlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZlZWQuaWQgPT09IGFjdGlvbi5mZWVkSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCwgZmVhdHVyZWQ6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgY2FzZSAnUkVNT1ZFX0ZFRURfRkVBVFVSRUQnOlxuICAgICAgICBjb25zdCBteUZlYXR1cmVkID0gc3RhdGUuZmVlZHMubXlGZWF0dXJlZC52YWx1ZVxuICAgICAgICBzLmZlZWRzLmZlZWRzQ3JlYXRvci5zZXQoXG4gICAgICAgICAgcy5mZWVkcy5mZWVkc0NyZWF0b3IudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCBmZWF0dXJlZDogZmFsc2UgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5teUZlYXR1cmVkLnNldChcbiAgICAgICAgICBteUZlYXR1cmVkXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAuLi5teUZlYXR1cmVkLnNwbGljZShcbiAgICAgICAgICAgICAgICAgIG15RmVhdHVyZWQuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmlkID09PSBhY3Rpb24uZmVlZElkKSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW11cbiAgICAgICAgKVxuXG4gICAgICBjYXNlICdGRUVEU19BU19BRE1JTl9SRVRSSUVWRUQnOlxuICAgICAgICBjb25zdCByZXN1bHQgPSBhY3Rpb24uZmVlZHNcblxuICAgICAgICBzLmZlZWRzLmZlZWRzQWRtaW4ubWVyZ2UoeyBmZWVkczogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UsIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpIH0pXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZldGNoaW5nLnNldChmYWxzZSlcblxuICAgICAgY2FzZSAnVVBEQVRFX0ZFRUQnOlxuICAgICAgICBzLmZlZWRzLmZlZWRzQWRtaW4uZmVlZHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHNBZG1pbi5mZWVkcy52YWx1ZS5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZC5pZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCAuLi5hY3Rpb24uZmVlZCB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNBZG1pbkZldGNoaW5nLnNldChmYWxzZSlcblxuICAgICAgY2FzZSAnREVMRVRFX0ZFRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0ZlYXR1cmVkLnNldChbLi4ucy5mZWVkcy5mZWVkc0ZlYXR1cmVkLnZhbHVlLmZpbHRlcigoZmVlZCkgPT4gZmVlZC5pZCAhPT0gYWN0aW9uLmZlZWRJZCldKVxuXG4gICAgICBjYXNlICdMQVNUX0ZFRURfVklERU9fVVJMJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubGFzdEZlZWRWaWRlb1VybC5zZXQoYWN0aW9uLmZpbGVQYXRoKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NGZWVkU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUZlZWRTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBDcmVhdG9yQWN0aW9uVHlwZSB9IGZyb20gJy4vQ3JlYXRvckFjdGlvbnMnXG5pbXBvcnQgeyBDcmVhdG9yLCBDcmVhdG9yU2hvcnQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NyZWF0b3InXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBjcmVhdG9yczoge1xuICAgIGNyZWF0b3JzOiBbXSxcbiAgICBmZXRjaGluZ0NyZWF0b3JzOiBmYWxzZSxcbiAgICBjcmVhdG9yOiB7fSBhcyBDcmVhdG9yLFxuICAgIGZldGNoaW5nQ3JlYXRvcjogZmFsc2UsXG4gICAgY3VycmVudENyZWF0b3I6IHt9IGFzIENyZWF0b3IsXG4gICAgZmV0Y2hpbmdDdXJyZW50Q3JlYXRvcjogZmFsc2UsXG4gICAgY3VycmVudENyZWF0b3JOb3RpZmljYXRpb25zOiBbXSxcbiAgICBmb2xsb3dlcnM6IFtdLFxuICAgIGZvbGxvd2luZzogW10sXG4gICAgZmV0Y2hpbmc6IGZhbHNlLFxuICAgIGJsb2NrZWQ6IFtdLFxuICAgIHNwbGFzaFRpbWVvdXQ6IHRydWUsXG4gICAgdXBkYXRlTmVlZGVkOiBmYWxzZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgY3JlYXRvclJlZHVjZXIgPSAoXywgYWN0aW9uOiBDcmVhdG9yQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGNyZWF0b3JSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGNyZWF0b3JSZWNlcHRvciA9IChhY3Rpb246IENyZWF0b3JBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTRVRfU1RBVEVfQ1JFQVRPUlMnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5zcGxhc2hUaW1lb3V0LnNldChhY3Rpb24uc3BsYXNoVGltZW91dClcbiAgICAgIGNhc2UgJ0NVUlJFTlRfQ1JFQVRPUl9GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLmZldGNoaW5nQ3VycmVudENyZWF0b3Iuc2V0KHRydWUpXG4gICAgICBjYXNlICdDVVJSRU5UX0NSRUFUT1JfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMubWVyZ2Uoe1xuICAgICAgICAgIGN1cnJlbnRDcmVhdG9yOiBhY3Rpb24uY3JlYXRvcixcbiAgICAgICAgICBjcmVhdG9yczogcy5jcmVhdG9ycy5jcmVhdG9ycz8udmFsdWU/Lm1hcCgoY3JlYXRvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGNyZWF0b3IuaWQgPT09IGFjdGlvbi5jcmVhdG9yLmlkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmFjdGlvbi5jcmVhdG9yIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmNyZWF0b3IgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGZldGNoaW5nQ3VycmVudENyZWF0b3I6IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgIGNhc2UgJ0NSRUFUT1JfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5tZXJnZSh7IGZldGNoaW5nQ3JlYXRvcjogdHJ1ZSwgY3JlYXRvcjogeyBpZDogJycsIG5hbWU6ICcnLCB1c2VybmFtZTogJycgfSB9KVxuICAgICAgY2FzZSAnQ1JFQVRPUl9SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5tZXJnZSh7IGNyZWF0b3I6IGFjdGlvbi5jcmVhdG9yLCBmZXRjaGluZ0NyZWF0b3I6IGZhbHNlIH0pXG4gICAgICBjYXNlICdDUkVBVE9SU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLm1lcmdlKHsgZmV0Y2hpbmdDcmVhdG9yczogdHJ1ZSwgY3JlYXRvcnM6IFtdIH0pXG4gICAgICBjYXNlICdDUkVBVE9SU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5tZXJnZSh7IGNyZWF0b3JzOiBhY3Rpb24uY3JlYXRvcnMsIGZldGNoaW5nQ3JlYXRvcnM6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0NSRUFUT1JfTk9USUZJQ0FUSU9OX0xJU1RfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMubWVyZ2UoeyBjdXJyZW50Q3JlYXRvck5vdGlmaWNhdGlvbnM6IGFjdGlvbi5ub3RpZmljYXRpb25zLCBmZXRjaGluZzogZmFsc2UgfSlcblxuICAgICAgY2FzZSAnU0VUX0NSRUFUT1JfQVNfRk9MTE9XRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5jcmVhdG9yLmZvbGxvd2VkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnU0VUX0NSRUFUT1JfTk9UX0ZPTExPV0VEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuY3JlYXRvci5mb2xsb3dlZC5zZXQoZmFsc2UpXG4gICAgICBjYXNlICdTRVRfQ1JFQVRPUl9BU19CTE9DS0VEJzpcbiAgICAgICAgY29uc3QgbmV3Q3JlYXRvcnMgPSBbLi4ucy5jcmVhdG9ycy5jcmVhdG9ycy52YWx1ZV1cbiAgICAgICAgY29uc3QgaWRCbG9ja2VkQ3JlYXRvciA9IG5ld0NyZWF0b3JzLmZpbmRJbmRleChcbiAgICAgICAgICAoaXRlbSkgPT4gaXRlbS5pZCA9PT0gKGFjdGlvbiBhcyB7IHR5cGU6IHN0cmluZzsgY3JlYXRvcklkOiBzdHJpbmcgfSkuY3JlYXRvcklkXG4gICAgICAgIClcbiAgICAgICAgbmV3Q3JlYXRvcnMuc3BsaWNlKGlkQmxvY2tlZENyZWF0b3IsIDEpXG4gICAgICAgIHMuY3JlYXRvcnMuY3JlYXRvci5ibG9ja2VkLnNldCh0cnVlKVxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5jcmVhdG9ycy5zZXQobmV3Q3JlYXRvcnMpXG5cbiAgICAgIGNhc2UgJ1NFVF9DUkVBVE9SX0FTX1VOX0JMT0NLRUQnOlxuICAgICAgICAvLyDQstC80LXRgdGC0L4g0Y3RgtC+0LPQviDRgdC00LXQu9Cw0YLRjCDQt9Cw0L/RgNC+0YFcbiAgICAgICAgY29uc3QgYmxvY2tlZCA9IFsuLi5zLmNyZWF0b3JzLmJsb2NrZWQudmFsdWVdXG4gICAgICAgIGNvbnN0IHVuQmxvY2tlZENyZWF0b3JJZCA9IGJsb2NrZWQuZmluZEluZGV4KFxuICAgICAgICAgIChibG9ja2VkQ3JlYXRvcikgPT5cbiAgICAgICAgICAgIGJsb2NrZWRDcmVhdG9yLnVzZXJJZCA9PT0gKGFjdGlvbiBhcyB7IHR5cGU6IHN0cmluZzsgYmxva2VkQ3JlYXRvcklkOiBzdHJpbmcgfSkuYmxva2VkQ3JlYXRvcklkXG4gICAgICAgIClcbiAgICAgICAgYmxvY2tlZC5zcGxpY2UodW5CbG9ja2VkQ3JlYXRvcklkLCAxKVxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5ibG9ja2VkLnNldChibG9ja2VkKVxuXG4gICAgICBjYXNlICdDUkVBVE9SX0JMT0NLRURfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuYmxvY2tlZC5zZXQoYWN0aW9uLmNyZWF0b3JzKVxuXG4gICAgICBjYXNlICdDUkVBVE9SX0ZPTExPV0VSU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5mb2xsb3dlcnMuc2V0KGFjdGlvbi5jcmVhdG9ycylcbiAgICAgIGNhc2UgJ0NSRUFUT1JfRk9MTE9XSU5HX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLmZvbGxvd2luZy5zZXQoYWN0aW9uLmNyZWF0b3JzKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NDcmVhdG9yU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUNyZWF0b3JTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgR3JvdXBBY3Rpb25UeXBlIH0gZnJvbSAnLi9Hcm91cEFjdGlvbnMnXG5pbXBvcnQgeyBHcm91cCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvR3JvdXAnXG5cbmV4cG9ydCBjb25zdCBHUk9VUF9QQUdFX0xJTUlUID0gMTBcblxuZXhwb3J0IGNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBncm91cDoge1xuICAgIGdyb3VwOiBbXSBhcyBBcnJheTxHcm91cD4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogR1JPVVBfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgZmV0Y2hpbmc6IGZhbHNlXG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5Hcm91cFJlZHVjZXIgPSAoXywgYWN0aW9uOiBHcm91cEFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBncm91cFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZ3JvdXBSZWNlcHRvciA9IChhY3Rpb246IEdyb3VwQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0dST1VQX0ZFVENISU5HJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBmZXRjaGluZzogdHJ1ZSB9KVxuICAgICAgY2FzZSAnR1JPVVBfQURNSU5fUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmxpc3RcbiAgICAgICAgcmV0dXJuIHMuZ3JvdXAubWVyZ2Uoe1xuICAgICAgICAgIGdyb3VwOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQUREX0dST1VQJzpcbiAgICAgICAgcmV0dXJuIHMuZ3JvdXAubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0dST1VQX0FETUlOX1VQREFURSc6XG4gICAgICAgIHJldHVybiBzLmdyb3VwLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdHUk9VUF9BRE1JTl9ERUxFVEUnOlxuICAgICAgICByZXR1cm4gcy5ncm91cC5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NHcm91cFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VHcm91cFN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFNjb3BlQWN0aW9uVHlwZSB9IGZyb20gJy4vU2NvcGVBY3Rpb25zJ1xuXG5leHBvcnQgY29uc3QgU0NPUEVfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgc2NvcGU6IHtcbiAgICBzY29wZTogW10sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogU0NPUEVfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgc2NvcGVUeXBlOiB7XG4gICAgc2NvcGVUeXBlOiBbXSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBTQ09QRV9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9LFxuICBmZXRjaGluZzogZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pblNjb3BlUmVkdWNlciA9IChfLCBhY3Rpb246IFNjb3BlQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHNjb3BlUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBzY29wZVJlY2VwdG9yID0gKGFjdGlvbjogU2NvcGVBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnU0NPUEVfRkVUQ0hJTkcnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGZldGNoaW5nOiB0cnVlIH0pXG4gICAgICBjYXNlICdTQ09QRV9BRE1JTl9SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubGlzdFxuXG4gICAgICAgIHJldHVybiBzLnNjb3BlLm1lcmdlKHtcbiAgICAgICAgICBzY29wZTogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FERF9TQ09QRSc6XG4gICAgICAgIHJldHVybiBzLnNjb3BlLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdVUERBVEVfU0NPUEUnOlxuICAgICAgICByZXR1cm4gcy5zY29wZS5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuXG4gICAgICBjYXNlICdSRU1PVkVfU0NPUEUnOlxuICAgICAgICByZXR1cm4gcy5zY29wZS5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnU0NPUEVfVFlQRV9SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubGlzdFxuICAgICAgICByZXR1cm4gcy5zY29wZVR5cGUubWVyZ2Uoe1xuICAgICAgICAgIHNjb3BlVHlwZTogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2NvcGVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlU2NvcGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBTZXR0aW5nQW5hbHl0aWNzQWN0aW9uVHlwZSB9IGZyb20gJy4vU2V0dGluZ0FuYWx5dGljc0FjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBBbmFseXRpY3M6IHtcbiAgICBhbmFseXRpY3M6IFtdLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3Qgc2V0dGluZ0FuYWx5dGljc1JlZHVjZXIgPSAoXywgYWN0aW9uOiBTZXR0aW5nQW5hbHl0aWNzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHNldHRpbmdBbmFseXRpY3NSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHNldHRpbmdBbmFseXRpY3NSZWNlcHRvciA9IChhY3Rpb246IFNldHRpbmdBbmFseXRpY3NBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NFVFRJTkdfQU5BTFlJU19ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5BbmFseXRpY3MubWVyZ2UoeyBhbmFseXRpY3M6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1NldHRpbmdBbmFseXRpY3NTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlU2V0dGluZ0FuYWx5dGljc1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFNlcnZlclNldHRpbmdBY3Rpb25UeXBlIH0gZnJvbSAnLi9TZXJ2ZXJTZXR0aW5nQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIFNlcnZlcjoge1xuICAgIHNlcnZlcjogW10sXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBzZXJ2ZXJTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IFNlcnZlclNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gc2VydmVyU2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3Qgc2VydmVyU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogU2VydmVyU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnU0VUVElOR19TRVJWRVJfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5zZXJ2ZXJJbmZvXG4gICAgICAgIHJldHVybiBzLlNlcnZlci5tZXJnZSh7IHNlcnZlcjogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2VydmVyU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgQ2xpZW50U2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL0NsaWVudFNldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgQ2xpZW50OiB7XG4gICAgY2xpZW50OiBbXSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGNsaWVudFNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogQ2xpZW50U2V0dGluZ0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBjbGllbnRTZXR0aW5nUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBjbGllbnRTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBDbGllbnRTZXR0aW5nQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdDTElFTlRfU0VUVElOR19ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmNsaWVudFxuICAgICAgICByZXR1cm4gcy5DbGllbnQubWVyZ2UoeyBjbGllbnQ6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0NsaWVudFNldHRpbmdTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQ2xpZW50U2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEdhbWVTZXJ2ZXJTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vR2FtZVNlcnZlclNldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZ2FtZVNlcnZlcjoge1xuICAgIGdhbWVzZXJ2ZXI6IFtdLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgZ2FtZVNlcnZlclNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogR2FtZVNlcnZlclNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZ2FtZVNlcnZlclNldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGdhbWVTZXJ2ZXJTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBHYW1lU2VydmVyU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnR0FNRV9TRVJWRVJfU0VUVElOR19ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmdhbWVTZXJ2ZXJcblxuICAgICAgICByZXR1cm4gcy5nYW1lU2VydmVyLm1lcmdlKHsgZ2FtZXNlcnZlcjogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzR2FtZVNlcnZlclNldHRpbmdTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlR2FtZVNlcnZlclNldHRpbmdTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBFbWFpbFNldHRpbmdBY3Rpb25UeXBlIH0gZnJvbSAnLi9FbWFpbFNldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgRW1haWw6IHtcbiAgICBlbWFpbDogW10sXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBlbWFpbFNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogRW1haWxTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGVtYWlsU2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZW1haWxTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBFbWFpbFNldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0VNQUlMX1NFVFRJTkdfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5lbWFpbFxuICAgICAgICByZXR1cm4gcy5FbWFpbC5tZXJnZSh7IGVtYWlsOiByZXN1bHQuZGF0YSwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NFbWFpbFNldHRpbmdTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlRW1haWxTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgQ2hhcmdlYmVlU2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL0NoYXJnZWJlZVNldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgQ2hhcmdlYmVlOiB7XG4gICAgY2hhcmdlYmVlOiBbXSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGNoYXJnZWJlZVNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogQ2hhcmdlYmVlU2V0dGluZ0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBjaGFyZ2ViZWVTZXR0aW5nUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBjaGFyZ2ViZWVTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBDaGFyZ2ViZWVTZXR0aW5nQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdDSEFSR0VCRUVfU0VUVElOR19ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmNoYXJnZWJlZVxuICAgICAgICByZXR1cm4gcy5DaGFyZ2ViZWUubWVyZ2UoeyBjaGFyZ2ViZWU6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0NoYXJnZWJlZVNldHRpbmdTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQ2hhcmdlYmVlU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEF1dGhTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vQXV0aFNldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgYXV0aFNldHRpbmdzOiB7XG4gICAgYXV0aFNldHRpbmdzOiBbXSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDAsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pbkF1dGhTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IEF1dGhTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFkbWluQXV0aFNldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGFkbWluQXV0aFNldHRpbmdSZWNlcHRvciA9IChhY3Rpb246IEF1dGhTZXR0aW5nQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuXG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQURNSU5fQVVUSF9TRVRUSU5HX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubGlzdFxuICAgICAgICByZXR1cm4gcy5hdXRoU2V0dGluZ3MubWVyZ2Uoe1xuICAgICAgICAgIGF1dGhTZXR0aW5nczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FETUlOX0FVVEhfU0VUVElOR19QQVRDSEVEJzpcbiAgICAgICAgcmV0dXJuIHMuYXV0aFNldHRpbmdzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQWRtaW5BdXRoU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBZG1pbkF1dGhTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG5pbXBvcnQgeyBBd3NTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vQXdzU2V0dGluZ0FjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBhd3NTZXR0aW5nczoge1xuICAgIGF3c1NldHRpbmdzOiBbXSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDAsXG4gICAgdG90YWw6IDAsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pbkF3c1NldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXdzU2V0dGluZ0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhZG1pbkF3c1NldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGFkbWluQXdzU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQXdzU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdBRE1JTl9BV1NfU0VUVElOR19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmxpc3RcbiAgICAgICAgcmV0dXJuIHMuYXdzU2V0dGluZ3MubWVyZ2UoeyBhd3NTZXR0aW5nczogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQWRtaW5Bd3NTZXR0aW5nU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUFkbWluQXdzU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEFkbWluUmVkaXNTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vQWRtaW5SZWRpc1NldHRpbmdBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgcmVkaXNTZXR0aW5nczoge1xuICAgIHJlZGlzU2V0dGluZ3M6IFtdLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMCxcbiAgICB0b3RhbDogMCxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVkaXNTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IEFkbWluUmVkaXNTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFkbWluUmVkaXNTZXR0aW5nUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBhZG1pblJlZGlzU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQWRtaW5SZWRpc1NldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQURNSU5fUkVESVNfU0VUVElOR19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmxpc3RcbiAgICAgICAgcmV0dXJuIHMucmVkaXNTZXR0aW5ncy5tZXJnZSh7IHJlZGlzU2V0dGluZ3M6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0FkbWluUmVkaXNTZXR0aW5nU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUFkbWluUmVkaXNTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgYWRtaW5SZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9BZG1pblN0YXRlJ1xuaW1wb3J0IHsgYWRtaW5Vc2VyUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vdXNlci9Vc2VyU3RhdGUnXG5pbXBvcnQgeyBjb250ZW50UGFja1JlZHVjZXIgfSBmcm9tICcuL2NvbnRlbnRQYWNrL0NvbnRlbnRQYWNrU3RhdGUnXG5pbXBvcnQgeyBhZG1pbkF2YXRhclJlZHVjZXIgfSBmcm9tICcuL2FkbWluL2F2YXRhci9BdmF0YXJTdGF0ZSdcbmltcG9ydCB7IGFkbWluSW5zdGFuY2VSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9pbnN0YW5jZS9JbnN0YW5jZVN0YXRlJ1xuaW1wb3J0IHsgYWRtaW5Mb2NhdGlvblJlZHVjZXIgfSBmcm9tICcuL2FkbWluL2xvY2F0aW9uL0xvY2F0aW9uU3RhdGUnXG5pbXBvcnQgeyBhZG1pblBhcnR5UmVkdWNlciB9IGZyb20gJy4vYWRtaW4vcGFydHkvUGFydHlTdGF0ZSdcbmltcG9ydCB7IGFkbWluU2NlbmVSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9zY2VuZS9TY2VuZVN0YXRlJ1xuaW1wb3J0IHsgYWRtaW5Cb3RzUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vYm90cy9Cb3RzU3RhdGUnXG5pbXBvcnQgeyBBZG1pbkFuYWx5dGljc1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL2FuYWx5dGljcy9BbmFseXRpY3NTdGF0ZSdcbmltcG9ydCB7IGFkbWluUmVhbGl0eVBhY2tSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9yZWFsaXR5LXBhY2svUmVhbGl0eVBhY2tTdGF0ZSdcbmltcG9ydCB7IGFyTWVkaWFSZWR1Y2VyIH0gZnJvbSAnQHhyZW5naW5lL3NvY2lhbC9zcmMvcmVkdWNlcnMvYXJNZWRpYS9Bck1lZGlhU3RhdGUnXG5pbXBvcnQgeyBmZWVkUmVkdWNlciB9IGZyb20gJ0B4cmVuZ2luZS9zb2NpYWwvc3JjL3JlZHVjZXJzL2ZlZWQvRmVlZFN0YXRlJ1xuaW1wb3J0IHsgY3JlYXRvclJlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvc29jaWFsL3NyYy9yZWR1Y2Vycy9jcmVhdG9yL0NyZWF0b3JTdGF0ZSdcbmltcG9ydCB7IGFkbWluR3JvdXBSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9ncm91cC9Hcm91cFN0YXRlJ1xuaW1wb3J0IHsgYWRtaW5TY29wZVJlZHVjZXIgfSBmcm9tICcuL2FkbWluL3Njb3BlL1Njb3BlU3RhdGUnXG5pbXBvcnQgeyBzZXR0aW5nQW5hbHl0aWNzUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vU2V0dGluZy9hbmFseXRpY3MvU2V0dGluZ0FuYWx5dGljc1N0YXRlJ1xuaW1wb3J0IHsgc2VydmVyU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvc2VydmVyL1NlcnZlclNldHRpbmdTdGF0ZSdcbmltcG9ydCB7IGNsaWVudFNldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL2NsaWVudC9DbGllbnRTZXR0aW5nU3RhdGUnXG5pbXBvcnQgeyBnYW1lU2VydmVyU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvZ2FtZS1zZXJ2ZXIvR2FtZVNlcnZlclNldHRpbmdTdGF0ZSdcbmltcG9ydCB7IGVtYWlsU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvZW1haWwvRW1haWxTZXR0aW5nU3RhdGUnXG5pbXBvcnQgeyBjaGFyZ2ViZWVTZXR0aW5nUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vU2V0dGluZy9jaGFyZ2ViZWUvQ2hhcmdlYmVlU2V0dGluZ1N0YXRlJ1xuaW1wb3J0IHsgYWRtaW5BdXRoU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvYXV0aGVudGljYXRpb24tc2V0dGluZy9BdXRoU2V0dGluZ1N0YXRlJ1xuaW1wb3J0IHsgYWRtaW5Bd3NTZXR0aW5nUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vU2V0dGluZy9hd3MvQXdzU2V0dGluZ1N0YXRlJ1xuaW1wb3J0IHsgYWRtaW5SZWRpc1NldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL3JlZGlzL0FkbWluUmVkaXNTZXR0aW5nU3RhdGUnXG4vKipcbiAqIFRPRE86IEkgYW0gbW92aW5nIGFkbWluIHJlZHVjZXIgdG8gZGlmZmVyZW50IHBhY2thZ2VzXG4gKlxuICogQGF1dGhvciBLSU1FTllJIEtFVklOIDxraW1lbnlpa2V2aW5AZ21haWwuY29tPlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYWRtaW5Vc2VyOiBhZG1pblVzZXJSZWR1Y2VyLFxuICBhZG1pbjogYWRtaW5SZWR1Y2VyLFxuICBjb250ZW50UGFjazogY29udGVudFBhY2tSZWR1Y2VyLFxuICBhZG1pbkF2YXRhcjogYWRtaW5BdmF0YXJSZWR1Y2VyLFxuICBhZG1pbkluc3RhbmNlOiBhZG1pbkluc3RhbmNlUmVkdWNlcixcbiAgYWRtaW5Mb2NhdGlvbjogYWRtaW5Mb2NhdGlvblJlZHVjZXIsXG4gIGFkbWluUGFydHk6IGFkbWluUGFydHlSZWR1Y2VyLFxuICBhZG1pblJlYWxpdHlQYWNrOiBhZG1pblJlYWxpdHlQYWNrUmVkdWNlcixcbiAgYWRtaW5TY2VuZTogYWRtaW5TY2VuZVJlZHVjZXIsXG4gIGFkbWluQm90czogYWRtaW5Cb3RzUmVkdWNlcixcbiAgYWRtaW5BbmFseXRpY3M6IEFkbWluQW5hbHl0aWNzUmVkdWNlcixcbiAgYXJNZWRpYTogYXJNZWRpYVJlZHVjZXIsXG4gIGZlZWRzQWRtaW46IGZlZWRSZWR1Y2VyLFxuICBhZG1pbkNyZWF0b3I6IGNyZWF0b3JSZWR1Y2VyLFxuICBncm91cDogYWRtaW5Hcm91cFJlZHVjZXIsXG4gIHNjb3BlOiBhZG1pblNjb3BlUmVkdWNlcixcbiAgc2V0dGluZ0FuYWx5dGljczogc2V0dGluZ0FuYWx5dGljc1JlZHVjZXIsXG4gIHNlcnZlclNldHRpbmdzOiBzZXJ2ZXJTZXR0aW5nUmVkdWNlcixcbiAgY2xpZW50U2V0dGluZ3M6IGNsaWVudFNldHRpbmdSZWR1Y2VyLFxuICBnYW1lU2VydmVyOiBnYW1lU2VydmVyU2V0dGluZ1JlZHVjZXIsXG4gIGVtYWlsOiBlbWFpbFNldHRpbmdSZWR1Y2VyLFxuICBhZG1pbkF1dGhTZXR0aW5nOiBhZG1pbkF1dGhTZXR0aW5nUmVkdWNlcixcbiAgYWRtaW5Bd3NTZXR0aW5nOiBhZG1pbkF3c1NldHRpbmdSZWR1Y2VyLFxuICBhZG1pbkNoYXJnZUJlZVNldHRpbmc6IGNoYXJnZWJlZVNldHRpbmdSZWR1Y2VyLFxuICBhZG1pblJlZGlzU2V0dGluZzogYWRtaW5SZWRpc1NldHRpbmdSZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBbGVydEFjdGlvblR5cGUgfSBmcm9tICcuL0FsZXJ0QWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHR5cGU6ICdub25lJyxcbiAgbWVzc2FnZTogJydcbn0pXG5cbmV4cG9ydCBjb25zdCBBbGVydFJlZHVjZXIgPSAoXywgYWN0aW9uOiBBbGVydEFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhbGVydFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYWxlcnRSZWNlcHRvciA9IChhY3Rpb246IEFsZXJ0QWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnU0hPV19OT1RJRklDQVRJT04nOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHR5cGU6IGFjdGlvbi5hbGVydFR5cGUsIG1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlIH0pXG4gICAgICBjYXNlICdISURFX05PVElGSUNBVElPTic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdHlwZTogYWN0aW9uLmFsZXJ0VHlwZSwgbWVzc2FnZTogYWN0aW9uLm1lc3NhZ2UgfSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9LCBhY3Rpb24uYWxlcnRUeXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWxlcnRTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQWxlcnRTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJleHBvcnQgZW51bSBHZW5lcmFsU3RhdGVMaXN0IHtcbiAgU1RBUlRfU1RBVEUsXG4gIEFXQUlUSU5HX0lOUFVULFxuICBTQ0VORV9MT0FESU5HLFxuICBTQ0VORV9MT0FERUQsXG4gIFNVQ0NFU1MsXG4gIEZBSUxFRCxcbiAgQUxMX0RPTkVcbn1cblxuZXhwb3J0IGNvbnN0IEFwcEFjdGlvbiA9IHtcbiAgLy8gdXNlZCBmb3IgZGlzcGxheWluZyBsb2FkaW5nIHNjcmVlblxuICBzZXRBcHBMb2FkZWQ6IChsb2FkZWQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9BUFBfTE9BREVEJyBhcyBjb25zdCxcbiAgICAgIGxvYWRlZFxuICAgIH1cbiAgfSxcbiAgc2V0QXBwTG9hZFBlcmNlbnQ6IChsb2FkUGVyY2VudDogbnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdTRVRfQVBQX0xPQURJTkdfUEVSQ0VOVCcgYXMgY29uc3QsXG4gICAgICBsb2FkUGVyY2VudFxuICAgIH1cbiAgfSxcbiAgLy9vbmJvYXJkaW5nIHByb2dyZXNzXG4gIHNldEFwcE9uQm9hcmRpbmdTdGVwOiAob25Cb2FyZGluZ1N0ZXA6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnU0VUX0FQUF9PTkJPQVJESU5HX1NURVAnIGFzIGNvbnN0LFxuICAgICAgb25Cb2FyZGluZ1N0ZXBcbiAgICB9XG4gIH0sXG4gIC8vcmVzdGFydCB0dXRvcmlhbCB3YWxrdGhyb3VnaHRcbiAgc2V0QXBwU3BlY2lmaWNPbkJvYXJkaW5nU3RlcDogKG9uQm9hcmRpbmdTdGVwOiBudW1iZXIsIGlzVHV0b3JpYWw6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9BUFBfU1BFQ0lGSUNfT05CT0FSRElOR19TVEVQJyBhcyBjb25zdCxcbiAgICAgIG9uQm9hcmRpbmdTdGVwLFxuICAgICAgaXNUdXRvcmlhbFxuICAgIH1cbiAgfSxcbiAgLy8gdXNlZCBmb3IgZ2V0dGluZyB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgaGVpZ2h0LlxuICBzZXRWaWV3cG9ydFNpemU6ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnU0VUX1ZJRVdQT1JUX1NJWkUnIGFzIGNvbnN0LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9XG4gIH0sXG4gIHNldEFwcEluVnJNb2RlOiAoaW5Wck1vZGU6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9JTl9WUl9NT0RFJyBhcyBjb25zdCxcbiAgICAgIGluVnJNb2RlXG4gICAgfVxuICB9LFxuICBzZXRVc2VySGFzSW50ZXJhY3RlZDogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnU0VUX1VTRVJfSEFTX0lOVEVSQUNURUQnIGFzIGNvbnN0XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEFwcEFjdGlvblR5cGUgPSBSZXR1cm5UeXBlPHR5cGVvZiBBcHBBY3Rpb25ba2V5b2YgdHlwZW9mIEFwcEFjdGlvbl0+XG4iLCJpbXBvcnQgeyBHZW5lcmFsU3RhdGVMaXN0LCBBcHBBY3Rpb25UeXBlIH0gZnJvbSAnLi9BcHBBY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG4vKlxudHlwZSBBcHBTdGF0ZSA9IHtcbiAgbG9hZGVkOiBib29sZWFuXG4gIGluVnJNb2RlOiBib29sZWFuXG4gIHZpZXdwb3J0OiB7XG4gICAgd2lkdGg6IG51bWJlclxuICAgIGhlaWdodDogbnVtYmVyXG4gIH1cbiAgb25Cb2FyZGluZ1N0ZXA6IG51bWJlclxuICBpc1R1dG9yaWFsOiBib29sZWFuIHwgZmFsc2VcbiAgdXNlckhhc0ludGVyYWN0ZWQ6IGJvb2xlYW5cbiAgbG9hZFBlcmNlbnQ6IG51bWJlclxufSovXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBsb2FkZWQ6IGZhbHNlLFxuICBpblZyTW9kZTogZmFsc2UsXG4gIHZpZXdwb3J0OiB7XG4gICAgd2lkdGg6IDE0MDAsXG4gICAgaGVpZ2h0OiA5MDBcbiAgfSxcbiAgb25Cb2FyZGluZ1N0ZXA6IEdlbmVyYWxTdGF0ZUxpc3QuU1RBUlRfU1RBVEUsXG4gIGlzVHV0b3JpYWw6IGZhbHNlLFxuICB1c2VySGFzSW50ZXJhY3RlZDogZmFsc2UsXG4gIGxvYWRQZXJjZW50OiAwXG59KVxuXG5leHBvcnQgY29uc3QgQXBwUmVkdWNlciA9IChfLCBhY3Rpb246IEFwcEFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhcHBSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGFwcFJlY2VwdG9yID0gKGFjdGlvbjogQXBwQWN0aW9uVHlwZSk6IHZvaWQgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NFVF9BUFBfTE9BREVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsb2FkZWQ6IGFjdGlvbi5sb2FkZWQgfSlcbiAgICAgIGNhc2UgJ1NFVF9BUFBfTE9BRElOR19QRVJDRU5UJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsb2FkUGVyY2VudDogYWN0aW9uLmxvYWRQZXJjZW50IH0pXG4gICAgICBjYXNlICdTRVRfVklFV1BPUlRfU0laRSc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdmlld3BvcnQ6IHsgd2lkdGg6IGFjdGlvbi53aWR0aCwgaGVpZ2h0OiBhY3Rpb24uaGVpZ2h0IH0gfSlcbiAgICAgIGNhc2UgJ1NFVF9JTl9WUl9NT0RFJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpblZyTW9kZTogYWN0aW9uLmluVnJNb2RlIH0pXG4gICAgICBjYXNlICdTRVRfVVNFUl9IQVNfSU5URVJBQ1RFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXNlckhhc0ludGVyYWN0ZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ1NFVF9BUFBfT05CT0FSRElOR19TVEVQJzpcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA9PT0gR2VuZXJhbFN0YXRlTGlzdC5BTExfRE9ORVxuICAgICAgICAgID8gcy5tZXJnZSh7XG4gICAgICAgICAgICAgIG9uQm9hcmRpbmdTdGVwOlxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA+PSBzdGF0ZS5vbkJvYXJkaW5nU3RlcC52YWx1ZSA/IGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA6IHN0YXRlLm9uQm9hcmRpbmdTdGVwLnZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogYWN0aW9uLm9uQm9hcmRpbmdTdGVwID09PSBHZW5lcmFsU3RhdGVMaXN0LlNDRU5FX0xPQURFRFxuICAgICAgICAgID8gcy5tZXJnZSh7XG4gICAgICAgICAgICAgIG9uQm9hcmRpbmdTdGVwOlxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA+PSBzdGF0ZS5vbkJvYXJkaW5nU3RlcC52YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBhY3Rpb24ub25Cb2FyZGluZ1N0ZXBcbiAgICAgICAgICAgICAgICAgIDogc3RhdGUub25Cb2FyZGluZ1N0ZXAudmFsdWUsXG4gICAgICAgICAgICAgIGlzVHV0b3JpYWw6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBzLm1lcmdlKHtcbiAgICAgICAgICAgICAgb25Cb2FyZGluZ1N0ZXA6XG4gICAgICAgICAgICAgICAgYWN0aW9uLm9uQm9hcmRpbmdTdGVwID49IHN0YXRlLm9uQm9hcmRpbmdTdGVwLnZhbHVlXG4gICAgICAgICAgICAgICAgICA/IGFjdGlvbi5vbkJvYXJkaW5nU3RlcFxuICAgICAgICAgICAgICAgICAgOiBzdGF0ZS5vbkJvYXJkaW5nU3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgaXNUdXRvcmlhbDogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICBjYXNlICdTRVRfQVBQX1NQRUNJRklDX09OQk9BUkRJTkdfU1RFUCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgb25Cb2FyZGluZ1N0ZXA6IGFjdGlvbi5vbkJvYXJkaW5nU3RlcCwgaXNUdXRvcmlhbDogYWN0aW9uLmlzVHV0b3JpYWwgfSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFwcFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBcHBTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IERpYWxvZ0FjdGlvblR5cGUgfSBmcm9tICcuL0RpYWxvZ0FjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc09wZW5lZDogZmFsc2UsXG4gIGNvbnRlbnQ6IHVuZGVmaW5lZFxufSlcblxuZXhwb3J0IGNvbnN0IERpYWxvZ1JlZHVjZXIgPSAoXywgYWN0aW9uOiBEaWFsb2dBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZGlhbG9nUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBkaWFsb2dSZWNlcHRvciA9IChhY3Rpb246IERpYWxvZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NIT1dfRElBTE9HJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpc09wZW5lZDogdHJ1ZSwgY29udGVudDogYWN0aW9uLmNvbnRlbnQgfSlcbiAgICAgIGNhc2UgJ0NMT1NFX0RJQUxPRyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaXNPcGVuZWQ6IGZhbHNlLCBjb250ZW50OiB1bmRlZmluZWQgfSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGRpYWxvZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VEaWFsb2dTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBFcnJvckFjdGlvblR5cGUgfSBmcm9tICcuL0Vycm9yQWN0aW9ucydcblxuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgcmVhZEVycm9yOiB7XG4gICAgc2NvcGVFcnJvck1lc3NhZ2U6ICcnLFxuICAgIHN0YXR1c0NvZGU6IDBcbiAgfSxcbiAgd3JpdGVFcnJvcjoge1xuICAgIHNjb3BlRXJyb3JNZXNzYWdlOiAnJyxcbiAgICBzdGF0dXNDb2RlOiAwXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBFcnJvclJlZHVjZXIgPSAoXywgYWN0aW9uOiBFcnJvckFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBlcnJvclJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZXJyb3JSZWNlcHRvciA9IChhY3Rpb246IEVycm9yQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnU0VUX1NDT1BFX1JFQURfRVJST1InOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHJlYWRFcnJvcjogeyBzY29wZUVycm9yTWVzc2FnZTogYWN0aW9uLm1lc3NhZ2UsIHN0YXR1c0NvZGU6IGFjdGlvbi5zdGF0dXNDb2RlIH0gfSlcbiAgICAgIGNhc2UgJ1NFVF9TQ09QRV9XUklURV9FUlJPUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgd3JpdGVFcnJvcjogeyBzY29wZUVycm9yTWVzc2FnZTogYWN0aW9uLm1lc3NhZ2UsIHN0YXR1c0NvZGU6IGFjdGlvbi5zdGF0dXNDb2RlIH0gfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgZXJyb3JTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlRXJyb3JTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBBbGVydFJlZHVjZXIgfSBmcm9tICcuL2FsZXJ0L0FsZXJ0U3RhdGUnXG5pbXBvcnQgeyBBcHBSZWR1Y2VyIH0gZnJvbSAnLi9hcHAvQXBwU3RhdGUnXG5pbXBvcnQgeyBEaWFsb2dSZWR1Y2VyIH0gZnJvbSAnLi9kaWFsb2cvRGlhbG9nU3RhdGUnXG5pbXBvcnQgeyBFcnJvclJlZHVjZXIgfSBmcm9tICcuL2Vycm9yL0Vycm9yU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXBwOiBBcHBSZWR1Y2VyLFxuICBhbGVydDogQWxlcnRSZWR1Y2VyLFxuICBkaWFsb2c6IERpYWxvZ1JlZHVjZXIsXG4gIHNjb3BlRXJyb3I6IEVycm9yUmVkdWNlclxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLy8hIG1vbWVudC5qc1xuLy8hIHZlcnNpb24gOiAyLjI5LjFcbi8vISBhdXRob3JzIDogVGltIFdvb2QsIElza3JlbiBDaGVybmV2LCBNb21lbnQuanMgY29udHJpYnV0b3JzXG4vLyEgbGljZW5zZSA6IE1JVFxuLy8hIG1vbWVudGpzLmNvbVxuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcygpIHtcbiAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG4vLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbmZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3JcbiAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgcmV0dXJuIChcbiAgICAgICAgaW5wdXQgIT0gbnVsbCAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJ1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaztcbiAgICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJ1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSdcbiAgICApO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgIHZhciByZXMgPSBbXSxcbiAgICAgICAgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICByZXR1cm4ge1xuICAgICAgICBlbXB0eTogZmFsc2UsXG4gICAgICAgIHVudXNlZFRva2VuczogW10sXG4gICAgICAgIHVudXNlZElucHV0OiBbXSxcbiAgICAgICAgb3ZlcmZsb3c6IC0yLFxuICAgICAgICBjaGFyc0xlZnRPdmVyOiAwLFxuICAgICAgICBudWxsSW5wdXQ6IGZhbHNlLFxuICAgICAgICBpbnZhbGlkRXJhOiBudWxsLFxuICAgICAgICBpbnZhbGlkTW9udGg6IG51bGwsXG4gICAgICAgIGludmFsaWRGb3JtYXQ6IGZhbHNlLFxuICAgICAgICB1c2VySW52YWxpZGF0ZWQ6IGZhbHNlLFxuICAgICAgICBpc286IGZhbHNlLFxuICAgICAgICBwYXJzZWREYXRlUGFydHM6IFtdLFxuICAgICAgICBlcmE6IG51bGwsXG4gICAgICAgIG1lcmlkaWVtOiBudWxsLFxuICAgICAgICByZmMyODIyOiBmYWxzZSxcbiAgICAgICAgd2Vla2RheU1pc21hdGNoOiBmYWxzZSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuICAgIH1cbiAgICByZXR1cm4gbS5fcGY7XG59XG5cbnZhciBzb21lO1xuaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xufSBlbHNlIHtcbiAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIGxlbiA9IHQubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKSxcbiAgICAgICAgICAgIHBhcnNlZFBhcnRzID0gc29tZS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBpc05vd1ZhbGlkID1cbiAgICAgICAgICAgICAgICAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRFcmEgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLndlZWtkYXlNaXNtYXRjaCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5udWxsSW5wdXQgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoIWZsYWdzLm1lcmlkaWVtIHx8IChmbGFncy5tZXJpZGllbSAmJiBwYXJzZWRQYXJ0cykpO1xuXG4gICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgIGlzTm93VmFsaWQgPVxuICAgICAgICAgICAgICAgIGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkKGZsYWdzKSB7XG4gICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IChob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW10pLFxuICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9tZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudChvYmopIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICBpZiAoXG4gICAgICAgIGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGNvbnNvbGUud2FyblxuICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAga2V5O1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093blByb3AoYXJndW1lbnRzWzBdLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICAgIG1zZyArXG4gICAgICAgICAgICAgICAgICAgICdcXG5Bcmd1bWVudHM6ICcgK1xuICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArXG4gICAgICAgICAgICAgICAgICAgICdcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKCkuc3RhY2tcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKHR5cGVvZiBGdW5jdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbikgfHxcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJ1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIHNldChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGNvbmZpZywgaSkpIHtcbiAgICAgICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfZGF5T2ZNb250aE9yZGluYWxQYXJzZS5cbiAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAodGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZS5zb3VyY2UgfHwgdGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSkgK1xuICAgICAgICAgICAgJ3wnICtcbiAgICAgICAgICAgIC9cXGR7MSwyfS8uc291cmNlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLFxuICAgICAgICBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgZG9uJ3QgbW9kaWZ5IHBhcmVudCBjb25maWdcbiAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBMb2NhbGUoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG4gICAgfVxufVxuXG52YXIga2V5cztcblxuaWYgKE9iamVjdC5rZXlzKSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzO1xufSBlbHNlIHtcbiAgICBrZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuXG52YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgIHNhbWVEYXk6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5OiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgbmV4dFdlZWs6ICdkZGRkIFthdF0gTFQnLFxuICAgIGxhc3REYXk6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWs6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICBzYW1lRWxzZTogJ0wnLFxufTtcblxuZnVuY3Rpb24gY2FsZW5kYXIoa2V5LCBtb20sIG5vdykge1xuICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICByZXR1cm4gKFxuICAgICAgICAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgK1xuICAgICAgICBhYnNOdW1iZXJcbiAgICApO1xufVxuXG52YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98TnsxLDV9fFlZWVlZWXxZWVlZWXxZWVlZfFlZfHl7Miw0fXx5bz98Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2csXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZyxcbiAgICBmb3JtYXRGdW5jdGlvbnMgPSB7fSxcbiAgICBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4vLyB0b2tlbjogICAgJ00nXG4vLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4vLyBvcmRpbmFsOiAgJ01vJ1xuLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5mdW5jdGlvbiBhZGRGb3JtYXRUb2tlbih0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcbiAgICB9XG4gICAgaWYgKHBhZGRlZCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3JkaW5hbCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKFxuICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICB0b2tlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSxcbiAgICAgICAgaSxcbiAgICAgICAgbGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSlcbiAgICAgICAgICAgICAgICA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpXG4gICAgICAgICAgICAgICAgOiBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbi8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID1cbiAgICAgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgIHZhciBpID0gNTtcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICB9XG5cbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoXG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMsXG4gICAgICAgICAgICByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnNcbiAgICAgICAgKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgIExUUzogJ2g6bW06c3MgQScsXG4gICAgTFQ6ICdoOm1tIEEnLFxuICAgIEw6ICdNTS9ERC9ZWVlZJyxcbiAgICBMTDogJ01NTU0gRCwgWVlZWScsXG4gICAgTExMOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnLFxufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQoa2V5KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXJcbiAgICAgICAgLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHRvaykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRvayA9PT0gJ01NTU0nIHx8XG4gICAgICAgICAgICAgICAgdG9rID09PSAnTU0nIHx8XG4gICAgICAgICAgICAgICAgdG9rID09PSAnREQnIHx8XG4gICAgICAgICAgICAgICAgdG9rID09PSAnZGRkZCdcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2suc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignJyk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG59XG5cbnZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCcsXG4gICAgZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsKG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbn1cblxudmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgZnV0dXJlOiAnaW4gJXMnLFxuICAgIHBhc3Q6ICclcyBhZ28nLFxuICAgIHM6ICdhIGZldyBzZWNvbmRzJyxcbiAgICBzczogJyVkIHNlY29uZHMnLFxuICAgIG06ICdhIG1pbnV0ZScsXG4gICAgbW06ICclZCBtaW51dGVzJyxcbiAgICBoOiAnYW4gaG91cicsXG4gICAgaGg6ICclZCBob3VycycsXG4gICAgZDogJ2EgZGF5JyxcbiAgICBkZDogJyVkIGRheXMnLFxuICAgIHc6ICdhIHdlZWsnLFxuICAgIHd3OiAnJWQgd2Vla3MnLFxuICAgIE06ICdhIG1vbnRoJyxcbiAgICBNTTogJyVkIG1vbnRocycsXG4gICAgeTogJ2EgeWVhcicsXG4gICAgeXk6ICclZCB5ZWFycycsXG59O1xuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dClcbiAgICAgICAgPyBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKVxuICAgICAgICA6IG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xufVxuXG5mdW5jdGlvbiBwYXN0RnV0dXJlKGRpZmYsIG91dHB1dCkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG59XG5cbnZhciBhbGlhc2VzID0ge307XG5cbmZ1bmN0aW9uIGFkZFVuaXRBbGlhcyh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldXG4gICAgICAgIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW10sXG4gICAgICAgIHU7XG4gICAgZm9yICh1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKHVuaXRzT2JqLCB1KSkge1xuICAgICAgICAgICAgdW5pdHMucHVzaCh7IHVuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgIH0pO1xuICAgIHJldHVybiB1bml0cztcbn1cblxuZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xufVxuXG5mdW5jdGlvbiBhYnNGbG9vcihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQodW5pdCwga2VlcFRpbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0KG1vbSwgdW5pdCkge1xuICAgIHJldHVybiBtb20uaXNWYWxpZCgpXG4gICAgICAgID8gbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKClcbiAgICAgICAgOiBOYU47XG59XG5cbmZ1bmN0aW9uIHNldCQxKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHVuaXQgPT09ICdGdWxsWWVhcicgJiZcbiAgICAgICAgICAgIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiZcbiAgICAgICAgICAgIG1vbS5tb250aCgpID09PSAxICYmXG4gICAgICAgICAgICBtb20uZGF0ZSgpID09PSAyOVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIG1vbS5tb250aCgpLFxuICAgICAgICAgICAgICAgIGRheXNJbk1vbnRoKHZhbHVlLCBtb20ubW9udGgoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHN0cmluZ0dldCh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICByZXR1cm4gdGhpc1t1bml0c10oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1NldCh1bml0cywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcbiAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyksXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxudmFyIG1hdGNoMSA9IC9cXGQvLCAvLyAgICAgICAwIC0gOVxuICAgIG1hdGNoMiA9IC9cXGRcXGQvLCAvLyAgICAgIDAwIC0gOTlcbiAgICBtYXRjaDMgPSAvXFxkezN9LywgLy8gICAgIDAwMCAtIDk5OVxuICAgIG1hdGNoNCA9IC9cXGR7NH0vLCAvLyAgICAwMDAwIC0gOTk5OVxuICAgIG1hdGNoNiA9IC9bKy1dP1xcZHs2fS8sIC8vIC05OTk5OTkgLSA5OTk5OTlcbiAgICBtYXRjaDF0bzIgPSAvXFxkXFxkPy8sIC8vICAgICAgIDAgLSA5OVxuICAgIG1hdGNoM3RvNCA9IC9cXGRcXGRcXGRcXGQ/LywgLy8gICAgIDk5OSAtIDk5OTlcbiAgICBtYXRjaDV0bzYgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy8sIC8vICAgOTk5OTkgLSA5OTk5OTlcbiAgICBtYXRjaDF0bzMgPSAvXFxkezEsM30vLCAvLyAgICAgICAwIC0gOTk5XG4gICAgbWF0Y2gxdG80ID0gL1xcZHsxLDR9LywgLy8gICAgICAgMCAtIDk5OTlcbiAgICBtYXRjaDF0bzYgPSAvWystXT9cXGR7MSw2fS8sIC8vIC05OTk5OTkgLSA5OTk5OTlcbiAgICBtYXRjaFVuc2lnbmVkID0gL1xcZCsvLCAvLyAgICAgICAwIC0gaW5mXG4gICAgbWF0Y2hTaWduZWQgPSAvWystXT9cXGQrLywgLy8gICAgLWluZiAtIGluZlxuICAgIG1hdGNoT2Zmc2V0ID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpLCAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbiAgICBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2ksIC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG4gICAgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vLCAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuICAgIC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuICAgIC8vIGluY2x1ZGVzIHNjb3R0aXNoIGdhZWxpYyB0d28gd29yZCBhbmQgaHlwaGVuYXRlZCBtb250aHNcbiAgICBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaSxcbiAgICByZWdleGVzO1xuXG5yZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4odG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleClcbiAgICAgICAgPyByZWdleFxuICAgICAgICA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgICByZXR1cm4gaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXggPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgICAgICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgIH1cblxuICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgcmV0dXJuIHJlZ2V4RXNjYXBlKFxuICAgICAgICBzXG4gICAgICAgICAgICAucmVwbGFjZSgnXFxcXCcsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgIG1hdGNoZWQsXG4gICAgICAgICAgICAgICAgcDEsXG4gICAgICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICAgICAgcDMsXG4gICAgICAgICAgICAgICAgcDRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgICAgIH0pXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICB9XG59XG5cbnZhciBZRUFSID0gMCxcbiAgICBNT05USCA9IDEsXG4gICAgREFURSA9IDIsXG4gICAgSE9VUiA9IDMsXG4gICAgTUlOVVRFID0gNCxcbiAgICBTRUNPTkQgPSA1LFxuICAgIE1JTExJU0VDT05EID0gNixcbiAgICBXRUVLID0gNyxcbiAgICBXRUVLREFZID0gODtcblxuZnVuY3Rpb24gbW9kKG4sIHgpIHtcbiAgICByZXR1cm4gKChuICUgeCkgKyB4KSAlIHg7XG59XG5cbnZhciBpbmRleE9mO1xuXG5pZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG59IGVsc2Uge1xuICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgIGlmIChpc05hTih5ZWFyKSB8fCBpc05hTihtb250aCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgdmFyIG1vZE1vbnRoID0gbW9kKG1vbnRoLCAxMik7XG4gICAgeWVhciArPSAobW9udGggLSBtb2RNb250aCkgLyAxMjtcbiAgICByZXR1cm4gbW9kTW9udGggPT09IDFcbiAgICAgICAgPyBpc0xlYXBZZWFyKHllYXIpXG4gICAgICAgICAgICA/IDI5XG4gICAgICAgICAgICA6IDI4XG4gICAgICAgIDogMzEgLSAoKG1vZE1vbnRoICUgNykgJSAyKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KFxuICAgICAgICAnXydcbiAgICApLFxuICAgIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoXG4gICAgICAgICdfJ1xuICAgICksXG4gICAgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/LyxcbiAgICBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZCxcbiAgICBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyhtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKVxuICAgICAgICAgICAgPyB0aGlzLl9tb250aHNcbiAgICAgICAgICAgIDogdGhpcy5fbW9udGhzWydzdGFuZGFsb25lJ107XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocylcbiAgICAgICAgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXVxuICAgICAgICA6IHRoaXMuX21vbnRoc1tcbiAgICAgICAgICAgICAgKHRoaXMuX21vbnRocy5pc0Zvcm1hdCB8fCBNT05USFNfSU5fRk9STUFUKS50ZXN0KGZvcm1hdClcbiAgICAgICAgICAgICAgICAgID8gJ2Zvcm1hdCdcbiAgICAgICAgICAgICAgICAgIDogJ3N0YW5kYWxvbmUnXG4gICAgICAgICAgXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpXG4gICAgICAgICAgICA/IHRoaXMuX21vbnRoc1Nob3J0XG4gICAgICAgICAgICA6IHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KVxuICAgICAgICA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV1cbiAgICAgICAgOiB0aGlzLl9tb250aHNTaG9ydFtcbiAgICAgICAgICAgICAgTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ1xuICAgICAgICAgIF1bbS5tb250aCgpXTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLFxuICAgICAgICBpaSxcbiAgICAgICAgbW9tLFxuICAgICAgICBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHVzZWRcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzU2hvcnQoXG4gICAgICAgICAgICAgICAgbW9tLFxuICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICApLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlLmNhbGwodGhpcywgbW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsXG4gICAgICAgICAgICAgICAgJ2knXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLFxuICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID1cbiAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICBmb3JtYXQgPT09ICdNTU1NJyAmJlxuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICBmb3JtYXQgPT09ICdNTU0nICYmXG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aChtb20sIHZhbHVlKSB7XG4gICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuIG1vbTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG4gICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcbiAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgIHJldHVybiBtb207XG59XG5cbmZ1bmN0aW9uIGdldFNldE1vbnRoKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXlzSW5Nb250aCgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4XG4gICAgICAgICAgICA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtb250aHNSZWdleChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICA/IHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4XG4gICAgICAgICAgICA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICBsb25nUGllY2VzID0gW10sXG4gICAgICAgIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksXG4gICAgICAgIG1vbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAnaSdcbiAgICApO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAnaSdcbiAgICApO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/IHplcm9GaWxsKHksIDQpIDogJysnICsgeTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgNF0sIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgNV0sIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWScsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignWVlZWScsIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuYWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9XG4gICAgICAgIGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyKCkge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgIC8vIGNhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcbiAgICB2YXIgZGF0ZTtcbiAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQsIGgsIE0sIHMsIG1zKTtcbiAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVENEYXRlKHkpIHtcbiAgICB2YXIgZGF0ZSwgYXJncztcbiAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICBhcmdzWzBdID0geSArIDQwMDtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3MpKTtcbiAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbi8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG5mdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgLy8gZmlyc3Qtd2VlayBkYXkgLS0gd2hpY2ggamFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgKDQgZm9yIGlzbywgMSBmb3Igb3RoZXIpXG4gICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG4gICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgZndkbHcgPSAoNyArIGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgZndkKS5nZXRVVENEYXkoKSAtIGRvdykgJSA3O1xuXG4gICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG59XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLFxuICAgICAgICByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhcixcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG4gICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgIHJlc1dlZWssXG4gICAgICAgIHJlc1llYXI7XG5cbiAgICBpZiAod2VlayA8IDEpIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICB9IGVsc2UgaWYgKHdlZWsgPiB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSkpIHtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbmFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigndycsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1cnLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChcbiAgICBpbnB1dCxcbiAgICB3ZWVrLFxuICAgIGNvbmZpZyxcbiAgICB0b2tlblxuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gTE9DQUxFU1xuXG5mdW5jdGlvbiBsb2NhbGVXZWVrKG1vbSkge1xuICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XG4gICAgZG93OiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3k6IDYsIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDZ0aCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbn07XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbn1cblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG5hZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcbmFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG5hZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ2QnLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZScsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdFJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2RkJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGQnLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICB9XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH1cblxuICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xuICAgIH1cbiAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xufVxuXG4vLyBMT0NBTEVTXG5mdW5jdGlvbiBzaGlmdFdlZWtkYXlzKHdzLCBuKSB7XG4gICAgcmV0dXJuIHdzLnNsaWNlKG4sIDcpLmNvbmNhdCh3cy5zbGljZSgwLCBuKSk7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KFxuICAgICAgICAnXydcbiAgICApLFxuICAgIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKSxcbiAgICBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyksXG4gICAgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQsXG4gICAgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZCxcbiAgICBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMobSwgZm9ybWF0KSB7XG4gICAgdmFyIHdlZWtkYXlzID0gaXNBcnJheSh0aGlzLl93ZWVrZGF5cylcbiAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1xuICAgICAgICA6IHRoaXMuX3dlZWtkYXlzW1xuICAgICAgICAgICAgICBtICYmIG0gIT09IHRydWUgJiYgdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpXG4gICAgICAgICAgICAgICAgICA/ICdmb3JtYXQnXG4gICAgICAgICAgICAgICAgICA6ICdzdGFuZGFsb25lJ1xuICAgICAgICAgIF07XG4gICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgPyBzaGlmdFdlZWtkYXlzKHdlZWtkYXlzLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgOiBtXG4gICAgICAgID8gd2Vla2RheXNbbS5kYXkoKV1cbiAgICAgICAgOiB3ZWVrZGF5cztcbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydChtKSB7XG4gICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgPyBzaGlmdFdlZWtkYXlzKHRoaXMuX3dlZWtkYXlzU2hvcnQsIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICA6IG1cbiAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldXG4gICAgICAgIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4obSkge1xuICAgIHJldHVybiBtID09PSB0cnVlXG4gICAgICAgID8gc2hpZnRXZWVrZGF5cyh0aGlzLl93ZWVrZGF5c01pbiwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgIDogbVxuICAgICAgICA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldXG4gICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksXG4gICAgICAgIGlpLFxuICAgICAgICBtb20sXG4gICAgICAgIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihcbiAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChcbiAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsXG4gICAgICAgICAgICAgICAgJ2knXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJyxcbiAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsXG4gICAgICAgICAgICAgICAgJ2knXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICdeJyArXG4gICAgICAgICAgICAgICAgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArXG4gICAgICAgICAgICAgICAgJ3xeJyArXG4gICAgICAgICAgICAgICAgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICtcbiAgICAgICAgICAgICAgICAnfF4nICtcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgIGZvcm1hdCA9PT0gJ2RkZGQnICYmXG4gICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICBmb3JtYXQgPT09ICdkZGQnICYmXG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgZm9ybWF0ID09PSAnZGQnICYmXG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZldlZWsoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWtkYXkgOiB0aGlzLmFkZChpbnB1dCAtIHdlZWtkYXksICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayhpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cblxuICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdlZWtkYXlzUmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4XG4gICAgICAgICAgICA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXhcbiAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICA/IHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXhcbiAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBtaW5QaWVjZXMgPSBbXSxcbiAgICAgICAgc2hvcnRQaWVjZXMgPSBbXSxcbiAgICAgICAgbG9uZ1BpZWNlcyA9IFtdLFxuICAgICAgICBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLFxuICAgICAgICBtb20sXG4gICAgICAgIG1pbnAsXG4gICAgICAgIHNob3J0cCxcbiAgICAgICAgbG9uZ3A7XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBtaW5wID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5c01pbihtb20sICcnKSk7XG4gICAgICAgIHNob3J0cCA9IHJlZ2V4RXNjYXBlKHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIGxvbmdwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5cyhtb20sICcnKSk7XG4gICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cbiAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cbiAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAnaSdcbiAgICApO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICdpJ1xuICAgICk7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAnaSdcbiAgICApO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIGhGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xufVxuXG5mdW5jdGlvbiBrRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG59XG5cbmFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuYWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICcnICtcbiAgICAgICAgaEZvcm1hdC5hcHBseSh0aGlzKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKVxuICAgICk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgICcnICtcbiAgICAgICAgdGhpcy5ob3VycygpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpXG4gICAgKTtcbn0pO1xuXG5mdW5jdGlvbiBtZXJpZGllbSh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKFxuICAgICAgICAgICAgdGhpcy5ob3VycygpLFxuICAgICAgICAgICAgdGhpcy5taW51dGVzKCksXG4gICAgICAgICAgICBsb3dlcmNhc2VcbiAgICAgICAgKTtcbiAgICB9KTtcbn1cblxubWVyaWRpZW0oJ2EnLCB0cnVlKTtcbm1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbi8vIFBBUlNJTkdcblxuZnVuY3Rpb24gbWF0Y2hNZXJpZGllbShpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcbn1cblxuYWRkUmVnZXhUb2tlbignYScsIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignQScsIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignSCcsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdoJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2snLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG5hZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcblxuYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG5hZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIga0lucHV0ID0gdG9JbnQoaW5wdXQpO1xuICAgIGFycmF5W0hPVVJdID0ga0lucHV0ID09PSAyNCA/IDAgOiBrSW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQsXG4gICAgICAgIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQsXG4gICAgICAgIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0oaW5wdXQpIHtcbiAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgcmV0dXJuIChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaSxcbiAgICAvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbiAgICAvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciB0aGV5IHdhbnQuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuICAgIC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuICAgIC8vIHRoaXMgcnVsZS5cbiAgICBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgfVxufVxuXG52YXIgYmFzZUNvbmZpZyA9IHtcbiAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSxcbiAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cbiAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXG4gICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXG4gICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UsXG59O1xuXG4vLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG52YXIgbG9jYWxlcyA9IHt9LFxuICAgIGxvY2FsZUZhbWlsaWVzID0ge30sXG4gICAgZ2xvYmFsTG9jYWxlO1xuXG5mdW5jdGlvbiBjb21tb25QcmVmaXgoYXJyMSwgYXJyMikge1xuICAgIHZhciBpLFxuICAgICAgICBtaW5sID0gTWF0aC5taW4oYXJyMS5sZW5ndGgsIGFycjIubGVuZ3RoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWlubDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChhcnIxW2ldICE9PSBhcnIyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWlubDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbn1cblxuLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4vLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBqLFxuICAgICAgICBuZXh0LFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHNwbGl0O1xuXG4gICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5leHQgJiZcbiAgICAgICAgICAgICAgICBuZXh0Lmxlbmd0aCA+PSBqICYmXG4gICAgICAgICAgICAgICAgY29tbW9uUHJlZml4KHNwbGl0LCBuZXh0KSA+PSBqIC0gMVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgai0tO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbn1cblxuZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgdmFyIG9sZExvY2FsZSA9IG51bGwsXG4gICAgICAgIGFsaWFzZWRSZXF1aXJlO1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgaWYgKFxuICAgICAgICBsb2NhbGVzW25hbWVdID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbW9kdWxlICYmXG4gICAgICAgIG1vZHVsZS5leHBvcnRzXG4gICAgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG1hcmsgYXMgbm90IGZvdW5kIHRvIGF2b2lkIHJlcGVhdGluZyBleHBlbnNpdmUgZmlsZSByZXF1aXJlIGNhbGwgY2F1c2luZyBoaWdoIENQVVxuICAgICAgICAgICAgLy8gd2hlbiB0cnlpbmcgdG8gZmluZCBlbi1VUywgZW5fVVMsIGVuLXVzIGZvciBldmVyeSBmb3JtYXQgY2FsbFxuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG51bGw7IC8vIG51bGwgbWVhbnMgbm90IGZvdW5kXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbi8vIGxvY2FsZSBrZXkuXG5mdW5jdGlvbiBnZXRTZXRHbG9iYWxMb2NhbGUoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgICAgIC8vd2FybiB1c2VyIGlmIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGJ1dCB0aGUgbG9jYWxlIGNvdWxkIG5vdCBiZSBzZXRcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICdMb2NhbGUgJyArIGtleSArICcgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PydcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdsb2JhbExvY2FsZS5fYWJicjtcbn1cblxuZnVuY3Rpb24gZGVmaW5lTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSxcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKFxuICAgICAgICAgICAgICAgICdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGNvbmZpZy5wYXJlbnRMb2NhbGUpO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXG4gICAgICAgIGlmIChsb2NhbGVGYW1pbGllc1tuYW1lXSkge1xuICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGxvY2FsZSBBRlRFUiBhbGwgY2hpbGQgbG9jYWxlcyBoYXZlIGJlZW5cbiAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLFxuICAgICAgICAgICAgdG1wTG9jYWxlLFxuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcblxuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsICYmIGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBjaGlsZCBsb2NhbGUgaW4tcGxhY2UgdG8gYXZvaWQgbWVtb3J5LWxlYWtzXG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdLnNldChtZXJnZUNvbmZpZ3MobG9jYWxlc1tuYW1lXS5fY29uZmlnLCBjb25maWcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1FUkdFXG4gICAgICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHRtcExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gdG1wTG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcgPSBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpO1xuICAgICAgICAgICAgaWYgKHRtcExvY2FsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlTG9jYWxlIGlzIGNhbGxlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFiYnIgc28gaXQgd2lsbCBoYXZlIGEgbmFtZSAoZ2V0dGVycyByZXR1cm5cbiAgICAgICAgICAgICAgICAvLyB1bmRlZmluZWQgb3RoZXJ3aXNlKS5cbiAgICAgICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSBnZXRTZXRHbG9iYWxMb2NhbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuZnVuY3Rpb24gZ2V0TG9jYWxlKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG5cbiAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG4gICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgIH1cblxuICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KGtleSkpIHtcbiAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAga2V5ID0gW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xufVxuXG5mdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICByZXR1cm4ga2V5cyhsb2NhbGVzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyhtKSB7XG4gICAgdmFyIG92ZXJmbG93LFxuICAgICAgICBhID0gbS5fYTtcblxuICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgYVtNT05USF0gPCAwIHx8IGFbTU9OVEhdID4gMTFcbiAgICAgICAgICAgICAgICA/IE1PTlRIXG4gICAgICAgICAgICAgICAgOiBhW0RBVEVdIDwgMSB8fCBhW0RBVEVdID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pXG4gICAgICAgICAgICAgICAgPyBEQVRFXG4gICAgICAgICAgICAgICAgOiBhW0hPVVJdIDwgMCB8fFxuICAgICAgICAgICAgICAgICAgYVtIT1VSXSA+IDI0IHx8XG4gICAgICAgICAgICAgICAgICAoYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoYVtNSU5VVEVdICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFbU0VDT05EXSAhPT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSAhPT0gMCkpXG4gICAgICAgICAgICAgICAgPyBIT1VSXG4gICAgICAgICAgICAgICAgOiBhW01JTlVURV0gPCAwIHx8IGFbTUlOVVRFXSA+IDU5XG4gICAgICAgICAgICAgICAgPyBNSU5VVEVcbiAgICAgICAgICAgICAgICA6IGFbU0VDT05EXSA8IDAgfHwgYVtTRUNPTkRdID4gNTlcbiAgICAgICAgICAgICAgICA/IFNFQ09ORFxuICAgICAgICAgICAgICAgIDogYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5XG4gICAgICAgICAgICAgICAgPyBNSUxMSVNFQ09ORFxuICAgICAgICAgICAgICAgIDogLTE7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJlxuICAgICAgICAgICAgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGlzbyA4NjAxIHJlZ2V4XG4vLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbnZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoWystXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC8sXG4gICAgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGR8KSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoWystXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC8sXG4gICAgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LyxcbiAgICBpc29EYXRlcyA9IFtcbiAgICAgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcbiAgICAgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgICAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICAgICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgICAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgICAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuICAgICAgICBbJ0dHR0dbV11XVycsIC9cXGR7NH1XXFxkezJ9LywgZmFsc2VdLFxuICAgICAgICBbJ1lZWVlEREQnLCAvXFxkezd9L10sXG4gICAgICAgIFsnWVlZWU1NJywgL1xcZHs2fS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZJywgL1xcZHs0fS8sIGZhbHNlXSxcbiAgICBdLFxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICBpc29UaW1lcyA9IFtcbiAgICAgICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICBbJ0hIOm1tOnNzLFNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFxuICAgICAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIbW1zcy5TU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgICAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISG1tJywgL1xcZFxcZFxcZFxcZC9dLFxuICAgICAgICBbJ0hIJywgL1xcZFxcZC9dLFxuICAgIF0sXG4gICAgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKCgtP1xcZCspL2ksXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgIHJmYzI4MjIgPSAvXig/OihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLD9cXHMpPyhcXGR7MSwyfSlcXHMoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKFxcZHsyLDR9KVxccyhcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKT9cXHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KFsrLV1cXGR7NH0pKSQvLFxuICAgIG9ic09mZnNldHMgPSB7XG4gICAgICAgIFVUOiAwLFxuICAgICAgICBHTVQ6IDAsXG4gICAgICAgIEVEVDogLTQgKiA2MCxcbiAgICAgICAgRVNUOiAtNSAqIDYwLFxuICAgICAgICBDRFQ6IC01ICogNjAsXG4gICAgICAgIENTVDogLTYgKiA2MCxcbiAgICAgICAgTURUOiAtNiAqIDYwLFxuICAgICAgICBNU1Q6IC03ICogNjAsXG4gICAgICAgIFBEVDogLTcgKiA2MCxcbiAgICAgICAgUFNUOiAtOCAqIDYwLFxuICAgIH07XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgIHZhciBpLFxuICAgICAgICBsLFxuICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG4gICAgICAgIGFsbG93VGltZSxcbiAgICAgICAgZGF0ZUZvcm1hdCxcbiAgICAgICAgdGltZUZvcm1hdCxcbiAgICAgICAgdHpGb3JtYXQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoXG4gICAgeWVhclN0cixcbiAgICBtb250aFN0cixcbiAgICBkYXlTdHIsXG4gICAgaG91clN0cixcbiAgICBtaW51dGVTdHIsXG4gICAgc2Vjb25kU3RyXG4pIHtcbiAgICB2YXIgcmVzdWx0ID0gW1xuICAgICAgICB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSxcbiAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICBwYXJzZUludChkYXlTdHIsIDEwKSxcbiAgICAgICAgcGFyc2VJbnQoaG91clN0ciwgMTApLFxuICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKSxcbiAgICBdO1xuXG4gICAgaWYgKHNlY29uZFN0cikge1xuICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoeWVhclN0ciwgMTApO1xuICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICB9IGVsc2UgaWYgKHllYXIgPD0gOTk5KSB7XG4gICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICB9XG4gICAgcmV0dXJuIHllYXI7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAvLyBSZW1vdmUgY29tbWVudHMgYW5kIGZvbGRpbmcgd2hpdGVzcGFjZSBhbmQgcmVwbGFjZSBtdWx0aXBsZS1zcGFjZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXChbXildKlxcKXxbXFxuXFx0XS9nLCAnICcpXG4gICAgICAgIC5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKVxuICAgICAgICAucmVwbGFjZSgvXlxcc1xccyovLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1xcc1xccyokLywgJycpO1xufVxuXG5mdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgIGlmICh3ZWVrZGF5U3RyKSB7XG4gICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVuZGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICB3ZWVrZGF5QWN0dWFsID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgcGFyc2VkSW5wdXRbMF0sXG4gICAgICAgICAgICAgICAgcGFyc2VkSW5wdXRbMV0sXG4gICAgICAgICAgICAgICAgcGFyc2VkSW5wdXRbMl1cbiAgICAgICAgICAgICkuZ2V0RGF5KCk7XG4gICAgICAgIGlmICh3ZWVrZGF5UHJvdmlkZWQgIT09IHdlZWtkYXlBY3R1YWwpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KG9ic09mZnNldCwgbWlsaXRhcnlPZmZzZXQsIG51bU9mZnNldCkge1xuICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG9ic09mZnNldHNbb2JzT2Zmc2V0XTtcbiAgICB9IGVsc2UgaWYgKG1pbGl0YXJ5T2Zmc2V0KSB7XG4gICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIG0gPSBobSAlIDEwMCxcbiAgICAgICAgICAgIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgcmV0dXJuIGggKiA2MCArIG07XG4gICAgfVxufVxuXG4vLyBkYXRlIGFuZCB0aW1lIGZyb20gcmVmIDI4MjIgZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tUkZDMjgyMihjb25maWcpIHtcbiAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSksXG4gICAgICAgIHBhcnNlZEFycmF5O1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBwYXJzZWRBcnJheSA9IGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoXG4gICAgICAgICAgICBtYXRjaFs0XSxcbiAgICAgICAgICAgIG1hdGNoWzNdLFxuICAgICAgICAgICAgbWF0Y2hbMl0sXG4gICAgICAgICAgICBtYXRjaFs1XSxcbiAgICAgICAgICAgIG1hdGNoWzZdLFxuICAgICAgICAgICAgbWF0Y2hbN11cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFjaGVja1dlZWtkYXkobWF0Y2hbMV0sIHBhcnNlZEFycmF5LCBjb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcuX2EgPSBwYXJzZWRBcnJheTtcbiAgICAgICAgY29uZmlnLl90em0gPSBjYWxjdWxhdGVPZmZzZXQobWF0Y2hbOF0sIG1hdGNoWzldLCBtYXRjaFsxMF0pO1xuXG4gICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5yZmMyODIyID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSAxKSBBU1AuTkVULCAyKSBJU08sIDMpIFJGQyAyODIyIGZvcm1hdHMsIG9yIDQpIG9wdGlvbmFsIGZhbGxiYWNrIGlmIHBhcnNpbmcgaXNuJ3Qgc3RyaWN0XG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcbiAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9zdHJpY3QpIHtcbiAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBSRkMyODIyIG9yIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuICAgICAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gUkZDMjgyMi9JU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkLiBQbGVhc2UgcmVmZXIgdG8gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cblxuZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICBub3dWYWx1ZS5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG59XG5cbi8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbi8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5mdW5jdGlvbiBjb25maWdGcm9tQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGRhdGUsXG4gICAgICAgIGlucHV0ID0gW10sXG4gICAgICAgIGN1cnJlbnREYXRlLFxuICAgICAgICBleHBlY3RlZFdlZWtkYXksXG4gICAgICAgIHllYXJUb1VzZTtcblxuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgIH1cblxuICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgIGlmIChjb25maWcuX2RheU9mWWVhciAhPSBudWxsKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpIHx8XG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9PT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcbiAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxuICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG4gICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcbiAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgfVxuXG4gICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG4gICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPVxuICAgICAgICAgICAgY29uZmlnLl9hW2ldID09IG51bGwgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKFxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDBcbiAgICApIHtcbiAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICB9XG5cbiAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGlucHV0XG4gICAgKTtcbiAgICBleHBlY3RlZFdlZWtkYXkgPSBjb25maWcuX3VzZVVUQ1xuICAgICAgICA/IGNvbmZpZy5fZC5nZXRVVENEYXkoKVxuICAgICAgICA6IGNvbmZpZy5fZC5nZXREYXkoKTtcblxuICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgIC8vIHdpdGggcGFyc2Vab25lLlxuICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3IgbWlzbWF0Y2hpbmcgZGF5IG9mIHdlZWtcbiAgICBpZiAoXG4gICAgICAgIGNvbmZpZy5fdyAmJlxuICAgICAgICB0eXBlb2YgY29uZmlnLl93LmQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGNvbmZpZy5fdy5kICE9PSBleHBlY3RlZFdlZWtkYXlcbiAgICApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3csIGN1cldlZWs7XG5cbiAgICB3ID0gY29uZmlnLl93O1xuICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgZG93ID0gMTtcbiAgICAgICAgZG95ID0gNDtcblxuICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAvLyBhIG5vdyB2ZXJzaW9uIG9mIGN1cnJlbnQgY29uZmlnICh0YWtlIGxvY2FsL3V0Yy9vZmZzZXQgZmxhZ3MsIGFuZFxuICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyhcbiAgICAgICAgICAgIHcuR0csXG4gICAgICAgICAgICBjb25maWcuX2FbWUVBUl0sXG4gICAgICAgICAgICB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXJcbiAgICAgICAgKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrcyA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0ZW1wLmRheU9mWWVhcjtcbiAgICB9XG59XG5cbi8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBJU08gc3RhbmRhcmRcbmhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbi8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG5ob29rcy5SRkNfMjgyMiA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uZmlnLl9hID0gW107XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgIGksXG4gICAgICAgIHBhcnNlZElucHV0LFxuICAgICAgICB0b2tlbnMsXG4gICAgICAgIHRva2VuLFxuICAgICAgICBza2lwcGVkLFxuICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMCxcbiAgICAgICAgZXJhO1xuXG4gICAgdG9rZW5zID1cbiAgICAgICAgZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHxcbiAgICAgICAgICAgIFtdKVswXTtcbiAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoXG4gICAgICAgICAgICAgICAgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9XG4gICAgICAgIHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgIGlmIChcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMFxuICAgICkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKFxuICAgICAgICBjb25maWcuX2xvY2FsZSxcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdLFxuICAgICAgICBjb25maWcuX21lcmlkaWVtXG4gICAgKTtcblxuICAgIC8vIGhhbmRsZSBlcmFcbiAgICBlcmEgPSBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lcmE7XG4gICAgaWYgKGVyYSAhPT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2FbWUVBUl0gPSBjb25maWcuX2xvY2FsZS5lcmFzQ29udmVydFllYXIoZXJhLCBjb25maWcuX2FbWUVBUl0pO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcbiAgICB2YXIgaXNQbTtcblxuICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxuICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxufVxuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgIHZhciB0ZW1wQ29uZmlnLFxuICAgICAgICBiZXN0TW9tZW50LFxuICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgaSxcbiAgICAgICAgY3VycmVudFNjb3JlLFxuICAgICAgICB2YWxpZEZvcm1hdEZvdW5kLFxuICAgICAgICBiZXN0Rm9ybWF0SXNWYWxpZCA9IGZhbHNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIHZhbGlkRm9ybWF0Rm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgfVxuICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICB2YWxpZEZvcm1hdEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcblxuICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKCFiZXN0Rm9ybWF0SXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCB8fFxuICAgICAgICAgICAgICAgIHZhbGlkRm9ybWF0Rm91bmRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZEZvcm1hdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpLFxuICAgICAgICBkYXlPckRhdGUgPSBpLmRheSA9PT0gdW5kZWZpbmVkID8gaS5kYXRlIDogaS5kYXk7XG4gICAgY29uZmlnLl9hID0gbWFwKFxuICAgICAgICBbaS55ZWFyLCBpLm1vbnRoLCBkYXlPckRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSxcbiAgICAgICAgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG4gICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDb25maWcoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHsgbnVsbElucHV0OiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgIH1cblxuICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuICAgIGlmIChpc1VuZGVmaW5lZChpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGlmIChmb3JtYXQgPT09IHRydWUgfHwgZm9ybWF0ID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICAoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKVxuICAgICkge1xuICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgYy5fbCA9IGxvY2FsZTtcbiAgICBjLl9pID0gaW5wdXQ7XG4gICAgYy5fZiA9IGZvcm1hdDtcbiAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWwoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xufVxuXG52YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApLFxuICAgIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbi8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbi8vXG4vLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4vLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgdmFyIHJlcywgaTtcbiAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICB9XG4gICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICB9XG4gICAgcmVzID0gbW9tZW50c1swXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbmZ1bmN0aW9uIG1pbigpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG59XG5cbmZ1bmN0aW9uIG1heCgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogK25ldyBEYXRlKCk7XG59O1xuXG52YXIgb3JkZXJpbmcgPSBbXG4gICAgJ3llYXInLFxuICAgICdxdWFydGVyJyxcbiAgICAnbW9udGgnLFxuICAgICd3ZWVrJyxcbiAgICAnZGF5JyxcbiAgICAnaG91cicsXG4gICAgJ21pbnV0ZScsXG4gICAgJ3NlY29uZCcsXG4gICAgJ21pbGxpc2Vjb25kJyxcbl07XG5cbmZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgdmFyIGtleSxcbiAgICAgICAgdW5pdEhhc0RlY2ltYWwgPSBmYWxzZSxcbiAgICAgICAgaTtcbiAgICBmb3IgKGtleSBpbiBtKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGhhc093blByb3AobSwga2V5KSAmJlxuICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICBpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgKG1ba2V5XSA9PSBudWxsIHx8ICFpc05hTihtW2tleV0pKVxuICAgICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBvcmRlcmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAobVtvcmRlcmluZ1tpXV0pIHtcbiAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gb25seSBhbGxvdyBub24taW50ZWdlcnMgZm9yIHNtYWxsZXN0IHVuaXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgdW5pdEhhc0RlY2ltYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQkMSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW52YWxpZCQxKCkge1xuICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbihOYU4pO1xufVxuXG5mdW5jdGlvbiBEdXJhdGlvbihkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCBub3JtYWxpemVkSW5wdXQuaXNvV2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgdGhpcy5faXNWYWxpZCA9IGlzRHVyYXRpb25WYWxpZChub3JtYWxpemVkSW5wdXQpO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPVxuICAgICAgICArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICsgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdG8gdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgKyBxdWFydGVycyAqIDMgKyB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGFic1JvdW5kKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKC0xICogbnVtYmVyKSAqIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXG5mdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkge1xuICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgZGlmZnMgPSAwLFxuICAgICAgICBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpXG4gICAgICAgICkge1xuICAgICAgICAgICAgZGlmZnMrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIG9mZnNldCh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCksXG4gICAgICAgICAgICBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHNpZ24gK1xuICAgICAgICAgICAgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArXG4gICAgICAgICAgICBzZXBhcmF0b3IgK1xuICAgICAgICAgICAgemVyb0ZpbGwofn5vZmZzZXQgJSA2MCwgMilcbiAgICAgICAgKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gdGltZXpvbmUgY2h1bmtlclxuLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4vLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbnZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpLFxuICAgICAgICBjaHVuayxcbiAgICAgICAgcGFydHMsXG4gICAgICAgIG1pbnV0ZXM7XG5cbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjaHVuayA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXSB8fCBbXTtcbiAgICBwYXJ0cyA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/IDAgOiBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xufVxuXG4vLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgIHZhciByZXMsIGRpZmY7XG4gICAgaWYgKG1vZGVsLl9pc1VUQykge1xuICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICBkaWZmID1cbiAgICAgICAgICAgIChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KVxuICAgICAgICAgICAgICAgID8gaW5wdXQudmFsdWVPZigpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldChtKSB7XG4gICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpKTtcbn1cblxuLy8gSE9PS1NcblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuLy8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG5ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gTU9NRU5UU1xuXG4vLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcbi8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4vLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG4vLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG4vL1xuLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG4vLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcbi8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbi8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cbmZ1bmN0aW9uIGdldFNldE9mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSwga2VlcE1pbnV0ZXMpIHtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgIGxvY2FsQWRqdXN0O1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGlucHV0KSA8IDE2ICYmICFrZWVwTWludXRlcykge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdChcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMoa2VlcExvY2FsVGltZSkge1xuICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0KCkge1xuICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0sIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fSxcbiAgICAgICAgb3RoZXI7XG5cbiAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXG4gICAgaWYgKGMuX2EpIHtcbiAgICAgICAgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPVxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkKCkgJiYgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0Y09mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0YygpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXigtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspOihcXGQrKSg/OjooXFxkKykoXFwuXFxkKik/KT8kLyxcbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgaXNvUmVnZXggPSAvXigtfFxcKyk/UCg/OihbLStdP1swLTksLl0qKVkpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVcpPyg/OihbLStdP1swLTksLl0qKUQpPyg/OlQoPzooWy0rXT9bMC05LC5dKilIKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbihpbnB1dCwga2V5KSB7XG4gICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG4gICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgc2lnbixcbiAgICAgICAgcmV0LFxuICAgICAgICBkaWZmUmVzO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgbXM6IGlucHV0Ll9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkOiBpbnB1dC5fZGF5cyxcbiAgICAgICAgICAgIE06IGlucHV0Ll9tb250aHMsXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkgfHwgIWlzTmFOKCtpbnB1dCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9ICtpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9ICtpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSBtYXRjaFsxXSA9PT0gJy0nID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBkOiB0b0ludChtYXRjaFtEQVRFXSkgKiBzaWduLFxuICAgICAgICAgICAgaDogdG9JbnQobWF0Y2hbSE9VUl0pICogc2lnbixcbiAgICAgICAgICAgIG06IHRvSW50KG1hdGNoW01JTlVURV0pICogc2lnbixcbiAgICAgICAgICAgIHM6IHRvSW50KG1hdGNoW1NFQ09ORF0pICogc2lnbixcbiAgICAgICAgICAgIG1zOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduLCAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKChtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gbWF0Y2hbMV0gPT09ICctJyA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5OiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICB3OiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICBkOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICBtOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICBzOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbiksXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIC8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmXG4gICAgICAgICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbilcbiAgICApIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKFxuICAgICAgICAgICAgY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksXG4gICAgICAgICAgICBjcmVhdGVMb2NhbChkdXJhdGlvbi50bylcbiAgICAgICAgKTtcblxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19pc1ZhbGlkJykpIHtcbiAgICAgICAgcmV0Ll9pc1ZhbGlkID0gaW5wdXQuX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn1cblxuY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5jcmVhdGVEdXJhdGlvbi5pbnZhbGlkID0gY3JlYXRlSW52YWxpZCQxO1xuXG5mdW5jdGlvbiBwYXJzZUlzbyhpbnAsIHNpZ24pIHtcbiAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xufVxuXG5mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHt9O1xuXG4gICAgcmVzLm1vbnRocyA9XG4gICAgICAgIG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgKyAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICtiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJyk7XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXM7XG4gICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4geyBtaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMCB9O1xuICAgIH1cblxuICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcbmZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgdmFyIGR1ciwgdG1wO1xuICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICdtb21lbnQoKS4nICtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRtcCA9IHZhbDtcbiAgICAgICAgICAgIHZhbCA9IHBlcmlvZDtcbiAgICAgICAgICAgIHBlcmlvZCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdChtb20sIGR1cmF0aW9uLCBpc0FkZGluZywgdXBkYXRlT2Zmc2V0KSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgIG1vbnRocyA9IGFic1JvdW5kKGR1cmF0aW9uLl9tb250aHMpO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICBpZiAobW9udGhzKSB7XG4gICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChkYXlzKSB7XG4gICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICB9XG59XG5cbnZhciBhZGQgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyksXG4gICAgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5cbi8vIHR5cGUgTW9tZW50SW5wdXQgPSBNb21lbnQgfCBEYXRlIHwgc3RyaW5nIHwgbnVtYmVyIHwgKG51bWJlciB8IHN0cmluZylbXSB8IE1vbWVudElucHV0T2JqZWN0IHwgdm9pZDsgLy8gbnVsbCB8IHVuZGVmaW5lZFxuZnVuY3Rpb24gaXNNb21lbnRJbnB1dChpbnB1dCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIGlzTW9tZW50KGlucHV0KSB8fFxuICAgICAgICBpc0RhdGUoaW5wdXQpIHx8XG4gICAgICAgIGlzU3RyaW5nKGlucHV0KSB8fFxuICAgICAgICBpc051bWJlcihpbnB1dCkgfHxcbiAgICAgICAgaXNOdW1iZXJPclN0cmluZ0FycmF5KGlucHV0KSB8fFxuICAgICAgICBpc01vbWVudElucHV0T2JqZWN0KGlucHV0KSB8fFxuICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fFxuICAgICAgICBpbnB1dCA9PT0gdW5kZWZpbmVkXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNNb21lbnRJbnB1dE9iamVjdChpbnB1dCkge1xuICAgIHZhciBvYmplY3RUZXN0ID0gaXNPYmplY3QoaW5wdXQpICYmICFpc09iamVjdEVtcHR5KGlucHV0KSxcbiAgICAgICAgcHJvcGVydHlUZXN0ID0gZmFsc2UsXG4gICAgICAgIHByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAneWVhcnMnLFxuICAgICAgICAgICAgJ3llYXInLFxuICAgICAgICAgICAgJ3knLFxuICAgICAgICAgICAgJ21vbnRocycsXG4gICAgICAgICAgICAnbW9udGgnLFxuICAgICAgICAgICAgJ00nLFxuICAgICAgICAgICAgJ2RheXMnLFxuICAgICAgICAgICAgJ2RheScsXG4gICAgICAgICAgICAnZCcsXG4gICAgICAgICAgICAnZGF0ZXMnLFxuICAgICAgICAgICAgJ2RhdGUnLFxuICAgICAgICAgICAgJ0QnLFxuICAgICAgICAgICAgJ2hvdXJzJyxcbiAgICAgICAgICAgICdob3VyJyxcbiAgICAgICAgICAgICdoJyxcbiAgICAgICAgICAgICdtaW51dGVzJyxcbiAgICAgICAgICAgICdtaW51dGUnLFxuICAgICAgICAgICAgJ20nLFxuICAgICAgICAgICAgJ3NlY29uZHMnLFxuICAgICAgICAgICAgJ3NlY29uZCcsXG4gICAgICAgICAgICAncycsXG4gICAgICAgICAgICAnbWlsbGlzZWNvbmRzJyxcbiAgICAgICAgICAgICdtaWxsaXNlY29uZCcsXG4gICAgICAgICAgICAnbXMnLFxuICAgICAgICBdLFxuICAgICAgICBpLFxuICAgICAgICBwcm9wZXJ0eTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgcHJvcGVydHlUZXN0ID0gcHJvcGVydHlUZXN0IHx8IGhhc093blByb3AoaW5wdXQsIHByb3BlcnR5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0VGVzdCAmJiBwcm9wZXJ0eVRlc3Q7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyT3JTdHJpbmdBcnJheShpbnB1dCkge1xuICAgIHZhciBhcnJheVRlc3QgPSBpc0FycmF5KGlucHV0KSxcbiAgICAgICAgZGF0YVR5cGVUZXN0ID0gZmFsc2U7XG4gICAgaWYgKGFycmF5VGVzdCkge1xuICAgICAgICBkYXRhVHlwZVRlc3QgPVxuICAgICAgICAgICAgaW5wdXQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpc051bWJlcihpdGVtKSAmJiBpc1N0cmluZyhpbnB1dCk7XG4gICAgICAgICAgICB9KS5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIHJldHVybiBhcnJheVRlc3QgJiYgZGF0YVR5cGVUZXN0O1xufVxuXG5mdW5jdGlvbiBpc0NhbGVuZGFyU3BlYyhpbnB1dCkge1xuICAgIHZhciBvYmplY3RUZXN0ID0gaXNPYmplY3QoaW5wdXQpICYmICFpc09iamVjdEVtcHR5KGlucHV0KSxcbiAgICAgICAgcHJvcGVydHlUZXN0ID0gZmFsc2UsXG4gICAgICAgIHByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAnc2FtZURheScsXG4gICAgICAgICAgICAnbmV4dERheScsXG4gICAgICAgICAgICAnbGFzdERheScsXG4gICAgICAgICAgICAnbmV4dFdlZWsnLFxuICAgICAgICAgICAgJ2xhc3RXZWVrJyxcbiAgICAgICAgICAgICdzYW1lRWxzZScsXG4gICAgICAgIF0sXG4gICAgICAgIGksXG4gICAgICAgIHByb3BlcnR5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBwcm9wZXJ0eVRlc3QgPSBwcm9wZXJ0eVRlc3QgfHwgaGFzT3duUHJvcChpbnB1dCwgcHJvcGVydHkpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3RUZXN0ICYmIHByb3BlcnR5VGVzdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xuICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgcmV0dXJuIGRpZmYgPCAtNlxuICAgICAgICA/ICdzYW1lRWxzZSdcbiAgICAgICAgOiBkaWZmIDwgLTFcbiAgICAgICAgPyAnbGFzdFdlZWsnXG4gICAgICAgIDogZGlmZiA8IDBcbiAgICAgICAgPyAnbGFzdERheSdcbiAgICAgICAgOiBkaWZmIDwgMVxuICAgICAgICA/ICdzYW1lRGF5J1xuICAgICAgICA6IGRpZmYgPCAyXG4gICAgICAgID8gJ25leHREYXknXG4gICAgICAgIDogZGlmZiA8IDdcbiAgICAgICAgPyAnbmV4dFdlZWsnXG4gICAgICAgIDogJ3NhbWVFbHNlJztcbn1cblxuZnVuY3Rpb24gY2FsZW5kYXIkMSh0aW1lLCBmb3JtYXRzKSB7XG4gICAgLy8gU3VwcG9ydCBmb3Igc2luZ2xlIHBhcmFtZXRlciwgZm9ybWF0cyBvbmx5IG92ZXJsb2FkIHRvIHRoZSBjYWxlbmRhciBmdW5jdGlvblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICB0aW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZm9ybWF0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vbWVudElucHV0KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIHRpbWUgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBmb3JtYXRzID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ2FsZW5kYXJTcGVjKGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIGZvcm1hdHMgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICB0aW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJyxcbiAgICAgICAgb3V0cHV0ID1cbiAgICAgICAgICAgIGZvcm1hdHMgJiZcbiAgICAgICAgICAgIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSlcbiAgICAgICAgICAgICAgICA/IGZvcm1hdHNbZm9ybWF0XS5jYWxsKHRoaXMsIG5vdylcbiAgICAgICAgICAgICAgICA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQoXG4gICAgICAgIG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZWZvcmUoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmV0d2Vlbihmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxuICAgICAgICBsb2NhbFRvID0gaXNNb21lbnQodG8pID8gdG8gOiBjcmVhdGVMb2NhbCh0byk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxGcm9tLmlzVmFsaWQoKSAmJiBsb2NhbFRvLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKGluY2x1c2l2aXR5WzBdID09PSAnKCdcbiAgICAgICAgICAgID8gdGhpcy5pc0FmdGVyKGxvY2FsRnJvbSwgdW5pdHMpXG4gICAgICAgICAgICA6ICF0aGlzLmlzQmVmb3JlKGxvY2FsRnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJ1xuICAgICAgICAgICAgPyB0aGlzLmlzQmVmb3JlKGxvY2FsVG8sIHVuaXRzKVxuICAgICAgICAgICAgOiAhdGhpcy5pc0FmdGVyKGxvY2FsVG8sIHVuaXRzKSlcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc1NhbWUoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcbiAgICAgICAgaW5wdXRNcztcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJlxuICAgICAgICAgICAgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JBZnRlcihpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsIHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCwgdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBkaWZmKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgIHZhciB0aGF0LCB6b25lRGVsdGEsIG91dHB1dDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMTI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDFlMztcbiAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwXG4gICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gNmU0O1xuICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MFxuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAzNmU1O1xuICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gODY0ZTU7XG4gICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG91dHB1dCA9IHRoaXMgLSB0aGF0O1xuICAgIH1cblxuICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gbW9udGhEaWZmKGEsIGIpIHtcbiAgICBpZiAoYS5kYXRlKCkgPCBiLmRhdGUoKSkge1xuICAgICAgICAvLyBlbmQtb2YtbW9udGggY2FsY3VsYXRpb25zIHdvcmsgY29ycmVjdCB3aGVuIHRoZSBzdGFydCBtb250aCBoYXMgbW9yZVxuICAgICAgICAvLyBkYXlzIHRoYW4gdGhlIGVuZCBtb250aC5cbiAgICAgICAgcmV0dXJuIC1tb250aERpZmYoYiwgYSk7XG4gICAgfVxuICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgdmFyIHdob2xlTW9udGhEaWZmID0gKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICBhbmNob3IyLFxuICAgICAgICBhZGp1c3Q7XG5cbiAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgIH1cblxuICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbn1cblxuaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG5mdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdXRjID0ga2VlcE9mZnNldCAhPT0gdHJ1ZSxcbiAgICAgICAgbSA9IHV0YyA/IHRoaXMuY2xvbmUoKS51dGMoKSA6IHRoaXM7XG4gICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICB1dGNcbiAgICAgICAgICAgICAgICA/ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nXG4gICAgICAgICAgICAgICAgOiAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWidcbiAgICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG4gICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG4gICAgICAgIGlmICh1dGMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkgKyB0aGlzLnV0Y09mZnNldCgpICogNjAgKiAxMDAwKVxuICAgICAgICAgICAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdE1vbWVudChcbiAgICAgICAgbSxcbiAgICAgICAgdXRjID8gJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nIDogJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJ1xuICAgICk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSAnbW9tZW50JyxcbiAgICAgICAgem9uZSA9ICcnLFxuICAgICAgICBwcmVmaXgsXG4gICAgICAgIHllYXIsXG4gICAgICAgIGRhdGV0aW1lLFxuICAgICAgICBzdWZmaXg7XG4gICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICBmdW5jID0gdGhpcy51dGNPZmZzZXQoKSA9PT0gMCA/ICdtb21lbnQudXRjJyA6ICdtb21lbnQucGFyc2Vab25lJztcbiAgICAgICAgem9uZSA9ICdaJztcbiAgICB9XG4gICAgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB5ZWFyID0gMCA8PSB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5ID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoaW5wdXRTdHJpbmcpIHtcbiAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpXG4gICAgICAgICAgICA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGNcbiAgICAgICAgICAgIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKFxuICAgICAgICB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fCBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7IHRvOiB0aGlzLCBmcm9tOiB0aW1lIH0pXG4gICAgICAgICAgICAubG9jYWxlKHRoaXMubG9jYWxlKCkpXG4gICAgICAgICAgICAuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuZnVuY3Rpb24gdG8odGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmIChcbiAgICAgICAgdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHwgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKVxuICAgICkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oeyBmcm9tOiB0aGlzLCB0bzogdGltZSB9KVxuICAgICAgICAgICAgLmxvY2FsZSh0aGlzLmxvY2FsZSgpKVxuICAgICAgICAgICAgLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvTm93KHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuLy8gaW5zdGFuY2UuICBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSBsb2NhbGUgY29uZmlndXJhdGlvblxuLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuZnVuY3Rpb24gbG9jYWxlKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG59XG5cbnZhciBNU19QRVJfU0VDT05EID0gMTAwMCxcbiAgICBNU19QRVJfTUlOVVRFID0gNjAgKiBNU19QRVJfU0VDT05ELFxuICAgIE1TX1BFUl9IT1VSID0gNjAgKiBNU19QRVJfTUlOVVRFLFxuICAgIE1TX1BFUl80MDBfWUVBUlMgPSAoMzY1ICogNDAwICsgOTcpICogMjQgKiBNU19QRVJfSE9VUjtcblxuLy8gYWN0dWFsIG1vZHVsbyAtIGhhbmRsZXMgbmVnYXRpdmUgbnVtYmVycyAoZm9yIGRhdGVzIGJlZm9yZSAxOTcwKTpcbmZ1bmN0aW9uIG1vZCQxKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgcmV0dXJuICgoZGl2aWRlbmQgJSBkaXZpc29yKSArIGRpdmlzb3IpICUgZGl2aXNvcjtcbn1cblxuZnVuY3Rpb24gbG9jYWxTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgLy8gdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHV0Y1N0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAvLyBEYXRlLlVUQyByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgcmV0dXJuIERhdGUuVVRDKHkgKyA0MDAsIG0sIGQpIC0gTVNfUEVSXzQwMF9ZRUFSUztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSwgbSwgZCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdGFydE9mKHVuaXRzKSB7XG4gICAgdmFyIHRpbWUsIHN0YXJ0T2ZEYXRlO1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgMCwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgdGhpcy5tb250aCgpIC0gKHRoaXMubW9udGgoKSAlIDMpLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtIHRoaXMud2Vla2RheSgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtICh0aGlzLmlzb1dlZWtkYXkoKSAtIDEpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEoXG4gICAgICAgICAgICAgICAgdGltZSArICh0aGlzLl9pc1VUQyA/IDAgOiB0aGlzLnV0Y09mZnNldCgpICogTVNfUEVSX01JTlVURSksXG4gICAgICAgICAgICAgICAgTVNfUEVSX0hPVVJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEodGltZSwgTVNfUEVSX01JTlVURSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLl9kLnNldFRpbWUodGltZSk7XG4gICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBlbmRPZih1bml0cykge1xuICAgIHZhciB0aW1lLCBzdGFydE9mRGF0ZTtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCkgKyAxLCAwLCAxKSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICB0aW1lID1cbiAgICAgICAgICAgICAgICBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSAtICh0aGlzLm1vbnRoKCkgJSAzKSArIDMsXG4gICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSArIDEsIDEpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgIHRpbWUgPVxuICAgICAgICAgICAgICAgIHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtIHRoaXMud2Vla2RheSgpICsgN1xuICAgICAgICAgICAgICAgICkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICAgICAgdGltZSA9XG4gICAgICAgICAgICAgICAgc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSkgKyA3XG4gICAgICAgICAgICAgICAgKSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICB0aW1lICs9XG4gICAgICAgICAgICAgICAgTVNfUEVSX0hPVVIgLVxuICAgICAgICAgICAgICAgIG1vZCQxKFxuICAgICAgICAgICAgICAgICAgICB0aW1lICsgKHRoaXMuX2lzVVRDID8gMCA6IHRoaXMudXRjT2Zmc2V0KCkgKiBNU19QRVJfTUlOVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgTVNfUEVSX0hPVVJcbiAgICAgICAgICAgICAgICApIC1cbiAgICAgICAgICAgICAgICAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICB0aW1lICs9IE1TX1BFUl9NSU5VVEUgLSBtb2QkMSh0aW1lLCBNU19QRVJfTUlOVVRFKSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX1NFQ09ORCAtIG1vZCQxKHRpbWUsIE1TX1BFUl9TRUNPTkQpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwO1xufVxuXG5mdW5jdGlvbiB1bml4KCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHRvRGF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW1xuICAgICAgICBtLnllYXIoKSxcbiAgICAgICAgbS5tb250aCgpLFxuICAgICAgICBtLmRhdGUoKSxcbiAgICAgICAgbS5ob3VyKCksXG4gICAgICAgIG0ubWludXRlKCksXG4gICAgICAgIG0uc2Vjb25kKCksXG4gICAgICAgIG0ubWlsbGlzZWNvbmQoKSxcbiAgICBdO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICB2YXIgbSA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZCQyKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MoKSB7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZEF0KCkge1xuICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG59XG5cbmZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdCxcbiAgICB9O1xufVxuXG5hZGRGb3JtYXRUb2tlbignTicsIDAsIDAsICdlcmFBYmJyJyk7XG5hZGRGb3JtYXRUb2tlbignTk4nLCAwLCAwLCAnZXJhQWJicicpO1xuYWRkRm9ybWF0VG9rZW4oJ05OTicsIDAsIDAsICdlcmFBYmJyJyk7XG5hZGRGb3JtYXRUb2tlbignTk5OTicsIDAsIDAsICdlcmFOYW1lJyk7XG5hZGRGb3JtYXRUb2tlbignTk5OTk4nLCAwLCAwLCAnZXJhTmFycm93Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCd5JywgWyd5JywgMV0sICd5bycsICdlcmFZZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigneScsIFsneXknLCAyXSwgMCwgJ2VyYVllYXInKTtcbmFkZEZvcm1hdFRva2VuKCd5JywgWyd5eXknLCAzXSwgMCwgJ2VyYVllYXInKTtcbmFkZEZvcm1hdFRva2VuKCd5JywgWyd5eXl5JywgNF0sIDAsICdlcmFZZWFyJyk7XG5cbmFkZFJlZ2V4VG9rZW4oJ04nLCBtYXRjaEVyYUFiYnIpO1xuYWRkUmVnZXhUb2tlbignTk4nLCBtYXRjaEVyYUFiYnIpO1xuYWRkUmVnZXhUb2tlbignTk5OJywgbWF0Y2hFcmFBYmJyKTtcbmFkZFJlZ2V4VG9rZW4oJ05OTk4nLCBtYXRjaEVyYU5hbWUpO1xuYWRkUmVnZXhUb2tlbignTk5OTk4nLCBtYXRjaEVyYU5hcnJvdyk7XG5cbmFkZFBhcnNlVG9rZW4oWydOJywgJ05OJywgJ05OTicsICdOTk5OJywgJ05OTk5OJ10sIGZ1bmN0aW9uIChcbiAgICBpbnB1dCxcbiAgICBhcnJheSxcbiAgICBjb25maWcsXG4gICAgdG9rZW5cbikge1xuICAgIHZhciBlcmEgPSBjb25maWcuX2xvY2FsZS5lcmFzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgaWYgKGVyYSkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lcmEgPSBlcmE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEVyYSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRSZWdleFRva2VuKCd5JywgbWF0Y2hVbnNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCd5eScsIG1hdGNoVW5zaWduZWQpO1xuYWRkUmVnZXhUb2tlbigneXl5JywgbWF0Y2hVbnNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCd5eXl5JywgbWF0Y2hVbnNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCd5bycsIG1hdGNoRXJhWWVhck9yZGluYWwpO1xuXG5hZGRQYXJzZVRva2VuKFsneScsICd5eScsICd5eXknLCAneXl5eSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oWyd5byddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1hdGNoO1xuICAgIGlmIChjb25maWcuX2xvY2FsZS5fZXJhWWVhck9yZGluYWxSZWdleCkge1xuICAgICAgICBtYXRjaCA9IGlucHV0Lm1hdGNoKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9sb2NhbGUuZXJhWWVhck9yZGluYWxQYXJzZSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGNvbmZpZy5fbG9jYWxlLmVyYVllYXJPcmRpbmFsUGFyc2UoaW5wdXQsIG1hdGNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIGxvY2FsZUVyYXMobSwgZm9ybWF0KSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIGRhdGUsXG4gICAgICAgIGVyYXMgPSB0aGlzLl9lcmFzIHx8IGdldExvY2FsZSgnZW4nKS5fZXJhcztcbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgZXJhc1tpXS5zaW5jZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGhvb2tzKGVyYXNbaV0uc2luY2UpLnN0YXJ0T2YoJ2RheScpO1xuICAgICAgICAgICAgICAgIGVyYXNbaV0uc2luY2UgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgICAgICAgZXJhc1tpXS51bnRpbCA9ICtJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICAgICAgICAgIGRhdGUgPSBob29rcyhlcmFzW2ldLnVudGlsKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgZXJhc1tpXS51bnRpbCA9IGRhdGUudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcmFzO1xufVxuXG5mdW5jdGlvbiBsb2NhbGVFcmFzUGFyc2UoZXJhTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgbCxcbiAgICAgICAgZXJhcyA9IHRoaXMuZXJhcygpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBhYmJyLFxuICAgICAgICBuYXJyb3c7XG4gICAgZXJhTmFtZSA9IGVyYU5hbWUudG9VcHBlckNhc2UoKTtcblxuICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBuYW1lID0gZXJhc1tpXS5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGFiYnIgPSBlcmFzW2ldLmFiYnIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbmFycm93ID0gZXJhc1tpXS5uYXJyb3cudG9VcHBlckNhc2UoKTtcblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ05OJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOTk4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYWJiciA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdOTk5OJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IGVyYU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnTk5OTk4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmFycm93ID09PSBlcmFOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChbbmFtZSwgYWJiciwgbmFycm93XS5pbmRleE9mKGVyYU5hbWUpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVFcmFzQ29udmVydFllYXIoZXJhLCB5ZWFyKSB7XG4gICAgdmFyIGRpciA9IGVyYS5zaW5jZSA8PSBlcmEudW50aWwgPyArMSA6IC0xO1xuICAgIGlmICh5ZWFyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhvb2tzKGVyYS5zaW5jZSkueWVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBob29rcyhlcmEuc2luY2UpLnllYXIoKSArICh5ZWFyIC0gZXJhLm9mZnNldCkgKiBkaXI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFcmFOYW1lKCkge1xuICAgIHZhciBpLFxuICAgICAgICBsLFxuICAgICAgICB2YWwsXG4gICAgICAgIGVyYXMgPSB0aGlzLmxvY2FsZURhdGEoKS5lcmFzKCk7XG4gICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIC8vIHRydW5jYXRlIHRpbWVcbiAgICAgICAgdmFsID0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICBpZiAoZXJhc1tpXS5zaW5jZSA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRFcmFOYXJyb3coKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIHZhbCxcbiAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICB2YWwgPSB0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgIGlmIChlcmFzW2ldLnNpbmNlIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS51bnRpbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFycm93O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcmFzW2ldLnVudGlsIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS5zaW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFycm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRFcmFBYmJyKCkge1xuICAgIHZhciBpLFxuICAgICAgICBsLFxuICAgICAgICB2YWwsXG4gICAgICAgIGVyYXMgPSB0aGlzLmxvY2FsZURhdGEoKS5lcmFzKCk7XG4gICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIC8vIHRydW5jYXRlIHRpbWVcbiAgICAgICAgdmFsID0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICBpZiAoZXJhc1tpXS5zaW5jZSA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLmFiYnI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5hYmJyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRFcmFZZWFyKCkge1xuICAgIHZhciBpLFxuICAgICAgICBsLFxuICAgICAgICBkaXIsXG4gICAgICAgIHZhbCxcbiAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgZGlyID0gZXJhc1tpXS5zaW5jZSA8PSBlcmFzW2ldLnVudGlsID8gKzEgOiAtMTtcblxuICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgIHZhbCA9IHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB8fFxuICAgICAgICAgICAgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHRoaXMueWVhcigpIC0gaG9va3MoZXJhc1tpXS5zaW5jZSkueWVhcigpKSAqIGRpciArXG4gICAgICAgICAgICAgICAgZXJhc1tpXS5vZmZzZXRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy55ZWFyKCk7XG59XG5cbmZ1bmN0aW9uIGVyYXNOYW1lUmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19lcmFzTmFtZVJlZ2V4JykpIHtcbiAgICAgICAgY29tcHV0ZUVyYXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gaXNTdHJpY3QgPyB0aGlzLl9lcmFzTmFtZVJlZ2V4IDogdGhpcy5fZXJhc1JlZ2V4O1xufVxuXG5mdW5jdGlvbiBlcmFzQWJiclJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfZXJhc0FiYnJSZWdleCcpKSB7XG4gICAgICAgIGNvbXB1dGVFcmFzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzU3RyaWN0ID8gdGhpcy5fZXJhc0FiYnJSZWdleCA6IHRoaXMuX2VyYXNSZWdleDtcbn1cblxuZnVuY3Rpb24gZXJhc05hcnJvd1JlZ2V4KGlzU3RyaWN0KSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfZXJhc05hcnJvd1JlZ2V4JykpIHtcbiAgICAgICAgY29tcHV0ZUVyYXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gaXNTdHJpY3QgPyB0aGlzLl9lcmFzTmFycm93UmVnZXggOiB0aGlzLl9lcmFzUmVnZXg7XG59XG5cbmZ1bmN0aW9uIG1hdGNoRXJhQWJicihpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5lcmFzQWJiclJlZ2V4KGlzU3RyaWN0KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hFcmFOYW1lKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLmVyYXNOYW1lUmVnZXgoaXNTdHJpY3QpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEVyYU5hcnJvdyhpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5lcmFzTmFycm93UmVnZXgoaXNTdHJpY3QpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEVyYVllYXJPcmRpbmFsKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4IHx8IG1hdGNoVW5zaWduZWQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVFcmFzUGFyc2UoKSB7XG4gICAgdmFyIGFiYnJQaWVjZXMgPSBbXSxcbiAgICAgICAgbmFtZVBpZWNlcyA9IFtdLFxuICAgICAgICBuYXJyb3dQaWVjZXMgPSBbXSxcbiAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSxcbiAgICAgICAgbCxcbiAgICAgICAgZXJhcyA9IHRoaXMuZXJhcygpO1xuXG4gICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIG5hbWVQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hbWUpKTtcbiAgICAgICAgYWJiclBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0uYWJicikpO1xuICAgICAgICBuYXJyb3dQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hcnJvdykpO1xuXG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5uYW1lKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5hYmJyKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5uYXJyb3cpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lcmFzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fZXJhc05hbWVSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG5hbWVQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX2VyYXNBYmJyUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBhYmJyUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9lcmFzTmFycm93UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnXignICsgbmFycm93UGllY2VzLmpvaW4oJ3wnKSArICcpJyxcbiAgICAgICAgJ2knXG4gICAgKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbih0b2tlbiwgZ2V0dGVyKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xufVxuXG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdHJywgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignZycsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignZ2cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdHR0dHJywgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignZ2dnZycsIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChcbiAgICBpbnB1dCxcbiAgICB3ZWVrLFxuICAgIGNvbmZpZyxcbiAgICB0b2tlblxuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhcihpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgdGhpcy53ZWVrKCksXG4gICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGlucHV0LFxuICAgICAgICB0aGlzLmlzb1dlZWsoKSxcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KCksXG4gICAgICAgIDEsXG4gICAgICAgIDRcbiAgICApO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhcigpIHtcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luSVNPV2Vla1llYXIoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMuaXNvV2Vla1llYXIoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtzSW5ZZWFyKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRXZWVrc0luV2Vla1llYXIoKSB7XG4gICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMud2Vla1llYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbFxuICAgICAgICA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKVxuICAgICAgICA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgKHRoaXMubW9udGgoKSAlIDMpKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgcmV0dXJuIGlzU3RyaWN0XG4gICAgICAgID8gbG9jYWxlLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlIHx8IGxvY2FsZS5fb3JkaW5hbFBhcnNlXG4gICAgICAgIDogbG9jYWxlLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudDtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbmFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEREQnLCBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhcihpbnB1dCkge1xuICAgIHZhciBkYXlPZlllYXIgPVxuICAgICAgICBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTVcbiAgICAgICAgKSArIDE7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZChpbnB1dCAtIGRheU9mWWVhciwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3MnLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdTJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1MnLCBtYXRjaDF0bzMsIG1hdGNoMSk7XG5hZGRSZWdleFRva2VuKCdTUycsIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxudmFyIHRva2VuLCBnZXRTZXRNaWxsaXNlY29uZDtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG5cbmdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd6JywgMCwgMCwgJ3pvbmVBYmJyJyk7XG5hZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRab25lQWJicigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG59XG5cbnZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbnByb3RvLmFkZCA9IGFkZDtcbnByb3RvLmNhbGVuZGFyID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lID0gY2xvbmU7XG5wcm90by5kaWZmID0gZGlmZjtcbnByb3RvLmVuZE9mID0gZW5kT2Y7XG5wcm90by5mb3JtYXQgPSBmb3JtYXQ7XG5wcm90by5mcm9tID0gZnJvbTtcbnByb3RvLmZyb21Ob3cgPSBmcm9tTm93O1xucHJvdG8udG8gPSB0bztcbnByb3RvLnRvTm93ID0gdG9Ob3c7XG5wcm90by5nZXQgPSBzdHJpbmdHZXQ7XG5wcm90by5pbnZhbGlkQXQgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyID0gaXNBZnRlcjtcbnByb3RvLmlzQmVmb3JlID0gaXNCZWZvcmU7XG5wcm90by5pc0JldHdlZW4gPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgPSBpc1NhbWU7XG5wcm90by5pc1NhbWVPckFmdGVyID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkID0gaXNWYWxpZCQyO1xucHJvdG8ubGFuZyA9IGxhbmc7XG5wcm90by5sb2NhbGUgPSBsb2NhbGU7XG5wcm90by5sb2NhbGVEYXRhID0gbG9jYWxlRGF0YTtcbnByb3RvLm1heCA9IHByb3RvdHlwZU1heDtcbnByb3RvLm1pbiA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyA9IHBhcnNpbmdGbGFncztcbnByb3RvLnNldCA9IHN0cmluZ1NldDtcbnByb3RvLnN0YXJ0T2YgPSBzdGFydE9mO1xucHJvdG8uc3VidHJhY3QgPSBzdWJ0cmFjdDtcbnByb3RvLnRvQXJyYXkgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSA9IHRvRGF0ZTtcbnByb3RvLnRvSVNPU3RyaW5nID0gdG9JU09TdHJpbmc7XG5wcm90by5pbnNwZWN0ID0gaW5zcGVjdDtcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuZm9yICE9IG51bGwpIHtcbiAgICBwcm90b1tTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdNb21lbnQ8JyArIHRoaXMuZm9ybWF0KCkgKyAnPic7XG4gICAgfTtcbn1cbnByb3RvLnRvSlNPTiA9IHRvSlNPTjtcbnByb3RvLnRvU3RyaW5nID0gdG9TdHJpbmc7XG5wcm90by51bml4ID0gdW5peDtcbnByb3RvLnZhbHVlT2YgPSB2YWx1ZU9mO1xucHJvdG8uY3JlYXRpb25EYXRhID0gY3JlYXRpb25EYXRhO1xucHJvdG8uZXJhTmFtZSA9IGdldEVyYU5hbWU7XG5wcm90by5lcmFOYXJyb3cgPSBnZXRFcmFOYXJyb3c7XG5wcm90by5lcmFBYmJyID0gZ2V0RXJhQWJicjtcbnByb3RvLmVyYVllYXIgPSBnZXRFcmFZZWFyO1xucHJvdG8ueWVhciA9IGdldFNldFllYXI7XG5wcm90by5pc0xlYXBZZWFyID0gZ2V0SXNMZWFwWWVhcjtcbnByb3RvLndlZWtZZWFyID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xucHJvdG8ucXVhcnRlciA9IHByb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjtcbnByb3RvLm1vbnRoID0gZ2V0U2V0TW9udGg7XG5wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xucHJvdG8ud2VlayA9IHByb3RvLndlZWtzID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgPSBwcm90by5pc29XZWVrcyA9IGdldFNldElTT1dlZWs7XG5wcm90by53ZWVrc0luWWVhciA9IGdldFdlZWtzSW5ZZWFyO1xucHJvdG8ud2Vla3NJbldlZWtZZWFyID0gZ2V0V2Vla3NJbldlZWtZZWFyO1xucHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjtcbnByb3RvLmlzb1dlZWtzSW5JU09XZWVrWWVhciA9IGdldElTT1dlZWtzSW5JU09XZWVrWWVhcjtcbnByb3RvLmRhdGUgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ID0gcHJvdG8uZGF5cyA9IGdldFNldERheU9mV2VlaztcbnByb3RvLndlZWtkYXkgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xucHJvdG8uZGF5T2ZZZWFyID0gZ2V0U2V0RGF5T2ZZZWFyO1xucHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcbnByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcbnByb3RvLnV0Y09mZnNldCA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyA9IHNldE9mZnNldFRvVVRDO1xucHJvdG8ubG9jYWwgPSBzZXRPZmZzZXRUb0xvY2FsO1xucHJvdG8ucGFyc2Vab25lID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5wcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xucHJvdG8uaXNEU1QgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbnByb3RvLmlzTG9jYWwgPSBpc0xvY2FsO1xucHJvdG8uaXNVdGNPZmZzZXQgPSBpc1V0Y09mZnNldDtcbnByb3RvLmlzVXRjID0gaXNVdGM7XG5wcm90by5pc1VUQyA9IGlzVXRjO1xucHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcbnByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5wcm90by5kYXRlcyA9IGRlcHJlY2F0ZShcbiAgICAnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLFxuICAgIGdldFNldERheU9mTW9udGhcbik7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoXG4gICAgJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsXG4gICAgZ2V0U2V0TW9udGhcbik7XG5wcm90by55ZWFycyA9IGRlcHJlY2F0ZShcbiAgICAneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsXG4gICAgZ2V0U2V0WWVhclxuKTtcbnByb3RvLnpvbmUgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJyxcbiAgICBnZXRTZXRab25lXG4pO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKFxuICAgICdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJyxcbiAgICBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWRcbik7XG5cbmZ1bmN0aW9uIGNyZWF0ZVVuaXgoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lKCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xufVxuXG5mdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbn1cblxudmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xuXG5wcm90byQxLmNhbGVuZGFyID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ID0gbG9uZ0RhdGVGb3JtYXQ7XG5wcm90byQxLmludmFsaWREYXRlID0gaW52YWxpZERhdGU7XG5wcm90byQxLm9yZGluYWwgPSBvcmRpbmFsO1xucHJvdG8kMS5wcmVwYXJzZSA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucG9zdGZvcm1hdCA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucmVsYXRpdmVUaW1lID0gcmVsYXRpdmVUaW1lO1xucHJvdG8kMS5wYXN0RnV0dXJlID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ID0gc2V0O1xucHJvdG8kMS5lcmFzID0gbG9jYWxlRXJhcztcbnByb3RvJDEuZXJhc1BhcnNlID0gbG9jYWxlRXJhc1BhcnNlO1xucHJvdG8kMS5lcmFzQ29udmVydFllYXIgPSBsb2NhbGVFcmFzQ29udmVydFllYXI7XG5wcm90byQxLmVyYXNBYmJyUmVnZXggPSBlcmFzQWJiclJlZ2V4O1xucHJvdG8kMS5lcmFzTmFtZVJlZ2V4ID0gZXJhc05hbWVSZWdleDtcbnByb3RvJDEuZXJhc05hcnJvd1JlZ2V4ID0gZXJhc05hcnJvd1JlZ2V4O1xuXG5wcm90byQxLm1vbnRocyA9IGxvY2FsZU1vbnRocztcbnByb3RvJDEubW9udGhzU2hvcnQgPSBsb2NhbGVNb250aHNTaG9ydDtcbnByb3RvJDEubW9udGhzUGFyc2UgPSBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCA9IG1vbnRoc1Nob3J0UmVnZXg7XG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG5wcm90byQxLndlZWtkYXlzID0gbG9jYWxlV2Vla2RheXM7XG5wcm90byQxLndlZWtkYXlzTWluID0gbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgPSBsb2NhbGVXZWVrZGF5c1Nob3J0O1xucHJvdG8kMS53ZWVrZGF5c1BhcnNlID0gbG9jYWxlV2Vla2RheXNQYXJzZTtcblxucHJvdG8kMS53ZWVrZGF5c1JlZ2V4ID0gd2Vla2RheXNSZWdleDtcbnByb3RvJDEud2Vla2RheXNTaG9ydFJlZ2V4ID0gd2Vla2RheXNTaG9ydFJlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ID0gd2Vla2RheXNNaW5SZWdleDtcblxucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcbiAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgaSwgZmllbGQsICdtb250aCcpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vLyAoKVxuLy8gKDUpXG4vLyAoZm10LCA1KVxuLy8gKGZtdClcbi8vICh0cnVlKVxuLy8gKHRydWUsIDUpXG4vLyAodHJ1ZSwgZm10LCA1KVxuLy8gKHRydWUsIGZtdClcbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDAsXG4gICAgICAgIGksXG4gICAgICAgIG91dCA9IFtdO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQoZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0KGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJyk7XG59XG5cbmdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgZXJhczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBzaW5jZTogJzAwMDEtMDEtMDEnLFxuICAgICAgICAgICAgdW50aWw6ICtJbmZpbml0eSxcbiAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgIG5hbWU6ICdBbm5vIERvbWluaScsXG4gICAgICAgICAgICBuYXJyb3c6ICdBRCcsXG4gICAgICAgICAgICBhYmJyOiAnQUQnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBzaW5jZTogJzAwMDAtMTItMzEnLFxuICAgICAgICAgICAgdW50aWw6IC1JbmZpbml0eSxcbiAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgIG5hbWU6ICdCZWZvcmUgQ2hyaXN0JyxcbiAgICAgICAgICAgIG5hcnJvdzogJ0JDJyxcbiAgICAgICAgICAgIGFiYnI6ICdCQycsXG4gICAgICAgIH0sXG4gICAgXSxcbiAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcbiAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPVxuICAgICAgICAgICAgICAgIHRvSW50KChudW1iZXIgJSAxMDApIC8gMTApID09PSAxXG4gICAgICAgICAgICAgICAgICAgID8gJ3RoJ1xuICAgICAgICAgICAgICAgICAgICA6IGIgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgPyAnc3QnXG4gICAgICAgICAgICAgICAgICAgIDogYiA9PT0gMlxuICAgICAgICAgICAgICAgICAgICA/ICduZCdcbiAgICAgICAgICAgICAgICAgICAgOiBiID09PSAzXG4gICAgICAgICAgICAgICAgICAgID8gJ3JkJ1xuICAgICAgICAgICAgICAgICAgICA6ICd0aCc7XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgfSxcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbmhvb2tzLmxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJyxcbiAgICBnZXRTZXRHbG9iYWxMb2NhbGVcbik7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsXG4gICAgZ2V0TG9jYWxlXG4pO1xuXG52YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiBhYnMoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuICAgIHRoaXMuX2RheXMgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG4gICAgZGF0YS5zZWNvbmRzID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgIGRhdGEubWludXRlcyA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICBkYXRhLmhvdXJzID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgIGRhdGEueWVhcnMgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblxuICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICBkdXJhdGlvbi5fZGF5cyArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMShpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuZnVuY3Rpb24gc3VidHJhY3QkMShpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbn1cblxuZnVuY3Rpb24gYWJzQ2VpbChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSgpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzLFxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyxcbiAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzLFxuICAgICAgICBkYXRhID0gdGhpcy5fZGF0YSxcbiAgICAgICAgc2Vjb25kcyxcbiAgICAgICAgbWludXRlcyxcbiAgICAgICAgaG91cnMsXG4gICAgICAgIHllYXJzLFxuICAgICAgICBtb250aHNGcm9tRGF5cztcblxuICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzID49IDAgJiYgZGF5cyA+PSAwICYmIG1vbnRocyA+PSAwKSB8fFxuICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMClcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgIGRheXMgPSAwO1xuICAgICAgICBtb250aHMgPSAwO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgc2Vjb25kcyA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuICAgIGRhdGEuc2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcblxuICAgIG1pbnV0ZXMgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGRhdGEubWludXRlcyA9IG1pbnV0ZXMgJSA2MDtcblxuICAgIGhvdXJzID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBkYXRhLmhvdXJzID0gaG91cnMgJSAyNDtcblxuICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XG5cbiAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG4gICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcbiAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cbiAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG4gICAgZGF0YS5kYXlzID0gZGF5cztcbiAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICBkYXRhLnllYXJzID0geWVhcnM7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGF5c1RvTW9udGhzKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIChkYXlzICogNDgwMCkgLyAxNDYwOTc7XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1RvRGF5cyhtb250aHMpIHtcbiAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcbiAgICByZXR1cm4gKG1vbnRocyAqIDE0NjA5NykgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyh1bml0cykge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgdmFyIGRheXMsXG4gICAgICAgIG1vbnRocyxcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb250aHM7XG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhzIC8gMztcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb250aHMgLyAxMjtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgLyA3ICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiAyNCArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICogMTQ0MCArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbmZ1bmN0aW9uIHZhbHVlT2YkMSgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzKGFsaWFzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgIH07XG59XG5cbnZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKSxcbiAgICBhc1NlY29uZHMgPSBtYWtlQXMoJ3MnKSxcbiAgICBhc01pbnV0ZXMgPSBtYWtlQXMoJ20nKSxcbiAgICBhc0hvdXJzID0gbWFrZUFzKCdoJyksXG4gICAgYXNEYXlzID0gbWFrZUFzKCdkJyksXG4gICAgYXNXZWVrcyA9IG1ha2VBcygndycpLFxuICAgIGFzTW9udGhzID0gbWFrZUFzKCdNJyksXG4gICAgYXNRdWFydGVycyA9IG1ha2VBcygnUScpLFxuICAgIGFzWWVhcnMgPSBtYWtlQXMoJ3knKTtcblxuZnVuY3Rpb24gY2xvbmUkMSgpIHtcbiAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24odGhpcyk7XG59XG5cbmZ1bmN0aW9uIGdldCQyKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpc1t1bml0cyArICdzJ10oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5fZGF0YVtuYW1lXSA6IE5hTjtcbiAgICB9O1xufVxuXG52YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyksXG4gICAgc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKSxcbiAgICBtaW51dGVzID0gbWFrZUdldHRlcignbWludXRlcycpLFxuICAgIGhvdXJzID0gbWFrZUdldHRlcignaG91cnMnKSxcbiAgICBkYXlzID0gbWFrZUdldHRlcignZGF5cycpLFxuICAgIG1vbnRocyA9IG1ha2VHZXR0ZXIoJ21vbnRocycpLFxuICAgIHllYXJzID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuZnVuY3Rpb24gd2Vla3MoKSB7XG4gICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG59XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQsXG4gICAgdGhyZXNob2xkcyA9IHtcbiAgICAgICAgc3M6IDQ0LCAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICAgICAgczogNDUsIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG06IDQ1LCAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICAgICAgaDogMjIsIC8vIGhvdXJzIHRvIGRheVxuICAgICAgICBkOiAyNiwgLy8gZGF5cyB0byBtb250aC93ZWVrXG4gICAgICAgIHc6IG51bGwsIC8vIHdlZWtzIHRvIG1vbnRoXG4gICAgICAgIE06IDExLCAvLyBtb250aHMgdG8geWVhclxuICAgIH07XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5mdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUkMShwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgdGhyZXNob2xkcywgbG9jYWxlKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpLFxuICAgICAgICBzZWNvbmRzID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSksXG4gICAgICAgIG1pbnV0ZXMgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKSxcbiAgICAgICAgaG91cnMgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKSxcbiAgICAgICAgZGF5cyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpLFxuICAgICAgICBtb250aHMgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKSxcbiAgICAgICAgd2Vla3MgPSByb3VuZChkdXJhdGlvbi5hcygndycpKSxcbiAgICAgICAgeWVhcnMgPSByb3VuZChkdXJhdGlvbi5hcygneScpKSxcbiAgICAgICAgYSA9XG4gICAgICAgICAgICAoc2Vjb25kcyA8PSB0aHJlc2hvbGRzLnNzICYmIFsncycsIHNlY29uZHNdKSB8fFxuICAgICAgICAgICAgKHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzcycsIHNlY29uZHNdKSB8fFxuICAgICAgICAgICAgKG1pbnV0ZXMgPD0gMSAmJiBbJ20nXSkgfHxcbiAgICAgICAgICAgIChtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSkgfHxcbiAgICAgICAgICAgIChob3VycyA8PSAxICYmIFsnaCddKSB8fFxuICAgICAgICAgICAgKGhvdXJzIDwgdGhyZXNob2xkcy5oICYmIFsnaGgnLCBob3Vyc10pIHx8XG4gICAgICAgICAgICAoZGF5cyA8PSAxICYmIFsnZCddKSB8fFxuICAgICAgICAgICAgKGRheXMgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdKTtcblxuICAgIGlmICh0aHJlc2hvbGRzLncgIT0gbnVsbCkge1xuICAgICAgICBhID1cbiAgICAgICAgICAgIGEgfHxcbiAgICAgICAgICAgICh3ZWVrcyA8PSAxICYmIFsndyddKSB8fFxuICAgICAgICAgICAgKHdlZWtzIDwgdGhyZXNob2xkcy53ICYmIFsnd3cnLCB3ZWVrc10pO1xuICAgIH1cbiAgICBhID0gYSB8fFxuICAgICAgICAobW9udGhzIDw9IDEgJiYgWydNJ10pIHx8XG4gICAgICAgIChtb250aHMgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10pIHx8XG4gICAgICAgICh5ZWFycyA8PSAxICYmIFsneSddKSB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG4gICAgYVs0XSA9IGxvY2FsZTtcbiAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nKHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByb3VuZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByb3VuZGluZ0Z1bmN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQodGhyZXNob2xkLCBsaW1pdCkge1xuICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG4gICAgfVxuICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgIGlmICh0aHJlc2hvbGQgPT09ICdzJykge1xuICAgICAgICB0aHJlc2hvbGRzLnNzID0gbGltaXQgLSAxO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaHVtYW5pemUoYXJnV2l0aFN1ZmZpeCwgYXJnVGhyZXNob2xkcykge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgdmFyIHdpdGhTdWZmaXggPSBmYWxzZSxcbiAgICAgICAgdGggPSB0aHJlc2hvbGRzLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIG91dHB1dDtcblxuICAgIGlmICh0eXBlb2YgYXJnV2l0aFN1ZmZpeCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXJnVGhyZXNob2xkcyA9IGFyZ1dpdGhTdWZmaXg7XG4gICAgICAgIGFyZ1dpdGhTdWZmaXggPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdXaXRoU3VmZml4ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgd2l0aFN1ZmZpeCA9IGFyZ1dpdGhTdWZmaXg7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnVGhyZXNob2xkcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGggPSBPYmplY3QuYXNzaWduKHt9LCB0aHJlc2hvbGRzLCBhcmdUaHJlc2hvbGRzKTtcbiAgICAgICAgaWYgKGFyZ1RocmVzaG9sZHMucyAhPSBudWxsICYmIGFyZ1RocmVzaG9sZHMuc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGguc3MgPSBhcmdUaHJlc2hvbGRzLnMgLSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIHRoLCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiBzaWduKHgpIHtcbiAgICByZXR1cm4gKHggPiAwKSAtICh4IDwgMCkgfHwgK3g7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwLFxuICAgICAgICBkYXlzID0gYWJzJDEodGhpcy5fZGF5cyksXG4gICAgICAgIG1vbnRocyA9IGFicyQxKHRoaXMuX21vbnRocyksXG4gICAgICAgIG1pbnV0ZXMsXG4gICAgICAgIGhvdXJzLFxuICAgICAgICB5ZWFycyxcbiAgICAgICAgcyxcbiAgICAgICAgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpLFxuICAgICAgICB0b3RhbFNpZ24sXG4gICAgICAgIHltU2lnbixcbiAgICAgICAgZGF5c1NpZ24sXG4gICAgICAgIGhtc1NpZ247XG5cbiAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgfVxuXG4gICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgbWludXRlcyA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHMgPSBzZWNvbmRzID8gc2Vjb25kcy50b0ZpeGVkKDMpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJykgOiAnJztcblxuICAgIHRvdGFsU2lnbiA9IHRvdGFsIDwgMCA/ICctJyA6ICcnO1xuICAgIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICBkYXlzU2lnbiA9IHNpZ24odGhpcy5fZGF5cykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgaG1zU2lnbiA9IHNpZ24odGhpcy5fbWlsbGlzZWNvbmRzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcblxuICAgIHJldHVybiAoXG4gICAgICAgIHRvdGFsU2lnbiArXG4gICAgICAgICdQJyArXG4gICAgICAgICh5ZWFycyA/IHltU2lnbiArIHllYXJzICsgJ1knIDogJycpICtcbiAgICAgICAgKG1vbnRocyA/IHltU2lnbiArIG1vbnRocyArICdNJyA6ICcnKSArXG4gICAgICAgIChkYXlzID8gZGF5c1NpZ24gKyBkYXlzICsgJ0QnIDogJycpICtcbiAgICAgICAgKGhvdXJzIHx8IG1pbnV0ZXMgfHwgc2Vjb25kcyA/ICdUJyA6ICcnKSArXG4gICAgICAgIChob3VycyA/IGhtc1NpZ24gKyBob3VycyArICdIJyA6ICcnKSArXG4gICAgICAgIChtaW51dGVzID8gaG1zU2lnbiArIG1pbnV0ZXMgKyAnTScgOiAnJykgK1xuICAgICAgICAoc2Vjb25kcyA/IGhtc1NpZ24gKyBzICsgJ1MnIDogJycpXG4gICAgKTtcbn1cblxudmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbnByb3RvJDIuaXNWYWxpZCA9IGlzVmFsaWQkMTtcbnByb3RvJDIuYWJzID0gYWJzO1xucHJvdG8kMi5hZGQgPSBhZGQkMTtcbnByb3RvJDIuc3VidHJhY3QgPSBzdWJ0cmFjdCQxO1xucHJvdG8kMi5hcyA9IGFzO1xucHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xucHJvdG8kMi5hc1NlY29uZHMgPSBhc1NlY29uZHM7XG5wcm90byQyLmFzTWludXRlcyA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyA9IGFzSG91cnM7XG5wcm90byQyLmFzRGF5cyA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyA9IGFzV2Vla3M7XG5wcm90byQyLmFzTW9udGhzID0gYXNNb250aHM7XG5wcm90byQyLmFzUXVhcnRlcnMgPSBhc1F1YXJ0ZXJzO1xucHJvdG8kMi5hc1llYXJzID0gYXNZZWFycztcbnByb3RvJDIudmFsdWVPZiA9IHZhbHVlT2YkMTtcbnByb3RvJDIuX2J1YmJsZSA9IGJ1YmJsZTtcbnByb3RvJDIuY2xvbmUgPSBjbG9uZSQxO1xucHJvdG8kMi5nZXQgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzO1xucHJvdG8kMi5zZWNvbmRzID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyA9IG1pbnV0ZXM7XG5wcm90byQyLmhvdXJzID0gaG91cnM7XG5wcm90byQyLmRheXMgPSBkYXlzO1xucHJvdG8kMi53ZWVrcyA9IHdlZWtzO1xucHJvdG8kMi5tb250aHMgPSBtb250aHM7XG5wcm90byQyLnllYXJzID0geWVhcnM7XG5wcm90byQyLmh1bWFuaXplID0gaHVtYW5pemU7XG5wcm90byQyLnRvSVNPU3RyaW5nID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9TdHJpbmcgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b0pTT04gPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgPSBsb2NhbGU7XG5wcm90byQyLmxvY2FsZURhdGEgPSBsb2NhbGVEYXRhO1xuXG5wcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKFxuICAgICd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsXG4gICAgdG9JU09TdHJpbmckMVxuKTtcbnByb3RvJDIubGFuZyA9IGxhbmc7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQpICogMTAwMCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xufSk7XG5cbi8vISBtb21lbnQuanNcblxuaG9va3MudmVyc2lvbiA9ICcyLjI5LjEnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiA9IHByb3RvO1xuaG9va3MubWluID0gbWluO1xuaG9va3MubWF4ID0gbWF4O1xuaG9va3Mubm93ID0gbm93O1xuaG9va3MudXRjID0gY3JlYXRlVVRDO1xuaG9va3MudW5peCA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlID0gaXNEYXRlO1xuaG9va3MubG9jYWxlID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCA9IGNyZWF0ZUludmFsaWQ7XG5ob29rcy5kdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgPSBpc01vbWVudDtcbmhvb2tzLndlZWtkYXlzID0gbGlzdFdlZWtkYXlzO1xuaG9va3MucGFyc2Vab25lID0gY3JlYXRlSW5ab25lO1xuaG9va3MubG9jYWxlRGF0YSA9IGdldExvY2FsZTtcbmhvb2tzLmlzRHVyYXRpb24gPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgPSBsaXN0TW9udGhzU2hvcnQ7XG5ob29rcy53ZWVrZGF5c01pbiA9IGxpc3RXZWVrZGF5c01pbjtcbmhvb2tzLmRlZmluZUxvY2FsZSA9IGRlZmluZUxvY2FsZTtcbmhvb2tzLnVwZGF0ZUxvY2FsZSA9IHVwZGF0ZUxvY2FsZTtcbmhvb2tzLmxvY2FsZXMgPSBsaXN0TG9jYWxlcztcbmhvb2tzLndlZWtkYXlzU2hvcnQgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzID0gbm9ybWFsaXplVW5pdHM7XG5ob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuaG9va3MuY2FsZW5kYXJGb3JtYXQgPSBnZXRDYWxlbmRhckZvcm1hdDtcbmhvb2tzLnByb3RvdHlwZSA9IHByb3RvO1xuXG4vLyBjdXJyZW50bHkgSFRNTDUgaW5wdXQgdHlwZSBvbmx5IHN1cHBvcnRzIDI0LWhvdXIgZm9ybWF0c1xuaG9va3MuSFRNTDVfRk1UID0ge1xuICAgIERBVEVUSU1FX0xPQ0FMOiAnWVlZWS1NTS1ERFRISDptbScsIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiAvPlxuICAgIERBVEVUSU1FX0xPQ0FMX1NFQ09ORFM6ICdZWVlZLU1NLUREVEhIOm1tOnNzJywgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIxXCIgLz5cbiAgICBEQVRFVElNRV9MT0NBTF9NUzogJ1lZWVktTU0tRERUSEg6bW06c3MuU1NTJywgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgREFURTogJ1lZWVktTU0tREQnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGVcIiAvPlxuICAgIFRJTUU6ICdISDptbScsIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIC8+XG4gICAgVElNRV9TRUNPTkRTOiAnSEg6bW06c3MnLCAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XG4gICAgVElNRV9NUzogJ0hIOm1tOnNzLlNTUycsIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgV0VFSzogJ0dHR0ctW1ddV1cnLCAvLyA8aW5wdXQgdHlwZT1cIndlZWtcIiAvPlxuICAgIE1PTlRIOiAnWVlZWS1NTScsIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxufTtcblxuZXhwb3J0IGRlZmF1bHQgaG9va3M7XG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBDaGF0QWN0aW9uVHlwZSB9IGZyb20gJy4vQ2hhdEFjdGlvbnMnXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9NZXNzYWdlJ1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5pbXBvcnQgeyBzdHJpbmcgfSBmcm9tICd5dXAvbGliL2xvY2FsZSdcblxuLy8gVE9ETzogZmluZCBleGlzdGluZyBpbnRlcmZhY2VzIGZvciB0aGVzZSBvciBtb3ZlIHRoZXNlIHRvIEB4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXNcblxuLy8gVE9ETyAtIGFkZCBwcm9wZXIgdHlwZXMgdG8gdGhpc1xudHlwZSBNZXNzYWdlVHlwZSA9IHtcbiAgLy8gY2hhbm5lbElkOiBcIjhmNjU1YzEwLTI3MzQtMTFlYy04NWQ4LTQzNGMxM2ZmY2I0YVwiXG4gIC8vIGNyZWF0ZWRBdDogXCIyMDIxLTEwLTA3VDA2OjA1OjIzLjAwMFpcIlxuICAvLyBpZDogXCI4ZjY1ZDE0MC0yNzM0LTExZWMtODVkOC00MzRjMTNmZmNiNGFcIlxuICAvLyBpc05vdGlmaWNhdGlvbjogbnVsbFxuICAvLyBzZW5kZXI6XG4gIC8vIGF2YXRhcklkOiBcIkphbWllXCJcbiAgLy8gY2hhbm5lbEluc3RhbmNlSWQ6IFwiNWUyN2I0ZjAtMjY1Yy0xMWVjLWEzN2EtOTVmMzI3ZGE3N2FlXCJcbiAgLy8gY3JlYXRlZEF0OiBcIjIwMjEtMDktMThUMjI6Mzk6MzkuMDAwWlwiXG4gIC8vIGlkOiBcIjRlZTJmMTUwLTE4ZDEtMTFlYy1hNzI1LWYxMTNkNGZmZTE4ZFwiXG4gIC8vIGluc3RhbmNlSWQ6IFwiOGY0ZGI1NjAtMjczNC0xMWVjLTg1ZDgtNDM0YzEzZmZjYjRhXCJcbiAgLy8gaW52aXRlQ29kZTogXCJiMzcwMWZiYVwiXG4gIC8vIG5hbWU6IFwiR3Vlc3QgIzQwOVwiXG4gIC8vIHBhcnR5SWQ6IG51bGxcbiAgLy8gdXBkYXRlZEF0OiBcIjIwMjEtMTAtMDdUMDY6MDU6MjMuMDAwWlwiXG4gIC8vIHVzZXJSb2xlOiBcImFkbWluXCJcbiAgLy8gc2VuZGVySWQ6IFwiNGVlMmYxNTAtMThkMS0xMWVjLWE3MjUtZjExM2Q0ZmZlMThkXCJcbiAgLy8gdGV4dDogXCJbamxfc3lzdGVtXUd1ZXN0ICM0MDkgam9pbmVkIHRoZSBsYXllclwiXG4gIC8vIHVwZGF0ZWRBdDogXCIyMDIxLTEwLTA3VDA2OjA1OjIzLjAwMFpcIlxufVxuXG5leHBvcnQgdHlwZSBDaGFubmVsVHlwZSA9IHtcbiAgY2hhbm5lbFR5cGU6IHN0cmluZ1xuICBjcmVhdGVkQXQ6IHN0cmluZ1xuICBncm91cD86IGFueVxuICBncm91cElkPzogc3RyaW5nXG4gIGlkOiBzdHJpbmdcbiAgaW5zdGFuY2U6IHtcbiAgICBpZDogc3RyaW5nXG4gICAgaXBBZGRyZXNzOiBzdHJpbmdcbiAgICBjaGFubmVsSWQ6IHN0cmluZ1xuICAgIGN1cnJlbnRVc2VyczogbnVtYmVyXG4gICAgZW5kZWQ6IGJvb2xlYW5cbiAgfVxuICBpbnN0YW5jZUlkOiBzdHJpbmdcbiAgbGltaXQ6IG51bWJlclxuICBtZXNzYWdlczogYW55IC8vIE1lc3NhZ2VUeXBlXG4gIHBhcnR5OiBhbnlcbiAgcGFydHlJZDogc3RyaW5nXG4gIHNraXA6IG51bWJlclxuICB0b3RhbDogbnVtYmVyXG4gIHVwZGF0ZU5lZWRlZDogYm9vbGVhblxuICB1cGRhdGVkQXQ6IHN0cmluZ1xuICB1c2VyMTogYW55XG4gIHVzZXIyOiBhbnlcbiAgdXNlcklkMTogYW55XG4gIHVzZXJJZDI6IGFueVxufVxuXG5leHBvcnQgdHlwZSBDaGFubmVsc1R5cGUgPSB7IFtpZDogc3RyaW5nXTogQ2hhbm5lbFR5cGUgfVxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgY2hhbm5lbHM6IHtcbiAgICBjaGFubmVsczoge30gYXMgQ2hhbm5lbHNUeXBlLFxuICAgIGxpbWl0OiA1LFxuICAgIHNraXA6IDAsXG4gICAgdG90YWw6IDAsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGZldGNoaW5nSW5zdGFuY2VDaGFubmVsOiBmYWxzZVxuICB9LFxuICB0YXJnZXRPYmplY3RUeXBlOiAnJyxcbiAgdGFyZ2V0T2JqZWN0OiB7XG4gICAgaWQ6ICcnLFxuICAgIG5hbWU6ICcnXG4gIH0sXG4gIHRhcmdldENoYW5uZWxJZDogJycsXG4gIHVwZGF0ZU1lc3NhZ2VTY3JvbGw6IGZhbHNlLFxuICBtZXNzYWdlU2Nyb2xsSW5pdDogZmFsc2UsXG4gIGluc3RhbmNlQ2hhbm5lbEZldGNoaW5nOiBmYWxzZSxcbiAgaW5zdGFuY2VDaGFubmVsRmV0Y2hlZDogZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBjaGF0UmVkdWNlciA9IChfLCBhY3Rpb246IENoYXRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gY2hhdFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgY2hhdFJlY2VwdG9yID0gKGFjdGlvbjogQ2hhdEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgdXBkYXRlTWFwLCBsb2NhbEFjdGlvbiwgdXBkYXRlTWFwQ2hhbm5lbHM6IENoYW5uZWxzVHlwZSwgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZCwgcmV0dXJuZWRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbiEudHlwZSkge1xuICAgICAgY2FzZSAnTE9BREVEX0NIQU5ORUxTJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdXBkYXRlTWFwID0gc3RhdGUuY2hhbm5lbHMudmFsdWVcbiAgICAgICAgdXBkYXRlTWFwLmxpbWl0ID0gbG9jYWxBY3Rpb24ubGltaXRcbiAgICAgICAgdXBkYXRlTWFwLnNraXAgPSBsb2NhbEFjdGlvbi5za2lwXG4gICAgICAgIHVwZGF0ZU1hcC50b3RhbCA9IGxvY2FsQWN0aW9uLnRvdGFsXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcC51cGRhdGVOZWVkZWQgPSBmYWxzZVxuICAgICAgICBsb2NhbEFjdGlvbi5jaGFubmVscy5mb3JFYWNoKChjaGFubmVsKSA9PiB7XG4gICAgICAgICAgaWYgKHVwZGF0ZU1hcENoYW5uZWxzW2NoYW5uZWwuaWRdID09IG51bGwpIHtcbiAgICAgICAgICAgIGNoYW5uZWwudXBkYXRlTmVlZGVkID0gdHJ1ZVxuICAgICAgICAgICAgY2hhbm5lbC5saW1pdCA9IDhcbiAgICAgICAgICAgIGNoYW5uZWwuc2tpcCA9IDBcbiAgICAgICAgICAgIGNoYW5uZWwudG90YWwgPSAwXG4gICAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tjaGFubmVsLmlkXSA9IGNoYW5uZWxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHVwZGF0ZU1hcC5jaGFubmVscyA9IHVwZGF0ZU1hcENoYW5uZWxzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcCB9KVxuICAgICAgY2FzZSAnTE9BREVEX0NIQU5ORUwnOlxuICAgICAgICBsb2NhbEFjdGlvbiA9IGFjdGlvblxuICAgICAgICBjb25zdCBuZXdDaGFubmVsID0gbG9jYWxBY3Rpb24uY2hhbm5lbFxuICAgICAgICBjb25zdCBjaGFubmVsVHlwZSA9IGxvY2FsQWN0aW9uLmNoYW5uZWxUeXBlXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuY2hhbm5lbHMudmFsdWVcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHMgPSB1cGRhdGVNYXAuY2hhbm5lbHNcbiAgICAgICAgaWYgKGNoYW5uZWxUeXBlID09PSAnaW5zdGFuY2UnKSB7XG4gICAgICAgICAgY29uc3QgdGVtcFVwZGF0ZU1hcENoYW5uZWxzID0ge31cbiAgICAgICAgICBPYmplY3QuZW50cmllcyh1cGRhdGVNYXBDaGFubmVscykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUuY2hhbm5lbFR5cGUgIT09ICdpbnN0YW5jZScpIHRlbXBVcGRhdGVNYXBDaGFubmVsc1trZXldID0gdmFsdWVcbiAgICAgICAgICB9KVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdGVtcFVwZGF0ZU1hcENoYW5uZWxzXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0NoYW5uZWw/LmlkICE9IG51bGwgJiYgdXBkYXRlTWFwQ2hhbm5lbHNbbmV3Q2hhbm5lbC5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgIG5ld0NoYW5uZWwudXBkYXRlTmVlZGVkID0gdHJ1ZVxuICAgICAgICAgIG5ld0NoYW5uZWwubGltaXQgPSAxMFxuICAgICAgICAgIG5ld0NoYW5uZWwuc2tpcCA9IDBcbiAgICAgICAgICBuZXdDaGFubmVsLnRvdGFsID0gMFxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzW25ld0NoYW5uZWwuaWRdID0gbmV3Q2hhbm5lbFxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZU1hcC5jaGFubmVscyA9IHVwZGF0ZU1hcENoYW5uZWxzXG4gICAgICAgIHJldHVybmVkID0gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgICAgaWYgKGNoYW5uZWxUeXBlID09PSAnaW5zdGFuY2UnKSB7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbHMgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgICAgY2hhbm5lbHMuZmV0Y2hpbmdJbnN0YW5jZUNoYW5uZWwgPSBmYWxzZVxuICAgICAgICAgIHJldHVybmVkID0gcy5tZXJnZSh7IGluc3RhbmNlQ2hhbm5lbEZldGNoZWQ6IHRydWUsIGNoYW5uZWxzOiBjaGFubmVscyB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5lZFxuICAgICAgY2FzZSAnQ1JFQVRFRF9NRVNTQUdFJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgY29uc3QgY2hhbm5lbElkID0gbG9jYWxBY3Rpb24ubWVzc2FnZS5jaGFubmVsSWRcbiAgICAgICAgY29uc3Qgc2VsZlVzZXIgPSBsb2NhbEFjdGlvbi5zZWxmVXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tjaGFubmVsSWRdXG4gICAgICAgIGlmICh1cGRhdGVNYXBDaGFubmVsc0NoaWxkID09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXAudXBkYXRlTmVlZGVkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMgPVxuICAgICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcyA9PSBudWxsIHx8XG4gICAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzLnNpemUgIT0gbnVsbCB8fFxuICAgICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51cGRhdGVOZWVkZWQgPT09IHRydWVcbiAgICAgICAgICAgICAgPyBbbG9jYWxBY3Rpb24ubWVzc2FnZV1cbiAgICAgICAgICAgICAgOiBfLnVuaW9uQnkodXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcywgW2xvY2FsQWN0aW9uLm1lc3NhZ2VdLCAnaWQnKVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCArIDFcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnVwZGF0ZWRBdCA9IG1vbWVudCgpLnV0YygpLnRvSlNPTigpXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNbY2hhbm5lbElkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcbiAgICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybmVkID0gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAsIHVwZGF0ZU1lc3NhZ2VTY3JvbGw6IHRydWUgfSlcblxuICAgICAgICBpZiAocy50YXJnZXRDaGFubmVsSWQudmFsdWUubGVuZ3RoID09PSAwICYmIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGNoYW5uZWxUeXBlID0gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5jaGFubmVsVHlwZVxuICAgICAgICAgIGNvbnN0IHRhcmdldE9iamVjdCA9XG4gICAgICAgICAgICBjaGFubmVsVHlwZSA9PT0gJ3VzZXInXG4gICAgICAgICAgICAgID8gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51c2VySWQxID09PSBzZWxmVXNlci5pZFxuICAgICAgICAgICAgICAgID8gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51c2VyMlxuICAgICAgICAgICAgICAgIDogdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51c2VyMVxuICAgICAgICAgICAgICA6IGNoYW5uZWxUeXBlID09PSAnZ3JvdXAnXG4gICAgICAgICAgICAgID8gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5ncm91cFxuICAgICAgICAgICAgICA6IGNoYW5uZWxUeXBlID09PSAnaW5zdGFuY2UnXG4gICAgICAgICAgICAgID8gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5pbnN0YW5jZVxuICAgICAgICAgICAgICA6IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQucGFydHlcbiAgICAgICAgICByZXR1cm5lZCA9IHMubWVyZ2UoeyB0YXJnZXRDaGFubmVsSWQ6IGNoYW5uZWxJZCwgdGFyZ2V0T2JqZWN0VHlwZTogY2hhbm5lbFR5cGUsIHRhcmdldE9iamVjdDogdGFyZ2V0T2JqZWN0IH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybmVkXG4gICAgICBjYXNlICdMT0FERURfTUVTU0FHRVMnOlxuICAgICAgICBsb2NhbEFjdGlvbiA9IGFjdGlvblxuICAgICAgICB1cGRhdGVNYXAgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5jaGFubmVsSWRdXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMgPVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMgPT0gbnVsbCB8fFxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMuc2l6ZSAhPSBudWxsIHx8XG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51cGRhdGVOZWVkZWQgPT09IHRydWVcbiAgICAgICAgICAgID8gbG9jYWxBY3Rpb24ubWVzc2FnZXNcbiAgICAgICAgICAgIDogXy51bmlvbkJ5KHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMsIGxvY2FsQWN0aW9uLm1lc3NhZ2VzLCAnaWQnKVxuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLmxpbWl0ID0gbG9jYWxBY3Rpb24ubGltaXRcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5za2lwID0gbG9jYWxBY3Rpb24uc2tpcFxuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnRvdGFsID0gbG9jYWxBY3Rpb24udG90YWxcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51cGRhdGVOZWVkZWQgPSBmYWxzZVxuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5jaGFubmVsSWRdID0gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZFxuXG4gICAgICAgIHJldHVybiBzLmNoYW5uZWxzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcENoYW5uZWxzIH0pXG4gICAgICBjYXNlICdSRU1PVkVEX01FU1NBR0UnOlxuICAgICAgICBsb2NhbEFjdGlvbiA9IGFjdGlvblxuICAgICAgICB1cGRhdGVNYXAgPSBzLmNoYW5uZWxzLnZhbHVlXG5cbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHMgPSB1cGRhdGVNYXAuY2hhbm5lbHNcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZCA9IHVwZGF0ZU1hcENoYW5uZWxzW2xvY2FsQWN0aW9uLm1lc3NhZ2UuY2hhbm5lbElkXVxuICAgICAgICBpZiAodXBkYXRlTWFwQ2hhbm5lbHNDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgXy5yZW1vdmUodXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcywgKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IG1lc3NhZ2UuaWQgPT09IGxvY2FsQWN0aW9uLm1lc3NhZ2UuaWQpXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5za2lwID0gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5za2lwIC0gMVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzW2xvY2FsQWN0aW9uLm1lc3NhZ2UuY2hhbm5lbElkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcbiAgICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcCB9KVxuICAgICAgY2FzZSAnUEFUQ0hFRF9NRVNTQUdFJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdXBkYXRlTWFwID0gcy5jaGFubmVscy52YWx1ZVxuXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5tZXNzYWdlLmNoYW5uZWxJZF1cbiAgICAgICAgaWYgKHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMgPSB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzLm1hcCgobWVzc2FnZTogTWVzc2FnZSkgPT5cbiAgICAgICAgICAgIG1lc3NhZ2UuaWQgPT09IGxvY2FsQWN0aW9uLm1lc3NhZ2UuaWQgPyBsb2NhbEFjdGlvbi5tZXNzYWdlIDogbWVzc2FnZVxuICAgICAgICAgIClcblxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzW2xvY2FsQWN0aW9uLm1lc3NhZ2UuY2hhbm5lbElkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcbiAgICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcCB9KVxuICAgICAgY2FzZSAnQ1JFQVRFRF9DSEFOTkVMJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgY29uc3QgY3JlYXRlZENoYW5uZWwgPSBsb2NhbEFjdGlvbi5jaGFubmVsXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuY2hhbm5lbHMudmFsdWVcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHMgPSB1cGRhdGVNYXAuY2hhbm5lbHNcblxuICAgICAgICBjcmVhdGVkQ2hhbm5lbC51cGRhdGVOZWVkZWQgPSB0cnVlXG4gICAgICAgIGNyZWF0ZWRDaGFubmVsLmxpbWl0ID0gMTBcbiAgICAgICAgY3JlYXRlZENoYW5uZWwuc2tpcCA9IDBcbiAgICAgICAgY3JlYXRlZENoYW5uZWwudG90YWwgPSAwXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzW2NyZWF0ZWRDaGFubmVsLmlkXSA9IGNyZWF0ZWRDaGFubmVsXG4gICAgICAgIHVwZGF0ZU1hcC5jaGFubmVscyA9IHVwZGF0ZU1hcENoYW5uZWxzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcCB9KVxuICAgICAgY2FzZSAnUEFUQ0hFRF9DSEFOTkVMJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgY29uc3QgdXBkYXRlQ2hhbm5lbCA9IGxvY2FsQWN0aW9uLmNoYW5uZWxcbiAgICAgICAgdXBkYXRlTWFwID0gcy5jaGFubmVscy52YWx1ZVxuXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5jaGFubmVsLmlkXVxuICAgICAgICBpZiAodXBkYXRlTWFwQ2hhbm5lbHNDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51cGRhdGVkQXQgPSB1cGRhdGVDaGFubmVsLnVwZGF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuZ3JvdXAgPSB1cGRhdGVDaGFubmVsLmdyb3VwXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5pbnN0YW5jZSA9IHVwZGF0ZUNoYW5uZWwuaW5zdGFuY2VcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnBhcnR5ID0gdXBkYXRlQ2hhbm5lbC5wYXJ0eVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXNlcjEgPSB1cGRhdGVDaGFubmVsLnVzZXIxXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51c2VyMiA9IHVwZGF0ZUNoYW5uZWwudXNlcjJcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5jaGFubmVsLmlkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcbiAgICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgY2hhbm5lbHM6IHVwZGF0ZU1hcCB9KVxuICAgICAgY2FzZSAnUkVNT1ZFRF9DSEFOTkVMJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgcmV0dXJuIHMuY2hhbm5lbHMuY2hhbm5lbHNbbG9jYWxBY3Rpb24uY2hhbm5lbC5pZF0uc2V0KG5vbmUpXG5cbiAgICAgIGNhc2UgJ0NIQVRfVEFSR0VUX1NFVCc6XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0T2JqZWN0VHlwZSwgdGFyZ2V0T2JqZWN0LCB0YXJnZXRDaGFubmVsSWQgfSA9IGFjdGlvblxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgdGFyZ2V0T2JqZWN0VHlwZTogdGFyZ2V0T2JqZWN0VHlwZSxcbiAgICAgICAgICB0YXJnZXRPYmplY3Q6IHRhcmdldE9iamVjdCxcbiAgICAgICAgICB0YXJnZXRDaGFubmVsSWQ6IHRhcmdldENoYW5uZWxJZCxcbiAgICAgICAgICB1cGRhdGVNZXNzYWdlU2Nyb2xsOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2VTY3JvbGxJbml0OiB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgIGNhc2UgJ1NFVF9NRVNTQUdFX1NDUk9MTF9JTklUJzpcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gYWN0aW9uXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgbWVzc2FnZVNjcm9sbEluaXQ6IHZhbHVlIH0pXG4gICAgICBjYXNlICdGRVRDSElOR19JTlNUQU5DRV9DSEFOTkVMJzpcbiAgICAgICAgcmV0dXJuIHMuY2hhbm5lbHMubWVyZ2UoeyBmZXRjaGluZ0luc3RhbmNlQ2hhbm5lbDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnU0VUX1VQREFURV9NRVNTQUdFX1NDUk9MTCc6IHtcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVNZXNzYWdlU2Nyb2xsOiBhY3Rpb24udmFsdWUgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQ2hhdFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VDaGF0U3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgRnJpZW5kQWN0aW9uVHlwZSB9IGZyb20gJy4vRnJpZW5kQWN0aW9ucydcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBmcmllbmRzOiB7XG4gICAgZnJpZW5kczogW10gYXMgQXJyYXk8VXNlcj4sXG4gICAgdG90YWw6IDAsXG4gICAgbGltaXQ6IDUsXG4gICAgc2tpcDogMFxuICB9LFxuICBnZXRGcmllbmRzSW5Qcm9ncmVzczogZmFsc2UsXG4gIHVwZGF0ZU5lZWRlZDogdHJ1ZVxufSlcblxuZXhwb3J0IGNvbnN0IGZyaWVuZFJlZHVjZXIgPSAoXywgYWN0aW9uOiBGcmllbmRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZnJpZW5kUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBmcmllbmRSZWNlcHRvciA9IChhY3Rpb246IEZyaWVuZEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzLCBzZWxmVXNlciwgb3RoZXJVc2VyLCBvdGhlclVzZXJJZFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0xPQURFRF9GUklFTkRTJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGlmIChzLnVwZGF0ZU5lZWRlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHMuZnJpZW5kcy5mcmllbmRzLnNldChuZXdWYWx1ZXMuZnJpZW5kcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLmZyaWVuZHMuZnJpZW5kcy5zZXQoW3MuZnJpZW5kcy5mcmllbmRzLnZhbHVlLCBuZXdWYWx1ZXMuZnJpZW5kc10pXG4gICAgICAgIH1cbiAgICAgICAgcy5mcmllbmRzLnNraXAuc2V0KG5ld1ZhbHVlcy5za2lwKVxuICAgICAgICBzLmZyaWVuZHMubGltaXQuc2V0KG5ld1ZhbHVlcy5saW1pdClcbiAgICAgICAgcy5mcmllbmRzLnRvdGFsLnNldChuZXdWYWx1ZXMudG90YWwpXG4gICAgICAgIHMudXBkYXRlTmVlZGVkLnNldChmYWxzZSlcbiAgICAgICAgcmV0dXJuIHMuZ2V0RnJpZW5kc0luUHJvZ3Jlc3Muc2V0KGZhbHNlKVxuXG4gICAgICBjYXNlICdDUkVBVEVEX0ZSSUVORCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBjb25zdCBjcmVhdGVkVXNlclJlbGF0aW9uc2hpcCA9IG5ld1ZhbHVlcy51c2VyUmVsYXRpb25zaGlwXG4gICAgICAgIHMuZnJpZW5kcy5mcmllbmRzLnNldChbLi4ucy5mcmllbmRzLmZyaWVuZHMudmFsdWUsIGNyZWF0ZWRVc2VyUmVsYXRpb25zaGlwXSlcbiAgICAgIGNhc2UgJ1BBVENIRURfRlJJRU5EJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwID0gbmV3VmFsdWVzLnVzZXJSZWxhdGlvbnNoaXBcbiAgICAgICAgc2VsZlVzZXIgPSBuZXdWYWx1ZXMuc2VsZlVzZXJcbiAgICAgICAgb3RoZXJVc2VyID1cbiAgICAgICAgICBwYXRjaGVkVXNlclJlbGF0aW9uc2hpcC51c2VySWQgPT09IHNlbGZVc2VyLmlkXG4gICAgICAgICAgICA/IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwLnJlbGF0ZWRVc2VyXG4gICAgICAgICAgICA6IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwLnVzZXJcblxuICAgICAgICBjb25zdCBwYXRjaGVkRnJpZW5kSW5kZXggPSBzLmZyaWVuZHMuZnJpZW5kcy52YWx1ZS5maW5kSW5kZXgoKGZyaWVuZEl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZnJpZW5kSXRlbSAhPSBudWxsICYmIGZyaWVuZEl0ZW0uaWQgPT09IG90aGVyVXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAocGF0Y2hlZEZyaWVuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kcy5zZXQoWy4uLnMuZnJpZW5kcy5mcmllbmRzLnZhbHVlLCBvdGhlclVzZXJdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kc1twYXRjaGVkRnJpZW5kSW5kZXhdLnNldChvdGhlclVzZXIpXG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnUkVNT1ZFRF9GUklFTkQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgY29uc3QgcmVtb3ZlZFVzZXJSZWxhdGlvbnNoaXAgPSBuZXdWYWx1ZXMudXNlclJlbGF0aW9uc2hpcFxuICAgICAgICBzZWxmVXNlciA9IG5ld1ZhbHVlcy5zZWxmVXNlclxuICAgICAgICBvdGhlclVzZXJJZCA9XG4gICAgICAgICAgcmVtb3ZlZFVzZXJSZWxhdGlvbnNoaXAudXNlcklkID09PSBzZWxmVXNlci5pZFxuICAgICAgICAgICAgPyByZW1vdmVkVXNlclJlbGF0aW9uc2hpcC5yZWxhdGVkVXNlcklkXG4gICAgICAgICAgICA6IHJlbW92ZWRVc2VyUmVsYXRpb25zaGlwLnVzZXJJZFxuXG4gICAgICAgIGNvbnN0IGZyaWVuZElkID0gcy5mcmllbmRzLmZyaWVuZHMudmFsdWUuZmluZEluZGV4KChmcmllbmRJdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZyaWVuZEl0ZW0gIT0gbnVsbCAmJiBmcmllbmRJdGVtLmlkID09PSBvdGhlclVzZXJJZFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kc1tmcmllbmRJZF0uc2V0KG5vbmUpXG4gICAgICBjYXNlICdGRVRDSElOR19GUklFTkRTJzpcbiAgICAgICAgcmV0dXJuIHMuZ2V0RnJpZW5kc0luUHJvZ3Jlc3Muc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0ZyaWVuZFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VGcmllbmRTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvTG9jYXRpb24nXG5pbXBvcnQgeyBVc2VySWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXJJZCdcbmltcG9ydCB7IExvY2F0aW9uQWN0aW9uVHlwZSB9IGZyb20gJy4vTG9jYXRpb25BY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgbG9jYXRpb25zOiB7XG4gICAgbG9jYXRpb25zOiBbXSBhcyBMb2NhdGlvbltdLFxuICAgIHRvdGFsOiAwLFxuICAgIGxpbWl0OiAxMCxcbiAgICBza2lwOiAwXG4gIH0sXG4gIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgIGxvY2F0aW9uOiB7fSBhcyBMb2NhdGlvbiB8IHt9LFxuICAgIGJhbm5lZFVzZXJzOiBbXSBhcyBVc2VySWRbXVxuICB9LFxuICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gIGN1cnJlbnRMb2NhdGlvblVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgZmV0Y2hpbmdDdXJyZW50TG9jYXRpb246IGZhbHNlLFxuICBpbnZhbGlkTG9jYXRpb246IGZhbHNlXG59KVxuXG5leHBvcnQgY29uc3QgbG9jYXRpb25SZWR1Y2VyID0gKF8sIGFjdGlvbjogTG9jYXRpb25BY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gbG9jYXRpb25SZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGxvY2F0aW9uUmVjZXB0b3IgPSAoYWN0aW9uOiBMb2NhdGlvbkFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzLCB1cGRhdGVNYXBcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0NBVElPTlNfUkVUUklFVkVEJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uLmxvY2F0aW9uc1xuXG4gICAgICAgIGlmIChzLmxvY2F0aW9ucy5sb2NhdGlvbnMgPT0gbnVsbCB8fCBzLnVwZGF0ZU5lZWRlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHMubG9jYXRpb25zLmxvY2F0aW9ucy5zZXQobmV3VmFsdWVzLmRhdGEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5sb2NhdGlvbnMubG9jYXRpb25zLnNldChbLi4ucy5sb2NhdGlvbnMubG9jYXRpb25zLnZhbHVlLCAuLi5uZXdWYWx1ZXMuZGF0YV0pXG4gICAgICAgIH1cblxuICAgICAgICBzLmxvY2F0aW9ucy5za2lwLnNldChuZXdWYWx1ZXMuc2tpcClcbiAgICAgICAgcy5sb2NhdGlvbnMubGltaXQuc2V0KG5ld1ZhbHVlcy5saW1pdClcbiAgICAgICAgcy5sb2NhdGlvbnMudG90YWwuc2V0KG5ld1ZhbHVlcy50b3RhbClcbiAgICAgICAgcmV0dXJuIHMudXBkYXRlTmVlZGVkLnNldChmYWxzZSlcblxuICAgICAgY2FzZSAnRkVUQ0hfQ1VSUkVOVF9MT0NBVElPTic6XG4gICAgICAgIHJldHVybiBzLmZldGNoaW5nQ3VycmVudExvY2F0aW9uLnNldCh0cnVlKVxuXG4gICAgICBjYXNlICdMT0NBVElPTl9SRVRSSUVWRUQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb24ubG9jYXRpb25cbiAgICAgICAgbmV3VmFsdWVzLmxvY2F0aW9uU2V0dGluZ3MgPSBuZXdWYWx1ZXMubG9jYXRpb25fc2V0dGluZ1xuXG4gICAgICAgIGxldCBiYW5uZWRVc2VycyA9IFtdIGFzIFVzZXJJZFtdXG4gICAgICAgIG5ld1ZhbHVlcy5sb2NhdGlvbl9iYW5zPy5mb3JFYWNoKChiYW4pID0+IHtcbiAgICAgICAgICBiYW5uZWRVc2Vycy5wdXNoKGJhbi51c2VySWQpXG4gICAgICAgIH0pXG4gICAgICAgIGJhbm5lZFVzZXJzID0gWy4uLm5ldyBTZXQoYmFubmVkVXNlcnMpXVxuXG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLmxvY2F0aW9uLnNldChuZXdWYWx1ZXMpXG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLmJhbm5lZFVzZXJzLnNldChiYW5uZWRVc2VycylcbiAgICAgICAgcy5jdXJyZW50TG9jYXRpb25VcGRhdGVOZWVkZWQuc2V0KGZhbHNlKVxuICAgICAgICByZXR1cm4gcy5mZXRjaGluZ0N1cnJlbnRMb2NhdGlvbi5zZXQoZmFsc2UpXG5cbiAgICAgIGNhc2UgJ0xPQ0FUSU9OX05PVF9GT1VORCc6XG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLm1lcmdlKHsgbG9jYXRpb246IHt9LCBiYW5uZWRVc2VyczogW10gfSlcbiAgICAgICAgcy5jdXJyZW50TG9jYXRpb25VcGRhdGVOZWVkZWQuc2V0KGZhbHNlKVxuICAgICAgICBzLmZldGNoaW5nQ3VycmVudExvY2F0aW9uLnNldChmYWxzZSlcbiAgICAgICAgcmV0dXJuIHMuaW52YWxpZExvY2F0aW9uLnNldCh0cnVlKVxuXG4gICAgICBjYXNlICdMT0NBVElPTl9CQU5fQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLmN1cnJlbnRMb2NhdGlvblVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzTG9jYXRpb25TdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlTG9jYXRpb25TdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBHcm91cFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0dyb3VwVXNlcidcbmltcG9ydCB7IEdyb3VwQWN0aW9uVHlwZSB9IGZyb20gJy4vR3JvdXBBY3Rpb25zJ1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0dyb3VwJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZ3JvdXBzOiB7XG4gICAgZ3JvdXBzOiBbXSBhcyBBcnJheTxHcm91cD4sXG4gICAgdG90YWw6IDAsXG4gICAgbGltaXQ6IDUsXG4gICAgc2tpcDogMFxuICB9LFxuICBpbnZpdGFibGVHcm91cHM6IHtcbiAgICBncm91cHM6IFtdIGFzIEFycmF5PEdyb3VwPixcbiAgICB0b3RhbDogMCxcbiAgICBsaW1pdDogNSxcbiAgICBza2lwOiAwXG4gIH0sXG4gIGdldEludml0YWJsZUdyb3Vwc0luUHJvZ3Jlc3M6IGZhbHNlLFxuICBnZXRHcm91cHNJblByb2dyZXNzOiBmYWxzZSxcbiAgaW52aXRhYmxlVXBkYXRlTmVlZGVkOiB0cnVlLFxuICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gIGNsb3NlRGV0YWlsczogJydcbn0pXG5cbmV4cG9ydCBjb25zdCBncm91cFJlZHVjZXIgPSAoXywgYWN0aW9uOiBHcm91cEFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBncm91cFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZ3JvdXBSZWNlcHRvciA9IChhY3Rpb246IEdyb3VwQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCBuZXdWYWx1ZXMsXG4gICAgdXBkYXRlTWFwLFxuICAgIHVwZGF0ZU1hcEdyb3VwcyxcbiAgICB1cGRhdGVNYXBHcm91cHNDaGlsZCxcbiAgICB1cGRhdGVNYXBHcm91cFVzZXJzLFxuICAgIGdyb3VwVXNlcixcbiAgICB1cGRhdGVHcm91cCxcbiAgICBncm91cEluZGV4XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnTE9BREVEX0dST1VQUyc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBpZiAocy51cGRhdGVOZWVkZWQudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICBzLmdyb3Vwcy5ncm91cHMuc2V0KG5ld1ZhbHVlcy5ncm91cHMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5ncm91cHMuZ3JvdXBzLnNldChbLi4ucy5ncm91cHMuZ3JvdXBzLnZhbHVlLCAuLi5uZXdWYWx1ZXMuZ3JvdXBzXSlcbiAgICAgICAgfVxuICAgICAgICBzLmdyb3Vwcy5tZXJnZSh7IHNraXA6IG5ld1ZhbHVlcy5za2lwLCBsaW1pdDogbmV3VmFsdWVzLmxpbWl0LCB0b3RhbDogbmV3VmFsdWVzLnRvdGFsIH0pXG4gICAgICAgIHMudXBkYXRlTmVlZGVkLnNldChmYWxzZSlcbiAgICAgICAgcmV0dXJuIHMuZ2V0R3JvdXBzSW5Qcm9ncmVzcy5zZXQoZmFsc2UpXG5cbiAgICAgIGNhc2UgJ0xPQURFRF9JTlZJVEFCTEVfR1JPVVBTJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG5cbiAgICAgICAgaWYgKHMudXBkYXRlTmVlZGVkLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgcy5pbnZpdGFibGVHcm91cHMuZ3JvdXBzLnNldChuZXdWYWx1ZXMuZ3JvdXBzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuaW52aXRhYmxlR3JvdXBzLmdyb3Vwcy5zZXQoWy4uLnMuaW52aXRhYmxlR3JvdXBzLmdyb3Vwcy52YWx1ZSwgLi4ubmV3VmFsdWVzLmdyb3Vwc10pXG4gICAgICAgIH1cbiAgICAgICAgcy5pbnZpdGFibGVHcm91cHMuc2tpcC5zZXQobmV3VmFsdWVzLnNraXApXG4gICAgICAgIHMuaW52aXRhYmxlR3JvdXBzLmxpbWl0LnNldChuZXdWYWx1ZXMubGltaXQpXG4gICAgICAgIHMuaW52aXRhYmxlR3JvdXBzLnRvdGFsLnNldChuZXdWYWx1ZXMudG90YWwpXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaW52aXRhYmxlVXBkYXRlTmVlZGVkOiBmYWxzZSwgZ2V0SW52aXRhYmxlR3JvdXBzSW5Qcm9ncmVzczogZmFsc2UgfSlcblxuICAgICAgY2FzZSAnQ1JFQVRFRF9HUk9VUCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSwgaW52aXRhYmxlVXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdQQVRDSEVEX0dST1VQJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIHVwZGF0ZUdyb3VwID0gbmV3VmFsdWVzLmdyb3VwXG5cbiAgICAgICAgZ3JvdXBJbmRleCA9IHMuZ3JvdXBzLmdyb3Vwcy52YWx1ZS5maW5kSW5kZXgoKGdyb3VwSXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBncm91cEl0ZW0gIT0gbnVsbCAmJiBncm91cEl0ZW0uaWQgPT09IGdyb3VwVXNlci5ncm91cElkXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChncm91cEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiBzLmdyb3Vwcy5ncm91cHNbZ3JvdXBJbmRleF0uc2V0KHVwZGF0ZUdyb3VwKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzXG4gICAgICBjYXNlICdSRU1PVkVEX0dST1VQJzpcbiAgICAgICAgcy51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICAgIHJldHVybiBzLmludml0YWJsZVVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0lOVklURURfR1JPVVBfVVNFUic6XG4gICAgICAgIHJldHVybiBzXG4gICAgICAvLyAuc2V0KCd1cGRhdGVOZWVkZWQnLCB0cnVlKVxuICAgICAgY2FzZSAnTEVGVF9HUk9VUCc6XG4gICAgICAgIHJldHVybiBzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZFVENISU5HX0dST1VQUyc6XG4gICAgICAgIHJldHVybiBzLmdldEdyb3Vwc0luUHJvZ3Jlc3Muc2V0KHRydWUpXG4gICAgICBjYXNlICdGRVRDSElOR19JTlZJVEFCTEVfR1JPVVBTJzpcbiAgICAgICAgcmV0dXJuIHMuZ2V0SW52aXRhYmxlR3JvdXBzSW5Qcm9ncmVzcy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NSRUFURURfR1JPVVBfVVNFUic6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBncm91cFVzZXIgPSBuZXdWYWx1ZXMuZ3JvdXBVc2VyXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuZ3JvdXBzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcEdyb3VwcyA9IHVwZGF0ZU1hcC5ncm91cHNcbiAgICAgICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQgPSBfLmZpbmQodXBkYXRlTWFwR3JvdXBzLCAoZ3JvdXApID0+IHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXAgIT0gbnVsbCAmJiBncm91cC5pZCA9PT0gZ3JvdXBVc2VyLmdyb3VwSWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHVwZGF0ZU1hcEdyb3Vwc0NoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBHcm91cFVzZXJzID0gdXBkYXRlTWFwR3JvdXBzQ2hpbGQuZ3JvdXBVc2Vyc1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gdXBkYXRlTWFwR3JvdXBVc2Vycy5maW5kKChnVXNlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGdVc2VyICE9IG51bGwgJiYgZ1VzZXIuaWQgPT09IGdyb3VwVXNlci5pZFxuICAgICAgICAgIH0pXG4gICAgICAgICAgdXBkYXRlTWFwR3JvdXBVc2VycyA9IEFycmF5LmlzQXJyYXkodXBkYXRlTWFwR3JvdXBVc2VycylcbiAgICAgICAgICAgID8gbWF0Y2ggPT0gbnVsbFxuICAgICAgICAgICAgICA/IHVwZGF0ZU1hcEdyb3VwVXNlcnMuY29uY2F0KFtncm91cFVzZXJdKVxuICAgICAgICAgICAgICA6IHVwZGF0ZU1hcEdyb3VwVXNlcnMubWFwKChnVXNlcikgPT4gKGdVc2VyLmlkID09PSBncm91cFVzZXIuaWQgPyBncm91cFVzZXIgOiBnVXNlcikpXG4gICAgICAgICAgICA6IFtncm91cFVzZXJdXG4gICAgICAgICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQuZ3JvdXBVc2VycyA9IHVwZGF0ZU1hcEdyb3VwVXNlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5ncm91cHMuZ3JvdXBzLnNldCh1cGRhdGVNYXBHcm91cHMpXG5cbiAgICAgIGNhc2UgJ1BBVENIRURfR1JPVVBfVVNFUic6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBncm91cFVzZXIgPSBuZXdWYWx1ZXMuZ3JvdXBVc2VyXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuZ3JvdXBzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcEdyb3VwcyA9IHVwZGF0ZU1hcC5ncm91cHNcbiAgICAgICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQgPSBfLmZpbmQodXBkYXRlTWFwR3JvdXBzLCAoZ3JvdXApID0+IHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXAgIT0gbnVsbCAmJiBncm91cC5pZCA9PT0gZ3JvdXBVc2VyLmdyb3VwSWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHVwZGF0ZU1hcEdyb3Vwc0NoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBHcm91cHNDaGlsZC5ncm91cFVzZXJzID0gdXBkYXRlTWFwR3JvdXBzQ2hpbGQuZ3JvdXBVc2Vycy5tYXAoKGdVc2VyKSA9PlxuICAgICAgICAgICAgZ1VzZXIuaWQgPT09IGdyb3VwVXNlci5pZCA/IGdyb3VwVXNlciA6IGdVc2VyXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHMuZ3JvdXBzLmdyb3Vwcy5zZXQodXBkYXRlTWFwR3JvdXBzKVxuXG4gICAgICBjYXNlICdSRU1PVkVEX0dST1VQX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgZ3JvdXBVc2VyID0gbmV3VmFsdWVzLmdyb3VwVXNlclxuICAgICAgICBjb25zdCBzZWxmID0gbmV3VmFsdWVzLnNlbGZcbiAgICAgICAgdXBkYXRlTWFwID0gcy5ncm91cHMudmFsdWVcbiAgICAgICAgdXBkYXRlTWFwR3JvdXBzID0gdXBkYXRlTWFwLmdyb3Vwc1xuICAgICAgICB1cGRhdGVNYXBHcm91cHNDaGlsZCA9IF8uZmluZCh1cGRhdGVNYXBHcm91cHMsIChncm91cCkgPT4ge1xuICAgICAgICAgIHJldHVybiBncm91cCAhPSBudWxsICYmIGdyb3VwLmlkID09PSBncm91cFVzZXIuZ3JvdXBJZFxuICAgICAgICB9KVxuICAgICAgICBpZiAodXBkYXRlTWFwR3JvdXBzQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcEdyb3VwVXNlcnMgPSB1cGRhdGVNYXBHcm91cHNDaGlsZC5ncm91cFVzZXJzXG4gICAgICAgICAgXy5maW5kSW5kZXgodXBkYXRlTWFwR3JvdXBVc2VycywgKGdVc2VyOiBHcm91cFVzZXIpID0+IGdyb3VwVXNlci5pZCA9PT0gZ1VzZXIuaWQpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmV0dXJuZWQgPSBzLmdyb3Vwcy5ncm91cHMuc2V0KHVwZGF0ZU1hcEdyb3VwcylcbiAgICAgICAgaWYgKHNlbGYgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm5lZCA9IHMubWVyZ2UoeyBjbG9zZURldGFpbHM6IGdyb3VwVXNlci5ncm91cElkLCB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuZWRcblxuICAgICAgY2FzZSAnUkVNT1ZFX0NMT1NFX0dST1VQX0RFVEFJTCc6XG4gICAgICAgIHJldHVybiBzLmNsb3NlRGV0YWlscy5zZXQoJycpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0dyb3VwU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUdyb3VwU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgUGFydHlBY3Rpb25UeXBlIH0gZnJvbSAnLi9QYXJ0eUFjdGlvbnMnXG5cbmltcG9ydCB7IFBhcnR5VXNlciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvUGFydHlVc2VyJ1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgcGFydHk6IHt9LFxuICB1cGRhdGVOZWVkZWQ6IHRydWVcbn0pXG5cbmV4cG9ydCBjb25zdCBwYXJ0eVJlZHVjZXIgPSAoXywgYWN0aW9uOiBQYXJ0eUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBwYXJ0eVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgcGFydHlSZWNlcHRvciA9IChhY3Rpb246IFBhcnR5QWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCBuZXdWYWx1ZXMsIHVwZGF0ZU1hcCwgcGFydHlVc2VyLCB1cGRhdGVNYXBQYXJ0eVVzZXJzXG5cbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0FERURfUEFSVFknOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHBhcnR5OiBhY3Rpb24ucGFydHksIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0NSRUFURURfUEFSVFknOlxuICAgICAgICByZXR1cm4gcy51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdSRU1PVkVEX1BBUlRZJzpcbiAgICAgICAgdXBkYXRlTWFwID0gbmV3IE1hcCgpXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgcGFydHk6IHt9LCB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0lOVklURURfUEFSVFlfVVNFUic6XG4gICAgICAgIHJldHVybiBzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NSRUFURURfUEFSVFlfVVNFUic6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBwYXJ0eVVzZXIgPSBuZXdWYWx1ZXMucGFydHlVc2VyXG4gICAgICAgIHVwZGF0ZU1hcCA9IF8uY2xvbmVEZWVwKHMucGFydHkudmFsdWUpXG4gICAgICAgIGlmICh1cGRhdGVNYXAgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcFBhcnR5VXNlcnMgPSB1cGRhdGVNYXAucGFydHlVc2Vyc1xuICAgICAgICAgIHVwZGF0ZU1hcFBhcnR5VXNlcnMgPSBBcnJheS5pc0FycmF5KHVwZGF0ZU1hcFBhcnR5VXNlcnMpXG4gICAgICAgICAgICA/IHVwZGF0ZU1hcFBhcnR5VXNlcnMuZmluZCgocFVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcFVzZXIgIT0gbnVsbCAmJiBwVXNlci5pZCA9PT0gcGFydHlVc2VyLmlkXG4gICAgICAgICAgICAgIH0pID09IG51bGxcbiAgICAgICAgICAgICAgPyB1cGRhdGVNYXBQYXJ0eVVzZXJzLmNvbmNhdChbcGFydHlVc2VyXSlcbiAgICAgICAgICAgICAgOiB1cGRhdGVNYXAucGFydHlVc2Vycy5tYXAoKHBVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcFVzZXIgIT0gbnVsbCAmJiBwVXNlci5pZCA9PT0gcGFydHlVc2VyLmlkID8gcGFydHlVc2VyIDogcFVzZXJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBbcGFydHlVc2VyXVxuICAgICAgICAgIHVwZGF0ZU1hcC5wYXJ0eVVzZXJzID0gdXBkYXRlTWFwUGFydHlVc2Vyc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLnBhcnR5LnNldCh1cGRhdGVNYXApXG5cbiAgICAgIGNhc2UgJ1BBVENIRURfUEFSVFlfVVNFUic6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBwYXJ0eVVzZXIgPSBuZXdWYWx1ZXMucGFydHlVc2VyXG4gICAgICAgIHVwZGF0ZU1hcCA9IF8uY2xvbmVEZWVwKHMucGFydHkudmFsdWUpXG4gICAgICAgIGlmICh1cGRhdGVNYXAgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcFBhcnR5VXNlcnMgPSB1cGRhdGVNYXAucGFydHlVc2Vyc1xuICAgICAgICAgIHVwZGF0ZU1hcFBhcnR5VXNlcnMgPSBBcnJheS5pc0FycmF5KHVwZGF0ZU1hcFBhcnR5VXNlcnMpXG4gICAgICAgICAgICA/IHVwZGF0ZU1hcFBhcnR5VXNlcnMuZmluZCgocFVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcFVzZXIgIT0gbnVsbCAmJiBwVXNlci5pZCA9PT0gcGFydHlVc2VyLmlkXG4gICAgICAgICAgICAgIH0pID09IG51bGxcbiAgICAgICAgICAgICAgPyB1cGRhdGVNYXBQYXJ0eVVzZXJzLmNvbmNhdChbcGFydHlVc2VyXSlcbiAgICAgICAgICAgICAgOiB1cGRhdGVNYXAucGFydHlVc2Vycy5tYXAoKHBVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcFVzZXIgIT0gbnVsbCAmJiBwVXNlci5pZCA9PT0gcGFydHlVc2VyLmlkID8gcGFydHlVc2VyIDogcFVzZXJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBbcGFydHlVc2VyXVxuICAgICAgICAgIHVwZGF0ZU1hcC5wYXJ0eVVzZXJzID0gdXBkYXRlTWFwUGFydHlVc2Vyc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLnBhcnR5LnNldCh1cGRhdGVNYXApXG5cbiAgICAgIGNhc2UgJ1JFTU9WRURfUEFSVFlfVVNFUic6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBwYXJ0eVVzZXIgPSBuZXdWYWx1ZXMucGFydHlVc2VyXG4gICAgICAgIHVwZGF0ZU1hcCA9IF8uY2xvbmVEZWVwKHMucGFydHkudmFsdWUpXG4gICAgICAgIGlmICh1cGRhdGVNYXAgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcFBhcnR5VXNlcnMgPSB1cGRhdGVNYXAucGFydHlVc2Vyc1xuICAgICAgICAgIF8ucmVtb3ZlKHVwZGF0ZU1hcFBhcnR5VXNlcnMsIChwVXNlcjogUGFydHlVc2VyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcFVzZXIgIT0gbnVsbCAmJiBwYXJ0eVVzZXIuaWQgPT09IHBVc2VyLmlkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzLnBhcnR5LnNldCh1cGRhdGVNYXApXG4gICAgICAgIHJldHVybiBzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzUGFydHlTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUGFydHlTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBJbnZpdGVBY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnZpdGVBY3Rpb25zJ1xuaW1wb3J0IHsgSW52aXRlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JbnZpdGUnXG5leHBvcnQgY29uc3QgSU5WSVRFX1BBR0VfTElNSVQgPSAxMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgcmVjZWl2ZWRJbnZpdGVzOiB7XG4gICAgaW52aXRlczogW10gYXMgQXJyYXk8SW52aXRlPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiA1LFxuICAgIHRvdGFsOiAwXG4gIH0sXG4gIHNlbnRJbnZpdGVzOiB7XG4gICAgaW52aXRlczogW10gYXMgQXJyYXk8SW52aXRlPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiA1LFxuICAgIHRvdGFsOiAwXG4gIH0sXG4gIHNlbnRVcGRhdGVOZWVkZWQ6IHRydWUsXG4gIHJlY2VpdmVkVXBkYXRlTmVlZGVkOiB0cnVlLFxuICBnZXRTZW50SW52aXRlc0luUHJvZ3Jlc3M6IGZhbHNlLFxuICBnZXRSZWNlaXZlZEludml0ZXNJblByb2dyZXNzOiBmYWxzZSxcbiAgdGFyZ2V0T2JqZWN0SWQ6ICcnLFxuICB0YXJnZXRPYmplY3RUeXBlOiAnJ1xufSlcblxuZXhwb3J0IGNvbnN0IGludml0ZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBJbnZpdGVBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gaW52aXRlUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBpbnZpdGVSZWNlcHRvciA9IChhY3Rpb246IEludml0ZUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzXG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnSU5WSVRFX1NFTlQnOlxuICAgICAgICByZXR1cm4gcy5zZW50VXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnU0VOVF9JTlZJVEVTX1JFVFJJRVZFRCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBzLnNlbnRJbnZpdGVzLm1lcmdlKHtcbiAgICAgICAgICBpbnZpdGVzOiBuZXdWYWx1ZXMuaW52aXRlcyxcbiAgICAgICAgICBza2lwOiBuZXdWYWx1ZXMuc2tpcCxcbiAgICAgICAgICBsaW1pdDogbmV3VmFsdWVzLmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiBuZXdWYWx1ZXMudG90YWxcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBzZW50VXBkYXRlTmVlZGVkOiBmYWxzZSwgZ2V0U2VudEludml0ZXNJblByb2dyZXNzOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnUkVDRUlWRURfSU5WSVRFU19SRVRSSUVWRUQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgY29uc3QgcmVjZWl2ZWRJbnZpdGVzID0gcy5yZWNlaXZlZEludml0ZXMuaW52aXRlcy52YWx1ZVxuXG4gICAgICAgIGlmIChyZWNlaXZlZEludml0ZXMgPT09IG51bGwgfHwgcy5yZWNlaXZlZFVwZGF0ZU5lZWRlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHMucmVjZWl2ZWRJbnZpdGVzLmludml0ZXMuc2V0KG5ld1ZhbHVlcy5pbnZpdGVzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMucmVjZWl2ZWRJbnZpdGVzLmludml0ZXMubWVyZ2UoWy4uLnMucmVjZWl2ZWRJbnZpdGVzLmludml0ZXMudmFsdWUsIC4uLm5ld1ZhbHVlcy5pbnZpdGVzXSlcbiAgICAgICAgfVxuICAgICAgICBzLnJlY2VpdmVkSW52aXRlcy5tZXJnZSh7IHNraXA6IG5ld1ZhbHVlcy5za2lwLCBsaW1pdDogbmV3VmFsdWVzLmxpbWl0LCB0b3RhbDogbmV3VmFsdWVzLnRvdGFsIH0pXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgcmVjZWl2ZWRVcGRhdGVOZWVkZWQ6IGZhbHNlLCBnZXRSZWNlaXZlZEludml0ZXNJblByb2dyZXNzOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQ1JFQVRFRF9SRUNFSVZFRF9JTlZJVEUnOlxuICAgICAgICByZXR1cm4gcy5yZWNlaXZlZFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NSRUFURURfU0VOVF9JTlZJVEUnOlxuICAgICAgICByZXR1cm4gcy5zZW50VXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnUkVNT1ZFRF9SRUNFSVZFRF9JTlZJVEUnOlxuICAgICAgICByZXR1cm4gcy5yZWNlaXZlZFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ1JFTU9WRURfU0VOVF9JTlZJVEUnOlxuICAgICAgICByZXR1cm4gcy5zZW50VXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnQUNDRVBURURfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMucmVjZWl2ZWRVcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdERUNMSU5FRF9JTlZJVEUnOlxuICAgICAgICByZXR1cm4gcy5yZWNlaXZlZFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0lOVklURV9UQVJHRVRfU0VUJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIHJldHVybiBzdGF0ZS5tZXJnZSh7XG4gICAgICAgICAgdGFyZ2V0T2JqZWN0SWQ6IG5ld1ZhbHVlcy50YXJnZXRPYmplY3RJZCB8fCAnJyxcbiAgICAgICAgICB0YXJnZXRPYmplY3RUeXBlOiBuZXdWYWx1ZXMudGFyZ2V0T2JqZWN0VHlwZSB8fCAnJ1xuICAgICAgICB9KVxuICAgICAgY2FzZSAnRkVUQ0hJTkdfU0VOVF9JTlZJVEVTJzpcbiAgICAgICAgcmV0dXJuIHMuZ2V0U2VudEludml0ZXNJblByb2dyZXNzLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVUQ0hJTkdfUkVDRUlWRURfSU5WSVRFUyc6XG4gICAgICAgIHJldHVybiBzLmdldFJlY2VpdmVkSW52aXRlc0luUHJvZ3Jlc3Muc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0ludml0ZVN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VJbnZpdGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBJbnZpdGVUeXBlQWN0aW9uVHlwZSB9IGZyb20gJy4vSW52aXRlVHlwZUFjdGlvbnMnXG5pbXBvcnQgeyBJbnZpdGUgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0ludml0ZSdcbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpbnZpdGVUeXBlRGF0YToge1xuICAgIGludml0ZXNUeXBlOiBbXSBhcyBBcnJheTxJbnZpdGU+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDUsXG4gICAgdG90YWw6IDBcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGludml0ZVR5cGVSZWR1Y2VyID0gKF8sIGFjdGlvbjogSW52aXRlVHlwZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBpbnZpdGVUeXBlUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBpbnZpdGVUeXBlUmVjZXB0b3IgPSAoYWN0aW9uOiBJbnZpdGVUeXBlQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCBuZXdWYWx1ZXNcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0FEX0lOVklURV9UWVBFJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGlmIChuZXdWYWx1ZXMuaW52aXRlc1R5cGUgIT0gbnVsbCkge1xuICAgICAgICAgIHMuaW52aXRlVHlwZURhdGEuaW52aXRlc1R5cGUubWVyZ2UoW25ld1ZhbHVlcy5pbnZpdGVzVHlwZV0pXG4gICAgICAgIH1cbiAgICAgICAgcy5pbnZpdGVUeXBlRGF0YS5za2lwLnNldChuZXdWYWx1ZXMuc2tpcClcbiAgICAgICAgcy5pbnZpdGVUeXBlRGF0YS5saW1pdC5zZXQobmV3VmFsdWVzLmxpbWl0KVxuICAgICAgICByZXR1cm4gcy5pbnZpdGVUeXBlRGF0YS50b3RhbC5zZXQobmV3VmFsdWVzLnRvdGFsKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NJbnZpdGVUeXBlU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUludml0ZVR5cGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjaGF0UmVkdWNlciB9IGZyb20gJy4vY2hhdC9DaGF0U3RhdGUnXG5pbXBvcnQgeyBmcmllbmRSZWR1Y2VyIH0gZnJvbSAnLi9mcmllbmQvRnJpZW5kU3RhdGUnXG5pbXBvcnQgeyBsb2NhdGlvblJlZHVjZXIgfSBmcm9tICcuL2xvY2F0aW9uL0xvY2F0aW9uU3RhdGUnXG5pbXBvcnQgeyBncm91cFJlZHVjZXIgfSBmcm9tICcuL2dyb3VwL0dyb3VwU3RhdGUnXG5pbXBvcnQgeyBwYXJ0eVJlZHVjZXIgfSBmcm9tICcuL3BhcnR5L1BhcnR5U3RhdGUnXG5pbXBvcnQgeyBpbnZpdGVSZWR1Y2VyIH0gZnJvbSAnLi9pbnZpdGUvSW52aXRlU3RhdGUnXG5pbXBvcnQgeyBpbnZpdGVUeXBlUmVkdWNlciB9IGZyb20gJy4vaW52aXRlVHlwZS9JbnZpdGVUeXBlU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9jYXRpb25zOiBsb2NhdGlvblJlZHVjZXIsXG4gIGNoYXQ6IGNoYXRSZWR1Y2VyLFxuICBmcmllbmRzOiBmcmllbmRSZWR1Y2VyLFxuICBwYXJ0eTogcGFydHlSZWR1Y2VyLFxuICBncm91cHM6IGdyb3VwUmVkdWNlcixcbiAgaW52aXRlOiBpbnZpdGVSZWR1Y2VyLFxuICBpbnZpdGVzVHlwZURhdGE6IGludml0ZVR5cGVSZWR1Y2VyXG59XG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEZlZWRDb21tZW50QWN0aW9uVHlwZSB9IGZyb20gJy4vRmVlZENvbW1lbnRBY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZmVlZHM6IHtcbiAgICBmZWVkQ29tbWVudHM6IFtdLFxuICAgIGNvbW1lbnRGaXJlczogW10sXG4gICAgZmV0Y2hpbmc6IGZhbHNlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBmZWVkQ29tbWVudHNSZWR1Y2VyID0gKF8sIGFjdGlvbjogRmVlZENvbW1lbnRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZmVlZENvbW1lbnRzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBmZWVkQ29tbWVudHNSZWNlcHRvciA9IChhY3Rpb246IEZlZWRDb21tZW50QWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnRkVFRF9DT01NRU5UU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVFRF9DT01NRU5UU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IGZlZWRDb21tZW50czogYWN0aW9uLmNvbW1lbnRzIHx8IFtdLCBmZXRjaGluZzogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0FERF9GRUVEX0NPTU1FTlRfRklSRVMnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkQ29tbWVudHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZENvbW1lbnRzLnZhbHVlLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi5jb21tZW50SWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uaXRlbSwgZmlyZXM6IHBhcnNlSW50KGl0ZW0uZmlyZXMpICsgMSwgaXNGaXJlZDogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICBjYXNlICdSRU1PVkVfRkVFRF9DT01NRU5UX0ZJUkVTJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZENvbW1lbnRzLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRDb21tZW50cy52YWx1ZS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24uY29tbWVudElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0sIGZpcmVzOiAtLWl0ZW0uZmlyZXMsIGlzRmlyZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0gfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ0FERF9GRUVEX0NPTU1FTlQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkQ29tbWVudHMuc2V0KFthY3Rpb24uY29tbWVudCwgLi4uKHMuZmVlZHMuZmVlZENvbW1lbnRzLnZhbHVlIHx8IFtdKV0pXG5cbiAgICAgIGNhc2UgJ0NPTU1FTlRfRklSRVMnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5jb21tZW50RmlyZXMuc2V0KGFjdGlvbi5jcmVhdG9ycylcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzRmVlZENvbW1lbnRzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUZlZWRDb21tZW50c1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpXG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEZlZWRGaXJlc0FjdGlvblR5cGUgfSBmcm9tICcuL0ZlZWRGaXJlc0FjdGlvbnMnXG5pbXBvcnQgeyBDcmVhdG9yU2hvcnQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NyZWF0b3InXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBmZWVkRmlyZXM6IHtcbiAgICBmZWVkRmlyZXM6IFtdIGFzIEFycmF5PENyZWF0b3JTaG9ydD4sXG4gICAgZmV0Y2hpbmc6IGZhbHNlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBmZWVkRmlyZXNSZWR1Y2VyID0gKF8sIGFjdGlvbjogRmVlZEZpcmVzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGZlZWRGaXJlc1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZmVlZEZpcmVzUmVjZXB0b3IgPSAoYWN0aW9uOiBGZWVkRmlyZXNBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdGRUVEX0ZJUkVTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZEZpcmVzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVFRF9GSVJFU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkRmlyZXMubWVyZ2UoeyBmZWVkRmlyZXM6IGFjdGlvbi5mZWVkRmlyZXMsIGZldGNoaW5nOiBmYWxzZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NGZWVkRmlyZXNTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlRmVlZEZpcmVzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZUFjdGlvblR5cGUgfSBmcm9tICcuL1BvcHVwc1N0YXRlQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHBvcHVwczoge1xuICAgIGNyZWF0b3JQYWdlOiBmYWxzZSxcbiAgICBjcmVhdG9yRm9ybTogZmFsc2UsXG4gICAgY3JlYXRvcklkOiBudWxsLFxuICAgIGZlZWRQYWdlOiBmYWxzZSxcbiAgICBmZWVkSWQ6IG51bGwsXG4gICAgc2hhcmVGZWVkUGFnZTogZmFsc2UsXG4gICAgYXJNZWRpYTogZmFsc2UsXG4gICAgc2hhcmVGb3JtOiBmYWxzZSxcbiAgICB2aWRlb1VybDogbnVsbCxcbiAgICB3ZWJ4cjogZmFsc2UsXG4gICAgdmlkZW9QYXRoOiBudWxsLFxuICAgIGltZ1NyYzogbnVsbCxcbiAgICBmUGF0aDogbnVsbCxcbiAgICBuYW1lSWQ6IG51bGwsXG4gICAgaXRlbUlkOiBudWxsXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBwb3B1cHNTdGF0ZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBQb3B1cHNTdGF0ZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBwb3B1cHNTdGF0ZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgcG9wdXBzU3RhdGVSZWNlcHRvciA9IChhY3Rpb246IFBvcHVwc1N0YXRlQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQ0hBTkdFX0NSRUFUT1JfUEFHRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7IGNyZWF0b3JQYWdlOiBhY3Rpb24uc3RhdGUsIGNyZWF0b3JJZDogYWN0aW9uLmlkIH0pXG4gICAgICBjYXNlICdDSEFOR0VfQ1JFQVRPUl9GT1JNX1NUQVRFJzpcbiAgICAgICAgcmV0dXJuIHMucG9wdXBzLmNyZWF0b3JGb3JtLnNldChhY3Rpb24uc3RhdGUpXG4gICAgICBjYXNlICdDSEFOR0VfRkVFRF9QQUdFX1NUQVRFJzpcbiAgICAgICAgcmV0dXJuIHMucG9wdXBzLm1lcmdlKHsgZmVlZFBhZ2U6IGFjdGlvbi5zdGF0ZSwgZmVlZElkOiBhY3Rpb24uaWQgfSlcbiAgICAgIGNhc2UgJ0NIQU5HRV9BUk1FRElBX0NIT09TRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5hck1lZGlhLnNldChhY3Rpb24uc3RhdGUpXG4gICAgICBjYXNlICdDSEFOR0VfTkVXX0ZFRURfUEFHRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7XG4gICAgICAgICAgc2hhcmVGZWVkUGFnZTogYWN0aW9uLnN0YXRlLFxuICAgICAgICAgIHZpZGVvUGF0aDogYWN0aW9uLmlkLFxuICAgICAgICAgIGZQYXRoOiBhY3Rpb24uZlBhdGgsXG4gICAgICAgICAgbmFtZUlkOiBhY3Rpb24ubmFtZUlkXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdDSEFOR0VfU0hBUkVfRk9STV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7IHNoYXJlRm9ybTogYWN0aW9uLnN0YXRlLCB2aWRlb1VybDogYWN0aW9uLmlkLCBpbWdTcmM6IGFjdGlvbi5pbWdTcmMgfSlcbiAgICAgIGNhc2UgJ0NIQU5HRV9XRUJfWFJfU1RBVEUnOlxuICAgICAgICByZXR1cm4gcy5wb3B1cHMubWVyZ2UoeyB3ZWJ4cjogYWN0aW9uLnN0YXRlLCBpdGVtSWQ6IGFjdGlvbi5pdGVtSWQgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzUG9wdXBzU3RhdGVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUG9wdXBzU3RhdGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiLyoqXG4gKiBAYXV0aG9yIEdsZWIgT3JkaW5za3kgPGdsZWJvcmRpbnNraWpqQGdtYWlsLmNvbT5cbiAqL1xuLy8gY29uc3QgdGhlZmVlZHMgPSAnJztcbi8vIGNvbnRzIFRoZUZlZWRzID0gJyc7XG4vLyBjb25zdCBUSEVGRUVEUyA9ICcnO1xuXG5pbXBvcnQgeyBUaGVGZWVkc1Nob3J0LCBUaGVGZWVkcyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvRmVlZHMnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBUaGVGZWVkc0FjdGlvblR5cGUgfSBmcm9tICcuL1RoZUZlZWRzQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHRoZWZlZWRzOiBbXSBhcyBBcnJheTxUaGVGZWVkcz4sXG4gIGZldGNoaW5nOiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IHRoZUZlZWRzUmVkdWNlciA9IChfLCBhY3Rpb246IFRoZUZlZWRzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHRoZUZlZWRzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCB0aGVGZWVkc1JlY2VwdG9yID0gKGFjdGlvbjogVGhlRmVlZHNBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdUSEVGRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnVEhFRkVFRFNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB0aGVmZWVkczogYWN0aW9uLnRoZWZlZWRzLCBmZXRjaGluZzogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0FERF9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChbLi4ucy50aGVmZWVkcy52YWx1ZSwgYWN0aW9uLnRoZWZlZWRzXSlcbiAgICAgIGNhc2UgJ1VQREFURV9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChcbiAgICAgICAgICBzLnRoZWZlZWRzLnZhbHVlLm1hcCgodGhlZmVlZHMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGVmZWVkcy5pZCA9PT0gYWN0aW9uLnRoZWZlZWRzLmlkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLnRoZWZlZWRzLCAuLi5hY3Rpb24udGhlZmVlZHMgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhlZmVlZHMgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ1JFTU9WRV9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChbLi4ucy50aGVmZWVkcy52YWx1ZS5maWx0ZXIoKHRoZWZlZWRzKSA9PiB0aGVmZWVkcy5pZCAhPT0gYWN0aW9uLnRoZWZlZWRzKV0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1RoZUZlZWRzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVRoZUZlZWRzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsImltcG9ydCB7IFRoZUZlZWRzRmlyZXMgfSBmcm9tICcuLy4uLy4uLy4uLy4uL3NlcnZlci1jb3JlL3NyYy9zb2NpYWxtZWRpYS9mZWVkcy1maXJlcy9mZWVkcy1maXJlcy5jbGFzcydcbi8qKlxuICogQGF1dGhvciBHbGViIE9yZGluc2t5IDxnbGVib3JkaW5za2lqakBnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFRoZUZlZWRzRmlyZXNBY3Rpb25UeXBlIH0gZnJvbSAnLi9UaGVGZWVkc0ZpcmVzQWN0aW9ucydcblxuLy8gdGhlZmVlZHNcbi8vIFRoZUZlZWRzXG4vLyBUSEVGRUVEU1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgdGhlZmVlZHNGaXJlczoge1xuICAgIHRoZWZlZWRzRmlyZXM6IFtdLFxuICAgIGZldGNoaW5nOiBmYWxzZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgdGhlRmVlZHNGaXJlc1JlZHVjZXIgPSAoXywgYWN0aW9uOiBUaGVGZWVkc0ZpcmVzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHRoZUZlZWRzRmlyZXNSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHRoZUZlZWRzRmlyZXNSZWNlcHRvciA9IChhY3Rpb246IFRoZUZlZWRzRmlyZXNBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdUSEVGRUVEU19GSVJFU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzRmlyZXMuZmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdUSEVGRUVEU19GSVJFU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy50aGVmZWVkc0ZpcmVzLnRoZWZlZWRzRmlyZXMuc2V0KGFjdGlvbi50aGVmZWVkc0ZpcmVzKVxuICAgICAgY2FzZSAnQUREX1RIRUZFRURTX0ZJUkVTJzpcbiAgICAgICAgcmV0dXJuIHMudGhlZmVlZHNGaXJlcy50aGVmZWVkc0ZpcmVzLnNldChbLi4ucy50aGVmZWVkc0ZpcmVzLnRoZWZlZWRzRmlyZXMsIGFjdGlvbi50aGVmZWVkc0ZpcmVdKVxuICAgICAgY2FzZSAnUkVNT1ZFX1RIRUZFRURTX0ZJUkVTJzpcbiAgICAgICAgcmV0dXJuIHMudGhlZmVlZHNGaXJlcy50aGVmZWVkc0ZpcmVzLnNldChcbiAgICAgICAgICBzLnRoZWZlZWRzRmlyZXMudGhlZmVlZHNGaXJlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkuaWQgIT09IGFjdGlvbi50aGVmZWVkc0ZpcmVJZClcbiAgICAgICAgKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NUaGVGZWVkc0ZpcmVzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVRoZUZlZWRzRmlyZXNTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiLyoqXG4gKiBAYXV0aG9yIEdsZWIgT3JkaW5za3kgPGdsZWJvcmRpbnNraWpqQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBXZWJ4ck5hdGl2ZUFjdGlvblR5cGUgfSBmcm9tICcuL1dlYnhyTmF0aXZlQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHdlYnhybmF0aXZlOiBudWxsXG59KVxuXG5leHBvcnQgY29uc3Qgd2VieHJuYXRpdmVSZWR1Y2VyID0gKF8sIGFjdGlvbjogV2VieHJOYXRpdmVBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gd2VieHJuYXRpdmVSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHdlYnhybmF0aXZlUmVjZXB0b3IgPSAoYWN0aW9uOiBXZWJ4ck5hdGl2ZUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NFVF9XRUJYUk5BVElWRSc6XG4gICAgICAgIHJldHVybiBzLndlYnhybmF0aXZlLnNldChmYWxzZSlcbiAgICAgIGNhc2UgJ1RPR0dMRV9XRUJYUk5BVElWRSc6XG4gICAgICAgIHJldHVybiBzLndlYnhybmF0aXZlLnNldCghcy53ZWJ4cm5hdGl2ZS52YWx1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzV2VieHJOYXRpdmVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlV2VieHJOYXRpdmVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgUmVnaXN0cmF0aW9uQWN0aW9uVHlwZSB9IGZyb20gJy4vUmVnaXN0cmF0aW9uQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHJlZ2lzdHJhdGlvbjoge31cbn0pXG5cbmV4cG9ydCBjb25zdCByZWdpc3RyYXRpb25SZWR1Y2VyID0gKF8sIGFjdGlvbjogUmVnaXN0cmF0aW9uQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHJlZ2lzdHJhdGlvblJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgcmVnaXN0cmF0aW9uUmVjZXB0b3IgPSAoYWN0aW9uOiBSZWdpc3RyYXRpb25BY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgLyogc3RhdGUubWVyZ2UoKHMpPT57XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn0sYWN0aW9uLnR5cGUpKi9cbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1JlZ2lzdHJhdGlvblN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VSZWdpc3RyYXRpb25TdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiaW1wb3J0IHsgYXJNZWRpYVJlZHVjZXIgfSBmcm9tICcuL2FyTWVkaWEvQXJNZWRpYVN0YXRlJ1xuaW1wb3J0IHsgY3JlYXRvclJlZHVjZXIgfSBmcm9tICcuL2NyZWF0b3IvQ3JlYXRvclN0YXRlJ1xuaW1wb3J0IHsgZmVlZFJlZHVjZXIgfSBmcm9tICcuL2ZlZWQvRmVlZFN0YXRlJ1xuaW1wb3J0IHsgZmVlZENvbW1lbnRzUmVkdWNlciB9IGZyb20gJy4vZmVlZENvbW1lbnQvRmVlZENvbW1lbnRTdGF0ZSdcbmltcG9ydCB7IGZlZWRGaXJlc1JlZHVjZXIgfSBmcm9tICcuL2ZlZWRGaXJlcy9GZWVkRmlyZXNTdGF0ZSdcbmltcG9ydCB7IHBvcHVwc1N0YXRlUmVkdWNlciB9IGZyb20gJy4vcG9wdXBzU3RhdGUvUG9wdXBzU3RhdGVTdGF0ZSdcbmltcG9ydCB7IHRoZUZlZWRzUmVkdWNlciB9IGZyb20gJy4vdGhlZmVlZHMvVGhlRmVlZHNTdGF0ZSdcbmltcG9ydCB7IHRoZUZlZWRzRmlyZXNSZWR1Y2VyIH0gZnJvbSAnLi90aGVmZWVkc0ZpcmVzL1RoZUZlZWRzRmlyZXNTdGF0ZSdcbmltcG9ydCB7IHdlYnhybmF0aXZlUmVkdWNlciB9IGZyb20gJy4vd2VieHJfbmF0aXZlL1dlYnhyTmF0aXZlU3RhdGUnXG5pbXBvcnQgeyByZWdpc3RyYXRpb25SZWR1Y2VyIH0gZnJvbSAnLi9yZWdpc3RyYXRpb24vUmVnaXN0cmF0aW9uU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRvcnM6IGNyZWF0b3JSZWR1Y2VyLFxuICBmZWVkczogZmVlZFJlZHVjZXIsXG4gIGZlZWRGaXJlczogZmVlZEZpcmVzUmVkdWNlcixcbiAgZmVlZENvbW1lbnRzOiBmZWVkQ29tbWVudHNSZWR1Y2VyLFxuICBhck1lZGlhOiBhck1lZGlhUmVkdWNlcixcbiAgcG9wdXBzOiBwb3B1cHNTdGF0ZVJlZHVjZXIsXG4gIHRoZWZlZWRzOiB0aGVGZWVkc1JlZHVjZXIsXG4gIHRoZWZlZWRzRmlyZXM6IHRoZUZlZWRzRmlyZXNSZWR1Y2VyLFxuICB3ZWJ4cm5hdGl2ZTogd2VieHJuYXRpdmVSZWR1Y2VyLFxuICByZWdpc3RyYXRpb25SZWR1Y2VyOiByZWdpc3RyYXRpb25SZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi9Vc2VyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbGF0aW9uc2hpcCB7XG4gIHVzZXJJZDogc3RyaW5nXG4gIGZyaWVuZDogVXNlcltdXG4gIHJlcXVlc3RlZDogVXNlcltdXG4gIGJsb2NraW5nOiBVc2VyW11cbiAgYmxvY2tlZDogVXNlcltdXG59XG5cbmV4cG9ydCBjb25zdCBSZWxhdGlvbnNoaXBTZWVkOiBSZWxhdGlvbnNoaXAgPSB7XG4gIHVzZXJJZDogJycsXG4gIGZyaWVuZDogW10sXG4gIHJlcXVlc3RlZDogW10sXG4gIGJsb2NraW5nOiBbXSxcbiAgYmxvY2tlZDogW11cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFJlbGF0aW9uc2hpcFNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1JlbGF0aW9uc2hpcCdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBVc2VyQWN0aW9uVHlwZSB9IGZyb20gJy4vVXNlckFjdGlvbidcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHJlbGF0aW9uc2hpcDogUmVsYXRpb25zaGlwU2VlZCxcbiAgdXNlcnM6IFtdIGFzIEFycmF5PFVzZXI+LFxuICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gIGxheWVyVXNlcnM6IFtdIGFzIEFycmF5PFVzZXI+LFxuICBsYXllclVzZXJzVXBkYXRlTmVlZGVkOiB0cnVlLFxuICBjaGFubmVsTGF5ZXJVc2VyczogW10gYXMgQXJyYXk8VXNlcj4sXG4gIGNoYW5uZWxMYXllclVzZXJzVXBkYXRlTmVlZGVkOiB0cnVlLFxuICB0b2FzdE1lc3NhZ2VzOiBbXSBhcyBBcnJheTx7IHVzZXI6IFVzZXI7IHVzZXJBZGRlZD86IGJvb2xlYW47IHVzZXJSZW1vdmVkPzogYm9vbGVhbiB9PlxufSlcblxuZXhwb3J0IGNvbnN0IHVzZXJSZWR1Y2VyID0gKF8sIGFjdGlvbjogVXNlckFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1c2VyUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5leHBvcnQgY29uc3QgdXNlclJlY2VwdG9yID0gKGFjdGlvbjogVXNlckFjdGlvblR5cGUpOiB2b2lkID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0FERURfUkVMQVRJT05TSElQJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyByZWxhdGlvbnNoaXA6IGFjdGlvbi5yZWxhdGlvbnNoaXAsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0FETUlOX0xPQURFRF9VU0VSUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXNlcnM6IGFjdGlvbi51c2VycywgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQ0hBTkdFRF9SRUxBVElPTic6XG4gICAgICAgIHJldHVybiBzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NMRUFSX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsYXllclVzZXJzOiBbXSwgbGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnTE9BREVEX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsYXllclVzZXJzOiBhY3Rpb24udXNlcnMsIGxheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdBRERFRF9MQVlFUl9VU0VSJzoge1xuICAgICAgICBjb25zdCBuZXdVc2VyID0gYWN0aW9uLnVzZXJcbiAgICAgICAgY29uc3QgaWR4ID0gcy5sYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci5pZC52YWx1ZSA9PT0gbmV3VXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHMubGF5ZXJVc2Vycy5tZXJnZShbbmV3VXNlcl0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5sYXllclVzZXJzW2lkeF0uc2V0KG5ld1VzZXIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMubGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1JFTU9WRURfTEFZRVJfVVNFUic6IHtcbiAgICAgICAgY29uc3QgbGF5ZXJVc2VycyA9IHMubGF5ZXJVc2Vyc1xuICAgICAgICBjb25zdCBpZHggPSBsYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci52YWx1ZS5pZCA9PT0gYWN0aW9uLnVzZXIuaWRcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHMubGF5ZXJVc2Vyc1tpZHhdLnNldChub25lKVxuICAgICAgfVxuICAgICAgY2FzZSAnQ0xFQVJfQ0hBTk5FTF9MQVlFUl9VU0VSUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBjaGFubmVsTGF5ZXJVc2VyczogW10sXG4gICAgICAgICAgY2hhbm5lbExheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0xPQURFRF9DSEFOTkVMX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGNoYW5uZWxMYXllclVzZXJzOiBhY3Rpb24udXNlcnMsXG4gICAgICAgICAgY2hhbm5lbExheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBRERFRF9DSEFOTkVMX0xBWUVSX1VTRVInOiB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhY3Rpb24udXNlclxuICAgICAgICBjb25zdCBpZHggPSBzLmNoYW5uZWxMYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci52YWx1ZS5pZCA9PT0gbmV3VXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHMuY2hhbm5lbExheWVyVXNlcnMubWVyZ2UoW25ld1VzZXJdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuY2hhbm5lbExheWVyVXNlcnNbaWR4XS5zZXQobmV3VXNlcilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5jaGFubmVsTGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1JFTU9WRURfQ0hBTk5FTF9MQVlFUl9VU0VSJzpcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGFjdGlvbi51c2VyXG4gICAgICAgIGNvbnN0IGlkeCA9IHMuY2hhbm5lbExheWVyVXNlcnMuZmluZEluZGV4KChsYXllclVzZXIpID0+IHtcbiAgICAgICAgICByZXR1cm4gbGF5ZXJVc2VyICE9IG51bGwgJiYgbGF5ZXJVc2VyLnZhbHVlLmlkID09PSBuZXdVc2VyLmlkXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBzLmNoYW5uZWxMYXllclVzZXJzW2lkeF0uc2V0KG5vbmUpXG4gICAgICBjYXNlICdVU0VSX1RPQVNUJzpcbiAgICAgICAgcmV0dXJuIHMudG9hc3RNZXNzYWdlcy5tZXJnZShbYWN0aW9uLm1lc3NhZ2VdKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NVc2VyU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVVzZXJTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlIGFzIHVua25vd24gYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBhdXRoUmVkdWNlciB9IGZyb20gJy4vYXV0aC9BdXRoU3RhdGUnXG5pbXBvcnQgeyB1c2VyUmVkdWNlciB9IGZyb20gJy4uL3N0b3JlL1VzZXJTdGF0ZSdcbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXV0aDogYXV0aFJlZHVjZXIsXG4gIHVzZXI6IHVzZXJSZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBTY2VuZUFjdGlvblR5cGUgfSBmcm9tICcuL1NjcmVlbkFjdGlvbnMnXG5leHBvcnQgaW50ZXJmYWNlIFB1YmxpY1NjZW5lc1N0YXRlIHtcbiAgc2NlbmVzOiBQdWJsaWNTY2VuZVtdXG4gIGN1cnJlbnRTY2VuZTogUHVibGljU2NlbmVcbiAgZXJyb3I6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1YmxpY1NjZW5lIHtcbiAgdXJsOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHRodW1ibmFpbFVybD86IHN0cmluZ1xufVxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgc2NlbmVzOiBbXSBhcyBQdWJsaWNTY2VuZVtdLFxuICBjdXJyZW50U2NlbmU6IG51bGwhIGFzIFB1YmxpY1NjZW5lLFxuICBlcnJvcjogJydcbn0pXG5cbmV4cG9ydCBjb25zdCBzY2VuZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBTY2VuZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzY3JlZW5SZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHNjcmVlblJlY2VwdG9yID0gKGFjdGlvbjogU2NlbmVBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTQ0VORVNfRkVUQ0hFRF9TVUNDRVNTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBzY2VuZXM6IGFjdGlvbi5zY2VuZXMgfSlcbiAgICAgIGNhc2UgJ1NDRU5FU19GRVRDSEVEX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBlcnJvcjogYWN0aW9uLm1lc3NhZ2UgfSlcbiAgICAgIGNhc2UgJ1NFVF9DVVJSRU5UX1NDRU5FJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBjdXJyZW50U2NlbmU6IGFjdGlvbi5zY2VuZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NTY2VuZVN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VTY2VuZVN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IHNjZW5lUmVkdWNlciB9IGZyb20gJy4vc2NlbmVzL1NjZW5lU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2NlbmVzOiBzY2VuZVJlZHVjZXJcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4LWltbXV0YWJsZSdcbmltcG9ydCBhZG1pblJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2VycydcbmltcG9ydCBjb21tb25SZWR1Y2VyIGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvY29tbW9uL3JlZHVjZXJzJ1xuaW1wb3J0IHNvY2lhbFJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMnXG5pbXBvcnQgc29jaWFsbWVkaWFSZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMvaW5kZXgnXG5pbXBvcnQgdXNlclJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91c2VyL3JlZHVjZXJzJ1xuaW1wb3J0IHdvcmxkUmVkdWNlciBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3dvcmxkL3JlZHVjZXJzJ1xuXG5jb25zdCByZWR1Y2VycyA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIC4uLmFkbWluUmVkdWNlcixcbiAgLi4uY29tbW9uUmVkdWNlcixcbiAgLi4uc29jaWFsUmVkdWNlcixcbiAgLi4uc29jaWFsbWVkaWFSZWR1Y2VyLFxuICAuLi51c2VyUmVkdWNlcixcbiAgLi4ud29ybGRSZWR1Y2VyXG59KVxuXG5leHBvcnQgZGVmYXVsdCByZWR1Y2Vyc1xuIiwiLyohIENhcGFjaXRvcjogaHR0cHM6Ly9jYXBhY2l0b3Jqcy5jb20vIC0gTUlUIExpY2Vuc2UgKi9cbmNvbnN0IGNyZWF0ZUNhcGFjaXRvclBsYXRmb3JtcyA9ICh3aW4pID0+IHtcbiAgICBjb25zdCBkZWZhdWx0UGxhdGZvcm1NYXAgPSBuZXcgTWFwKCk7XG4gICAgZGVmYXVsdFBsYXRmb3JtTWFwLnNldCgnd2ViJywgeyBuYW1lOiAnd2ViJyB9KTtcbiAgICBjb25zdCBjYXBQbGF0Zm9ybXMgPSB3aW4uQ2FwYWNpdG9yUGxhdGZvcm1zIHx8IHtcbiAgICAgICAgY3VycmVudFBsYXRmb3JtOiB7IG5hbWU6ICd3ZWInIH0sXG4gICAgICAgIHBsYXRmb3JtczogZGVmYXVsdFBsYXRmb3JtTWFwLFxuICAgIH07XG4gICAgY29uc3QgYWRkUGxhdGZvcm0gPSAobmFtZSwgcGxhdGZvcm0pID0+IHtcbiAgICAgICAgY2FwUGxhdGZvcm1zLnBsYXRmb3Jtcy5zZXQobmFtZSwgcGxhdGZvcm0pO1xuICAgIH07XG4gICAgY29uc3Qgc2V0UGxhdGZvcm0gPSAobmFtZSkgPT4ge1xuICAgICAgICBpZiAoY2FwUGxhdGZvcm1zLnBsYXRmb3Jtcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0gPSBjYXBQbGF0Zm9ybXMucGxhdGZvcm1zLmdldChuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY2FwUGxhdGZvcm1zLmFkZFBsYXRmb3JtID0gYWRkUGxhdGZvcm07XG4gICAgY2FwUGxhdGZvcm1zLnNldFBsYXRmb3JtID0gc2V0UGxhdGZvcm07XG4gICAgcmV0dXJuIGNhcFBsYXRmb3Jtcztcbn07XG5jb25zdCBpbml0UGxhdGZvcm1zID0gKHdpbikgPT4gKHdpbi5DYXBhY2l0b3JQbGF0Zm9ybXMgPSBjcmVhdGVDYXBhY2l0b3JQbGF0Zm9ybXMod2luKSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFNldCBgQ2FwYWNpdG9yQ3VzdG9tUGxhdGZvcm1gIG9uIHRoZSB3aW5kb3cgb2JqZWN0IHByaW9yIHRvIHJ1bnRpbWUgZXhlY3V0aW5nIGluIHRoZSB3ZWIgYXBwIGluc3RlYWRcbiAqL1xuY29uc3QgQ2FwYWNpdG9yUGxhdGZvcm1zID0gLyojX19QVVJFX18qLyBpbml0UGxhdGZvcm1zKCh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IGdsb2JhbFRoaXNcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHNlbGZcbiAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgICAgIDoge30pKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgU2V0IGBDYXBhY2l0b3JDdXN0b21QbGF0Zm9ybWAgb24gdGhlIHdpbmRvdyBvYmplY3QgcHJpb3IgdG8gcnVudGltZSBleGVjdXRpbmcgaW4gdGhlIHdlYiBhcHAgaW5zdGVhZFxuICovXG5jb25zdCBhZGRQbGF0Zm9ybSA9IENhcGFjaXRvclBsYXRmb3Jtcy5hZGRQbGF0Zm9ybTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgU2V0IGBDYXBhY2l0b3JDdXN0b21QbGF0Zm9ybWAgb24gdGhlIHdpbmRvdyBvYmplY3QgcHJpb3IgdG8gcnVudGltZSBleGVjdXRpbmcgaW4gdGhlIHdlYiBhcHAgaW5zdGVhZFxuICovXG5jb25zdCBzZXRQbGF0Zm9ybSA9IENhcGFjaXRvclBsYXRmb3Jtcy5zZXRQbGF0Zm9ybTtcblxuY29uc3QgbGVnYWN5UmVnaXN0ZXJXZWJQbHVnaW4gPSAoY2FwLCB3ZWJQbHVnaW4pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY29uZmlnID0gd2ViUGx1Z2luLmNvbmZpZztcbiAgICBjb25zdCBQbHVnaW5zID0gY2FwLlBsdWdpbnM7XG4gICAgaWYgKCFjb25maWcgfHwgIWNvbmZpZy5uYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IGFkZCBsaW5rIHRvIHVwZ3JhZGUgZ3VpZGVcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYXBhY2l0b3IgV2ViUGx1Z2luIGlzIHVzaW5nIHRoZSBkZXByZWNhdGVkIFwicmVnaXN0ZXJXZWJQbHVnaW4oKVwiIGZ1bmN0aW9uLCBidXQgd2l0aG91dCB0aGUgY29uZmlnLiBQbGVhc2UgdXNlIFwicmVnaXN0ZXJQbHVnaW4oKVwiIGluc3RlYWQgdG8gcmVnaXN0ZXIgdGhpcyB3ZWIgcGx1Z2luLlwiYCk7XG4gICAgfVxuICAgIC8vIFRPRE86IGFkZCBsaW5rIHRvIHVwZ3JhZGUgZ3VpZGVcbiAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBwbHVnaW4gXCIke2NvbmZpZy5uYW1lfVwiIGlzIHVzaW5nIHRoZSBkZXByZWNhdGVkIFwicmVnaXN0ZXJXZWJQbHVnaW4oKVwiIGZ1bmN0aW9uYCk7XG4gICAgaWYgKCFQbHVnaW5zW2NvbmZpZy5uYW1lXSB8fCAoKF9hID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnBsYXRmb3JtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKGNhcC5nZXRQbGF0Zm9ybSgpKSkpIHtcbiAgICAgICAgLy8gQWRkIHRoZSB3ZWIgcGx1Z2luIGludG8gdGhlIHBsdWdpbnMgcmVnaXN0cnkgaWYgdGhlcmUgYWxyZWFkeSBpc24ndFxuICAgICAgICAvLyBhbiBleGlzdGluZyBvbmUuIElmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCwgdGhhdCBtZWFuc1xuICAgICAgICAvLyB0aGVyZSdzIG5vIGV4aXN0aW5nIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgaXQuXG4gICAgICAgIC8vIC0gT1IgLVxuICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSBwbHVnaW4gcmVnaXN0ZXJlZCAobWVhbmluZyBpdCB3YXMgZGVmaW5lZCBpbiB0aGUgbmF0aXZlIGxheWVyKSxcbiAgICAgICAgLy8gdGhlbiB3ZSBzaG91bGQgb25seSBvdmVyd3JpdGUgaXQgaWYgdGhlIGNvcnJlc3BvbmRpbmcgd2ViIHBsdWdpbiBhY3RpdmF0ZXMgb25cbiAgICAgICAgLy8gYSBjZXJ0YWluIHBsYXRmb3JtLiBGb3IgZXhhbXBsZTogR2VvbG9jYXRpb24gdXNlcyB0aGUgV2ViUGx1Z2luIG9uIEFuZHJvaWQgYnV0IG5vdCBpT1NcbiAgICAgICAgUGx1Z2luc1tjb25maWcubmFtZV0gPSB3ZWJQbHVnaW47XG4gICAgfVxufTtcblxudmFyIEV4Y2VwdGlvbkNvZGU7XG4oZnVuY3Rpb24gKEV4Y2VwdGlvbkNvZGUpIHtcbiAgICAvKipcbiAgICAgKiBBUEkgaXMgbm90IGltcGxlbWVudGVkLlxuICAgICAqXG4gICAgICogVGhpcyB1c3VhbGx5IG1lYW5zIHRoZSBBUEkgY2FuJ3QgYmUgdXNlZCBiZWNhdXNlIGl0IGlzIG5vdCBpbXBsZW1lbnRlZCBmb3JcbiAgICAgKiB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICBFeGNlcHRpb25Db2RlW1wiVW5pbXBsZW1lbnRlZFwiXSA9IFwiVU5JTVBMRU1FTlRFRFwiO1xuICAgIC8qKlxuICAgICAqIEFQSSBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhpcyBtZWFucyB0aGUgQVBJIGNhbid0IGJlIHVzZWQgcmlnaHQgbm93IGJlY2F1c2U6XG4gICAgICogICAtIGl0IGlzIGN1cnJlbnRseSBtaXNzaW5nIGEgcHJlcmVxdWlzaXRlLCBzdWNoIGFzIG5ldHdvcmsgY29ubmVjdGl2aXR5XG4gICAgICogICAtIGl0IHJlcXVpcmVzIGEgcGFydGljdWxhciBwbGF0Zm9ybSBvciBicm93c2VyIHZlcnNpb25cbiAgICAgKi9cbiAgICBFeGNlcHRpb25Db2RlW1wiVW5hdmFpbGFibGVcIl0gPSBcIlVOQVZBSUxBQkxFXCI7XG59KShFeGNlcHRpb25Db2RlIHx8IChFeGNlcHRpb25Db2RlID0ge30pKTtcbmNsYXNzIENhcGFjaXRvckV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmNvbnN0IGdldFBsYXRmb3JtSWQgPSAod2luKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAod2luID09PSBudWxsIHx8IHdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luLmFuZHJvaWRCcmlkZ2UpIHtcbiAgICAgICAgcmV0dXJuICdhbmRyb2lkJztcbiAgICB9XG4gICAgZWxzZSBpZiAoKF9iID0gKF9hID0gd2luID09PSBudWxsIHx8IHdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luLndlYmtpdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2VIYW5kbGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJyaWRnZSkge1xuICAgICAgICByZXR1cm4gJ2lvcyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3dlYic7XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlQ2FwYWNpdG9yID0gKHdpbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgY2FwQ3VzdG9tUGxhdGZvcm0gPSB3aW4uQ2FwYWNpdG9yQ3VzdG9tUGxhdGZvcm0gfHwgbnVsbDtcbiAgICBjb25zdCBjYXAgPSB3aW4uQ2FwYWNpdG9yIHx8IHt9O1xuICAgIGNvbnN0IFBsdWdpbnMgPSAoY2FwLlBsdWdpbnMgPSBjYXAuUGx1Z2lucyB8fCB7fSk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBjYXBDdXN0b21QbGF0Zm9ybWAgaW5zdGVhZCwgZGVmYXVsdCBmdW5jdGlvbnMgbGlrZSByZWdpc3RlclBsdWdpbiB3aWxsIGZ1bmN0aW9uIHdpdGggdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgY29uc3QgY2FwUGxhdGZvcm1zID0gd2luLkNhcGFjaXRvclBsYXRmb3JtcztcbiAgICBjb25zdCBkZWZhdWx0R2V0UGxhdGZvcm0gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjYXBDdXN0b21QbGF0Zm9ybSAhPT0gbnVsbFxuICAgICAgICAgICAgPyBjYXBDdXN0b21QbGF0Zm9ybS5uYW1lXG4gICAgICAgICAgICA6IGdldFBsYXRmb3JtSWQod2luKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFBsYXRmb3JtID0gKChfYSA9IGNhcFBsYXRmb3JtcyA9PT0gbnVsbCB8fCBjYXBQbGF0Zm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQbGF0Zm9ybSkgfHwgZGVmYXVsdEdldFBsYXRmb3JtO1xuICAgIGNvbnN0IGRlZmF1bHRJc05hdGl2ZVBsYXRmb3JtID0gKCkgPT4gZ2V0UGxhdGZvcm0oKSAhPT0gJ3dlYic7XG4gICAgY29uc3QgaXNOYXRpdmVQbGF0Zm9ybSA9ICgoX2IgPSBjYXBQbGF0Zm9ybXMgPT09IG51bGwgfHwgY2FwUGxhdGZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYXBQbGF0Zm9ybXMuY3VycmVudFBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaXNOYXRpdmVQbGF0Zm9ybSkgfHwgZGVmYXVsdElzTmF0aXZlUGxhdGZvcm07XG4gICAgY29uc3QgZGVmYXVsdElzUGx1Z2luQXZhaWxhYmxlID0gKHBsdWdpbk5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gcmVnaXN0ZXJlZFBsdWdpbnMuZ2V0KHBsdWdpbk5hbWUpO1xuICAgICAgICBpZiAocGx1Z2luID09PSBudWxsIHx8IHBsdWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGx1Z2luLnBsYXRmb3Jtcy5oYXMoZ2V0UGxhdGZvcm0oKSkpIHtcbiAgICAgICAgICAgIC8vIEpTIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZSBmb3IgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGx1Z2luSGVhZGVyKHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAvLyBOYXRpdmUgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgaXNQbHVnaW5BdmFpbGFibGUgPSAoKF9jID0gY2FwUGxhdGZvcm1zID09PSBudWxsIHx8IGNhcFBsYXRmb3JtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FwUGxhdGZvcm1zLmN1cnJlbnRQbGF0Zm9ybSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlzUGx1Z2luQXZhaWxhYmxlKSB8fFxuICAgICAgICBkZWZhdWx0SXNQbHVnaW5BdmFpbGFibGU7XG4gICAgY29uc3QgZGVmYXVsdEdldFBsdWdpbkhlYWRlciA9IChwbHVnaW5OYW1lKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGNhcC5QbHVnaW5IZWFkZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluZChoID0+IGgubmFtZSA9PT0gcGx1Z2luTmFtZSk7IH07XG4gICAgY29uc3QgZ2V0UGx1Z2luSGVhZGVyID0gKChfZCA9IGNhcFBsYXRmb3JtcyA9PT0gbnVsbCB8fCBjYXBQbGF0Zm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5nZXRQbHVnaW5IZWFkZXIpIHx8IGRlZmF1bHRHZXRQbHVnaW5IZWFkZXI7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyKSA9PiB3aW4uY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGNvbnN0IHBsdWdpbk1ldGhvZE5vb3AgPSAoX3RhcmdldCwgcHJvcCwgcGx1Z2luTmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cGx1Z2luTmFtZX0gZG9lcyBub3QgaGF2ZSBhbiBpbXBsZW1lbnRhdGlvbiBvZiBcIiR7cHJvcH1cIi5gKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZ2lzdGVyZWRQbHVnaW5zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlZmF1bHRSZWdpc3RlclBsdWdpbiA9IChwbHVnaW5OYW1lLCBqc0ltcGxlbWVudGF0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyZWRQbHVnaW4gPSByZWdpc3RlcmVkUGx1Z2lucy5nZXQocGx1Z2luTmFtZSk7XG4gICAgICAgIGlmIChyZWdpc3RlcmVkUGx1Z2luKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBwbHVnaW4gXCIke3BsdWdpbk5hbWV9XCIgYWxyZWFkeSByZWdpc3RlcmVkLiBDYW5ub3QgcmVnaXN0ZXIgcGx1Z2lucyB0d2ljZS5gKTtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkUGx1Z2luLnByb3h5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oKTtcbiAgICAgICAgY29uc3QgcGx1Z2luSGVhZGVyID0gZ2V0UGx1Z2luSGVhZGVyKHBsdWdpbk5hbWUpO1xuICAgICAgICBsZXQganNJbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgY29uc3QgbG9hZFBsdWdpbkltcGxlbWVudGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFqc0ltcGxlbWVudGF0aW9uICYmIHBsYXRmb3JtIGluIGpzSW1wbGVtZW50YXRpb25zKSB7XG4gICAgICAgICAgICAgICAganNJbXBsZW1lbnRhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGpzSW1wbGVtZW50YXRpb24gPSBhd2FpdCBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGpzSW1wbGVtZW50YXRpb24gPSBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2FwQ3VzdG9tUGxhdGZvcm0gIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAhanNJbXBsZW1lbnRhdGlvbiAmJlxuICAgICAgICAgICAgICAgICd3ZWInIGluIGpzSW1wbGVtZW50YXRpb25zKSB7XG4gICAgICAgICAgICAgICAganNJbXBsZW1lbnRhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGpzSW1wbGVtZW50YXRpb24gPSBhd2FpdCBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGpzSW1wbGVtZW50YXRpb24gPSBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpzSW1wbGVtZW50YXRpb247XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNyZWF0ZVBsdWdpbk1ldGhvZCA9IChpbXBsLCBwcm9wKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKHBsdWdpbkhlYWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhlYWRlciA9IHBsdWdpbkhlYWRlciA9PT0gbnVsbCB8fCBwbHVnaW5IZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsdWdpbkhlYWRlci5tZXRob2RzLmZpbmQobSA9PiBwcm9wID09PSBtLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChtZXRob2RIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZEhlYWRlci5ydHlwZSA9PT0gJ3Byb21pc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMpID0+IGNhcC5uYXRpdmVQcm9taXNlKHBsdWdpbk5hbWUsIHByb3AudG9TdHJpbmcoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiBjYXAubmF0aXZlQ2FsbGJhY2socGx1Z2luTmFtZSwgcHJvcC50b1N0cmluZygpLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gaW1wbFtwcm9wXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoaW1wbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSBpbXBsW3Byb3BdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmluZChpbXBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYXBhY2l0b3JFeGNlcHRpb24oYFwiJHtwbHVnaW5OYW1lfVwiIHBsdWdpbiBpcyBub3QgaW1wbGVtZW50ZWQgb24gJHtwbGF0Zm9ybX1gLCBFeGNlcHRpb25Db2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVQbHVnaW5NZXRob2RXcmFwcGVyID0gKHByb3ApID0+IHtcbiAgICAgICAgICAgIGxldCByZW1vdmU7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gbG9hZFBsdWdpbkltcGxlbWVudGF0aW9uKCkudGhlbihpbXBsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBjcmVhdGVQbHVnaW5NZXRob2QoaW1wbCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlID0gcCA9PT0gbnVsbCB8fCBwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwLnJlbW92ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhcGFjaXRvckV4Y2VwdGlvbihgXCIke3BsdWdpbk5hbWV9LiR7cHJvcH0oKVwiIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiAke3BsYXRmb3JtfWAsIEV4Y2VwdGlvbkNvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2FkZExpc3RlbmVyJykge1xuICAgICAgICAgICAgICAgICAgICBwLnJlbW92ZSA9IGFzeW5jICgpID0+IHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTb21lIGZsYWlyIOKcqFxuICAgICAgICAgICAgd3JhcHBlci50b1N0cmluZyA9ICgpID0+IGAke3Byb3AudG9TdHJpbmcoKX0oKSB7IFtjYXBhY2l0b3IgY29kZV0gfWA7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcHBlciwgJ25hbWUnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb3AsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhZGRMaXN0ZW5lciA9IGNyZWF0ZVBsdWdpbk1ldGhvZFdyYXBwZXIoJ2FkZExpc3RlbmVyJyk7XG4gICAgICAgIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gY3JlYXRlUGx1Z2luTWV0aG9kV3JhcHBlcigncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgY29uc3QgYWRkTGlzdGVuZXJOYXRpdmUgPSAoZXZlbnROYW1lLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IGFkZExpc3RlbmVyKHsgZXZlbnROYW1lIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFja0lkID0gYXdhaXQgY2FsbDtcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcih7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tJZCxcbiAgICAgICAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY2FsbC50aGVuKCgpID0+IHJlc29sdmUoeyByZW1vdmUgfSkpKTtcbiAgICAgICAgICAgIHAucmVtb3ZlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVXNpbmcgYWRkTGlzdGVuZXIoKSB3aXRob3V0ICdhd2FpdCcgaXMgZGVwcmVjYXRlZC5gKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAwMzBcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnJCR0eXBlb2YnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9KU09OJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiAoe30pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGRMaXN0ZW5lcic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luSGVhZGVyID8gYWRkTGlzdGVuZXJOYXRpdmUgOiBhZGRMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlTGlzdGVuZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUxpc3RlbmVyO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBsdWdpbk1ldGhvZFdyYXBwZXIocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIFBsdWdpbnNbcGx1Z2luTmFtZV0gPSBwcm94eTtcbiAgICAgICAgcmVnaXN0ZXJlZFBsdWdpbnMuc2V0KHBsdWdpbk5hbWUsIHtcbiAgICAgICAgICAgIG5hbWU6IHBsdWdpbk5hbWUsXG4gICAgICAgICAgICBwcm94eSxcbiAgICAgICAgICAgIHBsYXRmb3JtczogbmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoanNJbXBsZW1lbnRhdGlvbnMpLFxuICAgICAgICAgICAgICAgIC4uLihwbHVnaW5IZWFkZXIgPyBbcGxhdGZvcm1dIDogW10pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgfTtcbiAgICBjb25zdCByZWdpc3RlclBsdWdpbiA9ICgoX2UgPSBjYXBQbGF0Zm9ybXMgPT09IG51bGwgfHwgY2FwUGxhdGZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYXBQbGF0Zm9ybXMuY3VycmVudFBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UucmVnaXN0ZXJQbHVnaW4pIHx8IGRlZmF1bHRSZWdpc3RlclBsdWdpbjtcbiAgICAvLyBBZGQgaW4gY29udmVydEZpbGVTcmMgZm9yIHdlYiwgaXQgd2lsbCBhbHJlYWR5IGJlIGF2YWlsYWJsZSBpbiBuYXRpdmUgY29udGV4dFxuICAgIGlmICghY2FwLmNvbnZlcnRGaWxlU3JjKSB7XG4gICAgICAgIGNhcC5jb252ZXJ0RmlsZVNyYyA9IGZpbGVQYXRoID0+IGZpbGVQYXRoO1xuICAgIH1cbiAgICBjYXAuZ2V0UGxhdGZvcm0gPSBnZXRQbGF0Zm9ybTtcbiAgICBjYXAuaGFuZGxlRXJyb3IgPSBoYW5kbGVFcnJvcjtcbiAgICBjYXAuaXNOYXRpdmVQbGF0Zm9ybSA9IGlzTmF0aXZlUGxhdGZvcm07XG4gICAgY2FwLmlzUGx1Z2luQXZhaWxhYmxlID0gaXNQbHVnaW5BdmFpbGFibGU7XG4gICAgY2FwLnBsdWdpbk1ldGhvZE5vb3AgPSBwbHVnaW5NZXRob2ROb29wO1xuICAgIGNhcC5yZWdpc3RlclBsdWdpbiA9IHJlZ2lzdGVyUGx1Z2luO1xuICAgIGNhcC5FeGNlcHRpb24gPSBDYXBhY2l0b3JFeGNlcHRpb247XG4gICAgY2FwLkRFQlVHID0gISFjYXAuREVCVUc7XG4gICAgY2FwLmlzTG9nZ2luZ0VuYWJsZWQgPSAhIWNhcC5pc0xvZ2dpbmdFbmFibGVkO1xuICAgIC8vIERlcHJlY2F0ZWQgcHJvcHNcbiAgICBjYXAucGxhdGZvcm0gPSBjYXAuZ2V0UGxhdGZvcm0oKTtcbiAgICBjYXAuaXNOYXRpdmUgPSBjYXAuaXNOYXRpdmVQbGF0Zm9ybSgpO1xuICAgIHJldHVybiBjYXA7XG59O1xuY29uc3QgaW5pdENhcGFjaXRvckdsb2JhbCA9ICh3aW4pID0+ICh3aW4uQ2FwYWNpdG9yID0gY3JlYXRlQ2FwYWNpdG9yKHdpbikpO1xuXG5jb25zdCBDYXBhY2l0b3IgPSAvKiNfX1BVUkVfXyovIGluaXRDYXBhY2l0b3JHbG9iYWwodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICA6IHt9KTtcbmNvbnN0IHJlZ2lzdGVyUGx1Z2luID0gQ2FwYWNpdG9yLnJlZ2lzdGVyUGx1Z2luO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBQcm92aWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIENhcGFjaXRvciB2MiBwbHVnaW5zLlxuICogQ2FwYWNpdG9yIHYzIHBsdWdpbnMgc2hvdWxkIGltcG9ydCB0aGUgcGx1Z2luIGRpcmVjdGx5LiBUaGlzIFwiUGx1Z2luc1wiXG4gKiBleHBvcnQgaXMgZGVwcmVjYXRlZCBpbiB2MywgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NC5cbiAqL1xuY29uc3QgUGx1Z2lucyA9IENhcGFjaXRvci5QbHVnaW5zO1xuLyoqXG4gKiBQcm92aWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFVzZSB0aGUgcmVnaXN0ZXJQbHVnaW4oKSBBUElcbiAqIGluc3RlYWQsIGFuZCBwcm92aWRlIHRoZSB3ZWIgcGx1Z2luIGFzIHRoZSBcIndlYlwiIGltcGxtZW5ldGF0aW9uLlxuICogRm9yIGV4YW1wbGVcbiAqXG4gKiBleHBvcnQgY29uc3QgRXhhbXBsZSA9IHJlZ2lzdGVyUGx1Z2luKCdFeGFtcGxlJywge1xuICogICB3ZWI6ICgpID0+IGltcG9ydCgnLi93ZWInKS50aGVuKG0gPT4gbmV3IG0uRXhhbXBsZSgpKVxuICogfSlcbiAqXG4gKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGluIHYzLCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB2NC5cbiAqL1xuY29uc3QgcmVnaXN0ZXJXZWJQbHVnaW4gPSAocGx1Z2luKSA9PiBsZWdhY3lSZWdpc3RlcldlYlBsdWdpbihDYXBhY2l0b3IsIHBsdWdpbik7XG5cbi8qKlxuICogQmFzZSBjbGFzcyB3ZWIgcGx1Z2lucyBzaG91bGQgZXh0ZW5kLlxuICovXG5jbGFzcyBXZWJQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLndpbmRvd0xpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgbGluayB0byB1cGdyYWRlIGd1aWRlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBXZWJQbHVnaW4gXCIke2NvbmZpZy5uYW1lfVwiIGNvbmZpZyBvYmplY3Qgd2FzIGRlcHJlY2F0ZWQgaW4gdjMgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NC5gKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGxpc3RlbmVyRnVuYyk7XG4gICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgYWRkZWQgYSB3aW5kb3cgbGlzdGVuZXIgZm9yIHRoaXMgZXZlbnQgYW5kIGl0IHJlcXVpcmVzIG9uZSxcbiAgICAgICAgLy8gZ28gYWhlYWQgYW5kIGFkZCBpdFxuICAgICAgICBjb25zdCB3aW5kb3dMaXN0ZW5lciA9IHRoaXMud2luZG93TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICh3aW5kb3dMaXN0ZW5lciAmJiAhd2luZG93TGlzdGVuZXIucmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcih3aW5kb3dMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlID0gYXN5bmMgKCkgPT4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRnVuYyk7XG4gICAgICAgIGNvbnN0IHAgPSBQcm9taXNlLnJlc29sdmUoeyByZW1vdmUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLCAncmVtb3ZlJywge1xuICAgICAgICAgICAgdmFsdWU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVzaW5nIGFkZExpc3RlbmVyKCkgd2l0aG91dCAnYXdhaXQnIGlzIGRlcHJlY2F0ZWQuYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVtb3ZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGFzeW5jIHJlbW92ZUFsbExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBpbiB0aGlzLndpbmRvd0xpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVXaW5kb3dMaXN0ZW5lcih0aGlzLndpbmRvd0xpc3RlbmVyc1tsaXN0ZW5lcl0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0ge307XG4gICAgfVxuICAgIG5vdGlmeUxpc3RlbmVycyhldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc0xpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5sZW5ndGg7XG4gICAgfVxuICAgIHJlZ2lzdGVyV2luZG93TGlzdGVuZXIod2luZG93RXZlbnROYW1lLCBwbHVnaW5FdmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy53aW5kb3dMaXN0ZW5lcnNbcGx1Z2luRXZlbnROYW1lXSA9IHtcbiAgICAgICAgICAgIHJlZ2lzdGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2luZG93RXZlbnROYW1lLFxuICAgICAgICAgICAgcGx1Z2luRXZlbnROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHBsdWdpbkV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdW5pbXBsZW1lbnRlZChtc2cgPSAnbm90IGltcGxlbWVudGVkJykge1xuICAgICAgICByZXR1cm4gbmV3IENhcGFjaXRvci5FeGNlcHRpb24obXNnLCBFeGNlcHRpb25Db2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgIH1cbiAgICB1bmF2YWlsYWJsZShtc2cgPSAnbm90IGF2YWlsYWJsZScpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXBhY2l0b3IuRXhjZXB0aW9uKG1zZywgRXhjZXB0aW9uQ29kZS5VbmF2YWlsYWJsZSk7XG4gICAgfVxuICAgIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lckZ1bmMpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBtb3JlIGxpc3RlbmVycyBmb3IgdGhpcyB0eXBlIG9mIGV2ZW50LFxuICAgICAgICAvLyByZW1vdmUgdGhlIHdpbmRvdyBsaXN0ZW5lclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVyKHRoaXMud2luZG93TGlzdGVuZXJzW2V2ZW50TmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdpbmRvd0xpc3RlbmVyKGhhbmRsZSkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGUud2luZG93RXZlbnROYW1lLCBoYW5kbGUuaGFuZGxlcik7XG4gICAgICAgIGhhbmRsZS5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlV2luZG93TGlzdGVuZXIoaGFuZGxlKSB7XG4gICAgICAgIGlmICghaGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoaGFuZGxlLndpbmRvd0V2ZW50TmFtZSwgaGFuZGxlLmhhbmRsZXIpO1xuICAgICAgICBoYW5kbGUucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gcmVnaXN0ZXJQbHVnaW4oJ1dlYlZpZXcnKTtcblxuZXhwb3J0IHsgQ2FwYWNpdG9yLCBDYXBhY2l0b3JFeGNlcHRpb24sIENhcGFjaXRvclBsYXRmb3JtcywgRXhjZXB0aW9uQ29kZSwgUGx1Z2lucywgV2ViUGx1Z2luLCBXZWJWaWV3LCBhZGRQbGF0Zm9ybSwgcmVnaXN0ZXJQbHVnaW4sIHJlZ2lzdGVyV2ViUGx1Z2luLCBzZXRQbGF0Zm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCJpbXBvcnQgeyByZWdpc3RlclBsdWdpbiB9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSc7XG5jb25zdCBBcHAgPSByZWdpc3RlclBsdWdpbignQXBwJywge1xuICAgIHdlYjogKCkgPT4gaW1wb3J0KCcuL3dlYicpLnRoZW4obSA9PiBuZXcgbS5BcHBXZWIoKSksXG59KTtcbmV4cG9ydCAqIGZyb20gJy4vZGVmaW5pdGlvbnMnO1xuZXhwb3J0IHsgQXBwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCB7IEFwcCwgVVJMT3Blbkxpc3RlbmVyRXZlbnQgfSBmcm9tICdAY2FwYWNpdG9yL2FwcCdcblxuY29uc3QgQXBwVXJsTGlzdGVuZXI6IFJlYWN0LkZDPGFueT4gPSAoKSA9PiB7XG4gIGxldCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgQXBwLmFkZExpc3RlbmVyKCdhcHBVcmxPcGVuJywgKGV2ZW50OiBVUkxPcGVuTGlzdGVuZXJFdmVudCkgPT4ge1xuICAgICAgLy8gdXJsOiBodHRwczovL2Rldi5hcmNtZWRpYS51cy9sb2dpblxuICAgICAgLy8gc2x1ZyA9IC9sb2dpblxuICAgICAgY29uc3Qgc2x1ZyA9IGV2ZW50LnVybC5zcGxpdCgnLnVzJykucG9wKClcbiAgICAgIGlmIChzbHVnKSB7XG4gICAgICAgIGhpc3RvcnkucHVzaChzbHVnKVxuICAgICAgfVxuICAgICAgLy8gSWYgbm8gbWF0Y2gsIGRvIG5vdGhpbmcgLSBsZXQgcmVndWxhciByb3V0aW5nXG4gICAgICAvLyBsb2dpYyB0YWtlIG92ZXJcbiAgICB9KVxuICB9LCBbXSlcblxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBVcmxMaXN0ZW5lclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm92aWRlciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAncmVhY3QtaGVsbWV0J1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3N0b3JlJ1xuaW1wb3J0IHsgaW5pdEdBLCBsb2dQYWdlVmlldyB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvY29tbW9uL2NvbXBvbmVudHMvYW5hbHl0aWNzJ1xuaW1wb3J0IEdsb2JhbFN0eWxlIGZyb20gJ0B4cmVuZ2luZS9lZGl0b3Ivc3JjL2NvbXBvbmVudHMvR2xvYmFsU3R5bGUnXG5pbXBvcnQgdGhlbWUgZnJvbSAnLi4vLi4vdGhlbWUnXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9jb25maWcnXG5pbXBvcnQgeyBTbmFja2JhclByb3ZpZGVyIH0gZnJvbSAnbm90aXN0YWNrJ1xuaW1wb3J0IHsgQXV0aEFjdGlvbiB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhBY3Rpb24nXG5pbXBvcnQgUm91dGVyQ29tcCBmcm9tICcuLi9yb3V0ZXInXG5pbXBvcnQgcmVkdWNlcnMgZnJvbSAnLi4vcmVkdWNlcnMnXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnXG5pbXBvcnQgQXBwVXJsTGlzdGVuZXIgZnJvbSAnLi4vY29tcG9uZW50cy9BcHBEZWVwTGluaydcblxuY29uc3QgQXBwID0gKCk6IGFueSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuXG4gIGNvbnN0IGluaXRBcHAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52Lk5PREVfQ09ORklHKSB7XG4gICAgICA7KHdpbmRvdyBhcyBhbnkpLmVudiA9IHByb2Nlc3MuZW52Lk5PREVfQ09ORklHXG4gICAgfSBlbHNlIHtcbiAgICAgIDsod2luZG93IGFzIGFueSkuZW52ID0gJydcbiAgICB9XG5cbiAgICBkaXNwYXRjaChBdXRoQWN0aW9uLnJlc3RvcmVBdXRoKCkpXG5cbiAgICBpbml0R0EoKVxuXG4gICAgbG9nUGFnZVZpZXcoKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoaW5pdEFwcCwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlbG1ldD5cbiAgICAgICAgPHRpdGxlPntDb25maWcucHVibGljUnVudGltZUNvbmZpZy50aXRsZX08L3RpdGxlPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIG5hbWU9XCJ2aWV3cG9ydFwiXG4gICAgICAgICAgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wLCBzaHJpbmstdG8tZml0PW5vXCJcbiAgICAgICAgLz5cbiAgICAgIDwvSGVsbWV0PlxuICAgICAgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e3RoZW1lfT5cbiAgICAgICAgPFNuYWNrYmFyUHJvdmlkZXIgbWF4U25hY2s9ezN9PlxuICAgICAgICAgIDxHbG9iYWxTdHlsZSAvPlxuICAgICAgICAgIDxSb3V0ZXJDb21wIC8+XG4gICAgICAgIDwvU25hY2tiYXJQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICA8Lz5cbiAgKVxufVxuXG5jb25zdCBTdG9yZVByb3ZpZGVyID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxQcm92aWRlciBzdG9yZT17Y29uZmlndXJlU3RvcmUocmVkdWNlcnMpfT5cbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8QXBwVXJsTGlzdGVuZXI+PC9BcHBVcmxMaXN0ZW5lcj5cbiAgICAgICAgPEFwcCAvPlxuICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgIDwvUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RvcmVQcm92aWRlclxuIl0sIm5hbWVzIjpbIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwicmVxdWlyZSQkMCIsInByb3BUeXBlc01vZHVsZSIsIlJlYWN0IiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJfZXh0ZW5kcyIsImIiLCJmIiwiZyIsImgiLCJrIiwibSIsIm4iLCJwIiwicSIsInYiLCJ3IiwieCIsInoiLCJBIiwicmVhY3RJc01vZHVsZSIsInVzZUNvbnRleHQiLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VEZWZhdWx0UmVkdXhDb250ZXh0IiwidXNlU3RvcmUiLCJ1c2VEZWZhdWx0U3RvcmUiLCJiYXRjaCIsInNldFByb3RvdHlwZU9mIiwicHJlZml4IiwiY2FuVXNlRE9NIiwiaW52YXJpYW50IiwiYWRkTGVhZGluZ1NsYXNoIiwic3RyaXBCYXNlbmFtZSIsImNsYW1wIiwiX2luaGVyaXRzTG9vc2UiLCJDb21wb25lbnQiLCJpbmRleCIsImlzYXJyYXkiLCJwYXRoVG9SZWdleHBNb2R1bGUiLCJwYXJzZSIsImNvbXBpbGUiLCJjcmVhdGVDb250ZXh0IiwicGF0aFRvUmVnZXhwIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJob2lzdFN0YXRpY3MiLCJfX1JvdXRlckNvbnRleHQiLCJ3YXJuIiwiaXNFcXVhbCIsIndpdGhTaWRlRWZmZWN0IiwicmVhY3RQcm9wc1JlZ2V4IiwibWVtb2l6ZSIsImUiLCJyIiwicyIsIm8iLCJpIiwiYSIsIl8iLCJ1IiwieSIsImMiLCJkIiwiZGVmaW5lUHJvcGVydHkiLCJjcmVhdGVTdG9yZSIsImlzUGxhaW5PYmplY3QiLCJjb21wb3NlIiwiX29iamVjdFNwcmVhZCIsImhhc093blByb3BlcnR5IiwidmFsdWVPZiIsIk1hcCIsInRvU3RyaW5nIiwiZ2V0Iiwic2V0IiwibWVyZ2UkMSIsImhhc2giLCJTZXQiLCJ0b09iamVjdCIsIm1lcmdlIiwic2VsZiIsIlN0b3JlIiwic3RhdGUiLCJJbW11dGFibGUiLCJtaWRkbGV3YXJlIiwidGh1bmtNaWRkbGV3YXJlIiwicmVxdWlyZSQkMSIsImNyZWF0ZUdsb2JhbFN0eWxlIiwiX3R5cGVvZiIsImRlZXBtZXJnZSIsImRlY29tcG9zZUNvbG9yIiwicmVjb21wb3NlQ29sb3IiLCJoZXhUb1JnYiIsIl9mb3JtYXRNdWlFcnJvck1lc3NhZ2UiLCJnZXRMdW1pbmFuY2UiLCJoc2xUb1JnYiIsImRhcmtlbiIsImxpZ2h0ZW4iLCJrZXlzIiwiX2RlZmluZVByb3BlcnR5IiwiY29tbW9uIiwiZ3JleSIsInJlZCIsIm9yYW5nZSIsImJsdWUiLCJncmVlbiIsImxpZ2h0IiwiZGFyayIsImluZGlnbyIsInBpbmsiLCJnZXRDb250cmFzdFJhdGlvIiwiYWRkTGlnaHRPckRhcmsiLCJyb3VuZCIsImNhc2VBbGxDYXBzIiwiZGVmYXVsdEZvbnRGYW1pbHkiLCJzaGFkb3dLZXlVbWJyYU9wYWNpdHkiLCJzaGFkb3dLZXlQZW51bWJyYU9wYWNpdHkiLCJzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSIsInNoYWRvd3MiLCJjcmVhdGVTaGFkb3ciLCJzaGFwZSIsImFycmF5TGlrZVRvQXJyYXkiLCJhcnJheVdpdGhvdXRIb2xlcyIsIml0ZXJhYmxlVG9BcnJheSIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJ2YWx1ZXMiLCJkZWZhdWx0QnJlYWtwb2ludHMiLCJwcm9wZXJ0aWVzIiwiZGlyZWN0aW9ucyIsImFsaWFzZXMiLCJnZXRDc3NQcm9wZXJ0aWVzIiwic3BhY2luZ0tleXMiLCJnZXRWYWx1ZSIsImNyZWF0ZVVuYXJ5U3BhY2luZyIsImdldFN0eWxlRnJvbVByb3BWYWx1ZSIsImhhbmRsZUJyZWFrcG9pbnRzIiwic3BhY2luZyIsImVhc2luZyIsImR1cmF0aW9uIiwiZm9ybWF0TXMiLCJ6SW5kZXgiLCJjcmVhdGVQYWxldHRlIiwiY3JlYXRlQnJlYWtwb2ludHMiLCJjcmVhdGVTcGFjaW5nIiwiY3JlYXRlTWl4aW5zIiwiY3JlYXRlVHlwb2dyYXBoeSIsImNyZWF0ZVRoZW1lIiwidXNlRW5oYW5jZWRFZmZlY3QiLCJSZWFjdC51c2VMYXlvdXRFZmZlY3QiLCJSZWFjdC51c2VFZmZlY3QiLCJSZWFjdC51c2VSZWYiLCJSZWFjdC51c2VDYWxsYmFjayIsIlJlYWN0LnVzZU1lbW8iLCJhYnMiLCJmcm9tIiwicG9zaXRpb24iLCJ0b2tlbiIsInVuaXRsZXNzIiwiaGFzaFN0cmluZyIsImZvcndhcmRSZWYiLCJUaGVtZUNvbnRleHQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlU3R5bGVkIiwianN4UnVudGltZU1vZHVsZSIsInN0eWxlIiwiYnJlYWtwb2ludHNWYWx1ZXMiLCJib3JkZXJzIiwiZmxleGJveCIsImdyaWQiLCJwYWxldHRlIiwic2l6aW5nIiwidHlwb2dyYXBoeSIsIl9leGNsdWRlZCIsIlJlYWN0LmNyZWF0ZUNvbnRleHQiLCJSZWFjdC51c2VDb250ZXh0IiwibXVpVXNlVGhlbWUiLCJpc09iamVjdEVtcHR5Iiwic3lzdGVtRGVmYXVsdFRoZW1lIiwidXNlVGhlbWVXaXRob3V0RGVmYXVsdCIsImlzRW1wdHkiLCJzdHlsZWRFbmdpbmVTdHlsZWQiLCJ1c2VUaGVtZSIsInB1cnBsZSIsImxpZ2h0Qmx1ZSIsInN5c3RlbUNyZWF0ZVRoZW1lIiwidXNlVGhlbWVTeXN0ZW0iLCJkZWZhdWx0VGhlbWUiLCJzeXN0ZW1Vc2VUaGVtZVByb3BzIiwidXNlVXRpbGl0eUNsYXNzZXMiLCJzdHlsZWQiLCJSZWFjdC5mb3J3YXJkUmVmIiwiX2pzeHMiLCJfanN4IiwiVHJhbnNpdGlvbiIsIlJlYWN0LmNsb25lRWxlbWVudCIsInVzZUV2ZW50Q2FsbGJhY2siLCJSZWFjdC5GcmFnbWVudCIsIlJlYWN0X19kZWZhdWx0IiwiU2xpZGUiLCJTdmdJY29uIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VTdGF0ZSIsIkNvbGxhcHNlIiwiY3JlYXRlUG9ydGFsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUkJDIiLCJhZG1pblJlZHVjZXIiLCJ1c2VyUmVjZXB0b3IiLCJsb2NhdGlvblJlY2VwdG9yIiwiYWNjZXNzTG9jYXRpb25TdGF0ZSIsInBhcnR5UmVjZXB0b3IiLCJncm91cFJlY2VwdG9yIiwidW5kZWZpbmVkIiwiZ2xvYmFsIiwidGhpcyIsIm1vbWVudCIsInVzZXJSZWR1Y2VyIiwiQXBwIiwiSGVsbWV0IiwiVGhlbWVQcm92aWRlciIsInRoZW1lIl0sIm1hcHBpbmdzIjoiaU9BU0lBLEdBQXVCLCtDQUUzQixHQUFpQkEsR0NGYixHQUF1QkMsR0FFM0IsYUFBeUIsRUFDekIsYUFBa0MsRUFDbEMsR0FBdUIsa0JBQW9CLE1BRTNDLElBQWlCLFVBQVcsQ0FDMUIsV0FBYyxFQUFPLEVBQVUsRUFBZSxFQUFVLEVBQWMsRUFBUSxDQUM1RSxHQUFJLElBQVcsR0FJZixJQUFJLEdBQU0sR0FBSSxPQUNaLG1MQUlGLFFBQUksS0FBTyxzQkFDTCxHQUVSLEVBQUssV0FBYSxFQUNsQixZQUFtQixDQUNqQixNQUFPLEdBSVQsR0FBSSxHQUFpQixDQUNuQixNQUFPLEVBQ1AsS0FBTSxFQUNOLEtBQU0sRUFDTixPQUFRLEVBQ1IsT0FBUSxFQUNSLE9BQVEsRUFDUixPQUFRLEVBRVIsSUFBSyxFQUNMLFFBQVMsRUFDVCxRQUFTLEVBQ1QsWUFBYSxFQUNiLFdBQVksRUFDWixLQUFNLEVBQ04sU0FBVSxFQUNWLE1BQU8sRUFDUCxVQUFXLEVBQ1gsTUFBTyxFQUNQLE1BQU8sRUFFUCxlQUFnQixHQUNoQixrQkFBbUIsSUFHckIsU0FBZSxVQUFZLEVBRXBCLEdDN0NQQyxXQUFpQkQsdUJDaEJSLEdBQWlDRSxFQUFNLGNBQWMsTUNBaEUsWUFBMEIsRUFBVSxDQUNsQyxJQUdGLEdBQUksSUFBUSxHQUVELEdBQVcsU0FBa0IsRUFBVSxDQUNoRCxNQUFPLElBQVEsR0FHTixHQUFXLFVBQW9CLENBQ3hDLE1BQU8sS0NSVCxhQUFvQyxDQUNsQyxHQUFJLEdBQVEsS0FDUixFQUFRLEtBQ1IsRUFBTyxLQUNYLE1BQU8sQ0FDTCxNQUFPLFVBQWlCLENBQ3RCLEVBQVEsS0FDUixFQUFPLE1BRVQsT0FBUSxVQUFrQixDQUN4QixFQUFNLFVBQVksQ0FHaEIsT0FGSSxHQUFXLEVBRVIsR0FDTCxFQUFTLFdBQ1QsRUFBVyxFQUFTLFFBSTFCLElBQUssVUFBZSxDQUlsQixPQUhJLEdBQVksR0FDWixFQUFXLEVBRVIsR0FDTCxFQUFVLEtBQUssR0FDZixFQUFXLEVBQVMsS0FHdEIsTUFBTyxJQUVULFVBQVcsU0FBbUIsRUFBVSxDQUN0QyxHQUFJLEdBQWUsR0FDZixFQUFXLEVBQU8sQ0FDcEIsU0FBVSxFQUNWLEtBQU0sS0FDTixLQUFNLEdBR1IsTUFBSSxHQUFTLEtBQ1gsRUFBUyxLQUFLLEtBQU8sRUFFckIsRUFBUSxFQUdILFVBQXVCLENBQzVCLEFBQUksQ0FBQyxHQUFnQixJQUFVLE1BQy9CLEdBQWUsR0FFZixBQUFJLEVBQVMsS0FDWCxFQUFTLEtBQUssS0FBTyxFQUFTLEtBRTlCLEVBQU8sRUFBUyxLQUdsQixBQUFJLEVBQVMsS0FDWCxFQUFTLEtBQUssS0FBTyxFQUFTLEtBRTlCLEVBQVEsRUFBUyxTQU8zQixHQUFJLElBQWdCLENBQ2xCLE9BQVEsVUFBa0IsR0FDMUIsSUFBSyxVQUFlLENBQ2xCLE1BQU8sS0FHSixZQUE0QixFQUFPLEVBQVcsQ0FDbkQsR0FBSSxHQUNBLEVBQVksR0FFaEIsV0FBc0IsRUFBVSxDQUM5QixXQUNPLEVBQVUsVUFBVSxHQUc3QixZQUE0QixDQUMxQixFQUFVLFNBR1osWUFBK0IsQ0FDN0IsQUFBSSxFQUFhLGVBQ2YsRUFBYSxnQkFJakIsWUFBd0IsQ0FDdEIsTUFBTyxTQUFRLEdBR2pCLFlBQXdCLENBQ3RCLEFBQUssR0FDSCxHQUFjLEVBQVksRUFBVSxhQUFhLEdBQXVCLEVBQU0sVUFBVSxHQUN4RixFQUFZLE1BSWhCLFlBQTBCLENBQ3hCLEFBQUksR0FDRixLQUNBLEVBQWMsT0FDZCxFQUFVLFFBQ1YsRUFBWSxJQUloQixHQUFJLEdBQWUsQ0FDakIsYUFBYyxFQUNkLGlCQUFrQixFQUNsQixvQkFBcUIsRUFDckIsYUFBYyxFQUNkLGFBQWMsRUFDZCxlQUFnQixFQUNoQixhQUFjLFVBQXdCLENBQ3BDLE1BQU8sS0FHWCxNQUFPLEdDbkhGLEdBQUlDLElBQTRCLE1BQU8sU0FBVyxhQUFlLE1BQU8sUUFBTyxVQUFhLGFBQWUsTUFBTyxRQUFPLFNBQVMsZUFBa0IsWUFBY0MsMkJBQWtCQyxxQkNIM0wsWUFBa0IsRUFBTSxDQUN0QixHQUFJLEdBQVEsRUFBSyxNQUNiLEVBQVUsRUFBSyxRQUNmLEVBQVcsRUFBSyxTQUNoQixFQUFlQyxtQkFBUSxVQUFZLENBQ3JDLEdBQUksR0FBZSxHQUFtQixHQUN0QyxTQUFhLGNBQWdCLEVBQWEsaUJBQ25DLENBQ0wsTUFBTyxFQUNQLGFBQWMsSUFFZixDQUFDLElBQ0EsRUFBZ0JBLG1CQUFRLFVBQVksQ0FDdEMsTUFBTyxHQUFNLFlBQ1osQ0FBQyxJQUNKSCxHQUEwQixVQUFZLENBQ3BDLEdBQUksR0FBZSxFQUFhLGFBQ2hDLFNBQWEsZUFFVCxJQUFrQixFQUFNLFlBQzFCLEVBQWEsbUJBR1IsVUFBWSxDQUNqQixFQUFhLGlCQUNiLEVBQWEsY0FBZ0IsT0FFOUIsQ0FBQyxFQUFjLElBQ2xCLEdBQUksR0FBVSxHQUFXLEdBQ3pCLE1BQW9CRCxHQUFNLGNBQWMsRUFBUSxTQUFVLENBQ3hELE1BQU8sR0FDTixHQ3JDVSxhQUFvQixDQUNqQ0ssVUFBVyxPQUFPLFFBQVUsU0FBVSxFQUFRLENBQzVDLE9BQVMsR0FBSSxFQUFHLEVBQUksVUFBVSxPQUFRLElBQUssQ0FDekMsR0FBSSxHQUFTLFVBQVUsR0FFdkIsT0FBUyxLQUFPLEdBQ2QsQUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVEsSUFDL0MsR0FBTyxHQUFPLEVBQU8sSUFLM0IsTUFBTyxJQUdGQSxHQUFTLE1BQU0sS0FBTTs7Ozs7OztHQ05qQixHQUFJQyxJQUFFLEFBQWEsTUFBTyxTQUFwQixZQUE0QixPQUFPLElBQUksR0FBRUEsR0FBRSxPQUFPLElBQUksaUJBQWlCLE1BQU0sR0FBRUEsR0FBRSxPQUFPLElBQUksZ0JBQWdCLE1BQU0sR0FBRUEsR0FBRSxPQUFPLElBQUksa0JBQWtCLE1BQU1DLEdBQUVELEdBQUUsT0FBTyxJQUFJLHFCQUFxQixNQUFNRSxHQUFFRixHQUFFLE9BQU8sSUFBSSxrQkFBa0IsTUFBTUcsR0FBRUgsR0FBRSxPQUFPLElBQUksa0JBQWtCLE1BQU1JLEdBQUVKLEdBQUUsT0FBTyxJQUFJLGlCQUFpQixNQUFNLEdBQUVBLEdBQUUsT0FBTyxJQUFJLG9CQUFvQixNQUFNSyxHQUFFTCxHQUFFLE9BQU8sSUFBSSx5QkFBeUIsTUFBTU0sR0FBRU4sR0FBRSxPQUFPLElBQUkscUJBQXFCLE1BQU1PLEdBQUVQLEdBQUUsT0FBTyxJQUFJLGtCQUFrQixNQUFNUSxHQUFFUixHQUNwZixPQUFPLElBQUksdUJBQXVCLE1BQU0sR0FBRUEsR0FBRSxPQUFPLElBQUksY0FBYyxNQUFNLEdBQUVBLEdBQUUsT0FBTyxJQUFJLGNBQWMsTUFBTVMsR0FBRVQsR0FBRSxPQUFPLElBQUksZUFBZSxNQUFNVSxHQUFFVixHQUFFLE9BQU8sSUFBSSxxQkFBcUIsTUFBTVcsR0FBRVgsR0FBRSxPQUFPLElBQUksbUJBQW1CLE1BQU0sR0FBRUEsR0FBRSxPQUFPLElBQUksZUFBZSxNQUNsUSxZQUFXLEVBQUUsQ0FBQyxHQUFHLEFBQVcsTUFBTyxJQUFsQixVQUFxQixBQUFPLElBQVAsS0FBUyxDQUFDLEdBQUksR0FBRSxFQUFFLFNBQVMsT0FBTyxPQUFRLElBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxPQUFRLFFBQU9LLFFBQU8sUUFBT0gsUUFBT0QsUUFBT00sSUFBRSxNQUFPLFdBQVUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLE9BQVFILFFBQU9FLFFBQU8sUUFBTyxRQUFPSCxJQUFFLE1BQU8sV0FBVSxNQUFPLFFBQVEsSUFBRSxNQUFPLEtBQUksWUFBVyxFQUFFLENBQUMsTUFBT1MsSUFBRSxLQUFLUCxnQkFBb0IscUJBQXlCQSxzQkFBMEJELHNCQUEwQkQsY0FBa0IsaUJBQXFCRyxlQUFtQixXQUFlLFdBQWUsYUFBaUIsZUFDL2RKLGlCQUFxQkQsZUFBbUJNLGtCQUFzQixTQUFTLEVBQUUsQ0FBQyxNQUFPTSxJQUFFLElBQUlELEdBQUUsS0FBSyx3QkFBNEJDLHdCQUE0QixTQUFTLEVBQUUsQ0FBQyxNQUFPRCxJQUFFLEtBQUtSLHlCQUE2QixTQUFTLEVBQUUsQ0FBQyxNQUFPUSxJQUFFLEtBQUtULGlCQUFxQixTQUFTLEVBQUUsQ0FBQyxNQUFNLEFBQVcsT0FBTyxJQUFsQixVQUFxQixBQUFPLElBQVAsTUFBVSxFQUFFLFdBQVcsb0JBQXdCLFNBQVMsRUFBRSxDQUFDLE1BQU9TLElBQUUsS0FBS04sa0JBQXNCLFNBQVMsRUFBRSxDQUFDLE1BQU9NLElBQUUsS0FBSyxjQUFrQixTQUFTLEVBQUUsQ0FBQyxNQUFPQSxJQUFFLEtBQUssY0FDMWMsU0FBUyxFQUFFLENBQUMsTUFBT0EsSUFBRSxLQUFLLGdCQUFvQixTQUFTLEVBQUUsQ0FBQyxNQUFPQSxJQUFFLEtBQUssa0JBQXNCLFNBQVMsRUFBRSxDQUFDLE1BQU9BLElBQUUsS0FBS1Ysb0JBQXdCLFNBQVMsRUFBRSxDQUFDLE1BQU9VLElBQUUsS0FBS1gsa0JBQXNCLFNBQVMsRUFBRSxDQUFDLE1BQU9XLElBQUUsS0FBS0wsMEJBQzlNLFNBQVMsRUFBRSxDQUFDLE1BQU0sQUFBVyxPQUFPLElBQWxCLFVBQXFCLEFBQWEsTUFBTyxJQUFwQixZQUF1QixJQUFJLElBQUcsSUFBSUYsSUFBRyxJQUFJSCxJQUFHLElBQUlELElBQUcsSUFBSU0sSUFBRyxJQUFJQyxJQUFHLEFBQVcsTUFBTyxJQUFsQixVQUFxQixBQUFPLElBQVAsTUFBVyxHQUFFLFdBQVcsSUFBRyxFQUFFLFdBQVcsSUFBRyxFQUFFLFdBQVdMLElBQUcsRUFBRSxXQUFXQyxJQUFHLEVBQUUsV0FBV0UsSUFBRyxFQUFFLFdBQVdJLElBQUcsRUFBRSxXQUFXQyxJQUFHLEVBQUUsV0FBVyxJQUFHLEVBQUUsV0FBV0YsZUFBbUJHLEdDWGpVRSxXQUFpQnRCLEdDRG5CLEdBQUksSUFBVUEsV0FNVixHQUFnQixDQUNsQixrQkFBbUIsR0FDbkIsWUFBYSxHQUNiLGFBQWMsR0FDZCxhQUFjLEdBQ2QsWUFBYSxHQUNiLGdCQUFpQixHQUNqQix5QkFBMEIsR0FDMUIseUJBQTBCLEdBQzFCLE9BQVEsR0FDUixVQUFXLEdBQ1gsS0FBTSxJQUVKLEdBQWdCLENBQ2xCLEtBQU0sR0FDTixPQUFRLEdBQ1IsVUFBVyxHQUNYLE9BQVEsR0FDUixPQUFRLEdBQ1IsVUFBVyxHQUNYLE1BQU8sSUFFTCxHQUFzQixDQUN4QixTQUFZLEdBQ1osT0FBUSxHQUNSLGFBQWMsR0FDZCxZQUFhLEdBQ2IsVUFBVyxJQUVULEdBQWUsQ0FDakIsU0FBWSxHQUNaLFFBQVMsR0FDVCxhQUFjLEdBQ2QsWUFBYSxHQUNiLFVBQVcsR0FDWCxLQUFNLElBRUosR0FBZSxHQUNuQixHQUFhLEdBQVEsWUFBYyxHQUNuQyxHQUFhLEdBQVEsTUFBUSxHQUU3QixZQUFvQixFQUFXLENBRTdCLE1BQUksSUFBUSxPQUFPLEdBQ1YsR0FJRixHQUFhLEVBQVUsV0FBZ0IsR0FHaEQsR0FBSSxJQUFpQixPQUFPLGVBQ3hCLEdBQXNCLE9BQU8sb0JBQzdCLEdBQXdCLE9BQU8sc0JBQy9CLEdBQTJCLE9BQU8seUJBQ2xDLEdBQWlCLE9BQU8sZUFDeEIsR0FBa0IsT0FBTyxVQUM3QixZQUE4QixFQUFpQixFQUFpQixFQUFXLENBQ3pFLEdBQUksTUFBTyxJQUFvQixTQUFVLENBRXZDLEdBQUksR0FBaUIsQ0FDbkIsR0FBSSxHQUFxQixHQUFlLEdBRXhDLEFBQUksR0FBc0IsSUFBdUIsSUFDL0MsR0FBcUIsRUFBaUIsRUFBb0IsR0FJOUQsR0FBSSxHQUFPLEdBQW9CLEdBRS9CLEFBQUksSUFDRixHQUFPLEVBQUssT0FBTyxHQUFzQixLQU0zQyxPQUhJLEdBQWdCLEdBQVcsR0FDM0IsRUFBZ0IsR0FBVyxHQUV0QixFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsRUFBRSxFQUFHLENBQ3BDLEdBQUksR0FBTSxFQUFLLEdBRWYsR0FBSSxDQUFDLEdBQWMsSUFBUSxDQUFFLElBQWEsRUFBVSxLQUFTLENBQUUsSUFBaUIsRUFBYyxLQUFTLENBQUUsSUFBaUIsRUFBYyxJQUFPLENBQzdJLEdBQUksR0FBYSxHQUF5QixFQUFpQixHQUUzRCxHQUFJLENBRUYsR0FBZSxFQUFpQixFQUFLLFNBQzlCLEVBQVAsS0FLUixNQUFPLE1BR1QsSUFBaUIsR0NuRlYsYUFBMkIsQ0FDaEMsR0FBSSxHQUFldUIsc0JBQVcsSUFNOUIsTUFBTyxHQ2hCRixZQUF5QixFQUFTLENBQ3ZDLEFBQUksSUFBWSxRQUNkLEdBQVUsSUFHWixHQUFJQyxHQUFrQixJQUFZLEdBQW9CQyxHQUF5QixVQUFZLENBQ3pGLE1BQU9GLHVCQUFXLElBRXBCLE1BQU8sV0FBb0IsQ0FDekIsR0FBSSxHQUFtQkMsSUFDbkIsRUFBUSxFQUFpQixNQUU3QixNQUFPLElBbUJKLEdBQUksSUFBd0IsS0NoQzVCLFlBQTRCLEVBQVMsQ0FDMUMsQUFBSSxJQUFZLFFBQ2QsR0FBVSxJQUdaLEdBQUlFLEdBQVcsSUFBWSxHQUFvQkMsR0FBa0IsR0FBZ0IsR0FDakYsTUFBTyxXQUF1QixDQUM1QixHQUFJLEdBQVFELElBQ1osTUFBTyxHQUFNLFVBeUJQLEdBQUMsSUFBMkIsS0NyQ3RDLEdBQVNFLG9DQ0pNLFlBQXdCLEVBQVUsRUFBWSxDQUMzRCxFQUFTLFVBQVksT0FBTyxPQUFPLEVBQVcsV0FDOUMsRUFBUyxVQUFVLFlBQWMsRUFDakNDLEdBQWUsRUFBVSxHQ0ozQixZQUFvQixFQUFVLENBQzVCLE1BQU8sR0FBUyxPQUFPLEtBQU8sSUFJaEMsWUFBbUIsRUFBTSxFQUFPLENBQzlCLE9BQVMsR0FBSSxFQUFPLEVBQUksRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxHQUFLLEVBQUcsR0FBSyxFQUNsRSxFQUFLLEdBQUssRUFBSyxHQUdqQixFQUFLLE1BSVAsWUFBeUIsRUFBSSxFQUFNLENBQ2pDLEFBQUksSUFBUyxRQUFXLEdBQU8sSUFFL0IsR0FBSSxHQUFXLEdBQU0sRUFBRyxNQUFNLE1BQVMsR0FDbkMsRUFBYSxHQUFRLEVBQUssTUFBTSxNQUFTLEdBRXpDLEVBQVUsR0FBTSxHQUFXLEdBQzNCLEVBQVksR0FBUSxHQUFXLEdBQy9CLEVBQWEsR0FBVyxFQVc1QixHQVRBLEFBQUksR0FBTSxHQUFXLEdBRW5CLEVBQVksRUFDSCxFQUFRLFFBRWpCLEdBQVUsTUFDVixFQUFZLEVBQVUsT0FBTyxJQUczQixDQUFDLEVBQVUsT0FBUSxNQUFPLElBRTlCLEdBQUksR0FDSixHQUFJLEVBQVUsT0FBUSxDQUNwQixHQUFJLEdBQU8sRUFBVSxFQUFVLE9BQVMsR0FDeEMsRUFBbUIsSUFBUyxLQUFPLElBQVMsTUFBUSxJQUFTLE9BRTdELEdBQW1CLEdBSXJCLE9BREksR0FBSyxFQUNBLEVBQUksRUFBVSxPQUFRLEdBQUssRUFBRyxJQUFLLENBQzFDLEdBQUksR0FBTyxFQUFVLEdBRXJCLEFBQUksSUFBUyxJQUNYLEdBQVUsRUFBVyxHQUNoQixBQUFJLElBQVMsS0FDbEIsSUFBVSxFQUFXLEdBQ3JCLEtBQ1MsR0FDVCxJQUFVLEVBQVcsR0FDckIsS0FJSixHQUFJLENBQUMsRUFBWSxLQUFPLElBQU0sRUFBSSxFQUFVLFFBQVEsTUFFcEQsQUFDRSxHQUNBLEVBQVUsS0FBTyxJQUNoQixFQUFDLEVBQVUsSUFBTSxDQUFDLEdBQVcsRUFBVSxNQUV4QyxFQUFVLFFBQVEsSUFFcEIsR0FBSSxHQUFTLEVBQVUsS0FBSyxLQUU1QixNQUFJLElBQW9CLEVBQU8sT0FBTyxNQUFRLEtBQUssSUFBVSxLQUV0RCxFQ3ZFVCxHQUFJLElBQWUsR0FDZkMsR0FBUyxtQkFDYixZQUFtQixFQUFXLEVBQVMsQ0FDbkMsR0FBSSxHQUdKLEtBQUksSUFDTSxHQUFJLE9BQU1BLElBRWQsR0FBSSxPQUFNQSxHQUFTLEtBQVEsSUFBVyxLQ0hoRCxZQUF5QixFQUFNLENBQzdCLE1BQU8sR0FBSyxPQUFPLEtBQU8sSUFBTSxFQUFPLElBQU0sRUFFL0MsWUFBMkIsRUFBTSxDQUMvQixNQUFPLEdBQUssT0FBTyxLQUFPLElBQU0sRUFBSyxPQUFPLEdBQUssRUFFbkQsWUFBcUIsRUFBTSxFQUFRLENBQ2pDLE1BQU8sR0FBSyxjQUFjLFFBQVEsRUFBTyxpQkFBbUIsR0FBSyxNQUFNLFFBQVEsRUFBSyxPQUFPLEVBQU8sV0FBYSxHQUVqSCxZQUF1QixFQUFNLEVBQVEsQ0FDbkMsTUFBTyxJQUFZLEVBQU0sR0FBVSxFQUFLLE9BQU8sRUFBTyxRQUFVLEVBRWxFLFlBQTRCLEVBQU0sQ0FDaEMsTUFBTyxHQUFLLE9BQU8sRUFBSyxPQUFTLEtBQU8sSUFBTSxFQUFLLE1BQU0sRUFBRyxJQUFNLEVBRXBFLFlBQW1CLEVBQU0sQ0FDdkIsR0FBSSxHQUFXLEdBQVEsSUFDbkIsRUFBUyxHQUNULEVBQU8sR0FDUCxFQUFZLEVBQVMsUUFBUSxLQUVqQyxBQUFJLElBQWMsSUFDaEIsR0FBTyxFQUFTLE9BQU8sR0FDdkIsRUFBVyxFQUFTLE9BQU8sRUFBRyxJQUdoQyxHQUFJLEdBQWMsRUFBUyxRQUFRLEtBRW5DLE1BQUksS0FBZ0IsSUFDbEIsR0FBUyxFQUFTLE9BQU8sR0FDekIsRUFBVyxFQUFTLE9BQU8sRUFBRyxJQUd6QixDQUNMLFNBQVUsRUFDVixPQUFRLElBQVcsSUFBTSxHQUFLLEVBQzlCLEtBQU0sSUFBUyxJQUFNLEdBQUssR0FHOUIsWUFBb0IsRUFBVSxDQUM1QixHQUFJLEdBQVcsRUFBUyxTQUNwQixFQUFTLEVBQVMsT0FDbEIsRUFBTyxFQUFTLEtBQ2hCLEVBQU8sR0FBWSxJQUN2QixNQUFJLElBQVUsSUFBVyxLQUFLLElBQVEsRUFBTyxPQUFPLEtBQU8sSUFBTSxFQUFTLElBQU0sR0FDNUUsR0FBUSxJQUFTLEtBQUssSUFBUSxFQUFLLE9BQU8sS0FBTyxJQUFNLEVBQU8sSUFBTSxHQUNqRSxFQUdULFlBQXdCLEVBQU0sRUFBTyxFQUFLLEVBQWlCLENBQ3pELEdBQUksR0FFSixBQUFJLE1BQU8sSUFBUyxTQUVsQixHQUFXLEdBQVUsR0FDckIsRUFBUyxNQUFRLEdBR2pCLEdBQVd2QixHQUFTLEdBQUksR0FDcEIsRUFBUyxXQUFhLFFBQVcsR0FBUyxTQUFXLElBRXpELEFBQUksRUFBUyxPQUNQLEVBQVMsT0FBTyxPQUFPLEtBQU8sS0FBSyxHQUFTLE9BQVMsSUFBTSxFQUFTLFFBRXhFLEVBQVMsT0FBUyxHQUdwQixBQUFJLEVBQVMsS0FDUCxFQUFTLEtBQUssT0FBTyxLQUFPLEtBQUssR0FBUyxLQUFPLElBQU0sRUFBUyxNQUVwRSxFQUFTLEtBQU8sR0FHZCxJQUFVLFFBQWEsRUFBUyxRQUFVLFFBQVcsR0FBUyxNQUFRLElBRzVFLEdBQUksQ0FDRixFQUFTLFNBQVcsVUFBVSxFQUFTLGdCQUNoQyxFQUFQLENBQ0EsS0FBSSxhQUFhLFVBQ1QsR0FBSSxVQUFTLGFBQWUsRUFBUyxTQUFXLGlGQUVoRCxFQUlWLE1BQUksSUFBSyxHQUFTLElBQU0sR0FFeEIsQUFBSSxFQUVGLEFBQUssRUFBUyxTQUVILEVBQVMsU0FBUyxPQUFPLEtBQU8sS0FDekMsR0FBUyxTQUFXLEdBQWdCLEVBQVMsU0FBVSxFQUFnQixXQUZ2RSxFQUFTLFNBQVcsRUFBZ0IsU0FNakMsRUFBUyxVQUNaLEdBQVMsU0FBVyxLQUlqQixFQU1ULGFBQW1DLENBQ2pDLEdBQUksR0FBUyxLQUViLFdBQW1CLEVBQVksQ0FFN0IsU0FBUyxFQUNGLFVBQVksQ0FDakIsQUFBSSxJQUFXLEdBQVksR0FBUyxPQUl4QyxXQUE2QixFQUFVLEVBQVEsRUFBcUIsRUFBVSxDQUk1RSxHQUFJLEdBQVUsS0FBTSxDQUNsQixHQUFJLEdBQVMsTUFBTyxJQUFXLFdBQWEsRUFBTyxFQUFVLEdBQVUsRUFFdkUsQUFBSSxNQUFPLElBQVcsU0FDcEIsQUFBSSxNQUFPLElBQXdCLFdBQ2pDLEVBQW9CLEVBQVEsR0FHNUIsRUFBUyxJQUlYLEVBQVMsSUFBVyxRQUd0QixHQUFTLElBSWIsR0FBSSxHQUFZLEdBRWhCLFdBQXdCLEVBQUksQ0FDMUIsR0FBSSxHQUFXLEdBRWYsWUFBb0IsQ0FDbEIsQUFBSSxHQUFVLEVBQUcsTUFBTSxPQUFRLFdBR2pDLFNBQVUsS0FBSyxHQUNSLFVBQVksQ0FDakIsRUFBVyxHQUNYLEVBQVksRUFBVSxPQUFPLFNBQVUsRUFBTSxDQUMzQyxNQUFPLEtBQVMsS0FLdEIsWUFBMkIsQ0FDekIsT0FBUyxHQUFPLFVBQVUsT0FBUSxFQUFPLEdBQUksT0FBTSxHQUFPLEVBQU8sRUFBRyxFQUFPLEVBQU0sSUFDL0UsRUFBSyxHQUFRLFVBQVUsR0FHekIsRUFBVSxRQUFRLFNBQVUsRUFBVSxDQUNwQyxNQUFPLEdBQVMsTUFBTSxPQUFRLEtBSWxDLE1BQU8sQ0FDTCxVQUFXLEVBQ1gsb0JBQXFCLEVBQ3JCLGVBQWdCLEVBQ2hCLGdCQUFpQixHQUlyQixHQUFJd0IsSUFBWSxDQUFDLENBQUUsT0FBTyxTQUFXLGFBQWUsT0FBTyxVQUFZLE9BQU8sU0FBUyxlQUN2RixZQUF5QixFQUFTLEVBQVUsQ0FDMUMsRUFBUyxPQUFPLFFBQVEsSUFVMUIsYUFBMkIsQ0FDekIsR0FBSSxHQUFLLE9BQU8sVUFBVSxVQUMxQixNQUFLLEdBQUcsUUFBUSxnQkFBa0IsSUFBTSxFQUFHLFFBQVEsaUJBQW1CLEtBQU8sRUFBRyxRQUFRLG1CQUFxQixJQUFNLEVBQUcsUUFBUSxZQUFjLElBQU0sRUFBRyxRQUFRLG1CQUFxQixHQUFXLEdBQ3RMLE9BQU8sU0FBVyxhQUFlLFFBQU8sUUFPakQsYUFBd0MsQ0FDdEMsTUFBTyxRQUFPLFVBQVUsVUFBVSxRQUFRLGFBQWUsR0FNM0QsYUFBNEMsQ0FDMUMsTUFBTyxRQUFPLFVBQVUsVUFBVSxRQUFRLGFBQWUsR0FRM0QsWUFBbUMsRUFBTyxDQUN4QyxNQUFPLEdBQU0sUUFBVSxRQUFhLFVBQVUsVUFBVSxRQUFRLFdBQWEsR0FHL0UsR0FBSSxJQUFnQixXQUNoQixHQUFrQixhQUV0QixhQUEyQixDQUN6QixHQUFJLENBQ0YsTUFBTyxRQUFPLFFBQVEsT0FBUyxTQUN4QixFQUFQLENBR0EsTUFBTyxJQVNYLFlBQThCLEVBQU8sQ0FDbkMsQUFBSSxJQUFVLFFBQ1osR0FBUSxJQUdUQSxJQUFzR0MsR0FBVSxJQUNqSCxHQUFJLEdBQWdCLE9BQU8sUUFDdkIsRUFBZ0IsS0FDaEIsRUFBMEIsQ0FBQyxLQUMzQixFQUFTLEVBQ1QsRUFBc0IsRUFBTyxhQUM3QixFQUFlLElBQXdCLE9BQVMsR0FBUSxFQUN4RCxFQUF3QixFQUFPLG9CQUMvQixFQUFzQixJQUEwQixPQUFTLEdBQWtCLEVBQzNFLEVBQW1CLEVBQU8sVUFDMUIsRUFBWSxJQUFxQixPQUFTLEVBQUksRUFDOUMsRUFBVyxFQUFNLFNBQVcsR0FBbUJDLEdBQWdCLEVBQU0sV0FBYSxHQUV0RixXQUF3QixHQUFjLENBQ3BDLEdBQUksR0FBTyxJQUFnQixHQUN2QixHQUFNLEVBQUssSUFDWCxFQUFRLEVBQUssTUFFYixFQUFtQixPQUFPLFNBQzFCLEVBQVcsRUFBaUIsU0FDNUIsRUFBUyxFQUFpQixPQUMxQixFQUFPLEVBQWlCLEtBQ3hCLEdBQU8sRUFBVyxFQUFTLEVBRS9CLE1BQUksSUFBVSxJQUFPQyxHQUFjLEdBQU0sSUFDbEMsR0FBZSxHQUFNLEVBQU8sSUFHckMsWUFBcUIsQ0FDbkIsTUFBTyxNQUFLLFNBQVMsU0FBUyxJQUFJLE9BQU8sRUFBRyxHQUc5QyxHQUFJLEdBQW9CLEtBRXhCLFdBQWtCLEdBQVcsQ0FDM0IzQixHQUFTLEVBQVMsSUFFbEIsRUFBUSxPQUFTLEVBQWMsT0FDL0IsRUFBa0IsZ0JBQWdCLEVBQVEsU0FBVSxFQUFRLFFBRzlELFdBQXdCLEdBQU8sQ0FFN0IsQUFBSSxHQUEwQixLQUM5QixFQUFVLEVBQWUsR0FBTSxRQUdqQyxZQUE0QixDQUMxQixFQUFVLEVBQWUsT0FHM0IsR0FBSSxHQUFlLEdBRW5CLFdBQW1CLEdBQVUsQ0FDM0IsR0FBSSxFQUNGLEVBQWUsR0FDZixRQUNLLENBQ0wsR0FBSSxHQUFTLE1BQ2IsRUFBa0Isb0JBQW9CLEdBQVUsRUFBUSxFQUFxQixTQUFVLEdBQUksQ0FDekYsQUFBSSxHQUNGLEVBQVMsQ0FDUCxPQUFRLEVBQ1IsU0FBVSxLQUdaLEVBQVUsT0FNbEIsV0FBbUIsR0FBYyxDQUMvQixHQUFJLEdBQWEsRUFBUSxTQUlyQixHQUFVLEdBQVEsUUFBUSxFQUFXLEtBQ3pDLEFBQUksS0FBWSxJQUFJLElBQVUsR0FDOUIsR0FBSSxHQUFZLEdBQVEsUUFBUSxHQUFhLEtBQzdDLEFBQUksSUFBYyxJQUFJLEdBQVksR0FDbEMsR0FBSSxHQUFRLEdBQVUsRUFFdEIsQUFBSSxHQUNGLEdBQWUsR0FDZixHQUFHLElBSVAsR0FBSSxHQUFrQixFQUFlLE1BQ2pDLEdBQVUsQ0FBQyxFQUFnQixLQUUvQixXQUFvQixHQUFVLENBQzVCLE1BQU8sR0FBVyxHQUFXLElBRy9CLFdBQWMsR0FBTSxFQUFPLENBRXpCLEdBQUksSUFBUyxPQUNULEVBQVcsR0FBZSxHQUFNLEVBQU8sSUFBYSxFQUFRLFVBQ2hFLEVBQWtCLG9CQUFvQixFQUFVLEdBQVEsRUFBcUIsU0FBVSxFQUFJLENBQ3pGLEdBQUksRUFBQyxFQUNMLElBQUksR0FBTyxFQUFXLEdBQ2xCLEVBQU0sRUFBUyxJQUNmLEVBQVEsRUFBUyxNQUVyQixHQUFJLEVBTUYsR0FMQSxFQUFjLFVBQVUsQ0FDdEIsSUFBSyxFQUNMLE1BQU8sR0FDTixLQUFNLEdBRUwsRUFDRixPQUFPLFNBQVMsS0FBTyxNQUNsQixDQUNMLEdBQUksSUFBWSxHQUFRLFFBQVEsRUFBUSxTQUFTLEtBQzdDLEVBQVcsR0FBUSxNQUFNLEVBQUcsR0FBWSxHQUM1QyxFQUFTLEtBQUssRUFBUyxLQUN2QixHQUFVLEVBQ1YsRUFBUyxDQUNQLE9BQVEsR0FDUixTQUFVLFFBS2QsUUFBTyxTQUFTLEtBQU8sS0FLN0IsWUFBaUIsR0FBTSxFQUFPLENBRTVCLEdBQUksSUFBUyxVQUNULEVBQVcsR0FBZSxHQUFNLEVBQU8sSUFBYSxFQUFRLFVBQ2hFLEVBQWtCLG9CQUFvQixFQUFVLEdBQVEsRUFBcUIsU0FBVSxFQUFJLENBQ3pGLEdBQUksRUFBQyxFQUNMLElBQUksR0FBTyxFQUFXLEdBQ2xCLEVBQU0sRUFBUyxJQUNmLEVBQVEsRUFBUyxNQUVyQixHQUFJLEVBTUYsR0FMQSxFQUFjLGFBQWEsQ0FDekIsSUFBSyxFQUNMLE1BQU8sR0FDTixLQUFNLEdBRUwsRUFDRixPQUFPLFNBQVMsUUFBUSxPQUNuQixDQUNMLEdBQUksSUFBWSxHQUFRLFFBQVEsRUFBUSxTQUFTLEtBQ2pELEFBQUksS0FBYyxJQUFJLElBQVEsSUFBYSxFQUFTLEtBQ3BELEVBQVMsQ0FDUCxPQUFRLEdBQ1IsU0FBVSxRQUtkLFFBQU8sU0FBUyxRQUFRLE1BSzlCLFlBQVksR0FBRyxDQUNiLEVBQWMsR0FBRyxJQUduQixhQUFrQixDQUNoQixHQUFHLElBR0wsYUFBcUIsQ0FDbkIsR0FBRyxHQUdMLEdBQUksR0FBZ0IsRUFFcEIsV0FBMkIsR0FBTyxDQUNoQyxHQUFpQixHQUVqQixBQUFJLElBQWtCLEdBQUssS0FBVSxFQUNuQyxRQUFPLGlCQUFpQixHQUFlLEdBQ25DLEdBQXlCLE9BQU8saUJBQWlCLEdBQWlCLElBQzdELElBQWtCLEdBQzNCLFFBQU8sb0JBQW9CLEdBQWUsR0FDdEMsR0FBeUIsT0FBTyxvQkFBb0IsR0FBaUIsSUFJN0UsR0FBSSxHQUFZLEdBRWhCLFdBQWUsR0FBUSxDQUNyQixBQUFJLEtBQVcsUUFDYixJQUFTLElBR1gsR0FBSSxHQUFVLEVBQWtCLFVBQVUsSUFFMUMsTUFBSyxJQUNILEdBQWtCLEdBQ2xCLEVBQVksSUFHUCxVQUFZLENBQ2pCLE1BQUksSUFDRixHQUFZLEdBQ1osRUFBa0IsS0FHYixLQUlYLFdBQWdCLEdBQVUsQ0FDeEIsR0FBSSxHQUFXLEVBQWtCLGVBQWUsSUFDaEQsU0FBa0IsR0FDWCxVQUFZLENBQ2pCLEVBQWtCLElBQ2xCLEtBSUosR0FBSSxHQUFVLENBQ1osT0FBUSxFQUFjLE9BQ3RCLE9BQVEsTUFDUixTQUFVLEVBQ1YsV0FBWSxFQUNaLEtBQU0sRUFDTixRQUFTLEdBQ1QsR0FBSSxHQUNKLE9BQVEsR0FDUixVQUFXLEdBQ1gsTUFBTyxFQUNQLE9BQVEsR0FFVixNQUFPLEdBR1QsR0FBSSxJQUFvQixhQUNwQixHQUFpQixDQUNuQixTQUFVLENBQ1IsV0FBWSxTQUFvQixFQUFNLENBQ3BDLE1BQU8sR0FBSyxPQUFPLEtBQU8sSUFBTSxFQUFPLEtBQU8sR0FBa0IsSUFFbEUsV0FBWSxTQUFvQixFQUFNLENBQ3BDLE1BQU8sR0FBSyxPQUFPLEtBQU8sSUFBTSxFQUFLLE9BQU8sR0FBSyxJQUdyRCxRQUFTLENBQ1AsV0FBWSxHQUNaLFdBQVkwQixJQUVkLE1BQU8sQ0FDTCxXQUFZQSxHQUNaLFdBQVlBLEtBSWhCLFlBQW1CLEVBQUssQ0FDdEIsR0FBSSxHQUFZLEVBQUksUUFBUSxLQUM1QixNQUFPLEtBQWMsR0FBSyxFQUFNLEVBQUksTUFBTSxFQUFHLEdBRy9DLGFBQXVCLENBR3JCLEdBQUksR0FBTyxPQUFPLFNBQVMsS0FDdkIsRUFBWSxFQUFLLFFBQVEsS0FDN0IsTUFBTyxLQUFjLEdBQUssR0FBSyxFQUFLLFVBQVUsRUFBWSxHQUc1RCxZQUFzQixFQUFNLENBQzFCLE9BQU8sU0FBUyxLQUFPLEVBR3pCLFlBQXlCLEVBQU0sQ0FDN0IsT0FBTyxTQUFTLFFBQVEsR0FBVSxPQUFPLFNBQVMsTUFBUSxJQUFNLEdBR2xFLFlBQTJCLEVBQU8sQ0FDaEMsQUFBSSxJQUFVLFFBQ1osR0FBUSxJQUdURixJQUFtR0MsR0FBVSxJQUM5RyxHQUFJLEdBQWdCLE9BQU8sUUFDRixLQUN6QixHQUFJLEdBQVMsRUFDVCxFQUF3QixFQUFPLG9CQUMvQixFQUFzQixJQUEwQixPQUFTLEdBQWtCLEVBQzNFLEVBQWtCLEVBQU8sU0FDekIsRUFBVyxJQUFvQixPQUFTLFFBQVUsRUFDbEQsRUFBVyxFQUFNLFNBQVcsR0FBbUJDLEdBQWdCLEVBQU0sV0FBYSxHQUNsRixFQUF3QixHQUFlLEdBQ3ZDLEVBQWEsRUFBc0IsV0FDbkMsRUFBYSxFQUFzQixXQUV2QyxZQUEwQixDQUN4QixHQUFJLEdBQU8sRUFBVyxNQUV0QixNQUFJLElBQVUsR0FBT0MsR0FBYyxFQUFNLElBQ2xDLEdBQWUsR0FHeEIsR0FBSSxHQUFvQixLQUV4QixXQUFrQixFQUFXLENBQzNCM0IsR0FBUyxHQUFTLEdBRWxCLEdBQVEsT0FBUyxFQUFjLE9BQy9CLEVBQWtCLGdCQUFnQixHQUFRLFNBQVUsR0FBUSxRQUc5RCxHQUFJLEdBQWUsR0FDZixFQUFhLEtBRWpCLFdBQThCLEVBQUcsR0FBRyxDQUNsQyxNQUFPLEdBQUUsV0FBYSxHQUFFLFVBQVksRUFBRSxTQUFXLEdBQUUsUUFBVSxFQUFFLE9BQVMsR0FBRSxLQUc1RSxZQUE0QixDQUMxQixHQUFJLEdBQU8sS0FDUCxHQUFjLEVBQVcsR0FFN0IsR0FBSSxJQUFTLEdBRVgsR0FBZ0IsUUFDWCxDQUNMLEdBQUksR0FBVyxJQUNYLEVBQWUsR0FBUSxTQUczQixHQUZJLENBQUMsR0FBZ0IsRUFBcUIsRUFBYyxJQUVwRCxJQUFlLEdBQVcsR0FBVyxPQUV6QyxFQUFhLEtBQ2IsRUFBVSxJQUlkLFdBQW1CLEVBQVUsQ0FDM0IsR0FBSSxFQUNGLEVBQWUsR0FDZixRQUNLLENBQ0wsR0FBSSxJQUFTLE1BQ2IsRUFBa0Isb0JBQW9CLEVBQVUsR0FBUSxFQUFxQixTQUFVLEVBQUksQ0FDekYsQUFBSSxFQUNGLEVBQVMsQ0FDUCxPQUFRLEdBQ1IsU0FBVSxJQUdaLEVBQVUsTUFNbEIsV0FBbUIsRUFBYyxDQUMvQixHQUFJLElBQWEsR0FBUSxTQUlyQixFQUFVLEVBQVMsWUFBWSxHQUFXLEtBQzlDLEFBQUksSUFBWSxJQUFJLEdBQVUsR0FDOUIsR0FBSSxHQUFZLEVBQVMsWUFBWSxHQUFXLElBQ2hELEFBQUksSUFBYyxJQUFJLEdBQVksR0FDbEMsR0FBSSxHQUFRLEVBQVUsRUFFdEIsQUFBSSxHQUNGLEdBQWUsR0FDZixHQUFHLElBS1AsR0FBSSxHQUFPLEtBQ1AsRUFBYyxFQUFXLEdBQzdCLEFBQUksSUFBUyxHQUFhLEdBQWdCLEdBQzFDLEdBQUksSUFBa0IsSUFDbEIsRUFBVyxDQUFDLEdBQVcsS0FFM0IsV0FBb0IsRUFBVSxDQUM1QixHQUFJLElBQVUsU0FBUyxjQUFjLFFBQ2pDLEVBQU8sR0FFWCxNQUFJLEtBQVcsR0FBUSxhQUFhLFNBQ2xDLEdBQU8sR0FBVSxPQUFPLFNBQVMsT0FHNUIsRUFBTyxJQUFNLEVBQVcsRUFBVyxHQUFXLElBR3ZELFlBQWMsRUFBTSxHQUFPLENBRXpCLEdBQUksR0FBUyxPQUNULEVBQVcsR0FBZSxFQUFNLE9BQVcsT0FBVyxHQUFRLFVBQ2xFLEVBQWtCLG9CQUFvQixFQUFVLEVBQVEsRUFBcUIsU0FBVSxFQUFJLENBQ3pGLEdBQUksRUFBQyxFQUNMLElBQUksR0FBTyxHQUFXLEdBQ2xCLEVBQWMsRUFBVyxFQUFXLEdBQ3BDLEdBQWMsT0FBa0IsRUFFcEMsR0FBSSxHQUFhLENBSWYsRUFBYSxFQUNiLEdBQWEsR0FDYixHQUFJLEdBQVksRUFBUyxZQUFZLEdBQVcsR0FBUSxXQUNwRCxHQUFZLEVBQVMsTUFBTSxFQUFHLEVBQVksR0FDOUMsR0FBVSxLQUFLLEdBQ2YsRUFBVyxHQUNYLEVBQVMsQ0FDUCxPQUFRLEVBQ1IsU0FBVSxRQUlaLFFBS04sWUFBaUIsRUFBTSxHQUFPLENBRTVCLEdBQUksR0FBUyxVQUNULEVBQVcsR0FBZSxFQUFNLE9BQVcsT0FBVyxHQUFRLFVBQ2xFLEVBQWtCLG9CQUFvQixFQUFVLEVBQVEsRUFBcUIsU0FBVSxFQUFJLENBQ3pGLEdBQUksRUFBQyxFQUNMLElBQUksR0FBTyxHQUFXLEdBQ2xCLEVBQWMsRUFBVyxFQUFXLEdBQ3BDLEdBQWMsT0FBa0IsRUFFcEMsQUFBSSxJQUlGLEdBQWEsRUFDYixHQUFnQixJQUdsQixHQUFJLEdBQVksRUFBUyxRQUFRLEdBQVcsR0FBUSxXQUNwRCxBQUFJLElBQWMsSUFBSSxHQUFTLEdBQWEsR0FDNUMsRUFBUyxDQUNQLE9BQVEsRUFDUixTQUFVLE9BS2hCLFlBQVksRUFBRyxDQUViLEVBQWMsR0FBRyxHQUduQixhQUFrQixDQUNoQixHQUFHLElBR0wsWUFBcUIsQ0FDbkIsR0FBRyxHQUdMLEdBQUksR0FBZ0IsRUFFcEIsV0FBMkIsRUFBTyxDQUNoQyxHQUFpQixFQUVqQixBQUFJLElBQWtCLEdBQUssSUFBVSxFQUNuQyxPQUFPLGlCQUFpQixHQUFtQixHQUNsQyxJQUFrQixHQUMzQixPQUFPLG9CQUFvQixHQUFtQixHQUlsRCxHQUFJLEdBQVksR0FFaEIsV0FBZSxFQUFRLENBQ3JCLEFBQUksSUFBVyxRQUNiLEdBQVMsSUFHWCxHQUFJLElBQVUsRUFBa0IsVUFBVSxHQUUxQyxNQUFLLElBQ0gsR0FBa0IsR0FDbEIsRUFBWSxJQUdQLFVBQVksQ0FDakIsTUFBSSxJQUNGLEdBQVksR0FDWixFQUFrQixLQUdiLE1BSVgsV0FBZ0IsRUFBVSxDQUN4QixHQUFJLElBQVcsRUFBa0IsZUFBZSxHQUNoRCxTQUFrQixHQUNYLFVBQVksQ0FDakIsRUFBa0IsSUFDbEIsTUFJSixHQUFJLElBQVUsQ0FDWixPQUFRLEVBQWMsT0FDdEIsT0FBUSxNQUNSLFNBQVUsR0FDVixXQUFZLEVBQ1osS0FBTSxHQUNOLFFBQVMsR0FDVCxHQUFJLEdBQ0osT0FBUSxHQUNSLFVBQVcsRUFDWCxNQUFPLEVBQ1AsT0FBUSxHQUVWLE1BQU8sSUFHVCxZQUFlLEVBQUcsRUFBWSxFQUFZLENBQ3hDLE1BQU8sTUFBSyxJQUFJLEtBQUssSUFBSSxFQUFHLEdBQWEsR0FPM0MsWUFBNkIsRUFBTyxDQUNsQyxBQUFJLElBQVUsUUFDWixHQUFRLElBR1YsR0FBSSxHQUFTLEVBQ1QsRUFBc0IsRUFBTyxvQkFDN0IsRUFBd0IsRUFBTyxlQUMvQixFQUFpQixJQUEwQixPQUFTLENBQUMsS0FBTyxFQUM1RCxFQUFzQixFQUFPLGFBQzdCLEVBQWUsSUFBd0IsT0FBUyxFQUFJLEVBQ3BELEVBQW1CLEVBQU8sVUFDMUIsRUFBWSxJQUFxQixPQUFTLEVBQUksRUFDOUMsRUFBb0IsS0FFeEIsV0FBa0IsRUFBVyxDQUMzQkEsR0FBUyxFQUFTLEdBRWxCLEVBQVEsT0FBUyxFQUFRLFFBQVEsT0FDakMsRUFBa0IsZ0JBQWdCLEVBQVEsU0FBVSxFQUFRLFFBRzlELFlBQXFCLENBQ25CLE1BQU8sTUFBSyxTQUFTLFNBQVMsSUFBSSxPQUFPLEVBQUcsR0FHOUMsR0FBSSxHQUFRNEIsR0FBTSxFQUFjLEVBQUcsRUFBZSxPQUFTLEdBQ3ZELEVBQVUsRUFBZSxJQUFJLFNBQVUsRUFBTyxDQUNoRCxNQUFPLE9BQU8sSUFBVSxTQUFXLEdBQWUsRUFBTyxPQUFXLEtBQWUsR0FBZSxFQUFPLE9BQVcsRUFBTSxLQUFPLE9BRy9ILEVBQWEsR0FFakIsV0FBYyxFQUFNLEdBQU8sQ0FFekIsR0FBSSxJQUFTLE9BQ1QsR0FBVyxHQUFlLEVBQU0sR0FBTyxJQUFhLEVBQVEsVUFDaEUsRUFBa0Isb0JBQW9CLEdBQVUsR0FBUSxFQUFxQixTQUFVLEdBQUksQ0FDekYsR0FBSSxFQUFDLEdBQ0wsSUFBSSxHQUFZLEVBQVEsTUFDcEIsRUFBWSxFQUFZLEVBQ3hCLEVBQWMsRUFBUSxRQUFRLE1BQU0sR0FFeEMsQUFBSSxFQUFZLE9BQVMsRUFDdkIsRUFBWSxPQUFPLEVBQVcsRUFBWSxPQUFTLEVBQVcsSUFFOUQsRUFBWSxLQUFLLElBR25CLEVBQVMsQ0FDUCxPQUFRLEdBQ1IsU0FBVSxHQUNWLE1BQU8sRUFDUCxRQUFTLE9BS2YsV0FBaUIsRUFBTSxHQUFPLENBRTVCLEdBQUksSUFBUyxVQUNULEdBQVcsR0FBZSxFQUFNLEdBQU8sSUFBYSxFQUFRLFVBQ2hFLEVBQWtCLG9CQUFvQixHQUFVLEdBQVEsRUFBcUIsU0FBVSxHQUFJLENBQ3pGLEFBQUksQ0FBQyxJQUNMLEdBQVEsUUFBUSxFQUFRLE9BQVMsR0FDakMsRUFBUyxDQUNQLE9BQVEsR0FDUixTQUFVLFFBS2hCLFdBQVksRUFBRyxDQUNiLEdBQUksSUFBWUEsR0FBTSxFQUFRLE1BQVEsRUFBRyxFQUFHLEVBQVEsUUFBUSxPQUFTLEdBQ2pFLEdBQVMsTUFDVCxHQUFXLEVBQVEsUUFBUSxJQUMvQixFQUFrQixvQkFBb0IsR0FBVSxHQUFRLEVBQXFCLFNBQVUsR0FBSSxDQUN6RixBQUFJLEdBQ0YsRUFBUyxDQUNQLE9BQVEsR0FDUixTQUFVLEdBQ1YsTUFBTyxLQUtULE1BS04sWUFBa0IsQ0FDaEIsRUFBRyxJQUdMLFlBQXFCLENBQ25CLEVBQUcsR0FHTCxXQUFlLEVBQUcsQ0FDaEIsR0FBSSxJQUFZLEVBQVEsTUFBUSxFQUNoQyxNQUFPLEtBQWEsR0FBSyxHQUFZLEVBQVEsUUFBUSxPQUd2RCxXQUFlLEVBQVEsQ0FDckIsTUFBSSxLQUFXLFFBQ2IsR0FBUyxJQUdKLEVBQWtCLFVBQVUsR0FHckMsWUFBZ0IsRUFBVSxDQUN4QixNQUFPLEdBQWtCLGVBQWUsR0FHMUMsR0FBSSxHQUFVLENBQ1osT0FBUSxFQUFRLE9BQ2hCLE9BQVEsTUFDUixTQUFVLEVBQVEsR0FDbEIsTUFBTyxFQUNQLFFBQVMsRUFDVCxXQUFZLEVBQ1osS0FBTSxFQUNOLFFBQVMsRUFDVCxHQUFJLEVBQ0osT0FBUSxFQUNSLFVBQVcsRUFDWCxNQUFPLEVBQ1AsTUFBTyxFQUNQLE9BQVEsSUFFVixNQUFPLEdDOTRCVCxHQUFJLElBQXdCLFdBQ3hCLEdBQWlCLE1BQU8sYUFBZSxZQUFjLFdBQWEsTUFBTyxTQUFXLFlBQWMsT0FBUyxNQUFPLFNBQVcsWUFBYyxPQUFTLEdBRXhKLGFBQXVCLENBQ3JCLEdBQUksR0FBTSx1QkFDVixNQUFPLElBQWUsR0FBUSxJQUFlLElBQVEsR0FBSyxFQUc1RCxZQUFrQixFQUFHLEVBQUcsQ0FDdEIsTUFBSSxLQUFNLEVBQ0QsSUFBTSxHQUFLLEVBQUksR0FBTSxFQUFJLEVBRXpCLElBQU0sR0FBSyxJQUFNLEVBSTVCLFlBQTRCLEVBQU8sQ0FDakMsR0FBSSxHQUFXLEdBQ2YsTUFBTyxDQUNMLEdBQUksU0FBWSxFQUFTLENBQ3ZCLEVBQVMsS0FBSyxJQUVoQixJQUFLLFNBQWEsRUFBUyxDQUN6QixFQUFXLEVBQVMsT0FBTyxTQUFVLEVBQUcsQ0FDdEMsTUFBTyxLQUFNLEtBR2pCLElBQUssVUFBZSxDQUNsQixNQUFPLElBRVQsSUFBSyxTQUFhLEVBQVUsRUFBYSxDQUN2QyxFQUFRLEVBQ1IsRUFBUyxRQUFRLFNBQVUsRUFBUyxDQUNsQyxNQUFPLEdBQVEsRUFBTyxPQU05QixZQUFtQixFQUFVLENBQzNCLE1BQU8sT0FBTSxRQUFRLEdBQVksRUFBUyxHQUFLLEVBR2pELFlBQTRCLEVBQWMsRUFBc0IsQ0FDOUQsR0FBSSxHQUF1QixFQUV2QixFQUFjLDBCQUE0QixLQUFnQixLQUUxRCxFQUF3QixTQUFVLEVBQVksQ0FDaERDLEdBQWUsRUFBVSxHQUV6QixZQUFvQixDQUNsQixHQUFJLEdBRUosU0FBUSxFQUFXLE1BQU0sS0FBTSxZQUFjLEtBQzdDLEVBQU0sUUFBVSxHQUFtQixFQUFNLE1BQU0sT0FDeEMsRUFHVCxHQUFJLEdBQVMsRUFBUyxVQUV0QixTQUFPLGdCQUFrQixVQUEyQixDQUNsRCxHQUFJLEdBRUosTUFBTyxHQUFPLEdBQUksRUFBSyxHQUFlLEtBQUssUUFBUyxHQUd0RCxFQUFPLDBCQUE0QixTQUFtQyxFQUFXLENBQy9FLEdBQUksS0FBSyxNQUFNLFFBQVUsRUFBVSxNQUFPLENBQ3hDLEdBQUksR0FBVyxLQUFLLE1BQU0sTUFDdEIsRUFBVyxFQUFVLE1BQ3JCLEVBRUosQUFBSSxHQUFTLEVBQVUsR0FDckIsRUFBYyxFQUVkLEdBQWMsTUFBTyxJQUF5QixXQUFhLEVBQXFCLEVBQVUsR0FBWSxHQU10RyxHQUFlLEVBRVgsSUFBZ0IsR0FDbEIsS0FBSyxRQUFRLElBQUksRUFBVSxNQUFPLE1BTTFDLEVBQU8sT0FBUyxVQUFrQixDQUNoQyxNQUFPLE1BQUssTUFBTSxVQUdiLEdBQ1BDLHNCQUVGLEVBQVMsa0JBQXFCLEdBQXdCLEdBQUksRUFBc0IsR0FBZSxHQUFVLE9BQU8sV0FBWSxHQUU1SCxHQUFJLEdBQXdCLFNBQVUsRUFBYSxDQUNqREQsR0FBZSxFQUFVLEdBRXpCLFlBQW9CLENBQ2xCLEdBQUksR0FFSixTQUFTLEVBQVksTUFBTSxLQUFNLFlBQWMsS0FDL0MsRUFBTyxNQUFRLENBQ2IsTUFBTyxFQUFPLFlBR2hCLEVBQU8sU0FBVyxTQUFVLEVBQVUsRUFBYSxDQUNqRCxHQUFJLEdBQWUsRUFBTyxhQUFlLEVBRXpDLEFBQUssR0FBZSxJQUFpQixHQUNuQyxFQUFPLFNBQVMsQ0FDZCxNQUFPLEVBQU8sY0FLYixFQUdULEdBQUksR0FBVSxFQUFTLFVBRXZCLFNBQVEsMEJBQTRCLFNBQW1DLEVBQVcsQ0FDaEYsR0FBSSxHQUFlLEVBQVUsYUFDN0IsS0FBSyxhQUE2QyxHQUF3QixJQUc1RSxFQUFRLGtCQUFvQixVQUE2QixDQUN2RCxBQUFJLEtBQUssUUFBUSxJQUNmLEtBQUssUUFBUSxHQUFhLEdBQUcsS0FBSyxVQUdwQyxHQUFJLEdBQWUsS0FBSyxNQUFNLGFBQzlCLEtBQUssYUFBNkMsR0FBd0IsSUFHNUUsRUFBUSxxQkFBdUIsVUFBZ0MsQ0FDN0QsQUFBSSxLQUFLLFFBQVEsSUFDZixLQUFLLFFBQVEsR0FBYSxJQUFJLEtBQUssV0FJdkMsRUFBUSxTQUFXLFVBQW9CLENBQ3JDLE1BQUksTUFBSyxRQUFRLEdBQ1IsS0FBSyxRQUFRLEdBQWEsTUFFMUIsR0FJWCxFQUFRLE9BQVMsVUFBa0IsQ0FDakMsTUFBTyxJQUFVLEtBQUssTUFBTSxVQUFVLEtBQUssTUFBTSxRQUc1QyxHQUNQQyxzQkFFRixTQUFTLGFBQWdCLEdBQXdCLEdBQUksRUFBc0IsR0FBZSxHQUFVLE9BQVEsR0FDckcsQ0FDTCxTQUFVLEVBQ1YsU0FBVSxHQUlkLEdBQUlDLElBQVFwQyxFQUFNLGVBQWlCLG1CQzdLbkNxQyxHQUFpQixNQUFNLFNBQVcsU0FBVSxFQUFLLENBQy9DLE1BQU8sUUFBTyxVQUFVLFNBQVMsS0FBSyxJQUFRLGtCQ0Q1QyxHQUFVdkMsR0FLZHdDLFdBQWlCLG9CQUNNQyxzQkFDRUMsK0JBQ1MsNkJBQ0YsR0FPaEMsR0FBSSxJQUFjLEdBQUksUUFBTyxDQUczQixVQU9BLDBHQUNBLEtBQUssS0FBTSxLQVNiLFlBQWdCLEVBQUssRUFBUyxDQVE1QixPQVBJLEdBQVMsR0FDVCxFQUFNLEVBQ04sRUFBUSxFQUNSLEVBQU8sR0FDUCxFQUFtQixHQUFXLEVBQVEsV0FBYSxJQUNuRCxFQUVJLEdBQU0sR0FBWSxLQUFLLEtBQVMsTUFBTSxDQUM1QyxHQUFJLEdBQUksRUFBSSxHQUNSLEVBQVUsRUFBSSxHQUNkLEVBQVMsRUFBSSxNQUtqQixHQUpBLEdBQVEsRUFBSSxNQUFNLEVBQU8sR0FDekIsRUFBUSxFQUFTLEVBQUUsT0FHZixFQUFTLENBQ1gsR0FBUSxFQUFRLEdBQ2hCLFNBR0YsR0FBSSxHQUFPLEVBQUksR0FDWCxFQUFTLEVBQUksR0FDYixFQUFPLEVBQUksR0FDWCxFQUFVLEVBQUksR0FDZCxFQUFRLEVBQUksR0FDWixFQUFXLEVBQUksR0FDZixFQUFXLEVBQUksR0FHbkIsQUFBSSxHQUNGLEdBQU8sS0FBSyxHQUNaLEVBQU8sSUFHVCxHQUFJLEdBQVUsR0FBVSxNQUFRLEdBQVEsTUFBUSxJQUFTLEVBQ3JELEVBQVMsSUFBYSxLQUFPLElBQWEsSUFDMUMsRUFBVyxJQUFhLEtBQU8sSUFBYSxJQUM1QyxFQUFZLEVBQUksSUFBTSxFQUN0QixHQUFVLEdBQVcsRUFFekIsRUFBTyxLQUFLLENBQ1YsS0FBTSxHQUFRLElBQ2QsT0FBUSxHQUFVLEdBQ2xCLFVBQVcsRUFDWCxTQUFVLEVBQ1YsT0FBUSxFQUNSLFFBQVMsRUFDVCxTQUFVLENBQUMsQ0FBQyxFQUNaLFFBQVMsR0FBVSxHQUFZLElBQVksRUFBVyxLQUFPLEtBQU8sR0FBYSxHQUFhLFFBS2xHLE1BQUksR0FBUSxFQUFJLFFBQ2QsSUFBUSxFQUFJLE9BQU8sSUFJakIsR0FDRixFQUFPLEtBQUssR0FHUCxFQVVULFlBQWtCLEVBQUssRUFBUyxDQUM5QixNQUFPLElBQWlCRCxHQUFNLEVBQUssR0FBVSxHQVMvQyxZQUFtQyxFQUFLLENBQ3RDLE1BQU8sV0FBVSxHQUFLLFFBQVEsVUFBVyxTQUFVLEVBQUcsQ0FDcEQsTUFBTyxJQUFNLEVBQUUsV0FBVyxHQUFHLFNBQVMsSUFBSSxnQkFVOUMsWUFBeUIsRUFBSyxDQUM1QixNQUFPLFdBQVUsR0FBSyxRQUFRLFFBQVMsU0FBVSxFQUFHLENBQ2xELE1BQU8sSUFBTSxFQUFFLFdBQVcsR0FBRyxTQUFTLElBQUksZ0JBTzlDLFlBQTJCLEVBQVEsRUFBUyxDQUsxQyxPQUhJLEdBQVUsR0FBSSxPQUFNLEVBQU8sUUFHdEIsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQ2pDLEFBQUksTUFBTyxHQUFPLElBQU8sVUFDdkIsR0FBUSxHQUFLLEdBQUksUUFBTyxPQUFTLEVBQU8sR0FBRyxRQUFVLEtBQU0sR0FBTSxLQUlyRSxNQUFPLFVBQVUsRUFBSyxFQUFNLENBTTFCLE9BTEksR0FBTyxHQUNQLEVBQU8sR0FBTyxHQUNkLEVBQVUsR0FBUSxHQUNsQixFQUFTLEVBQVEsT0FBUyxHQUEyQixtQkFFaEQsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDdEMsR0FBSSxHQUFRLEVBQU8sR0FFbkIsR0FBSSxNQUFPLElBQVUsU0FBVSxDQUM3QixHQUFRLEVBRVIsU0FHRixHQUFJLEdBQVEsRUFBSyxFQUFNLE1BQ25CLEVBRUosR0FBSSxHQUFTLEtBQ1gsR0FBSSxFQUFNLFNBQVUsQ0FFbEIsQUFBSSxFQUFNLFNBQ1IsSUFBUSxFQUFNLFFBR2hCLGFBRUEsTUFBTSxJQUFJLFdBQVUsYUFBZSxFQUFNLEtBQU8sbUJBSXBELEdBQUksR0FBUSxHQUFRLENBQ2xCLEdBQUksQ0FBQyxFQUFNLE9BQ1QsS0FBTSxJQUFJLFdBQVUsYUFBZSxFQUFNLEtBQU8sa0NBQW9DLEtBQUssVUFBVSxHQUFTLEtBRzlHLEdBQUksRUFBTSxTQUFXLEVBQUcsQ0FDdEIsR0FBSSxFQUFNLFNBQ1IsU0FFQSxLQUFNLElBQUksV0FBVSxhQUFlLEVBQU0sS0FBTyxxQkFJcEQsT0FBUyxHQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUdyQyxHQUZBLEVBQVUsRUFBTyxFQUFNLElBRW5CLENBQUMsRUFBUSxHQUFHLEtBQUssR0FDbkIsS0FBTSxJQUFJLFdBQVUsaUJBQW1CLEVBQU0sS0FBTyxlQUFpQixFQUFNLFFBQVUsb0JBQXNCLEtBQUssVUFBVSxHQUFXLEtBR3ZJLEdBQVMsS0FBTSxFQUFJLEVBQU0sT0FBUyxFQUFNLFdBQWEsRUFHdkQsU0FLRixHQUZBLEVBQVUsRUFBTSxTQUFXLEdBQWUsR0FBUyxFQUFPLEdBRXRELENBQUMsRUFBUSxHQUFHLEtBQUssR0FDbkIsS0FBTSxJQUFJLFdBQVUsYUFBZSxFQUFNLEtBQU8sZUFBaUIsRUFBTSxRQUFVLG9CQUFzQixFQUFVLEtBR25ILEdBQVEsRUFBTSxPQUFTLEVBR3pCLE1BQU8sSUFVWCxZQUF1QixFQUFLLENBQzFCLE1BQU8sR0FBSSxRQUFRLDZCQUE4QixRQVNuRCxZQUFzQixFQUFPLENBQzNCLE1BQU8sR0FBTSxRQUFRLGdCQUFpQixRQVV4QyxZQUFxQixFQUFJLEVBQU0sQ0FDN0IsU0FBRyxLQUFPLEVBQ0gsRUFTVCxZQUFnQixFQUFTLENBQ3ZCLE1BQU8sSUFBVyxFQUFRLFVBQVksR0FBSyxJQVU3QyxZQUF5QixFQUFNLEVBQU0sQ0FFbkMsR0FBSSxHQUFTLEVBQUssT0FBTyxNQUFNLGFBRS9CLEdBQUksRUFDRixPQUFTLEdBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUNqQyxFQUFLLEtBQUssQ0FDUixLQUFNLEVBQ04sT0FBUSxLQUNSLFVBQVcsS0FDWCxTQUFVLEdBQ1YsT0FBUSxHQUNSLFFBQVMsR0FDVCxTQUFVLEdBQ1YsUUFBUyxPQUtmLE1BQU8sSUFBVyxFQUFNLEdBVzFCLFlBQXdCLEVBQU0sRUFBTSxFQUFTLENBRzNDLE9BRkksR0FBUSxHQUVILEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUMvQixFQUFNLEtBQUssR0FBYSxFQUFLLEdBQUksRUFBTSxHQUFTLFFBR2xELEdBQUksR0FBUyxHQUFJLFFBQU8sTUFBUSxFQUFNLEtBQUssS0FBTyxJQUFLLEdBQU0sSUFFN0QsTUFBTyxJQUFXLEVBQVEsR0FXNUIsWUFBeUIsRUFBTSxFQUFNLEVBQVMsQ0FDNUMsTUFBTyxJQUFlQSxHQUFNLEVBQU0sR0FBVSxFQUFNLEdBV3BELFlBQXlCLEVBQVEsRUFBTSxFQUFTLENBQzlDLEFBQUssR0FBUSxJQUNYLEdBQWtDLEdBQVEsRUFDMUMsRUFBTyxJQUdULEVBQVUsR0FBVyxHQU9yQixPQUxJLEdBQVMsRUFBUSxPQUNqQixFQUFNLEVBQVEsTUFBUSxHQUN0QixFQUFRLEdBR0gsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDdEMsR0FBSSxHQUFRLEVBQU8sR0FFbkIsR0FBSSxNQUFPLElBQVUsU0FDbkIsR0FBUyxHQUFhLE9BQ2pCLENBQ0wsR0FBSSxHQUFTLEdBQWEsRUFBTSxRQUM1QixFQUFVLE1BQVEsRUFBTSxRQUFVLElBRXRDLEVBQUssS0FBSyxHQUVOLEVBQU0sUUFDUixJQUFXLE1BQVEsRUFBUyxFQUFVLE1BR3hDLEFBQUksRUFBTSxTQUNSLEFBQUssRUFBTSxRQUdULEVBQVUsRUFBUyxJQUFNLEVBQVUsS0FGbkMsRUFBVSxNQUFRLEVBQVMsSUFBTSxFQUFVLE1BSzdDLEVBQVUsRUFBUyxJQUFNLEVBQVUsSUFHckMsR0FBUyxHQUliLEdBQUksR0FBWSxHQUFhLEVBQVEsV0FBYSxLQUM5QyxFQUFvQixFQUFNLE1BQU0sQ0FBQyxFQUFVLFVBQVksRUFNM0QsTUFBSyxJQUNILEdBQVMsR0FBb0IsRUFBTSxNQUFNLEVBQUcsQ0FBQyxFQUFVLFFBQVUsR0FBUyxNQUFRLEVBQVksV0FHaEcsQUFBSSxFQUNGLEdBQVMsSUFJVCxHQUFTLEdBQVUsRUFBb0IsR0FBSyxNQUFRLEVBQVksTUFHM0QsR0FBVyxHQUFJLFFBQU8sSUFBTSxFQUFPLEdBQU0sSUFBVyxHQWU3RCxZQUF1QixFQUFNLEVBQU0sRUFBUyxDQVExQyxNQVBLLElBQVEsSUFDWCxHQUFrQyxHQUFRLEVBQzFDLEVBQU8sSUFHVCxFQUFVLEdBQVcsR0FFakIsWUFBZ0IsUUFDWCxHQUFlLEVBQTZCLEdBR2pELEdBQVEsR0FDSCxHQUFxQyxFQUE4QixFQUFPLEdBRzVFLEdBQXNDLEVBQThCLEVBQU8scUJDelpoRixHQUFxQixTQUE0QixFQUFNLENBQ3pELEdBQUksR0FBVUUsS0FDZCxTQUFRLFlBQWMsRUFDZixHQUdMLEdBQThCLEdBQW1CLGtCQUVqRCxHQUF1QixHQUFtQixVQU0xQyxHQUFzQixTQUFVLEVBQWtCLENBQ3BEUCxHQUFlLEVBQVEsR0FFdkIsRUFBTyxpQkFBbUIsU0FBMEIsRUFBVSxDQUM1RCxNQUFPLENBQ0wsS0FBTSxJQUNOLElBQUssSUFDTCxPQUFRLEdBQ1IsUUFBUyxJQUFhLE1BSTFCLFdBQWdCLEVBQU8sQ0FDckIsR0FBSSxHQUVKLFNBQVEsRUFBaUIsS0FBSyxLQUFNLElBQVUsS0FDOUMsRUFBTSxNQUFRLENBQ1osU0FBVSxFQUFNLFFBQVEsVUFPMUIsRUFBTSxXQUFhLEdBQ25CLEVBQU0saUJBQW1CLEtBRXBCLEVBQU0sZUFDVCxHQUFNLFNBQVcsRUFBTSxRQUFRLE9BQU8sU0FBVSxFQUFVLENBQ3hELEFBQUksRUFBTSxXQUNSLEVBQU0sU0FBUyxDQUNiLFNBQVUsSUFHWixFQUFNLGlCQUFtQixLQUt4QixFQUdULEdBQUksR0FBUyxFQUFPLFVBRXBCLFNBQU8sa0JBQW9CLFVBQTZCLENBQ3RELEtBQUssV0FBYSxHQUVkLEtBQUssa0JBQ1AsS0FBSyxTQUFTLENBQ1osU0FBVSxLQUFLLG9CQUtyQixFQUFPLHFCQUF1QixVQUFnQyxDQUM1RCxBQUFJLEtBQUssVUFDUCxNQUFLLFdBQ0wsS0FBSyxXQUFhLEdBQ2xCLEtBQUssaUJBQW1CLE9BSTVCLEVBQU8sT0FBUyxVQUFrQixDQUNoQyxNQUFvQmxDLEdBQU0sY0FBYyxHQUFRLFNBQVUsQ0FDeEQsTUFBTyxDQUNMLFFBQVMsS0FBSyxNQUFNLFFBQ3BCLFNBQVUsS0FBSyxNQUFNLFNBQ3JCLE1BQU8sRUFBTyxpQkFBaUIsS0FBSyxNQUFNLFNBQVMsVUFDbkQsY0FBZSxLQUFLLE1BQU0sZ0JBRWRBLEVBQU0sY0FBYyxHQUFlLFNBQVUsQ0FDM0QsU0FBVSxLQUFLLE1BQU0sVUFBWSxLQUNqQyxNQUFPLEtBQUssTUFBTSxZQUlmLEdBQ1BBLEVBQU0sV0EyQ05BLEVBQU0sVUEwQ05BLEVBQU0sVUE0SFIsR0FBSSxJQUFVLEdBQ1YsR0FBZSxJQUNmLEdBQWUsRUFFbkIsWUFBdUIsRUFBTSxFQUFTLENBQ3BDLEdBQUksR0FBVyxHQUFLLEVBQVEsSUFBTSxFQUFRLE9BQVMsRUFBUSxVQUN2RCxFQUFZLEdBQVEsSUFBYyxJQUFRLEdBQVksSUFDMUQsR0FBSSxFQUFVLEdBQU8sTUFBTyxHQUFVLEdBQ3RDLEdBQUksR0FBTyxHQUNQLEVBQVMwQyxHQUFhLEVBQU0sRUFBTSxHQUNsQyxFQUFTLENBQ1gsT0FBUSxFQUNSLEtBQU0sR0FHUixNQUFJLElBQWUsSUFDakIsR0FBVSxHQUFRLEVBQ2xCLE1BR0ssRUFPVCxZQUFtQixFQUFVLEVBQVMsQ0FDcEMsQUFBSSxJQUFZLFFBQ2QsR0FBVSxJQUdSLE9BQU8sSUFBWSxVQUFZLE1BQU0sUUFBUSxLQUMvQyxHQUFVLENBQ1IsS0FBTSxJQUlWLEdBQUksR0FBVyxFQUNYLEVBQU8sRUFBUyxLQUNoQixFQUFpQixFQUFTLE1BQzFCLEVBQVEsSUFBbUIsT0FBUyxHQUFRLEVBQzVDLEVBQWtCLEVBQVMsT0FDM0IsRUFBUyxJQUFvQixPQUFTLEdBQVEsRUFDOUMsRUFBcUIsRUFBUyxVQUM5QixFQUFZLElBQXVCLE9BQVMsR0FBUSxFQUNwRCxFQUFRLEdBQUcsT0FBTyxHQUN0QixNQUFPLEdBQU0sT0FBTyxTQUFVLEVBQVMsRUFBTSxDQUMzQyxHQUFJLENBQUMsR0FBUSxJQUFTLEdBQUksTUFBTyxNQUNqQyxHQUFJLEVBQVMsTUFBTyxHQUVwQixHQUFJLEdBQWUsR0FBYyxFQUFNLENBQ3JDLElBQUssRUFDTCxPQUFRLEVBQ1IsVUFBVyxJQUVULEVBQVMsRUFBYSxPQUN0QixFQUFPLEVBQWEsS0FFcEIsRUFBUSxFQUFPLEtBQUssR0FDeEIsR0FBSSxDQUFDLEVBQU8sTUFBTyxNQUNuQixHQUFJLEdBQU0sRUFBTSxHQUNaLEVBQVMsRUFBTSxNQUFNLEdBQ3JCLEVBQVUsSUFBYSxFQUMzQixNQUFJLElBQVMsQ0FBQyxFQUFnQixLQUN2QixDQUNMLEtBQU0sRUFFTixJQUFLLElBQVMsS0FBTyxJQUFRLEdBQUssSUFBTSxFQUV4QyxRQUFTLEVBRVQsT0FBUSxFQUFLLE9BQU8sU0FBVSxFQUFNLEVBQUssR0FBTyxDQUM5QyxTQUFLLEVBQUksTUFBUSxFQUFPLElBQ2pCLEdBQ04sTUFFSixNQUdMLFlBQXlCLEVBQVUsQ0FDakMsTUFBTzFDLEdBQU0sU0FBUyxNQUFNLEtBQWMsRUFhNUMsR0FBSSxJQUFxQixTQUFVLEVBQWtCLENBQ25Ea0MsR0FBZSxFQUFPLEdBRXRCLFlBQWlCLENBQ2YsTUFBTyxHQUFpQixNQUFNLEtBQU0sWUFBYyxLQUdwRCxHQUFJLEdBQVMsRUFBTSxVQUVuQixTQUFPLE9BQVMsVUFBa0IsQ0FDaEMsR0FBSSxHQUFRLEtBRVosTUFBb0JsQyxHQUFNLGNBQWMsR0FBUSxTQUFVLEtBQU0sU0FBVSxFQUFXLENBQ25GLEFBQUMsR0FBd0g4QixHQUFVLElBQ25JLEdBQUksR0FBVyxFQUFNLE1BQU0sVUFBWSxFQUFVLFNBQzdDLEVBQVEsRUFBTSxNQUFNLGNBQWdCLEVBQU0sTUFBTSxjQUNsRCxFQUFNLE1BQU0sS0FBTyxHQUFVLEVBQVMsU0FBVSxFQUFNLE9BQVMsRUFBVSxNQUV2RSxFQUFRekIsR0FBUyxHQUFJLEVBQVcsQ0FDbEMsU0FBVSxFQUNWLE1BQU8sSUFHTCxFQUFjLEVBQU0sTUFDcEIsRUFBVyxFQUFZLFNBQ3ZCLEVBQVksRUFBWSxVQUN4QixFQUFTLEVBQVksT0FHekIsTUFBSSxPQUFNLFFBQVEsSUFBYSxHQUFnQixJQUM3QyxHQUFXLE1BR09MLEVBQU0sY0FBYyxHQUFRLFNBQVUsQ0FDeEQsTUFBTyxHQUNOLEVBQU0sTUFBUSxFQUFXLE1BQU8sSUFBYSxXQUEwRyxFQUFTLEdBQVMsRUFBVyxFQUF5QkEsRUFBTSxjQUFjLEVBQVcsR0FBUyxFQUFTLEVBQU8sR0FBUyxLQUFPLE1BQU8sSUFBYSxXQUEwRyxFQUFTLEdBQVMsU0FJcmEsR0FDUEEsRUFBTSxXQThCUixZQUF5QixFQUFNLENBQzdCLE1BQU8sR0FBSyxPQUFPLEtBQU8sSUFBTSxFQUFPLElBQU0sRUFHL0MsWUFBcUIsRUFBVSxFQUFVLENBQ3ZDLE1BQUssR0FDRUssR0FBUyxHQUFJLEVBQVUsQ0FDNUIsU0FBVSxHQUFnQixHQUFZLEVBQVMsV0FGM0IsRUFNeEIsWUFBdUIsRUFBVSxFQUFVLENBQ3pDLEdBQUksQ0FBQyxFQUFVLE1BQU8sR0FDdEIsR0FBSSxHQUFPLEdBQWdCLEdBQzNCLE1BQUksR0FBUyxTQUFTLFFBQVEsS0FBVSxFQUFVLEVBQzNDQSxHQUFTLEdBQUksRUFBVSxDQUM1QixTQUFVLEVBQVMsU0FBUyxPQUFPLEVBQUssVUFJNUMsWUFBbUIsRUFBVSxDQUMzQixNQUFPLE9BQU8sSUFBYSxTQUFXLEVBQVcsR0FBVyxHQUc5RCxZQUF1QixFQUFZLENBQ2pDLE1BQU8sV0FBWSxDQUM0RnlCLEdBQVUsS0FJM0gsYUFBZ0IsRUFvRmQ5QixFQUFNLFVBa0JSLEdBQUksSUFBc0IsU0FBVSxFQUFrQixDQUNwRGtDLEdBQWUsRUFBUSxHQUV2QixZQUFrQixDQUNoQixNQUFPLEdBQWlCLE1BQU0sS0FBTSxZQUFjLEtBR3BELEdBQUksR0FBUyxFQUFPLFVBRXBCLFNBQU8sT0FBUyxVQUFrQixDQUNoQyxHQUFJLEdBQVEsS0FFWixNQUFvQmxDLEdBQU0sY0FBYyxHQUFRLFNBQVUsS0FBTSxTQUFVLEVBQVMsQ0FDakYsQUFBQyxHQUF1SDhCLEdBQVUsSUFDbEksR0FBSSxHQUFXLEVBQU0sTUFBTSxVQUFZLEVBQVEsU0FDM0MsRUFBUyxFQUtiOUIsU0FBTSxTQUFTLFFBQVEsRUFBTSxNQUFNLFNBQVUsU0FBVSxFQUFPLENBQzVELEdBQUksR0FBUyxNQUFxQkEsRUFBTSxlQUFlLEdBQVEsQ0FDN0QsRUFBVSxFQUNWLEdBQUksR0FBTyxFQUFNLE1BQU0sTUFBUSxFQUFNLE1BQU0sS0FDM0MsRUFBUSxFQUFPLEdBQVUsRUFBUyxTQUFVSyxHQUFTLEdBQUksRUFBTSxNQUFPLENBQ3BFLEtBQU0sS0FDRixFQUFRLFNBR1gsRUFBcUJMLEVBQU0sYUFBYSxFQUFTLENBQ3RELFNBQVUsRUFDVixjQUFlLElBQ1osUUFJRixHQUNQQSxFQUFNLFdBa0JSLFlBQW9CLEVBQVcsQ0FDN0IsR0FBSSxHQUFjLGNBQWlCLEdBQVUsYUFBZSxFQUFVLE1BQVEsSUFFMUUsRUFBSSxTQUFXLEVBQU8sQ0FDeEIsR0FBSSxHQUFzQixFQUFNLG9CQUM1QixFQUFpQjJDLEdBQThCLEVBQU8sQ0FBQyx3QkFFM0QsTUFBb0IzQyxHQUFNLGNBQWMsR0FBUSxTQUFVLEtBQU0sU0FBVSxFQUFTLENBQ2pGLE1BQUMsSUFBc0k4QixHQUFVLElBQzdIOUIsRUFBTSxjQUFjLEVBQVdLLEdBQVMsR0FBSSxFQUFnQixFQUFTLENBQ3ZGLElBQUssUUFLWCxTQUFFLFlBQWMsRUFDaEIsRUFBRSxpQkFBbUIsRUFRZHVDLEdBQWEsRUFBRyxHQUd6QixHQUFJLElBQWE1QyxFQUFNLFdBQ3ZCLGFBQXNCLENBS3BCLE1BQU8sSUFBVyxJQUVwQixhQUF1QixDQUtyQixNQUFPLElBQVcsSUFBUyxTQ25yQjdCLEdBQUksSUFBNkIsU0FBVSxFQUFrQixDQUMzRGtDLEdBQWUsRUFBZSxHQUU5QixZQUF5QixDQUd2QixPQUZJLEdBRUssRUFBTyxVQUFVLE9BQVEsRUFBTyxHQUFJLE9BQU0sR0FBTyxFQUFPLEVBQUcsRUFBTyxFQUFNLElBQy9FLEVBQUssR0FBUSxVQUFVLEdBR3pCLFNBQVEsRUFBaUIsS0FBSyxNQUFNLEVBQWtCLENBQUMsTUFBTSxPQUFPLEtBQVUsS0FDOUUsRUFBTSxRQUFVLEdBQXFCLEVBQU0sT0FDcEMsRUFHVCxHQUFJLEdBQVMsRUFBYyxVQUUzQixTQUFPLE9BQVMsVUFBa0IsQ0FDaEMsTUFBb0JsQyxHQUFNLGNBQWMsR0FBUSxDQUM5QyxRQUFTLEtBQUssUUFDZCxTQUFVLEtBQUssTUFBTSxZQUlsQixHQUNQQSxFQUFNLFdBNkNOQSxFQUFNLFVBZVIsR0FBSSxJQUFvQixTQUEyQixFQUFJLEVBQWlCLENBQ3RFLE1BQU8sT0FBTyxJQUFPLFdBQWEsRUFBRyxHQUFtQixHQUV0RCxHQUFzQixTQUE2QixFQUFJLEVBQWlCLENBQzFFLE1BQU8sT0FBTyxJQUFPLFNBQVcsR0FBZSxFQUFJLEtBQU0sS0FBTSxHQUFtQixHQUdoRixHQUFpQixTQUF3QixFQUFHLENBQzlDLE1BQU8sSUFHTCxHQUFhQSxFQUFNLFdBRXZCLEFBQUksTUFBTyxLQUFlLGFBQ3hCLElBQWEsSUFHZixZQUF5QixFQUFPLENBQzlCLE1BQU8sQ0FBQyxDQUFFLEdBQU0sU0FBVyxFQUFNLFFBQVUsRUFBTSxTQUFXLEVBQU0sVUFHcEUsR0FBSSxJQUFhLEdBQVcsU0FBVSxFQUFNLEVBQWMsQ0FDeEQsR0FBSSxHQUFXLEVBQUssU0FDaEIsRUFBVyxFQUFLLFNBQ2hCLEVBQVcsRUFBSyxRQUNoQixFQUFPMkMsR0FBOEIsRUFBTSxDQUFDLFdBQVksV0FBWSxZQUVwRSxFQUFTLEVBQUssT0FFZCxFQUFRdEMsR0FBUyxHQUFJLEVBQU0sQ0FDN0IsUUFBUyxTQUFpQixFQUFPLENBQy9CLEdBQUksQ0FDRixBQUFJLEdBQVUsRUFBUyxTQUNoQixFQUFQLENBQ0EsUUFBTSxpQkFDQSxFQUdSLEFBQUksQ0FBQyxFQUFNLGtCQUNYLEVBQU0sU0FBVyxHQUNqQixFQUFDLEdBQVUsSUFBVyxVQUN0QixDQUFDLEdBQWdCLElBRWIsR0FBTSxpQkFDTixRQU1SLE1BQUksTUFBbUIsR0FDckIsRUFBTSxJQUFNLEdBQWdCLEVBRTVCLEVBQU0sSUFBTSxFQUtNTCxFQUFNLGNBQWMsSUFBSyxLQVczQyxHQUFPLEdBQVcsU0FBVSxFQUFPLEVBQWMsQ0FDbkQsR0FBSSxHQUFrQixFQUFNLFVBQ3hCLEVBQVksSUFBb0IsT0FBUyxHQUFhLEVBQ3RELEVBQVUsRUFBTSxRQUNoQixFQUFLLEVBQU0sR0FDWCxFQUFXLEVBQU0sU0FDakIsRUFBTzJDLEdBQThCLEVBQU8sQ0FBQyxZQUFhLFVBQVcsS0FBTSxhQUUvRSxNQUFvQjNDLEdBQU0sY0FBYzZDLEdBQWdCLFNBQVUsS0FBTSxTQUFVLEVBQVMsQ0FDekYsQUFBQyxHQUFxSGYsR0FBVSxJQUNoSSxHQUFJLEdBQVUsRUFBUSxRQUNsQixFQUFXLEdBQW9CLEdBQWtCLEVBQUksRUFBUSxVQUFXLEVBQVEsVUFDaEYsRUFBTyxFQUFXLEVBQVEsV0FBVyxHQUFZLEdBRWpELEVBQVF6QixHQUFTLEdBQUksRUFBTSxDQUM3QixLQUFNLEVBQ04sU0FBVSxVQUFvQixDQUM1QixHQUFJLEdBQVcsR0FBa0IsRUFBSSxFQUFRLFVBQ3pDLEVBQXdCLEdBQVcsRUFBUSxZQUFjLEdBQVcsR0FBb0IsSUFDeEYsRUFBUyxHQUFXLEVBQXdCLEVBQVEsUUFBVSxFQUFRLEtBQzFFLEVBQU8sTUFLWCxNQUFJLE1BQW1CLEdBQ3JCLEVBQU0sSUFBTSxHQUFnQixFQUU1QixFQUFNLFNBQVcsRUFHQ0wsRUFBTSxjQUFjLEVBQVcsT0FtQm5ELEdBQW1CLFNBQXdCLEVBQUcsQ0FDaEQsTUFBTyxJQUdMLEdBQWVBLEVBQU0sV0FFekIsQUFBSSxNQUFPLEtBQWlCLGFBQzFCLElBQWUsSUFHakIsYUFBMEIsQ0FDeEIsT0FBUyxHQUFPLFVBQVUsT0FBUSxFQUFhLEdBQUksT0FBTSxHQUFPLEVBQU8sRUFBRyxFQUFPLEVBQU0sSUFDckYsRUFBVyxHQUFRLFVBQVUsR0FHL0IsTUFBTyxHQUFXLE9BQU8sU0FBVSxFQUFHLENBQ3BDLE1BQU8sS0FDTixLQUFLLEtBT0ksR0FBYSxTQUFVLEVBQU0sRUFBYyxDQUN2RCxHQUFJLEdBQW1CLEVBQUssZ0JBQ3hCLEVBQWMsSUFBcUIsT0FBUyxPQUFTLEVBQ3JELEVBQXVCLEVBQUssZ0JBQzVCLEVBQWtCLElBQXlCLE9BQVMsU0FBVyxFQUMvRCxFQUFjLEVBQUssWUFDbkIsRUFBZ0IsRUFBSyxVQUNyQixFQUFRLEVBQUssTUFDYixFQUFlLEVBQUssU0FDcEIsRUFBZSxFQUFLLFNBQ3BCLEVBQVksRUFBSyxVQUNqQixFQUFTLEVBQUssT0FDZCxFQUFZLEVBQUssTUFDakIsRUFBSyxFQUFLLEdBQ1YsRUFBVyxFQUFLLFNBQ2hCLEVBQU8yQyxHQUE4QixFQUFNLENBQUMsZUFBZ0Isa0JBQW1CLGNBQWUsWUFBYSxRQUFTLFdBQVksV0FBWSxZQUFhLFNBQVUsUUFBUyxLQUFNLGFBRXRMLE1BQW9CM0MsR0FBTSxjQUFjNkMsR0FBZ0IsU0FBVSxLQUFNLFNBQVUsRUFBUyxDQUN6RixBQUFDLEdBQXdIZixHQUFVLElBQ25JLEdBQUksR0FBa0IsR0FBZ0IsRUFBUSxTQUMxQyxFQUFhLEdBQW9CLEdBQWtCLEVBQUksR0FBa0IsR0FDekUsRUFBTyxFQUFXLFNBRWxCLEVBQWMsR0FBUSxFQUFLLFFBQVEsNEJBQTZCLFFBQ2hFLEdBQVEsRUFBYyxHQUFVLEVBQWdCLFNBQVUsQ0FDNUQsS0FBTSxFQUNOLE1BQU8sRUFDUCxVQUFXLEVBQ1gsT0FBUSxJQUNMLEtBQ0QsRUFBVyxDQUFDLENBQUUsR0FBZSxFQUFhLEdBQU8sR0FBbUIsSUFDcEUsRUFBWSxNQUFPLElBQWtCLFdBQWEsRUFBYyxHQUFZLEVBQzVFLEdBQVEsTUFBTyxJQUFjLFdBQWEsRUFBVSxHQUFZLEVBRXBFLEFBQUksR0FDRixHQUFZLEdBQWUsRUFBVyxHQUN0QyxHQUFRekIsR0FBUyxHQUFJLEdBQU8sSUFHOUIsR0FBSSxJQUFRQSxHQUFTLENBQ25CLGVBQWdCLEdBQVksR0FBZSxLQUMzQyxVQUFXLEVBQ1gsTUFBTyxHQUNQLEdBQUksR0FDSCxHQUdILE1BQUksTUFBcUIsR0FDdkIsR0FBTSxJQUFNLEdBQWdCLEVBRTVCLEdBQU0sU0FBVyxFQUdDTCxFQUFNLGNBQWMsR0FBTSxRQ3RTbEQsWUFBMEIsRUFBSSxDQUFFLE1BQVEsSUFBTyxNQUFPLElBQU8sVUFBYSxXQUFhLEdBQU0sRUFBRyxRQUFhLEVBRTdHLEdBQUksSUFBUUYsV0FDUixHQUFpQixHQUFnQixJQUVyQyxZQUF5QixFQUFLLEVBQUssRUFBTyxDQUN4QyxNQUFJLEtBQU8sR0FDVCxPQUFPLGVBQWUsRUFBSyxFQUFLLENBQzlCLE1BQU8sRUFDUCxXQUFZLEdBQ1osYUFBYyxHQUNkLFNBQVUsS0FHWixFQUFJLEdBQU8sRUFHTixFQUdULFlBQXdCLEVBQVUsRUFBWSxDQUM1QyxFQUFTLFVBQVksT0FBTyxPQUFPLEVBQVcsV0FDOUMsRUFBUyxVQUFVLFlBQWMsRUFDakMsRUFBUyxVQUFZLEVBR3ZCLEdBQUksSUFBWSxDQUFDLENBQUUsT0FBTyxTQUFXLGFBQWUsT0FBTyxVQUFZLE9BQU8sU0FBUyxlQUN2RixZQUF3QixFQUFvQixFQUEyQixFQUFrQixDQUN2RixHQUFJLE1BQU8sSUFBdUIsV0FDaEMsS0FBTSxJQUFJLE9BQU0saURBR2xCLEdBQUksTUFBTyxJQUE4QixXQUN2QyxLQUFNLElBQUksT0FBTSx3REFHbEIsR0FBSSxNQUFPLElBQXFCLGFBQWUsTUFBTyxJQUFxQixXQUN6RSxLQUFNLElBQUksT0FBTSxtRUFHbEIsV0FBd0IsRUFBa0IsQ0FDeEMsTUFBTyxHQUFpQixhQUFlLEVBQWlCLE1BQVEsWUFHbEUsTUFBTyxVQUFjLEVBQWtCLENBQ3JDLEdBQUksTUFBTyxJQUFxQixXQUM5QixLQUFNLElBQUksT0FBTSxzREFHbEIsR0FBSSxHQUFtQixHQUNuQixFQUVKLFlBQXNCLENBQ3BCLEVBQVEsRUFBbUIsRUFBaUIsSUFBSSxTQUFVLEVBQVUsQ0FDbEUsTUFBTyxHQUFTLFNBR2xCLEFBQUksRUFBVyxVQUNiLEVBQTBCLEdBQ2pCLEdBQ1QsR0FBUSxFQUFpQixJQUk3QixHQUFJLEdBQTBCLFNBQVUsRUFBZ0IsQ0FDdERvQyxHQUFlLEVBQVksR0FFM0IsWUFBc0IsQ0FDcEIsTUFBTyxHQUFlLE1BQU0sS0FBTSxZQUFjLEtBS2xELEVBQVcsS0FBTyxVQUFnQixDQUNoQyxNQUFPLElBR1QsRUFBVyxPQUFTLFVBQWtCLENBQ3BDLEdBQUksRUFBVyxVQUNiLEtBQU0sSUFBSSxPQUFNLG9GQUdsQixHQUFJLEdBQWdCLEVBQ3BCLFNBQVEsT0FDUixFQUFtQixHQUNaLEdBR1QsR0FBSSxHQUFTLEVBQVcsVUFFeEIsU0FBTywwQkFBNEIsVUFBcUMsQ0FDdEUsRUFBaUIsS0FBSyxNQUN0QixLQUdGLEVBQU8sbUJBQXFCLFVBQThCLENBQ3hELEtBR0YsRUFBTyxxQkFBdUIsVUFBZ0MsQ0FDNUQsR0FBSSxHQUFRLEVBQWlCLFFBQVEsTUFDckMsRUFBaUIsT0FBTyxFQUFPLEdBQy9CLEtBR0YsRUFBTyxPQUFTLFVBQWtCLENBQ2hDLE1BQW9CLElBQWUsY0FBYyxFQUFrQixLQUFLLFFBR25FLEdBQ1AsR0FBTSxlQUVSLFVBQWdCLEVBQVksY0FBZSxjQUFnQixFQUFlLEdBQW9CLEtBRTlGLEdBQWdCLEVBQVksWUFBYSxJQUVsQyxNQUlYLElBQWlCLEdDeEhiLEdBQWlCLE1BQU8sVUFBWSxZQUNwQyxHQUFTLE1BQU8sTUFBUSxXQUN4QixHQUFTLE1BQU8sTUFBUSxXQUN4QixHQUFpQixNQUFPLGNBQWdCLFlBQWMsQ0FBQyxDQUFDLFlBQVksT0FJeEUsWUFBZSxFQUFHLEVBQUcsQ0FFbkIsR0FBSSxJQUFNLEVBQUcsTUFBTyxHQUVwQixHQUFJLEdBQUssR0FBSyxNQUFPLElBQUssVUFBWSxNQUFPLElBQUssU0FBVSxDQUMxRCxHQUFJLEVBQUUsY0FBZ0IsRUFBRSxZQUFhLE1BQU8sR0FFNUMsR0FBSSxHQUFRLEVBQUcsRUFDZixHQUFJLE1BQU0sUUFBUSxHQUFJLENBRXBCLEdBREEsRUFBUyxFQUFFLE9BQ1AsR0FBVSxFQUFFLE9BQVEsTUFBTyxHQUMvQixJQUFLLEVBQUksRUFBUSxLQUFRLEdBQ3ZCLEdBQUksQ0FBQyxHQUFNLEVBQUUsR0FBSSxFQUFFLElBQUssTUFBTyxHQUNqQyxNQUFPLEdBdUJULEdBQUksR0FDSixHQUFJLElBQVcsWUFBYSxNQUFTLFlBQWEsS0FBTSxDQUN0RCxHQUFJLEVBQUUsT0FBUyxFQUFFLEtBQU0sTUFBTyxHQUU5QixJQURBLEVBQUssRUFBRSxVQUNBLENBQUUsR0FBSSxFQUFHLFFBQVEsTUFDdEIsR0FBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sSUFBSyxNQUFPLEdBRWpDLElBREEsRUFBSyxFQUFFLFVBQ0EsQ0FBRSxHQUFJLEVBQUcsUUFBUSxNQUN0QixHQUFJLENBQUMsR0FBTSxFQUFFLE1BQU0sR0FBSSxFQUFFLElBQUksRUFBRSxNQUFNLEtBQU0sTUFBTyxHQUNwRCxNQUFPLEdBR1QsR0FBSSxJQUFXLFlBQWEsTUFBUyxZQUFhLEtBQU0sQ0FDdEQsR0FBSSxFQUFFLE9BQVMsRUFBRSxLQUFNLE1BQU8sR0FFOUIsSUFEQSxFQUFLLEVBQUUsVUFDQSxDQUFFLEdBQUksRUFBRyxRQUFRLE1BQ3RCLEdBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLElBQUssTUFBTyxHQUNqQyxNQUFPLEdBSVQsR0FBSSxJQUFrQixZQUFZLE9BQU8sSUFBTSxZQUFZLE9BQU8sR0FBSSxDQUVwRSxHQURBLEVBQVMsRUFBRSxPQUNQLEdBQVUsRUFBRSxPQUFRLE1BQU8sR0FDL0IsSUFBSyxFQUFJLEVBQVEsS0FBUSxHQUN2QixHQUFJLEVBQUUsS0FBTyxFQUFFLEdBQUksTUFBTyxHQUM1QixNQUFPLEdBR1QsR0FBSSxFQUFFLGNBQWdCLE9BQVEsTUFBTyxHQUFFLFNBQVcsRUFBRSxRQUFVLEVBQUUsUUFBVSxFQUFFLE1BQzVFLEdBQUksRUFBRSxVQUFZLE9BQU8sVUFBVSxRQUFTLE1BQU8sR0FBRSxZQUFjLEVBQUUsVUFDckUsR0FBSSxFQUFFLFdBQWEsT0FBTyxVQUFVLFNBQVUsTUFBTyxHQUFFLGFBQWUsRUFBRSxXQUl4RSxHQUZBLEVBQU8sT0FBTyxLQUFLLEdBQ25CLEVBQVMsRUFBSyxPQUNWLElBQVcsT0FBTyxLQUFLLEdBQUcsT0FBUSxNQUFPLEdBRTdDLElBQUssRUFBSSxFQUFRLEtBQVEsR0FDdkIsR0FBSSxDQUFDLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBRyxFQUFLLElBQUssTUFBTyxHQUtoRSxHQUFJLElBQWtCLFlBQWEsU0FBUyxNQUFPLEdBR25ELElBQUssRUFBSSxFQUFRLEtBQVEsR0FDdkIsR0FBSyxLQUFLLEtBQU8sVUFBWSxFQUFLLEtBQU8sT0FBUyxFQUFLLEtBQU8sUUFBVSxFQUFFLFdBYXRFLENBQUMsR0FBTSxFQUFFLEVBQUssSUFBSyxFQUFFLEVBQUssS0FBTSxNQUFPLEdBSzdDLE1BQU8sR0FHVCxNQUFPLEtBQU0sR0FBSyxJQUFNLEtBSTFCLElBQWlCLFNBQWlCLEVBQUcsRUFBRyxDQUN0QyxHQUFJLENBQ0YsTUFBTyxJQUFNLEVBQUcsU0FDVCxFQUFQLENBQ0EsR0FBTSxHQUFNLFNBQVcsSUFBSSxNQUFNLG9CQU0vQixlQUFRLEtBQUssa0RBQ04sR0FHVCxLQUFNLEtDN0hOLEdBQWtCLENBQ2xCLEtBQU0saUJBQ04sS0FBTSxpQkFDTixNQUFPLG1CQUdQLEdBQVksQ0FDWixLQUFNLE9BQ04sS0FBTSxPQUNOLEtBQU0sT0FDTixLQUFNLE9BQ04sS0FBTSxPQUNOLEtBQU0sT0FDTixTQUFVLFdBQ1YsT0FBUSxTQUNSLE1BQU8sUUFDUCxNQUFPLFNBR1csT0FBTyxLQUFLLElBQVcsSUFBSSxTQUFVLEVBQU0sQ0FDN0QsTUFBTyxJQUFVLEtBR3JCLEdBQUksSUFBaUIsQ0FDakIsUUFBUyxVQUNULFNBQVUsVUFDVixLQUFNLE9BQ04sVUFBVyxhQUNYLFdBQVksWUFDWixVQUFXLFdBQ1gsS0FBTSxPQUNOLFNBQVUsV0FDVixJQUFLLE1BQ0wsSUFBSyxNQUNMLE9BQVEsVUFHUixHQUFnQixDQUNoQixVQUFXLFlBQ1gsUUFBUyxVQUNULE1BQU8sWUFDUCxnQkFBaUIsa0JBQ2pCLFlBQWEsY0FDYixhQUFjLFlBQ2QsU0FBVSxXQUNWLFNBQVUsWUFHVixHQUFlLENBQ2YsY0FBZSxlQUNmLE1BQU8sUUFDUCwwQkFBMkIsMEJBQzNCLHVCQUF3QixzQkFDeEIsZUFBZ0IsaUJBR2hCLEdBQWUsT0FBTyxLQUFLLElBQWUsT0FBTyxTQUFVLEVBQUssRUFBSyxDQUNyRSxTQUFJLEdBQWMsSUFBUSxFQUNuQixHQUNSLElBRUMsR0FBb0IsQ0FBQyxHQUFVLFNBQVUsR0FBVSxPQUFRLEdBQVUsT0FFckUsR0FBbUIsb0JBRW5CLEdBQVUsTUFBTyxTQUFXLFlBQWMsTUFBTyxRQUFPLFVBQWEsU0FBVyxTQUFVLEVBQUssQ0FDakcsTUFBTyxPQUFPLElBQ1osU0FBVSxFQUFLLENBQ2pCLE1BQU8sSUFBTyxNQUFPLFNBQVcsWUFBYyxFQUFJLGNBQWdCLFFBQVUsSUFBUSxPQUFPLFVBQVksU0FBVyxNQUFPLElBR3ZILEdBQWlCLFNBQVUsRUFBVSxFQUFhLENBQ3BELEdBQUksQ0FBRSxhQUFvQixJQUN4QixLQUFNLElBQUksV0FBVSxzQ0FJcEIsR0FBYyxVQUFZLENBQzVCLFdBQTBCLEVBQVEsRUFBTyxDQUN2QyxPQUFTLEdBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUFLLENBQ3JDLEdBQUksR0FBYSxFQUFNLEdBQ3ZCLEVBQVcsV0FBYSxFQUFXLFlBQWMsR0FDakQsRUFBVyxhQUFlLEdBQ3RCLFNBQVcsSUFBWSxHQUFXLFNBQVcsSUFDakQsT0FBTyxlQUFlLEVBQVEsRUFBVyxJQUFLLElBSWxELE1BQU8sVUFBVSxFQUFhLEVBQVksRUFBYSxDQUNyRCxNQUFJLElBQVksRUFBaUIsRUFBWSxVQUFXLEdBQ3BELEdBQWEsRUFBaUIsRUFBYSxHQUN4QyxNQUlQN0IsR0FBVyxPQUFPLFFBQVUsU0FBVSxFQUFRLENBQ2hELE9BQVMsR0FBSSxFQUFHLEVBQUksVUFBVSxPQUFRLElBQUssQ0FDekMsR0FBSSxHQUFTLFVBQVUsR0FFdkIsT0FBUyxLQUFPLEdBQ2QsQUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQVEsSUFDL0MsR0FBTyxHQUFPLEVBQU8sSUFLM0IsTUFBTyxJQUdMLEdBQVcsU0FBVSxFQUFVLEVBQVksQ0FDN0MsR0FBSSxNQUFPLElBQWUsWUFBYyxJQUFlLEtBQ3JELEtBQU0sSUFBSSxXQUFVLDJEQUE2RCxNQUFPLElBRzFGLEVBQVMsVUFBWSxPQUFPLE9BQU8sR0FBYyxFQUFXLFVBQVcsQ0FDckUsWUFBYSxDQUNYLE1BQU8sRUFDUCxXQUFZLEdBQ1osU0FBVSxHQUNWLGFBQWMsTUFHZCxHQUFZLFFBQU8sZUFBaUIsT0FBTyxlQUFlLEVBQVUsR0FBYyxFQUFTLFVBQVksSUFHekcsR0FBMEIsU0FBVSxFQUFLLEVBQU0sQ0FDakQsR0FBSSxHQUFTLEdBRWIsT0FBUyxLQUFLLEdBQ1osQUFBSSxFQUFLLFFBQVEsSUFBTSxHQUNuQixDQUFDLE9BQU8sVUFBVSxlQUFlLEtBQUssRUFBSyxJQUMvQyxHQUFPLEdBQUssRUFBSSxJQUdsQixNQUFPLElBR0wsR0FBNEIsU0FBVSxFQUFNLEVBQU0sQ0FDcEQsR0FBSSxDQUFDLEVBQ0gsS0FBTSxJQUFJLGdCQUFlLDZEQUczQixNQUFPLElBQVMsT0FBTyxJQUFTLFVBQVksTUFBTyxJQUFTLFlBQWMsRUFBTyxHQUcvRSxHQUEwQixTQUFpQyxFQUFLLENBQ2hFLEdBQUksR0FBUyxVQUFVLE9BQVMsR0FBSyxVQUFVLEtBQU8sT0FBWSxVQUFVLEdBQUssR0FFakYsTUFBSSxLQUFXLEdBQ0osT0FBTyxHQUdYLE9BQU8sR0FBSyxRQUFRLEtBQU0sU0FBUyxRQUFRLEtBQU0sUUFBUSxRQUFRLEtBQU0sUUFBUSxRQUFRLEtBQU0sVUFBVSxRQUFRLEtBQU0sV0FHNUgsR0FBd0IsU0FBK0IsRUFBVyxDQUNsRSxHQUFJLEdBQWlCLEdBQXFCLEVBQVcsR0FBVSxPQUMzRCxFQUFvQixHQUFxQixFQUFXLEdBQWEsZ0JBRXJFLEdBQUksR0FBcUIsRUFFckIsTUFBTyxHQUFrQixRQUFRLE1BQU8sVUFBWSxDQUNoRCxNQUFPLE9BQU0sUUFBUSxHQUFrQixFQUFlLEtBQUssSUFBTSxJQUl6RSxHQUFJLEdBQXdCLEdBQXFCLEVBQVcsR0FBYSxlQUV6RSxNQUFPLElBQWtCLEdBQXlCLFFBR2xELEdBQXlCLFNBQWdDLEVBQVcsQ0FDcEUsTUFBTyxJQUFxQixFQUFXLEdBQWEseUJBQTJCLFVBQVksSUFHM0YsR0FBNkIsU0FBb0MsRUFBUyxFQUFXLENBQ3JGLE1BQU8sR0FBVSxPQUFPLFNBQVUsRUFBTyxDQUNyQyxNQUFPLE9BQU8sR0FBTSxJQUFhLGNBQ2xDLElBQUksU0FBVSxFQUFPLENBQ3BCLE1BQU8sR0FBTSxLQUNkLE9BQU8sU0FBVSxFQUFVLEVBQVMsQ0FDbkMsTUFBT0EsSUFBUyxHQUFJLEVBQVUsSUFDL0IsS0FHSCxHQUEwQixTQUFpQyxFQUFtQixFQUFXLENBQ3pGLE1BQU8sR0FBVSxPQUFPLFNBQVUsRUFBTyxDQUNyQyxNQUFPLE9BQU8sR0FBTSxHQUFVLE9BQVUsY0FDekMsSUFBSSxTQUFVLEVBQU8sQ0FDcEIsTUFBTyxHQUFNLEdBQVUsUUFDeEIsVUFBVSxPQUFPLFNBQVUsRUFBa0IsRUFBSyxDQUNqRCxHQUFJLENBQUMsRUFBaUIsT0FHbEIsT0FGSSxHQUFPLE9BQU8sS0FBSyxHQUVkLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUFLLENBQ2xDLEdBQUksR0FBZSxFQUFLLEdBQ3BCLEVBQXdCLEVBQWEsY0FFekMsR0FBSSxFQUFrQixRQUFRLEtBQTJCLElBQU0sRUFBSSxHQUMvRCxNQUFPLEdBQWlCLE9BQU8sR0FLM0MsTUFBTyxJQUNSLEtBR0gsR0FBdUIsU0FBOEIsRUFBUyxFQUFtQixFQUFXLENBRTVGLEdBQUksR0FBbUIsR0FFdkIsTUFBTyxHQUFVLE9BQU8sU0FBVSxFQUFPLENBQ3JDLE1BQUksT0FBTSxRQUFRLEVBQU0sSUFDYixHQUVQLE9BQU8sR0FBTSxJQUFhLGFBQzFCeUMsR0FBSyxXQUFhLEVBQVUsbURBQXdELEdBQVEsRUFBTSxJQUFZLEtBRTNHLE1BQ1IsSUFBSSxTQUFVLEVBQU8sQ0FDcEIsTUFBTyxHQUFNLEtBQ2QsVUFBVSxPQUFPLFNBQVUsRUFBYyxFQUFjLENBQ3RELEdBQUksR0FBbUIsR0FFdkIsRUFBYSxPQUFPLFNBQVUsRUFBSyxDQUcvQixPQUZJLEdBQXNCLE9BQ3RCLEVBQU8sT0FBTyxLQUFLLEdBQ2QsRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLElBQUssQ0FDbEMsR0FBSSxHQUFlLEVBQUssR0FDcEIsRUFBd0IsRUFBYSxjQUd6QyxBQUFJLEVBQWtCLFFBQVEsS0FBMkIsSUFBTSxDQUFFLEtBQXdCLEdBQWUsS0FBTyxFQUFJLEdBQXFCLGdCQUFrQixjQUFnQixDQUFFLEtBQTBCLEdBQWUsS0FBTyxFQUFJLEdBQXVCLGdCQUFrQixlQUNyUSxHQUFzQixHQUd0QixFQUFrQixRQUFRLEtBQWtCLElBQU8sS0FBaUIsR0FBZSxZQUFjLElBQWlCLEdBQWUsVUFBWSxJQUFpQixHQUFlLFlBQzdLLEdBQXNCLEdBSTlCLEdBQUksQ0FBQyxHQUF1QixDQUFDLEVBQUksR0FDN0IsTUFBTyxHQUdYLEdBQUksR0FBUSxFQUFJLEdBQXFCLGNBVXJDLE1BUkssR0FBaUIsSUFDbEIsR0FBaUIsR0FBdUIsSUFHdkMsRUFBaUIsSUFDbEIsR0FBaUIsR0FBdUIsSUFHeEMsQUFBQyxFQUFpQixHQUFxQixHQUtwQyxHQUpILEdBQWlCLEdBQXFCLEdBQVMsR0FDeEMsTUFJWixVQUFVLFFBQVEsU0FBVSxFQUFLLENBQ2hDLE1BQU8sR0FBYSxLQUFLLEtBSzdCLE9BREksR0FBTyxPQUFPLEtBQUssR0FDZCxFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsSUFBSyxDQUNsQyxHQUFJLEdBQWUsRUFBSyxHQUNwQixFQUFXLEdBQWEsR0FBSSxFQUFpQixHQUFlLEVBQWlCLElBRWpGLEVBQWlCLEdBQWdCLEVBR3JDLE1BQU8sSUFDUixJQUFJLFdBR1AsR0FBdUIsU0FBOEIsRUFBVyxFQUFVLENBQzFFLE9BQVMsR0FBSSxFQUFVLE9BQVMsRUFBRyxHQUFLLEVBQUcsSUFBSyxDQUM1QyxHQUFJLEdBQVEsRUFBVSxHQUV0QixHQUFJLEVBQU0sZUFBZSxHQUNyQixNQUFPLEdBQU0sR0FJckIsTUFBTyxPQUdQLEdBQXFCLFNBQTRCLEVBQVcsQ0FDNUQsTUFBTyxDQUNILFFBQVMsR0FBd0IsQ0FBQyxHQUFlLEtBQU0sR0FBZSxRQUFTLEdBQy9FLGVBQWdCLEdBQTJCLEdBQWdCLEtBQU0sR0FDakUsTUFBTyxHQUFxQixFQUFXLEdBQWEsT0FDcEQsT0FBUSxHQUFxQixFQUFXLEdBQWEsMkJBQ3JELGVBQWdCLEdBQTJCLEdBQWdCLEtBQU0sR0FDakUsU0FBVSxHQUFxQixHQUFVLEtBQU0sQ0FBQyxHQUFlLElBQUssR0FBZSxNQUFPLEdBQzFGLFNBQVUsR0FBcUIsR0FBVSxLQUFNLENBQUMsR0FBZSxLQUFNLEdBQWUsUUFBUyxHQUFlLFVBQVcsR0FBZSxTQUFVLEdBQWUsV0FBWSxHQUMzSyxhQUFjLEdBQXFCLEdBQVUsU0FBVSxDQUFDLEdBQWUsWUFBYSxHQUNwRixvQkFBcUIsR0FBdUIsR0FDNUMsV0FBWSxHQUFxQixHQUFVLE9BQVEsQ0FBQyxHQUFlLElBQUssR0FBZSxZQUFhLEdBQ3BHLFVBQVcsR0FBcUIsR0FBVSxNQUFPLENBQUMsR0FBZSxVQUFXLEdBQzVFLE1BQU8sR0FBc0IsR0FDN0IsZ0JBQWlCLEdBQTJCLEdBQWdCLE1BQU8sS0FJdkUsR0FBYyxVQUFZLENBQzFCLEdBQUksR0FBUSxLQUFLLE1BRWpCLE1BQU8sVUFBVSxFQUFVLENBQ3ZCLEdBQUksR0FBYyxLQUFLLE1BRXZCLEFBQUksRUFBYyxFQUFRLEdBQ3RCLEdBQVEsRUFDUixFQUFTLElBRVQsV0FBVyxVQUFZLENBQ25CLEdBQVksSUFDYixPQUtYLEdBQWMsU0FBcUIsRUFBSSxDQUN2QyxNQUFPLGNBQWEsSUFHcEIsR0FBd0IsTUFBTyxTQUFXLFlBQWMsT0FBTyx1QkFBeUIsT0FBTyxzQkFBc0IsS0FBSyxTQUFXLE9BQU8sNkJBQStCLE9BQU8sMEJBQTRCLEdBQWMsT0FBTyx1QkFBeUIsR0FFNVAsR0FBdUIsTUFBTyxTQUFXLFlBQWMsT0FBTyxzQkFBd0IsT0FBTyw0QkFBOEIsT0FBTyx5QkFBMkIsR0FBYyxPQUFPLHNCQUF3QixHQUUxTUEsR0FBTyxTQUFjLEVBQUssQ0FDMUIsTUFBTyxVQUFXLE1BQU8sU0FBUSxNQUFTLFlBQWMsUUFBUSxLQUFLLElBR3JFLEdBQWtCLEtBRWxCLEdBQTBCLFNBQWlDLEVBQVUsQ0FDckUsQUFBSSxJQUNBLEdBQXFCLElBR3pCLEFBQUksRUFBUyxNQUNULEdBQWtCLEdBQXNCLFVBQVksQ0FDaEQsR0FBaUIsRUFBVSxVQUFZLENBQ25DLEdBQWtCLFNBSTFCLElBQWlCLEdBQ2pCLEdBQWtCLE9BSXRCLEdBQW1CLFNBQTBCLEVBQVUsRUFBSSxDQUMzRCxHQUFJLEdBQVUsRUFBUyxRQUNuQixFQUFpQixFQUFTLGVBQzFCLEVBQWlCLEVBQVMsZUFDMUIsRUFBVyxFQUFTLFNBQ3BCLEVBQVcsRUFBUyxTQUNwQixFQUFlLEVBQVMsYUFDeEIsRUFBc0IsRUFBUyxvQkFDL0IsRUFBYSxFQUFTLFdBQ3RCLEVBQVksRUFBUyxVQUNyQixFQUFRLEVBQVMsTUFDakIsRUFBa0IsRUFBUyxnQkFFL0IsR0FBaUIsR0FBVSxLQUFNLEdBQ2pDLEdBQWlCLEdBQVUsS0FBTSxHQUVqQyxHQUFZLEVBQU8sR0FFbkIsR0FBSSxHQUFhLENBQ2IsUUFBUyxHQUFXLEdBQVUsS0FBTSxHQUNwQyxTQUFVLEdBQVcsR0FBVSxLQUFNLEdBQ3JDLFNBQVUsR0FBVyxHQUFVLEtBQU0sR0FDckMsYUFBYyxHQUFXLEdBQVUsU0FBVSxHQUM3QyxXQUFZLEdBQVcsR0FBVSxPQUFRLEdBQ3pDLFVBQVcsR0FBVyxHQUFVLE1BQU8sSUFHdkMsRUFBWSxHQUNaLEVBQWMsR0FFbEIsT0FBTyxLQUFLLEdBQVksUUFBUSxTQUFVLEVBQVMsQ0FDL0MsR0FBSSxHQUFzQixFQUFXLEdBQ2pDLEVBQVUsRUFBb0IsUUFDOUIsRUFBVSxFQUFvQixRQUdsQyxBQUFJLEVBQVEsUUFDUixHQUFVLEdBQVcsR0FFckIsRUFBUSxRQUNSLEdBQVksR0FBVyxFQUFXLEdBQVMsV0FJbkQsR0FBTSxJQUVOLEVBQW9CLEVBQVUsRUFBVyxJQUd6QyxHQUFlLFNBQXNCLEVBQWUsQ0FDcEQsTUFBTyxPQUFNLFFBQVEsR0FBaUIsRUFBYyxLQUFLLElBQU0sR0FHL0QsR0FBYyxTQUFxQixFQUFPLEVBQVksQ0FDdEQsQUFBSSxNQUFPLElBQVUsYUFBZSxTQUFTLFFBQVUsR0FDbkQsVUFBUyxNQUFRLEdBQWEsSUFHbEMsR0FBaUIsR0FBVSxNQUFPLElBR2xDLEdBQW1CLFNBQTBCLEVBQVMsRUFBWSxDQUNsRSxHQUFJLEdBQWEsU0FBUyxxQkFBcUIsR0FBUyxHQUV4RCxHQUFJLEVBQUMsRUFTTCxRQUxJLEdBQXdCLEVBQVcsYUFBYSxJQUNoRCxFQUFtQixFQUF3QixFQUFzQixNQUFNLEtBQU8sR0FDOUUsRUFBcUIsR0FBRyxPQUFPLEdBQy9CLEVBQWdCLE9BQU8sS0FBSyxHQUV2QixFQUFJLEVBQUcsRUFBSSxFQUFjLE9BQVEsSUFBSyxDQUMzQyxHQUFJLEdBQVksRUFBYyxHQUMxQixFQUFRLEVBQVcsSUFBYyxHQUVyQyxBQUFJLEVBQVcsYUFBYSxLQUFlLEdBQ3ZDLEVBQVcsYUFBYSxFQUFXLEdBR25DLEVBQWlCLFFBQVEsS0FBZSxJQUN4QyxFQUFpQixLQUFLLEdBRzFCLEdBQUksR0FBYyxFQUFtQixRQUFRLEdBQzdDLEFBQUksSUFBZ0IsSUFDaEIsRUFBbUIsT0FBTyxFQUFhLEdBSS9DLE9BQVMsR0FBSyxFQUFtQixPQUFTLEVBQUcsR0FBTSxFQUFHLElBQ2xELEVBQVcsZ0JBQWdCLEVBQW1CLElBR2xELEFBQUksRUFBaUIsU0FBVyxFQUFtQixPQUMvQyxFQUFXLGdCQUFnQixJQUNwQixFQUFXLGFBQWEsTUFBc0IsRUFBYyxLQUFLLE1BQ3hFLEVBQVcsYUFBYSxHQUFrQixFQUFjLEtBQUssUUFJakUsR0FBYSxTQUFvQixFQUFNLEVBQU0sQ0FDN0MsR0FBSSxHQUFjLFNBQVMsTUFBUSxTQUFTLGNBQWMsR0FBVSxNQUNoRSxFQUFXLEVBQVksaUJBQWlCLEVBQU8sSUFBTSxHQUFtQixLQUN4RSxFQUFVLE1BQU0sVUFBVSxNQUFNLEtBQUssR0FDckMsRUFBVSxHQUNWLEVBQWdCLE9BRXBCLE1BQUksSUFBUSxFQUFLLFFBQ2IsRUFBSyxRQUFRLFNBQVUsRUFBSyxDQUN4QixHQUFJLEdBQWEsU0FBUyxjQUFjLEdBRXhDLE9BQVMsS0FBYSxHQUNsQixHQUFJLEVBQUksZUFBZSxHQUNuQixHQUFJLElBQWMsR0FBZSxXQUM3QixFQUFXLFVBQVksRUFBSSxrQkFDcEIsSUFBYyxHQUFlLFNBQ3BDLEFBQUksRUFBVyxXQUNYLEVBQVcsV0FBVyxRQUFVLEVBQUksUUFFcEMsRUFBVyxZQUFZLFNBQVMsZUFBZSxFQUFJLGNBRXBELENBQ0gsR0FBSSxHQUFRLE1BQU8sR0FBSSxJQUFlLFlBQWMsR0FBSyxFQUFJLEdBQzdELEVBQVcsYUFBYSxFQUFXLEdBSy9DLEVBQVcsYUFBYSxHQUFrQixRQUcxQyxBQUFJLEVBQVEsS0FBSyxTQUFVLEVBQWEsRUFBTyxDQUMzQyxTQUFnQixFQUNULEVBQVcsWUFBWSxLQUU5QixFQUFRLE9BQU8sRUFBZSxHQUU5QixFQUFRLEtBQUssS0FLekIsRUFBUSxRQUFRLFNBQVUsRUFBSyxDQUMzQixNQUFPLEdBQUksV0FBVyxZQUFZLEtBRXRDLEVBQVEsUUFBUSxTQUFVLEVBQUssQ0FDM0IsTUFBTyxHQUFZLFlBQVksS0FHNUIsQ0FDSCxRQUFTLEVBQ1QsUUFBUyxJQUliLEdBQW9DLFNBQTJDLEVBQVksQ0FDM0YsTUFBTyxRQUFPLEtBQUssR0FBWSxPQUFPLFNBQVUsRUFBSyxFQUFLLENBQ3RELEdBQUksR0FBTyxNQUFPLEdBQVcsSUFBUyxZQUFjLEVBQU0sS0FBUSxFQUFXLEdBQU8sSUFBTyxHQUFLLEVBQ2hHLE1BQU8sR0FBTSxFQUFNLElBQU0sRUFBTyxHQUNqQyxLQUdILEdBQXdCLFNBQStCLEVBQU0sRUFBTyxFQUFZLEVBQVEsQ0FDeEYsR0FBSSxHQUFrQixHQUFrQyxHQUNwRCxFQUFpQixHQUFhLEdBQ2xDLE1BQU8sR0FBa0IsSUFBTSxFQUFPLElBQU0sR0FBbUIsV0FBZSxFQUFrQixJQUFNLEdBQXdCLEVBQWdCLEdBQVUsS0FBTyxFQUFPLElBQU0sSUFBTSxFQUFPLElBQU0sR0FBbUIsV0FBZSxHQUF3QixFQUFnQixHQUFVLEtBQU8sRUFBTyxLQUdqUyxHQUF1QixTQUE4QixFQUFNLEVBQU0sRUFBUSxDQUN6RSxNQUFPLEdBQUssT0FBTyxTQUFVLEVBQUssRUFBSyxDQUNuQyxHQUFJLEdBQWdCLE9BQU8sS0FBSyxHQUFLLE9BQU8sU0FBVSxFQUFXLENBQzdELE1BQU8sQ0FBRSxLQUFjLEdBQWUsWUFBYyxJQUFjLEdBQWUsWUFDbEYsT0FBTyxTQUFVLEVBQVEsRUFBVyxDQUNuQyxHQUFJLEdBQU8sTUFBTyxHQUFJLElBQWUsWUFBYyxFQUFZLEVBQVksS0FBUSxHQUF3QixFQUFJLEdBQVksR0FBVSxJQUNySSxNQUFPLEdBQVMsRUFBUyxJQUFNLEVBQU8sR0FDdkMsSUFFQyxFQUFhLEVBQUksV0FBYSxFQUFJLFNBQVcsR0FFN0MsRUFBZ0IsR0FBa0IsUUFBUSxLQUFVLEdBRXhELE1BQU8sR0FBTSxJQUFNLEVBQU8sSUFBTSxHQUFtQixXQUFlLEVBQWlCLEdBQWdCLEtBQU8sSUFBTSxFQUFhLEtBQU8sRUFBTyxNQUM1SSxLQUdILEdBQXVDLFNBQThDLEVBQVksQ0FDakcsR0FBSSxHQUFZLFVBQVUsT0FBUyxHQUFLLFVBQVUsS0FBTyxPQUFZLFVBQVUsR0FBSyxHQUVwRixNQUFPLFFBQU8sS0FBSyxHQUFZLE9BQU8sU0FBVSxFQUFLLEVBQUssQ0FDdEQsU0FBSSxHQUFjLElBQVEsR0FBTyxFQUFXLEdBQ3JDLEdBQ1IsSUFHSCxHQUFvQyxTQUEyQyxFQUFPLENBQ3RGLEdBQUksR0FBaUIsVUFBVSxPQUFTLEdBQUssVUFBVSxLQUFPLE9BQVksVUFBVSxHQUFLLEdBRXpGLE1BQU8sUUFBTyxLQUFLLEdBQU8sT0FBTyxTQUFVLEVBQUssRUFBSyxDQUNqRCxTQUFJLEdBQWEsSUFBUSxHQUFPLEVBQU0sR0FDL0IsR0FDUixJQUdILEdBQWdDLFNBQXVDLEVBQU0sRUFBTyxFQUFZLENBQ2hHLEdBQUksR0FHQSxFQUFhLEdBQWEsQ0FDMUIsSUFBSyxHQUNOLEVBQVcsSUFBb0IsR0FBTSxHQUNwQyxFQUFRLEdBQXFDLEVBQVksR0FFN0QsTUFBTyxDQUFDOUMsRUFBTSxjQUFjLEdBQVUsTUFBTyxFQUFPLEtBR3BELEdBQStCLFNBQXNDLEVBQU0sRUFBTSxDQUNqRixNQUFPLEdBQUssSUFBSSxTQUFVLEVBQUssRUFBRyxDQUM5QixHQUFJLEdBRUEsRUFBYSxHQUFhLENBQzFCLElBQUssR0FDTixFQUFXLElBQW9CLEdBQU0sR0FFeEMsY0FBTyxLQUFLLEdBQUssUUFBUSxTQUFVLEVBQVcsQ0FDMUMsR0FBSSxHQUFrQixHQUFjLElBQWMsRUFFbEQsR0FBSSxJQUFvQixHQUFlLFlBQWMsSUFBb0IsR0FBZSxTQUFVLENBQzlGLEdBQUksR0FBVSxFQUFJLFdBQWEsRUFBSSxRQUNuQyxFQUFVLHdCQUEwQixDQUFFLE9BQVEsT0FFOUMsR0FBVSxHQUFtQixFQUFJLEtBSWxDQSxFQUFNLGNBQWMsRUFBTSxNQUlyQyxHQUFtQixTQUEwQixFQUFNLEVBQU0sRUFBUSxDQUNqRSxPQUFRLE9BQ0MsSUFBVSxNQUNYLE1BQU8sQ0FDSCxZQUFhLFVBQXVCLENBQ2hDLE1BQU8sSUFBOEIsRUFBTSxFQUFLLE1BQU8sRUFBSyxrQkFFaEUsU0FBVSxVQUFvQixDQUMxQixNQUFPLElBQXNCLEVBQU0sRUFBSyxNQUFPLEVBQUssZ0JBQWlCLFNBRzVFLElBQWdCLFNBQ2hCLElBQWdCLEtBQ2pCLE1BQU8sQ0FDSCxZQUFhLFVBQXVCLENBQ2hDLE1BQU8sSUFBcUMsSUFFaEQsU0FBVSxVQUFvQixDQUMxQixNQUFPLElBQWtDLGFBSWpELE1BQU8sQ0FDSCxZQUFhLFVBQXVCLENBQ2hDLE1BQU8sSUFBNkIsRUFBTSxJQUU5QyxTQUFVLFVBQW9CLENBQzFCLE1BQU8sSUFBcUIsRUFBTSxFQUFNLE9BTXhELEdBQW1CLFNBQTBCLEVBQU0sQ0FDbkQsR0FBSSxHQUFVLEVBQUssUUFDZixFQUFpQixFQUFLLGVBQ3RCLEVBQVMsRUFBSyxPQUNkLEVBQWlCLEVBQUssZUFDdEIsRUFBVyxFQUFLLFNBQ2hCLEVBQVcsRUFBSyxTQUNoQixFQUFlLEVBQUssYUFDcEIsRUFBYSxFQUFLLFdBQ2xCLEVBQVksRUFBSyxVQUNqQixFQUFhLEVBQUssTUFDbEIsRUFBUSxJQUFlLE9BQVksR0FBSyxFQUN4QyxFQUFrQixFQUFLLGdCQUMzQixNQUFPLENBQ0gsS0FBTSxHQUFpQixHQUFVLEtBQU0sRUFBUyxHQUNoRCxlQUFnQixHQUFpQixHQUFnQixLQUFNLEVBQWdCLEdBQ3ZFLGVBQWdCLEdBQWlCLEdBQWdCLEtBQU0sRUFBZ0IsR0FDdkUsS0FBTSxHQUFpQixHQUFVLEtBQU0sRUFBVSxHQUNqRCxLQUFNLEdBQWlCLEdBQVUsS0FBTSxFQUFVLEdBQ2pELFNBQVUsR0FBaUIsR0FBVSxTQUFVLEVBQWMsR0FDN0QsT0FBUSxHQUFpQixHQUFVLE9BQVEsRUFBWSxHQUN2RCxNQUFPLEdBQWlCLEdBQVUsTUFBTyxFQUFXLEdBQ3BELE1BQU8sR0FBaUIsR0FBVSxNQUFPLENBQUUsTUFBTyxFQUFPLGdCQUFpQixHQUFtQixLQUlqRyxHQUFTLFNBQWdCLEVBQVcsQ0FDcEMsR0FBSSxHQUFRLEVBRVosTUFBTyxHQUFRLEVBQVMsU0FBVSxFQUFrQixDQUNoRCxHQUFTLEVBQWUsR0FFeEIsWUFBeUIsQ0FDckIsVUFBZSxLQUFNLEdBQ2QsR0FBMEIsS0FBTSxFQUFpQixNQUFNLEtBQU0sWUFHeEUsU0FBYyxVQUFVLHNCQUF3QixTQUErQixFQUFXLENBQ3RGLE1BQU8sQ0FBQytDLEdBQVEsS0FBSyxNQUFPLElBR2hDLEVBQWMsVUFBVSx5QkFBMkIsU0FBa0MsRUFBTyxFQUFnQixDQUN4RyxHQUFJLENBQUMsRUFDRCxNQUFPLE1BR1gsT0FBUSxFQUFNLFVBQ0wsSUFBVSxXQUNWLElBQVUsU0FDWCxNQUFPLENBQ0gsVUFBVyxPQUdkLElBQVUsTUFDWCxNQUFPLENBQ0gsUUFBUyxHQUlyQixLQUFNLElBQUksT0FBTSxJQUFNLEVBQU0sS0FBTyx1R0FHdkMsRUFBYyxVQUFVLHlCQUEyQixTQUFrQyxFQUFNLENBQ3ZGLEdBQUksR0FFQSxFQUFRLEVBQUssTUFDYixFQUFvQixFQUFLLGtCQUN6QixFQUFnQixFQUFLLGNBQ3JCLEVBQWlCLEVBQUssZUFFMUIsTUFBTzFDLElBQVMsR0FBSSxFQUFvQixHQUF3QixHQUFJLEVBQXNCLEVBQU0sTUFBUSxHQUFHLE9BQU8sRUFBa0IsRUFBTSxPQUFTLEdBQUksQ0FBQ0EsR0FBUyxHQUFJLEVBQWUsS0FBSyx5QkFBeUIsRUFBTyxNQUFvQixLQUdqUCxFQUFjLFVBQVUsc0JBQXdCLFNBQStCLEVBQU8sQ0FDbEYsR0FBSSxHQUF3QixFQUV4QixFQUFRLEVBQU0sTUFDZCxFQUFXLEVBQU0sU0FDakIsRUFBZ0IsRUFBTSxjQUN0QixFQUFpQixFQUFNLGVBRTNCLE9BQVEsRUFBTSxVQUNMLElBQVUsTUFDWCxNQUFPQSxJQUFTLEdBQUksRUFBVyxHQUF5QixHQUFJLEVBQXVCLEVBQU0sTUFBUSxFQUFnQixFQUF1QixnQkFBa0JBLEdBQVMsR0FBSSxHQUFnQixRQUV0TCxJQUFVLEtBQ1gsTUFBT0EsSUFBUyxHQUFJLEVBQVUsQ0FDMUIsZUFBZ0JBLEdBQVMsR0FBSSxTQUdoQyxJQUFVLEtBQ1gsTUFBT0EsSUFBUyxHQUFJLEVBQVUsQ0FDMUIsZUFBZ0JBLEdBQVMsR0FBSSxLQUl6QyxNQUFPQSxJQUFTLEdBQUksRUFBVyxHQUF5QixHQUFJLEVBQXVCLEVBQU0sTUFBUUEsR0FBUyxHQUFJLEdBQWdCLEtBR2xJLEVBQWMsVUFBVSw0QkFBOEIsU0FBcUMsRUFBbUIsRUFBVSxDQUNwSCxHQUFJLEdBQW9CQSxHQUFTLEdBQUksR0FFckMsY0FBTyxLQUFLLEdBQW1CLFFBQVEsU0FBVSxFQUFnQixDQUM3RCxHQUFJLEdBRUosRUFBb0JBLEdBQVMsR0FBSSxFQUFvQixHQUF5QixHQUFJLEVBQXVCLEdBQWtCLEVBQWtCLEdBQWlCLE1BRzNKLEdBR1gsRUFBYyxVQUFVLHNCQUF3QixTQUErQixFQUFPLEVBQWdCLENBbUJsRyxNQUFPLElBR1gsRUFBYyxVQUFVLG1CQUFxQixTQUE0QixFQUFVLEVBQVUsQ0FDekYsR0FBSSxHQUFTLEtBRVQsRUFBb0IsR0FFeEJMLFNBQU0sU0FBUyxRQUFRLEVBQVUsU0FBVSxFQUFPLENBQzlDLEdBQUksR0FBQyxHQUFTLENBQUMsRUFBTSxPQUlyQixJQUFJLEdBQWUsRUFBTSxNQUNyQixFQUFpQixFQUFhLFNBQzlCLEVBQWEsR0FBd0IsRUFBYyxDQUFDLGFBRXBELEVBQWdCLEdBQWtDLEdBSXRELE9BRkEsRUFBTyxzQkFBc0IsRUFBTyxHQUU1QixFQUFNLFVBQ0wsSUFBVSxTQUNWLElBQVUsU0FDVixJQUFVLGFBQ1YsSUFBVSxXQUNWLElBQVUsTUFDWCxFQUFvQixFQUFPLHlCQUF5QixDQUNoRCxNQUFPLEVBQ1Asa0JBQW1CLEVBQ25CLGNBQWUsRUFDZixlQUFnQixJQUVwQixjQUdBLEVBQVcsRUFBTyxzQkFBc0IsQ0FDcEMsTUFBTyxFQUNQLFNBQVUsRUFDVixjQUFlLEVBQ2YsZUFBZ0IsSUFFcEIsVUFJWixFQUFXLEtBQUssNEJBQTRCLEVBQW1CLEdBQ3hELEdBR1gsRUFBYyxVQUFVLE9BQVMsVUFBa0IsQ0FDL0MsR0FBSSxHQUFTLEtBQUssTUFDZCxFQUFXLEVBQU8sU0FDbEIsRUFBUSxHQUF3QixFQUFRLENBQUMsYUFFekMsRUFBV0ssR0FBUyxHQUFJLEdBRTVCLE1BQUksSUFDQSxHQUFXLEtBQUssbUJBQW1CLEVBQVUsSUFHMUNMLEVBQU0sY0FBYyxFQUFXLElBRzFDLEdBQVksRUFBZSxLQUFNLENBQUMsQ0FDOUIsSUFBSyxZQXlCTCxJQUFLLFNBQWdCLEVBQVcsQ0FDNUIsRUFBVSxVQUFZLE1BR3ZCLEdBQ1RBLEVBQU0sV0FBWSxFQUFPLFVBQVksQ0FDbkMsS0FBTSxHQUFVLE9BQ2hCLGVBQWdCLEdBQVUsT0FDMUIsU0FBVSxHQUFVLFVBQVUsQ0FBQyxHQUFVLFFBQVEsR0FBVSxNQUFPLEdBQVUsT0FDNUUsYUFBYyxHQUFVLE9BQ3hCLE1BQU8sR0FBVSxLQUNqQix3QkFBeUIsR0FBVSxLQUNuQyxlQUFnQixHQUFVLE9BQzFCLEtBQU0sR0FBVSxRQUFRLEdBQVUsUUFDbEMsS0FBTSxHQUFVLFFBQVEsR0FBVSxRQUNsQyxTQUFVLEdBQVUsUUFBUSxHQUFVLFFBQ3RDLG9CQUFxQixHQUFVLEtBQy9CLE9BQVEsR0FBVSxRQUFRLEdBQVUsUUFDcEMsTUFBTyxHQUFVLFFBQVEsR0FBVSxRQUNuQyxNQUFPLEdBQVUsT0FDakIsZ0JBQWlCLEdBQVUsT0FDM0IsY0FBZSxHQUFVLFFBQzFCLEVBQU8sYUFBZSxDQUNyQixNQUFPLEdBQ1Asd0JBQXlCLElBQzFCLEVBQU8sS0FBTyxFQUFVLEtBQU0sRUFBTyxPQUFTLFVBQVksQ0FDekQsR0FBSSxHQUFjLEVBQVUsU0FDNUIsTUFBSyxJQUVELEdBQWMsR0FBaUIsQ0FDM0IsUUFBUyxHQUNULGVBQWdCLEdBQ2hCLHdCQUF5QixHQUN6QixlQUFnQixHQUNoQixTQUFVLEdBQ1YsU0FBVSxHQUNWLGFBQWMsR0FDZCxXQUFZLEdBQ1osVUFBVyxHQUNYLE1BQU8sR0FDUCxnQkFBaUIsTUFJbEIsR0FDUixHQUdILEdBQWdCLFVBQXlCLENBQ3pDLE1BQU8sT0FHUCxHQUFvQmdELEdBQWUsR0FBb0IsR0FBeUIsSUFBa0IsSUFFbEcsR0FBZSxHQUFPLElBQzFCLEdBQWEsYUFBZSxHQUFhLFVDNzRCekMsSUFBaUIsU0FBc0IsRUFBTSxFQUFNLEVBQVMsRUFBZ0IsQ0FDMUUsR0FBSSxHQUFNLEVBQVUsRUFBUSxLQUFLLEVBQWdCLEVBQU0sR0FBUSxPQUUvRCxHQUFJLElBQVEsT0FDVixNQUFPLENBQUMsQ0FBQyxFQUdYLEdBQUksSUFBUyxFQUNYLE1BQU8sR0FHVCxHQUFJLE1BQU8sSUFBUyxVQUFZLENBQUMsR0FBUSxNQUFPLElBQVMsVUFBWSxDQUFDLEVBQ3BFLE1BQU8sR0FHVCxHQUFJLEdBQVEsT0FBTyxLQUFLLEdBQ3BCLEVBQVEsT0FBTyxLQUFLLEdBRXhCLEdBQUksRUFBTSxTQUFXLEVBQU0sT0FDekIsTUFBTyxHQU1ULE9BSEksR0FBa0IsT0FBTyxVQUFVLGVBQWUsS0FBSyxHQUdsRCxFQUFNLEVBQUcsRUFBTSxFQUFNLE9BQVEsSUFBTyxDQUMzQyxHQUFJLEdBQU0sRUFBTSxHQUVoQixHQUFJLENBQUMsRUFBZ0IsR0FDbkIsTUFBTyxHQUdULEdBQUksR0FBUyxFQUFLLEdBQ2QsRUFBUyxFQUFLLEdBSWxCLEdBRkEsRUFBTSxFQUFVLEVBQVEsS0FBSyxFQUFnQixFQUFRLEVBQVEsR0FBTyxPQUVoRSxJQUFRLElBQVUsSUFBUSxRQUFVLElBQVcsRUFDakQsTUFBTyxHQUlYLE1BQU8sVUM1Q1QsWUFBcUIsRUFBRyxDQUN0QixXQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxDQUN4QixPQUFTLElBQUksRUFBRyxFQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFHLEdBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRSxPQUFRLEdBQUksR0FBSSxFQUFHLEdBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUcsR0FBSSxJQUFJLENBSTVLLEdBSEEsR0FBSSxFQUFFLFdBQVcsSUFDakIsS0FBTSxJQUFLLEFBQU0sRUFBSSxHQUFJLEdBQUksS0FBbEIsR0FBd0IsQ0FBTSxJQUFOLEdBQVksSUFBSSxBQUFPLElBQVAsR0FBVyxHQUFLLElBQUssR0FBSSxHQUFJLEdBQUksRUFBRyxLQUFLLE1BRXhGLEFBQU0sRUFBSSxHQUFJLEdBQUksS0FBbEIsRUFBcUIsQ0FDdkIsR0FBSSxLQUFNLElBQU0sR0FBSSxJQUFNLElBQUksR0FBRSxRQUFRLEVBQUcsS0FBTSxFQUFJLEdBQUUsT0FBTyxRQUFTLENBQ3JFLE9BQVEsUUFDRCxRQUNBLE9BQ0EsUUFDQSxRQUNBLElBQ0gsY0FHQSxJQUFLLEVBQUUsT0FBTyxJQUdsQixHQUFJLEdBR04sT0FBUSxRQUNELEtBS0gsSUFKQSxHQUFJLEdBQUUsT0FDTixHQUFJLEdBQUUsV0FBVyxHQUNqQixHQUFJLEVBRUMsR0FBSSxFQUFFLEdBQUcsR0FBSSxJQUFJLENBQ3BCLE9BQVEsR0FBSSxFQUFFLFdBQVcsU0FDbEIsS0FDSCxLQUNBLFVBRUcsS0FDSCxLQUNBLFVBRUcsSUFDSCxPQUFRLEdBQUksRUFBRSxXQUFXLEdBQUksUUFDdEIsUUFDQSxJQUNILEVBQUcsQ0FDRCxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBRyxFQUFFLEdBQ3ZCLE9BQVEsRUFBRSxXQUFXLFNBQ2QsSUFDSCxHQUFJLEFBQU8sS0FBUCxJQUFZLEFBQU8sRUFBRSxXQUFXLEdBQUksS0FBeEIsSUFBOEIsR0FBSSxJQUFNLEdBQUcsQ0FDekQsR0FBSSxHQUFJLEVBQ1IsUUFHRixVQUVHLElBQ0gsR0FBSSxBQUFPLEtBQVAsR0FBVSxDQUNaLEdBQUksR0FBSSxFQUNSLFNBTVIsR0FBSSxJQUtWLFVBRUcsSUFDSCxTQUVHLElBQ0gsU0FFRyxRQUNBLElBQ0gsS0FBTyxLQUFNLElBQUssRUFBRSxXQUFXLE1BQU8sSUFBSSxFQUs5QyxHQUFJLEFBQU0sS0FBTixFQUFTLE1BQ2IsS0FNRixPQUhBLEdBQUksRUFBRSxVQUFVLEdBQUcsSUFDbkIsQUFBTSxLQUFOLEdBQVksSUFBSyxJQUFJLEdBQUUsUUFBUSxFQUFJLElBQUksUUFBUSxXQUFXLElBRWxELFFBQ0QsSUFJSCxPQUhBLEVBQUksSUFBTSxJQUFJLEdBQUUsUUFBUSxFQUFHLEtBQzNCLEdBQUksR0FBRSxXQUFXLEdBRVQsUUFDRCxTQUNBLFNBQ0EsU0FDQSxJQUNILEdBQUksRUFDSixjQUdBLEdBQUksRUFNUixHQUhBLEdBQUksRUFBRSxFQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUksR0FDdEIsR0FBSSxHQUFFLE9BQ04sRUFBSSxHQUFNLElBQUksRUFBRSxFQUFHLEdBQUcsSUFBSSxHQUFJLEVBQUUsRUFBRyxHQUFHLEdBQUcsRUFBRyxFQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUUsS0FBSyxJQUFLLEFBQVcsS0FBWCxRQUFnQixBQUFPLElBQUssSUFBSSxHQUFFLFFBQVEsVUFBMUIsR0FBc0MsSUFBSSxFQUFHLEdBQUksS0FDNUksRUFBSSxHQUFHLE9BQVEsUUFDWixLQUNILEdBQUksR0FBRSxRQUFRLEdBQUksT0FFZixTQUNBLFNBQ0EsSUFDSCxHQUFJLEdBQUksSUFBTSxHQUFJLElBQ2xCLFVBRUcsS0FDSCxHQUFJLEdBQUUsUUFBUSxFQUFJLFNBQ2xCLEdBQUksR0FBSSxJQUFNLEdBQUksSUFDbEIsR0FBSSxBQUFNLElBQU4sR0FBVyxBQUFNLElBQU4sR0FBVyxFQUFFLElBQU0sR0FBRyxHQUFLLFlBQWMsR0FBSSxJQUFNLEdBQUksSUFBTSxHQUM1RSxjQUdBLEdBQUksR0FBSSxHQUFHLEFBQVEsSUFBUixLQUFjLElBQUssS0FBSyxHQUFHLFNBQ25DLElBQUksR0FDWCxjQUdBLEdBQUksRUFBRSxFQUFHLEVBQUUsRUFBRyxHQUFHLElBQUksR0FBRyxFQUFHLEVBQUksR0FHbkMsSUFBSyxHQUNMLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUNwQixHQUFJLEdBQ0osR0FBSSxFQUFFLFdBQVcsRUFBRSxJQUNuQixVQUVHLFNBQ0EsSUFFSCxHQURBLEdBQUssR0FBSSxHQUFJLEdBQUUsUUFBUSxFQUFHLElBQU0sSUFBRyxPQUMvQixFQUFLLElBQUksR0FBRSxRQUFTLE9BQVEsQUFBTSxLQUFOLEdBQVksSUFBSSxHQUFFLFdBQVcsR0FBSSxBQUFPLEtBQVAsSUFBWSxHQUFLLElBQUssSUFBTSxLQUFPLElBQUssSUFBSSxHQUFFLFFBQVEsSUFBSyxNQUFNLFFBQVMsRUFBSSxHQUFLLEFBQVksSUFBSSxFQUFFLEVBQUcsR0FBRyxFQUFHLEVBQUcsRUFBRyxHQUFHLEdBQUUsT0FBUSxFQUFHLEVBQUcsTUFBcEQsUUFBMkQsQUFBTyxJQUFLLElBQUksR0FBRSxRQUFRLFVBQTFCLEdBQXNDLElBQUksUUFBYSxHQUFJLEdBQUUsV0FBVyxHQUFJLEdBQUksR0FBRSxXQUFXLEdBQUksUUFDelMsR0FDSCxVQUVHLElBQ0gsR0FBSSxBQUFRLEtBQVIsS0FBYSxBQUFPLEtBQVAsR0FBVSxDQUN6QixJQUFLLEdBQUksRUFBRSxPQUFPLElBQ2xCLGNBSUYsQUFBTyxHQUFFLFdBQVcsR0FBSSxLQUF4QixJQUErQixLQUFLLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRSxXQUFXLEtBRWhFLEdBQUksR0FBSSxHQUFJLEdBQUksRUFDaEIsR0FBSSxHQUNKLEdBQUksRUFBRSxXQUFXLEVBQUUsS0FJekIsT0FBUSxRQUNELFFBQ0EsSUFDSCxBQUFPLElBQVAsR0FBVyxFQUFJLEVBQUksQUFBTSxFQUFJLEtBQVYsR0FBZSxBQUFRLElBQVIsS0FBYSxFQUFJLEdBQUUsUUFBVyxJQUFJLEVBQUcsSUFBSyxNQUM1RSxFQUFJLEVBQUksR0FBSyxFQUFFLEVBQUcsR0FBRyxFQUFHLEVBQUcsRUFBRyxHQUFHLEdBQUUsT0FBUSxFQUFHLEVBQUcsR0FDakQsR0FBSSxFQUNKLElBQ0EsVUFFRyxRQUNBLEtBQ0gsR0FBSSxBQUFNLEVBQUksR0FBSSxHQUFJLEtBQWxCLEVBQXFCLENBQ3ZCLEtBQ0EsY0FPRixPQUhBLEtBQ0EsR0FBSSxFQUFFLE9BQU8sSUFFTCxRQUNELE9BQ0EsSUFDSCxHQUFJLEFBQU0sR0FBSSxHQUFJLElBQWQsRUFBaUIsT0FBUSxRQUN0QixRQUNBLFFBQ0EsT0FDQSxJQUNILEdBQUksR0FDSixjQUdBLEFBQU8sS0FBUCxJQUFhLElBQUksS0FFckIsVUFFRyxHQUNILEdBQUksTUFDSixVQUVHLElBQ0gsR0FBSSxNQUNKLFVBRUcsSUFDSCxHQUFJLE1BQ0osVUFFRyxJQUNILEFBQU0sR0FBSSxFQUFJLEtBQWQsR0FBb0IsSUFBSSxHQUFJLEVBQUcsR0FBSSxLQUFPLElBQzFDLFVBRUcsS0FDSCxHQUFJLEFBQU0sR0FBSSxFQUFJLEdBQUksSUFBbEIsR0FBdUIsRUFBSSxHQUFHLE9BQVEsR0FBSSxRQUN2QyxHQUNILEFBQVEsS0FBUixLQUFhLEFBQU8sRUFBRSxXQUFXLEdBQUksS0FBeEIsSUFBK0IsR0FBSSxRQUU3QyxHQUNILEFBQVEsS0FBUixLQUFjLEdBQUksSUFFdEIsVUFFRyxJQUNILEFBQU0sR0FBSSxFQUFJLEtBQWQsR0FBb0IsSUFBSSxJQUN4QixVQUVHLElBQ0gsQUFBTSxFQUFJLEdBQUksR0FBSSxLQUFsQixHQUF3QixJQUFJLEVBQUcsSUFBSyxNQUNwQyxVQUVHLFFBQ0EsSUFDSCxBQUFNLElBQU4sR0FBWSxJQUFJLEtBQU0sR0FBSSxFQUFJLEFBQU0sS0FBTixFQUFVLEdBQUksSUFDNUMsVUFFRyxJQUNILEFBQU0sR0FBSSxFQUFJLEtBQWQsR0FBbUIsS0FDbkIsVUFFRyxJQUNILEFBQU0sR0FBSSxFQUFJLEtBQWQsR0FBbUIsS0FDbkIsVUFFRyxJQUNILEFBQU0sR0FBSSxFQUFJLEtBQWQsR0FBbUIsS0FDbkIsVUFFRyxJQUNILEdBQUksQUFBTSxHQUFJLEVBQUksS0FBZCxFQUFpQixDQUNuQixHQUFJLEFBQU0sS0FBTixFQUFTLE9BQVEsRUFBSSxHQUFJLEVBQUksUUFDMUIsS0FDSCxjQUdBLEdBQUksRUFFUixLQUdGLFVBRUcsSUFDSCxBQUFNLEVBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxLQUExQixHQUFnQyxJQUFJLEdBQ3BDLFVBRUcsUUFDQSxJQUNILEdBQUksQ0FBRSxHQUFJLEdBQUksR0FBSSxJQUFJLE9BQVEsT0FDdkIsR0FDSCxPQUFRLEVBQUksR0FBSSxFQUFJLEVBQUUsV0FBVyxHQUFJLFFBQzlCLEtBQ0gsRUFBSSxHQUNKLFVBRUcsS0FDSCxHQUFJLEdBQUcsRUFBSSxHQUdmLFVBRUcsSUFDSCxBQUFPLEtBQVAsSUFBWSxBQUFPLEtBQVAsSUFBWSxHQUFJLElBQU0sSUFBTSxDQUFPLEVBQUUsV0FBVyxHQUFJLEtBQXhCLElBQStCLEtBQUssRUFBRSxVQUFVLEdBQUcsR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFJLElBSXhILEFBQU0sSUFBTixHQUFZLEtBQUssSUFHckIsR0FBSSxHQUNKLEdBQUksR0FDSixLQUtGLEdBRkEsR0FBSSxHQUFFLE9BRUYsRUFBSSxHQUFHLENBRVQsR0FEQSxHQUFJLEVBQ0EsRUFBSSxHQUFNLElBQUksRUFBRSxFQUFHLEdBQUcsR0FBRyxFQUFHLEVBQUcsR0FBRyxHQUFHLEVBQUcsRUFBRyxHQUFJLEFBQVcsS0FBWCxRQUFnQixBQUFPLElBQUksSUFBRyxTQUFkLEdBQXVCLE1BQU8sSUFBSSxHQUFJLEdBR3pHLEdBRkEsR0FBSSxHQUFFLEtBQUssS0FBTyxJQUFNLEdBQUksSUFFeEIsQUFBTSxFQUFJLEdBQVYsRUFBYSxDQUdmLE9BRkEsQUFBTSxJQUFOLEdBQVcsRUFBRSxHQUFHLElBQU8sR0FBSSxHQUVuQixPQUNELEtBQ0gsR0FBSSxHQUFFLFFBQVEsRUFBSSxZQUFjLEdBQ2hDLFVBRUcsS0FDSCxHQUFJLEdBQUUsUUFBUSxFQUFHLHNCQUF3QixHQUFFLFFBQVEsRUFBRyxhQUFlLEdBQUUsUUFBUSxFQUFHLGlCQUFtQixHQUd6RyxFQUFJLEdBSVIsTUFBTyxJQUFJLEdBQUksR0FHakIsV0FBVyxFQUFHLEVBQUcsRUFBRyxDQUNsQixHQUFJLEdBQUksRUFBRSxPQUFPLE1BQU0sR0FDdkIsRUFBSSxFQUNKLEdBQUksR0FBSSxFQUFFLE9BQ04sR0FBSSxFQUFFLE9BRVYsT0FBUSxRQUNELE9BQ0EsR0FDSCxHQUFJLEdBQUksRUFFUixJQUFLLEVBQUksQUFBTSxLQUFOLEVBQVUsR0FBSyxFQUFFLEdBQUssSUFBSyxFQUFJLEVBQUcsRUFBRSxFQUMzQyxFQUFFLEdBQUssRUFBRSxFQUFHLEVBQUUsR0FBSSxHQUFHLE9BR3ZCLGNBR0EsR0FBSSxJQUFJLEVBQUksRUFFWixJQUFLLEVBQUksR0FBSSxFQUFJLEVBQUcsRUFBRSxFQUNwQixPQUFTLElBQUksRUFBRyxHQUFJLEdBQUcsRUFBRSxHQUN2QixFQUFFLE1BQU8sRUFBRSxFQUFFLElBQUssSUFBSyxFQUFFLEdBQUksR0FBRyxPQU14QyxNQUFPLEdBR1QsV0FBVyxFQUFHLEVBQUcsRUFBRyxDQUNsQixHQUFJLEdBQUksRUFBRSxXQUFXLEdBR3JCLE9BRkEsR0FBSyxHQUFNLEdBQUssR0FBSSxFQUFFLFFBQVEsV0FBVyxJQUVqQyxPQUNELElBQ0gsTUFBTyxHQUFFLFFBQVEsRUFBRyxLQUFPLEVBQUUsWUFFMUIsSUFDSCxNQUFPLEdBQUUsT0FBUyxFQUFFLFFBQVEsRUFBRyxLQUFPLEVBQUUsZ0JBR3hDLEdBQUksRUFBSSxFQUFJLEdBQUssRUFBSSxFQUFFLFFBQVEsTUFBTyxNQUFPLEdBQUUsUUFBUSxFQUFJLENBQU8sRUFBRSxXQUFXLEtBQXBCLEdBQXlCLEdBQUssTUFBUSxFQUFFLFFBR3ZHLE1BQU8sR0FBSSxFQUdiLFdBQVcsRUFBRyxFQUFHLEVBQUcsRUFBRyxDQUNyQixHQUFJLEdBQUksRUFBSSxJQUNSLEdBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBRTVCLEdBQUksQUFBUSxLQUFSLElBQVcsQ0FDYixFQUFJLEVBQUUsUUFBUSxJQUFLLEdBQUssRUFDeEIsR0FBSSxHQUFJLEVBQUUsVUFBVSxFQUFHLEVBQUUsT0FBUyxHQUFHLE9BQ3JDLFNBQUksRUFBRSxVQUFVLEVBQUcsR0FBRyxPQUFTLEVBQUksSUFDNUIsQUFBTSxJQUFOLEdBQVcsQUFBTSxJQUFOLEdBQVcsRUFBRSxFQUFHLEdBQUssV0FBYSxFQUFJLEVBQUksRUFHOUQsR0FBSSxBQUFNLElBQU4sR0FBVyxBQUFNLElBQU4sR0FBVyxDQUFDLEVBQUUsRUFBRyxHQUFJLE1BQU8sR0FFM0MsT0FBUSxRQUNELE1BQ0gsTUFBTyxBQUFPLEdBQUUsV0FBVyxNQUFwQixHQUEwQixXQUFhLEVBQUksRUFBSSxNQUVuRCxLQUNILE1BQU8sQUFBUSxHQUFFLFdBQVcsS0FBckIsSUFBMEIsV0FBYSxFQUFJLEVBQUksTUFFbkQsS0FDSCxNQUFPLEFBQVEsR0FBRSxXQUFXLEtBQXJCLElBQTBCLFdBQWEsRUFBSSxFQUFJLE1BRW5ELE1BQ0gsR0FBSSxBQUFRLEVBQUUsV0FBVyxLQUFyQixJQUF5QixVQUUxQixTQUNBLEtBQ0gsTUFBTyxXQUFhLEVBQUksTUFFckIsS0FDSCxNQUFPLFdBQWEsRUFBSSxRQUFVLEVBQUksTUFFbkMsVUFDQSxLQUNILE1BQU8sV0FBYSxFQUFJLFFBQVUsRUFBSSxPQUFTLEVBQUksTUFFaEQsS0FDSCxHQUFJLEFBQU8sRUFBRSxXQUFXLEtBQXBCLEdBQXdCLE1BQU8sV0FBYSxFQUFJLEVBQ3BELEdBQUksRUFBSSxFQUFFLFFBQVEsYUFBYyxJQUFLLE1BQU8sR0FBRSxRQUFRLEdBQUksZ0JBQWtCLEVBQzVFLFVBRUcsS0FDSCxHQUFJLEFBQU8sRUFBRSxXQUFXLEtBQXBCLEdBQXdCLE9BQVEsRUFBRSxXQUFXLFFBQzFDLEtBQ0gsTUFBTyxlQUFpQixFQUFFLFFBQVEsUUFBUyxJQUFNLFdBQWEsRUFBSSxPQUFTLEVBQUUsUUFBUSxPQUFRLFlBQWMsTUFFeEcsS0FDSCxNQUFPLFdBQWEsRUFBSSxPQUFTLEVBQUUsUUFBUSxTQUFVLFlBQWMsTUFFaEUsSUFDSCxNQUFPLFdBQWEsRUFBSSxPQUFTLEVBQUUsUUFBUSxRQUFTLGtCQUFvQixFQUU1RSxNQUFPLFdBQWEsRUFBSSxPQUFTLEVBQUksTUFFbEMsS0FDSCxNQUFPLFdBQWEsRUFBSSxZQUFjLEVBQUksTUFFdkMsTUFDSCxHQUFJLEFBQU8sRUFBRSxXQUFXLEtBQXBCLEdBQXdCLE1BQzVCLFNBQUksRUFBRSxVQUFVLEVBQUUsUUFBUSxJQUFLLEtBQUssUUFBUSxRQUFTLElBQUksUUFBUSxnQkFBaUIsV0FDM0UsbUJBQXFCLEVBQUksV0FBYSxFQUFJLGdCQUFrQixFQUFJLE1BRXBFLE1BQ0gsTUFBTyxHQUFHLEtBQUssR0FBSyxFQUFFLFFBQVEsRUFBSSxhQUFlLEVBQUUsUUFBUSxFQUFJLFVBQVksRUFBSSxNQUU1RSxLQUlILE9BSEEsRUFBSSxFQUFFLFVBQVUsSUFBSSxPQUNwQixFQUFJLEVBQUUsUUFBUSxLQUFPLEVBRWIsRUFBRSxXQUFXLEdBQUssRUFBRSxXQUFXLFFBQ2hDLEtBQ0gsRUFBSSxFQUFFLFFBQVEsRUFBRyxNQUNqQixVQUVHLEtBQ0gsRUFBSSxFQUFFLFFBQVEsRUFBRyxTQUNqQixVQUVHLEtBQ0gsRUFBSSxFQUFFLFFBQVEsRUFBRyxNQUNqQixjQUdBLE1BQU8sR0FHWCxNQUFPLFdBQWEsRUFBSSxPQUFTLEVBQUksTUFFbEMsTUFDSCxHQUFJLEFBQU8sRUFBRSxRQUFRLFNBQVUsS0FBM0IsR0FBK0IsVUFFaEMsS0FJSCxPQUhBLEVBQUssR0FBSSxHQUFHLE9BQVMsR0FDckIsRUFBSyxDQUFPLEVBQUUsV0FBVyxLQUFwQixHQUF5QixFQUFFLFVBQVUsRUFBRyxHQUFLLEdBQUcsVUFBVSxFQUFFLFFBQVEsSUFBSyxHQUFLLEdBQUcsT0FFOUUsR0FBSSxFQUFFLFdBQVcsR0FBTSxHQUFFLFdBQVcsR0FBSyxRQUMxQyxLQUNILEdBQUksSUFBTSxFQUFFLFdBQVcsR0FBSSxVQUV4QixLQUNILEVBQUksRUFBRSxRQUFRLEVBQUcsV0FBYSxHQUFLLElBQU0sRUFDekMsVUFFRyxTQUNBLEtBQ0gsRUFBSSxFQUFFLFFBQVEsRUFBRyxXQUFjLEtBQU0sR0FBSSxVQUFZLElBQU0sT0FBUyxJQUFNLEVBQUUsUUFBUSxFQUFHLFdBQWEsR0FBSyxJQUFNLEVBQUUsUUFBUSxFQUFHLE9BQVMsRUFBSSxPQUFTLElBQU0sRUFHNUosTUFBTyxHQUFJLFFBRVIsS0FDSCxHQUFJLEFBQU8sRUFBRSxXQUFXLEtBQXBCLEdBQXdCLE9BQVEsRUFBRSxXQUFXLFFBQzFDLEtBQ0gsTUFBTyxHQUFJLEVBQUUsUUFBUSxTQUFVLElBQUssV0FBYSxFQUFJLGVBQWlCLEVBQUksWUFBYyxFQUFJLE1BRXpGLEtBQ0gsTUFBTyxXQUFhLEVBQUksaUJBQW1CLEVBQUUsUUFBUSxFQUFJLElBQU0sVUFHL0QsTUFBTyxXQUFhLEVBQUkscUJBQXVCLEVBQUUsUUFBUSxnQkFBaUIsSUFBSSxRQUFRLEVBQUksSUFBTSxFQUVwRyxVQUVHLFNBQ0EsS0FDSCxHQUFJLEFBQU8sRUFBRSxXQUFXLEtBQXBCLElBQTBCLEFBQVEsRUFBRSxXQUFXLEtBQXJCLElBQXlCLFVBRXBELFNBQ0EsS0FDSCxHQUFJLEFBQU8sR0FBRyxLQUFLLEtBQWYsR0FBbUIsTUFBTyxBQUFTLEdBQUksRUFBRSxVQUFVLEVBQUUsUUFBUSxLQUFPLElBQUksV0FBVyxLQUF6RCxJQUE4RCxFQUFFLEVBQUUsUUFBUSxVQUFXLGtCQUFtQixFQUFHLEVBQUcsR0FBRyxRQUFRLGtCQUFtQixZQUFjLEVBQUUsUUFBUSxFQUFHLFdBQWEsR0FBSyxFQUFFLFFBQVEsRUFBRyxRQUFVLEVBQUUsUUFBUSxRQUFTLEtBQU8sRUFDeFEsVUFFRyxLQUNILEdBQUksRUFBSSxXQUFhLEVBQUssQ0FBUSxFQUFFLFdBQVcsS0FBckIsSUFBMEIsT0FBUyxFQUFJLElBQU0sRUFBRyxBQUFRLEVBQUksSUFBWixLQUFpQixBQUFRLEVBQUUsV0FBVyxNQUFyQixLQUE0QixFQUFJLEVBQUUsUUFBUSxZQUFhLElBQUssTUFBTyxHQUFFLFVBQVUsRUFBRyxFQUFFLFFBQVEsSUFBSyxJQUFNLEdBQUcsUUFBUSxFQUFJLGdCQUFrQixFQUd2TyxNQUFPLEdBR1QsV0FBVyxFQUFHLEVBQUcsQ0FDZixHQUFJLEdBQUksRUFBRSxRQUFRLEFBQU0sSUFBTixFQUFVLElBQU0sS0FDOUIsRUFBSSxFQUFFLFVBQVUsRUFBRyxBQUFNLElBQU4sRUFBVSxFQUFJLElBQ3JDLFNBQUksRUFBRSxVQUFVLEVBQUksRUFBRyxFQUFFLE9BQVMsR0FDM0IsR0FBRSxBQUFNLElBQU4sRUFBVSxFQUFJLEVBQUUsUUFBUSxHQUFJLE1BQU8sRUFBRyxHQUdqRCxXQUFZLEVBQUcsRUFBRyxDQUNoQixHQUFJLEdBQUksRUFBRSxFQUFHLEVBQUUsV0FBVyxHQUFJLEVBQUUsV0FBVyxHQUFJLEVBQUUsV0FBVyxJQUM1RCxNQUFPLEtBQU0sRUFBSSxJQUFNLEVBQUUsUUFBUSxFQUFJLFlBQVksVUFBVSxHQUFLLElBQU0sRUFBSSxJQUc1RSxXQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFHLEVBQUcsR0FBRyxHQUFHLEdBQUcsQ0FDdkMsT0FBUyxJQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUcsR0FBSSxFQUFHLEVBQUUsR0FDakMsT0FBUSxHQUFJLEVBQUUsSUFBRyxLQUFLLEVBQUcsRUFBRyxHQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUcsRUFBRyxHQUFHLEdBQUcsU0FDN0MsWUFDQSxPQUNBLE9BQ0EsTUFDSCxjQUdBLEdBQUksR0FJVixHQUFJLEtBQU0sRUFBRyxNQUFPLElBR3RCLFdBQVcsRUFBRyxDQUNaLE9BQVEsT0FDRCxZQUNBLE1BQ0gsRUFBSSxFQUFFLE9BQVMsRUFDZixjQUdBLEdBQUksQUFBZSxNQUFPLElBQXRCLFdBQXlCLEVBQUUsS0FBTyxVQUFXLEFBQWEsTUFBTyxJQUFwQixTQUF1QixPQUFTLEdBQUksRUFBRyxFQUFJLEVBQUUsT0FBUSxFQUFJLEVBQUcsRUFBRSxFQUM3RyxFQUFFLEVBQUUsUUFDQyxHQUFJLENBQUMsQ0FBQyxFQUFJLEVBR3JCLE1BQU8sR0FHVCxXQUFXLEVBQUcsQ0FDWixTQUFJLEVBQUUsT0FDTixBQUFXLElBQVgsUUFBaUIsSUFBSSxLQUFNLEVBQUksQUFBZSxNQUFPLElBQXRCLFdBQTBCLEVBQUksRUFBSyxHQUFJLEVBQUcsR0FBSSxHQUFLLEVBQUksR0FDL0UsRUFHVCxXQUFXLEVBQUcsRUFBRyxDQUNmLEdBQUksR0FBSSxFQUtSLEdBSkEsR0FBSyxFQUFFLFdBQVcsSUFBTyxHQUFJLEVBQUUsUUFDL0IsR0FBSSxFQUNKLEVBQUksQ0FBQyxJQUVELEVBQUksRUFBRyxDQUNULEdBQUksR0FBSSxFQUFFLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3RDLEFBQVcsSUFBWCxRQUFnQixBQUFhLE1BQU8sSUFBcEIsVUFBMEIsR0FBSSxHQUdoRCxHQUFJLEdBQUksRUFBRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3RCLFNBQUksR0FBTSxHQUFJLEVBQUUsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUcsRUFBRSxPQUFRLEVBQUcsRUFBRyxHQUFJLEFBQVcsSUFBWCxRQUFpQixHQUFJLElBQzVFLEdBQUksR0FDSixFQUFJLEVBQ0osR0FBSSxFQUFJLEVBQ0QsRUFHVCxHQUFJLEdBQUssUUFDTCxFQUFJLFlBQ0osRUFBSyxPQUNMLEVBQUssVUFDTCxFQUFLLHNCQUNMLEVBQUssU0FDTCxFQUFJLG9CQUNKLEVBQUsscUJBQ0wsRUFBSSxhQUNKLEVBQUssZ0JBQ0wsRUFBSSxxQkFDSixHQUFLLGtCQUNMLEVBQUssZUFDTCxFQUFLLGVBQ0wsR0FBSyw4QkFDTCxHQUFLLG1DQUNMLEdBQUssc0JBQ0wsR0FBSSxFQUNKLEVBQUksRUFDSixFQUFJLEVBQ0osRUFBSSxFQUNKLEVBQUksR0FDSixFQUFJLEdBQ0osRUFBSSxFQUNKLEdBQUksS0FDSixFQUFJLEVBQ0osR0FBSSxHQUNSLFNBQUUsSUFBTSxFQUNSLEVBQUUsSUFBTSxFQUNSLEFBQVcsSUFBWCxRQUFnQixFQUFFLEdBQ1gsRUNubUJULEdBQUksSUFBZSxDQUNqQix3QkFBeUIsRUFDekIsa0JBQW1CLEVBQ25CLGlCQUFrQixFQUNsQixpQkFBa0IsRUFDbEIsUUFBUyxFQUNULGFBQWMsRUFDZCxnQkFBaUIsRUFDakIsWUFBYSxFQUNiLFFBQVMsRUFDVCxLQUFNLEVBQ04sU0FBVSxFQUNWLGFBQWMsRUFDZCxXQUFZLEVBQ1osYUFBYyxFQUNkLFVBQVcsRUFDWCxRQUFTLEVBQ1QsV0FBWSxFQUNaLFlBQWEsRUFDYixhQUFjLEVBQ2QsV0FBWSxFQUNaLGNBQWUsRUFDZixlQUFnQixFQUNoQixnQkFBaUIsRUFDakIsVUFBVyxFQUNYLGNBQWUsRUFDZixhQUFjLEVBQ2QsaUJBQWtCLEVBQ2xCLFdBQVksRUFDWixXQUFZLEVBQ1osUUFBUyxFQUNULE1BQU8sRUFDUCxRQUFTLEVBQ1QsUUFBUyxFQUNULE9BQVEsRUFDUixPQUFRLEVBQ1IsS0FBTSxFQUNOLGdCQUFpQixFQUVqQixZQUFhLEVBQ2IsYUFBYyxFQUNkLFlBQWEsRUFDYixnQkFBaUIsRUFDakIsaUJBQWtCLEVBQ2xCLGlCQUFrQixFQUNsQixjQUFlLEVBQ2YsWUFBYSxHQzlDZixZQUFpQixFQUFJLENBQ25CLEdBQUksR0FBUSxHQUNaLE1BQU8sVUFBVSxFQUFLLENBQ3BCLE1BQUksR0FBTSxLQUFTLFFBQVcsR0FBTSxHQUFPLEVBQUcsSUFDdkMsRUFBTSxJQ0ZqQixHQUFJQyxJQUFrQiw0NUhBRWxCLEdBQVFDLEdBQVEsU0FBVSxFQUFNLENBQ2xDLE1BQU9ELElBQWdCLEtBQUssSUFBUyxFQUFLLFdBQVcsS0FBTyxLQUV6RCxFQUFLLFdBQVcsS0FBTyxLQUV2QixFQUFLLFdBQVcsR0FBSyxLQ1QrVyxhQUFZLENBQUMsTUFBTyxJQUFFLE9BQU8sUUFBUSxTQUFTLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxFQUFFLFVBQVUsT0FBTyxJQUFJLENBQUMsR0FBSSxHQUFFLFVBQVUsR0FBRyxPQUFRLEtBQUssR0FBRSxPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQUUsSUFBSyxHQUFFLEdBQUcsRUFBRSxJQUFJLE1BQU8sS0FBSSxNQUFNLEtBQUssV0FBVyxHQUFJekMsSUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQVEsR0FBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxJQUFJLE1BQU8sSUFBRyxHQUFFLFNBQVMsRUFBRSxDQUFDLE1BQU8sQUFBTyxLQUFQLE1BQVUsQUFBVSxNQUFPLElBQWpCLFVBQW9CLEFBQXFCLEdBQUUsU0FBUyxFQUFFLFdBQVcsT0FBTyxVQUFVLFNBQVMsS0FBSyxNQUE1RSxtQkFBaUYsQ0FBQzJDLGtCQUFFLElBQUksR0FBRSxPQUFPLE9BQU8sSUFBSSxHQUFFLE9BQU8sT0FBTyxJQUFJLFlBQVcsRUFBRSxDQUFDLE1BQU0sQUFBWSxPQUFPLElBQW5CLFdBQXFCLFlBQVcsRUFBRSxDQUFDLE1BQWtFLEdBQUUsYUFBYSxFQUFFLE1BQU0sWUFBWSxZQUFXLEVBQUUsQ0FBQyxNQUFPLElBQUcsQUFBVSxNQUFPLEdBQUUsbUJBQW5CLFNBQXdDLEdBQUMsSUFBRSxBQUFhLE1BQU8sVUFBcEIsYUFBNkQsKzVQQUFZLFNBQVUsY0FBYyxHQUFFLFFBQVEsR0FBRSxBQUFhLE1BQU8sU0FBcEIsYUFBNEIsZUFBZ0IsUUFBTyxHQUFFLFFBQVEsQUFBVyxNQUFPLG9CQUFsQixVQUFvQyxrQkFBa0IsQUFBYSxNQUFPLFVBQXBCLGFBQTZCLEFBQVMsKzVQQUFZLDhCQUFyQixRQUFrRCxBQUFLLCs1UEFBWSw4QkFBakIsR0FBZ0csKzVQQUFZLDRCQUE0QixBQUFhLE1BQU8sVUFBcEIsYUFBNkIsQUFBUywrNVBBQVksb0JBQXJCLFFBQXdDLEFBQUssKzVQQUFZLG9CQUFqQixHQUE0RSwrNVBBQVksa0JBQWtCLElBQXFDLEdBQUUsR0FBazVHLFlBQVcsRUFBRSxDQUFDLE9BQVEsR0FBRSxVQUFVLE9BQU8sRUFBRSxHQUFJLE9BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxVQUFVLEdBQUcsS0FBeUMsSUFBSSxPQUFNLCtDQUErQyxFQUFFLHlCQUEwQixHQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsS0FBSyxNQUFNLEtBQXdELEdBQUksSUFBRSxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxXQUFXLEdBQUksYUFBWSxLQUFLLEtBQUssT0FBTyxJQUFJLEtBQUssSUFBSSxFQUFFLEdBQUksR0FBRSxFQUFFLFVBQVUsTUFBTyxHQUFFLGFBQWEsU0FBUyxFQUFFLENBQUMsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxXQUFXLEdBQUcsTUFBTyxJQUFHLEVBQUUsWUFBWSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxLQUFLLFdBQVcsT0FBTyxDQUFDLE9BQVEsR0FBRSxLQUFLLFdBQVcsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsR0FBRyxBQUFDLEtBQUksR0FBRyxHQUFHLEdBQUUsR0FBRyxHQUFHLEdBQUcsS0FBSyxXQUFXLEdBQUksYUFBWSxHQUFHLEtBQUssV0FBVyxJQUFJLEdBQUcsS0FBSyxPQUFPLEVBQUUsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxXQUFXLEdBQUcsRUFBRSxPQUFRLEdBQUUsS0FBSyxhQUFhLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLElBQUksS0FBSyxJQUFJLFdBQVcsRUFBRSxFQUFFLEtBQU0sTUFBSyxXQUFXLEtBQUssTUFBTSxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssT0FBTyxDQUFDLEdBQUksR0FBRSxLQUFLLFdBQVcsR0FBRyxFQUFFLEtBQUssYUFBYSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssV0FBVyxHQUFHLEVBQUUsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxJQUFJLFdBQVcsS0FBSyxFQUFFLFNBQVMsU0FBUyxFQUFFLENBQUMsR0FBSSxHQUFFLEdBQUcsR0FBRyxHQUFHLEtBQUssUUFBUSxBQUFJLEtBQUssV0FBVyxLQUFwQixFQUF1QixNQUFPLEdBQUUsT0FBUSxHQUFFLEtBQUssV0FBVyxHQUFHLEVBQUUsS0FBSyxhQUFhLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLFFBQVEsR0FBRztBQUFBLEVBQVksTUFBTyxJQUFHLEtBQUssR0FBRSxHQUFJLEtBQUksR0FBRSxHQUFJLEtBQUksR0FBRSxFQUFFLEdBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxHQUFFLElBQUksR0FBRyxNQUFPLElBQUUsSUFBSSxHQUFHLEtBQUssR0FBRSxJQUFJLEtBQUksS0FBSSxHQUFJLEdBQUUsS0FBSSxNQUEwRSxJQUFFLElBQUksRUFBRSxHQUFHLEdBQUUsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFFLFNBQVMsRUFBRSxDQUFDLE1BQU8sSUFBRSxJQUFJLElBQUksR0FBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUksRUFBRSxHQUFHLEdBQUUsSUFBSSxFQUFFLElBQUksR0FBRSxTQUFTLEdBQUUsaUNBQWlDLEdBQUUsR0FBSSxRQUFPLElBQUksR0FBRSxnREFBZ0QsR0FBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBUSxHQUFFLEVBQUUsRUFBRSxNQUFNLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEFBQUMsR0FBRSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsSUFBSSxHQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBUSxHQUFHLEdBQUUsV0FBVyxJQUFJLE1BQU07QUFBQSxHQUFhLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxJQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsQUFBSSxJQUFKLEdBQVEsSUFBRSxFQUFFLEdBQUcsR0FBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTyxHQUFFLEtBQUssTUFBTXJDLEdBQUUsVUFBVSxDQUFDLE1BQU0sQUFBYSxPQUFPLFNBQXBCLGFBQTRCLEFBQVMsT0FBTyxvQkFBaEIsT0FBa0MsT0FBTyxrQkFBa0IsTUFBTSxHQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUksR0FBRSxTQUFTLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxTQUFTLGNBQWMsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLE9BQVEsR0FBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLE9BQU8sR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxBQUFJLEVBQUUsV0FBTixHQUFnQixFQUFFLGFBQWEsSUFBRyxNQUFPLEtBQUksR0FBRyxFQUFFLEFBQVMsSUFBVCxPQUFXLEVBQUUsWUFBWSxLQUFLLEVBQUUsYUFBYSxHQUFFLFVBQVUsRUFBRSxhQUFhLHNCQUFzQixTQUFTLEdBQUksR0FBRUEsS0FBSSxNQUFPLElBQUcsRUFBRSxhQUFhLFFBQVEsR0FBRyxFQUFFLGFBQWEsRUFBRSxHQUFHLEdBQUcsR0FBRSxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssUUFBUSxHQUFFLEdBQUcsRUFBRSxZQUFZLFNBQVMsZUFBZSxLQUFLLEtBQUssTUFBTSxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxNQUFPLEdBQUUsTUFBTSxPQUFRLEdBQUUsU0FBUyxZQUFZLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUksR0FBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLFlBQVksRUFBRSxNQUFPLEdBQUUsR0FBRSxLQUFLLEdBQUcsS0FBSyxPQUFPLEVBQUUsR0FBSSxHQUFFLEVBQUUsVUFBVSxNQUFPLEdBQUUsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFPLE1BQUssTUFBTSxXQUFXLEVBQUUsR0FBRyxLQUFLLFNBQVMsU0FBUyxFQUFOLENBQVMsTUFBTSxLQUFLLEVBQUUsV0FBVyxTQUFTLEVBQUUsQ0FBQyxLQUFLLE1BQU0sV0FBVyxHQUFHLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssTUFBTSxTQUFTLEdBQUcsTUFBTyxBQUFTLEtBQVQsUUFBWSxBQUFVLE1BQU8sR0FBRSxTQUFuQixTQUEyQixFQUFFLFFBQVEsSUFBSSxLQUFLLEdBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUksR0FBRSxLQUFLLFFBQVEsR0FBRSxHQUFHLEtBQUssTUFBTSxFQUFFLFdBQVcsS0FBSyxPQUFPLEVBQUUsR0FBSSxHQUFFLEVBQUUsVUFBVSxNQUFPLEdBQUUsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxLQUFLLFFBQVEsR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLFNBQVMsZUFBZSxHQUFHLEVBQUUsS0FBSyxNQUFNLEdBQUcsTUFBTyxNQUFLLFFBQVEsYUFBYSxFQUFFLEdBQUcsTUFBTSxLQUFLLFNBQVMsR0FBRyxNQUFNLElBQUksRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLEtBQUssUUFBUSxZQUFZLEtBQUssTUFBTSxJQUFJLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsTUFBTyxHQUFFLEtBQUssT0FBTyxLQUFLLE1BQU0sR0FBRyxZQUFZLElBQUksS0FBSyxHQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLE1BQU0sR0FBRyxLQUFLLE9BQU8sRUFBRSxHQUFJLEdBQUUsRUFBRSxVQUFVLE1BQU8sR0FBRSxXQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsTUFBTyxJQUFHLEtBQUssUUFBUyxNQUFLLE1BQU0sT0FBTyxFQUFFLEVBQUUsR0FBRyxLQUFLLFNBQVMsS0FBSyxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLE9BQU8sRUFBRSxHQUFHLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsTUFBTyxHQUFFLEtBQUssT0FBTyxLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssR0FBRSxHQUFFLEdBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRSxrQkFBa0IsQ0FBQyxJQUFHLEdBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxBQUFTLElBQVQsUUFBYSxHQUFFLElBQUcsQUFBUyxJQUFULFFBQWEsR0FBRSxJQUFJLEtBQUssUUFBUSxHQUFFLEdBQUcsR0FBRSxHQUFHLEdBQUcsS0FBSyxHQUFHLEVBQUUsS0FBSyxNQUFNLEdBQUksS0FBSSxHQUFHLEtBQUssT0FBTyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsS0FBSyxRQUFRLElBQUcsSUFBSSxJQUFFLEdBQUcsU0FBUyxFQUFFLENBQUMsT0FBUSxHQUFFLFNBQVMsaUJBQWlCLElBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxHQUFHLEFBQVcsRUFBRSxhQUFhLE1BQTFCLFVBQStCLElBQUUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLFdBQVcsWUFBWSxNQUFNLE9BQU8sRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLE1BQU8sSUFBRSxJQUFJLEdBQUksR0FBRSxFQUFFLFVBQVUsTUFBTyxHQUFFLHVCQUF1QixTQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU8sQUFBUyxLQUFULFFBQWEsR0FBRSxJQUFJLEdBQUksR0FBRSxHQUFFLEdBQUcsS0FBSyxRQUFRLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxLQUFLLE9BQU8sU0FBUyxFQUFFLG1CQUFtQixTQUFTLEVBQUUsQ0FBQyxNQUFPLE1BQUssR0FBRyxHQUFJLE1BQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLE9BQU8sVUFBVSxDQUFDLE1BQU8sTUFBSyxLQUFNLE1BQUssSUFBSyxHQUFHLEdBQUUsS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBSSxJQUFFLEdBQUcsRUFBRSxHQUFJLElBQUUsR0FBRyxHQUFJLElBQUUsR0FBRyxHQUFJLElBQUUsS0FBSyxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLGFBQWEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxNQUFPLE1BQUssTUFBTSxJQUFJLElBQUksS0FBSyxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxhQUFhLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFFLEdBQUcsS0FBSyxNQUFNLElBQUksR0FBRyxLQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUksR0FBRSxHQUFJLEtBQUksRUFBRSxJQUFJLEdBQUcsS0FBSyxNQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsWUFBWSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxhQUFhLEVBQUUsR0FBRyxLQUFLLFNBQVMsWUFBWSxHQUFFLEdBQUcsSUFBSSxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLE1BQU0sSUFBSSxHQUFHLFNBQVMsRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLEtBQUssU0FBUyxXQUFXLEdBQUUsSUFBSSxLQUFLLFdBQVcsSUFBSSxFQUFFLFNBQVMsVUFBVSxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUUsU0FBUyxVQUFVLENBQUMsTUFBTyxVQUFTLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsR0FBRSxHQUFHLEdBQUcsQUFBUyxJQUFULE9BQVcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxNQUFNLElBQUksR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUksR0FBRSxHQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsQUFBUyxJQUFULFFBQVksRUFBRSxRQUFTLFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxHQUFJLElBQUcsRUFBRSxPQUFRLEdBQUcsR0FBRyxFQUFFLEVBQUUsYUFBYSxFQUFFO0FBQUEsSUFBZ0IsTUFBTyxJQUFHLE9BQU8sS0FBSyxHQUFFLFdBQVcsR0FBRSxTQUFTLEVBQUUsQ0FBQyxNQUFPLFFBQU8sYUFBYSxFQUFHLEdBQUUsR0FBRyxHQUFHLE1BQU0sWUFBWSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsS0FBSyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU8sSUFBRSxFQUFFLElBQUksR0FBRyxRQUFRLEdBQUUsU0FBUyxHQUFJLElBQUcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxXQUFXLEVBQUUsR0FBRyxNQUFPLElBQUcsR0FBRyxTQUFTLEVBQUUsQ0FBQyxNQUFPLElBQUcsS0FBSyxJQUFJLFlBQVksRUFBRSxDQUFDLE9BQVEsR0FBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLEdBQUcsR0FBRyxHQUFFLElBQUksQ0FBQyxHQUFFLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFJLElBQUcsR0FBRyxTQUFTLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLE1BQU0sRUFBRSxLQUFLLGNBQWMsR0FBRyxLQUFLLFNBQStDLENBQVMsSUFBVCxRQUFZLEVBQUUsV0FBVyxHQUFHLEdBQUcsS0FBSyxZQUFZLEVBQUUsS0FBSyxTQUFTLEdBQUcsR0FBRyxHQUFHLEtBQUssVUFBVSxFQUFFLEdBQUUsV0FBVyxHQUFHLE1BQU8sR0FBRSxVQUFVLHdCQUF3QixTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssWUFBWSxFQUFFLEdBQUcsR0FBRyxLQUFLLFdBQVcsRUFBRSxLQUFLLEtBQUssVUFBVSx3QkFBd0IsRUFBRSxFQUFFLElBQUksS0FBSyxVQUFVLENBQUMsRUFBRSxLQUFLLEdBQUcsS0FBSyxlQUFlLEVBQUUsYUFBYSxFQUFFLEtBQUssZUFBZSxFQUFFLEtBQUssS0FBSyxtQkFBbUIsQ0FBQyxHQUFJLEdBQUUsR0FBRyxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsR0FBRyxHQUFHLEtBQUssU0FBUyxLQUFLLEdBQUcsR0FBRyxDQUFDLEVBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUcsRUFBRSxZQUFZLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxHQUFHLEtBQUssY0FBYyxNQUFNLENBQUMsT0FBUSxHQUFFLEtBQUssTUFBTSxPQUFPLEVBQUUsR0FBRyxLQUFLLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsS0FBSyxNQUFNLEdBQUcsR0FBRyxBQUFVLE1BQU8sSUFBakIsU0FBbUIsR0FBRyxVQUE2RCxFQUFFLENBQUMsR0FBSSxHQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxHQUFHLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFJLEdBQUUsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUcsRUFBRSxZQUFZLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLE1BQU8sR0FBRSxLQUFLLE1BQU0sS0FBSyxHQUFHLGdCQUFnQixHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxZQUFZLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxHQUFJRCxJQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFOLEdBQVcsTUFBTyxVQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFFLEVBQUUsRUFBRSxHQUFFLEdBQUUsQ0FBQyxPQUFPLE9BQVEsR0FBRSxHQUFHLEFBQUksS0FBSixHQUFPLEFBQUssRUFBRSxXQUFXLEtBQWxCLEdBQXFCLE1BQU8sR0FBRSxFQUFFLEtBQUssR0FBRyxVQUFXLEdBQUUsR0FBRyxBQUFJLElBQUosRUFBTSxNQUFPLEdBQUUsUUFBUSxVQUFXLEdBQUUsT0FBTyxPQUFRLFNBQVMsS0FBSSxNQUFPLEdBQUUsRUFBRSxHQUFHLEdBQUcsV0FBVyxNQUFPLEdBQUcsQ0FBSSxLQUFKLEVBQU0sUUFBUSxRQUFRLEdBQUcsRUFBRSxNQUFNLFVBQVUsUUFBUSxNQUFPLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxLQUFNLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU8sQUFBSSxLQUFKLEdBQU8sQUFBSyxHQUFHLFFBQVEsRUFBRSxFQUFFLFdBQXBCLElBQThCLEVBQUUsTUFBTSxHQUFHLEVBQUUsSUFBSSxHQUFHLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEFBQVMsSUFBVCxRQUFhLEdBQUUsS0FBSyxHQUFJLEdBQUUsRUFBRSxRQUFRLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU8sR0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksUUFBTyxLQUFLLEVBQUUsTUFBTSxLQUFLLEVBQUUsR0FBSSxRQUFPLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTyxHQUFFLElBQUksR0FBRyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsQUFBSSxJQUFKLEdBQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxZQUFZLEdBQUcsR0FBSSxHQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxBQUFLLElBQUwsR0FBTyxDQUFDLEdBQUksR0FBRSxFQUFFLE1BQU8sR0FBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQVEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxNQUFPLEdBQUUsTUFBTSxHQUFFLElBQUksR0FBRyxFQUFFLEVBQUUsT0FBUSxNQUFNLFdBQVcsR0FBRyxFQUFFLEdBQUksSUFBR3VDLEVBQUUsZ0JB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TyxTQUFTLEVBQUUsRUFBRSxFQUFFLGtCQUFrQixHQUFHLEVBQUUsbUJBQW9CLEdBQUUsRUFBRSxrQkFBa0IsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU8sR0FBRSxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxtQkFBbUIsR0FBSSxHQUFFLEVBQUUsR0FBSSxJQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxRQUFRLEVBQUUsRUFBRSxVQUFVLEFBQUksRUFBRSxTQUFOLEVBQWEsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU8sVUFBUyxFQUFFLEVBQUUsR0FBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxHQUFFLEVBQUUsZUFBZSxHQUFFLEVBQUUsYUFBYSxHQUFFLEVBQUUsbUJBQW1CLEdBQUUsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsT0FBcUQsRUFBRSxTQUFTLEVBQUUsRUFBRSxHQUFFLENBQUMsQUFBUyxJQUFULFFBQWEsR0FBRSxJQUFHLEdBQUksR0FBRSxHQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sSUFBSSxHQUFFLEdBQUcsTUFBTyxJQUFFLFFBQVMsU0FBUyxHQUFFLENBQUMsR0FBSSxJQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBSSxLQUFLLElBQUUsS0FBSyxJQUFFLEdBQUUsSUFBSSxHQUFFLEVBQUUsSUFBRyxHQUFFLElBQUcsQUFBYyxLQUFkLFlBQWlCLElBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxHQUFFLElBQUksR0FBRSxJQUFHLElBQUcsR0FBRSxNQUFNLENBQUMsRUFBRSxLQUFJLEdBQUcsRUFBRUosc0JBQUUsSUFBSSxLQUFJLEdBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEVBQUUsR0FBRSxFQUFFLENBQUMsR0FBSSxJQUFFLEtBQUssR0FBRSxLQUFLLEdBQUUsRUFBRSxF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RSxFQUFFLFVBQVUsTUFBTyxHQUFFLGFBQWEsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLElBQUksRUFBRSxLQUFLLFlBQVksRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLElBQUksRUFBRSxhQUFhLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxXQUFXLEtBQUssWUFBWSxJQUFJLEVBQUUsYUFBYSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRSxXQUFXLEtBQUssWUFBWSxHQUFHLEtBQUssYUFBYSxFQUFFLEdBQUcsS0FBSyxhQUFhLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxZQUFZLEVBQUUsQ0FBQyxPQUFRLEdBQUUsVUFBVSxPQUFPLEVBQUUsR0FBSSxPQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsVUFBVSxHQUFHLEdBQUksR0FBRSxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsT0FBTyxJQUFJLEVBQUUsYUFBYSxHQUFHLEtBQUssVUFBVSxJQUFJLEVBQUUsR0FBSSxJQUFHLEVBQUUsR0FBRyxXQUFXLEVBQUUsQ0FBQyxHQUFJLEdBQUUsS0FBSyxFQUFFLEtBQUssRUFBRXlDLHNCQUFFLElBQUksRUFBRU8sa0JBQUUsRUFBRSxtQkFBbUIsSUFBSSxRQUFRLE1BQXlvQixHQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUdDLDJCQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLE1BQU8sR0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxDQUFDLE1BQU8sR0FBRSxhQUFhLEVBQUUsS0FBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxLQUFLLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLFNB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T0FBWSxVQUFVLEdBQUksT0FBTyxPQUFPLFVBQVUsUUFBVSxHQUFLLE9BQVksVUFBVSxJQUFLLE9BQU8sT0FBTyxVQUFVLFFBQVUsR0FBSyxPQUFZLFVBQVUsSUFBSyxrQkFBa0IsT0FBT0MsR0FBNEIsTUFBTSxLQUFLLEtBSWo3QixHQUFJQyxJQUFVLENBQUMsT0FBUUMsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksT0FDanhDRCxHQ1ZYRSxHQUFRLENBQ1YsYUFBYyxNQUVEQSxHQ0ZBLFlBQTRCLEVBQUssQ0FDOUMsR0FBSSxNQUFNLFFB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QixNQUEwQixHQUFHLEVBQUcsUUFBUSxFQUFHLFFBQVEsRUFBRyxRQUFRLEVBQUcsbUJBQW1CLE1BQTZCLEdBQUcsRUFBRyxRQUFRLEVBQUcsUUFBUSxFQUFHLFNBQVMsRUFBRyxvQkFBb0IsT0FBK0IsS0FBSyxLQUlyUixLQUFNLElBQVUsQ0FBQyxPQUFRLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNseUMsT0FBZSxHQ1JmLEtBQU1zSyxJQUFZLENBQUMsV0FBWSxTQUFVLFNBRzVCLEdBQVMsQ0FFcEIsVUFBVywrQkFHWCxRQUFTLCtCQUVULE9BQVEsNkJBRVIsTUFBTyxn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QVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQzFCLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN0RixPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDdEYsT0FBVSxJQUFNLE9BQVUsSUFDMUIsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxLQUFNLE9BQVUsS0FDMUIsT0FBVSxLQUFNLE9BQVUsS0FDMUIsT0FBVSxLQUFNLE9BQVUsS0FJeEIsR0FBYyxDQUNoQixJQUFLLFFBQ0wsSUFBSyxPQUNMLElBQUssT0FDTCxJQUFLLFNBQ0wsSUFBSyxTQUlILEdBQWdCLENBQ2xCLFFBQVMsSUFDVCxPQUFRLElBQ1IsT0FBUSxJQUNSLFNBQVUsSUFDVixRQUFTLEtBSVAsR0FBZ0IsQ0FDbEIsS0FBTSxLQUNOLElBQUssSUFDTCxLQUFNLElBQ04sS0FBTSxJQUNOLFNBQVUsUUFDVixTQUFVLFNBSVIsR0FBaUIsV0FDakIsR0FBZSxTQUdmLEdBQWEsTUFBT0MsS0FBVSxVQUFZQSxJQUFVQSxHQUFPLFNBQVcsUUFBVUEsR0FHaEYsR0FBVyxNQUFPLE9BQVEsVUFBWSxNQUFRLEtBQUssU0FBVyxRQUFVLEtBR3hFLEdBQU8sSUFBYyxJQUFZLFNBQVMsaUJBRzFDLEdBQTRDLEdBQVcsQ0FBQyxFQUFRLFVBQVksRUFHNUUsR0FBYSxJQUFlLElBQTZCLEdBQVUsQ0FBQyxFQUFPLFVBQVksRUFHdkYsR0FBZ0IsSUFBYyxHQUFXLFVBQVksR0FHckQsR0FBYyxJQUFpQixHQUFXLFFBRzFDLEdBQVksVUFBVyxDQUN6QixHQUFJLENBRUYsR0FBSSxHQUFRLElBQWMsR0FBVyxTQUFXLEdBQVcsUUFBUSxRQUFRLE1BRTNFLE1BQUksSUFLRyxJQUFlLEdBQVksU0FBVyxHQUFZLFFBQVEsY0FDMUQsRUFBUCxNQUlBLEdBQW9CLElBQVksR0FBUyxjQUN6QyxHQUFhLElBQVksR0FBUyxPQUNsQyxHQUFZLElBQVksR0FBUyxNQUNqQyxHQUFlLElBQVksR0FBUyxTQUNwQyxHQUFZLElBQVksR0FBUyxNQUNqQyxHQUFtQixJQUFZLEdBQVMsYUFjNUMsWUFBZSxFQUFNLEVBQVMsRUFBTSxDQUNsQyxPQUFRLEVBQUssWUFDTixHQUFHLE1BQU8sR0FBSyxLQUFLLE9BQ3BCLEdBQUcsTUFBTyxHQUFLLEtBQUssRUFBUyxFQUFLLFFBQ2xDLEdBQUcsTUFBTyxHQUFLLEtBQUssRUFBUyxFQUFLLEdBQUksRUFBSyxRQUMzQyxHQUFHLE1BQU8sR0FBSyxLQUFLLEVBQVMsRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLElBRTNELE1BQU8sR0FBSyxNQUFNLEVBQVMsR0FhN0IsWUFBeUIsRUFBTyxFQUFRLEVBQVUsR0FBYSxDQUk3RCxPQUhJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsRUFBRSxHQUFRLElBQVEsQ0FDdkIsR0FBSSxJQUFRLEVBQU0sSUFDbEIsRUFBTyxHQUFhLEdBQU8sRUFBUyxJQUFRLEdBRTlDLE1BQU8sSUFZVCxZQUFtQixFQUFPLEVBQVUsQ0FJbEMsT0FISSxHQUFRLEdBQ1IsR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BRWhDLEVBQUUsRUFBUSxJQUNYLEVBQVMsRUFBTSxHQUFRLEVBQU8sS0FBVyxJQUE3QyxDQUlGLE1BQU8sR0FZVCxZQUF3QixFQUFPLEVBQVUsQ0FHdkMsT0FGSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsS0FDRCxFQUFTLEVBQU0sR0FBUyxFQUFRLEtBQVcsSUFBL0MsQ0FJRixNQUFPLEdBYVQsWUFBb0IsRUFBTyxFQUFXLENBSXBDLE9BSEksR0FBUSxHQUNSLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUVoQyxFQUFFLEVBQVEsSUFDZixHQUFJLENBQUMsRUFBVSxFQUFNLEdBQVEsRUFBTyxHQUNsQyxNQUFPLEdBR1gsTUFBTyxHQVlULFlBQXFCLEVBQU8sRUFBVyxDQU1yQyxPQUxJLEdBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDbkMsR0FBVyxFQUNYLEdBQVMsR0FFTixFQUFFLEVBQVEsSUFBUSxDQUN2QixHQUFJLElBQVEsRUFBTSxHQUNsQixBQUFJLEVBQVUsR0FBTyxFQUFPLElBQzFCLElBQU8sTUFBYyxJQUd6QixNQUFPLElBWVQsWUFBdUIsRUFBTyxFQUFPLENBQ25DLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQU8sQ0FBQyxDQUFDLEdBQVUsR0FBWSxFQUFPLEVBQU8sR0FBSyxHQVlwRCxZQUEyQixFQUFPLEVBQU8sRUFBWSxDQUluRCxPQUhJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsRUFBRSxHQUFRLElBQ2YsR0FBSSxFQUFXLEVBQU8sRUFBTSxLQUMxQixNQUFPLEdBR1gsTUFBTyxHQVlULFlBQWtCLEVBQU8sRUFBVSxDQUtqQyxPQUpJLEdBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDbkMsR0FBUyxNQUFNLElBRVosRUFBRSxFQUFRLElBQ2YsR0FBTyxHQUFTLEVBQVMsRUFBTSxHQUFRLEVBQU8sR0FFaEQsTUFBTyxJQVdULFlBQW1CLEVBQU8sRUFBUSxDQUtoQyxPQUpJLEdBQVEsR0FDUixHQUFTLEVBQU8sT0FDaEIsR0FBUyxFQUFNLE9BRVosRUFBRSxFQUFRLElBQ2YsRUFBTSxHQUFTLEdBQVMsRUFBTyxHQUVqQyxNQUFPLEdBZVQsWUFBcUIsRUFBTyxFQUFVLEVBQWEsR0FBVyxDQUM1RCxHQUFJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FLdkMsSUFISSxJQUFhLElBQ2YsR0FBYyxFQUFNLEVBQUUsS0FFakIsRUFBRSxHQUFRLElBQ2YsRUFBYyxFQUFTLEVBQWEsRUFBTSxJQUFRLEdBQU8sR0FFM0QsTUFBTyxHQWVULFlBQTBCLEVBQU8sRUFBVSxFQUFhLEdBQVcsQ0FDakUsR0FBSSxJQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FJdkMsSUFISSxJQUFhLElBQ2YsR0FBYyxFQUFNLEVBQUUsS0FFakIsTUFDTCxFQUFjLEVBQVMsRUFBYSxFQUFNLElBQVMsR0FBUSxHQUU3RCxNQUFPLEdBYVQsWUFBbUIsRUFBTyxFQUFXLENBSW5DLE9BSEksR0FBUSxHQUNSLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUVoQyxFQUFFLEVBQVEsSUFDZixHQUFJLEVBQVUsRUFBTSxHQUFRLEVBQU8sR0FDakMsTUFBTyxHQUdYLE1BQU8sR0FVVCxHQUFJLElBQVksR0FBYSxVQVM3QixZQUFzQixFQUFRLENBQzVCLE1BQU8sR0FBTyxNQUFNLElBVXRCLFlBQW9CLEVBQVEsQ0FDMUIsTUFBTyxHQUFPLE1BQU0sS0FBZ0IsR0FjdEMsWUFBcUIsRUFBWSxFQUFXLEVBQVUsQ0FDcEQsR0FBSSxJQUNKLFNBQVMsRUFBWSxTQUFTLEdBQU8sR0FBSyxHQUFZLENBQ3BELEdBQUksRUFBVSxHQUFPLEdBQUssSUFDeEIsVUFBUyxHQUNGLEtBR0osR0FjVCxZQUF1QixFQUFPLEVBQVcsRUFBVyxHQUFXLENBSTdELE9BSEksSUFBUyxFQUFNLE9BQ2YsR0FBUSxFQUFhLElBQVksRUFBSSxJQUVqQyxHQUFZLEtBQVUsRUFBRSxHQUFRLElBQ3RDLEdBQUksRUFBVSxFQUFNLElBQVEsR0FBTyxHQUNqQyxNQUFPLElBR1gsTUFBTyxHQVlULFlBQXFCLEVBQU8sRUFBTyxFQUFXLENBQzVDLE1BQU8sS0FBVSxFQUNiLEdBQWMsRUFBTyxFQUFPLEdBQzVCLEdBQWMsRUFBTyxHQUFXLEdBYXRDLFlBQXlCLEVBQU8sRUFBTyxFQUFXLEdBQVksQ0FJNUQsT0FISSxJQUFRLEVBQVksRUFDcEIsR0FBUyxFQUFNLE9BRVosRUFBRSxHQUFRLElBQ2YsR0FBSSxHQUFXLEVBQU0sSUFBUSxHQUMzQixNQUFPLElBR1gsTUFBTyxHQVVULFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxLQUFVLEVBWW5CLFlBQWtCLEVBQU8sRUFBVSxDQUNqQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVUsR0FBUSxFQUFPLEdBQVksRUFBVSxFQVV4RCxZQUFzQixFQUFLLENBQ3pCLE1BQU8sVUFBUyxFQUFRLENBQ3RCLE1BQU8sSUFBVSxLQUFPRCxFQUFZLEVBQU8sSUFXL0MsWUFBd0IsRUFBUSxDQUM5QixNQUFPLFVBQVMsRUFBSyxDQUNuQixNQUFPLElBQVUsS0FBT0EsRUFBWSxFQUFPLElBaUIvQyxZQUFvQixFQUFZLEVBQVUsRUFBYSxHQUFXLEdBQVUsQ0FDMUUsVUFBUyxFQUFZLFNBQVMsR0FBTyxHQUFPLEdBQVksQ0FDdEQsRUFBYyxHQUNULElBQVksR0FBTyxJQUNwQixFQUFTLEVBQWEsR0FBTyxHQUFPLE1BRW5DLEVBYVQsWUFBb0IsRUFBTyxFQUFVLENBQ25DLEdBQUksR0FBUyxFQUFNLE9BR25CLElBREEsRUFBTSxLQUFLLEdBQ0osS0FDTCxFQUFNLEdBQVUsRUFBTSxHQUFRLE1BRWhDLE1BQU8sR0FZVCxZQUFpQixFQUFPLEVBQVUsQ0FLaEMsT0FKSSxHQUNBLEdBQVEsR0FDUixHQUFTLEVBQU0sT0FFWixFQUFFLEdBQVEsSUFBUSxDQUN2QixHQUFJLElBQVUsRUFBUyxFQUFNLEtBQzdCLEFBQUksS0FBWUEsR0FDZCxHQUFTLElBQVdBLEVBQVksR0FBVyxFQUFTLElBR3hELE1BQU8sR0FZVCxZQUFtQixFQUFHLEVBQVUsQ0FJOUIsT0FISSxHQUFRLEdBQ1IsR0FBUyxNQUFNLEdBRVosRUFBRSxFQUFRLEdBQ2YsR0FBTyxHQUFTLEVBQVMsR0FFM0IsTUFBTyxJQVlULFlBQXFCLEVBQVEsRUFBTyxDQUNsQyxNQUFPLElBQVMsRUFBTyxTQUFTLEVBQUssQ0FDbkMsTUFBTyxDQUFDLEVBQUssRUFBTyxNQVd4QixZQUFrQixFQUFRLENBQ3hCLE1BQU8sSUFDSCxFQUFPLE1BQU0sRUFBRyxHQUFnQixHQUFVLEdBQUcsUUFBUSxHQUFhLElBV3hFLFlBQW1CLEVBQU0sQ0FDdkIsTUFBTyxVQUFTLEVBQU8sQ0FDckIsTUFBTyxHQUFLLElBY2hCLFlBQW9CLEVBQVEsRUFBTyxDQUNqQyxNQUFPLElBQVMsRUFBTyxTQUFTLEVBQUssQ0FDbkMsTUFBTyxHQUFPLEtBWWxCLFlBQWtCLEVBQU8sRUFBSyxDQUM1QixNQUFPLEdBQU0sSUFBSSxHQVluQixZQUF5QixFQUFZLEVBQVksQ0FJL0MsT0FISSxHQUFRLEdBQ1IsR0FBUyxFQUFXLE9BRWpCLEVBQUUsRUFBUSxJQUFVLEdBQVksRUFBWSxFQUFXLEdBQVEsR0FBSyxJQUFJLENBQy9FLE1BQU8sR0FZVCxZQUF1QixFQUFZLEVBQVksQ0FHN0MsT0FGSSxHQUFRLEVBQVcsT0FFaEIsS0FBVyxHQUFZLEVBQVksRUFBVyxHQUFRLEdBQUssSUFBSSxDQUN0RSxNQUFPLEdBV1QsWUFBc0IsRUFBTyxFQUFhLENBSXhDLE9BSEksR0FBUyxFQUFNLE9BQ2YsR0FBUyxFQUVOLEtBQ0wsQUFBSSxFQUFNLEtBQVksR0FDcEIsRUFBRSxHQUdOLE1BQU8sSUFXVCxHQUFJLElBQWUsR0FBZSxJQVM5QixHQUFpQixHQUFlLElBU3BDLFlBQTBCLEVBQUssQ0FDN0IsTUFBTyxLQUFPLEdBQWMsR0FXOUIsWUFBa0IsRUFBUSxFQUFLLENBQzdCLE1BQU8sSUFBVSxLQUFPQSxFQUFZLEVBQU8sR0FVN0MsWUFBb0IsRUFBUSxDQUMxQixNQUFPLElBQWEsS0FBSyxHQVUzQixZQUF3QixFQUFRLENBQzlCLE1BQU8sSUFBaUIsS0FBSyxHQVUvQixZQUF5QixFQUFVLENBSWpDLE9BSEksR0FDQSxFQUFTLEdBRU4sQ0FBRSxHQUFPLEVBQVMsUUFBUSxNQUMvQixFQUFPLEtBQUssRUFBSyxPQUVuQixNQUFPLEdBVVQsWUFBb0IsRUFBSyxDQUN2QixHQUFJLEdBQVEsR0FDUixFQUFTLE1BQU0sRUFBSSxNQUV2QixTQUFJLFFBQVEsU0FBUyxHQUFPLEdBQUssQ0FDL0IsRUFBTyxFQUFFLEdBQVMsQ0FBQyxHQUFLLE1BRW5CLEVBV1QsWUFBaUIsRUFBTSxFQUFXLENBQ2hDLE1BQU8sVUFBUyxFQUFLLENBQ25CLE1BQU8sR0FBSyxFQUFVLEtBYTFCLFlBQXdCLEVBQU8sRUFBYSxDQU0xQyxPQUxJLEdBQVEsR0FDUixHQUFTLEVBQU0sT0FDZixHQUFXLEVBQ1gsR0FBUyxHQUVOLEVBQUUsRUFBUSxJQUFRLENBQ3ZCLEdBQUksSUFBUSxFQUFNLEdBQ2xCLEFBQUksTUFBVSxHQUFlLEtBQVUsSUFDckMsR0FBTSxHQUFTLEVBQ2YsR0FBTyxNQUFjLEdBR3pCLE1BQU8sSUFVVCxZQUFvQixFQUFLLENBQ3ZCLEdBQUksR0FBUSxHQUNSLEVBQVMsTUFBTSxFQUFJLE1BRXZCLFNBQUksUUFBUSxTQUFTLEdBQU8sQ0FDMUIsRUFBTyxFQUFFLEdBQVMsS0FFYixFQVVULFlBQW9CLEVBQUssQ0FDdkIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxNQUFNLEVBQUksTUFFdkIsU0FBSSxRQUFRLFNBQVMsR0FBTyxDQUMxQixFQUFPLEVBQUUsR0FBUyxDQUFDLEdBQU8sTUFFckIsRUFhVCxZQUF1QixFQUFPLEVBQU8sRUFBVyxDQUk5QyxPQUhJLElBQVEsRUFBWSxFQUNwQixHQUFTLEVBQU0sT0FFWixFQUFFLEdBQVEsSUFDZixHQUFJLEVBQU0sTUFBVyxFQUNuQixNQUFPLElBR1gsTUFBTyxHQWFULFlBQTJCLEVBQU8sRUFBTyxFQUFXLENBRWxELE9BREksSUFBUSxFQUFZLEVBQ2pCLE1BQ0wsR0FBSSxFQUFNLE1BQVcsRUFDbkIsTUFBTyxJQUdYLE1BQU8sSUFVVCxZQUFvQixFQUFRLENBQzFCLE1BQU8sSUFBVyxHQUNkLEdBQVksR0FDWixHQUFVLEdBVWhCLFlBQXVCLEVBQVEsQ0FDN0IsTUFBTyxJQUFXLEdBQ2QsR0FBZSxHQUNmLEdBQWEsR0FXbkIsWUFBeUIsRUFBUSxDQUcvQixPQUZJLEdBQVEsRUFBTyxPQUVaLEtBQVcsR0FBYSxLQUFLLEVBQU8sT0FBTyxLQUFTLENBQzNELE1BQU8sR0FVVCxHQUFJLElBQW1CLEdBQWUsSUFTdEMsWUFBcUIsRUFBUSxDQUUzQixPQURJLEdBQVMsR0FBVSxVQUFZLEVBQzVCLEdBQVUsS0FBSyxJQUNwQixFQUFFLEVBRUosTUFBTyxHQVVULFlBQXdCLEVBQVEsQ0FDOUIsTUFBTyxHQUFPLE1BQU0sS0FBYyxHQVVwQyxZQUFzQixFQUFRLENBQzVCLE1BQU8sR0FBTyxNQUFNLEtBQWtCLEdBa0N4QyxHQUFJLElBQWdCLFdBQXNCLEVBQVMsQ0FDakQsRUFBVSxHQUFXLEtBQU8sR0FBTyxHQUFFLFNBQVMsR0FBSyxTQUFVLEVBQVMsR0FBRSxLQUFLLEdBQU0sS0FHbkYsR0FBSSxHQUFRLEVBQVEsTUFDaEIsR0FBTyxFQUFRLEtBQ2YsR0FBUSxFQUFRLE1BQ2hCLEdBQVcsRUFBUSxTQUNuQixHQUFPLEVBQVEsS0FDZixHQUFTLEVBQVEsT0FDakIsR0FBUyxFQUFRLE9BQ2pCLEdBQVMsRUFBUSxPQUNqQixHQUFZLEVBQVEsVUFHcEIsR0FBYSxFQUFNLFVBQ25CLEdBQVksR0FBUyxVQUNyQixHQUFjLEdBQU8sVUFHckIsR0FBYSxFQUFRLHNCQUdyQixHQUFlLEdBQVUsU0FHekIsR0FBaUIsR0FBWSxlQUc3QixHQUFZLEVBR1osR0FBYyxVQUFXLENBQzNCLEdBQUksR0FBTSxTQUFTLEtBQUssSUFBYyxHQUFXLE1BQVEsR0FBVyxLQUFLLFVBQVksSUFDckYsTUFBTyxHQUFPLGlCQUFtQixFQUFPLE1BUXRDLEdBQXVCLEdBQVksU0FHbkMsR0FBbUIsR0FBYSxLQUFLLElBR3JDLEdBQVUsR0FBSyxFQUdmLEdBQWEsR0FBTyxJQUN0QixHQUFhLEtBQUssSUFBZ0IsUUFBUSxHQUFjLFFBQ3ZELFFBQVEseURBQTBELFNBQVcsS0FJNUUsR0FBUyxHQUFnQixFQUFRLE9BQVNBLEVBQzFDLEdBQVMsRUFBUSxPQUNqQixHQUFhLEVBQVEsV0FDckIsR0FBYyxHQUFTLEdBQU8sWUFBY0EsRUFDNUMsR0FBZSxHQUFRLEdBQU8sZUFBZ0IsSUFDOUMsR0FBZSxHQUFPLE9BQ3RCLEdBQXVCLEdBQVkscUJBQ25DLEdBQVMsR0FBVyxPQUNwQixHQUFtQixHQUFTLEdBQU8sbUJBQXFCQSxFQUN4RCxHQUFjLEdBQVMsR0FBTyxTQUFXQSxFQUN6QyxHQUFpQixHQUFTLEdBQU8sWUFBY0EsRUFFL0MsR0FBa0IsVUFBVyxDQUMvQixHQUFJLENBQ0YsR0FBSSxHQUFPLEdBQVUsR0FBUSxrQkFDN0IsU0FBSyxHQUFJLEdBQUksSUFDTixRQUNBLEVBQVAsTUFJQSxHQUFrQixFQUFRLGVBQWlCLEdBQUssY0FBZ0IsRUFBUSxhQUN4RSxHQUFTLElBQVEsR0FBSyxNQUFRLEdBQUssS0FBSyxLQUFPLEdBQUssSUFDcEQsR0FBZ0IsRUFBUSxhQUFlLEdBQUssWUFBYyxFQUFRLFdBR2xFLEdBQWEsR0FBSyxLQUNsQixHQUFjLEdBQUssTUFDbkIsR0FBbUIsR0FBTyxzQkFDMUIsR0FBaUIsR0FBUyxHQUFPLFNBQVdBLEVBQzVDLEdBQWlCLEVBQVEsU0FDekIsR0FBYSxHQUFXLEtBQ3hCLEdBQWEsR0FBUSxHQUFPLEtBQU0sSUFDbEMsR0FBWSxHQUFLLElBQ2pCLEdBQVksR0FBSyxJQUNqQixHQUFZLEdBQUssSUFDakIsR0FBaUIsRUFBUSxTQUN6QixHQUFlLEdBQUssT0FDcEIsR0FBZ0IsR0FBVyxRQUczQixHQUFXLEdBQVUsRUFBUyxZQUM5QixHQUFNLEdBQVUsRUFBUyxPQUN6QixHQUFVLEdBQVUsRUFBUyxXQUM3QixHQUFNLEdBQVUsRUFBUyxPQUN6QixHQUFVLEdBQVUsRUFBUyxXQUM3QixHQUFlLEdBQVUsR0FBUSxVQUdqQyxHQUFVLElBQVcsR0FBSSxJQUd6QixHQUFZLEdBR1osR0FBcUIsR0FBUyxJQUM5QixHQUFnQixHQUFTLElBQ3pCLEdBQW9CLEdBQVMsSUFDN0IsR0FBZ0IsR0FBUyxJQUN6QixHQUFvQixHQUFTLElBRzdCLEdBQWMsR0FBUyxHQUFPLFVBQVlBLEVBQzFDLEdBQWdCLEdBQWMsR0FBWSxRQUFVQSxFQUNwRCxHQUFpQixHQUFjLEdBQVksU0FBV0EsRUF5SDFELFdBQWdCLEVBQU8sQ0FDckIsR0FBSSxHQUFhLElBQVUsQ0FBQyxHQUFRLElBQVUsQ0FBRSxhQUFpQixLQUFjLENBQzdFLEdBQUksWUFBaUIsSUFDbkIsTUFBTyxHQUVULEdBQUksR0FBZSxLQUFLLEVBQU8sZUFDN0IsTUFBTyxJQUFhLEdBR3hCLE1BQU8sSUFBSSxJQUFjLEdBVzNCLEdBQUksSUFBYyxVQUFXLENBQzNCLFlBQWtCLEVBQ2xCLE1BQU8sVUFBUyxFQUFPLENBQ3JCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUVULEdBQUksR0FDRixNQUFPLElBQWEsR0FFdEIsRUFBTyxVQUFZLEVBQ25CLEdBQUksR0FBUyxHQUFJLEdBQ2pCLFNBQU8sVUFBWUEsRUFDWixNQVNYLGFBQXNCLEVBV3RCLFlBQXVCLEVBQU8sRUFBVSxDQUN0QyxLQUFLLFlBQWMsRUFDbkIsS0FBSyxZQUFjLEdBQ25CLEtBQUssVUFBWSxDQUFDLENBQUMsRUFDbkIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssV0FBYUEsRUFZcEIsRUFBTyxpQkFBbUIsQ0FReEIsT0FBVSxHQVFWLFNBQVksR0FRWixZQUFlLEdBUWYsU0FBWSxHQVFaLFFBQVcsQ0FRVCxFQUFLLElBS1QsRUFBTyxVQUFZLEdBQVcsVUFDOUIsRUFBTyxVQUFVLFlBQWMsRUFFL0IsR0FBYyxVQUFZLEdBQVcsR0FBVyxXQUNoRCxHQUFjLFVBQVUsWUFBYyxHQVd0QyxZQUFxQixFQUFPLENBQzFCLEtBQUssWUFBYyxFQUNuQixLQUFLLFlBQWMsR0FDbkIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxhQUFlLEdBQ3BCLEtBQUssY0FBZ0IsR0FDckIsS0FBSyxjQUFnQixHQUNyQixLQUFLLFVBQVksR0FXbkIsYUFBcUIsQ0FDbkIsR0FBSSxHQUFTLEdBQUksSUFBWSxLQUFLLGFBQ2xDLFNBQU8sWUFBYyxHQUFVLEtBQUssYUFDcEMsRUFBTyxRQUFVLEtBQUssUUFDdEIsRUFBTyxhQUFlLEtBQUssYUFDM0IsRUFBTyxjQUFnQixHQUFVLEtBQUssZUFDdEMsRUFBTyxjQUFnQixLQUFLLGNBQzVCLEVBQU8sVUFBWSxHQUFVLEtBQUssV0FDM0IsRUFXVCxhQUF1QixDQUNyQixHQUFJLEtBQUssYUFBYyxDQUNyQixHQUFJLEdBQVMsR0FBSSxJQUFZLE1BQzdCLEVBQU8sUUFBVSxHQUNqQixFQUFPLGFBQWUsT0FFdEIsR0FBUyxLQUFLLFFBQ2QsRUFBTyxTQUFXLEdBRXBCLE1BQU8sR0FXVCxhQUFxQixDQUNuQixHQUFJLEdBQVEsS0FBSyxZQUFZLFFBQ3pCLEVBQU0sS0FBSyxRQUNYLEVBQVEsR0FBUSxHQUNoQixFQUFVLEVBQU0sRUFDaEIsRUFBWSxFQUFRLEVBQU0sT0FBUyxFQUNuQyxFQUFPLEdBQVEsRUFBRyxFQUFXLEtBQUssV0FDbEMsRUFBUSxFQUFLLE1BQ2IsRUFBTSxFQUFLLElBQ1gsRUFBUyxFQUFNLEVBQ2YsRUFBUSxFQUFVLEVBQU8sRUFBUSxFQUNqQyxFQUFZLEtBQUssY0FDakIsRUFBYSxFQUFVLE9BQ3ZCLEdBQVcsRUFDWCxHQUFZLEdBQVUsRUFBUSxLQUFLLGVBRXZDLEdBQUksQ0FBQyxHQUFVLENBQUMsR0FBVyxHQUFhLEdBQVUsSUFBYSxFQUM3RCxNQUFPLElBQWlCLEVBQU8sS0FBSyxhQUV0QyxHQUFJLElBQVMsR0FFYixFQUNBLEtBQU8sS0FBWSxHQUFXLElBQVcsQ0FDdkMsR0FBUyxFQUtULE9BSEksSUFBWSxHQUNaLEdBQVEsRUFBTSxHQUVYLEVBQUUsR0FBWSxHQUFZLENBQy9CLEdBQUksSUFBTyxFQUFVLElBQ2pCLEdBQVcsR0FBSyxTQUNoQixHQUFPLEdBQUssS0FDWixHQUFXLEdBQVMsSUFFeEIsR0FBSSxJQUFRLEVBQ1YsR0FBUSxXQUNDLENBQUMsR0FBVSxDQUNwQixHQUFJLElBQVEsRUFDVixXQUVBLFNBSU4sR0FBTyxNQUFjLEdBRXZCLE1BQU8sSUFJVCxHQUFZLFVBQVksR0FBVyxHQUFXLFdBQzlDLEdBQVksVUFBVSxZQUFjLEdBV3BDLFlBQWMsRUFBUyxDQUNyQixHQUFJLEdBQVEsR0FDUixFQUFTLEdBQVcsS0FBTyxFQUFJLEVBQVEsT0FHM0MsSUFEQSxLQUFLLFFBQ0UsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsR0FDcEIsS0FBSyxJQUFJLEVBQU0sR0FBSSxFQUFNLEtBVzdCLGFBQXFCLENBQ25CLEtBQUssU0FBVyxHQUFlLEdBQWEsTUFBUSxHQUNwRCxLQUFLLEtBQU8sRUFhZCxZQUFvQixFQUFLLENBQ3ZCLEdBQUksR0FBUyxLQUFLLElBQUksSUFBUSxNQUFPLE1BQUssU0FBUyxHQUNuRCxZQUFLLE1BQVEsRUFBUyxFQUFJLEVBQ25CLEVBWVQsWUFBaUIsRUFBSyxDQUNwQixHQUFJLEdBQU8sS0FBSyxTQUNoQixHQUFJLEdBQWMsQ0FDaEIsR0FBSSxHQUFTLEVBQUssR0FDbEIsTUFBTyxLQUFXLEVBQWlCQSxFQUFZLEVBRWpELE1BQU8sSUFBZSxLQUFLLEVBQU0sR0FBTyxFQUFLLEdBQU9BLEVBWXRELFlBQWlCLEVBQUssQ0FDcEIsR0FBSSxHQUFPLEtBQUssU0FDaEIsTUFBTyxJQUFnQixFQUFLLEtBQVNBLEVBQWEsR0FBZSxLQUFLLEVBQU0sR0FhOUUsWUFBaUIsRUFBSyxFQUFPLENBQzNCLEdBQUksR0FBTyxLQUFLLFNBQ2hCLFlBQUssTUFBUSxLQUFLLElBQUksR0FBTyxFQUFJLEVBQ2pDLEVBQUssR0FBUSxJQUFnQixJQUFVQSxFQUFhLEVBQWlCLEVBQzlELEtBSVQsR0FBSyxVQUFVLE1BQVEsR0FDdkIsR0FBSyxVQUFVLE9BQVksR0FDM0IsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FXckIsWUFBbUIsRUFBUyxDQUMxQixHQUFJLEdBQVEsR0FDUixFQUFTLEdBQVcsS0FBTyxFQUFJLEVBQVEsT0FHM0MsSUFEQSxLQUFLLFFBQ0UsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsR0FDcEIsS0FBSyxJQUFJLEVBQU0sR0FBSSxFQUFNLEtBVzdCLGFBQTBCLENBQ3hCLEtBQUssU0FBVyxHQUNoQixLQUFLLEtBQU8sRUFZZCxZQUF5QixFQUFLLENBQzVCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUSxHQUFhLEVBQU0sR0FFL0IsR0FBSSxFQUFRLEVBQ1YsTUFBTyxHQUVULEdBQUksR0FBWSxFQUFLLE9BQVMsRUFDOUIsTUFBSSxJQUFTLEVBQ1gsRUFBSyxNQUVMLEdBQU8sS0FBSyxFQUFNLEVBQU8sR0FFM0IsRUFBRSxLQUFLLEtBQ0EsR0FZVCxZQUFzQixFQUFLLENBQ3pCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUSxHQUFhLEVBQU0sR0FFL0IsTUFBTyxHQUFRLEVBQUlBLEVBQVksRUFBSyxHQUFPLEdBWTdDLFlBQXNCLEVBQUssQ0FDekIsTUFBTyxJQUFhLEtBQUssU0FBVSxHQUFPLEdBYTVDLFlBQXNCLEVBQUssRUFBTyxDQUNoQyxHQUFJLEdBQU8sS0FBSyxTQUNaLEVBQVEsR0FBYSxFQUFNLEdBRS9CLE1BQUksR0FBUSxFQUNWLEdBQUUsS0FBSyxLQUNQLEVBQUssS0FBSyxDQUFDLEVBQUssS0FFaEIsRUFBSyxHQUFPLEdBQUssRUFFWixLQUlULEdBQVUsVUFBVSxNQUFRLEdBQzVCLEdBQVUsVUFBVSxPQUFZLEdBQ2hDLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBVzFCLFlBQWtCLEVBQVMsQ0FDekIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxHQUFXLEtBQU8sRUFBSSxFQUFRLE9BRzNDLElBREEsS0FBSyxRQUNFLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxFQUFRLEdBQ3BCLEtBQUssSUFBSSxFQUFNLEdBQUksRUFBTSxLQVc3QixhQUF5QixDQUN2QixLQUFLLEtBQU8sRUFDWixLQUFLLFNBQVcsQ0FDZCxLQUFRLEdBQUksSUFDWixJQUFPLEdBQUssS0FBTyxJQUNuQixPQUFVLEdBQUksS0FhbEIsWUFBd0IsRUFBSyxDQUMzQixHQUFJLEdBQVMsR0FBVyxLQUFNLEdBQUssT0FBVSxHQUM3QyxZQUFLLE1BQVEsRUFBUyxFQUFJLEVBQ25CLEVBWVQsWUFBcUIsRUFBSyxDQUN4QixNQUFPLElBQVcsS0FBTSxHQUFLLElBQUksR0FZbkMsWUFBcUIsRUFBSyxDQUN4QixNQUFPLElBQVcsS0FBTSxHQUFLLElBQUksR0FhbkMsWUFBcUIsRUFBSyxFQUFPLENBQy9CLEdBQUksR0FBTyxHQUFXLEtBQU0sR0FDeEIsRUFBTyxFQUFLLEtBRWhCLFNBQUssSUFBSSxFQUFLLEdBQ2QsS0FBSyxNQUFRLEVBQUssTUFBUSxFQUFPLEVBQUksRUFDOUIsS0FJVCxHQUFTLFVBQVUsTUFBUSxHQUMzQixHQUFTLFVBQVUsT0FBWSxHQUMvQixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQVl6QixZQUFrQixFQUFRLENBQ3hCLEdBQUksR0FBUSxHQUNSLEVBQVMsR0FBVSxLQUFPLEVBQUksRUFBTyxPQUd6QyxJQURBLEtBQUssU0FBVyxHQUFJLElBQ2IsRUFBRSxFQUFRLEdBQ2YsS0FBSyxJQUFJLEVBQU8sSUFjcEIsWUFBcUIsRUFBTyxDQUMxQixZQUFLLFNBQVMsSUFBSSxFQUFPLEdBQ2xCLEtBWVQsWUFBcUIsRUFBTyxDQUMxQixNQUFPLE1BQUssU0FBUyxJQUFJLEdBSTNCLEdBQVMsVUFBVSxJQUFNLEdBQVMsVUFBVSxLQUFPLEdBQ25ELEdBQVMsVUFBVSxJQUFNLEdBV3pCLFlBQWUsRUFBUyxDQUN0QixHQUFJLEdBQU8sS0FBSyxTQUFXLEdBQUksSUFBVSxHQUN6QyxLQUFLLEtBQU8sRUFBSyxLQVVuQixhQUFzQixDQUNwQixLQUFLLFNBQVcsR0FBSSxJQUNwQixLQUFLLEtBQU8sRUFZZCxZQUFxQixFQUFLLENBQ3hCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUyxFQUFLLE9BQVUsR0FFNUIsWUFBSyxLQUFPLEVBQUssS0FDVixFQVlULFlBQWtCLEVBQUssQ0FDckIsTUFBTyxNQUFLLFNBQVMsSUFBSSxHQVkzQixZQUFrQixFQUFLLENBQ3JCLE1BQU8sTUFBSyxTQUFTLElBQUksR0FhM0IsWUFBa0IsRUFBSyxFQUFPLENBQzVCLEdBQUksR0FBTyxLQUFLLFNBQ2hCLEdBQUksWUFBZ0IsSUFBVyxDQUM3QixHQUFJLEdBQVEsRUFBSyxTQUNqQixHQUFJLENBQUMsSUFBUSxFQUFNLE9BQVMsRUFBbUIsRUFDN0MsU0FBTSxLQUFLLENBQUMsRUFBSyxJQUNqQixLQUFLLEtBQU8sRUFBRSxFQUFLLEtBQ1osS0FFVCxFQUFPLEtBQUssU0FBVyxHQUFJLElBQVMsR0FFdEMsU0FBSyxJQUFJLEVBQUssR0FDZCxLQUFLLEtBQU8sRUFBSyxLQUNWLEtBSVQsR0FBTSxVQUFVLE1BQVEsR0FDeEIsR0FBTSxVQUFVLE9BQVksR0FDNUIsR0FBTSxVQUFVLElBQU0sR0FDdEIsR0FBTSxVQUFVLElBQU0sR0FDdEIsR0FBTSxVQUFVLElBQU0sR0FZdEIsWUFBdUIsRUFBTyxFQUFXLENBQ3ZDLEdBQUksR0FBUSxHQUFRLEdBQ2hCLEVBQVEsQ0FBQyxHQUFTLEdBQVksR0FDOUIsRUFBUyxDQUFDLEdBQVMsQ0FBQyxHQUFTLEdBQVMsR0FDdEMsRUFBUyxDQUFDLEdBQVMsQ0FBQyxHQUFTLENBQUMsR0FBVSxHQUFhLEdBQ3JELEVBQWMsR0FBUyxHQUFTLEdBQVUsRUFDMUMsRUFBUyxFQUFjLEdBQVUsRUFBTSxPQUFRLElBQVUsR0FDekQsRUFBUyxFQUFPLE9BRXBCLE9BQVMsS0FBTyxHQUNkLEFBQUssSUFBYSxHQUFlLEtBQUssRUFBTyxLQUN6QyxDQUFFLElBRUMsSUFBTyxVQUVOLEdBQVcsSUFBTyxVQUFZLEdBQU8sV0FFckMsR0FBVyxJQUFPLFVBQVksR0FBTyxjQUFnQixHQUFPLGVBRTdELEdBQVEsRUFBSyxNQUVsQixFQUFPLEtBQUssR0FHaEIsTUFBTyxHQVVULFlBQXFCLEVBQU8sQ0FDMUIsR0FBSSxHQUFTLEVBQU0sT0FDbkIsTUFBTyxHQUFTLEVBQU0sR0FBVyxFQUFHLEVBQVMsSUFBTUEsRUFXckQsWUFBeUIsRUFBTyxFQUFHLENBQ2pDLE1BQU8sSUFBWSxHQUFVLEdBQVEsR0FBVSxFQUFHLEVBQUcsRUFBTSxTQVU3RCxZQUFzQixFQUFPLENBQzNCLE1BQU8sSUFBWSxHQUFVLElBWS9CLFlBQTBCLEVBQVEsRUFBSyxFQUFPLENBQzVDLEFBQUssS0FBVUEsR0FBYSxDQUFDLEdBQUcsRUFBTyxHQUFNLElBQ3hDLElBQVVBLEdBQWEsQ0FBRSxLQUFPLE1BQ25DLEdBQWdCLEVBQVEsRUFBSyxHQWNqQyxZQUFxQixFQUFRLEVBQUssRUFBTyxDQUN2QyxHQUFJLEdBQVcsRUFBTyxHQUN0QixBQUFJLEVBQUUsSUFBZSxLQUFLLEVBQVEsSUFBUSxHQUFHLEVBQVUsS0FDbEQsSUFBVUEsR0FBYSxDQUFFLEtBQU8sTUFDbkMsR0FBZ0IsRUFBUSxFQUFLLEdBWWpDLFlBQXNCLEVBQU8sRUFBSyxDQUVoQyxPQURJLEdBQVMsRUFBTSxPQUNaLEtBQ0wsR0FBSSxHQUFHLEVBQU0sR0FBUSxHQUFJLEdBQ3ZCLE1BQU8sR0FHWCxNQUFPLEdBY1QsWUFBd0IsRUFBWSxFQUFRLEVBQVUsRUFBYSxDQUNqRSxVQUFTLEVBQVksU0FBUyxFQUFPLEVBQUssRUFBWSxDQUNwRCxFQUFPLEVBQWEsRUFBTyxFQUFTLEdBQVEsS0FFdkMsRUFZVCxZQUFvQixFQUFRLEVBQVEsQ0FDbEMsTUFBTyxJQUFVLEdBQVcsRUFBUSxHQUFLLEdBQVMsR0FZcEQsWUFBc0IsRUFBUSxFQUFRLENBQ3BDLE1BQU8sSUFBVSxHQUFXLEVBQVEsR0FBTyxHQUFTLEdBWXRELFlBQXlCLEVBQVEsRUFBSyxFQUFPLENBQzNDLEFBQUksR0FBTyxhQUFlLEdBQ3hCLEdBQWUsRUFBUSxFQUFLLENBQzFCLGFBQWdCLEdBQ2hCLFdBQWMsR0FDZCxNQUFTLEVBQ1QsU0FBWSxLQUdkLEVBQU8sR0FBTyxFQVlsQixZQUFnQixFQUFRLEVBQU8sQ0FNN0IsT0FMSSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BQ2YsRUFBUyxFQUFNLEdBQ2YsRUFBTyxHQUFVLEtBRWQsRUFBRSxFQUFRLEdBQ2YsRUFBTyxHQUFTLEVBQU9BLEVBQVksR0FBSSxFQUFRLEVBQU0sSUFFdkQsTUFBTyxHQVlULFlBQW1CLEVBQVEsRUFBTyxFQUFPLENBQ3ZDLE1BQUksS0FBVyxHQUNULEtBQVVBLEdBQ1osR0FBUyxHQUFVLEVBQVEsRUFBUyxHQUVsQyxJQUFVQSxHQUNaLEdBQVMsR0FBVSxFQUFRLEVBQVMsSUFHakMsRUFtQlQsWUFBbUIsRUFBTyxFQUFTLEVBQVksRUFBSyxFQUFRLEVBQU8sQ0FDakUsR0FBSSxHQUNBLEVBQVMsRUFBVSxFQUNuQixFQUFTLEVBQVUsRUFDbkIsRUFBUyxFQUFVLEVBS3ZCLEdBSEksR0FDRixHQUFTLEVBQVMsRUFBVyxFQUFPLEVBQUssRUFBUSxHQUFTLEVBQVcsSUFFbkUsSUFBV0EsRUFDYixNQUFPLEdBRVQsR0FBSSxDQUFDLEdBQVMsR0FDWixNQUFPLEdBRVQsR0FBSSxHQUFRLEdBQVEsR0FDcEIsR0FBSSxHQUVGLEdBREEsRUFBUyxHQUFlLEdBQ3BCLENBQUMsRUFDSCxNQUFPLElBQVUsRUFBTyxPQUVyQixDQUNMLEdBQUksR0FBTSxHQUFPLEdBQ2IsR0FBUyxHQUFPLElBQVcsR0FBTyxHQUV0QyxHQUFJLEdBQVMsR0FDWCxNQUFPLElBQVksRUFBTyxHQUU1QixHQUFJLEdBQU8sSUFBYSxHQUFPLEdBQVksSUFBVSxDQUFDLEdBRXBELEdBREEsRUFBVSxHQUFVLEdBQVUsR0FBSyxHQUFnQixHQUMvQyxDQUFDLEVBQ0gsTUFBTyxHQUNILEdBQWMsRUFBTyxHQUFhLEVBQVEsSUFDMUMsR0FBWSxFQUFPLEdBQVcsRUFBUSxRQUV2QyxDQUNMLEdBQUksQ0FBQyxHQUFjLEdBQ2pCLE1BQU8sR0FBUyxFQUFRLEdBRTFCLEVBQVMsR0FBZSxFQUFPLEVBQUssSUFJeEMsR0FBVSxHQUFRLEdBQUksS0FDdEIsR0FBSSxJQUFVLEVBQU0sSUFBSSxHQUN4QixHQUFJLEdBQ0YsTUFBTyxJQUVULEVBQU0sSUFBSSxFQUFPLEdBRWpCLEFBQUksR0FBTSxHQUNSLEVBQU0sUUFBUSxTQUFTLEdBQVUsQ0FDL0IsRUFBTyxJQUFJLEdBQVUsR0FBVSxFQUFTLEVBQVksR0FBVSxFQUFPLE1BRTlELEdBQU0sSUFDZixFQUFNLFFBQVEsU0FBUyxHQUFVLEdBQUssQ0FDcEMsRUFBTyxJQUFJLEdBQUssR0FBVSxHQUFVLEVBQVMsRUFBWSxHQUFLLEVBQU8sTUFJekUsR0FBSSxJQUFXLEVBQ1YsRUFBUyxHQUFlLEdBQ3hCLEVBQVMsR0FBUyxHQUVuQixHQUFRLEVBQVFBLEVBQVksR0FBUyxHQUN6QyxVQUFVLElBQVMsRUFBTyxTQUFTLEdBQVUsR0FBSyxDQUNoRCxBQUFJLElBQ0YsSUFBTSxHQUNOLEdBQVcsRUFBTSxLQUduQixHQUFZLEVBQVEsR0FBSyxHQUFVLEdBQVUsRUFBUyxFQUFZLEdBQUssRUFBTyxNQUV6RSxFQVVULFlBQXNCLEVBQVEsQ0FDNUIsR0FBSSxHQUFRLEdBQUssR0FDakIsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsTUFBTyxJQUFlLEVBQVEsRUFBUSxJQVkxQyxZQUF3QixFQUFRLEVBQVEsRUFBTyxDQUM3QyxHQUFJLEdBQVMsRUFBTSxPQUNuQixHQUFJLEdBQVUsS0FDWixNQUFPLENBQUMsRUFHVixJQURBLEVBQVMsR0FBTyxHQUNULEtBQVUsQ0FDZixHQUFJLEdBQU0sRUFBTSxHQUNaLEVBQVksRUFBTyxHQUNuQixFQUFRLEVBQU8sR0FFbkIsR0FBSyxJQUFVQSxHQUFhLENBQUUsS0FBTyxLQUFZLENBQUMsRUFBVSxHQUMxRCxNQUFPLEdBR1gsTUFBTyxHQWFULFlBQW1CLEVBQU0sRUFBTSxFQUFNLENBQ25DLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLE1BQU8sSUFBVyxVQUFXLENBQUUsRUFBSyxNQUFNQSxFQUFXLElBQVUsR0FjakUsWUFBd0IsRUFBTyxFQUFRLEVBQVUsRUFBWSxDQUMzRCxHQUFJLEdBQVEsR0FDUixFQUFXLEdBQ1gsRUFBVyxHQUNYLEVBQVMsRUFBTSxPQUNmLEVBQVMsR0FDVCxFQUFlLEVBQU8sT0FFMUIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEFBQUksR0FDRixHQUFTLEdBQVMsRUFBUSxHQUFVLEtBRXRDLEFBQUksRUFDRixHQUFXLEdBQ1gsRUFBVyxJQUVKLEVBQU8sUUFBVSxHQUN4QixHQUFXLEdBQ1gsRUFBVyxHQUNYLEVBQVMsR0FBSSxJQUFTLElBRXhCLEVBQ0EsS0FBTyxFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBTSxHQUNkLEVBQVcsR0FBWSxLQUFPLEVBQVEsRUFBUyxHQUduRCxHQURBLEVBQVMsR0FBYyxJQUFVLEVBQUssRUFBUSxFQUMxQyxHQUFZLElBQWEsRUFBVSxDQUVyQyxPQURJLElBQWMsRUFDWCxNQUNMLEdBQUksRUFBTyxNQUFpQixFQUMxQixXQUdKLEVBQU8sS0FBSyxPQUVULEFBQUssR0FBUyxFQUFRLEVBQVUsSUFDbkMsRUFBTyxLQUFLLEdBR2hCLE1BQU8sR0FXVCxHQUFJLElBQVcsR0FBZSxJQVUxQixHQUFnQixHQUFlLEdBQWlCLElBV3BELFlBQW1CLEVBQVksRUFBVyxDQUN4QyxHQUFJLEdBQVMsR0FDYixVQUFTLEVBQVksU0FBUyxFQUFPLEVBQU8sRUFBWSxDQUN0RCxTQUFTLENBQUMsQ0FBQyxFQUFVLEVBQU8sRUFBTyxHQUM1QixJQUVGLEVBYVQsWUFBc0IsRUFBTyxFQUFVLEVBQVksQ0FJakQsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BRVosRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFVLEVBQVMsR0FFdkIsR0FBSSxHQUFXLE1BQVMsS0FBYUEsRUFDNUIsSUFBWSxHQUFXLENBQUMsR0FBUyxHQUNsQyxFQUFXLEVBQVMsSUFFMUIsR0FBSSxHQUFXLEVBQ1gsRUFBUyxFQUdqQixNQUFPLEdBYVQsWUFBa0IsRUFBTyxFQUFPLEVBQU8sRUFBSyxDQUMxQyxHQUFJLEdBQVMsRUFBTSxPQVduQixJQVRBLEVBQVEsR0FBVSxHQUNkLEVBQVEsR0FDVixHQUFRLENBQUMsRUFBUSxFQUFTLEVBQUssRUFBUyxHQUUxQyxFQUFPLElBQVFBLEdBQWEsRUFBTSxFQUFVLEVBQVMsR0FBVSxHQUMzRCxFQUFNLEdBQ1IsSUFBTyxHQUVULEVBQU0sRUFBUSxFQUFNLEVBQUksR0FBUyxHQUMxQixFQUFRLEdBQ2IsRUFBTSxLQUFXLEVBRW5CLE1BQU8sR0FXVCxZQUFvQixFQUFZLEVBQVcsQ0FDekMsR0FBSSxHQUFTLEdBQ2IsVUFBUyxFQUFZLFNBQVMsRUFBTyxFQUFPLEVBQVksQ0FDdEQsQUFBSSxFQUFVLEVBQU8sRUFBTyxJQUMxQixFQUFPLEtBQUssS0FHVCxFQWNULFlBQXFCLEVBQU8sRUFBTyxFQUFXLEVBQVUsRUFBUSxDQUM5RCxHQUFJLEdBQVEsR0FDUixFQUFTLEVBQU0sT0FLbkIsSUFIQSxHQUFjLEdBQVksSUFDMUIsR0FBVyxHQUFTLElBRWIsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDbEIsQUFBSSxFQUFRLEdBQUssRUFBVSxHQUN6QixBQUFJLEVBQVEsRUFFVixHQUFZLEVBQU8sRUFBUSxFQUFHLEVBQVcsRUFBVSxHQUVuRCxHQUFVLEVBQVEsR0FFVixHQUNWLEdBQU8sRUFBTyxRQUFVLEdBRzVCLE1BQU8sR0FjVCxHQUFJLElBQVUsS0FZVixHQUFlLEdBQWMsSUFVakMsWUFBb0IsRUFBUSxFQUFVLENBQ3BDLE1BQU8sSUFBVSxHQUFRLEVBQVEsRUFBVSxJQVc3QyxZQUF5QixFQUFRLEVBQVUsQ0FDekMsTUFBTyxJQUFVLEdBQWEsRUFBUSxFQUFVLElBWWxELFlBQXVCLEVBQVEsRUFBTyxDQUNwQyxNQUFPLElBQVksRUFBTyxTQUFTLEVBQUssQ0FDdEMsTUFBTyxJQUFXLEVBQU8sTUFZN0IsWUFBaUIsRUFBUSxFQUFNLENBQzdCLEVBQU8sR0FBUyxFQUFNLEdBS3RCLE9BSEksR0FBUSxFQUNSLEVBQVMsRUFBSyxPQUVYLEdBQVUsTUFBUSxFQUFRLEdBQy9CLEVBQVMsRUFBTyxHQUFNLEVBQUssT0FFN0IsTUFBUSxJQUFTLEdBQVMsRUFBVSxFQUFTQSxFQWMvQyxZQUF3QixFQUFRLEVBQVUsRUFBYSxDQUNyRCxHQUFJLEdBQVMsRUFBUyxHQUN0QixNQUFPLElBQVEsR0FBVSxFQUFTLEdBQVUsRUFBUSxFQUFZLElBVWxFLFlBQW9CLEVBQU8sQ0FDekIsTUFBSSxJQUFTLEtBQ0osSUFBVUEsRUFBWSxHQUFlLEdBRXRDLElBQWtCLEtBQWtCLElBQU8sR0FDL0MsR0FBVSxHQUNWLEdBQWUsR0FZckIsWUFBZ0IsRUFBTyxFQUFPLENBQzVCLE1BQU8sR0FBUSxFQVdqQixZQUFpQixFQUFRLEVBQUssQ0FDNUIsTUFBTyxJQUFVLE1BQVEsR0FBZSxLQUFLLEVBQVEsR0FXdkQsWUFBbUIsRUFBUSxFQUFLLENBQzlCLE1BQU8sSUFBVSxNQUFRLElBQU8sSUFBTyxHQVl6QyxZQUFxQixFQUFRLEVBQU8sRUFBSyxDQUN2QyxNQUFPLElBQVUsR0FBVSxFQUFPLElBQVEsRUFBUyxHQUFVLEVBQU8sR0FhdEUsWUFBMEIsRUFBUSxFQUFVLEVBQVksQ0FTdEQsT0FSSSxHQUFXLEVBQWEsR0FBb0IsR0FDNUMsRUFBUyxFQUFPLEdBQUcsT0FDbkIsRUFBWSxFQUFPLE9BQ25CLEVBQVcsRUFDWCxFQUFTLEVBQU0sR0FDZixFQUFZLElBQ1osRUFBUyxHQUVOLEtBQVksQ0FDakIsR0FBSSxHQUFRLEVBQU8sR0FDbkIsQUFBSSxHQUFZLEdBQ2QsR0FBUSxHQUFTLEVBQU8sR0FBVSxLQUVwQyxFQUFZLEdBQVUsRUFBTSxPQUFRLEdBQ3BDLEVBQU8sR0FBWSxDQUFDLEdBQWUsSUFBYSxHQUFVLEtBQU8sRUFBTSxRQUFVLEtBQzdFLEdBQUksSUFBUyxHQUFZLEdBQ3pCQSxFQUVOLEVBQVEsRUFBTyxHQUVmLEdBQUksR0FBUSxHQUNSLEdBQU8sRUFBTyxHQUVsQixFQUNBLEtBQU8sRUFBRSxFQUFRLEdBQVUsRUFBTyxPQUFTLEdBQVcsQ0FDcEQsR0FBSSxJQUFRLEVBQU0sR0FDZCxHQUFXLEVBQVcsRUFBUyxJQUFTLEdBRzVDLEdBREEsR0FBUyxHQUFjLEtBQVUsRUFBSyxHQUFRLEVBQzFDLENBQUUsSUFDRSxHQUFTLEdBQU0sSUFDZixFQUFTLEVBQVEsR0FBVSxJQUM1QixDQUVMLElBREEsRUFBVyxFQUNKLEVBQUUsR0FBVSxDQUNqQixHQUFJLElBQVEsRUFBTyxHQUNuQixHQUFJLENBQUUsSUFDRSxHQUFTLEdBQU8sSUFDaEIsRUFBUyxFQUFPLEdBQVcsR0FBVSxJQUUzQyxXQUdKLEFBQUksSUFDRixHQUFLLEtBQUssSUFFWixFQUFPLEtBQUssS0FHaEIsTUFBTyxHQWNULFlBQXNCLEVBQVEsRUFBUSxFQUFVLEVBQWEsQ0FDM0QsVUFBVyxFQUFRLFNBQVMsRUFBTyxFQUFLLEVBQVEsQ0FDOUMsRUFBTyxFQUFhLEVBQVMsR0FBUSxFQUFLLEtBRXJDLEVBYVQsWUFBb0IsRUFBUSxFQUFNLEVBQU0sQ0FDdEMsRUFBTyxHQUFTLEVBQU0sR0FDdEIsRUFBUyxHQUFPLEVBQVEsR0FDeEIsR0FBSSxHQUFPLEdBQVUsS0FBTyxFQUFTLEVBQU8sR0FBTSxHQUFLLEtBQ3ZELE1BQU8sSUFBUSxLQUFPQSxFQUFZLEdBQU0sRUFBTSxFQUFRLEdBVXhELFlBQXlCLEVBQU8sQ0FDOUIsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEVBVXJELFlBQTJCLEVBQU8sQ0FDaEMsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBVXJELFlBQW9CLEVBQU8sQ0FDekIsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBaUJyRCxZQUFxQixFQUFPLEVBQU8sRUFBUyxFQUFZLEVBQU8sQ0FDN0QsTUFBSSxLQUFVLEVBQ0wsR0FFTCxHQUFTLE1BQVEsR0FBUyxNQUFTLENBQUMsR0FBYSxJQUFVLENBQUMsR0FBYSxHQUNwRSxJQUFVLEdBQVMsSUFBVSxFQUUvQixHQUFnQixFQUFPLEVBQU8sRUFBUyxFQUFZLEdBQWEsR0FpQnpFLFlBQXlCLEVBQVEsRUFBTyxFQUFTLEVBQVksRUFBVyxFQUFPLENBQzdFLEdBQUksR0FBVyxHQUFRLEdBQ25CLEVBQVcsR0FBUSxHQUNuQixFQUFTLEVBQVcsRUFBVyxHQUFPLEdBQ3RDLEVBQVMsRUFBVyxFQUFXLEdBQU8sR0FFMUMsRUFBUyxHQUFVLEVBQVUsR0FBWSxFQUN6QyxFQUFTLEdBQVUsRUFBVSxHQUFZLEVBRXpDLEdBQUksR0FBVyxHQUFVLEdBQ3JCLEVBQVcsR0FBVSxHQUNyQixHQUFZLEdBQVUsRUFFMUIsR0FBSSxJQUFhLEdBQVMsR0FBUyxDQUNqQyxHQUFJLENBQUMsR0FBUyxHQUNaLE1BQU8sR0FFVCxFQUFXLEdBQ1gsRUFBVyxHQUViLEdBQUksSUFBYSxDQUFDLEVBQ2hCLFVBQVUsR0FBUSxHQUFJLEtBQ2QsR0FBWSxHQUFhLEdBQzdCLEdBQVksRUFBUSxFQUFPLEVBQVMsRUFBWSxFQUFXLEdBQzNELEdBQVcsRUFBUSxFQUFPLEVBQVEsRUFBUyxFQUFZLEVBQVcsR0FFeEUsR0FBSSxDQUFFLEdBQVUsR0FBdUIsQ0FDckMsR0FBSSxJQUFlLEdBQVksR0FBZSxLQUFLLEVBQVEsZUFDdkQsR0FBZSxHQUFZLEdBQWUsS0FBSyxFQUFPLGVBRTFELEdBQUksSUFBZ0IsR0FBYyxDQUNoQyxHQUFJLElBQWUsR0FBZSxFQUFPLFFBQVUsRUFDL0MsR0FBZSxHQUFlLEVBQU0sUUFBVSxFQUVsRCxVQUFVLEdBQVEsR0FBSSxLQUNmLEVBQVUsR0FBYyxHQUFjLEVBQVMsRUFBWSxJQUd0RSxNQUFLLElBR0wsSUFBVSxHQUFRLEdBQUksS0FDZixHQUFhLEVBQVEsRUFBTyxFQUFTLEVBQVksRUFBVyxJQUgxRCxHQWFYLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsR0FBTyxJQUFVLEdBYWpELFlBQXFCLEVBQVEsRUFBUSxFQUFXLEVBQVksQ0FDMUQsR0FBSSxHQUFRLEVBQVUsT0FDbEIsRUFBUyxFQUNULEVBQWUsQ0FBQyxFQUVwQixHQUFJLEdBQVUsS0FDWixNQUFPLENBQUMsRUFHVixJQURBLEVBQVMsR0FBTyxHQUNULEtBQVMsQ0FDZCxHQUFJLEdBQU8sRUFBVSxHQUNyQixHQUFLLEdBQWdCLEVBQUssR0FDbEIsRUFBSyxLQUFPLEVBQU8sRUFBSyxJQUN4QixDQUFFLEdBQUssSUFBTSxJQUVuQixNQUFPLEdBR1gsS0FBTyxFQUFFLEVBQVEsR0FBUSxDQUN2QixFQUFPLEVBQVUsR0FDakIsR0FBSSxHQUFNLEVBQUssR0FDWCxFQUFXLEVBQU8sR0FDbEIsRUFBVyxFQUFLLEdBRXBCLEdBQUksR0FBZ0IsRUFBSyxJQUN2QixHQUFJLElBQWFBLEdBQWEsQ0FBRSxLQUFPLElBQ3JDLE1BQU8sT0FFSixDQUNMLEdBQUksR0FBUSxHQUFJLElBQ2hCLEdBQUksRUFDRixHQUFJLElBQVMsRUFBVyxFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQVEsR0FFbkUsR0FBSSxDQUFFLE1BQVdBLEVBQ1QsR0FBWSxFQUFVLEVBQVUsRUFBdUIsRUFBd0IsRUFBWSxHQUMzRixJQUVOLE1BQU8sSUFJYixNQUFPLEdBV1QsWUFBc0IsRUFBTyxDQUMzQixHQUFJLENBQUMsR0FBUyxJQUFVLEdBQVMsR0FDL0IsTUFBTyxHQUVULEdBQUksR0FBVSxHQUFXLEdBQVMsR0FBYSxHQUMvQyxNQUFPLEdBQVEsS0FBSyxHQUFTLElBVS9CLFlBQXNCLEVBQU8sQ0FDM0IsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBVXJELFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsR0FBTyxJQUFVLEdBVWpELFlBQTBCLEVBQU8sQ0FDL0IsTUFBTyxJQUFhLElBQ2xCLEdBQVMsRUFBTSxTQUFXLENBQUMsQ0FBQyxHQUFlLEdBQVcsSUFVMUQsWUFBc0IsRUFBTyxDQUczQixNQUFJLE9BQU8sSUFBUyxXQUNYLEVBRUwsR0FBUyxLQUNKLEdBRUwsTUFBTyxJQUFTLFNBQ1gsR0FBUSxHQUNYLEdBQW9CLEVBQU0sR0FBSSxFQUFNLElBQ3BDLEdBQVksR0FFWCxHQUFTLEdBVWxCLFlBQWtCLEVBQVEsQ0FDeEIsR0FBSSxDQUFDLEdBQVksR0FDZixNQUFPLElBQVcsR0FFcEIsR0FBSSxHQUFTLEdBQ2IsT0FBUyxLQUFPLElBQU8sR0FDckIsQUFBSSxHQUFlLEtBQUssRUFBUSxJQUFRLEdBQU8sZUFDN0MsRUFBTyxLQUFLLEdBR2hCLE1BQU8sR0FVVCxZQUFvQixFQUFRLENBQzFCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxJQUFhLEdBRXRCLEdBQUksR0FBVSxHQUFZLEdBQ3RCLEVBQVMsR0FFYixPQUFTLEtBQU8sR0FDZCxBQUFNLEdBQU8sZUFBa0IsSUFBVyxDQUFDLEdBQWUsS0FBSyxFQUFRLEtBQ3JFLEVBQU8sS0FBSyxHQUdoQixNQUFPLEdBWVQsWUFBZ0IsRUFBTyxFQUFPLENBQzVCLE1BQU8sR0FBUSxFQVdqQixZQUFpQixFQUFZLEVBQVUsQ0FDckMsR0FBSSxHQUFRLEdBQ1IsRUFBUyxHQUFZLEdBQWMsRUFBTSxFQUFXLFFBQVUsR0FFbEUsVUFBUyxFQUFZLFNBQVMsRUFBTyxFQUFLLEVBQVksQ0FDcEQsRUFBTyxFQUFFLEdBQVMsRUFBUyxFQUFPLEVBQUssS0FFbEMsRUFVVCxZQUFxQixFQUFRLENBQzNCLEdBQUksR0FBWSxHQUFhLEdBQzdCLE1BQUksR0FBVSxRQUFVLEdBQUssRUFBVSxHQUFHLEdBQ2pDLEdBQXdCLEVBQVUsR0FBRyxHQUFJLEVBQVUsR0FBRyxJQUV4RCxTQUFTLEVBQVEsQ0FDdEIsTUFBTyxLQUFXLEdBQVUsR0FBWSxFQUFRLEVBQVEsSUFZNUQsWUFBNkIsRUFBTSxFQUFVLENBQzNDLE1BQUksSUFBTSxJQUFTLEdBQW1CLEdBQzdCLEdBQXdCLEdBQU0sR0FBTyxHQUV2QyxTQUFTLEVBQVEsQ0FDdEIsR0FBSSxHQUFXLEdBQUksRUFBUSxHQUMzQixNQUFRLEtBQWFBLEdBQWEsSUFBYSxFQUMzQyxHQUFNLEVBQVEsR0FDZCxHQUFZLEVBQVUsRUFBVSxFQUF1QixJQWUvRCxZQUFtQixFQUFRLEVBQVEsRUFBVSxFQUFZLEVBQU8sQ0FDOUQsQUFBSSxJQUFXLEdBR2YsR0FBUSxFQUFRLFNBQVMsRUFBVSxFQUFLLENBRXRDLEdBREEsR0FBVSxHQUFRLEdBQUksS0FDbEIsR0FBUyxHQUNYLEdBQWMsRUFBUSxFQUFRLEVBQUssRUFBVSxHQUFXLEVBQVksT0FFakUsQ0FDSCxHQUFJLEdBQVcsRUFDWCxFQUFXLEdBQVEsRUFBUSxHQUFNLEVBQVcsRUFBTSxHQUFLLEVBQVEsRUFBUSxHQUN2RUEsRUFFSixBQUFJLElBQWFBLEdBQ2YsR0FBVyxHQUViLEdBQWlCLEVBQVEsRUFBSyxLQUUvQixJQWtCTCxZQUF1QixFQUFRLEVBQVEsRUFBSyxFQUFVLEVBQVcsRUFBWSxFQUFPLENBQ2xGLEdBQUksR0FBVyxHQUFRLEVBQVEsR0FDM0IsRUFBVyxHQUFRLEVBQVEsR0FDM0IsRUFBVSxFQUFNLElBQUksR0FFeEIsR0FBSSxFQUFTLENBQ1gsR0FBaUIsRUFBUSxFQUFLLEdBQzlCLE9BRUYsR0FBSSxHQUFXLEVBQ1gsRUFBVyxFQUFVLEVBQVcsRUFBTSxHQUFLLEVBQVEsRUFBUSxHQUMzREEsRUFFQSxFQUFXLElBQWFBLEVBRTVCLEdBQUksRUFBVSxDQUNaLEdBQUksSUFBUSxHQUFRLEdBQ2hCLEdBQVMsQ0FBQyxJQUFTLEdBQVMsR0FDNUIsR0FBVSxDQUFDLElBQVMsQ0FBQyxJQUFVLEdBQWEsR0FFaEQsRUFBVyxFQUNYLEFBQUksSUFBUyxJQUFVLEdBQ3JCLEFBQUksR0FBUSxHQUNWLEVBQVcsRUFFUixBQUFJLEdBQWtCLEdBQ3pCLEVBQVcsR0FBVSxHQUVsQixBQUFJLEdBQ1AsR0FBVyxHQUNYLEVBQVcsR0FBWSxFQUFVLEtBRTlCLEFBQUksR0FDUCxHQUFXLEdBQ1gsRUFBVyxHQUFnQixFQUFVLEtBR3JDLEVBQVcsR0FHVixBQUFJLEdBQWMsSUFBYSxHQUFZLEdBQzlDLEdBQVcsRUFDWCxBQUFJLEdBQVksR0FDZCxFQUFXLEdBQWMsR0FFbEIsRUFBQyxHQUFTLElBQWEsR0FBVyxLQUN6QyxHQUFXLEdBQWdCLEtBSTdCLEVBQVcsR0FHZixBQUFJLEdBRUYsR0FBTSxJQUFJLEVBQVUsR0FDcEIsRUFBVSxFQUFVLEVBQVUsRUFBVSxFQUFZLEdBQ3BELEVBQU0sT0FBVSxJQUVsQixHQUFpQixFQUFRLEVBQUssR0FXaEMsWUFBaUIsRUFBTyxFQUFHLENBQ3pCLEdBQUksR0FBUyxFQUFNLE9BQ25CLEdBQUksRUFBQyxFQUdMLFVBQUssRUFBSSxFQUFJLEVBQVMsRUFDZixHQUFRLEVBQUcsR0FBVSxFQUFNLEdBQUtBLEVBWXpDLFlBQXFCLEVBQVksRUFBVyxFQUFRLENBQ2xELEFBQUksRUFBVSxPQUNaLEVBQVksR0FBUyxFQUFXLFNBQVMsRUFBVSxDQUNqRCxNQUFJLElBQVEsR0FDSCxTQUFTLEVBQU8sQ0FDckIsTUFBTyxJQUFRLEVBQU8sRUFBUyxTQUFXLEVBQUksRUFBUyxHQUFLLElBR3pELElBR1QsRUFBWSxDQUFDLElBR2YsR0FBSSxHQUFRLEdBQ1osRUFBWSxHQUFTLEVBQVcsR0FBVSxPQUUxQyxHQUFJLEdBQVMsR0FBUSxFQUFZLFNBQVMsRUFBTyxFQUFLLEVBQVksQ0FDaEUsR0FBSSxHQUFXLEdBQVMsRUFBVyxTQUFTLEVBQVUsQ0FDcEQsTUFBTyxHQUFTLEtBRWxCLE1BQU8sQ0FBRSxTQUFZLEVBQVUsTUFBUyxFQUFFLEVBQU8sTUFBUyxLQUc1RCxNQUFPLElBQVcsRUFBUSxTQUFTLEVBQVEsRUFBTyxDQUNoRCxNQUFPLElBQWdCLEVBQVEsRUFBTyxLQWExQyxZQUFrQixFQUFRLEVBQU8sQ0FDL0IsTUFBTyxJQUFXLEVBQVEsRUFBTyxTQUFTLEVBQU8sRUFBTSxDQUNyRCxNQUFPLElBQU0sRUFBUSxLQWF6QixZQUFvQixFQUFRLEVBQU8sRUFBVyxDQUs1QyxPQUpJLEdBQVEsR0FDUixFQUFTLEVBQU0sT0FDZixFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFPLEVBQU0sR0FDYixFQUFRLEdBQVEsRUFBUSxHQUU1QixBQUFJLEVBQVUsRUFBTyxJQUNuQixHQUFRLEVBQVEsR0FBUyxFQUFNLEdBQVMsR0FHNUMsTUFBTyxHQVVULFlBQTBCLEVBQU0sQ0FDOUIsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsTUFBTyxJQUFRLEVBQVEsSUFlM0IsWUFBcUIsRUFBTyxFQUFRLEVBQVUsRUFBWSxDQUN4RCxHQUFJLEdBQVUsRUFBYSxHQUFrQixHQUN6QyxFQUFRLEdBQ1IsRUFBUyxFQUFPLE9BQ2hCLEVBQU8sRUFRWCxJQU5JLElBQVUsR0FDWixHQUFTLEdBQVUsSUFFakIsR0FDRixHQUFPLEdBQVMsRUFBTyxHQUFVLEtBRTVCLEVBQUUsRUFBUSxHQUtmLE9BSkksR0FBWSxFQUNaLEVBQVEsRUFBTyxHQUNmLEVBQVcsRUFBVyxFQUFTLEdBQVMsRUFFcEMsR0FBWSxFQUFRLEVBQU0sRUFBVSxFQUFXLElBQWUsSUFDcEUsQUFBSSxJQUFTLEdBQ1gsR0FBTyxLQUFLLEVBQU0sRUFBVyxHQUUvQixHQUFPLEtBQUssRUFBTyxFQUFXLEdBR2xDLE1BQU8sR0FZVCxZQUFvQixFQUFPLEVBQVMsQ0FJbEMsT0FISSxHQUFTLEVBQVEsRUFBUSxPQUFTLEVBQ2xDLEVBQVksRUFBUyxFQUVsQixLQUFVLENBQ2YsR0FBSSxHQUFRLEVBQVEsR0FDcEIsR0FBSSxHQUFVLEdBQWEsSUFBVSxFQUFVLENBQzdDLEdBQUksR0FBVyxFQUNmLEFBQUksR0FBUSxHQUNWLEdBQU8sS0FBSyxFQUFPLEVBQU8sR0FFMUIsR0FBVSxFQUFPLElBSXZCLE1BQU8sR0FZVCxZQUFvQixFQUFPLEVBQU8sQ0FDaEMsTUFBTyxHQUFRLEdBQVksS0FBa0IsR0FBUSxFQUFRLElBYy9ELFlBQW1CLEVBQU8sRUFBSyxFQUFNLEVBQVcsQ0FLOUMsT0FKSSxHQUFRLEdBQ1IsRUFBUyxHQUFVLEdBQVksR0FBTSxHQUFVLElBQVEsSUFBSyxHQUM1RCxFQUFTLEVBQU0sR0FFWixLQUNMLEVBQU8sRUFBWSxFQUFTLEVBQUUsR0FBUyxFQUN2QyxHQUFTLEVBRVgsTUFBTyxHQVdULFlBQW9CLEVBQVEsRUFBRyxDQUM3QixHQUFJLEdBQVMsR0FDYixHQUFJLENBQUMsR0FBVSxFQUFJLEdBQUssRUFBSSxFQUMxQixNQUFPLEdBSVQsRUFDRSxBQUFJLEdBQUksR0FDTixJQUFVLEdBRVosRUFBSSxHQUFZLEVBQUksR0FDaEIsR0FDRixJQUFVLFNBRUwsR0FFVCxNQUFPLEdBV1QsWUFBa0IsRUFBTSxFQUFPLENBQzdCLE1BQU8sSUFBWSxHQUFTLEVBQU0sRUFBTyxJQUFXLEVBQU8sSUFVN0QsWUFBb0IsRUFBWSxDQUM5QixNQUFPLElBQVksR0FBTyxJQVc1QixZQUF3QixFQUFZLEVBQUcsQ0FDckMsR0FBSSxHQUFRLEdBQU8sR0FDbkIsTUFBTyxJQUFZLEVBQU8sR0FBVSxFQUFHLEVBQUcsRUFBTSxTQWFsRCxZQUFpQixFQUFRLEVBQU0sRUFBTyxFQUFZLENBQ2hELEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUVULEVBQU8sR0FBUyxFQUFNLEdBT3RCLE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBSyxPQUNkLEVBQVksRUFBUyxFQUNyQixFQUFTLEVBRU4sR0FBVSxNQUFRLEVBQUUsRUFBUSxHQUFRLENBQ3pDLEdBQUksR0FBTSxHQUFNLEVBQUssSUFDakIsRUFBVyxFQUVmLEdBQUksSUFBUSxhQUFlLElBQVEsZUFBaUIsSUFBUSxZQUMxRCxNQUFPLEdBR1QsR0FBSSxHQUFTLEVBQVcsQ0FDdEIsR0FBSSxHQUFXLEVBQU8sR0FDdEIsRUFBVyxFQUFhLEVBQVcsRUFBVSxFQUFLLEdBQVVBLEVBQ3hELElBQWFBLEdBQ2YsR0FBVyxHQUFTLEdBQ2hCLEVBQ0MsR0FBUSxFQUFLLEVBQVEsSUFBTSxHQUFLLElBR3pDLEdBQVksRUFBUSxFQUFLLEdBQ3pCLEVBQVMsRUFBTyxHQUVsQixNQUFPLEdBV1QsR0FBSSxJQUFjLEFBQUMsR0FBcUIsU0FBUyxFQUFNLEVBQU0sQ0FDM0QsVUFBUSxJQUFJLEVBQU0sR0FDWCxHQUZvQixHQWF6QixHQUFrQixBQUFDLEdBQTRCLFNBQVMsRUFBTSxFQUFRLENBQ3hFLE1BQU8sSUFBZSxFQUFNLFdBQVksQ0FDdEMsYUFBZ0IsR0FDaEIsV0FBYyxHQUNkLE1BQVMsR0FBUyxHQUNsQixTQUFZLE1BTHdCLEdBZ0J4QyxZQUFxQixFQUFZLENBQy9CLE1BQU8sSUFBWSxHQUFPLElBWTVCLFlBQW1CLEVBQU8sRUFBTyxFQUFLLENBQ3BDLEdBQUksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUVuQixBQUFJLEVBQVEsR0FDVixHQUFRLENBQUMsRUFBUSxFQUFTLEVBQUssRUFBUyxHQUUxQyxFQUFNLEVBQU0sRUFBUyxFQUFTLEVBQzFCLEVBQU0sR0FDUixJQUFPLEdBRVQsRUFBUyxFQUFRLEVBQU0sRUFBTSxFQUFNLElBQVcsRUFDOUMsS0FBVyxFQUdYLE9BREksR0FBUyxFQUFNLEdBQ1osRUFBRSxFQUFRLEdBQ2YsRUFBTyxHQUFTLEVBQU0sRUFBUSxHQUVoQyxNQUFPLEdBWVQsWUFBa0IsRUFBWSxFQUFXLENBQ3ZDLEdBQUksR0FFSixVQUFTLEVBQVksU0FBUyxFQUFPLEVBQU8sRUFBWSxDQUN0RCxTQUFTLEVBQVUsRUFBTyxFQUFPLEdBQzFCLENBQUMsSUFFSCxDQUFDLENBQUMsRUFlWCxZQUF5QixFQUFPLEVBQU8sRUFBWSxDQUNqRCxHQUFJLEdBQU0sRUFDTixFQUFPLEdBQVMsS0FBTyxFQUFNLEVBQU0sT0FFdkMsR0FBSSxNQUFPLElBQVMsVUFBWSxJQUFVLEdBQVMsR0FBUSxFQUF1QixDQUNoRixLQUFPLEVBQU0sR0FBTSxDQUNqQixHQUFJLEdBQU8sRUFBTSxJQUFVLEVBQ3ZCLEVBQVcsRUFBTSxHQUVyQixBQUFJLElBQWEsTUFBUSxDQUFDLEdBQVMsSUFDOUIsR0FBYyxHQUFZLEVBQVUsRUFBVyxHQUNsRCxFQUFNLEVBQU0sRUFFWixFQUFPLEVBR1gsTUFBTyxHQUVULE1BQU8sSUFBa0IsRUFBTyxFQUFPLEdBQVUsR0FnQm5ELFlBQTJCLEVBQU8sRUFBTyxFQUFVLEVBQVksQ0FDN0QsR0FBSSxHQUFNLEVBQ04sRUFBTyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3JDLEdBQUksSUFBUyxFQUNYLE1BQU8sR0FHVCxFQUFRLEVBQVMsR0FNakIsT0FMSSxHQUFXLElBQVUsRUFDckIsRUFBWSxJQUFVLEtBQ3RCLEVBQWMsR0FBUyxHQUN2QixFQUFpQixJQUFVQSxFQUV4QixFQUFNLEdBQU0sQ0FDakIsR0FBSSxHQUFNLEdBQWEsR0FBTSxHQUFRLEdBQ2pDLEVBQVcsRUFBUyxFQUFNLElBQzFCLEdBQWUsSUFBYUEsRUFDNUIsR0FBWSxJQUFhLEtBQ3pCLEdBQWlCLElBQWEsRUFDOUIsR0FBYyxHQUFTLEdBRTNCLEdBQUksRUFDRixHQUFJLElBQVMsR0FBYyxPQUN0QixBQUFJLEdBQ1QsR0FBUyxJQUFtQixJQUFjLElBQ3JDLEFBQUksRUFDVCxHQUFTLElBQWtCLElBQWlCLElBQWMsQ0FBQyxJQUN0RCxBQUFJLEVBQ1QsR0FBUyxJQUFrQixJQUFnQixDQUFDLElBQWMsSUFBYyxDQUFDLElBQ3BFLEFBQUksSUFBYSxHQUN0QixHQUFTLEdBRVQsR0FBUyxFQUFjLEdBQVksRUFBVSxFQUFXLEVBRTFELEFBQUksR0FDRixFQUFNLEVBQU0sRUFFWixFQUFPLEVBR1gsTUFBTyxJQUFVLEVBQU0sR0FZekIsWUFBd0IsRUFBTyxFQUFVLENBTXZDLE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUNmLEVBQVcsRUFDWCxFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFXLEVBQVcsRUFBUyxHQUFTLEVBRTVDLEdBQUksQ0FBQyxHQUFTLENBQUMsR0FBRyxFQUFVLEdBQU8sQ0FDakMsR0FBSSxHQUFPLEVBQ1gsRUFBTyxLQUFjLElBQVUsRUFBSSxFQUFJLEdBRzNDLE1BQU8sR0FXVCxZQUFzQixFQUFPLENBQzNCLE1BQUksT0FBTyxJQUFTLFNBQ1gsRUFFTCxHQUFTLEdBQ0osRUFFRixDQUFDLEVBV1YsWUFBc0IsRUFBTyxDQUUzQixHQUFJLE1BQU8sSUFBUyxTQUNsQixNQUFPLEdBRVQsR0FBSSxHQUFRLEdBRVYsTUFBTyxJQUFTLEVBQU8sSUFBZ0IsR0FFekMsR0FBSSxHQUFTLEdBQ1gsTUFBTyxJQUFpQixHQUFlLEtBQUssR0FBUyxHQUV2RCxHQUFJLEdBQVUsRUFBUSxHQUN0QixNQUFRLElBQVUsS0FBUSxFQUFJLEdBQVUsQ0FBQyxFQUFZLEtBQU8sRUFZOUQsWUFBa0IsRUFBTyxFQUFVLEVBQVksQ0FDN0MsR0FBSSxHQUFRLEdBQ1IsRUFBVyxHQUNYLEVBQVMsRUFBTSxPQUNmLEVBQVcsR0FDWCxFQUFTLEdBQ1QsRUFBTyxFQUVYLEdBQUksRUFDRixFQUFXLEdBQ1gsRUFBVyxXQUVKLEdBQVUsRUFBa0IsQ0FDbkMsR0FBSSxHQUFNLEVBQVcsS0FBTyxHQUFVLEdBQ3RDLEdBQUksRUFDRixNQUFPLElBQVcsR0FFcEIsRUFBVyxHQUNYLEVBQVcsR0FDWCxFQUFPLEdBQUksUUFHWCxHQUFPLEVBQVcsR0FBSyxFQUV6QixFQUNBLEtBQU8sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFXLEVBQVcsRUFBUyxHQUFTLEVBRzVDLEdBREEsRUFBUyxHQUFjLElBQVUsRUFBSyxFQUFRLEVBQzFDLEdBQVksSUFBYSxFQUFVLENBRXJDLE9BREksSUFBWSxFQUFLLE9BQ2QsTUFDTCxHQUFJLEVBQUssTUFBZSxFQUN0QixXQUdKLEFBQUksR0FDRixFQUFLLEtBQUssR0FFWixFQUFPLEtBQUssT0FFVCxBQUFLLEdBQVMsRUFBTSxFQUFVLElBQzdCLEtBQVMsR0FDWCxFQUFLLEtBQUssR0FFWixFQUFPLEtBQUssSUFHaEIsTUFBTyxHQVdULFlBQW1CLEVBQVEsRUFBTSxDQUMvQixTQUFPLEdBQVMsRUFBTSxHQUN0QixFQUFTLEdBQU8sRUFBUSxHQUNqQixHQUFVLE1BQVEsTUFBTyxHQUFPLEdBQU0sR0FBSyxLQWFwRCxZQUFvQixFQUFRLEVBQU0sRUFBUyxFQUFZLENBQ3JELE1BQU8sSUFBUSxFQUFRLEVBQU0sRUFBUSxHQUFRLEVBQVEsSUFBUSxHQWMvRCxZQUFtQixFQUFPLEVBQVcsRUFBUSxFQUFXLENBSXRELE9BSEksR0FBUyxFQUFNLE9BQ2YsRUFBUSxFQUFZLEVBQVMsR0FFekIsR0FBWSxJQUFVLEVBQUUsRUFBUSxJQUN0QyxFQUFVLEVBQU0sR0FBUSxFQUFPLElBQVEsQ0FFekMsTUFBTyxHQUNILEdBQVUsRUFBUSxFQUFZLEVBQUksRUFBUyxFQUFZLEVBQVEsRUFBSSxHQUNuRSxHQUFVLEVBQVEsRUFBWSxFQUFRLEVBQUksRUFBSyxFQUFZLEVBQVMsR0FhMUUsWUFBMEIsRUFBTyxFQUFTLENBQ3hDLEdBQUksR0FBUyxFQUNiLE1BQUksYUFBa0IsS0FDcEIsR0FBUyxFQUFPLFNBRVgsR0FBWSxFQUFTLFNBQVMsRUFBUSxFQUFRLENBQ25ELE1BQU8sR0FBTyxLQUFLLE1BQU0sRUFBTyxRQUFTLEdBQVUsQ0FBQyxHQUFTLEVBQU8sUUFDbkUsR0FhTCxZQUFpQixFQUFRLEVBQVUsRUFBWSxDQUM3QyxHQUFJLEdBQVMsRUFBTyxPQUNwQixHQUFJLEVBQVMsRUFDWCxNQUFPLEdBQVMsR0FBUyxFQUFPLElBQU0sR0FLeEMsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFNLEdBRVosRUFBRSxFQUFRLEdBSWYsT0FISSxHQUFRLEVBQU8sR0FDZixFQUFXLEdBRVIsRUFBRSxFQUFXLEdBQ2xCLEFBQUksR0FBWSxHQUNkLEdBQU8sR0FBUyxHQUFlLEVBQU8sSUFBVSxFQUFPLEVBQU8sR0FBVyxFQUFVLElBSXpGLE1BQU8sSUFBUyxHQUFZLEVBQVEsR0FBSSxFQUFVLEdBWXBELFlBQXVCLEVBQU8sRUFBUSxFQUFZLENBTWhELE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUNmLEVBQWEsRUFBTyxPQUNwQixFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsRUFBYSxFQUFPLEdBQVNBLEVBQ2pELEVBQVcsRUFBUSxFQUFNLEdBQVEsR0FFbkMsTUFBTyxHQVVULFlBQTZCLEVBQU8sQ0FDbEMsTUFBTyxJQUFrQixHQUFTLEVBQVEsR0FVNUMsWUFBc0IsRUFBTyxDQUMzQixNQUFPLE9BQU8sSUFBUyxXQUFhLEVBQVEsR0FXOUMsWUFBa0IsRUFBTyxFQUFRLENBQy9CLE1BQUksSUFBUSxHQUNILEVBRUYsR0FBTSxFQUFPLEdBQVUsQ0FBQyxHQUFTLEdBQWEsR0FBUyxJQVloRSxHQUFJLElBQVcsR0FXZixZQUFtQixFQUFPLEVBQU8sRUFBSyxDQUNwQyxHQUFJLEdBQVMsRUFBTSxPQUNuQixTQUFNLElBQVFBLEVBQVksRUFBUyxFQUMzQixDQUFDLEdBQVMsR0FBTyxFQUFVLEVBQVEsR0FBVSxFQUFPLEVBQU8sR0FTckUsR0FBSSxJQUFlLElBQW1CLFNBQVMsRUFBSSxDQUNqRCxNQUFPLElBQUssYUFBYSxJQVczQixZQUFxQixFQUFRLEVBQVEsQ0FDbkMsR0FBSSxFQUNGLE1BQU8sR0FBTyxRQUVoQixHQUFJLEdBQVMsRUFBTyxPQUNoQixFQUFTLEdBQWMsR0FBWSxHQUFVLEdBQUksR0FBTyxZQUFZLEdBRXhFLFNBQU8sS0FBSyxHQUNMLEVBVVQsWUFBMEIsRUFBYSxDQUNyQyxHQUFJLEdBQVMsR0FBSSxHQUFZLFlBQVksRUFBWSxZQUNyRCxVQUFJLElBQVcsR0FBUSxJQUFJLEdBQUksSUFBVyxJQUNuQyxFQVdULFlBQXVCLEVBQVUsRUFBUSxDQUN2QyxHQUFJLEdBQVMsRUFBUyxHQUFpQixFQUFTLFFBQVUsRUFBUyxPQUNuRSxNQUFPLElBQUksR0FBUyxZQUFZLEVBQVEsRUFBUyxXQUFZLEVBQVMsWUFVeEUsWUFBcUIsRUFBUSxDQUMzQixHQUFJLEdBQVMsR0FBSSxHQUFPLFlBQVksRUFBTyxPQUFRLEdBQVEsS0FBSyxJQUNoRSxTQUFPLFVBQVksRUFBTyxVQUNuQixFQVVULFlBQXFCLEVBQVEsQ0FDM0IsTUFBTyxJQUFnQixHQUFPLEdBQWMsS0FBSyxJQUFXLEdBVzlELFlBQXlCLEVBQVksRUFBUSxDQUMzQyxHQUFJLEdBQVMsRUFBUyxHQUFpQixFQUFXLFFBQVUsRUFBVyxPQUN2RSxNQUFPLElBQUksR0FBVyxZQUFZLEVBQVEsRUFBVyxXQUFZLEVBQVcsUUFXOUUsWUFBMEIsRUFBTyxFQUFPLENBQ3RDLEdBQUksSUFBVSxFQUFPLENBQ25CLEdBQUksR0FBZSxJQUFVQSxFQUN6QixFQUFZLElBQVUsS0FDdEIsRUFBaUIsSUFBVSxFQUMzQixFQUFjLEdBQVMsR0FFdkIsRUFBZSxJQUFVQSxFQUN6QixFQUFZLElBQVUsS0FDdEIsRUFBaUIsSUFBVSxFQUMzQixFQUFjLEdBQVMsR0FFM0IsR0FBSyxDQUFDLEdBQWEsQ0FBQyxHQUFlLENBQUMsR0FBZSxFQUFRLEdBQ3RELEdBQWUsR0FBZ0IsR0FBa0IsQ0FBQyxHQUFhLENBQUMsR0FDaEUsR0FBYSxHQUFnQixHQUM3QixDQUFDLEdBQWdCLEdBQ2xCLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSyxDQUFDLEdBQWEsQ0FBQyxHQUFlLENBQUMsR0FBZSxFQUFRLEdBQ3RELEdBQWUsR0FBZ0IsR0FBa0IsQ0FBQyxHQUFhLENBQUMsR0FDaEUsR0FBYSxHQUFnQixHQUM3QixDQUFDLEdBQWdCLEdBQ2xCLENBQUMsRUFDSCxNQUFPLEdBR1gsTUFBTyxHQWlCVCxZQUF5QixFQUFRLEVBQU8sRUFBUSxDQU85QyxPQU5JLEdBQVEsR0FDUixFQUFjLEVBQU8sU0FDckIsRUFBYyxFQUFNLFNBQ3BCLEVBQVMsRUFBWSxPQUNyQixFQUFlLEVBQU8sT0FFbkIsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFTLEdBQWlCLEVBQVksR0FBUSxFQUFZLElBQzlELEdBQUksRUFBUSxDQUNWLEdBQUksR0FBUyxFQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVEsRUFBTyxHQUNuQixNQUFPLEdBQVUsSUFBUyxPQUFTLEdBQUssSUFVNUMsTUFBTyxHQUFPLE1BQVEsRUFBTSxNQWM5QixZQUFxQixFQUFNLEVBQVUsRUFBUyxFQUFXLENBVXZELE9BVEksR0FBWSxHQUNaLEVBQWEsRUFBSyxPQUNsQixFQUFnQixFQUFRLE9BQ3hCLEVBQVksR0FDWixFQUFhLEVBQVMsT0FDdEIsRUFBYyxHQUFVLEVBQWEsRUFBZSxHQUNwRCxFQUFTLEVBQU0sRUFBYSxHQUM1QixFQUFjLENBQUMsRUFFWixFQUFFLEVBQVksR0FDbkIsRUFBTyxHQUFhLEVBQVMsR0FFL0IsS0FBTyxFQUFFLEVBQVksR0FDbkIsQUFBSSxJQUFlLEVBQVksSUFDN0IsR0FBTyxFQUFRLElBQWMsRUFBSyxJQUd0QyxLQUFPLEtBQ0wsRUFBTyxLQUFlLEVBQUssS0FFN0IsTUFBTyxHQWNULFlBQTBCLEVBQU0sRUFBVSxFQUFTLEVBQVcsQ0FXNUQsT0FWSSxHQUFZLEdBQ1osRUFBYSxFQUFLLE9BQ2xCLEVBQWUsR0FDZixFQUFnQixFQUFRLE9BQ3hCLEVBQWEsR0FDYixFQUFjLEVBQVMsT0FDdkIsRUFBYyxHQUFVLEVBQWEsRUFBZSxHQUNwRCxFQUFTLEVBQU0sRUFBYyxHQUM3QixHQUFjLENBQUMsRUFFWixFQUFFLEVBQVksR0FDbkIsRUFBTyxHQUFhLEVBQUssR0FHM0IsT0FESSxJQUFTLEVBQ04sRUFBRSxFQUFhLEdBQ3BCLEVBQU8sR0FBUyxHQUFjLEVBQVMsR0FFekMsS0FBTyxFQUFFLEVBQWUsR0FDdEIsQUFBSSxLQUFlLEVBQVksSUFDN0IsR0FBTyxHQUFTLEVBQVEsSUFBaUIsRUFBSyxNQUdsRCxNQUFPLEdBV1QsWUFBbUIsRUFBUSxFQUFPLENBQ2hDLEdBQUksR0FBUSxHQUNSLEVBQVMsRUFBTyxPQUdwQixJQURBLEdBQVUsR0FBUSxFQUFNLElBQ2pCLEVBQUUsRUFBUSxHQUNmLEVBQU0sR0FBUyxFQUFPLEdBRXhCLE1BQU8sR0FhVCxZQUFvQixFQUFRLEVBQU8sRUFBUSxFQUFZLENBQ3JELEdBQUksR0FBUSxDQUFDLEVBQ2IsR0FBVyxHQUFTLElBS3BCLE9BSEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUVaLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBTSxFQUFNLEdBRVosRUFBVyxFQUNYLEVBQVcsRUFBTyxHQUFNLEVBQU8sR0FBTSxFQUFLLEVBQVEsR0FDbERBLEVBRUosQUFBSSxJQUFhQSxHQUNmLEdBQVcsRUFBTyxJQUVwQixBQUFJLEVBQ0YsR0FBZ0IsRUFBUSxFQUFLLEdBRTdCLEdBQVksRUFBUSxFQUFLLEdBRzdCLE1BQU8sR0FXVCxZQUFxQixFQUFRLEVBQVEsQ0FDbkMsTUFBTyxJQUFXLEVBQVEsR0FBVyxHQUFTLEdBV2hELFlBQXVCLEVBQVEsRUFBUSxDQUNyQyxNQUFPLElBQVcsRUFBUSxHQUFhLEdBQVMsR0FXbEQsWUFBMEIsRUFBUSxFQUFhLENBQzdDLE1BQU8sVUFBUyxFQUFZLEVBQVUsQ0FDcEMsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFrQixHQUMvQyxFQUFjLEVBQWMsSUFBZ0IsR0FFaEQsTUFBTyxHQUFLLEVBQVksRUFBUSxHQUFZLEVBQVUsR0FBSSxJQVc5RCxZQUF3QixFQUFVLENBQ2hDLE1BQU8sSUFBUyxTQUFTLEVBQVEsRUFBUyxDQUN4QyxHQUFJLEdBQVEsR0FDUixFQUFTLEVBQVEsT0FDakIsRUFBYSxFQUFTLEVBQUksRUFBUSxFQUFTLEdBQUtBLEVBQ2hELEVBQVEsRUFBUyxFQUFJLEVBQVEsR0FBS0EsRUFXdEMsSUFUQSxFQUFjLEVBQVMsT0FBUyxHQUFLLE1BQU8sSUFBYyxXQUNyRCxLQUFVLEdBQ1hBLEVBRUEsR0FBUyxHQUFlLEVBQVEsR0FBSSxFQUFRLEdBQUksSUFDbEQsR0FBYSxFQUFTLEVBQUlBLEVBQVksRUFDdEMsRUFBUyxHQUVYLEVBQVMsR0FBTyxHQUNULEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUyxFQUFRLEdBQ3JCLEFBQUksR0FDRixFQUFTLEVBQVEsRUFBUSxFQUFPLEdBR3BDLE1BQU8sS0FZWCxZQUF3QixFQUFVLEVBQVcsQ0FDM0MsTUFBTyxVQUFTLEVBQVksRUFBVSxDQUNwQyxHQUFJLEdBQWMsS0FDaEIsTUFBTyxHQUVULEdBQUksQ0FBQyxHQUFZLEdBQ2YsTUFBTyxHQUFTLEVBQVksR0FNOUIsT0FKSSxHQUFTLEVBQVcsT0FDcEIsRUFBUSxFQUFZLEVBQVMsR0FDN0IsRUFBVyxHQUFPLEdBRWQsR0FBWSxJQUFVLEVBQUUsRUFBUSxJQUNsQyxFQUFTLEVBQVMsR0FBUSxFQUFPLEtBQWMsSUFBbkQsQ0FJRixNQUFPLElBV1gsWUFBdUIsRUFBVyxDQUNoQyxNQUFPLFVBQVMsRUFBUSxFQUFVLEVBQVUsQ0FNMUMsT0FMSSxHQUFRLEdBQ1IsRUFBVyxHQUFPLEdBQ2xCLEVBQVEsRUFBUyxHQUNqQixFQUFTLEVBQU0sT0FFWixLQUFVLENBQ2YsR0FBSSxHQUFNLEVBQU0sRUFBWSxFQUFTLEVBQUUsR0FDdkMsR0FBSSxFQUFTLEVBQVMsR0FBTSxFQUFLLEtBQWMsR0FDN0MsTUFHSixNQUFPLElBY1gsWUFBb0IsRUFBTSxFQUFTLEVBQVMsQ0FDMUMsR0FBSSxHQUFTLEVBQVUsRUFDbkIsRUFBTyxHQUFXLEdBRXRCLFlBQW1CLENBQ2pCLEdBQUksR0FBTSxNQUFRLE9BQVMsSUFBUSxlQUFnQixHQUFXLEVBQU8sRUFDckUsTUFBTyxHQUFHLE1BQU0sRUFBUyxFQUFVLEtBQU0sV0FFM0MsTUFBTyxHQVVULFlBQXlCLEVBQVksQ0FDbkMsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsRUFBUyxHQUFTLEdBRWxCLEdBQUksR0FBYSxHQUFXLEdBQ3hCLEdBQWMsR0FDZEEsRUFFQSxFQUFNLEVBQ04sRUFBVyxHQUNYLEVBQU8sT0FBTyxHQUVkLEVBQVcsRUFDWCxHQUFVLEVBQVksR0FBRyxLQUFLLElBQzlCLEVBQU8sTUFBTSxHQUVqQixNQUFPLEdBQUksS0FBZ0IsR0FXL0IsWUFBMEIsRUFBVSxDQUNsQyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFPLElBQVksR0FBTSxHQUFPLEdBQVEsUUFBUSxHQUFRLEtBQU0sRUFBVSxLQVk1RSxZQUFvQixFQUFNLENBQ3hCLE1BQU8sV0FBVyxDQUloQixHQUFJLEdBQU8sVUFDWCxPQUFRLEVBQUssWUFDTixHQUFHLE1BQU8sSUFBSSxPQUNkLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxRQUN4QixHQUFHLE1BQU8sSUFBSSxHQUFLLEVBQUssR0FBSSxFQUFLLFFBQ2pDLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQzFDLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxRQUNuRCxHQUFHLE1BQU8sSUFBSSxHQUFLLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQzVELEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQ3JFLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxJQUVyRixHQUFJLEdBQWMsR0FBVyxFQUFLLFdBQzlCLEVBQVMsRUFBSyxNQUFNLEVBQWEsR0FJckMsTUFBTyxJQUFTLEdBQVUsRUFBUyxHQWF2QyxZQUFxQixFQUFNLEVBQVMsRUFBTyxDQUN6QyxHQUFJLEdBQU8sR0FBVyxHQUV0QixZQUFtQixDQU1qQixPQUxJLEdBQVMsVUFBVSxPQUNuQixFQUFPLEVBQU0sR0FDYixFQUFRLEVBQ1IsRUFBYyxHQUFVLEdBRXJCLEtBQ0wsRUFBSyxHQUFTLFVBQVUsR0FFMUIsR0FBSSxHQUFXLEVBQVMsR0FBSyxFQUFLLEtBQU8sR0FBZSxFQUFLLEVBQVMsS0FBTyxFQUN6RSxHQUNBLEdBQWUsRUFBTSxHQUd6QixHQURBLEdBQVUsRUFBUSxPQUNkLEVBQVMsRUFDWCxNQUFPLElBQ0wsRUFBTSxFQUFTLEdBQWMsRUFBUSxZQUFhQSxFQUNsRCxFQUFNLEVBQVNBLEVBQVdBLEVBQVcsRUFBUSxHQUVqRCxHQUFJLEdBQU0sTUFBUSxPQUFTLElBQVEsZUFBZ0IsR0FBVyxFQUFPLEVBQ3JFLE1BQU8sSUFBTSxFQUFJLEtBQU0sR0FFekIsTUFBTyxHQVVULFlBQW9CLEVBQWUsQ0FDakMsTUFBTyxVQUFTLEVBQVksRUFBVyxFQUFXLENBQ2hELEdBQUksR0FBVyxHQUFPLEdBQ3RCLEdBQUksQ0FBQyxHQUFZLEdBQWEsQ0FDNUIsR0FBSSxHQUFXLEdBQVksRUFBVyxHQUN0QyxFQUFhLEdBQUssR0FDbEIsRUFBWSxTQUFTLEVBQUssQ0FBRSxNQUFPLEdBQVMsRUFBUyxHQUFNLEVBQUssSUFFbEUsR0FBSSxHQUFRLEVBQWMsRUFBWSxFQUFXLEdBQ2pELE1BQU8sR0FBUSxHQUFLLEVBQVMsRUFBVyxFQUFXLEdBQVMsR0FBU0EsR0FXekUsWUFBb0IsRUFBVyxDQUM3QixNQUFPLElBQVMsU0FBUyxFQUFPLENBQzlCLEdBQUksR0FBUyxFQUFNLE9BQ2YsRUFBUSxFQUNSLEVBQVMsR0FBYyxVQUFVLEtBS3JDLElBSEksR0FDRixFQUFNLFVBRUQsS0FBUyxDQUNkLEdBQUksR0FBTyxFQUFNLEdBQ2pCLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLEdBQUksR0FBVSxDQUFDLEdBQVcsR0FBWSxJQUFTLFVBQzdDLEdBQUksR0FBVSxHQUFJLElBQWMsR0FBSSxJQUl4QyxJQURBLEVBQVEsRUFBVSxFQUFRLEVBQ25CLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEVBQU8sRUFBTSxHQUViLEdBQUksR0FBVyxHQUFZLEdBQ3ZCLEVBQU8sR0FBWSxVQUFZLEdBQVEsR0FBUUEsRUFFbkQsQUFBSSxHQUFRLEdBQVcsRUFBSyxLQUN0QixFQUFLLElBQU8sR0FBZ0IsRUFBa0IsRUFBb0IsSUFDbEUsQ0FBQyxFQUFLLEdBQUcsUUFBVSxFQUFLLElBQU0sRUFFbEMsRUFBVSxFQUFRLEdBQVksRUFBSyxLQUFLLE1BQU0sRUFBUyxFQUFLLElBRTVELEVBQVcsRUFBSyxRQUFVLEdBQUssR0FBVyxHQUN0QyxFQUFRLEtBQ1IsRUFBUSxLQUFLLEdBR3JCLE1BQU8sV0FBVyxDQUNoQixHQUFJLEdBQU8sVUFDUCxFQUFRLEVBQUssR0FFakIsR0FBSSxHQUFXLEVBQUssUUFBVSxHQUFLLEdBQVEsR0FDekMsTUFBTyxHQUFRLE1BQU0sR0FBTyxRQUs5QixPQUhJLEdBQVEsRUFDUixHQUFTLEVBQVMsRUFBTSxHQUFPLE1BQU0sS0FBTSxHQUFRLEVBRWhELEVBQUUsRUFBUSxHQUNmLEdBQVMsRUFBTSxHQUFPLEtBQUssS0FBTSxJQUVuQyxNQUFPLE9Bd0JiLFlBQXNCLEVBQU0sRUFBUyxFQUFTLEVBQVUsRUFBUyxFQUFlLEVBQWMsRUFBUSxFQUFLLEVBQU8sQ0FDaEgsR0FBSSxHQUFRLEVBQVUsRUFDbEIsRUFBUyxFQUFVLEVBQ25CLEdBQVksRUFBVSxFQUN0QixHQUFZLEVBQVcsR0FBa0IsR0FDekMsR0FBUyxFQUFVLEdBQ25CLEdBQU8sR0FBWUEsRUFBWSxHQUFXLEdBRTlDLGFBQW1CLENBS2pCLE9BSkksSUFBUyxVQUFVLE9BQ25CLEdBQU8sRUFBTSxJQUNiLEdBQVEsR0FFTCxNQUNMLEdBQUssSUFBUyxVQUFVLElBRTFCLEdBQUksR0FDRixHQUFJLElBQWMsR0FBVSxJQUN4QixHQUFlLEdBQWEsR0FBTSxJQVN4QyxHQVBJLEdBQ0YsSUFBTyxHQUFZLEdBQU0sRUFBVSxFQUFTLEtBRTFDLEdBQ0YsSUFBTyxHQUFpQixHQUFNLEVBQWUsRUFBYyxLQUU3RCxJQUFVLEdBQ04sSUFBYSxHQUFTLEVBQU8sQ0FDL0IsR0FBSSxJQUFhLEdBQWUsR0FBTSxJQUN0QyxNQUFPLElBQ0wsRUFBTSxFQUFTLEdBQWMsR0FBUSxZQUFhLEVBQ2xELEdBQU0sR0FBWSxFQUFRLEVBQUssRUFBUSxJQUczQyxHQUFJLElBQWMsRUFBUyxFQUFVLEtBQ2pDLEdBQUssR0FBWSxHQUFZLEdBQVEsRUFFekMsVUFBUyxHQUFLLE9BQ2QsQUFBSSxFQUNGLEdBQU8sR0FBUSxHQUFNLEdBQ1osSUFBVSxHQUFTLEdBQzVCLEdBQUssVUFFSCxHQUFTLEVBQU0sSUFDakIsSUFBSyxPQUFTLEdBRVosTUFBUSxPQUFTLElBQVEsZUFBZ0IsS0FDM0MsSUFBSyxJQUFRLEdBQVcsS0FFbkIsR0FBRyxNQUFNLEdBQWEsSUFFL0IsTUFBTyxJQVdULFlBQXdCLEVBQVEsRUFBWSxDQUMxQyxNQUFPLFVBQVMsRUFBUSxFQUFVLENBQ2hDLE1BQU8sSUFBYSxFQUFRLEVBQVEsRUFBVyxHQUFXLEtBWTlELFlBQTZCLEVBQVUsRUFBYyxDQUNuRCxNQUFPLFVBQVMsRUFBTyxFQUFPLENBQzVCLEdBQUksR0FDSixHQUFJLElBQVVBLEdBQWEsSUFBVUEsRUFDbkMsTUFBTyxHQUtULEdBSEksSUFBVUEsR0FDWixHQUFTLEdBRVAsSUFBVUEsRUFBVyxDQUN2QixHQUFJLElBQVdBLEVBQ2IsTUFBTyxHQUVULEFBQUksTUFBTyxJQUFTLFVBQVksTUFBTyxJQUFTLFNBQzlDLEdBQVEsR0FBYSxHQUNyQixFQUFRLEdBQWEsSUFFckIsR0FBUSxHQUFhLEdBQ3JCLEVBQVEsR0FBYSxJQUV2QixFQUFTLEVBQVMsRUFBTyxHQUUzQixNQUFPLElBV1gsWUFBb0IsRUFBVyxDQUM3QixNQUFPLElBQVMsU0FBUyxFQUFXLENBQ2xDLFNBQVksR0FBUyxFQUFXLEdBQVUsT0FDbkMsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsR0FBSSxHQUFVLEtBQ2QsTUFBTyxHQUFVLEVBQVcsU0FBUyxFQUFVLENBQzdDLE1BQU8sSUFBTSxFQUFVLEVBQVMsU0FleEMsWUFBdUIsRUFBUSxFQUFPLENBQ3BDLEVBQVEsSUFBVUEsRUFBWSxJQUFNLEdBQWEsR0FFakQsR0FBSSxHQUFjLEVBQU0sT0FDeEIsR0FBSSxFQUFjLEVBQ2hCLE1BQU8sR0FBYyxHQUFXLEVBQU8sR0FBVSxFQUVuRCxHQUFJLEdBQVMsR0FBVyxFQUFPLEdBQVcsRUFBUyxHQUFXLEtBQzlELE1BQU8sSUFBVyxHQUNkLEdBQVUsR0FBYyxHQUFTLEVBQUcsR0FBUSxLQUFLLElBQ2pELEVBQU8sTUFBTSxFQUFHLEdBZXRCLFlBQXVCLEVBQU0sRUFBUyxFQUFTLEVBQVUsQ0FDdkQsR0FBSSxHQUFTLEVBQVUsRUFDbkIsRUFBTyxHQUFXLEdBRXRCLFlBQW1CLENBUWpCLE9BUEksR0FBWSxHQUNaLEVBQWEsVUFBVSxPQUN2QixFQUFZLEdBQ1osRUFBYSxFQUFTLE9BQ3RCLEVBQU8sRUFBTSxFQUFhLEdBQzFCLEdBQU0sTUFBUSxPQUFTLElBQVEsZUFBZ0IsR0FBVyxFQUFPLEVBRTlELEVBQUUsRUFBWSxHQUNuQixFQUFLLEdBQWEsRUFBUyxHQUU3QixLQUFPLEtBQ0wsRUFBSyxLQUFlLFVBQVUsRUFBRSxHQUVsQyxNQUFPLElBQU0sR0FBSSxFQUFTLEVBQVUsS0FBTSxHQUU1QyxNQUFPLEdBVVQsWUFBcUIsRUFBVyxDQUM5QixNQUFPLFVBQVMsRUFBTyxFQUFLLEVBQU0sQ0FDaEMsTUFBSSxJQUFRLE1BQU8sSUFBUSxVQUFZLEdBQWUsRUFBTyxFQUFLLElBQ2hFLEdBQU0sRUFBT0EsR0FHZixFQUFRLEdBQVMsR0FDakIsQUFBSSxJQUFRQSxFQUNWLEdBQU0sRUFDTixFQUFRLEdBRVIsRUFBTSxHQUFTLEdBRWpCLEVBQU8sSUFBU0EsRUFBYSxFQUFRLEVBQU0sRUFBSSxHQUFNLEdBQVMsR0FDdkQsR0FBVSxFQUFPLEVBQUssRUFBTSxJQVd2QyxZQUFtQyxFQUFVLENBQzNDLE1BQU8sVUFBUyxFQUFPLEVBQU8sQ0FDNUIsTUFBTSxPQUFPLElBQVMsVUFBWSxNQUFPLElBQVMsVUFDaEQsR0FBUSxHQUFTLEdBQ2pCLEVBQVEsR0FBUyxJQUVaLEVBQVMsRUFBTyxJQXFCM0IsWUFBdUIsRUFBTSxFQUFTLEVBQVUsRUFBYSxFQUFTLEVBQVUsRUFBUyxFQUFRLEVBQUssRUFBTyxDQUMzRyxHQUFJLEdBQVUsRUFBVSxFQUNwQixFQUFhLEVBQVUsRUFBVUEsRUFDakMsR0FBa0IsRUFBVUEsRUFBWSxFQUN4QyxHQUFjLEVBQVUsRUFBV0EsRUFDbkMsR0FBbUIsRUFBVUEsRUFBWSxFQUU3QyxHQUFZLEVBQVUsRUFBb0IsR0FDMUMsR0FBVyxDQUFFLEdBQVUsR0FBMEIsR0FFM0MsRUFBVSxHQUNkLElBQVcsQ0FBRSxHQUFpQixJQUVoQyxHQUFJLElBQVUsQ0FDWixFQUFNLEVBQVMsRUFBUyxHQUFhLEVBQVksR0FDakQsR0FBaUIsRUFBUSxFQUFLLEdBRzVCLEdBQVMsRUFBUyxNQUFNQSxFQUFXLElBQ3ZDLE1BQUksSUFBVyxJQUNiLEdBQVEsR0FBUSxJQUVsQixHQUFPLFlBQWMsRUFDZCxHQUFnQixHQUFRLEVBQU0sR0FVdkMsWUFBcUIsRUFBWSxDQUMvQixHQUFJLEdBQU8sR0FBSyxHQUNoQixNQUFPLFVBQVMsRUFBUSxFQUFXLENBR2pDLEdBRkEsRUFBUyxHQUFTLEdBQ2xCLEVBQVksR0FBYSxLQUFPLEVBQUksR0FBVSxHQUFVLEdBQVksS0FDaEUsR0FBYSxHQUFlLEdBQVMsQ0FHdkMsR0FBSSxHQUFRLElBQVMsR0FBVSxLQUFLLE1BQU0sS0FDdEMsRUFBUSxFQUFLLEVBQUssR0FBSyxJQUFPLEVBQUMsRUFBSyxHQUFLLElBRTdDLFNBQVEsSUFBUyxHQUFTLEtBQUssTUFBTSxLQUM5QixDQUFFLEdBQUssR0FBSyxJQUFPLEVBQUMsRUFBSyxHQUFLLElBRXZDLE1BQU8sR0FBSyxJQVdoQixHQUFJLElBQVksQUFBRSxJQUFRLEVBQUksR0FBVyxHQUFJLElBQUksRUFBRSxNQUFNLElBQU8sRUFBbUIsU0FBUyxFQUFRLENBQ2xHLE1BQU8sSUFBSSxJQUFJLElBRDJELEdBVzVFLFlBQXVCLEVBQVUsQ0FDL0IsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsR0FBSSxHQUFNLEdBQU8sR0FDakIsTUFBSSxJQUFPLEdBQ0YsR0FBVyxHQUVoQixHQUFPLEdBQ0YsR0FBVyxHQUViLEdBQVksRUFBUSxFQUFTLEtBNkJ4QyxZQUFvQixFQUFNLEVBQVMsRUFBUyxFQUFVLEVBQVMsRUFBUSxFQUFLLEVBQU8sQ0FDakYsR0FBSSxHQUFZLEVBQVUsRUFDMUIsR0FBSSxDQUFDLEdBQWEsTUFBTyxJQUFRLFdBQy9CLEtBQU0sSUFBSSxJQUFVLEdBRXRCLEdBQUksR0FBUyxFQUFXLEVBQVMsT0FBUyxFQVMxQyxHQVJLLEdBQ0gsSUFBVyxDQUFFLEdBQW9CLElBQ2pDLEVBQVcsRUFBVUEsR0FFdkIsRUFBTSxJQUFRQSxFQUFZLEVBQU0sR0FBVSxHQUFVLEdBQU0sR0FDMUQsRUFBUSxJQUFVQSxFQUFZLEVBQVEsR0FBVSxHQUNoRCxHQUFVLEVBQVUsRUFBUSxPQUFTLEVBRWpDLEVBQVUsR0FBeUIsQ0FDckMsR0FBSSxHQUFnQixFQUNoQixFQUFlLEVBRW5CLEVBQVcsRUFBVUEsRUFFdkIsR0FBSSxJQUFPLEVBQVlBLEVBQVksR0FBUSxHQUV2QyxHQUFVLENBQ1osRUFBTSxFQUFTLEVBQVMsRUFBVSxFQUFTLEVBQWUsRUFDMUQsRUFBUSxFQUFLLEdBa0JmLEdBZkksSUFDRixHQUFVLEdBQVMsSUFFckIsRUFBTyxHQUFRLEdBQ2YsRUFBVSxHQUFRLEdBQ2xCLEVBQVUsR0FBUSxHQUNsQixFQUFXLEdBQVEsR0FDbkIsRUFBVSxHQUFRLEdBQ2xCLEVBQVEsR0FBUSxHQUFLLEdBQVEsS0FBT0EsRUFDL0IsRUFBWSxFQUFJLEVBQUssT0FDdEIsR0FBVSxHQUFRLEdBQUssRUFBUSxHQUUvQixDQUFDLEdBQVMsRUFBVyxHQUFrQixJQUN6QyxJQUFXLENBQUUsR0FBa0IsSUFFN0IsQ0FBQyxHQUFXLEdBQVcsRUFDekIsR0FBSSxJQUFTLEdBQVcsRUFBTSxFQUFTLE9BQ2xDLEFBQUksSUFBVyxHQUFtQixHQUFXLEVBQ2xELEdBQVMsR0FBWSxFQUFNLEVBQVMsR0FDL0IsQUFBSyxJQUFXLEdBQXFCLEdBQVksR0FBaUIsS0FBdUIsQ0FBQyxFQUFRLE9BQ3ZHLEdBQVMsR0FBYyxFQUFNLEVBQVMsRUFBUyxHQUUvQyxHQUFTLEdBQWEsTUFBTUEsRUFBVyxJQUV6QyxHQUFJLElBQVMsR0FBTyxHQUFjLEdBQ2xDLE1BQU8sSUFBZ0IsR0FBTyxHQUFRLElBQVUsRUFBTSxHQWV4RCxZQUFnQyxFQUFVLEVBQVUsRUFBSyxFQUFRLENBQy9ELE1BQUksS0FBYUEsR0FDWixHQUFHLEVBQVUsR0FBWSxLQUFTLENBQUMsR0FBZSxLQUFLLEVBQVEsR0FDM0QsRUFFRixFQWlCVCxZQUE2QixFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQVEsRUFBTyxDQUMzRSxNQUFJLElBQVMsSUFBYSxHQUFTLElBRWpDLEdBQU0sSUFBSSxFQUFVLEdBQ3BCLEdBQVUsRUFBVSxFQUFVQSxFQUFXLEdBQXFCLEdBQzlELEVBQU0sT0FBVSxJQUVYLEVBWVQsWUFBeUIsRUFBTyxDQUM5QixNQUFPLElBQWMsR0FBU0EsRUFBWSxFQWdCNUMsWUFBcUIsRUFBTyxFQUFPLEVBQVMsRUFBWSxFQUFXLEVBQU8sQ0FDeEUsR0FBSSxHQUFZLEVBQVUsRUFDdEIsRUFBWSxFQUFNLE9BQ2xCLEVBQVksRUFBTSxPQUV0QixHQUFJLEdBQWEsR0FBYSxDQUFFLElBQWEsRUFBWSxHQUN2RCxNQUFPLEdBR1QsR0FBSSxHQUFhLEVBQU0sSUFBSSxHQUN2QixFQUFhLEVBQU0sSUFBSSxHQUMzQixHQUFJLEdBQWMsRUFDaEIsTUFBTyxJQUFjLEdBQVMsR0FBYyxFQUU5QyxHQUFJLEdBQVEsR0FDUixHQUFTLEdBQ1QsR0FBUSxFQUFVLEVBQTBCLEdBQUksSUFBV0EsRUFNL0QsSUFKQSxFQUFNLElBQUksRUFBTyxHQUNqQixFQUFNLElBQUksRUFBTyxHQUdWLEVBQUUsRUFBUSxHQUFXLENBQzFCLEdBQUksSUFBVyxFQUFNLEdBQ2pCLEdBQVcsRUFBTSxHQUVyQixHQUFJLEVBQ0YsR0FBSSxJQUFXLEVBQ1gsRUFBVyxHQUFVLEdBQVUsRUFBTyxFQUFPLEVBQU8sR0FDcEQsRUFBVyxHQUFVLEdBQVUsRUFBTyxFQUFPLEVBQU8sR0FFMUQsR0FBSSxLQUFhQSxFQUFXLENBQzFCLEdBQUksR0FDRixTQUVGLEdBQVMsR0FDVCxNQUdGLEdBQUksSUFDRixHQUFJLENBQUMsR0FBVSxFQUFPLFNBQVMsR0FBVSxHQUFVLENBQzdDLEdBQUksQ0FBQyxHQUFTLEdBQU0sS0FDZixNQUFhLElBQVksRUFBVSxHQUFVLEdBQVUsRUFBUyxFQUFZLElBQy9FLE1BQU8sSUFBSyxLQUFLLE1BRWpCLENBQ04sR0FBUyxHQUNULGVBRU8sQ0FDTCxNQUFhLElBQ1gsRUFBVSxHQUFVLEdBQVUsRUFBUyxFQUFZLElBQ3BELENBQ0wsR0FBUyxHQUNULE9BR0osU0FBTSxPQUFVLEdBQ2hCLEVBQU0sT0FBVSxHQUNULEdBb0JULFlBQW9CLEVBQVEsRUFBTyxFQUFLLEVBQVMsRUFBWSxFQUFXLEVBQU8sQ0FDN0UsT0FBUSxPQUNELElBQ0gsR0FBSyxFQUFPLFlBQWMsRUFBTSxZQUMzQixFQUFPLFlBQWMsRUFBTSxXQUM5QixNQUFPLEdBRVQsRUFBUyxFQUFPLE9BQ2hCLEVBQVEsRUFBTSxXQUVYLElBQ0gsTUFBSyxJQUFPLFlBQWMsRUFBTSxZQUM1QixDQUFDLEVBQVUsR0FBSSxJQUFXLEdBQVMsR0FBSSxJQUFXLFNBS25ELE9BQ0EsUUFDQSxJQUdILE1BQU8sSUFBRyxDQUFDLEVBQVEsQ0FBQyxPQUVqQixJQUNILE1BQU8sR0FBTyxNQUFRLEVBQU0sTUFBUSxFQUFPLFNBQVcsRUFBTSxZQUV6RCxRQUNBLElBSUgsTUFBTyxJQUFXLEVBQVEsT0FFdkIsSUFDSCxHQUFJLEdBQVUsT0FFWCxJQUNILEdBQUksR0FBWSxFQUFVLEVBRzFCLEdBRkEsR0FBWSxHQUFVLElBRWxCLEVBQU8sTUFBUSxFQUFNLE1BQVEsQ0FBQyxFQUNoQyxNQUFPLEdBR1QsR0FBSSxHQUFVLEVBQU0sSUFBSSxHQUN4QixHQUFJLEVBQ0YsTUFBTyxJQUFXLEVBRXBCLEdBQVcsRUFHWCxFQUFNLElBQUksRUFBUSxHQUNsQixHQUFJLEdBQVMsR0FBWSxFQUFRLEdBQVMsRUFBUSxHQUFRLEVBQVMsRUFBWSxFQUFXLEdBQzFGLFNBQU0sT0FBVSxHQUNULE1BRUosSUFDSCxHQUFJLEdBQ0YsTUFBTyxJQUFjLEtBQUssSUFBVyxHQUFjLEtBQUssR0FHOUQsTUFBTyxHQWdCVCxZQUFzQixFQUFRLEVBQU8sRUFBUyxFQUFZLEVBQVcsRUFBTyxDQUMxRSxHQUFJLEdBQVksRUFBVSxFQUN0QixFQUFXLEdBQVcsR0FDdEIsRUFBWSxFQUFTLE9BQ3JCLEVBQVcsR0FBVyxHQUN0QixFQUFZLEVBQVMsT0FFekIsR0FBSSxHQUFhLEdBQWEsQ0FBQyxFQUM3QixNQUFPLEdBR1QsT0FESSxHQUFRLEVBQ0wsS0FBUyxDQUNkLEdBQUksSUFBTSxFQUFTLEdBQ25CLEdBQUksQ0FBRSxHQUFZLEtBQU8sR0FBUSxHQUFlLEtBQUssRUFBTyxLQUMxRCxNQUFPLEdBSVgsR0FBSSxJQUFhLEVBQU0sSUFBSSxHQUN2QixHQUFhLEVBQU0sSUFBSSxHQUMzQixHQUFJLElBQWMsR0FDaEIsTUFBTyxLQUFjLEdBQVMsSUFBYyxFQUU5QyxHQUFJLElBQVMsR0FDYixFQUFNLElBQUksRUFBUSxHQUNsQixFQUFNLElBQUksRUFBTyxHQUdqQixPQURJLElBQVcsRUFDUixFQUFFLEVBQVEsR0FBVyxDQUMxQixHQUFNLEVBQVMsR0FDZixHQUFJLElBQVcsRUFBTyxJQUNsQixHQUFXLEVBQU0sSUFFckIsR0FBSSxFQUNGLEdBQUksSUFBVyxFQUNYLEVBQVcsR0FBVSxHQUFVLEdBQUssRUFBTyxFQUFRLEdBQ25ELEVBQVcsR0FBVSxHQUFVLEdBQUssRUFBUSxFQUFPLEdBR3pELEdBQUksQ0FBRSxNQUFhQSxFQUNWLEtBQWEsSUFBWSxFQUFVLEdBQVUsR0FBVSxFQUFTLEVBQVksR0FDN0UsSUFDRCxDQUNMLEdBQVMsR0FDVCxNQUVGLElBQWEsSUFBVyxJQUFPLGVBRWpDLEdBQUksSUFBVSxDQUFDLEdBQVUsQ0FDdkIsR0FBSSxJQUFVLEVBQU8sWUFDakIsR0FBVSxFQUFNLFlBR3BCLEFBQUksSUFBVyxJQUNWLGVBQWlCLElBQVUsZUFBaUIsSUFDN0MsQ0FBRSxPQUFPLEtBQVcsWUFBYyxhQUFtQixLQUNuRCxNQUFPLEtBQVcsWUFBYyxhQUFtQixNQUN2RCxJQUFTLElBR2IsU0FBTSxPQUFVLEdBQ2hCLEVBQU0sT0FBVSxHQUNULEdBVVQsWUFBa0IsRUFBTSxDQUN0QixNQUFPLElBQVksR0FBUyxFQUFNQSxFQUFXLElBQVUsRUFBTyxJQVVoRSxZQUFvQixFQUFRLENBQzFCLE1BQU8sSUFBZSxFQUFRLEdBQU0sSUFXdEMsWUFBc0IsRUFBUSxDQUM1QixNQUFPLElBQWUsRUFBUSxHQUFRLElBVXhDLEdBQUksSUFBVSxBQUFDLEdBQWlCLFNBQVMsRUFBTSxDQUM3QyxNQUFPLElBQVEsSUFBSSxJQURJLEdBV3pCLFlBQXFCLEVBQU0sQ0FLekIsT0FKSSxHQUFVLEVBQUssS0FBTyxHQUN0QixFQUFRLEdBQVUsR0FDbEIsRUFBUyxHQUFlLEtBQUssR0FBVyxHQUFVLEVBQU0sT0FBUyxFQUU5RCxLQUFVLENBQ2YsR0FBSSxHQUFPLEVBQU0sR0FDYixFQUFZLEVBQUssS0FDckIsR0FBSSxHQUFhLE1BQVEsR0FBYSxFQUNwQyxNQUFPLEdBQUssS0FHaEIsTUFBTyxHQVVULFlBQW1CLEVBQU0sQ0FDdkIsR0FBSSxHQUFTLEdBQWUsS0FBSyxFQUFRLGVBQWlCLEVBQVMsRUFDbkUsTUFBTyxHQUFPLFlBY2hCLGFBQXVCLENBQ3JCLEdBQUksR0FBUyxFQUFPLFVBQVksR0FDaEMsU0FBUyxJQUFXLEdBQVcsR0FBZSxFQUN2QyxVQUFVLE9BQVMsRUFBTyxVQUFVLEdBQUksVUFBVSxJQUFNLEVBV2pFLFlBQW9CLEVBQUssRUFBSyxDQUM1QixHQUFJLEdBQU8sRUFBSSxTQUNmLE1BQU8sSUFBVSxHQUNiLEVBQUssTUFBTyxJQUFPLFNBQVcsU0FBVyxRQUN6QyxFQUFLLElBVVgsWUFBc0IsRUFBUSxDQUk1QixPQUhJLEdBQVMsR0FBSyxHQUNkLEVBQVMsRUFBTyxPQUViLEtBQVUsQ0FDZixHQUFJLEdBQU0sRUFBTyxHQUNiLEVBQVEsRUFBTyxHQUVuQixFQUFPLEdBQVUsQ0FBQyxFQUFLLEVBQU8sR0FBbUIsSUFFbkQsTUFBTyxHQVdULFlBQW1CLEVBQVEsRUFBSyxDQUM5QixHQUFJLEdBQVEsR0FBUyxFQUFRLEdBQzdCLE1BQU8sSUFBYSxHQUFTLEVBQVFBLEVBVXZDLFlBQW1CLEVBQU8sQ0FDeEIsR0FBSSxHQUFRLEdBQWUsS0FBSyxFQUFPLElBQ25DLEVBQU0sRUFBTSxJQUVoQixHQUFJLENBQ0YsRUFBTSxJQUFrQkEsRUFDeEIsR0FBSSxHQUFXLFNBQ1IsRUFBUCxFQUVGLEdBQUksR0FBUyxHQUFxQixLQUFLLEdBQ3ZDLE1BQUksSUFDRixDQUFJLEVBQ0YsRUFBTSxJQUFrQixFQUV4QixNQUFPLEdBQU0sS0FHVixFQVVULEdBQUksSUFBYSxBQUFDLEdBQStCLFNBQVMsRUFBUSxDQUNoRSxNQUFJLElBQVUsS0FDTCxHQUVULEdBQVMsR0FBTyxHQUNULEdBQVksR0FBaUIsR0FBUyxTQUFTLEVBQVEsQ0FDNUQsTUFBTyxJQUFxQixLQUFLLEVBQVEsT0FOUixHQWlCakMsR0FBZSxBQUFDLEdBQStCLFNBQVMsRUFBUSxDQUVsRSxPQURJLEdBQVMsR0FDTixHQUNMLEdBQVUsRUFBUSxHQUFXLElBQzdCLEVBQVMsR0FBYSxHQUV4QixNQUFPLElBTjhCLEdBZ0JuQyxHQUFTLEdBR2IsQUFBSyxLQUFZLEdBQU8sR0FBSSxJQUFTLEdBQUksYUFBWSxNQUFRLElBQ3hELElBQU8sR0FBTyxHQUFJLE1BQVEsSUFDMUIsSUFBVyxHQUFPLEdBQVEsWUFBYyxJQUN4QyxJQUFPLEdBQU8sR0FBSSxNQUFRLElBQzFCLElBQVcsR0FBTyxHQUFJLE1BQVksS0FDckMsSUFBUyxTQUFTLEVBQU8sQ0FDdkIsR0FBSSxHQUFTLEdBQVcsR0FDcEIsRUFBTyxHQUFVLEdBQVksRUFBTSxZQUFjQSxFQUNqRCxFQUFhLEVBQU8sR0FBUyxHQUFRLEdBRXpDLEdBQUksRUFDRixPQUFRLE9BQ0QsSUFBb0IsTUFBTyxRQUMzQixJQUFlLE1BQU8sUUFDdEIsSUFBbUIsTUFBTyxRQUMxQixJQUFlLE1BQU8sUUFDdEIsSUFBbUIsTUFBTyxJQUduQyxNQUFPLEtBY1gsWUFBaUIsRUFBTyxFQUFLLEVBQVksQ0FJdkMsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFXLE9BRWpCLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBTyxFQUFXLEdBQ2xCLEVBQU8sRUFBSyxLQUVoQixPQUFRLEVBQUssVUFDTixPQUFhLEdBQVMsRUFBTSxVQUM1QixZQUFhLEdBQU8sRUFBTSxVQUMxQixPQUFhLEVBQU0sR0FBVSxFQUFLLEVBQVEsR0FBTyxVQUNqRCxZQUFhLEVBQVEsR0FBVSxFQUFPLEVBQU0sR0FBTyxPQUc1RCxNQUFPLENBQUUsTUFBUyxFQUFPLElBQU8sR0FVbEMsWUFBd0IsRUFBUSxDQUM5QixHQUFJLEdBQVEsRUFBTyxNQUFNLElBQ3pCLE1BQU8sR0FBUSxFQUFNLEdBQUcsTUFBTSxJQUFrQixHQVlsRCxZQUFpQixFQUFRLEVBQU0sRUFBUyxDQUN0QyxFQUFPLEdBQVMsRUFBTSxHQU10QixPQUpJLEdBQVEsR0FDUixFQUFTLEVBQUssT0FDZCxFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFNLEdBQU0sRUFBSyxJQUNyQixHQUFJLENBQUUsR0FBUyxHQUFVLE1BQVEsRUFBUSxFQUFRLElBQy9DLE1BRUYsRUFBUyxFQUFPLEdBRWxCLE1BQUksSUFBVSxFQUFFLEdBQVMsRUFDaEIsRUFFVCxHQUFTLEdBQVUsS0FBTyxFQUFJLEVBQU8sT0FDOUIsQ0FBQyxDQUFDLEdBQVUsR0FBUyxJQUFXLEdBQVEsRUFBSyxJQUNqRCxJQUFRLElBQVcsR0FBWSxLQVVwQyxZQUF3QixFQUFPLENBQzdCLEdBQUksR0FBUyxFQUFNLE9BQ2YsRUFBUyxHQUFJLEdBQU0sWUFBWSxHQUduQyxNQUFJLElBQVUsTUFBTyxHQUFNLElBQU0sVUFBWSxHQUFlLEtBQUssRUFBTyxVQUN0RSxHQUFPLE1BQVEsRUFBTSxNQUNyQixFQUFPLE1BQVEsRUFBTSxPQUVoQixFQVVULFlBQXlCLEVBQVEsQ0FDL0IsTUFBUSxPQUFPLEdBQU8sYUFBZSxZQUFjLENBQUMsR0FBWSxHQUM1RCxHQUFXLEdBQWEsSUFDeEIsR0FlTixZQUF3QixFQUFRLEVBQUssRUFBUSxDQUMzQyxHQUFJLEdBQU8sRUFBTyxZQUNsQixPQUFRLE9BQ0QsSUFDSCxNQUFPLElBQWlCLE9BRXJCLE9BQ0EsSUFDSCxNQUFPLElBQUksR0FBSyxDQUFDLE9BRWQsSUFDSCxNQUFPLElBQWMsRUFBUSxPQUUxQixRQUFpQixRQUNqQixRQUFjLFFBQWUsUUFDN0IsUUFBZSxRQUFzQixRQUFnQixJQUN4RCxNQUFPLElBQWdCLEVBQVEsT0FFNUIsSUFDSCxNQUFPLElBQUksT0FFUixRQUNBLElBQ0gsTUFBTyxJQUFJLEdBQUssT0FFYixJQUNILE1BQU8sSUFBWSxPQUVoQixJQUNILE1BQU8sSUFBSSxPQUVSLElBQ0gsTUFBTyxJQUFZLElBWXpCLFlBQTJCLEVBQVEsRUFBUyxDQUMxQyxHQUFJLEdBQVMsRUFBUSxPQUNyQixHQUFJLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSSxHQUFZLEVBQVMsRUFDekIsU0FBUSxHQUFjLEdBQVMsRUFBSSxLQUFPLElBQU0sRUFBUSxHQUN4RCxFQUFVLEVBQVEsS0FBSyxFQUFTLEVBQUksS0FBTyxLQUNwQyxFQUFPLFFBQVEsR0FBZTtBQUFBLG1CQUF5QixFQUFVO0FBQUEsR0FVMUUsWUFBdUIsRUFBTyxDQUM1QixNQUFPLElBQVEsSUFBVSxHQUFZLElBQ25DLENBQUMsQ0FBRSxLQUFvQixHQUFTLEVBQU0sS0FXMUMsWUFBaUIsRUFBTyxFQUFRLENBQzlCLEdBQUksR0FBTyxNQUFPLEdBQ2xCLFNBQVMsR0FBaUIsRUFFbkIsQ0FBQyxDQUFDLEdBQ04sSUFBUSxVQUNOLEdBQVEsVUFBWSxHQUFTLEtBQUssS0FDaEMsRUFBUSxJQUFNLEVBQVEsR0FBSyxHQUFLLEVBQVEsRUFhakQsWUFBd0IsRUFBTyxFQUFPLEVBQVEsQ0FDNUMsR0FBSSxDQUFDLEdBQVMsR0FDWixNQUFPLEdBRVQsR0FBSSxHQUFPLE1BQU8sR0FDbEIsTUFBSSxJQUFRLFNBQ0gsR0FBWSxJQUFXLEdBQVEsRUFBTyxFQUFPLFFBQzdDLEdBQVEsVUFBWSxJQUFTLElBRTdCLEdBQUcsRUFBTyxHQUFRLEdBRXBCLEdBV1QsWUFBZSxFQUFPLEVBQVEsQ0FDNUIsR0FBSSxHQUFRLEdBQ1YsTUFBTyxHQUVULEdBQUksR0FBTyxNQUFPLEdBQ2xCLE1BQUksSUFBUSxVQUFZLEdBQVEsVUFBWSxHQUFRLFdBQ2hELEdBQVMsTUFBUSxHQUFTLEdBQ3JCLEdBRUYsR0FBYyxLQUFLLElBQVUsQ0FBQyxHQUFhLEtBQUssSUFDcEQsR0FBVSxNQUFRLElBQVMsSUFBTyxHQVV2QyxZQUFtQixFQUFPLENBQ3hCLEdBQUksR0FBTyxNQUFPLEdBQ2xCLE1BQVEsSUFBUSxVQUFZLEdBQVEsVUFBWSxHQUFRLFVBQVksR0FBUSxVQUN2RSxJQUFVLFlBQ1YsSUFBVSxLQVdqQixZQUFvQixFQUFNLENBQ3hCLEdBQUksR0FBVyxHQUFZLEdBQ3ZCLEVBQVEsRUFBTyxHQUVuQixHQUFJLE1BQU8sSUFBUyxZQUFjLENBQUUsS0FBWSxJQUFZLFdBQzFELE1BQU8sR0FFVCxHQUFJLElBQVMsRUFDWCxNQUFPLEdBRVQsR0FBSSxHQUFPLEdBQVEsR0FDbkIsTUFBTyxDQUFDLENBQUMsR0FBUSxJQUFTLEVBQUssR0FVakMsWUFBa0IsRUFBTSxDQUN0QixNQUFPLENBQUMsQ0FBQyxJQUFlLEtBQWMsR0FVeEMsR0FBSSxJQUFhLEdBQWEsR0FBYSxHQVMzQyxZQUFxQixFQUFPLENBQzFCLEdBQUksR0FBTyxHQUFTLEVBQU0sWUFDdEIsRUFBUyxNQUFPLElBQVEsWUFBYyxFQUFLLFdBQWMsR0FFN0QsTUFBTyxLQUFVLEVBV25CLFlBQTRCLEVBQU8sQ0FDakMsTUFBTyxLQUFVLEdBQVMsQ0FBQyxHQUFTLEdBWXRDLFlBQWlDLEVBQUssRUFBVSxDQUM5QyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFJLElBQVUsS0FDTCxHQUVGLEVBQU8sS0FBUyxHQUNwQixLQUFhQSxHQUFjLElBQU8sSUFBTyxLQVloRCxZQUF1QixFQUFNLENBQzNCLEdBQUksR0FBUyxHQUFRLEVBQU0sU0FBUyxFQUFLLENBQ3ZDLE1BQUksR0FBTSxPQUFTLEdBQ2pCLEVBQU0sUUFFRCxJQUdMLEVBQVEsRUFBTyxNQUNuQixNQUFPLEdBbUJULFlBQW1CLEVBQU0sRUFBUSxDQUMvQixHQUFJLEdBQVUsRUFBSyxHQUNmLEVBQWEsRUFBTyxHQUNwQixFQUFhLEVBQVUsRUFDdkIsRUFBVyxFQUFjLEdBQWlCLEVBQXFCLEdBRS9ELEVBQ0EsR0FBYyxHQUFtQixHQUFXLEdBQzVDLEdBQWMsR0FBbUIsR0FBVyxHQUFxQixFQUFLLEdBQUcsUUFBVSxFQUFPLElBQzFGLEdBQWUsR0FBZ0IsSUFBc0IsRUFBTyxHQUFHLFFBQVUsRUFBTyxJQUFRLEdBQVcsRUFHdkcsR0FBSSxDQUFFLElBQVksR0FDaEIsTUFBTyxHQUdULEFBQUksRUFBYSxHQUNmLEdBQUssR0FBSyxFQUFPLEdBRWpCLEdBQWMsRUFBVSxFQUFpQixFQUFJLEdBRy9DLEdBQUksR0FBUSxFQUFPLEdBQ25CLEdBQUksRUFBTyxDQUNULEdBQUksR0FBVyxFQUFLLEdBQ3BCLEVBQUssR0FBSyxFQUFXLEdBQVksRUFBVSxFQUFPLEVBQU8sSUFBTSxFQUMvRCxFQUFLLEdBQUssRUFBVyxHQUFlLEVBQUssR0FBSSxHQUFlLEVBQU8sR0FHckUsU0FBUSxFQUFPLEdBQ1gsR0FDRixHQUFXLEVBQUssR0FDaEIsRUFBSyxHQUFLLEVBQVcsR0FBaUIsRUFBVSxFQUFPLEVBQU8sSUFBTSxFQUNwRSxFQUFLLEdBQUssRUFBVyxHQUFlLEVBQUssR0FBSSxHQUFlLEVBQU8sSUFHckUsRUFBUSxFQUFPLEdBQ1gsR0FDRixHQUFLLEdBQUssR0FHUixFQUFhLEdBQ2YsR0FBSyxHQUFLLEVBQUssSUFBTSxLQUFPLEVBQU8sR0FBSyxHQUFVLEVBQUssR0FBSSxFQUFPLEtBR2hFLEVBQUssSUFBTSxNQUNiLEdBQUssR0FBSyxFQUFPLElBR25CLEVBQUssR0FBSyxFQUFPLEdBQ2pCLEVBQUssR0FBSyxFQUVILEVBWVQsWUFBc0IsRUFBUSxDQUM1QixHQUFJLEdBQVMsR0FDYixHQUFJLEdBQVUsS0FDWixPQUFTLEtBQU8sSUFBTyxHQUNyQixFQUFPLEtBQUssR0FHaEIsTUFBTyxHQVVULFlBQXdCLEVBQU8sQ0FDN0IsTUFBTyxJQUFxQixLQUFLLEdBWW5DLFlBQWtCLEVBQU0sRUFBTyxFQUFXLENBQ3hDLFNBQVEsR0FBVSxJQUFVQSxFQUFhLEVBQUssT0FBUyxFQUFLLEVBQU8sR0FDNUQsVUFBVyxDQU1oQixPQUxJLEdBQU8sVUFDUCxFQUFRLEdBQ1IsRUFBUyxHQUFVLEVBQUssT0FBUyxFQUFPLEdBQ3hDLEVBQVEsRUFBTSxHQUVYLEVBQUUsRUFBUSxHQUNmLEVBQU0sR0FBUyxFQUFLLEVBQVEsR0FFOUIsRUFBUSxHQUVSLE9BREksR0FBWSxFQUFNLEVBQVEsR0FDdkIsRUFBRSxFQUFRLEdBQ2YsRUFBVSxHQUFTLEVBQUssR0FFMUIsU0FBVSxHQUFTLEVBQVUsR0FDdEIsR0FBTSxFQUFNLEtBQU0sSUFZN0IsWUFBZ0IsRUFBUSxFQUFNLENBQzVCLE1BQU8sR0FBSyxPQUFTLEVBQUksRUFBUyxHQUFRLEVBQVEsR0FBVSxFQUFNLEVBQUcsS0FhdkUsWUFBaUIsRUFBTyxFQUFTLENBSy9CLE9BSkksR0FBWSxFQUFNLE9BQ2xCLEVBQVMsR0FBVSxFQUFRLE9BQVEsR0FDbkMsRUFBVyxHQUFVLEdBRWxCLEtBQVUsQ0FDZixHQUFJLEdBQVEsRUFBUSxHQUNwQixFQUFNLEdBQVUsR0FBUSxFQUFPLEdBQWEsRUFBUyxHQUFTQSxFQUVoRSxNQUFPLEdBV1QsWUFBaUIsRUFBUSxFQUFLLENBQzVCLEdBQUksTUFBUSxlQUFpQixNQUFPLEdBQU8sSUFBUyxhQUloRCxHQUFPLFlBSVgsTUFBTyxHQUFPLEdBaUJoQixHQUFJLElBQVUsR0FBUyxJQVVuQixHQUFhLElBQWlCLFNBQVMsRUFBTSxFQUFNLENBQ3JELE1BQU8sSUFBSyxXQUFXLEVBQU0sSUFXM0IsR0FBYyxHQUFTLElBWTNCLFlBQXlCLEVBQVMsRUFBVyxFQUFTLENBQ3BELEdBQUksR0FBVSxFQUFZLEdBQzFCLE1BQU8sSUFBWSxFQUFTLEdBQWtCLEVBQVEsR0FBa0IsR0FBZSxHQUFTLEtBWWxHLFlBQWtCLEVBQU0sQ0FDdEIsR0FBSSxHQUFRLEVBQ1IsRUFBYSxFQUVqQixNQUFPLFdBQVcsQ0FDaEIsR0FBSSxHQUFRLEtBQ1IsRUFBWSxFQUFZLEdBQVEsR0FHcEMsR0FEQSxFQUFhLEVBQ1QsRUFBWSxHQUNkLEdBQUksRUFBRSxHQUFTLEdBQ2IsTUFBTyxXQUFVLE9BR25CLEdBQVEsRUFFVixNQUFPLEdBQUssTUFBTUEsRUFBVyxZQVlqQyxZQUFxQixFQUFPLEVBQU0sQ0FDaEMsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BQ2YsRUFBWSxFQUFTLEVBR3pCLElBREEsRUFBTyxJQUFTQSxFQUFZLEVBQVMsRUFDOUIsRUFBRSxFQUFRLEdBQU0sQ0FDckIsR0FBSSxHQUFPLEdBQVcsRUFBTyxHQUN6QixFQUFRLEVBQU0sR0FFbEIsRUFBTSxHQUFRLEVBQU0sR0FDcEIsRUFBTSxHQUFTLEVBRWpCLFNBQU0sT0FBUyxFQUNSLEVBVVQsR0FBSSxJQUFlLEdBQWMsU0FBUyxFQUFRLENBQ2hELEdBQUksR0FBUyxHQUNiLE1BQUksR0FBTyxXQUFXLEtBQU8sSUFDM0IsRUFBTyxLQUFLLElBRWQsRUFBTyxRQUFRLEdBQVksU0FBUyxFQUFPLEVBQVEsRUFBTyxFQUFXLENBQ25FLEVBQU8sS0FBSyxFQUFRLEVBQVUsUUFBUSxHQUFjLE1BQVMsR0FBVSxLQUVsRSxJQVVULFlBQWUsRUFBTyxDQUNwQixHQUFJLE1BQU8sSUFBUyxVQUFZLEdBQVMsR0FDdkMsTUFBTyxHQUVULEdBQUksR0FBVSxFQUFRLEdBQ3RCLE1BQVEsSUFBVSxLQUFRLEVBQUksR0FBVSxDQUFDLEVBQVksS0FBTyxFQVU5RCxZQUFrQixFQUFNLENBQ3RCLEdBQUksR0FBUSxLQUFNLENBQ2hCLEdBQUksQ0FDRixNQUFPLElBQWEsS0FBSyxTQUNsQixFQUFQLEVBQ0YsR0FBSSxDQUNGLE1BQVEsR0FBTyxTQUNSLEVBQVAsR0FFSixNQUFPLEdBV1QsWUFBMkIsRUFBUyxFQUFTLENBQzNDLFVBQVUsRUFBVyxTQUFTLEVBQU0sQ0FDbEMsR0FBSSxHQUFRLEtBQU8sRUFBSyxHQUN4QixBQUFLLEVBQVUsRUFBSyxJQUFPLENBQUMsR0FBYyxFQUFTLElBQ2pELEVBQVEsS0FBSyxLQUdWLEVBQVEsT0FVakIsWUFBc0IsRUFBUyxDQUM3QixHQUFJLFlBQW1CLElBQ3JCLE1BQU8sR0FBUSxRQUVqQixHQUFJLEdBQVMsR0FBSSxJQUFjLEVBQVEsWUFBYSxFQUFRLFdBQzVELFNBQU8sWUFBYyxHQUFVLEVBQVEsYUFDdkMsRUFBTyxVQUFhLEVBQVEsVUFDNUIsRUFBTyxXQUFhLEVBQVEsV0FDckIsRUEwQlQsWUFBZSxFQUFPLEVBQU0sRUFBTyxDQUNqQyxBQUFLLEdBQVEsR0FBZSxFQUFPLEVBQU0sR0FBUyxJQUFTQSxHQUN6RCxFQUFPLEVBRVAsRUFBTyxHQUFVLEdBQVUsR0FBTyxHQUVwQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLENBQUMsR0FBVSxFQUFPLEVBQ3BCLE1BQU8sR0FNVCxPQUpJLEdBQVEsRUFDUixFQUFXLEVBQ1gsRUFBUyxFQUFNLEdBQVcsRUFBUyxJQUVoQyxFQUFRLEdBQ2IsRUFBTyxLQUFjLEdBQVUsRUFBTyxFQUFRLEdBQVMsR0FFekQsTUFBTyxHQWtCVCxZQUFpQixFQUFPLENBTXRCLE9BTEksR0FBUSxHQUNSLEVBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUNuQyxFQUFXLEVBQ1gsRUFBUyxHQUVOLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxFQUFNLEdBQ2xCLEFBQUksR0FDRixHQUFPLEtBQWMsR0FHekIsTUFBTyxHQXlCVCxhQUFrQixDQUNoQixHQUFJLEdBQVMsVUFBVSxPQUN2QixHQUFJLENBQUMsRUFDSCxNQUFPLEdBTVQsT0FKSSxHQUFPLEVBQU0sRUFBUyxHQUN0QixFQUFRLFVBQVUsR0FDbEIsRUFBUSxFQUVMLEtBQ0wsRUFBSyxFQUFRLEdBQUssVUFBVSxHQUU5QixNQUFPLElBQVUsR0FBUSxHQUFTLEdBQVUsR0FBUyxDQUFDLEdBQVEsR0FBWSxFQUFNLElBd0JsRixHQUFJLElBQWEsR0FBUyxTQUFTLEVBQU8sRUFBUSxDQUNoRCxNQUFPLElBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUFZLEVBQVEsRUFBRyxHQUFtQixLQUNoRSxLQTZCRixHQUFlLEdBQVMsU0FBUyxFQUFPLEVBQVEsQ0FDbEQsR0FBSSxHQUFXLEdBQUssR0FDcEIsTUFBSSxJQUFrQixJQUNwQixHQUFXQSxHQUVOLEdBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUFZLEVBQVEsRUFBRyxHQUFtQixJQUFPLEdBQVksRUFBVSxJQUM3RixLQTBCRixHQUFpQixHQUFTLFNBQVMsRUFBTyxFQUFRLENBQ3BELEdBQUksR0FBYSxHQUFLLEdBQ3RCLE1BQUksSUFBa0IsSUFDcEIsR0FBYUEsR0FFUixHQUFrQixHQUNyQixHQUFlLEVBQU8sR0FBWSxFQUFRLEVBQUcsR0FBbUIsSUFBT0EsRUFBVyxHQUNsRixLQTRCTixZQUFjLEVBQU8sRUFBRyxFQUFPLENBQzdCLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQUssR0FHTCxHQUFLLEdBQVMsSUFBTUEsRUFBYSxFQUFJLEdBQVUsR0FDeEMsR0FBVSxFQUFPLEVBQUksRUFBSSxFQUFJLEVBQUcsSUFIOUIsR0ErQlgsWUFBbUIsRUFBTyxFQUFHLEVBQU8sQ0FDbEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdMLEdBQUssR0FBUyxJQUFNQSxFQUFhLEVBQUksR0FBVSxHQUMvQyxFQUFJLEVBQVMsRUFDTixHQUFVLEVBQU8sRUFBRyxFQUFJLEVBQUksRUFBSSxJQUo5QixHQTBDWCxZQUF3QixFQUFPLEVBQVcsQ0FDeEMsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBVSxFQUFPLEdBQVksRUFBVyxHQUFJLEdBQU0sSUFDbEQsR0FzQ04sWUFBbUIsRUFBTyxFQUFXLENBQ25DLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQVUsRUFBTyxHQUFZLEVBQVcsR0FBSSxJQUM1QyxHQWdDTixZQUFjLEVBQU8sRUFBTyxFQUFPLEVBQUssQ0FDdEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdELElBQVMsTUFBTyxJQUFTLFVBQVksR0FBZSxFQUFPLEVBQU8sSUFDcEUsR0FBUSxFQUNSLEVBQU0sR0FFRCxHQUFTLEVBQU8sRUFBTyxFQUFPLElBTjVCLEdBNENYLFlBQW1CLEVBQU8sRUFBVyxFQUFXLENBQzlDLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLEdBQUksQ0FBQyxFQUNILE1BQU8sR0FFVCxHQUFJLEdBQVEsR0FBYSxLQUFPLEVBQUksR0FBVSxHQUM5QyxNQUFJLEdBQVEsR0FDVixHQUFRLEdBQVUsRUFBUyxFQUFPLElBRTdCLEdBQWMsRUFBTyxHQUFZLEVBQVcsR0FBSSxHQXNDekQsWUFBdUIsRUFBTyxFQUFXLEVBQVcsQ0FDbEQsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBUSxFQUFTLEVBQ3JCLE1BQUksS0FBY0EsR0FDaEIsR0FBUSxHQUFVLEdBQ2xCLEVBQVEsRUFBWSxFQUNoQixHQUFVLEVBQVMsRUFBTyxHQUMxQixHQUFVLEVBQU8sRUFBUyxJQUV6QixHQUFjLEVBQU8sR0FBWSxFQUFXLEdBQUksRUFBTyxJQWlCaEUsWUFBaUIsRUFBTyxDQUN0QixHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVMsR0FBWSxFQUFPLEdBQUssR0FpQjFDLFlBQXFCLEVBQU8sQ0FDMUIsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBTyxHQUFTLEdBQVksRUFBTyxHQUFZLEdBdUJqRCxZQUFzQixFQUFPLEVBQU8sQ0FDbEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdMLEdBQVEsSUFBVUEsRUFBWSxFQUFJLEdBQVUsR0FDckMsR0FBWSxFQUFPLElBSGpCLEdBcUJYLFlBQW1CLEVBQU8sQ0FLeEIsT0FKSSxHQUFRLEdBQ1IsRUFBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ25DLEVBQVMsR0FFTixFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQU8sRUFBTSxHQUNqQixFQUFPLEVBQUssSUFBTSxFQUFLLEdBRXpCLE1BQU8sR0FxQlQsWUFBYyxFQUFPLENBQ25CLE1BQVEsSUFBUyxFQUFNLE9BQVUsRUFBTSxHQUFLQSxFQTBCOUMsWUFBaUIsRUFBTyxFQUFPLEVBQVcsQ0FDeEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBUSxHQUFhLEtBQU8sRUFBSSxHQUFVLEdBQzlDLE1BQUksR0FBUSxHQUNWLEdBQVEsR0FBVSxFQUFTLEVBQU8sSUFFN0IsR0FBWSxFQUFPLEVBQU8sR0FpQm5DLFlBQWlCLEVBQU8sQ0FDdEIsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBTyxHQUFTLEdBQVUsRUFBTyxFQUFHLElBQU0sR0FvQjVDLEdBQUksSUFBZSxHQUFTLFNBQVMsRUFBUSxDQUMzQyxHQUFJLEdBQVMsR0FBUyxFQUFRLElBQzlCLE1BQVEsR0FBTyxRQUFVLEVBQU8sS0FBTyxFQUFPLEdBQzFDLEdBQWlCLEdBQ2pCLEtBMEJGLEdBQWlCLEdBQVMsU0FBUyxFQUFRLENBQzdDLEdBQUksR0FBVyxHQUFLLEdBQ2hCLEVBQVMsR0FBUyxFQUFRLElBRTlCLE1BQUksS0FBYSxHQUFLLEdBQ3BCLEVBQVdBLEVBRVgsRUFBTyxNQUVELEVBQU8sUUFBVSxFQUFPLEtBQU8sRUFBTyxHQUMxQyxHQUFpQixFQUFRLEdBQVksRUFBVSxJQUMvQyxLQXdCRixHQUFtQixHQUFTLFNBQVMsRUFBUSxDQUMvQyxHQUFJLEdBQWEsR0FBSyxHQUNsQixFQUFTLEdBQVMsRUFBUSxJQUU5QixTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3hELEdBQ0YsRUFBTyxNQUVELEVBQU8sUUFBVSxFQUFPLEtBQU8sRUFBTyxHQUMxQyxHQUFpQixFQUFRQSxFQUFXLEdBQ3BDLEtBa0JOLFlBQWMsRUFBTyxFQUFXLENBQzlCLE1BQU8sSUFBUyxLQUFPLEdBQUssR0FBVyxLQUFLLEVBQU8sR0FpQnJELFlBQWMsRUFBTyxDQUNuQixHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVMsRUFBTSxFQUFTLEdBQUtBLEVBd0J0QyxZQUFxQixFQUFPLEVBQU8sRUFBVyxDQUM1QyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSSxHQUFRLEVBQ1osTUFBSSxLQUFjQSxHQUNoQixHQUFRLEdBQVUsR0FDbEIsRUFBUSxFQUFRLEVBQUksR0FBVSxFQUFTLEVBQU8sR0FBSyxHQUFVLEVBQU8sRUFBUyxJQUV4RSxJQUFVLEVBQ2IsR0FBa0IsRUFBTyxFQUFPLEdBQ2hDLEdBQWMsRUFBTyxHQUFXLEVBQU8sSUF3QjdDLFlBQWEsRUFBTyxFQUFHLENBQ3JCLE1BQVEsSUFBUyxFQUFNLE9BQVUsR0FBUSxFQUFPLEdBQVUsSUFBTUEsRUEwQmxFLEdBQUksSUFBTyxHQUFTLElBc0JwQixZQUFpQixFQUFPLEVBQVEsQ0FDOUIsTUFBUSxJQUFTLEVBQU0sUUFBVSxHQUFVLEVBQU8sT0FDOUMsR0FBWSxFQUFPLEdBQ25CLEVBMEJOLFlBQW1CLEVBQU8sRUFBUSxFQUFVLENBQzFDLE1BQVEsSUFBUyxFQUFNLFFBQVUsR0FBVSxFQUFPLE9BQzlDLEdBQVksRUFBTyxFQUFRLEdBQVksRUFBVSxJQUNqRCxFQTBCTixZQUFxQixFQUFPLEVBQVEsRUFBWSxDQUM5QyxNQUFRLElBQVMsRUFBTSxRQUFVLEdBQVUsRUFBTyxPQUM5QyxHQUFZLEVBQU8sRUFBUUEsRUFBVyxHQUN0QyxFQTJCTixHQUFJLElBQVMsR0FBUyxTQUFTLEVBQU8sRUFBUyxDQUM3QyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUNuQyxFQUFTLEdBQU8sRUFBTyxHQUUzQixVQUFXLEVBQU8sR0FBUyxFQUFTLFNBQVMsRUFBTyxDQUNsRCxNQUFPLElBQVEsRUFBTyxHQUFVLENBQUMsRUFBUSxJQUN4QyxLQUFLLEtBRUQsSUErQlQsWUFBZ0IsRUFBTyxFQUFXLENBQ2hDLEdBQUksR0FBUyxHQUNiLEdBQUksQ0FBRSxJQUFTLEVBQU0sUUFDbkIsTUFBTyxHQUVULEdBQUksR0FBUSxHQUNSLEVBQVUsR0FDVixFQUFTLEVBQU0sT0FHbkIsSUFEQSxFQUFZLEdBQVksRUFBVyxHQUM1QixFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBTSxHQUNsQixBQUFJLEVBQVUsRUFBTyxFQUFPLElBQzFCLEdBQU8sS0FBSyxHQUNaLEVBQVEsS0FBSyxJQUdqQixVQUFXLEVBQU8sR0FDWCxFQTBCVCxZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxLQUFPLEVBQVEsR0FBYyxLQUFLLEdBbUJwRCxZQUFlLEVBQU8sRUFBTyxFQUFLLENBQ2hDLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQUssR0FHTCxDQUFJLEdBQU8sTUFBTyxJQUFPLFVBQVksR0FBZSxFQUFPLEVBQU8sR0FDaEUsR0FBUSxFQUNSLEVBQU0sR0FHTixHQUFRLEdBQVMsS0FBTyxFQUFJLEdBQVUsR0FDdEMsRUFBTSxJQUFRQSxFQUFZLEVBQVMsR0FBVSxJQUV4QyxHQUFVLEVBQU8sRUFBTyxJQVZ0QixHQThCWCxZQUFxQixFQUFPLEVBQU8sQ0FDakMsTUFBTyxJQUFnQixFQUFPLEdBNEJoQyxZQUF1QixFQUFPLEVBQU8sRUFBVSxDQUM3QyxNQUFPLElBQWtCLEVBQU8sRUFBTyxHQUFZLEVBQVUsSUFtQi9ELFlBQXVCLEVBQU8sRUFBTyxDQUNuQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLEVBQVEsQ0FDVixHQUFJLEdBQVEsR0FBZ0IsRUFBTyxHQUNuQyxHQUFJLEVBQVEsR0FBVSxHQUFHLEVBQU0sR0FBUSxHQUNyQyxNQUFPLEdBR1gsTUFBTyxHQXFCVCxZQUF5QixFQUFPLEVBQU8sQ0FDckMsTUFBTyxJQUFnQixFQUFPLEVBQU8sSUE0QnZDLFlBQTJCLEVBQU8sRUFBTyxFQUFVLENBQ2pELE1BQU8sSUFBa0IsRUFBTyxFQUFPLEdBQVksRUFBVSxHQUFJLElBbUJuRSxZQUEyQixFQUFPLEVBQU8sQ0FDdkMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxFQUFRLENBQ1YsR0FBSSxHQUFRLEdBQWdCLEVBQU8sRUFBTyxJQUFRLEVBQ2xELEdBQUksR0FBRyxFQUFNLEdBQVEsR0FDbkIsTUFBTyxHQUdYLE1BQU8sR0FrQlQsWUFBb0IsRUFBTyxDQUN6QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFlLEdBQ2YsR0FtQk4sWUFBc0IsRUFBTyxFQUFVLENBQ3JDLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWUsRUFBTyxHQUFZLEVBQVUsSUFDNUMsR0FpQk4sWUFBYyxFQUFPLENBQ25CLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQU8sR0FBUyxHQUFVLEVBQU8sRUFBRyxHQUFVLEdBNEJoRCxZQUFjLEVBQU8sRUFBRyxFQUFPLENBQzdCLE1BQU0sSUFBUyxFQUFNLE9BR3JCLEdBQUssR0FBUyxJQUFNQSxFQUFhLEVBQUksR0FBVSxHQUN4QyxHQUFVLEVBQU8sRUFBRyxFQUFJLEVBQUksRUFBSSxJQUg5QixHQStCWCxZQUFtQixFQUFPLEVBQUcsRUFBTyxDQUNsQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFLLEdBR0wsR0FBSyxHQUFTLElBQU1BLEVBQWEsRUFBSSxHQUFVLEdBQy9DLEVBQUksRUFBUyxFQUNOLEdBQVUsRUFBTyxFQUFJLEVBQUksRUFBSSxFQUFHLElBSjlCLEdBMENYLFlBQXdCLEVBQU8sRUFBVyxDQUN4QyxNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFVLEVBQU8sR0FBWSxFQUFXLEdBQUksR0FBTyxJQUNuRCxHQXNDTixZQUFtQixFQUFPLEVBQVcsQ0FDbkMsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBVSxFQUFPLEdBQVksRUFBVyxJQUN4QyxHQW1CTixHQUFJLElBQVEsR0FBUyxTQUFTLEVBQVEsQ0FDcEMsTUFBTyxJQUFTLEdBQVksRUFBUSxFQUFHLEdBQW1CLE9BMEJ4RCxHQUFVLEdBQVMsU0FBUyxFQUFRLENBQ3RDLEdBQUksR0FBVyxHQUFLLEdBQ3BCLE1BQUksSUFBa0IsSUFDcEIsR0FBV0EsR0FFTixHQUFTLEdBQVksRUFBUSxFQUFHLEdBQW1CLElBQU8sR0FBWSxFQUFVLE1Bd0JyRixHQUFZLEdBQVMsU0FBUyxFQUFRLENBQ3hDLEdBQUksR0FBYSxHQUFLLEdBQ3RCLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDckQsR0FBUyxHQUFZLEVBQVEsRUFBRyxHQUFtQixJQUFPQSxFQUFXLEtBcUI5RSxZQUFjLEVBQU8sQ0FDbkIsTUFBUSxJQUFTLEVBQU0sT0FBVSxHQUFTLEdBQVMsR0EwQnJELFlBQWdCLEVBQU8sRUFBVSxDQUMvQixNQUFRLElBQVMsRUFBTSxPQUFVLEdBQVMsRUFBTyxHQUFZLEVBQVUsSUFBTSxHQXVCL0UsWUFBa0IsRUFBTyxFQUFZLENBQ25DLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDcEQsR0FBUyxFQUFNLE9BQVUsR0FBUyxFQUFPQSxFQUFXLEdBQWMsR0FzQjVFLFlBQWUsRUFBTyxDQUNwQixHQUFJLENBQUUsSUFBUyxFQUFNLFFBQ25CLE1BQU8sR0FFVCxHQUFJLEdBQVMsRUFDYixTQUFRLEdBQVksRUFBTyxTQUFTLEVBQU8sQ0FDekMsR0FBSSxHQUFrQixHQUNwQixTQUFTLEdBQVUsRUFBTSxPQUFRLEdBQzFCLEtBR0osR0FBVSxFQUFRLFNBQVMsRUFBTyxDQUN2QyxNQUFPLElBQVMsRUFBTyxHQUFhLE1BeUJ4QyxZQUFtQixFQUFPLEVBQVUsQ0FDbEMsR0FBSSxDQUFFLElBQVMsRUFBTSxRQUNuQixNQUFPLEdBRVQsR0FBSSxHQUFTLEdBQU0sR0FDbkIsTUFBSSxJQUFZLEtBQ1AsRUFFRixHQUFTLEVBQVEsU0FBUyxFQUFPLENBQ3RDLE1BQU8sSUFBTSxFQUFVQSxFQUFXLEtBd0J0QyxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQU8sRUFBUSxDQUM3QyxNQUFPLElBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUN0QixLQXFCRixHQUFNLEdBQVMsU0FBUyxFQUFRLENBQ2xDLE1BQU8sSUFBUSxHQUFZLEVBQVEsT0EwQmpDLEdBQVEsR0FBUyxTQUFTLEVBQVEsQ0FDcEMsR0FBSSxHQUFXLEdBQUssR0FDcEIsTUFBSSxJQUFrQixJQUNwQixHQUFXQSxHQUVOLEdBQVEsR0FBWSxFQUFRLElBQW9CLEdBQVksRUFBVSxNQXdCM0UsR0FBVSxHQUFTLFNBQVMsRUFBUSxDQUN0QyxHQUFJLEdBQWEsR0FBSyxHQUN0QixTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVEsR0FBWSxFQUFRLElBQW9CQSxFQUFXLEtBbUJoRSxHQUFNLEdBQVMsSUFrQm5CLFlBQW1CLEVBQU8sRUFBUSxDQUNoQyxNQUFPLElBQWMsR0FBUyxHQUFJLEdBQVUsR0FBSSxJQWtCbEQsWUFBdUIsRUFBTyxFQUFRLENBQ3BDLE1BQU8sSUFBYyxHQUFTLEdBQUksR0FBVSxHQUFJLElBdUJsRCxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQVEsQ0FDdEMsR0FBSSxHQUFTLEVBQU8sT0FDaEIsRUFBVyxFQUFTLEVBQUksRUFBTyxFQUFTLEdBQUtBLEVBRWpELFNBQVcsTUFBTyxJQUFZLFdBQWMsR0FBTyxNQUFPLEdBQVlBLEVBQy9ELEdBQVUsRUFBUSxLQWtDM0IsWUFBZSxFQUFPLENBQ3BCLEdBQUksR0FBUyxFQUFPLEdBQ3BCLFNBQU8sVUFBWSxHQUNaLEVBMEJULFlBQWEsRUFBTyxFQUFhLENBQy9CLFNBQVksR0FDTCxFQTBCVCxZQUFjLEVBQU8sRUFBYSxDQUNoQyxNQUFPLEdBQVksR0FtQnJCLEdBQUksSUFBWSxHQUFTLFNBQVMsRUFBTyxDQUN2QyxHQUFJLEdBQVMsRUFBTSxPQUNmLEVBQVEsRUFBUyxFQUFNLEdBQUssRUFDNUIsRUFBUSxLQUFLLFlBQ2IsRUFBYyxTQUFTLEVBQVEsQ0FBRSxNQUFPLElBQU8sRUFBUSxJQUUzRCxNQUFJLEdBQVMsR0FBSyxLQUFLLFlBQVksUUFDL0IsQ0FBRSxhQUFpQixNQUFnQixDQUFDLEdBQVEsR0FDdkMsS0FBSyxLQUFLLEdBRW5CLEdBQVEsRUFBTSxNQUFNLEVBQU8sQ0FBQyxFQUFTLEdBQVMsRUFBSSxJQUNsRCxFQUFNLFlBQVksS0FBSyxDQUNyQixLQUFRLEdBQ1IsS0FBUSxDQUFDLEdBQ1QsUUFBV0EsSUFFTixHQUFJLElBQWMsRUFBTyxLQUFLLFdBQVcsS0FBSyxTQUFTLEVBQU8sQ0FDbkUsTUFBSSxJQUFVLENBQUMsRUFBTSxRQUNuQixFQUFNLEtBQUtBLEdBRU4sT0ErQlgsYUFBd0IsQ0FDdEIsTUFBTyxJQUFNLE1BNkJmLGFBQXlCLENBQ3ZCLE1BQU8sSUFBSSxJQUFjLEtBQUssUUFBUyxLQUFLLFdBeUI5QyxhQUF1QixDQUNyQixBQUFJLEtBQUssYUFBZUEsR0FDdEIsTUFBSyxXQUFhLEdBQVEsS0FBSyxVQUVqQyxHQUFJLEdBQU8sS0FBSyxXQUFhLEtBQUssV0FBVyxPQUN6QyxFQUFRLEVBQU9BLEVBQVksS0FBSyxXQUFXLEtBQUssYUFFcEQsTUFBTyxDQUFFLEtBQVEsRUFBTSxNQUFTLEdBcUJsQyxhQUE2QixDQUMzQixNQUFPLE1BMkJULFlBQXNCLEVBQU8sQ0FJM0IsT0FISSxHQUNBLEVBQVMsS0FFTixZQUFrQixLQUFZLENBQ25DLEdBQUksR0FBUSxHQUFhLEdBQ3pCLEVBQU0sVUFBWSxFQUNsQixFQUFNLFdBQWFBLEVBQ25CLEFBQUksRUFDRixFQUFTLFlBQWMsRUFFdkIsRUFBUyxFQUVYLEdBQUksR0FBVyxFQUNmLEVBQVMsRUFBTyxZQUVsQixTQUFTLFlBQWMsRUFDaEIsRUF1QlQsYUFBMEIsQ0FDeEIsR0FBSSxHQUFRLEtBQUssWUFDakIsR0FBSSxZQUFpQixJQUFhLENBQ2hDLEdBQUksR0FBVSxFQUNkLE1BQUksTUFBSyxZQUFZLFFBQ25CLEdBQVUsR0FBSSxJQUFZLE9BRTVCLEVBQVUsRUFBUSxVQUNsQixFQUFRLFlBQVksS0FBSyxDQUN2QixLQUFRLEdBQ1IsS0FBUSxDQUFDLElBQ1QsUUFBV0EsSUFFTixHQUFJLElBQWMsRUFBUyxLQUFLLFdBRXpDLE1BQU8sTUFBSyxLQUFLLElBaUJuQixhQUF3QixDQUN0QixNQUFPLElBQWlCLEtBQUssWUFBYSxLQUFLLGFBMkJqRCxHQUFJLElBQVUsR0FBaUIsU0FBUyxFQUFRLEVBQU8sRUFBSyxDQUMxRCxBQUFJLEdBQWUsS0FBSyxFQUFRLEdBQzlCLEVBQUUsRUFBTyxHQUVULEdBQWdCLEVBQVEsRUFBSyxLQTZDakMsWUFBZSxFQUFZLEVBQVcsRUFBTyxDQUMzQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWEsR0FDOUMsTUFBSSxJQUFTLEdBQWUsRUFBWSxFQUFXLElBQ2pELEdBQVlBLEdBRVAsRUFBSyxFQUFZLEdBQVksRUFBVyxJQTRDakQsWUFBZ0IsRUFBWSxFQUFXLENBQ3JDLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBYyxHQUMvQyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVcsSUF1Q2pELEdBQUksSUFBTyxHQUFXLElBcUJsQixHQUFXLEdBQVcsSUF1QjFCLFlBQWlCLEVBQVksRUFBVSxDQUNyQyxNQUFPLElBQVksR0FBSSxFQUFZLEdBQVcsR0F1QmhELFlBQXFCLEVBQVksRUFBVSxDQUN6QyxNQUFPLElBQVksR0FBSSxFQUFZLEdBQVcsR0F3QmhELFlBQXNCLEVBQVksRUFBVSxFQUFPLENBQ2pELFNBQVEsSUFBVUEsRUFBWSxFQUFJLEdBQVUsR0FDckMsR0FBWSxHQUFJLEVBQVksR0FBVyxHQWlDaEQsWUFBaUIsRUFBWSxFQUFVLENBQ3JDLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBWSxHQUM3QyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVUsSUF1QmhELFlBQXNCLEVBQVksRUFBVSxDQUMxQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWlCLEdBQ2xELE1BQU8sR0FBSyxFQUFZLEdBQVksRUFBVSxJQTBCaEQsR0FBSSxJQUFVLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDMUQsQUFBSSxHQUFlLEtBQUssRUFBUSxHQUM5QixFQUFPLEdBQUssS0FBSyxHQUVqQixHQUFnQixFQUFRLEVBQUssQ0FBQyxNQWtDbEMsWUFBa0IsRUFBWSxFQUFPLEVBQVcsRUFBTyxDQUNyRCxFQUFhLEdBQVksR0FBYyxFQUFhLEdBQU8sR0FDM0QsRUFBYSxHQUFhLENBQUMsRUFBUyxHQUFVLEdBQWEsRUFFM0QsR0FBSSxHQUFTLEVBQVcsT0FDeEIsTUFBSSxHQUFZLEdBQ2QsR0FBWSxHQUFVLEVBQVMsRUFBVyxJQUVyQyxHQUFTLEdBQ1gsR0FBYSxHQUFVLEVBQVcsUUFBUSxFQUFPLEdBQWEsR0FDOUQsQ0FBQyxDQUFDLEdBQVUsR0FBWSxFQUFZLEVBQU8sR0FBYSxHQTBCL0QsR0FBSSxJQUFZLEdBQVMsU0FBUyxFQUFZLEVBQU0sRUFBTSxDQUN4RCxHQUFJLEdBQVEsR0FDUixFQUFTLE1BQU8sSUFBUSxXQUN4QixFQUFTLEdBQVksR0FBYyxFQUFNLEVBQVcsUUFBVSxHQUVsRSxVQUFTLEVBQVksU0FBUyxFQUFPLENBQ25DLEVBQU8sRUFBRSxHQUFTLEVBQVMsR0FBTSxFQUFNLEVBQU8sR0FBUSxHQUFXLEVBQU8sRUFBTSxLQUV6RSxJQStCTCxHQUFRLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDeEQsR0FBZ0IsRUFBUSxFQUFLLEtBNkMvQixZQUFhLEVBQVksRUFBVSxDQUNqQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQVcsR0FDNUMsTUFBTyxHQUFLLEVBQVksR0FBWSxFQUFVLElBZ0NoRCxZQUFpQixFQUFZLEVBQVcsRUFBUSxFQUFPLENBQ3JELE1BQUksSUFBYyxLQUNULEdBRUosSUFBUSxJQUNYLEdBQVksR0FBYSxLQUFPLEdBQUssQ0FBQyxJQUV4QyxFQUFTLEVBQVFBLEVBQVksRUFDeEIsR0FBUSxJQUNYLEdBQVMsR0FBVSxLQUFPLEdBQUssQ0FBQyxJQUUzQixHQUFZLEVBQVksRUFBVyxJQXVDNUMsR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDNUQsRUFBTyxFQUFNLEVBQUksR0FBRyxLQUFLLElBQ3hCLFVBQVcsQ0FBRSxNQUFPLENBQUMsR0FBSSxNQXVDNUIsWUFBZ0IsRUFBWSxFQUFVLEVBQWEsQ0FDakQsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFjLEdBQzNDLEVBQVksVUFBVSxPQUFTLEVBRW5DLE1BQU8sR0FBSyxFQUFZLEdBQVksRUFBVSxHQUFJLEVBQWEsRUFBVyxJQXlCNUUsWUFBcUIsRUFBWSxFQUFVLEVBQWEsQ0FDdEQsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFtQixHQUNoRCxFQUFZLFVBQVUsT0FBUyxFQUVuQyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVUsR0FBSSxFQUFhLEVBQVcsSUFxQzVFLFlBQWdCLEVBQVksRUFBVyxDQUNyQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWMsR0FDL0MsTUFBTyxHQUFLLEVBQVksR0FBTyxHQUFZLEVBQVcsS0FpQnhELFlBQWdCLEVBQVksQ0FDMUIsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFjLEdBQy9DLE1BQU8sR0FBSyxHQXVCZCxZQUFvQixFQUFZLEVBQUcsRUFBTyxDQUN4QyxBQUFLLEdBQVEsR0FBZSxFQUFZLEVBQUcsR0FBUyxJQUFNQSxHQUN4RCxFQUFJLEVBRUosRUFBSSxHQUFVLEdBRWhCLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBa0IsR0FDbkQsTUFBTyxHQUFLLEVBQVksR0FrQjFCLFlBQWlCLEVBQVksQ0FDM0IsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFlLEdBQ2hELE1BQU8sR0FBSyxHQXdCZCxZQUFjLEVBQVksQ0FDeEIsR0FBSSxHQUFjLEtBQ2hCLE1BQU8sR0FFVCxHQUFJLEdBQVksR0FDZCxNQUFPLElBQVMsR0FBYyxHQUFXLEdBQWMsRUFBVyxPQUVwRSxHQUFJLEdBQU0sR0FBTyxHQUNqQixNQUFJLElBQU8sSUFBVSxHQUFPLEdBQ25CLEVBQVcsS0FFYixHQUFTLEdBQVksT0F1QzlCLFlBQWMsRUFBWSxFQUFXLEVBQU8sQ0FDMUMsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFZLEdBQzdDLE1BQUksSUFBUyxHQUFlLEVBQVksRUFBVyxJQUNqRCxHQUFZQSxHQUVQLEVBQUssRUFBWSxHQUFZLEVBQVcsSUFnQ2pELEdBQUksSUFBUyxHQUFTLFNBQVMsRUFBWSxFQUFXLENBQ3BELEdBQUksR0FBYyxLQUNoQixNQUFPLEdBRVQsR0FBSSxHQUFTLEVBQVUsT0FDdkIsTUFBSSxHQUFTLEdBQUssR0FBZSxFQUFZLEVBQVUsR0FBSSxFQUFVLElBQ25FLEVBQVksR0FDSCxFQUFTLEdBQUssR0FBZSxFQUFVLEdBQUksRUFBVSxHQUFJLEVBQVUsS0FDNUUsR0FBWSxDQUFDLEVBQVUsS0FFbEIsR0FBWSxFQUFZLEdBQVksRUFBVyxHQUFJLE1BcUJ4RCxHQUFNLElBQVUsVUFBVyxDQUM3QixNQUFPLElBQUssS0FBSyxPQTZCbkIsWUFBZSxFQUFHLEVBQU0sQ0FDdEIsR0FBSSxNQUFPLElBQVEsV0FDakIsS0FBTSxJQUFJLElBQVUsR0FFdEIsU0FBSSxHQUFVLEdBQ1AsVUFBVyxDQUNoQixHQUFJLEVBQUUsRUFBSSxFQUNSLE1BQU8sR0FBSyxNQUFNLEtBQU0sWUFzQjlCLFlBQWEsRUFBTSxFQUFHLEVBQU8sQ0FDM0IsU0FBSSxFQUFRQSxFQUFZLEVBQ3hCLEVBQUssR0FBUSxHQUFLLEtBQVEsRUFBSyxPQUFTLEVBQ2pDLEdBQVcsRUFBTSxFQUFlQSxFQUFXQSxFQUFXQSxFQUFXQSxFQUFXLEdBb0JyRixZQUFnQixFQUFHLEVBQU0sQ0FDdkIsR0FBSSxHQUNKLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLFNBQUksR0FBVSxHQUNQLFVBQVcsQ0FDaEIsTUFBSSxFQUFFLEVBQUksR0FDUixHQUFTLEVBQUssTUFBTSxLQUFNLFlBRXhCLEdBQUssR0FDUCxHQUFPQSxHQUVGLEdBdUNYLEdBQUksSUFBTyxHQUFTLFNBQVMsRUFBTSxFQUFTLEVBQVUsQ0FDcEQsR0FBSSxHQUFVLEVBQ2QsR0FBSSxFQUFTLE9BQVEsQ0FDbkIsR0FBSSxHQUFVLEdBQWUsRUFBVSxHQUFVLEtBQ2pELEdBQVcsRUFFYixNQUFPLElBQVcsRUFBTSxFQUFTLEVBQVMsRUFBVSxLQWdEbEQsR0FBVSxHQUFTLFNBQVMsRUFBUSxFQUFLLEVBQVUsQ0FDckQsR0FBSSxHQUFVLEVBQWlCLEVBQy9CLEdBQUksRUFBUyxPQUFRLENBQ25CLEdBQUksR0FBVSxHQUFlLEVBQVUsR0FBVSxLQUNqRCxHQUFXLEVBRWIsTUFBTyxJQUFXLEVBQUssRUFBUyxFQUFRLEVBQVUsS0E0Q3BELFlBQWUsRUFBTSxFQUFPLEVBQU8sQ0FDakMsRUFBUSxFQUFRQSxFQUFZLEVBQzVCLEdBQUksR0FBUyxHQUFXLEVBQU0sRUFBaUJBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVcsR0FDdEcsU0FBTyxZQUFjLEdBQU0sWUFDcEIsRUF5Q1QsWUFBb0IsRUFBTSxFQUFPLEVBQU8sQ0FDdEMsRUFBUSxFQUFRQSxFQUFZLEVBQzVCLEdBQUksR0FBUyxHQUFXLEVBQU0sRUFBdUJBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVcsR0FDNUcsU0FBTyxZQUFjLEdBQVcsWUFDekIsRUF5RFQsWUFBa0IsRUFBTSxFQUFNLEVBQVMsQ0FDckMsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUFpQixFQUNqQixFQUFVLEdBQ1YsRUFBUyxHQUNULEdBQVcsR0FFZixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixFQUFPLEdBQVMsSUFBUyxFQUNyQixHQUFTLElBQ1gsR0FBVSxDQUFDLENBQUMsRUFBUSxRQUNwQixFQUFTLFdBQWEsR0FDdEIsRUFBVSxFQUFTLEdBQVUsR0FBUyxFQUFRLFVBQVksRUFBRyxHQUFRLEVBQ3JFLEdBQVcsWUFBYyxHQUFVLENBQUMsQ0FBQyxFQUFRLFNBQVcsSUFHMUQsWUFBb0IsR0FBTSxDQUN4QixHQUFJLElBQU8sRUFDUCxHQUFVLEVBRWQsU0FBVyxFQUFXQSxFQUN0QixFQUFpQixHQUNqQixFQUFTLEVBQUssTUFBTSxHQUFTLElBQ3RCLEVBR1QsWUFBcUIsR0FBTSxDQUV6QixTQUFpQixHQUVqQixFQUFVLEdBQVcsR0FBYyxHQUU1QixFQUFVLEdBQVcsSUFBUSxFQUd0QyxZQUF1QixHQUFNLENBQzNCLEdBQUksSUFBb0IsR0FBTyxFQUMzQixHQUFzQixHQUFPLEVBQzdCLEdBQWMsRUFBTyxHQUV6QixNQUFPLEdBQ0gsR0FBVSxHQUFhLEVBQVUsSUFDakMsR0FHTixZQUFzQixHQUFNLENBQzFCLEdBQUksSUFBb0IsR0FBTyxFQUMzQixHQUFzQixHQUFPLEVBS2pDLE1BQVEsS0FBaUJBLEdBQWMsSUFBcUIsR0FDekQsR0FBb0IsR0FBTyxHQUFVLElBQXVCLEVBR2pFLGFBQXdCLENBQ3RCLEdBQUksSUFBTyxLQUNYLEdBQUksR0FBYSxJQUNmLE1BQU8sSUFBYSxJQUd0QixFQUFVLEdBQVcsR0FBYyxHQUFjLEtBR25ELFlBQXNCLEdBQU0sQ0FLMUIsTUFKQSxHQUFVQSxFQUlOLElBQVksRUFDUCxHQUFXLElBRXBCLEdBQVcsRUFBV0EsRUFDZixHQUdULGFBQWtCLENBQ2hCLEFBQUksSUFBWUEsR0FDZCxHQUFhLEdBRWYsRUFBaUIsRUFDakIsRUFBVyxFQUFlLEVBQVcsRUFBVUEsRUFHakQsYUFBaUIsQ0FDZixNQUFPLEtBQVlBLEVBQVksRUFBUyxHQUFhLE1BR3ZELGFBQXFCLENBQ25CLEdBQUksSUFBTyxLQUNQLEdBQWEsR0FBYSxJQU05QixHQUpBLEVBQVcsVUFDWCxFQUFXLEtBQ1gsRUFBZSxHQUVYLEdBQVksQ0FDZCxHQUFJLElBQVlBLEVBQ2QsTUFBTyxJQUFZLEdBRXJCLEdBQUksRUFFRixVQUFhLEdBQ2IsRUFBVSxHQUFXLEdBQWMsR0FDNUIsR0FBVyxHQUd0QixNQUFJLEtBQVlBLEdBQ2QsR0FBVSxHQUFXLEdBQWMsSUFFOUIsRUFFVCxVQUFVLE9BQVMsR0FDbkIsR0FBVSxNQUFRLEdBQ1gsR0FxQlQsR0FBSSxJQUFRLEdBQVMsU0FBUyxFQUFNLEVBQU0sQ0FDeEMsTUFBTyxJQUFVLEVBQU0sRUFBRyxLQXNCeEIsR0FBUSxHQUFTLFNBQVMsRUFBTSxFQUFNLEVBQU0sQ0FDOUMsTUFBTyxJQUFVLEVBQU0sR0FBUyxJQUFTLEVBQUcsS0FxQjlDLFlBQWMsRUFBTSxDQUNsQixNQUFPLElBQVcsRUFBTSxJQStDMUIsWUFBaUIsRUFBTSxFQUFVLENBQy9CLEdBQUksTUFBTyxJQUFRLFlBQWUsR0FBWSxNQUFRLE1BQU8sSUFBWSxXQUN2RSxLQUFNLElBQUksSUFBVSxHQUV0QixHQUFJLEdBQVcsVUFBVyxDQUN4QixHQUFJLEdBQU8sVUFDUCxFQUFNLEVBQVcsRUFBUyxNQUFNLEtBQU0sR0FBUSxFQUFLLEdBQ25ELEVBQVEsRUFBUyxNQUVyQixHQUFJLEVBQU0sSUFBSSxHQUNaLE1BQU8sR0FBTSxJQUFJLEdBRW5CLEdBQUksR0FBUyxFQUFLLE1BQU0sS0FBTSxHQUM5QixTQUFTLE1BQVEsRUFBTSxJQUFJLEVBQUssSUFBVyxFQUNwQyxHQUVULFNBQVMsTUFBUSxHQUFLLElBQVEsT0FBUyxJQUNoQyxFQUlULEdBQVEsTUFBUSxHQXNCaEIsWUFBZ0IsRUFBVyxDQUN6QixHQUFJLE1BQU8sSUFBYSxXQUN0QixLQUFNLElBQUksSUFBVSxHQUV0QixNQUFPLFdBQVcsQ0FDaEIsR0FBSSxHQUFPLFVBQ1gsT0FBUSxFQUFLLFlBQ04sR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLFVBQzFCLEdBQUcsTUFBTyxDQUFDLEVBQVUsS0FBSyxLQUFNLEVBQUssUUFDckMsR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLEtBQU0sRUFBSyxHQUFJLEVBQUssUUFDOUMsR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLEtBQU0sRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLElBRTlELE1BQU8sQ0FBQyxFQUFVLE1BQU0sS0FBTSxJQXNCbEMsWUFBYyxFQUFNLENBQ2xCLE1BQU8sSUFBTyxFQUFHLEdBa0NuQixHQUFJLElBQVcsR0FBUyxTQUFTLEVBQU0sRUFBWSxDQUNqRCxFQUFjLEVBQVcsUUFBVSxHQUFLLEdBQVEsRUFBVyxJQUN2RCxHQUFTLEVBQVcsR0FBSSxHQUFVLE9BQ2xDLEdBQVMsR0FBWSxFQUFZLEdBQUksR0FBVSxPQUVuRCxHQUFJLEdBQWMsRUFBVyxPQUM3QixNQUFPLElBQVMsU0FBUyxFQUFNLENBSTdCLE9BSEksR0FBUSxHQUNSLEVBQVMsR0FBVSxFQUFLLE9BQVEsR0FFN0IsRUFBRSxFQUFRLEdBQ2YsRUFBSyxHQUFTLEVBQVcsR0FBTyxLQUFLLEtBQU0sRUFBSyxJQUVsRCxNQUFPLElBQU0sRUFBTSxLQUFNLE9BcUN6QixHQUFVLEdBQVMsU0FBUyxFQUFNLEVBQVUsQ0FDOUMsR0FBSSxHQUFVLEdBQWUsRUFBVSxHQUFVLEtBQ2pELE1BQU8sSUFBVyxFQUFNLEVBQW1CQSxFQUFXLEVBQVUsS0FtQzlELEdBQWUsR0FBUyxTQUFTLEVBQU0sRUFBVSxDQUNuRCxHQUFJLEdBQVUsR0FBZSxFQUFVLEdBQVUsS0FDakQsTUFBTyxJQUFXLEVBQU0sR0FBeUJBLEVBQVcsRUFBVSxLQXlCcEUsR0FBUSxHQUFTLFNBQVMsRUFBTSxFQUFTLENBQzNDLE1BQU8sSUFBVyxFQUFNLEVBQWlCQSxFQUFXQSxFQUFXQSxFQUFXLEtBNEI1RSxZQUFjLEVBQU0sRUFBTyxDQUN6QixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixTQUFRLElBQVVBLEVBQVksRUFBUSxHQUFVLEdBQ3pDLEdBQVMsRUFBTSxHQXFDeEIsWUFBZ0IsRUFBTSxFQUFPLENBQzNCLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLFNBQVEsR0FBUyxLQUFPLEVBQUksR0FBVSxHQUFVLEdBQVEsR0FDakQsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsR0FBSSxHQUFRLEVBQUssR0FDYixFQUFZLEdBQVUsRUFBTSxFQUFHLEdBRW5DLE1BQUksSUFDRixHQUFVLEVBQVcsR0FFaEIsR0FBTSxFQUFNLEtBQU0sS0FnRDdCLFlBQWtCLEVBQU0sRUFBTSxFQUFTLENBQ3JDLEdBQUksR0FBVSxHQUNWLEVBQVcsR0FFZixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixNQUFJLElBQVMsSUFDWCxHQUFVLFdBQWEsR0FBVSxDQUFDLENBQUMsRUFBUSxRQUFVLEVBQ3JELEVBQVcsWUFBYyxHQUFVLENBQUMsQ0FBQyxFQUFRLFNBQVcsR0FFbkQsR0FBUyxFQUFNLEVBQU0sQ0FDMUIsUUFBVyxFQUNYLFFBQVcsRUFDWCxTQUFZLElBbUJoQixZQUFlLEVBQU0sQ0FDbkIsTUFBTyxJQUFJLEVBQU0sR0F5Qm5CLFlBQWMsRUFBTyxFQUFTLENBQzVCLE1BQU8sSUFBUSxHQUFhLEdBQVUsR0FzQ3hDLGFBQXFCLENBQ25CLEdBQUksQ0FBQyxVQUFVLE9BQ2IsTUFBTyxHQUVULEdBQUksR0FBUSxVQUFVLEdBQ3RCLE1BQU8sSUFBUSxHQUFTLEVBQVEsQ0FBQyxHQTZCbkMsWUFBZSxFQUFPLENBQ3BCLE1BQU8sSUFBVSxFQUFPLEdBa0MxQixZQUFtQixFQUFPLEVBQVksQ0FDcEMsU0FBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUNyRCxHQUFVLEVBQU8sRUFBb0IsR0FxQjlDLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFVLEVBQU8sRUFBa0IsR0ErQjVDLFlBQXVCLEVBQU8sRUFBWSxDQUN4QyxTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVUsRUFBTyxFQUFrQixFQUFvQixHQTJCaEUsWUFBb0IsRUFBUSxFQUFRLENBQ2xDLE1BQU8sSUFBVSxNQUFRLEdBQWUsRUFBUSxFQUFRLEdBQUssSUFtQy9ELFlBQVksRUFBTyxFQUFPLENBQ3hCLE1BQU8sS0FBVSxHQUFVLElBQVUsR0FBUyxJQUFVLEVBMEIxRCxHQUFJLElBQUssR0FBMEIsSUF5Qi9CLEdBQU0sR0FBMEIsU0FBUyxFQUFPLEVBQU8sQ0FDekQsTUFBTyxJQUFTLElBcUJkLEdBQWMsR0FBZ0IsVUFBVyxDQUFFLE1BQU8sZUFBa0IsR0FBa0IsU0FBUyxFQUFPLENBQ3hHLE1BQU8sSUFBYSxJQUFVLEdBQWUsS0FBSyxFQUFPLFdBQ3ZELENBQUMsR0FBcUIsS0FBSyxFQUFPLFdBMEJsQyxHQUFVLEVBQU0sUUFtQmhCLEdBQWdCLEdBQW9CLEdBQVUsSUFBcUIsR0EyQnZFLFlBQXFCLEVBQU8sQ0FDMUIsTUFBTyxJQUFTLE1BQVEsR0FBUyxFQUFNLFNBQVcsQ0FBQyxHQUFXLEdBNEJoRSxZQUEyQixFQUFPLENBQ2hDLE1BQU8sSUFBYSxJQUFVLEdBQVksR0FvQjVDLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxLQUFVLElBQVEsSUFBVSxJQUNoQyxHQUFhLElBQVUsR0FBVyxJQUFVLEVBb0JqRCxHQUFJLElBQVcsSUFBa0IsR0FtQjdCLEdBQVMsR0FBYSxHQUFVLElBQWMsR0FtQmxELFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsRUFBTSxXQUFhLEdBQUssQ0FBQyxHQUFjLEdBb0N2RSxZQUFpQixFQUFPLENBQ3RCLEdBQUksR0FBUyxLQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVksSUFDWCxJQUFRLElBQVUsTUFBTyxJQUFTLFVBQVksTUFBTyxHQUFNLFFBQVUsWUFDcEUsR0FBUyxJQUFVLEdBQWEsSUFBVSxHQUFZLElBQzFELE1BQU8sQ0FBQyxFQUFNLE9BRWhCLEdBQUksR0FBTSxHQUFPLEdBQ2pCLEdBQUksR0FBTyxJQUFVLEdBQU8sR0FDMUIsTUFBTyxDQUFDLEVBQU0sS0FFaEIsR0FBSSxHQUFZLEdBQ2QsTUFBTyxDQUFDLEdBQVMsR0FBTyxPQUUxQixPQUFTLEtBQU8sR0FDZCxHQUFJLEdBQWUsS0FBSyxFQUFPLEdBQzdCLE1BQU8sR0FHWCxNQUFPLEdBK0JULFlBQWlCLEVBQU8sRUFBTyxDQUM3QixNQUFPLElBQVksRUFBTyxHQW1DNUIsWUFBcUIsRUFBTyxFQUFPLEVBQVksQ0FDN0MsRUFBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUM1RCxHQUFJLEdBQVMsRUFBYSxFQUFXLEVBQU8sR0FBU0EsRUFDckQsTUFBTyxLQUFXQSxFQUFZLEdBQVksRUFBTyxFQUFPQSxFQUFXLEdBQWMsQ0FBQyxDQUFDLEVBcUJyRixZQUFpQixFQUFPLENBQ3RCLEdBQUksQ0FBQyxHQUFhLEdBQ2hCLE1BQU8sR0FFVCxHQUFJLEdBQU0sR0FBVyxHQUNyQixNQUFPLElBQU8sSUFBWSxHQUFPLElBQzlCLE1BQU8sR0FBTSxTQUFXLFVBQVksTUFBTyxHQUFNLE1BQVEsVUFBWSxDQUFDLEdBQWMsR0E2QnpGLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFBWSxHQUFlLEdBb0JwRCxZQUFvQixFQUFPLENBQ3pCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUlULEdBQUksR0FBTSxHQUFXLEdBQ3JCLE1BQU8sSUFBTyxJQUFXLEdBQU8sSUFBVSxHQUFPLElBQVksR0FBTyxHQTZCdEUsWUFBbUIsRUFBTyxDQUN4QixNQUFPLE9BQU8sSUFBUyxVQUFZLEdBQVMsR0FBVSxHQTZCeEQsWUFBa0IsRUFBTyxDQUN2QixNQUFPLE9BQU8sSUFBUyxVQUNyQixFQUFRLElBQU0sRUFBUSxHQUFLLEdBQUssR0FBUyxFQTRCN0MsWUFBa0IsRUFBTyxDQUN2QixHQUFJLEdBQU8sTUFBTyxHQUNsQixNQUFPLElBQVMsTUFBUyxJQUFRLFVBQVksR0FBUSxZQTJCdkQsWUFBc0IsRUFBTyxDQUMzQixNQUFPLElBQVMsTUFBUSxNQUFPLElBQVMsU0FvQjFDLEdBQUksSUFBUSxHQUFZLEdBQVUsSUFBYSxHQThCL0MsWUFBaUIsRUFBUSxFQUFRLENBQy9CLE1BQU8sS0FBVyxHQUFVLEdBQVksRUFBUSxFQUFRLEdBQWEsSUFtQ3ZFLFlBQXFCLEVBQVEsRUFBUSxFQUFZLENBQy9DLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDckQsR0FBWSxFQUFRLEVBQVEsR0FBYSxHQUFTLEdBK0IzRCxZQUFlLEVBQU8sQ0FJcEIsTUFBTyxJQUFTLElBQVUsR0FBUyxDQUFDLEVBNkJ0QyxZQUFrQixFQUFPLENBQ3ZCLEdBQUksR0FBVyxHQUNiLEtBQU0sSUFBSSxJQUFNLEdBRWxCLE1BQU8sSUFBYSxHQW9CdEIsWUFBZ0IsRUFBTyxDQUNyQixNQUFPLEtBQVUsS0F1Qm5CLFlBQWUsRUFBTyxDQUNwQixNQUFPLElBQVMsS0E2QmxCLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFDcEIsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQStCakQsWUFBdUIsRUFBTyxDQUM1QixHQUFJLENBQUMsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQUMvQyxNQUFPLEdBRVQsR0FBSSxHQUFRLEdBQWEsR0FDekIsR0FBSSxJQUFVLEtBQ1osTUFBTyxHQUVULEdBQUksR0FBTyxHQUFlLEtBQUssRUFBTyxnQkFBa0IsRUFBTSxZQUM5RCxNQUFPLE9BQU8sSUFBUSxZQUFjLFlBQWdCLElBQ2xELEdBQWEsS0FBSyxJQUFTLEdBb0IvQixHQUFJLElBQVcsR0FBZSxHQUFVLElBQWdCLEdBNkJ4RCxZQUF1QixFQUFPLENBQzVCLE1BQU8sSUFBVSxJQUFVLEdBQVMsQ0FBQyxHQUFvQixHQUFTLEVBb0JwRSxHQUFJLElBQVEsR0FBWSxHQUFVLElBQWEsR0FtQi9DLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFDcEIsQ0FBQyxHQUFRLElBQVUsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQW9CcEUsWUFBa0IsRUFBTyxDQUN2QixNQUFPLE9BQU8sSUFBUyxVQUNwQixHQUFhLElBQVUsR0FBVyxJQUFVLEdBb0JqRCxHQUFJLElBQWUsR0FBbUIsR0FBVSxJQUFvQixHQW1CcEUsWUFBcUIsRUFBTyxDQUMxQixNQUFPLEtBQVVBLEVBb0JuQixZQUFtQixFQUFPLENBQ3hCLE1BQU8sSUFBYSxJQUFVLEdBQU8sSUFBVSxHQW9CakQsWUFBbUIsRUFBTyxDQUN4QixNQUFPLElBQWEsSUFBVSxHQUFXLElBQVUsR0EwQnJELEdBQUksSUFBSyxHQUEwQixJQXlCL0IsR0FBTSxHQUEwQixTQUFTLEVBQU8sRUFBTyxDQUN6RCxNQUFPLElBQVMsSUEwQmxCLFlBQWlCLEVBQU8sQ0FDdEIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBWSxHQUNkLE1BQU8sSUFBUyxHQUFTLEdBQWMsR0FBUyxHQUFVLEdBRTVELEdBQUksSUFBZSxFQUFNLElBQ3ZCLE1BQU8sSUFBZ0IsRUFBTSxPQUUvQixHQUFJLEdBQU0sR0FBTyxHQUNiLEVBQU8sR0FBTyxHQUFTLEdBQWMsR0FBTyxHQUFTLEdBQWEsR0FFdEUsTUFBTyxHQUFLLEdBMEJkLFlBQWtCLEVBQU8sQ0FDdkIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxLQUFVLEVBQUksRUFBUSxFQUcvQixHQURBLEVBQVEsR0FBUyxHQUNiLElBQVUsR0FBWSxJQUFVLENBQUMsRUFBVSxDQUM3QyxHQUFJLEdBQVEsRUFBUSxFQUFJLEdBQUssRUFDN0IsTUFBTyxHQUFPLEdBRWhCLE1BQU8sS0FBVSxFQUFRLEVBQVEsRUE2Qm5DLFlBQW1CLEVBQU8sQ0FDeEIsR0FBSSxHQUFTLEdBQVMsR0FDbEIsRUFBWSxFQUFTLEVBRXpCLE1BQU8sS0FBVyxFQUFVLEVBQVksRUFBUyxFQUFZLEVBQVUsRUE4QnpFLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxHQUFRLEdBQVUsR0FBVSxHQUFRLEVBQUcsSUFBb0IsRUEwQnBFLFlBQWtCLEVBQU8sQ0FDdkIsR0FBSSxNQUFPLElBQVMsU0FDbEIsTUFBTyxHQUVULEdBQUksR0FBUyxHQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVMsR0FBUSxDQUNuQixHQUFJLEdBQVEsTUFBTyxHQUFNLFNBQVcsV0FBYSxFQUFNLFVBQVksRUFDbkUsRUFBUSxHQUFTLEdBQVUsRUFBUSxHQUFNLEVBRTNDLEdBQUksTUFBTyxJQUFTLFNBQ2xCLE1BQU8sS0FBVSxFQUFJLEVBQVEsQ0FBQyxFQUVoQyxFQUFRLEdBQVMsR0FDakIsR0FBSSxHQUFXLEdBQVcsS0FBSyxHQUMvQixNQUFRLElBQVksR0FBVSxLQUFLLEdBQy9CLEdBQWEsRUFBTSxNQUFNLEdBQUksRUFBVyxFQUFJLEdBQzNDLEdBQVcsS0FBSyxHQUFTLEVBQU0sQ0FBQyxFQTJCdkMsWUFBdUIsRUFBTyxDQUM1QixNQUFPLElBQVcsRUFBTyxHQUFPLElBMkJsQyxZQUF1QixFQUFPLENBQzVCLE1BQU8sR0FDSCxHQUFVLEdBQVUsR0FBUSxDQUFDLEVBQWtCLEdBQzlDLElBQVUsRUFBSSxFQUFRLEVBd0I3QixZQUFrQixFQUFPLENBQ3ZCLE1BQU8sSUFBUyxLQUFPLEdBQUssR0FBYSxHQXFDM0MsR0FBSSxJQUFTLEdBQWUsU0FBUyxFQUFRLEVBQVEsQ0FDbkQsR0FBSSxHQUFZLElBQVcsR0FBWSxHQUFTLENBQzlDLEdBQVcsRUFBUSxHQUFLLEdBQVMsR0FDakMsT0FFRixPQUFTLEtBQU8sR0FDZCxBQUFJLEdBQWUsS0FBSyxFQUFRLElBQzlCLEdBQVksRUFBUSxFQUFLLEVBQU8sTUFvQ2xDLEdBQVcsR0FBZSxTQUFTLEVBQVEsRUFBUSxDQUNyRCxHQUFXLEVBQVEsR0FBTyxHQUFTLEtBZ0NqQyxHQUFlLEdBQWUsU0FBUyxFQUFRLEVBQVEsRUFBVSxFQUFZLENBQy9FLEdBQVcsRUFBUSxHQUFPLEdBQVMsRUFBUSxLQStCekMsR0FBYSxHQUFlLFNBQVMsRUFBUSxFQUFRLEVBQVUsRUFBWSxDQUM3RSxHQUFXLEVBQVEsR0FBSyxHQUFTLEVBQVEsS0FvQnZDLEdBQUssR0FBUyxJQW9DbEIsWUFBZ0IsRUFBVyxFQUFZLENBQ3JDLEdBQUksR0FBUyxHQUFXLEdBQ3hCLE1BQU8sSUFBYyxLQUFPLEVBQVMsR0FBVyxFQUFRLEdBd0IxRCxHQUFJLElBQVcsR0FBUyxTQUFTLEVBQVEsRUFBUyxDQUNoRCxFQUFTLEdBQU8sR0FFaEIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFRLE9BQ2pCLEVBQVEsRUFBUyxFQUFJLEVBQVEsR0FBS0EsRUFNdEMsSUFKSSxHQUFTLEdBQWUsRUFBUSxHQUFJLEVBQVEsR0FBSSxJQUNsRCxHQUFTLEdBR0osRUFBRSxFQUFRLEdBTWYsT0FMSSxHQUFTLEVBQVEsR0FDakIsRUFBUSxHQUFPLEdBQ2YsRUFBYSxHQUNiLEVBQWMsRUFBTSxPQUVqQixFQUFFLEVBQWEsR0FBYSxDQUNqQyxHQUFJLEdBQU0sRUFBTSxHQUNaLEVBQVEsRUFBTyxHQUVuQixBQUFJLEtBQVVBLEdBQ1QsR0FBRyxFQUFPLEdBQVksS0FBUyxDQUFDLEdBQWUsS0FBSyxFQUFRLEtBQy9ELEdBQU8sR0FBTyxFQUFPLElBSzNCLE1BQU8sS0FzQkwsR0FBZSxHQUFTLFNBQVMsRUFBTSxDQUN6QyxTQUFLLEtBQUtBLEVBQVcsSUFDZCxHQUFNLEdBQVdBLEVBQVcsS0FzQ3JDLFlBQWlCLEVBQVEsRUFBVyxDQUNsQyxNQUFPLElBQVksRUFBUSxHQUFZLEVBQVcsR0FBSSxJQXNDeEQsWUFBcUIsRUFBUSxFQUFXLENBQ3RDLE1BQU8sSUFBWSxFQUFRLEdBQVksRUFBVyxHQUFJLElBK0J4RCxZQUFlLEVBQVEsRUFBVSxDQUMvQixNQUFPLElBQVUsS0FDYixFQUNBLEdBQVEsRUFBUSxHQUFZLEVBQVUsR0FBSSxJQTZCaEQsWUFBb0IsRUFBUSxFQUFVLENBQ3BDLE1BQU8sSUFBVSxLQUNiLEVBQ0EsR0FBYSxFQUFRLEdBQVksRUFBVSxHQUFJLElBK0JyRCxZQUFnQixFQUFRLEVBQVUsQ0FDaEMsTUFBTyxJQUFVLEdBQVcsRUFBUSxHQUFZLEVBQVUsSUE2QjVELFlBQXFCLEVBQVEsRUFBVSxDQUNyQyxNQUFPLElBQVUsR0FBZ0IsRUFBUSxHQUFZLEVBQVUsSUEwQmpFLFlBQW1CLEVBQVEsQ0FDekIsTUFBTyxJQUFVLEtBQU8sR0FBSyxHQUFjLEVBQVEsR0FBSyxJQTBCMUQsWUFBcUIsRUFBUSxDQUMzQixNQUFPLElBQVUsS0FBTyxHQUFLLEdBQWMsRUFBUSxHQUFPLElBNEI1RCxZQUFhLEVBQVEsRUFBTSxFQUFjLENBQ3ZDLEdBQUksR0FBUyxHQUFVLEtBQU9BLEVBQVksR0FBUSxFQUFRLEdBQzFELE1BQU8sS0FBV0EsRUFBWSxFQUFlLEVBOEIvQyxZQUFhLEVBQVEsRUFBTSxDQUN6QixNQUFPLElBQVUsTUFBUSxHQUFRLEVBQVEsRUFBTSxJQTZCakQsWUFBZSxFQUFRLEVBQU0sQ0FDM0IsTUFBTyxJQUFVLE1BQVEsR0FBUSxFQUFRLEVBQU0sSUFxQmpELEdBQUksSUFBUyxHQUFlLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDdkQsQUFBSSxHQUFTLE1BQ1QsTUFBTyxHQUFNLFVBQVksWUFDM0IsR0FBUSxHQUFxQixLQUFLLElBR3BDLEVBQU8sR0FBUyxHQUNmLEdBQVMsS0E0QlIsR0FBVyxHQUFlLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDekQsQUFBSSxHQUFTLE1BQ1QsTUFBTyxHQUFNLFVBQVksWUFDM0IsR0FBUSxHQUFxQixLQUFLLElBR3BDLEFBQUksR0FBZSxLQUFLLEVBQVEsR0FDOUIsRUFBTyxHQUFPLEtBQUssR0FFbkIsRUFBTyxHQUFTLENBQUMsSUFFbEIsSUFvQkMsR0FBUyxHQUFTLElBOEJ0QixZQUFjLEVBQVEsQ0FDcEIsTUFBTyxJQUFZLEdBQVUsR0FBYyxHQUFVLEdBQVMsR0EwQmhFLFlBQWdCLEVBQVEsQ0FDdEIsTUFBTyxJQUFZLEdBQVUsR0FBYyxFQUFRLElBQVEsR0FBVyxHQXdCeEUsWUFBaUIsRUFBUSxFQUFVLENBQ2pDLEdBQUksR0FBUyxHQUNiLFNBQVcsR0FBWSxFQUFVLEdBRWpDLEdBQVcsRUFBUSxTQUFTLEVBQU8sRUFBSyxFQUFRLENBQzlDLEdBQWdCLEVBQVEsRUFBUyxFQUFPLEVBQUssR0FBUyxLQUVqRCxFQStCVCxZQUFtQixFQUFRLEVBQVUsQ0FDbkMsR0FBSSxHQUFTLEdBQ2IsU0FBVyxHQUFZLEVBQVUsR0FFakMsR0FBVyxFQUFRLFNBQVMsRUFBTyxFQUFLLEVBQVEsQ0FDOUMsR0FBZ0IsRUFBUSxFQUFLLEVBQVMsRUFBTyxFQUFLLE1BRTdDLEVBa0NULEdBQUksSUFBUSxHQUFlLFNBQVMsRUFBUSxFQUFRLEVBQVUsQ0FDNUQsR0FBVSxFQUFRLEVBQVEsS0FrQ3hCLEdBQVksR0FBZSxTQUFTLEVBQVEsRUFBUSxFQUFVLEVBQVksQ0FDNUUsR0FBVSxFQUFRLEVBQVEsRUFBVSxLQXVCbEMsR0FBTyxHQUFTLFNBQVMsRUFBUSxFQUFPLENBQzFDLEdBQUksR0FBUyxHQUNiLEdBQUksR0FBVSxLQUNaLE1BQU8sR0FFVCxHQUFJLEdBQVMsR0FDYixFQUFRLEdBQVMsRUFBTyxTQUFTLEVBQU0sQ0FDckMsU0FBTyxHQUFTLEVBQU0sR0FDdEIsR0FBVyxHQUFTLEVBQUssT0FBUyxHQUMzQixJQUVULEdBQVcsRUFBUSxHQUFhLEdBQVMsR0FDckMsR0FDRixHQUFTLEdBQVUsRUFBUSxFQUFrQixFQUFrQixFQUFvQixLQUdyRixPQURJLEdBQVMsRUFBTSxPQUNaLEtBQ0wsR0FBVSxFQUFRLEVBQU0sSUFFMUIsTUFBTyxLQXVCVCxZQUFnQixFQUFRLEVBQVcsQ0FDakMsTUFBTyxJQUFPLEVBQVEsR0FBTyxHQUFZLEtBb0IzQyxHQUFJLElBQU8sR0FBUyxTQUFTLEVBQVEsRUFBTyxDQUMxQyxNQUFPLElBQVUsS0FBTyxHQUFLLEdBQVMsRUFBUSxLQXFCaEQsWUFBZ0IsRUFBUSxFQUFXLENBQ2pDLEdBQUksR0FBVSxLQUNaLE1BQU8sR0FFVCxHQUFJLEdBQVEsR0FBUyxHQUFhLEdBQVMsU0FBUyxFQUFNLENBQ3hELE1BQU8sQ0FBQyxLQUVWLFNBQVksR0FBWSxHQUNqQixHQUFXLEVBQVEsRUFBTyxTQUFTLEVBQU8sRUFBTSxDQUNyRCxNQUFPLEdBQVUsRUFBTyxFQUFLLE1BaUNqQyxZQUFnQixFQUFRLEVBQU0sRUFBYyxDQUMxQyxFQUFPLEdBQVMsRUFBTSxHQUV0QixHQUFJLEdBQVEsR0FDUixFQUFTLEVBQUssT0FPbEIsSUFKSyxHQUNILEdBQVMsRUFDVCxFQUFTQSxHQUVKLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxHQUFVLEtBQU9BLEVBQVksRUFBTyxHQUFNLEVBQUssS0FDM0QsQUFBSSxJQUFVQSxHQUNaLEdBQVEsRUFDUixFQUFRLEdBRVYsRUFBUyxHQUFXLEdBQVMsRUFBTSxLQUFLLEdBQVUsRUFFcEQsTUFBTyxHQStCVCxZQUFhLEVBQVEsRUFBTSxFQUFPLENBQ2hDLE1BQU8sSUFBVSxLQUFPLEVBQVMsR0FBUSxFQUFRLEVBQU0sR0EyQnpELFlBQWlCLEVBQVEsRUFBTSxFQUFPLEVBQVksQ0FDaEQsU0FBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUNyRCxHQUFVLEtBQU8sRUFBUyxHQUFRLEVBQVEsRUFBTSxFQUFPLEdBMkJoRSxHQUFJLElBQVUsR0FBYyxJQTBCeEIsR0FBWSxHQUFjLElBZ0M5QixZQUFtQixFQUFRLEVBQVUsRUFBYSxDQUNoRCxHQUFJLEdBQVEsR0FBUSxHQUNoQixFQUFZLEdBQVMsR0FBUyxJQUFXLEdBQWEsR0FHMUQsR0FEQSxFQUFXLEdBQVksRUFBVSxHQUM3QixHQUFlLEtBQU0sQ0FDdkIsR0FBSSxHQUFPLEdBQVUsRUFBTyxZQUM1QixBQUFJLEVBQ0YsRUFBYyxFQUFRLEdBQUksR0FBTyxHQUU5QixBQUFJLEdBQVMsR0FDaEIsRUFBYyxHQUFXLEdBQVEsR0FBVyxHQUFhLElBQVcsR0FHcEUsRUFBYyxHQUdsQixNQUFDLEdBQVksR0FBWSxJQUFZLEVBQVEsU0FBUyxFQUFPLEVBQU8sRUFBUSxDQUMxRSxNQUFPLEdBQVMsRUFBYSxFQUFPLEVBQU8sS0FFdEMsRUE4QlQsWUFBZSxFQUFRLEVBQU0sQ0FDM0IsTUFBTyxJQUFVLEtBQU8sR0FBTyxHQUFVLEVBQVEsR0E4Qm5ELFlBQWdCLEVBQVEsRUFBTSxFQUFTLENBQ3JDLE1BQU8sSUFBVSxLQUFPLEVBQVMsR0FBVyxFQUFRLEVBQU0sR0FBYSxJQTJCekUsWUFBb0IsRUFBUSxFQUFNLEVBQVMsRUFBWSxDQUNyRCxTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVUsS0FBTyxFQUFTLEdBQVcsRUFBUSxFQUFNLEdBQWEsR0FBVSxHQTZCbkYsWUFBZ0IsRUFBUSxDQUN0QixNQUFPLElBQVUsS0FBTyxHQUFLLEdBQVcsRUFBUSxHQUFLLElBMkJ2RCxZQUFrQixFQUFRLENBQ3hCLE1BQU8sSUFBVSxLQUFPLEdBQUssR0FBVyxFQUFRLEdBQU8sSUF3QnpELFlBQWUsRUFBUSxFQUFPLEVBQU8sQ0FDbkMsTUFBSSxLQUFVQSxHQUNaLEdBQVEsRUFDUixFQUFRQSxHQUVOLElBQVVBLEdBQ1osR0FBUSxHQUFTLEdBQ2pCLEVBQVEsSUFBVSxFQUFRLEVBQVEsR0FFaEMsSUFBVUEsR0FDWixHQUFRLEdBQVMsR0FDakIsRUFBUSxJQUFVLEVBQVEsRUFBUSxHQUU3QixHQUFVLEdBQVMsR0FBUyxFQUFPLEdBeUM1QyxZQUFpQixFQUFRLEVBQU8sRUFBSyxDQUNuQyxTQUFRLEdBQVMsR0FDakIsQUFBSSxJQUFRQSxFQUNWLEdBQU0sRUFDTixFQUFRLEdBRVIsRUFBTSxHQUFTLEdBRWpCLEVBQVMsR0FBUyxHQUNYLEdBQVksRUFBUSxFQUFPLEdBa0NwQyxZQUFnQixFQUFPLEVBQU8sRUFBVSxDQTJCdEMsR0ExQkksR0FBWSxNQUFPLElBQVksV0FBYSxHQUFlLEVBQU8sRUFBTyxJQUMzRSxHQUFRLEVBQVdBLEdBRWpCLElBQWFBLEdBQ2YsQ0FBSSxNQUFPLElBQVMsVUFDbEIsR0FBVyxFQUNYLEVBQVFBLEdBRUQsTUFBTyxJQUFTLFdBQ3ZCLEdBQVcsRUFDWCxFQUFRQSxJQUdaLEFBQUksSUFBVUEsR0FBYSxJQUFVQSxFQUNuQyxHQUFRLEVBQ1IsRUFBUSxHQUdSLEdBQVEsR0FBUyxHQUNqQixBQUFJLElBQVVBLEVBQ1osR0FBUSxFQUNSLEVBQVEsR0FFUixFQUFRLEdBQVMsSUFHakIsRUFBUSxFQUFPLENBQ2pCLEdBQUksR0FBTyxFQUNYLEVBQVEsRUFDUixFQUFRLEVBRVYsR0FBSSxHQUFZLEVBQVEsR0FBSyxFQUFRLEVBQUcsQ0FDdEMsR0FBSSxHQUFPLEtBQ1gsTUFBTyxJQUFVLEVBQVMsRUFBUSxHQUFRLEVBQVEsR0FBZSxNQUFVLElBQU8sSUFBSSxPQUFTLEtBQU8sR0FFeEcsTUFBTyxJQUFXLEVBQU8sR0F5QjNCLEdBQUksSUFBWSxHQUFpQixTQUFTLEVBQVEsRUFBTSxFQUFPLENBQzdELFNBQU8sRUFBSyxjQUNMLEVBQVUsR0FBUSxHQUFXLEdBQVEsS0FrQjlDLFlBQW9CLEVBQVEsQ0FDMUIsTUFBTyxJQUFXLEdBQVMsR0FBUSxlQXFCckMsWUFBZ0IsRUFBUSxDQUN0QixTQUFTLEdBQVMsR0FDWCxHQUFVLEVBQU8sUUFBUSxHQUFTLElBQWMsUUFBUSxHQUFhLElBMEI5RSxZQUFrQixFQUFRLEVBQVEsRUFBVSxDQUMxQyxFQUFTLEdBQVMsR0FDbEIsRUFBUyxHQUFhLEdBRXRCLEdBQUksR0FBUyxFQUFPLE9BQ3BCLEVBQVcsSUFBYUEsRUFDcEIsRUFDQSxHQUFVLEdBQVUsR0FBVyxFQUFHLEdBRXRDLEdBQUksR0FBTSxFQUNWLFVBQVksRUFBTyxPQUNaLEdBQVksR0FBSyxFQUFPLE1BQU0sRUFBVSxJQUFRLEVBK0J6RCxZQUFnQixFQUFRLENBQ3RCLFNBQVMsR0FBUyxHQUNWLEdBQVUsR0FBbUIsS0FBSyxHQUN0QyxFQUFPLFFBQVEsR0FBaUIsSUFDaEMsRUFrQk4sWUFBc0IsRUFBUSxDQUM1QixTQUFTLEdBQVMsR0FDVixHQUFVLEdBQWdCLEtBQUssR0FDbkMsRUFBTyxRQUFRLEdBQWMsUUFDN0IsRUF3Qk4sR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEVBQUssZ0JBdUJ4QyxHQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEVBQUssZ0JBb0J4QyxHQUFhLEdBQWdCLGVBeUJqQyxZQUFhLEVBQVEsRUFBUSxFQUFPLENBQ2xDLEVBQVMsR0FBUyxHQUNsQixFQUFTLEdBQVUsR0FFbkIsR0FBSSxHQUFZLEVBQVMsR0FBVyxHQUFVLEVBQzlDLEdBQUksQ0FBQyxHQUFVLEdBQWEsRUFDMUIsTUFBTyxHQUVULEdBQUksR0FBTyxHQUFTLEdBQWEsRUFDakMsTUFDRSxJQUFjLEdBQVksR0FBTSxHQUNoQyxFQUNBLEdBQWMsR0FBVyxHQUFNLEdBMkJuQyxZQUFnQixFQUFRLEVBQVEsRUFBTyxDQUNyQyxFQUFTLEdBQVMsR0FDbEIsRUFBUyxHQUFVLEdBRW5CLEdBQUksR0FBWSxFQUFTLEdBQVcsR0FBVSxFQUM5QyxNQUFRLElBQVUsRUFBWSxFQUN6QixFQUFTLEdBQWMsRUFBUyxFQUFXLEdBQzVDLEVBMEJOLFlBQWtCLEVBQVEsRUFBUSxFQUFPLENBQ3ZDLEVBQVMsR0FBUyxHQUNsQixFQUFTLEdBQVUsR0FFbkIsR0FBSSxHQUFZLEVBQVMsR0FBVyxHQUFVLEVBQzlDLE1BQVEsSUFBVSxFQUFZLEVBQ3pCLEdBQWMsRUFBUyxFQUFXLEdBQVMsRUFDNUMsRUEyQk4sWUFBa0IsRUFBUSxFQUFPLEVBQU8sQ0FDdEMsTUFBSSxJQUFTLEdBQVMsS0FDcEIsRUFBUSxFQUNDLEdBQ1QsR0FBUSxDQUFDLEdBRUosR0FBZSxHQUFTLEdBQVEsUUFBUSxHQUFhLElBQUssR0FBUyxHQXlCNUUsWUFBZ0IsRUFBUSxFQUFHLEVBQU8sQ0FDaEMsTUFBSyxHQUFRLEdBQWUsRUFBUSxFQUFHLEdBQVMsSUFBTUEsR0FDcEQsRUFBSSxFQUVKLEVBQUksR0FBVSxHQUVULEdBQVcsR0FBUyxHQUFTLEdBc0J0QyxhQUFtQixDQUNqQixHQUFJLEdBQU8sVUFDUCxFQUFTLEdBQVMsRUFBSyxJQUUzQixNQUFPLEdBQUssT0FBUyxFQUFJLEVBQVMsRUFBTyxRQUFRLEVBQUssR0FBSSxFQUFLLElBd0JqRSxHQUFJLElBQVksR0FBaUIsU0FBUyxFQUFRLEVBQU0sRUFBTyxDQUM3RCxNQUFPLEdBQVUsR0FBUSxJQUFNLElBQU0sRUFBSyxnQkFzQjVDLFlBQWUsRUFBUSxFQUFXLEVBQU8sQ0FLdkMsTUFKSSxJQUFTLE1BQU8sSUFBUyxVQUFZLEdBQWUsRUFBUSxFQUFXLElBQ3pFLEdBQVksRUFBUUEsR0FFdEIsRUFBUSxJQUFVQSxFQUFZLEdBQW1CLElBQVUsRUFDdkQsQUFBQyxFQUdMLEdBQVMsR0FBUyxHQUNkLEdBQ0UsT0FBTyxJQUFhLFVBQ25CLEdBQWEsTUFBUSxDQUFDLEdBQVMsS0FFcEMsR0FBWSxHQUFhLEdBQ3JCLENBQUMsR0FBYSxHQUFXLElBQ3BCLEdBQVUsR0FBYyxHQUFTLEVBQUcsR0FHeEMsRUFBTyxNQUFNLEVBQVcsSUFadEIsR0FvQ1gsR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEdBQVcsS0EwQmxELFlBQW9CLEVBQVEsRUFBUSxFQUFVLENBQzVDLFNBQVMsR0FBUyxHQUNsQixFQUFXLEdBQVksS0FDbkIsRUFDQSxHQUFVLEdBQVUsR0FBVyxFQUFHLEVBQU8sUUFFN0MsRUFBUyxHQUFhLEdBQ2YsRUFBTyxNQUFNLEVBQVUsRUFBVyxFQUFPLFNBQVcsRUEyRzdELFlBQWtCLEVBQVEsRUFBUyxFQUFPLENBSXhDLEdBQUksR0FBVyxFQUFPLGlCQUV0QixBQUFJLEdBQVMsR0FBZSxFQUFRLEVBQVMsSUFDM0MsR0FBVUEsR0FFWixFQUFTLEdBQVMsR0FDbEIsRUFBVSxHQUFhLEdBQUksRUFBUyxFQUFVLElBRTlDLEdBQUksR0FBVSxHQUFhLEdBQUksRUFBUSxRQUFTLEVBQVMsUUFBUyxJQUM5RCxFQUFjLEdBQUssR0FDbkIsRUFBZ0IsR0FBVyxFQUFTLEdBRXBDLEVBQ0EsRUFDQSxFQUFRLEVBQ1IsRUFBYyxFQUFRLGFBQWUsR0FDckMsRUFBUyxXQUdULEdBQWUsR0FDaEIsR0FBUSxRQUFVLElBQVcsT0FBUyxJQUN2QyxFQUFZLE9BQVMsSUFDcEIsS0FBZ0IsR0FBZ0IsR0FBZSxJQUFXLE9BQVMsSUFDbkUsR0FBUSxVQUFZLElBQVcsT0FBUyxLQUN6QyxLQU1FLEdBQVksaUJBQ2IsSUFBZSxLQUFLLEVBQVMsYUFDekIsR0FBUSxVQUFZLElBQUksUUFBUSxNQUFPLEtBQ3ZDLDBCQUE2QixHQUFFLEdBQW1CLEtBQ25EO0FBQUEsRUFFTixFQUFPLFFBQVEsR0FBYyxTQUFTLEdBQU8sR0FBYSxHQUFrQixHQUFpQixHQUFlLEdBQVEsQ0FDbEgsV0FBcUIsSUFBbUIsSUFHeEMsR0FBVSxFQUFPLE1BQU0sRUFBTyxJQUFRLFFBQVEsR0FBbUIsSUFHN0QsSUFDRixHQUFhLEdBQ2IsR0FBVTtBQUFBLE1BQWMsR0FBYztBQUFBLElBRXBDLElBQ0YsR0FBZSxHQUNmLEdBQVU7QUFBQSxFQUFTLEdBQWdCO0FBQUEsV0FFakMsSUFDRixJQUFVO0FBQUEsV0FBbUIsR0FBbUI7QUFBQSxJQUVsRCxFQUFRLEdBQVMsR0FBTSxPQUloQixLQUdULEdBQVU7QUFBQSxFQUlWLEdBQUksSUFBVyxHQUFlLEtBQUssRUFBUyxhQUFlLEVBQVEsU0FDbkUsR0FBSSxDQUFDLEdBQ0gsRUFBUztBQUFBLEVBQW1CLEVBQVM7QUFBQTtBQUFBLFVBSTlCLEdBQTJCLEtBQUssSUFDdkMsS0FBTSxJQUFJLElBQU0sR0FJbEIsRUFBVSxHQUFlLEVBQU8sUUFBUSxHQUFzQixJQUFNLEdBQ2pFLFFBQVEsR0FBcUIsTUFDN0IsUUFBUSxHQUF1QixPQUdsQyxFQUFTLFlBQWUsS0FBWSxPQUFTO0FBQUEsRUFDMUMsSUFDRyxHQUNBO0FBQUEsR0FFSixvQkFDQyxHQUNJLG1CQUNBLElBRUosR0FDRztBQUFBO0FBQUEsRUFFQTtBQUFBLEdBRUosRUFDQTtBQUFBLEdBRUYsR0FBSSxJQUFTLEdBQVEsVUFBVyxDQUM5QixNQUFPLElBQVMsRUFBYSxHQUFZLFVBQVksR0FDbEQsTUFBTUEsRUFBVyxLQU10QixHQURBLEdBQU8sT0FBUyxFQUNaLEdBQVEsSUFDVixLQUFNLElBRVIsTUFBTyxJQXdCVCxZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxHQUFPLGNBd0J6QixZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxHQUFPLGNBeUJ6QixZQUFjLEVBQVEsRUFBTyxFQUFPLENBRWxDLEdBREEsRUFBUyxHQUFTLEdBQ2QsR0FBVyxJQUFTLElBQVVBLEdBQ2hDLE1BQU8sSUFBUyxHQUVsQixHQUFJLENBQUMsR0FBVSxDQUFFLEdBQVEsR0FBYSxJQUNwQyxNQUFPLEdBRVQsR0FBSSxHQUFhLEdBQWMsR0FDM0IsRUFBYSxHQUFjLEdBQzNCLEVBQVEsR0FBZ0IsRUFBWSxHQUNwQyxFQUFNLEdBQWMsRUFBWSxHQUFjLEVBRWxELE1BQU8sSUFBVSxFQUFZLEVBQU8sR0FBSyxLQUFLLElBc0JoRCxZQUFpQixFQUFRLEVBQU8sRUFBTyxDQUVyQyxHQURBLEVBQVMsR0FBUyxHQUNkLEdBQVcsSUFBUyxJQUFVQSxHQUNoQyxNQUFPLEdBQU8sTUFBTSxFQUFHLEdBQWdCLEdBQVUsR0FFbkQsR0FBSSxDQUFDLEdBQVUsQ0FBRSxHQUFRLEdBQWEsSUFDcEMsTUFBTyxHQUVULEdBQUksR0FBYSxHQUFjLEdBQzNCLEVBQU0sR0FBYyxFQUFZLEdBQWMsSUFBVSxFQUU1RCxNQUFPLElBQVUsRUFBWSxFQUFHLEdBQUssS0FBSyxJQXNCNUMsWUFBbUIsRUFBUSxFQUFPLEVBQU8sQ0FFdkMsR0FEQSxFQUFTLEdBQVMsR0FDZCxHQUFXLElBQVMsSUFBVUEsR0FDaEMsTUFBTyxHQUFPLFFBQVEsR0FBYSxJQUVyQyxHQUFJLENBQUMsR0FBVSxDQUFFLEdBQVEsR0FBYSxJQUNwQyxNQUFPLEdBRVQsR0FBSSxHQUFhLEdBQWMsR0FDM0IsRUFBUSxHQUFnQixFQUFZLEdBQWMsSUFFdEQsTUFBTyxJQUFVLEVBQVksR0FBTyxLQUFLLElBd0MzQyxZQUFrQixFQUFRLEVBQVMsQ0FDakMsR0FBSSxHQUFTLEdBQ1QsRUFBVyxHQUVmLEdBQUksR0FBUyxHQUFVLENBQ3JCLEdBQUksR0FBWSxhQUFlLEdBQVUsRUFBUSxVQUFZLEVBQzdELEVBQVMsVUFBWSxHQUFVLEdBQVUsRUFBUSxRQUFVLEVBQzNELEVBQVcsWUFBYyxHQUFVLEdBQWEsRUFBUSxVQUFZLEVBRXRFLEVBQVMsR0FBUyxHQUVsQixHQUFJLEdBQVksRUFBTyxPQUN2QixHQUFJLEdBQVcsR0FBUyxDQUN0QixHQUFJLEdBQWEsR0FBYyxHQUMvQixFQUFZLEVBQVcsT0FFekIsR0FBSSxHQUFVLEVBQ1osTUFBTyxHQUVULEdBQUksR0FBTSxFQUFTLEdBQVcsR0FDOUIsR0FBSSxFQUFNLEVBQ1IsTUFBTyxHQUVULEdBQUksR0FBUyxFQUNULEdBQVUsRUFBWSxFQUFHLEdBQUssS0FBSyxJQUNuQyxFQUFPLE1BQU0sRUFBRyxHQUVwQixHQUFJLElBQWNBLEVBQ2hCLE1BQU8sR0FBUyxFQUtsQixHQUhJLEdBQ0YsSUFBUSxFQUFPLE9BQVMsR0FFdEIsR0FBUyxJQUNYLEdBQUksRUFBTyxNQUFNLEdBQUssT0FBTyxHQUFZLENBQ3ZDLEdBQUksR0FDQSxFQUFZLEVBTWhCLElBSkssRUFBVSxRQUNiLEdBQVksR0FBTyxFQUFVLE9BQVEsR0FBUyxHQUFRLEtBQUssSUFBYyxNQUUzRSxFQUFVLFVBQVksRUFDZCxFQUFRLEVBQVUsS0FBSyxJQUM3QixHQUFJLEdBQVMsRUFBTSxNQUVyQixFQUFTLEVBQU8sTUFBTSxFQUFHLElBQVdBLEVBQVksRUFBTSxZQUUvQyxFQUFPLFFBQVEsR0FBYSxHQUFZLElBQVEsRUFBSyxDQUM5RCxHQUFJLElBQVEsRUFBTyxZQUFZLEdBQy9CLEFBQUksR0FBUSxJQUNWLEdBQVMsRUFBTyxNQUFNLEVBQUcsS0FHN0IsTUFBTyxHQUFTLEVBc0JsQixZQUFrQixFQUFRLENBQ3hCLFNBQVMsR0FBUyxHQUNWLEdBQVUsR0FBaUIsS0FBSyxHQUNwQyxFQUFPLFFBQVEsR0FBZSxJQUM5QixFQXVCTixHQUFJLElBQVksR0FBaUIsU0FBUyxFQUFRLEVBQU0sRUFBTyxDQUM3RCxNQUFPLEdBQVUsR0FBUSxJQUFNLElBQU0sRUFBSyxnQkFvQnhDLEdBQWEsR0FBZ0IsZUFxQmpDLFlBQWUsRUFBUSxFQUFTLEVBQU8sQ0FJckMsTUFIQSxHQUFTLEdBQVMsR0FDbEIsRUFBVSxFQUFRQSxFQUFZLEVBRTFCLElBQVlBLEVBQ1AsR0FBZSxHQUFVLEdBQWEsR0FBVSxHQUFXLEdBRTdELEVBQU8sTUFBTSxJQUFZLEdBMkJsQyxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUMxQyxHQUFJLENBQ0YsTUFBTyxJQUFNLEVBQU1BLEVBQVcsU0FDdkIsRUFBUCxDQUNBLE1BQU8sSUFBUSxHQUFLLEVBQUksR0FBSSxJQUFNLE1BOEJsQyxHQUFVLEdBQVMsU0FBUyxFQUFRLEVBQWEsQ0FDbkQsVUFBVSxFQUFhLFNBQVMsRUFBSyxDQUNuQyxFQUFNLEdBQU0sR0FDWixHQUFnQixFQUFRLEVBQUssR0FBSyxFQUFPLEdBQU0sTUFFMUMsSUFnQ1QsWUFBYyxFQUFPLENBQ25CLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ25DLEVBQWEsS0FFakIsU0FBUSxBQUFDLEVBQWMsR0FBUyxFQUFPLFNBQVMsRUFBTSxDQUNwRCxHQUFJLE1BQU8sR0FBSyxJQUFNLFdBQ3BCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLE1BQU8sQ0FBQyxFQUFXLEVBQUssSUFBSyxFQUFLLE1BSmxCLEdBT1gsR0FBUyxTQUFTLEVBQU0sQ0FFN0IsT0FESSxHQUFRLEdBQ0wsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFPLEVBQU0sR0FDakIsR0FBSSxHQUFNLEVBQUssR0FBSSxLQUFNLEdBQ3ZCLE1BQU8sSUFBTSxFQUFLLEdBQUksS0FBTSxNQThCcEMsWUFBa0IsRUFBUSxDQUN4QixNQUFPLElBQWEsR0FBVSxFQUFRLElBc0J4QyxZQUFrQixFQUFPLENBQ3ZCLE1BQU8sV0FBVyxDQUNoQixNQUFPLElBd0JYLFlBQW1CLEVBQU8sRUFBYyxDQUN0QyxNQUFRLElBQVMsTUFBUSxJQUFVLEVBQVMsRUFBZSxFQXlCN0QsR0FBSSxJQUFPLEtBdUJQLEdBQVksR0FBVyxJQWtCM0IsWUFBa0IsRUFBTyxDQUN2QixNQUFPLEdBNkNULFlBQWtCLEVBQU0sQ0FDdEIsTUFBTyxJQUFhLE1BQU8sSUFBUSxXQUFhLEVBQU8sR0FBVSxFQUFNLElBc0N6RSxZQUFpQixFQUFRLENBQ3ZCLE1BQU8sSUFBWSxHQUFVLEVBQVEsSUFvQ3ZDLFlBQXlCLEVBQU0sRUFBVSxDQUN2QyxNQUFPLElBQW9CLEVBQU0sR0FBVSxFQUFVLElBMkJ2RCxHQUFJLElBQVMsR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUN6QyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFPLElBQVcsRUFBUSxFQUFNLE1BMkJoQyxHQUFXLEdBQVMsU0FBUyxFQUFRLEVBQU0sQ0FDN0MsTUFBTyxVQUFTLEVBQU0sQ0FDcEIsTUFBTyxJQUFXLEVBQVEsRUFBTSxNQXdDcEMsWUFBZSxFQUFRLEVBQVEsRUFBUyxDQUN0QyxHQUFJLEdBQVEsR0FBSyxHQUNiLEVBQWMsR0FBYyxFQUFRLEdBRXhDLEFBQUksR0FBVyxNQUNYLENBQUUsSUFBUyxJQUFZLEdBQVksUUFBVSxDQUFDLEVBQU0sVUFDdEQsR0FBVSxFQUNWLEVBQVMsRUFDVCxFQUFTLEtBQ1QsRUFBYyxHQUFjLEVBQVEsR0FBSyxLQUUzQyxHQUFJLEdBQVEsQ0FBRSxJQUFTLElBQVksU0FBVyxLQUFZLENBQUMsQ0FBQyxFQUFRLE1BQ2hFLEVBQVMsR0FBVyxHQUV4QixVQUFVLEVBQWEsU0FBUyxFQUFZLENBQzFDLEdBQUksR0FBTyxFQUFPLEdBQ2xCLEVBQU8sR0FBYyxFQUNqQixHQUNGLEdBQU8sVUFBVSxHQUFjLFVBQVcsQ0FDeEMsR0FBSSxHQUFXLEtBQUssVUFDcEIsR0FBSSxHQUFTLEVBQVUsQ0FDckIsR0FBSSxHQUFTLEVBQU8sS0FBSyxhQUNyQixFQUFVLEVBQU8sWUFBYyxHQUFVLEtBQUssYUFFbEQsU0FBUSxLQUFLLENBQUUsS0FBUSxFQUFNLEtBQVEsVUFBVyxRQUFXLElBQzNELEVBQU8sVUFBWSxFQUNaLEVBRVQsTUFBTyxHQUFLLE1BQU0sRUFBUSxHQUFVLENBQUMsS0FBSyxTQUFVLGdCQUtuRCxFQWdCVCxhQUFzQixDQUNwQixNQUFJLElBQUssSUFBTSxNQUNiLElBQUssRUFBSSxJQUVKLEtBZVQsYUFBZ0IsRUF3QmhCLFlBQWdCLEVBQUcsQ0FDakIsU0FBSSxHQUFVLEdBQ1AsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsTUFBTyxJQUFRLEVBQU0sS0FzQnpCLEdBQUksSUFBTyxHQUFXLElBOEJsQixHQUFZLEdBQVcsSUFpQ3ZCLEdBQVcsR0FBVyxJQXdCMUIsWUFBa0IsRUFBTSxDQUN0QixNQUFPLElBQU0sR0FBUSxHQUFhLEdBQU0sSUFBUyxHQUFpQixHQXdCcEUsWUFBb0IsRUFBUSxDQUMxQixNQUFPLFVBQVMsRUFBTSxDQUNwQixNQUFPLElBQVUsS0FBT0EsRUFBWSxHQUFRLEVBQVEsSUE2Q3hELEdBQUksSUFBUSxLQXNDUixHQUFhLEdBQVksSUFvQjdCLGFBQXFCLENBQ25CLE1BQU8sR0FnQlQsYUFBcUIsQ0FDbkIsTUFBTyxHQXFCVCxhQUFzQixDQUNwQixNQUFPLEdBZ0JULGFBQXNCLENBQ3BCLE1BQU8sR0FnQlQsYUFBb0IsQ0FDbEIsTUFBTyxHQXNCVCxZQUFlLEVBQUcsRUFBVSxDQUUxQixHQURBLEVBQUksR0FBVSxHQUNWLEVBQUksR0FBSyxFQUFJLEVBQ2YsTUFBTyxHQUVULEdBQUksR0FBUSxHQUNSLEVBQVMsR0FBVSxFQUFHLElBRTFCLEVBQVcsR0FBWSxHQUN2QixHQUFLLEdBR0wsT0FESSxHQUFTLEdBQVUsRUFBUSxHQUN4QixFQUFFLEVBQVEsR0FDZixFQUFTLEdBRVgsTUFBTyxHQW9CVCxZQUFnQixFQUFPLENBQ3JCLE1BQUksSUFBUSxHQUNILEdBQVMsRUFBTyxJQUVsQixHQUFTLEdBQVMsQ0FBQyxHQUFTLEdBQVUsR0FBYSxHQUFTLEtBb0JyRSxZQUFrQixFQUFRLENBQ3hCLEdBQUksR0FBSyxFQUFFLEdBQ1gsTUFBTyxJQUFTLEdBQVUsRUFvQjVCLEdBQUksSUFBTSxHQUFvQixTQUFTLEVBQVEsRUFBUSxDQUNyRCxNQUFPLEdBQVMsR0FDZixHQXVCQyxHQUFPLEdBQVksUUFpQm5CLEdBQVMsR0FBb0IsU0FBUyxFQUFVLEVBQVMsQ0FDM0QsTUFBTyxHQUFXLEdBQ2pCLEdBdUJDLEdBQVEsR0FBWSxTQW9CeEIsWUFBYSxFQUFPLENBQ2xCLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWEsRUFBTyxHQUFVLElBQzlCQSxFQTBCTixZQUFlLEVBQU8sRUFBVSxDQUM5QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFhLEVBQU8sR0FBWSxFQUFVLEdBQUksSUFDOUNBLEVBaUJOLFlBQWMsRUFBTyxDQUNuQixNQUFPLElBQVMsRUFBTyxJQTBCekIsWUFBZ0IsRUFBTyxFQUFVLENBQy9CLE1BQU8sSUFBUyxFQUFPLEdBQVksRUFBVSxJQXFCL0MsWUFBYSxFQUFPLENBQ2xCLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWEsRUFBTyxHQUFVLElBQzlCQSxFQTBCTixZQUFlLEVBQU8sRUFBVSxDQUM5QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFhLEVBQU8sR0FBWSxFQUFVLEdBQUksSUFDOUNBLEVBa0JOLEdBQUksSUFBVyxHQUFvQixTQUFTLEVBQVksRUFBYyxDQUNwRSxNQUFPLEdBQWEsR0FDbkIsR0F1QkMsR0FBUSxHQUFZLFNBaUJwQixHQUFXLEdBQW9CLFNBQVMsRUFBUyxFQUFZLENBQy9ELE1BQU8sR0FBVSxHQUNoQixHQWdCSCxZQUFhLEVBQU8sQ0FDbEIsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBUSxFQUFPLElBQ2YsRUEwQk4sWUFBZSxFQUFPLEVBQVUsQ0FDOUIsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBUSxFQUFPLEdBQVksRUFBVSxJQUNyQyxFQU1OLFNBQU8sTUFBUSxHQUNmLEVBQU8sSUFBTSxHQUNiLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sV0FBYSxHQUNwQixFQUFPLEdBQUssR0FDWixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFVBQVksR0FDbkIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sT0FBUyxHQUNoQixFQUFPLEtBQU8sR0FDZCxFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sUUFBVSxHQUNqQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sTUFBUSxHQUNmLEVBQU8sV0FBYSxHQUNwQixFQUFPLGFBQWUsR0FDdEIsRUFBTyxlQUFpQixHQUN4QixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxlQUFpQixHQUN4QixFQUFPLFVBQVksR0FDbkIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sS0FBTyxHQUNkLEVBQU8sS0FBTyxHQUNkLEVBQU8sVUFBWSxHQUNuQixFQUFPLFVBQVksR0FDbkIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sWUFBYyxHQUNyQixFQUFPLFFBQVUsR0FDakIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sYUFBZSxHQUN0QixFQUFPLGVBQWlCLEdBQ3hCLEVBQU8saUJBQW1CLEdBQzFCLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLEtBQU8sR0FDZCxFQUFPLE9BQVMsR0FDaEIsRUFBTyxJQUFNLEdBQ2IsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFFBQVUsR0FDakIsRUFBTyxnQkFBa0IsR0FDekIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sTUFBUSxHQUNmLEVBQU8sVUFBWSxHQUNuQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sS0FBTyxHQUNkLEVBQU8sUUFBVSxHQUNqQixFQUFPLEtBQU8sR0FDZCxFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sV0FBYSxHQUNwQixFQUFPLEtBQU8sR0FDZCxFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sWUFBYyxHQUNyQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sV0FBYSxHQUNwQixFQUFPLElBQU0sR0FDYixFQUFPLFFBQVUsR0FDakIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLEtBQU8sR0FDZCxFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxlQUFpQixHQUN4QixFQUFPLFVBQVksR0FDbkIsRUFBTyxJQUFNLEdBQ2IsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sS0FBTyxHQUNkLEVBQU8sUUFBVSxHQUNqQixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sVUFBWSxHQUNuQixFQUFPLE1BQVEsR0FDZixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sS0FBTyxHQUNkLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxLQUFPLEdBQ2QsRUFBTyxJQUFNLEdBQ2IsRUFBTyxNQUFRLEdBQ2YsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sSUFBTSxHQUNiLEVBQU8sVUFBWSxHQUNuQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sUUFBVSxHQUdqQixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FHcEIsR0FBTSxFQUFRLEdBS2QsRUFBTyxJQUFNLEdBQ2IsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxVQUFZLEdBQ25CLEVBQU8sY0FBZ0IsR0FDdkIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sV0FBYSxHQUNwQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxHQUFLLEdBQ1osRUFBTyxPQUFTLEdBQ2hCLEVBQU8sYUFBZSxHQUN0QixFQUFPLE1BQVEsR0FDZixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sU0FBVyxHQUNsQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sWUFBYyxHQUNyQixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sV0FBYSxHQUNwQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sSUFBTSxHQUNiLEVBQU8sR0FBSyxHQUNaLEVBQU8sSUFBTSxHQUNiLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sS0FBTyxHQUNkLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sUUFBVSxHQUNqQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sWUFBYyxHQUNyQixFQUFPLGtCQUFvQixHQUMzQixFQUFPLFVBQVksR0FDbkIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sT0FBUyxHQUNoQixFQUFPLFVBQVksR0FDbkIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sTUFBUSxHQUNmLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sU0FBVyxHQUNsQixFQUFPLGFBQWUsR0FDdEIsRUFBTyxjQUFnQixHQUN2QixFQUFPLFNBQVcsR0FDbEIsRUFBTyxjQUFnQixHQUN2QixFQUFPLE1BQVEsR0FDZixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sYUFBZSxHQUN0QixFQUFPLFlBQWMsR0FDckIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxHQUFLLEdBQ1osRUFBTyxJQUFNLEdBQ2IsRUFBTyxJQUFNLEdBQ2IsRUFBTyxNQUFRLEdBQ2YsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sVUFBWSxHQUNuQixFQUFPLFVBQVksR0FDbkIsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sV0FBYSxHQUNwQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sSUFBTSxHQUNiLEVBQU8sV0FBYSxHQUNwQixFQUFPLEtBQU8sR0FDZCxFQUFPLElBQU0sR0FDYixFQUFPLElBQU0sR0FDYixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sU0FBVyxHQUNsQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sWUFBYyxHQUNyQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sT0FBUyxHQUNoQixFQUFPLE1BQVEsR0FDZixFQUFPLGFBQWUsRUFDdEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sS0FBTyxHQUNkLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLFlBQWMsR0FDckIsRUFBTyxjQUFnQixHQUN2QixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sZ0JBQWtCLEdBQ3pCLEVBQU8sa0JBQW9CLEdBQzNCLEVBQU8sa0JBQW9CLEdBQzNCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sY0FBZ0IsR0FDdkIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sUUFBVSxHQUNqQixFQUFPLEtBQU8sR0FDZCxFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FHcEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxVQUFZLEdBQ25CLEVBQU8sTUFBUSxHQUVmLEdBQU0sRUFBUyxVQUFXLENBQ3hCLEdBQUksR0FBUyxHQUNiLFVBQVcsRUFBUSxTQUFTLEVBQU0sRUFBWSxDQUM1QyxBQUFLLEdBQWUsS0FBSyxFQUFPLFVBQVcsSUFDekMsR0FBTyxHQUFjLEtBR2xCLEtBQ0gsQ0FBRSxNQUFTLEtBV2pCLEVBQU8sUUFBVSxFQUdqQixHQUFVLENBQUMsT0FBUSxVQUFXLFFBQVMsYUFBYyxVQUFXLGdCQUFpQixTQUFTLEVBQVksQ0FDcEcsRUFBTyxHQUFZLFlBQWMsSUFJbkMsR0FBVSxDQUFDLE9BQVEsUUFBUyxTQUFTLEVBQVksRUFBTyxDQUN0RCxHQUFZLFVBQVUsR0FBYyxTQUFTLEVBQUcsQ0FDOUMsRUFBSSxJQUFNQSxFQUFZLEVBQUksR0FBVSxHQUFVLEdBQUksR0FFbEQsR0FBSSxHQUFVLEtBQUssY0FBZ0IsQ0FBQyxFQUNoQyxHQUFJLElBQVksTUFDaEIsS0FBSyxRQUVULE1BQUksR0FBTyxhQUNULEVBQU8sY0FBZ0IsR0FBVSxFQUFHLEVBQU8sZUFFM0MsRUFBTyxVQUFVLEtBQUssQ0FDcEIsS0FBUSxHQUFVLEVBQUcsSUFDckIsS0FBUSxFQUFjLEdBQU8sUUFBVSxFQUFJLFFBQVUsTUFHbEQsR0FHVCxHQUFZLFVBQVUsRUFBYSxTQUFXLFNBQVMsRUFBRyxDQUN4RCxNQUFPLE1BQUssVUFBVSxHQUFZLEdBQUcsYUFLekMsR0FBVSxDQUFDLFNBQVUsTUFBTyxhQUFjLFNBQVMsRUFBWSxFQUFPLENBQ3BFLEdBQUksR0FBTyxFQUFRLEVBQ2YsRUFBVyxHQUFRLEdBQW9CLEdBQVEsRUFFbkQsR0FBWSxVQUFVLEdBQWMsU0FBUyxFQUFVLENBQ3JELEdBQUksR0FBUyxLQUFLLFFBQ2xCLFNBQU8sY0FBYyxLQUFLLENBQ3hCLFNBQVksR0FBWSxFQUFVLEdBQ2xDLEtBQVEsSUFFVixFQUFPLGFBQWUsRUFBTyxjQUFnQixFQUN0QyxLQUtYLEdBQVUsQ0FBQyxPQUFRLFFBQVMsU0FBUyxFQUFZLEVBQU8sQ0FDdEQsR0FBSSxHQUFXLE9BQVUsR0FBUSxRQUFVLElBRTNDLEdBQVksVUFBVSxHQUFjLFVBQVcsQ0FDN0MsTUFBTyxNQUFLLEdBQVUsR0FBRyxRQUFRLE1BS3JDLEdBQVUsQ0FBQyxVQUFXLFFBQVMsU0FBUyxFQUFZLEVBQU8sQ0FDekQsR0FBSSxHQUFXLE9BQVUsR0FBUSxHQUFLLFNBRXRDLEdBQVksVUFBVSxHQUFjLFVBQVcsQ0FDN0MsTUFBTyxNQUFLLGFBQWUsR0FBSSxJQUFZLE1BQVEsS0FBSyxHQUFVLE1BSXRFLEdBQVksVUFBVSxRQUFVLFVBQVcsQ0FDekMsTUFBTyxNQUFLLE9BQU8sS0FHckIsR0FBWSxVQUFVLEtBQU8sU0FBUyxFQUFXLENBQy9DLE1BQU8sTUFBSyxPQUFPLEdBQVcsUUFHaEMsR0FBWSxVQUFVLFNBQVcsU0FBUyxFQUFXLENBQ25ELE1BQU8sTUFBSyxVQUFVLEtBQUssSUFHN0IsR0FBWSxVQUFVLFVBQVksR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUM5RCxNQUFJLE9BQU8sSUFBUSxXQUNWLEdBQUksSUFBWSxNQUVsQixLQUFLLElBQUksU0FBUyxFQUFPLENBQzlCLE1BQU8sSUFBVyxFQUFPLEVBQU0sT0FJbkMsR0FBWSxVQUFVLE9BQVMsU0FBUyxFQUFXLENBQ2pELE1BQU8sTUFBSyxPQUFPLEdBQU8sR0FBWSxNQUd4QyxHQUFZLFVBQVUsTUFBUSxTQUFTLEVBQU8sRUFBSyxDQUNqRCxFQUFRLEdBQVUsR0FFbEIsR0FBSSxHQUFTLEtBQ2IsTUFBSSxHQUFPLGNBQWlCLEdBQVEsR0FBSyxFQUFNLEdBQ3RDLEdBQUksSUFBWSxHQUV6QixDQUFJLEVBQVEsRUFDVixFQUFTLEVBQU8sVUFBVSxDQUFDLEdBQ2xCLEdBQ1QsR0FBUyxFQUFPLEtBQUssSUFFbkIsSUFBUUEsR0FDVixHQUFNLEdBQVUsR0FDaEIsRUFBUyxFQUFNLEVBQUksRUFBTyxVQUFVLENBQUMsR0FBTyxFQUFPLEtBQUssRUFBTSxJQUV6RCxJQUdULEdBQVksVUFBVSxlQUFpQixTQUFTLEVBQVcsQ0FDekQsTUFBTyxNQUFLLFVBQVUsVUFBVSxHQUFXLFdBRzdDLEdBQVksVUFBVSxRQUFVLFVBQVcsQ0FDekMsTUFBTyxNQUFLLEtBQUssS0FJbkIsR0FBVyxHQUFZLFVBQVcsU0FBUyxFQUFNLEVBQVksQ0FDM0QsR0FBSSxHQUFnQixxQ0FBcUMsS0FBSyxHQUMxRCxFQUFVLGtCQUFrQixLQUFLLEdBQ2pDLEVBQWEsRUFBTyxFQUFXLE9BQVUsSUFBYyxPQUFTLFFBQVUsSUFBTyxHQUNqRixFQUFlLEdBQVcsUUFBUSxLQUFLLEdBRTNDLEFBQUksQ0FBQyxHQUdMLEdBQU8sVUFBVSxHQUFjLFVBQVcsQ0FDeEMsR0FBSSxHQUFRLEtBQUssWUFDYixFQUFPLEVBQVUsQ0FBQyxHQUFLLFVBQ3ZCLEVBQVMsWUFBaUIsSUFDMUIsRUFBVyxFQUFLLEdBQ2hCLEVBQVUsR0FBVSxHQUFRLEdBRTVCLEVBQWMsU0FBUyxHQUFPLENBQ2hDLEdBQUksSUFBUyxFQUFXLE1BQU0sRUFBUSxHQUFVLENBQUMsSUFBUSxJQUN6RCxNQUFRLElBQVcsR0FBWSxHQUFPLEdBQUssSUFHN0MsQUFBSSxHQUFXLEdBQWlCLE1BQU8sSUFBWSxZQUFjLEVBQVMsUUFBVSxHQUVsRixHQUFTLEVBQVUsSUFFckIsR0FBSSxJQUFXLEtBQUssVUFDaEIsR0FBVyxDQUFDLENBQUMsS0FBSyxZQUFZLE9BQzlCLEdBQWMsR0FBZ0IsQ0FBQyxHQUMvQixHQUFXLEdBQVUsQ0FBQyxHQUUxQixHQUFJLENBQUMsR0FBZ0IsRUFBUyxDQUM1QixFQUFRLEdBQVcsRUFBUSxHQUFJLElBQVksTUFDM0MsR0FBSSxJQUFTLEVBQUssTUFBTSxFQUFPLEdBQy9CLFVBQU8sWUFBWSxLQUFLLENBQUUsS0FBUSxHQUFNLEtBQVEsQ0FBQyxHQUFjLFFBQVdBLElBQ25FLEdBQUksSUFBYyxHQUFRLElBRW5DLE1BQUksS0FBZSxHQUNWLEVBQUssTUFBTSxLQUFNLEdBRTFCLElBQVMsS0FBSyxLQUFLLEdBQ1osR0FBZSxFQUFVLEdBQU8sUUFBUSxHQUFLLEdBQU8sUUFBVyxRQUsxRSxHQUFVLENBQUMsTUFBTyxPQUFRLFFBQVMsT0FBUSxTQUFVLFdBQVksU0FBUyxFQUFZLENBQ3BGLEdBQUksR0FBTyxHQUFXLEdBQ2xCLEVBQVksMEJBQTBCLEtBQUssR0FBYyxNQUFRLE9BQ2pFLEVBQWUsa0JBQWtCLEtBQUssR0FFMUMsRUFBTyxVQUFVLEdBQWMsVUFBVyxDQUN4QyxHQUFJLEdBQU8sVUFDWCxHQUFJLEdBQWdCLENBQUMsS0FBSyxVQUFXLENBQ25DLEdBQUksR0FBUSxLQUFLLFFBQ2pCLE1BQU8sR0FBSyxNQUFNLEdBQVEsR0FBUyxFQUFRLEdBQUksR0FFakQsTUFBTyxNQUFLLEdBQVcsU0FBUyxFQUFPLENBQ3JDLE1BQU8sR0FBSyxNQUFNLEdBQVEsR0FBUyxFQUFRLEdBQUksUUFNckQsR0FBVyxHQUFZLFVBQVcsU0FBUyxFQUFNLEVBQVksQ0FDM0QsR0FBSSxHQUFhLEVBQU8sR0FDeEIsR0FBSSxFQUFZLENBQ2QsR0FBSSxHQUFNLEVBQVcsS0FBTyxHQUM1QixBQUFLLEdBQWUsS0FBSyxHQUFXLElBQ2xDLElBQVUsR0FBTyxJQUVuQixHQUFVLEdBQUssS0FBSyxDQUFFLEtBQVEsRUFBWSxLQUFRLE9BSXRELEdBQVUsR0FBYUEsRUFBVyxHQUFvQixNQUFRLENBQUMsQ0FDN0QsS0FBUSxVQUNSLEtBQVFBLElBSVYsR0FBWSxVQUFVLE1BQVEsR0FDOUIsR0FBWSxVQUFVLFFBQVUsR0FDaEMsR0FBWSxVQUFVLE1BQVEsR0FHOUIsRUFBTyxVQUFVLEdBQUssR0FDdEIsRUFBTyxVQUFVLE1BQVEsR0FDekIsRUFBTyxVQUFVLE9BQVMsR0FDMUIsRUFBTyxVQUFVLEtBQU8sR0FDeEIsRUFBTyxVQUFVLE1BQVEsR0FDekIsRUFBTyxVQUFVLFFBQVUsR0FDM0IsRUFBTyxVQUFVLE9BQVMsRUFBTyxVQUFVLFFBQVUsRUFBTyxVQUFVLE1BQVEsR0FHOUUsRUFBTyxVQUFVLE1BQVEsRUFBTyxVQUFVLEtBRXRDLElBQ0YsR0FBTyxVQUFVLElBQWUsSUFFM0IsR0FNTCxHQUFJLEtBaUJILEFBQUksR0FFTixLQUFXLFFBQVUsSUFBRyxFQUFJLEdBRTdCLEdBQVksRUFBSSxJQUloQixHQUFLLEVBQUksS0FFWCxLQUFLRSx1Q0N4emhCUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsR0FBSSxJQUVKLGFBQWlCLENBQ2IsTUFBTyxJQUFhLE1BQU0sS0FBTSxXQUtwQyxZQUF5QixFQUFVLENBQy9CLEdBQWUsRUFHbkIsWUFBaUIsRUFBTyxDQUNwQixNQUNJLGFBQWlCLFFBQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxpQkFJbEQsWUFBa0IsRUFBTyxDQUdyQixNQUNJLElBQVMsTUFDVCxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQVcsa0JBSWxELFlBQW9CLEVBQUcsRUFBRyxDQUN0QixNQUFPLFFBQU8sVUFBVSxlQUFlLEtBQUssRUFBRyxHQUduRCxZQUF1QixFQUFLLENBQ3hCLEdBQUksT0FBTyxvQkFDUCxNQUFPLFFBQU8sb0JBQW9CLEdBQUssU0FBVyxFQUVsRCxHQUFJLEdBQ0osSUFBSyxJQUFLLEdBQ04sR0FBSSxHQUFXLEVBQUssR0FDaEIsTUFBTyxHQUdmLE1BQU8sR0FJZixZQUFxQixFQUFPLENBQ3hCLE1BQU8sS0FBVSxPQUdyQixZQUFrQixFQUFPLENBQ3JCLE1BQ0ksT0FBTyxJQUFVLFVBQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxrQkFJbEQsWUFBZ0IsRUFBTyxDQUNuQixNQUNJLGFBQWlCLE9BQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxnQkFJbEQsWUFBYSxFQUFLLEVBQUksQ0FDbEIsR0FBSSxHQUFNLEdBQ04sRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxFQUFFLEVBQzFCLEVBQUksS0FBSyxFQUFHLEVBQUksR0FBSSxJQUV4QixNQUFPLEdBR1gsWUFBZ0IsRUFBRyxFQUFHLENBQ2xCLE9BQVMsS0FBSyxHQUNWLEFBQUksR0FBVyxFQUFHLElBQ2QsR0FBRSxHQUFLLEVBQUUsSUFJakIsTUFBSSxJQUFXLEVBQUcsYUFDZCxHQUFFLFNBQVcsRUFBRSxVQUdmLEdBQVcsRUFBRyxZQUNkLEdBQUUsUUFBVSxFQUFFLFNBR1gsRUFHWCxZQUFtQixFQUFPLEVBQVEsRUFBUSxFQUFRLENBQzlDLE1BQU8sSUFBaUIsRUFBTyxFQUFRLEVBQVEsRUFBUSxJQUFNLE1BR2pFLGFBQStCLENBRTNCLE1BQU8sQ0FDSCxNQUFPLEdBQ1AsYUFBYyxHQUNkLFlBQWEsR0FDYixTQUFVLEdBQ1YsY0FBZSxFQUNmLFVBQVcsR0FDWCxXQUFZLEtBQ1osYUFBYyxLQUNkLGNBQWUsR0FDZixnQkFBaUIsR0FDakIsSUFBSyxHQUNMLGdCQUFpQixHQUNqQixJQUFLLEtBQ0wsU0FBVSxLQUNWLFFBQVMsR0FDVCxnQkFBaUIsSUFJekIsWUFBeUIsRUFBRyxDQUN4QixNQUFJLEdBQUUsS0FBTyxNQUNULEdBQUUsSUFBTSxNQUVMLEVBQUUsSUFHYixHQUFJLElBQ0osQUFBSSxNQUFNLFVBQVUsS0FDaEIsR0FBTyxNQUFNLFVBQVUsS0FFdkIsR0FBTyxTQUFVLEVBQUssQ0FDbEIsR0FBSSxHQUFJLE9BQU8sTUFDWCxFQUFNLEVBQUUsU0FBVyxFQUNuQixFQUVKLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxJQUNqQixHQUFJLElBQUssSUFBSyxFQUFJLEtBQUssS0FBTSxFQUFFLEdBQUksRUFBRyxHQUNsQyxNQUFPLEdBSWYsTUFBTyxJQUlmLFlBQWlCLEVBQUcsQ0FDaEIsR0FBSSxFQUFFLFVBQVksS0FBTSxDQUNwQixHQUFJLEdBQVEsR0FBZ0IsR0FDeEIsRUFBYyxHQUFLLEtBQUssRUFBTSxnQkFBaUIsU0FBVSxFQUFHLENBQ3hELE1BQU8sSUFBSyxPQUVoQixFQUNJLENBQUMsTUFBTSxFQUFFLEdBQUcsWUFDWixFQUFNLFNBQVcsR0FDakIsQ0FBQyxFQUFNLE9BQ1AsQ0FBQyxFQUFNLFlBQ1AsQ0FBQyxFQUFNLGNBQ1AsQ0FBQyxFQUFNLGdCQUNQLENBQUMsRUFBTSxpQkFDUCxDQUFDLEVBQU0sV0FDUCxDQUFDLEVBQU0sZUFDUCxDQUFDLEVBQU0saUJBQ04sRUFBQyxFQUFNLFVBQWEsRUFBTSxVQUFZLEdBVS9DLEdBUkksRUFBRSxTQUNGLEdBQ0ksR0FDQSxFQUFNLGdCQUFrQixHQUN4QixFQUFNLGFBQWEsU0FBVyxHQUM5QixFQUFNLFVBQVksUUFHdEIsT0FBTyxVQUFZLE1BQVEsQ0FBQyxPQUFPLFNBQVMsR0FDNUMsRUFBRSxTQUFXLE1BRWIsT0FBTyxHQUdmLE1BQU8sR0FBRSxTQUdiLFlBQXVCLEVBQU8sQ0FDMUIsR0FBSSxHQUFJLEdBQVUsS0FDbEIsTUFBSSxJQUFTLEtBQ1QsR0FBTyxHQUFnQixHQUFJLEdBRTNCLEdBQWdCLEdBQUcsZ0JBQWtCLEdBR2xDLEVBS1gsR0FBSSxJQUFvQixHQUFNLGlCQUFtQixHQUM3QyxHQUFtQixHQUV2QixZQUFvQixFQUFJLEVBQU0sQ0FDMUIsR0FBSSxHQUFHLEVBQU0sRUFpQ2IsR0EvQkssR0FBWSxFQUFLLG1CQUNsQixHQUFHLGlCQUFtQixFQUFLLGtCQUUxQixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssVUFDbEIsR0FBRyxRQUFVLEVBQUssU0FFakIsR0FBWSxFQUFLLE9BQ2xCLEdBQUcsS0FBTyxFQUFLLE1BRWQsR0FBWSxFQUFLLFNBQ2xCLEdBQUcsT0FBUyxFQUFLLFFBRWhCLEdBQVksRUFBSyxVQUNsQixHQUFHLFFBQVUsRUFBSyxTQUVqQixHQUFZLEVBQUssTUFDbEIsR0FBRyxJQUFNLEdBQWdCLElBRXhCLEdBQVksRUFBSyxVQUNsQixHQUFHLFFBQVUsRUFBSyxTQUdsQixHQUFpQixPQUFTLEVBQzFCLElBQUssRUFBSSxFQUFHLEVBQUksR0FBaUIsT0FBUSxJQUNyQyxFQUFPLEdBQWlCLEdBQ3hCLEVBQU0sRUFBSyxHQUNOLEdBQVksSUFDYixHQUFHLEdBQVEsR0FLdkIsTUFBTyxHQUlYLFlBQWdCLEVBQVEsQ0FDcEIsR0FBVyxLQUFNLEdBQ2pCLEtBQUssR0FBSyxHQUFJLE1BQUssRUFBTyxJQUFNLEtBQU8sRUFBTyxHQUFHLFVBQVksS0FDeEQsS0FBSyxXQUNOLE1BQUssR0FBSyxHQUFJLE1BQUssTUFJbkIsS0FBcUIsSUFDckIsSUFBbUIsR0FDbkIsR0FBTSxhQUFhLE1BQ25CLEdBQW1CLElBSTNCLFlBQWtCLEVBQUssQ0FDbkIsTUFDSSxhQUFlLEtBQVcsR0FBTyxNQUFRLEVBQUksa0JBQW9CLEtBSXpFLFlBQWMsRUFBSyxDQUNmLEFBQ0ksR0FBTSw4QkFBZ0MsSUFDdEMsTUFBTyxVQUFZLGFBQ25CLFFBQVEsTUFFUixRQUFRLEtBQUssd0JBQTBCLEdBSS9DLFlBQW1CLEVBQUssRUFBSSxDQUN4QixHQUFJLEdBQVksR0FFaEIsTUFBTyxJQUFPLFVBQVksQ0FJdEIsR0FISSxHQUFNLG9CQUFzQixNQUM1QixHQUFNLG1CQUFtQixLQUFNLEdBRS9CLEVBQVcsQ0FDWCxHQUFJLEdBQU8sR0FDUCxFQUNBLEVBQ0EsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBRW5DLEdBREEsRUFBTSxHQUNGLE1BQU8sV0FBVSxJQUFPLFNBQVUsQ0FDbEMsR0FBTztBQUFBLEdBQVEsRUFBSSxLQUNuQixJQUFLLElBQU8sV0FBVSxHQUNsQixBQUFJLEdBQVcsVUFBVSxHQUFJLElBQ3pCLElBQU8sRUFBTSxLQUFPLFVBQVUsR0FBRyxHQUFPLE1BR2hELEVBQU0sRUFBSSxNQUFNLEVBQUcsUUFFbkIsR0FBTSxVQUFVLEdBRXBCLEVBQUssS0FBSyxHQUVkLEdBQ0ksRUFDSTtBQUFBLGFBQ0EsTUFBTSxVQUFVLE1BQU0sS0FBSyxHQUFNLEtBQUssSUFDdEM7QUFBQSxFQUNBLEdBQUksU0FBUSxPQUVwQixFQUFZLEdBRWhCLE1BQU8sR0FBRyxNQUFNLEtBQU0sWUFDdkIsR0FHUCxHQUFJLElBQWUsR0FFbkIsWUFBeUIsRUFBTSxFQUFLLENBQ2hDLEFBQUksR0FBTSxvQkFBc0IsTUFDNUIsR0FBTSxtQkFBbUIsRUFBTSxHQUU5QixHQUFhLElBQ2QsSUFBSyxHQUNMLEdBQWEsR0FBUSxJQUk3QixHQUFNLDRCQUE4QixHQUNwQyxHQUFNLG1CQUFxQixLQUUzQixZQUFvQixFQUFPLENBQ3ZCLE1BQ0ssT0FBTyxXQUFhLGFBQWUsWUFBaUIsV0FDckQsT0FBTyxVQUFVLFNBQVMsS0FBSyxLQUFXLG9CQUlsRCxZQUFhLEVBQVEsQ0FDakIsR0FBSSxHQUFNLEVBQ1YsSUFBSyxJQUFLLEdBQ04sQUFBSSxHQUFXLEVBQVEsSUFDbkIsR0FBTyxFQUFPLEdBQ2QsQUFBSSxHQUFXLEdBQ1gsS0FBSyxHQUFLLEVBRVYsS0FBSyxJQUFNLEdBQUssR0FJNUIsS0FBSyxRQUFVLEVBSWYsS0FBSywrQkFBaUMsR0FBSSxRQUNyQyxNQUFLLHdCQUF3QixRQUFVLEtBQUssY0FBYyxRQUN2RCxJQUNBLFVBQVUsUUFJdEIsWUFBc0IsRUFBYyxFQUFhLENBQzdDLEdBQUksR0FBTSxHQUFPLEdBQUksR0FDakIsRUFDSixJQUFLLElBQVEsR0FDVCxBQUFJLEdBQVcsRUFBYSxJQUN4QixDQUFJLEdBQVMsRUFBYSxLQUFVLEdBQVMsRUFBWSxJQUNyRCxHQUFJLEdBQVEsR0FDWixHQUFPLEVBQUksR0FBTyxFQUFhLElBQy9CLEdBQU8sRUFBSSxHQUFPLEVBQVksS0FDM0IsQUFBSSxFQUFZLElBQVMsS0FDNUIsRUFBSSxHQUFRLEVBQVksR0FFeEIsTUFBTyxHQUFJLElBSXZCLElBQUssSUFBUSxHQUNULEFBQ0ksR0FBVyxFQUFjLElBQ3pCLENBQUMsR0FBVyxFQUFhLElBQ3pCLEdBQVMsRUFBYSxLQUd0QixHQUFJLEdBQVEsR0FBTyxHQUFJLEVBQUksS0FHbkMsTUFBTyxHQUdYLFlBQWdCLEVBQVEsQ0FDcEIsQUFBSSxHQUFVLE1BQ1YsS0FBSyxJQUFJLEdBSWpCLEdBQUksSUFFSixBQUFJLE9BQU8sS0FDUCxHQUFPLE9BQU8sS0FFZCxHQUFPLFNBQVUsRUFBSyxDQUNsQixHQUFJLEdBQ0EsRUFBTSxHQUNWLElBQUssSUFBSyxHQUNOLEFBQUksR0FBVyxFQUFLLElBQ2hCLEVBQUksS0FBSyxHQUdqQixNQUFPLElBSWYsR0FBSSxJQUFrQixDQUNsQixRQUFTLGdCQUNULFFBQVMsbUJBQ1QsU0FBVSxlQUNWLFFBQVMsb0JBQ1QsU0FBVSxzQkFDVixTQUFVLEtBR2QsWUFBa0IsRUFBSyxFQUFLLEVBQUssQ0FDN0IsR0FBSSxHQUFTLEtBQUssVUFBVSxJQUFRLEtBQUssVUFBVSxTQUNuRCxNQUFPLElBQVcsR0FBVSxFQUFPLEtBQUssRUFBSyxHQUFPLEVBR3hELFlBQWtCLEVBQVEsRUFBYyxFQUFXLENBQy9DLEdBQUksR0FBWSxHQUFLLEtBQUssSUFBSSxHQUMxQixFQUFjLEVBQWUsRUFBVSxPQUN2QyxFQUFPLEdBQVUsRUFDckIsTUFDSyxHQUFRLEVBQVksSUFBTSxHQUFNLEtBQ2pDLEtBQUssSUFBSSxHQUFJLEtBQUssSUFBSSxFQUFHLElBQWMsV0FBVyxPQUFPLEdBQ3pELEVBSVIsR0FBSSxJQUFtQix5TUFDbkIsR0FBd0IsNkNBQ3hCLEdBQWtCLEdBQ2xCLEdBQXVCLEdBTTNCLFlBQXdCLEVBQU8sRUFBUSxFQUFTLEVBQVUsQ0FDdEQsR0FBSSxHQUFPLEVBQ1gsQUFBSSxNQUFPLElBQWEsVUFDcEIsR0FBTyxVQUFZLENBQ2YsTUFBTyxNQUFLLE9BR2hCLEdBQ0EsSUFBcUIsR0FBUyxHQUU5QixHQUNBLElBQXFCLEVBQU8sSUFBTSxVQUFZLENBQzFDLE1BQU8sSUFBUyxFQUFLLE1BQU0sS0FBTSxXQUFZLEVBQU8sR0FBSSxFQUFPLE1BR25FLEdBQ0EsSUFBcUIsR0FBVyxVQUFZLENBQ3hDLE1BQU8sTUFBSyxhQUFhLFFBQ3JCLEVBQUssTUFBTSxLQUFNLFdBQ2pCLEtBTWhCLFlBQWdDLEVBQU8sQ0FDbkMsTUFBSSxHQUFNLE1BQU0sWUFDTCxFQUFNLFFBQVEsV0FBWSxJQUU5QixFQUFNLFFBQVEsTUFBTyxJQUdoQyxZQUE0QixFQUFRLENBQ2hDLEdBQUksR0FBUSxFQUFPLE1BQU0sSUFDckIsRUFDQSxFQUVKLElBQUssRUFBSSxFQUFHLEVBQVMsRUFBTSxPQUFRLEVBQUksRUFBUSxJQUMzQyxBQUFJLEdBQXFCLEVBQU0sSUFDM0IsRUFBTSxHQUFLLEdBQXFCLEVBQU0sSUFFdEMsRUFBTSxHQUFLLEdBQXVCLEVBQU0sSUFJaEQsTUFBTyxVQUFVLEVBQUssQ0FDbEIsR0FBSSxHQUFTLEdBQ1QsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVEsSUFDcEIsR0FBVSxHQUFXLEVBQU0sSUFDckIsRUFBTSxHQUFHLEtBQUssRUFBSyxHQUNuQixFQUFNLEdBRWhCLE1BQU8sSUFLZixZQUFzQixFQUFHLEVBQVEsQ0FDN0IsTUFBSyxHQUFFLFVBSVAsR0FBUyxHQUFhLEVBQVEsRUFBRSxjQUNoQyxHQUFnQixHQUNaLEdBQWdCLElBQVcsR0FBbUIsR0FFM0MsR0FBZ0IsR0FBUSxJQVBwQixFQUFFLGFBQWEsY0FVOUIsWUFBc0IsRUFBUSxFQUFRLENBQ2xDLEdBQUksR0FBSSxFQUVSLFdBQXFDLEVBQU8sQ0FDeEMsTUFBTyxHQUFPLGVBQWUsSUFBVSxFQUkzQyxJQURBLEdBQXNCLFVBQVksRUFDM0IsR0FBSyxHQUFLLEdBQXNCLEtBQUssSUFDeEMsRUFBUyxFQUFPLFFBQ1osR0FDQSxHQUVKLEdBQXNCLFVBQVksRUFDbEMsR0FBSyxFQUdULE1BQU8sR0FHWCxHQUFJLElBQXdCLENBQ3hCLElBQUssWUFDTCxHQUFJLFNBQ0osRUFBRyxhQUNILEdBQUksZUFDSixJQUFLLHNCQUNMLEtBQU0sNkJBR1YsWUFBd0IsRUFBSyxDQUN6QixHQUFJLEdBQVMsS0FBSyxnQkFBZ0IsR0FDOUIsRUFBYyxLQUFLLGdCQUFnQixFQUFJLGVBRTNDLE1BQUksSUFBVSxDQUFDLEVBQ0osRUFHWCxNQUFLLGdCQUFnQixHQUFPLEVBQ3ZCLE1BQU0sSUFDTixJQUFJLFNBQVUsRUFBSyxDQUNoQixNQUNJLEtBQVEsUUFDUixJQUFRLE1BQ1IsSUFBUSxNQUNSLElBQVEsT0FFRCxFQUFJLE1BQU0sR0FFZCxJQUVWLEtBQUssSUFFSCxLQUFLLGdCQUFnQixJQUdoQyxHQUFJLElBQXFCLGVBRXpCLGFBQXVCLENBQ25CLE1BQU8sTUFBSyxhQUdoQixHQUFJLElBQWlCLEtBQ2pCLEdBQWdDLFVBRXBDLFlBQWlCLEVBQVEsQ0FDckIsTUFBTyxNQUFLLFNBQVMsUUFBUSxLQUFNLEdBR3ZDLEdBQUksSUFBc0IsQ0FDdEIsT0FBUSxRQUNSLEtBQU0sU0FDTixFQUFHLGdCQUNILEdBQUksYUFDSixFQUFHLFdBQ0gsR0FBSSxhQUNKLEVBQUcsVUFDSCxHQUFJLFdBQ0osRUFBRyxRQUNILEdBQUksVUFDSixFQUFHLFNBQ0gsR0FBSSxXQUNKLEVBQUcsVUFDSCxHQUFJLFlBQ0osRUFBRyxTQUNILEdBQUksWUFHUixZQUFzQixFQUFRLEVBQWUsRUFBUSxFQUFVLENBQzNELEdBQUksR0FBUyxLQUFLLGNBQWMsR0FDaEMsTUFBTyxJQUFXLEdBQ1osRUFBTyxFQUFRLEVBQWUsRUFBUSxHQUN0QyxFQUFPLFFBQVEsTUFBTyxHQUdoQyxZQUFvQixFQUFNLEVBQVEsQ0FDOUIsR0FBSSxHQUFTLEtBQUssY0FBYyxFQUFPLEVBQUksU0FBVyxRQUN0RCxNQUFPLElBQVcsR0FBVSxFQUFPLEdBQVUsRUFBTyxRQUFRLE1BQU8sR0FHdkUsR0FBSSxJQUFVLEdBRWQsWUFBc0IsRUFBTSxFQUFXLENBQ25DLEdBQUksR0FBWSxFQUFLLGNBQ3JCLEdBQVEsR0FBYSxHQUFRLEVBQVksS0FBTyxHQUFRLEdBQWEsRUFHekUsWUFBd0IsRUFBTyxDQUMzQixNQUFPLE9BQU8sSUFBVSxTQUNsQixHQUFRLElBQVUsR0FBUSxFQUFNLGVBQ2hDLE9BR1YsWUFBOEIsRUFBYSxDQUN2QyxHQUFJLEdBQWtCLEdBQ2xCLEVBQ0EsRUFFSixJQUFLLElBQVEsR0FDVCxBQUFJLEdBQVcsRUFBYSxJQUN4QixHQUFpQixHQUFlLEdBQzVCLEdBQ0EsR0FBZ0IsR0FBa0IsRUFBWSxLQUsxRCxNQUFPLEdBR1gsR0FBSSxJQUFhLEdBRWpCLFlBQXlCLEVBQU0sRUFBVSxDQUNyQyxHQUFXLEdBQVEsRUFHdkIsWUFBNkIsRUFBVSxDQUNuQyxHQUFJLEdBQVEsR0FDUixFQUNKLElBQUssSUFBSyxHQUNOLEFBQUksR0FBVyxFQUFVLElBQ3JCLEVBQU0sS0FBSyxDQUFFLEtBQU0sRUFBRyxTQUFVLEdBQVcsS0FHbkQsU0FBTSxLQUFLLFNBQVUsRUFBRyxFQUFHLENBQ3ZCLE1BQU8sR0FBRSxTQUFXLEVBQUUsV0FFbkIsRUFHWCxZQUFvQixFQUFNLENBQ3RCLE1BQVEsR0FBTyxHQUFNLEdBQUssRUFBTyxLQUFRLEdBQU0sRUFBTyxLQUFRLEVBR2xFLFlBQWtCLEVBQVEsQ0FDdEIsTUFBSSxHQUFTLEVBRUYsS0FBSyxLQUFLLElBQVcsRUFFckIsS0FBSyxNQUFNLEdBSTFCLFlBQWUsRUFBcUIsQ0FDaEMsR0FBSSxHQUFnQixDQUFDLEVBQ2pCLEVBQVEsRUFFWixNQUFJLEtBQWtCLEdBQUssU0FBUyxJQUNoQyxHQUFRLEdBQVMsSUFHZCxFQUdYLFlBQW9CLEVBQU0sRUFBVSxDQUNoQyxNQUFPLFVBQVUsRUFBTyxDQUNwQixNQUFJLElBQVMsS0FDVCxJQUFNLEtBQU0sRUFBTSxHQUNsQixHQUFNLGFBQWEsS0FBTSxHQUNsQixNQUVBLEdBQUksS0FBTSxJQUs3QixZQUFhLEVBQUssRUFBTSxDQUNwQixNQUFPLEdBQUksVUFDTCxFQUFJLEdBQUcsTUFBUyxHQUFJLE9BQVMsTUFBUSxJQUFNLEtBQzNDLElBR1YsWUFBZSxFQUFLLEVBQU0sRUFBTyxDQUM3QixBQUFJLEVBQUksV0FBYSxDQUFDLE1BQU0sSUFDeEIsQ0FDSSxJQUFTLFlBQ1QsR0FBVyxFQUFJLFNBQ2YsRUFBSSxVQUFZLEdBQ2hCLEVBQUksU0FBVyxHQUVmLEdBQVEsR0FBTSxHQUNkLEVBQUksR0FBRyxNQUFTLEdBQUksT0FBUyxNQUFRLElBQU0sR0FDdkMsRUFDQSxFQUFJLFFBQ0osR0FBWSxFQUFPLEVBQUksV0FHM0IsRUFBSSxHQUFHLE1BQVMsR0FBSSxPQUFTLE1BQVEsSUFBTSxHQUFNLElBTzdELFlBQW1CLEVBQU8sQ0FFdEIsTUFEQSxHQUFRLEdBQWUsR0FDbkIsR0FBVyxLQUFLLElBQ1QsS0FBSyxLQUVULEtBR1gsWUFBbUIsRUFBTyxFQUFPLENBQzdCLEdBQUksTUFBTyxJQUFVLFNBQVUsQ0FDM0IsRUFBUSxHQUFxQixHQUM3QixHQUFJLEdBQWMsR0FBb0IsR0FDbEMsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVksT0FBUSxJQUNoQyxLQUFLLEVBQVksR0FBRyxNQUFNLEVBQU0sRUFBWSxHQUFHLGVBR25ELEVBQVEsR0FBZSxHQUNuQixHQUFXLEtBQUssSUFDaEIsTUFBTyxNQUFLLEdBQU8sR0FHM0IsTUFBTyxNQUdYLEdBQUksSUFBUyxLQUNULEdBQVMsT0FDVCxHQUFTLFFBQ1QsR0FBUyxRQUNULEdBQVMsYUFDVCxHQUFZLFFBQ1osR0FBWSxZQUNaLEdBQVksZ0JBQ1osR0FBWSxVQUNaLEdBQVksVUFDWixHQUFZLGVBQ1osR0FBZ0IsTUFDaEIsR0FBYyxXQUNkLEdBQWMscUJBQ2QsR0FBbUIsMEJBQ25CLEdBQWlCLHVCQUdqQixHQUFZLHdKQUNaLEdBRUosR0FBVSxHQUVWLFlBQXVCLEVBQU8sRUFBTyxFQUFhLENBQzlDLEdBQVEsR0FBUyxHQUFXLEdBQ3RCLEVBQ0EsU0FBVSxFQUFVLEVBQVksQ0FDNUIsTUFBTyxJQUFZLEVBQWMsRUFBYyxHQUk3RCxZQUErQixFQUFPLEVBQVEsQ0FDMUMsTUFBSyxJQUFXLEdBQVMsR0FJbEIsR0FBUSxHQUFPLEVBQU8sUUFBUyxFQUFPLFNBSGxDLEdBQUksUUFBTyxHQUFlLElBT3pDLFlBQXdCLEVBQUcsQ0FDdkIsTUFBTyxJQUNILEVBQ0ssUUFBUSxLQUFNLElBQ2QsUUFBUSxzQ0FBdUMsU0FDNUMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsTUFBTyxJQUFNLEdBQU0sR0FBTSxLQUt6QyxZQUFxQixFQUFHLENBQ3BCLE1BQU8sR0FBRSxRQUFRLHlCQUEwQixRQUcvQyxHQUFJLElBQVMsR0FFYixZQUF1QixFQUFPLEVBQVUsQ0FDcEMsR0FBSSxHQUNBLEVBQU8sRUFTWCxJQVJJLE1BQU8sSUFBVSxVQUNqQixHQUFRLENBQUMsSUFFVCxHQUFTLElBQ1QsR0FBTyxTQUFVLEVBQU8sRUFBTyxDQUMzQixFQUFNLEdBQVksR0FBTSxLQUczQixFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDMUIsR0FBTyxFQUFNLElBQU0sRUFJM0IsWUFBMkIsRUFBTyxFQUFVLENBQ3hDLEdBQWMsRUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLEVBQU8sQ0FDeEQsRUFBTyxHQUFLLEVBQU8sSUFBTSxHQUN6QixFQUFTLEVBQU8sRUFBTyxHQUFJLEVBQVEsS0FJM0MsWUFBaUMsRUFBTyxFQUFPLEVBQVEsQ0FDbkQsQUFBSSxHQUFTLE1BQVEsR0FBVyxHQUFRLElBQ3BDLEdBQU8sR0FBTyxFQUFPLEVBQU8sR0FBSSxFQUFRLEdBSWhELEdBQUksSUFBTyxFQUNQLEdBQVEsRUFDUixHQUFPLEVBQ1AsR0FBTyxFQUNQLEdBQVMsRUFDVCxHQUFTLEVBQ1QsR0FBYyxFQUNkLEdBQU8sRUFDUCxHQUFVLEVBRWQsWUFBYSxFQUFHLEVBQUcsQ0FDZixNQUFTLEdBQUksRUFBSyxHQUFLLEVBRzNCLEdBQUksSUFFSixBQUFJLE1BQU0sVUFBVSxRQUNoQixHQUFVLE1BQU0sVUFBVSxRQUUxQixHQUFVLFNBQVUsRUFBRyxDQUVuQixHQUFJLEdBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxLQUFLLE9BQVEsRUFBRSxFQUMzQixHQUFJLEtBQUssS0FBTyxFQUNaLE1BQU8sR0FHZixNQUFPLElBSWYsWUFBcUIsRUFBTSxFQUFPLENBQzlCLEdBQUksTUFBTSxJQUFTLE1BQU0sR0FDckIsTUFBTyxLQUVYLEdBQUksR0FBVyxHQUFJLEVBQU8sSUFDMUIsVUFBUyxHQUFRLEdBQVksR0FDdEIsSUFBYSxFQUNkLEdBQVcsR0FDUCxHQUNBLEdBQ0osR0FBTyxFQUFXLEVBQUssRUFLakMsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sVUFBWSxDQUM3QyxNQUFPLE1BQUssUUFBVSxJQUcxQixHQUFlLE1BQU8sRUFBRyxFQUFHLFNBQVUsRUFBUSxDQUMxQyxNQUFPLE1BQUssYUFBYSxZQUFZLEtBQU0sS0FHL0MsR0FBZSxPQUFRLEVBQUcsRUFBRyxTQUFVLEVBQVEsQ0FDM0MsTUFBTyxNQUFLLGFBQWEsT0FBTyxLQUFNLEtBSzFDLEdBQWEsUUFBUyxLQUl0QixHQUFnQixRQUFTLEdBSXpCLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE1BQU8sU0FBVSxFQUFVLEVBQVEsQ0FDN0MsTUFBTyxHQUFPLGlCQUFpQixLQUVuQyxHQUFjLE9BQVEsU0FBVSxFQUFVLEVBQVEsQ0FDOUMsTUFBTyxHQUFPLFlBQVksS0FHOUIsR0FBYyxDQUFDLElBQUssTUFBTyxTQUFVLEVBQU8sRUFBTyxDQUMvQyxFQUFNLElBQVMsR0FBTSxHQUFTLElBR2xDLEdBQWMsQ0FBQyxNQUFPLFFBQVMsU0FBVSxFQUFPLEVBQU8sRUFBUSxFQUFPLENBQ2xFLEdBQUksR0FBUSxFQUFPLFFBQVEsWUFBWSxFQUFPLEVBQU8sRUFBTyxTQUU1RCxBQUFJLEdBQVMsS0FDVCxFQUFNLElBQVMsRUFFZixHQUFnQixHQUFRLGFBQWUsSUFNL0MsR0FBSSxJQUFzQix3RkFBd0YsTUFDMUcsS0FFSixHQUEyQixrREFBa0QsTUFDekUsS0FFSixHQUFtQixnQ0FDbkIsR0FBMEIsR0FDMUIsR0FBcUIsR0FFekIsWUFBc0IsRUFBRyxFQUFRLENBQzdCLE1BQUssR0FLRSxHQUFRLEtBQUssU0FDZCxLQUFLLFFBQVEsRUFBRSxTQUNmLEtBQUssUUFDQSxNQUFLLFFBQVEsVUFBWSxJQUFrQixLQUFLLEdBQzNDLFNBQ0EsY0FDUixFQUFFLFNBVkMsR0FBUSxLQUFLLFNBQ2QsS0FBSyxRQUNMLEtBQUssUUFBUSxXQVczQixZQUEyQixFQUFHLEVBQVEsQ0FDbEMsTUFBSyxHQUtFLEdBQVEsS0FBSyxjQUNkLEtBQUssYUFBYSxFQUFFLFNBQ3BCLEtBQUssYUFDRCxHQUFpQixLQUFLLEdBQVUsU0FBVyxjQUM3QyxFQUFFLFNBUkMsR0FBUSxLQUFLLGNBQ2QsS0FBSyxhQUNMLEtBQUssYUFBYSxXQVNoQyxZQUEyQixFQUFXLEVBQVEsRUFBUSxDQUNsRCxHQUFJLEdBQ0EsRUFDQSxFQUNBLEVBQU0sRUFBVSxvQkFDcEIsR0FBSSxDQUFDLEtBQUssYUFLTixJQUhBLEtBQUssYUFBZSxHQUNwQixLQUFLLGlCQUFtQixHQUN4QixLQUFLLGtCQUFvQixHQUNwQixFQUFJLEVBQUcsRUFBSSxHQUFJLEVBQUUsRUFDbEIsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUN2QixLQUFLLGtCQUFrQixHQUFLLEtBQUssWUFDN0IsRUFDQSxJQUNGLG9CQUNGLEtBQUssaUJBQWlCLEdBQUssS0FBSyxPQUFPLEVBQUssSUFBSSxvQkFJeEQsTUFBSSxHQUNJLElBQVcsTUFDWCxHQUFLLEdBQVEsS0FBSyxLQUFLLGtCQUFtQixHQUNuQyxJQUFPLEdBQUssRUFBSyxNQUV4QixHQUFLLEdBQVEsS0FBSyxLQUFLLGlCQUFrQixHQUNsQyxJQUFPLEdBQUssRUFBSyxNQUd4QixJQUFXLE1BQ1gsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDdEMsSUFBTyxHQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxpQkFBa0IsR0FDbEMsSUFBTyxHQUFLLEVBQUssT0FFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxpQkFBa0IsR0FDckMsSUFBTyxHQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssT0FLcEMsWUFBMkIsRUFBVyxFQUFRLEVBQVEsQ0FDbEQsR0FBSSxHQUFHLEVBQUssRUFFWixHQUFJLEtBQUssa0JBQ0wsTUFBTyxJQUFrQixLQUFLLEtBQU0sRUFBVyxFQUFRLEdBWTNELElBVEssS0FBSyxjQUNOLE1BQUssYUFBZSxHQUNwQixLQUFLLGlCQUFtQixHQUN4QixLQUFLLGtCQUFvQixJQU14QixFQUFJLEVBQUcsRUFBSSxHQUFJLElBQUssQ0FtQnJCLEdBakJBLEVBQU0sR0FBVSxDQUFDLElBQU0sSUFDbkIsR0FBVSxDQUFDLEtBQUssaUJBQWlCLElBQ2pDLE1BQUssaUJBQWlCLEdBQUssR0FBSSxRQUMzQixJQUFNLEtBQUssT0FBTyxFQUFLLElBQUksUUFBUSxJQUFLLElBQU0sSUFDOUMsS0FFSixLQUFLLGtCQUFrQixHQUFLLEdBQUksUUFDNUIsSUFBTSxLQUFLLFlBQVksRUFBSyxJQUFJLFFBQVEsSUFBSyxJQUFNLElBQ25ELE1BR0osQ0FBQyxHQUFVLENBQUMsS0FBSyxhQUFhLElBQzlCLEdBQ0ksSUFBTSxLQUFLLE9BQU8sRUFBSyxJQUFNLEtBQU8sS0FBSyxZQUFZLEVBQUssSUFDOUQsS0FBSyxhQUFhLEdBQUssR0FBSSxRQUFPLEVBQU0sUUFBUSxJQUFLLElBQUssTUFJMUQsR0FDQSxJQUFXLFFBQ1gsS0FBSyxpQkFBaUIsR0FBRyxLQUFLLEdBRTlCLE1BQU8sR0FDSixHQUNILEdBQ0EsSUFBVyxPQUNYLEtBQUssa0JBQWtCLEdBQUcsS0FBSyxHQUUvQixNQUFPLEdBQ0osR0FBSSxDQUFDLEdBQVUsS0FBSyxhQUFhLEdBQUcsS0FBSyxHQUM1QyxNQUFPLElBT25CLFlBQWtCLEVBQUssRUFBTyxDQUMxQixHQUFJLEdBRUosR0FBSSxDQUFDLEVBQUksVUFFTCxNQUFPLEdBR1gsR0FBSSxNQUFPLElBQVUsVUFDakIsR0FBSSxRQUFRLEtBQUssR0FDYixFQUFRLEdBQU0sV0FFZCxFQUFRLEVBQUksYUFBYSxZQUFZLEdBRWpDLENBQUMsR0FBUyxHQUNWLE1BQU8sR0FLbkIsU0FBYSxLQUFLLElBQUksRUFBSSxPQUFRLEdBQVksRUFBSSxPQUFRLElBQzFELEVBQUksR0FBRyxNQUFTLEdBQUksT0FBUyxNQUFRLElBQU0sU0FBUyxFQUFPLEdBQ3BELEVBR1gsWUFBcUIsRUFBTyxDQUN4QixNQUFJLElBQVMsS0FDVCxJQUFTLEtBQU0sR0FDZixHQUFNLGFBQWEsS0FBTSxJQUNsQixNQUVBLEdBQUksS0FBTSxTQUl6QixhQUEwQixDQUN0QixNQUFPLElBQVksS0FBSyxPQUFRLEtBQUssU0FHekMsWUFBMEIsRUFBVSxDQUNoQyxNQUFJLE1BQUssa0JBQ0EsSUFBVyxLQUFNLGlCQUNsQixHQUFtQixLQUFLLE1BRXhCLEVBQ08sS0FBSyx3QkFFTCxLQUFLLG1CQUdYLElBQVcsS0FBTSxzQkFDbEIsTUFBSyxrQkFBb0IsSUFFdEIsS0FBSyx5QkFBMkIsRUFDakMsS0FBSyx3QkFDTCxLQUFLLG1CQUluQixZQUFxQixFQUFVLENBQzNCLE1BQUksTUFBSyxrQkFDQSxJQUFXLEtBQU0saUJBQ2xCLEdBQW1CLEtBQUssTUFFeEIsRUFDTyxLQUFLLG1CQUVMLEtBQUssY0FHWCxJQUFXLEtBQU0saUJBQ2xCLE1BQUssYUFBZSxJQUVqQixLQUFLLG9CQUFzQixFQUM1QixLQUFLLG1CQUNMLEtBQUssY0FJbkIsYUFBOEIsQ0FDMUIsV0FBbUIsRUFBRyxFQUFHLENBQ3JCLE1BQU8sR0FBRSxPQUFTLEVBQUUsT0FHeEIsR0FBSSxHQUFjLEdBQ2QsRUFBYSxHQUNiLEVBQWMsR0FDZCxFQUNBLEVBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFJLElBRWhCLEVBQU0sR0FBVSxDQUFDLElBQU0sSUFDdkIsRUFBWSxLQUFLLEtBQUssWUFBWSxFQUFLLEtBQ3ZDLEVBQVcsS0FBSyxLQUFLLE9BQU8sRUFBSyxLQUNqQyxFQUFZLEtBQUssS0FBSyxPQUFPLEVBQUssS0FDbEMsRUFBWSxLQUFLLEtBQUssWUFBWSxFQUFLLEtBTzNDLElBSEEsRUFBWSxLQUFLLEdBQ2pCLEVBQVcsS0FBSyxHQUNoQixFQUFZLEtBQUssR0FDWixFQUFJLEVBQUcsRUFBSSxHQUFJLElBQ2hCLEVBQVksR0FBSyxHQUFZLEVBQVksSUFDekMsRUFBVyxHQUFLLEdBQVksRUFBVyxJQUUzQyxJQUFLLEVBQUksRUFBRyxFQUFJLEdBQUksSUFDaEIsRUFBWSxHQUFLLEdBQVksRUFBWSxJQUc3QyxLQUFLLGFBQWUsR0FBSSxRQUFPLEtBQU8sRUFBWSxLQUFLLEtBQU8sSUFBSyxLQUNuRSxLQUFLLGtCQUFvQixLQUFLLGFBQzlCLEtBQUssbUJBQXFCLEdBQUksUUFDMUIsS0FBTyxFQUFXLEtBQUssS0FBTyxJQUM5QixLQUVKLEtBQUssd0JBQTBCLEdBQUksUUFDL0IsS0FBTyxFQUFZLEtBQUssS0FBTyxJQUMvQixLQU1SLEdBQWUsSUFBSyxFQUFHLEVBQUcsVUFBWSxDQUNsQyxHQUFJLEdBQUksS0FBSyxPQUNiLE1BQU8sSUFBSyxLQUFPLEdBQVMsRUFBRyxHQUFLLElBQU0sSUFHOUMsR0FBZSxFQUFHLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFBWSxDQUN4QyxNQUFPLE1BQUssT0FBUyxNQUd6QixHQUFlLEVBQUcsQ0FBQyxPQUFRLEdBQUksRUFBRyxRQUNsQyxHQUFlLEVBQUcsQ0FBQyxRQUFTLEdBQUksRUFBRyxRQUNuQyxHQUFlLEVBQUcsQ0FBQyxTQUFVLEVBQUcsSUFBTyxFQUFHLFFBSTFDLEdBQWEsT0FBUSxLQUlyQixHQUFnQixPQUFRLEdBSXhCLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE9BQVEsR0FBVyxJQUNqQyxHQUFjLFFBQVMsR0FBVyxJQUNsQyxHQUFjLFNBQVUsR0FBVyxJQUVuQyxHQUFjLENBQUMsUUFBUyxVQUFXLElBQ25DLEdBQWMsT0FBUSxTQUFVLEVBQU8sRUFBTyxDQUMxQyxFQUFNLElBQ0YsRUFBTSxTQUFXLEVBQUksR0FBTSxrQkFBa0IsR0FBUyxHQUFNLEtBRXBFLEdBQWMsS0FBTSxTQUFVLEVBQU8sRUFBTyxDQUN4QyxFQUFNLElBQVEsR0FBTSxrQkFBa0IsS0FFMUMsR0FBYyxJQUFLLFNBQVUsRUFBTyxFQUFPLENBQ3ZDLEVBQU0sSUFBUSxTQUFTLEVBQU8sTUFLbEMsWUFBb0IsRUFBTSxDQUN0QixNQUFPLElBQVcsR0FBUSxJQUFNLElBS3BDLEdBQU0sa0JBQW9CLFNBQVUsRUFBTyxDQUN2QyxNQUFPLElBQU0sR0FBVSxJQUFNLEdBQVMsR0FBSyxLQUFPLE1BS3RELEdBQUksSUFBYSxHQUFXLFdBQVksSUFFeEMsYUFBeUIsQ0FDckIsTUFBTyxJQUFXLEtBQUssUUFHM0IsWUFBb0IsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBSSxDQUd0QyxHQUFJLEdBRUosTUFBSSxHQUFJLEtBQU8sR0FBSyxFQUVoQixHQUFPLEdBQUksTUFBSyxFQUFJLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3BDLFNBQVMsRUFBSyxnQkFDZCxFQUFLLFlBQVksSUFHckIsRUFBTyxHQUFJLE1BQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHL0IsRUFHWCxZQUF1QixFQUFHLENBQ3RCLEdBQUksR0FBTSxFQUVWLE1BQUksR0FBSSxLQUFPLEdBQUssRUFDaEIsR0FBTyxNQUFNLFVBQVUsTUFBTSxLQUFLLFdBRWxDLEVBQUssR0FBSyxFQUFJLElBQ2QsRUFBTyxHQUFJLE1BQUssS0FBSyxJQUFJLE1BQU0sS0FBTSxJQUNqQyxTQUFTLEVBQUssbUJBQ2QsRUFBSyxlQUFlLElBR3hCLEVBQU8sR0FBSSxNQUFLLEtBQUssSUFBSSxNQUFNLEtBQU0sWUFHbEMsRUFJWCxZQUF5QixFQUFNLEVBQUssRUFBSyxDQUNyQyxHQUNJLEdBQU0sRUFBSSxFQUFNLEVBRWhCLEVBQVMsR0FBSSxHQUFjLEVBQU0sRUFBRyxHQUFLLFlBQWMsR0FBTyxFQUVsRSxNQUFPLENBQUMsRUFBUSxFQUFNLEVBSTFCLFlBQTRCLEVBQU0sRUFBTSxFQUFTLEVBQUssRUFBSyxDQUN2RCxHQUFJLEdBQWdCLEdBQUksRUFBVSxHQUFPLEVBQ3JDLEVBQWEsR0FBZ0IsRUFBTSxFQUFLLEdBQ3hDLEVBQVksRUFBSSxFQUFLLEdBQU8sR0FBSyxFQUFlLEVBQ2hELEVBQ0EsRUFFSixNQUFJLElBQWEsRUFDYixHQUFVLEVBQU8sRUFDakIsRUFBZSxHQUFXLEdBQVcsR0FDbEMsQUFBSSxFQUFZLEdBQVcsR0FDOUIsR0FBVSxFQUFPLEVBQ2pCLEVBQWUsRUFBWSxHQUFXLElBRXRDLEdBQVUsRUFDVixFQUFlLEdBR1osQ0FDSCxLQUFNLEVBQ04sVUFBVyxHQUluQixZQUFvQixFQUFLLEVBQUssRUFBSyxDQUMvQixHQUFJLEdBQWEsR0FBZ0IsRUFBSSxPQUFRLEVBQUssR0FDOUMsRUFBTyxLQUFLLE1BQU8sR0FBSSxZQUFjLEVBQWEsR0FBSyxHQUFLLEVBQzVELEVBQ0EsRUFFSixNQUFJLEdBQU8sRUFDUCxHQUFVLEVBQUksT0FBUyxFQUN2QixFQUFVLEVBQU8sR0FBWSxFQUFTLEVBQUssSUFDeEMsQUFBSSxFQUFPLEdBQVksRUFBSSxPQUFRLEVBQUssR0FDM0MsR0FBVSxFQUFPLEdBQVksRUFBSSxPQUFRLEVBQUssR0FDOUMsRUFBVSxFQUFJLE9BQVMsR0FFdkIsR0FBVSxFQUFJLE9BQ2QsRUFBVSxHQUdQLENBQ0gsS0FBTSxFQUNOLEtBQU0sR0FJZCxZQUFxQixFQUFNLEVBQUssRUFBSyxDQUNqQyxHQUFJLEdBQWEsR0FBZ0IsRUFBTSxFQUFLLEdBQ3hDLEVBQWlCLEdBQWdCLEVBQU8sRUFBRyxFQUFLLEdBQ3BELE1BQVEsSUFBVyxHQUFRLEVBQWEsR0FBa0IsRUFLOUQsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sUUFDckMsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sV0FJckMsR0FBYSxPQUFRLEtBQ3JCLEdBQWEsVUFBVyxLQUl4QixHQUFnQixPQUFRLEdBQ3hCLEdBQWdCLFVBQVcsR0FJM0IsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUUvQixHQUFrQixDQUFDLElBQUssS0FBTSxJQUFLLE1BQU8sU0FDdEMsRUFDQSxFQUNBLEVBQ0EsRUFDRixDQUNFLEVBQUssRUFBTSxPQUFPLEVBQUcsSUFBTSxHQUFNLEtBT3JDLFlBQW9CLEVBQUssQ0FDckIsTUFBTyxJQUFXLEVBQUssS0FBSyxNQUFNLElBQUssS0FBSyxNQUFNLEtBQUssS0FHM0QsR0FBSSxJQUFvQixDQUNwQixJQUFLLEVBQ0wsSUFBSyxHQUdULGFBQWdDLENBQzVCLE1BQU8sTUFBSyxNQUFNLElBR3RCLGFBQWdDLENBQzVCLE1BQU8sTUFBSyxNQUFNLElBS3RCLFlBQW9CLEVBQU8sQ0FDdkIsR0FBSSxHQUFPLEtBQUssYUFBYSxLQUFLLE1BQ2xDLE1BQU8sSUFBUyxLQUFPLEVBQU8sS0FBSyxJQUFLLEdBQVEsR0FBUSxFQUFHLEtBRy9ELFlBQXVCLEVBQU8sQ0FDMUIsR0FBSSxHQUFPLEdBQVcsS0FBTSxFQUFHLEdBQUcsS0FDbEMsTUFBTyxJQUFTLEtBQU8sRUFBTyxLQUFLLElBQUssR0FBUSxHQUFRLEVBQUcsS0FLL0QsR0FBZSxJQUFLLEVBQUcsS0FBTSxPQUU3QixHQUFlLEtBQU0sRUFBRyxFQUFHLFNBQVUsRUFBUSxDQUN6QyxNQUFPLE1BQUssYUFBYSxZQUFZLEtBQU0sS0FHL0MsR0FBZSxNQUFPLEVBQUcsRUFBRyxTQUFVLEVBQVEsQ0FDMUMsTUFBTyxNQUFLLGFBQWEsY0FBYyxLQUFNLEtBR2pELEdBQWUsT0FBUSxFQUFHLEVBQUcsU0FBVSxFQUFRLENBQzNDLE1BQU8sTUFBSyxhQUFhLFNBQVMsS0FBTSxLQUc1QyxHQUFlLElBQUssRUFBRyxFQUFHLFdBQzFCLEdBQWUsSUFBSyxFQUFHLEVBQUcsY0FJMUIsR0FBYSxNQUFPLEtBQ3BCLEdBQWEsVUFBVyxLQUN4QixHQUFhLGFBQWMsS0FHM0IsR0FBZ0IsTUFBTyxJQUN2QixHQUFnQixVQUFXLElBQzNCLEdBQWdCLGFBQWMsSUFJOUIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLFNBQVUsRUFBVSxFQUFRLENBQzVDLE1BQU8sR0FBTyxpQkFBaUIsS0FFbkMsR0FBYyxNQUFPLFNBQVUsRUFBVSxFQUFRLENBQzdDLE1BQU8sR0FBTyxtQkFBbUIsS0FFckMsR0FBYyxPQUFRLFNBQVUsRUFBVSxFQUFRLENBQzlDLE1BQU8sR0FBTyxjQUFjLEtBR2hDLEdBQWtCLENBQUMsS0FBTSxNQUFPLFFBQVMsU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQzNFLEdBQUksR0FBVSxFQUFPLFFBQVEsY0FBYyxFQUFPLEVBQU8sRUFBTyxTQUVoRSxBQUFJLEdBQVcsS0FDWCxFQUFLLEVBQUksRUFFVCxHQUFnQixHQUFRLGVBQWlCLElBSWpELEdBQWtCLENBQUMsSUFBSyxJQUFLLEtBQU0sU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQ3JFLEVBQUssR0FBUyxHQUFNLEtBS3hCLFlBQXNCLEVBQU8sRUFBUSxDQUNqQyxNQUFJLE9BQU8sSUFBVSxTQUNWLEVBR04sTUFBTSxHQUlYLEdBQVEsRUFBTyxjQUFjLEdBQ3pCLE1BQU8sSUFBVSxTQUNWLEVBR0osTUFSSSxTQUFTLEVBQU8sSUFXL0IsWUFBeUIsRUFBTyxFQUFRLENBQ3BDLE1BQUksT0FBTyxJQUFVLFNBQ1YsRUFBTyxjQUFjLEdBQVMsR0FBSyxFQUV2QyxNQUFNLEdBQVMsS0FBTyxFQUlqQyxZQUF1QixFQUFJLEVBQUcsQ0FDMUIsTUFBTyxHQUFHLE1BQU0sRUFBRyxHQUFHLE9BQU8sRUFBRyxNQUFNLEVBQUcsSUFHN0MsR0FBSSxJQUF3QiwyREFBMkQsTUFDL0UsS0FFSixHQUE2Qiw4QkFBOEIsTUFBTSxLQUNqRSxHQUEyQix1QkFBdUIsTUFBTSxLQUN4RCxHQUF1QixHQUN2QixHQUE0QixHQUM1QixHQUEwQixHQUU5QixZQUF3QixFQUFHLEVBQVEsQ0FDL0IsR0FBSSxHQUFXLEdBQVEsS0FBSyxXQUN0QixLQUFLLFVBQ0wsS0FBSyxVQUNELEdBQUssSUFBTSxJQUFRLEtBQUssVUFBVSxTQUFTLEtBQUssR0FDMUMsU0FDQSxjQUVoQixNQUFPLEtBQU0sR0FDUCxHQUFjLEVBQVUsS0FBSyxNQUFNLEtBQ25DLEVBQ0EsRUFBUyxFQUFFLE9BQ1gsRUFHVixZQUE2QixFQUFHLENBQzVCLE1BQU8sS0FBTSxHQUNQLEdBQWMsS0FBSyxlQUFnQixLQUFLLE1BQU0sS0FDOUMsRUFDQSxLQUFLLGVBQWUsRUFBRSxPQUN0QixLQUFLLGVBR2YsWUFBMkIsRUFBRyxDQUMxQixNQUFPLEtBQU0sR0FDUCxHQUFjLEtBQUssYUFBYyxLQUFLLE1BQU0sS0FDNUMsRUFDQSxLQUFLLGFBQWEsRUFBRSxPQUNwQixLQUFLLGFBR2YsWUFBNkIsRUFBYSxFQUFRLEVBQVEsQ0FDdEQsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUFNLEVBQVksb0JBQ3RCLEdBQUksQ0FBQyxLQUFLLGVBS04sSUFKQSxLQUFLLGVBQWlCLEdBQ3RCLEtBQUssb0JBQXNCLEdBQzNCLEtBQUssa0JBQW9CLEdBRXBCLEVBQUksRUFBRyxFQUFJLEVBQUcsRUFBRSxFQUNqQixFQUFNLEdBQVUsQ0FBQyxJQUFNLElBQUksSUFBSSxHQUMvQixLQUFLLGtCQUFrQixHQUFLLEtBQUssWUFDN0IsRUFDQSxJQUNGLG9CQUNGLEtBQUssb0JBQW9CLEdBQUssS0FBSyxjQUMvQixFQUNBLElBQ0Ysb0JBQ0YsS0FBSyxlQUFlLEdBQUssS0FBSyxTQUFTLEVBQUssSUFBSSxvQkFJeEQsTUFBSSxHQUNJLElBQVcsT0FDWCxHQUFLLEdBQVEsS0FBSyxLQUFLLGVBQWdCLEdBQ2hDLElBQU8sR0FBSyxFQUFLLE1BQ2pCLElBQVcsTUFDbEIsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDckMsSUFBTyxHQUFLLEVBQUssTUFFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssTUFHeEIsSUFBVyxPQUNYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssb0JBQXFCLEdBQ3hDLElBQU8sSUFDQSxFQUVYLEdBQUssR0FBUSxLQUFLLEtBQUssa0JBQW1CLEdBQ25DLElBQU8sR0FBSyxFQUFLLE9BQ2pCLElBQVcsTUFDbEIsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDeEMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssT0FFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDdEMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDckMsSUFBTyxHQUFLLEVBQUssT0FLcEMsWUFBNkIsRUFBYSxFQUFRLEVBQVEsQ0FDdEQsR0FBSSxHQUFHLEVBQUssRUFFWixHQUFJLEtBQUssb0JBQ0wsTUFBTyxJQUFvQixLQUFLLEtBQU0sRUFBYSxFQUFRLEdBVS9ELElBUEssS0FBSyxnQkFDTixNQUFLLGVBQWlCLEdBQ3RCLEtBQUssa0JBQW9CLEdBQ3pCLEtBQUssb0JBQXNCLEdBQzNCLEtBQUssbUJBQXFCLElBR3pCLEVBQUksRUFBRyxFQUFJLEVBQUcsSUFBSyxDQTZCcEIsR0ExQkEsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUFJLElBQUksR0FDM0IsR0FBVSxDQUFDLEtBQUssbUJBQW1CLElBQ25DLE1BQUssbUJBQW1CLEdBQUssR0FBSSxRQUM3QixJQUFNLEtBQUssU0FBUyxFQUFLLElBQUksUUFBUSxJQUFLLFFBQVUsSUFDcEQsS0FFSixLQUFLLG9CQUFvQixHQUFLLEdBQUksUUFDOUIsSUFBTSxLQUFLLGNBQWMsRUFBSyxJQUFJLFFBQVEsSUFBSyxRQUFVLElBQ3pELEtBRUosS0FBSyxrQkFBa0IsR0FBSyxHQUFJLFFBQzVCLElBQU0sS0FBSyxZQUFZLEVBQUssSUFBSSxRQUFRLElBQUssUUFBVSxJQUN2RCxNQUdILEtBQUssZUFBZSxJQUNyQixHQUNJLElBQ0EsS0FBSyxTQUFTLEVBQUssSUFDbkIsS0FDQSxLQUFLLGNBQWMsRUFBSyxJQUN4QixLQUNBLEtBQUssWUFBWSxFQUFLLElBQzFCLEtBQUssZUFBZSxHQUFLLEdBQUksUUFBTyxFQUFNLFFBQVEsSUFBSyxJQUFLLE1BSTVELEdBQ0EsSUFBVyxRQUNYLEtBQUssbUJBQW1CLEdBQUcsS0FBSyxHQUVoQyxNQUFPLEdBQ0osR0FDSCxHQUNBLElBQVcsT0FDWCxLQUFLLG9CQUFvQixHQUFHLEtBQUssR0FFakMsTUFBTyxHQUNKLEdBQ0gsR0FDQSxJQUFXLE1BQ1gsS0FBSyxrQkFBa0IsR0FBRyxLQUFLLEdBRS9CLE1BQU8sR0FDSixHQUFJLENBQUMsR0FBVSxLQUFLLGVBQWUsR0FBRyxLQUFLLEdBQzlDLE1BQU8sSUFPbkIsWUFBeUIsRUFBTyxDQUM1QixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sSUFBUyxLQUFPLEtBQU8sSUFFbEMsR0FBSSxHQUFNLEtBQUssT0FBUyxLQUFLLEdBQUcsWUFBYyxLQUFLLEdBQUcsU0FDdEQsTUFBSSxJQUFTLEtBQ1QsR0FBUSxHQUFhLEVBQU8sS0FBSyxjQUMxQixLQUFLLElBQUksRUFBUSxFQUFLLE1BRXRCLEVBSWYsWUFBK0IsRUFBTyxDQUNsQyxHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sSUFBUyxLQUFPLEtBQU8sSUFFbEMsR0FBSSxHQUFXLE1BQUssTUFBUSxFQUFJLEtBQUssYUFBYSxNQUFNLEtBQU8sRUFDL0QsTUFBTyxJQUFTLEtBQU8sRUFBVSxLQUFLLElBQUksRUFBUSxFQUFTLEtBRy9ELFlBQTRCLEVBQU8sQ0FDL0IsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLElBQVMsS0FBTyxLQUFPLElBT2xDLEdBQUksR0FBUyxLQUFNLENBQ2YsR0FBSSxHQUFVLEdBQWdCLEVBQU8sS0FBSyxjQUMxQyxNQUFPLE1BQUssSUFBSSxLQUFLLE1BQVEsRUFBSSxFQUFVLEVBQVUsT0FFckQsT0FBTyxNQUFLLE9BQVMsRUFJN0IsWUFBdUIsRUFBVSxDQUM3QixNQUFJLE1BQUssb0JBQ0EsSUFBVyxLQUFNLG1CQUNsQixHQUFxQixLQUFLLE1BRTFCLEVBQ08sS0FBSyxxQkFFTCxLQUFLLGdCQUdYLElBQVcsS0FBTSxtQkFDbEIsTUFBSyxlQUFpQixJQUVuQixLQUFLLHNCQUF3QixFQUM5QixLQUFLLHFCQUNMLEtBQUssZ0JBSW5CLFlBQTRCLEVBQVUsQ0FDbEMsTUFBSSxNQUFLLG9CQUNBLElBQVcsS0FBTSxtQkFDbEIsR0FBcUIsS0FBSyxNQUUxQixFQUNPLEtBQUssMEJBRUwsS0FBSyxxQkFHWCxJQUFXLEtBQU0sd0JBQ2xCLE1BQUssb0JBQXNCLElBRXhCLEtBQUssMkJBQTZCLEVBQ25DLEtBQUssMEJBQ0wsS0FBSyxxQkFJbkIsWUFBMEIsRUFBVSxDQUNoQyxNQUFJLE1BQUssb0JBQ0EsSUFBVyxLQUFNLG1CQUNsQixHQUFxQixLQUFLLE1BRTFCLEVBQ08sS0FBSyx3QkFFTCxLQUFLLG1CQUdYLElBQVcsS0FBTSxzQkFDbEIsTUFBSyxrQkFBb0IsSUFFdEIsS0FBSyx5QkFBMkIsRUFDakMsS0FBSyx3QkFDTCxLQUFLLG1CQUluQixhQUFnQyxDQUM1QixXQUFtQixFQUFHLEVBQUcsQ0FDckIsTUFBTyxHQUFFLE9BQVMsRUFBRSxPQUd4QixHQUFJLEdBQVksR0FDWixFQUFjLEdBQ2QsRUFBYSxHQUNiLEVBQWMsR0FDZCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFHLElBRWYsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUFJLElBQUksR0FDL0IsRUFBTyxHQUFZLEtBQUssWUFBWSxFQUFLLEtBQ3pDLEVBQVMsR0FBWSxLQUFLLGNBQWMsRUFBSyxLQUM3QyxFQUFRLEdBQVksS0FBSyxTQUFTLEVBQUssS0FDdkMsRUFBVSxLQUFLLEdBQ2YsRUFBWSxLQUFLLEdBQ2pCLEVBQVcsS0FBSyxHQUNoQixFQUFZLEtBQUssR0FDakIsRUFBWSxLQUFLLEdBQ2pCLEVBQVksS0FBSyxHQUlyQixFQUFVLEtBQUssR0FDZixFQUFZLEtBQUssR0FDakIsRUFBVyxLQUFLLEdBQ2hCLEVBQVksS0FBSyxHQUVqQixLQUFLLGVBQWlCLEdBQUksUUFBTyxLQUFPLEVBQVksS0FBSyxLQUFPLElBQUssS0FDckUsS0FBSyxvQkFBc0IsS0FBSyxlQUNoQyxLQUFLLGtCQUFvQixLQUFLLGVBRTlCLEtBQUsscUJBQXVCLEdBQUksUUFDNUIsS0FBTyxFQUFXLEtBQUssS0FBTyxJQUM5QixLQUVKLEtBQUssMEJBQTRCLEdBQUksUUFDakMsS0FBTyxFQUFZLEtBQUssS0FBTyxJQUMvQixLQUVKLEtBQUssd0JBQTBCLEdBQUksUUFDL0IsS0FBTyxFQUFVLEtBQUssS0FBTyxJQUM3QixLQU1SLGFBQW1CLENBQ2YsTUFBTyxNQUFLLFFBQVUsSUFBTSxHQUdoQyxhQUFtQixDQUNmLE1BQU8sTUFBSyxTQUFXLEdBRzNCLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLFFBQ2xDLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLElBQ2xDLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLElBRWxDLEdBQWUsTUFBTyxFQUFHLEVBQUcsVUFBWSxDQUNwQyxNQUFPLEdBQUssR0FBUSxNQUFNLE1BQVEsR0FBUyxLQUFLLFVBQVcsS0FHL0QsR0FBZSxRQUFTLEVBQUcsRUFBRyxVQUFZLENBQ3RDLE1BQ0ksR0FDQSxHQUFRLE1BQU0sTUFDZCxHQUFTLEtBQUssVUFBVyxHQUN6QixHQUFTLEtBQUssVUFBVyxLQUlqQyxHQUFlLE1BQU8sRUFBRyxFQUFHLFVBQVksQ0FDcEMsTUFBTyxHQUFLLEtBQUssUUFBVSxHQUFTLEtBQUssVUFBVyxLQUd4RCxHQUFlLFFBQVMsRUFBRyxFQUFHLFVBQVksQ0FDdEMsTUFDSSxHQUNBLEtBQUssUUFDTCxHQUFTLEtBQUssVUFBVyxHQUN6QixHQUFTLEtBQUssVUFBVyxLQUlqQyxZQUFrQixFQUFPLEVBQVcsQ0FDaEMsR0FBZSxFQUFPLEVBQUcsRUFBRyxVQUFZLENBQ3BDLE1BQU8sTUFBSyxhQUFhLFNBQ3JCLEtBQUssUUFDTCxLQUFLLFVBQ0wsS0FLWixHQUFTLElBQUssSUFDZCxHQUFTLElBQUssSUFJZCxHQUFhLE9BQVEsS0FHckIsR0FBZ0IsT0FBUSxJQUl4QixZQUF1QixFQUFVLEVBQVEsQ0FDckMsTUFBTyxHQUFPLGVBR2xCLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLEdBQVcsSUFFL0IsR0FBYyxNQUFPLElBQ3JCLEdBQWMsUUFBUyxJQUN2QixHQUFjLE1BQU8sSUFDckIsR0FBYyxRQUFTLElBRXZCLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFDM0IsR0FBYyxDQUFDLElBQUssTUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQ3ZELEdBQUksR0FBUyxHQUFNLEdBQ25CLEVBQU0sSUFBUSxJQUFXLEdBQUssRUFBSSxJQUV0QyxHQUFjLENBQUMsSUFBSyxLQUFNLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdEQsRUFBTyxNQUFRLEVBQU8sUUFBUSxLQUFLLEdBQ25DLEVBQU8sVUFBWSxJQUV2QixHQUFjLENBQUMsSUFBSyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdkQsRUFBTSxJQUFRLEdBQU0sR0FDcEIsR0FBZ0IsR0FBUSxRQUFVLEtBRXRDLEdBQWMsTUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQ2pELEdBQUksR0FBTSxFQUFNLE9BQVMsRUFDekIsRUFBTSxJQUFRLEdBQU0sRUFBTSxPQUFPLEVBQUcsSUFDcEMsRUFBTSxJQUFVLEdBQU0sRUFBTSxPQUFPLElBQ25DLEdBQWdCLEdBQVEsUUFBVSxLQUV0QyxHQUFjLFFBQVMsU0FBVSxFQUFPLEVBQU8sRUFBUSxDQUNuRCxHQUFJLEdBQU8sRUFBTSxPQUFTLEVBQ3RCLEVBQU8sRUFBTSxPQUFTLEVBQzFCLEVBQU0sSUFBUSxHQUFNLEVBQU0sT0FBTyxFQUFHLElBQ3BDLEVBQU0sSUFBVSxHQUFNLEVBQU0sT0FBTyxFQUFNLElBQ3pDLEVBQU0sSUFBVSxHQUFNLEVBQU0sT0FBTyxJQUNuQyxHQUFnQixHQUFRLFFBQVUsS0FFdEMsR0FBYyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDakQsR0FBSSxHQUFNLEVBQU0sT0FBUyxFQUN6QixFQUFNLElBQVEsR0FBTSxFQUFNLE9BQU8sRUFBRyxJQUNwQyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sTUFFdkMsR0FBYyxRQUFTLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDbkQsR0FBSSxHQUFPLEVBQU0sT0FBUyxFQUN0QixFQUFPLEVBQU0sT0FBUyxFQUMxQixFQUFNLElBQVEsR0FBTSxFQUFNLE9BQU8sRUFBRyxJQUNwQyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sRUFBTSxJQUN6QyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sTUFLdkMsWUFBb0IsRUFBTyxDQUd2QixNQUFRLEdBQVEsSUFBSSxjQUFjLE9BQU8sS0FBTyxJQUdwRCxHQUFJLElBQTZCLGdCQUs3QixHQUFhLEdBQVcsUUFBUyxJQUVyQyxZQUF3QixFQUFPLEVBQVMsRUFBUyxDQUM3QyxNQUFJLEdBQVEsR0FDRCxFQUFVLEtBQU8sS0FFakIsRUFBVSxLQUFPLEtBSWhDLEdBQUksSUFBYSxDQUNiLFNBQVUsR0FDVixlQUFnQixHQUNoQixZQUFhLEdBQ2IsUUFBUyxHQUNULHVCQUF3QixHQUN4QixhQUFjLEdBRWQsT0FBUSxHQUNSLFlBQWEsR0FFYixLQUFNLEdBRU4sU0FBVSxHQUNWLFlBQWEsR0FDYixjQUFlLEdBRWYsY0FBZSxJQUlmLEdBQVUsR0FDVixHQUFpQixHQUNqQixHQUVKLFlBQXNCLEVBQU0sRUFBTSxDQUM5QixHQUFJLEdBQ0EsRUFBTyxLQUFLLElBQUksRUFBSyxPQUFRLEVBQUssUUFDdEMsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFNLEdBQUssRUFDdkIsR0FBSSxFQUFLLEtBQU8sRUFBSyxHQUNqQixNQUFPLEdBR2YsTUFBTyxHQUdYLFlBQXlCLEVBQUssQ0FDMUIsTUFBTyxJQUFNLEVBQUksY0FBYyxRQUFRLElBQUssS0FNaEQsWUFBc0IsRUFBTyxDQU96QixPQU5JLEdBQUksRUFDSixFQUNBLEVBQ0EsRUFDQSxFQUVHLEVBQUksRUFBTSxRQUFRLENBS3JCLElBSkEsRUFBUSxHQUFnQixFQUFNLElBQUksTUFBTSxLQUN4QyxFQUFJLEVBQU0sT0FDVixFQUFPLEdBQWdCLEVBQU0sRUFBSSxJQUNqQyxFQUFPLEVBQU8sRUFBSyxNQUFNLEtBQU8sS0FDekIsRUFBSSxHQUFHLENBRVYsR0FEQSxFQUFTLEdBQVcsRUFBTSxNQUFNLEVBQUcsR0FBRyxLQUFLLE1BQ3ZDLEVBQ0EsTUFBTyxHQUVYLEdBQ0ksR0FDQSxFQUFLLFFBQVUsR0FDZixHQUFhLEVBQU8sSUFBUyxFQUFJLEVBR2pDLE1BRUosSUFFSixJQUVKLE1BQU8sSUFHWCxZQUFvQixFQUFNLENBQ3RCLEdBQUksR0FBWSxLQUNaLEVBRUosR0FDSSxHQUFRLEtBQVUsUUFDbEIsTUFBTyxTQUFXLGFBQ2xCLFFBQ0EsT0FBTyxRQUVQLEdBQUksQ0FDQSxFQUFZLEdBQWEsTUFDekIsRUFBaUIsUUFDakIsRUFBZSxZQUFjLEdBQzdCLEdBQW1CLFNBQ2QsRUFBUCxDQUdFLEdBQVEsR0FBUSxLQUd4QixNQUFPLElBQVEsR0FNbkIsWUFBNEIsRUFBSyxFQUFRLENBQ3JDLEdBQUksR0FDSixNQUFJLElBQ0EsQ0FBSSxHQUFZLEdBQ1osRUFBTyxHQUFVLEdBRWpCLEVBQU8sR0FBYSxFQUFLLEdBRzdCLEFBQUksRUFFQSxHQUFlLEVBRVgsTUFBTyxVQUFZLGFBQWUsUUFBUSxNQUUxQyxRQUFRLEtBQ0osVUFBWSxFQUFNLDJDQU0zQixHQUFhLE1BR3hCLFlBQXNCLEVBQU0sRUFBUSxDQUNoQyxHQUFJLElBQVcsS0FBTSxDQUNqQixHQUFJLEdBQ0EsRUFBZSxHQUVuQixHQURBLEVBQU8sS0FBTyxFQUNWLEdBQVEsSUFBUyxLQUNqQixHQUNJLHVCQUNBLDJPQUtKLEVBQWUsR0FBUSxHQUFNLGdCQUN0QixFQUFPLGNBQWdCLEtBQzlCLEdBQUksR0FBUSxFQUFPLGVBQWlCLEtBQ2hDLEVBQWUsR0FBUSxFQUFPLGNBQWMsZ0JBRTVDLEVBQVMsR0FBVyxFQUFPLGNBQ3ZCLEdBQVUsS0FDVixFQUFlLEVBQU8sWUFFdEIsT0FBSyxJQUFlLEVBQU8sZUFDdkIsSUFBZSxFQUFPLGNBQWdCLElBRTFDLEdBQWUsRUFBTyxjQUFjLEtBQUssQ0FDckMsS0FBTSxFQUNOLE9BQVEsSUFFTCxLQUluQixVQUFRLEdBQVEsR0FBSSxJQUFPLEdBQWEsRUFBYyxJQUVsRCxHQUFlLElBQ2YsR0FBZSxHQUFNLFFBQVEsU0FBVSxFQUFHLENBQ3RDLEdBQWEsRUFBRSxLQUFNLEVBQUUsVUFPL0IsR0FBbUIsR0FFWixHQUFRLE9BR2YsY0FBTyxJQUFRLEdBQ1IsS0FJZixZQUFzQixFQUFNLEVBQVEsQ0FDaEMsR0FBSSxHQUFVLEtBQU0sQ0FDaEIsR0FBSSxHQUNBLEVBQ0EsRUFBZSxHQUVuQixBQUFJLEdBQVEsSUFBUyxNQUFRLEdBQVEsR0FBTSxjQUFnQixLQUV2RCxHQUFRLEdBQU0sSUFBSSxHQUFhLEdBQVEsR0FBTSxRQUFTLElBR3RELEdBQVksR0FBVyxHQUNuQixHQUFhLE1BQ2IsR0FBZSxFQUFVLFNBRTdCLEVBQVMsR0FBYSxFQUFjLEdBQ2hDLEdBQWEsTUFJYixHQUFPLEtBQU8sR0FFbEIsRUFBUyxHQUFJLElBQU8sR0FDcEIsRUFBTyxhQUFlLEdBQVEsR0FDOUIsR0FBUSxHQUFRLEdBSXBCLEdBQW1CLE9BR25CLEFBQUksSUFBUSxJQUFTLE1BQ2pCLENBQUksR0FBUSxHQUFNLGNBQWdCLEtBQzlCLElBQVEsR0FBUSxHQUFRLEdBQU0sYUFDMUIsSUFBUyxNQUNULEdBQW1CLElBRWhCLEdBQVEsSUFBUyxNQUN4QixNQUFPLElBQVEsSUFJM0IsTUFBTyxJQUFRLEdBSW5CLFlBQW1CLEVBQUssQ0FDcEIsR0FBSSxHQU1KLEdBSkksR0FBTyxFQUFJLFNBQVcsRUFBSSxRQUFRLE9BQ2xDLEdBQU0sRUFBSSxRQUFRLE9BR2xCLENBQUMsRUFDRCxNQUFPLElBR1gsR0FBSSxDQUFDLEdBQVEsR0FBTSxDQUdmLEdBREEsRUFBUyxHQUFXLEdBQ2hCLEVBQ0EsTUFBTyxHQUVYLEVBQU0sQ0FBQyxHQUdYLE1BQU8sSUFBYSxHQUd4QixhQUF1QixDQUNuQixNQUFPLElBQUssSUFHaEIsWUFBdUIsRUFBRyxDQUN0QixHQUFJLEdBQ0EsRUFBSSxFQUFFLEdBRVYsTUFBSSxJQUFLLEdBQWdCLEdBQUcsV0FBYSxJQUNyQyxHQUNJLEVBQUUsSUFBUyxHQUFLLEVBQUUsSUFBUyxHQUNyQixHQUNBLEVBQUUsSUFBUSxHQUFLLEVBQUUsSUFBUSxHQUFZLEVBQUUsSUFBTyxFQUFFLEtBQ2hELEdBQ0EsRUFBRSxJQUFRLEdBQ1YsRUFBRSxJQUFRLElBQ1QsRUFBRSxNQUFVLElBQ1IsR0FBRSxNQUFZLEdBQ1gsRUFBRSxNQUFZLEdBQ2QsRUFBRSxNQUFpQixHQUMzQixHQUNBLEVBQUUsSUFBVSxHQUFLLEVBQUUsSUFBVSxHQUM3QixHQUNBLEVBQUUsSUFBVSxHQUFLLEVBQUUsSUFBVSxHQUM3QixHQUNBLEVBQUUsSUFBZSxHQUFLLEVBQUUsSUFBZSxJQUN2QyxHQUNBLEdBR04sR0FBZ0IsR0FBRyxvQkFDbEIsR0FBVyxJQUFRLEVBQVcsS0FFL0IsR0FBVyxJQUVYLEdBQWdCLEdBQUcsZ0JBQWtCLElBQWEsSUFDbEQsR0FBVyxJQUVYLEdBQWdCLEdBQUcsa0JBQW9CLElBQWEsSUFDcEQsR0FBVyxJQUdmLEdBQWdCLEdBQUcsU0FBVyxHQUczQixFQUtYLEdBQUksSUFBbUIsaUpBQ25CLEdBQWdCLDZJQUNoQixHQUFVLHdCQUNWLEdBQVcsQ0FDUCxDQUFDLGVBQWdCLHVCQUNqQixDQUFDLGFBQWMsbUJBQ2YsQ0FBQyxlQUFnQixrQkFDakIsQ0FBQyxhQUFjLGNBQWUsSUFDOUIsQ0FBQyxXQUFZLGVBQ2IsQ0FBQyxVQUFXLGFBQWMsSUFDMUIsQ0FBQyxhQUFjLGNBQ2YsQ0FBQyxXQUFZLFNBQ2IsQ0FBQyxhQUFjLGVBQ2YsQ0FBQyxZQUFhLGNBQWUsSUFDN0IsQ0FBQyxVQUFXLFNBQ1osQ0FBQyxTQUFVLFFBQVMsSUFDcEIsQ0FBQyxPQUFRLFFBQVMsS0FHdEIsR0FBVyxDQUNQLENBQUMsZ0JBQWlCLHVCQUNsQixDQUFDLGdCQUFpQixzQkFDbEIsQ0FBQyxXQUFZLGtCQUNiLENBQUMsUUFBUyxhQUNWLENBQUMsY0FBZSxxQkFDaEIsQ0FBQyxjQUFlLG9CQUNoQixDQUFDLFNBQVUsZ0JBQ1gsQ0FBQyxPQUFRLFlBQ1QsQ0FBQyxLQUFNLFNBRVgsR0FBa0IscUJBRWxCLEdBQVUsMExBQ1YsR0FBYSxDQUNULEdBQUksRUFDSixJQUFLLEVBQ0wsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLElBSWxCLFlBQXVCLEVBQVEsQ0FDM0IsR0FBSSxHQUNBLEVBQ0EsRUFBUyxFQUFPLEdBQ2hCLEVBQVEsR0FBaUIsS0FBSyxJQUFXLEdBQWMsS0FBSyxHQUM1RCxFQUNBLEVBQ0EsRUFDQSxFQUVKLEdBQUksRUFBTyxDQUdQLElBRkEsR0FBZ0IsR0FBUSxJQUFNLEdBRXpCLEVBQUksRUFBRyxFQUFJLEdBQVMsT0FBUSxFQUFJLEVBQUcsSUFDcEMsR0FBSSxHQUFTLEdBQUcsR0FBRyxLQUFLLEVBQU0sSUFBSyxDQUMvQixFQUFhLEdBQVMsR0FBRyxHQUN6QixFQUFZLEdBQVMsR0FBRyxLQUFPLEdBQy9CLE1BR1IsR0FBSSxHQUFjLEtBQU0sQ0FDcEIsRUFBTyxTQUFXLEdBQ2xCLE9BRUosR0FBSSxFQUFNLEdBQUksQ0FDVixJQUFLLEVBQUksRUFBRyxFQUFJLEdBQVMsT0FBUSxFQUFJLEVBQUcsSUFDcEMsR0FBSSxHQUFTLEdBQUcsR0FBRyxLQUFLLEVBQU0sSUFBSyxDQUUvQixFQUFjLEdBQU0sSUFBTSxLQUFPLEdBQVMsR0FBRyxHQUM3QyxNQUdSLEdBQUksR0FBYyxLQUFNLENBQ3BCLEVBQU8sU0FBVyxHQUNsQixRQUdSLEdBQUksQ0FBQyxHQUFhLEdBQWMsS0FBTSxDQUNsQyxFQUFPLFNBQVcsR0FDbEIsT0FFSixHQUFJLEVBQU0sR0FDTixHQUFJLEdBQVEsS0FBSyxFQUFNLElBQ25CLEVBQVcsUUFDUixDQUNILEVBQU8sU0FBVyxHQUNsQixPQUdSLEVBQU8sR0FBSyxFQUFjLElBQWMsSUFBTyxJQUFZLElBQzNELEdBQTBCLE9BRTFCLEdBQU8sU0FBVyxHQUkxQixZQUNJLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsR0FBSSxHQUFTLENBQ1QsR0FBZSxHQUNmLEdBQXlCLFFBQVEsR0FDakMsU0FBUyxFQUFRLElBQ2pCLFNBQVMsRUFBUyxJQUNsQixTQUFTLEVBQVcsS0FHeEIsTUFBSSxJQUNBLEVBQU8sS0FBSyxTQUFTLEVBQVcsS0FHN0IsRUFHWCxZQUF3QixFQUFTLENBQzdCLEdBQUksR0FBTyxTQUFTLEVBQVMsSUFDN0IsTUFBSSxJQUFRLEdBQ0QsSUFBTyxFQUNQLEdBQVEsSUFDUixLQUFPLEVBRVgsRUFHWCxZQUEyQixFQUFHLENBRTFCLE1BQU8sR0FDRixRQUFRLG9CQUFxQixLQUM3QixRQUFRLFdBQVksS0FDcEIsUUFBUSxTQUFVLElBQ2xCLFFBQVEsU0FBVSxJQUczQixZQUFzQixFQUFZLEVBQWEsRUFBUSxDQUNuRCxHQUFJLEVBQVksQ0FFWixHQUFJLEdBQWtCLEdBQTJCLFFBQVEsR0FDckQsRUFBZ0IsR0FBSSxNQUNoQixFQUFZLEdBQ1osRUFBWSxHQUNaLEVBQVksSUFDZCxTQUNOLEdBQUksSUFBb0IsRUFDcEIsVUFBZ0IsR0FBUSxnQkFBa0IsR0FDMUMsRUFBTyxTQUFXLEdBQ1gsR0FHZixNQUFPLEdBR1gsWUFBeUIsRUFBVyxFQUFnQixFQUFXLENBQzNELEdBQUksRUFDQSxNQUFPLElBQVcsR0FDZixHQUFJLEVBRVAsTUFBTyxHQUVQLEdBQUksR0FBSyxTQUFTLEVBQVcsSUFDekIsRUFBSSxFQUFLLElBQ1QsRUFBSyxHQUFLLEdBQUssSUFDbkIsTUFBTyxHQUFJLEdBQUssRUFLeEIsWUFBMkIsRUFBUSxDQUMvQixHQUFJLEdBQVEsR0FBUSxLQUFLLEdBQWtCLEVBQU8sS0FDOUMsRUFDSixHQUFJLEVBQU8sQ0FTUCxHQVJBLEVBQWMsR0FDVixFQUFNLEdBQ04sRUFBTSxHQUNOLEVBQU0sR0FDTixFQUFNLEdBQ04sRUFBTSxHQUNOLEVBQU0sSUFFTixDQUFDLEdBQWEsRUFBTSxHQUFJLEVBQWEsR0FDckMsT0FHSixFQUFPLEdBQUssRUFDWixFQUFPLEtBQU8sR0FBZ0IsRUFBTSxHQUFJLEVBQU0sR0FBSSxFQUFNLEtBRXhELEVBQU8sR0FBSyxHQUFjLE1BQU0sS0FBTSxFQUFPLElBQzdDLEVBQU8sR0FBRyxjQUFjLEVBQU8sR0FBRyxnQkFBa0IsRUFBTyxNQUUzRCxHQUFnQixHQUFRLFFBQVUsT0FFbEMsR0FBTyxTQUFXLEdBSzFCLFlBQTBCLEVBQVEsQ0FDOUIsR0FBSSxHQUFVLEdBQWdCLEtBQUssRUFBTyxJQUMxQyxHQUFJLElBQVksS0FBTSxDQUNsQixFQUFPLEdBQUssR0FBSSxNQUFLLENBQUMsRUFBUSxJQUM5QixPQUlKLEdBREEsR0FBYyxHQUNWLEVBQU8sV0FBYSxHQUNwQixNQUFPLEdBQU8sYUFFZCxRQUlKLEdBREEsR0FBa0IsR0FDZCxFQUFPLFdBQWEsR0FDcEIsTUFBTyxHQUFPLGFBRWQsUUFHSixBQUFJLEVBQU8sUUFDUCxFQUFPLFNBQVcsR0FHbEIsR0FBTSx3QkFBd0IsR0FJdEMsR0FBTSx3QkFBMEIsR0FDNUIsZ1NBR0EsU0FBVSxFQUFRLENBQ2QsRUFBTyxHQUFLLEdBQUksTUFBSyxFQUFPLEdBQU0sR0FBTyxRQUFVLE9BQVMsT0FLcEUsWUFBa0IsRUFBRyxFQUFHLEVBQUcsQ0FDdkIsTUFBSSxJQUdBLEdBR0csRUFHWCxZQUEwQixFQUFRLENBRTlCLEdBQUksR0FBVyxHQUFJLE1BQUssR0FBTSxPQUM5QixNQUFJLEdBQU8sUUFDQSxDQUNILEVBQVMsaUJBQ1QsRUFBUyxjQUNULEVBQVMsY0FHVixDQUFDLEVBQVMsY0FBZSxFQUFTLFdBQVksRUFBUyxXQU9sRSxZQUF5QixFQUFRLENBQzdCLEdBQUksR0FDQSxFQUNBLEVBQVEsR0FDUixFQUNBLEVBQ0EsRUFFSixHQUFJLEdBQU8sR0FnQ1gsS0E1QkEsRUFBYyxHQUFpQixHQUczQixFQUFPLElBQU0sRUFBTyxHQUFHLEtBQVMsTUFBUSxFQUFPLEdBQUcsS0FBVSxNQUM1RCxHQUFzQixHQUl0QixFQUFPLFlBQWMsTUFDckIsR0FBWSxHQUFTLEVBQU8sR0FBRyxJQUFPLEVBQVksS0FHOUMsR0FBTyxXQUFhLEdBQVcsSUFDL0IsRUFBTyxhQUFlLElBRXRCLElBQWdCLEdBQVEsbUJBQXFCLElBR2pELEVBQU8sR0FBYyxFQUFXLEVBQUcsRUFBTyxZQUMxQyxFQUFPLEdBQUcsSUFBUyxFQUFLLGNBQ3hCLEVBQU8sR0FBRyxJQUFRLEVBQUssY0FRdEIsRUFBSSxFQUFHLEVBQUksR0FBSyxFQUFPLEdBQUcsSUFBTSxLQUFNLEVBQUUsRUFDekMsRUFBTyxHQUFHLEdBQUssRUFBTSxHQUFLLEVBQVksR0FJMUMsS0FBTyxFQUFJLEVBQUcsSUFDVixFQUFPLEdBQUcsR0FBSyxFQUFNLEdBQ2pCLEVBQU8sR0FBRyxJQUFNLEtBQVEsSUFBTSxFQUFJLEVBQUksRUFBSyxFQUFPLEdBQUcsR0FJN0QsQUFDSSxFQUFPLEdBQUcsTUFBVSxJQUNwQixFQUFPLEdBQUcsTUFBWSxHQUN0QixFQUFPLEdBQUcsTUFBWSxHQUN0QixFQUFPLEdBQUcsTUFBaUIsR0FFM0IsR0FBTyxTQUFXLEdBQ2xCLEVBQU8sR0FBRyxJQUFRLEdBR3RCLEVBQU8sR0FBTSxHQUFPLFFBQVUsR0FBZ0IsSUFBWSxNQUN0RCxLQUNBLEdBRUosRUFBa0IsRUFBTyxRQUNuQixFQUFPLEdBQUcsWUFDVixFQUFPLEdBQUcsU0FJWixFQUFPLE1BQVEsTUFDZixFQUFPLEdBQUcsY0FBYyxFQUFPLEdBQUcsZ0JBQWtCLEVBQU8sTUFHM0QsRUFBTyxVQUNQLEdBQU8sR0FBRyxJQUFRLElBS2xCLEVBQU8sSUFDUCxNQUFPLEdBQU8sR0FBRyxHQUFNLGFBQ3ZCLEVBQU8sR0FBRyxJQUFNLEdBRWhCLElBQWdCLEdBQVEsZ0JBQWtCLEtBSWxELFlBQStCLEVBQVEsQ0FDbkMsR0FBSSxHQUFHLEVBQVUsRUFBTSxFQUFTLEVBQUssRUFBSyxFQUFNLEVBQWlCLEVBRWpFLEVBQUksRUFBTyxHQUNYLEFBQUksRUFBRSxJQUFNLE1BQVEsRUFBRSxHQUFLLE1BQVEsRUFBRSxHQUFLLEtBQ3RDLEdBQU0sRUFDTixFQUFNLEVBTU4sRUFBVyxHQUNQLEVBQUUsR0FDRixFQUFPLEdBQUcsSUFDVixHQUFXLEtBQWUsRUFBRyxHQUFHLE1BRXBDLEVBQU8sR0FBUyxFQUFFLEVBQUcsR0FDckIsRUFBVSxHQUFTLEVBQUUsRUFBRyxHQUNwQixHQUFVLEdBQUssRUFBVSxJQUN6QixHQUFrQixLQUd0QixHQUFNLEVBQU8sUUFBUSxNQUFNLElBQzNCLEVBQU0sRUFBTyxRQUFRLE1BQU0sSUFFM0IsRUFBVSxHQUFXLEtBQWUsRUFBSyxHQUV6QyxFQUFXLEdBQVMsRUFBRSxHQUFJLEVBQU8sR0FBRyxJQUFPLEVBQVEsTUFHbkQsRUFBTyxHQUFTLEVBQUUsRUFBRyxFQUFRLE1BRTdCLEFBQUksRUFBRSxHQUFLLEtBRVAsR0FBVSxFQUFFLEVBQ1IsR0FBVSxHQUFLLEVBQVUsSUFDekIsR0FBa0IsS0FFbkIsQUFBSSxFQUFFLEdBQUssS0FFZCxHQUFVLEVBQUUsRUFBSSxFQUNaLEdBQUUsRUFBSSxHQUFLLEVBQUUsRUFBSSxJQUNqQixHQUFrQixLQUl0QixFQUFVLEdBR2xCLEFBQUksRUFBTyxHQUFLLEVBQU8sR0FBWSxFQUFVLEVBQUssR0FDOUMsR0FBZ0IsR0FBUSxlQUFpQixHQUN0QyxBQUFJLEdBQW1CLEtBQzFCLEdBQWdCLEdBQVEsaUJBQW1CLEdBRTNDLEdBQU8sR0FBbUIsRUFBVSxFQUFNLEVBQVMsRUFBSyxHQUN4RCxFQUFPLEdBQUcsSUFBUSxFQUFLLEtBQ3ZCLEVBQU8sV0FBYSxFQUFLLFdBS2pDLEdBQU0sU0FBVyxVQUFZLEdBRzdCLEdBQU0sU0FBVyxVQUFZLEdBRzdCLFlBQW1DLEVBQVEsQ0FFdkMsR0FBSSxFQUFPLEtBQU8sR0FBTSxTQUFVLENBQzlCLEdBQWMsR0FDZCxPQUVKLEdBQUksRUFBTyxLQUFPLEdBQU0sU0FBVSxDQUM5QixHQUFrQixHQUNsQixPQUVKLEVBQU8sR0FBSyxHQUNaLEdBQWdCLEdBQVEsTUFBUSxHQUdoQyxHQUFJLEdBQVMsR0FBSyxFQUFPLEdBQ3JCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUFlLEVBQU8sT0FDdEIsRUFBeUIsRUFDekIsRUFLSixJQUhBLEVBQ0ksR0FBYSxFQUFPLEdBQUksRUFBTyxTQUFTLE1BQU0sS0FBcUIsR0FFbEUsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQzNCLEVBQVEsRUFBTyxHQUNmLEVBQWUsR0FBTyxNQUFNLEdBQXNCLEVBQU8sS0FDckQsSUFBSSxHQUNKLEdBQ0EsR0FBVSxFQUFPLE9BQU8sRUFBRyxFQUFPLFFBQVEsSUFDdEMsRUFBUSxPQUFTLEdBQ2pCLEdBQWdCLEdBQVEsWUFBWSxLQUFLLEdBRTdDLEVBQVMsRUFBTyxNQUNaLEVBQU8sUUFBUSxHQUFlLEVBQVksUUFFOUMsR0FBMEIsRUFBWSxRQUcxQyxBQUFJLEdBQXFCLEdBQ3JCLENBQUksRUFDQSxHQUFnQixHQUFRLE1BQVEsR0FFaEMsR0FBZ0IsR0FBUSxhQUFhLEtBQUssR0FFOUMsR0FBd0IsRUFBTyxFQUFhLElBQ3JDLEVBQU8sU0FBVyxDQUFDLEdBQzFCLEdBQWdCLEdBQVEsYUFBYSxLQUFLLEdBS2xELEdBQWdCLEdBQVEsY0FDcEIsRUFBZSxFQUNmLEVBQU8sT0FBUyxHQUNoQixHQUFnQixHQUFRLFlBQVksS0FBSyxHQUt6QyxFQUFPLEdBQUcsS0FBUyxJQUNuQixHQUFnQixHQUFRLFVBQVksSUFDcEMsRUFBTyxHQUFHLElBQVEsR0FFbEIsSUFBZ0IsR0FBUSxRQUFVLFFBR3RDLEdBQWdCLEdBQVEsZ0JBQWtCLEVBQU8sR0FBRyxNQUFNLEdBQzFELEdBQWdCLEdBQVEsU0FBVyxFQUFPLFVBRTFDLEVBQU8sR0FBRyxJQUFRLEdBQ2QsRUFBTyxRQUNQLEVBQU8sR0FBRyxJQUNWLEVBQU8sV0FJWCxFQUFNLEdBQWdCLEdBQVEsSUFDMUIsSUFBUSxNQUNSLEdBQU8sR0FBRyxJQUFRLEVBQU8sUUFBUSxnQkFBZ0IsRUFBSyxFQUFPLEdBQUcsTUFHcEUsR0FBZ0IsR0FDaEIsR0FBYyxHQUdsQixZQUF5QixFQUFRLEVBQU0sRUFBVSxDQUM3QyxHQUFJLEdBRUosTUFBSSxJQUFZLEtBRUwsRUFFUCxFQUFPLGNBQWdCLEtBQ2hCLEVBQU8sYUFBYSxFQUFNLEdBQzFCLEdBQU8sTUFBUSxNQUV0QixHQUFPLEVBQU8sS0FBSyxHQUNmLEdBQVEsRUFBTyxJQUNmLElBQVEsSUFFUixDQUFDLEdBQVEsSUFBUyxJQUNsQixHQUFPLElBRUosR0FRZixZQUFrQyxFQUFRLENBQ3RDLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBb0IsR0FFeEIsR0FBSSxFQUFPLEdBQUcsU0FBVyxFQUFHLENBQ3hCLEdBQWdCLEdBQVEsY0FBZ0IsR0FDeEMsRUFBTyxHQUFLLEdBQUksTUFBSyxLQUNyQixPQUdKLElBQUssRUFBSSxFQUFHLEVBQUksRUFBTyxHQUFHLE9BQVEsSUFDOUIsRUFBZSxFQUNmLEVBQW1CLEdBQ25CLEVBQWEsR0FBVyxHQUFJLEdBQ3hCLEVBQU8sU0FBVyxNQUNsQixHQUFXLFFBQVUsRUFBTyxTQUVoQyxFQUFXLEdBQUssRUFBTyxHQUFHLEdBQzFCLEdBQTBCLEdBRXRCLEdBQVEsSUFDUixHQUFtQixJQUl2QixHQUFnQixHQUFnQixHQUFZLGNBRzVDLEdBQWdCLEdBQWdCLEdBQVksYUFBYSxPQUFTLEdBRWxFLEdBQWdCLEdBQVksTUFBUSxFQUVwQyxBQUFLLEVBYUcsRUFBZSxHQUNmLEdBQWMsRUFDZCxFQUFhLEdBYmIsSUFBZSxNQUNmLEVBQWUsR0FDZixJQUVBLEdBQWMsRUFDZCxFQUFhLEVBQ1QsR0FDQSxHQUFvQixLQVdwQyxHQUFPLEVBQVEsR0FBYyxHQUdqQyxZQUEwQixFQUFRLENBQzlCLEdBQUksR0FBTyxHQUlYLElBQUksR0FBSSxHQUFxQixFQUFPLElBQ2hDLEVBQVksRUFBRSxNQUFRLE9BQVksRUFBRSxLQUFPLEVBQUUsSUFDakQsRUFBTyxHQUFLLEdBQ1IsQ0FBQyxFQUFFLEtBQU0sRUFBRSxNQUFPLEVBQVcsRUFBRSxLQUFNLEVBQUUsT0FBUSxFQUFFLE9BQVEsRUFBRSxhQUMzRCxTQUFVLEVBQUssQ0FDWCxNQUFPLElBQU8sU0FBUyxFQUFLLE1BSXBDLEdBQWdCLElBR3BCLFlBQTBCLEVBQVEsQ0FDOUIsR0FBSSxHQUFNLEdBQUksSUFBTyxHQUFjLEdBQWMsS0FDakQsTUFBSSxHQUFJLFVBRUosR0FBSSxJQUFJLEVBQUcsS0FDWCxFQUFJLFNBQVcsUUFHWixFQUdYLFlBQXVCLEVBQVEsQ0FDM0IsR0FBSSxHQUFRLEVBQU8sR0FDZixFQUFTLEVBQU8sR0FJcEIsTUFGQSxHQUFPLFFBQVUsRUFBTyxTQUFXLEdBQVUsRUFBTyxJQUVoRCxJQUFVLE1BQVMsSUFBVyxRQUFhLElBQVUsR0FDOUMsR0FBYyxDQUFFLFVBQVcsS0FHbEMsT0FBTyxJQUFVLFVBQ2pCLEdBQU8sR0FBSyxFQUFRLEVBQU8sUUFBUSxTQUFTLElBRzVDLEdBQVMsR0FDRixHQUFJLElBQU8sR0FBYyxJQUM3QixDQUFJLEdBQU8sR0FDZCxFQUFPLEdBQUssRUFDVCxBQUFJLEdBQVEsR0FDZixHQUF5QixHQUN0QixBQUFJLEVBQ1AsR0FBMEIsR0FFMUIsR0FBZ0IsR0FHZixHQUFRLElBQ1QsR0FBTyxHQUFLLE1BR1QsSUFHWCxZQUF5QixFQUFRLENBQzdCLEdBQUksR0FBUSxFQUFPLEdBQ25CLEFBQUksR0FBWSxHQUNaLEVBQU8sR0FBSyxHQUFJLE1BQUssR0FBTSxPQUN4QixBQUFJLEdBQU8sR0FDZCxFQUFPLEdBQUssR0FBSSxNQUFLLEVBQU0sV0FDeEIsQUFBSSxNQUFPLElBQVUsU0FDeEIsR0FBaUIsR0FDZCxBQUFJLEdBQVEsR0FDZixHQUFPLEdBQUssR0FBSSxFQUFNLE1BQU0sR0FBSSxTQUFVLEVBQUssQ0FDM0MsTUFBTyxVQUFTLEVBQUssTUFFekIsR0FBZ0IsSUFDYixBQUFJLEdBQVMsR0FDaEIsR0FBaUIsR0FDZCxBQUFJLEdBQVMsR0FFaEIsRUFBTyxHQUFLLEdBQUksTUFBSyxHQUVyQixHQUFNLHdCQUF3QixHQUl0QyxZQUEwQixFQUFPLEVBQVEsRUFBUSxFQUFRLEVBQU8sQ0FDNUQsR0FBSSxHQUFJLEdBRVIsTUFBSSxLQUFXLElBQVEsSUFBVyxLQUM5QixHQUFTLEVBQ1QsRUFBUyxRQUdULEtBQVcsSUFBUSxJQUFXLEtBQzlCLEdBQVMsRUFDVCxFQUFTLFFBSVIsSUFBUyxJQUFVLEdBQWMsSUFDakMsR0FBUSxJQUFVLEVBQU0sU0FBVyxJQUVwQyxHQUFRLFFBSVosRUFBRSxpQkFBbUIsR0FDckIsRUFBRSxRQUFVLEVBQUUsT0FBUyxFQUN2QixFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssRUFDUCxFQUFFLFFBQVUsRUFFTCxHQUFpQixHQUc1QixZQUFxQixFQUFPLEVBQVEsRUFBUSxFQUFRLENBQ2hELE1BQU8sSUFBaUIsRUFBTyxFQUFRLEVBQVEsRUFBUSxJQUczRCxHQUFJLElBQWUsR0FDWCxxR0FDQSxVQUFZLENBQ1IsR0FBSSxHQUFRLEdBQVksTUFBTSxLQUFNLFdBQ3BDLE1BQUksTUFBSyxXQUFhLEVBQU0sVUFDakIsRUFBUSxLQUFPLEtBQU8sRUFFdEIsT0FJbkIsR0FBZSxHQUNYLHFHQUNBLFVBQVksQ0FDUixHQUFJLEdBQVEsR0FBWSxNQUFNLEtBQU0sV0FDcEMsTUFBSSxNQUFLLFdBQWEsRUFBTSxVQUNqQixFQUFRLEtBQU8sS0FBTyxFQUV0QixPQVV2QixZQUFnQixFQUFJLEVBQVMsQ0FDekIsR0FBSSxHQUFLLEVBSVQsR0FISSxFQUFRLFNBQVcsR0FBSyxHQUFRLEVBQVEsS0FDeEMsR0FBVSxFQUFRLElBRWxCLENBQUMsRUFBUSxPQUNULE1BQU8sTUFHWCxJQURBLEVBQU0sRUFBUSxHQUNULEVBQUksRUFBRyxFQUFJLEVBQVEsT0FBUSxFQUFFLEVBQzlCLEFBQUksRUFBQyxFQUFRLEdBQUcsV0FBYSxFQUFRLEdBQUcsR0FBSSxLQUN4QyxHQUFNLEVBQVEsSUFHdEIsTUFBTyxHQUlYLGFBQWUsQ0FDWCxHQUFJLEdBQU8sR0FBRyxNQUFNLEtBQUssVUFBVyxHQUVwQyxNQUFPLElBQU8sV0FBWSxHQUc5QixhQUFlLENBQ1gsR0FBSSxHQUFPLEdBQUcsTUFBTSxLQUFLLFVBQVcsR0FFcEMsTUFBTyxJQUFPLFVBQVcsR0FHN0IsR0FBSSxJQUFNLFVBQVksQ0FDbEIsTUFBTyxNQUFLLElBQU0sS0FBSyxNQUFRLENBQUMsR0FBSSxPQUdwQyxHQUFXLENBQ1gsT0FDQSxVQUNBLFFBQ0EsT0FDQSxNQUNBLE9BQ0EsU0FDQSxTQUNBLGVBR0osWUFBeUIsRUFBRyxDQUN4QixHQUFJLEdBQ0EsRUFBaUIsR0FDakIsRUFDSixJQUFLLElBQU8sR0FDUixHQUNJLEdBQVcsRUFBRyxJQUNkLENBQ0ksSUFBUSxLQUFLLEdBQVUsS0FBUyxJQUMvQixHQUFFLElBQVEsTUFBUSxDQUFDLE1BQU0sRUFBRSxNQUdoQyxNQUFPLEdBSWYsSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFTLE9BQVEsRUFBRSxFQUMvQixHQUFJLEVBQUUsR0FBUyxJQUFLLENBQ2hCLEdBQUksRUFDQSxNQUFPLEdBRVgsQUFBSSxXQUFXLEVBQUUsR0FBUyxPQUFTLEdBQU0sRUFBRSxHQUFTLE1BQ2hELEdBQWlCLElBSzdCLE1BQU8sR0FHWCxhQUFxQixDQUNqQixNQUFPLE1BQUssU0FHaEIsYUFBMkIsQ0FDdkIsTUFBTyxJQUFlLEtBRzFCLFlBQWtCLEVBQVUsQ0FDeEIsR0FBSSxHQUFrQixHQUFxQixHQUN2QyxFQUFRLEVBQWdCLE1BQVEsRUFDaEMsRUFBVyxFQUFnQixTQUFXLEVBQ3RDLEVBQVMsRUFBZ0IsT0FBUyxFQUNsQyxFQUFRLEVBQWdCLE1BQVEsRUFBZ0IsU0FBVyxFQUMzRCxFQUFPLEVBQWdCLEtBQU8sRUFDOUIsRUFBUSxFQUFnQixNQUFRLEVBQ2hDLEVBQVUsRUFBZ0IsUUFBVSxFQUNwQyxFQUFVLEVBQWdCLFFBQVUsRUFDcEMsRUFBZSxFQUFnQixhQUFlLEVBRWxELEtBQUssU0FBVyxHQUFnQixHQUdoQyxLQUFLLGNBQ0QsQ0FBQyxFQUNELEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBUSxJQUFPLEdBQUssR0FHeEIsS0FBSyxNQUFRLENBQUMsRUFBTyxFQUFRLEVBSTdCLEtBQUssUUFBVSxDQUFDLEVBQVMsRUFBVyxFQUFJLEVBQVEsR0FFaEQsS0FBSyxNQUFRLEdBRWIsS0FBSyxRQUFVLEtBRWYsS0FBSyxVQUdULFlBQW9CLEVBQUssQ0FDckIsTUFBTyxhQUFlLElBRzFCLFlBQWtCLEVBQVEsQ0FDdEIsTUFBSSxHQUFTLEVBQ0YsS0FBSyxNQUFNLEdBQUssR0FBVSxHQUUxQixLQUFLLE1BQU0sR0FLMUIsWUFBdUIsRUFBUSxFQUFRLEVBQWEsQ0FDaEQsR0FBSSxHQUFNLEtBQUssSUFBSSxFQUFPLE9BQVEsRUFBTyxRQUNyQyxFQUFhLEtBQUssSUFBSSxFQUFPLE9BQVMsRUFBTyxRQUM3QyxFQUFRLEVBQ1IsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssSUFDakIsQUFDSyxJQUFlLEVBQU8sS0FBTyxFQUFPLElBQ3BDLENBQUMsR0FBZSxHQUFNLEVBQU8sTUFBUSxHQUFNLEVBQU8sTUFFbkQsSUFHUixNQUFPLEdBQVEsRUFLbkIsWUFBZ0IsRUFBTyxFQUFXLENBQzlCLEdBQWUsRUFBTyxFQUFHLEVBQUcsVUFBWSxDQUNwQyxHQUFJLEdBQVMsS0FBSyxZQUNkLEVBQU8sSUFDWCxNQUFJLEdBQVMsR0FDVCxHQUFTLENBQUMsRUFDVixFQUFPLEtBR1AsRUFDQSxHQUFTLENBQUMsQ0FBRSxHQUFTLElBQUssR0FDMUIsRUFDQSxHQUFTLENBQUMsQ0FBQyxFQUFTLEdBQUksS0FLcEMsR0FBTyxJQUFLLEtBQ1osR0FBTyxLQUFNLElBSWIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxJQUNwQixHQUFjLENBQUMsSUFBSyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdkQsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sS0FBTyxHQUFpQixHQUFrQixLQVFyRCxHQUFJLElBQWMsa0JBRWxCLFlBQTBCLEVBQVMsRUFBUSxDQUN2QyxHQUFJLEdBQVcsSUFBVSxJQUFJLE1BQU0sR0FDL0IsRUFDQSxFQUNBLEVBRUosTUFBSSxLQUFZLEtBQ0wsS0FHWCxHQUFRLEVBQVEsRUFBUSxPQUFTLElBQU0sR0FDdkMsRUFBUyxHQUFRLElBQUksTUFBTSxLQUFnQixDQUFDLElBQUssRUFBRyxHQUNwRCxFQUFVLENBQUUsR0FBTSxHQUFLLElBQU0sR0FBTSxFQUFNLElBRWxDLElBQVksRUFBSSxFQUFJLEVBQU0sS0FBTyxJQUFNLEVBQVUsQ0FBQyxHQUk3RCxZQUF5QixFQUFPLEVBQU8sQ0FDbkMsR0FBSSxHQUFLLEVBQ1QsTUFBSSxHQUFNLE9BQ04sR0FBTSxFQUFNLFFBQ1osRUFDSyxJQUFTLElBQVUsR0FBTyxHQUNyQixFQUFNLFVBQ04sR0FBWSxHQUFPLFdBQWEsRUFBSSxVQUU5QyxFQUFJLEdBQUcsUUFBUSxFQUFJLEdBQUcsVUFBWSxHQUNsQyxHQUFNLGFBQWEsRUFBSyxJQUNqQixHQUVBLEdBQVksR0FBTyxRQUlsQyxZQUF1QixFQUFHLENBR3RCLE1BQU8sQ0FBQyxLQUFLLE1BQU0sRUFBRSxHQUFHLHFCQU81QixHQUFNLGFBQWUsVUFBWSxHQWNqQyxZQUFzQixFQUFPLEVBQWUsRUFBYSxDQUNyRCxHQUFJLEdBQVMsS0FBSyxTQUFXLEVBQ3pCLEVBQ0osR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLElBQVMsS0FBTyxLQUFPLElBRWxDLEdBQUksR0FBUyxLQUFNLENBQ2YsR0FBSSxNQUFPLElBQVUsVUFFakIsR0FEQSxFQUFRLEdBQWlCLEdBQWtCLEdBQ3ZDLElBQVUsS0FDVixNQUFPLFVBRVIsQUFBSSxNQUFLLElBQUksR0FBUyxJQUFNLENBQUMsR0FDaEMsR0FBUSxFQUFRLElBRXBCLE1BQUksQ0FBQyxLQUFLLFFBQVUsR0FDaEIsR0FBYyxHQUFjLE9BRWhDLEtBQUssUUFBVSxFQUNmLEtBQUssT0FBUyxHQUNWLEdBQWUsTUFDZixLQUFLLElBQUksRUFBYSxLQUV0QixJQUFXLEdBQ1gsQ0FBSSxDQUFDLEdBQWlCLEtBQUssa0JBQ3ZCLEdBQ0ksS0FDQSxHQUFlLEVBQVEsRUFBUSxLQUMvQixFQUNBLElBRUksS0FBSyxtQkFDYixNQUFLLGtCQUFvQixHQUN6QixHQUFNLGFBQWEsS0FBTSxJQUN6QixLQUFLLGtCQUFvQixPQUcxQixTQUVQLE9BQU8sTUFBSyxPQUFTLEVBQVMsR0FBYyxNQUlwRCxZQUFvQixFQUFPLEVBQWUsQ0FDdEMsTUFBSSxJQUFTLEtBQ0wsT0FBTyxJQUFVLFVBQ2pCLEdBQVEsQ0FBQyxHQUdiLEtBQUssVUFBVSxFQUFPLEdBRWYsTUFFQSxDQUFDLEtBQUssWUFJckIsWUFBd0IsRUFBZSxDQUNuQyxNQUFPLE1BQUssVUFBVSxFQUFHLEdBRzdCLFlBQTBCLEVBQWUsQ0FDckMsTUFBSSxNQUFLLFFBQ0wsTUFBSyxVQUFVLEVBQUcsR0FDbEIsS0FBSyxPQUFTLEdBRVYsR0FDQSxLQUFLLFNBQVMsR0FBYyxNQUFPLE1BR3BDLEtBR1gsYUFBbUMsQ0FDL0IsR0FBSSxLQUFLLE1BQVEsS0FDYixLQUFLLFVBQVUsS0FBSyxLQUFNLEdBQU8sWUFDMUIsTUFBTyxNQUFLLElBQU8sU0FBVSxDQUNwQyxHQUFJLEdBQVEsR0FBaUIsR0FBYSxLQUFLLElBQy9DLEFBQUksR0FBUyxLQUNULEtBQUssVUFBVSxHQUVmLEtBQUssVUFBVSxFQUFHLElBRzFCLE1BQU8sTUFHWCxZQUE4QixFQUFPLENBQ2pDLE1BQUssTUFBSyxVQUdWLEdBQVEsRUFBUSxHQUFZLEdBQU8sWUFBYyxFQUV6QyxNQUFLLFlBQWMsR0FBUyxJQUFPLEdBSmhDLEdBT2YsYUFBZ0MsQ0FDNUIsTUFDSSxNQUFLLFlBQWMsS0FBSyxRQUFRLE1BQU0sR0FBRyxhQUN6QyxLQUFLLFlBQWMsS0FBSyxRQUFRLE1BQU0sR0FBRyxZQUlqRCxhQUF1QyxDQUNuQyxHQUFJLENBQUMsR0FBWSxLQUFLLGVBQ2xCLE1BQU8sTUFBSyxjQUdoQixHQUFJLEdBQUksR0FDSixFQUVKLFVBQVcsRUFBRyxNQUNkLEVBQUksR0FBYyxHQUVsQixBQUFJLEVBQUUsR0FDRixHQUFRLEVBQUUsT0FBUyxHQUFVLEVBQUUsSUFBTSxHQUFZLEVBQUUsSUFDbkQsS0FBSyxjQUNELEtBQUssV0FBYSxHQUFjLEVBQUUsR0FBSSxFQUFNLFdBQWEsR0FFN0QsS0FBSyxjQUFnQixHQUdsQixLQUFLLGNBR2hCLGFBQW1CLENBQ2YsTUFBTyxNQUFLLFVBQVksQ0FBQyxLQUFLLE9BQVMsR0FHM0MsYUFBdUIsQ0FDbkIsTUFBTyxNQUFLLFVBQVksS0FBSyxPQUFTLEdBRzFDLGFBQWlCLENBQ2IsTUFBTyxNQUFLLFVBQVksS0FBSyxRQUFVLEtBQUssVUFBWSxFQUFJLEdBSWhFLEdBQUksSUFBYyx3REFJZCxHQUFXLHNLQUVmLFlBQXdCLEVBQU8sRUFBSyxDQUNoQyxHQUFJLEdBQVcsRUFFWCxFQUFRLEtBQ1IsRUFDQSxFQUNBLEVBRUosTUFBSSxJQUFXLEdBQ1gsRUFBVyxDQUNQLEdBQUksRUFBTSxjQUNWLEVBQUcsRUFBTSxNQUNULEVBQUcsRUFBTSxTQUVWLEFBQUksR0FBUyxJQUFVLENBQUMsTUFBTSxDQUFDLEdBQ2xDLEdBQVcsR0FDWCxBQUFJLEVBQ0EsRUFBUyxHQUFPLENBQUMsRUFFakIsRUFBUyxhQUFlLENBQUMsR0FFMUIsQUFBSyxHQUFRLEdBQVksS0FBSyxJQUNqQyxHQUFPLEVBQU0sS0FBTyxJQUFNLEdBQUssRUFDL0IsRUFBVyxDQUNQLEVBQUcsRUFDSCxFQUFHLEdBQU0sRUFBTSxLQUFTLEVBQ3hCLEVBQUcsR0FBTSxFQUFNLEtBQVMsRUFDeEIsRUFBRyxHQUFNLEVBQU0sS0FBVyxFQUMxQixFQUFHLEdBQU0sRUFBTSxLQUFXLEVBQzFCLEdBQUksR0FBTSxHQUFTLEVBQU0sSUFBZSxNQUFTLElBRWxELEFBQUssR0FBUSxHQUFTLEtBQUssSUFDOUIsR0FBTyxFQUFNLEtBQU8sSUFBTSxHQUFLLEVBQy9CLEVBQVcsQ0FDUCxFQUFHLEdBQVMsRUFBTSxHQUFJLEdBQ3RCLEVBQUcsR0FBUyxFQUFNLEdBQUksR0FDdEIsRUFBRyxHQUFTLEVBQU0sR0FBSSxHQUN0QixFQUFHLEdBQVMsRUFBTSxHQUFJLEdBQ3RCLEVBQUcsR0FBUyxFQUFNLEdBQUksR0FDdEIsRUFBRyxHQUFTLEVBQU0sR0FBSSxHQUN0QixFQUFHLEdBQVMsRUFBTSxHQUFJLEtBRXZCLEFBQUksR0FBWSxLQUVuQixFQUFXLEdBRVgsTUFBTyxJQUFhLFVBQ25CLFNBQVUsSUFBWSxNQUFRLEtBRS9CLEdBQVUsR0FDTixHQUFZLEVBQVMsTUFDckIsR0FBWSxFQUFTLEtBR3pCLEVBQVcsR0FDWCxFQUFTLEdBQUssRUFBUSxhQUN0QixFQUFTLEVBQUksRUFBUSxRQUd6QixFQUFNLEdBQUksSUFBUyxHQUVmLEdBQVcsSUFBVSxHQUFXLEVBQU8sWUFDdkMsR0FBSSxRQUFVLEVBQU0sU0FHcEIsR0FBVyxJQUFVLEdBQVcsRUFBTyxhQUN2QyxHQUFJLFNBQVcsRUFBTSxVQUdsQixFQUdYLEdBQWUsR0FBSyxHQUFTLFVBQzdCLEdBQWUsUUFBVSxHQUV6QixZQUFrQixFQUFLLEVBQU0sQ0FJekIsR0FBSSxHQUFNLEdBQU8sV0FBVyxFQUFJLFFBQVEsSUFBSyxNQUU3QyxNQUFRLE9BQU0sR0FBTyxFQUFJLEdBQU8sRUFHcEMsWUFBbUMsRUFBTSxFQUFPLENBQzVDLEdBQUksR0FBTSxHQUVWLFNBQUksT0FDQSxFQUFNLFFBQVUsRUFBSyxRQUFXLEdBQU0sT0FBUyxFQUFLLFFBQVUsR0FDOUQsRUFBSyxRQUFRLElBQUksRUFBSSxPQUFRLEtBQUssUUFBUSxJQUMxQyxFQUFFLEVBQUksT0FHVixFQUFJLGFBQWUsQ0FBQyxFQUFRLENBQUMsRUFBSyxRQUFRLElBQUksRUFBSSxPQUFRLEtBRW5ELEVBR1gsWUFBMkIsRUFBTSxFQUFPLENBQ3BDLEdBQUksR0FDSixNQUFNLEdBQUssV0FBYSxFQUFNLFVBSTlCLEdBQVEsR0FBZ0IsRUFBTyxHQUMvQixBQUFJLEVBQUssU0FBUyxHQUNkLEVBQU0sR0FBMEIsRUFBTSxHQUV0QyxHQUFNLEdBQTBCLEVBQU8sR0FDdkMsRUFBSSxhQUFlLENBQUMsRUFBSSxhQUN4QixFQUFJLE9BQVMsQ0FBQyxFQUFJLFFBR2YsR0FaSSxDQUFFLGFBQWMsRUFBRyxPQUFRLEdBZ0IxQyxZQUFxQixFQUFXLEVBQU0sQ0FDbEMsTUFBTyxVQUFVLEVBQUssRUFBUSxDQUMxQixHQUFJLEdBQUssRUFFVCxNQUFJLEtBQVcsTUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUMzQixJQUNJLEVBQ0EsWUFDSSxFQUNBLHVEQUNBLEVBQ0Esa0dBR1IsRUFBTSxFQUNOLEVBQU0sRUFDTixFQUFTLEdBR2IsRUFBTSxHQUFlLEVBQUssR0FDMUIsR0FBWSxLQUFNLEVBQUssR0FDaEIsTUFJZixZQUFxQixFQUFLLEVBQVUsRUFBVSxFQUFjLENBQ3hELEdBQUksR0FBZSxFQUFTLGNBQ3hCLEVBQU8sR0FBUyxFQUFTLE9BQ3pCLEVBQVMsR0FBUyxFQUFTLFNBRS9CLEFBQUksQ0FBQyxFQUFJLFdBS1QsR0FBZSxHQUF1QixHQUVsQyxHQUNBLEdBQVMsRUFBSyxHQUFJLEVBQUssU0FBVyxFQUFTLEdBRTNDLEdBQ0EsR0FBTSxFQUFLLE9BQVEsR0FBSSxFQUFLLFFBQVUsRUFBTyxHQUU3QyxHQUNBLEVBQUksR0FBRyxRQUFRLEVBQUksR0FBRyxVQUFZLEVBQWUsR0FFakQsR0FDQSxHQUFNLGFBQWEsRUFBSyxHQUFRLElBSXhDLEdBQUksSUFBTSxHQUFZLEVBQUcsT0FDckIsR0FBVyxHQUFZLEdBQUksWUFFL0IsWUFBa0IsRUFBTyxDQUNyQixNQUFPLE9BQU8sSUFBVSxVQUFZLFlBQWlCLFFBSXpELFlBQXVCLEVBQU8sQ0FDMUIsTUFDSSxJQUFTLElBQ1QsR0FBTyxJQUNQLEdBQVMsSUFDVCxHQUFTLElBQ1QsR0FBc0IsSUFDdEIsR0FBb0IsSUFDcEIsSUFBVSxNQUNWLElBQVUsT0FJbEIsWUFBNkIsRUFBTyxDQUNoQyxHQUFJLEdBQWEsR0FBUyxJQUFVLENBQUMsR0FBYyxHQUMvQyxFQUFlLEdBQ2YsRUFBYSxDQUNULFFBQ0EsT0FDQSxJQUNBLFNBQ0EsUUFDQSxJQUNBLE9BQ0EsTUFDQSxJQUNBLFFBQ0EsT0FDQSxJQUNBLFFBQ0EsT0FDQSxJQUNBLFVBQ0EsU0FDQSxJQUNBLFVBQ0EsU0FDQSxJQUNBLGVBQ0EsY0FDQSxNQUVKLEVBQ0EsRUFFSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVcsT0FBUSxHQUFLLEVBQ3BDLEVBQVcsRUFBVyxHQUN0QixFQUFlLEdBQWdCLEdBQVcsRUFBTyxHQUdyRCxNQUFPLElBQWMsRUFHekIsWUFBK0IsRUFBTyxDQUNsQyxHQUFJLEdBQVksR0FBUSxHQUNwQixFQUFlLEdBQ25CLE1BQUksSUFDQSxHQUNJLEVBQU0sT0FBTyxTQUFVLEVBQU0sQ0FDekIsTUFBTyxDQUFDLEdBQVMsSUFBUyxHQUFTLEtBQ3BDLFNBQVcsR0FFZixHQUFhLEVBR3hCLFlBQXdCLEVBQU8sQ0FDM0IsR0FBSSxHQUFhLEdBQVMsSUFBVSxDQUFDLEdBQWMsR0FDL0MsRUFBZSxHQUNmLEVBQWEsQ0FDVCxVQUNBLFVBQ0EsVUFDQSxXQUNBLFdBQ0EsWUFFSixFQUNBLEVBRUosSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFXLE9BQVEsR0FBSyxFQUNwQyxFQUFXLEVBQVcsR0FDdEIsRUFBZSxHQUFnQixHQUFXLEVBQU8sR0FHckQsTUFBTyxJQUFjLEVBR3pCLFlBQTJCLEVBQVUsRUFBSyxDQUN0QyxHQUFJLEdBQU8sRUFBUyxLQUFLLEVBQUssT0FBUSxJQUN0QyxNQUFPLEdBQU8sR0FDUixXQUNBLEVBQU8sR0FDUCxXQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxXQUNBLFdBR1YsWUFBb0IsRUFBTSxFQUFTLENBRS9CLEFBQUksVUFBVSxTQUFXLEdBQ3JCLENBQUssVUFBVSxHQUdSLEFBQUksR0FBYyxVQUFVLElBQy9CLEdBQU8sVUFBVSxHQUNqQixFQUFVLFFBQ0gsR0FBZSxVQUFVLEtBQ2hDLEdBQVUsVUFBVSxHQUNwQixFQUFPLFFBUFAsR0FBTyxPQUNQLEVBQVUsU0FXbEIsR0FBSSxHQUFNLEdBQVEsS0FDZCxFQUFNLEdBQWdCLEVBQUssTUFBTSxRQUFRLE9BQ3pDLEVBQVMsR0FBTSxlQUFlLEtBQU0sSUFBUSxXQUM1QyxFQUNJLEdBQ0MsSUFBVyxFQUFRLElBQ2QsRUFBUSxHQUFRLEtBQUssS0FBTSxHQUMzQixFQUFRLElBRXRCLE1BQU8sTUFBSyxPQUNSLEdBQVUsS0FBSyxhQUFhLFNBQVMsRUFBUSxLQUFNLEdBQVksS0FJdkUsYUFBaUIsQ0FDYixNQUFPLElBQUksSUFBTyxNQUd0QixZQUFpQixFQUFPLEVBQU8sQ0FDM0IsR0FBSSxHQUFhLEdBQVMsR0FBUyxFQUFRLEdBQVksR0FDdkQsTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxVQUFZLEVBQVcsVUFFNUIsRUFBVyxVQUFZLEtBQUssUUFBUSxRQUFRLEdBQU8sV0FObkQsR0FVZixZQUFrQixFQUFPLEVBQU8sQ0FDNUIsR0FBSSxHQUFhLEdBQVMsR0FBUyxFQUFRLEdBQVksR0FDdkQsTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxVQUFZLEVBQVcsVUFFNUIsS0FBSyxRQUFRLE1BQU0sR0FBTyxVQUFZLEVBQVcsV0FOakQsR0FVZixZQUFtQixFQUFNLEVBQUksRUFBTyxFQUFhLENBQzdDLEdBQUksR0FBWSxHQUFTLEdBQVEsRUFBTyxHQUFZLEdBQ2hELEVBQVUsR0FBUyxHQUFNLEVBQUssR0FBWSxHQUM5QyxNQUFNLE1BQUssV0FBYSxFQUFVLFdBQWEsRUFBUSxVQUd2RCxHQUFjLEdBQWUsS0FFeEIsR0FBWSxLQUFPLElBQ2QsS0FBSyxRQUFRLEVBQVcsR0FDeEIsQ0FBQyxLQUFLLFNBQVMsRUFBVyxLQUMvQixHQUFZLEtBQU8sSUFDZCxLQUFLLFNBQVMsRUFBUyxHQUN2QixDQUFDLEtBQUssUUFBUSxFQUFTLEtBVHRCLEdBYWYsWUFBZ0IsRUFBTyxFQUFPLENBQzFCLEdBQUksR0FBYSxHQUFTLEdBQVMsRUFBUSxHQUFZLEdBQ25ELEVBQ0osTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxZQUFjLEVBQVcsVUFFckMsR0FBVSxFQUFXLFVBRWpCLEtBQUssUUFBUSxRQUFRLEdBQU8sV0FBYSxHQUN6QyxHQUFXLEtBQUssUUFBUSxNQUFNLEdBQU8sWUFUbEMsR0FjZixZQUF1QixFQUFPLEVBQU8sQ0FDakMsTUFBTyxNQUFLLE9BQU8sRUFBTyxJQUFVLEtBQUssUUFBUSxFQUFPLEdBRzVELFlBQXdCLEVBQU8sRUFBTyxDQUNsQyxNQUFPLE1BQUssT0FBTyxFQUFPLElBQVUsS0FBSyxTQUFTLEVBQU8sR0FHN0QsWUFBYyxFQUFPLEVBQU8sRUFBUyxDQUNqQyxHQUFJLEdBQU0sRUFBVyxFQUVyQixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sS0FLWCxHQUZBLEVBQU8sR0FBZ0IsRUFBTyxNQUUxQixDQUFDLEVBQUssVUFDTixNQUFPLEtBT1gsT0FKQSxFQUFhLEdBQUssWUFBYyxLQUFLLGFBQWUsSUFFcEQsRUFBUSxHQUFlLEdBRWYsT0FDQyxPQUNELEVBQVMsR0FBVSxLQUFNLEdBQVEsR0FDakMsVUFDQyxRQUNELEVBQVMsR0FBVSxLQUFNLEdBQ3pCLFVBQ0MsVUFDRCxFQUFTLEdBQVUsS0FBTSxHQUFRLEVBQ2pDLFVBQ0MsU0FDRCxFQUFVLE1BQU8sR0FBUSxJQUN6QixVQUNDLFNBQ0QsRUFBVSxNQUFPLEdBQVEsSUFDekIsVUFDQyxPQUNELEVBQVUsTUFBTyxHQUFRLEtBQ3pCLFVBQ0MsTUFDRCxFQUFVLE1BQU8sRUFBTyxHQUFhLE1BQ3JDLFVBQ0MsT0FDRCxFQUFVLE1BQU8sRUFBTyxHQUFhLE9BQ3JDLGNBRUEsRUFBUyxLQUFPLEVBR3hCLE1BQU8sR0FBVSxFQUFTLEdBQVMsR0FHdkMsWUFBbUIsRUFBRyxFQUFHLENBQ3JCLEdBQUksRUFBRSxPQUFTLEVBQUUsT0FHYixNQUFPLENBQUMsR0FBVSxFQUFHLEdBR3pCLEdBQUksR0FBa0IsR0FBRSxPQUFTLEVBQUUsUUFBVSxHQUFNLEdBQUUsUUFBVSxFQUFFLFNBRTdELEVBQVMsRUFBRSxRQUFRLElBQUksRUFBZ0IsVUFDdkMsRUFDQSxFQUVKLE1BQUksR0FBSSxFQUFTLEVBQ2IsR0FBVSxFQUFFLFFBQVEsSUFBSSxFQUFpQixFQUFHLFVBRTVDLEVBQVUsR0FBSSxHQUFXLEdBQVMsSUFFbEMsR0FBVSxFQUFFLFFBQVEsSUFBSSxFQUFpQixFQUFHLFVBRTVDLEVBQVUsR0FBSSxHQUFXLEdBQVUsSUFJaEMsQ0FBRSxHQUFpQixJQUFXLEVBR3pDLEdBQU0sY0FBZ0IsdUJBQ3RCLEdBQU0saUJBQW1CLHlCQUV6QixhQUFvQixDQUNoQixNQUFPLE1BQUssUUFBUSxPQUFPLE1BQU0sT0FBTyxvQ0FHNUMsWUFBcUIsRUFBWSxDQUM3QixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sTUFFWCxHQUFJLEdBQU0sSUFBZSxHQUNyQixFQUFJLEVBQU0sS0FBSyxRQUFRLE1BQVEsS0FDbkMsTUFBSSxHQUFFLE9BQVMsR0FBSyxFQUFFLE9BQVMsS0FDcEIsR0FDSCxFQUNBLEVBQ00saUNBQ0EsZ0NBR1YsR0FBVyxLQUFLLFVBQVUsYUFFdEIsRUFDTyxLQUFLLFNBQVMsY0FFZCxHQUFJLE1BQUssS0FBSyxVQUFZLEtBQUssWUFBYyxHQUFLLEtBQ3BELGNBQ0EsUUFBUSxJQUFLLEdBQWEsRUFBRyxNQUduQyxHQUNILEVBQ0EsRUFBTSwrQkFBaUMsOEJBVS9DLGFBQW1CLENBQ2YsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLHFCQUF1QixLQUFLLEdBQUssT0FFNUMsR0FBSSxHQUFPLFNBQ1AsRUFBTyxHQUNQLEVBQ0EsRUFDQSxFQUNBLEVBQ0osTUFBSyxNQUFLLFdBQ04sR0FBTyxLQUFLLGNBQWdCLEVBQUksYUFBZSxtQkFDL0MsRUFBTyxLQUVYLEVBQVMsSUFBTSxFQUFPLE1BQ3RCLEVBQU8sR0FBSyxLQUFLLFFBQVUsS0FBSyxRQUFVLEtBQU8sT0FBUyxTQUMxRCxFQUFXLHdCQUNYLEVBQVMsRUFBTyxPQUVULEtBQUssT0FBTyxFQUFTLEVBQU8sRUFBVyxHQUdsRCxZQUFnQixFQUFhLENBQ3pCLEFBQUssR0FDRCxHQUFjLEtBQUssUUFDYixHQUFNLGlCQUNOLEdBQU0sZUFFaEIsR0FBSSxHQUFTLEdBQWEsS0FBTSxHQUNoQyxNQUFPLE1BQUssYUFBYSxXQUFXLEdBR3hDLFlBQWMsRUFBTSxFQUFlLENBQy9CLE1BQ0ksTUFBSyxXQUNILElBQVMsSUFBUyxFQUFLLFdBQWMsR0FBWSxHQUFNLFdBRWxELEdBQWUsQ0FBRSxHQUFJLEtBQU0sS0FBTSxJQUNuQyxPQUFPLEtBQUssVUFDWixTQUFTLENBQUMsR0FFUixLQUFLLGFBQWEsY0FJakMsWUFBaUIsRUFBZSxDQUM1QixNQUFPLE1BQUssS0FBSyxLQUFlLEdBR3BDLFlBQVksRUFBTSxFQUFlLENBQzdCLE1BQ0ksTUFBSyxXQUNILElBQVMsSUFBUyxFQUFLLFdBQWMsR0FBWSxHQUFNLFdBRWxELEdBQWUsQ0FBRSxLQUFNLEtBQU0sR0FBSSxJQUNuQyxPQUFPLEtBQUssVUFDWixTQUFTLENBQUMsR0FFUixLQUFLLGFBQWEsY0FJakMsWUFBZSxFQUFlLENBQzFCLE1BQU8sTUFBSyxHQUFHLEtBQWUsR0FNbEMsWUFBZ0IsRUFBSyxDQUNqQixHQUFJLEdBRUosTUFBSSxLQUFRLE9BQ0QsS0FBSyxRQUFRLE1BRXBCLEdBQWdCLEdBQVUsR0FDdEIsR0FBaUIsTUFDakIsTUFBSyxRQUFVLEdBRVosTUFJZixHQUFJLElBQU8sR0FDUCxrSkFDQSxTQUFVLEVBQUssQ0FDWCxNQUFJLEtBQVEsT0FDRCxLQUFLLGFBRUwsS0FBSyxPQUFPLEtBSy9CLGFBQXNCLENBQ2xCLE1BQU8sTUFBSyxRQUdoQixHQUFJLElBQWdCLElBQ2hCLEdBQWdCLEdBQUssR0FDckIsR0FBYyxHQUFLLEdBQ25CLEdBQW9CLEtBQU0sSUFBTSxJQUFNLEdBQUssR0FHL0MsWUFBZSxFQUFVLEVBQVMsQ0FDOUIsTUFBUyxHQUFXLEVBQVcsR0FBVyxFQUc5QyxZQUEwQixFQUFHLEVBQUcsRUFBRyxDQUUvQixNQUFJLEdBQUksS0FBTyxHQUFLLEVBRVQsR0FBSSxNQUFLLEVBQUksSUFBSyxFQUFHLEdBQUssR0FFMUIsR0FBSSxNQUFLLEVBQUcsRUFBRyxHQUFHLFVBSWpDLFlBQXdCLEVBQUcsRUFBRyxFQUFHLENBRTdCLE1BQUksR0FBSSxLQUFPLEdBQUssRUFFVCxLQUFLLElBQUksRUFBSSxJQUFLLEVBQUcsR0FBSyxHQUUxQixLQUFLLElBQUksRUFBRyxFQUFHLEdBSTlCLFlBQWlCLEVBQU8sQ0FDcEIsR0FBSSxHQUFNLEVBRVYsR0FEQSxFQUFRLEdBQWUsR0FDbkIsSUFBVSxRQUFhLElBQVUsZUFBaUIsQ0FBQyxLQUFLLFVBQ3hELE1BQU8sTUFLWCxPQUZBLEVBQWMsS0FBSyxPQUFTLEdBQWlCLEdBRXJDLE9BQ0MsT0FDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEVBQUcsR0FDbkMsVUFDQyxVQUNELEVBQU8sRUFDSCxLQUFLLE9BQ0wsS0FBSyxRQUFXLEtBQUssUUFBVSxFQUMvQixHQUVKLFVBQ0MsUUFDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEtBQUssUUFBUyxHQUM5QyxVQUNDLE9BQ0QsRUFBTyxFQUNILEtBQUssT0FDTCxLQUFLLFFBQ0wsS0FBSyxPQUFTLEtBQUssV0FFdkIsVUFDQyxVQUNELEVBQU8sRUFDSCxLQUFLLE9BQ0wsS0FBSyxRQUNMLEtBQUssT0FBVSxNQUFLLGFBQWUsSUFFdkMsVUFDQyxVQUNBLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUSxLQUFLLFFBQVMsS0FBSyxRQUNuRCxVQUNDLE9BQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQ0osRUFBUSxNQUFLLE9BQVMsRUFBSSxLQUFLLFlBQWMsSUFDN0MsSUFFSixVQUNDLFNBQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQU0sRUFBTSxJQUNwQixVQUNDLFNBQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQU0sRUFBTSxJQUNwQixNQUdSLFlBQUssR0FBRyxRQUFRLEdBQ2hCLEdBQU0sYUFBYSxLQUFNLElBQ2xCLEtBR1gsWUFBZSxFQUFPLENBQ2xCLEdBQUksR0FBTSxFQUVWLEdBREEsRUFBUSxHQUFlLEdBQ25CLElBQVUsUUFBYSxJQUFVLGVBQWlCLENBQUMsS0FBSyxVQUN4RCxNQUFPLE1BS1gsT0FGQSxFQUFjLEtBQUssT0FBUyxHQUFpQixHQUVyQyxPQUNDLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUyxFQUFHLEVBQUcsR0FBSyxFQUM1QyxVQUNDLFVBQ0QsRUFDSSxFQUNJLEtBQUssT0FDTCxLQUFLLFFBQVcsS0FBSyxRQUFVLEVBQUssRUFDcEMsR0FDQSxFQUNSLFVBQ0MsUUFDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEtBQUssUUFBVSxFQUFHLEdBQUssRUFDdkQsVUFDQyxPQUNELEVBQ0ksRUFDSSxLQUFLLE9BQ0wsS0FBSyxRQUNMLEtBQUssT0FBUyxLQUFLLFVBQVksR0FDL0IsRUFDUixVQUNDLFVBQ0QsRUFDSSxFQUNJLEtBQUssT0FDTCxLQUFLLFFBQ0wsS0FBSyxPQUFVLE1BQUssYUFBZSxHQUFLLEdBQ3hDLEVBQ1IsVUFDQyxVQUNBLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUSxLQUFLLFFBQVMsS0FBSyxPQUFTLEdBQUssRUFDakUsVUFDQyxPQUNELEVBQU8sS0FBSyxHQUFHLFVBQ2YsR0FDSSxHQUNBLEdBQ0ksRUFBUSxNQUFLLE9BQVMsRUFBSSxLQUFLLFlBQWMsSUFDN0MsSUFFSixFQUNKLFVBQ0MsU0FDRCxFQUFPLEtBQUssR0FBRyxVQUNmLEdBQVEsR0FBZ0IsR0FBTSxFQUFNLElBQWlCLEVBQ3JELFVBQ0MsU0FDRCxFQUFPLEtBQUssR0FBRyxVQUNmLEdBQVEsR0FBZ0IsR0FBTSxFQUFNLElBQWlCLEVBQ3JELE1BR1IsWUFBSyxHQUFHLFFBQVEsR0FDaEIsR0FBTSxhQUFhLEtBQU0sSUFDbEIsS0FHWCxhQUFtQixDQUNmLE1BQU8sTUFBSyxHQUFHLFVBQWEsTUFBSyxTQUFXLEdBQUssSUFHckQsYUFBZ0IsQ0FDWixNQUFPLE1BQUssTUFBTSxLQUFLLFVBQVksS0FHdkMsYUFBa0IsQ0FDZCxNQUFPLElBQUksTUFBSyxLQUFLLFdBR3pCLGFBQW1CLENBQ2YsR0FBSSxHQUFJLEtBQ1IsTUFBTyxDQUNILEVBQUUsT0FDRixFQUFFLFFBQ0YsRUFBRSxPQUNGLEVBQUUsT0FDRixFQUFFLFNBQ0YsRUFBRSxTQUNGLEVBQUUsZUFJVixhQUFvQixDQUNoQixHQUFJLEdBQUksS0FDUixNQUFPLENBQ0gsTUFBTyxFQUFFLE9BQ1QsT0FBUSxFQUFFLFFBQ1YsS0FBTSxFQUFFLE9BQ1IsTUFBTyxFQUFFLFFBQ1QsUUFBUyxFQUFFLFVBQ1gsUUFBUyxFQUFFLFVBQ1gsYUFBYyxFQUFFLGdCQUl4QixhQUFrQixDQUVkLE1BQU8sTUFBSyxVQUFZLEtBQUssY0FBZ0IsS0FHakQsYUFBcUIsQ0FDakIsTUFBTyxJQUFRLE1BR25CLGFBQXdCLENBQ3BCLE1BQU8sSUFBTyxHQUFJLEdBQWdCLE9BR3RDLGFBQXFCLENBQ2pCLE1BQU8sSUFBZ0IsTUFBTSxTQUdqQyxhQUF3QixDQUNwQixNQUFPLENBQ0gsTUFBTyxLQUFLLEdBQ1osT0FBUSxLQUFLLEdBQ2IsT0FBUSxLQUFLLFFBQ2IsTUFBTyxLQUFLLE9BQ1osT0FBUSxLQUFLLFNBSXJCLEdBQWUsSUFBSyxFQUFHLEVBQUcsV0FDMUIsR0FBZSxLQUFNLEVBQUcsRUFBRyxXQUMzQixHQUFlLE1BQU8sRUFBRyxFQUFHLFdBQzVCLEdBQWUsT0FBUSxFQUFHLEVBQUcsV0FDN0IsR0FBZSxRQUFTLEVBQUcsRUFBRyxhQUU5QixHQUFlLElBQUssQ0FBQyxJQUFLLEdBQUksS0FBTSxXQUNwQyxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksRUFBRyxXQUNsQyxHQUFlLElBQUssQ0FBQyxNQUFPLEdBQUksRUFBRyxXQUNuQyxHQUFlLElBQUssQ0FBQyxPQUFRLEdBQUksRUFBRyxXQUVwQyxHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLElBQ3BCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxRQUFTLElBRXZCLEdBQWMsQ0FBQyxJQUFLLEtBQU0sTUFBTyxPQUFRLFNBQVUsU0FDL0MsRUFDQSxFQUNBLEVBQ0EsRUFDRixDQUNFLEdBQUksR0FBTSxFQUFPLFFBQVEsVUFBVSxFQUFPLEVBQU8sRUFBTyxTQUN4RCxBQUFJLEVBQ0EsR0FBZ0IsR0FBUSxJQUFNLEVBRTlCLEdBQWdCLEdBQVEsV0FBYSxJQUk3QyxHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLElBQ3BCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxLQUFNLElBRXBCLEdBQWMsQ0FBQyxJQUFLLEtBQU0sTUFBTyxRQUFTLElBQzFDLEdBQWMsQ0FBQyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsRUFBTyxDQUN6RCxHQUFJLEdBQ0osQUFBSSxFQUFPLFFBQVEsc0JBQ2YsR0FBUSxFQUFNLE1BQU0sRUFBTyxRQUFRLHVCQUd2QyxBQUFJLEVBQU8sUUFBUSxvQkFDZixFQUFNLElBQVEsRUFBTyxRQUFRLG9CQUFvQixFQUFPLEdBRXhELEVBQU0sSUFBUSxTQUFTLEVBQU8sTUFJdEMsWUFBb0IsRUFBRyxFQUFRLENBQzNCLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFBTyxLQUFLLE9BQVMsR0FBVSxNQUFNLE1BQ3pDLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBQUcsQ0FDckMsT0FBUSxNQUFPLEdBQUssR0FBRyxXQUNkLFNBRUQsRUFBTyxHQUFNLEVBQUssR0FBRyxPQUFPLFFBQVEsT0FDcEMsRUFBSyxHQUFHLE1BQVEsRUFBSyxVQUNyQixNQUdSLE9BQVEsTUFBTyxHQUFLLEdBQUcsV0FDZCxZQUNELEVBQUssR0FBRyxNQUFRLElBQ2hCLFVBQ0MsU0FFRCxFQUFPLEdBQU0sRUFBSyxHQUFHLE9BQU8sUUFBUSxPQUFPLFVBQzNDLEVBQUssR0FBRyxNQUFRLEVBQUssVUFDckIsT0FHWixNQUFPLEdBR1gsWUFBeUIsRUFBUyxFQUFRLEVBQVEsQ0FDOUMsR0FBSSxHQUNBLEVBQ0EsRUFBTyxLQUFLLE9BQ1osRUFDQSxFQUNBLEVBR0osSUFGQSxFQUFVLEVBQVEsY0FFYixFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsRUFBSSxFQUFHLEVBQUUsRUFLbEMsR0FKQSxFQUFPLEVBQUssR0FBRyxLQUFLLGNBQ3BCLEVBQU8sRUFBSyxHQUFHLEtBQUssY0FDcEIsRUFBUyxFQUFLLEdBQUcsT0FBTyxjQUVwQixFQUNBLE9BQVEsT0FDQyxRQUNBLFNBQ0EsTUFDRCxHQUFJLElBQVMsRUFDVCxNQUFPLEdBQUssR0FFaEIsVUFFQyxPQUNELEdBQUksSUFBUyxFQUNULE1BQU8sR0FBSyxHQUVoQixVQUVDLFFBQ0QsR0FBSSxJQUFXLEVBQ1gsTUFBTyxHQUFLLEdBRWhCLGNBRUQsQ0FBQyxFQUFNLEVBQU0sR0FBUSxRQUFRLElBQVksRUFDaEQsTUFBTyxHQUFLLEdBS3hCLFlBQStCLEVBQUssRUFBTSxDQUN0QyxHQUFJLEdBQU0sRUFBSSxPQUFTLEVBQUksTUFBUSxFQUFLLEdBQ3hDLE1BQUksS0FBUyxPQUNGLEdBQU0sRUFBSSxPQUFPLE9BRWpCLEdBQU0sRUFBSSxPQUFPLE9BQVUsR0FBTyxFQUFJLFFBQVUsRUFJL0QsYUFBc0IsQ0FDbEIsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUFPLEtBQUssYUFBYSxPQUM3QixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxFQUFJLEVBQUcsRUFBRSxFQU9sQyxHQUxBLEVBQU0sS0FBSyxRQUFRLFFBQVEsT0FBTyxVQUU5QixFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE9BR3ZDLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsTUFDdkMsTUFBTyxHQUFLLEdBQUcsS0FJdkIsTUFBTyxHQUdYLGFBQXdCLENBQ3BCLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFBTyxLQUFLLGFBQWEsT0FDN0IsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsRUFBSSxFQUFHLEVBQUUsRUFPbEMsR0FMQSxFQUFNLEtBQUssUUFBUSxRQUFRLE9BQU8sVUFFOUIsRUFBSyxHQUFHLE9BQVMsR0FBTyxHQUFPLEVBQUssR0FBRyxPQUd2QyxFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE1BQ3ZDLE1BQU8sR0FBSyxHQUFHLE9BSXZCLE1BQU8sR0FHWCxhQUFzQixDQUNsQixHQUFJLEdBQ0EsRUFDQSxFQUNBLEVBQU8sS0FBSyxhQUFhLE9BQzdCLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBT2xDLEdBTEEsRUFBTSxLQUFLLFFBQVEsUUFBUSxPQUFPLFVBRTlCLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsT0FHdkMsRUFBSyxHQUFHLE9BQVMsR0FBTyxHQUFPLEVBQUssR0FBRyxNQUN2QyxNQUFPLEdBQUssR0FBRyxLQUl2QixNQUFPLEdBR1gsYUFBc0IsQ0FDbEIsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQU8sS0FBSyxhQUFhLE9BQzdCLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBTWxDLEdBTEEsRUFBTSxFQUFLLEdBQUcsT0FBUyxFQUFLLEdBQUcsTUFBUSxFQUFLLEdBRzVDLEVBQU0sS0FBSyxRQUFRLFFBQVEsT0FBTyxVQUc3QixFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE9BQ3ZDLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsTUFFeEMsTUFDSyxNQUFLLE9BQVMsR0FBTSxFQUFLLEdBQUcsT0FBTyxRQUFVLEVBQzlDLEVBQUssR0FBRyxPQUtwQixNQUFPLE1BQUssT0FHaEIsWUFBdUIsRUFBVSxDQUM3QixNQUFLLElBQVcsS0FBTSxtQkFDbEIsR0FBaUIsS0FBSyxNQUVuQixFQUFXLEtBQUssZUFBaUIsS0FBSyxXQUdqRCxZQUF1QixFQUFVLENBQzdCLE1BQUssSUFBVyxLQUFNLG1CQUNsQixHQUFpQixLQUFLLE1BRW5CLEVBQVcsS0FBSyxlQUFpQixLQUFLLFdBR2pELFlBQXlCLEVBQVUsQ0FDL0IsTUFBSyxJQUFXLEtBQU0scUJBQ2xCLEdBQWlCLEtBQUssTUFFbkIsRUFBVyxLQUFLLGlCQUFtQixLQUFLLFdBR25ELFlBQXNCLEVBQVUsRUFBUSxDQUNwQyxNQUFPLEdBQU8sY0FBYyxHQUdoQyxZQUFzQixFQUFVLEVBQVEsQ0FDcEMsTUFBTyxHQUFPLGNBQWMsR0FHaEMsWUFBd0IsRUFBVSxFQUFRLENBQ3RDLE1BQU8sR0FBTyxnQkFBZ0IsR0FHbEMsWUFBNkIsRUFBVSxFQUFRLENBQzNDLE1BQU8sR0FBTyxzQkFBd0IsR0FHMUMsYUFBNEIsQ0FDeEIsR0FBSSxHQUFhLEdBQ2IsRUFBYSxHQUNiLEVBQWUsR0FDZixFQUFjLEdBQ2QsRUFDQSxFQUNBLEVBQU8sS0FBSyxPQUVoQixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxFQUFJLEVBQUcsRUFBRSxFQUNsQyxFQUFXLEtBQUssR0FBWSxFQUFLLEdBQUcsT0FDcEMsRUFBVyxLQUFLLEdBQVksRUFBSyxHQUFHLE9BQ3BDLEVBQWEsS0FBSyxHQUFZLEVBQUssR0FBRyxTQUV0QyxFQUFZLEtBQUssR0FBWSxFQUFLLEdBQUcsT0FDckMsRUFBWSxLQUFLLEdBQVksRUFBSyxHQUFHLE9BQ3JDLEVBQVksS0FBSyxHQUFZLEVBQUssR0FBRyxTQUd6QyxLQUFLLFdBQWEsR0FBSSxRQUFPLEtBQU8sRUFBWSxLQUFLLEtBQU8sSUFBSyxLQUNqRSxLQUFLLGVBQWlCLEdBQUksUUFBTyxLQUFPLEVBQVcsS0FBSyxLQUFPLElBQUssS0FDcEUsS0FBSyxlQUFpQixHQUFJLFFBQU8sS0FBTyxFQUFXLEtBQUssS0FBTyxJQUFLLEtBQ3BFLEtBQUssaUJBQW1CLEdBQUksUUFDeEIsS0FBTyxFQUFhLEtBQUssS0FBTyxJQUNoQyxLQU1SLEdBQWUsRUFBRyxDQUFDLEtBQU0sR0FBSSxFQUFHLFVBQVksQ0FDeEMsTUFBTyxNQUFLLFdBQWEsTUFHN0IsR0FBZSxFQUFHLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFBWSxDQUN4QyxNQUFPLE1BQUssY0FBZ0IsTUFHaEMsWUFBZ0MsRUFBTyxFQUFRLENBQzNDLEdBQWUsRUFBRyxDQUFDLEVBQU8sRUFBTSxRQUFTLEVBQUcsR0FHaEQsR0FBdUIsT0FBUSxZQUMvQixHQUF1QixRQUFTLFlBQ2hDLEdBQXVCLE9BQVEsZUFDL0IsR0FBdUIsUUFBUyxlQUloQyxHQUFhLFdBQVksTUFDekIsR0FBYSxjQUFlLE1BSTVCLEdBQWdCLFdBQVksR0FDNUIsR0FBZ0IsY0FBZSxHQUkvQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsT0FBUSxHQUFXLElBQ2pDLEdBQWMsT0FBUSxHQUFXLElBQ2pDLEdBQWMsUUFBUyxHQUFXLElBQ2xDLEdBQWMsUUFBUyxHQUFXLElBRWxDLEdBQWtCLENBQUMsT0FBUSxRQUFTLE9BQVEsU0FBVSxTQUNsRCxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsRUFBSyxFQUFNLE9BQU8sRUFBRyxJQUFNLEdBQU0sS0FHckMsR0FBa0IsQ0FBQyxLQUFNLE1BQU8sU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQ2xFLEVBQUssR0FBUyxHQUFNLGtCQUFrQixLQUsxQyxZQUF3QixFQUFPLENBQzNCLE1BQU8sSUFBcUIsS0FDeEIsS0FDQSxFQUNBLEtBQUssT0FDTCxLQUFLLFVBQ0wsS0FBSyxhQUFhLE1BQU0sSUFDeEIsS0FBSyxhQUFhLE1BQU0sS0FJaEMsWUFBMkIsRUFBTyxDQUM5QixNQUFPLElBQXFCLEtBQ3hCLEtBQ0EsRUFDQSxLQUFLLFVBQ0wsS0FBSyxhQUNMLEVBQ0EsR0FJUixhQUE2QixDQUN6QixNQUFPLElBQVksS0FBSyxPQUFRLEVBQUcsR0FHdkMsYUFBb0MsQ0FDaEMsTUFBTyxJQUFZLEtBQUssY0FBZSxFQUFHLEdBRzlDLGFBQTBCLENBQ3RCLEdBQUksR0FBVyxLQUFLLGFBQWEsTUFDakMsTUFBTyxJQUFZLEtBQUssT0FBUSxFQUFTLElBQUssRUFBUyxLQUczRCxhQUE4QixDQUMxQixHQUFJLEdBQVcsS0FBSyxhQUFhLE1BQ2pDLE1BQU8sSUFBWSxLQUFLLFdBQVksRUFBUyxJQUFLLEVBQVMsS0FHL0QsWUFBOEIsRUFBTyxFQUFNLEVBQVMsRUFBSyxFQUFLLENBQzFELEdBQUksR0FDSixNQUFJLElBQVMsS0FDRixHQUFXLEtBQU0sRUFBSyxHQUFLLEtBRWxDLEdBQWMsR0FBWSxFQUFPLEVBQUssR0FDbEMsRUFBTyxHQUNQLEdBQU8sR0FFSixHQUFXLEtBQUssS0FBTSxFQUFPLEVBQU0sRUFBUyxFQUFLLElBSWhFLFlBQW9CLEVBQVUsRUFBTSxFQUFTLEVBQUssRUFBSyxDQUNuRCxHQUFJLEdBQWdCLEdBQW1CLEVBQVUsRUFBTSxFQUFTLEVBQUssR0FDakUsRUFBTyxHQUFjLEVBQWMsS0FBTSxFQUFHLEVBQWMsV0FFOUQsWUFBSyxLQUFLLEVBQUssa0JBQ2YsS0FBSyxNQUFNLEVBQUssZUFDaEIsS0FBSyxLQUFLLEVBQUssY0FDUixLQUtYLEdBQWUsSUFBSyxFQUFHLEtBQU0sV0FJN0IsR0FBYSxVQUFXLEtBSXhCLEdBQWdCLFVBQVcsR0FJM0IsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxDQUN2QyxFQUFNLElBQVUsSUFBTSxHQUFTLEdBQUssSUFLeEMsWUFBdUIsRUFBTyxDQUMxQixNQUFPLElBQVMsS0FDVixLQUFLLEtBQU0sTUFBSyxRQUFVLEdBQUssR0FDL0IsS0FBSyxNQUFPLEdBQVEsR0FBSyxFQUFLLEtBQUssUUFBVSxHQUt2RCxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksS0FBTSxRQUlyQyxHQUFhLE9BQVEsS0FHckIsR0FBZ0IsT0FBUSxHQUl4QixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLFNBQVUsRUFBVSxFQUFRLENBRTVDLE1BQU8sR0FDRCxFQUFPLHlCQUEyQixFQUFPLGNBQ3pDLEVBQU8saUNBR2pCLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFDM0IsR0FBYyxLQUFNLFNBQVUsRUFBTyxFQUFPLENBQ3hDLEVBQU0sSUFBUSxHQUFNLEVBQU0sTUFBTSxJQUFXLE1BSy9DLEdBQUksSUFBbUIsR0FBVyxPQUFRLElBSTFDLEdBQWUsTUFBTyxDQUFDLE9BQVEsR0FBSSxPQUFRLGFBSTNDLEdBQWEsWUFBYSxPQUcxQixHQUFnQixZQUFhLEdBSTdCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxDQUFDLE1BQU8sUUFBUyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQzNELEVBQU8sV0FBYSxHQUFNLEtBTzlCLFlBQXlCLEVBQU8sQ0FDNUIsR0FBSSxHQUNBLEtBQUssTUFDQSxNQUFLLFFBQVEsUUFBUSxPQUFTLEtBQUssUUFBUSxRQUFRLFNBQVcsT0FDL0QsRUFDUixNQUFPLElBQVMsS0FBTyxFQUFZLEtBQUssSUFBSSxFQUFRLEVBQVcsS0FLbkUsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFJbEMsR0FBYSxTQUFVLEtBSXZCLEdBQWdCLFNBQVUsSUFJMUIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFJM0IsR0FBSSxJQUFlLEdBQVcsVUFBVyxJQUl6QyxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksRUFBRyxVQUlsQyxHQUFhLFNBQVUsS0FJdkIsR0FBZ0IsU0FBVSxJQUkxQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxDQUFDLElBQUssTUFBTyxJQUkzQixHQUFJLElBQWUsR0FBVyxVQUFXLElBSXpDLEdBQWUsSUFBSyxFQUFHLEVBQUcsVUFBWSxDQUNsQyxNQUFPLENBQUMsQ0FBRSxNQUFLLGNBQWdCLE9BR25DLEdBQWUsRUFBRyxDQUFDLEtBQU0sR0FBSSxFQUFHLFVBQVksQ0FDeEMsTUFBTyxDQUFDLENBQUUsTUFBSyxjQUFnQixNQUduQyxHQUFlLEVBQUcsQ0FBQyxNQUFPLEdBQUksRUFBRyxlQUNqQyxHQUFlLEVBQUcsQ0FBQyxPQUFRLEdBQUksRUFBRyxVQUFZLENBQzFDLE1BQU8sTUFBSyxjQUFnQixLQUVoQyxHQUFlLEVBQUcsQ0FBQyxRQUFTLEdBQUksRUFBRyxVQUFZLENBQzNDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxTQUFVLEdBQUksRUFBRyxVQUFZLENBQzVDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxVQUFXLEdBQUksRUFBRyxVQUFZLENBQzdDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxXQUFZLEdBQUksRUFBRyxVQUFZLENBQzlDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxZQUFhLEdBQUksRUFBRyxVQUFZLENBQy9DLE1BQU8sTUFBSyxjQUFnQixNQUtoQyxHQUFhLGNBQWUsTUFJNUIsR0FBZ0IsY0FBZSxJQUkvQixHQUFjLElBQUssR0FBVyxJQUM5QixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE1BQU8sR0FBVyxJQUVoQyxHQUFJLElBQU8sR0FDWCxJQUFLLEdBQVEsT0FBUSxHQUFNLFFBQVUsRUFBRyxJQUFTLElBQzdDLEdBQWMsR0FBTyxJQUd6QixZQUFpQixFQUFPLEVBQU8sQ0FDM0IsRUFBTSxJQUFlLEdBQU8sTUFBTyxHQUFTLEtBR2hELElBQUssR0FBUSxJQUFLLEdBQU0sUUFBVSxFQUFHLElBQVMsSUFDMUMsR0FBYyxHQUFPLElBR3pCLEdBQW9CLEdBQVcsZUFBZ0IsSUFJL0MsR0FBZSxJQUFLLEVBQUcsRUFBRyxZQUMxQixHQUFlLEtBQU0sRUFBRyxFQUFHLFlBSTNCLGFBQXVCLENBQ25CLE1BQU8sTUFBSyxPQUFTLE1BQVEsR0FHakMsYUFBdUIsQ0FDbkIsTUFBTyxNQUFLLE9BQVMsNkJBQStCLEdBR3hELEdBQUksSUFBUSxHQUFPLFVBRW5CLEdBQU0sSUFBTSxHQUNaLEdBQU0sU0FBVyxHQUNqQixHQUFNLE1BQVEsR0FDZCxHQUFNLEtBQU8sR0FDYixHQUFNLE1BQVEsR0FDZCxHQUFNLE9BQVMsR0FDZixHQUFNLEtBQU8sR0FDYixHQUFNLFFBQVUsR0FDaEIsR0FBTSxHQUFLLEdBQ1gsR0FBTSxNQUFRLEdBQ2QsR0FBTSxJQUFNLEdBQ1osR0FBTSxVQUFZLEdBQ2xCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFNBQVcsR0FDakIsR0FBTSxVQUFZLEdBQ2xCLEdBQU0sT0FBUyxHQUNmLEdBQU0sY0FBZ0IsR0FDdEIsR0FBTSxlQUFpQixHQUN2QixHQUFNLFFBQVUsR0FDaEIsR0FBTSxLQUFPLEdBQ2IsR0FBTSxPQUFTLEdBQ2YsR0FBTSxXQUFhLEdBQ25CLEdBQU0sSUFBTSxHQUNaLEdBQU0sSUFBTSxHQUNaLEdBQU0sYUFBZSxHQUNyQixHQUFNLElBQU0sR0FDWixHQUFNLFFBQVUsR0FDaEIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFNBQVcsR0FDakIsR0FBTSxPQUFTLEdBQ2YsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sUUFBVSxHQUNoQixBQUFJLE1BQU8sU0FBVyxhQUFlLE9BQU8sS0FBTyxNQUMvQyxJQUFNLE9BQU8sSUFBSSwrQkFBaUMsVUFBWSxDQUMxRCxNQUFPLFVBQVksS0FBSyxTQUFXLE1BRzNDLEdBQU0sT0FBUyxHQUNmLEdBQU0sU0FBVyxHQUNqQixHQUFNLEtBQU8sR0FDYixHQUFNLFFBQVUsR0FDaEIsR0FBTSxhQUFlLEdBQ3JCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFVBQVksR0FDbEIsR0FBTSxRQUFVLEdBQ2hCLEdBQU0sUUFBVSxHQUNoQixHQUFNLEtBQU8sR0FDYixHQUFNLFdBQWEsR0FDbkIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sWUFBYyxHQUNwQixHQUFNLFFBQVUsR0FBTSxTQUFXLEdBQ2pDLEdBQU0sTUFBUSxHQUNkLEdBQU0sWUFBYyxHQUNwQixHQUFNLEtBQU8sR0FBTSxNQUFRLEdBQzNCLEdBQU0sUUFBVSxHQUFNLFNBQVcsR0FDakMsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sZ0JBQWtCLEdBQ3hCLEdBQU0sZUFBaUIsR0FDdkIsR0FBTSxzQkFBd0IsR0FDOUIsR0FBTSxLQUFPLEdBQ2IsR0FBTSxJQUFNLEdBQU0sS0FBTyxHQUN6QixHQUFNLFFBQVUsR0FDaEIsR0FBTSxXQUFhLEdBQ25CLEdBQU0sVUFBWSxHQUNsQixHQUFNLEtBQU8sR0FBTSxNQUFRLEdBQzNCLEdBQU0sT0FBUyxHQUFNLFFBQVUsR0FDL0IsR0FBTSxPQUFTLEdBQU0sUUFBVSxHQUMvQixHQUFNLFlBQWMsR0FBTSxhQUFlLEdBQ3pDLEdBQU0sVUFBWSxHQUNsQixHQUFNLElBQU0sR0FDWixHQUFNLE1BQVEsR0FDZCxHQUFNLFVBQVksR0FDbEIsR0FBTSxxQkFBdUIsR0FDN0IsR0FBTSxNQUFRLEdBQ2QsR0FBTSxRQUFVLEdBQ2hCLEdBQU0sWUFBYyxHQUNwQixHQUFNLE1BQVEsR0FDZCxHQUFNLE1BQVEsR0FDZCxHQUFNLFNBQVcsR0FDakIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sTUFBUSxHQUNWLGtEQUNBLElBRUosR0FBTSxPQUFTLEdBQ1gsbURBQ0EsSUFFSixHQUFNLE1BQVEsR0FDVixpREFDQSxJQUVKLEdBQU0sS0FBTyxHQUNULDJHQUNBLElBRUosR0FBTSxhQUFlLEdBQ2pCLDBHQUNBLElBR0osWUFBb0IsRUFBTyxDQUN2QixNQUFPLElBQVksRUFBUSxLQUcvQixhQUF3QixDQUNwQixNQUFPLElBQVksTUFBTSxLQUFNLFdBQVcsWUFHOUMsWUFBNEIsRUFBUSxDQUNoQyxNQUFPLEdBR1gsR0FBSSxJQUFVLEdBQU8sVUFFckIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsZUFBaUIsR0FDekIsR0FBUSxZQUFjLEdBQ3RCLEdBQVEsUUFBVSxHQUNsQixHQUFRLFNBQVcsR0FDbkIsR0FBUSxXQUFhLEdBQ3JCLEdBQVEsYUFBZSxHQUN2QixHQUFRLFdBQWEsR0FDckIsR0FBUSxJQUFNLEdBQ2QsR0FBUSxLQUFPLEdBQ2YsR0FBUSxVQUFZLEdBQ3BCLEdBQVEsZ0JBQWtCLEdBQzFCLEdBQVEsY0FBZ0IsR0FDeEIsR0FBUSxjQUFnQixHQUN4QixHQUFRLGdCQUFrQixHQUUxQixHQUFRLE9BQVMsR0FDakIsR0FBUSxZQUFjLEdBQ3RCLEdBQVEsWUFBYyxHQUN0QixHQUFRLFlBQWMsR0FDdEIsR0FBUSxpQkFBbUIsR0FDM0IsR0FBUSxLQUFPLEdBQ2YsR0FBUSxlQUFpQixHQUN6QixHQUFRLGVBQWlCLEdBRXpCLEdBQVEsU0FBVyxHQUNuQixHQUFRLFlBQWMsR0FDdEIsR0FBUSxjQUFnQixHQUN4QixHQUFRLGNBQWdCLEdBRXhCLEdBQVEsY0FBZ0IsR0FDeEIsR0FBUSxtQkFBcUIsR0FDN0IsR0FBUSxpQkFBbUIsR0FFM0IsR0FBUSxLQUFPLEdBQ2YsR0FBUSxTQUFXLEdBRW5CLFlBQWUsRUFBUSxFQUFPLEVBQU8sRUFBUSxDQUN6QyxHQUFJLEdBQVMsS0FDVCxFQUFNLEtBQVksSUFBSSxFQUFRLEdBQ2xDLE1BQU8sR0FBTyxHQUFPLEVBQUssR0FHOUIsWUFBd0IsRUFBUSxFQUFPLEVBQU8sQ0FRMUMsR0FQSSxHQUFTLElBQ1QsR0FBUSxFQUNSLEVBQVMsUUFHYixFQUFTLEdBQVUsR0FFZixHQUFTLEtBQ1QsTUFBTyxJQUFNLEVBQVEsRUFBTyxFQUFPLFNBR3ZDLEdBQUksR0FDQSxFQUFNLEdBQ1YsSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFJLElBQ2hCLEVBQUksR0FBSyxHQUFNLEVBQVEsRUFBRyxFQUFPLFNBRXJDLE1BQU8sR0FXWCxZQUEwQixFQUFjLEVBQVEsRUFBTyxFQUFPLENBQzFELEFBQUksTUFBTyxJQUFpQixVQUNwQixJQUFTLElBQ1QsR0FBUSxFQUNSLEVBQVMsUUFHYixFQUFTLEdBQVUsSUFFbkIsR0FBUyxFQUNULEVBQVEsRUFDUixFQUFlLEdBRVgsR0FBUyxJQUNULEdBQVEsRUFDUixFQUFTLFFBR2IsRUFBUyxHQUFVLElBR3ZCLEdBQUksR0FBUyxLQUNULEVBQVEsRUFBZSxFQUFPLE1BQU0sSUFBTSxFQUMxQyxFQUNBLEVBQU0sR0FFVixHQUFJLEdBQVMsS0FDVCxNQUFPLElBQU0sRUFBUyxHQUFRLEdBQVMsRUFBRyxFQUFPLE9BR3JELElBQUssRUFBSSxFQUFHLEVBQUksRUFBRyxJQUNmLEVBQUksR0FBSyxHQUFNLEVBQVMsR0FBSSxHQUFTLEVBQUcsRUFBTyxPQUVuRCxNQUFPLEdBR1gsWUFBb0IsRUFBUSxFQUFPLENBQy9CLE1BQU8sSUFBZSxFQUFRLEVBQU8sVUFHekMsWUFBeUIsRUFBUSxFQUFPLENBQ3BDLE1BQU8sSUFBZSxFQUFRLEVBQU8sZUFHekMsWUFBc0IsRUFBYyxFQUFRLEVBQU8sQ0FDL0MsTUFBTyxJQUFpQixFQUFjLEVBQVEsRUFBTyxZQUd6RCxZQUEyQixFQUFjLEVBQVEsRUFBTyxDQUNwRCxNQUFPLElBQWlCLEVBQWMsRUFBUSxFQUFPLGlCQUd6RCxZQUF5QixFQUFjLEVBQVEsRUFBTyxDQUNsRCxNQUFPLElBQWlCLEVBQWMsRUFBUSxFQUFPLGVBR3pELEdBQW1CLEtBQU0sQ0FDckIsS0FBTSxDQUNGLENBQ0ksTUFBTyxhQUNQLE1BQU8sSUFDUCxPQUFRLEVBQ1IsS0FBTSxjQUNOLE9BQVEsS0FDUixLQUFNLE1BRVYsQ0FDSSxNQUFPLGFBQ1AsTUFBTyxLQUNQLE9BQVEsRUFDUixLQUFNLGdCQUNOLE9BQVEsS0FDUixLQUFNLE9BR2QsdUJBQXdCLHVCQUN4QixRQUFTLFNBQVUsRUFBUSxDQUN2QixHQUFJLEdBQUksRUFBUyxHQUNiLEVBQ0ksR0FBTyxFQUFTLElBQU8sTUFBUSxFQUN6QixLQUNBLElBQU0sRUFDTixLQUNBLElBQU0sRUFDTixLQUNBLElBQU0sRUFDTixLQUNBLEtBQ2QsTUFBTyxHQUFTLEtBTXhCLEdBQU0sS0FBTyxHQUNULHdEQUNBLElBRUosR0FBTSxTQUFXLEdBQ2IsZ0VBQ0EsSUFHSixHQUFJLElBQVUsS0FBSyxJQUVuQixhQUFlLENBQ1gsR0FBSSxHQUFPLEtBQUssTUFFaEIsWUFBSyxjQUFnQixHQUFRLEtBQUssZUFDbEMsS0FBSyxNQUFRLEdBQVEsS0FBSyxPQUMxQixLQUFLLFFBQVUsR0FBUSxLQUFLLFNBRTVCLEVBQUssYUFBZSxHQUFRLEVBQUssY0FDakMsRUFBSyxRQUFVLEdBQVEsRUFBSyxTQUM1QixFQUFLLFFBQVUsR0FBUSxFQUFLLFNBQzVCLEVBQUssTUFBUSxHQUFRLEVBQUssT0FDMUIsRUFBSyxPQUFTLEdBQVEsRUFBSyxRQUMzQixFQUFLLE1BQVEsR0FBUSxFQUFLLE9BRW5CLEtBR1gsWUFBdUIsRUFBVSxFQUFPLEVBQU8sRUFBVyxDQUN0RCxHQUFJLEdBQVEsR0FBZSxFQUFPLEdBRWxDLFNBQVMsZUFBaUIsRUFBWSxFQUFNLGNBQzVDLEVBQVMsT0FBUyxFQUFZLEVBQU0sTUFDcEMsRUFBUyxTQUFXLEVBQVksRUFBTSxRQUUvQixFQUFTLFVBSXBCLFlBQWUsRUFBTyxFQUFPLENBQ3pCLE1BQU8sSUFBYyxLQUFNLEVBQU8sRUFBTyxHQUk3QyxZQUFvQixFQUFPLEVBQU8sQ0FDOUIsTUFBTyxJQUFjLEtBQU0sRUFBTyxFQUFPLElBRzdDLFlBQWlCLEVBQVEsQ0FDckIsTUFBSSxHQUFTLEVBQ0YsS0FBSyxNQUFNLEdBRVgsS0FBSyxLQUFLLEdBSXpCLGFBQWtCLENBQ2QsR0FBSSxHQUFlLEtBQUssY0FDcEIsRUFBTyxLQUFLLE1BQ1osRUFBUyxLQUFLLFFBQ2QsRUFBTyxLQUFLLE1BQ1osRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUlKLE1BRVMsSUFBZ0IsR0FBSyxHQUFRLEdBQUssR0FBVSxHQUM1QyxHQUFnQixHQUFLLEdBQVEsR0FBSyxHQUFVLEdBR2pELElBQWdCLEdBQVEsR0FBYSxHQUFVLEdBQVEsTUFDdkQsRUFBTyxFQUNQLEVBQVMsR0FLYixFQUFLLGFBQWUsRUFBZSxJQUVuQyxFQUFVLEdBQVMsRUFBZSxLQUNsQyxFQUFLLFFBQVUsRUFBVSxHQUV6QixFQUFVLEdBQVMsRUFBVSxJQUM3QixFQUFLLFFBQVUsRUFBVSxHQUV6QixFQUFRLEdBQVMsRUFBVSxJQUMzQixFQUFLLE1BQVEsRUFBUSxHQUVyQixHQUFRLEdBQVMsRUFBUSxJQUd6QixFQUFpQixHQUFTLEdBQWEsSUFDdkMsR0FBVSxFQUNWLEdBQVEsR0FBUSxHQUFhLElBRzdCLEVBQVEsR0FBUyxFQUFTLElBQzFCLEdBQVUsR0FFVixFQUFLLEtBQU8sRUFDWixFQUFLLE9BQVMsRUFDZCxFQUFLLE1BQVEsRUFFTixLQUdYLFlBQXNCLEVBQU0sQ0FHeEIsTUFBUSxHQUFPLEtBQVEsT0FHM0IsWUFBc0IsRUFBUSxDQUUxQixNQUFRLEdBQVMsT0FBVSxLQUcvQixZQUFZLEVBQU8sQ0FDZixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sS0FFWCxHQUFJLEdBQ0EsRUFDQSxFQUFlLEtBQUssY0FJeEIsR0FGQSxFQUFRLEdBQWUsR0FFbkIsSUFBVSxTQUFXLElBQVUsV0FBYSxJQUFVLE9BR3RELE9BRkEsRUFBTyxLQUFLLE1BQVEsRUFBZSxNQUNuQyxFQUFTLEtBQUssUUFBVSxHQUFhLEdBQzdCLE9BQ0MsUUFDRCxNQUFPLE9BQ04sVUFDRCxNQUFPLEdBQVMsTUFDZixPQUNELE1BQU8sR0FBUyxPQUt4QixRQURBLEVBQU8sS0FBSyxNQUFRLEtBQUssTUFBTSxHQUFhLEtBQUssVUFDekMsT0FDQyxPQUNELE1BQU8sR0FBTyxFQUFJLEVBQWUsV0FDaEMsTUFDRCxNQUFPLEdBQU8sRUFBZSxVQUM1QixPQUNELE1BQU8sR0FBTyxHQUFLLEVBQWUsU0FDakMsU0FDRCxNQUFPLEdBQU8sS0FBTyxFQUFlLFFBQ25DLFNBQ0QsTUFBTyxHQUFPLE1BQVEsRUFBZSxRQUVwQyxjQUNELE1BQU8sTUFBSyxNQUFNLEVBQU8sT0FBUyxVQUVsQyxLQUFNLElBQUksT0FBTSxnQkFBa0IsSUFNbEQsYUFBcUIsQ0FDakIsTUFBSyxNQUFLLFVBSU4sS0FBSyxjQUNMLEtBQUssTUFBUSxNQUNaLEtBQUssUUFBVSxHQUFNLE9BQ3RCLEdBQU0sS0FBSyxRQUFVLElBQU0sUUFOcEIsSUFVZixZQUFnQixFQUFPLENBQ25CLE1BQU8sV0FBWSxDQUNmLE1BQU8sTUFBSyxHQUFHLElBSXZCLEdBQUksSUFBaUIsR0FBTyxNQUN4QixHQUFZLEdBQU8sS0FDbkIsR0FBWSxHQUFPLEtBQ25CLEdBQVUsR0FBTyxLQUNqQixHQUFTLEdBQU8sS0FDaEIsR0FBVSxHQUFPLEtBQ2pCLEdBQVcsR0FBTyxLQUNsQixHQUFhLEdBQU8sS0FDcEIsR0FBVSxHQUFPLEtBRXJCLGFBQW1CLENBQ2YsTUFBTyxJQUFlLE1BRzFCLFlBQWUsRUFBTyxDQUNsQixTQUFRLEdBQWUsR0FDaEIsS0FBSyxVQUFZLEtBQUssRUFBUSxPQUFTLElBR2xELFlBQW9CLEVBQU0sQ0FDdEIsTUFBTyxXQUFZLENBQ2YsTUFBTyxNQUFLLFVBQVksS0FBSyxNQUFNLEdBQVEsS0FJbkQsR0FBSSxJQUFlLEdBQVcsZ0JBQzFCLEdBQVUsR0FBVyxXQUNyQixHQUFVLEdBQVcsV0FDckIsR0FBUSxHQUFXLFNBQ25CLEdBQU8sR0FBVyxRQUNsQixHQUFTLEdBQVcsVUFDcEIsR0FBUSxHQUFXLFNBRXZCLGFBQWlCLENBQ2IsTUFBTyxJQUFTLEtBQUssT0FBUyxHQUdsQyxHQUFJLElBQVEsS0FBSyxNQUNiLEdBQWEsQ0FDVCxHQUFJLEdBQ0osRUFBRyxHQUNILEVBQUcsR0FDSCxFQUFHLEdBQ0gsRUFBRyxHQUNILEVBQUcsS0FDSCxFQUFHLElBSVgsWUFBMkIsRUFBUSxFQUFRLEVBQWUsRUFBVSxFQUFRLENBQ3hFLE1BQU8sR0FBTyxhQUFhLEdBQVUsRUFBRyxDQUFDLENBQUMsRUFBZSxFQUFRLEdBR3JFLFlBQXdCLEVBQWdCLEVBQWUsRUFBWSxFQUFRLENBQ3ZFLEdBQUksR0FBVyxHQUFlLEdBQWdCLE1BQzFDLEVBQVUsR0FBTSxFQUFTLEdBQUcsTUFDNUIsRUFBVSxHQUFNLEVBQVMsR0FBRyxNQUM1QixFQUFRLEdBQU0sRUFBUyxHQUFHLE1BQzFCLEVBQU8sR0FBTSxFQUFTLEdBQUcsTUFDekIsRUFBUyxHQUFNLEVBQVMsR0FBRyxNQUMzQixFQUFRLEdBQU0sRUFBUyxHQUFHLE1BQzFCLEVBQVEsR0FBTSxFQUFTLEdBQUcsTUFDMUIsRUFDSyxHQUFXLEVBQVcsSUFBTSxDQUFDLElBQUssSUFDbEMsRUFBVSxFQUFXLEdBQUssQ0FBQyxLQUFNLElBQ2pDLEdBQVcsR0FBSyxDQUFDLE1BQ2pCLEVBQVUsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUNqQyxHQUFTLEdBQUssQ0FBQyxNQUNmLEVBQVEsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUMvQixHQUFRLEdBQUssQ0FBQyxNQUNkLEVBQU8sRUFBVyxHQUFLLENBQUMsS0FBTSxHQUV2QyxNQUFJLEdBQVcsR0FBSyxNQUNoQixHQUNJLEdBQ0MsR0FBUyxHQUFLLENBQUMsTUFDZixFQUFRLEVBQVcsR0FBSyxDQUFDLEtBQU0sSUFFeEMsRUFBSSxHQUNDLEdBQVUsR0FBSyxDQUFDLE1BQ2hCLEVBQVMsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUNoQyxHQUFTLEdBQUssQ0FBQyxNQUFTLENBQUMsS0FBTSxHQUVwQyxFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssQ0FBQyxFQUFpQixFQUN6QixFQUFFLEdBQUssRUFDQSxHQUFrQixNQUFNLEtBQU0sR0FJekMsWUFBb0MsRUFBa0IsQ0FDbEQsTUFBSSxLQUFxQixPQUNkLEdBRVAsTUFBTyxJQUFxQixXQUM1QixJQUFRLEVBQ0QsSUFFSixHQUlYLFlBQXFDLEVBQVcsRUFBTyxDQUNuRCxNQUFJLElBQVcsS0FBZSxPQUNuQixHQUVQLElBQVUsT0FDSCxHQUFXLEdBRXRCLElBQVcsR0FBYSxFQUNwQixJQUFjLEtBQ2QsSUFBVyxHQUFLLEVBQVEsR0FFckIsSUFHWCxZQUFrQixFQUFlLEVBQWUsQ0FDNUMsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLE1BQUssYUFBYSxjQUc3QixHQUFJLEdBQWEsR0FDYixFQUFLLEdBQ0wsRUFDQSxFQUVKLE1BQUksT0FBTyxJQUFrQixVQUN6QixHQUFnQixFQUNoQixFQUFnQixJQUVoQixNQUFPLElBQWtCLFdBQ3pCLEdBQWEsR0FFYixNQUFPLElBQWtCLFVBQ3pCLEdBQUssT0FBTyxPQUFPLEdBQUksR0FBWSxHQUMvQixFQUFjLEdBQUssTUFBUSxFQUFjLElBQU0sTUFDL0MsR0FBRyxHQUFLLEVBQWMsRUFBSSxJQUlsQyxFQUFTLEtBQUssYUFDZCxFQUFTLEdBQWUsS0FBTSxDQUFDLEVBQVksRUFBSSxHQUUzQyxHQUNBLEdBQVMsRUFBTyxXQUFXLENBQUMsS0FBTSxJQUcvQixFQUFPLFdBQVcsR0FHN0IsR0FBSSxJQUFRLEtBQUssSUFFakIsWUFBYyxFQUFHLENBQ2IsTUFBUSxHQUFJLEdBQU0sR0FBSSxJQUFNLENBQUMsRUFHakMsYUFBeUIsQ0FRckIsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLE1BQUssYUFBYSxjQUc3QixHQUFJLEdBQVUsR0FBTSxLQUFLLGVBQWlCLElBQ3RDLEVBQU8sR0FBTSxLQUFLLE9BQ2xCLEVBQVMsR0FBTSxLQUFLLFNBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBUSxLQUFLLFlBQ2IsRUFDQSxFQUNBLEVBQ0EsRUFFSixNQUFLLEdBT0wsR0FBVSxHQUFTLEVBQVUsSUFDN0IsRUFBUSxHQUFTLEVBQVUsSUFDM0IsR0FBVyxHQUNYLEdBQVcsR0FHWCxFQUFRLEdBQVMsRUFBUyxJQUMxQixHQUFVLEdBR1YsRUFBSSxFQUFVLEVBQVEsUUFBUSxHQUFHLFFBQVEsU0FBVSxJQUFNLEdBRXpELEVBQVksRUFBUSxFQUFJLElBQU0sR0FDOUIsRUFBUyxHQUFLLEtBQUssV0FBYSxHQUFLLEdBQVMsSUFBTSxHQUNwRCxFQUFXLEdBQUssS0FBSyxTQUFXLEdBQUssR0FBUyxJQUFNLEdBQ3BELEVBQVUsR0FBSyxLQUFLLGlCQUFtQixHQUFLLEdBQVMsSUFBTSxHQUd2RCxFQUNBLElBQ0MsR0FBUSxFQUFTLEVBQVEsSUFBTSxJQUMvQixHQUFTLEVBQVMsRUFBUyxJQUFNLElBQ2pDLEdBQU8sRUFBVyxFQUFPLElBQU0sSUFDL0IsSUFBUyxHQUFXLEVBQVUsSUFBTSxJQUNwQyxHQUFRLEVBQVUsRUFBUSxJQUFNLElBQ2hDLEdBQVUsRUFBVSxFQUFVLElBQU0sSUFDcEMsR0FBVSxFQUFVLEVBQUksSUFBTSxLQTlCeEIsTUFrQ2YsR0FBSSxJQUFVLEdBQVMsVUFFdkIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsSUFBTSxHQUNkLEdBQVEsSUFBTSxHQUNkLEdBQVEsU0FBVyxHQUNuQixHQUFRLEdBQUssR0FDYixHQUFRLGVBQWlCLEdBQ3pCLEdBQVEsVUFBWSxHQUNwQixHQUFRLFVBQVksR0FDcEIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsT0FBUyxHQUNqQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsV0FBYSxHQUNyQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsUUFBVSxHQUNsQixHQUFRLE1BQVEsR0FDaEIsR0FBUSxJQUFNLEdBQ2QsR0FBUSxhQUFlLEdBQ3ZCLEdBQVEsUUFBVSxHQUNsQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxNQUFRLEdBQ2hCLEdBQVEsS0FBTyxHQUNmLEdBQVEsTUFBUSxHQUNoQixHQUFRLE9BQVMsR0FDakIsR0FBUSxNQUFRLEdBQ2hCLEdBQVEsU0FBVyxHQUNuQixHQUFRLFlBQWMsR0FDdEIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsT0FBUyxHQUNqQixHQUFRLE9BQVMsR0FDakIsR0FBUSxXQUFhLEdBRXJCLEdBQVEsWUFBYyxHQUNsQixzRkFDQSxJQUVKLEdBQVEsS0FBTyxHQUlmLEdBQWUsSUFBSyxFQUFHLEVBQUcsUUFDMUIsR0FBZSxJQUFLLEVBQUcsRUFBRyxXQUkxQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQy9DLEVBQU8sR0FBSyxHQUFJLE1BQUssV0FBVyxHQUFTLE9BRTdDLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQy9DLEVBQU8sR0FBSyxHQUFJLE1BQUssR0FBTSxNQUcvQjtBQUVBLEdBQU0sUUFBVSxTQUVoQixHQUFnQixJQUVoQixHQUFNLEdBQUssR0FDWCxHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLEtBQU8sR0FDYixHQUFNLE9BQVMsR0FDZixHQUFNLE9BQVMsR0FDZixHQUFNLE9BQVMsR0FDZixHQUFNLFFBQVUsR0FDaEIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sU0FBVyxHQUNqQixHQUFNLFNBQVcsR0FDakIsR0FBTSxVQUFZLEdBQ2xCLEdBQU0sV0FBYSxHQUNuQixHQUFNLFdBQWEsR0FDbkIsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sWUFBYyxHQUNwQixHQUFNLGFBQWUsR0FDckIsR0FBTSxhQUFlLEdBQ3JCLEdBQU0sUUFBVSxHQUNoQixHQUFNLGNBQWdCLEdBQ3RCLEdBQU0sZUFBaUIsR0FDdkIsR0FBTSxxQkFBdUIsR0FDN0IsR0FBTSxzQkFBd0IsR0FDOUIsR0FBTSxlQUFpQixHQUN2QixHQUFNLFVBQVksR0FHbEIsR0FBTSxVQUFZLENBQ2QsZUFBZ0IsbUJBQ2hCLHVCQUF3QixzQkFDeEIsa0JBQW1CLDBCQUNuQixLQUFNLGFBQ04sS0FBTSxRQUNOLGFBQWMsV0FDZCxRQUFTLGVBQ1QsS0FBTSxhQUNOLE1BQU8sV0M3OUtYLEtBQU10SSxJQUFRLEdBQVksQ0FDeEIsU0FBVSxDQUNSLFNBQVUsR0FDVixNQUFPLEVBQ1AsS0FBTSxFQUNOLE1BQU8sRUFDUCxhQUFjLEdBQ2Qsd0JBQXlCLElBRTNCLGlCQUFrQixHQUNsQixhQUFjLENBQ1osR0FBSSxHQUNKLEtBQU0sSUFFUixnQkFBaUIsR0FDakIsb0JBQXFCLEdBQ3JCLGtCQUFtQixHQUNuQix3QkFBeUIsR0FDekIsdUJBQXdCLEtBR2IsR0FBYyxDQUFDLEVBQUcsYUFDckIsVUFBVSxLQUFLLElBQU0sR0FBYSxJQUNuQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBZSxBQUFDLEdBQWdDLElBQ2hELEdBQVcsRUFBYSxFQUFpQyxFQUF3QixLQUMvRSxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQVEsVUFDVCwyQkFDVyxJQUNGQSxHQUFNLFNBQVMsUUFDakIsTUFBUSxFQUFZLFFBQ3BCLEtBQU8sRUFBWSxPQUNuQixNQUFRLEVBQVksUUFDVixFQUFVLFdBQ3BCLGFBQWUsS0FDYixTQUFTLFFBQVEsQUFBQyxHQUFZLENBQ3BDLEVBQWtCLEVBQVEsS0FBTyxTQUMzQixhQUFlLEtBQ2YsTUFBUSxJQUNSLEtBQU8sSUFDUCxNQUFRLElBQ0UsRUFBUSxJQUFNLE9BRzFCLFNBQVcsRUFDZCxFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLG1CQUNXLE9BQ1IsR0FBYSxFQUFZLFFBQ3pCLEVBQWMsRUFBWSxpQkFDcEIsRUFBRSxTQUFTLFFBQ0gsRUFBVSxTQUMxQixJQUFnQixXQUFZLE1BQ3hCLEdBQXdCLFVBQ3ZCLFFBQVEsR0FBbUIsUUFBUSxDQUFDLENBQUMsRUFBSyxLQUFXLENBQ3RELEVBQU0sY0FBZ0IsZUFBa0MsR0FBTyxPQUVqRCxLQUVsQixHQUFZLElBQU0sTUFBUSxFQUFrQixFQUFXLEtBQU8sU0FDckQsYUFBZSxLQUNmLE1BQVEsS0FDUixLQUFPLElBQ1AsTUFBUSxJQUNELEVBQVcsSUFBTSxLQUUzQixTQUFXLElBQ1YsRUFBRSxNQUFNLENBQUUsU0FBVSxJQUMzQixJQUFnQixXQUFZLE1BQ3hCLEdBQVcsRUFBRSxTQUFTLFFBQ25CLHdCQUEwQixLQUN4QixFQUFFLE1BQU0sQ0FBRSx1QkFBd0IsR0FBTSxtQkFFOUMsT0FDSixvQkFDVyxPQUNSLEdBQVksRUFBWSxRQUFRLFVBQ2hDLEVBQVcsRUFBWSxjQUNqQixFQUFFLFNBQVMsUUFDSCxFQUFVLFdBQ0wsRUFBa0IsR0FDdkMsR0FBMEIsT0FDbEIsYUFBZSxNQUVGLFNBQ3JCLEVBQXVCLFVBQVksTUFDbkMsRUFBdUIsU0FBUyxNQUFRLE1BQ3hDLEVBQXVCLGVBQWlCLEdBQ3BDLENBQUMsRUFBWSxTQUNiLEdBQUUsUUFBUSxFQUF1QixTQUFVLENBQUMsRUFBWSxTQUFVLFFBQ2pELEtBQU8sRUFBdUIsS0FBTyxJQUNyQyxVQUFZdUksS0FBUyxNQUFNLFdBQ2hDLEdBQWEsSUFDckIsU0FBVyxLQUVaLEVBQUUsTUFBTSxDQUFFLFNBQVUsRUFBVyxvQkFBcUIsS0FFM0QsRUFBRSxnQkFBZ0IsTUFBTSxTQUFXLEdBQUssR0FBMEIsS0FBTSxNQUNwRSxHQUFjLEVBQXVCLFlBQ3JDLEVBQ0osSUFBZ0IsT0FDWixFQUF1QixVQUFZLEVBQVMsR0FDMUMsRUFBdUIsTUFDdkIsRUFBdUIsTUFDekIsSUFBZ0IsUUFDaEIsRUFBdUIsTUFDdkIsSUFBZ0IsV0FDaEIsRUFBdUIsU0FDdkIsRUFBdUIsUUFDbEIsRUFBRSxNQUFNLENBQUUsZ0JBQWlCLEVBQVcsaUJBQWtCLEVBQWEsYUFBYyxVQUV6RixPQUNKLDJCQUNXLElBQ0YsRUFBRSxTQUFTLFFBQ0gsRUFBVSxXQUNMLEVBQWtCLEVBQVksYUFDaEMsU0FDckIsRUFBdUIsVUFBWSxNQUNuQyxFQUF1QixTQUFTLE1BQVEsTUFDeEMsRUFBdUIsZUFBaUIsR0FDcEMsRUFBWSxTQUNaLEdBQUUsUUFBUSxFQUF1QixTQUFVLEVBQVksU0FBVSxRQUNoRCxNQUFRLEVBQVksUUFDcEIsS0FBTyxFQUFZLE9BQ25CLE1BQVEsRUFBWSxRQUNwQixhQUFlLEtBQ3BCLEVBQVksV0FBYSxFQUVwQyxFQUFFLFNBQVMsTUFBTSxDQUFFLFNBQVUsUUFDakMsMkJBQ1csSUFDRixFQUFFLFNBQVMsUUFFSCxFQUFVLFdBQ0wsRUFBa0IsRUFBWSxRQUFRLFdBQzNELEdBQTBCLFVBQzFCLE9BQU8sRUFBdUIsU0FBVSxBQUFDLEdBQXFCLEVBQVEsS0FBTyxFQUFZLFFBQVEsTUFDNUUsS0FBTyxFQUF1QixLQUFPLElBQzFDLEVBQVksUUFBUSxXQUFhLElBQ3pDLFNBQVcsR0FFaEIsRUFBRSxNQUFNLENBQUUsU0FBVSxRQUN4QiwyQkFDVyxJQUNGLEVBQUUsU0FBUyxRQUVILEVBQVUsV0FDTCxFQUFrQixFQUFZLFFBQVEsV0FDM0QsR0FBMEIsU0FDTCxTQUFXLEVBQXVCLFNBQVMsSUFBSSxBQUFDLEdBQ3JFLEVBQVEsS0FBTyxFQUFZLFFBQVEsR0FBSyxFQUFZLFFBQVUsS0FHOUMsRUFBWSxRQUFRLFdBQWEsSUFDekMsU0FBVyxHQUVoQixFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLG9CQUNXLE9BQ1IsR0FBaUIsRUFBWSxpQkFDdkIsRUFBRSxTQUFTLFFBQ0gsRUFBVSxXQUVmLGFBQWUsS0FDZixNQUFRLEtBQ1IsS0FBTyxJQUNQLE1BQVEsSUFDTCxFQUFlLElBQU0sSUFDN0IsU0FBVyxFQUNkLEVBQUUsTUFBTSxDQUFFLFNBQVUsUUFDeEIsb0JBQ1csT0FDUixHQUFnQixFQUFZLGlCQUN0QixFQUFFLFNBQVMsUUFFSCxFQUFVLFdBQ0wsRUFBa0IsRUFBWSxRQUFRLElBQzNELEdBQTBCLFNBQ0wsVUFBWSxFQUFjLFlBQzFCLE1BQVEsRUFBYyxRQUN0QixTQUFXLEVBQWMsV0FDekIsTUFBUSxFQUFjLFFBQ3RCLE1BQVEsRUFBYyxRQUN0QixNQUFRLEVBQWMsUUFDM0IsRUFBWSxRQUFRLElBQU0sSUFDbEMsU0FBVyxHQUVoQixFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLDJCQUNXLEVBQ1AsRUFBRSxTQUFTLFNBQVMsRUFBWSxRQUFRLElBQUksSUFBSSxRQUVwRCx1QkFDRyxDQUFFLG1CQUFrQixlQUFjLG1CQUFvQixRQUNyRCxHQUFFLE1BQU0sQ0FDYixtQkFDQSxlQUNBLGtCQUNBLG9CQUFxQixHQUNyQixrQkFBbUIsU0FHbEIsK0JBQ0csQ0FBRSxTQUFVLFFBQ1gsR0FBRSxNQUFNLENBQUUsa0JBQW1CLFFBQ2pDLGtDQUNJLEdBQUUsU0FBUyxNQUFNLENBQUUsd0JBQXlCLFNBQ2hELGtDQUNJLEdBQUUsTUFBTSxDQUFFLG9CQUFxQixFQUFPLFVBR2hELEVBQU8sT0MvUU52SSxHQUFRLEdBQVksQ0FDeEIsUUFBUyxDQUNQLFFBQVMsR0FDVCxNQUFPLEVBQ1AsTUFBTyxFQUNQLEtBQU0sR0FFUixxQkFBc0IsR0FDdEIsYUFBYyxLQUdILEdBQWdCLENBQUMsRUFBRyxhQUN2QixVQUFVLEtBQUssSUFBTSxHQUFlLElBQ3JDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFpQixBQUFDLEdBQWtDLElBQ3BELEdBQVcsRUFBVSxFQUFXLEtBQzlCLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLDBCQUNTLEVBQ1IsRUFBRSxhQUFhLFFBQVUsS0FDekIsUUFBUSxRQUFRLElBQUksRUFBVSxXQUU5QixRQUFRLFFBQVEsSUFBSSxDQUFDLEVBQUUsUUFBUSxRQUFRLE1BQU8sRUFBVSxZQUUxRCxRQUFRLEtBQUssSUFBSSxFQUFVLFFBQzNCLFFBQVEsTUFBTSxJQUFJLEVBQVUsU0FDNUIsUUFBUSxNQUFNLElBQUksRUFBVSxTQUM1QixhQUFhLElBQUksSUFDWixFQUFFLHFCQUFxQixJQUFJLFFBRS9CLG1CQUNTLE9BQ04sR0FBMEIsRUFBVSxtQkFDeEMsUUFBUSxRQUFRLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxRQUFRLE1BQU8sUUFDaEQsbUJBQ1MsT0FDTixHQUEwQixFQUFVLG1CQUMvQixFQUFVLFdBRW5CLEVBQXdCLFNBQVcsRUFBUyxHQUN4QyxFQUF3QixZQUN4QixFQUF3QixVQUV4QixHQUFxQixFQUFFLFFBQVEsUUFBUSxNQUFNLFVBQVUsQUFBQyxHQUNyRCxHQUFjLE1BQVEsRUFBVyxLQUFPLEVBQVUsVUFFdkQsS0FBdUIsR0FDbEIsRUFBRSxRQUFRLFFBQVEsSUFBSSxDQUFDLEdBQUcsRUFBRSxRQUFRLFFBQVEsTUFBTyxJQUVuRCxFQUFFLFFBQVEsUUFBUSxHQUFvQixJQUFJLE9BR2hELG1CQUNTLE9BQ04sR0FBMEIsRUFBVSxtQkFDL0IsRUFBVSxXQUVuQixFQUF3QixTQUFXLEVBQVMsR0FDeEMsRUFBd0IsY0FDeEIsRUFBd0IsWUFFeEIsR0FBVyxFQUFFLFFBQVEsUUFBUSxNQUFNLFVBQVUsQUFBQyxHQUMzQyxHQUFjLE1BQVEsRUFBVyxLQUFPLFNBRzFDLEdBQUUsUUFBUSxRQUFRLEdBQVUsSUFBSSxRQUNwQyx5QkFDSSxHQUFFLHFCQUFxQixJQUFJLE1BRXJDLEVBQU8sT0N4RU5BLEdBQVEsR0FBWSxDQUN4QixVQUFXLENBQ1QsVUFBVyxHQUNYLE1BQU8sRUFDUCxNQUFPLEdBQ1AsS0FBTSxHQUVSLGdCQUFpQixDQUNmLFNBQVUsR0FDVixZQUFhLElBRWYsYUFBYyxHQUNkLDRCQUE2QixHQUM3Qix3QkFBeUIsR0FDekIsZ0JBQWlCLEtBR04sR0FBa0IsQ0FBQyxFQUFHLGFBQ3pCLFVBQVUsS0FBSyxJQUFNLEdBQWlCLElBQ3ZDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFtQixBQUFDLEdBQW9DLElBQ3hELE1BQ0UsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsK0JBQ1MsRUFBTyxVQUVmLEVBQUUsVUFBVSxXQUFhLE1BQVEsRUFBRSxhQUFhLFFBQVUsS0FDMUQsVUFBVSxVQUFVLElBQUksRUFBVSxRQUVsQyxVQUFVLFVBQVUsSUFBSSxDQUFDLEdBQUcsRUFBRSxVQUFVLFVBQVUsTUFBTyxHQUFHLEVBQVUsU0FHeEUsVUFBVSxLQUFLLElBQUksRUFBVSxRQUM3QixVQUFVLE1BQU0sSUFBSSxFQUFVLFNBQzlCLFVBQVUsTUFBTSxJQUFJLEVBQVUsT0FDekIsRUFBRSxhQUFhLElBQUksUUFFdkIsK0JBQ0ksR0FBRSx3QkFBd0IsSUFBSSxRQUVsQyx1QkFDUyxFQUFPLFdBQ1QsaUJBQW1CLEVBQVUsb0JBRW5DLEdBQWMsWUFDUixlQUFlLFFBQVEsQUFBQyxHQUFRLEdBQzVCLEtBQUssRUFBSSxZQUVULENBQUMsR0FBRyxHQUFJLEtBQUksTUFFeEIsZ0JBQWdCLFNBQVMsSUFBSSxLQUM3QixnQkFBZ0IsWUFBWSxJQUFJLEtBQ2hDLDRCQUE0QixJQUFJLElBQzNCLEVBQUUsd0JBQXdCLElBQUksUUFFbEMsOEJBQ0QsZ0JBQWdCLE1BQU0sQ0FBRSxTQUFVLEdBQUksWUFBYSxPQUNuRCw0QkFBNEIsSUFBSSxNQUNoQyx3QkFBd0IsSUFBSSxJQUN2QixFQUFFLGdCQUFnQixJQUFJLFFBRTFCLDZCQUNJLEdBQUUsNEJBQTRCLElBQUksTUFFNUMsRUFBTyxPQUdDLEdBQXNCLElBQU1BLEdDckVuQ0EsR0FBUSxHQUFZLENBQ3hCLE9BQVEsQ0FDTixPQUFRLEdBQ1IsTUFBTyxFQUNQLE1BQU8sRUFDUCxLQUFNLEdBRVIsZ0JBQWlCLENBQ2YsT0FBUSxHQUNSLE1BQU8sRUFDUCxNQUFPLEVBQ1AsS0FBTSxHQUVSLDZCQUE4QixHQUM5QixvQkFBcUIsR0FDckIsc0JBQXVCLEdBQ3ZCLGFBQWMsR0FDZCxhQUFjLEtBR0gsR0FBZSxDQUFDLEVBQUcsYUFDdEIsVUFBVSxLQUFLLElBQU0sR0FBYyxJQUNwQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBZ0IsQUFBQyxHQUFpQyxJQUNsRCxHQUNGLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEtBQ0ksTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IseUJBQ1MsRUFDUixFQUFFLGFBQWEsUUFBVSxLQUN6QixPQUFPLE9BQU8sSUFBSSxFQUFVLFVBRTVCLE9BQU8sT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU8sT0FBTyxNQUFPLEdBQUcsRUFBVSxXQUU1RCxPQUFPLE1BQU0sQ0FBRSxLQUFNLEVBQVUsS0FBTSxNQUFPLEVBQVUsTUFBTyxNQUFPLEVBQVUsVUFDOUUsYUFBYSxJQUFJLElBQ1osRUFBRSxvQkFBb0IsSUFBSSxRQUU5QixtQ0FDUyxFQUVSLEVBQUUsYUFBYSxRQUFVLEtBQ3pCLGdCQUFnQixPQUFPLElBQUksRUFBVSxVQUVyQyxnQkFBZ0IsT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFLGdCQUFnQixPQUFPLE1BQU8sR0FBRyxFQUFVLFdBRTlFLGdCQUFnQixLQUFLLElBQUksRUFBVSxRQUNuQyxnQkFBZ0IsTUFBTSxJQUFJLEVBQVUsU0FDcEMsZ0JBQWdCLE1BQU0sSUFBSSxFQUFVLE9BQy9CLEVBQUUsTUFBTSxDQUFFLHNCQUF1QixHQUFPLDZCQUE4QixTQUUxRSx5QkFDUyxFQUNMLEVBQUUsTUFBTSxDQUFFLGFBQWMsR0FBTSxzQkFBdUIsU0FDekQseUJBQ1MsSUFDRSxFQUFVLFFBRVgsRUFBRSxPQUFPLE9BQU8sTUFBTSxVQUFVLEFBQUMsR0FDckMsR0FBYSxNQUFRLEVBQVUsS0FBTyxFQUFVLFNBRXJELElBQWUsR0FDVixFQUFFLE9BQU8sT0FBTyxHQUFZLElBQUksR0FFbEMsTUFDSix5QkFDRCxhQUFhLElBQUksSUFDWixFQUFFLHNCQUFzQixJQUFJLFFBQ2hDLDJCQUNJLE9BRUosbUJBQ0ksR0FBRSxhQUFhLElBQUksUUFDdkIsd0JBQ0ksR0FBRSxvQkFBb0IsSUFBSSxRQUM5QixrQ0FDSSxHQUFFLDZCQUE2QixJQUFJLFFBQ3ZDLDBCQUNTLElBQ0EsRUFBVSxZQUNWLEVBQUUsT0FBTyxRQUNILEVBQVUsU0FDTCxHQUFFLEtBQUssRUFBaUIsQUFBQyxHQUN2QyxHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsU0FFN0MsR0FBd0IsS0FBTSxHQUNWLEVBQXFCLGdCQUNyQyxHQUFRLEVBQW9CLEtBQUssQUFBQyxHQUMvQixHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsTUFFM0IsTUFBTSxRQUFRLEdBQ2hDLEdBQVMsS0FDUCxFQUFvQixPQUFPLENBQUMsSUFDNUIsRUFBb0IsSUFBSSxBQUFDLEdBQVcsRUFBTSxLQUFPLEVBQVUsR0FBSyxFQUFZLEdBQzlFLENBQUMsS0FDZ0IsV0FBYSxRQUU3QixHQUFFLE9BQU8sT0FBTyxJQUFJLE9BRXhCLHVCQUNTLElBQ0EsRUFBVSxZQUNWLEVBQUUsT0FBTyxRQUNILEVBQVUsU0FDTCxHQUFFLEtBQUssRUFBaUIsQUFBQyxHQUN2QyxHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsU0FFN0MsR0FBd0IsU0FDTCxXQUFhLEVBQXFCLFdBQVcsSUFBSSxBQUFDLEdBQ3JFLEVBQU0sS0FBTyxFQUFVLEdBQUssRUFBWSxNQUcxQyxPQUFPLE9BQU8sSUFBSSxPQUVqQix1QkFDUyxJQUNBLEVBQVUsZUFDaEIsR0FBTyxFQUFVLE9BQ1gsRUFBRSxPQUFPLFFBQ0gsRUFBVSxTQUNMLEdBQUUsS0FBSyxFQUFpQixBQUFDLEdBQ3ZDLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxTQUU3QyxHQUF3QixTQUNKLEVBQXFCLGNBQ3pDLFVBQVUsRUFBcUIsQUFBQyxHQUFxQixFQUFVLEtBQU8sRUFBTSxRQUc1RSxHQUFXLEVBQUUsT0FBTyxPQUFPLElBQUksU0FDL0IsS0FBUyxPQUNBLEVBQUUsTUFBTSxDQUFFLGFBQWMsRUFBVSxRQUFTLGFBQWMsTUFFL0QsTUFFSixrQ0FDSSxHQUFFLGFBQWEsSUFBSSxNQUU3QixFQUFPLE9DbEpOQSxHQUFRLEdBQVksQ0FDeEIsTUFBTyxHQUNQLGFBQWMsS0FHSCxHQUFlLENBQUMsRUFBRyxhQUN0QixVQUFVLEtBQUssSUFBTSxHQUFjLElBQ3BDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFnQixBQUFDLEdBQWlDLElBQ2xELEdBQVcsRUFBVyxFQUFXLEtBRS9CLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLHFCQUNJLEdBQUUsTUFBTSxDQUFFLE1BQU8sRUFBTyxNQUFPLGFBQWMsU0FDakQsc0JBQ0ksR0FBRSxhQUFhLElBQUksUUFDdkIseUJBQ1MsR0FBSSxLQUNULEVBQUUsTUFBTSxDQUFFLE1BQU8sR0FBSSxhQUFjLFNBQ3ZDLDJCQUNJLEdBQUUsYUFBYSxJQUFJLFFBQ3ZCLDhCQUNTLElBQ0EsRUFBVSxZQUNWLEdBQUUsVUFBVSxFQUFFLE1BQU0sT0FDNUIsR0FBYSxTQUNPLEVBQVUsYUFDVixNQUFNLFFBQVEsR0FDaEMsRUFBb0IsS0FBSyxBQUFDLEdBQ2pCLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxLQUMzQyxLQUNKLEVBQW9CLE9BQU8sQ0FBQyxJQUM1QixFQUFVLFdBQVcsSUFBSSxBQUFDLEdBQ2pCLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxHQUFLLEVBQVksR0FFcEUsQ0FBQyxLQUNLLFdBQWEsR0FFbEIsRUFBRSxNQUFNLElBQUksT0FFaEIsOEJBQ1MsSUFDQSxFQUFVLFlBQ1YsR0FBRSxVQUFVLEVBQUUsTUFBTSxPQUM1QixHQUFhLFNBQ08sRUFBVSxhQUNWLE1BQU0sUUFBUSxHQUNoQyxFQUFvQixLQUFLLEFBQUMsR0FDakIsR0FBUyxNQUFRLEVBQU0sS0FBTyxFQUFVLEtBQzNDLEtBQ0osRUFBb0IsT0FBTyxDQUFDLElBQzVCLEVBQVUsV0FBVyxJQUFJLEFBQUMsR0FDakIsR0FBUyxNQUFRLEVBQU0sS0FBTyxFQUFVLEdBQUssRUFBWSxHQUVwRSxDQUFDLEtBQ0ssV0FBYSxHQUVsQixFQUFFLE1BQU0sSUFBSSxPQUVoQiw4QkFDUyxJQUNBLEVBQVUsWUFDVixHQUFFLFVBQVUsRUFBRSxNQUFNLE9BQzVCLEdBQWEsU0FDTyxFQUFVLGNBQzlCLE9BQU8sRUFBcUIsQUFBQyxHQUN0QixHQUFTLE1BQVEsRUFBVSxLQUFPLEVBQU0sT0FHakQsTUFBTSxJQUFJLEdBQ0wsRUFBRSxhQUFhLElBQUksTUFFN0IsRUFBTyxPQUdDLEdBQW1CLElBQU1BLEdDL0VoQ0EsR0FBUSxHQUFZLENBQ3hCLGdCQUFpQixDQUNmLFFBQVMsR0FDVCxLQUFNLEVBQ04sTUFBTyxFQUNQLE1BQU8sR0FFVCxZQUFhLENBQ1gsUUFBUyxHQUNULEtBQU0sRUFDTixNQUFPLEVBQ1AsTUFBTyxHQUVULGlCQUFrQixHQUNsQixxQkFBc0IsR0FDdEIseUJBQTBCLEdBQzFCLDZCQUE4QixHQUM5QixlQUFnQixHQUNoQixpQkFBa0IsS0FHUCxHQUFnQixDQUFDLEVBQUcsYUFDdkIsVUFBVSxLQUFLLElBQU0sR0FBZSxJQUNyQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBaUIsQUFBQyxHQUFrQyxJQUNwRCxNQUNFLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLG9CQUNJLEdBQUUsaUJBQWlCLElBQUksUUFDM0Isa0NBQ1MsSUFDVixZQUFZLE1BQU0sQ0FDbEIsUUFBUyxFQUFVLFFBQ25CLEtBQU0sRUFBVSxLQUNoQixNQUFPLEVBQVUsTUFDakIsTUFBTyxFQUFVLFFBRVosRUFBRSxNQUFNLENBQUUsaUJBQWtCLEdBQU8seUJBQTBCLFNBQ2pFLHNDQUNTLEVBR1IsQUFGb0IsRUFBRSxnQkFBZ0IsUUFBUSxRQUUxQixNQUFRLEVBQUUscUJBQXFCLFFBQVUsS0FDN0QsZ0JBQWdCLFFBQVEsSUFBSSxFQUFVLFdBRXRDLGdCQUFnQixRQUFRLE1BQU0sQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLFFBQVEsTUFBTyxHQUFHLEVBQVUsWUFFbEYsZ0JBQWdCLE1BQU0sQ0FBRSxLQUFNLEVBQVUsS0FBTSxNQUFPLEVBQVUsTUFBTyxNQUFPLEVBQVUsUUFDbEYsRUFBRSxNQUFNLENBQUUscUJBQXNCLEdBQU8sNkJBQThCLFNBQ3pFLGdDQUNJLEdBQUUscUJBQXFCLElBQUksUUFDL0IsNEJBQ0ksR0FBRSxpQkFBaUIsSUFBSSxRQUMzQixnQ0FDSSxHQUFFLHFCQUFxQixJQUFJLFFBQy9CLDRCQUNJLEdBQUUsaUJBQWlCLElBQUksUUFDM0Isd0JBQ0ksR0FBRSxxQkFBcUIsSUFBSSxRQUMvQix3QkFDSSxHQUFFLHFCQUFxQixJQUFJLFFBQy9CLDZCQUNTLEVBQ0xBLEdBQU0sTUFBTSxDQUNqQixlQUFnQixFQUFVLGdCQUFrQixHQUM1QyxpQkFBa0IsRUFBVSxrQkFBb0IsU0FFL0MsOEJBQ0ksR0FBRSx5QkFBeUIsSUFBSSxRQUNuQyxrQ0FDSSxHQUFFLDZCQUE2QixJQUFJLE1BRTdDLEVBQU8sT0M3RU5BLEdBQVEsR0FBWSxDQUN4QixlQUFnQixDQUNkLFlBQWEsR0FDYixLQUFNLEVBQ04sTUFBTyxFQUNQLE1BQU8sS0FJRSxHQUFvQixDQUFDLEVBQUcsYUFDM0IsVUFBVSxLQUFLLElBQU0sR0FBbUIsSUFDekNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXFCLEFBQUMsR0FBc0MsSUFDNUQsTUFDRSxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUiw0QkFDUyxFQUNSLEVBQVUsYUFBZSxRQUN6QixlQUFlLFlBQVksTUFBTSxDQUFDLEVBQVUsZ0JBRTlDLGVBQWUsS0FBSyxJQUFJLEVBQVUsUUFDbEMsZUFBZSxNQUFNLElBQUksRUFBVSxPQUM5QixFQUFFLGVBQWUsTUFBTSxJQUFJLEVBQVUsU0FFL0MsRUFBTyxPQ3RCWixPQUFlLENBQ2IsVUFBVyxHQUNYLEtBQU0sR0FDTixRQUFTLEdBQ1QsTUFBTyxHQUNQLE9BQVEsR0FDUixPQUFRLEdBQ1IsZ0JBQWlCLElDVG5CLEtBQU1BLElBQVEsR0FBWSxDQUN4QixNQUFPLENBQ0wsYUFBYyxHQUNkLGFBQWMsR0FDZCxTQUFVLE1BSUQsR0FBc0IsQ0FBQyxFQUFHLGFBQzdCLFVBQVUsS0FBSyxJQUFNLEdBQXFCLElBQzNDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUF1QixBQUFDLEdBQXVDLElBQzdELE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLDRCQUNJLEdBQUUsTUFBTSxTQUFTLElBQUksUUFDekIsZ0NBQ0ksR0FBRSxNQUFNLE1BQU0sQ0FBRSxhQUFjLEVBQU8sVUFBWSxHQUFJLFNBQVUsU0FDbkUsK0JBQ0ksR0FBRSxNQUFNLGFBQWEsSUFDMUIsRUFBRSxNQUFNLGFBQWEsTUFBTSxJQUFJLEFBQUMsR0FDMUIsRUFBSyxLQUFPLEVBQU8sVUFDZCxJQUFLLEVBQU0sTUFBTyxTQUFTLEVBQUssT0FBUyxFQUFHLFFBQVMsSUFFdkQsSUFBSyxTQUdiLGtDQUNJLEdBQUUsTUFBTSxhQUFhLElBQzFCLEVBQUUsTUFBTSxhQUFhLE1BQU0sSUFBSSxBQUFDLEdBQzFCLEVBQUssS0FBTyxFQUFPLFVBQ2QsSUFBSyxFQUFNLE1BQU8sRUFBRSxFQUFLLE1BQU8sUUFBUyxJQUUzQyxJQUFLLFNBR2IseUJBQ0ksR0FBRSxNQUFNLGFBQWEsSUFBSSxDQUFDLEVBQU8sUUFBUyxHQUFJLEVBQUUsTUFBTSxhQUFhLE9BQVMsU0FFaEYsc0JBQ0ksR0FBRSxNQUFNLGFBQWEsSUFBSSxFQUFPLFlBRTFDLEVBQU8sT0FJQyxHQUF1QixJQUFNLEdBQVNBLElDL0M3Q0EsR0FBUSxHQUFZLENBQ3hCLFVBQVcsQ0FDVCxVQUFXLEdBQ1gsU0FBVSxNQUlELEdBQW1CLENBQUMsRUFBRyxhQUMxQixVQUFVLEtBQUssSUFBTSxHQUFrQixJQUN4Q0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBb0IsQUFBQyxHQUFxQyxJQUN4RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUix5QkFDSSxHQUFFLFVBQVUsU0FBUyxJQUFJLFFBQzdCLDZCQUNJLEdBQUUsVUFBVSxNQUFNLENBQUUsVUFBVyxFQUFPLFVBQVcsU0FBVSxPQUVyRSxFQUFPLE9DcEJOQSxHQUFRLEdBQVksQ0FDeEIsT0FBUSxDQUNOLFlBQWEsR0FDYixZQUFhLEdBQ2IsVUFBVyxLQUNYLFNBQVUsR0FDVixPQUFRLEtBQ1IsY0FBZSxHQUNmLFFBQVMsR0FDVCxVQUFXLEdBQ1gsU0FBVSxLQUNWLE1BQU8sR0FDUCxVQUFXLEtBQ1gsT0FBUSxLQUNSLE1BQU8sS0FDUCxPQUFRLEtBQ1IsT0FBUSxRQUlDLEdBQXFCLENBQUMsRUFBRyxhQUM1QixVQUFVLEtBQUssSUFBTSxHQUFvQixJQUMxQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBc0IsQUFBQyxHQUF1QyxJQUM1RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUixrQ0FDSSxHQUFFLE9BQU8sTUFBTSxDQUFFLFlBQWEsRUFBTyxNQUFPLFVBQVcsRUFBTyxTQUNsRSxrQ0FDSSxHQUFFLE9BQU8sWUFBWSxJQUFJLEVBQU8sV0FDcEMsK0JBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxTQUFVLEVBQU8sTUFBTyxPQUFRLEVBQU8sU0FDNUQsb0NBQ0ksR0FBRSxPQUFPLFFBQVEsSUFBSSxFQUFPLFdBQ2hDLG1DQUNJLEdBQUUsT0FBTyxNQUFNLENBQ3BCLGNBQWUsRUFBTyxNQUN0QixVQUFXLEVBQU8sR0FDbEIsTUFBTyxFQUFPLE1BQ2QsT0FBUSxFQUFPLGFBRWQsZ0NBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxVQUFXLEVBQU8sTUFBTyxTQUFVLEVBQU8sR0FBSSxPQUFRLEVBQU8sYUFDbEYsNEJBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxNQUFPLEVBQU8sTUFBTyxPQUFRLEVBQU8sV0FFL0QsRUFBTyxPQUlDLEdBQXNCLElBQU0sR0FBU0EsSUNoRDVDQSxHQUFRLEdBQVksQ0FDeEIsU0FBVSxHQUNWLFNBQVUsS0FHQyxHQUFrQixDQUFDLEVBQUcsYUFDekIsVUFBVSxLQUFLLElBQU0sR0FBaUIsSUFDdkNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQW1CLEFBQUMsR0FBb0MsSUFDdEQsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsdUJBQ0ksR0FBRSxTQUFTLElBQUksUUFDbkIsMkJBQ0ksR0FBRSxNQUFNLENBQUUsU0FBVSxFQUFPLFNBQVUsU0FBVSxTQUNuRCxxQkFDSSxHQUFFLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRSxTQUFTLE1BQU8sRUFBTyxlQUNoRCx3QkFDSSxHQUFFLFNBQVMsSUFDaEIsRUFBRSxTQUFTLE1BQU0sSUFBSSxBQUFDLEdBQ2hCLEVBQVMsS0FBTyxFQUFPLFNBQVMsR0FDM0IsSUFBSyxLQUFhLEVBQU8sVUFFM0IsSUFBSyxTQUdiLHdCQUNJLEdBQUUsU0FBUyxJQUFJLENBQUMsR0FBRyxFQUFFLFNBQVMsTUFBTSxPQUFPLEFBQUMsR0FBYSxFQUFTLEtBQU8sRUFBTyxjQUUxRixFQUFPLE9BSUMsR0FBbUIsSUFBTSxHQUFTQSxJQ25DekNBLEdBQVEsR0FBWSxDQUN4QixjQUFlLENBQ2IsY0FBZSxHQUNmLFNBQVUsTUFJRCxHQUF1QixDQUFDLEVBQUcsYUFDOUIsVUFBVSxLQUFLLElBQU0sR0FBc0IsSUFDNUNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXdCLEFBQUMsR0FBeUMsSUFDaEUsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsNkJBQ0ksR0FBRSxjQUFjLFNBQVMsSUFBSSxRQUNqQyxpQ0FDSSxHQUFFLGNBQWMsY0FBYyxJQUFJLEVBQU8sbUJBQzdDLDJCQUNJLEdBQUUsY0FBYyxjQUFjLElBQUksQ0FBQyxHQUFHLEVBQUUsY0FBYyxjQUFlLEVBQU8sbUJBQ2hGLDhCQUNJLEdBQUUsY0FBYyxjQUFjLElBQ25DLEVBQUUsY0FBYyxjQUFjLE1BQU0sT0FBTyxBQUFDLEdBQU0sRUFBRSxLQUFPLEVBQU8sbUJBR3ZFLEVBQU8sT0M5Qk5BLEdBQVEsR0FBWSxDQUN4QixZQUFhLE9BR0YsR0FBcUIsQ0FBQyxFQUFHLGFBQzVCLFVBQVUsS0FBSyxJQUFNLEdBQW9CLElBQzFDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFzQixBQUFDLEdBQXVDLElBQzVELE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLHdCQUNJLEdBQUUsWUFBWSxJQUFJLFFBQ3RCLDJCQUNJLEdBQUUsWUFBWSxJQUFJLENBQUMsRUFBRSxZQUFZLFNBRTNDLEVBQU8sT0FJQyxHQUFzQixJQUFNLEdBQVNBLElDekI1Q0EsR0FBUSxHQUFZLENBQ3hCLGFBQWMsS0FHSCxHQUFzQixDQUFDLEVBQUcsYUFDN0IsVUFBVSxLQUFLLElBQU0sTUFDdEJBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXVCLEFBQUMsR0FBd0MsR0NEdEUsT0FBZSxDQUNiLFNBQVUsR0FDVixNQUFPLEdBQ1AsVUFBVyxHQUNYLGFBQWMsR0FDZCxRQUFTLEdBQ1QsT0FBUSxHQUNSLFNBQVUsR0FDVixjQUFlLEdBQ2YsWUFBYSxHQUNiLDZCQ1hXLElBQWlDLENBQzVDLE9BQVEsR0FDUixPQUFRLEdBQ1IsVUFBVyxHQUNYLFNBQVUsR0FDVixRQUFTLElDVkxBLEdBQVEsR0FBWSxDQUN4QixhQUFjLEdBQ2QsTUFBTyxHQUNQLGFBQWMsR0FDZCxXQUFZLEdBQ1osdUJBQXdCLEdBQ3hCLGtCQUFtQixHQUNuQiw4QkFBK0IsR0FDL0IsY0FBZSxLQUdKd0ksR0FBYyxDQUFDLEVBQUcsYUFDckIsVUFBVSxLQUFLLElBQU0sR0FBYSxJQUNuQ3hJLEdBQU0sT0FBTyxJQUFZLE9BR3JCLEdBQWUsQUFBQyxHQUFpQyxJQUN0RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUiw0QkFDSSxHQUFFLE1BQU0sQ0FBRSxhQUFjLEVBQU8sYUFBYyxhQUFjLFNBQy9ELDJCQUNJLEdBQUUsTUFBTSxDQUFFLE1BQU8sRUFBTyxNQUFPLGFBQWMsU0FDakQseUJBQ0ksR0FBRSxhQUFhLElBQUksUUFDdkIsMEJBQ0ksR0FBRSxNQUFNLENBQUUsV0FBWSxHQUFJLHVCQUF3QixTQUN0RCwyQkFDSSxHQUFFLE1BQU0sQ0FBRSxXQUFZLEVBQU8sTUFBTyx1QkFBd0IsU0FDaEUsbUJBQW9CLE1BQ2pCLEdBQVUsRUFBTyxLQUNqQixFQUFNLEVBQUUsV0FBVyxVQUFVLEFBQUMsR0FDM0IsR0FBYSxNQUFRLEVBQVUsR0FBRyxRQUFVLEVBQVEsVUFFekQsS0FBUSxLQUNSLFdBQVcsTUFBTSxDQUFDLE1BRWxCLFdBQVcsR0FBSyxJQUFJLEdBRWpCLEVBQUUsdUJBQXVCLElBQUksUUFFakMscUJBQXNCLE1BRW5CLEdBQU0sQUFETyxFQUFFLFdBQ0UsVUFBVSxBQUFDLEdBQ3pCLEdBQWEsTUFBUSxFQUFVLE1BQU0sS0FBTyxFQUFPLEtBQUssVUFFMUQsR0FBRSxXQUFXLEdBQUssSUFBSSxRQUUxQixrQ0FDSSxHQUFFLE1BQU0sQ0FDYixrQkFBbUIsR0FDbkIsOEJBQStCLFNBRTlCLG1DQUNJLEdBQUUsTUFBTSxDQUNiLGtCQUFtQixFQUFPLE1BQzFCLDhCQUErQixTQUU5QiwyQkFBNEIsTUFDekIsR0FBVSxFQUFPLEtBQ2pCLEVBQU0sRUFBRSxrQkFBa0IsVUFBVSxBQUFDLEdBQ2xDLEdBQWEsTUFBUSxFQUFVLE1BQU0sS0FBTyxFQUFRLFVBRXpELEtBQVEsS0FDUixrQkFBa0IsTUFBTSxDQUFDLE1BRXpCLGtCQUFrQixHQUFLLElBQUksR0FFeEIsRUFBRSw4QkFBOEIsSUFBSSxRQUV4QyxrQ0FDRyxHQUFVLEVBQU8sS0FDakIsRUFBTSxFQUFFLGtCQUFrQixVQUFVLEFBQUMsR0FDbEMsR0FBYSxNQUFRLEVBQVUsTUFBTSxLQUFPLEVBQVEsVUFFdEQsR0FBRSxrQkFBa0IsR0FBSyxJQUFJLFFBQ2pDLG1CQUNJLEdBQUUsY0FBYyxNQUFNLENBQUMsRUFBTyxZQUV4QyxFQUFPLE9DbEZaLE9BQWUsQ0FDYixLQUFNLEdBQ04sS0FBTXdJLElDVVIsS0FBTSxJQUFRLEdBQVksQ0FDeEIsT0FBUSxHQUNSLGFBQWMsS0FDZCxNQUFPLEtBR0ksR0FBZSxDQUFDLEVBQUcsYUFDdEIsVUFBVSxLQUFLLElBQU0sR0FBZSxJQUNyQyxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFpQixBQUFDLEdBQWlDLElBQ2pELE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLCtCQUNJLEdBQUUsTUFBTSxDQUFFLE9BQVEsRUFBTyxhQUM3Qiw2QkFDSSxHQUFFLE1BQU0sQ0FBRSxNQUFPLEVBQU8sY0FDNUIsMEJBQ0ksR0FBRSxNQUFNLENBQUUsYUFBYyxFQUFPLFVBRXpDLEVBQU8sT0NqQ1osT0FBZSxDQUNiLE9BQVEsSUNLVixLQUFNLElBQVcsR0FBZ0IsSUFDNUIsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLEtDZEwsd0RBQ0EsS0FBTSxJQUEyQixBQUFDLEdBQVEsQ0FDdEMsS0FBTSxHQUFxQixHQUFJLEtBQy9CLEVBQW1CLElBQUksTUFBTyxDQUFFLEtBQU0sUUFDdEMsS0FBTSxHQUFlLEVBQUksb0JBQXNCLENBQzNDLGdCQUFpQixDQUFFLEtBQU0sT0FDekIsVUFBVyxHQUVULEVBQWMsQ0FBQyxFQUFNLElBQWEsQ0FDcEMsRUFBYSxVQUFVLElBQUksRUFBTSxJQUUvQixFQUFjLEFBQUMsR0FBUyxDQUMxQixBQUFJLEVBQWEsVUFBVSxJQUFJLElBQzNCLEdBQWEsZ0JBQWtCLEVBQWEsVUFBVSxJQUFJLEtBR2xFLFNBQWEsWUFBYyxFQUMzQixFQUFhLFlBQWMsRUFDcEIsR0FFTCxHQUFnQixBQUFDLEdBQVMsRUFBSSxtQkFBcUIsR0FBeUIsR0FJNUUsR0FBbUMsR0FBZSxNQUFPLGFBQWUsWUFDeEUsV0FDQSxNQUFPLE9BQVMsWUFDWixLQUNBLE1BQU8sU0FBVyxZQUNkLE9BQ0EsTUFBTyxTQUFXLFlBQ2QsT0FDQSxJQUlFLEdBQW1CLFlBSW5CLEdBQW1CLFlBd0J2QyxHQUFJLElBQ0osQUFBQyxVQUFVLEVBQWUsQ0FPdEIsRUFBYyxjQUFtQixnQkFRakMsRUFBYyxZQUFpQixnQkFDaEMsSUFBa0IsSUFBZ0IsS0FDckMsZ0JBQWlDLE1BQU0sQ0FDbkMsWUFBWSxFQUFTLEVBQU0sQ0FDdkIsTUFBTSxHQUNOLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxHQUdwQixLQUFNLElBQWdCLEFBQUMsR0FBUSxDQUMzQixHQUFJLEdBQUksRUFDUixNQUFJLElBQVEsS0FBeUIsT0FBUyxFQUFJLGVBQ3ZDLFVBRUQsSUFBTSxHQUFLLEdBQVEsS0FBeUIsT0FBUyxFQUFJLFVBQVksTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLG1CQUFxQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsUUFDakssTUFHQSxPQUlULEdBQWtCLEFBQUMsR0FBUSxDQUM3QixHQUFJLEdBQUksRUFBSSxFQUFJLEVBQUksRUFDcEIsS0FBTSxHQUFvQixFQUFJLHlCQUEyQixLQUNuRCxFQUFNLEVBQUksV0FBYSxHQUN2QixFQUFXLEVBQUksUUFBVSxFQUFJLFNBQVcsR0FJeEMsRUFBZSxFQUFJLG1CQUNuQixFQUFxQixJQUNoQixJQUFzQixLQUN2QixFQUFrQixLQUNsQixHQUFjLEdBRWxCLEVBQWdCLElBQUssR0FBaUIsS0FBa0MsT0FBUyxFQUFhLG1CQUFxQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsY0FBZ0IsRUFDdkssRUFBMEIsSUFBTSxNQUFrQixNQUNsRCxFQUFxQixJQUFLLEdBQWlCLEtBQWtDLE9BQVMsRUFBYSxtQkFBcUIsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLG1CQUFxQixFQUNqTCxFQUEyQixBQUFDLEdBQWUsQ0FDN0MsS0FBTSxHQUFTLEVBQWtCLElBQUksR0FLckMsTUFKSSxPQUFXLEtBQTRCLE9BQVMsRUFBTyxVQUFVLElBQUksT0FJckUsRUFBZ0IsS0FNbEIsRUFBc0IsSUFBSyxHQUFpQixLQUFrQyxPQUFTLEVBQWEsbUJBQXFCLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxvQkFDL0osRUFDRSxFQUF5QixBQUFDLEdBQWUsQ0FBRSxHQUFJLEdBQUksTUFBUSxHQUFLLEVBQUksaUJBQW1CLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxLQUFLLElBQUssR0FBRSxPQUFTLElBQ2hKLEVBQW9CLElBQUssR0FBaUIsS0FBa0MsT0FBUyxFQUFhLG1CQUFxQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsa0JBQW9CLEVBQy9LLEVBQWMsQUFBQyxHQUFRLEVBQUksUUFBUSxNQUFNLEdBQ3pDLEVBQW1CLENBQUMsRUFBUyxFQUFNLEtBQzlCLFFBQVEsT0FBTyxHQUFHLDBDQUFrRCxPQUV6RSxFQUFvQixHQUFJLEtBQ3hCLEVBQXdCLENBQUMsRUFBWSxFQUFvQixLQUFPLENBQ2xFLEtBQU0sSUFBbUIsRUFBa0IsSUFBSSxHQUMvQyxHQUFJLEdBQ0EsZUFBUSxLQUFLLHFCQUFxQix5REFDM0IsR0FBaUIsTUFFNUIsS0FBTSxJQUFXLElBQ1gsR0FBZSxFQUFnQixHQUNyQyxHQUFJLElBQ0osS0FBTSxHQUEyQixTQUM3QixDQUFJLENBQUMsSUFBb0IsS0FBWSxHQUNqQyxHQUNJLE1BQU8sR0FBa0IsS0FBYyxXQUNoQyxHQUFtQixLQUFNLEdBQWtCLE1BQzNDLEdBQW1CLEVBQWtCLElBRTNDLElBQXNCLE1BQzNCLENBQUMsSUFDRCxPQUFTLElBQ1QsSUFDSSxNQUFPLEdBQWtCLEtBQVcsV0FDN0IsR0FBbUIsS0FBTSxHQUFrQixNQUMzQyxHQUFtQixFQUFrQixLQUU3QyxJQUVMLEVBQXFCLENBQUMsRUFBTSxLQUFTLENBQ3ZDLEdBQUksR0FBSSxFQUNSLEdBQUksR0FBYyxDQUNkLEtBQU0sR0FBZSxJQUFpQixLQUFrQyxPQUFTLEdBQWEsUUFBUSxLQUFLLEdBQUssS0FBUyxFQUFFLE1BQzNILEdBQUksRUFDQSxNQUFJLEdBQWEsUUFBVSxVQUNoQixBQUFDLEdBQVksRUFBSSxjQUFjLEVBQVksR0FBSyxXQUFZLEdBRzVELENBQUMsRUFBUyxJQUFhLEVBQUksZUFBZSxFQUFZLEdBQUssV0FBWSxFQUFTLEdBRzFGLEdBQUksRUFDTCxNQUFRLEdBQUssRUFBSyxPQUFXLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxLQUFLLE9BR3pFLElBQUksRUFDTCxNQUFRLEdBQUssRUFBSyxPQUFXLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxLQUFLLEdBR3RFLEtBQU0sSUFBSSxJQUFtQixJQUFJLG1DQUE0QyxLQUFZLEdBQWMsaUJBR3pHLEVBQTRCLEFBQUMsR0FBUyxDQUN4QyxHQUFJLElBQ0osS0FBTSxHQUFVLElBQUksSUFBUyxDQUN6QixLQUFNLEdBQUksSUFBMkIsS0FBSyxHQUFRLENBQzlDLEtBQU0sR0FBSyxFQUFtQixFQUFNLEdBQ3BDLEdBQUksRUFBSSxDQUNKLEtBQU0sSUFBSSxFQUFHLEdBQUcsR0FDaEIsVUFBUyxJQUFNLEtBQXVCLE9BQVMsR0FBRSxPQUMxQyxPQUdQLE1BQU0sSUFBSSxJQUFtQixJQUFJLEtBQWMsOEJBQWlDLEtBQVksR0FBYyxpQkFHbEgsTUFBSSxLQUFTLGVBQ1QsR0FBRSxPQUFTLFNBQVksTUFFcEIsR0FHWCxTQUFRLFNBQVcsSUFBTSxHQUFHLEVBQUssb0NBQ2pDLE9BQU8sZUFBZSxFQUFTLE9BQVEsQ0FDbkMsTUFBTyxFQUNQLFNBQVUsR0FDVixhQUFjLEtBRVgsR0FFTCxFQUFjLEVBQTBCLGVBQ3hDLEVBQWlCLEVBQTBCLGtCQUMzQyxFQUFvQixDQUFDLEVBQVcsS0FBYSxDQUMvQyxLQUFNLEdBQU8sRUFBWSxDQUFFLGFBQWEsSUFDbEMsRUFBUyxTQUFZLENBQ3ZCLEtBQU0sR0FBYSxLQUFNLEdBQ3pCLEVBQWUsQ0FDWCxZQUNBLGNBQ0QsS0FFRCxFQUFJLEdBQUksU0FBUSxHQUFXLEVBQUssS0FBSyxJQUFNLEVBQVEsQ0FBRSxhQUMzRCxTQUFFLE9BQVMsU0FBWSxDQUNuQixRQUFRLEtBQUssc0RBQ2IsS0FBTSxNQUVILEdBRUwsR0FBUSxHQUFJLE9BQU0sR0FBSSxDQUN4QixJQUFJLEVBQUcsR0FBTSxDQUNULE9BQVEsUUFFQyxXQUNELFdBQ0MsU0FDRCxNQUFPLElBQU8sU0FDYixjQUNELE1BQU8sSUFBZSxFQUFvQixNQUN6QyxpQkFDRCxNQUFPLFdBRVAsTUFBTyxHQUEwQixRQUlqRCxTQUFRLEdBQWMsR0FDdEIsRUFBa0IsSUFBSSxFQUFZLENBQzlCLEtBQU0sRUFDTixTQUNBLFVBQVcsR0FBSSxLQUFJLENBQ2YsR0FBRyxPQUFPLEtBQUssR0FDZixHQUFJLEdBQWUsQ0FBQyxJQUFZLE9BR2pDLElBRUwsR0FBbUIsSUFBSyxHQUFpQixLQUFrQyxPQUFTLEVBQWEsbUJBQXFCLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxpQkFBbUIsRUFFbkwsTUFBSyxHQUFJLGdCQUNMLEdBQUksZUFBaUIsR0FBWSxHQUVyQyxFQUFJLFlBQWMsRUFDbEIsRUFBSSxZQUFjLEVBQ2xCLEVBQUksaUJBQW1CLEVBQ3ZCLEVBQUksa0JBQW9CLEVBQ3hCLEVBQUksaUJBQW1CLEVBQ3ZCLEVBQUksZUFBaUIsR0FDckIsRUFBSSxVQUFZLEdBQ2hCLEVBQUksTUFBUSxDQUFDLENBQUMsRUFBSSxNQUNsQixFQUFJLGlCQUFtQixDQUFDLENBQUMsRUFBSSxpQkFFN0IsRUFBSSxTQUFXLEVBQUksY0FDbkIsRUFBSSxTQUFXLEVBQUksbUJBQ1osR0FFTCxHQUFzQixBQUFDLEdBQVMsRUFBSSxVQUFZLEdBQWdCLEdBRWhFLEdBQTBCLEdBQW9CLE1BQU8sYUFBZSxZQUNwRSxXQUNBLE1BQU8sT0FBUyxZQUNaLEtBQ0EsTUFBTyxTQUFXLFlBQ2QsT0FDQSxNQUFPLFNBQVcsWUFDZCxPQUNBLElBQ1osR0FBaUIsR0FBVSxlQU0zQixHQUFVLEdBQVUsUUFpQjFCLFFBQWdCLENBQ1osWUFBWSxFQUFRLENBQ2hCLEtBQUssVUFBWSxHQUNqQixLQUFLLGdCQUFrQixHQUNuQixHQUVBLFNBQVEsS0FBSyx3QkFBd0IsRUFBTyx1RUFDNUMsS0FBSyxPQUFTLEdBR3RCLFlBQVksRUFBVyxFQUFjLENBRWpDLEFBQUssQUFEYSxLQUFLLFVBQVUsSUFFN0IsTUFBSyxVQUFVLEdBQWEsSUFFaEMsS0FBSyxVQUFVLEdBQVcsS0FBSyxHQUcvQixLQUFNLEdBQWlCLEtBQUssZ0JBQWdCLEdBQzVDLEFBQUksR0FBa0IsQ0FBQyxFQUFlLFlBQ2xDLEtBQUssa0JBQWtCLEdBRTNCLEtBQU0sR0FBUyxTQUFZLEtBQUssZUFBZSxFQUFXLEdBQ3BELEVBQUksUUFBUSxRQUFRLENBQUUsV0FDNUIsY0FBTyxlQUFlLEVBQUcsU0FBVSxDQUMvQixNQUFPLFNBQVksQ0FDZixRQUFRLEtBQUssc0RBQ2IsS0FBTSxRQUdQLE9BRUwscUJBQXFCLENBQ3ZCLEtBQUssVUFBWSxHQUNqQixTQUFXLEtBQVksTUFBSyxnQkFDeEIsS0FBSyxxQkFBcUIsS0FBSyxnQkFBZ0IsSUFFbkQsS0FBSyxnQkFBa0IsR0FFM0IsZ0JBQWdCLEVBQVcsRUFBTSxDQUM3QixLQUFNLEdBQVksS0FBSyxVQUFVLEdBQ2pDLEFBQUksR0FDQSxFQUFVLFFBQVEsR0FBWSxFQUFTLElBRy9DLGFBQWEsRUFBVyxDQUNwQixNQUFPLENBQUMsQ0FBQyxLQUFLLFVBQVUsR0FBVyxPQUV2Qyx1QkFBdUIsRUFBaUIsRUFBaUIsQ0FDckQsS0FBSyxnQkFBZ0IsR0FBbUIsQ0FDcEMsV0FBWSxHQUNaLGtCQUNBLGtCQUNBLFFBQVMsR0FBUyxDQUNkLEtBQUssZ0JBQWdCLEVBQWlCLEtBSWxELGNBQWMsRUFBTSxrQkFBbUIsQ0FDbkMsTUFBTyxJQUFJLElBQVUsVUFBVSxFQUFLLEdBQWMsZUFFdEQsWUFBWSxFQUFNLGdCQUFpQixDQUMvQixNQUFPLElBQUksSUFBVSxVQUFVLEVBQUssR0FBYyxrQkFFaEQsZ0JBQWUsRUFBVyxFQUFjLENBQzFDLEtBQU0sR0FBWSxLQUFLLFVBQVUsR0FDakMsR0FBSSxDQUFDLEVBQ0QsT0FFSixLQUFNLEdBQVEsRUFBVSxRQUFRLEdBQ2hDLEtBQUssVUFBVSxHQUFXLE9BQU8sRUFBTyxHQUduQyxLQUFLLFVBQVUsR0FBVyxRQUMzQixLQUFLLHFCQUFxQixLQUFLLGdCQUFnQixJQUd2RCxrQkFBa0IsRUFBUSxDQUN0QixPQUFPLGlCQUFpQixFQUFPLGdCQUFpQixFQUFPLFNBQ3ZELEVBQU8sV0FBYSxHQUV4QixxQkFBcUIsRUFBUSxDQUN6QixBQUFJLENBQUMsR0FHTCxRQUFPLG9CQUFvQixFQUFPLGdCQUFpQixFQUFPLFNBQzFELEVBQU8sV0FBYSxLQ2paNUIsS0FBTUMsSUFBTSxHQUFlLE1BQU8sQ0FDOUIsSUFBSyxJQUFNLE9BQU8scUJBQVMsS0FBSyxHQUFLLEdBQUksR0FBRSxVQ0V6QyxHQUFnQyxJQUFNLElBQ3RDLEdBQVUsaUNBQ0osSUFBTSxJQUNWLFlBQVksYUFBYyxBQUFDLEdBQWdDLE1BR3ZELEdBQU8sRUFBTSxJQUFJLE1BQU0sT0FBTyxNQUNoQyxLQUNNLEtBQUssTUFLaEIsSUFFSSxNQ0ZILEdBQU0sSUFBVyxNQUNmLEdBQVcsS0FFWCxFQUFVakIsdUJBQVksSUFBTSxDQUM1QixpNlBBQWUsKzVQQUFZLGFBQzNCLE9BQWUsSUFBTSwrNVBBQVksWUFFakMsT0FBZSxJQUFNLEtBR2hCLEdBQVcsMEJBS25CLGdDQUVPLEVBQVMsb0RBSWRrQixHQUFELHFCQUNHLFFBQUQsS0FBUSxHQUFPLG9CQUFvQix1QkFDbEMsT0FBRCxDQUNFLEtBQUssV0FDTCxRQUFRLCtHQUdYQyxHQUFELE9BQWVDLG9CQUNaLEdBQUQsQ0FBa0IsU0FBVSxtQkFDekIsR0FBRCxzQkFDQyxHQUFELFVBT0osR0FBZ0Isb0JBRWpCLEdBQUQsQ0FBVSxNQUFPLEdBQWUscUJBQzdCLEdBQUQscUJBQ0csR0FBRCxzQkFDQyxHQUFEIn0=
