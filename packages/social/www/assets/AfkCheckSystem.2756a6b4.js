import{T as p}from"./SystemUpdateType.4e88f289.js";import{b as t}from"./AuthService.6db25508.js";import{d as c,g as o}from"./avatarFunctions.c7a0e273.js";import"./three.module.0404e109.js";import"./upload.38e3baaf.js";import"./vendor.c8b8cc93.js";import"./index.0040ebb6.js";import"./_app.009e96ac.js";import"./index.9af95596.js";import"./AlertService.bfed2141.js";import"./feathers.081246a7.js";const m=.5,d=50;async function T(s){const n=c([t,p]);return()=>{for(const e of n(s)){const{isAfk:i,prevPosition:f,cStep:a}=o(e,t),{position:r}=o(e,p);o(e,t).cStep++,!(a+1<d)&&(o(e,t).cStep=0,r.distanceTo(f)<=.05?i||(o(e,t).timer+=s.delta,o(e,t).cStep2>=m&&(o(e,t).isAfk=!0)):(o(e,t).cStep2=0,i&&(o(e,t).isAfk=!1)),o(e,t).prevPosition.copy(r))}}}export{T as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWZrQ2hlY2tTeXN0ZW0uMjc1NmE2YjQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VuZ2luZS9zcmMvbmF2aWdhdGlvbi9zeXN0ZW1zL0Fma0NoZWNrU3lzdGVtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1N5c3RlbSdcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcbmltcG9ydCB7IEFma0NoZWNrQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50L0Fma0NoZWNrQ29tcG9uZW50J1xuaW1wb3J0IHsgZGVmaW5lUXVlcnksIGdldENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Vjcy9mdW5jdGlvbnMvQ29tcG9uZW50RnVuY3Rpb25zJ1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9Xb3JsZCdcblxuY29uc3QgYWZrVGltZTogbnVtYmVyID0gMC41XG5jb25zdCBzdGVwOiBudW1iZXIgPSA1MFxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBBZmtDaGVja1N5c3RlbSh3b3JsZDogV29ybGQpOiBQcm9taXNlPFN5c3RlbT4ge1xuICBjb25zdCBhZmtRdWVyeSA9IGRlZmluZVF1ZXJ5KFtBZmtDaGVja0NvbXBvbmVudCwgVHJhbnNmb3JtQ29tcG9uZW50XSlcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgZWlkIG9mIGFma1F1ZXJ5KHdvcmxkKSkge1xuICAgICAgY29uc3QgeyBpc0FmaywgcHJldlBvc2l0aW9uLCBjU3RlcCB9ID0gZ2V0Q29tcG9uZW50KGVpZCwgQWZrQ2hlY2tDb21wb25lbnQpXG4gICAgICBjb25zdCB7IHBvc2l0aW9uIH0gPSBnZXRDb21wb25lbnQoZWlkLCBUcmFuc2Zvcm1Db21wb25lbnQpXG5cbiAgICAgIGdldENvbXBvbmVudChlaWQsIEFma0NoZWNrQ29tcG9uZW50KS5jU3RlcCsrXG4gICAgICBpZiAoY1N0ZXAgKyAxIDwgc3RlcCkgY29udGludWVcbiAgICAgIGdldENvbXBvbmVudChlaWQsIEFma0NoZWNrQ29tcG9uZW50KS5jU3RlcCA9IDBcblxuICAgICAgaWYgKHBvc2l0aW9uLmRpc3RhbmNlVG8ocHJldlBvc2l0aW9uKSA8PSAwLjA1KSB7XG4gICAgICAgIGlmICghaXNBZmspIHtcbiAgICAgICAgICBnZXRDb21wb25lbnQoZWlkLCBBZmtDaGVja0NvbXBvbmVudCkudGltZXIgKz0gd29ybGQuZGVsdGFcbiAgICAgICAgICBpZiAoZ2V0Q29tcG9uZW50KGVpZCwgQWZrQ2hlY2tDb21wb25lbnQpLmNTdGVwMiA+PSBhZmtUaW1lKSBnZXRDb21wb25lbnQoZWlkLCBBZmtDaGVja0NvbXBvbmVudCkuaXNBZmsgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldENvbXBvbmVudChlaWQsIEFma0NoZWNrQ29tcG9uZW50KS5jU3RlcDIgPSAwXG4gICAgICAgIGlmIChpc0FmaykgZ2V0Q29tcG9uZW50KGVpZCwgQWZrQ2hlY2tDb21wb25lbnQpLmlzQWZrID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgZ2V0Q29tcG9uZW50KGVpZCwgQWZrQ2hlY2tDb21wb25lbnQpLnByZXZQb3NpdGlvbi5jb3B5KHBvc2l0aW9uKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0WUFNQSxLQUFNLEdBQWtCLEdBQ2xCLEVBQWUsb0JBRXdCLEVBQStCLE1BQ3BFLEdBQVcsRUFBWSxDQUFDLEVBQW1CLFVBRTFDLElBQU0sVUFDQSxLQUFPLEdBQVMsR0FBUSxNQUMzQixDQUFFLFFBQU8sZUFBYyxTQUFVLEVBQWEsRUFBSyxHQUNuRCxDQUFFLFlBQWEsRUFBYSxFQUFLLEtBRTFCLEVBQUssR0FBbUIsUUFDakMsSUFBUSxFQUFJLE9BQ0gsRUFBSyxHQUFtQixNQUFRLEVBRXpDLEVBQVMsV0FBVyxJQUFpQixJQUNsQyxNQUNVLEVBQUssR0FBbUIsT0FBUyxFQUFNLE1BQ2hELEVBQWEsRUFBSyxHQUFtQixRQUFVLE1BQXNCLEVBQUssR0FBbUIsTUFBUSxRQUc5RixFQUFLLEdBQW1CLE9BQVMsRUFDMUMsTUFBb0IsRUFBSyxHQUFtQixNQUFRLE9BRzdDLEVBQUssR0FBbUIsYUFBYSxLQUFLIn0=
