import{R as v,w as jr,r as h,n as Ge,f as xr,u as Er}from"./vendor.c8b8cc93.js";import{t as Ve,P as Qe,b as Xe,c as ke,a as Ze,E as er,d as rr,S as Sr}from"./templates.cfdd031e.js";import{a9 as re,an as _r,f as Cr,ao as Rr}from"./_app.009e96ac.js";import{g as Tr,d as Ar,a as Nr,b as Pr,c as kr,M as Lr,B as tr,aw as Dr}from"./projectFunctions.0f4266a2.js";import{C as Or}from"./index.0040ebb6.js";import"./upload.38e3baaf.js";import"./___vite-browser-external_commonjs-proxy.5bbecace.js";import"./__vite-browser-external.b6126e45.js";import"./three.module.0404e109.js";import"./avatarFunctions.c7a0e273.js";import"./SystemUpdateType.4e88f289.js";import"./index.9af95596.js";import"./_baseIteratee.1eb87af4.js";import"./index.472b90b5.js";import"./createSvgIcon.f69c4b03.js";import"./capitalize.afc8605e.js";import"./useControlled.815a4900.js";import"./useFormControl.7fcaf9d0.js";import"./IconButton.6d410d2a.js";import"./ButtonBase.4949ff38.js";import"./createSvgIcon.43fd6609.js";import"./ownerWindow.3d7152ce.js";import"./index.1a856ebd.js";function Ir(){return v.createElement(v.Fragment,null)}const Mr=re.a`
  font-size: 1.2em;
  color: ${n=>n.theme.blue};
  line-height: 3em;
  vertical-align: middle;
`,Le=re.section`
  padding-bottom: 100px;
  display: flex;
  flex: ${n=>n.flex===void 0?1:n.flex};

  &:first-child {
    padding-top: 100px;
  }

  h1 {
    font-size: 36px;
  }

  h2 {
    font-size: 16px;
  }
`,De=re.div`
  display: flex;
  flex: 1;
  flex-direction: column;
  margin: 0 auto;
  max-width: 1200px;
  padding: 0 20px;
`,Fr=re(De)`
  align-items: center;

  & > * {
    text-align: center;
  }

  & > *:not(:first-child) {
    margin-top: 20px;
  }

  h2 {
    max-width: 480px;
  }
`,nr=re.div`
  margin-bottom: 36px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Oe="project-menu";class Ur extends h.exports.Component{constructor(a){super(a);this.state={projects:[],loading:!0,error:null}}componentDidMount(){Tr().then(a=>{this.setState({projects:a.map(t=>({...t,url:`/editor/projects/${t.project_id}`})),loading:!1})}).catch(a=>{if(console.error(a),a.response&&a.response.status===401)return this.props.history.push("/",{from:"/editor/projects"});this.setState({error:a,loading:!1})})}onDeleteProject=a=>{Ar(a.project_id).then(()=>this.setState({projects:this.state.projects.filter(t=>t.project_id!==a.project_id)})).catch(t=>this.setState({error:t}))};renderContextMenu=a=>v.createElement(Nr,{id:Oe},v.createElement(Pr,{onClick:()=>this.onDeleteProject(a.trigger.project)},"Delete Project"));ProjectContextMenu=kr(Oe)(this.renderContextMenu);render(){const{error:a,loading:t,projects:i,isAuthenticated:u}=this.state,e=this.ProjectContextMenu,s=[];for(let f=0;f<Ve.length&&f<4;f++)s.push(Ve[f]);return v.createElement(v.Fragment,null,v.createElement("main",null,!u||i.length===0&&!t?v.createElement(Le,{flex:0},v.createElement(Fr,null,v.createElement("h1",null,this.props.t("editor:projects.page.header")),v.createElement("h2",null,this.props.t("editor:projects.page.headerMsg")),v.createElement(Lr,{as:"a",href:"/projects/tutorial"},this.props.t("editor:projects.page.lbl-startTutorial")))):null,v.createElement(Le,null,v.createElement(De,null,v.createElement(nr,null,v.createElement("h1",null,this.props.t("editor:projects.page.projects"))),v.createElement(Qe,null,v.createElement(Xe,null,v.createElement(ke,null),v.createElement(ke,null,v.createElement(tr,{as:"a",href:"/editor/create"},this.props.t("editor:projects.page.lbl-newProject")))),v.createElement(Ze,null,a&&v.createElement(er,null,a.message),!a&&v.createElement(rr,{loading:t,projects:i,newProjectPath:"/editor/projects/templates",contextMenuId:Oe}))))),v.createElement(e,null)))}}jr()(Ur);var ar={};(function(n){var a=Ge&&Ge.__assign||function(){return a=Object.assign||function(d){for(var y,j=1,_=arguments.length;j<_;j++){y=arguments[j];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(d[b]=y[b])}return d},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var t;(function(d){d.Browser="browser",d.Server="server",d.Native="native"})(t=n.Device||(n.Device={}));var i=t.Browser,u=t.Server,e=t.Native,s=!!(typeof window!="undefined"&&window.document&&window.document.createElement),f=typeof navigator!="undefined"&&navigator.product=="ReactNative",c=f?e:s?i:u,r={isBrowser:c===i,isServer:c===u,isNative:c===e,device:c,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:c===i&&!!window.addEventListener,canUseViewport:c===i&&!!window.screen},o=function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];return d.reduce(function(j,_){return a(a({},j),_)},{})},l=function(d){return Object.keys(d).map(function(y){return d[y]})},m=function(){return o((l(r),r))},p=m();n.weAreServer=function(){r.isServer=!0,p=m()},n.useSSR=function(){return p},n.default=n.useSSR})(ar);var ir=xr(ar),je={};Object.defineProperty(je,"__esModule",{value:!0});var te=h.exports;je.isObject=function(n){return Object.prototype.toString.call(n)==="[object Object]"};var $r=function(){var n=te.useRef(!1);return te.useEffect(function(){return n.current=!0,function(){n.current=!1}},[]),n};function ur(n,a){a===void 0&&(a=!0);var t=$r(),i=te.useState(n),u=i[0],e=i[1],s=te.useRef(u),f=te.useCallback(function(c){!t.current&&a||(s.current=typeof c=="function"?c(s.current):c,e(s.current))},[]);return[s,f]}je.useRefState=ur;var qr=je.default=ur,S;(function(n){n.DELETE="DELETE",n.GET="GET",n.HEAD="HEAD",n.OPTIONS="OPTIONS",n.PATCH="PATCH",n.POST="POST",n.PUT="PUT",n.CONNECT="CONNECT",n.TRACE="TRACE"})(S||(S={}));var z;(function(n){n.CACHE_FIRST="cache-first",n.CACHE_AND_NETWORK="cache-and-network",n.NETWORK_ONLY="network-only",n.CACHE_ONLY="cache-only",n.NO_CACHE="no-cache",n.EXACT_CACHE_AND_NETWORK="exact-cache-and-network"})(z||(z={}));var Ie=function(n,a,t,i){function u(e){return e instanceof t?e:new t(function(s){s(e)})}return new(t||(t=Promise))(function(e,s){function f(o){try{r(i.next(o))}catch(l){s(l)}}function c(o){try{r(i.throw(o))}catch(l){s(l)}}function r(o){o.done?e(o.value):u(o.value).then(f,c)}r((i=i.apply(n,a||[])).next())})},Me=function(n,a){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,u,e,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(o){return c([r,o])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(e=r[0]&2?u.return:r[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,r[1])).done)return e;switch(u=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,u=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=a.call(n,t)}catch(o){r=[6,o],u=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Wr=function(){for(var n=0,a=0,t=arguments.length;a<t;a++)n+=arguments[a].length;for(var i=Array(n),u=0,a=0;a<t;a++)for(var e=arguments[a],s=0,f=e.length;s<f;s++,u++)i[u]=e[s];return i};function k(n,a,t,i,u,e,s,f){if(t===void 0&&(t=""),i===void 0&&(i=""),u===void 0&&(u=""),e===void 0&&(e=""),s===void 0&&(s=""),f===void 0&&(f=""),!n){var c=void 0;if(a===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var r=[t,i,u,e,s,f],o=0;c=new Error(a.replace(/%s/g,function(){return r[o++]})),c.name="Invariant Violation"}throw c}}var ne=function(n){return typeof n=="string"},B=function(n){return Object.prototype.toString.call(n)==="[object Object]"},G=function(n){return B(n)||Array.isArray(n)},I=function(n){return typeof n=="function"},Hr=function(n){if(!n)return{};var a=["body","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];return a.reduce(function(t,i){return i in n&&(t[i]=n[i]),t},{})},or=function(n){return n==null},ae;(function(n){n.Browser="browser",n.Server="server",n.Native="native"})(ae||(ae={}));var Jr=ae.Browser,sr=ae.Server,Yr=ae.Native,Kr=!!(typeof window!="undefined"&&window.document&&window.document.createElement),zr=typeof navigator!="undefined"&&navigator.product==="ReactNative",Br=zr?Yr:Kr?Jr:sr,cr=Br===sr,Gr=function(n,a,t){return Ie(void 0,void 0,void 0,function(){var i,u;return Me(this,function(e){switch(e.label){case 0:if(typeof n=="undefined")throw Error("Response cannot be undefined... \u{1F635}");if(typeof t=="undefined")throw Error("responseType cannot be undefined... \u{1F635}");if(i=Array.isArray(t)?t:[t],i[0]==null)throw Error("could not parse data from response \u{1F635}");return[4,fr(n,i)];case 1:return u=e.sent(),[2,!or(a)&&or(u)?a:u]}})})},fr=function(n,a,t){return t===void 0&&(t=0),Ie(void 0,void 0,void 0,function(){var i;return Me(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,n.clone()[a[t]]()];case 1:return[2,u.sent()];case 2:if(i=u.sent(),a.length-1===t)throw i;return[2,fr(n.clone(),a,++t)];case 3:return[2]}})})},lr=["headers","ok","redirected","trailer","status","statusText","type","url","body","bodyUsed","data"],dr=["clone","arrayBuffer","blob","formData","json","text"],Vr=Wr(lr,dr),vr=function(n,a){return Object.defineProperties({},Vr.reduce(function(t,i){return lr.includes(i)?t[i]={get:function(){var u=n instanceof Response?n:n&&n.current;if(!!u){if(i==="data")return a.current;var e="clone"in u?u.clone():{};return e[i]}},enumerable:!0}:dr.includes(i)&&(t[i]={value:function(){var u=n instanceof Response?n:n&&n.current;if(!!u){var e="clone"in u?u.clone():{};return e[i]()}},enumerable:!0}),t},{}))};vr();var Qr=function(n){var a={};return n.forEach(function(t,i){a[i]=t}),a},Xr=function(n){return Ie(void 0,void 0,void 0,function(){var a,t,i,u;return Me(this,function(e){switch(e.label){case 0:return[4,n.text()];case 1:return a=e.sent(),t=n.status,i=n.statusText,u=Qr(n.headers),[2,{body:a,status:t,statusText:i,headers:u}]}})})};function Zr(n){var a=h.exports.useRef();return JSON.stringify(n)!==JSON.stringify(a.current)&&(a.current=n),a.current}var et=function(n,a){return h.exports.useCallback(n,Zr(a))},rt=function(n){return new Promise(function(a){return setTimeout(a,n)})},tt=function(n){return Number.isInteger(n)&&n>0},hr=function(n,a){var t=new Error(a);return t.name=n+"",t},pr=function(n,a){return n?a?a.endsWith("/")&&n.startsWith("/")?n.substr(1):!a.endsWith("/")&&!n.startsWith("/")&&!n.startsWith("?")&&!n.startsWith("&")&&!a.includes("?")?"/"+n:n:n.startsWith("?")||n.startsWith("&")||n.startsWith("/")?n:"/"+n:""},nt=h.exports.createContext({url:"",options:{},graphql:!1}),V=function(){return V=Object.assign||function(n){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},V.apply(this,arguments)},mr={host:"",path:void 0,customOptions:{cacheLife:0,cachePolicy:z.CACHE_FIRST,interceptors:{},onAbort:function(){},onError:function(){},onNewData:function(n,a){return a},onTimeout:function(){},perPage:0,persist:!1,responseType:["json","text","blob","arrayBuffer"],retries:0,retryDelay:1e3,retryOn:[],suspense:!1,timeout:0,data:void 0,loading:!1},requestInit:{headers:{Accept:"application/json, text/plain, */*"}},dependencies:void 0},ie=Object.entries(mr).reduce(function(n,a){var t,i=a[0],u=a[1];return B(u)?V(V({},n),u):V(V({},n),(t={},t[i]=u,t))},{}),T=function(){return T=Object.assign||function(n){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},T.apply(this,arguments)};function at(n,a,t){k(!(B(n)&&B(a)),"You cannot have a 2nd parameter of useFetch as object when your first argument is an object.");var i=h.exports.useContext(nt),u=h.exports.useMemo(function(){var b=n;return ne(b)&&b.includes("://")?b:i.url?i.url:ie.host},[i.url,n]),e=h.exports.useMemo(function(){var b=n;if(ne(b)&&!b.includes("://"))return b},[n]),s=h.exports.useMemo(function(){if(I(n))return n;if(I(a))return a},[]),f=h.exports.useMemo(function(){var b={headers:{}};B(n)?b=n:B(a)&&(b=a);var E=i.options,g=T(T(T(T({},ie),E),b),{headers:T(T(T({},ie.headers),E.headers),b.headers),interceptors:T(T(T({},ie.interceptors),E.interceptors),b.interceptors)});return s?s(g):g},[n,s,i.options]),c=h.exports.useMemo(function(){return Hr(f)},[f]),r=h.exports.useMemo(function(){return Array.isArray(a)?a:Array.isArray(t)?t:ie.dependencies},[a,t]),o=f.cacheLife,l=f.retries,m=f.retryDelay,p=f.retryOn;k(Number.isInteger(o)&&o>=0,"`cacheLife` must be a number >= 0"),k(Number.isInteger(l)&&l>=0,"`retries` must be a number >= 0"),k(I(m)||Number.isInteger(m)&&m>=0,"`retryDelay` must be a positive number or a function returning a positive number.");var d=I(p)||Array.isArray(p)&&p.every(tt);k(d,"`retryOn` must be an array of positive numbers or a function returning a boolean.");var y=f.loading||Array.isArray(r),j=h.exports.useMemo(function(){var b={};return"request"in f.interceptors&&(b.request=f.interceptors.request),"response"in f.interceptors&&(b.response=f.interceptors.response),b},[f]),_=h.exports.useMemo(function(){var b=Object.keys(mr.customOptions),E=b.reduce(function(g,w){return g[w]=f[w],g},{});return T(T({},E),{interceptors:j,loading:y})},[j,y]);return{host:u,path:e,customOptions:_,requestInit:c,dependencies:r}}var ue=function(){return ue=Object.assign||function(n){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},ue.apply(this,arguments)},yr=function(n,a,t,i){function u(e){return e instanceof t?e:new t(function(s){s(e)})}return new(t||(t=Promise))(function(e,s){function f(o){try{r(i.next(o))}catch(l){s(l)}}function c(o){try{r(i.throw(o))}catch(l){s(l)}}function r(o){o.done?e(o.value):u(o.value).then(f,c)}r((i=i.apply(n,a||[])).next())})},br=function(n,a){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,u,e,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(o){return c([r,o])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(e=r[0]&2?u.return:r[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,r[1])).done)return e;switch(u=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,u=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=a.call(n,t)}catch(o){r=[6,o],u=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},gr=S.GET;function it(n,a,t,i,u,e,s,f,c,r){return yr(this,void 0,void 0,function(){var o,l,m,p,d,y,j,_,b=this;return br(this,function(E){switch(E.label){case 0:return k(!(G(f)&&G(c)),"If first argument of "+a.toLowerCase()+"() is an object, you cannot have a 2nd argument. \u{1F61C}"),k(!(a===gr&&G(f)),"You can only have query params as 1st argument of request.get()"),k(!(a===gr&&c!==void 0),"You can only have query params as 1st argument of request.get()"),o=function(){return!cr&&f instanceof URLSearchParams?"?"+f:ne(f)?f:""}(),l=""+e+pr(s,e)+pr(o),m=function(){return f instanceof FormData?f:G(f)?JSON.stringify(f):!cr&&(c instanceof FormData||c instanceof URLSearchParams)?c:G(c)||ne(c)?JSON.stringify(c):G(n.body)||ne(c)?JSON.stringify(n.body):null}(),p=function(){var g=(n.headers||{})["Content-Type"],w=!!g||[S.POST,S.PUT,S.PATCH].includes(a)&&!(m instanceof FormData),C=ue({},n.headers);if(w)C["Content-Type"]=g||"application/json";else if(Object.keys(C).length===0)return null;return C}(),[4,function(){return yr(b,void 0,void 0,function(){var g,w;return br(this,function(C){switch(C.label){case 0:return g=ue(ue({},n),{method:a,signal:t.signal}),p!==null?g.headers=p:delete g.headers,m!==null&&(g.body=m),r?[4,r({options:g,url:e,path:s,route:o})]:[3,2];case 1:return w=C.sent(),[2,w];case 2:return[2,g]}})})}()];case 1:return d=E.sent(),y=Object.entries({url:l,method:a,body:d.body||""}).map(function(g){var w=g[0],C=g[1];return w+":"+C}).join("||"),j={url:l,options:d},_={},[4,u.has(y)];case 2:return _.isCached=E.sent(),_.id=y,[4,u.get(y)];case 3:return[2,(j.response=(_.cached=E.sent(),_),j)]}})})}var oe=function(n,a,t,i){function u(e){return e instanceof t?e:new t(function(s){s(e)})}return new(t||(t=Promise))(function(e,s){function f(o){try{r(i.next(o))}catch(l){s(l)}}function c(o){try{r(i.throw(o))}catch(l){s(l)}}function r(o){o.done?e(o.value):u(o.value).then(f,c)}r((i=i.apply(n,a||[])).next())})},se=function(n,a){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,u,e,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(o){return c([r,o])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(e=r[0]&2?u.return:r[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,r[1])).done)return e;switch(u=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,u=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=a.call(n,t)}catch(o){r=[6,o],u=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},ce="useHTTPcache",fe=function(){try{return JSON.parse(localStorage.getItem(ce)||"{}")}catch(n){return localStorage.removeItem(ce),{}}},ut=function(n){var a=n.cacheLife,t=function(){for(var c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];return oe(void 0,void 0,void 0,function(){var o;return se(this,function(l){return o=fe(),c.forEach(function(m){return delete o[m]}),localStorage.setItem(ce,JSON.stringify(o)),[2]})})},i=function(c){var r=fe(),o=r[c]||{},l=o.expiration,m=o.response,p=l>0&&l<Date.now();return p&&t(c),p||!m},u=function(c){return oe(void 0,void 0,void 0,function(){return se(this,function(r){return[2,!i(c)]})})},e=function(c){return oe(void 0,void 0,void 0,function(){var r,o,l,m,p,d;return se(this,function(y){return i(c)?[2]:(r=fe(),o=r[c].response,l=o.body,m=o.headers,p=o.status,d=o.statusText,[2,new Response(l,{status:p,statusText:d,headers:new Headers(m||{})})])})})},s=function(c,r){return oe(void 0,void 0,void 0,function(){var o,l,m,p;return se(this,function(d){switch(d.label){case 0:return o=fe(),l=o,m=c,p={},[4,Xr(r)];case 1:return l[m]=(p.response=d.sent(),p.expiration=Date.now()+a,p),localStorage.setItem(ce,JSON.stringify(o)),[2]}})})},f=function(){return oe(void 0,void 0,void 0,function(){return se(this,function(c){return localStorage.setItem(ce,JSON.stringify({})),[2]})})};return Object.defineProperties(fe(),{get:{value:e,writable:!1},set:{value:s,writable:!1},has:{value:u,writable:!1},delete:{value:t,writable:!1},clear:{value:f,writable:!1}})},le=function(n,a,t,i){function u(e){return e instanceof t?e:new t(function(s){s(e)})}return new(t||(t=Promise))(function(e,s){function f(o){try{r(i.next(o))}catch(l){s(l)}}function c(o){try{r(i.throw(o))}catch(l){s(l)}}function r(o){o.done?e(o.value):u(o.value).then(f,c)}r((i=i.apply(n,a||[])).next())})},de=function(n,a){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,u,e,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(o){return c([r,o])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(e=r[0]&2?u.return:r[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,r[1])).done)return e;switch(u=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,u=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=a.call(n,t)}catch(o){r=[6,o],u=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},M={},ot=function(n){var a=n.cacheLife,t=function(){for(var c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];return le(void 0,void 0,void 0,function(){var o,l,m;return de(this,function(p){for(o=0,l=c;o<l.length;o++)m=l[o],delete M[m],delete M[m+":ts"];return[2]})})},i=function(c){var r=M[c+":ts"],o=r>0&&r<Date.now();return o&&t(c),o||!M[c]},u=function(c){return le(void 0,void 0,void 0,function(){return de(this,function(r){return i(c)?[2]:[2,M[c]]})})},e=function(c,r){return le(void 0,void 0,void 0,function(){return de(this,function(o){return M[c]=r,M[c+":ts"]=a>0?Date.now()+a:0,[2]})})},s=function(c){return le(void 0,void 0,void 0,function(){return de(this,function(r){return[2,!i(c)]})})},f=function(){return le(void 0,void 0,void 0,function(){return de(this,function(c){return M={},[2]})})};return Object.defineProperties(M,{get:{value:u,writable:!1,configurable:!0},set:{value:e,writable:!1,configurable:!0},has:{value:s,writable:!1,configurable:!0},delete:{value:t,writable:!1,configurable:!0},clear:{value:f,writable:!1,configurable:!0}})},st=z.NETWORK_ONLY,ct=z.NO_CACHE,ft=function(n){var a=n.persist,t=n.cacheLife,i=n.cachePolicy,u=ir(),e=u.isNative,s=u.isServer;return k(!(s&&a),"There is no persistent storage on the Server currently! \u{1F645}\u200D\u2642\uFE0F"),k(!(e&&a),"React Native support for persistent cache is not yet implemented. \u{1F645}\u200D\u2642\uFE0F"),k(!(a&&[ct,st].includes(i)),"You cannot use option 'persist' with cachePolicy: "+i+" \u{1F645}\u200D\u2642\uFE0F"),a?ut({cacheLife:t||24*36e5}):ot({cacheLife:t})},xe=function(){return xe=Object.assign||function(n){for(var a,t=1,i=arguments.length;t<i;t++){a=arguments[t];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},xe.apply(this,arguments)},Fe=function(n,a,t,i){function u(e){return e instanceof t?e:new t(function(s){s(e)})}return new(t||(t=Promise))(function(e,s){function f(o){try{r(i.next(o))}catch(l){s(l)}}function c(o){try{r(i.throw(o))}catch(l){s(l)}}function r(o){o.done?e(o.value):u(o.value).then(f,c)}r((i=i.apply(n,a||[])).next())})},Ue=function(n,a){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},i,u,e,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(r){return function(o){return c([r,o])}}function c(r){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,u&&(e=r[0]&2?u.return:r[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,r[1])).done)return e;switch(u=0,e&&(r=[r[0]&2,e.value]),r[0]){case 0:case 1:e=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,u=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!e||r[1]>e[0]&&r[1]<e[3])){t.label=r[1];break}if(r[0]===6&&t.label<e[1]){t.label=e[1],e=r;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(r);break}e[2]&&t.ops.pop(),t.trys.pop();continue}r=a.call(n,t)}catch(o){r=[6,o],u=0}finally{i=e=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},lt=function(n,a){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(n);u<i.length;u++)a.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(n,i[u])&&(t[i[u]]=n[i[u]]);return t},wr=z.CACHE_FIRST;function dt(){for(var n=this,a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var i=at.apply(void 0,a),u=i.host,e=i.path,s=i.customOptions,f=i.requestInit,c=i.dependencies,r=s.cacheLife,o=s.cachePolicy,l=s.interceptors,m=s.onAbort,p=s.onError,d=s.onNewData,y=s.onTimeout,j=s.perPage,_=s.persist,b=s.responseType,E=s.retries,g=s.retryDelay,w=s.retryOn,C=s.suspense,Ee=s.timeout,ve=lt(s,["cacheLife","cachePolicy","interceptors","onAbort","onError","onNewData","onTimeout","perPage","persist","responseType","retries","retryDelay","retryOn","suspense","timeout"]),Se=ft({persist:_,cacheLife:r,cachePolicy:o}),_e=ir().isServer,K=h.exports.useRef(),F=h.exports.useRef({}),D=h.exports.useRef(ve.data),Ce=h.exports.useRef(!1),U=h.exports.useRef(0),N=h.exports.useRef(),$e=h.exports.useRef(!0),Re=h.exports.useRef("pending"),he=h.exports.useRef(),qe=h.exports.useRef(!1),We=qr(ve.loading),Te=We[0],He=We[1],Je=h.exports.useReducer(function(){return{}},[])[1],P=et(function(W){var O=function($,L){return Fe(n,void 0,void 0,function(){var q,A,H,J,X,Ne,ze,R,Be,Pe,Y,Z,me,ye,ee,be,Y,Z,ge,we,ee;return Ue(this,function(x){switch(x.label){case 0:return _e?[2]:(K.current=new AbortController,K.current.signal.onabort=m,q=K.current,[4,it(f,W,q,r,Se,u,e,$,L,l.request)]);case 1:if(A=x.sent(),H=A.url,J=A.options,X=A.response,N.current=void 0,j>0&&!$e.current&&!N.current)return[2,D.current];C||He(!0),Ne=Ee&&setTimeout(function(){Ce.current=!0,q.abort(),y&&y()},Ee),x.label=2;case 2:return x.trys.push([2,17,23,24]),X.isCached&&o===wr?(R=X.cached,[3,5]):[3,3];case 3:return[4,fetch(H,J)];case 4:R=x.sent().clone(),x.label=5;case 5:return F.current=R.clone(),[4,Gr(R,ve.data,b)];case 6:return ze=x.sent(),F.current.data=d(D.current,ze),Be=F,l.response?[4,l.response({response:F.current,request:f})]:[3,8];case 7:return Pe=x.sent(),[3,9];case 8:Pe=F.current,x.label=9;case 9:return Be.current=Pe,k("data"in F.current,"You must have `data` field on the Response returned from your `interceptors.response`"),D.current=F.current.data,Y={attempt:U.current,response:R},me=!I(w)&&Array.isArray(w)&&w.length<1&&(R==null?void 0:R.ok)===!1||Array.isArray(w)&&w.includes(R.status),me?[3,12]:(ye=I(w),ye?[4,w(Y)]:[3,11]);case 10:ye=x.sent(),x.label=11;case 11:me=ye,x.label=12;case 12:return Z=me&&E>0&&E>U.current,Z?[4,pe(Y,$,L)]:[3,14];case 13:return ee=x.sent(),[2,ee];case 14:return o===wr&&!X.isCached?[4,Se.set(X.id,R.clone())]:[3,16];case 15:x.sent(),x.label=16;case 16:return Array.isArray(D.current)&&!!(D.current.length%j)&&($e.current=!1),[3,24];case 17:return be=x.sent(),U.current>=E&&Ce.current&&(N.current=hr("AbortError","Timeout Error")),Y={attempt:U.current,error:be},ge=!I(w)&&Array.isArray(w)&&w.length<1,ge?[3,20]:(we=I(w),we?[4,w(Y)]:[3,19]);case 18:we=x.sent(),x.label=19;case 19:ge=we,x.label=20;case 20:return Z=ge&&E>0&&E>U.current,Z?[4,pe(Y,$,L)]:[3,22];case 21:return ee=x.sent(),[2,ee];case 22:return be.name!=="AbortError"&&(N.current=be),[3,24];case 23:return Ce.current=!1,Ne&&clearTimeout(Ne),K.current=void 0,[7];case 24:return R&&!R.ok&&!N.current&&(N.current=hr(R.status,R.statusText)),C||He(!1),U.current===E&&(U.current=0),N.current&&p({error:N.current}),[2,D.current]}})})},pe=function($,L,q){return Fe(n,void 0,void 0,function(){var A,H;return Ue(this,function(J){switch(J.label){case 0:return A=I(g)?g($):g,Number.isInteger(A)&&A>=0||console.error("retryDelay must be a number >= 0! If you're using it as a function, it must also return a number >= 0."),U.current++,A?[4,rt(A)]:[3,2];case 1:J.sent(),J.label=2;case 2:return[4,O(L,q)];case 3:return H=J.sent(),[2,H]}})})};return C?function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];return Fe(n,void 0,void 0,function(){var q;return Ue(this,function(A){switch(A.label){case 0:return he.current=O.apply(void 0,$).then(function(H){return Re.current="success",H},function(){Re.current="error"}),Je(),[4,he.current];case 1:return q=A.sent(),[2,q]}})})}:O},[_e,m,f,u,e,l,o,j,Ee,_,r,y,ve.data,d,Je,C]),Ae=h.exports.useCallback(P(S.POST),[P]),Ye=h.exports.useCallback(P(S.DELETE),[P]),Q=h.exports.useMemo(function(){return Object.defineProperties({get:P(S.GET),post:Ae,patch:P(S.PATCH),put:P(S.PUT),options:P(S.OPTIONS),head:P(S.HEAD),connect:P(S.CONNECT),trace:P(S.TRACE),del:Ye,delete:Ye,abort:function(){return K.current&&K.current.abort()},query:function(W,O){return Ae({query:W,variables:O})},mutate:function(W,O){return Ae({mutation:W,variables:O})},cache:Se},{loading:{get:function(){return Te.current}},error:{get:function(){return N.current}},data:{get:function(){return D.current}}})},[P]),Ke=h.exports.useMemo(function(){return vr(F,D)},[]);if(h.exports.useEffect(function(){if(qe.current=!0,Array.isArray(c)){var W=f.method||S.GET,O=W.toLowerCase(),pe=Q[O];pe()}return function(){return qe.current=!1}},c),h.exports.useEffect(function(){return Q.abort},[]),C&&he.current){if(_e)throw new Error("Suspense on server side is not yet supported! \u{1F645}\u200D\u2642\uFE0F");switch(Re.current){case"pending":throw he.current;case"error":throw N.current}}return Object.assign([Q,Ke,Te.current,N.current],xe(xe({request:Q,response:Ke},Q),{loading:Te.current,data:D.current,error:N.current}))}function vt(n,a,t={}){const i=h.exports.useRef();if(!i.current){i.current=new URL(n,window.location);for(const p in a)Object.prototype.hasOwnProperty.call(a,p)&&i.current.searchParams.set(p,a[p])}const[u,e]=h.exports.useState(i.current.href);h.exports.useEffect(()=>{i.current=new URL(n,window.location);for(const p in a)Object.prototype.hasOwnProperty.call(a,p)&&i.current.searchParams.set(p,a[p]);e(i.current.href)},[n,i,a]);const s=i.current.searchParams.get("cursor"),{loading:f,error:c,data:{entries:r,meta:{next_cursor:o}}}=dt(u,{headers:{"content-type":"application/json",...t.headers},onNewData:(p,d)=>s?{entries:[...p.entries,...d.entries],meta:d.meta}:{entries:d,meta:{next_cursor:null}},data:{entries:[],meta:{next_cursor:null}}},[u]),l=h.exports.useCallback(()=>{o&&(i.current.searchParams.set("cursor",o),e(i.current.href))},[i,o]);return{loading:f,error:c,entries:!s&&f?[]:r,loadMore:l,hasMore:o&&s!==o}}const ht=Or.publicRuntimeConfig.apiServer;function pt(){const n=Cr(),{t:a}=Er(),t=new Map(new URLSearchParams(Rr().search).entries()),[i,u]=h.exports.useState({source:"scene_listings",filter:t.get("filter"),q:t.get("q")||""}),e=h.exports.useCallback(d=>{const y=new URLSearchParams;for(const j in d)j==="source"||!d[j]||y.set(j,d[j]);n.push(`/editor/create?${y}`),u(d)},[n]),s=d=>()=>{n.push(d)},f=h.exports.useCallback(d=>{e({source:"scene_listings",q:d})},[e]);h.exports.useCallback(()=>{e({...i,q:""})},[e,i]);const c=h.exports.useCallback(d=>{const y=new URLSearchParams;y.set("sceneId",d.id),n.push(`/editor/projects/new?${y}`)},[n]),{loading:r,error:o,entries:l}=vt(`${ht}/media-search`,i),m=!1,p=Array.isArray(l)?l.map(d=>({...d,url:`/editor/projects/new?sceneId=${d.id}`,thumbnailUrl:d&&d.images&&d.images.preview&&d.images.preview.url})):[];return Sr,a("editor:projects.createProject.ph-search"),i.q,v.createElement(v.Fragment,null,v.createElement("main",null,v.createElement(Le,null,v.createElement(De,null,v.createElement(nr,null,v.createElement("h1",null,a("editor:projects.createProject.header")),v.createElement(Mr,{href:"/editor/projects"},a("editor:projects.createProject.backLink"))),v.createElement(Qe,null,v.createElement(Xe,null,v.createElement(ke,null,v.createElement(tr,{onClick:s("/editor/projects/new")},a("editor:projects.createProject.newProject")))),v.createElement(Ze,null,v.createElement(Ir,null),o&&v.createElement(er,null,o.message),!o&&v.createElement(Dr,{initialLoad:!1,pageStart:0,loadMore:()=>{},hasMore:m,threshold:100,useWindow:!0},v.createElement(rr,{projects:p,newProjectPath:"/editor/projects/new",newProjectLabel:a("editor:projects.createProject.newProject"),onSelectProject:c,loading:r}))))))))}var Ut=_r(pt);export{Ut as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3JlYXRlUHJvamVjdFBhZ2UuNDMwZDVlOGQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VkaXRvci9zcmMvY29tcG9uZW50cy9yb3V0ZXIvU2Nyb2xsVG9Ub3AudHN4IiwiLi4vLi4vLi4vZWRpdG9yL3NyYy9jb21wb25lbnRzL2lucHV0cy9QcmltYXJ5TGluay50c3giLCIuLi8uLi8uLi9lZGl0b3Ivc3JjL2NvbXBvbmVudHMvcHJvamVjdHMvUHJvamVjdHNQYWdlLnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy91c2Utc3NyL2Rpc3QvdXNlU1NSLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Vycy9kaXN0L3VzZVJlZlN0YXRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VzZS1odHRwL2Rpc3QvZXNtL3R5cGVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VzZS1odHRwL2Rpc3QvZXNtL3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VzZS1odHRwL2Rpc3QvZXNtL0ZldGNoQ29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy91c2UtaHR0cC9kaXN0L2VzbS9kZWZhdWx0cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy91c2UtaHR0cC9kaXN0L2VzbS91c2VGZXRjaEFyZ3MuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdXNlLWh0dHAvZGlzdC9lc20vZG9GZXRjaEFyZ3MuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdXNlLWh0dHAvZGlzdC9lc20vc3RvcmFnZS9sb2NhbFN0b3JhZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdXNlLWh0dHAvZGlzdC9lc20vc3RvcmFnZS9tZW1vcnlTdG9yYWdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VzZS1odHRwL2Rpc3QvZXNtL3VzZUNhY2hlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VzZS1odHRwL2Rpc3QvZXNtL3VzZUZldGNoLmpzIiwiLi4vLi4vLi4vZWRpdG9yL3NyYy9jb21wb25lbnRzL3Byb2plY3RzL3VzZVBhZ2luYXRlZFNlYXJjaC50c3giLCIuLi8uLi8uLi9lZGl0b3Ivc3JjL2NvbXBvbmVudHMvcHJvamVjdHMvQ3JlYXRlUHJvamVjdFBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbi8vIGltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNjcm9sbFRvVG9wKCkge1xuICAvLyBjb25zdCB7IHBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICAvLyB1c2VFZmZlY3QoXG4gIC8vICAgKCkgPT4ge1xuICAvLyAgICAgLy8gd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAvLyAgIH0sXG4gIC8vICAgW11cbiAgLy8gKTtcbiAgcmV0dXJuIDxSZWFjdC5GcmFnbWVudCAvPlxufVxuIiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcblxuLyoqXG4gKiBAYXV0aG9yIFJvYmVydCBMb25nXG4gKi9cbmNvbnN0IFByaW1hcnlMaW5rID0gc3R5bGVkLmFgXG4gIGZvbnQtc2l6ZTogMS4yZW07XG4gIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuYmx1ZX07XG4gIGxpbmUtaGVpZ2h0OiAzZW07XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG5gXG5cbi8qKlxuICogQGF1dGhvciBSb2JlcnQgTG9uZ1xuICovXG5leHBvcnQgZGVmYXVsdCBQcmltYXJ5TGlua1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgd2l0aFRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgeyBkZWxldGVQcm9qZWN0LCBnZXRQcm9qZWN0cyB9IGZyb20gJy4uLy4uL2Z1bmN0aW9ucy9wcm9qZWN0RnVuY3Rpb25zJ1xuaW1wb3J0IHsgQnV0dG9uLCBNZWRpdW1CdXR0b24gfSBmcm9tICcuLi9pbnB1dHMvQnV0dG9uJ1xuaW1wb3J0IHsgY29ubmVjdE1lbnUsIENvbnRleHRNZW51LCBNZW51SXRlbSB9IGZyb20gJy4uL2xheW91dC9Db250ZXh0TWVudSdcblxuaW1wb3J0IHtcbiAgRXJyb3JNZXNzYWdlLFxuICBQcm9qZWN0R3JpZCxcbiAgUHJvamVjdEdyaWRDb250YWluZXIsXG4gIFByb2plY3RHcmlkQ29udGVudCxcbiAgUHJvamVjdEdyaWRIZWFkZXIsXG4gIFByb2plY3RHcmlkSGVhZGVyUm93XG59IGZyb20gJy4vUHJvamVjdEdyaWQnXG5pbXBvcnQgdGVtcGxhdGVzIGZyb20gJy4vdGVtcGxhdGVzJ1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIFJvYmVydCBMb25nXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9qZWN0c1NlY3Rpb24gPSAoc3R5bGVkIGFzIGFueSkuc2VjdGlvbmBcbiAgcGFkZGluZy1ib3R0b206IDEwMHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4OiAkeyhwcm9wcykgPT4gKHByb3BzLmZsZXggPT09IHVuZGVmaW5lZCA/IDEgOiBwcm9wcy5mbGV4KX07XG5cbiAgJjpmaXJzdC1jaGlsZCB7XG4gICAgcGFkZGluZy10b3A6IDEwMHB4O1xuICB9XG5cbiAgaDEge1xuICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgfVxuXG4gIGgyIHtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gIH1cbmBcblxuLyoqXG4gKlxuICogQGF1dGhvciBSb2JlcnQgTG9uZ1xuICovXG5leHBvcnQgY29uc3QgUHJvamVjdHNDb250YWluZXIgPSAoc3R5bGVkIGFzIGFueSkuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4OiAxO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW46IDAgYXV0bztcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gIHBhZGRpbmc6IDAgMjBweDtcbmBcblxuLyoqXG4gKlxuICogQGF1dGhvciBSb2JlcnQgTG9uZ1xuICovXG5jb25zdCBXZWxjb21lQ29udGFpbmVyID0gKHN0eWxlZCBhcyBhbnkpKFByb2plY3RzQ29udGFpbmVyKWBcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAmID4gKiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgJiA+ICo6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gIH1cblxuICBoMiB7XG4gICAgbWF4LXdpZHRoOiA0ODBweDtcbiAgfVxuYFxuXG4vKipcbiAqXG4gKiBAYXV0aG9yIFJvYmVydCBMb25nXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9qZWN0c0hlYWRlciA9IChzdHlsZWQgYXMgYW55KS5kaXZgXG4gIG1hcmdpbi1ib3R0b206IDM2cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmBcblxuY29uc3QgY29udGV4dE1lbnVJZCA9ICdwcm9qZWN0LW1lbnUnXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgUm9iZXJ0IExvbmdcbiAqL1xuY2xhc3MgUHJvamVjdHNQYWdlIGV4dGVuZHMgQ29tcG9uZW50PHsgdDogRnVuY3Rpb247IGhpc3Rvcnk6IGFueSB9PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcHJvamVjdHM6IFtdLFxuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gV2UgZG9udCBuZWVkIHRvIGxvYWQgcHJvamVjdHMgaWYgdGhlIHVzZXIgaXNuJ3QgbG9nZ2VkIGluXG4gICAgZ2V0UHJvamVjdHMoKVxuICAgICAgLnRoZW4oKHByb2plY3RzKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHByb2plY3RzOiBwcm9qZWN0cy5tYXAoKHByb2plY3QpID0+ICh7XG4gICAgICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICAgICAgdXJsOiBgL2VkaXRvci9wcm9qZWN0cy8ke3Byb2plY3QucHJvamVjdF9pZH1gXG4gICAgICAgICAgfSkpLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIC8vIFVzZXIgaGFzIGFuIGludmFsaWQgYXV0aCB0b2tlbi4gUHJvbXB0IHRoZW0gdG8gbG9naW4gYWdhaW4uXG4gICAgICAgICAgcmV0dXJuICh0aGlzLnByb3BzIGFzIGFueSkuaGlzdG9yeS5wdXNoKCcvJywgeyBmcm9tOiAnL2VkaXRvci9wcm9qZWN0cycgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvciwgbG9hZGluZzogZmFsc2UgfSlcbiAgICAgIH0pXG4gIH1cblxuICBvbkRlbGV0ZVByb2plY3QgPSAocHJvamVjdCkgPT4ge1xuICAgIGRlbGV0ZVByb2plY3QocHJvamVjdC5wcm9qZWN0X2lkKVxuICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHByb2plY3RzOiAodGhpcy5zdGF0ZSBhcyBhbnkpLnByb2plY3RzLmZpbHRlcigocCkgPT4gcC5wcm9qZWN0X2lkICE9PSBwcm9qZWN0LnByb2plY3RfaWQpIH0pXG4gICAgICApXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB0aGlzLnNldFN0YXRlKHsgZXJyb3IgfSkpXG4gIH1cblxuICByZW5kZXJDb250ZXh0TWVudSA9IChwcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGV4dE1lbnUgaWQ9e2NvbnRleHRNZW51SWR9PlxuICAgICAgICA8TWVudUl0ZW0gb25DbGljaz17KCkgPT4gdGhpcy5vbkRlbGV0ZVByb2plY3QocHJvcHMudHJpZ2dlci5wcm9qZWN0KX0+RGVsZXRlIFByb2plY3Q8L01lbnVJdGVtPlxuICAgICAgPC9Db250ZXh0TWVudT5cbiAgICApXG4gIH1cblxuICBQcm9qZWN0Q29udGV4dE1lbnUgPSBjb25uZWN0TWVudShjb250ZXh0TWVudUlkKSh0aGlzLnJlbmRlckNvbnRleHRNZW51KVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVycm9yLCBsb2FkaW5nLCBwcm9qZWN0cywgaXNBdXRoZW50aWNhdGVkIH0gPSB0aGlzLnN0YXRlIGFzIGFueVxuXG4gICAgY29uc3QgUHJvamVjdENvbnRleHRNZW51ID0gdGhpcy5Qcm9qZWN0Q29udGV4dE1lbnVcblxuICAgIGNvbnN0IHRvcFRlbXBsYXRlcyA9IFtdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBsYXRlcy5sZW5ndGggJiYgaSA8IDQ7IGkrKykge1xuICAgICAgdG9wVGVtcGxhdGVzLnB1c2godGVtcGxhdGVzW2ldKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8bWFpbj5cbiAgICAgICAgICB7IWlzQXV0aGVudGljYXRlZCB8fCAocHJvamVjdHMubGVuZ3RoID09PSAwICYmICFsb2FkaW5nKSA/IChcbiAgICAgICAgICAgIDxQcm9qZWN0c1NlY3Rpb24gZmxleD17MH0+XG4gICAgICAgICAgICAgIDxXZWxjb21lQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50KCdlZGl0b3I6cHJvamVjdHMucGFnZS5oZWFkZXInKX08L2gxPlxuICAgICAgICAgICAgICAgIDxoMj57dGhpcy5wcm9wcy50KCdlZGl0b3I6cHJvamVjdHMucGFnZS5oZWFkZXJNc2cnKX08L2gyPlxuICAgICAgICAgICAgICAgIDxNZWRpdW1CdXR0b24gYXM9XCJhXCIgaHJlZj1cIi9wcm9qZWN0cy90dXRvcmlhbFwiPlxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMudCgnZWRpdG9yOnByb2plY3RzLnBhZ2UubGJsLXN0YXJ0VHV0b3JpYWwnKX1cbiAgICAgICAgICAgICAgICA8L01lZGl1bUJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9XZWxjb21lQ29udGFpbmVyPlxuICAgICAgICAgICAgPC9Qcm9qZWN0c1NlY3Rpb24+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPFByb2plY3RzU2VjdGlvbj5cbiAgICAgICAgICAgIDxQcm9qZWN0c0NvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPFByb2plY3RzSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50KCdlZGl0b3I6cHJvamVjdHMucGFnZS5wcm9qZWN0cycpfTwvaDE+XG4gICAgICAgICAgICAgIDwvUHJvamVjdHNIZWFkZXI+XG4gICAgICAgICAgICAgIDxQcm9qZWN0R3JpZENvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8UHJvamVjdEdyaWRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICA8UHJvamVjdEdyaWRIZWFkZXJSb3cgLz5cbiAgICAgICAgICAgICAgICAgIDxQcm9qZWN0R3JpZEhlYWRlclJvdz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBhcz1cImFcIiBocmVmPVwiL2VkaXRvci9jcmVhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy50KCdlZGl0b3I6cHJvamVjdHMucGFnZS5sYmwtbmV3UHJvamVjdCcpfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvUHJvamVjdEdyaWRIZWFkZXJSb3c+XG4gICAgICAgICAgICAgICAgPC9Qcm9qZWN0R3JpZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8UHJvamVjdEdyaWRDb250ZW50PlxuICAgICAgICAgICAgICAgICAge2Vycm9yICYmIDxFcnJvck1lc3NhZ2U+e2Vycm9yLm1lc3NhZ2V9PC9FcnJvck1lc3NhZ2U+fVxuICAgICAgICAgICAgICAgICAgeyFlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxQcm9qZWN0R3JpZFxuICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgcHJvamVjdHM9e3Byb2plY3RzfVxuICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2plY3RQYXRoPVwiL2VkaXRvci9wcm9qZWN0cy90ZW1wbGF0ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRNZW51SWQ9e2NvbnRleHRNZW51SWR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvUHJvamVjdEdyaWRDb250ZW50PlxuICAgICAgICAgICAgICA8L1Byb2plY3RHcmlkQ29udGFpbmVyPlxuICAgICAgICAgICAgPC9Qcm9qZWN0c0NvbnRhaW5lcj5cbiAgICAgICAgICA8L1Byb2plY3RzU2VjdGlvbj5cbiAgICAgICAgICA8UHJvamVjdENvbnRleHRNZW51IC8+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgIDwvPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoVHJhbnNsYXRpb24oKShQcm9qZWN0c1BhZ2UpXG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRGV2aWNlO1xuKGZ1bmN0aW9uIChEZXZpY2UpIHtcbiAgICBEZXZpY2VbXCJCcm93c2VyXCJdID0gXCJicm93c2VyXCI7XG4gICAgRGV2aWNlW1wiU2VydmVyXCJdID0gXCJzZXJ2ZXJcIjtcbiAgICBEZXZpY2VbXCJOYXRpdmVcIl0gPSBcIm5hdGl2ZVwiO1xufSkoRGV2aWNlID0gZXhwb3J0cy5EZXZpY2UgfHwgKGV4cG9ydHMuRGV2aWNlID0ge30pKTtcbnZhciBCcm93c2VyID0gRGV2aWNlLkJyb3dzZXIsIFNlcnZlciA9IERldmljZS5TZXJ2ZXIsIE5hdGl2ZSA9IERldmljZS5OYXRpdmU7XG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG52YXIgY2FuVXNlTmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PSAnUmVhY3ROYXRpdmUnO1xudmFyIGRldmljZSA9IGNhblVzZU5hdGl2ZSA/IE5hdGl2ZSA6IGNhblVzZURPTSA/IEJyb3dzZXIgOiBTZXJ2ZXI7XG52YXIgU1NST2JqZWN0ID0ge1xuICAgIGlzQnJvd3NlcjogZGV2aWNlID09PSBCcm93c2VyLFxuICAgIGlzU2VydmVyOiBkZXZpY2UgPT09IFNlcnZlcixcbiAgICBpc05hdGl2ZTogZGV2aWNlID09PSBOYXRpdmUsXG4gICAgZGV2aWNlOiBkZXZpY2UsXG4gICAgY2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGRldmljZSA9PT0gQnJvd3NlciAmJiAhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLFxuICAgIGNhblVzZVZpZXdwb3J0OiBkZXZpY2UgPT09IEJyb3dzZXIgJiYgISF3aW5kb3cuc2NyZWVuLFxufTtcbi8vIFRPRE86IGluc3RlYWQgb2YgdGhpcywgZG8gYSBwb2x5ZmlsbCBmb3IgYE9iamVjdC5hc3NpZ25gIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2VzNi1vYmplY3QtYXNzaWduXG52YXIgYXNzaWduID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgb2JqKSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGFjYyksIG9iaikpOyB9LCB7fSk7XG59O1xudmFyIHZhbHVlcyA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9ialtrZXldOyB9KTsgfTtcbnZhciB0b0FycmF5T2JqZWN0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNzaWduKCh2YWx1ZXMoU1NST2JqZWN0KSwgU1NST2JqZWN0KSk7IH07XG52YXIgdXNlU1NST2JqZWN0ID0gdG9BcnJheU9iamVjdCgpO1xuZXhwb3J0cy53ZUFyZVNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBTU1JPYmplY3QuaXNTZXJ2ZXIgPSB0cnVlO1xuICAgIHVzZVNTUk9iamVjdCA9IHRvQXJyYXlPYmplY3QoKTtcbn07XG5leHBvcnRzLnVzZVNTUiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVNTUk9iamVjdDsgfTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMudXNlU1NSO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gcGFyYW0gaXMgYW4gb2JqZWN0LiB7fVxuICogQHBhcmFtIG9ialxuICovXG5leHBvcnRzLmlzT2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG52YXIgdXNlTW91bnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW91bnRlZCA9IHJlYWN0XzEudXNlUmVmKGZhbHNlKTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIG1vdW50ZWQ7XG59O1xuZnVuY3Rpb24gdXNlUmVmU3RhdGUoaW5pdGlhbFN0YXRlLCBibG9ja0lmVW5tb3VudGVkKSB7XG4gICAgaWYgKGJsb2NrSWZVbm1vdW50ZWQgPT09IHZvaWQgMCkgeyBibG9ja0lmVW5tb3VudGVkID0gdHJ1ZTsgfVxuICAgIHZhciBtb3VudGVkID0gdXNlTW91bnRlZCgpO1xuICAgIHZhciBfYSA9IHJlYWN0XzEudXNlU3RhdGUoaW5pdGlhbFN0YXRlKSwgcmVhY3RTdGF0ZSA9IF9hWzBdLCBzZXRSZWFjdFN0YXRlID0gX2FbMV07XG4gICAgdmFyIHN0YXRlID0gcmVhY3RfMS51c2VSZWYocmVhY3RTdGF0ZSk7XG4gICAgdmFyIHNldFN0YXRlID0gcmVhY3RfMS51c2VDYWxsYmFjayhmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIGlmICghbW91bnRlZC5jdXJyZW50ICYmIGJsb2NrSWZVbm1vdW50ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN0YXRlLmN1cnJlbnQgPSAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykgPyBhcmcoc3RhdGUuY3VycmVudCkgOiBhcmc7XG4gICAgICAgIHNldFJlYWN0U3RhdGUoc3RhdGUuY3VycmVudCk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBbc3RhdGUsIHNldFN0YXRlXTtcbn1cbmV4cG9ydHMudXNlUmVmU3RhdGUgPSB1c2VSZWZTdGF0ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVzZVJlZlN0YXRlO1xuIiwiZXhwb3J0IHZhciBIVFRQTWV0aG9kO1xuKGZ1bmN0aW9uIChIVFRQTWV0aG9kKSB7XG4gICAgSFRUUE1ldGhvZFtcIkRFTEVURVwiXSA9IFwiREVMRVRFXCI7XG4gICAgSFRUUE1ldGhvZFtcIkdFVFwiXSA9IFwiR0VUXCI7XG4gICAgSFRUUE1ldGhvZFtcIkhFQURcIl0gPSBcIkhFQURcIjtcbiAgICBIVFRQTWV0aG9kW1wiT1BUSU9OU1wiXSA9IFwiT1BUSU9OU1wiO1xuICAgIEhUVFBNZXRob2RbXCJQQVRDSFwiXSA9IFwiUEFUQ0hcIjtcbiAgICBIVFRQTWV0aG9kW1wiUE9TVFwiXSA9IFwiUE9TVFwiO1xuICAgIEhUVFBNZXRob2RbXCJQVVRcIl0gPSBcIlBVVFwiO1xuICAgIEhUVFBNZXRob2RbXCJDT05ORUNUXCJdID0gXCJDT05ORUNUXCI7XG4gICAgSFRUUE1ldGhvZFtcIlRSQUNFXCJdID0gXCJUUkFDRVwiO1xufSkoSFRUUE1ldGhvZCB8fCAoSFRUUE1ldGhvZCA9IHt9KSk7XG4vLyBodHRwczovL3d3dy5hcG9sbG9ncmFwaHFsLmNvbS9kb2NzL3JlYWN0L2FwaS9yZWFjdC9ob2MvI29wdGlvbnNmZXRjaHBvbGljeVxuZXhwb3J0IHZhciBDYWNoZVBvbGljaWVzO1xuKGZ1bmN0aW9uIChDYWNoZVBvbGljaWVzKSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZSB3aGVyZSB3ZSBhbHdheXMgdHJ5IHJlYWRpbmcgZGF0YVxuICAgICAqIGZyb20geW91ciBjYWNoZSBmaXJzdC4gSWYgYWxsIHRoZSBkYXRhIG5lZWRlZCB0byBmdWxmaWxsXG4gICAgICogeW91ciBxdWVyeSBpcyBpbiB0aGUgY2FjaGUgdGhlbiB0aGF0IGRhdGEgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKiB1c2VGZXRjaCB3aWxsIG9ubHkgZmV0Y2ggZnJvbSB0aGUgbmV0d29yayBpZiBhIGNhY2hlZCByZXN1bHRcbiAgICAgKiBpcyBub3QgYXZhaWxhYmxlLiBUaGlzIGZldGNoIHBvbGljeSBhaW1zIHRvIG1pbmltaXplIHRoZSBudW1iZXJcbiAgICAgKiBvZiBuZXR3b3JrIHJlcXVlc3RzIHNlbnQgd2hlbiByZW5kZXJpbmcgeW91ciBjb21wb25lbnQuXG4gICAgICovXG4gICAgQ2FjaGVQb2xpY2llc1tcIkNBQ0hFX0ZJUlNUXCJdID0gXCJjYWNoZS1maXJzdFwiO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZmV0Y2ggcG9saWN5IHdpbGwgaGF2ZSB1c2VGZXRjaCBmaXJzdCB0cnlpbmcgdG8gcmVhZCBkYXRhXG4gICAgICogZnJvbSB5b3VyIGNhY2hlLiBJZiBhbGwgdGhlIGRhdGEgbmVlZGVkIHRvIGZ1bGZpbGwgeW91ciBxdWVyeVxuICAgICAqIGlzIGluIHRoZSBjYWNoZSB0aGVuIHRoYXQgZGF0YSB3aWxsIGJlIHJldHVybmVkLiBIb3dldmVyLFxuICAgICAqIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBvciBub3QgdGhlIGZ1bGwgZGF0YSBpcyBpbiB5b3VyIGNhY2hlXG4gICAgICogdGhpcyBmZXRjaFBvbGljeSB3aWxsIGFsd2F5cyBleGVjdXRlIHF1ZXJ5IHdpdGggdGhlIG5ldHdvcmtcbiAgICAgKiBpbnRlcmZhY2UgdW5saWtlIGNhY2hlLWZpcnN0IHdoaWNoIHdpbGwgb25seSBleGVjdXRlIHlvdXIgcXVlcnlcbiAgICAgKiBpZiB0aGUgcXVlcnkgZGF0YSBpcyBub3QgaW4geW91ciBjYWNoZS4gVGhpcyBmZXRjaCBwb2xpY3kgb3B0aW1pemVzXG4gICAgICogZm9yIHVzZXJzIGdldHRpbmcgYSBxdWljayByZXNwb25zZSB3aGlsZSBhbHNvIHRyeWluZyB0byBrZWVwXG4gICAgICogY2FjaGVkIGRhdGEgY29uc2lzdGVudCB3aXRoIHlvdXIgc2VydmVyIGRhdGEgYXQgdGhlIGNvc3Qgb2YgZXh0cmFcbiAgICAgKiBuZXR3b3JrIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIENhY2hlUG9saWNpZXNbXCJDQUNIRV9BTkRfTkVUV09SS1wiXSA9IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZldGNoIHBvbGljeSB3aWxsIG5ldmVyIHJldHVybiB5b3VyIGluaXRpYWwgZGF0YSBmcm9tIHRoZVxuICAgICAqIGNhY2hlLiBJbnN0ZWFkIGl0IHdpbGwgYWx3YXlzIG1ha2UgYSByZXF1ZXN0IHVzaW5nIHlvdXIgbmV0d29ya1xuICAgICAqIGludGVyZmFjZSB0byB0aGUgc2VydmVyLiBUaGlzIGZldGNoIHBvbGljeSBvcHRpbWl6ZXMgZm9yIGRhdGFcbiAgICAgKiBjb25zaXN0ZW5jeSB3aXRoIHRoZSBzZXJ2ZXIsIGJ1dCBhdCB0aGUgY29zdCBvZiBhbiBpbnN0YW50IHJlc3BvbnNlXG4gICAgICogdG8gdGhlIHVzZXIgd2hlbiBvbmUgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIENhY2hlUG9saWNpZXNbXCJORVRXT1JLX09OTFlcIl0gPSBcIm5ldHdvcmstb25seVwiO1xuICAgIC8qKlxuICAgICAqIFRoaXMgZmV0Y2ggcG9saWN5IHdpbGwgbmV2ZXIgZXhlY3V0ZSBhIHF1ZXJ5IHVzaW5nIHlvdXIgbmV0d29ya1xuICAgICAqIGludGVyZmFjZS4gSW5zdGVhZCBpdCB3aWxsIGFsd2F5cyB0cnkgcmVhZGluZyBmcm9tIHRoZSBjYWNoZS4gSWYgdGhlXG4gICAgICogZGF0YSBmb3IgeW91ciBxdWVyeSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGUgdGhlbiBhbiBlcnJvciB3aWxsIGJlXG4gICAgICogdGhyb3duLiBUaGlzIGZldGNoIHBvbGljeSBhbGxvd3MgeW91IHRvIG9ubHkgaW50ZXJhY3Qgd2l0aCBkYXRhIGluXG4gICAgICogeW91ciBsb2NhbCBjbGllbnQgY2FjaGUgd2l0aG91dCBtYWtpbmcgYW55IG5ldHdvcmsgcmVxdWVzdHMgd2hpY2hcbiAgICAgKiBrZWVwcyB5b3VyIGNvbXBvbmVudCBmYXN0LCBidXQgbWVhbnMgeW91ciBsb2NhbCBkYXRhIG1pZ2h0IG5vdCBiZVxuICAgICAqIGNvbnNpc3RlbnQgd2l0aCB3aGF0IGlzIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ2FjaGVQb2xpY2llc1tcIkNBQ0hFX09OTFlcIl0gPSBcImNhY2hlLW9ubHlcIjtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZldGNoIHBvbGljeSB3aWxsIG5ldmVyIHJldHVybiB5b3VyIGluaXRpYWwgZGF0YSBmcm9tIHRoZSBjYWNoZS5cbiAgICAgKiBJbnN0ZWFkIGl0IHdpbGwgYWx3YXlzIG1ha2UgYSByZXF1ZXN0IHVzaW5nIHlvdXIgbmV0d29yayBpbnRlcmZhY2UgdG9cbiAgICAgKiB0aGUgc2VydmVyLiBVbmxpa2UgdGhlIG5ldHdvcmstb25seSBwb2xpY3ksIGl0IGFsc28gd2lsbCBub3Qgd3JpdGVcbiAgICAgKiBhbnkgZGF0YSB0byB0aGUgY2FjaGUgYWZ0ZXIgdGhlIHF1ZXJ5IGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBDYWNoZVBvbGljaWVzW1wiTk9fQ0FDSEVcIl0gPSBcIm5vLWNhY2hlXCI7XG4gICAgQ2FjaGVQb2xpY2llc1tcIkVYQUNUX0NBQ0hFX0FORF9ORVRXT1JLXCJdID0gXCJleGFjdC1jYWNoZS1hbmQtbmV0d29ya1wiO1xufSkoQ2FjaGVQb2xpY2llcyB8fCAoQ2FjaGVQb2xpY2llcyA9IHt9KSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU1NSIGZyb20gJ3VzZS1zc3InO1xuLyoqXG4gKiBVc2VkIGZvciBlcnJvciBjaGVja2luZy4gSWYgdGhlIGNvbmRpdGlvbiBpcyBmYWxzZSwgdGhyb3cgYW4gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGlmIChhID09PSB2b2lkIDApIHsgYSA9ICcnOyB9XG4gICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gJyc7IH1cbiAgICBpZiAoYyA9PT0gdm9pZCAwKSB7IGMgPSAnJzsgfVxuICAgIGlmIChkID09PSB2b2lkIDApIHsgZCA9ICcnOyB9XG4gICAgaWYgKGUgPT09IHZvaWQgMCkgeyBlID0gJyc7IH1cbiAgICBpZiAoZiA9PT0gdm9pZCAwKSB7IGYgPSAnJzsgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYXJnc18xID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgICAgICAgdmFyIGFyZ0luZGV4XzEgPSAwO1xuICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3NfMVthcmdJbmRleF8xKytdOyB9KSk7XG4gICAgICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgdXNlRXhhbXBsZVVSTCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXNCcm93c2VyID0gdXNlU1NSKCkuaXNCcm93c2VyO1xuICAgIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzQnJvd3NlciA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gOiAnaHR0cHM6Ly9leGFtcGxlLmNvbSc7XG4gICAgfSwgW2lzQnJvd3Nlcl0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VVUkxSZXF1aXJlZEludmFyaWFudChjb25kaXRpb24sIG1ldGhvZCwgb3B0aW9uYWxNZXNzYWdlKSB7XG4gICAgdmFyIGV4YW1wbGVVUkwgPSB1c2VFeGFtcGxlVVJMKCk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW52YXJpYW50KGNvbmRpdGlvbiwgbWV0aG9kICsgXCIgcmVxdWlyZXMgYSBVUkwgdG8gYmUgc2V0IGFzIHRoZSAxc3QgYXJndW1lbnQsXFxuXFxuICAgICAgdW5sZXNzIHlvdSB3cmFwIHlvdXIgYXBwIGxpa2U6XFxuXFxuICAgICAgPFByb3ZpZGVyIHVybD1cXFwiXCIgKyBleGFtcGxlVVJMICsgXCJcXFwiPjxBcHAgLz48L1Byb3ZpZGVyPlxcblxcbiAgICAgIFwiICsgb3B0aW9uYWxNZXNzYWdlKTtcbiAgICB9LCBbY29uZGl0aW9uLCBleGFtcGxlVVJMLCBtZXRob2QsIG9wdGlvbmFsTWVzc2FnZV0pO1xufVxuZXhwb3J0IHZhciBpc1N0cmluZyA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZyc7IH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gcGFyYW0gaXMgYW4gb2JqZWN0LiB7fVxuICogQHBhcmFtIG9ialxuICovXG5leHBvcnQgdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHBhcmFtIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgcmVxdWVzdCBib2R5LlxuICogUmV0dXJucyB0cnVlIGZvciBuYXRpdmUgb2JqZWN0cyBvciBhcnJheXMuXG4gKiBAcGFyYW0gb2JqXG4gKi9cbmV4cG9ydCB2YXIgaXNCb2R5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gaXNPYmplY3Qob2JqKSB8fCBBcnJheS5pc0FycmF5KG9iaik7IH07XG5leHBvcnQgdmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gdHlwZW9mIHYgPT09ICdmdW5jdGlvbic7IH07XG5leHBvcnQgdmFyIGlzTnVtYmVyID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7IH07XG4vLyBjb25zdCByZXF1ZXN0RmllbGRzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBSZXF1ZXN0KCcnKSkpXG4vLyBjb25zdCByZXNwb25zZUZpZWxkcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgUmVzcG9uc2UoKSkpXG4vLyBleHBvcnQgY29uc3QgY3VzdG9tUmVzcG9uc2VGaWVsZHMgPSBbLi4ucmVzcG9uc2VGaWVsZHMsICdkYXRhJ11cbi8vIFRPRE86IGNvbWUgYmFjayBhbmQgZml4IHRoZSBcImFueXNcIiBpbiB0aGlzIGh0dHA6Ly9iaXQubHkvMkxtM09MaVxuLyoqXG4gKiBNYWtlcyBhbiBvYmplY3QgdGhhdCB3aWxsIG1hdGNoIHRoZSBzdGFuZGFyZHMgb2YgYSBub3JtYWwgZmV0Y2gncyBvcHRpb25zXG4gKiBha2E6IHB1bGxzIG91dCBhbGwgdXNlRmV0Y2gncyBzcGVjaWFsIG9wdGlvbnMgbGlrZSBcIm9uTW91bnRcIlxuICovXG5leHBvcnQgdmFyIHB1bGxPdXRSZXF1ZXN0SW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICByZXR1cm4ge307XG4gICAgdmFyIHJlcXVlc3RJbml0RmllbGRzID0gW1xuICAgICAgICAnYm9keScsXG4gICAgICAgICdjYWNoZScsXG4gICAgICAgICdjcmVkZW50aWFscycsXG4gICAgICAgICdoZWFkZXJzJyxcbiAgICAgICAgJ2ludGVncml0eScsXG4gICAgICAgICdrZWVwYWxpdmUnLFxuICAgICAgICAnbWV0aG9kJyxcbiAgICAgICAgJ21vZGUnLFxuICAgICAgICAncmVkaXJlY3QnLFxuICAgICAgICAncmVmZXJyZXInLFxuICAgICAgICAncmVmZXJyZXJQb2xpY3knLFxuICAgICAgICAnc2lnbmFsJyxcbiAgICAgICAgJ3dpbmRvdydcbiAgICBdO1xuICAgIHJldHVybiByZXF1ZXN0SW5pdEZpZWxkcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gb3B0aW9ucylcbiAgICAgICAgICAgIGFjY1trZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5leHBvcnQgdmFyIGlzRW1wdHkgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gdW5kZWZpbmVkIHx8IHggPT09IG51bGw7IH07XG5leHBvcnQgdmFyIERldmljZTtcbihmdW5jdGlvbiAoRGV2aWNlKSB7XG4gICAgRGV2aWNlW1wiQnJvd3NlclwiXSA9IFwiYnJvd3NlclwiO1xuICAgIERldmljZVtcIlNlcnZlclwiXSA9IFwic2VydmVyXCI7XG4gICAgRGV2aWNlW1wiTmF0aXZlXCJdID0gXCJuYXRpdmVcIjtcbn0pKERldmljZSB8fCAoRGV2aWNlID0ge30pKTtcbnZhciBCcm93c2VyID0gRGV2aWNlLkJyb3dzZXIsIFNlcnZlciA9IERldmljZS5TZXJ2ZXIsIE5hdGl2ZSA9IERldmljZS5OYXRpdmU7XG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgICB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG52YXIgY2FuVXNlTmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZSc7XG52YXIgZGV2aWNlID0gY2FuVXNlTmF0aXZlID8gTmF0aXZlIDogY2FuVXNlRE9NID8gQnJvd3NlciA6IFNlcnZlcjtcbmV4cG9ydCB2YXIgaXNCcm93c2VyID0gZGV2aWNlID09PSBCcm93c2VyO1xuZXhwb3J0IHZhciBpc1NlcnZlciA9IGRldmljZSA9PT0gU2VydmVyO1xuZXhwb3J0IHZhciBpc05hdGl2ZSA9IGRldmljZSA9PT0gTmF0aXZlO1xuZXhwb3J0IHZhciB0cnlHZXREYXRhID0gZnVuY3Rpb24gKHJlcywgZGVmYXVsdERhdGEsIHJlc3BvbnNlVHlwZSkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHlwZXMsIGRhdGE7XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXMgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUmVzcG9uc2UgY2Fubm90IGJlIHVuZGVmaW5lZC4uLiDwn5i1Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigncmVzcG9uc2VUeXBlIGNhbm5vdCBiZSB1bmRlZmluZWQuLi4g8J+YtScpO1xuICAgICAgICAgICAgICAgIHR5cGVzID0gKEFycmF5LmlzQXJyYXkocmVzcG9uc2VUeXBlKSA/IHJlc3BvbnNlVHlwZSA6IFtyZXNwb25zZVR5cGVdKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZXNbMF0gPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2NvdWxkIG5vdCBwYXJzZSBkYXRhIGZyb20gcmVzcG9uc2Ug8J+YtScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRyeVJldHJ5KHJlcywgdHlwZXMpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAhaXNFbXB0eShkZWZhdWx0RGF0YSkgJiYgaXNFbXB0eShkYXRhKSA/IGRlZmF1bHREYXRhIDogZGF0YV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9O1xudmFyIHRyeVJldHJ5ID0gZnVuY3Rpb24gKHJlcywgdHlwZXMsIGkpIHtcbiAgICBpZiAoaSA9PT0gdm9pZCAwKSB7IGkgPSAwOyB9XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcl8xO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDIsICwgM10pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMuY2xvbmUoKVt0eXBlc1tpXV0oKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlcy5sZW5ndGggLSAxID09PSBpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRyeVJldHJ5KHJlcy5jbG9uZSgpLCB0eXBlcywgKytpKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydCB2YXIgcmVzcG9uc2VGaWVsZHMgPSBbJ2hlYWRlcnMnLCAnb2snLCAncmVkaXJlY3RlZCcsICd0cmFpbGVyJywgJ3N0YXR1cycsICdzdGF0dXNUZXh0JywgJ3R5cGUnLCAndXJsJywgJ2JvZHknLCAnYm9keVVzZWQnLCAnZGF0YSddO1xuZXhwb3J0IHZhciByZXNwb25zZU1ldGhvZHMgPSBbJ2Nsb25lJywgJ2FycmF5QnVmZmVyJywgJ2Jsb2InLCAnZm9ybURhdGEnLCAnanNvbicsICd0ZXh0J107XG5leHBvcnQgdmFyIHJlc3BvbnNlS2V5cyA9IF9fc3ByZWFkQXJyYXlzKHJlc3BvbnNlRmllbGRzLCByZXNwb25zZU1ldGhvZHMpO1xuZXhwb3J0IHZhciB0b1Jlc3BvbnNlT2JqZWN0ID0gZnVuY3Rpb24gKHJlcywgZGF0YSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30sIHJlc3BvbnNlS2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZmllbGQpIHtcbiAgICBpZiAocmVzcG9uc2VGaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgIGFjY1tmaWVsZF0gPSB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSByZXMgaW5zdGFuY2VvZiBSZXNwb25zZSA/IHJlcyA6IHJlcyAmJiByZXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkID09PSAnZGF0YScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGNsb25lZFJlc3BvbnNlID0gKCdjbG9uZScgaW4gcmVzcG9uc2UgPyByZXNwb25zZS5jbG9uZSgpIDoge30pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZWRSZXNwb25zZVtmaWVsZF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNwb25zZU1ldGhvZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgIGFjY1tmaWVsZF0gPSB7XG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHJlcyBpbnN0YW5jZW9mIFJlc3BvbnNlID8gcmVzIDogcmVzICYmIHJlcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmVkUmVzcG9uc2UgPSAoJ2Nsb25lJyBpbiByZXNwb25zZSA/IHJlc3BvbnNlLmNsb25lKCkgOiB7fSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lZFJlc3BvbnNlW2ZpZWxkXSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbn0sIHt9KSk7IH07XG5leHBvcnQgdmFyIGVtcHR5Q3VzdG9tUmVzcG9uc2UgPSB0b1Jlc3BvbnNlT2JqZWN0KCk7XG4vLyBUT0RPOiBzd2l0Y2ggdGhpcyB0byAucmVkdWNlKClcbnZhciBoZWFkZXJzQXNPYmplY3QgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufTtcbmV4cG9ydCB2YXIgc2VyaWFsaXplUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHksIHN0YXR1cywgc3RhdHVzVGV4dCwgaGVhZGVycztcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UudGV4dCgpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBib2R5ID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cywgc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnNBc09iamVjdChyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9O1xuZnVuY3Rpb24gdXNlRGVlcENvbXBhcmVNZW1vaXplKHZhbHVlKSB7XG4gICAgdmFyIHJlZiA9IHVzZVJlZigpO1xuICAgIGlmIChKU09OLnN0cmluZ2lmeSh2YWx1ZSkgIT09IEpTT04uc3RyaW5naWZ5KHJlZi5jdXJyZW50KSlcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5leHBvcnQgdmFyIHVzZURlZXBDYWxsYmFjayA9IGZ1bmN0aW9uIChjYiwgZGVwcykgeyByZXR1cm4gdXNlQ2FsbGJhY2soY2IsIHVzZURlZXBDb21wYXJlTWVtb2l6ZShkZXBzKSk7IH07XG5leHBvcnQgdmFyIHNsZWVwID0gZnVuY3Rpb24gKG1zKSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCBtcyk7IH0pOyB9O1xuZXhwb3J0IHZhciBpc1Bvc2l0aXZlTnVtYmVyID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE51bWJlci5pc0ludGVnZXIobikgJiYgbiA+IDA7IH07XG5leHBvcnQgdmFyIG1ha2VFcnJvciA9IGZ1bmN0aW9uIChuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIGVycm9yLm5hbWUgPSBuYW1lICsgJyc7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB3ZSBuZWVkIHRvIGFkZCBhIHNsYXNoIHRvIGZyb250XG4gKiBvZiBhIHBhdGgsIGFuZCBhZGRzIGl0IGlmIHdlIGRvLlxuICogQ2FzZXM6XG4gKiAocGF0aCA9ICcnLCB1cmwgPSAnJyB8fCBudWxsIHwgdW5kZWZpbmVkKSA9PiAnJ1xuICogKHBhdGggPSAnP2Zvbz1iYXInLCB1cmwgPSAnYS5jb20nKSAgICAgICAgPT4gJz9mb289YmFyJ1xuICogKHBhdGggPSAnP2Zvbz1iYXInLCB1cmwgPSAnYS5jb20vJykgICAgICAgPT4gJz9mb289YmFyJ1xuICogKHBhdGggPSAnYmFyJywgdXJsID0gJ2EuY29tLz9mb289JykgICAgICAgPT4gJ2JhcidcbiAqIChwYXRoID0gJ2ZvbycsIHVybCA9ICdhLmNvbScpICAgICAgICAgICAgID0+ICcvZm9vJ1xuICogKHBhdGggPSAnZm9vJywgdXJsID0gJ2EuY29tLycpICAgICAgICAgICAgPT4gJ2ZvbydcbiAqIChwYXRoID0gJy9mb28nLCB1cmwgPSAnYS5jb20nKSAgICAgICAgICAgID0+ICcvZm9vJ1xuICogKHBhdGggPSAnL2ZvbycsIHVybCA9ICdhLmNvbS8nKSAgICAgICAgICAgPT4gJ2ZvbydcbiAqIChwYXRoID0gJz9mb289YmFyJykgICAgICAgICAgICAgICAgICAgICAgID0+ICc/Zm9vPWJhcidcbiAqIChwYXRoID0gJ2ZvbycpICAgICAgICAgICAgICAgICAgICAgICAgICAgID0+ICcvZm9vJ1xuICogKHBhdGggPSAnL2ZvbycpICAgICAgICAgICAgICAgICAgICAgICAgICAgPT4gJy9mb28nXG4gKiAocGF0aCA9ICcmZm9vPWJhcicsIHVybCA9ICdhLmNvbT9iPWsnKSAgICA9PiAnJmZvbz1iYXInXG4gKiAocGF0aCA9ICcmZm9vPWJhcicpICAgICAgICAgICAgICAgICAgICAgICA9PiAnJmZvbz1iYXInXG4gKi9cbmV4cG9ydCB2YXIgYWRkU2xhc2ggPSBmdW5jdGlvbiAoaW5wdXQsIHVybCkge1xuICAgIGlmICghaW5wdXQpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAoIXVybCkge1xuICAgICAgICBpZiAoaW5wdXQuc3RhcnRzV2l0aCgnPycpIHx8IGlucHV0LnN0YXJ0c1dpdGgoJyYnKSB8fCBpbnB1dC5zdGFydHNXaXRoKCcvJykpXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIHJldHVybiBcIi9cIiArIGlucHV0O1xuICAgIH1cbiAgICBpZiAodXJsLmVuZHNXaXRoKCcvJykgJiYgaW5wdXQuc3RhcnRzV2l0aCgnLycpKVxuICAgICAgICByZXR1cm4gaW5wdXQuc3Vic3RyKDEpO1xuICAgIGlmICghdXJsLmVuZHNXaXRoKCcvJykgJiYgIWlucHV0LnN0YXJ0c1dpdGgoJy8nKSAmJiAhaW5wdXQuc3RhcnRzV2l0aCgnPycpICYmICFpbnB1dC5zdGFydHNXaXRoKCcmJykgJiYgIXVybC5pbmNsdWRlcygnPycpKVxuICAgICAgICByZXR1cm4gXCIvXCIgKyBpbnB1dDtcbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgRmV0Y2hDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgdXJsOiAnJyxcbiAgICBvcHRpb25zOiB7fSxcbiAgICBncmFwaHFsOiBmYWxzZSAvLyBUT0RPOiB0aGlzIHdpbGwgbWFrZSBpdCBzbyB1c2VGZXRjaChRVUVSWSB8fCBNVVRBVElPTikgd2lsbCB3b3JrXG59KTtcbmV4cG9ydCBkZWZhdWx0IEZldGNoQ29udGV4dDtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgeyBDYWNoZVBvbGljaWVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IHZhciB1c2VGZXRjaEFyZ3NEZWZhdWx0cyA9IHtcbiAgICBob3N0OiAnJyxcbiAgICBwYXRoOiB1bmRlZmluZWQsXG4gICAgY3VzdG9tT3B0aW9uczoge1xuICAgICAgICBjYWNoZUxpZmU6IDAsXG4gICAgICAgIGNhY2hlUG9saWN5OiBDYWNoZVBvbGljaWVzLkNBQ0hFX0ZJUlNULFxuICAgICAgICBpbnRlcmNlcHRvcnM6IHt9LFxuICAgICAgICBvbkFib3J0OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgb25OZXdEYXRhOiBmdW5jdGlvbiAoY3VyckRhdGEsIG5ld0RhdGEpIHsgcmV0dXJuIG5ld0RhdGE7IH0sXG4gICAgICAgIG9uVGltZW91dDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBwZXJQYWdlOiAwLFxuICAgICAgICBwZXJzaXN0OiBmYWxzZSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBbJ2pzb24nLCAndGV4dCcsICdibG9iJywgJ2FycmF5QnVmZmVyJ10sXG4gICAgICAgIHJldHJpZXM6IDAsXG4gICAgICAgIHJldHJ5RGVsYXk6IDEwMDAsXG4gICAgICAgIHJldHJ5T246IFtdLFxuICAgICAgICBzdXNwZW5zZTogZmFsc2UsXG4gICAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9LFxuICAgIHJlcXVlc3RJbml0OiB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBPYmplY3QuZW50cmllcyh1c2VGZXRjaEFyZ3NEZWZhdWx0cykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICBpZiAoaXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjYyksIHZhbHVlKTtcbiAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGFjYyksIChfYiA9IHt9LCBfYltrZXldID0gdmFsdWUsIF9iKSk7XG59LCB7fSk7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzT2JqZWN0LCBpbnZhcmlhbnQsIHB1bGxPdXRSZXF1ZXN0SW5pdCwgaXNGdW5jdGlvbiwgaXNQb3NpdGl2ZU51bWJlciB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGZXRjaENvbnRleHQgZnJvbSAnLi9GZXRjaENvbnRleHQnO1xuaW1wb3J0IGRlZmF1bHRzLCB7IHVzZUZldGNoQXJnc0RlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VGZXRjaEFyZ3ModXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zLCBvcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPckRlcHMsIGRlcHMpIHtcbiAgICBpbnZhcmlhbnQoIShpc09iamVjdCh1cmxPclBhdGhPck9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9wdGlvbnMpICYmIGlzT2JqZWN0KG9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9yRGVwcykpLCAnWW91IGNhbm5vdCBoYXZlIGEgMm5kIHBhcmFtZXRlciBvZiB1c2VGZXRjaCBhcyBvYmplY3Qgd2hlbiB5b3VyIGZpcnN0IGFyZ3VtZW50IGlzIGFuIG9iamVjdC4nKTtcbiAgICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoRmV0Y2hDb250ZXh0KTtcbiAgICB2YXIgaG9zdCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWF5YmVIb3N0ID0gdXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zO1xuICAgICAgICBpZiAoaXNTdHJpbmcobWF5YmVIb3N0KSAmJiBtYXliZUhvc3QuaW5jbHVkZXMoJzovLycpKVxuICAgICAgICAgICAgcmV0dXJuIG1heWJlSG9zdDtcbiAgICAgICAgaWYgKGNvbnRleHQudXJsKVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQudXJsO1xuICAgICAgICByZXR1cm4gZGVmYXVsdHMuaG9zdDtcbiAgICB9LCBbY29udGV4dC51cmwsIHVybE9yUGF0aE9yT3B0aW9uc09yT3ZlcndyaXRlR2xvYmFsT3B0aW9uc10pO1xuICAgIHZhciBwYXRoID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXliZVBhdGggPSB1cmxPclBhdGhPck9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9wdGlvbnM7XG4gICAgICAgIGlmIChpc1N0cmluZyhtYXliZVBhdGgpICYmICFtYXliZVBhdGguaW5jbHVkZXMoJzovLycpKVxuICAgICAgICAgICAgcmV0dXJuIG1heWJlUGF0aDtcbiAgICB9LCBbdXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zXSk7XG4gICAgdmFyIG92ZXJ3cml0ZUdsb2JhbE9wdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zKSlcbiAgICAgICAgICAgIHJldHVybiB1cmxPclBhdGhPck9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9wdGlvbnM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9yRGVwcykpXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uc09yT3ZlcndyaXRlR2xvYmFsT3JEZXBzO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgb3B0aW9ucyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbG9jYWxPcHRpb25zID0geyBoZWFkZXJzOiB7fSB9O1xuICAgICAgICBpZiAoaXNPYmplY3QodXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zKSkge1xuICAgICAgICAgICAgbG9jYWxPcHRpb25zID0gdXJsT3JQYXRoT3JPcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9yRGVwcykpIHtcbiAgICAgICAgICAgIGxvY2FsT3B0aW9ucyA9IG9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9yRGVwcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2xvYmFsT3B0aW9ucyA9IGNvbnRleHQub3B0aW9ucztcbiAgICAgICAgdmFyIGZpbmFsT3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0cyksIGdsb2JhbE9wdGlvbnMpLCBsb2NhbE9wdGlvbnMpLCB7IGhlYWRlcnM6IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0cy5oZWFkZXJzKSwgZ2xvYmFsT3B0aW9ucy5oZWFkZXJzKSwgbG9jYWxPcHRpb25zLmhlYWRlcnMpLCBpbnRlcmNlcHRvcnM6IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0cy5pbnRlcmNlcHRvcnMpLCBnbG9iYWxPcHRpb25zLmludGVyY2VwdG9ycyksIGxvY2FsT3B0aW9ucy5pbnRlcmNlcHRvcnMpIH0pO1xuICAgICAgICBpZiAob3ZlcndyaXRlR2xvYmFsT3B0aW9ucylcbiAgICAgICAgICAgIHJldHVybiBvdmVyd3JpdGVHbG9iYWxPcHRpb25zKGZpbmFsT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBmaW5hbE9wdGlvbnM7XG4gICAgfSwgW3VybE9yUGF0aE9yT3B0aW9uc09yT3ZlcndyaXRlR2xvYmFsT3B0aW9ucywgb3ZlcndyaXRlR2xvYmFsT3B0aW9ucywgY29udGV4dC5vcHRpb25zXSk7XG4gICAgdmFyIHJlcXVlc3RJbml0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBwdWxsT3V0UmVxdWVzdEluaXQob3B0aW9ucyk7IH0sIFtvcHRpb25zXSk7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zT3JPdmVyd3JpdGVHbG9iYWxPckRlcHMpKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnNPck92ZXJ3cml0ZUdsb2JhbE9yRGVwcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVwcykpXG4gICAgICAgICAgICByZXR1cm4gZGVwcztcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzLmRlcGVuZGVuY2llcztcbiAgICB9LCBbb3B0aW9uc09yT3ZlcndyaXRlR2xvYmFsT3JEZXBzLCBkZXBzXSk7XG4gICAgdmFyIGNhY2hlTGlmZSA9IG9wdGlvbnMuY2FjaGVMaWZlLCByZXRyaWVzID0gb3B0aW9ucy5yZXRyaWVzLCByZXRyeURlbGF5ID0gb3B0aW9ucy5yZXRyeURlbGF5LCByZXRyeU9uID0gb3B0aW9ucy5yZXRyeU9uO1xuICAgIGludmFyaWFudChOdW1iZXIuaXNJbnRlZ2VyKGNhY2hlTGlmZSkgJiYgY2FjaGVMaWZlID49IDAsICdgY2FjaGVMaWZlYCBtdXN0IGJlIGEgbnVtYmVyID49IDAnKTtcbiAgICBpbnZhcmlhbnQoTnVtYmVyLmlzSW50ZWdlcihyZXRyaWVzKSAmJiByZXRyaWVzID49IDAsICdgcmV0cmllc2AgbXVzdCBiZSBhIG51bWJlciA+PSAwJyk7XG4gICAgaW52YXJpYW50KGlzRnVuY3Rpb24ocmV0cnlEZWxheSkgfHwgTnVtYmVyLmlzSW50ZWdlcihyZXRyeURlbGF5KSAmJiByZXRyeURlbGF5ID49IDAsICdgcmV0cnlEZWxheWAgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHBvc2l0aXZlIG51bWJlci4nKTtcbiAgICB2YXIgaXNWYWxpZFJldHJ5T24gPSBpc0Z1bmN0aW9uKHJldHJ5T24pIHx8IChBcnJheS5pc0FycmF5KHJldHJ5T24pICYmIHJldHJ5T24uZXZlcnkoaXNQb3NpdGl2ZU51bWJlcikpO1xuICAgIGludmFyaWFudChpc1ZhbGlkUmV0cnlPbiwgJ2ByZXRyeU9uYCBtdXN0IGJlIGFuIGFycmF5IG9mIHBvc2l0aXZlIG51bWJlcnMgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBib29sZWFuLicpO1xuICAgIHZhciBsb2FkaW5nID0gb3B0aW9ucy5sb2FkaW5nIHx8IEFycmF5LmlzQXJyYXkoZGVwZW5kZW5jaWVzKTtcbiAgICB2YXIgaW50ZXJjZXB0b3JzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaW5hbCA9IHt9O1xuICAgICAgICBpZiAoJ3JlcXVlc3QnIGluIG9wdGlvbnMuaW50ZXJjZXB0b3JzKVxuICAgICAgICAgICAgZmluYWwucmVxdWVzdCA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzLnJlcXVlc3Q7XG4gICAgICAgIGlmICgncmVzcG9uc2UnIGluIG9wdGlvbnMuaW50ZXJjZXB0b3JzKVxuICAgICAgICAgICAgZmluYWwucmVzcG9uc2UgPSBvcHRpb25zLmludGVyY2VwdG9ycy5yZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgIH0sIFtvcHRpb25zXSk7XG4gICAgdmFyIGN1c3RvbU9wdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1c3RvbU9wdGlvbktleXMgPSBPYmplY3Qua2V5cyh1c2VGZXRjaEFyZ3NEZWZhdWx0cy5jdXN0b21PcHRpb25zKTsgLy8gQXJyYXk8a2V5b2YgQ3VzdG9tT3B0aW9ucz5cbiAgICAgICAgdmFyIGN1c3RvbU9wdGlvbnMgPSBjdXN0b21PcHRpb25LZXlzLnJlZHVjZShmdW5jdGlvbiAob3B0cywga2V5KSB7XG4gICAgICAgICAgICBvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICByZXR1cm4gb3B0cztcbiAgICAgICAgfSwge30pO1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGN1c3RvbU9wdGlvbnMpLCB7IGludGVyY2VwdG9yczogaW50ZXJjZXB0b3JzLCBsb2FkaW5nOiBsb2FkaW5nIH0pO1xuICAgIH0sIFtpbnRlcmNlcHRvcnMsIGxvYWRpbmddKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBob3N0OiBob3N0LFxuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBjdXN0b21PcHRpb25zOiBjdXN0b21PcHRpb25zLFxuICAgICAgICByZXF1ZXN0SW5pdDogcmVxdWVzdEluaXQsXG4gICAgICAgIGRlcGVuZGVuY2llczogZGVwZW5kZW5jaWVzXG4gICAgfTtcbn1cbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgSFRUUE1ldGhvZCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgaW52YXJpYW50LCBpc1NlcnZlciwgaXNTdHJpbmcsIGlzQm9keU9iamVjdCwgYWRkU2xhc2ggfSBmcm9tICcuL3V0aWxzJztcbnZhciBHRVQgPSBIVFRQTWV0aG9kLkdFVDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRvRmV0Y2hBcmdzKGluaXRpYWxPcHRpb25zLCBtZXRob2QsIGNvbnRyb2xsZXIsIGNhY2hlTGlmZSwgY2FjaGUsIGhvc3QsIHBhdGgsIHJvdXRlT3JCb2R5LCBib2R5QXMybmRQYXJhbSwgcmVxdWVzdEludGVyY2VwdG9yKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm91dGUsIHVybCwgYm9keSwgaGVhZGVycywgb3B0aW9ucywgcmVzcG9uc2VJRCwgX2EsIF9iO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQoIShpc0JvZHlPYmplY3Qocm91dGVPckJvZHkpICYmIGlzQm9keU9iamVjdChib2R5QXMybmRQYXJhbSkpLCBcIklmIGZpcnN0IGFyZ3VtZW50IG9mIFwiICsgbWV0aG9kLnRvTG93ZXJDYXNlKCkgKyBcIigpIGlzIGFuIG9iamVjdCwgeW91IGNhbm5vdCBoYXZlIGEgMm5kIGFyZ3VtZW50LiBcXHVEODNEXFx1REUxQ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaW52YXJpYW50KCEobWV0aG9kID09PSBHRVQgJiYgaXNCb2R5T2JqZWN0KHJvdXRlT3JCb2R5KSksICdZb3UgY2FuIG9ubHkgaGF2ZSBxdWVyeSBwYXJhbXMgYXMgMXN0IGFyZ3VtZW50IG9mIHJlcXVlc3QuZ2V0KCknKTtcbiAgICAgICAgICAgICAgICAgICAgaW52YXJpYW50KCEobWV0aG9kID09PSBHRVQgJiYgYm9keUFzMm5kUGFyYW0gIT09IHVuZGVmaW5lZCksICdZb3UgY2FuIG9ubHkgaGF2ZSBxdWVyeSBwYXJhbXMgYXMgMXN0IGFyZ3VtZW50IG9mIHJlcXVlc3QuZ2V0KCknKTtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1NlcnZlciAmJiByb3V0ZU9yQm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCI/XCIgKyByb3V0ZU9yQm9keTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhyb3V0ZU9yQm9keSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlT3JCb2R5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSBcIlwiICsgaG9zdCArIGFkZFNsYXNoKHBhdGgsIGhvc3QpICsgYWRkU2xhc2gocm91dGUpO1xuICAgICAgICAgICAgICAgICAgICBib2R5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1EYXRhIGluc3RhbmNlb2YgY2hlY2sgc2hvdWxkIGdvIGZpcnN0LCBiZWNhdXNlIFJlYWN0IE5hdGl2ZSdzIEZvcm1EYXRhIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIHBsYWluIG9iamVjdCB3aGVuIHVzaW5nIGlzQm9keU9iamVjdCBjaGVja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdXRlT3JCb2R5IGluc3RhbmNlb2YgRm9ybURhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlT3JCb2R5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQm9keU9iamVjdChyb3V0ZU9yQm9keSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvdXRlT3JCb2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNTZXJ2ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYm9keUFzMm5kUGFyYW0gaW5zdGFuY2VvZiBGb3JtRGF0YSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5QXMybmRQYXJhbSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJvZHlBczJuZFBhcmFtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQm9keU9iamVjdChib2R5QXMybmRQYXJhbSkgfHwgaXNTdHJpbmcoYm9keUFzMm5kUGFyYW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShib2R5QXMybmRQYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb2R5T2JqZWN0KGluaXRpYWxPcHRpb25zLmJvZHkpIHx8IGlzU3RyaW5nKGJvZHlBczJuZFBhcmFtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbE9wdGlvbnMuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFR5cGUgPSAoaW5pdGlhbE9wdGlvbnMuaGVhZGVycyB8fCB7fSlbJ0NvbnRlbnQtVHlwZSddO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3VsZEFkZENvbnRlbnRUeXBlID0gISFjb250ZW50VHlwZSB8fCBbSFRUUE1ldGhvZC5QT1NULCBIVFRQTWV0aG9kLlBVVCwgSFRUUE1ldGhvZC5QQVRDSF0uaW5jbHVkZXMobWV0aG9kKSAmJiAhKGJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IF9fYXNzaWduKHt9LCBpbml0aWFsT3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRBZGRDb250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgY29udGVudCB0eXBlcyBodHRwOi8vYml0Lmx5LzJOMm92T1pcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByb3VnaGx5LCBzaG91bGQgb25seSBhZGQgZm9yIFBPU1QgYW5kIFBVVCBodHRwOi8vYml0Lmx5LzJOSk50M05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmxlc3Mgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSBjb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyhoZWFkZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRzLCBpbnRlcmNlcHRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGluaXRpYWxPcHRpb25zKSwgeyBtZXRob2Q6IG1ldGhvZCwgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdHMuaGVhZGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0SW50ZXJjZXB0b3IpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcXVlc3RJbnRlcmNlcHRvcih7IG9wdGlvbnM6IG9wdHMsIHVybDogaG9zdCwgcGF0aDogcGF0aCwgcm91dGU6IHJvdXRlIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmNlcHRvciA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaW50ZXJjZXB0b3JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgb3B0c107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9KSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBpZiB0aGUgYm9keSBpcyBhIGZpbGUsIGFuZCB0aGlzIGlzIGEgbGFyZ2UgZmlsZSwgaXQgbWlnaHQgZXhjZWVkIHRoZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaW1pdCBvZiB0aGUga2V5IHNpemUuIFBvdGVudGlhbCBzb2x1dGlvbjogYmFzZTY0IHRoZSBib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VkIHRvIHRlbGwgaWYgYSByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gbWFkZVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJRCA9IE9iamVjdC5lbnRyaWVzKHsgdXJsOiB1cmwsIG1ldGhvZDogbWV0aG9kLCBib2R5OiBvcHRpb25zLmJvZHkgfHwgJycgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICsgXCI6XCIgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbignfHwnKTtcbiAgICAgICAgICAgICAgICAgICAgX2EgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX2IgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2FjaGUuaGFzKHJlc3BvbnNlSUQpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9iLmlzQ2FjaGVkID0gX2Muc2VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2IuaWQgPSByZXNwb25zZUlEO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWNoZS5nZXQocmVzcG9uc2VJRCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIChfYS5yZXNwb25zZSA9IChfYi5jYWNoZWQgPSAoX2Muc2VudCgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hKV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IHNlcmlhbGl6ZVJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMnO1xudmFyIGNhY2hlTmFtZSA9ICd1c2VIVFRQY2FjaGUnO1xudmFyIGdldENhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhY2hlTmFtZSkgfHwgJ3t9Jyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oY2FjaGVOYW1lKTtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn07XG52YXIgZ2V0TG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNhY2hlTGlmZSA9IF9hLmNhY2hlTGlmZTtcbiAgICB2YXIgcmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzcG9uc2VJRHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHJlc3BvbnNlSURzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGU7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUgPSBnZXRDYWNoZSgpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlSURzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IHJldHVybiBkZWxldGUgY2FjaGVbaWRdOyB9KTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjYWNoZU5hbWUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGlzRXhwaXJlZCA9IGZ1bmN0aW9uIChyZXNwb25zZUlEKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGdldENhY2hlKCk7XG4gICAgICAgIHZhciBfYSA9IChjYWNoZVtyZXNwb25zZUlEXSB8fCB7fSksIGV4cGlyYXRpb24gPSBfYS5leHBpcmF0aW9uLCByZXNwb25zZSA9IF9hLnJlc3BvbnNlO1xuICAgICAgICB2YXIgZXhwaXJlZCA9IGV4cGlyYXRpb24gPiAwICYmIGV4cGlyYXRpb24gPCBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoZXhwaXJlZClcbiAgICAgICAgICAgIHJlbW92ZShyZXNwb25zZUlEKTtcbiAgICAgICAgcmV0dXJuIGV4cGlyZWQgfHwgIXJlc3BvbnNlO1xuICAgIH07XG4gICAgdmFyIGhhcyA9IGZ1bmN0aW9uIChyZXNwb25zZUlEKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAhaXNFeHBpcmVkKHJlc3BvbnNlSUQpXTtcbiAgICB9KTsgfSk7IH07XG4gICAgdmFyIGdldCA9IGZ1bmN0aW9uIChyZXNwb25zZUlEKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FjaGUsIF9hLCBib2R5LCBoZWFkZXJzLCBzdGF0dXMsIHN0YXR1c1RleHQ7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIGlmIChpc0V4cGlyZWQocmVzcG9uc2VJRCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgY2FjaGUgPSBnZXRDYWNoZSgpO1xuICAgICAgICAgICAgX2EgPSBjYWNoZVtyZXNwb25zZUlEXS5yZXNwb25zZSwgYm9keSA9IF9hLmJvZHksIGhlYWRlcnMgPSBfYS5oZWFkZXJzLCBzdGF0dXMgPSBfYS5zdGF0dXMsIHN0YXR1c1RleHQgPSBfYS5zdGF0dXNUZXh0O1xuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBSZXNwb25zZShib2R5LCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiBzdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhoZWFkZXJzIHx8IHt9KVxuICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG4gICAgdmFyIHNldCA9IGZ1bmN0aW9uIChyZXNwb25zZUlELCByZXNwb25zZSkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhY2hlLCBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IGdldENhY2hlKCk7XG4gICAgICAgICAgICAgICAgICAgIF9hID0gY2FjaGU7XG4gICAgICAgICAgICAgICAgICAgIF9iID0gcmVzcG9uc2VJRDtcbiAgICAgICAgICAgICAgICAgICAgX2MgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VyaWFsaXplUmVzcG9uc2UocmVzcG9uc2UpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hW19iXSA9IChfYy5yZXNwb25zZSA9IF9kLnNlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmV4cGlyYXRpb24gPSBEYXRlLm5vdygpICsgY2FjaGVMaWZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjYWNoZU5hbWUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG4gICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY2FjaGVOYW1lLCBKU09OLnN0cmluZ2lmeSh7fSkpO1xuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICB9KTtcbiAgICB9KTsgfTtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZ2V0Q2FjaGUoKSwge1xuICAgICAgICBnZXQ6IHsgdmFsdWU6IGdldCwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgIHNldDogeyB2YWx1ZTogc2V0LCB3cml0YWJsZTogZmFsc2UgfSxcbiAgICAgICAgaGFzOiB7IHZhbHVlOiBoYXMsIHdyaXRhYmxlOiBmYWxzZSB9LFxuICAgICAgICBkZWxldGU6IHsgdmFsdWU6IHJlbW92ZSwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgIGNsZWFyOiB7IHZhbHVlOiBjbGVhciwgd3JpdGFibGU6IGZhbHNlIH1cbiAgICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBnZXRMb2NhbFN0b3JhZ2U7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIGluTWVtb3J5U3RvcmFnZSA9IHt9O1xudmFyIGdldE1lbW9yeVN0b3JhZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2FjaGVMaWZlID0gX2EuY2FjaGVMaWZlO1xuICAgIHZhciByZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXNwb25zZUlEcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcmVzcG9uc2VJRHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgcmVzcG9uc2VJRHNfMSwgcmVzcG9uc2VJRDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKF9hID0gMCwgcmVzcG9uc2VJRHNfMSA9IHJlc3BvbnNlSURzOyBfYSA8IHJlc3BvbnNlSURzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSUQgPSByZXNwb25zZUlEc18xW19hXTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGluTWVtb3J5U3RvcmFnZVtyZXNwb25zZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGluTWVtb3J5U3RvcmFnZVtyZXNwb25zZUlEICsgXCI6dHNcIl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBpc0V4cGlyZWQgPSBmdW5jdGlvbiAocmVzcG9uc2VJRCkge1xuICAgICAgICB2YXIgZXhwaXJhdGlvbiA9IGluTWVtb3J5U3RvcmFnZVtyZXNwb25zZUlEICsgXCI6dHNcIl07XG4gICAgICAgIHZhciBleHBpcmVkID0gZXhwaXJhdGlvbiA+IDAgJiYgZXhwaXJhdGlvbiA8IERhdGUubm93KCk7XG4gICAgICAgIGlmIChleHBpcmVkKVxuICAgICAgICAgICAgcmVtb3ZlKHJlc3BvbnNlSUQpO1xuICAgICAgICByZXR1cm4gZXhwaXJlZCB8fCAhaW5NZW1vcnlTdG9yYWdlW3Jlc3BvbnNlSURdO1xuICAgIH07XG4gICAgdmFyIGdldCA9IGZ1bmN0aW9uIChyZXNwb25zZUlEKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBpZiAoaXNFeHBpcmVkKHJlc3BvbnNlSUQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpbk1lbW9yeVN0b3JhZ2VbcmVzcG9uc2VJRF1dO1xuICAgICAgICB9KTtcbiAgICB9KTsgfTtcbiAgICB2YXIgc2V0ID0gZnVuY3Rpb24gKHJlc3BvbnNlSUQsIHJlcykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgaW5NZW1vcnlTdG9yYWdlW3Jlc3BvbnNlSURdID0gcmVzO1xuICAgICAgICAgICAgaW5NZW1vcnlTdG9yYWdlW3Jlc3BvbnNlSUQgKyBcIjp0c1wiXSA9IGNhY2hlTGlmZSA+IDAgPyBEYXRlLm5vdygpICsgY2FjaGVMaWZlIDogMDtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG4gICAgdmFyIGhhcyA9IGZ1bmN0aW9uIChyZXNwb25zZUlEKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAhaXNFeHBpcmVkKHJlc3BvbnNlSUQpXTtcbiAgICB9KTsgfSk7IH07XG4gICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgaW5NZW1vcnlTdG9yYWdlID0ge307XG4gICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgIH0pO1xuICAgIH0pOyB9O1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpbk1lbW9yeVN0b3JhZ2UsIHtcbiAgICAgICAgZ2V0OiB7IHZhbHVlOiBnZXQsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG4gICAgICAgIHNldDogeyB2YWx1ZTogc2V0LCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LFxuICAgICAgICBoYXM6IHsgdmFsdWU6IGhhcywgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlOiB7IHZhbHVlOiByZW1vdmUsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG4gICAgICAgIGNsZWFyOiB7IHZhbHVlOiBjbGVhciwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWUgfVxuICAgIH0pO1xufTtcbmV4cG9ydCBkZWZhdWx0IGdldE1lbW9yeVN0b3JhZ2U7XG4iLCJpbXBvcnQgdXNlU1NSIGZyb20gJ3VzZS1zc3InO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBDYWNoZVBvbGljaWVzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgZ2V0TG9jYWxTdG9yYWdlIGZyb20gJy4vc3RvcmFnZS9sb2NhbFN0b3JhZ2UnO1xuaW1wb3J0IGdldE1lbW9yeVN0b3JhZ2UgZnJvbSAnLi9zdG9yYWdlL21lbW9yeVN0b3JhZ2UnO1xudmFyIE5FVFdPUktfT05MWSA9IENhY2hlUG9saWNpZXMuTkVUV09SS19PTkxZLCBOT19DQUNIRSA9IENhY2hlUG9saWNpZXMuTk9fQ0FDSEU7XG52YXIgdXNlQ2FjaGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcGVyc2lzdCA9IF9hLnBlcnNpc3QsIGNhY2hlTGlmZSA9IF9hLmNhY2hlTGlmZSwgY2FjaGVQb2xpY3kgPSBfYS5jYWNoZVBvbGljeTtcbiAgICB2YXIgX2IgPSB1c2VTU1IoKSwgaXNOYXRpdmUgPSBfYi5pc05hdGl2ZSwgaXNTZXJ2ZXIgPSBfYi5pc1NlcnZlcjtcbiAgICBpbnZhcmlhbnQoIShpc1NlcnZlciAmJiBwZXJzaXN0KSwgJ1RoZXJlIGlzIG5vIHBlcnNpc3RlbnQgc3RvcmFnZSBvbiB0aGUgU2VydmVyIGN1cnJlbnRseSEg8J+ZheKAjeKZgu+4jycpO1xuICAgIGludmFyaWFudCghKGlzTmF0aXZlICYmIHBlcnNpc3QpLCAnUmVhY3QgTmF0aXZlIHN1cHBvcnQgZm9yIHBlcnNpc3RlbnQgY2FjaGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZC4g8J+ZheKAjeKZgu+4jycpO1xuICAgIGludmFyaWFudCghKHBlcnNpc3QgJiYgW05PX0NBQ0hFLCBORVRXT1JLX09OTFldLmluY2x1ZGVzKGNhY2hlUG9saWN5KSksIFwiWW91IGNhbm5vdCB1c2Ugb3B0aW9uICdwZXJzaXN0JyB3aXRoIGNhY2hlUG9saWN5OiBcIiArIGNhY2hlUG9saWN5ICsgXCIgXFx1RDgzRFxcdURFNDVcXHUyMDBEXFx1MjY0MlxcdUZFMEZcIik7XG4gICAgLy8gcmlnaHQgbm93IHdlJ3JlIG5vdCB3b3JyeWluZyBhYm91dCByZWFjdC1uYXRpdmVcbiAgICBpZiAocGVyc2lzdClcbiAgICAgICAgcmV0dXJuIGdldExvY2FsU3RvcmFnZSh7IGNhY2hlTGlmZTogY2FjaGVMaWZlIHx8ICgyNCAqIDM2MDAwMDApIH0pO1xuICAgIHJldHVybiBnZXRNZW1vcnlTdG9yYWdlKHsgY2FjaGVMaWZlOiBjYWNoZUxpZmUgfSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlQ2FjaGU7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlUmVkdWNlciwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VTU1IgZnJvbSAndXNlLXNzcic7XG5pbXBvcnQgdXNlUmVmU3RhdGUgZnJvbSAndXJzJztcbmltcG9ydCB7IEhUVFBNZXRob2QsIENhY2hlUG9saWNpZXMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB1c2VGZXRjaEFyZ3MgZnJvbSAnLi91c2VGZXRjaEFyZ3MnO1xuaW1wb3J0IGRvRmV0Y2hBcmdzIGZyb20gJy4vZG9GZXRjaEFyZ3MnO1xuaW1wb3J0IHsgaW52YXJpYW50LCB0cnlHZXREYXRhLCB0b1Jlc3BvbnNlT2JqZWN0LCB1c2VEZWVwQ2FsbGJhY2ssIGlzRnVuY3Rpb24sIHNsZWVwLCBtYWtlRXJyb3IgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB1c2VDYWNoZSBmcm9tICcuL3VzZUNhY2hlJztcbnZhciBDQUNIRV9GSVJTVCA9IENhY2hlUG9saWNpZXMuQ0FDSEVfRklSU1Q7XG5mdW5jdGlvbiB1c2VGZXRjaCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgX2EgPSB1c2VGZXRjaEFyZ3MuYXBwbHkodm9pZCAwLCBhcmdzKSwgaG9zdCA9IF9hLmhvc3QsIHBhdGggPSBfYS5wYXRoLCBjdXN0b21PcHRpb25zID0gX2EuY3VzdG9tT3B0aW9ucywgcmVxdWVzdEluaXQgPSBfYS5yZXF1ZXN0SW5pdCwgZGVwZW5kZW5jaWVzID0gX2EuZGVwZW5kZW5jaWVzO1xuICAgIHZhciBjYWNoZUxpZmUgPSBjdXN0b21PcHRpb25zLmNhY2hlTGlmZSwgY2FjaGVQb2xpY3kgPSBjdXN0b21PcHRpb25zLmNhY2hlUG9saWN5LCAvLyAnY2FjaGUtZmlyc3QnIGJ5IGRlZmF1bHRcbiAgICBpbnRlcmNlcHRvcnMgPSBjdXN0b21PcHRpb25zLmludGVyY2VwdG9ycywgb25BYm9ydCA9IGN1c3RvbU9wdGlvbnMub25BYm9ydCwgb25FcnJvciA9IGN1c3RvbU9wdGlvbnMub25FcnJvciwgb25OZXdEYXRhID0gY3VzdG9tT3B0aW9ucy5vbk5ld0RhdGEsIG9uVGltZW91dCA9IGN1c3RvbU9wdGlvbnMub25UaW1lb3V0LCBwZXJQYWdlID0gY3VzdG9tT3B0aW9ucy5wZXJQYWdlLCBwZXJzaXN0ID0gY3VzdG9tT3B0aW9ucy5wZXJzaXN0LCByZXNwb25zZVR5cGUgPSBjdXN0b21PcHRpb25zLnJlc3BvbnNlVHlwZSwgcmV0cmllcyA9IGN1c3RvbU9wdGlvbnMucmV0cmllcywgcmV0cnlEZWxheSA9IGN1c3RvbU9wdGlvbnMucmV0cnlEZWxheSwgcmV0cnlPbiA9IGN1c3RvbU9wdGlvbnMucmV0cnlPbiwgc3VzcGVuc2UgPSBjdXN0b21PcHRpb25zLnN1c3BlbnNlLCB0aW1lb3V0ID0gY3VzdG9tT3B0aW9ucy50aW1lb3V0LCBkZWZhdWx0cyA9IF9fcmVzdChjdXN0b21PcHRpb25zLCBbXCJjYWNoZUxpZmVcIiwgXCJjYWNoZVBvbGljeVwiLCBcImludGVyY2VwdG9yc1wiLCBcIm9uQWJvcnRcIiwgXCJvbkVycm9yXCIsIFwib25OZXdEYXRhXCIsIFwib25UaW1lb3V0XCIsIFwicGVyUGFnZVwiLCBcInBlcnNpc3RcIiwgXCJyZXNwb25zZVR5cGVcIiwgXCJyZXRyaWVzXCIsIFwicmV0cnlEZWxheVwiLCBcInJldHJ5T25cIiwgXCJzdXNwZW5zZVwiLCBcInRpbWVvdXRcIl0pO1xuICAgIHZhciBjYWNoZSA9IHVzZUNhY2hlKHsgcGVyc2lzdDogcGVyc2lzdCwgY2FjaGVMaWZlOiBjYWNoZUxpZmUsIGNhY2hlUG9saWN5OiBjYWNoZVBvbGljeSB9KTtcbiAgICB2YXIgaXNTZXJ2ZXIgPSB1c2VTU1IoKS5pc1NlcnZlcjtcbiAgICB2YXIgY29udHJvbGxlciA9IHVzZVJlZigpO1xuICAgIHZhciByZXMgPSB1c2VSZWYoe30pO1xuICAgIHZhciBkYXRhID0gdXNlUmVmKGRlZmF1bHRzLmRhdGEpO1xuICAgIHZhciB0aW1lZG91dCA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIGF0dGVtcHQgPSB1c2VSZWYoMCk7XG4gICAgdmFyIGVycm9yID0gdXNlUmVmKCk7XG4gICAgdmFyIGhhc01vcmUgPSB1c2VSZWYodHJ1ZSk7XG4gICAgdmFyIHN1c3BlbnNlU3RhdHVzID0gdXNlUmVmKCdwZW5kaW5nJyk7XG4gICAgdmFyIHN1c3BlbmRlciA9IHVzZVJlZigpO1xuICAgIHZhciBtb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgX2IgPSB1c2VSZWZTdGF0ZShkZWZhdWx0cy5sb2FkaW5nKSwgbG9hZGluZyA9IF9iWzBdLCBzZXRMb2FkaW5nID0gX2JbMV07XG4gICAgdmFyIGZvcmNlVXBkYXRlID0gdXNlUmVkdWNlcihmdW5jdGlvbiAoKSB7IHJldHVybiAoe30pOyB9LCBbXSlbMV07XG4gICAgdmFyIG1ha2VGZXRjaCA9IHVzZURlZXBDYWxsYmFjayhmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIHZhciBkb0ZldGNoID0gZnVuY3Rpb24gKHJvdXRlT3JCb2R5LCBib2R5KSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhlQ29udHJvbGxlciwgX2EsIHVybCwgb3B0aW9ucywgcmVzcG9uc2UsIHRpbWVyLCBuZXdEYXRhLCBuZXdSZXMsIF9iLCBfYywgb3B0cywgc2hvdWxkUmV0cnksIF9kLCBfZSwgdGhlRGF0YSwgZXJyXzEsIG9wdHMsIHNob3VsZFJldHJ5LCBfZiwgX2csIHRoZURhdGE7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9oKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfaC5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZXJ2ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dOyAvLyBmb3Igbm93LCB3ZSBkb24ndCBkbyBhbnl0aGluZyBvbiB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmN1cnJlbnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmN1cnJlbnQuc2lnbmFsLm9uYWJvcnQgPSBvbkFib3J0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlQ29udHJvbGxlciA9IGNvbnRyb2xsZXIuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRvRmV0Y2hBcmdzKHJlcXVlc3RJbml0LCBtZXRob2QsIHRoZUNvbnRyb2xsZXIsIGNhY2hlTGlmZSwgY2FjaGUsIGhvc3QsIHBhdGgsIHJvdXRlT3JCb2R5LCBib2R5LCBpbnRlcmNlcHRvcnMucmVxdWVzdCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9oLnNlbnQoKSwgdXJsID0gX2EudXJsLCBvcHRpb25zID0gX2Eub3B0aW9ucywgcmVzcG9uc2UgPSBfYS5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBwZXJmb3JtIHRoZSByZXF1ZXN0IGlmIHRoZXJlIGlzIG5vIG1vcmUgZGF0YSB0byBmZXRjaCAocGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJQYWdlID4gMCAmJiAhaGFzTW9yZS5jdXJyZW50ICYmICFlcnJvci5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBkYXRhLmN1cnJlbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXNwZW5zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSB0aW1lb3V0ICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVkb3V0LmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZUNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25UaW1lb3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfaC50cnlzLnB1c2goWzIsIDE3LCAyMywgMjRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmlzQ2FjaGVkICYmIGNhY2hlUG9saWN5ID09PSBDQUNIRV9GSVJTVCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmVzID0gcmVzcG9uc2UuY2FjaGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2godXJsLCBvcHRpb25zKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1JlcyA9IChfaC5zZW50KCkpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaC5sYWJlbCA9IDU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5jdXJyZW50ID0gbmV3UmVzLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0cnlHZXREYXRhKG5ld1JlcywgZGVmYXVsdHMuZGF0YSwgcmVzcG9uc2VUeXBlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBfaC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuY3VycmVudC5kYXRhID0gb25OZXdEYXRhKGRhdGEuY3VycmVudCwgbmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW50ZXJjZXB0b3JzLnJlc3BvbnNlKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGludGVyY2VwdG9ycy5yZXNwb25zZSh7IHJlc3BvbnNlOiByZXMuY3VycmVudCwgcmVxdWVzdDogcmVxdWVzdEluaXQgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYyA9IF9oLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYyA9IHJlcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5jdXJyZW50ID0gX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQoJ2RhdGEnIGluIHJlcy5jdXJyZW50LCAnWW91IG11c3QgaGF2ZSBgZGF0YWAgZmllbGQgb24gdGhlIFJlc3BvbnNlIHJldHVybmVkIGZyb20geW91ciBgaW50ZXJjZXB0b3JzLnJlc3BvbnNlYCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jdXJyZW50ID0gcmVzLmN1cnJlbnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMgPSB7IGF0dGVtcHQ6IGF0dGVtcHQuY3VycmVudCwgcmVzcG9uc2U6IG5ld1JlcyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UganVzdCBoYXZlIGByZXRyaWVzYCBzZXQgd2l0aCBOTyBgcmV0cnlPbmAgdGhlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZXRyeSBvbiBmYWlsIHVudGlsIGF0dGVtcHRzIHJ1biBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gIWlzRnVuY3Rpb24ocmV0cnlPbikgJiYgQXJyYXkuaXNBcnJheShyZXRyeU9uKSAmJiByZXRyeU9uLmxlbmd0aCA8IDEgJiYgKG5ld1JlcyA9PT0gbnVsbCB8fCBuZXdSZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5ld1Jlcy5vaykgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIG9ubHkgcmV0cnkgd2hlbiBpcyBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBBcnJheS5pc0FycmF5KHJldHJ5T24pICYmIHJldHJ5T24uaW5jbHVkZXMobmV3UmVzLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2QpIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UganVzdCBoYXZlIGByZXRyaWVzYCBzZXQgd2l0aCBOTyBgcmV0cnlPbmAgdGhlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZXRyeSBvbiBmYWlsIHVudGlsIGF0dGVtcHRzIHJ1biBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lID0gaXNGdW5jdGlvbihyZXRyeU9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2UpIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJldHJ5T24ob3B0cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2UgPSAoX2guc2VudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oLmxhYmVsID0gMTE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZCA9IF9lO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gKF9kKSAmJiByZXRyaWVzID4gMCAmJiByZXRyaWVzID4gYXR0ZW1wdC5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZXRyeSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmV0cnkob3B0cywgcm91dGVPckJvZHksIGJvZHkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZURhdGEgPSBfaC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhlRGF0YV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjYWNoZVBvbGljeSA9PT0gQ0FDSEVfRklSU1QgJiYgIXJlc3BvbnNlLmlzQ2FjaGVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2FjaGUuc2V0KHJlc3BvbnNlLmlkLCBuZXdSZXMuY2xvbmUoKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2guc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuY3VycmVudCkgJiYgISEoZGF0YS5jdXJyZW50Lmxlbmd0aCAlIHBlclBhZ2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc01vcmUuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMjRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfaC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdC5jdXJyZW50ID49IHJldHJpZXMgJiYgdGltZWRvdXQuY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5jdXJyZW50ID0gbWFrZUVycm9yKCdBYm9ydEVycm9yJywgJ1RpbWVvdXQgRXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMgPSB7IGF0dGVtcHQ6IGF0dGVtcHQuY3VycmVudCwgZXJyb3I6IGVycl8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBqdXN0IGhhdmUgYHJldHJpZXNgIHNldCB3aXRoIE5PIGByZXRyeU9uYCB0aGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHJldHJ5IG9uIGZhaWwgdW50aWwgYXR0ZW1wdHMgcnVuIG91dFxuICAgICAgICAgICAgICAgICAgICAgICAgX2YgPSAhaXNGdW5jdGlvbihyZXRyeU9uKSAmJiBBcnJheS5pc0FycmF5KHJldHJ5T24pICYmIHJldHJ5T24ubGVuZ3RoIDwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZikgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBqdXN0IGhhdmUgYHJldHJpZXNgIHNldCB3aXRoIE5PIGByZXRyeU9uYCB0aGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHJldHJ5IG9uIGZhaWwgdW50aWwgYXR0ZW1wdHMgcnVuIG91dFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMjBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2cgPSBpc0Z1bmN0aW9uKHJldHJ5T24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfZykgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmV0cnlPbihvcHRzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZyA9IChfaC5zZW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAxOTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mID0gX2c7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaC5sYWJlbCA9IDIwO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmV0cnkgPSAoX2YpICYmIHJldHJpZXMgPiAwICYmIHJldHJpZXMgPiBhdHRlbXB0LmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJldHJ5KSByZXR1cm4gWzMgLypicmVhayovLCAyMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXRyeShvcHRzLCByb3V0ZU9yQm9keSwgYm9keSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlRGF0YSA9IF9oLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGVEYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJfMS5uYW1lICE9PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5jdXJyZW50ID0gZXJyXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lZG91dC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UmVzICYmICFuZXdSZXMub2sgJiYgIWVycm9yLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IuY3VycmVudCA9IG1ha2VFcnJvcihuZXdSZXMuc3RhdHVzLCBuZXdSZXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQuY3VycmVudCA9PT0gcmV0cmllcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcih7IGVycm9yOiBlcnJvci5jdXJyZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRhdGEuY3VycmVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9OyAvLyBlbmQgb2YgZG9GZXRjaCgpXG4gICAgICAgIHZhciByZXRyeSA9IGZ1bmN0aW9uIChvcHRzLCByb3V0ZU9yQm9keSwgYm9keSkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlbGF5LCBkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAoaXNGdW5jdGlvbihyZXRyeURlbGF5KSA/IHJldHJ5RGVsYXkob3B0cykgOiByZXRyeURlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKE51bWJlci5pc0ludGVnZXIoZGVsYXkpICYmIGRlbGF5ID49IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigncmV0cnlEZWxheSBtdXN0IGJlIGEgbnVtYmVyID49IDAhIElmIHlvdVxcJ3JlIHVzaW5nIGl0IGFzIGEgZnVuY3Rpb24sIGl0IG11c3QgYWxzbyByZXR1cm4gYSBudW1iZXIgPj0gMC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHQuY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWxheSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzbGVlcChkZWxheSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgZG9GZXRjaChyb3V0ZU9yQm9keSwgYm9keSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBkID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfTtcbiAgICAgICAgaWYgKHN1c3BlbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuZGVyLmN1cnJlbnQgPSBkb0ZldGNoLmFwcGx5KHZvaWQgMCwgYXJncykudGhlbihmdW5jdGlvbiAobmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2VTdGF0dXMuY3VycmVudCA9ICdzdWNjZXNzJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZVN0YXR1cy5jdXJyZW50ID0gJ2Vycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1c3BlbmRlci5jdXJyZW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXdEYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb0ZldGNoO1xuICAgIH0sIFtpc1NlcnZlciwgb25BYm9ydCwgcmVxdWVzdEluaXQsIGhvc3QsIHBhdGgsIGludGVyY2VwdG9ycywgY2FjaGVQb2xpY3ksIHBlclBhZ2UsIHRpbWVvdXQsIHBlcnNpc3QsIGNhY2hlTGlmZSwgb25UaW1lb3V0LCBkZWZhdWx0cy5kYXRhLCBvbk5ld0RhdGEsIGZvcmNlVXBkYXRlLCBzdXNwZW5zZV0pO1xuICAgIHZhciBwb3N0ID0gdXNlQ2FsbGJhY2sobWFrZUZldGNoKEhUVFBNZXRob2QuUE9TVCksIFttYWtlRmV0Y2hdKTtcbiAgICB2YXIgZGVsID0gdXNlQ2FsbGJhY2sobWFrZUZldGNoKEhUVFBNZXRob2QuREVMRVRFKSwgW21ha2VGZXRjaF0pO1xuICAgIHZhciByZXF1ZXN0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7XG4gICAgICAgIGdldDogbWFrZUZldGNoKEhUVFBNZXRob2QuR0VUKSxcbiAgICAgICAgcG9zdDogcG9zdCxcbiAgICAgICAgcGF0Y2g6IG1ha2VGZXRjaChIVFRQTWV0aG9kLlBBVENIKSxcbiAgICAgICAgcHV0OiBtYWtlRmV0Y2goSFRUUE1ldGhvZC5QVVQpLFxuICAgICAgICBvcHRpb25zOiBtYWtlRmV0Y2goSFRUUE1ldGhvZC5PUFRJT05TKSxcbiAgICAgICAgaGVhZDogbWFrZUZldGNoKEhUVFBNZXRob2QuSEVBRCksXG4gICAgICAgIGNvbm5lY3Q6IG1ha2VGZXRjaChIVFRQTWV0aG9kLkNPTk5FQ1QpLFxuICAgICAgICB0cmFjZTogbWFrZUZldGNoKEhUVFBNZXRob2QuVFJBQ0UpLFxuICAgICAgICBkZWw6IGRlbCxcbiAgICAgICAgZGVsZXRlOiBkZWwsXG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb250cm9sbGVyLmN1cnJlbnQgJiYgY29udHJvbGxlci5jdXJyZW50LmFib3J0KCk7IH0sXG4gICAgICAgIHF1ZXJ5OiBmdW5jdGlvbiAocXVlcnksIHZhcmlhYmxlcykgeyByZXR1cm4gcG9zdCh7IHF1ZXJ5OiBxdWVyeSwgdmFyaWFibGVzOiB2YXJpYWJsZXMgfSk7IH0sXG4gICAgICAgIG11dGF0ZTogZnVuY3Rpb24gKG11dGF0aW9uLCB2YXJpYWJsZXMpIHsgcmV0dXJuIHBvc3QoeyBtdXRhdGlvbjogbXV0YXRpb24sIHZhcmlhYmxlczogdmFyaWFibGVzIH0pOyB9LFxuICAgICAgICBjYWNoZTogY2FjaGVcbiAgICB9LCB7XG4gICAgICAgIGxvYWRpbmc6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkaW5nLmN1cnJlbnQ7IH0gfSxcbiAgICAgICAgZXJyb3I6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvci5jdXJyZW50OyB9IH0sXG4gICAgICAgIGRhdGE6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkYXRhLmN1cnJlbnQ7IH0gfSxcbiAgICB9KTsgfSwgW21ha2VGZXRjaF0pO1xuICAgIHZhciByZXNwb25zZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9SZXNwb25zZU9iamVjdChyZXMsIGRhdGEpOyB9LCBbXSk7XG4gICAgLy8gb25Nb3VudC9vblVwZGF0ZVxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlcGVuZGVuY2llcykpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gcmVxdWVzdEluaXQubWV0aG9kIHx8IEhUVFBNZXRob2QuR0VUO1xuICAgICAgICAgICAgdmFyIG1ldGhvZExvd2VyID0gbWV0aG9kTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIHJlcSA9IHJlcXVlc3RbbWV0aG9kTG93ZXJdO1xuICAgICAgICAgICAgcmVxKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1vdW50ZWQuY3VycmVudCA9IGZhbHNlOyB9O1xuICAgIH0sIGRlcGVuZGVuY2llcyk7XG4gICAgLy8gQ2FuY2VsIGFueSBydW5uaW5nIHJlcXVlc3Qgd2hlbiB1bm1vdW50aW5nIHRvIGF2b2lkIHVwZGF0aW5nIHN0YXRlIGFmdGVyIGNvbXBvbmVudCBoYXMgdW5tb3VudGVkXG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIGEgcmVxdWVzdCdzIHByb21pc2UgcmVzb2x2ZXMgYWZ0ZXIgY29tcG9uZW50IHVubW91bnRzXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlcXVlc3QuYWJvcnQ7IH0sIFtdKTtcbiAgICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuZGVyLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGlzU2VydmVyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXNwZW5zZSBvbiBzZXJ2ZXIgc2lkZSBpcyBub3QgeWV0IHN1cHBvcnRlZCEg8J+ZheKAjeKZgu+4jycpO1xuICAgICAgICBzd2l0Y2ggKHN1c3BlbnNlU3RhdHVzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgICAgIHRocm93IHN1c3BlbmRlci5jdXJyZW50O1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oW3JlcXVlc3QsIHJlc3BvbnNlLCBsb2FkaW5nLmN1cnJlbnQsIGVycm9yLmN1cnJlbnRdLCBfX2Fzc2lnbihfX2Fzc2lnbih7IHJlcXVlc3Q6IHJlcXVlc3QsIHJlc3BvbnNlOiByZXNwb25zZSB9LCByZXF1ZXN0KSwgeyBsb2FkaW5nOiBsb2FkaW5nLmN1cnJlbnQsIGRhdGE6IGRhdGEuY3VycmVudCwgZXJyb3I6IGVycm9yLmN1cnJlbnQgfSkpO1xufVxuZXhwb3J0IHsgdXNlRmV0Y2ggfTtcbmV4cG9ydCBkZWZhdWx0IHVzZUZldGNoO1xuIiwiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlRmV0Y2ggfSBmcm9tICd1c2UtaHR0cCdcblxuLyoqXG4gKlxuICogQGF1dGhvciBSb2JlcnQgTG9uZ1xuICogQHBhcmFtIHBhdGhcbiAqIEBwYXJhbSBxdWVyeVBhcmFtc1xuICogQHBhcmFtIG9wdGlvbnNcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVBhZ2luYXRlZFNlYXJjaChcbiAgcGF0aDogc3RyaW5nLFxuICBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PixcbiAgb3B0aW9ucyA9IHt9IGFzIHsgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB9XG4pOiB7IGxvYWRpbmc6IGJvb2xlYW47IGVycm9yOiB1bmtub3duOyBlbnRyaWVzOiBBcnJheTx1bmtub3duPjsgbG9hZE1vcmU6ICgpID0+IHZvaWQ7IGhhc01vcmU6IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHVybFJlZiA9IHVzZVJlZigpIGFzIGFueVxuXG4gIGlmICghdXJsUmVmLmN1cnJlbnQpIHtcbiAgICB1cmxSZWYuY3VycmVudCA9IG5ldyBVUkwocGF0aCwgKHdpbmRvdyBhcyBhbnkpLmxvY2F0aW9uKVxuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXJ5UGFyYW1zLCBuYW1lKSkge1xuICAgICAgICB1cmxSZWYuY3VycmVudC5zZWFyY2hQYXJhbXMuc2V0KG5hbWUsIHF1ZXJ5UGFyYW1zW25hbWVdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IFtocmVmLCBzZXRIcmVmXSA9IHVzZVN0YXRlKHVybFJlZi5jdXJyZW50LmhyZWYpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB1cmxSZWYuY3VycmVudCA9IG5ldyBVUkwocGF0aCwgKHdpbmRvdyBhcyBhbnkpLmxvY2F0aW9uKVxuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXJ5UGFyYW1zLCBuYW1lKSkge1xuICAgICAgICB1cmxSZWYuY3VycmVudC5zZWFyY2hQYXJhbXMuc2V0KG5hbWUsIHF1ZXJ5UGFyYW1zW25hbWVdKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldEhyZWYodXJsUmVmLmN1cnJlbnQuaHJlZilcbiAgfSwgW3BhdGgsIHVybFJlZiwgcXVlcnlQYXJhbXNdKVxuXG4gIGNvbnN0IGN1cnNvciA9IHVybFJlZi5jdXJyZW50LnNlYXJjaFBhcmFtcy5nZXQoJ2N1cnNvcicpXG5cbiAgY29uc3Qge1xuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgZGF0YToge1xuICAgICAgZW50cmllcyxcbiAgICAgIG1ldGE6IHsgbmV4dF9jdXJzb3IgfVxuICAgIH1cbiAgfSA9IHVzZUZldGNoKFxuICAgIGhyZWYsXG4gICAge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBvbk5ld0RhdGE6IChkYXRhLCBuZXdEYXRhKSA9PiB7XG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZW50cmllczogbmV3RGF0YSwgbWV0YTogeyBuZXh0X2N1cnNvcjogbnVsbCB9IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW50cmllczogWy4uLmRhdGEuZW50cmllcywgLi4ubmV3RGF0YS5lbnRyaWVzXSxcbiAgICAgICAgICAgIG1ldGE6IG5ld0RhdGEubWV0YVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRhdGE6IHsgZW50cmllczogW10sIG1ldGE6IHsgbmV4dF9jdXJzb3I6IG51bGwgfSB9XG4gICAgfSxcbiAgICBbaHJlZl1cbiAgKVxuXG4gIGNvbnN0IGxvYWRNb3JlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChuZXh0X2N1cnNvcikge1xuICAgICAgdXJsUmVmLmN1cnJlbnQuc2VhcmNoUGFyYW1zLnNldCgnY3Vyc29yJywgbmV4dF9jdXJzb3IpXG4gICAgICBzZXRIcmVmKHVybFJlZi5jdXJyZW50LmhyZWYpXG4gICAgfVxuICB9LCBbdXJsUmVmLCBuZXh0X2N1cnNvcl0pXG5cbiAgY29uc3QgaGFzTW9yZSA9IG5leHRfY3Vyc29yICYmIGN1cnNvciAhPT0gbmV4dF9jdXJzb3JcblxuICByZXR1cm4geyBsb2FkaW5nLCBlcnJvciwgZW50cmllczogIWN1cnNvciAmJiBsb2FkaW5nID8gW10gOiBlbnRyaWVzLCBsb2FkTW9yZSwgaGFzTW9yZSB9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgU2Nyb2xsVG9Ub3AgZnJvbSAnLi4vcm91dGVyL1Njcm9sbFRvVG9wJ1xuaW1wb3J0IHtcbiAgUHJvamVjdEdyaWQsXG4gIFByb2plY3RHcmlkQ29udGFpbmVyLFxuICBQcm9qZWN0R3JpZEhlYWRlcixcbiAgUHJvamVjdEdyaWRIZWFkZXJSb3csXG4gIEZpbHRlcixcbiAgU2VwYXJhdG9yLFxuICBTZWFyY2hJbnB1dCxcbiAgUHJvamVjdEdyaWRDb250ZW50LFxuICBFcnJvck1lc3NhZ2Vcbn0gZnJvbSAnLi9Qcm9qZWN0R3JpZCdcblxuaW1wb3J0IFByaW1hcnlMaW5rIGZyb20gJy4uL2lucHV0cy9QcmltYXJ5TGluaydcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL2lucHV0cy9CdXR0b24nXG5pbXBvcnQgeyBQcm9qZWN0c1NlY3Rpb24sIFByb2plY3RzQ29udGFpbmVyLCBQcm9qZWN0c0hlYWRlciB9IGZyb20gJy4vUHJvamVjdHNQYWdlJ1xuaW1wb3J0IEluZmluaXRlU2Nyb2xsIGZyb20gJ3JlYWN0LWluZmluaXRlLXNjcm9sbGVyJ1xuaW1wb3J0IHsgdXNlSGlzdG9yeSwgdXNlTG9jYXRpb24sIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHVzZVBhZ2luYXRlZFNlYXJjaCBmcm9tICcuL3VzZVBhZ2luYXRlZFNlYXJjaCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2NvbmZpZydcblxuY29uc3Qgc2VydmVyVVJMID0gQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcuYXBpU2VydmVyXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgUm9iZXJ0IExvbmdcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIENyZWF0ZVByb2plY3RQYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VIaXN0b3J5KClcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpXG5cbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgTWFwKG5ldyBVUkxTZWFyY2hQYXJhbXModXNlTG9jYXRpb24oKS5zZWFyY2gpLmVudHJpZXMoKSlcblxuICBjb25zdCBbcGFyYW1zLCBzZXRQYXJhbXNdID0gdXNlU3RhdGUoe1xuICAgIHNvdXJjZTogJ3NjZW5lX2xpc3RpbmdzJyxcbiAgICBmaWx0ZXI6IHF1ZXJ5UGFyYW1zLmdldCgnZmlsdGVyJyksXG4gICAgcTogcXVlcnlQYXJhbXMuZ2V0KCdxJykgfHwgJydcbiAgfSlcblxuICBjb25zdCB1cGRhdGVQYXJhbXMgPSB1c2VDYWxsYmFjayhcbiAgICAobmV4dFBhcmFtcykgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG5cbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBuZXh0UGFyYW1zKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc291cmNlJyB8fCAhbmV4dFBhcmFtc1tuYW1lXSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBzZWFyY2guc2V0KG5hbWUsIG5leHRQYXJhbXNbbmFtZV0pXG4gICAgICB9XG5cbiAgICAgIC8vIGhpc3RvcnkucHVzaChgL3Byb2plY3RzL2NyZWF0ZT8ke3NlYXJjaH1gKTtcbiAgICAgIHJvdXRlci5wdXNoKGAvZWRpdG9yL2NyZWF0ZT8ke3NlYXJjaH1gKVxuXG4gICAgICBzZXRQYXJhbXMobmV4dFBhcmFtcylcbiAgICB9LFxuICAgIFtyb3V0ZXJdXG4gIClcblxuICBjb25zdCByb3V0ZVRvID0gKHJvdXRlOiBzdHJpbmcpID0+ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaChyb3V0ZSlcbiAgfVxuXG4gIGNvbnN0IG9uQ2hhbmdlUXVlcnkgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHVwZGF0ZVBhcmFtcyh7XG4gICAgICAgIHNvdXJjZTogJ3NjZW5lX2xpc3RpbmdzJyxcbiAgICAgICAgcTogdmFsdWVcbiAgICAgIH0pXG4gICAgfSxcbiAgICBbdXBkYXRlUGFyYW1zXVxuICApXG5cbiAgY29uc3Qgb25TZXRBbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdXBkYXRlUGFyYW1zKHtcbiAgICAgIC4uLnBhcmFtcyxcbiAgICAgIHE6ICcnXG4gICAgfSlcbiAgfSwgW3VwZGF0ZVBhcmFtcywgcGFyYW1zXSlcblxuICBjb25zdCBvblNlbGVjdFNjZW5lID0gdXNlQ2FsbGJhY2soXG4gICAgKHNjZW5lKSA9PiB7XG4gICAgICBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKClcbiAgICAgIHNlYXJjaC5zZXQoJ3NjZW5lSWQnLCBzY2VuZS5pZClcbiAgICAgIHJvdXRlci5wdXNoKGAvZWRpdG9yL3Byb2plY3RzL25ldz8ke3NlYXJjaH1gKVxuICAgIH0sXG4gICAgW3JvdXRlcl1cbiAgKVxuXG4gIC8vIE1PRElGSUVEIEZST00gT1JJR0lOQUxcbiAgY29uc3QgeyBsb2FkaW5nLCBlcnJvciwgZW50cmllcyB9ID0gdXNlUGFnaW5hdGVkU2VhcmNoKGAke3NlcnZlclVSTH0vbWVkaWEtc2VhcmNoYCwgcGFyYW1zKVxuICAvLyBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCBlbnRyaWVzIH0gPSB7IGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogZmFsc2UsIGVudHJpZXM6IFtdIH07XG4gIGNvbnN0IGhhc01vcmUgPSBmYWxzZVxuICBjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBBcnJheS5pc0FycmF5KGVudHJpZXMpXG4gICAgPyBlbnRyaWVzLm1hcCgocmVzdWx0KSA9PiAoe1xuICAgICAgICAuLi4ocmVzdWx0IGFzIGFueSksXG4gICAgICAgIHVybDogYC9lZGl0b3IvcHJvamVjdHMvbmV3P3NjZW5lSWQ9JHsocmVzdWx0IGFzIGFueSkuaWR9YCxcbiAgICAgICAgdGh1bWJuYWlsVXJsOlxuICAgICAgICAgIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuaW1hZ2VzICYmIChyZXN1bHQgYXMgYW55KS5pbWFnZXMucHJldmlldyAmJiAocmVzdWx0IGFzIGFueSkuaW1hZ2VzLnByZXZpZXcudXJsXG4gICAgICB9KSlcbiAgICA6IFtdXG5cbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSAoXG4gICAgPFNlYXJjaElucHV0IHBsYWNlaG9sZGVyPXt0KCdlZGl0b3I6cHJvamVjdHMuY3JlYXRlUHJvamVjdC5waC1zZWFyY2gnKX0gdmFsdWU9e3BhcmFtcy5xfSBvbkNoYW5nZT17b25DaGFuZ2VRdWVyeX0gLz5cbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxtYWluPlxuICAgICAgICA8UHJvamVjdHNTZWN0aW9uPlxuICAgICAgICAgIDxQcm9qZWN0c0NvbnRhaW5lcj5cbiAgICAgICAgICAgIDxQcm9qZWN0c0hlYWRlcj5cbiAgICAgICAgICAgICAgPGgxPnt0KCdlZGl0b3I6cHJvamVjdHMuY3JlYXRlUHJvamVjdC5oZWFkZXInKX08L2gxPlxuICAgICAgICAgICAgICA8UHJpbWFyeUxpbmsgaHJlZj1cIi9lZGl0b3IvcHJvamVjdHNcIj57dCgnZWRpdG9yOnByb2plY3RzLmNyZWF0ZVByb2plY3QuYmFja0xpbmsnKX08L1ByaW1hcnlMaW5rPlxuICAgICAgICAgICAgPC9Qcm9qZWN0c0hlYWRlcj5cbiAgICAgICAgICAgIDxQcm9qZWN0R3JpZENvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPFByb2plY3RHcmlkSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxQcm9qZWN0R3JpZEhlYWRlclJvdz5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17cm91dGVUbygnL2VkaXRvci9wcm9qZWN0cy9uZXcnKX0+XG4gICAgICAgICAgICAgICAgICAgIHt0KCdlZGl0b3I6cHJvamVjdHMuY3JlYXRlUHJvamVjdC5uZXdQcm9qZWN0Jyl9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L1Byb2plY3RHcmlkSGVhZGVyUm93PlxuICAgICAgICAgICAgICA8L1Byb2plY3RHcmlkSGVhZGVyPlxuICAgICAgICAgICAgICA8UHJvamVjdEdyaWRDb250ZW50PlxuICAgICAgICAgICAgICAgIDxTY3JvbGxUb1RvcCAvPlxuICAgICAgICAgICAgICAgIHtlcnJvciAmJiA8RXJyb3JNZXNzYWdlPnsoZXJyb3IgYXMgYW55KS5tZXNzYWdlfTwvRXJyb3JNZXNzYWdlPn1cbiAgICAgICAgICAgICAgICB7IWVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgIDxJbmZpbml0ZVNjcm9sbFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9hZD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTdGFydD17MH1cbiAgICAgICAgICAgICAgICAgICAgbG9hZE1vcmU9eygpID0+IHt9fVxuICAgICAgICAgICAgICAgICAgICBoYXNNb3JlPXtoYXNNb3JlfVxuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ9ezEwMH1cbiAgICAgICAgICAgICAgICAgICAgdXNlV2luZG93PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8UHJvamVjdEdyaWRcbiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0cz17ZmlsdGVyZWRFbnRyaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2plY3RQYXRoPVwiL2VkaXRvci9wcm9qZWN0cy9uZXdcIlxuICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2plY3RMYWJlbD17dCgnZWRpdG9yOnByb2plY3RzLmNyZWF0ZVByb2plY3QubmV3UHJvamVjdCcpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0UHJvamVjdD17b25TZWxlY3RTY2VuZX1cbiAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9JbmZpbml0ZVNjcm9sbD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L1Byb2plY3RHcmlkQ29udGVudD5cbiAgICAgICAgICAgIDwvUHJvamVjdEdyaWRDb250YWluZXI+XG4gICAgICAgICAgPC9Qcm9qZWN0c0NvbnRhaW5lcj5cbiAgICAgICAgPC9Qcm9qZWN0c1NlY3Rpb24+XG4gICAgICA8L21haW4+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihDcmVhdGVQcm9qZWN0UGFnZSlcbiJdLCJuYW1lcyI6WyJDb21wb25lbnQiLCJ0aGlzIiwidXNlUmVmU3RhdGVfMSIsInJlcXVpcmUkJDAiLCJfX2F3YWl0ZXIiLCJfX2dlbmVyYXRvciIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiY3JlYXRlQ29udGV4dCIsIl9fYXNzaWduIiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJ1c2VSZWZTdGF0ZSIsInVzZVJlZHVjZXIiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSJdLCJtYXBwaW5ncyI6ImtpQ0FFc0Msd0JBUTVCLEVBQU0sU0FBUCxNQ0xULEtBQU0sSUFBYyxHQUFPO0FBQUE7QUFBQSxXQUVoQixBQUFDLEdBQVUsRUFBTSxNQUFNO0FBQUE7QUFBQTtBQUFBLEVDY3JCLEdBQW1CLEdBQWU7QUFBQTtBQUFBO0FBQUEsVUFHckMsQUFBQyxHQUFXLEVBQU0sT0FBUyxPQUFZLEVBQUksRUFBTTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBbUI5QyxHQUFxQixHQUFlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFhM0MsR0FBb0IsR0FBZTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFvQjVCLEdBQWtCLEdBQWU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3hDLEdBQWdCLGVBTXRCLGdCQUEyQkEsb0JBQXlDLENBQ2xFLFlBQVksRUFBTyxPQUNYLFFBRUQsTUFBUSxDQUNYLFNBQVUsR0FDVixRQUFTLEdBQ1QsTUFBTyxNQUlYLG1CQUFvQixNQUdmLEtBQUssQUFBQyxHQUFhLE1BQ2IsU0FBUyxDQUNaLFNBQVUsRUFB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
