import{V as d,Q as w,c1 as E,ag as I,a9 as u}from"./three.module.493739a3.js";import{c as S,d as b,A as T,a as y,E as c,g as i,C as j,r as F}from"./avatarFunctions.6d66cf01.js";import{e as p,T as M,c as P,f as Q,O as L}from"./[projectId].a008d20c.js";import{T as h,$ as v,a0 as R}from"./SystemUpdateType.772fc25d.js";import"./index.7b02be28.js";import"./vendor.475cb2ff.js";import"./_app.f0a72417.js";import"./AuthService.e8999ddc.js";import"./AlertService.5d8abaff.js";import"./feathers.32f4d4e8.js";import"./index.81138b53.js";import"./upload.bd537b46.js";const H=S("CameraComponent");function k(a,e){const t=a.toArray(),o=t.indexOf(Math.max(...t)),s=t.indexOf(Math.min(...t)),n=t.findIndex((m,l)=>l!=s&&l!=o);let r=t[n];t[n]=-t[o],t[o]=r,t[s]=0,e.fromArray(t).normalize()}const g=new d,A=new d;function q(a,e,t){if(e.length<1)return;const o=a.length(),s=2*Math.PI/e.length,n=Math.tan(t)*o;k(a,g),A.crossVectors(a,g).normalize();for(let r=0;r<e.length;r++)e[r].addScaledVector(g,Math.cos(s*r)).addScaledVector(A,Math.sin(s*r)).multiplyScalar(n).add(a).normalize()}const D=new d,U=new w,O=new d(0,1,0),X=new d,V=new I,C=new d,Z=new d,$=6,x=[],W=Math.PI/6,_=[],B=!1,pt=(a,e,t)=>{t&&(e=e*Math.PI/180);const o=Math.atan2(a.x,a.z),s=o-e;return Math.abs(s)%Math.PI>1e-4&&(a.setX(Math.sin(o-s)),a.setZ(Math.cos(o-s))),a},z=(a,e)=>{i(a,L).value.traverse(o=>{const s=o.material;!s||(s.opacity=e,s.transparent=e<.95)})},G=a=>{if(!a)return;const e=i(a,p),t=Math.min(e.distance/e.minDistance,1);z(a,t)},J=(a,e)=>{if(!a)return;const t=i(a,p),o=i(a,M),s=.001;if(Math.abs(o.phi-t.phi)<s&&Math.abs(o.theta-t.theta)<s){F(a,M);return}t.phi=v(t.phi,o.phi,o.phiVelocity,o.time,e),t.theta=v(t.theta,o.theta,o.thetaVelocity,o.time,e)},K=(a,e)=>{const t=i(a,p),o=i(c.activeCameraEntity,h),s=Z.subVectors(o.position,e);q(s,x,W);let n=t.maxDistance;t.raycaster.set(e,s.normalize());const r=t.raycaster.intersectObjects(c.scene.children,!0);return r[0]&&r[0].distance<n&&(n=r[0].distance),x.forEach((m,l)=>{t.raycaster.set(e,m);const f=t.raycaster.intersectObjects(c.scene.children,!0);f[0]&&f[0].distance<n&&(n=f[0].distance)}),n},N=(a,e)=>{const t=i(a,T),o=i(a,h),s=i(a,p),n=Math.min(s.distance/s.minDistance,1),r=s.shoulderSide?-1:1,m=R(0,.2,n)*r,l=R(0,.25,n);e.set(m,t.avatarHeight+l,0),e.applyQuaternion(o.rotation),e.add(o.position)},Y=(a,e)=>{if(!a)return;const t=i(a,p);t.phi=Math.min(85,Math.max(-70,t.phi)),N(a,C);let o=t.zoomLevel;t.zoomLevel>=t.minDistance&&(o=K(a,C)),t.distance=v(t.distance,Math.min(t.zoomLevel,o),t.zoomVelocity,.3,e);const s=t.theta,n=u.degToRad(s),r=u.degToRad(t.phi),m=i(c.activeCameraEntity,h);m.position.set(C.x+t.distance*Math.sin(n)*Math.cos(r),C.y+t.distance*Math.sin(r),C.z+t.distance*Math.cos(n)*Math.cos(r)),D.copy(m.position).sub(C).normalize(),V.lookAt(D,X,O),m.rotation.setFromRotationMatrix(V);const l=i(a,h);if(t.locked){const f=u.degToRad(s+180)%(Math.PI*2);l.rotation.slerp(U.setFromAxisAngle(O,f),e*4)}};async function ft(a){const e=b([p,h,T]),t=b([p,M]),o=P();return y(o,H,{}),y(o,h,{position:new d,rotation:new w,scale:new d(1,1,1)}),y(o,Q,{}),c.activeCameraEntity=o,()=>{const{delta:s}=a;for(const n of e.enter()){const r=i(n,p);r.raycaster.layers.set(j.Scene),r.raycaster.firstHitOnly=!0,r.raycaster.far=r.maxDistance,c.activeCameraFollowTarget=n;for(let m=0;m<$;m++)if(x.push(new d),B){const l=new E;_.push(l),l.traverse(f=>{f.layers.set(j.Avatar)}),c.scene.add(l)}}for(const n of e.exit())z(n,1),c.activeCameraFollowTarget=null;for(const n of e(a))Y(n,s),G(n);for(const n of t(a))J(n,s);if(c.xrRenderer?.isPresenting)c.xrRenderer.updateCamera(c.camera);else if(typeof c.activeCameraEntity!="undefined"){const n=i(c.activeCameraEntity,h);c.camera.position.copy(n.position),c.camera.quaternion.copy(n.rotation),c.camera.scale.copy(n.scale),c.camera.updateMatrixWorld()}}}export{ft as default,pt as rotateViewVectorXZ};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FtZXJhU3lzdGVtLjBiYmY0NWJiLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9lbmdpbmUvc3JjL2NhbWVyYS9jb21wb25lbnRzL0NhbWVyYUNvbXBvbmVudC50cyIsIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tbW9uL2Z1bmN0aW9ucy92ZWN0b3JIZWxwZXJzLnRzIiwiLi4vLi4vLi4vZW5naW5lL3NyYy9jYW1lcmEvc3lzdGVtcy9DYW1lcmFTeXN0ZW0udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTWFwcGVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBDYW1lcmFDb21wb25lbnQgPSBjcmVhdGVNYXBwZWRDb21wb25lbnQoJ0NhbWVyYUNvbXBvbmVudCcpXG4iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAndGhyZWUnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVwZW5kaWN1bGFyVmVjdG9yKGRpcjogVmVjdG9yMywgb3V0OiBWZWN0b3IzKSB7XG4gIGNvbnN0IGFyciA9IGRpci50b0FycmF5KClcbiAgY29uc3QgbWF4SSA9IGFyci5pbmRleE9mKE1hdGgubWF4KC4uLmFycikpXG4gIGNvbnN0IG1pbkkgPSBhcnIuaW5kZXhPZihNYXRoLm1pbiguLi5hcnIpKVxuICBjb25zdCBtaWRJID0gYXJyLmZpbmRJbmRleCgodiwgaSkgPT4gaSAhPSBtaW5JICYmIGkgIT0gbWF4SSlcblxuICBsZXQgdGVtcCA9IGFyclttaWRJXVxuICBhcnJbbWlkSV0gPSAtYXJyW21heEldXG4gIGFyclttYXhJXSA9IHRlbXBcbiAgYXJyW21pbkldID0gMFxuXG4gIG91dC5mcm9tQXJyYXkoYXJyKS5ub3JtYWxpemUoKVxufVxuXG5jb25zdCB0ZW1wVmVjMSA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHRlbXBWZWMyID0gbmV3IFZlY3RvcjMoKVxuXG4vLyBDcmVhdGUgY29uZSBvZiBub3JtYWxpemVkIHZlY3RvcnMgYXJvdW5kIHRoZSBpbnB1dCB2ZWN0b3Jcbi8vIFVzZWZ1bCBmb3IgY2FtZXJhIHJheSB0ZXN0c1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbmVPZlZlY3RvcnMoaW5wdXRWZWM6IFZlY3RvcjMsIG91dHB1dHM6IFZlY3RvcjNbXSwgYW5nbGU6IG51bWJlcikge1xuICBpZiAob3V0cHV0cy5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkaXJMZW4gPSBpbnB1dFZlYy5sZW5ndGgoKVxuICBjb25zdCByYXlEZWx0YSA9ICgyICogTWF0aC5QSSkgLyBvdXRwdXRzLmxlbmd0aFxuICBjb25zdCBjb25lUmFkaXVzID0gTWF0aC50YW4oYW5nbGUpICogZGlyTGVuXG5cbiAgZ2V0UHJlcGVuZGljdWxhclZlY3RvcihpbnB1dFZlYywgdGVtcFZlYzEpXG4gIHRlbXBWZWMyLmNyb3NzVmVjdG9ycyhpbnB1dFZlYywgdGVtcFZlYzEpLm5vcm1hbGl6ZSgpXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmVjID0gb3V0cHV0c1tpXVxuXG4gICAgdmVjXG4gICAgICAuYWRkU2NhbGVkVmVjdG9yKHRlbXBWZWMxLCBNYXRoLmNvcyhyYXlEZWx0YSAqIGkpKVxuICAgICAgLmFkZFNjYWxlZFZlY3Rvcih0ZW1wVmVjMiwgTWF0aC5zaW4ocmF5RGVsdGEgKiBpKSlcbiAgICAgIC5tdWx0aXBseVNjYWxhcihjb25lUmFkaXVzKVxuICAgICAgLmFkZChpbnB1dFZlYylcbiAgICAgIC5ub3JtYWxpemUoKVxuICB9XG59XG4iLCJpbXBvcnQgeyBBcnJvd0hlbHBlciwgTWF0ZXJpYWwsIE1hdGhVdGlscywgTWF0cml4NCwgT2JqZWN0M0QsIFF1YXRlcm5pb24sIFJheWNhc3RlciwgU2tpbm5lZE1lc2gsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL0VuZ2luZSdcbmltcG9ydCB7IGFkZENvbXBvbmVudCwgZGVmaW5lUXVlcnksIGdldENvbXBvbmVudCwgcmVtb3ZlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZWNzL2Z1bmN0aW9ucy9Db21wb25lbnRGdW5jdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvZnVuY3Rpb25zL0VudGl0eUZ1bmN0aW9ucydcbmltcG9ydCB7IEF2YXRhckNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2F2YXRhci9jb21wb25lbnRzL0F2YXRhckNvbXBvbmVudCdcbmltcG9ydCB7IFRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3RyYW5zZm9ybS9jb21wb25lbnRzL1RyYW5zZm9ybUNvbXBvbmVudCdcbmltcG9ydCB7IENhbWVyYUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FtZXJhQ29tcG9uZW50J1xuaW1wb3J0IHsgRm9sbG93Q2FtZXJhQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb2xsb3dDYW1lcmFDb21wb25lbnQnXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9FbnRpdHknXG5pbXBvcnQgeyBQZXJzaXN0VGFnQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vc2NlbmUvY29tcG9uZW50cy9QZXJzaXN0VGFnQ29tcG9uZW50J1xuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuLi8uLi9lY3MvY2xhc3Nlcy9Xb3JsZCdcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uLy4uL2Vjcy9jbGFzc2VzL1N5c3RlbSdcbmltcG9ydCB7IGxlcnAsIHNtb290aERhbXAgfSBmcm9tICcuLi8uLi9jb21tb24vZnVuY3Rpb25zL01hdGhMZXJwRnVuY3Rpb25zJ1xuaW1wb3J0IHsgT2JqZWN0M0RDb21wb25lbnQgfSBmcm9tICcuLi8uLi9zY2VuZS9jb21wb25lbnRzL09iamVjdDNEQ29tcG9uZW50J1xuaW1wb3J0IHsgVGFyZ2V0Q2FtZXJhUm90YXRpb25Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1RhcmdldENhbWVyYVJvdGF0aW9uQ29tcG9uZW50J1xuaW1wb3J0IHsgQ2FtZXJhTGF5ZXJzIH0gZnJvbSAnLi4vY29uc3RhbnRzL0NhbWVyYUxheWVycydcbmltcG9ydCB7IGNyZWF0ZUNvbmVPZlZlY3RvcnMgfSBmcm9tICcuLi8uLi9jb21tb24vZnVuY3Rpb25zL3ZlY3RvckhlbHBlcnMnXG5cbmNvbnN0IGRpcmVjdGlvbiA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpXG5jb25zdCB1cFZlY3RvciA9IG5ldyBWZWN0b3IzKDAsIDEsIDApXG5jb25zdCBlbXB0eSA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IG14ID0gbmV3IE1hdHJpeDQoKVxuY29uc3QgdGVtcFZlYyA9IG5ldyBWZWN0b3IzKClcbmNvbnN0IHRlbXBWZWMxID0gbmV3IFZlY3RvcjMoKVxuY29uc3QgY2FtZXJhUmF5Q291bnQgPSA2XG5jb25zdCBjYW1lcmFSYXlzOiBWZWN0b3IzW10gPSBbXVxuY29uc3QgcmF5Q29uZUFuZ2xlID0gTWF0aC5QSSAvIDZcbmNvbnN0IGNvbmVEZWJ1Z0hlbHBlcnM6IEFycm93SGVscGVyW10gPSBbXVxuY29uc3QgZGVidWdSYXlzID0gZmFsc2VcblxuLyoqXG4gKiBDYWxjdWxhdGVzIGFuZCByZXR1cm5zIHZpZXcgdmVjdG9yIGZvciBnaXZlIGFuZ2xlLiBWaWV3IHZlY3RvciB3aWxsIGJlIGF0IHRoZSBnaXZlbiBhbmdsZSBhZnRlciB0aGUgY2FsY3VsYXRpb25cbiAqIEBwYXJhbSB2aWV3VmVjdG9yIEN1cnJlbnQgdmlldyB2ZWN0b3JcbiAqIEBwYXJhbSBhbmdsZSBhbmdsZSB0byB3aGljaCB2aWV3IHZlY3RvciB3aWxsIGJlIHJvdGF0ZWRcbiAqIEBwYXJhbSBpc0RlZ3JlZSBXaGV0aGVyIHRoZSBhbmdsZSBpcyBpbiBkZWdyZWUgb3IgcmFkaWFuXG4gKiBAcmV0dXJucyBWaWV3IHZlY3RvciBoYXZpbmcgZ2l2ZW4gYW5nbGUgaW4gdGhlIHdvcmxkIHNwYWNlXG4gKi9cbmV4cG9ydCBjb25zdCByb3RhdGVWaWV3VmVjdG9yWFogPSAodmlld1ZlY3RvcjogVmVjdG9yMywgYW5nbGU6IG51bWJlciwgaXNEZWdyZWU/OiBib29sZWFuKTogVmVjdG9yMyA9PiB7XG4gIGlmIChpc0RlZ3JlZSkge1xuICAgIGFuZ2xlID0gKGFuZ2xlICogTWF0aC5QSSkgLyAxODAgLy8gQ29udmVydCB0byBSYWRpYW5cbiAgfVxuXG4gIGNvbnN0IG9sZEFuZ2xlID0gTWF0aC5hdGFuMih2aWV3VmVjdG9yLngsIHZpZXdWZWN0b3IueilcblxuICAvLyB0aGV0YSAtIG5ld1RoZXRhID09PiBUbyByb3RhdGUgTGVmdCBvbiBtb3VzZSBkcmFnZSBSaWdodCAtPiBMZWZ0XG4gIC8vIG5ld1RoZXRhIC0gdGhldGEgPT0+IFRvIHJvdGF0ZSBSaWdodCBvbiBtb3VzZSBkcmFnZSBSaWdodCAtPiBMZWZ0XG4gIGNvbnN0IGRpZiA9IG9sZEFuZ2xlIC0gYW5nbGVcblxuICBpZiAoTWF0aC5hYnMoZGlmKSAlIE1hdGguUEkgPiAwLjAwMDEpIHtcbiAgICB2aWV3VmVjdG9yLnNldFgoTWF0aC5zaW4ob2xkQW5nbGUgLSBkaWYpKVxuICAgIHZpZXdWZWN0b3Iuc2V0WihNYXRoLmNvcyhvbGRBbmdsZSAtIGRpZikpXG4gIH1cblxuICByZXR1cm4gdmlld1ZlY3RvclxufVxuXG5jb25zdCBzZXRBdmF0YXJPcGFjaXR5ID0gKGVudGl0eTogRW50aXR5LCBvcGFjaXR5OiBudW1iZXIpOiB2b2lkID0+IHtcbiAgY29uc3Qgb2JqZWN0M0RDb21wb25lbnQgPSBnZXRDb21wb25lbnQoZW50aXR5LCBPYmplY3QzRENvbXBvbmVudClcbiAgb2JqZWN0M0RDb21wb25lbnQudmFsdWUudHJhdmVyc2UoKG9iaikgPT4ge1xuICAgIGNvbnN0IG1hdCA9IChvYmogYXMgU2tpbm5lZE1lc2gpLm1hdGVyaWFsIGFzIE1hdGVyaWFsXG4gICAgaWYgKCFtYXQpIHJldHVyblxuICAgIG1hdC5vcGFjaXR5ID0gb3BhY2l0eVxuICAgIG1hdC50cmFuc3BhcmVudCA9IG9wYWNpdHkgPCAwLjk1XG4gIH0pXG59XG5cbmNvbnN0IHVwZGF0ZUF2YXRhck9wYWNpdHkgPSAoZW50aXR5OiBFbnRpdHkpID0+IHtcbiAgaWYgKCFlbnRpdHkpIHJldHVyblxuXG4gIGNvbnN0IGZvbGxvd0NhbWVyYSA9IGdldENvbXBvbmVudChlbnRpdHksIEZvbGxvd0NhbWVyYUNvbXBvbmVudClcbiAgY29uc3QgZGlzdGFuY2VSYXRpbyA9IE1hdGgubWluKGZvbGxvd0NhbWVyYS5kaXN0YW5jZSAvIGZvbGxvd0NhbWVyYS5taW5EaXN0YW5jZSwgMSlcblxuICBzZXRBdmF0YXJPcGFjaXR5KGVudGl0eSwgZGlzdGFuY2VSYXRpbylcbn1cblxuY29uc3QgdXBkYXRlQ2FtZXJhVGFyZ2V0Um90YXRpb24gPSAoZW50aXR5OiBFbnRpdHksIGRlbHRhOiBudW1iZXIpID0+IHtcbiAgaWYgKCFlbnRpdHkpIHJldHVyblxuICBjb25zdCBmb2xsb3dDYW1lcmEgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG4gIGNvbnN0IHRhcmdldCA9IGdldENvbXBvbmVudChlbnRpdHksIFRhcmdldENhbWVyYVJvdGF0aW9uQ29tcG9uZW50KVxuICBjb25zdCBlcHNpbG9uID0gMC4wMDFcblxuICBpZiAoTWF0aC5hYnModGFyZ2V0LnBoaSAtIGZvbGxvd0NhbWVyYS5waGkpIDwgZXBzaWxvbiAmJiBNYXRoLmFicyh0YXJnZXQudGhldGEgLSBmb2xsb3dDYW1lcmEudGhldGEpIDwgZXBzaWxvbikge1xuICAgIHJlbW92ZUNvbXBvbmVudChlbnRpdHksIFRhcmdldENhbWVyYVJvdGF0aW9uQ29tcG9uZW50KVxuICAgIHJldHVyblxuICB9XG5cbiAgZm9sbG93Q2FtZXJhLnBoaSA9IHNtb290aERhbXAoZm9sbG93Q2FtZXJhLnBoaSwgdGFyZ2V0LnBoaSwgdGFyZ2V0LnBoaVZlbG9jaXR5LCB0YXJnZXQudGltZSwgZGVsdGEpXG4gIGZvbGxvd0NhbWVyYS50aGV0YSA9IHNtb290aERhbXAoZm9sbG93Q2FtZXJhLnRoZXRhLCB0YXJnZXQudGhldGEsIHRhcmdldC50aGV0YVZlbG9jaXR5LCB0YXJnZXQudGltZSwgZGVsdGEpXG59XG5cbmNvbnN0IGdldE1heENhbURpc3RhbmNlID0gKGVudGl0eTogRW50aXR5LCB0YXJnZXQ6IFZlY3RvcjMpOiBudW1iZXIgPT4ge1xuICBjb25zdCBmb2xsb3dDYW1lcmEgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG5cbiAgLy8gUmF5Y2FzdCB0byBrZWVwIHRoZSBsaW5lIG9mIHNpZ2h0IHdpdGggYXZhdGFyXG4gIGNvbnN0IGNhbWVyYVRyYW5zZm9ybSA9IGdldENvbXBvbmVudChFbmdpbmUuYWN0aXZlQ2FtZXJhRW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gIGNvbnN0IHRhcmdldFRvQ2FtVmVjID0gdGVtcFZlYzEuc3ViVmVjdG9ycyhjYW1lcmFUcmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldClcbiAgLy8gZm9sbG93Q2FtZXJhLnJheWNhc3Rlci5mYXIgPSBmb2xsb3dDYW1lcmEubWF4RGlzdGFuY2VcblxuICBjcmVhdGVDb25lT2ZWZWN0b3JzKHRhcmdldFRvQ2FtVmVjLCBjYW1lcmFSYXlzLCByYXlDb25lQW5nbGUpXG5cbiAgbGV0IG1heERpc3RhbmNlID0gZm9sbG93Q2FtZXJhLm1heERpc3RhbmNlXG5cbiAgLy8gQ2hlY2sgaGl0IHdpdGggbWlkIHJheVxuICBmb2xsb3dDYW1lcmEucmF5Y2FzdGVyLnNldCh0YXJnZXQsIHRhcmdldFRvQ2FtVmVjLm5vcm1hbGl6ZSgpKVxuICBjb25zdCBoaXRzID0gZm9sbG93Q2FtZXJhLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKEVuZ2luZS5zY2VuZS5jaGlsZHJlbiwgdHJ1ZSlcblxuICBpZiAoaGl0c1swXSAmJiBoaXRzWzBdLmRpc3RhbmNlIDwgbWF4RGlzdGFuY2UpIHtcbiAgICBtYXhEaXN0YW5jZSA9IGhpdHNbMF0uZGlzdGFuY2VcbiAgfVxuXG4gIC8vQ2hlY2sgdGhlIGNvbmUgZm9yIG1pbmltdW0gZGlzdGFuY2VcbiAgY2FtZXJhUmF5cy5mb3JFYWNoKChyYXlEaXIsIGkpID0+IHtcbiAgICBmb2xsb3dDYW1lcmEucmF5Y2FzdGVyLnNldCh0YXJnZXQsIHJheURpcilcbiAgICBjb25zdCBoaXRzID0gZm9sbG93Q2FtZXJhLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKEVuZ2luZS5zY2VuZS5jaGlsZHJlbiwgdHJ1ZSlcblxuICAgIGlmIChoaXRzWzBdICYmIGhpdHNbMF0uZGlzdGFuY2UgPCBtYXhEaXN0YW5jZSkge1xuICAgICAgbWF4RGlzdGFuY2UgPSBoaXRzWzBdLmRpc3RhbmNlXG4gICAgfVxuXG4gICAgaWYgKGRlYnVnUmF5cykge1xuICAgICAgY29uc3QgaGVscGVyID0gY29uZURlYnVnSGVscGVyc1tpXVxuICAgICAgaGVscGVyLnNldERpcmVjdGlvbihyYXlEaXIpXG4gICAgICBoZWxwZXIucG9zaXRpb24uY29weSh0YXJnZXQpXG5cbiAgICAgIGlmIChoaXRzWzBdKSB7XG4gICAgICAgIGhlbHBlci5zZXRDb2xvcigncmVkJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlbHBlci5zZXRDb2xvcignZ3JlZW4nKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gbWF4RGlzdGFuY2Vcbn1cblxuY29uc3QgY2FsY3VsYXRlQ2FtZXJhVGFyZ2V0ID0gKGVudGl0eTogRW50aXR5LCB0YXJnZXQ6IFZlY3RvcjMpID0+IHtcbiAgY29uc3QgYXZhdGFyID0gZ2V0Q29tcG9uZW50KGVudGl0eSwgQXZhdGFyQ29tcG9uZW50KVxuICBjb25zdCBhdmF0YXJUcmFuc2Zvcm0gPSBnZXRDb21wb25lbnQoZW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gIGNvbnN0IGZvbGxvd0NhbWVyYSA9IGdldENvbXBvbmVudChlbnRpdHksIEZvbGxvd0NhbWVyYUNvbXBvbmVudClcblxuICBjb25zdCBtaW5EaXN0YW5jZVJhdGlvID0gTWF0aC5taW4oZm9sbG93Q2FtZXJhLmRpc3RhbmNlIC8gZm9sbG93Q2FtZXJhLm1pbkRpc3RhbmNlLCAxKVxuICBjb25zdCBzaWRlID0gZm9sbG93Q2FtZXJhLnNob3VsZGVyU2lkZSA/IC0xIDogMVxuICBjb25zdCBzaG91bGRlck9mZnNldCA9IGxlcnAoMCwgMC4yLCBtaW5EaXN0YW5jZVJhdGlvKSAqIHNpZGVcbiAgY29uc3QgaGVpZ2h0T2Zmc2V0ID0gbGVycCgwLCAwLjI1LCBtaW5EaXN0YW5jZVJhdGlvKVxuXG4gIHRhcmdldC5zZXQoc2hvdWxkZXJPZmZzZXQsIGF2YXRhci5hdmF0YXJIZWlnaHQgKyBoZWlnaHRPZmZzZXQsIDApXG4gIHRhcmdldC5hcHBseVF1YXRlcm5pb24oYXZhdGFyVHJhbnNmb3JtLnJvdGF0aW9uKVxuICB0YXJnZXQuYWRkKGF2YXRhclRyYW5zZm9ybS5wb3NpdGlvbilcbn1cblxuY29uc3QgdXBkYXRlRm9sbG93Q2FtZXJhID0gKGVudGl0eTogRW50aXR5LCBkZWx0YTogbnVtYmVyKSA9PiB7XG4gIGlmICghZW50aXR5KSByZXR1cm5cblxuICBjb25zdCBmb2xsb3dDYW1lcmEgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG5cbiAgLy8gTGltaXQgdGhlIHBpdGNoXG4gIGZvbGxvd0NhbWVyYS5waGkgPSBNYXRoLm1pbig4NSwgTWF0aC5tYXgoLTcwLCBmb2xsb3dDYW1lcmEucGhpKSlcblxuICBjYWxjdWxhdGVDYW1lcmFUYXJnZXQoZW50aXR5LCB0ZW1wVmVjKVxuXG4gIGxldCBtYXhEaXN0YW5jZSA9IGZvbGxvd0NhbWVyYS56b29tTGV2ZWxcblxuICAvLyBSdW4gb25seSBpZiBub3QgaW4gZmlyc3QgcGVyc29uIG1vZGVcbiAgaWYgKGZvbGxvd0NhbWVyYS56b29tTGV2ZWwgPj0gZm9sbG93Q2FtZXJhLm1pbkRpc3RhbmNlKSB7XG4gICAgbWF4RGlzdGFuY2UgPSBnZXRNYXhDYW1EaXN0YW5jZShlbnRpdHksIHRlbXBWZWMpXG4gIH1cblxuICAvLyBpZiAobWF4RGlzdGFuY2UgPCBmb2xsb3dDYW1lcmEuem9vbUxldmVsKSB7XG4gIC8vICAgLy8gZ3JvdW5kIGNvbGxpc2lvblxuICAvLyAgIGlmIChmb2xsb3dDYW1lcmEucGhpIDwgLTE1KSB7XG4gIC8vICAgICBmb2xsb3dDYW1lcmEuZGlzdGFuY2UgPSBtYXhEaXN0YW5jZVxuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIFpvb20gc21vb3RoaW5nXG4gIGZvbGxvd0NhbWVyYS5kaXN0YW5jZSA9IHNtb290aERhbXAoXG4gICAgZm9sbG93Q2FtZXJhLmRpc3RhbmNlLFxuICAgIE1hdGgubWluKGZvbGxvd0NhbWVyYS56b29tTGV2ZWwsIG1heERpc3RhbmNlKSxcbiAgICBmb2xsb3dDYW1lcmEuem9vbVZlbG9jaXR5LFxuICAgIDAuMyxcbiAgICBkZWx0YVxuICApXG5cbiAgY29uc3QgdGhldGEgPSBmb2xsb3dDYW1lcmEudGhldGFcbiAgY29uc3QgdGhldGFSYWQgPSBNYXRoVXRpbHMuZGVnVG9SYWQodGhldGEpXG4gIGNvbnN0IHBoaVJhZCA9IE1hdGhVdGlscy5kZWdUb1JhZChmb2xsb3dDYW1lcmEucGhpKVxuXG4gIGNvbnN0IGNhbWVyYVRyYW5zZm9ybSA9IGdldENvbXBvbmVudChFbmdpbmUuYWN0aXZlQ2FtZXJhRW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQpXG4gIGNhbWVyYVRyYW5zZm9ybS5wb3NpdGlvbi5zZXQoXG4gICAgdGVtcFZlYy54ICsgZm9sbG93Q2FtZXJhLmRpc3RhbmNlICogTWF0aC5zaW4odGhldGFSYWQpICogTWF0aC5jb3MocGhpUmFkKSxcbiAgICB0ZW1wVmVjLnkgKyBmb2xsb3dDYW1lcmEuZGlzdGFuY2UgKiBNYXRoLnNpbihwaGlSYWQpLFxuICAgIHRlbXBWZWMueiArIGZvbGxvd0NhbWVyYS5kaXN0YW5jZSAqIE1hdGguY29zKHRoZXRhUmFkKSAqIE1hdGguY29zKHBoaVJhZClcbiAgKVxuXG4gIGRpcmVjdGlvbi5jb3B5KGNhbWVyYVRyYW5zZm9ybS5wb3NpdGlvbikuc3ViKHRlbXBWZWMpLm5vcm1hbGl6ZSgpXG5cbiAgbXgubG9va0F0KGRpcmVjdGlvbiwgZW1wdHksIHVwVmVjdG9yKVxuICBjYW1lcmFUcmFuc2Zvcm0ucm90YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KG14KVxuXG4gIGNvbnN0IGF2YXRhclRyYW5zZm9ybSA9IGdldENvbXBvbmVudChlbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcblxuICAvLyBUT0RPOiBDYW4gbW92ZSBhdmF0YXIgdXBkYXRlIGNvZGUgb3V0c2lkZSB0aGlzIGZ1bmN0aW9uXG4gIGlmIChmb2xsb3dDYW1lcmEubG9ja2VkKSB7XG4gICAgY29uc3QgbmV3VGhldGEgPSBNYXRoVXRpbHMuZGVnVG9SYWQodGhldGEgKyAxODApICUgKE1hdGguUEkgKiAyKVxuICAgIC8vIGF2YXRhclRyYW5zZm9ybS5yb3RhdGlvbi5zZXRGcm9tQXhpc0FuZ2xlKHVwVmVjdG9yLCBuZXdUaGV0YSlcbiAgICBhdmF0YXJUcmFuc2Zvcm0ucm90YXRpb24uc2xlcnAocXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKHVwVmVjdG9yLCBuZXdUaGV0YSksIGRlbHRhICogNClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBDYW1lcmFTeXN0ZW0od29ybGQ6IFdvcmxkKTogUHJvbWlzZTxTeXN0ZW0+IHtcbiAgY29uc3QgZm9sbG93Q2FtZXJhUXVlcnkgPSBkZWZpbmVRdWVyeShbRm9sbG93Q2FtZXJhQ29tcG9uZW50LCBUcmFuc2Zvcm1Db21wb25lbnQsIEF2YXRhckNvbXBvbmVudF0pXG4gIGNvbnN0IHRhcmdldENhbWVyYVJvdGF0aW9uUXVlcnkgPSBkZWZpbmVRdWVyeShbRm9sbG93Q2FtZXJhQ29tcG9uZW50LCBUYXJnZXRDYW1lcmFSb3RhdGlvbkNvbXBvbmVudF0pXG5cbiAgY29uc3QgY2FtZXJhRW50aXR5ID0gY3JlYXRlRW50aXR5KClcbiAgYWRkQ29tcG9uZW50KGNhbWVyYUVudGl0eSwgQ2FtZXJhQ29tcG9uZW50LCB7fSlcblxuICAvLyBhZGRDb21wb25lbnQoY2FtZXJhRW50aXR5LCBPYmplY3QzRENvbXBvbmVudCwgeyB2YWx1ZTogRW5naW5lLmNhbWVyYSB9KVxuICBhZGRDb21wb25lbnQoY2FtZXJhRW50aXR5LCBUcmFuc2Zvcm1Db21wb25lbnQsIHtcbiAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoKSxcbiAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKSxcbiAgICBzY2FsZTogbmV3IFZlY3RvcjMoMSwgMSwgMSlcbiAgfSlcbiAgYWRkQ29tcG9uZW50KGNhbWVyYUVudGl0eSwgUGVyc2lzdFRhZ0NvbXBvbmVudCwge30pXG4gIEVuZ2luZS5hY3RpdmVDYW1lcmFFbnRpdHkgPSBjYW1lcmFFbnRpdHlcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGVsdGEgfSA9IHdvcmxkXG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBmb2xsb3dDYW1lcmFRdWVyeS5lbnRlcigpKSB7XG4gICAgICBjb25zdCBjYW1lcmFGb2xsb3cgPSBnZXRDb21wb25lbnQoZW50aXR5LCBGb2xsb3dDYW1lcmFDb21wb25lbnQpXG4gICAgICBjYW1lcmFGb2xsb3cucmF5Y2FzdGVyLmxheWVycy5zZXQoQ2FtZXJhTGF5ZXJzLlNjZW5lKSAvLyBJZ25vcmUgYXZhdGFyc1xuICAgICAgOyhjYW1lcmFGb2xsb3cucmF5Y2FzdGVyIGFzIGFueSkuZmlyc3RIaXRPbmx5ID0gdHJ1ZSAvLyB0aHJlZS1tZXNoLWJ2aCBzZXR0aW5nXG4gICAgICBjYW1lcmFGb2xsb3cucmF5Y2FzdGVyLmZhciA9IGNhbWVyYUZvbGxvdy5tYXhEaXN0YW5jZVxuICAgICAgRW5naW5lLmFjdGl2ZUNhbWVyYUZvbGxvd1RhcmdldCA9IGVudGl0eVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbWVyYVJheUNvdW50OyBpKyspIHtcbiAgICAgICAgY2FtZXJhUmF5cy5wdXNoKG5ldyBWZWN0b3IzKCkpXG5cbiAgICAgICAgaWYgKGRlYnVnUmF5cykge1xuICAgICAgICAgIGNvbnN0IGFycm93ID0gbmV3IEFycm93SGVscGVyKClcbiAgICAgICAgICBjb25lRGVidWdIZWxwZXJzLnB1c2goYXJyb3cpXG4gICAgICAgICAgYXJyb3cudHJhdmVyc2UoKG9iajogT2JqZWN0M0QpID0+IHtcbiAgICAgICAgICAgIG9iai5sYXllcnMuc2V0KENhbWVyYUxheWVycy5BdmF0YXIpXG4gICAgICAgICAgfSlcbiAgICAgICAgICBFbmdpbmUuc2NlbmUuYWRkKGFycm93KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZm9sbG93Q2FtZXJhUXVlcnkuZXhpdCgpKSB7XG4gICAgICBzZXRBdmF0YXJPcGFjaXR5KGVudGl0eSwgMSlcbiAgICAgIEVuZ2luZS5hY3RpdmVDYW1lcmFGb2xsb3dUYXJnZXQgPSBudWxsXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZm9sbG93Q2FtZXJhUXVlcnkod29ybGQpKSB7XG4gICAgICB1cGRhdGVGb2xsb3dDYW1lcmEoZW50aXR5LCBkZWx0YSlcbiAgICAgIHVwZGF0ZUF2YXRhck9wYWNpdHkoZW50aXR5KVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRhcmdldENhbWVyYVJvdGF0aW9uUXVlcnkod29ybGQpKSB7XG4gICAgICB1cGRhdGVDYW1lcmFUYXJnZXRSb3RhdGlvbihlbnRpdHksIGRlbHRhKVxuICAgIH1cblxuICAgIGlmIChFbmdpbmUueHJSZW5kZXJlcj8uaXNQcmVzZW50aW5nKSB7XG4gICAgICBFbmdpbmUueHJSZW5kZXJlci51cGRhdGVDYW1lcmEoRW5naW5lLmNhbWVyYSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBFbmdpbmUuYWN0aXZlQ2FtZXJhRW50aXR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gZ2V0Q29tcG9uZW50KEVuZ2luZS5hY3RpdmVDYW1lcmFFbnRpdHksIFRyYW5zZm9ybUNvbXBvbmVudClcbiAgICAgIEVuZ2luZS5jYW1lcmEucG9zaXRpb24uY29weSh0cmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgICBFbmdpbmUuY2FtZXJhLnF1YXRlcm5pb24uY29weSh0cmFuc2Zvcm0ucm90YXRpb24pXG4gICAgICBFbmdpbmUuY2FtZXJhLnNjYWxlLmNvcHkodHJhbnNmb3JtLnNjYWxlKVxuICAgICAgRW5naW5lLmNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsidGVtcFZlYzEiXSwibWFwcGluZ3MiOiJtakJBRWEsR0FBa0IsRUFBc0IsOEJDQWQsRUFBYyxFQUFjLE1BQzNELEdBQU0sRUFBSSxVQUNWLEVBQU8sRUFBSSxRQUFRLEtBQUssSUFBSSxHQUFHLElBQy9CLEVBQU8sRUFBSSxRQUFRLEtBQUssSUFBSSxHQUFHLElBQy9CLEVBQU8sRUFBSSxVQUFVLENBQUMsRUFBRyxJQUFNLEdBQUssR0FBUSxHQUFLLE1BRW5ELEdBQU8sRUFBSSxLQUNYLEdBQVEsQ0FBQyxFQUFJLEtBQ2IsR0FBUSxJQUNSLEdBQVEsSUFFUixVQUFVLEdBQUssWUFHckIsS0FBTUEsR0FBVyxHQUFJLEdBQ2YsRUFBVyxHQUFJLGNBSWUsRUFBbUIsRUFBb0IsRUFBZSxJQUNwRixFQUFRLE9BQVMsY0FJZixHQUFTLEVBQVMsU0FDbEIsRUFBWSxFQUFJLEtBQUssR0FBTSxFQUFRLE9BQ25DLEVBQWEsS0FBSyxJQUFJLEdBQVMsSUFFZCxFQUFVQSxLQUN4QixhQUFhLEVBQVVBLEdBQVUsbUJBRWpDLEdBQUksRUFBRyxFQUFJLEVBQVEsT0FBUSxJQUN0QixFQUFRLEdBR2pCLGdCQUFnQkEsRUFBVSxLQUFLLElBQUksRUFBVyxJQUM5QyxnQkFBZ0Is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
