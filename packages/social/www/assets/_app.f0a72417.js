import{R as x,r as se,c as e0,_ as BD,d as Nt,o as qD,e as $u,g as t0,f as KD,h as n0,j as $s,k as JD,l as XD,m as ZD,b as Qf,n as Vs}from"./vendor.475cb2ff.js";import{C as ka,_ as Ve}from"./index.7b02be28.js";var r0={exports:{}},QD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eI=QD,tI=eI;function i0(){}function a0(){}a0.resetWarningCache=i0;var nI=function(){function e(r,a,o,u,l,f){if(f!==tI){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a0,resetWarningCache:i0};return n.PropTypes=n,n};r0.exports=nI();var at=r0.exports,Pa=x.createContext(null);function rI(e){e()}var s0=rI,iI=function(t){return s0=t},aI=function(){return s0};function sI(){var e=aI(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],o=t;o;)a.push(o),o=o.next;return a},subscribe:function(a){var o=!0,u=n={callback:a,next:null,prev:n};return u.prev?u.prev.next=u:t=u,function(){!o||t===null||(o=!1,u.next?u.next.prev=u.prev:n=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var o0={notify:function(){},get:function(){return[]}};function oI(e,t){var n,r=o0;function a(_){return f(),r.subscribe(_)}function o(){r.notify()}function u(){h.onStateChange&&h.onStateChange()}function l(){return Boolean(n)}function f(){n||(n=t?t.addNestedSub(u):e.subscribe(u),r=sI())}function d(){n&&(n(),n=void 0,r.clear(),r=o0)}var h={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:d,getListeners:function(){return r}};return h}var uI=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?se.exports.useLayoutEffect:se.exports.useEffect;function cI(e){var t=e.store,n=e.context,r=e.children,a=se.exports.useMemo(function(){var l=oI(t);return l.onStateChange=l.notifyNestedSubs,{store:t,subscription:l}},[t]),o=se.exports.useMemo(function(){return t.getState()},[t]);uI(function(){var l=a.subscription;return l.trySubscribe(),o!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,o]);var u=n||Pa;return x.createElement(u.Provider,{value:a},r)}function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}var Vu={exports:{}},Ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,ed=Gt?Symbol.for("react.element"):60103,td=Gt?Symbol.for("react.portal"):60106,Hu=Gt?Symbol.for("react.fragment"):60107,Gu=Gt?Symbol.for("react.strict_mode"):60108,ju=Gt?Symbol.for("react.profiler"):60114,zu=Gt?Symbol.for("react.provider"):60109,Wu=Gt?Symbol.for("react.context"):60110,nd=Gt?Symbol.for("react.async_mode"):60111,Yu=Gt?Symbol.for("react.concurrent_mode"):60111,Bu=Gt?Symbol.for("react.forward_ref"):60112,qu=Gt?Symbol.for("react.suspense"):60113,lI=Gt?Symbol.for("react.suspense_list"):60120,Ku=Gt?Symbol.for("react.memo"):60115,Ju=Gt?Symbol.for("react.lazy"):60116,fI=Gt?Symbol.for("react.block"):60121,dI=Gt?Symbol.for("react.fundamental"):60117,pI=Gt?Symbol.for("react.responder"):60118,hI=Gt?Symbol.for("react.scope"):60119;function In(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ed:switch(e=e.type,e){case nd:case Yu:case Hu:case ju:case Gu:case qu:return e;default:switch(e=e&&e.$$typeof,e){case Wu:case Bu:case Ju:case Ku:case zu:return e;default:return t}}case td:return t}}}function u0(e){return In(e)===Yu}Ze.AsyncMode=nd;Ze.ConcurrentMode=Yu;Ze.ContextConsumer=Wu;Ze.ContextProvider=zu;Ze.Element=ed;Ze.ForwardRef=Bu;Ze.Fragment=Hu;Ze.Lazy=Ju;Ze.Memo=Ku;Ze.Portal=td;Ze.Profiler=ju;Ze.StrictMode=Gu;Ze.Suspense=qu;Ze.isAsyncMode=function(e){return u0(e)||In(e)===nd};Ze.isConcurrentMode=u0;Ze.isContextConsumer=function(e){return In(e)===Wu};Ze.isContextProvider=function(e){return In(e)===zu};Ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ed};Ze.isForwardRef=function(e){return In(e)===Bu};Ze.isFragment=function(e){return In(e)===Hu};Ze.isLazy=function(e){return In(e)===Ju};Ze.isMemo=function(e){return In(e)===Ku};Ze.isPortal=function(e){return In(e)===td};Ze.isProfiler=function(e){return In(e)===ju};Ze.isStrictMode=function(e){return In(e)===Gu};Ze.isSuspense=function(e){return In(e)===qu};Ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hu||e===Yu||e===ju||e===Gu||e===qu||e===lI||typeof e=="object"&&e!==null&&(e.$$typeof===Ju||e.$$typeof===Ku||e.$$typeof===zu||e.$$typeof===Wu||e.$$typeof===Bu||e.$$typeof===dI||e.$$typeof===pI||e.$$typeof===hI||e.$$typeof===fI)};Ze.typeOf=In;Vu.exports=Ze;var rd=Vu.exports,mI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_I={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},id={};id[rd.ForwardRef]=gI;id[rd.Memo]=c0;function l0(e){return rd.isMemo(e)?c0:id[e.$$typeof]||mI}var vI=Object.defineProperty,yI=Object.getOwnPropertyNames,f0=Object.getOwnPropertySymbols,EI=Object.getOwnPropertyDescriptor,bI=Object.getPrototypeOf,d0=Object.prototype;function p0(e,t,n){if(typeof t!="string"){if(d0){var r=bI(t);r&&r!==d0&&p0(e,r,n)}var a=yI(t);f0&&(a=a.concat(f0(t)));for(var o=l0(e),u=l0(t),l=0;l<a.length;++l){var f=a[l];if(!_I[f]&&!(n&&n[f])&&!(u&&u[f])&&!(o&&o[f])){var d=EI(t,f);try{vI(e,f,d)}catch(h){}}}}return e}var ad=p0;function SI(){var e=se.exports.useContext(Pa);return e}function h0(e){e===void 0&&(e=Pa);var t=e===Pa?SI:function(){return se.exports.useContext(e)};return function(){var r=t(),a=r.store;return a}}var wI=h0();function TI(e){e===void 0&&(e=Pa);var t=e===Pa?wI:h0(e);return function(){var r=t();return r.dispatch}}var AI=TI();iI(e0.exports.unstable_batchedUpdates);function ur(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BD(e,t)}function Xu(e){return e.charAt(0)==="/"}function sd(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function RI(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&Xu(e),o=t&&Xu(t),u=a||o;if(e&&Xu(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l;if(r.length){var f=r[r.length-1];l=f==="."||f===".."||f===""}else l=!1;for(var d=0,h=r.length;h>=0;h--){var _=r[h];_==="."?sd(r,h):_===".."?(sd(r,h),d++):d&&(sd(r,h),d--)}if(!u)for(;d--;d)r.unshift("..");u&&r[0]!==""&&(!r[0]||!Xu(r[0]))&&r.unshift("");var v=r.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}var OI=!0,m0="Invariant failed";function _i(e,t){if(!e)throw OI?new Error(m0):new Error(m0+": "+(t||""))}function Hs(e){return e.charAt(0)==="/"?e:"/"+e}function _0(e){return e.charAt(0)==="/"?e.substr(1):e}function xI(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function g0(e,t){return xI(e,t)?e.substr(t.length):e}function v0(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function DI(e){var t=e||"/",n="",r="",a=t.indexOf("#");a!==-1&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return o!==-1&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function En(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Cn(e,t,n,r){var a;typeof e=="string"?(a=DI(e),a.state=t):(a=pe({},e),a.pathname===void 0&&(a.pathname=""),a.search?a.search.charAt(0)!=="?"&&(a.search="?"+a.search):a.search="",a.hash?a.hash.charAt(0)!=="#"&&(a.hash="#"+a.hash):a.hash="",t!==void 0&&a.state===void 0&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),r?a.pathname?a.pathname.charAt(0)!=="/"&&(a.pathname=RI(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function od(){var e=null;function t(u){return e=u,function(){e===u&&(e=null)}}function n(u,l,f,d){if(e!=null){var h=typeof e=="function"?e(u,l):e;typeof h=="string"?typeof f=="function"?f(h,d):d(!0):d(h!==!1)}else d(!0)}var r=[];function a(u){var l=!0;function f(){l&&u.apply(void 0,arguments)}return r.push(f),function(){l=!1,r=r.filter(function(d){return d!==f})}}function o(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];r.forEach(function(d){return d.apply(void 0,l)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:a,notifyListeners:o}}var y0=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function E0(e,t){t(window.confirm(e))}function II(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function CI(){return window.navigator.userAgent.indexOf("Trident")===-1}function kI(){return window.navigator.userAgent.indexOf("Firefox")===-1}function PI(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var b0="popstate",S0="hashchange";function w0(){try{return window.history.state||{}}catch(e){return{}}}function MI(e){e===void 0&&(e={}),y0||_i(!1);var t=window.history,n=II(),r=!CI(),a=e,o=a.forceRefresh,u=o===void 0?!1:o,l=a.getUserConfirmation,f=l===void 0?E0:l,d=a.keyLength,h=d===void 0?6:d,_=e.basename?v0(Hs(e.basename)):"";function v(ie){var q=ie||{},re=q.key,N=q.state,$=window.location,X=$.pathname,Q=$.search,R=$.hash,ce=X+Q+R;return _&&(ce=g0(ce,_)),Cn(ce,N,re)}function b(){return Math.random().toString(36).substr(2,h)}var w=od();function E(ie){pe(W,ie),W.length=t.length,w.notifyListeners(W.location,W.action)}function T(ie){PI(ie)||B(v(ie.state))}function k(){B(v(w0()))}var M=!1;function B(ie){if(M)M=!1,E();else{var q="POP";w.confirmTransitionTo(ie,q,f,function(re){re?E({action:q,location:ie}):Z(ie)})}}function Z(ie){var q=W.location,re=ne.indexOf(q.key);re===-1&&(re=0);var N=ne.indexOf(ie.key);N===-1&&(N=0);var $=re-N;$&&(M=!0,ee($))}var Y=v(w0()),ne=[Y.key];function V(ie){return _+En(ie)}function z(ie,q){var re="PUSH",N=Cn(ie,q,b(),W.location);w.confirmTransitionTo(N,re,f,function($){if(!!$){var X=V(N),Q=N.key,R=N.state;if(n)if(t.pushState({key:Q,state:R},null,X),u)window.location.href=X;else{var ce=ne.indexOf(W.location.key),K=ne.slice(0,ce+1);K.push(N.key),ne=K,E({action:re,location:N})}else window.location.href=X}})}function ae(ie,q){var re="REPLACE",N=Cn(ie,q,b(),W.location);w.confirmTransitionTo(N,re,f,function($){if(!!$){var X=V(N),Q=N.key,R=N.state;if(n)if(t.replaceState({key:Q,state:R},null,X),u)window.location.replace(X);else{var ce=ne.indexOf(W.location.key);ce!==-1&&(ne[ce]=N.key),E({action:re,location:N})}else window.location.replace(X)}})}function ee(ie){t.go(ie)}function _e(){ee(-1)}function ve(){ee(1)}var G=0;function C(ie){G+=ie,G===1&&ie===1?(window.addEventListener(b0,T),r&&window.addEventListener(S0,k)):G===0&&(window.removeEventListener(b0,T),r&&window.removeEventListener(S0,k))}var I=!1;function L(ie){ie===void 0&&(ie=!1);var q=w.setPrompt(ie);return I||(C(1),I=!0),function(){return I&&(I=!1,C(-1)),q()}}function U(ie){var q=w.appendListener(ie);return C(1),function(){C(-1),q()}}var W={length:t.length,action:"POP",location:Y,createHref:V,push:z,replace:ae,go:ee,goBack:_e,goForward:ve,block:L,listen:U};return W}var T0="hashchange",UI={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+_0(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:_0,decodePath:Hs},slash:{encodePath:Hs,decodePath:Hs}};function A0(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Gs(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function LI(e){window.location.hash=e}function ud(e){window.location.replace(A0(window.location.href)+"#"+e)}function NI(e){e===void 0&&(e={}),y0||_i(!1);var t=window.history;kI();var n=e,r=n.getUserConfirmation,a=r===void 0?E0:r,o=n.hashType,u=o===void 0?"slash":o,l=e.basename?v0(Hs(e.basename)):"",f=UI[u],d=f.encodePath,h=f.decodePath;function _(){var q=h(Gs());return l&&(q=g0(q,l)),Cn(q)}var v=od();function b(q){pe(ie,q),ie.length=t.length,v.notifyListeners(ie.location,ie.action)}var w=!1,E=null;function T(q,re){return q.pathname===re.pathname&&q.search===re.search&&q.hash===re.hash}function k(){var q=Gs(),re=d(q);if(q!==re)ud(re);else{var N=_(),$=ie.location;if(!w&&T($,N)||E===En(N))return;E=null,M(N)}}function M(q){if(w)w=!1,b();else{var re="POP";v.confirmTransitionTo(q,re,a,function(N){N?b({action:re,location:q}):B(q)})}}function B(q){var re=ie.location,N=V.lastIndexOf(En(re));N===-1&&(N=0);var $=V.lastIndexOf(En(q));$===-1&&($=0);var X=N-$;X&&(w=!0,_e(X))}var Z=Gs(),Y=d(Z);Z!==Y&&ud(Y);var ne=_(),V=[En(ne)];function z(q){var re=document.querySelector("base"),N="";return re&&re.getAttribute("href")&&(N=A0(window.location.href)),N+"#"+d(l+En(q))}function ae(q,re){var N="PUSH",$=Cn(q,void 0,void 0,ie.location);v.confirmTransitionTo($,N,a,function(X){if(!!X){var Q=En($),R=d(l+Q),ce=Gs()!==R;if(ce){E=Q,LI(R);var K=V.lastIndexOf(En(ie.location)),xe=V.slice(0,K+1);xe.push(Q),V=xe,b({action:N,location:$})}else b()}})}function ee(q,re){var N="REPLACE",$=Cn(q,void 0,void 0,ie.location);v.confirmTransitionTo($,N,a,function(X){if(!!X){var Q=En($),R=d(l+Q),ce=Gs()!==R;ce&&(E=Q,ud(R));var K=V.indexOf(En(ie.location));K!==-1&&(V[K]=Q),b({action:N,location:$})}})}function _e(q){t.go(q)}function ve(){_e(-1)}function G(){_e(1)}var C=0;function I(q){C+=q,C===1&&q===1?window.addEventListener(T0,k):C===0&&window.removeEventListener(T0,k)}var L=!1;function U(q){q===void 0&&(q=!1);var re=v.setPrompt(q);return L||(I(1),L=!0),function(){return L&&(L=!1,I(-1)),re()}}function W(q){var re=v.appendListener(q);return I(1),function(){I(-1),re()}}var ie={length:t.length,action:"POP",location:ne,createHref:z,push:ae,replace:ee,go:_e,goBack:ve,goForward:G,block:U,listen:W};return ie}function R0(e,t,n){return Math.min(Math.max(e,t),n)}function FI(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,a=r===void 0?["/"]:r,o=t.initialIndex,u=o===void 0?0:o,l=t.keyLength,f=l===void 0?6:l,d=od();function h(z){pe(V,z),V.length=V.entries.length,d.notifyListeners(V.location,V.action)}function _(){return Math.random().toString(36).substr(2,f)}var v=R0(u,0,a.length-1),b=a.map(function(z){return typeof z=="string"?Cn(z,void 0,_()):Cn(z,void 0,z.key||_())}),w=En;function E(z,ae){var ee="PUSH",_e=Cn(z,ae,_(),V.location);d.confirmTransitionTo(_e,ee,n,function(ve){if(!!ve){var G=V.index,C=G+1,I=V.entries.slice(0);I.length>C?I.splice(C,I.length-C,_e):I.push(_e),h({action:ee,location:_e,index:C,entries:I})}})}function T(z,ae){var ee="REPLACE",_e=Cn(z,ae,_(),V.location);d.confirmTransitionTo(_e,ee,n,function(ve){!ve||(V.entries[V.index]=_e,h({action:ee,location:_e}))})}function k(z){var ae=R0(V.index+z,0,V.entries.length-1),ee="POP",_e=V.entries[ae];d.confirmTransitionTo(_e,ee,n,function(ve){ve?h({action:ee,location:_e,index:ae}):h()})}function M(){k(-1)}function B(){k(1)}function Z(z){var ae=V.index+z;return ae>=0&&ae<V.entries.length}function Y(z){return z===void 0&&(z=!1),d.setPrompt(z)}function ne(z){return d.appendListener(z)}var V={length:b.length,action:"POP",location:b[v],index:v,entries:b,createHref:w,push:E,replace:T,go:k,goBack:M,goForward:B,canGo:Z,block:Y,listen:ne};return V}var cd=1073741823,O0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function $I(){var e="__global_unique_id__";return O0[e]=(O0[e]||0)+1}function VI(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function HI(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(a){return a!==r})},get:function(){return e},set:function(r,a){e=r,t.forEach(function(o){return o(e,a)})}}}function GI(e){return Array.isArray(e)?e[0]:e}function jI(e,t){var n,r,a="__create-react-context-"+$I()+"__",o=function(l){ur(f,l);function f(){var h;return h=l.apply(this,arguments)||this,h.emitter=HI(h.props.value),h}var d=f.prototype;return d.getChildContext=function(){var _;return _={},_[a]=this.emitter,_},d.componentWillReceiveProps=function(_){if(this.props.value!==_.value){var v=this.props.value,b=_.value,w;VI(v,b)?w=0:(w=typeof t=="function"?t(v,b):cd,w|=0,w!==0&&this.emitter.set(_.value,w))}},d.render=function(){return this.props.children},f}(se.exports.Component);o.childContextTypes=(n={},n[a]=at.object.isRequired,n);var u=function(l){ur(f,l);function f(){var h;return h=l.apply(this,arguments)||this,h.state={value:h.getValue()},h.onUpdate=function(_,v){var b=h.observedBits|0;(b&v)!=0&&h.setState({value:h.getValue()})},h}var d=f.prototype;return d.componentWillReceiveProps=function(_){var v=_.observedBits;this.observedBits=v??cd},d.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var _=this.props.observedBits;this.observedBits=_??cd},d.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},d.getValue=function(){return this.context[a]?this.context[a].get():e},d.render=function(){return GI(this.props.children)(this.state.value)},f}(se.exports.Component);return u.contextTypes=(r={},r[a]=at.object,r),{Provider:o,Consumer:u}}var zI=x.createContext||jI,Ma={exports:{}},WI=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},Zu=WI;Ma.exports=I0;Ma.exports.parse=ld;Ma.exports.compile=BI;Ma.exports.tokensToFunction=x0;Ma.exports.tokensToRegExp=D0;var YI=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ld(e,t){for(var n=[],r=0,a=0,o="",u=t&&t.delimiter||"/",l;(l=YI.exec(e))!=null;){var f=l[0],d=l[1],h=l.index;if(o+=e.slice(a,h),a=h+f.length,d){o+=d[1];continue}var _=e[a],v=l[2],b=l[3],w=l[4],E=l[5],T=l[6],k=l[7];o&&(n.push(o),o="");var M=v!=null&&_!=null&&_!==v,B=T==="+"||T==="*",Z=T==="?"||T==="*",Y=l[2]||u,ne=w||E;n.push({name:b||r++,prefix:v||"",delimiter:Y,optional:Z,repeat:B,partial:M,asterisk:!!k,pattern:ne?JI(ne):k?".*":"[^"+Qu(Y)+"]+?"})}return a<e.length&&(o+=e.substr(a)),o&&n.push(o),n}function BI(e,t){return x0(ld(e,t),t)}function qI(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function KI(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function x0(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",dd(t)));return function(a,o){for(var u="",l=a||{},f=o||{},d=f.pretty?qI:encodeURIComponent,h=0;h<e.length;h++){var _=e[h];if(typeof _=="string"){u+=_;continue}var v=l[_.name],b;if(v==null)if(_.optional){_.partial&&(u+=_.prefix);continue}else throw new TypeError('Expected "'+_.name+'" to be defined');if(Zu(v)){if(!_.repeat)throw new TypeError('Expected "'+_.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(_.optional)continue;throw new TypeError('Expected "'+_.name+'" to not be empty')}for(var w=0;w<v.length;w++){if(b=d(v[w]),!n[h].test(b))throw new TypeError('Expected all "'+_.name+'" to match "'+_.pattern+'", but received `'+JSON.stringify(b)+"`");u+=(w===0?_.prefix:_.delimiter)+b}continue}if(b=_.asterisk?KI(v):d(v),!n[h].test(b))throw new TypeError('Expected "'+_.name+'" to match "'+_.pattern+'", but received "'+b+'"');u+=_.prefix+b}return u}}function Qu(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function JI(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function fd(e,t){return e.keys=t,e}function dd(e){return e&&e.sensitive?"":"i"}function XI(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return fd(e,t)}function ZI(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(I0(e[a],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",dd(n));return fd(o,t)}function QI(e,t,n){return D0(ld(e,n),t,n)}function D0(e,t,n){Zu(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,a=n.end!==!1,o="",u=0;u<e.length;u++){var l=e[u];if(typeof l=="string")o+=Qu(l);else{var f=Qu(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+f+d+")*"),l.optional?l.partial?d=f+"("+d+")?":d="(?:"+f+"("+d+"))?":d=f+"("+d+")",o+=d}}var h=Qu(n.delimiter||"/"),_=o.slice(-h.length)===h;return r||(o=(_?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),a?o+="$":o+=r&&_?"":"(?="+h+"|$)",fd(new RegExp("^"+o,dd(n)),t)}function I0(e,t,n){return Zu(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?XI(e,t):Zu(e)?ZI(e,t,n):QI(e,t,n)}var eC=Ma.exports,C0=function(t){var n=zI();return n.displayName=t,n},k0=C0("Router-History"),gi=C0("Router"),ec=function(e){ur(t,e),t.computeRootMatch=function(a){return{path:"/",url:"/",params:{},isExact:a==="/"}};function t(r){var a;return a=e.call(this,r)||this,a.state={location:r.history.location},a._isMounted=!1,a._pendingLocation=null,r.staticContext||(a.unlisten=r.history.listen(function(o){a._isMounted?a.setState({location:o}):a._pendingLocation=o})),a}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return x.createElement(gi.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},x.createElement(k0.Provider,{children:this.props.children||null,value:this.props.history}))},t}(x.Component);x.Component;x.Component;var P0={},tC=1e4,M0=0;function nC(e,t){var n=""+t.end+t.strict+t.sensitive,r=P0[n]||(P0[n]={});if(r[e])return r[e];var a=[],o=eC(e,a,t),u={regexp:o,keys:a};return M0<tC&&(r[e]=u,M0++),u}function pd(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=a===void 0?!1:a,u=n.strict,l=u===void 0?!1:u,f=n.sensitive,d=f===void 0?!1:f,h=[].concat(r);return h.reduce(function(_,v){if(!v&&v!=="")return null;if(_)return _;var b=nC(v,{end:o,strict:l,sensitive:d}),w=b.regexp,E=b.keys,T=w.exec(e);if(!T)return null;var k=T[0],M=T.slice(1),B=e===k;return o&&!B?null:{path:v,url:v==="/"&&k===""?"/":k,isExact:B,params:E.reduce(function(Z,Y,ne){return Z[Y.name]=M[ne],Z},{})}},null)}function rC(e){return x.Children.count(e)===0}var He=function(e){ur(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var a=this;return x.createElement(gi.Consumer,null,function(o){o||_i(!1);var u=a.props.location||o.location,l=a.props.computedMatch?a.props.computedMatch:a.props.path?pd(u.pathname,a.props):o.match,f=pe({},o,{location:u,match:l}),d=a.props,h=d.children,_=d.component,v=d.render;return Array.isArray(h)&&rC(h)&&(h=null),x.createElement(gi.Provider,{value:f},f.match?h?typeof h=="function"?h(f):h:_?x.createElement(_,f):v?v(f):null:typeof h=="function"?h(f):null)})},t}(x.Component);function hd(e){return e.charAt(0)==="/"?e:"/"+e}function iC(e,t){return e?pe({},t,{pathname:hd(e)+t.pathname}):t}function aC(e,t){if(!e)return t;var n=hd(e);return t.pathname.indexOf(n)!==0?t:pe({},t,{pathname:t.pathname.substr(n.length)})}function U0(e){return typeof e=="string"?e:En(e)}function md(e){return function(){_i(!1)}}function L0(){}x.Component;var sC=function(e){ur(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var a=this;return x.createElement(gi.Consumer,null,function(o){o||_i(!1);var u=a.props.location||o.location,l,f;return x.Children.forEach(a.props.children,function(d){if(f==null&&x.isValidElement(d)){l=d;var h=d.props.path||d.props.from;f=h?pd(u.pathname,pe({},d.props,{path:h})):o.match}}),f?x.cloneElement(l,{location:u,computedMatch:f}):null})},t}(x.Component);function p6(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(a){var o=a.wrappedComponentRef,u=Nt(a,["wrappedComponentRef"]);return x.createElement(gi.Consumer,null,function(l){return l||_i(!1),x.createElement(e,pe({},u,l,{ref:o}))})};return n.displayName=t,n.WrappedComponent=e,ad(n,e)}var N0=x.useContext;function oC(){return N0(k0)}function h6(){return N0(gi).location}var uC=function(e){ur(t,e);function t(){for(var r,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o))||this,r.history=MI(r.props),r}var n=t.prototype;return n.render=function(){return x.createElement(ec,{history:this.history,children:this.props.children})},t}(x.Component);x.Component;var _d=function(t,n){return typeof t=="function"?t(n):t},gd=function(t,n){return typeof t=="string"?Cn(t,null,null,n):t},vd=function(t){return t},Ua=x.forwardRef;typeof Ua=="undefined"&&(Ua=vd);function cC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var lC=Ua(function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=Nt(e,["innerRef","navigate","onClick"]),u=o.target,l=pe({},o,{onClick:function(d){try{a&&a(d)}catch(h){throw d.preventDefault(),h}!d.defaultPrevented&&d.button===0&&(!u||u==="_self")&&!cC(d)&&(d.preventDefault(),r())}});return vd!==Ua?l.ref=t||n:l.ref=n,x.createElement("a",l)}),fC=Ua(function(e,t){var n=e.component,r=n===void 0?lC:n,a=e.replace,o=e.to,u=e.innerRef,l=Nt(e,["component","replace","to","innerRef"]);return x.createElement(gi.Consumer,null,function(f){f||_i(!1);var d=f.history,h=gd(_d(o,f.location),f.location),_=h?d.createHref(h):"",v=pe({},l,{href:_,navigate:function(){var w=_d(o,f.location),E=En(f.location)===En(gd(w)),T=a||E?d.replace:d.push;T(w)}});return vd!==Ua?v.ref=t||u:v.innerRef=u,x.createElement(r,v)})}),F0=function(t){return t},tc=x.forwardRef;typeof tc=="undefined"&&(tc=F0);function dC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}tc(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,a=e.activeClassName,o=a===void 0?"active":a,u=e.activeStyle,l=e.className,f=e.exact,d=e.isActive,h=e.location,_=e.sensitive,v=e.strict,b=e.style,w=e.to,E=e.innerRef,T=Nt(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return x.createElement(gi.Consumer,null,function(k){k||_i(!1);var M=h||k.location,B=gd(_d(w,M),M),Z=B.pathname,Y=Z&&Z.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ne=Y?pd(M.pathname,{path:Y,exact:f,sensitive:_,strict:v}):null,V=!!(d?d(ne,M):ne),z=typeof l=="function"?l(V):l,ae=typeof b=="function"?b(V):b;V&&(z=dC(z,o),ae=pe({},ae,u));var ee=pe({"aria-current":V&&r||null,className:z,style:ae,to:B},T);return F0!==tc?ee.ref=t||E:ee.innerRef=E,x.createElement(fC,ee)})});function pC(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $0=se.exports,hC=pC($0);function V0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _C=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function gC(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n!="undefined"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(a){return a.displayName||a.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var u=[],l;function f(){l=e(u.map(function(h){return h.props})),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(h){mC(_,h);function _(){return h.apply(this,arguments)||this}_.peek=function(){return l},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=l;return l=void 0,u=[],w};var v=_.prototype;return v.UNSAFE_componentWillMount=function(){u.push(this),f()},v.componentDidUpdate=function(){f()},v.componentWillUnmount=function(){var w=u.indexOf(this);u.splice(w,1),f()},v.render=function(){return hC.createElement(o,this.props)},_}($0.PureComponent);return V0(d,"displayName","SideEffect("+r(o)+")"),V0(d,"canUseDOM",_C),d}}var vC=gC,yC=typeof Element!="undefined",EC=typeof Map=="function",bC=typeof Set=="function",SC=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function nc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!=0;)if(!nc(e[r],t[r]))return!1;return!0}var o;if(EC&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!nc(r.value[1],t.get(r.value[0])))return!1;return!0}if(bC&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(SC&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!=0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!=0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(yC&&e instanceof Element)return!1;for(r=n;r--!=0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!nc(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var wC=function(t,n){try{return nc(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Qi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Oe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Oe).map(function(e){return Oe[e]});var yt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},rc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},js={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},TC=Object.keys(rc).reduce(function(e,t){return e[rc[t]]=t,e},{}),AC=[Oe.NOSCRIPT,Oe.SCRIPT,Oe.STYLE],cr="data-react-helmet",RC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OC=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},xC=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},H0=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n},IC=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},CC=function(t){var n=La(t,Oe.TITLE),r=La(t,js.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var a=La(t,js.DEFAULT_TITLE);return n||a||void 0},kC=function(t){return La(t,js.ON_CHANGE_CLIENT_STATE)||function(){}},Ed=function(t,n){return n.filter(function(r){return typeof r[t]!="undefined"}).map(function(r){return r[t]}).reduce(function(r,a){return bn({},r,a)},{})},PC=function(t,n){return n.filter(function(r){return typeof r[Oe.BASE]!="undefined"}).map(function(r){return r[Oe.BASE]}).reverse().reduce(function(r,a){if(!r.length)for(var o=Object.keys(a),u=0;u<o.length;u++){var l=o[u],f=l.toLowerCase();if(t.indexOf(f)!==-1&&a[f])return r.concat(a)}return r},[])},zs=function(t,n,r){var a={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]!="undefined"&&NC("Helmet: "+t+' should be of type "Array". Instead found type "'+RC(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,u){var l={};u.filter(function(v){for(var b=void 0,w=Object.keys(v),E=0;E<w.length;E++){var T=w[E],k=T.toLowerCase();n.indexOf(k)!==-1&&!(b===yt.REL&&v[b].toLowerCase()==="canonical")&&!(k===yt.REL&&v[k].toLowerCase()==="stylesheet")&&(b=k),n.indexOf(T)!==-1&&(T===yt.INNER_HTML||T===yt.CSS_TEXT||T===yt.ITEM_PROP)&&(b=T)}if(!b||!v[b])return!1;var M=v[b].toLowerCase();return a[b]||(a[b]={}),l[b]||(l[b]={}),a[b][M]?!1:(l[b][M]=!0,!0)}).reverse().forEach(function(v){return o.push(v)});for(var f=Object.keys(l),d=0;d<f.length;d++){var h=f[d],_=qD({},a[h],l[h]);a[h]=_}return o},[]).reverse()},La=function(t,n){for(var r=t.length-1;r>=0;r--){var a=t[r];if(a.hasOwnProperty(n))return a[n]}return null},MC=function(t){return{baseTag:PC([yt.HREF,yt.TARGET],t),bodyAttributes:Ed(Qi.BODY,t),defer:La(t,js.DEFER),encode:La(t,js.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ed(Qi.HTML,t),linkTags:zs(Oe.LINK,[yt.REL,yt.HREF],t),metaTags:zs(Oe.META,[yt.NAME,yt.CHARSET,yt.HTTPEQUIV,yt.PROPERTY,yt.ITEM_PROP],t),noscriptTags:zs(Oe.NOSCRIPT,[yt.INNER_HTML],t),onChangeClientState:kC(t),scriptTags:zs(Oe.SCRIPT,[yt.SRC,yt.INNER_HTML],t),styleTags:zs(Oe.STYLE,[yt.CSS_TEXT],t),title:CC(t),titleAttributes:Ed(Qi.TITLE,t)}},bd=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){bd(t)},0)}}(),G0=function(t){return clearTimeout(t)},UC=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||bd:global.requestAnimationFrame||bd,LC=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||G0:global.cancelAnimationFrame||G0,NC=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ws=null,FC=function(t){Ws&&LC(Ws),t.defer?Ws=UC(function(){j0(t,function(){Ws=null})}):(j0(t),Ws=null)},j0=function(t,n){var r=t.baseTag,a=t.bodyAttributes,o=t.htmlAttributes,u=t.linkTags,l=t.metaTags,f=t.noscriptTags,d=t.onChangeClientState,h=t.scriptTags,_=t.styleTags,v=t.title,b=t.titleAttributes;Sd(Oe.BODY,a),Sd(Oe.HTML,o),$C(v,b);var w={baseTag:Na(Oe.BASE,r),linkTags:Na(Oe.LINK,u),metaTags:Na(Oe.META,l),noscriptTags:Na(Oe.NOSCRIPT,f),scriptTags:Na(Oe.SCRIPT,h),styleTags:Na(Oe.STYLE,_)},E={},T={};Object.keys(w).forEach(function(k){var M=w[k],B=M.newTags,Z=M.oldTags;B.length&&(E[k]=B),Z.length&&(T[k]=w[k].oldTags)}),n&&n(),d(t,E,T)},z0=function(t){return Array.isArray(t)?t.join(""):t},$C=function(t,n){typeof t!="undefined"&&document.title!==t&&(document.title=z0(t)),Sd(Oe.TITLE,n)},Sd=function(t,n){var r=document.getElementsByTagName(t)[0];if(!!r){for(var a=r.getAttribute(cr),o=a?a.split(","):[],u=[].concat(o),l=Object.keys(n),f=0;f<l.length;f++){var d=l[f],h=n[d]||"";r.getAttribute(d)!==h&&r.setAttribute(d,h),o.indexOf(d)===-1&&o.push(d);var _=u.indexOf(d);_!==-1&&u.splice(_,1)}for(var v=u.length-1;v>=0;v--)r.removeAttribute(u[v]);o.length===u.length?r.removeAttribute(cr):r.getAttribute(cr)!==l.join(",")&&r.setAttribute(cr,l.join(","))}},Na=function(t,n){var r=document.head||document.querySelector(Oe.HEAD),a=r.querySelectorAll(t+"["+cr+"]"),o=Array.prototype.slice.call(a),u=[],l=void 0;return n&&n.length&&n.forEach(function(f){var d=document.createElement(t);for(var h in f)if(f.hasOwnProperty(h))if(h===yt.INNER_HTML)d.innerHTML=f.innerHTML;else if(h===yt.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=f.cssText:d.appendChild(document.createTextNode(f.cssText));else{var _=typeof f[h]=="undefined"?"":f[h];d.setAttribute(h,_)}d.setAttribute(cr,"true"),o.some(function(v,b){return l=b,d.isEqualNode(v)})?o.splice(l,1):u.push(d)}),o.forEach(function(f){return f.parentNode.removeChild(f)}),u.forEach(function(f){return r.appendChild(f)}),{oldTags:o,newTags:u}},W0=function(t){return Object.keys(t).reduce(function(n,r){var a=typeof t[r]!="undefined"?r+'="'+t[r]+'"':""+r;return n?n+" "+a:a},"")},VC=function(t,n,r,a){var o=W0(r),u=z0(n);return o?"<"+t+" "+cr+'="true" '+o+">"+yd(u,a)+"</"+t+">":"<"+t+" "+cr+'="true">'+yd(u,a)+"</"+t+">"},HC=function(t,n,r){return n.reduce(function(a,o){var u=Object.keys(o).filter(function(d){return!(d===yt.INNER_HTML||d===yt.CSS_TEXT)}).reduce(function(d,h){var _=typeof o[h]=="undefined"?h:h+'="'+yd(o[h],r)+'"';return d?d+" "+_:_},""),l=o.innerHTML||o.cssText||"",f=AC.indexOf(t)===-1;return a+"<"+t+" "+cr+'="true" '+u+(f?"/>":">"+l+"</"+t+">")},"")},Y0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[rc[a]||a]=t[a],r},n)},GC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[TC[a]||a]=t[a],r},n)},jC=function(t,n,r){var a,o=(a={key:n},a[cr]=!0,a),u=Y0(r,o);return[x.createElement(Oe.TITLE,u,n)]},zC=function(t,n){return n.map(function(r,a){var o,u=(o={key:a},o[cr]=!0,o);return Object.keys(r).forEach(function(l){var f=rc[l]||l;if(f===yt.INNER_HTML||f===yt.CSS_TEXT){var d=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:d}}else u[f]=r[l]}),x.createElement(t,u)})},zr=function(t,n,r){switch(t){case Oe.TITLE:return{toComponent:function(){return jC(t,n.title,n.titleAttributes)},toString:function(){return VC(t,n.title,n.titleAttributes,r)}};case Qi.BODY:case Qi.HTML:return{toComponent:function(){return Y0(n)},toString:function(){return W0(n)}};default:return{toComponent:function(){return zC(t,n)},toString:function(){return HC(t,n,r)}}}},B0=function(t){var n=t.baseTag,r=t.bodyAttributes,a=t.encode,o=t.htmlAttributes,u=t.linkTags,l=t.metaTags,f=t.noscriptTags,d=t.scriptTags,h=t.styleTags,_=t.title,v=_===void 0?"":_,b=t.titleAttributes;return{base:zr(Oe.BASE,n,a),bodyAttributes:zr(Qi.BODY,r,a),htmlAttributes:zr(Qi.HTML,o,a),link:zr(Oe.LINK,u,a),meta:zr(Oe.META,l,a),noscript:zr(Oe.NOSCRIPT,f,a),script:zr(Oe.SCRIPT,d,a),style:zr(Oe.STYLE,h,a),title:zr(Oe.TITLE,{title:v,titleAttributes:b},a)}},WC=function(t){var n,r;return r=n=function(a){DC(o,a);function o(){return OC(this,o),IC(this,a.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!wC(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,f){if(!f)return null;switch(l.type){case Oe.SCRIPT:case Oe.NOSCRIPT:return{innerHTML:f};case Oe.STYLE:return{cssText:f}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var f,d=l.child,h=l.arrayTypeChildren,_=l.newChildProps,v=l.nestedChildren;return bn({},h,(f={},f[d.type]=[].concat(h[d.type]||[],[bn({},_,this.mapNestedChildrenToProps(d,v))]),f))},o.prototype.mapObjectTypeChildren=function(l){var f,d,h=l.child,_=l.newProps,v=l.newChildProps,b=l.nestedChildren;switch(h.type){case Oe.TITLE:return bn({},_,(f={},f[h.type]=b,f.titleAttributes=bn({},v),f));case Oe.BODY:return bn({},_,{bodyAttributes:bn({},v)});case Oe.HTML:return bn({},_,{htmlAttributes:bn({},v)})}return bn({},_,(d={},d[h.type]=bn({},v),d))},o.prototype.mapArrayTypeChildrenToProps=function(l,f){var d=bn({},f);return Object.keys(l).forEach(function(h){var _;d=bn({},d,(_={},_[h]=l[h],_))}),d},o.prototype.warnOnInvalidChildren=function(l,f){return!0},o.prototype.mapChildrenToProps=function(l,f){var d=this,h={};return x.Children.forEach(l,function(_){if(!(!_||!_.props)){var v=_.props,b=v.children,w=H0(v,["children"]),E=GC(w);switch(d.warnOnInvalidChildren(_,b),_.type){case Oe.LINK:case Oe.META:case Oe.NOSCRIPT:case Oe.SCRIPT:case Oe.STYLE:h=d.flattenArrayTypeChildren({child:_,arrayTypeChildren:h,newChildProps:E,nestedChildren:b});break;default:f=d.mapObjectTypeChildren({child:_,newProps:f,newChildProps:E,nestedChildren:b});break}}}),f=this.mapArrayTypeChildrenToProps(h,f),f},o.prototype.render=function(){var l=this.props,f=l.children,d=H0(l,["children"]),h=bn({},d);return f&&(h=this.mapChildrenToProps(f,h)),x.createElement(t,h)},xC(o,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),o}(x.Component),n.propTypes={base:at.object,bodyAttributes:at.object,children:at.oneOfType([at.arrayOf(at.node),at.node]),defaultTitle:at.string,defer:at.bool,encodeSpecialCharacters:at.bool,htmlAttributes:at.object,link:at.arrayOf(at.object),meta:at.arrayOf(at.object),noscript:at.arrayOf(at.object),onChangeClientState:at.func,script:at.arrayOf(at.object),style:at.arrayOf(at.object),title:at.string,titleAttributes:at.object,titleTemplate:at.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var a=t.rewind();return a||(a=B0({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},r},YC=function(){return null},BC=vC(MC,FC,B0)(YC),wd=WC(BC);wd.renderStatic=wd.rewind;var qC=function(t,n,r,a){var o=r?r.call(a,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),d=0;d<u.length;d++){var h=u[d];if(!f(h))return!1;var _=t[h],v=n[h];if(o=r?r.call(a,_,v,h):void 0,o===!1||o===void 0&&_!==v)return!1}return!0},KC=qC;function JC(e){function t(N,$,X,Q,R){for(var ce=0,K=0,xe=0,De=0,Ne,Se,It=0,rt=0,Ue,Vt=Ue=Ne=0,ke=0,Ct=0,ji=0,Tt=0,qt=X.length,rr=qt-1,Kt,we="",tt="",ws="",Mr="",on;ke<qt;){if(Se=X.charCodeAt(ke),ke===rr&&K+De+xe+ce!==0&&(K!==0&&(Se=K===47?10:47),De=xe=ce=0,qt++,rr++),K+De+xe+ce===0){if(ke===rr&&(0<Ct&&(we=we.replace(v,"")),0<we.trim().length)){switch(Se){case 32:case 9:case 59:case 13:case 10:break;default:we+=X.charAt(ke)}Se=59}switch(Se){case 123:for(we=we.trim(),Ne=we.charCodeAt(0),Ue=1,Tt=++ke;ke<qt;){switch(Se=X.charCodeAt(ke)){case 123:Ue++;break;case 125:Ue--;break;case 47:switch(Se=X.charCodeAt(ke+1)){case 42:case 47:e:{for(Vt=ke+1;Vt<rr;++Vt)switch(X.charCodeAt(Vt)){case 47:if(Se===42&&X.charCodeAt(Vt-1)===42&&ke+2!==Vt){ke=Vt+1;break e}break;case 10:if(Se===47){ke=Vt+1;break e}}ke=Vt}}break;case 91:Se++;case 40:Se++;case 34:case 39:for(;ke++<rr&&X.charCodeAt(ke)!==Se;);}if(Ue===0)break;ke++}switch(Ue=X.substring(Tt,ke),Ne===0&&(Ne=(we=we.replace(_,"").trim()).charCodeAt(0)),Ne){case 64:switch(0<Ct&&(we=we.replace(v,"")),Se=we.charCodeAt(1),Se){case 100:case 109:case 115:case 45:Ct=$;break;default:Ct=L}if(Ue=t($,Ct,Ue,Se,R+1),Tt=Ue.length,0<W&&(Ct=n(L,we,ji),on=l(3,Ue,Ct,$,G,ve,Tt,Se,R,Q),we=Ct.join(""),on!==void 0&&(Tt=(Ue=on.trim()).length)===0&&(Se=0,Ue="")),0<Tt)switch(Se){case 115:we=we.replace(ne,u);case 100:case 109:case 45:Ue=we+"{"+Ue+"}";break;case 107:we=we.replace(M,"$1 $2"),Ue=we+"{"+Ue+"}",Ue=I===1||I===2&&o("@"+Ue,3)?"@-webkit-"+Ue+"@"+Ue:"@"+Ue;break;default:Ue=we+Ue,Q===112&&(Ue=(tt+=Ue,""))}else Ue="";break;default:Ue=t($,n($,we,ji),Ue,Q,R+1)}ws+=Ue,Ue=ji=Ct=Vt=Ne=0,we="",Se=X.charCodeAt(++ke);break;case 125:case 59:if(we=(0<Ct?we.replace(v,""):we).trim(),1<(Tt=we.length))switch(Vt===0&&(Ne=we.charCodeAt(0),Ne===45||96<Ne&&123>Ne)&&(Tt=(we=we.replace(" ",":")).length),0<W&&(on=l(1,we,$,N,G,ve,tt.length,Q,R,Q))!==void 0&&(Tt=(we=on.trim()).length)===0&&(we="\0\0"),Ne=we.charCodeAt(0),Se=we.charCodeAt(1),Ne){case 0:break;case 64:if(Se===105||Se===99){Mr+=we+X.charAt(ke);break}default:we.charCodeAt(Tt-1)!==58&&(tt+=a(we,Ne,Se,we.charCodeAt(2)))}ji=Ct=Vt=Ne=0,we="",Se=X.charCodeAt(++ke)}}switch(Se){case 13:case 10:K===47?K=0:1+Ne===0&&Q!==107&&0<we.length&&(Ct=1,we+="\0"),0<W*q&&l(0,we,$,N,G,ve,tt.length,Q,R,Q),ve=1,G++;break;case 59:case 125:if(K+De+xe+ce===0){ve++;break}default:switch(ve++,Kt=X.charAt(ke),Se){case 9:case 32:if(De+ce+K===0)switch(It){case 44:case 58:case 9:case 32:Kt="";break;default:Se!==32&&(Kt=" ")}break;case 0:Kt="\\0";break;case 12:Kt="\\f";break;case 11:Kt="\\v";break;case 38:De+K+ce===0&&(Ct=ji=1,Kt="\f"+Kt);break;case 108:if(De+K+ce+C===0&&0<Vt)switch(ke-Vt){case 2:It===112&&X.charCodeAt(ke-3)===58&&(C=It);case 8:rt===111&&(C=rt)}break;case 58:De+K+ce===0&&(Vt=ke);break;case 44:K+xe+De+ce===0&&(Ct=1,Kt+="\r");break;case 34:case 39:K===0&&(De=De===Se?0:De===0?Se:De);break;case 91:De+K+xe===0&&ce++;break;case 93:De+K+xe===0&&ce--;break;case 41:De+K+ce===0&&xe--;break;case 40:if(De+K+ce===0){if(Ne===0)switch(2*It+3*rt){case 533:break;default:Ne=1}xe++}break;case 64:K+xe+De+ce+Vt+Ue===0&&(Ue=1);break;case 42:case 47:if(!(0<De+ce+xe))switch(K){case 0:switch(2*Se+3*X.charCodeAt(ke+1)){case 235:K=47;break;case 220:Tt=ke,K=42}break;case 42:Se===47&&It===42&&Tt+2!==ke&&(X.charCodeAt(Tt+2)===33&&(tt+=X.substring(Tt,ke+1)),Kt="",K=0)}}K===0&&(we+=Kt)}rt=It,It=Se,ke++}if(Tt=tt.length,0<Tt){if(Ct=$,0<W&&(on=l(2,tt,Ct,N,G,ve,Tt,Q,R,Q),on!==void 0&&(tt=on).length===0))return Mr+tt+ws;if(tt=Ct.join(",")+"{"+tt+"}",I*C!=0){switch(I!==2||o(tt,2)||(C=0),C){case 111:tt=tt.replace(Z,":-moz-$1")+tt;break;case 112:tt=tt.replace(B,"::-webkit-input-$1")+tt.replace(B,"::-moz-$1")+tt.replace(B,":-ms-input-$1")+tt}C=0}}return Mr+tt+ws}function n(N,$,X){var Q=$.trim().split(T);$=Q;var R=Q.length,ce=N.length;switch(ce){case 0:case 1:var K=0;for(N=ce===0?"":N[0]+" ";K<R;++K)$[K]=r(N,$[K],X).trim();break;default:var xe=K=0;for($=[];K<R;++K)for(var De=0;De<ce;++De)$[xe++]=r(N[De]+" ",Q[K],X).trim()}return $}function r(N,$,X){var Q=$.charCodeAt(0);switch(33>Q&&(Q=($=$.trim()).charCodeAt(0)),Q){case 38:return $.replace(k,"$1"+N.trim());case 58:return N.trim()+$.replace(k,"$1"+N.trim());default:if(0<1*X&&0<$.indexOf("\f"))return $.replace(k,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+$}function a(N,$,X,Q){var R=N+";",ce=2*$+3*X+4*Q;if(ce===944){N=R.indexOf(":",9)+1;var K=R.substring(N,R.length-1).trim();return K=R.substring(0,N).trim()+K+";",I===1||I===2&&o(K,1)?"-webkit-"+K+K:K}if(I===0||I===2&&!o(R,1))return R;switch(ce){case 1015:return R.charCodeAt(10)===97?"-webkit-"+R+R:R;case 951:return R.charCodeAt(3)===116?"-webkit-"+R+R:R;case 963:return R.charCodeAt(5)===110?"-webkit-"+R+R:R;case 1009:if(R.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+R+R;case 978:return"-webkit-"+R+"-moz-"+R+R;case 1019:case 983:return"-webkit-"+R+"-moz-"+R+"-ms-"+R+R;case 883:if(R.charCodeAt(8)===45)return"-webkit-"+R+R;if(0<R.indexOf("image-set(",11))return R.replace(_e,"$1-webkit-$2")+R;break;case 932:if(R.charCodeAt(4)===45)switch(R.charCodeAt(5)){case 103:return"-webkit-box-"+R.replace("-grow","")+"-webkit-"+R+"-ms-"+R.replace("grow","positive")+R;case 115:return"-webkit-"+R+"-ms-"+R.replace("shrink","negative")+R;case 98:return"-webkit-"+R+"-ms-"+R.replace("basis","preferred-size")+R}return"-webkit-"+R+"-ms-"+R+R;case 964:return"-webkit-"+R+"-ms-flex-"+R+R;case 1023:if(R.charCodeAt(8)!==99)break;return K=R.substring(R.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+K+"-webkit-"+R+"-ms-flex-pack"+K+R;case 1005:return w.test(R)?R.replace(b,":-webkit-")+R.replace(b,":-moz-")+R:R;case 1e3:switch(K=R.substring(13).trim(),$=K.indexOf("-")+1,K.charCodeAt(0)+K.charCodeAt($)){case 226:K=R.replace(Y,"tb");break;case 232:K=R.replace(Y,"tb-rl");break;case 220:K=R.replace(Y,"lr");break;default:return R}return"-webkit-"+R+"-ms-"+K+R;case 1017:if(R.indexOf("sticky",9)===-1)break;case 975:switch($=(R=N).length-10,K=(R.charCodeAt($)===33?R.substring(0,$):R).substring(N.indexOf(":",7)+1).trim(),ce=K.charCodeAt(0)+(K.charCodeAt(7)|0)){case 203:if(111>K.charCodeAt(8))break;case 115:R=R.replace(K,"-webkit-"+K)+";"+R;break;case 207:case 102:R=R.replace(K,"-webkit-"+(102<ce?"inline-":"")+"box")+";"+R.replace(K,"-webkit-"+K)+";"+R.replace(K,"-ms-"+K+"box")+";"+R}return R+";";case 938:if(R.charCodeAt(5)===45)switch(R.charCodeAt(6)){case 105:return K=R.replace("-items",""),"-webkit-"+R+"-webkit-box-"+K+"-ms-flex-"+K+R;case 115:return"-webkit-"+R+"-ms-flex-item-"+R.replace(z,"")+R;default:return"-webkit-"+R+"-ms-flex-line-pack"+R.replace("align-content","").replace(z,"")+R}break;case 973:case 989:if(R.charCodeAt(3)!==45||R.charCodeAt(4)===122)break;case 931:case 953:if(ee.test(N)===!0)return(K=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?a(N.replace("stretch","fill-available"),$,X,Q).replace(":fill-available",":stretch"):R.replace(K,"-webkit-"+K)+R.replace(K,"-moz-"+K.replace("fill-",""))+R;break;case 962:if(R="-webkit-"+R+(R.charCodeAt(5)===102?"-ms-"+R:"")+R,X+Q===211&&R.charCodeAt(13)===105&&0<R.indexOf("transform",10))return R.substring(0,R.indexOf(";",27)+1).replace(E,"$1-webkit-$2")+R}return R}function o(N,$){var X=N.indexOf($===1?":":"{"),Q=N.substring(0,$!==3?X:10);return X=N.substring(X+1,N.length-1),ie($!==2?Q:Q.replace(ae,"$1"),X,$)}function u(N,$){var X=a($,$.charCodeAt(0),$.charCodeAt(1),$.charCodeAt(2));return X!==$+";"?X.replace(V," or ($1)").substring(4):"("+$+")"}function l(N,$,X,Q,R,ce,K,xe,De,Ne){for(var Se=0,It=$,rt;Se<W;++Se)switch(rt=U[Se].call(h,N,It,X,Q,R,ce,K,xe,De,Ne)){case void 0:case!1:case!0:case null:break;default:It=rt}if(It!==$)return It}function f(N){switch(N){case void 0:case null:W=U.length=0;break;default:if(typeof N=="function")U[W++]=N;else if(typeof N=="object")for(var $=0,X=N.length;$<X;++$)f(N[$]);else q=!!N|0}return f}function d(N){return N=N.prefix,N!==void 0&&(ie=null,N?typeof N!="function"?I=1:(I=2,ie=N):I=0),d}function h(N,$){var X=N;if(33>X.charCodeAt(0)&&(X=X.trim()),re=X,X=[re],0<W){var Q=l(-1,$,X,X,G,ve,0,0,0,0);Q!==void 0&&typeof Q=="string"&&($=Q)}var R=t(L,X,$,0,0);return 0<W&&(Q=l(-2,R,X,X,G,ve,R.length,0,0,0),Q!==void 0&&(R=Q)),re="",C=0,ve=G=1,R}var _=/^\0+/g,v=/[\0\r\f]/g,b=/: */g,w=/zoo|gra/,E=/([,: ])(transform)/g,T=/,\r+?/g,k=/([\t\r\n ])*\f?&/g,M=/@(k\w+)\s*(\S*)\s*/,B=/::(place)/g,Z=/:(read-only)/g,Y=/[svh]\w+-[tblr]{2}/,ne=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,z=/-self|flex-/g,ae=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ee=/stretch|:\s*\w+\-(?:conte|avail)/,_e=/([^-])(image-set\()/,ve=1,G=1,C=0,I=1,L=[],U=[],W=0,ie=null,q=0,re="";return h.use=f,h.set=d,e!==void 0&&d(e),h}var q0={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Td(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var XC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,K0=Td(function(e){return XC.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J0=function(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n},Ad=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Vu.exports.typeOf(e)},ic=Object.freeze([]),vi=Object.freeze({});function Fa(e){return typeof e=="function"}function Rd(e){return e.displayName||e.name||"Component"}function ac(e){return e&&typeof e.styledComponentId=="string"}var yi=typeof process!="undefined"&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_ATTR||"data-styled",ZC="5.3.1",Od=typeof window!="undefined"&&"HTMLElement"in window,QC=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY!==""?{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY!==void 0&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY!==""?{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.SC_DISABLE_SPEEDY:!1),ek={};function lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var tk=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,a=0;a<n;a++)r+=this.groupSizes[a];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var a=this.groupSizes,o=a.length,u=o;n>=u;)(u<<=1)<0&&lr(16,""+n);this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var l=o;l<u;l++)this.groupSizes[l]=0}for(var f=this.indexOfGroup(n+1),d=0,h=r.length;d<h;d++)this.tag.insertRule(f,r[d])&&(this.groupSizes[n]++,f++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],a=this.indexOfGroup(n),o=a+r;this.groupSizes[n]=0;for(var u=a;u<o;u++)this.tag.deleteRule(a)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var a=this.groupSizes[n],o=this.indexOfGroup(n),u=o+a,l=o;l<u;l++)r+=this.tag.getRule(l)+`/*!sc*/
`;return r},e}(),sc=new Map,oc=new Map,Ys=1,uc=function(e){if(sc.has(e))return sc.get(e);for(;oc.has(Ys);)Ys++;var t=Ys++;return sc.set(e,t),oc.set(t,e),t},nk=function(e){return oc.get(e)},rk=function(e,t){t>=Ys&&(Ys=t+1),sc.set(e,t),oc.set(t,e)},ik="style["+yi+'][data-styled-version="5.3.1"]',ak=new RegExp("^"+yi+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),sk=function(e,t,n){for(var r,a=n.split(","),o=0,u=a.length;o<u;o++)(r=a[o])&&e.registerName(t,r)},ok=function(e,t){for(var n=(t.innerHTML||"").split(`/*!sc*/
`),r=[],a=0,o=n.length;a<o;a++){var u=n[a].trim();if(u){var l=u.match(ak);if(l){var f=0|parseInt(l[1],10),d=l[2];f!==0&&(rk(d,f),sk(e,d,l[3]),e.getTag().insertRules(f,r)),r.length=0}else r.push(u)}}},xd=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},X0=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(l){for(var f=l.childNodes,d=f.length;d>=0;d--){var h=f[d];if(h&&h.nodeType===1&&h.hasAttribute(yi))return h}}(n),o=a!==void 0?a.nextSibling:null;r.setAttribute(yi,"active"),r.setAttribute("data-styled-version","5.3.1");var u=xd();return u&&r.setAttribute("nonce",u),n.insertBefore(r,o),r},uk=function(){function e(n){var r=this.element=X0(n);r.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var o=document.styleSheets,u=0,l=o.length;u<l;u++){var f=o[u];if(f.ownerNode===a)return f}lr(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch(a){return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),ck=function(){function e(n){var r=this.element=X0(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var a=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(a,o||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),lk=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Z0=Od,fk={isServer:!Od,useCSSOMInjection:!QC},$a=function(){function e(n,r,a){n===void 0&&(n=vi),r===void 0&&(r={}),this.options=kn({},fk,{},n),this.gs=r,this.names=new Map(a),this.server=!!n.isServer,!this.server&&Od&&Z0&&(Z0=!1,function(o){for(var u=document.querySelectorAll(ik),l=0,f=u.length;l<f;l++){var d=u[l];d&&d.getAttribute(yi)!=="active"&&(ok(o,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}e.registerId=function(n){return uc(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(kn({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(a=(r=this.options).isServer,o=r.useCSSOMInjection,u=r.target,n=a?new lk(u):o?new uk(u):new ck(u),new tk(n)));var n,r,a,o,u},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(uc(n),this.names.has(n))this.names.get(n).add(r);else{var a=new Set;a.add(r),this.names.set(n,a)}},t.insertRules=function(n,r,a){this.registerName(n,r),this.getTag().insertRules(uc(n),a)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(uc(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),a=r.length,o="",u=0;u<a;u++){var l=nk(u);if(l!==void 0){var f=n.names.get(l),d=r.getGroup(u);if(f&&d&&f.size){var h=yi+".g"+u+'[id="'+l+'"]',_="";f!==void 0&&f.forEach(function(v){v.length>0&&(_+=v+",")}),o+=""+d+h+'{content:"'+_+`"}/*!sc*/
`}}}return o}(this)},e}(),dk=/(a)(d)/gi,Q0=function(e){return String.fromCharCode(e+(e>25?39:97))};function Dd(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Q0(t%52)+n;return(Q0(t%52)+n).replace(dk,"$1-$2")}var Va=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ev=function(e){return Va(5381,e)};function tv(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Fa(n)&&!ac(n))return!1}return!0}var pk=ev("5.3.1"),hk=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&tv(t),this.componentId=n,this.baseHash=Va(pk,n),this.baseStyle=r,$a.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var a=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(a,this.staticRulesId))o.push(this.staticRulesId);else{var u=ea(this.rules,t,n,r).join(""),l=Dd(Va(this.baseHash,u)>>>0);if(!n.hasNameForId(a,l)){var f=r(u,"."+l,void 0,a);n.insertRules(a,l,f)}o.push(l),this.staticRulesId=l}else{for(var d=this.rules.length,h=Va(this.baseHash,r.hash),_="",v=0;v<d;v++){var b=this.rules[v];if(typeof b=="string")_+=b;else if(b){var w=ea(b,t,n,r),E=Array.isArray(w)?w.join(""):w;h=Va(h,E+v),_+=E}}if(_){var T=Dd(h>>>0);if(!n.hasNameForId(a,T)){var k=r(_,"."+T,void 0,a);n.insertRules(a,T,k)}o.push(T)}}return o.join(" ")},e}(),mk=/^\s*\/\/.*$/gm,_k=[":","[",".","#"];function nv(e){var t,n,r,a,o=e===void 0?vi:e,u=o.options,l=u===void 0?vi:u,f=o.plugins,d=f===void 0?ic:f,h=new JC(l),_=[],v=function(E){function T(k){if(k)try{E(k+"}")}catch(M){}}return function(k,M,B,Z,Y,ne,V,z,ae,ee){switch(k){case 1:if(ae===0&&M.charCodeAt(0)===64)return E(M+";"),"";break;case 2:if(z===0)return M+"/*|*/";break;case 3:switch(z){case 102:case 112:return E(B[0]+M),"";default:return M+(ee===0?"/*|*/":"")}case-2:M.split("/*|*/}").forEach(T)}}}(function(E){_.push(E)}),b=function(E,T,k){return T===0&&_k.indexOf(k[n.length])!==-1||k.match(a)?E:"."+t};function w(E,T,k,M){M===void 0&&(M="&");var B=E.replace(mk,""),Z=T&&k?k+" "+T+" { "+B+" }":B;return t=M,n=T,r=new RegExp("\\"+n+"\\b","g"),a=new RegExp("(\\"+n+"\\b){2,}"),h(k||!T?"":T,Z)}return h.use([].concat(d,[function(E,T,k){E===2&&k.length&&k[0].lastIndexOf(n)>0&&(k[0]=k[0].replace(r,b))},v,function(E){if(E===-2){var T=_;return _=[],T}}])),w.hash=d.length?d.reduce(function(E,T){return T.name||lr(15),Va(E,T.name)},5381).toString():"",w}var cc=x.createContext(),gk=cc.Consumer,Id=x.createContext(),rv=(Id.Consumer,new $a),Cd=nv();function kd(){return se.exports.useContext(cc)||rv}function iv(){return se.exports.useContext(Id)||Cd}function av(e){var t=se.exports.useState(e.stylisPlugins),n=t[0],r=t[1],a=kd(),o=se.exports.useMemo(function(){var l=a;return e.sheet?l=e.sheet:e.target&&(l=l.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(l=l.reconstructWithOptions({useCSSOMInjection:!1})),l},[e.disableCSSOMInjection,e.sheet,e.target]),u=se.exports.useMemo(function(){return nv({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return se.exports.useEffect(function(){KC(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),x.createElement(cc.Provider,{value:o},x.createElement(Id.Provider,{value:u},e.children))}var sv=function(){function e(t,n){var r=this;this.inject=function(a,o){o===void 0&&(o=Cd);var u=r.name+o.hash;a.hasNameForId(r.id,u)||a.insertRules(r.id,u,o(r.rules,u,"@keyframes"))},this.toString=function(){return lr(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Cd),this.name+t.hash},e}(),vk=/([A-Z])/,yk=/([A-Z])/g,Ek=/^ms-/,bk=function(e){return"-"+e.toLowerCase()};function ov(e){return vk.test(e)?e.replace(yk,bk).replace(Ek,"-ms-"):e}var uv=function(e){return e==null||e===!1||e===""};function ea(e,t,n,r){if(Array.isArray(e)){for(var a,o=[],u=0,l=e.length;u<l;u+=1)(a=ea(e[u],t,n,r))!==""&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));return o}if(uv(e))return"";if(ac(e))return"."+e.styledComponentId;if(Fa(e)){if(typeof(d=e)!="function"||d.prototype&&d.prototype.isReactComponent||!t)return e;var f=e(t);return ea(f,t,n,r)}var d;return e instanceof sv?n?(e.inject(n,r),e.getName(r)):e:Ad(e)?function h(_,v){var b,w,E=[];for(var T in _)_.hasOwnProperty(T)&&!uv(_[T])&&(Array.isArray(_[T])&&_[T].isCss||Fa(_[T])?E.push(ov(T)+":",_[T],";"):Ad(_[T])?E.push.apply(E,h(_[T],T)):E.push(ov(T)+": "+(b=T,(w=_[T])==null||typeof w=="boolean"||w===""?"":typeof w!="number"||w===0||b in q0?String(w).trim():w+"px")+";"));return v?[v+" {"].concat(E,["}"]):E}(e):e.toString()}var cv=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function lc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fa(e)||Ad(e)?cv(ea(J0(ic,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:cv(ea(J0(e,n)))}var Pd=function(e,t,n){return n===void 0&&(n=vi),e.theme!==n.theme&&e.theme||t||n.theme},Sk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wk=/(^-|-$)/g;function Md(e){return e.replace(Sk,"-").replace(wk,"")}var Ud=function(e){return Dd(ev(e)>>>0)};function fc(e){return typeof e=="string"&&!0}var Ld=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},Tk=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function Ak(e,t,n){var r=e[n];Ld(t)&&Ld(r)?lv(r,t):e[n]=t}function lv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,o=n;a<o.length;a++){var u=o[a];if(Ld(u))for(var l in u)Tk(l)&&Ak(e,u[l],l)}return e}var Ei=x.createContext(),Rk=Ei.Consumer;function fv(e){var t=se.exports.useContext(Ei),n=se.exports.useMemo(function(){return function(r,a){if(!r)return lr(14);if(Fa(r)){var o=r(a);return o}return Array.isArray(r)||typeof r!="object"?lr(8):a?kn({},a,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?x.createElement(Ei.Provider,{value:n},e.children):null}var Nd={};function dv(e,t,n){var r=ac(e),a=!fc(e),o=t.attrs,u=o===void 0?ic:o,l=t.componentId,f=l===void 0?function(M,B){var Z=typeof M!="string"?"sc":Md(M);Nd[Z]=(Nd[Z]||0)+1;var Y=Z+"-"+Ud("5.3.1"+Z+Nd[Z]);return B?B+"-"+Y:Y}(t.displayName,t.parentComponentId):l,d=t.displayName,h=d===void 0?function(M){return fc(M)?"styled."+M:"Styled("+Rd(M)+")"}(e):d,_=t.displayName&&t.componentId?Md(t.displayName)+"-"+t.componentId:t.componentId||f,v=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,b=t.shouldForwardProp;r&&e.shouldForwardProp&&(b=t.shouldForwardProp?function(M,B,Z){return e.shouldForwardProp(M,B,Z)&&t.shouldForwardProp(M,B,Z)}:e.shouldForwardProp);var w,E=new hk(n,_,r?e.componentStyle:void 0),T=E.isStatic&&u.length===0,k=function(M,B){return function(Z,Y,ne,V){var z=Z.attrs,ae=Z.componentStyle,ee=Z.defaultProps,_e=Z.foldedComponentIds,ve=Z.shouldForwardProp,G=Z.styledComponentId,C=Z.target,I=function(Q,R,ce){Q===void 0&&(Q=vi);var K=kn({},R,{theme:Q}),xe={};return ce.forEach(function(De){var Ne,Se,It,rt=De;for(Ne in Fa(rt)&&(rt=rt(K)),rt)K[Ne]=xe[Ne]=Ne==="className"?(Se=xe[Ne],It=rt[Ne],Se&&It?Se+" "+It:Se||It):rt[Ne]}),[K,xe]}(Pd(Y,se.exports.useContext(Ei),ee)||vi,Y,z),L=I[0],U=I[1],W=function(Q,R,ce,K){var xe=kd(),De=iv(),Ne=R?Q.generateAndInjectStyles(vi,xe,De):Q.generateAndInjectStyles(ce,xe,De);return Ne}(ae,V,L),ie=ne,q=U.$as||Y.$as||U.as||Y.as||C,re=fc(q),N=U!==Y?kn({},Y,{},U):Y,$={};for(var X in N)X[0]!=="$"&&X!=="as"&&(X==="forwardedAs"?$.as=N[X]:(ve?ve(X,K0,q):!re||K0(X))&&($[X]=N[X]));return Y.style&&U.style!==Y.style&&($.style=kn({},Y.style,{},U.style)),$.className=Array.prototype.concat(_e,G,W!==G?W:null,Y.className,U.className).filter(Boolean).join(" "),$.ref=ie,se.exports.createElement(q,$)}(w,M,B,T)};return k.displayName=h,(w=x.forwardRef(k)).attrs=v,w.componentStyle=E,w.displayName=h,w.shouldForwardProp=b,w.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ic,w.styledComponentId=_,w.target=r?e.target:e,w.withComponent=function(M){var B=t.componentId,Z=function(ne,V){if(ne==null)return{};var z,ae,ee={},_e=Object.keys(ne);for(ae=0;ae<_e.length;ae++)z=_e[ae],V.indexOf(z)>=0||(ee[z]=ne[z]);return ee}(t,["componentId"]),Y=B&&B+"-"+(fc(M)?M:Md(Rd(M)));return dv(M,kn({},Z,{attrs:v,componentId:Y}),n)},Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(M){this._foldedDefaultProps=r?lv({},e.defaultProps,M):M}}),w.toString=function(){return"."+w.styledComponentId},a&&ad(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),w}var Fd=function(e){return function t(n,r,a){if(a===void 0&&(a=vi),!Vu.exports.isValidElementType(r))return lr(1,String(r));var o=function(){return n(r,a,lc.apply(void 0,arguments))};return o.withConfig=function(u){return t(n,r,kn({},a,{},u))},o.attrs=function(u){return t(n,r,kn({},a,{attrs:Array.prototype.concat(a.attrs,u).filter(Boolean)}))},o}(dv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Fd[e]=Fd(e)});var Ok=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=tv(n),$a.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,a,o){var u=o(ea(this.rules,r,a,o).join(""),""),l=this.componentId+n;a.insertRules(l,l,u)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,a,o){n>2&&$a.registerId(this.componentId+n),this.removeStyles(n,a),this.createStyles(n,r,a,o)},e}();function pv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=lc.apply(void 0,[e].concat(n)),o="sc-global-"+Ud(JSON.stringify(a)),u=new Ok(a,o);function l(d){var h=kd(),_=iv(),v=se.exports.useContext(Ei),b=se.exports.useRef(h.allocateGSInstance(o)).current;return h.server&&f(b,d,h,v,_),se.exports.useLayoutEffect(function(){if(!h.server)return f(b,d,h,v,_),function(){return u.removeStyles(b,h)}},[b,d,h,v,_]),null}function f(d,h,_,v,b){if(u.isStatic)u.renderStyles(d,ek,_,b);else{var w=kn({},h,{theme:Pd(h,v,l.defaultProps)});u.renderStyles(d,w,_,b)}}return x.memo(l)}function xk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=lc.apply(void 0,[e].concat(n)).join(""),o=Ud(a);return new sv(o,a)}var Dk=function(){function e(){var n=this;this._emitSheetCSS=function(){var r=n.instance.toString();if(!r)return"";var a=xd();return"<style "+[a&&'nonce="'+a+'"',yi+'="true"','data-styled-version="5.3.1"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return n.sealed?lr(2):n._emitSheetCSS()},this.getStyleElement=function(){var r;if(n.sealed)return lr(2);var a=((r={})[yi]="",r["data-styled-version"]="5.3.1",r.dangerouslySetInnerHTML={__html:n.instance.toString()},r),o=xd();return o&&(a.nonce=o),[x.createElement("style",kn({},a,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new $a({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?lr(2):x.createElement(av,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return lr(3)},e}(),Ik=function(e){var t=x.forwardRef(function(n,r){var a=se.exports.useContext(Ei),o=e.defaultProps,u=Pd(n,a,o);return x.createElement(e,kn({},n,{theme:u,ref:r}))});return ad(t,e),t.displayName="WithTheme("+Rd(e)+")",t},Ck=function(){return se.exports.useContext(Ei)},kk={StyleSheet:$a,masterSheet:rv},Pk=Fd,m6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pk,ServerStyleSheet:Dk,StyleSheetConsumer:gk,StyleSheetContext:cc,StyleSheetManager:av,ThemeConsumer:Rk,ThemeContext:Ei,ThemeProvider:fv,__PRIVATE__:kk,createGlobalStyle:pv,css:lc,isStyledComponent:ac,keyframes:xk,useTheme:Ck,version:ZC,withTheme:Ik});function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(n),!0).forEach(function(r){$u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _v=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$d=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bs={INIT:"@@redux/INIT"+$d(),REPLACE:"@@redux/REPLACE"+$d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$d()}};function Mk(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vd(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(Wt(1));return n(Vd)(e,t)}if(typeof e!="function")throw new Error(Wt(2));var a=e,o=t,u=[],l=u,f=!1;function d(){l===u&&(l=u.slice())}function h(){if(f)throw new Error(Wt(3));return o}function _(E){if(typeof E!="function")throw new Error(Wt(4));if(f)throw new Error(Wt(5));var T=!0;return d(),l.push(E),function(){if(!!T){if(f)throw new Error(Wt(6));T=!1,d();var M=l.indexOf(E);l.splice(M,1),u=null}}}function v(E){if(!Mk(E))throw new Error(Wt(7));if(typeof E.type=="undefined")throw new Error(Wt(8));if(f)throw new Error(Wt(9));try{f=!0,o=a(o,E)}finally{f=!1}for(var T=u=l,k=0;k<T.length;k++){var M=T[k];M()}return E}function b(E){if(typeof E!="function")throw new Error(Wt(10));a=E,v({type:Bs.REPLACE})}function w(){var E,T=_;return E={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(Wt(11));function B(){M.next&&M.next(h())}B();var Z=T(B);return{unsubscribe:Z}}},E[_v]=function(){return this},E}return v({type:Bs.INIT}),r={dispatch:v,subscribe:_,getState:h,replaceReducer:b},r[_v]=w,r}function Uk(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Bs.INIT});if(typeof r=="undefined")throw new Error(Wt(12));if(typeof n(void 0,{type:Bs.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(Wt(13))})}function Lk(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];typeof e[a]=="function"&&(n[a]=e[a])}var o=Object.keys(n),u;try{Uk(n)}catch(l){u=l}return function(f,d){if(f===void 0&&(f={}),u)throw u;for(var h=!1,_={},v=0;v<o.length;v++){var b=o[v],w=n[b],E=f[b],T=w(E,d);if(typeof T=="undefined")throw d&&d.type,new Error(Wt(14));_[b]=T,h=h||T!==E}return h=h||o.length!==Object.keys(f).length,h?_:f}}function gv(e,t){return function(){return t(e.apply(this,arguments))}}function Nk(e,t){if(typeof e=="function")return gv(e,t);if(typeof e!="object"||e===null)throw new Error(Wt(16));var n={};for(var r in e){var a=e[r];typeof a=="function"&&(n[r]=gv(a,t))}return n}function vv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}function yv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var a=r.apply(void 0,arguments),o=function(){throw new Error(Wt(15))},u={getState:a.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(f){return f(u)});return o=vv.apply(void 0,l)(a.dispatch),mv(mv({},a),{},{dispatch:o})}}}var Fk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",__DO_NOT_USE__ActionTypes:Bs,applyMiddleware:yv,bindActionCreators:Nk,combineReducers:Lk,compose:vv,createStore:Vd});function $k(){if(!window)return;const e=localStorage.getItem(ka.publicRuntimeConfig.localStorageKey);return e?JSON.parse(e):void 0}function Vk(e){e.isLoggedIn&&localStorage.setItem(ka.publicRuntimeConfig.localStorageKey,JSON.stringify(e))}function Ev(e){return function(t){var n=t.dispatch,r=t.getState;return function(a){return function(o){return typeof o=="function"?o(n,r,e):a(o)}}}}var bv=Ev();bv.withExtraArgument=Ev;var qs="delete",ft=5,Bn=1<<ft,fn=Bn-1,je={};function Hd(){return{value:!1}}function qn(e){e&&(e.value=!0)}function Gd(){}function Ha(e){return e.size===void 0&&(e.size=e.__iterate(Sv)),e.size}function bi(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?Ha(e)+t:t}function Sv(){return!0}function Ks(e,t,n){return(e===0&&!Tv(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function Ga(e,t){return wv(e,t,0)}function Js(e,t){return wv(e,t,t)}function wv(e,t,n){return e===void 0?n:Tv(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Tv(e){return e<0||e===0&&1/e==-1/0}var Av="@@__IMMUTABLE_ITERABLE__@@";function Zt(e){return Boolean(e&&e[Av])}var Rv="@@__IMMUTABLE_KEYED__@@";function st(e){return Boolean(e&&e[Rv])}var Ov="@@__IMMUTABLE_INDEXED__@@";function Yt(e){return Boolean(e&&e[Ov])}function ja(e){return st(e)||Yt(e)}var dt=function(t){return Zt(t)?t:Qt(t)},Kn=function(e){function t(n){return st(n)?n:Si(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(dt),ta=function(e){function t(n){return Yt(n)?n:Xn(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(dt),za=function(e){function t(n){return Zt(n)&&!ja(n)?n:Ba(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(dt);dt.Keyed=Kn;dt.Indexed=ta;dt.Set=za;var xv="@@__IMMUTABLE_SEQ__@@";function Xs(e){return Boolean(e&&e[xv])}var Dv="@@__IMMUTABLE_RECORD__@@";function na(e){return Boolean(e&&e[Dv])}function Pn(e){return Zt(e)||na(e)}var Wa="@@__IMMUTABLE_ORDERED__@@";function Mn(e){return Boolean(e&&e[Wa])}var Zs=0,fr=1,Jn=2,jd=typeof Symbol=="function"&&Symbol.iterator,Iv="@@iterator",dc=jd||Iv,We=function(t){this.next=t};We.prototype.toString=function(){return"[Iterator]"};We.KEYS=Zs;We.VALUES=fr;We.ENTRIES=Jn;We.prototype.inspect=We.prototype.toSource=function(){return this.toString()};We.prototype[dc]=function(){return this};function pt(e,t,n,r){var a=e===0?t:e===1?n:[t,n];return r?r.value=a:r={value:a,done:!1},r}function dn(){return{value:void 0,done:!0}}function zd(e){return Array.isArray(e)?!0:!!pc(e)}function Cv(e){return e&&typeof e.next=="function"}function Wd(e){var t=pc(e);return t&&t.call(e)}function pc(e){var t=e&&(jd&&e[jd]||e[Iv]);if(typeof t=="function")return t}function Hk(e){var t=pc(e);return t&&t===e.entries}function Gk(e){var t=pc(e);return t&&t===e.keys}var Ya=Object.prototype.hasOwnProperty;function Yd(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Qt=function(e){function t(n){return n==null?qd():Pn(n)?n.toSeq():zk(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,a){var o=this._cache;if(o){for(var u=o.length,l=0;l!==u;){var f=o[a?u-++l:l++];if(r(f[1],f[0],this)===!1)break}return l}return this.__iterateUncached(r,a)},t.prototype.__iterator=function(r,a){var o=this._cache;if(o){var u=o.length,l=0;return new We(function(){if(l===u)return dn();var f=o[a?u-++l:l++];return pt(r,f[0],f[1])})}return this.__iteratorUncached(r,a)},t}(dt),Si=function(e){function t(n){return n==null?qd().toKeyedSeq():Zt(n)?st(n)?n.toSeq():n.fromEntrySeq():na(n)?n.toSeq():Kd(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Qt),Xn=function(e){function t(n){return n==null?qd():Zt(n)?st(n)?n.entrySeq():n.toIndexedSeq():na(n)?n.toSeq().entrySeq():Pv(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Qt),Ba=function(e){function t(n){return(Zt(n)&&!ja(n)?n:Xn(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Qt);Qt.isSeq=Xs;Qt.Keyed=Si;Qt.Set=Ba;Qt.Indexed=Xn;Qt.prototype[xv]=!0;var ra=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return this.has(r)?this._array[bi(this,r)]:a},t.prototype.__iterate=function(r,a){for(var o=this._array,u=o.length,l=0;l!==u;){var f=a?u-++l:l++;if(r(o[f],f,this)===!1)break}return l},t.prototype.__iterator=function(r,a){var o=this._array,u=o.length,l=0;return new We(function(){if(l===u)return dn();var f=a?u-++l:l++;return pt(r,f,o[f])})},t}(Xn),Bd=function(e){function t(n){var r=Object.keys(n);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return a!==void 0&&!this.has(r)?a:this._object[r]},t.prototype.has=function(r){return Ya.call(this._object,r)},t.prototype.__iterate=function(r,a){for(var o=this._object,u=this._keys,l=u.length,f=0;f!==l;){var d=u[a?l-++f:f++];if(r(o[d],d,this)===!1)break}return f},t.prototype.__iterator=function(r,a){var o=this._object,u=this._keys,l=u.length,f=0;return new We(function(){if(f===l)return dn();var d=u[a?l-++f:f++];return pt(r,d,o[d])})},t}(Si);Bd.prototype[Wa]=!0;var jk=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,a){if(a)return this.cacheResult().__iterate(r,a);var o=this._collection,u=Wd(o),l=0;if(Cv(u))for(var f;!(f=u.next()).done&&r(f.value,l++,this)!==!1;);return l},t.prototype.__iteratorUncached=function(r,a){if(a)return this.cacheResult().__iterator(r,a);var o=this._collection,u=Wd(o);if(!Cv(u))return new We(dn);var l=0;return new We(function(){var f=u.next();return f.done?f:pt(r,l++,f.value)})},t}(Xn),kv;function qd(){return kv||(kv=new ra([]))}function Kd(e){var t=Jd(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new Bd(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Pv(e){var t=Jd(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function zk(e){var t=Jd(e);if(t)return Hk(e)?t.fromEntrySeq():Gk(e)?t.toSetSeq():t;if(typeof e=="object")return new Bd(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Jd(e){return Yd(e)?new ra(e):zd(e)?new jk(e):void 0}var Mv="@@__IMMUTABLE_MAP__@@";function Qs(e){return Boolean(e&&e[Mv])}function hc(e){return Qs(e)&&Mn(e)}function mc(e){return Boolean(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Ft(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(mc(e)&&mc(t)&&e.equals(t))}var eo=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,a=n&65535;return r*a+((t>>>16)*a+r*(n>>>16)<<16>>>0)|0};function _c(e){return e>>>1&1073741824|e&3221225471}var Wk=Object.prototype.valueOf;function pn(e){if(e==null)return Uv(e);if(typeof e.hashCode=="function")return _c(e.hashCode(e));var t=Xk(e);if(t==null)return Uv(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Yk(t);case"string":return t.length>Zk?Bk(t):Xd(t);case"object":case"function":return Kk(t);case"symbol":return qk(t);default:if(typeof t.toString=="function")return Xd(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Uv(e){return e===null?1108378658:1108378659}function Yk(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return _c(t)}function Bk(e){var t=np[e];return t===void 0&&(t=Xd(e),tp===Qk&&(tp=0,np={}),tp++,np[e]=t),t}function Xd(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return _c(t)}function qk(e){var t=$v[e];return t!==void 0||(t=Fv(),$v[e]=t),t}function Kk(e){var t;if(Zd&&(t=Qd.get(e),t!==void 0)||(t=e[ia],t!==void 0)||!Nv&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[ia],t!==void 0||(t=Jk(e),t!==void 0)))return t;if(t=Fv(),Zd)Qd.set(e,t);else{if(Lv!==void 0&&Lv(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Nv)Object.defineProperty(e,ia,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ia]=t;else if(e.nodeType!==void 0)e[ia]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Lv=Object.isExtensible,Nv=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Jk(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function Xk(e){return e.valueOf!==Wk&&typeof e.valueOf=="function"?e.valueOf(e):e}function Fv(){var e=++ep;return ep&1073741824&&(ep=0),e}var Zd=typeof WeakMap=="function",Qd;Zd&&(Qd=new WeakMap);var $v=Object.create(null),ep=0,ia="__immutablehash__";typeof Symbol=="function"&&(ia=Symbol(ia));var Zk=16,Qk=255,tp=0,np={},gc=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,a){return this._iter.get(r,a)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,a=rp(this,!0);return this._useKeys||(a.valueSeq=function(){return r._iter.toSeq().reverse()}),a},t.prototype.map=function(r,a){var o=this,u=zv(this,r,a);return this._useKeys||(u.valueSeq=function(){return o._iter.toSeq().map(r,a)}),u},t.prototype.__iterate=function(r,a){var o=this;return this._iter.__iterate(function(u,l){return r(u,l,o)},a)},t.prototype.__iterator=function(r,a){return this._iter.__iterator(r,a)},t}(Si);gc.prototype[Wa]=!0;var Vv=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,a){var o=this,u=0;return a&&Ha(this),this._iter.__iterate(function(l){return r(l,a?o.size-++u:u++,o)},a)},t.prototype.__iterator=function(r,a){var o=this,u=this._iter.__iterator(fr,a),l=0;return a&&Ha(this),new We(function(){var f=u.next();return f.done?f:pt(r,a?o.size-++l:l++,f.value,f)})},t}(Xn),Hv=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,a){var o=this;return this._iter.__iterate(function(u){return r(u,u,o)},a)},t.prototype.__iterator=function(r,a){var o=this._iter.__iterator(fr,a);return new We(function(){var u=o.next();return u.done?u:pt(r,u.value,u.value,u)})},t}(Ba),Gv=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,a){var o=this;return this._iter.__iterate(function(u){if(u){Kv(u);var l=Zt(u);return r(l?u.get(1):u[1],l?u.get(0):u[0],o)}},a)},t.prototype.__iterator=function(r,a){var o=this._iter.__iterator(fr,a);return new We(function(){for(;;){var u=o.next();if(u.done)return u;var l=u.value;if(l){Kv(l);var f=Zt(l);return pt(r,f?l.get(0):l[0],f?l.get(1):l[1],u)}}})},t}(Si);Vv.prototype.cacheResult=gc.prototype.cacheResult=Hv.prototype.cacheResult=Gv.prototype.cacheResult=ap;function jv(e){var t=Tr(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=ap,t.__iterateUncached=function(n,r){var a=this;return e.__iterate(function(o,u){return n(u,o,a)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===Jn){var a=e.__iterator(n,r);return new We(function(){var o=a.next();if(!o.done){var u=o.value[0];o.value[0]=o.value[1],o.value[1]=u}return o})}return e.__iterator(n===fr?Zs:fr,r)},t}function zv(e,t,n){var r=Tr(e);return r.size=e.size,r.has=function(a){return e.has(a)},r.get=function(a,o){var u=e.get(a,je);return u===je?o:t.call(n,u,a,e)},r.__iterateUncached=function(a,o){var u=this;return e.__iterate(function(l,f,d){return a(t.call(n,l,f,d),f,u)!==!1},o)},r.__iteratorUncached=function(a,o){var u=e.__iterator(Jn,o);return new We(function(){var l=u.next();if(l.done)return l;var f=l.value,d=f[0];return pt(a,d,t.call(n,f[1],d,e),l)})},r}function rp(e,t){var n=this,r=Tr(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var a=jv(e);return a.reverse=function(){return e.flip()},a}),r.get=function(a,o){return e.get(t?a:-1-a,o)},r.has=function(a){return e.has(t?a:-1-a)},r.includes=function(a){return e.includes(a)},r.cacheResult=ap,r.__iterate=function(a,o){var u=this,l=0;return o&&Ha(e),e.__iterate(function(f,d){return a(f,t?d:o?u.size-++l:l++,u)},!o)},r.__iterator=function(a,o){var u=0;o&&Ha(e);var l=e.__iterator(Jn,!o);return new We(function(){var f=l.next();if(f.done)return f;var d=f.value;return pt(a,t?d[0]:o?n.size-++u:u++,d[1],f)})},r}function Wv(e,t,n,r){var a=Tr(e);return r&&(a.has=function(o){var u=e.get(o,je);return u!==je&&!!t.call(n,u,o,e)},a.get=function(o,u){var l=e.get(o,je);return l!==je&&t.call(n,l,o,e)?l:u}),a.__iterateUncached=function(o,u){var l=this,f=0;return e.__iterate(function(d,h,_){if(t.call(n,d,h,_))return f++,o(d,r?h:f-1,l)},u),f},a.__iteratorUncached=function(o,u){var l=e.__iterator(Jn,u),f=0;return new We(function(){for(;;){var d=l.next();if(d.done)return d;var h=d.value,_=h[0],v=h[1];if(t.call(n,v,_,e))return pt(o,r?_:f++,v,d)}})},a}function eP(e,t,n){var r=Ai().asMutable();return e.__iterate(function(a,o){r.update(t.call(n,a,o,e),0,function(u){return u+1})}),r.asImmutable()}function tP(e,t,n){var r=st(e),a=(Mn(e)?pr():Ai()).asMutable();e.__iterate(function(u,l){a.update(t.call(n,u,l,e),function(f){return f=f||[],f.push(r?[l,u]:u),f})});var o=Jv(e);return a.map(function(u){return ot(e,o(u))}).asImmutable()}function ip(e,t,n,r){var a=e.size;if(Ks(t,n,a))return e;var o=Ga(t,a),u=Js(n,a);if(o!==o||u!==u)return ip(e.toSeq().cacheResult(),t,n,r);var l=u-o,f;l===l&&(f=l<0?0:l);var d=Tr(e);return d.size=f===0?f:e.size&&f||void 0,!r&&Xs(e)&&f>=0&&(d.get=function(h,_){return h=bi(this,h),h>=0&&h<f?e.get(h+o,_):_}),d.__iterateUncached=function(h,_){var v=this;if(f===0)return 0;if(_)return this.cacheResult().__iterate(h,_);var b=0,w=!0,E=0;return e.__iterate(function(T,k){if(!(w&&(w=b++<o)))return E++,h(T,r?k:E-1,v)!==!1&&E!==f}),E},d.__iteratorUncached=function(h,_){if(f!==0&&_)return this.cacheResult().__iterator(h,_);if(f===0)return new We(dn);var v=e.__iterator(h,_),b=0,w=0;return new We(function(){for(;b++<o;)v.next();if(++w>f)return dn();var E=v.next();return r||h===fr||E.done?E:h===Zs?pt(h,w-1,void 0,E):pt(h,w-1,E.value[1],E)})},d}function nP(e,t,n){var r=Tr(e);return r.__iterateUncached=function(a,o){var u=this;if(o)return this.cacheResult().__iterate(a,o);var l=0;return e.__iterate(function(f,d,h){return t.call(n,f,d,h)&&++l&&a(f,d,u)}),l},r.__iteratorUncached=function(a,o){var u=this;if(o)return this.cacheResult().__iterator(a,o);var l=e.__iterator(Jn,o),f=!0;return new We(function(){if(!f)return dn();var d=l.next();if(d.done)return d;var h=d.value,_=h[0],v=h[1];return t.call(n,v,_,u)?a===Jn?d:pt(a,_,v,d):(f=!1,dn())})},r}function Yv(e,t,n,r){var a=Tr(e);return a.__iterateUncached=function(o,u){var l=this;if(u)return this.cacheResult().__iterate(o,u);var f=!0,d=0;return e.__iterate(function(h,_,v){if(!(f&&(f=t.call(n,h,_,v))))return d++,o(h,r?_:d-1,l)}),d},a.__iteratorUncached=function(o,u){var l=this;if(u)return this.cacheResult().__iterator(o,u);var f=e.__iterator(Jn,u),d=!0,h=0;return new We(function(){var _,v,b;do{if(_=f.next(),_.done)return r||o===fr?_:o===Zs?pt(o,h++,void 0,_):pt(o,h++,_.value[1],_);var w=_.value;v=w[0],b=w[1],d&&(d=t.call(n,b,v,l))}while(d);return o===Jn?_:pt(o,v,b,_)})},a}function rP(e,t){var n=st(e),r=[e].concat(t).map(function(u){return Zt(u)?n&&(u=Kn(u)):u=n?Kd(u):Pv(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(r.length===0)return e;if(r.length===1){var a=r[0];if(a===e||n&&st(a)||Yt(e)&&Yt(a))return a}var o=new ra(r);return n?o=o.toKeyedSeq():Yt(e)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=r.reduce(function(u,l){if(u!==void 0){var f=l.size;if(f!==void 0)return u+f}},0),o}function Bv(e,t,n){var r=Tr(e);return r.__iterateUncached=function(a,o){if(o)return this.cacheResult().__iterate(a,o);var u=0,l=!1;function f(d,h){d.__iterate(function(_,v){return(!t||h<t)&&Zt(_)?f(_,h+1):(u++,a(_,n?v:u-1,r)===!1&&(l=!0)),!l},o)}return f(e,0),u},r.__iteratorUncached=function(a,o){if(o)return this.cacheResult().__iterator(a,o);var u=e.__iterator(a,o),l=[],f=0;return new We(function(){for(;u;){var d=u.next();if(d.done!==!1){u=l.pop();continue}var h=d.value;if(a===Jn&&(h=h[1]),(!t||l.length<t)&&Zt(h))l.push(u),u=h.__iterator(a,o);else return n?d:pt(a,f++,h,d)}return dn()})},r}function iP(e,t,n){var r=Jv(e);return e.toSeq().map(function(a,o){return r(t.call(n,a,o,e))}).flatten(!0)}function aP(e,t){var n=Tr(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,a){var o=this,u=0;return e.__iterate(function(l){return(!u||r(t,u++,o)!==!1)&&r(l,u++,o)!==!1},a),u},n.__iteratorUncached=function(r,a){var o=e.__iterator(fr,a),u=0,l;return new We(function(){return(!l||u%2)&&(l=o.next(),l.done)?l:u%2?pt(r,u++,t):pt(r,u++,l.value,l)})},n}function qa(e,t,n){t||(t=Xv);var r=st(e),a=0,o=e.toSeq().map(function(u,l){return[l,u,a++,n?n(u,l,e):u]}).valueSeq().toArray();return o.sort(function(u,l){return t(u[3],l[3])||u[2]-l[2]}).forEach(r?function(u,l){o[l].length=2}:function(u,l){o[l]=u[1]}),r?Si(o):Yt(e)?Xn(o):Ba(o)}function vc(e,t,n){if(t||(t=Xv),n){var r=e.toSeq().map(function(a,o){return[a,n(a,o,e)]}).reduce(function(a,o){return qv(t,a[1],o[1])?o:a});return r&&r[0]}return e.reduce(function(a,o){return qv(t,a,o)?o:a})}function qv(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function yc(e,t,n,r){var a=Tr(e),o=new ra(n).map(function(u){return u.size});return a.size=r?o.max():o.min(),a.__iterate=function(u,l){for(var f=this.__iterator(fr,l),d,h=0;!(d=f.next()).done&&u(d.value,h++,this)!==!1;);return h},a.__iteratorUncached=function(u,l){var f=n.map(function(_){return _=dt(_),Wd(l?_.reverse():_)}),d=0,h=!1;return new We(function(){var _;return h||(_=f.map(function(v){return v.next()}),h=r?_.every(function(v){return v.done}):_.some(function(v){return v.done})),h?dn():pt(u,d++,t.apply(null,_.map(function(v){return v.value})))})},a}function ot(e,t){return e===t?e:Xs(e)?t:e.constructor(t)}function Kv(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jv(e){return st(e)?Kn:Yt(e)?ta:za}function Tr(e){return Object.create((st(e)?Si:Yt(e)?Xn:Ba).prototype)}function ap(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Qt.prototype.cacheResult.call(this)}function Xv(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Ar(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),a=0;a<n;a++)r[a]=e[a+t];return r}function sp(e,t){if(!e)throw new Error(t)}function Zn(e){sp(e!==1/0,"Cannot perform this action with an infinite size.")}function Zv(e){if(Yd(e)&&typeof e!="string")return e;if(Mn(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var sP=Object.prototype.toString;function Ec(e){if(!e||typeof e!="object"||sP.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function wi(e){return typeof e=="object"&&(Pn(e)||Array.isArray(e)||Ec(e))}function to(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function op(e,t){return Pn(e)?e.has(t):wi(e)&&Ya.call(e,t)}function bc(e,t,n){return Pn(e)?e.get(t,n):op(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function Sc(e){if(Array.isArray(e))return Ar(e);var t={};for(var n in e)Ya.call(e,n)&&(t[n]=e[n]);return t}function up(e,t){if(!wi(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pn(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Ya.call(e,t))return e;var n=Sc(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function cp(e,t,n){if(!wi(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pn(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Ya.call(e,t)&&n===e[t])return e;var r=Sc(e);return r[t]=n,r}function Ti(e,t,n,r){r||(r=n,n=void 0);var a=Qv(Pn(e),e,Zv(t),0,n,r);return a===je?n:a}function Qv(e,t,n,r,a,o){var u=t===je;if(r===n.length){var l=u?a:t,f=o(l);return f===l?t:f}if(!u&&!wi(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(to)+"]: "+t);var d=n[r],h=u?je:bc(t,d,je),_=Qv(h===je?e:Pn(h),h,n,r+1,a,o);return _===h?t:_===je?up(t,d):cp(u?e?dr():{}:t,d,_)}function lp(e,t,n){return Ti(e,t,je,function(){return n})}function fp(e,t){return lp(this,e,t)}function dp(e,t){return Ti(e,t,function(){return je})}function pp(e){return dp(this,e)}function wc(e,t,n,r){return Ti(e,[t],n,r)}function hp(e,t,n){return arguments.length===1?e(this):wc(this,e,t,n)}function mp(e,t,n){return Ti(this,e,t,n)}function ey(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ny(this,e)}function ty(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return ny(this,t,e)}function ny(e,t,n){for(var r=[],a=0;a<t.length;a++){var o=Kn(t[a]);o.size!==0&&r.push(o)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(u){for(var l=n?function(d,h){wc(u,h,je,function(_){return _===je?d:n(_,d,h)})}:function(d,h){u.set(h,d)},f=0;f<r.length;f++)r[f].forEach(l)})}function ry(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ro(e,t)}function iy(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return ro(t,n,e)}function ay(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return no(e,t)}function sy(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return no(t,n,e)}function no(e,t,n){return ro(e,t,oP(n))}function ro(e,t,n){if(!wi(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Pn(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),a=e,o=r?ta:Kn,u=r?function(f){a===e&&(a=Sc(a)),a.push(f)}:function(f,d){var h=Ya.call(a,d),_=h&&n?n(a[d],f,d):f;(!h||_!==a[d])&&(a===e&&(a=Sc(a)),a[d]=_)},l=0;l<t.length;l++)o(t[l]).forEach(u);return a}function oP(e){function t(n,r,a){return wi(n)&&wi(r)&&uP(n,r)?ro(n,[r],t):e?e(n,r,a):r}return t}function uP(e,t){var n=Qt(e),r=Qt(t);return Yt(n)===Yt(r)&&st(n)===st(r)}function oy(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return no(this,e)}function uy(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return no(this,t,e)}function _p(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ti(this,e,dr(),function(r){return ro(r,t)})}function gp(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ti(this,e,dr(),function(r){return no(r,t)})}function io(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function ao(){return this.__ownerID?this:this.__ensureOwner(new Gd)}function so(){return this.__ensureOwner()}function vp(){return this.__altered}var Ai=function(e){function t(n){return n==null?dr():Qs(n)&&!Mn(n)?n:dr().withMutations(function(r){var a=e(n);Zn(a.size),a.forEach(function(o,u){return r.set(u,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return dr().withMutations(function(o){for(var u=0;u<r.length;u+=2){if(u+1>=r.length)throw new Error("Missing value for key: "+r[u]);o.set(r[u],r[u+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,a){return this._root?this._root.get(0,void 0,r,a):a},t.prototype.set=function(r,a){return fy(this,r,a)},t.prototype.remove=function(r){return fy(this,r,je)},t.prototype.deleteAll=function(r){var a=dt(r);return a.size===0?this:this.withMutations(function(o){a.forEach(function(u){return o.remove(u)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):dr()},t.prototype.sort=function(r){return pr(qa(this,r))},t.prototype.sortBy=function(r,a){return pr(qa(this,a,r))},t.prototype.map=function(r,a){var o=this;return this.withMutations(function(u){u.forEach(function(l,f){u.set(f,r.call(a,l,f,o))})})},t.prototype.__iterator=function(r,a){return new cP(this,r,a)},t.prototype.__iterate=function(r,a){var o=this,u=0;return this._root&&this._root.iterate(function(l){return u++,r(l[1],l[0],o)},a),u},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Ep(this.size,this._root,r,this.__hash):this.size===0?dr():(this.__ownerID=r,this.__altered=!1,this)},t}(Kn);Ai.isMap=Qs;var ht=Ai.prototype;ht[Mv]=!0;ht[qs]=ht.remove;ht.removeAll=ht.deleteAll;ht.setIn=fp;ht.removeIn=ht.deleteIn=pp;ht.update=hp;ht.updateIn=mp;ht.merge=ht.concat=ey;ht.mergeWith=ty;ht.mergeDeep=oy;ht.mergeDeepWith=uy;ht.mergeIn=_p;ht.mergeDeepIn=gp;ht.withMutations=io;ht.wasAltered=vp;ht.asImmutable=so;ht["@@transducer/init"]=ht.asMutable=ao;ht["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};ht["@@transducer/result"]=function(e){return e.asImmutable()};var oo=function(t,n){this.ownerID=t,this.entries=n};oo.prototype.get=function(t,n,r,a){for(var o=this.entries,u=0,l=o.length;u<l;u++)if(Ft(r,o[u][0]))return o[u][1];return a};oo.prototype.update=function(t,n,r,a,o,u,l){for(var f=o===je,d=this.entries,h=0,_=d.length;h<_&&!Ft(a,d[h][0]);h++);var v=h<_;if(v?d[h][1]===o:f)return this;if(qn(l),(f||!v)&&qn(u),!(f&&d.length===1)){if(!v&&!f&&d.length>=mP)return lP(t,d,a,o);var b=t&&t===this.ownerID,w=b?d:Ar(d);return v?f?h===_-1?w.pop():w[h]=w.pop():w[h]=[a,o]:w.push([a,o]),b?(this.entries=w,this):new oo(t,w)}};var Ka=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};Ka.prototype.get=function(t,n,r,a){n===void 0&&(n=pn(r));var o=1<<((t===0?n:n>>>t)&fn),u=this.bitmap;return(u&o)==0?a:this.nodes[py(u&o-1)].get(t+ft,n,r,a)};Ka.prototype.update=function(t,n,r,a,o,u,l){r===void 0&&(r=pn(a));var f=(n===0?r:r>>>n)&fn,d=1<<f,h=this.bitmap,_=(h&d)!=0;if(!_&&o===je)return this;var v=py(h&d-1),b=this.nodes,w=_?b[v]:void 0,E=bp(w,t,n+ft,r,a,o,u,l);if(E===w)return this;if(!_&&E&&b.length>=_P)return dP(t,b,h,f,E);if(_&&!E&&b.length===2&&dy(b[v^1]))return b[v^1];if(_&&E&&b.length===1&&dy(E))return E;var T=t&&t===this.ownerID,k=_?E?h:h^d:h|d,M=_?E?hy(b,v,E,T):hP(b,v,T):pP(b,v,E,T);return T?(this.bitmap=k,this.nodes=M,this):new Ka(t,k,M)};var uo=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};uo.prototype.get=function(t,n,r,a){n===void 0&&(n=pn(r));var o=(t===0?n:n>>>t)&fn,u=this.nodes[o];return u?u.get(t+ft,n,r,a):a};uo.prototype.update=function(t,n,r,a,o,u,l){r===void 0&&(r=pn(a));var f=(n===0?r:r>>>n)&fn,d=o===je,h=this.nodes,_=h[f];if(d&&!_)return this;var v=bp(_,t,n+ft,r,a,o,u,l);if(v===_)return this;var b=this.count;if(!_)b++;else if(!v&&(b--,b<gP))return fP(t,h,b,f);var w=t&&t===this.ownerID,E=hy(h,f,v,w);return w?(this.count=b,this.nodes=E,this):new uo(t,b,E)};var Ja=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};Ja.prototype.get=function(t,n,r,a){for(var o=this.entries,u=0,l=o.length;u<l;u++)if(Ft(r,o[u][0]))return o[u][1];return a};Ja.prototype.update=function(t,n,r,a,o,u,l){r===void 0&&(r=pn(a));var f=o===je;if(r!==this.keyHash)return f?this:(qn(l),qn(u),Sp(this,t,n,r,[a,o]));for(var d=this.entries,h=0,_=d.length;h<_&&!Ft(a,d[h][0]);h++);var v=h<_;if(v?d[h][1]===o:f)return this;if(qn(l),(f||!v)&&qn(u),f&&_===2)return new Wr(t,this.keyHash,d[h^1]);var b=t&&t===this.ownerID,w=b?d:Ar(d);return v?f?h===_-1?w.pop():w[h]=w.pop():w[h]=[a,o]:w.push([a,o]),b?(this.entries=w,this):new Ja(t,this.keyHash,w)};var Wr=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};Wr.prototype.get=function(t,n,r,a){return Ft(r,this.entry[0])?this.entry[1]:a};Wr.prototype.update=function(t,n,r,a,o,u,l){var f=o===je,d=Ft(a,this.entry[0]);if(d?o===this.entry[1]:f)return this;if(qn(l),f){qn(u);return}return d?t&&t===this.ownerID?(this.entry[1]=o,this):new Wr(t,this.keyHash,[a,o]):(qn(u),Sp(this,t,n,pn(a),[a,o]))};oo.prototype.iterate=Ja.prototype.iterate=function(e,t){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(e(n[t?a-r:r])===!1)return!1};Ka.prototype.iterate=uo.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var o=n[t?a-r:r];if(o&&o.iterate(e,t)===!1)return!1}};Wr.prototype.iterate=function(e,t){return e(this.entry)};var cP=function(e){function t(n,r,a){this._type=r,this._reverse=a,this._stack=n._root&&cy(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,a=this._stack;a;){var o=a.node,u=a.index++,l=void 0;if(o.entry){if(u===0)return yp(r,o.entry)}else if(o.entries){if(l=o.entries.length-1,u<=l)return yp(r,o.entries[this._reverse?l-u:u])}else if(l=o.nodes.length-1,u<=l){var f=o.nodes[this._reverse?l-u:u];if(f){if(f.entry)return yp(r,f.entry);a=this._stack=cy(f,a)}continue}a=this._stack=this._stack.__prev}return dn()},t}(We);function yp(e,t){return pt(e,t[0],t[1])}function cy(e,t){return{node:e,index:0,__prev:t}}function Ep(e,t,n,r){var a=Object.create(ht);return a.size=e,a._root=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var ly;function dr(){return ly||(ly=Ep(0))}function fy(e,t,n){var r,a;if(e._root){var o=Hd(),u=Hd();if(r=bp(e._root,e.__ownerID,0,void 0,t,n,o,u),!u.value)return e;a=e.size+(o.value?n===je?-1:1:0)}else{if(n===je)return e;a=1,r=new oo(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ep(a,r):dr()}function bp(e,t,n,r,a,o,u,l){return e?e.update(t,n,r,a,o,u,l):o===je?e:(qn(l),qn(u),new Wr(t,r,[a,o]))}function dy(e){return e.constructor===Wr||e.constructor===Ja}function Sp(e,t,n,r,a){if(e.keyHash===r)return new Ja(t,r,[e.entry,a]);var o=(n===0?e.keyHash:e.keyHash>>>n)&fn,u=(n===0?r:r>>>n)&fn,l,f=o===u?[Sp(e,t,n+ft,r,a)]:(l=new Wr(t,r,a),o<u?[e,l]:[l,e]);return new Ka(t,1<<o|1<<u,f)}function lP(e,t,n,r){e||(e=new Gd);for(var a=new Wr(e,pn(n),[n,r]),o=0;o<t.length;o++){var u=t[o];a=a.update(e,0,void 0,u[0],u[1])}return a}function fP(e,t,n,r){for(var a=0,o=0,u=new Array(n),l=0,f=1,d=t.length;l<d;l++,f<<=1){var h=t[l];h!==void 0&&l!==r&&(a|=f,u[o++]=h)}return new Ka(e,a,u)}function dP(e,t,n,r,a){for(var o=0,u=new Array(Bn),l=0;n!==0;l++,n>>>=1)u[l]=n&1?t[o++]:void 0;return u[r]=a,new uo(e,o+1,u)}function py(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function hy(e,t,n,r){var a=r?e:Ar(e);return a[t]=n,a}function pP(e,t,n,r){var a=e.length+1;if(r&&t+1===a)return e[t]=n,e;for(var o=new Array(a),u=0,l=0;l<a;l++)l===t?(o[l]=n,u=-1):o[l]=e[l+u];return o}function hP(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var a=new Array(r),o=0,u=0;u<r;u++)u===t&&(o=1),a[u]=e[u+o];return a}var mP=Bn/4,_P=Bn/2,gP=Bn/4,my="@@__IMMUTABLE_LIST__@@";function Tc(e){return Boolean(e&&e[my])}var Xa=function(e){function t(n){var r=Ac();if(n==null)return r;if(Tc(n))return n;var a=e(n),o=a.size;return o===0?r:(Zn(o),o>0&&o<Bn?lo(0,o,ft,null,new Ri(a.toArray())):r.withMutations(function(u){u.setSize(o),a.forEach(function(l,f){return u.set(f,l)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,a){if(r=bi(this,r),r>=0&&r<this.size){r+=this._origin;var o=vy(this,r);return o&&o.array[r&fn]}return a},t.prototype.set=function(r,a){return vP(this,r,a)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,a){return this.splice(r,0,a)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ft,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ac()},t.prototype.push=function(){var r=arguments,a=this.size;return this.withMutations(function(o){Oi(o,0,a+r.length);for(var u=0;u<r.length;u++)o.set(a+u,r[u])})},t.prototype.pop=function(){return Oi(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(a){Oi(a,-r.length);for(var o=0;o<r.length;o++)a.set(o,r[o])})},t.prototype.shift=function(){return Oi(this,1)},t.prototype.concat=function(){for(var r=arguments,a=[],o=0;o<arguments.length;o++){var u=r[o],l=e(typeof u!="string"&&zd(u)?u:[u]);l.size!==0&&a.push(l)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(f){a.forEach(function(d){return d.forEach(function(h){return f.push(h)})})})},t.prototype.setSize=function(r){return Oi(this,0,r)},t.prototype.map=function(r,a){var o=this;return this.withMutations(function(u){for(var l=0;l<o.size;l++)u.set(l,r.call(a,u.get(l),l,o))})},t.prototype.slice=function(r,a){var o=this.size;return Ks(r,a,o)?this:Oi(this,Ga(r,o),Js(a,o))},t.prototype.__iterator=function(r,a){var o=a?this.size:0,u=_y(this,a);return new We(function(){var l=u();return l===co?dn():pt(r,a?--o:o++,l)})},t.prototype.__iterate=function(r,a){for(var o=a?this.size:0,u=_y(this,a),l;(l=u())!==co&&r(l,a?--o:o++,this)!==!1;);return o},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?lo(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Ac():(this.__ownerID=r,this.__altered=!1,this)},t}(ta);Xa.isList=Tc;var kt=Xa.prototype;kt[my]=!0;kt[qs]=kt.remove;kt.merge=kt.concat;kt.setIn=fp;kt.deleteIn=kt.removeIn=pp;kt.update=hp;kt.updateIn=mp;kt.mergeIn=_p;kt.mergeDeepIn=gp;kt.withMutations=io;kt.wasAltered=vp;kt.asImmutable=so;kt["@@transducer/init"]=kt.asMutable=ao;kt["@@transducer/step"]=function(e,t){return e.push(t)};kt["@@transducer/result"]=function(e){return e.asImmutable()};var Ri=function(t,n){this.array=t,this.ownerID=n};Ri.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var a=r>>>n&fn;if(a>=this.array.length)return new Ri([],t);var o=a===0,u;if(n>0){var l=this.array[a];if(u=l&&l.removeBefore(t,n-ft,r),u===l&&o)return this}if(o&&!u)return this;var f=Za(this,t);if(!o)for(var d=0;d<a;d++)f.array[d]=void 0;return u&&(f.array[a]=u),f};Ri.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var a=r-1>>>n&fn;if(a>=this.array.length)return this;var o;if(n>0){var u=this.array[a];if(o=u&&u.removeAfter(t,n-ft,r),o===u&&a===this.array.length-1)return this}var l=Za(this,t);return l.array.splice(a+1),o&&(l.array[a]=o),l};var co={};function _y(e,t){var n=e._origin,r=e._capacity,a=fo(r),o=e._tail;return u(e._root,e._level,0);function u(d,h,_){return h===0?l(d,_):f(d,h,_)}function l(d,h){var _=h===a?o&&o.array:d&&d.array,v=h>n?0:n-h,b=r-h;return b>Bn&&(b=Bn),function(){if(v===b)return co;var w=t?--b:v++;return _&&_[w]}}function f(d,h,_){var v,b=d&&d.array,w=_>n?0:n-_>>h,E=(r-_>>h)+1;return E>Bn&&(E=Bn),function(){for(;;){if(v){var T=v();if(T!==co)return T;v=null}if(w===E)return co;var k=t?--E:w++;v=u(b&&b[k],h-ft,_+(k<<h))}}}}function lo(e,t,n,r,a,o,u){var l=Object.create(kt);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=a,l.__ownerID=o,l.__hash=u,l.__altered=!1,l}var gy;function Ac(){return gy||(gy=lo(0,0,ft))}function vP(e,t,n){if(t=bi(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(u){t<0?Oi(u,t).set(0,n):Oi(u,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,a=e._root,o=Hd();return t>=fo(e._capacity)?r=wp(r,e.__ownerID,0,t,n,o):a=wp(a,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):lo(e._origin,e._capacity,e._level,a,r):e}function wp(e,t,n,r,a,o){var u=r>>>n&fn,l=e&&u<e.array.length;if(!l&&a===void 0)return e;var f;if(n>0){var d=e&&e.array[u],h=wp(d,t,n-ft,r,a,o);return h===d?e:(f=Za(e,t),f.array[u]=h,f)}return l&&e.array[u]===a?e:(o&&qn(o),f=Za(e,t),a===void 0&&u===f.array.length-1?f.array.pop():f.array[u]=a,f)}function Za(e,t){return t&&e&&t===e.ownerID?e:new Ri(e?e.array.slice():[],t)}function vy(e,t){if(t>=fo(e._capacity))return e._tail;if(t<1<<e._level+ft){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&fn],r-=ft;return n}}function Oi(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new Gd,a=e._origin,o=e._capacity,u=a+t,l=n===void 0?o:n<0?o+n:a+n;if(u===a&&l===o)return e;if(u>=l)return e.clear();for(var f=e._level,d=e._root,h=0;u+h<0;)d=new Ri(d&&d.array.length?[void 0,d]:[],r),f+=ft,h+=1<<f;h&&(u+=h,a+=h,l+=h,o+=h);for(var _=fo(o),v=fo(l);v>=1<<f+ft;)d=new Ri(d&&d.array.length?[d]:[],r),f+=ft;var b=e._tail,w=v<_?vy(e,l-1):v>_?new Ri([],r):b;if(b&&v>_&&u<o&&b.array.length){d=Za(d,r);for(var E=d,T=f;T>ft;T-=ft){var k=_>>>T&fn;E=E.array[k]=Za(E.array[k],r)}E.array[_>>>ft&fn]=b}if(l<o&&(w=w&&w.removeAfter(r,0,l)),u>=v)u-=v,l-=v,f=ft,d=null,w=w&&w.removeBefore(r,0,u);else if(u>a||v<_){for(h=0;d;){var M=u>>>f&fn;if(M!==v>>>f&fn)break;M&&(h+=(1<<f)*M),f-=ft,d=d.array[M]}d&&u>a&&(d=d.removeBefore(r,f,u-h)),d&&v<_&&(d=d.removeAfter(r,f,v-h)),h&&(u-=h,l-=h)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=f,e._root=d,e._tail=w,e.__hash=void 0,e.__altered=!0,e):lo(u,l,f,d,w)}function fo(e){return e<Bn?0:e-1>>>ft<<ft}var pr=function(e){function t(n){return n==null?po():hc(n)?n:po().withMutations(function(r){var a=Kn(n);Zn(a.size),a.forEach(function(o,u){return r.set(u,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,a){var o=this._map.get(r);return o!==void 0?this._list.get(o)[1]:a},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):po()},t.prototype.set=function(r,a){return Ey(this,r,a)},t.prototype.remove=function(r){return Ey(this,r,je)},t.prototype.__iterate=function(r,a){var o=this;return this._list.__iterate(function(u){return u&&r(u[1],u[0],o)},a)},t.prototype.__iterator=function(r,a){return this._list.fromEntrySeq().__iterator(r,a)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r),o=this._list.__ensureOwner(r);return r?Tp(a,o,r,this.__hash):this.size===0?po():(this.__ownerID=r,this.__altered=!1,this._map=a,this._list=o,this)},t}(Ai);pr.isOrderedMap=hc;pr.prototype[Wa]=!0;pr.prototype[qs]=pr.prototype.remove;function Tp(e,t,n,r){var a=Object.create(pr.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var yy;function po(){return yy||(yy=Tp(dr(),Ac()))}function Ey(e,t,n){var r=e._map,a=e._list,o=r.get(t),u=o!==void 0,l,f;if(n===je){if(!u)return e;a.size>=Bn&&a.size>=r.size*2?(f=a.filter(function(d,h){return d!==void 0&&o!==h}),l=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),e.__ownerID&&(l.__ownerID=f.__ownerID=e.__ownerID)):(l=r.remove(t),f=o===a.size-1?a.pop():a.set(o,void 0))}else if(u){if(n===a.get(o)[1])return e;l=r,f=a.set(o,[t,n])}else l=r.set(t,a.size),f=a.set(a.size,[t,n]);return e.__ownerID?(e.size=l.size,e._map=l,e._list=f,e.__hash=void 0,e.__altered=!0,e):Tp(l,f)}var by="@@__IMMUTABLE_STACK__@@";function ho(e){return Boolean(e&&e[by])}var mo=function(e){function t(n){return n==null?Rc():ho(n)?n:Rc().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,a){var o=this._head;for(r=bi(this,r);o&&r--;)o=o.next;return o?o.value:a},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,o=this._head,u=arguments.length-1;u>=0;u--)o={value:r[u],next:o};return this.__ownerID?(this.size=a,this._head=o,this.__hash=void 0,this.__altered=!0,this):_o(a,o)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&ho(r))return r;Zn(r.size);var a=this.size,o=this._head;return r.__iterate(function(u){a++,o={value:u,next:o}},!0),this.__ownerID?(this.size=a,this._head=o,this.__hash=void 0,this.__altered=!0,this):_o(a,o)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rc()},t.prototype.slice=function(r,a){if(Ks(r,a,this.size))return this;var o=Ga(r,this.size),u=Js(a,this.size);if(u!==this.size)return e.prototype.slice.call(this,r,a);for(var l=this.size-o,f=this._head;o--;)f=f.next;return this.__ownerID?(this.size=l,this._head=f,this.__hash=void 0,this.__altered=!0,this):_o(l,f)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?_o(this.size,this._head,r,this.__hash):this.size===0?Rc():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,a){var o=this;if(a)return new ra(this.toArray()).__iterate(function(f,d){return r(f,d,o)},a);for(var u=0,l=this._head;l&&r(l.value,u++,this)!==!1;)l=l.next;return u},t.prototype.__iterator=function(r,a){if(a)return new ra(this.toArray()).__iterator(r,a);var o=0,u=this._head;return new We(function(){if(u){var l=u.value;return u=u.next,pt(r,o++,l)}return dn()})},t}(ta);mo.isStack=ho;var hn=mo.prototype;hn[by]=!0;hn.shift=hn.pop;hn.unshift=hn.push;hn.unshiftAll=hn.pushAll;hn.withMutations=io;hn.wasAltered=vp;hn.asImmutable=so;hn["@@transducer/init"]=hn.asMutable=ao;hn["@@transducer/step"]=function(e,t){return e.unshift(t)};hn["@@transducer/result"]=function(e){return e.asImmutable()};function _o(e,t,n,r){var a=Object.create(hn);return a.size=e,a._head=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var Sy;function Rc(){return Sy||(Sy=_o(0))}var wy="@@__IMMUTABLE_SET__@@";function go(e){return Boolean(e&&e[wy])}function Oc(e){return go(e)&&Mn(e)}function Ap(e,t){if(e===t)return!0;if(!Zt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||st(e)!==st(t)||Yt(e)!==Yt(t)||Mn(e)!==Mn(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!ja(e);if(Mn(e)){var r=e.entries();return t.every(function(f,d){var h=r.next().value;return h&&Ft(h[1],f)&&(n||Ft(h[0],d))})&&r.next().done}var a=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{a=!0;var o=e;e=t,t=o}var u=!0,l=t.__iterate(function(f,d){if(n?!e.has(f):a?!Ft(f,e.get(d,je)):!Ft(e.get(d,je),f))return u=!1,!1});return u&&e.size===l}function aa(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function xc(e){if(!e||typeof e!="object")return e;if(!Zt(e)){if(!wi(e))return e;e=Qt(e)}if(st(e)){var t={};return e.__iterate(function(r,a){t[a]=xc(r)}),t}var n=[];return e.__iterate(function(r){n.push(xc(r))}),n}var Qa=function(e){function t(n){return n==null?vo():go(n)&&!Mn(n)?n:vo().withMutations(function(r){var a=e(n);Zn(a.size),a.forEach(function(o){return r.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kn(r).keySeq())},t.intersect=function(r){return r=dt(r).toArray(),r.length?Bt.intersect.apply(t(r.pop()),r):vo()},t.union=function(r){return r=dt(r).toArray(),r.length?Bt.union.apply(t(r.pop()),r):vo()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return Dc(this,this._map.set(r,r))},t.prototype.remove=function(r){return Dc(this,this._map.remove(r))},t.prototype.clear=function(){return Dc(this,this._map.clear())},t.prototype.map=function(r,a){var o=this,u=!1,l=Dc(this,this._map.mapEntries(function(f){var d=f[1],h=r.call(a,d,d,o);return h!==d&&(u=!0),[h,h]},a));return u?l:this},t.prototype.union=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return r=r.filter(function(o){return o.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(o){for(var u=0;u<r.length;u++)e(r[u]).forEach(function(l){return o.add(l)})})},t.prototype.intersect=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(u){return e(u)});var o=[];return this.forEach(function(u){r.every(function(l){return l.includes(u)})||o.push(u)}),this.withMutations(function(u){o.forEach(function(l){u.remove(l)})})},t.prototype.subtract=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(u){return e(u)});var o=[];return this.forEach(function(u){r.some(function(l){return l.includes(u)})&&o.push(u)}),this.withMutations(function(u){o.forEach(function(l){u.remove(l)})})},t.prototype.sort=function(r){return sa(qa(this,r))},t.prototype.sortBy=function(r,a){return sa(qa(this,a,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,a){var o=this;return this._map.__iterate(function(u){return r(u,u,o)},a)},t.prototype.__iterator=function(r,a){return this._map.__iterator(r,a)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r);return r?this.__make(a,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=a,this)},t}(za);Qa.isSet=go;var Bt=Qa.prototype;Bt[wy]=!0;Bt[qs]=Bt.remove;Bt.merge=Bt.concat=Bt.union;Bt.withMutations=io;Bt.asImmutable=so;Bt["@@transducer/init"]=Bt.asMutable=ao;Bt["@@transducer/step"]=function(e,t){return e.add(t)};Bt["@@transducer/result"]=function(e){return e.asImmutable()};Bt.__empty=vo;Bt.__make=Ty;function Dc(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Ty(e,t){var n=Object.create(Bt);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var Ay;function vo(){return Ay||(Ay=Ty(dr()))}var Rp=function(e){function t(n,r,a){if(!(this instanceof t))return new t(n,r,a);if(sp(a!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),a=a===void 0?1:Math.abs(a),r<n&&(a=-a),this._start=n,this._end=r,this._step=a,this.size=Math.max(0,Math.ceil((r-n)/a-1)+1),this.size===0){if(Op)return Op;Op=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,a){return this.has(r)?this._start+bi(this,r)*this._step:a},t.prototype.includes=function(r){var a=(r-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},t.prototype.slice=function(r,a){return Ks(r,a,this.size)?this:(r=Ga(r,this.size),a=Js(a,this.size),a<=r?new t(0,0):new t(this.get(r,this._end),this.get(a,this._end),this._step))},t.prototype.indexOf=function(r){var a=r-this._start;if(a%this._step==0){var o=a/this._step;if(o>=0&&o<this.size)return o}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,a){for(var o=this.size,u=this._step,l=a?this._start+(o-1)*u:this._start,f=0;f!==o&&r(l,a?o-++f:f++,this)!==!1;)l+=a?-u:u;return f},t.prototype.__iterator=function(r,a){var o=this.size,u=this._step,l=a?this._start+(o-1)*u:this._start,f=0;return new We(function(){if(f===o)return dn();var d=l;return l+=a?-u:u,pt(r,a?o-++f:f++,d)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:Ap(this,r)},t}(Xn),Op;function Ic(e,t,n){for(var r=Zv(t),a=0;a!==r.length;)if(e=bc(e,r[a++],je),e===je)return n;return e}function Ry(e,t){return Ic(this,e,t)}function xp(e,t){return Ic(e,t,je)!==je}function yP(e){return xp(this,e)}function Oy(){Zn(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}dt.isIterable=Zt;dt.isKeyed=st;dt.isIndexed=Yt;dt.isAssociative=ja;dt.isOrdered=Mn;dt.Iterator=We;aa(dt,{toArray:function(){Zn(this.size);var t=new Array(this.size||0),n=st(this),r=0;return this.__iterate(function(a,o){t[r++]=n?[o,a]:a}),t},toIndexedSeq:function(){return new Vv(this)},toJS:function(){return xc(this)},toKeyedSeq:function(){return new gc(this,!0)},toMap:function(){return Ai(this.toKeyedSeq())},toObject:Oy,toOrderedMap:function(){return pr(this.toKeyedSeq())},toOrderedSet:function(){return sa(st(this)?this.valueSeq():this)},toSet:function(){return Qa(st(this)?this.valueSeq():this)},toSetSeq:function(){return new Hv(this)},toSeq:function(){return Yt(this)?this.toIndexedSeq():st(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mo(st(this)?this.valueSeq():this)},toList:function(){return Xa(st(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return ot(this,rP(this,t))},includes:function(t){return this.some(function(n){return Ft(n,t)})},entries:function(){return this.__iterator(Jn)},every:function(t,n){Zn(this.size);var r=!0;return this.__iterate(function(a,o,u){if(!t.call(n,a,o,u))return r=!1,!1}),r},filter:function(t,n){return ot(this,Wv(this,t,n,!0))},find:function(t,n,r){var a=this.findEntry(t,n);return a?a[1]:r},forEach:function(t,n){return Zn(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){Zn(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(a){r?r=!1:n+=t,n+=a!=null?a.toString():""}),n},keys:function(){return this.__iterator(Zs)},map:function(t,n){return ot(this,zv(this,t,n))},reduce:function(t,n,r){return xy(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return xy(this,t,n,r,arguments.length<2,!0)},reverse:function(){return ot(this,rp(this,!0))},slice:function(t,n){return ot(this,ip(this,t,n,!0))},some:function(t,n){return!this.every(Cc(t),n)},sort:function(t){return ot(this,qa(this,t))},values:function(){return this.__iterator(fr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return Ha(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return eP(this,t,n)},equals:function(t){return Ap(this,t)},entrySeq:function(){var t=this;if(t._cache)return new ra(t._cache);var n=t.toSeq().map(bP).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(Cc(t),n)},findEntry:function(t,n,r){var a=r;return this.__iterate(function(o,u,l){if(t.call(n,o,u,l))return a=[u,o],!1}),a},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(Sv,null,t)},flatMap:function(t,n){return ot(this,iP(this,t,n))},flatten:function(t){return ot(this,Bv(this,t,!0))},fromEntrySeq:function(){return new Gv(this)},get:function(t,n){return this.find(function(r,a){return Ft(a,t)},void 0,n)},getIn:Ry,groupBy:function(t,n){return tP(this,t,n)},has:function(t){return this.get(t,je)!==je},hasIn:yP,isSubset:function(t){return t=typeof t.includes=="function"?t:dt(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:dt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return Ft(n,t)})},keySeq:function(){return this.toSeq().map(EP).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return vc(this,t)},maxBy:function(t,n){return vc(this,n,t)},min:function(t){return vc(this,t?Dy(t):Cy)},minBy:function(t,n){return vc(this,n?Dy(n):Cy,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return ot(this,Yv(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(Cc(t),n)},sortBy:function(t,n){return ot(this,qa(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return ot(this,nP(this,t,n))},takeUntil:function(t,n){return this.takeWhile(Cc(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=SP(this))}});var en=dt.prototype;en[Av]=!0;en[dc]=en.values;en.toJSON=en.toArray;en.__toStringMapper=to;en.inspect=en.toSource=function(){return this.toString()};en.chain=en.flatMap;en.contains=en.includes;aa(Kn,{flip:function(){return ot(this,jv(this))},mapEntries:function(t,n){var r=this,a=0;return ot(this,this.toSeq().map(function(o,u){return t.call(n,[u,o],a++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return ot(this,this.toSeq().flip().map(function(a,o){return t.call(n,a,o,r)}).flip())}});var yo=Kn.prototype;yo[Rv]=!0;yo[dc]=en.entries;yo.toJSON=Oy;yo.__toStringMapper=function(e,t){return to(t)+": "+to(e)};aa(ta,{toKeyedSeq:function(){return new gc(this,!1)},filter:function(t,n){return ot(this,Wv(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return ot(this,rp(this,!1))},slice:function(t,n){return ot(this,ip(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=Ga(t,t<0?this.count():this.size);var a=this.slice(0,t);return ot(this,r===1?a:a.concat(Ar(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ot(this,Bv(this,t,!1))},get:function(t,n){return t=bi(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,a){return a===t},void 0,n)},has:function(t){return t=bi(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return ot(this,aP(this,t))},interleave:function(){var t=[this].concat(Ar(arguments)),n=yc(this.toSeq(),Xn.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),ot(this,r)},keySeq:function(){return Rp(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return ot(this,Yv(this,t,n,!1))},zip:function(){var t=[this].concat(Ar(arguments));return ot(this,yc(this,Iy,t))},zipAll:function(){var t=[this].concat(Ar(arguments));return ot(this,yc(this,Iy,t,!0))},zipWith:function(t){var n=Ar(arguments);return n[0]=this,ot(this,yc(this,t,n))}});var es=ta.prototype;es[Ov]=!0;es[Wa]=!0;aa(za,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var ts=za.prototype;ts.has=en.includes;ts.contains=ts.includes;ts.keys=ts.values;aa(Si,yo);aa(Xn,es);aa(Ba,ts);function xy(e,t,n,r,a,o){return Zn(e.size),e.__iterate(function(u,l,f){a?(a=!1,n=u):n=t.call(r,n,u,l,f)},o),n}function EP(e,t){return t}function bP(e,t){return[t,e]}function Cc(e){return function(){return!e.apply(this,arguments)}}function Dy(e){return function(){return-e.apply(this,arguments)}}function Iy(){return Ar(arguments)}function Cy(e,t){return e<t?1:e>t?-1:0}function SP(e){if(e.size===1/0)return 0;var t=Mn(e),n=st(e),r=t?1:0,a=e.__iterate(n?t?function(o,u){r=31*r+ky(pn(o),pn(u))|0}:function(o,u){r=r+ky(pn(o),pn(u))|0}:t?function(o){r=31*r+pn(o)|0}:function(o){r=r+pn(o)|0});return wP(a,r)}function wP(e,t){return t=eo(t,3432918353),t=eo(t<<15|t>>>-15,461845907),t=eo(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=eo(t^t>>>16,2246822507),t=eo(t^t>>>13,3266489909),t=_c(t^t>>>16),t}function ky(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sa=function(e){function t(n){return n==null?Dp():Oc(n)?n:Dp().withMutations(function(r){var a=za(n);Zn(a.size),a.forEach(function(o){return r.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(Kn(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Qa);sa.isOrderedSet=Oc;var oa=sa.prototype;oa[Wa]=!0;oa.zip=es.zip;oa.zipWith=es.zipWith;oa.zipAll=es.zipAll;oa.__empty=Dp;oa.__make=Py;function Py(e,t){var n=Object.create(oa);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var My;function Dp(){return My||(My=Py(po()))}function TP(e){if(na(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Pn(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Pt=function(t,n){var r;TP(t);var a=function(l){var f=this;if(l instanceof a)return l;if(!(this instanceof a))return new a(l);if(!r){r=!0;var d=Object.keys(t),h=o._indices={};o._name=n,o._keys=d,o._defaultValues=t;for(var _=0;_<d.length;_++){var v=d[_];h[v]=_,o[v]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Cp(this)+' with property "'+v+'" since that property name is part of the Record API.'):AP(o,v)}}return this.__ownerID=void 0,this._values=Xa().withMutations(function(b){b.setSize(f._keys.length),Kn(l).forEach(function(w,E){b.set(f._indices[E],w===f._defaultValues[E]?void 0:w)})}),this},o=a.prototype=Object.create(ut);return o.constructor=a,n&&(a.displayName=n),a};Pt.prototype.toString=function(){for(var t=Cp(this)+" { ",n=this._keys,r,a=0,o=n.length;a!==o;a++)r=n[a],t+=(a?", ":"")+r+": "+to(this.get(r));return t+" }"};Pt.prototype.equals=function(t){return this===t||t&&ns(this).equals(ns(t))};Pt.prototype.hashCode=function(){return ns(this).hashCode()};Pt.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Pt.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],a=this._values.get(r);return a===void 0?this._defaultValues[t]:a};Pt.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return Ip(this,r)}return this};Pt.prototype.remove=function(t){return this.set(t)};Pt.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Ip(this,t)};Pt.prototype.wasAltered=function(){return this._values.wasAltered()};Pt.prototype.toSeq=function(){return ns(this)};Pt.prototype.toJS=function(){return xc(this)};Pt.prototype.entries=function(){return this.__iterator(Jn)};Pt.prototype.__iterator=function(t,n){return ns(this).__iterator(t,n)};Pt.prototype.__iterate=function(t,n){return ns(this).__iterate(t,n)};Pt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?Ip(this,n,t):(this.__ownerID=t,this._values=n,this)};Pt.isRecord=na;Pt.getDescriptiveName=Cp;var ut=Pt.prototype;ut[Dv]=!0;ut[qs]=ut.remove;ut.deleteIn=ut.removeIn=pp;ut.getIn=Ry;ut.hasIn=en.hasIn;ut.merge=ey;ut.mergeWith=ty;ut.mergeIn=_p;ut.mergeDeep=oy;ut.mergeDeepWith=uy;ut.mergeDeepIn=gp;ut.setIn=fp;ut.update=hp;ut.updateIn=mp;ut.withMutations=io;ut.asMutable=ao;ut.asImmutable=so;ut[dc]=ut.entries;ut.toJSON=ut.toObject=en.toObject;ut.inspect=ut.toSource=function(){return this.toString()};function Ip(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function Cp(e){return e.constructor.displayName||e.constructor.name||"Record"}function ns(e){return Kd(e._keys.map(function(t){return[t,e.get(t)]}))}function AP(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){sp(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch(n){}}var Uy=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);if(this._value=n,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(kp)return kp;kp=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,a){return this.has(r)?this._value:a},t.prototype.includes=function(r){return Ft(this._value,r)},t.prototype.slice=function(r,a){var o=this.size;return Ks(r,a,o)?this:new t(this._value,Js(a,o)-Ga(r,o))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return Ft(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return Ft(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,a){for(var o=this.size,u=0;u!==o&&r(this._value,a?o-++u:u++,this)!==!1;);return u},t.prototype.__iterator=function(r,a){var o=this,u=this.size,l=0;return new We(function(){return l===u?dn():pt(r,a?u-++l:l++,o._value)})},t.prototype.equals=function(r){return r instanceof t?Ft(this._value,r._value):Ap(r)},t}(Xn),kp;function Ly(e,t){return Ny([],t||RP,e,"",t&&t.length>2?[]:void 0,{"":e})}function Ny(e,t,n,r,a,o){if(typeof n!="string"&&!Pn(n)&&(Yd(n)||zd(n)||Ec(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),a&&r!==""&&a.push(r);var u=t.call(o,r,Qt(n).map(function(l,f){return Ny(e,t,l,f,a,n)}),a&&a.slice());return e.pop(),a&&a.pop(),u}return n}function RP(e,t){return Yt(t)?t.toList():st(t)?t.toMap():t.toSet()}var Fy="4.0.0",OP={version:Fy,Collection:dt,Iterable:dt,Seq:Qt,Map:Ai,OrderedMap:pr,List:Xa,Stack:mo,Set:Qa,OrderedSet:sa,Record:Pt,Range:Rp,Repeat:Uy,is:Ft,fromJS:Ly,hash:pn,isImmutable:Pn,isCollection:Zt,isKeyed:st,isIndexed:Yt,isAssociative:ja,isOrdered:Mn,isValueObject:mc,isPlainObject:Ec,isSeq:Xs,isList:Tc,isMap:Qs,isOrderedMap:hc,isStack:ho,isSet:go,isOrderedSet:Oc,isRecord:na,get:bc,getIn:Ic,has:op,hasIn:xp,merge:ry,mergeDeep:ay,mergeWith:iy,mergeDeepWith:sy,remove:up,removeIn:dp,set:cp,setIn:lp,update:wc,updateIn:Ti},xP=dt,$y=OP,DP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$y,Collection:dt,Iterable:xP,List:Xa,Map:Ai,OrderedMap:pr,OrderedSet:sa,Range:Rp,Record:Pt,Repeat:Uy,Seq:Qt,Set:Qa,Stack:mo,fromJS:Ly,get:bc,getIn:Ic,has:op,hasIn:xp,hash:pn,is:Ft,isAssociative:ja,isCollection:Zt,isImmutable:Pn,isIndexed:Yt,isKeyed:st,isList:Tc,isMap:Qs,isOrdered:Mn,isOrderedMap:hc,isOrderedSet:Oc,isPlainObject:Ec,isRecord:na,isSeq:Xs,isSet:go,isStack:ho,isValueObject:mc,merge:ry,mergeDeep:ay,mergeDeepWith:sy,mergeWith:iy,remove:up,removeIn:dp,set:cp,setIn:lp,update:wc,updateIn:Ti,version:Fy}),IP=t0(Fk);IP.compose;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pp=function(e,t){return Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Pp(e,t)};function CP(e,t){Pp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var kP=Symbol("postpone"),Et=Symbol("none");function be(e){var t=zy(e).toMethods(),n=be[Vy];return n&&t.attach(n),t.self}function tn(e){return PP(e)}function PP(e){var t=typeof e=="object"&&e!==null?e[Mp]:void 0;if(t)if(t.isMounted){var n=x.useState({}),r=n[1];return Fp(t.state,t.path,function(){return r({})},t).self}else{for(var a=x.useState({state:t.state}),o=a[0],u=a[1],l=Fp(o.state,Yr,function(){return u({state:o.state})},o.state).self,f=0;f<t.path.length;f+=1)l=l.nested(t.path[f]);return l}else{var d=x.useState(function(){return{state:zy(e)}}),h=d[0],_=d[1],v=Fp(h.state,Yr,function(){return _({state:h.state})},h.state);if(MP){var b=x.useRef(!1);b.current=!1,x.useEffect(function(){return b.current=!0,function(){b.current&&h.state.destroy()}})}else x.useEffect(function(){return function(){return h.state.destroy()}},[]);var w=tn[Vy];return w&&v.attach(w),v.self}}function Te(){return{id:Hy}}var Vy=Symbol("DevTools"),MP=typeof process=="object"&&typeof{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}=="object"&&!1,Mp=Symbol("self"),ct;(function(e){e[e.InitStateToValueFromState=101]="InitStateToValueFromState",e[e.SetStateToValueFromState=102]="SetStateToValueFromState",e[e.GetStateWhenPromised=103]="GetStateWhenPromised",e[e.SetStateWhenPromised=104]="SetStateWhenPromised",e[e.SetStateNestedToPromised=105]="SetStateNestedToPromised",e[e.SetStateWhenDestroyed=106]="SetStateWhenDestroyed",e[e.ToJson_Value=108]="ToJson_Value",e[e.ToJson_State=109]="ToJson_State",e[e.GetUnknownPlugin=120]="GetUnknownPlugin",e[e.SetProperty_State=201]="SetProperty_State",e[e.SetProperty_Value=202]="SetProperty_Value",e[e.SetPrototypeOf_State=203]="SetPrototypeOf_State",e[e.SetPrototypeOf_Value=204]="SetPrototypeOf_Value",e[e.PreventExtensions_State=205]="PreventExtensions_State",e[e.PreventExtensions_Value=206]="PreventExtensions_Value",e[e.DefineProperty_State=207]="DefineProperty_State",e[e.DefineProperty_Value=208]="DefineProperty_Value",e[e.DeleteProperty_State=209]="DeleteProperty_State",e[e.DeleteProperty_Value=210]="DeleteProperty_Value",e[e.Construct_State=211]="Construct_State",e[e.Construct_Value=212]="Construct_Value",e[e.Apply_State=213]="Apply_State",e[e.Apply_Value=214]="Apply_Value"})(ct||(ct={}));var Un=function(e){CP(t,e);function t(n,r,a){return e.call(this,"Error: HOOKSTATE-"+r+" [path: /"+n.join("/")+(a?", details: "+a:"")+"]. "+("See https://hookstate.js.org/docs/exceptions#hookstate-"+r))||this}return t}(Error);function UP(){try{var e=new Proxy({},{});return!1}catch(t){return!0}}var Up=UP(),Hy=Symbol("Downgraded"),kc=Symbol("ProxyMarker"),Yr=[],Eo=-1,LP=function(){function e(t){this._value=t,this._edition=0,this._subscribers=new Set,this._setSubscribers=new Set,this._destroySubscribers=new Set,this._batchStartSubscribers=new Set,this._batchFinishSubscribers=new Set,this._plugins=new Map,this._batches=0,typeof t=="object"&&Promise.resolve(t)===t?(this._promised=this.createPromised(t),this._value=Et):t===Et&&(this._promised=this.createPromised(void 0))}return e.prototype.createPromised=function(t){var n=this,r=new NP(t?Promise.resolve(t):void 0,function(a){n.promised===r&&n.edition!==Eo&&(n._promised=void 0,n.set(Yr,a,void 0),n.update([Yr]))},function(){n.promised===r&&n.edition!==Eo&&(n._edition+=1,n.update([Yr]))},function(){if(n._batchesPendingActions&&n._value!==Et&&n.edition!==Eo){var a=n._batchesPendingActions;n._batchesPendingActions=void 0,a.forEach(function(o){return o()})}});return r},Object.defineProperty(e.prototype,"edition",{get:function(){return this._edition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promised",{get:function(){return this._promised},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=this._value;return n===Et||t.forEach(function(r){n=n[r]}),n},e.prototype.set=function(t,n,r){if(this._edition<0)throw new Un(t,ct.SetStateWhenDestroyed);if(t.length===0){var a={path:t,state:n,value:n,previous:this._value,merged:r};if(n===Et)this._promised=this.createPromised(void 0),delete a.value,delete a.state;else if(typeof n=="object"&&Promise.resolve(n)===n)this._promised=this.createPromised(n),n=Et,delete a.value,delete a.state;else if(this._promised&&!this._promised.resolver&&!this._promised.fullfilled)throw new Un(t,ct.SetStateWhenPromised);var o=this._value;return o===Et&&delete a.previous,this._value=n,this.afterSet(a),o===Et&&this._value!==Et&&this.promised&&this.promised.resolver&&this.promised.resolver(this._value),t}if(typeof n=="object"&&Promise.resolve(n)===n)throw new Un(t,ct.SetStateNestedToPromised);for(var u=this._value,l=0;l<t.length-1;l+=1)u=u[t[l]];var f=t[t.length-1];if(f in u)if(n!==Et){var o=u[f];return u[f]=n,this.afterSet({path:t,state:this._value,value:n,previous:o,merged:r}),t}else{var o=u[f];return Array.isArray(u)&&typeof f=="number"?u.splice(f,1):delete u[f],this.afterSet({path:t,state:this._value,previous:o,merged:r}),t.slice(0,-1)}return n!==Et?(u[f]=n,this.afterSet({path:t,state:this._value,value:n,merged:r}),t.slice(0,-1)):t},e.prototype.update=function(t){if(this._batches){this._batchesPendingPaths=this._batchesPendingPaths||[],this._batchesPendingPaths=this._batchesPendingPaths.concat(t);return}var n=[];this._subscribers.forEach(function(r){return r.onSet(t,n)}),n.forEach(function(r){return r()})},e.prototype.afterSet=function(t){this._edition!==Eo&&(this._edition+=1,this._setSubscribers.forEach(function(n){return n(t)}))},e.prototype.startBatch=function(t,n){this._batches+=1;var r={path:t};n&&"context"in n&&(r.context=n.context),this._value!==Et&&(r.state=this._value),this._batchStartSubscribers.forEach(function(a){return a(r)})},e.prototype.finishBatch=function(t,n){var r={path:t};if(n&&"context"in n&&(r.context=n.context),this._value!==Et&&(r.state=this._value),this._batchFinishSubscribers.forEach(function(o){return o(r)}),this._batches-=1,this._batches===0&&this._batchesPendingPaths){var a=this._batchesPendingPaths;this._batchesPendingPaths=void 0,this.update(a)}},e.prototype.postponeBatch=function(t){this._batchesPendingActions=this._batchesPendingActions||[],this._batchesPendingActions.push(t)},e.prototype.getPlugin=function(t){return this._plugins.get(t)},e.prototype.register=function(t){var n=this._plugins.get(t.id);if(!n){var r=t.init?t.init(this.toMethods().self):{};this._plugins.set(t.id,r),r.onSet&&this._setSubscribers.add(function(a){return r.onSet(a)}),r.onDestroy&&this._destroySubscribers.add(function(a){return r.onDestroy(a)}),r.onBatchStart&&this._batchStartSubscribers.add(function(a){return r.onBatchStart(a)}),r.onBatchFinish&&this._batchFinishSubscribers.add(function(a){return r.onBatchFinish(a)})}},e.prototype.toMethods=function(){return new jy(this,Yr,this.get(Yr),this.edition,Gy)},e.prototype.subscribe=function(t){this._subscribers.add(t)},e.prototype.unsubscribe=function(t){this._subscribers.delete(t)},e.prototype.destroy=function(){var t=this;this._destroySubscribers.forEach(function(n){return n(t._value!==Et?{state:t._value}:{})}),this._edition=Eo},e.prototype.toJSON=function(){throw new Un(Yr,ct.ToJson_Value)},e}(),NP=function(){function e(t,n,r,a){var o=this;this.promise=t,t||(t=new Promise(function(u){o.resolver=u})),this.promise=t.then(function(u){o.fullfilled=!0,o.resolver||n(u)}).catch(function(u){o.fullfilled=!0,o.error=u,r()}).then(function(){return a()})}return e}(),xi=Symbol("ValueUnusedMarker");function Gy(){}var Lp=Symbol("UnmountedMarker");Gy[Lp]=!0;var jy=function(){function e(t,n,r,a,o){this.state=t,this.path=n,this.valueSource=r,this.valueEdition=a,this.onSetUsed=o,this.valueCache=xi}return e.prototype.getUntracked=function(t){if(this.valueEdition!==this.state.edition&&(this.valueSource=this.state.get(this.path),this.valueEdition=this.state.edition,this.isMounted?this.valueCache!==xi&&(this.valueCache=xi,this.get(!0)):(this.valueCache=xi,delete this.childrenCache,delete this.selfCache)),this.valueSource===Et&&!t)throw this.state.promised&&this.state.promised.error?this.state.promised.error:new Un(this.path,ct.GetStateWhenPromised);return this.valueSource},e.prototype.get=function(t){var n=this.getUntracked(t);return this.valueCache===xi&&(this.isDowngraded?this.valueCache=n:Array.isArray(n)?this.valueCache=this.valueArrayImpl(n):typeof n=="object"&&n!==null?this.valueCache=this.valueObjectImpl(n):this.valueCache=n),this.valueCache},Object.defineProperty(e.prototype,"value",{get:function(){return this.get()},enumerable:!1,configurable:!0}),e.prototype.setUntracked=function(t,n){if(typeof t=="function"&&(t=t(this.getUntracked())),typeof t=="object"&&t!==null&&t[kc])throw new Un(this.path,ct.SetStateToValueFromState);return[this.state.set(this.path,t,n)]},e.prototype.set=function(t){this.state.update(this.setUntracked(t))},e.prototype.mergeUntracked=function(t){var n=this.getUntracked();typeof t=="function"&&(t=t(n));var r,a=!1;if(Array.isArray(n)){if(Array.isArray(t))return this.setUntracked(n.concat(t),t);var o=[];Object.keys(t).sort().forEach(function(l){var f=Number(l),d=t[f];d===Et?(a=!0,o.push(f)):(a=a||!(f in n),n[f]=d)}),o.reverse().forEach(function(l){n.splice(l,1)}),r=this.setUntracked(n,t)}else if(typeof n=="object"&&n!==null)Object.keys(t).forEach(function(l){var f=t[l];f===Et?(a=!0,delete n[l]):(a=a||!(l in n),n[l]=f)}),r=this.setUntracked(n,t);else return typeof n=="string"?this.setUntracked(n+String(t),t):this.setUntracked(t);if(r.length!==1||r[0]!==this.path||a)return r;var u=r[0];return Object.keys(t).map(function(l){return u.slice().concat(l)})},e.prototype.merge=function(t){this.state.update(this.mergeUntracked(t))},e.prototype.nested=function(t){return this.child(t).self},e.prototype.rerender=function(t){this.state.update(t)},e.prototype.destroy=function(){this.state.destroy()},e.prototype.subscribe=function(t){this.subscribers===void 0&&(this.subscribers=new Set),this.subscribers.add(t)},e.prototype.unsubscribe=function(t){this.subscribers.delete(t)},Object.defineProperty(e.prototype,"isMounted",{get:function(){return!this.onSetUsed[Lp]},enumerable:!1,configurable:!0}),e.prototype.onUnmount=function(){this.onSetUsed[Lp]=!0},e.prototype.onSet=function(t,n){var r=this,a=function(){if(r.isDowngraded&&r.valueCache!==xi)return n.push(r.onSetUsed),!0;for(var u=0,l=t;u<l.length;u++){var f=l[u],d=f[r.path.length];if(d===void 0){if(r.valueCache!==xi)return n.push(r.onSetUsed),!0}else{var h=r.childrenCache&&r.childrenCache[d];if(h&&h.onSet(t,n))return!0}}return!1},o=a();return!o&&this.subscribers!==void 0&&this.subscribers.forEach(function(u){u.onSet(t,n)}),o},Object.defineProperty(e.prototype,"keys",{get:function(){var t=this.get();if(Array.isArray(t))return Object.keys(t).map(function(n){return Number(n)}).filter(function(n){return Number.isInteger(n)});if(typeof t=="object"&&t!==null)return Object.keys(t)},enumerable:!1,configurable:!0}),e.prototype.child=function(t){if(this.isMounted){this.childrenCache=this.childrenCache||{};var n=this.childrenCache[t];if(n)return n}var r=new e(this.state,this.path.slice().concat(t),this.valueSource[t],this.valueEdition,this.onSetUsed);return this.isDowngraded&&(r.isDowngraded=!0),this.childrenCache&&(this.childrenCache[t]=r),r},e.prototype.valueArrayImpl=function(t){var n=this;return Up?(this.isDowngraded=!0,t):Np(this.path,t,function(){return t},function(r,a){if(a==="length")return r.length;if(a in Array.prototype)return Array.prototype[a];if(a===kc)return n;if(typeof a=="symbol")return r[a];var o=Number(a);if(!!Number.isInteger(o))return n.child(o).get()},function(r,a,o){if(typeof a=="symbol")return r[a]=o,!0;throw new Un(n.path,ct.SetProperty_Value)},!0)},e.prototype.valueObjectImpl=function(t){var n=this;return Up?(this.isDowngraded=!0,t):Np(this.path,t,function(){return t},function(r,a){return a===kc?n:typeof a=="symbol"?r[a]:n.child(a).get()},function(r,a,o){if(typeof a=="symbol")return r[a]=o,!0;throw new Un(n.path,ct.SetProperty_Value)},!0)},Object.defineProperty(e.prototype,"self",{get:function(){var t=this;if(this.selfCache)return this.selfCache;var n=function(a,o){if(o===Mp)return t;if(typeof o!="symbol"){if(o==="toJSON")throw new Un(t.path,ct.ToJson_State);var u=function(l){var f=t.isDowngraded,d=t.get();if(t.isDowngraded=f,!((typeof d!="object"||d===null)&&d!==Et)){if(Array.isArray(d)){if(l==="length")return d.length;if(l in Array.prototype)return Array.prototype[l];var h=Number(l);return Number.isInteger(h)?t.nested(h):void 0}return t.nested(l.toString())}};switch(o){case"path":return t.path;case"keys":return t.keys;case"value":return t.value;case"ornull":return t.ornull;case"promised":return t.promised;case"error":return t.error;case"get":return function(){return t.get()};case"set":return function(l){return t.set(l)};case"merge":return function(l){return t.merge(l)};case"nested":return function(l){return u(l)};case"batch":return function(l,f){return t.batch(l,f)};case"attach":return function(l){return t.attach(l)};case"destroy":return function(){return t.destroy()};default:return u(o)}}};if(Up){var r=Array.isArray(this.valueSource)?[]:{};return[Mp,"toJSON","path","keys","value","ornull","promised","error","get","set","merge","nested","batch","attach","destroy"].forEach(function(a){Object.defineProperty(r,a,{get:function(){return n(r,a)}})}),typeof this.valueSource=="object"&&this.valueSource!==null&&Object.keys(this.valueSource).forEach(function(a){Object.defineProperty(r,a,{enumerable:!0,get:function(){return n(r,a)}})}),this.selfCache=r,this.selfCache}return this.selfCache=Np(this.path,this.valueSource,function(){return t.get(),t.valueSource},n,function(a,o,u){throw new Un(t.path,ct.SetProperty_State)},!1),this.selfCache},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promised",{get:function(){var t=this.get(!0);return!!(t===Et&&this.state.promised&&!this.state.promised.fullfilled)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){var t=this.get(!0);if(t===Et){if(this.state.promised&&this.state.promised.fullfilled)return this.state.promised.error;this.get()}},enumerable:!1,configurable:!0}),e.prototype.batch=function(t,n){var r=this,a={context:n};try{this.state.startBatch(this.path,a);var o=t(this.self);return o===kP&&this.state.postponeBatch(function(){return r.batch(t,n)}),o}finally{this.state.finishBatch(this.path,a)}},Object.defineProperty(e.prototype,"ornull",{get:function(){var t=this.get();return t==null?t:this.self},enumerable:!1,configurable:!0}),e.prototype.attach=function(t){if(typeof t=="function"){var n=t();if(n.id===Hy){if(this.isDowngraded=!0,this.valueCache!==xi){var r=this.getUntracked(!0);this.valueCache=r}return this.self}return this.state.register(n),this.self}else return[this.state.getPlugin(t)||new Un(this.path,ct.GetUnknownPlugin,t.toString()),this]},e}();function Np(e,t,n,r,a,o){var u=function(l){throw new Un(e,l)};return(typeof t!="object"||t===null)&&(t={}),new Proxy(t,{getPrototypeOf:function(l){var f=n();return f==null?null:Object.getPrototypeOf(f)},setPrototypeOf:function(l,f){return u(o?ct.SetPrototypeOf_State:ct.SetPrototypeOf_Value)},isExtensible:function(l){return!0},preventExtensions:function(l){return u(o?ct.PreventExtensions_State:ct.PreventExtensions_Value)},getOwnPropertyDescriptor:function(l,f){var d=n();if(d!=null){var h=Object.getOwnPropertyDescriptor(d,f);return h&&Array.isArray(d)&&f in Array.prototype?h:h&&{configurable:!0,enumerable:h.enumerable,get:function(){return r(d,f)},set:void 0}}},has:function(l,f){if(typeof f=="symbol")return!1;var d=n();return typeof d=="object"&&d!==null?f in d:!1},get:r,set:a,deleteProperty:function(l,f){return u(o?ct.DeleteProperty_State:ct.DeleteProperty_Value)},defineProperty:function(l,f,d){return u(o?ct.DefineProperty_State:ct.DefineProperty_Value)},ownKeys:function(l){var f=n();return Array.isArray(f)?Object.keys(f).concat("length"):f==null?[]:Object.keys(f)},apply:function(l,f,d){return u(o?ct.Apply_State:ct.Apply_Value)},construct:function(l,f,d){return u(o?ct.Construct_State:ct.Construct_Value)}})}function zy(e){var t=e;if(typeof e=="function"&&(t=e()),typeof t=="object"&&t!==null&&t[kc])throw new Un(Yr,ct.InitStateToValueFromState);return new LP(t)}var FP=typeof window!="undefined"?x.useLayoutEffect:x.useEffect;function Fp(e,t,n,r){var a=new jy(e,t,e.get(t),e.edition,n);return FP(function(){return r.subscribe(a),function(){a.onUnmount(),r.unsubscribe(a)}}),a}const hr={id:"",name:"",userRole:"",avatarId:"",identityProviders:[],locationAdmins:[]};function _6(e){let t=e;return e?.identity_providers&&(t={...t,identityProviders:e.identity_providers}),e?.location_admins&&e.location_admins.length>0&&(t={...t,locationAdmins:e.location_admins}),e?.location_bans&&e.location_bans.length>0&&(t={...t,locationBans:e.location_bans}),t}function g6(e){return{id:"",instanceId:e.user.id,name:e.user.displayName,userRole:"guest",avatarId:e.user.id,identityProviders:[],locationAdmins:[],avatarUrl:e.user.icon}}const Rr={id:0,token:"",type:"",isVerified:!1,userId:""},Or={accessToken:"",authentication:{strategy:""},identityProvider:Rr};function v6(e){return{accessToken:e.accessToken,authentication:e.authentication,identityProvider:e["identity-provider"]}}const Di=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,avatarList:[]}),$P=(e,t)=>(Promise.resolve().then(()=>VP(t)),Di.attach(Te).value),VP=e=>{Di.batch(t=>{switch(e.type){case"ACTION_PROCESSING":return t.merge({isProcessing:e.processing,error:""});case"LOGIN_USER_SUCCESS":return t.merge({isLoggedIn:!0,authUser:e.authUser});case"LOGIN_USER_ERROR":return t.merge({error:e.message});case"LOGIN_USER_BY_GITHUB_SUCCESS":return Di;case"LOGIN_USER_BY_GITHUB_ERROR":return t.merge({error:e.message});case"LOGIN_USER_BY_LINKEDIN_SUCCESS":return Di;case"LOGIN_USER_BY_LINKEDIN_ERROR":return t.merge({error:e.message});case"REGISTER_USER_BY_EMAIL_SUCCESS":return t.merge({identityProvider:e.identityProvider});case"REGISTER_USER_BY_EMAIL_ERROR":return Di;case"LOGOUT_USER":return t.merge({isLoggedIn:!1,user:hr,authUser:Or});case"DID_VERIFY_EMAIL":return t.identityProvider.merge({isVerified:e.result});case"LOADED_USER_DATA":return t.merge({user:e.user});case"RESTORE":{const n=$k();return n?t.merge({isLoggedIn:n.isLoggedIn,authUser:n.authUser,identityProvider:n.identityProvider}):Di}case"AVATAR_UPDATED":return t.user.merge({avatarUrl:e.url});case"USERNAME_UPDATED":return t.user.merge({name:e.name});case"USERAVATARID_UPDATED":return t.user.merge({avatarId:e.avatarId});case"USER_UPDATED":return t.merge({user:e.user});case"UPDATE_USER_SETTINGS":return t.user.merge({user_setting:e.data});case"AVATAR_FETCHED":{const n=e.avatarList,r={};for(let a of n){const o=r[a.name]||{};if(!o){console.warn("Avatar resource is empty, have you synced avatars to your static file storage?");return}o[a.staticResourceType]=a,r[a.name]=o}return t.merge({avatarList:Object.keys(r).map(a=>r[a])})}}},e.type)},HP=()=>Di,y6=()=>tn(Di),GP=$y.Map(),jP=yv(bv);function zP(e){return Pc.store=Vd(e,GP,jP),window.store=Pc.store,Pc.store.subscribe(()=>{Vk(HP().value)}),Pc.store}class Pc{static store}var Wy={},Yy={},By={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(typeof window!="undefined"){var l;typeof window.gtag=="undefined"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(l=window).gtag.apply(l,o)}},n=t;e.default=n})(By);var qy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(l){return l.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(f,d,h){return d>0&&d+f.length!==h.length&&f.search(t)>-1&&h.charAt(d-2)!==":"&&(h.charAt(d+f.length)!=="-"||h.charAt(d-1)==="-")&&h.charAt(d-1).search(/[^\s-]/)<0?f.toLowerCase():f.substr(1).search(/[A-Z]|\../)>-1?f:f.charAt(0).toUpperCase()+f.substr(1)})}function r(l){return typeof l=="string"&&l.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function o(l){return r(l)?(console.warn("This arg looks like an email address, redacting."),a):l}function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=l||"";return f&&(h=n(l)),d&&(h=o(h)),h}})(qy);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=l(By),n=l(qy),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"],u=["action","category","label","value","nonInteraction","transport"];function l(G){return G&&G.__esModule?G:{default:G}}function f(G,C){if(G==null)return{};var I=d(G,C),L,U;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(G);for(U=0;U<W.length;U++)L=W[U],!(C.indexOf(L)>=0)&&(!Object.prototype.propertyIsEnumerable.call(G,L)||(I[L]=G[L]))}return I}function d(G,C){if(G==null)return{};var I={},L=Object.keys(G),U,W;for(W=0;W<L.length;W++)U=L[W],!(C.indexOf(U)>=0)&&(I[U]=G[U]);return I}function h(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(I){return typeof I}:h=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},h(G)}function _(G){return w(G)||b(G)||B(G)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(G){if(typeof Symbol!="undefined"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function w(G){if(Array.isArray(G))return Z(G)}function E(G,C){var I=Object.keys(G);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(G);C&&(L=L.filter(function(U){return Object.getOwnPropertyDescriptor(G,U).enumerable})),I.push.apply(I,L)}return I}function T(G){for(var C=1;C<arguments.length;C++){var I=arguments[C]!=null?arguments[C]:{};C%2?E(Object(I),!0).forEach(function(L){ee(G,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(I)):E(Object(I)).forEach(function(L){Object.defineProperty(G,L,Object.getOwnPropertyDescriptor(I,L))})}return G}function k(G,C){return ne(G)||Y(G,C)||B(G,C)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(G,C){if(!!G){if(typeof G=="string")return Z(G,C);var I=Object.prototype.toString.call(G).slice(8,-1);if(I==="Object"&&G.constructor&&(I=G.constructor.name),I==="Map"||I==="Set")return Array.from(G);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return Z(G,C)}}function Z(G,C){(C==null||C>G.length)&&(C=G.length);for(var I=0,L=new Array(C);I<C;I++)L[I]=G[I];return L}function Y(G,C){var I=G==null?null:typeof Symbol!="undefined"&&G[Symbol.iterator]||G["@@iterator"];if(I!=null){var L=[],U=!0,W=!1,ie,q;try{for(I=I.call(G);!(U=(ie=I.next()).done)&&(L.push(ie.value),!(C&&L.length===C));U=!0);}catch(re){W=!0,q=re}finally{try{!U&&I.return!=null&&I.return()}finally{if(W)throw q}}return L}}function ne(G){if(Array.isArray(G))return G}function V(G,C){if(!(G instanceof C))throw new TypeError("Cannot call a class as a function")}function z(G,C){for(var I=0;I<C.length;I++){var L=C[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(G,L.key,L)}}function ae(G,C,I){return C&&z(G.prototype,C),I&&z(G,I),G}function ee(G,C,I){return C in G?Object.defineProperty(G,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):G[C]=I,G}var _e=function(){function G(){var C=this;V(this,G),ee(this,"reset",function(){C.isInitialized=!1,C._testMode=!1,C._currentMeasurementId,C._hasLoadedGA=!1,C._isQueuing=!1,C._queueGtag=[]}),ee(this,"_gtag",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];C._testMode||C._isQueuing?C._queueGtag.push(L):t.default.apply(void 0,L)}),ee(this,"_loadGA",function(I){if(!(typeof window=="undefined"||typeof document=="undefined")&&!C._hasLoadedGA){var L=document.createElement("script");L.async=!0,L.src="https://www.googletagmanager.com/gtag/js?id=".concat(I),document.body.appendChild(L),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},C._hasLoadedGA=!0}}),ee(this,"_toGtagOptions",function(I){if(!!I){var L={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},U=Object.entries(I).reduce(function(W,ie){var q=k(ie,2),re=q[0],N=q[1];return L[re]?W[L[re]]=N:W[re]=N,W},{});return U}}),ee(this,"initialize",function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!I)throw new Error("Require GA_MEASUREMENT_ID");var U=typeof I=="string"?[{trackingId:I}]:I;C._currentMeasurementId=U[0].trackingId;var W=L.testMode,ie=W===void 0?!1:W,q=L.gaOptions,re=L.gtagOptions;if(C._testMode=ie,ie||C._loadGA(C._currentMeasurementId),C.isInitialized||(C._gtag("js",new Date),U.forEach(function(X){var Q=C._appendCustomMap(T(T(T({send_page_view:!1},C._toGtagOptions(T(T({},q),X.gaOptions))),re),X.gaOptions));C._gtag("config",X.trackingId,Q)})),C.isInitialized=!0,!ie){var N=_(C._queueGtag);for(C._queueGtag=[],C._isQueuing=!1;N.length;){var $=N.shift();C._gtag.apply(C,_($)),$[0]==="get"&&(C._isQueuing=!0)}}}),ee(this,"set",function(I){if(!I){console.warn("`fieldsObject` is required in .set()");return}if(h(I)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(I).length===0&&console.warn("empty `fieldsObject` given to .set()"),C._gaCommand("set",I)}),ee(this,"_gaCommandSendEvent",function(I,L,U,W,ie){C._gtag("event",L,T(T({event_category:I,event_label:U,value:W},ie&&{non_interaction:ie.nonInteraction}),C._toGtagOptions(ie)))}),ee(this,"_gaCommandSendEventParameters",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];if(typeof L[0]=="string")C._gaCommandSendEvent.apply(C,_(L.slice(1)));else{var W=L[0],ie=W.eventCategory,q=W.eventAction,re=W.eventLabel,N=W.eventValue;W.hitType;var $=f(W,r);C._gaCommandSendEvent(ie,q,re,N,$)}}),ee(this,"_gaCommandSendTiming",function(I,L,U,W){C._gtag("event","timing_complete",{name:L,value:U,event_category:I,event_label:W})}),ee(this,"_gaCommandSendPageview",function(I,L){if(L&&Object.keys(L).length){var U=C._toGtagOptions(L),W=U.title,ie=U.location,q=f(U,a);C._gtag("event","page_view",T(T(T(T({},I&&{page_path:I}),W&&{page_title:W}),ie&&{page_location:ie}),q))}else I?C._gtag("event","page_view",{page_path:I}):C._gtag("event","page_view")}),ee(this,"_gaCommandSendPageviewParameters",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];if(typeof L[0]=="string")C._gaCommandSendPageview.apply(C,_(L.slice(1)));else{var W=L[0],ie=W.page;W.hitType;var q=f(W,o);C._gaCommandSendPageview(ie,q)}}),ee(this,"_gaCommandSend",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];var W=typeof L[0]=="string"?L[0]:L[0].hitType;switch(W){case"event":C._gaCommandSendEventParameters.apply(C,L);break;case"pageview":C._gaCommandSendPageviewParameters.apply(C,L);break;case"timing":C._gaCommandSendTiming.apply(C,_(L.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(W));break;default:console.warn("Send command doesn't exist: ".concat(W))}}),ee(this,"_gaCommandSet",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];typeof L[0]=="string"&&(L[0]=ee({},L[0],L[1])),C._gtag("set",C._toGtagOptions(L[0]))}),ee(this,"_gaCommand",function(I){for(var L=arguments.length,U=new Array(L>1?L-1:0),W=1;W<L;W++)U[W-1]=arguments[W];switch(I){case"send":C._gaCommandSend.apply(C,U);break;case"set":C._gaCommandSet.apply(C,U);break;default:console.warn("Command doesn't exist: ".concat(I))}}),ee(this,"ga",function(){for(var I=arguments.length,L=new Array(I),U=0;U<I;U++)L[U]=arguments[U];if(typeof L[0]=="string")C._gaCommand.apply(C,L);else{var W=L[0];C._gtag("get",C._currentMeasurementId,"client_id",function(ie){C._isQueuing=!1;var q=C._queueGtag;for(W({get:function($){return $==="clientId"?ie:$==="trackingId"?C._currentMeasurementId:$==="apiVersion"?"1":void 0}});q.length;){var re=q.shift();C._gtag.apply(C,_(re))}}),C._isQueuing=!0}return C.ga}),ee(this,"event",function(I,L){if(typeof I=="string")C._gtag("event",I,C._toGtagOptions(L));else{var U=I.action,W=I.category,ie=I.label,q=I.value,re=I.nonInteraction,N=I.transport,$=f(I,u);if(!W||!U){console.warn("args.category AND args.action are required in event()");return}var X={hitType:"event",eventCategory:(0,n.default)(W),eventAction:(0,n.default)(U)};ie&&(X.eventLabel=(0,n.default)(ie)),typeof q!="undefined"&&(typeof q!="number"?console.warn("Expected `args.value` arg to be a Number."):X.eventValue=q),typeof re!="undefined"&&(typeof re!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):X.nonInteraction=re),typeof N!="undefined"&&(typeof N!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(N)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),X.transport=N)),Object.keys($).filter(function(Q){return Q.substr(0,"dimension".length)==="dimension"}).forEach(function(Q){X[Q]=$[Q]}),Object.keys($).filter(function(Q){return Q.substr(0,"metric".length)==="metric"}).forEach(function(Q){X[Q]=$[Q]}),C._gaCommand("send",X)}}),ee(this,"send",function(I){C._gaCommand("send",I)}),ee(this,"pageview",function(I,L,U){var W=I==null?void 0:I.trim();if(W===""){console.warn("path cannot be an empty string in .pageview()");return}C._gaCommand("send","pageview",W,{title:U})}),this.reset()}return ae(G,[{key:"_appendCustomMap",value:function(I){I.custom_map||(I.custom_map={});for(var L=1;L<=200;L++)I.custom_map["dimension".concat(L)]||(I.custom_map["dimension".concat(L)]="dimension".concat(L)),I.custom_map["metric".concat(L)]||(I.custom_map["metric".concat(L)]="metric".concat(L));return I}},{key:"outboundLink",value:function(I,L){var U=I.label;if(typeof L!="function"){console.warn("hitCallback function is required");return}if(!U){console.warn("args.label is required in outboundLink()");return}var W={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:(0,n.default)(U)},ie=!1,q=function(){ie=!0,L()},re=setTimeout(q,250),N=function(){clearTimeout(re),ie||L()};W.hitCallback=N,this._gaCommand("send",W)}}]),G}();e.GA4=_e;var ve=new _e;e.default=ve})(Yy);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(Yy);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default;e.default=r})(Wy);var Ky=KD(Wy);const WP=()=>{ka.publicRuntimeConfig.gaMeasurementId&&ka.publicRuntimeConfig.gaMeasurementId.length>0&&Ky.initialize(ka.publicRuntimeConfig.gaMeasurementId)},YP=()=>{Ky.send({hitType:"pageview",page:window.location.pathname})},BP=pv`
  /*! minireset.css v0.0.4 | MIT License | github.com/jgthms/minireset.css */
  html,
  body,
  p,
  ol,
  ul,
  li,
  dl,
  dt,
  dd,
  blockquote,
  figure,
  fieldset,
  legend,
  textarea,
  pre,
  iframe,
  hr,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
    padding: 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: 100%;
    font-weight: normal;
  }

  ul {
    list-style: none;
  }

  button,
  input,
  select,
  textarea {
    margin: 0;
  }

  html {
    box-sizing: border-box;
  }

  *, *:before, *:after {
    box-sizing: inherit;
  }

  img,
  embed,
  iframe,
  object,
  video {
    height: auto;
    max-width: 100%;
  }

  audio {
    max-width: 100%;
  }

  iframe {
    border: 0;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  td,
  th {
    padding: 0;
    text-align: left;
  }

  /* scrollbar-width is not inherited so apply to all elements. */
  * {
    scrollbar-width: thin;
  }

  ::selection {
    color: ${e=>e.theme.text};
    background-color: ${e=>e.theme.selected};
  }

  a {
    color: ${e=>e.theme.text};

    &:hover {
      color: ${e=>e.theme.blueHover};
    }

    &:active {
      color: ${e=>e.theme.bluePressed};
    }
  }

  html, body {
    width: 100%;
    height: 100%;
  }

  #app {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  main {
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  body {
    font-family: ${e=>e.theme.lato};
    font-size: 12px;
    color: ${e=>e.theme.text};
    background-color: ${e=>e.theme.background};
    scrollbar-color: #282c31 #5d646c;
  }

  .Modal {
    position: absolute;
    display: flex;
    flex: 1;
    outline: none;
    max-height: 100%;
    box-shadow: ${e=>e.theme.shadow30};
    margin-bottom: 10vh;
  }

  .Overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .ReactModal__Overlay--after-open {
    z-index: 100;
  }

  .sentry-error-embed {
    .form-field {
      margin-top: 20px;
    }

    .form-field:not(:last-child) {
      display: none;
    }
  }
`;function $p(e){return e&&n0(e)==="object"&&e.constructor===Object}function rs(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?pe({},e):e;return $p(e)&&$p(t)&&Object.keys(t).forEach(function(a){a!=="__proto__"&&($p(t[a])&&a in e?r[a]=rs(e[a],t[a],n):r[a]=t[a])}),r}function Vp(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function Hp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qP(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,a){return a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function KP(e){e=ua(e);var t=e,n=t.values,r=n[0],a=n[1]/100,o=n[2]/100,u=a*Math.min(o,1-o),l=function(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(_+r/30)%12;return o-u*Math.max(Math.min(v-3,9-v,1),-1)},f="rgb",d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(f+="a",d.push(n[3])),Mc({type:f,values:d})}function ua(e){if(e.type)return e;if(e.charAt(0)==="#")return ua(qP(e));var t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(Vp(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map(function(a){return parseFloat(a)}),{type:n,values:r}}function Mc(e){var t=e.type,n=e.values;return t.indexOf("rgb")!==-1?n=n.map(function(r,a){return a<3?parseInt(r,10):r}):t.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function JP(e,t){var n=Gp(e),r=Gp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Gp(e){e=ua(e);var t=e.type==="hsl"?ua(KP(e)).values:e.values;return t=t.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function E6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return Gp(e)>.5?Jy(e,t):Xy(e,t)}function b6(e,t){return e=ua(e),t=Hp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=t,Mc(e)}function Jy(e,t){if(e=ua(e),t=Hp(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Mc(e)}function Xy(e,t){if(e=ua(e),t=Hp(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Mc(e)}var Ii=["xs","sm","md","lg","xl"];function XP(e){var t=e.values,n=t===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=r===void 0?"px":r,o=e.step,u=o===void 0?5:o,l=$s(e,["values","unit","step"]);function f(b){var w=typeof n[b]=="number"?n[b]:b;return"@media (min-width:".concat(w).concat(a,")")}function d(b){var w=Ii.indexOf(b)+1,E=n[Ii[w]];if(w===Ii.length)return f("xs");var T=typeof E=="number"&&w>0?E:b;return"@media (max-width:".concat(T-u/100).concat(a,")")}function h(b,w){var E=Ii.indexOf(w);return E===Ii.length-1?f(b):"@media (min-width:".concat(typeof n[b]=="number"?n[b]:b).concat(a,") and ")+"(max-width:".concat((E!==-1&&typeof n[Ii[E+1]]=="number"?n[Ii[E+1]]:w)-u/100).concat(a,")")}function _(b){return h(b,b)}function v(b){return n[b]}return pe({keys:Ii,values:n,up:f,down:d,between:h,only:_,width:v},l)}function ZP(e,t,n){var r;return pe({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),pe({paddingLeft:t(2),paddingRight:t(2)},o,$u({},e.up("sm"),pe({paddingLeft:t(3),paddingRight:t(3)},o[e.up("sm")])))},toolbar:(r={minHeight:56},$u(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),$u(r,e.up("sm"),{minHeight:64}),r)},n)}var QP={black:"#000",white:"#fff"},Uc=QP,eM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},jp=eM,tM={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},zp=tM,nM={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Wp=nM,rM={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Lc=rM,iM={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Yp=iM,aM={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bp=aM,sM={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},qp=sM,Zy={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Uc.white,default:jp[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kp={text:{primary:Uc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:jp[800],default:"#303030"},action:{active:Uc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qy(e,t,n,r){var a=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Xy(e.main,a):t==="dark"&&(e.dark=Jy(e.main,o)))}function oM(e){var t=e.primary,n=t===void 0?{light:zp[300],main:zp[500],dark:zp[700]}:t,r=e.secondary,a=r===void 0?{light:Wp.A200,main:Wp.A400,dark:Wp.A700}:r,o=e.error,u=o===void 0?{light:Lc[300],main:Lc[500],dark:Lc[700]}:o,l=e.warning,f=l===void 0?{light:Yp[300],main:Yp[500],dark:Yp[700]}:l,d=e.info,h=d===void 0?{light:Bp[300],main:Bp[500],dark:Bp[700]}:d,_=e.success,v=_===void 0?{light:qp[300],main:qp[500],dark:qp[700]}:_,b=e.type,w=b===void 0?"light":b,E=e.contrastThreshold,T=E===void 0?3:E,k=e.tonalOffset,M=k===void 0?.2:k,B=$s(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Z(z){var ae=JP(z,Kp.text.primary)>=T?Kp.text.primary:Zy.text.primary;return ae}var Y=function(ae){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ae=pe({},ae),!ae.main&&ae[ee]&&(ae.main=ae[ee]),!ae.main)throw new Error(Vp(4,ee));if(typeof ae.main!="string")throw new Error(Vp(5,JSON.stringify(ae.main)));return Qy(ae,"light",_e,M),Qy(ae,"dark",ve,M),ae.contrastText||(ae.contrastText=Z(ae.main)),ae},ne={dark:Kp,light:Zy},V=rs(pe({common:Uc,type:w,primary:Y(n),secondary:Y(a,"A400","A200","A700"),error:Y(u),warning:Y(f),info:Y(h),success:Y(v),grey:jp,contrastThreshold:T,getContrastText:Z,augmentColor:Y,tonalOffset:M},ne[w]),B);return V}function eE(e){return Math.round(e*1e5)/1e5}function uM(e){return eE(e)}var tE={textTransform:"uppercase"},nE='"Roboto", "Helvetica", "Arial", sans-serif';function cM(e,t){var n=typeof t=="function"?t(e):t,r=n.fontFamily,a=r===void 0?nE:r,o=n.fontSize,u=o===void 0?14:o,l=n.fontWeightLight,f=l===void 0?300:l,d=n.fontWeightRegular,h=d===void 0?400:d,_=n.fontWeightMedium,v=_===void 0?500:_,b=n.fontWeightBold,w=b===void 0?700:b,E=n.htmlFontSize,T=E===void 0?16:E,k=n.allVariants,M=n.pxToRem,B=$s(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),Z=u/14,Y=M||function(z){return"".concat(z/T*Z,"rem")},ne=function(ae,ee,_e,ve,G){return pe({fontFamily:a,fontWeight:ae,fontSize:Y(ee),lineHeight:_e},a===nE?{letterSpacing:"".concat(eE(ve/ee),"em")}:{},G,k)},V={h1:ne(f,96,1.167,-1.5),h2:ne(f,60,1.2,-.5),h3:ne(h,48,1.167,0),h4:ne(h,34,1.235,.25),h5:ne(h,24,1.334,0),h6:ne(v,20,1.6,.15),subtitle1:ne(h,16,1.75,.15),subtitle2:ne(v,14,1.57,.1),body1:ne(h,16,1.5,.15),body2:ne(h,14,1.43,.15),button:ne(v,14,1.75,.4,tE),caption:ne(h,12,1.66,.4),overline:ne(h,12,2.66,1,tE)};return rs(pe({htmlFontSize:T,pxToRem:Y,round:uM,fontFamily:a,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:w},V),B,{clone:!1})}var lM=.2,fM=.14,dM=.12;function bt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(lM,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(fM,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(dM,")")].join(",")}var pM=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],hM=pM,mM={borderRadius:4},_M=mM;function gM(e){if(Array.isArray(e))return JD(e)}function vM(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EM(e){return gM(e)||vM(e)||XD(e)||yM()}function rE(e,t){return t?rs(e,t,{clone:!1}):e}var bM={xs:0,sm:600,md:960,lg:1280,xl:1920},Jp={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(bM[t],"px)")}};function SM(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Jp;return t.reduce(function(u,l,f){return u[r.up(r.keys[f])]=n(t[f]),u},{})}if(n0(t)==="object"){var a=e.theme.breakpoints||Jp;return Object.keys(t).reduce(function(u,l){return u[a.up(l)]=n(t[l]),u},{})}var o=n(t);return o}function S6(e){var t=function(r){var a=e(r),o=r.theme.breakpoints||Jp,u=o.keys.reduce(function(l,f){return r[f]&&(l=l||{},l[o.up(f)]=e(pe({theme:r.theme},r[f]))),l},null);return rE(a,u)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat(EM(e.filterProps)),t}function wM(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var TM={m:"margin",p:"padding"},AM={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},RM=wM(function(e){if(e.length>2)if(iE[e])e=iE[e];else return[e];var t=e.split(""),n=ZD(t,2),r=n[0],a=n[1],o=TM[r],u=AM[a]||"";return Array.isArray(u)?u.map(function(l){return o+l}):[o+u]}),aE=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function sE(e){var t=e.spacing||8;return typeof t=="number"?function(n){return t*n}:Array.isArray(t)?function(n){return t[n]}:typeof t=="function"?t:function(){}}function OM(e,t){if(typeof t=="string"||t==null)return t;var n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:"-".concat(r)}function xM(e,t){return function(n){return e.reduce(function(r,a){return r[a]=OM(t,n),r},{})}}function oE(e){var t=e.theme,n=sE(t);return Object.keys(e).map(function(r){if(aE.indexOf(r)===-1)return null;var a=RM(r),o=xM(a,n),u=e[r];return SM(e,u,o)}).reduce(rE,{})}oE.propTypes={};oE.filterProps=aE;function DM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var t=sE({spacing:e}),n=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return o.length===0?t(1):o.length===1?t(o[0]):o.map(function(l){if(typeof l=="string")return l;var f=t(l);return typeof f=="number"?"".concat(f,"px"):f}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var uE={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cE={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lE(e){return"".concat(Math.round(e),"ms")}var IM={easing:uE,duration:cE,create:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,a=r===void 0?cE.standard:r,o=n.easing,u=o===void 0?uE.easeInOut:o,l=n.delay,f=l===void 0?0:l;return $s(n,["duration","easing","delay"]),(Array.isArray(t)?t:[t]).map(function(d){return"".concat(d," ").concat(typeof a=="string"?a:lE(a)," ").concat(u," ").concat(typeof f=="string"?f:lE(f))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var n=t/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}},CM={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kM=CM;function PM(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.breakpoints,n=t===void 0?{}:t,r=e.mixins,a=r===void 0?{}:r,o=e.palette,u=o===void 0?{}:o,l=e.spacing,f=e.typography,d=f===void 0?{}:f,h=$s(e,["breakpoints","mixins","palette","spacing","typography"]),_=oM(u),v=XP(n),b=DM(l),w=rs({breakpoints:v,direction:"ltr",mixins:ZP(v,b,a),overrides:{},palette:_,props:{},shadows:hM,typography:cM(_,d),spacing:b,shape:_M,transitions:IM,zIndex:kM},h),E=arguments.length,T=new Array(E>1?E-1:0),k=1;k<E;k++)T[k-1]=arguments[k];return w=T.reduce(function(M,B){return rs(M,B)},w),w}function fE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ci(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=fE(t))&&(r&&(r+=" "),r+=n);return r}var w6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ci});const MM=PM({palette:{primary:{main:"#5151FF"},secondary:{main:"#FFFFFF"},error:{main:Lc.A400},background:{default:"#000000"},text:{primary:"#FFFFFF"}},typography:{fontFamily:["SFProText-Regular","Roboto","Helvetica","Arial","sans-serif"].join(","),fontSize:14,button:{color:"#FFFFFF"}},overrides:{MuiTypography:{body1:{fontFamily:["SFProText-Regular","Roboto","Helvetica","Arial","sans-serif"].join(",")},h1:{fontSize:28,fontWeight:"bold",margin:"15px 0px",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h2:{fontSize:16,margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h3:{fontSize:14,margin:"5px 0px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h4:{fontSize:14,margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center","&.MuiTypography-colorSecondary":{color:"#8A8A8E"}},h5:{fontSize:18,fontWeight:"bold",margin:"5px 0px",cursor:"pointer",display:"flex",alignItems:"center",color:"#000000","&.MuiTypography-colorSecondary":{color:"#FFFFFF"}},h6:{fontSize:14,fontFamily:"SFProText-Regular"},alignRight:{textAlign:"right",justifyContent:"flex-end",alignItems:"right"},alignLeft:{textAlign:"left",justifyContent:"flex-start",alignItems:"left"},alignCenter:{textAlign:"center",justifyContent:"center",alignItems:"center"}},MuiContainer:{root:{flex:"none"}},MuiDialog:{paperWidthSm:{maxWidth:"40%",width:"40%",margin:"0 auto",fontSize:16,textAlign:"center",backgroundColor:"#FFFFFF","@media (max-width: 768px)":{maxWidth:"90%",width:"90%"}}},MuiDialogTitle:{root:{display:"flex",flexDirection:"row-reverse",alignItems:"center"}},MuiDialogContent:{root:{textAlign:"justify",padding:" 0 24px 24px 24px"}},MuiButtonBase:{root:{backgroundColor:"rgba(0, 0, 0, ,0.9)",color:"#000000",fontSize:16,textAlign:"center",margin:"0 10px"}},MuiIconButton:{root:{color:"#000000","&:hover":{backgroundColor:"transparent"}},colorPrimary:{backgroundColor:"#5151FF",color:"#FFFFFF","&:hover":{backgroundColor:"#5151FF"}},colorSecondary:{backgroundColor:"transparent",color:"#8E8E93"}},MuiSlider:{root:{color:"#484848"},thumb:{height:"24px",width:"24px",marginTop:"-10px",boxSizing:"border-box"},thumbColorPrimary:{background:"rgba(0, 0, 0, 0.8)",border:"2px solid #A8A8FF"}},MuiLinearProgress:{root:{height:"34px",backgroundColor:"#FFFFFF",borderRadius:"8px","@media (max-width: 768px)":{height:"16px",borderRadius:"10px"}},bar:{borderRadius:"inherit"}},MuiMenuItem:{root:{padding:"5px",borderRadius:"8px"}},MuiSnackbar:{root:{maxWidth:"80%",minWidth:"40%",width:"auto",left:"30%",right:"30%",userSelect:"none",borderRadius:"8px",fontSize:16,backgroundColor:"rgba(0,0,0,0.9)",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2)",padding:"20px",boxSizing:"border-box","@media (max-width: 768px)":{maxWidth:"90%",width:"90%",left:"5%",right:"5%"},MuiSvgIcon:{root:{height:"7em",width:"auto",color:"#000000"}}},anchorOriginTopCenter:{top:"10%"},anchorOriginBottomCenter:{bottom:"60px",left:"50%",transform:"translate(-50%, 20px)"},anchorOriginTopLeft:{left:"0px",top:"24px",width:"52%",maxWidth:"80%","@media (max-width: 768px)":{width:"90%"},"@media (min-width: 600px)":{left:"0px"}}},MuiSnackbarContent:{root:{color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, 0.9)",minWidth:"0px","@media (min-width: 600px)":{minWidth:"0px"}}},MuiDrawer:{paper:{padding:"20px",backgroundColor:"rgba(0,0,0,0.85)"},paperAnchorRight:{width:"25%","@media (max-width: 1280px)":{width:"33%"},"@media (max-width: 1024px)":{width:"40%"},"@media (orientation: portrait)":{width:"100vw"}}},MuiCard:{root:{overflow:"visible"}},MuiCardMedia:{media:{"&:hover":{backgroundColor:"#A8A8FF"}}},MuiList:{root:{background:"rgba(206,206,206,0.1)",color:"#FFFFFF"}},MuiListItem:{root:{padding:"0px",paddingTop:"0px",margin:"2px 0"}},MuiListItemText:{root:{background:"rgba(0, 0, 0, .5)",borderRadius:"5px",padding:"5px 10px",width:"fit-content",flex:"inherit",wordBreak:"break-all"}},MuiCardContent:{root:{margin:"5px 0",padding:"5px 20px","&:last-child":{paddingBottom:"0px"}}},MuiCardHeader:{root:{padding:"0 15px 5px 15px"},avatar:{borderRadius:"50%",overflow:"hidden",height:"40px",width:"40px"}},MuiPaper:{root:{backgroundColor:"transparent",color:"#000000"}},MuiInputBase:{input:{color:"#000000"}},MuiFormLabel:{root:{color:"#000000"}},MuiButton:{root:{width:"220px",margin:"10px auto",cursor:"pointer",fontSize:16,borderRadius:"10px",textTransform:"none"},outlined:{background:"transparent"},outlinedPrimary:{"&:hover":{boxShadow:"0 0 10px #5151FF"}},outlinedSecondary:{"&:hover":{boxShadow:"0 0 10px #FFFFFF"}},containedSecondary:{backgroundColor:"#FFFFFF","&:hover":{backgroundColor:"#FFFFFF"}},containedPrimary:{backgroundColor:"#000000"},text:{background:"transparent",color:"#000000"}},MuiSvgIcon:{colorPrimary:{color:"#A8A8FF"}},MuiFab:{root:{height:"3em",width:"fit-content",padding:"10px",margin:"0px 5px",display:"flex",alignItems:"center",textTransform:"capitalize",backgroundColor:"#F4F4F5",color:"#8E8E93"},primary:{backgroundColor:"rgba(0,0,0,0.8)",borderRadius:"8px"}},MuiFormGroup:{root:{display:"flex",flexWrap:"wrap",flexDirection:"row"}},MuiOutlinedInput:{root:{color:"#000000",margin:"10px 0"},adornedEnd:{paddingRight:"0px"}},MuiBadge:{anchorOriginTopLeftRectangle:{left:"6px"},dot:{height:"12px",width:"12px",borderRadius:"50%"},colorPrimary:{backgroundColor:"#7AFF64"}}}});var dE={disabled:!1},pE=x.createContext(null),bo="unmounted",ca="exited",la="entering",is="entered",Xp="exiting",Br=function(e){ur(t,e);function t(r,a){var o;o=e.call(this,r,a)||this;var u=a,l=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?l?(f=ca,o.appearStatus=la):f=is:r.unmountOnExit||r.mountOnEnter?f=bo:f=ca,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(a,o){var u=a.in;return u&&o.status===bo?{status:ca}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var o=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==la&&u!==is&&(o=la):(u===la||u===is)&&(o=Xp)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,o,u,l;return o=u=l=a,a!=null&&typeof a!="number"&&(o=a.exit,u=a.enter,l=a.appear!==void 0?a.appear:u),{exit:o,enter:u,appear:l}},n.updateStatus=function(a,o){a===void 0&&(a=!1),o!==null?(this.cancelNextCallback(),o===la?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===ca&&this.setState({status:bo})},n.performEnter=function(a){var o=this,u=this.props.enter,l=this.context?this.context.isMounting:a,f=this.props.nodeRef?[l]:[Qf.findDOMNode(this),l],d=f[0],h=f[1],_=this.getTimeouts(),v=l?_.appear:_.enter;if(!a&&!u||dE.disabled){this.safeSetState({status:is},function(){o.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:la},function(){o.props.onEntering(d,h),o.onTransitionEnd(v,function(){o.safeSetState({status:is},function(){o.props.onEntered(d,h)})})})},n.performExit=function(){var a=this,o=this.props.exit,u=this.getTimeouts(),l=this.props.nodeRef?void 0:Qf.findDOMNode(this);if(!o||dE.disabled){this.safeSetState({status:ca},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Xp},function(){a.props.onExiting(l),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:ca},function(){a.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},n.setNextCallback=function(a){var o=this,u=!0;return this.nextCallback=function(l){u&&(u=!1,o.nextCallback=null,a(l))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:Qf.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!u||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=f[0],h=f[1];this.props.addEndListener(d,h)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===bo)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Nt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(pE.Provider,{value:null},typeof u=="function"?u(a,l):x.cloneElement(x.Children.only(u),l))},t}(x.Component);Br.contextType=pE;Br.propTypes={};function as(){}Br.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:as,onEntering:as,onEntered:as,onExit:as,onExiting:as,onExited:as};Br.UNMOUNTED=bo;Br.EXITED=ca;Br.ENTERING=la;Br.ENTERED=is;Br.EXITING=Xp;var hE=Br;function Nc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function qr(e,t,n={clone:!0}){const r=n.clone?pe({},e):e;return Nc(e)&&Nc(t)&&Object.keys(t).forEach(a=>{a!=="__proto__"&&(Nc(t[a])&&a in e&&Nc(e[a])?r[a]=qr(e[a],t[a],n):r[a]=t[a])}),r}function So(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ki(e){if(typeof e!="string")throw new Error(So(7));return e.charAt(0).toUpperCase()+e.slice(1)}function UM(e,t=166){let n;function r(...a){const o=()=>{e.apply(this,a)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Fc(e){return e&&e.ownerDocument||document}function mE(e){return Fc(e).defaultView||window}function _E(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const LM=typeof window!="undefined"?se.exports.useLayoutEffect:se.exports.useEffect;var NM=LM;function FM(e){const t=se.exports.useRef(e);return NM(()=>{t.current=e}),se.exports.useCallback((...n)=>(0,t.current)(...n),[])}function $c(e,t){return se.exports.useMemo(()=>e==null&&t==null?null:n=>{_E(e,n),_E(t,n)},[e,t])}var $M=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VM=Td(function(e){return $M.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function HM(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function GM(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var jM=function(){function e(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?o=r.prepend?r.container.firstChild:r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(GM(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=HM(a);try{o.insertRule(r,o.cssRules.length)}catch(u){}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),nn="-ms-",Vc="-moz-",Ke="-webkit-",gE="comm",Zp="rule",Qp="decl",zM="@import",WM="@keyframes",YM=Math.abs,Hc=String.fromCharCode;function BM(e,t){return(((t<<2^Sn(e,0))<<2^Sn(e,1))<<2^Sn(e,2))<<2^Sn(e,3)}function vE(e){return e.trim()}function qM(e,t){return(e=t.exec(e))?e[0]:e}function Qe(e,t,n){return e.replace(t,n)}function yE(e,t){return e.indexOf(t)}function Sn(e,t){return e.charCodeAt(t)|0}function wo(e,t,n){return e.slice(t,n)}function xr(e){return e.length}function eh(e){return e.length}function Gc(e,t){return t.push(e),e}function KM(e,t){return e.map(t).join("")}var jc=1,ss=1,EE=0,Ln=0,Mt=0,os="";function zc(e,t,n,r,a,o,u){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:jc,column:ss,length:u,return:""}}function To(e,t,n){return zc(e,t.root,t.parent,n,t.props,t.children,0)}function JM(){return Mt}function XM(){return Mt=Ln>0?Sn(os,--Ln):0,ss--,Mt===10&&(ss=1,jc--),Mt}function Qn(){return Mt=Ln<EE?Sn(os,Ln++):0,ss++,Mt===10&&(ss=1,jc++),Mt}function Kr(){return Sn(os,Ln)}function Wc(){return Ln}function Yc(e,t){return wo(os,e,t)}function Bc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bE(e){return jc=ss=1,EE=xr(os=e),Ln=0,[]}function SE(e){return os="",e}function th(e){return vE(Yc(Ln-1,nh(e===91?e+2:e===40?e+1:e)))}function ZM(e){for(;(Mt=Kr())&&Mt<33;)Qn();return Bc(e)>2||Bc(Mt)>3?"":" "}function QM(e,t){for(;--t&&Qn()&&!(Mt<48||Mt>102||Mt>57&&Mt<65||Mt>70&&Mt<97););return Yc(e,Wc()+(t<6&&Kr()==32&&Qn()==32))}function nh(e){for(;Qn();)switch(Mt){case e:return Ln;case 34:case 39:return nh(e===34||e===39?e:Mt);case 40:e===41&&nh(e);break;case 92:Qn();break}return Ln}function eU(e,t){for(;Qn()&&e+Mt!==47+10;)if(e+Mt===42+42&&Kr()===47)break;return"/*"+Yc(t,Ln-1)+"*"+Hc(e===47?e:Qn())}function wE(e){for(;!Bc(Kr());)Qn();return Yc(e,Ln)}function tU(e){return SE(qc("",null,null,null,[""],e=bE(e),0,[0],e))}function qc(e,t,n,r,a,o,u,l,f){for(var d=0,h=0,_=u,v=0,b=0,w=0,E=1,T=1,k=1,M=0,B="",Z=a,Y=o,ne=r,V=B;T;)switch(w=M,M=Qn()){case 34:case 39:case 91:case 40:V+=th(M);break;case 9:case 10:case 13:case 32:V+=ZM(w);break;case 92:V+=QM(Wc()-1,7);continue;case 47:switch(Kr()){case 42:case 47:Gc(nU(eU(Qn(),Wc()),t,n),f);break;default:V+="/"}break;case 123*E:l[d++]=xr(V)*k;case 125*E:case 59:case 0:switch(M){case 0:case 125:T=0;case 59+h:b>0&&xr(V)-_&&Gc(b>32?AE(V+";",r,n,_-1):AE(Qe(V," ","")+";",r,n,_-2),f);break;case 59:V+=";";default:if(Gc(ne=TE(V,t,n,d,h,a,l,B,Z=[],Y=[],_),o),M===123)if(h===0)qc(V,t,ne,ne,Z,o,_,l,Y);else switch(v){case 100:case 109:case 115:qc(e,ne,ne,r&&Gc(TE(e,ne,ne,0,0,a,l,B,a,Z=[],_),Y),a,Y,_,l,r?Z:Y);break;default:qc(V,ne,ne,ne,[""],Y,_,l,Y)}}d=h=b=0,E=k=1,B=V="",_=u;break;case 58:_=1+xr(V),b=w;default:if(E<1){if(M==123)--E;else if(M==125&&E++==0&&XM()==125)continue}switch(V+=Hc(M),M*E){case 38:k=h>0?1:(V+="\f",-1);break;case 44:l[d++]=(xr(V)-1)*k,k=1;break;case 64:Kr()===45&&(V+=th(Qn())),v=Kr(),h=xr(B=V+=wE(Wc())),M++;break;case 45:w===45&&xr(V)==2&&(E=0)}}return o}function TE(e,t,n,r,a,o,u,l,f,d,h){for(var _=a-1,v=a===0?o:[""],b=eh(v),w=0,E=0,T=0;w<r;++w)for(var k=0,M=wo(e,_+1,_=YM(E=u[w])),B=e;k<b;++k)(B=vE(E>0?v[k]+" "+M:Qe(M,/&\f/g,v[k])))&&(f[T++]=B);return zc(e,t,n,a===0?Zp:l,f,d,h)}function nU(e,t,n){return zc(e,t,n,gE,Hc(JM()),wo(e,2,-2),0)}function AE(e,t,n,r){return zc(e,t,n,Qp,wo(e,0,r),wo(e,r+1,-1),r)}function RE(e,t){switch(BM(e,t)){case 5103:return Ke+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+e+Vc+e+nn+e+e;case 6828:case 4268:return Ke+e+nn+e+e;case 6165:return Ke+e+nn+"flex-"+e+e;case 5187:return Ke+e+Qe(e,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+nn+"flex-$1$2")+e;case 5443:return Ke+e+nn+"flex-item-"+Qe(e,/flex-|-self/,"")+e;case 4675:return Ke+e+nn+"flex-line-pack"+Qe(e,/align-content|flex-|-self/,"")+e;case 5548:return Ke+e+nn+Qe(e,"shrink","negative")+e;case 5292:return Ke+e+nn+Qe(e,"basis","preferred-size")+e;case 6060:return Ke+"box-"+Qe(e,"-grow","")+Ke+e+nn+Qe(e,"grow","positive")+e;case 4554:return Ke+Qe(e,/([^-])(transform)/g,"$1"+Ke+"$2")+e;case 6187:return Qe(Qe(Qe(e,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),e,"")+e;case 5495:case 3959:return Qe(e,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Qe(Qe(e,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+e+e;case 4095:case 3583:case 4068:case 2532:return Qe(e,/(.+)-inline(.+)/,Ke+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xr(e)-1-t>6)switch(Sn(e,t+1)){case 109:if(Sn(e,t+4)!==45)break;case 102:return Qe(e,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+Vc+(Sn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yE(e,"stretch")?RE(Qe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Sn(e,t+1)!==115)break;case 6444:switch(Sn(e,xr(e)-3-(~yE(e,"!important")&&10))){case 107:return Qe(e,":",":"+Ke)+e;case 101:return Qe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Sn(e,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+nn+"$2box$3")+e}break;case 5936:switch(Sn(e,t+11)){case 114:return Ke+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ke+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ke+e+nn+Qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ke+e+nn+e+e}return e}function Ao(e,t){for(var n="",r=eh(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function rU(e,t,n,r){switch(e.type){case zM:case Qp:return e.return=e.return||e.value;case gE:return"";case Zp:e.value=e.props.join(",")}return xr(n=Ao(e.children,r))?e.return=e.value+"{"+n+"}":""}function iU(e){var t=eh(e);return function(n,r,a,o){for(var u="",l=0;l<t;l++)u+=e[l](n,r,a,o)||"";return u}}function aU(e){return function(t){t.root||(t=t.return)&&e(t)}}function sU(e,t,n,r){if(!e.return)switch(e.type){case Qp:e.return=RE(e.value,e.length);break;case WM:return Ao([To(Qe(e.value,"@","@"+Ke),e,"")],r);case Zp:if(e.length)return KM(e.props,function(a){switch(qM(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ao([To(Qe(a,/:(read-\w+)/,":"+Vc+"$1"),e,"")],r);case"::placeholder":return Ao([To(Qe(a,/:(plac\w+)/,":"+Ke+"input-$1"),e,""),To(Qe(a,/:(plac\w+)/,":"+Vc+"$1"),e,""),To(Qe(a,/:(plac\w+)/,nn+"input-$1"),e,"")],r)}return""})}}var oU=function(t,n){var r=-1,a=44;do switch(Bc(a)){case 0:a===38&&Kr()===12&&(n[r]=1),t[r]+=wE(Ln-1);break;case 2:t[r]+=th(a);break;case 4:if(a===44){t[++r]=Kr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Hc(a)}while(a=Qn());return t},uU=function(t,n){return SE(oU(bE(t),n))},OE=new WeakMap,cU=function(t){if(!(t.type!=="rule"||!t.parent||!t.length)){for(var n=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!OE.get(r))&&!a){OE.set(t,!0);for(var o=[],u=uU(n,o),l=r.props,f=0,d=0;f<u.length;f++)for(var h=0;h<l.length;h++,d++)t.props[d]=o[f]?u[f].replace(/&\f/g,l[h]):l[h]+" "+u[f]}}},lU=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}},fU=[sU],dU=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var T=E.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var a=t.stylisPlugins||fU,o={},u,l=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var T=E.getAttribute("data-emotion").split(" "),k=1;k<T.length;k++)o[T[k]]=!0;l.push(E)});var f,d=[cU,lU];{var h,_=[rU,aU(function(E){h.insert(E)})],v=iU(d.concat(a,_)),b=function(T){return Ao(tU(T),v)};f=function(T,k,M,B){h=M,b(T?T+"{"+k.styles+"}":k.styles),B&&(w.inserted[k.name]=!0)}}var w={key:n,sheet:new jM({key:n,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:o,registered:{},insert:f};return w.sheet.hydrate(l),w},pU=!0;function xE(e,t,n){var r="";return n.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):r+=a+" "}),r}var DE=function(t,n,r){var a=t.key+"-"+n.name;if((r===!1||pU===!1)&&t.registered[a]===void 0&&(t.registered[a]=n.styles),t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+a:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function hU(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var mU=/[A-Z]|^ms/g,_U=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IE=function(t){return t.charCodeAt(1)===45},CE=function(t){return t!=null&&typeof t!="boolean"},rh=Td(function(e){return IE(e)?e:e.replace(mU,"-$&").toLowerCase()}),kE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_U,function(r,a,o){return Dr={name:a,styles:o,next:Dr},a})}return q0[t]!==1&&!IE(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ro(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Dr={name:n.name,styles:n.styles,next:Dr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Dr={name:r.name,styles:r.styles,next:Dr},r=r.next;var a=n.styles+";";return a}return gU(e,t,n)}case"function":{if(e!==void 0){var o=Dr,u=n(e);return Dr=o,Ro(e,t,u)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function gU(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Ro(e,t,n[a])+";";else for(var o in n){var u=n[o];if(typeof u!="object")t!=null&&t[u]!==void 0?r+=o+"{"+t[u]+"}":CE(u)&&(r+=rh(o)+":"+kE(o,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var l=0;l<u.length;l++)CE(u[l])&&(r+=rh(o)+":"+kE(o,u[l])+";");else{var f=Ro(e,t,u);switch(o){case"animation":case"animationName":{r+=rh(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var PE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Dr,ME=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,o="";Dr=void 0;var u=t[0];u==null||u.raw===void 0?(a=!1,o+=Ro(r,n,u)):o+=u[0];for(var l=1;l<t.length;l++)o+=Ro(r,n,t[l]),a&&(o+=u[l]);PE.lastIndex=0;for(var f="",d;(d=PE.exec(o))!==null;)f+="-"+d[1];var h=hU(o)+f;return{name:h,styles:o,next:Dr}},UE=Object.prototype.hasOwnProperty,LE=se.exports.createContext(typeof HTMLElement!="undefined"?dU({key:"css"}):null);LE.Provider;var NE=function(t){return se.exports.forwardRef(function(n,r){var a=se.exports.useContext(LE);return t(n,a,r)})},FE=se.exports.createContext({}),ih="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",T6=function(t,n){var r={};for(var a in n)UE.call(n,a)&&(r[a]=n[a]);return r[ih]=t,r},A6=NE(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=e[ih],o=[r],u="";typeof e.className=="string"?u=xE(t.registered,o,e.className):e.className!=null&&(u=e.className+" ");var l=ME(o,void 0,se.exports.useContext(FE));DE(t,l,typeof a=="string"),u+=t.key+"-"+l.name;var f={};for(var d in e)UE.call(e,d)&&d!=="css"&&d!==ih&&(f[d]=e[d]);f.ref=n,f.className=u;var h=se.exports.createElement(a,f);return h}),vU=VM,yU=function(t){return t!=="theme"},$E=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?vU:yU},VE=function(t,n,r){var a;if(n){var o=n.shouldForwardProp;a=t.__emotion_forwardProp&&o?function(u){return t.__emotion_forwardProp(u)&&o(u)}:o}return typeof a!="function"&&r&&(a=t.__emotion_forwardProp),a},EU=function e(t,n){var r=t.__emotion_real===t,a=r&&t.__emotion_base||t,o,u;n!==void 0&&(o=n.label,u=n.target);var l=VE(t,n,r),f=l||$E(a),d=!f("as");return function(){var h=arguments,_=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)_.push.apply(_,h);else{_.push(h[0][0]);for(var v=h.length,b=1;b<v;b++)_.push(h[b],h[0][b])}var w=NE(function(E,T,k){var M=d&&E.as||a,B="",Z=[],Y=E;if(E.theme==null){Y={};for(var ne in E)Y[ne]=E[ne];Y.theme=se.exports.useContext(FE)}typeof E.className=="string"?B=xE(T.registered,Z,E.className):E.className!=null&&(B=E.className+" ");var V=ME(_.concat(Z),T.registered,Y);DE(T,V,typeof M=="string"),B+=T.key+"-"+V.name,u!==void 0&&(B+=" "+u);var z=d&&l===void 0?$E(M):f,ae={};for(var ee in E)d&&ee==="as"||z(ee)&&(ae[ee]=E[ee]);ae.className=B,ae.ref=k;var _e=se.exports.createElement(M,ae);return _e});return w.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=a,w.__emotion_styles=_,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+u}}),w.withComponent=function(E,T){return e(E,pe({},n,T,{shouldForwardProp:VE(w,T,!0)})).apply(void 0,_)},w}},bU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ah=EU.bind();bU.forEach(function(e){ah[e]=ah(e)});var SU=ah,Jr={exports:{}},Oo={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU=se.exports,HE=60103;Oo.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var GE=Symbol.for;HE=GE("react.element"),Oo.Fragment=GE("react.fragment")}var TU=wU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AU=Object.prototype.hasOwnProperty,RU={key:!0,ref:!0,__self:!0,__source:!0};function jE(e,t,n){var r,a={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)AU.call(t,r)&&!RU.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:HE,type:e,key:o,ref:u,props:a,_owner:TU.current}}Oo.jsx=jE;Oo.jsxs=jE;Jr.exports=Oo;/** @license MUI v5.0.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function OU(e,t){return SU(e,t)}function xo(e,t){return t?qr(e,t,{clone:!1}):e}const sh={xs:0,sm:600,md:900,lg:1200,xl:1536},zE={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${sh[e]}px)`};function Pi(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||zE;return t.reduce((u,l,f)=>(u[o.up(o.keys[f])]=n(t[f]),u),{})}if(typeof t=="object"){const o=r.breakpoints||zE;return Object.keys(t).reduce((u,l)=>{if(Object.keys(o.values||sh).indexOf(l)!==-1){const f=o.up(l);u[f]=n(t[l],l)}else{const f=l;u[f]=t[f]}return u},{})}return n(t)}function xU(e={}){var t;return(e==null||(t=e.keys)==null?void 0:t.reduce((r,a)=>{const o=e.up(a);return r[o]={},r},{}))||{}}function DU(e,t){return e.reduce((n,r)=>{const a=n[r];return Object.keys(a).length===0&&delete n[r],n},t)}function oh(e,t){return!t||typeof t!="string"?null:t.split(".").reduce((n,r)=>n&&n[r]?n[r]:null,e)}function WE(e,t,n,r=n){let a;return typeof e=="function"?a=e(n):Array.isArray(e)?a=e[n]||r:a=oh(e,n)||r,t&&(a=t(a)),a}function de(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:a}=e,o=u=>{if(u[t]==null)return null;const l=u[t],f=u.theme,d=oh(f,r)||{};return Pi(u,l,_=>{let v=WE(d,a,_);return _===v&&typeof _=="string"&&(v=WE(d,a,`${t}${_==="default"?"":ki(_)}`,_)),n===!1?v:{[n]:v}})};return o.propTypes={},o.filterProps=[t],o}function Mi(...e){const t=e.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),n=r=>Object.keys(r).reduce((a,o)=>t[o]?xo(a,t[o](r)):a,{});return n.propTypes={},n.filterProps=e.reduce((r,a)=>r.concat(a.filterProps),[]),n}function IU(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const CU={m:"margin",p:"padding"},kU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},YE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PU=IU(e=>{if(e.length>2)if(YE[e])e=YE[e];else return[e];const[t,n]=e.split(""),r=CU[t],a=kU[n]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),MU=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],UU=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],BE=[...MU,...UU];function Do(e,t,n,r){const a=oh(e,t)||n;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function qE(e){return Do(e,"spacing",8)}function Io(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function LU(e,t){return n=>e.reduce((r,a)=>(r[a]=Io(t,n),r),{})}function NU(e,t,n,r){if(t.indexOf(n)===-1)return null;const a=PU(n),o=LU(a,r),u=e[n];return Pi(e,u,o)}function FU(e,t){const n=qE(e.theme);return Object.keys(e).map(r=>NU(e,t,r,n)).reduce(xo,{})}function Kc(e){return FU(e,BE)}Kc.propTypes={};Kc.filterProps=BE;function Co(e){return typeof e!="number"?e:`${e}px solid`}const $U=de({prop:"border",themeKey:"borders",transform:Co}),VU=de({prop:"borderTop",themeKey:"borders",transform:Co}),HU=de({prop:"borderRight",themeKey:"borders",transform:Co}),GU=de({prop:"borderBottom",themeKey:"borders",transform:Co}),jU=de({prop:"borderLeft",themeKey:"borders",transform:Co}),zU=de({prop:"borderColor",themeKey:"palette"}),WU=de({prop:"borderTopColor",themeKey:"palette"}),YU=de({prop:"borderRightColor",themeKey:"palette"}),BU=de({prop:"borderBottomColor",themeKey:"palette"}),qU=de({prop:"borderLeftColor",themeKey:"palette"}),uh=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Do(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Io(t,r)});return Pi(e,e.borderRadius,n)}return null};uh.propTypes={};uh.filterProps=["borderRadius"];const KU=Mi($U,VU,HU,GU,jU,zU,WU,YU,BU,qU,uh);var KE=KU;const JU=de({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),XU=de({prop:"display"}),ZU=de({prop:"overflow"}),QU=de({prop:"textOverflow"}),eL=de({prop:"visibility"}),tL=de({prop:"whiteSpace"});var JE=Mi(JU,XU,ZU,QU,eL,tL);const nL=de({prop:"flexBasis"}),rL=de({prop:"flexDirection"}),iL=de({prop:"flexWrap"}),aL=de({prop:"justifyContent"}),sL=de({prop:"alignItems"}),oL=de({prop:"alignContent"}),uL=de({prop:"order"}),cL=de({prop:"flex"}),lL=de({prop:"flexGrow"}),fL=de({prop:"flexShrink"}),dL=de({prop:"alignSelf"}),pL=de({prop:"justifyItems"}),hL=de({prop:"justifySelf"}),mL=Mi(nL,rL,iL,aL,sL,oL,uL,cL,lL,fL,dL,pL,hL);var XE=mL;const ch=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Do(e.theme,"spacing",8),n=r=>({gap:Io(t,r)});return Pi(e,e.gap,n)}return null};ch.propTypes={};ch.filterProps=["gap"];const lh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Do(e.theme,"spacing",8),n=r=>({columnGap:Io(t,r)});return Pi(e,e.columnGap,n)}return null};lh.propTypes={};lh.filterProps=["columnGap"];const fh=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Do(e.theme,"spacing",8),n=r=>({rowGap:Io(t,r)});return Pi(e,e.rowGap,n)}return null};fh.propTypes={};fh.filterProps=["rowGap"];const _L=de({prop:"gridColumn"}),gL=de({prop:"gridRow"}),vL=de({prop:"gridAutoFlow"}),yL=de({prop:"gridAutoColumns"}),EL=de({prop:"gridAutoRows"}),bL=de({prop:"gridTemplateColumns"}),SL=de({prop:"gridTemplateRows"}),wL=de({prop:"gridTemplateAreas"}),TL=de({prop:"gridArea"}),AL=Mi(ch,lh,fh,_L,gL,vL,yL,EL,bL,SL,wL,TL);var ZE=AL;const RL=de({prop:"color",themeKey:"palette"}),OL=de({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),xL=de({prop:"backgroundColor",themeKey:"palette"}),DL=Mi(RL,OL,xL);var QE=DL;const IL=de({prop:"position"}),CL=de({prop:"zIndex",themeKey:"zIndex"}),kL=de({prop:"top"}),PL=de({prop:"right"}),ML=de({prop:"bottom"}),UL=de({prop:"left"});var eb=Mi(IL,CL,kL,PL,ML,UL);const LL=de({prop:"boxShadow",themeKey:"shadows"});var tb=LL;function Ui(e){return e<=1&&e!==0?`${e*100}%`:e}const NL=de({prop:"width",transform:Ui}),nb=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,a,o;return{maxWidth:((r=e.theme)==null||(a=r.breakpoints)==null||(o=a.values)==null?void 0:o[n])||sh[n]||Ui(n)}};return Pi(e,e.maxWidth,t)}return null};nb.filterProps=["maxWidth"];const FL=de({prop:"minWidth",transform:Ui}),$L=de({prop:"height",transform:Ui}),VL=de({prop:"maxHeight",transform:Ui}),HL=de({prop:"minHeight",transform:Ui});de({prop:"size",cssProperty:"width",transform:Ui});de({prop:"size",cssProperty:"height",transform:Ui});const GL=de({prop:"boxSizing"}),jL=Mi(NL,nb,FL,$L,VL,HL,GL);var rb=jL;const zL=de({prop:"fontFamily",themeKey:"typography"}),WL=de({prop:"fontSize",themeKey:"typography"}),YL=de({prop:"fontStyle",themeKey:"typography"}),BL=de({prop:"fontWeight",themeKey:"typography"}),qL=de({prop:"letterSpacing"}),KL=de({prop:"lineHeight"}),JL=de({prop:"textAlign"}),XL=de({prop:"typography",cssProperty:!1,themeKey:"typography"}),ZL=Mi(XL,zL,WL,YL,BL,qL,KL,JL);var ib=ZL;const ab={borders:KE.filterProps,display:JE.filterProps,flexbox:XE.filterProps,grid:ZE.filterProps,positions:eb.filterProps,palette:QE.filterProps,shadows:tb.filterProps,sizing:rb.filterProps,spacing:Kc.filterProps,typography:ib.filterProps},QL={borders:KE,display:JE,flexbox:XE,grid:ZE,positions:eb,palette:QE,shadows:tb,sizing:rb,spacing:Kc,typography:ib},sb=Object.keys(ab).reduce((e,t)=>(ab[t].forEach(n=>{e[n]=QL[t]}),e),{});function ob(e,t,n){const r={[e]:t,theme:n},a=sb[e];return a?a(r):{[e]:t}}function eN(...e){const t=e.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function tN(e,t){return typeof e=="function"?e(t):e}function dh(e){const{sx:t,theme:n={}}=e||{};if(!t)return null;if(typeof t=="function")return t(n);if(typeof t!="object")return t;const r=xU(n.breakpoints),a=Object.keys(r);let o=r;return Object.keys(t).forEach(u=>{const l=tN(t[u],n);if(typeof l=="object")if(sb[u])o=xo(o,ob(u,l,n));else{const f=Pi({theme:n},l,d=>({[u]:d}));eN(f,l)?o[u]=dh({sx:l,theme:n}):o=xo(o,f)}else o=xo(o,ob(u,l,n))}),DU(a,o)}dh.filterProps=["sx"];const nN=["values","unit","step"];function rN(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,a=Nt(e,nN),o=Object.keys(t);function u(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function f(h,_){const v=o.indexOf(_);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(v!==-1&&typeof t[o[v]]=="number"?t[o[v]]:_)-r/100}${n})`}function d(h){return o.indexOf(h)+1<o.length?f(h,o[o.indexOf(h)+1]):u(h)}return pe({keys:o,values:t,up:u,down:l,between:f,only:d,unit:n},a)}const iN={borderRadius:4};var aN=iN;function sN(e=8){if(e.mui)return e;const t=qE({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const u=t(o);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}const oN=["breakpoints","palette","spacing","shape"];function ph(e={},...t){const{breakpoints:n={},palette:r={},spacing:a,shape:o={}}=e,u=Nt(e,oN),l=rN(n),f=sN(a);let d=qr({breakpoints:l,direction:"ltr",components:{},palette:pe({mode:"light"},r),spacing:f,shape:pe({},aN,o)},u);return d=t.reduce((h,_)=>qr(h,_),d),d}const uN=se.exports.createContext(null);var cN=uN;function lN(){return se.exports.useContext(cN)}function fN(e){return Object.keys(e).length===0}function dN(e=null){const t=lN();return!t||fN(t)?e:t}const pN=ph();function ub(e=pN){return dN(e)}const hN=["variant"];function cb(e){return e.length===0}function lb(e){const{variant:t}=e,n=Nt(e,hN);let r=t||"";return Object.keys(n).sort().forEach(a=>{a==="color"?r+=cb(r)?e[a]:ki(e[a]):r+=`${cb(r)?a:ki(a)}${ki(e[a].toString())}`}),r}const mN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_N=["theme"],gN=["theme"];function ko(e){return Object.keys(e).length===0}const vN=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,yN=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(a=>{const o=lb(a.props);r[o]=a.style}),r},EN=(e,t,n,r)=>{var a,o;const{ownerState:u={}}=e,l=[],f=n==null||(a=n.components)==null||(o=a[r])==null?void 0:o.variants;return f&&f.forEach(d=>{let h=!0;Object.keys(d.props).forEach(_=>{u[_]!==d.props[_]&&e[_]!==d.props[_]&&(h=!1)}),h&&l.push(t[lb(d.props)])}),l};function Jc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const bN=ph();function SN(e={}){const{defaultTheme:t=bN,rootShouldForwardProp:n=Jc,slotShouldForwardProp:r=Jc}=e;return(a,o={})=>{const{name:u,slot:l,skipVariantsResolver:f,skipSx:d,overridesResolver:h}=o,_=Nt(o,mN),v=f!==void 0?f:l&&l!=="Root"||!1,b=d||!1;let w,E=Jc;l==="Root"?E=n:l&&(E=r);const T=OU(a,pe({shouldForwardProp:E,label:w},_));return(M,...B)=>{const Z=B?B.map(z=>typeof z=="function"?ae=>{let{theme:ee}=ae,_e=Nt(ae,_N);return z(pe({theme:ko(ee)?t:ee},_e))}:z):[];let Y=M;u&&h&&Z.push(z=>{const ae=ko(z.theme)?t:z.theme,ee=vN(u,ae);return ee?h(z,ee):null}),u&&!v&&Z.push(z=>{const ae=ko(z.theme)?t:z.theme;return EN(z,yN(u,ae),ae,u)}),b||Z.push(z=>{const ae=ko(z.theme)?t:z.theme;return dh(pe({},z,{theme:ae}))});const ne=Z.length-B.length;if(Array.isArray(M)&&ne>0){const z=new Array(ne).fill("");Y=[...M,...z],Y.raw=[...M.raw,...z]}else typeof M=="function"&&(Y=z=>{let{theme:ae}=z,ee=Nt(z,gN);return M(pe({theme:ko(ae)?t:ae},ee))});return T(Y,...Z)}}}function wN(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;const a=pe({},r),o=t.components[n].defaultProps;let u;for(u in o)a[u]===void 0&&(a[u]=o[u]);return a}function TN({props:e,name:t,defaultTheme:n}){const r=ub(n);return wN({theme:r,name:t,props:e})}function fb(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function AN(e){e=e.substr(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function us(e){if(e.type)return e;if(e.charAt(0)==="#")return us(AN(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(So(9,e));let r=e.substring(t+1,e.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(So(10,a))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:a}}function hh(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((a,o)=>o<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function RN(e){e=us(e);const{values:t}=e,n=t[0],r=t[1]/100,a=t[2]/100,o=r*Math.min(a,1-a),u=(d,h=(d+n/30)%12)=>a-o*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(l+="a",f.push(t[3])),hh({type:l,values:f})}function mh(e){e=us(e);let t=e.type==="hsl"?us(RN(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ON(e,t){const n=mh(e),r=mh(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function db(e,t){if(e=us(e),t=fb(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return hh(e)}function pb(e,t){if(e=us(e),t=fb(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return hh(e)}function xN(e,t=.15){return mh(e)>.5?db(e,t):pb(e,t)}function hb(e,t,n){const r={};return Object.keys(e).forEach(a=>{r[a]=e[a].reduce((o,u)=>(u&&(n&&n[u]&&o.push(n[u]),o.push(t(u))),o),[]).join(" ")}),r}const DN={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function _h(e,t){return DN[t]||`${e}-${t}`}function mb(e,t){const n={};return t.forEach(r=>{n[r]=_h(e,r)}),n}function IN(e,t,n){return pe({toolbar:{minHeight:56,[`${e.up("xs")} and (orientation: landscape)`]:{minHeight:48},[e.up("sm")]:{minHeight:64}}},n)}const CN={black:"#000",white:"#fff"};var Po=CN;const kN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var PN=kN;const MN={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var cs=MN;const UN={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var ls=UN;const LN={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Mo=LN;const NN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var fs=NN;const FN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var ds=FN;const $N={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var ps=$N;const VN=["mode","contrastThreshold","tonalOffset"],_b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Po.white,default:Po.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},gh={text:{primary:Po.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Po.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gb(e,t,n,r){const a=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=pb(e.main,a):t==="dark"&&(e.dark=db(e.main,o)))}function HN(e="light"){return e==="dark"?{main:fs[200],light:fs[50],dark:fs[400]}:{main:fs[700],light:fs[400],dark:fs[800]}}function GN(e="light"){return e==="dark"?{main:cs[200],light:cs[50],dark:cs[400]}:{main:cs[500],light:cs[300],dark:cs[700]}}function jN(e="light"){return e==="dark"?{main:ls[500],light:ls[300],dark:ls[700]}:{main:ls[700],light:ls[400],dark:ls[800]}}function zN(e="light"){return e==="dark"?{main:ds[400],light:ds[300],dark:ds[700]}:{main:ds[700],light:ds[500],dark:ds[900]}}function WN(e="light"){return e==="dark"?{main:ps[400],light:ps[300],dark:ps[700]}:{main:ps[800],light:ps[500],dark:ps[900]}}function YN(e="light"){return e==="dark"?{main:Mo[400],light:Mo[300],dark:Mo[700]}:{main:"#ED6C02",light:Mo[500],dark:Mo[900]}}function BN(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,a=Nt(e,VN),o=e.primary||HN(t),u=e.secondary||GN(t),l=e.error||jN(t),f=e.info||zN(t),d=e.success||WN(t),h=e.warning||YN(t);function _(E){return ON(E,gh.text.primary)>=n?gh.text.primary:_b.text.primary}const v=({color:E,name:T,mainShade:k=500,lightShade:M=300,darkShade:B=700})=>{if(E=pe({},E),!E.main&&E[k]&&(E.main=E[k]),!E.hasOwnProperty("main"))throw new Error(So(11,T?` (${T})`:"",k));if(typeof E.main!="string")throw new Error(So(12,T?` (${T})`:"",JSON.stringify(E.main)));return gb(E,"light",M,r),gb(E,"dark",B,r),E.contrastText||(E.contrastText=_(E.main)),E},b={dark:gh,light:_b};return qr(pe({common:Po,mode:t,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:PN,contrastThreshold:n,getContrastText:_,augmentColor:v,tonalOffset:r},b[t]),a)}const qN=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function KN(e){return Math.round(e*1e5)/1e5}const vb={textTransform:"uppercase"},yb='"Roboto", "Helvetica", "Arial", sans-serif';function JN(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=yb,fontSize:a=14,fontWeightLight:o=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:d=16,allVariants:h,pxToRem:_}=n,v=Nt(n,qN),b=a/14,w=_||(k=>`${k/d*b}rem`),E=(k,M,B,Z,Y)=>pe({fontFamily:r,fontWeight:k,fontSize:w(M),lineHeight:B},r===yb?{letterSpacing:`${KN(Z/M)}em`}:{},Y,h),T={h1:E(o,96,1.167,-1.5),h2:E(o,60,1.2,-.5),h3:E(u,48,1.167,0),h4:E(u,34,1.235,.25),h5:E(u,24,1.334,0),h6:E(l,20,1.6,.15),subtitle1:E(u,16,1.75,.15),subtitle2:E(l,14,1.57,.1),body1:E(u,16,1.5,.15),body2:E(u,14,1.43,.15),button:E(l,14,1.75,.4,vb),caption:E(u,12,1.66,.4),overline:E(u,12,2.66,1,vb)};return qr(pe({htmlFontSize:d,pxToRem:w,fontFamily:r,fontSize:a,fontWeightLight:o,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:f},T),v,{clone:!1})}const XN=.2,ZN=.14,QN=.12;function St(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${XN})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ZN})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${QN})`].join(",")}const e2=["none",St(0,2,1,-1,0,1,1,0,0,1,3,0),St(0,3,1,-2,0,2,2,0,0,1,5,0),St(0,3,3,-2,0,3,4,0,0,1,8,0),St(0,2,4,-1,0,4,5,0,0,1,10,0),St(0,3,5,-1,0,5,8,0,0,1,14,0),St(0,3,5,-1,0,6,10,0,0,1,18,0),St(0,4,5,-2,0,7,10,1,0,2,16,1),St(0,5,5,-3,0,8,10,1,0,3,14,2),St(0,5,6,-3,0,9,12,1,0,3,16,2),St(0,6,6,-3,0,10,14,1,0,4,18,3),St(0,6,7,-4,0,11,15,1,0,4,20,3),St(0,7,8,-4,0,12,17,2,0,5,22,4),St(0,7,8,-4,0,13,19,2,0,5,24,4),St(0,7,9,-4,0,14,21,2,0,5,26,4),St(0,8,9,-5,0,15,22,2,0,6,28,5),St(0,8,10,-5,0,16,24,2,0,6,30,5),St(0,8,11,-5,0,17,26,2,0,6,32,5),St(0,9,11,-5,0,18,28,2,0,7,34,6),St(0,9,12,-6,0,19,29,2,0,7,36,6),St(0,10,13,-6,0,20,31,3,0,8,38,7),St(0,10,13,-6,0,21,33,3,0,8,40,7),St(0,10,14,-6,0,22,35,3,0,8,42,7),St(0,11,14,-7,0,23,36,3,0,9,44,8),St(0,11,15,-7,0,24,38,3,0,9,46,8)];var t2=e2;const n2=["duration","easing","delay"],vh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Xc={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Eb(e){return`${Math.round(e)}ms`}function r2(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function i2(e){const t=pe({},vh,e.easing),n=pe({},Xc,e.duration);return pe({getAutoHeightDuration:r2,create:(a=["all"],o={})=>{const{duration:u=n.standard,easing:l=t.easeInOut,delay:f=0}=o;return Nt(o,n2),(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof u=="string"?u:Eb(u)} ${l} ${typeof f=="string"?f:Eb(f)}`).join(",")}},e,{easing:t,duration:n})}const a2={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var s2=a2;const o2=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function u2(e={},...t){const{mixins:n={},palette:r={},transitions:a={},typography:o={}}=e,u=Nt(e,o2),l=BN(r),f=ph(e);let d=qr(f,{mixins:IN(f.breakpoints,f.spacing,n),palette:l,shadows:t2.slice(),typography:JN(l,o),transitions:i2(a),zIndex:pe({},s2)});return d=qr(d,u),d=t.reduce((h,_)=>qr(h,_),d),d}const c2=u2();var yh=c2;function bb(){return ub(yh)}const l2=e=>e.scrollTop;function Zc(e,t){var n,r;const{timeout:a,easing:o,style:u={}}=e;return{duration:(n=u.transitionDuration)!=null?n:typeof a=="number"?a:a[t.mode]||0,easing:(r=u.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:u.transitionDelay}}function Sb({props:e,name:t}){return TN({props:e,name:t,defaultTheme:yh})}const f2=e=>Jc(e)&&e!=="classes",d2=SN({defaultTheme:yh,rootShouldForwardProp:f2});var fa=d2;function p2(e){return _h("MuiSvgIcon",e)}mb("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const h2=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],m2=e=>{const{color:t,fontSize:n,classes:r}=e,a={root:["root",t!=="inherit"&&`color${ki(t)}`,`fontSize${ki(n)}`]};return hb(a,p2,r)},_2=fa("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ki(n.color)}`],t[`fontSize${ki(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(35)}[t.fontSize],color:(n=(r=e.palette[t.color])==null?void 0:r.main)!=null?n:{action:e.palette.action.active,disabled:e.palette.action.disabled,inherit:void 0}[t.color]}}),wb=se.exports.forwardRef(function(t,n){const r=Sb({props:t,name:"MuiSvgIcon"}),{children:a,className:o,color:u="inherit",component:l="svg",fontSize:f="medium",htmlColor:d,titleAccess:h,viewBox:_="0 0 24 24"}=r,v=Nt(r,h2),b=pe({},r,{color:u,component:l,fontSize:f,viewBox:_}),w=m2(b);return Jr.exports.jsxs(_2,pe({as:l,className:Ci(w.root,o),ownerState:b,focusable:"false",viewBox:_,color:d,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},v,{children:[a,h?Jr.exports.jsx("title",{children:h}):null]}))});wb.muiName="SvgIcon";var Qc=wb;const g2=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function v2(e,t,n){const r=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=mE(t);let u;if(t.fakeTransform)u=t.fakeTransform;else{const d=o.getComputedStyle(t);u=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let l=0,f=0;if(u&&u!=="none"&&typeof u=="string"){const d=u.split("(")[1].split(")")[0].split(",");l=parseInt(d[4],10),f=parseInt(d[5],10)}return e==="left"?a?`translateX(${a.right+l-r.left}px)`:`translateX(${o.innerWidth+l-r.left}px)`:e==="right"?a?`translateX(-${r.right-a.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:e==="up"?a?`translateY(${a.bottom+f-r.top}px)`:`translateY(${o.innerHeight+f-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-f}px)`:`translateY(-${r.top+r.height-f}px)`}function y2(e){return typeof e=="function"?e():e}function el(e,t,n){const r=y2(n),a=v2(e,t,r);a&&(t.style.webkitTransform=a,t.style.transform=a)}const E2={enter:vh.easeOut,exit:vh.sharp},b2={enter:Xc.enteringScreen,exit:Xc.leavingScreen},S2=se.exports.forwardRef(function(t,n){const{addEndListener:r,appear:a=!0,children:o,container:u,direction:l="down",easing:f=E2,in:d,onEnter:h,onEntered:_,onEntering:v,onExit:b,onExited:w,onExiting:E,style:T,timeout:k=b2,TransitionComponent:M=hE}=t,B=Nt(t,g2),Z=bb(),Y=se.exports.useRef(null),ne=$c(o.ref,Y),V=$c(ne,n),z=U=>W=>{U&&(W===void 0?U(Y.current):U(Y.current,W))},ae=z((U,W)=>{el(l,U,u),l2(U),h&&h(U,W)}),ee=z((U,W)=>{const ie=Zc({timeout:k,style:T,easing:f},{mode:"enter"});U.style.webkitTransition=Z.transitions.create("-webkit-transform",pe({},ie)),U.style.transition=Z.transitions.create("transform",pe({},ie)),U.style.webkitTransform="none",U.style.transform="none",v&&v(U,W)}),_e=z(_),ve=z(E),G=z(U=>{const W=Zc({timeout:k,style:T,easing:f},{mode:"exit"});U.style.webkitTransition=Z.transitions.create("-webkit-transform",W),U.style.transition=Z.transitions.create("transform",W),el(l,U,u),b&&b(U)}),C=z(U=>{U.style.webkitTransition="",U.style.transition="",w&&w(U)}),I=U=>{r&&r(Y.current,U)},L=se.exports.useCallback(()=>{Y.current&&el(l,Y.current,u)},[l,u]);return se.exports.useEffect(()=>{if(d||l==="down"||l==="right")return;const U=UM(()=>{Y.current&&el(l,Y.current,u)}),W=mE(Y.current);return W.addEventListener("resize",U),()=>{U.clear(),W.removeEventListener("resize",U)}},[l,d,u]),se.exports.useEffect(()=>{d||L()},[d,L]),Jr.exports.jsx(M,pe({nodeRef:Y,onEnter:ae,onEntered:_e,onEntering:ee,onExit:G,onExited:C,onExiting:ve,addEndListener:I,appear:a,in:d,timeout:k},B,{children:(U,W)=>se.exports.cloneElement(o,pe({ref:V,style:pe({visibility:U==="exited"&&!d?"hidden":void 0},T,o.props.style)},W))}))});var w2=S2;function T2(e){return _h("MuiCollapse",e)}mb("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const A2=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],R2=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return hb(r,T2,n)},O2=fa("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>pe({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&pe({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),x2=fa("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>pe({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),D2=fa("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>pe({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Tb=se.exports.forwardRef(function(t,n){const r=Sb({props:t,name:"MuiCollapse"}),{addEndListener:a,children:o,className:u,collapsedSize:l="0px",component:f,easing:d,in:h,onEnter:_,onEntered:v,onEntering:b,onExit:w,onExited:E,onExiting:T,orientation:k="vertical",style:M,timeout:B=Xc.standard,TransitionComponent:Z=hE}=r,Y=Nt(r,A2),ne=pe({},r,{orientation:k,collapsedSize:l}),V=R2(ne),z=bb(),ae=se.exports.useRef(),ee=se.exports.useRef(null),_e=se.exports.useRef(),ve=typeof l=="number"?`${l}px`:l,G=k==="horizontal",C=G?"width":"height";se.exports.useEffect(()=>()=>{clearTimeout(ae.current)},[]);const I=se.exports.useRef(null),L=$c(n,I),U=R=>ce=>{if(R){const K=I.current;ce===void 0?R(K):R(K,ce)}},W=()=>ee.current?ee.current[G?"clientWidth":"clientHeight"]:0,ie=U((R,ce)=>{ee.current&&G&&(ee.current.style.position="absolute"),R.style[C]=ve,_&&_(R,ce)}),q=U((R,ce)=>{const K=W();ee.current&&G&&(ee.current.style.position="");const{duration:xe,easing:De}=Zc({style:M,timeout:B,easing:d},{mode:"enter"});if(B==="auto"){const Ne=z.transitions.getAutoHeightDuration(K);R.style.transitionDuration=`${Ne}ms`,_e.current=Ne}else R.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;R.style[C]=`${K}px`,R.style.transitionTimingFunction=De,b&&b(R,ce)}),re=U((R,ce)=>{R.style[C]="auto",v&&v(R,ce)}),N=U(R=>{R.style[C]=`${W()}px`,w&&w(R)}),$=U(E),X=U(R=>{const ce=W(),{duration:K,easing:xe}=Zc({style:M,timeout:B,easing:d},{mode:"exit"});if(B==="auto"){const De=z.transitions.getAutoHeightDuration(ce);R.style.transitionDuration=`${De}ms`,_e.current=De}else R.style.transitionDuration=typeof K=="string"?K:`${K}ms`;R.style[C]=ve,R.style.transitionTimingFunction=xe,T&&T(R)}),Q=R=>{B==="auto"&&(ae.current=setTimeout(R,_e.current||0)),a&&a(I.current,R)};return Jr.exports.jsx(Z,pe({in:h,onEnter:ie,onEntered:re,onEntering:q,onExit:N,onExited:$,onExiting:X,addEndListener:Q,nodeRef:I,timeout:B==="auto"?null:B},Y,{children:(R,ce)=>Jr.exports.jsx(O2,pe({as:f,className:Ci(V.root,u,{entered:V.entered,exited:!h&&ve==="0px"&&V.hidden}[R]),style:pe({[G?"minWidth":"minHeight"]:ve},M),ownerState:pe({},ne,{state:R}),ref:L},ce,{children:Jr.exports.jsx(x2,{ownerState:pe({},ne,{state:R}),className:V.wrapper,ref:ee,children:Jr.exports.jsx(D2,{ownerState:pe({},ne,{state:R}),className:V.wrapperInner,children:o})})}))}))});Tb.muiSupportAuto=!0;var I2=Tb;function Ab(e){return e.substring(2).toLowerCase()}function C2(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function k2(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:o="onTouchEnd"}=e,u=se.exports.useRef(!1),l=se.exports.useRef(null),f=se.exports.useRef(!1),d=se.exports.useRef(!1);se.exports.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const h=$c(t.ref,l),_=FM(w=>{const E=d.current;d.current=!1;const T=Fc(l.current);if(!f.current||!l.current||"clientX"in w&&C2(w,T))return;if(u.current){u.current=!1;return}let k;w.composedPath?k=w.composedPath().indexOf(l.current)>-1:k=!T.documentElement.contains(w.target)||l.current.contains(w.target),!k&&(n||!E)&&a(w)}),v=w=>E=>{d.current=!0;const T=t.props[w];T&&T(E)},b={ref:h};return o!==!1&&(b[o]=v(o)),se.exports.useEffect(()=>{if(o!==!1){const w=Ab(o),E=Fc(l.current),T=()=>{u.current=!0};return E.addEventListener(w,_),E.addEventListener("touchmove",T),()=>{E.removeEventListener(w,_),E.removeEventListener("touchmove",T)}}},[_,o]),r!==!1&&(b[r]=v(r)),se.exports.useEffect(()=>{if(r!==!1){const w=Ab(r),E=Fc(l.current);return E.addEventListener(w,_),()=>{E.removeEventListener(w,_)}}},[_,r]),Jr.exports.jsx(se.exports.Fragment,{children:se.exports.cloneElement(t,b)})}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P2(e,t,n){return t&&Rb(e.prototype,t),n&&Rb(e,n),e}function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function M2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Li(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ob(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xb=x.createContext(),U2={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}},Xr={view:{default:20,dense:4},snackbar:{default:6,dense:2}},da={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:w2,transitionDuration:{enter:225,exit:195}},Uo=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},L2=function(t){return""+Uo(t.vertical)+Uo(t.horizontal)},N2=function(t){return Object.keys(t).filter(function(n){return!U2.container[n]}).reduce(function(n,r){var a;return mt({},n,(a={},a[r]=t[r],a))},{})},Ni={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},Eh={toContainerAnchorOrigin:function(t){return"containerAnchorOrigin"+t},toAnchorOrigin:function(t){var n=t.vertical,r=t.horizontal;return"anchorOrigin"+Uo(n)+Uo(r)},toVariant:function(t){return"variant"+Uo(t)}},tl=function(t){return!!t||t===0},Db=function(t){return typeof t=="number"||t===null},F2=function(t,n,r){return function(a){return a==="autoHideDuration"?Db(t.autoHideDuration)?t.autoHideDuration:Db(n.autoHideDuration)?n.autoHideDuration:da.autoHideDuration:t[a]||n[a]||r[a]}};function bh(e,t,n){return e===void 0&&(e={}),t===void 0&&(t={}),n===void 0&&(n={}),mt({},n,{},t,{},e)}var $2="SnackbarContent",Ib={root:$2+"-root"},V2=fa("div")(function(e){var t,n,r=e.theme;return n={},n["&."+Ib.root]=(t={display:"flex",flexWrap:"wrap",flexGrow:1},t[r.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},t),n}),H2=se.exports.forwardRef(function(e,t){var n=e.className,r=Li(e,["className"]);return x.createElement(V2,Object.assign({ref:t,className:Ci(Ib.root,n)},r))}),Cb={right:"left",left:"right",bottom:"up",top:"down"},G2=function(t){return t.horizontal!=="center"?Cb[t.horizontal]:Cb[t.vertical]},j2=function(t){return x.createElement(Qc,Object.assign({},t),x.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},z2=function(t){return x.createElement(Qc,Object.assign({},t),x.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},W2=function(t){return x.createElement(Qc,Object.assign({},t),x.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},Y2=function(t){return x.createElement(Qc,Object.assign({},t),x.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},nl={fontSize:20,marginInlineEnd:8},B2={default:void 0,success:x.createElement(j2,{style:nl}),warning:x.createElement(z2,{style:nl}),error:x.createElement(W2,{style:nl}),info:x.createElement(Y2,{style:nl})};function Lo(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var f=[].concat(u);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},function(){})}var q2=typeof window!="undefined"?se.exports.useLayoutEffect:se.exports.useEffect;function kb(e){var t=se.exports.useRef(e);return q2(function(){t.current=e}),se.exports.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var K2=se.exports.forwardRef(function(e,t){var n=e.children,r=e.autoHideDuration,a=e.ClickAwayListenerProps,o=e.disableWindowBlurListener,u=o===void 0?!1:o,l=e.onClose,f=e.onMouseEnter,d=e.onMouseLeave,h=e.open,_=e.resumeHideDuration,v=Li(e,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),b=se.exports.useRef(),w=kb(function(){l&&l.apply(void 0,arguments)}),E=kb(function(Y){!l||Y==null||(clearTimeout(b.current),b.current=setTimeout(function(){w(null,Ni.TIMEOUT)},Y))});se.exports.useEffect(function(){return h&&E(r),function(){clearTimeout(b.current)}},[h,r,E]);var T=function(){clearTimeout(b.current)},k=se.exports.useCallback(function(){r!=null&&E(_??r*.5)},[r,_,E]),M=function(ne){f&&f(ne),T()},B=function(ne){d&&d(ne),k()},Z=function(ne){l&&l(ne,Ni.CLICKAWAY)};return se.exports.useEffect(function(){if(!u&&h)return window.addEventListener("focus",k),window.addEventListener("blur",T),function(){window.removeEventListener("focus",k),window.removeEventListener("blur",T)}},[u,k,h]),se.exports.createElement(k2,mt({onClickAway:Z},a),se.exports.createElement("div",mt({onMouseEnter:M,onMouseLeave:B,ref:t},v),n))}),Zr="SnackbarItem",mn={contentRoot:Zr+"-contentRoot",lessPadding:Zr+"-lessPadding",variantSuccess:Zr+"-variantSuccess",variantError:Zr+"-variantError",variantInfo:Zr+"-variantInfo",variantWarning:Zr+"-variantWarning",message:Zr+"-message",action:Zr+"-action",wrappedRoot:Zr+"-wrappedRoot"},J2=fa(K2)(function(e){var t,n=e.theme,r=n.palette.mode||n.palette.type,a=xN(n.palette.background.default,r==="light"?.8:.98);return t={},t["&."+mn.wrappedRoot]={position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},t["."+mn.contentRoot]=mt({},n.typography.body2,{backgroundColor:a,color:n.palette.getContrastText(a),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),t["."+mn.lessPadding]={paddingLeft:8*2.5},t["."+mn.variantSuccess]={backgroundColor:"#43a047",color:"#fff"},t["."+mn.variantError]={backgroundColor:"#d32f2f",color:"#fff"},t["."+mn.variantInfo]={backgroundColor:"#2196f3",color:"#fff"},t["."+mn.variantWarning]={backgroundColor:"#ff9800",color:"#fff"},t["."+mn.message]={display:"flex",alignItems:"center",padding:"8px 0"},t["."+mn.action]={display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},t}),X2=function(t){var n=t.classes,r=Li(t,["classes"]),a=se.exports.useRef(),o=se.exports.useState(!0),u=o[0],l=o[1];se.exports.useEffect(function(){return function(){a.current&&clearTimeout(a.current)}},[]);var f=Lo([r.snack.onClose,r.onClose],r.snack.key),d=function(){r.snack.requestClose&&f(null,Ni.INSTRCUTED)},h=function(){a.current=setTimeout(function(){l(!u)},125)},_=r.style,v=r.ariaAttributes,b=r.className,w=r.hideIconVariant,E=r.iconVariant,T=r.snack,k=r.action,M=r.content,B=r.TransitionComponent,Z=r.TransitionProps,Y=r.transitionDuration,ne=Li(r,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),V=T.key,z=T.open,ae=T.className,ee=T.variant,_e=T.content,ve=T.action,G=T.ariaAttributes,C=T.anchorOrigin,I=T.message,L=T.TransitionComponent,U=T.TransitionProps,W=T.transitionDuration,ie=Li(T,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),q=mt({},B2,{},E)[ee],re=mt({"aria-describedby":"notistack-snackbar"},bh(G,v)),N=L||B||da.TransitionComponent,$=bh(W,Y,da.transitionDuration),X=mt({direction:G2(C)},bh(U,Z)),Q=ve||k;typeof Q=="function"&&(Q=Q(V));var R=_e||M;typeof R=="function"&&(R=R(V,T.message));var ce=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce(function(K,xe){var De;return mt({},K,(De={},De[xe]=Lo([r.snack[xe],r[xe]],r.snack.key),De))},{});return x.createElement(I2,{unmountOnExit:!0,timeout:175,in:u,onExited:ce.onExited},x.createElement(J2,Object.assign({},ne,ie,{open:z,className:Ci(n.root,mn.wrappedRoot,n[Eh.toAnchorOrigin(C)]),onClose:f}),x.createElement(N,Object.assign({appear:!0,in:z,timeout:$},X,{onExit:ce.onExit,onExiting:ce.onExiting,onExited:h,onEnter:ce.onEnter,onEntering:ce.onEntering,onEntered:Lo([ce.onEntered,d])}),R||x.createElement(H2,Object.assign({},re,{role:"alert",style:_,className:Ci(mn.contentRoot,mn[Eh.toVariant(ee)],b,ae,!w&&q&&mn.lessPadding)}),x.createElement("div",{id:re["aria-describedby"],className:mn.message},w?null:q,I),Q&&x.createElement("div",{className:mn.action},Q)))))},Sh={container:"& > .MuiCollapse-container, & > .MuiCollapse-root",wrapper:"& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper"},wh=16,pa="SnackbarContainer",mr={root:pa+"-root",rootDense:pa+"-rootDense",top:pa+"-top",bottom:pa+"-bottom",left:pa+"-left",right:pa+"-right",center:pa+"-center"},Z2=fa("div")(function(e){var t,n,r,a,o,u,l=e.theme;return u={},u["&."+mr.root]=(t={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:l.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"},t[Sh.container]={pointerEvents:"all"},t[Sh.wrapper]={padding:Xr.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - "+Xr.view.default*2+"px)",t[l.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - "+wh*2+"px)"},t),u["&."+mr.rootDense]=(n={},n[Sh.wrapper]={padding:Xr.snackbar.dense+"px 0px"},n),u["&."+mr.top]={top:Xr.view.default-Xr.snackbar.default,flexDirection:"column"},u["&."+mr.bottom]={bottom:Xr.view.default-Xr.snackbar.default,flexDirection:"column-reverse"},u["&."+mr.left]=(r={left:Xr.view.default},r[l.breakpoints.up("sm")]={alignItems:"flex-start"},r[l.breakpoints.down("sm")]={left:wh+"px"},r),u["&."+mr.right]=(a={right:Xr.view.default},a[l.breakpoints.up("sm")]={alignItems:"flex-end"},a[l.breakpoints.down("sm")]={right:wh+"px"},a),u["&."+mr.center]=(o={left:"50%",transform:"translateX(-50%)"},o[l.breakpoints.up("sm")]={alignItems:"center"},o),u}),Q2=function(t){var n=t.className,r=t.anchorOrigin,a=t.dense,o=Li(t,["className","anchorOrigin","dense"]),u=Ci(mr[r.vertical],mr[r.horizontal],mr.root,n,a&&mr.rootDense);return x.createElement(Z2,Object.assign({className:u},o))},eF=x.memo(Q2),tF=function(e){M2(t,e);function t(r){var a;return a=e.call(this,r)||this,a.enqueueSnackbar=function(o,u){u===void 0&&(u={});var l=u,f=l.key,d=l.preventDuplicate,h=Li(l,["key","preventDuplicate"]),_=tl(f),v=_?f:new Date().getTime()+Math.random(),b=F2(h,a.props,da),w=mt({key:v},h,{message:o,open:!0,entered:!1,requestClose:!1,variant:b("variant"),anchorOrigin:b("anchorOrigin"),autoHideDuration:b("autoHideDuration")});return h.persist&&(w.autoHideDuration=void 0),a.setState(function(E){if(d===void 0&&a.props.preventDuplicate||d){var T=function(Z){return _?Z.key===f:Z.message===o},k=E.queue.findIndex(T)>-1,M=E.snacks.findIndex(T)>-1;if(k||M)return E}return a.handleDisplaySnack(mt({},E,{queue:[].concat(E.queue,[w])}))}),v},a.handleDisplaySnack=function(o){var u=o.snacks;return u.length>=a.maxSnack?a.handleDismissOldest(o):a.processQueue(o)},a.processQueue=function(o){var u=o.queue,l=o.snacks;return u.length>0?mt({},o,{snacks:[].concat(l,[u[0]]),queue:u.slice(1,u.length)}):o},a.handleDismissOldest=function(o){if(o.snacks.some(function(h){return!h.open||h.requestClose}))return o;var u=!1,l=!1,f=o.snacks.reduce(function(h,_){return h+(_.open&&_.persist?1:0)},0);f===a.maxSnack&&(l=!0);var d=o.snacks.map(function(h){return!u&&(!h.persist||l)?(u=!0,h.entered?(h.onClose&&h.onClose(null,Ni.MAXSNACK,h.key),a.props.onClose&&a.props.onClose(null,Ni.MAXSNACK,h.key),mt({},h,{open:!1})):mt({},h,{requestClose:!0})):mt({},h)});return mt({},o,{snacks:d})},a.handleEnteredSnack=function(o,u,l){if(!tl(l))throw new Error("handleEnteredSnack Cannot be called with undefined key");a.setState(function(f){var d=f.snacks;return{snacks:d.map(function(h){return h.key===l?mt({},h,{entered:!0}):mt({},h)})}})},a.handleCloseSnack=function(o,u,l){if(a.props.onClose&&a.props.onClose(o,u,l),u!==Ni.CLICKAWAY){var f=l===void 0;a.setState(function(d){var h=d.snacks,_=d.queue;return{snacks:h.map(function(v){return!f&&v.key!==l?mt({},v):v.entered?mt({},v,{open:!1}):mt({},v,{requestClose:!0})}),queue:_.filter(function(v){return v.key!==l})}})}},a.closeSnackbar=function(o){var u=a.state.snacks.find(function(l){return l.key===o});tl(o)&&u&&u.onClose&&u.onClose(null,Ni.INSTRUCTED,o),a.handleCloseSnack(null,Ni.INSTRUCTED,o)},a.handleExitedSnack=function(o,u,l){var f=u||l;if(!tl(f))throw new Error("handleExitedSnack Cannot be called with undefined key");a.setState(function(d){var h=a.processQueue(mt({},d,{snacks:d.snacks.filter(function(_){return _.key!==f})}));return h.queue.length===0?h:a.handleDismissOldest(h)})},a.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:a.enqueueSnackbar.bind(Ob(a)),closeSnackbar:a.closeSnackbar.bind(Ob(a))}},a}var n=t.prototype;return n.render=function(){var a=this,o=this.state.contextValue,u=this.props,l=u.iconVariant,f=u.dense,d=f===void 0?da.dense:f,h=u.hideIconVariant,_=h===void 0?da.hideIconVariant:h,v=u.domRoot,b=u.children,w=u.classes,E=w===void 0?{}:w,T=Li(u,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),k=this.state.snacks.reduce(function(B,Z){var Y,ne=L2(Z.anchorOrigin),V=B[ne]||[];return mt({},B,(Y={},Y[ne]=[].concat(V,[Z]),Y))},{}),M=Object.keys(k).map(function(B){var Z=k[B];return x.createElement(eF,{key:B,dense:d,anchorOrigin:Z[0].anchorOrigin,className:Ci(E.containerRoot,E[Eh.toContainerAnchorOrigin(B)])},Z.map(function(Y){return x.createElement(X2,Object.assign({},T,{key:Y.key,snack:Y,dense:d,iconVariant:l,hideIconVariant:_,classes:N2(E),onClose:a.handleCloseSnack,onExited:Lo([a.handleExitedSnack,a.props.onExited]),onEntered:Lo([a.handleEnteredSnack,a.props.onEntered])}))}))});return x.createElement(xb.Provider,{value:o},b,v?e0.exports.createPortal(M,v):M)},P2(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||da.maxSnack}}]),t}(se.exports.Component),R6=function(){return se.exports.useContext(xb)};const nF={actionProcessing:e=>({type:"ACTION_PROCESSING",processing:e}),loginUserSuccess:e=>({type:"LOGIN_USER_SUCCESS",authUser:e,message:""}),loginUserError:e=>({type:"LOGIN_USER_ERROR",message:e}),loginUserByGithubSuccess:e=>({type:"LOGIN_USER_BY_GITHUB_SUCCESS",message:e}),loginUserByGithubError:e=>({type:"LOGIN_USER_BY_GITHUB_ERROR",message:e}),loginUserByLinkedinSuccess:e=>({type:"LOGIN_USER_BY_LINKEDIN_SUCCESS",message:e}),loginUserByLinkedinError:e=>({type:"LOGIN_USER_BY_LINKEDIN_ERROR",message:e}),didLogout:()=>({type:"LOGOUT_USER",message:""}),registerUserByEmailSuccess:e=>({type:"REGISTER_USER_BY_EMAIL_SUCCESS",identityProvider:e,message:""}),registerUserByEmailError:e=>({type:"REGISTER_USER_BY_EMAIL_ERROR",message:e}),didVerifyEmail:e=>({type:"DID_VERIFY_EMAIL",result:e}),didResendVerificationEmail:e=>({type:"DID_RESEND_VERIFICATION_EMAIL",result:e}),didForgotPassword:e=>({type:"DID_FORGOT_PASSWORD",result:e}),didResetPassword:e=>({type:"DID_RESET_PASSWORD",result:e}),didCreateMagicLink:e=>({type:"DID_CREATE_MAGICLINK",result:e}),loadedUserData:e=>({type:"LOADED_USER_DATA",user:e}),updatedUserSettingsAction:e=>({type:"UPDATE_USER_SETTINGS",data:e}),avatarUpdated:e=>{const t=e.url;return{type:"AVATAR_UPDATED",url:t}},usernameUpdated:e=>{const t=e.name;return{type:"USERNAME_UPDATED",name:t}},userAvatarIdUpdated:e=>{const t=e.avatarId;return{type:"USERAVATARID_UPDATED",avatarId:t}},userUpdated:e=>({type:"USER_UPDATED",user:e}),updateAvatarList:e=>({type:"AVATAR_FETCHED",avatarList:e}),restoreAuth:()=>({type:"RESTORE"})};class rF extends x.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(t){super(t);this.state={hasError:!1}}componentDidCatch(){setTimeout(()=>{this.setState({hasError:!1})},2e3)}render(){return this.state.hasError?x.createElement("div",null,"Working..."):x.createElement(sC,null,x.createElement(He,{path:"/",component:x.lazy(()=>Ve(()=>import("./index.6b8a075e.js"),["assets/index.6b8a075e.js","assets/index.e10a7bb4.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/CreatorService.46518bb7.js","assets/upload.bd537b46.js","assets/WebxrNativeService.bf3f0be0.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js","assets/index.301f4863.js","assets/createSvgIcon.57924123.js","assets/ownerWindow.3d7152ce.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Typography.19cbe78d.js","assets/IconButton.ce216bbb.js","assets/Modal.58912532.js","assets/CardContent.1f497982.js","assets/CardMedia.b80c1774.js","assets/index.3f644741.js","assets/index.301208a0.css","assets/TheFeedsService.9620790e.js","assets/index.8b1cb91a.js","assets/index.dd82ccb3.css","assets/ArrowBackIos.d81b172a.js","assets/FeedService.76ef4a42.js","assets/index.4ce46cdd.js","assets/Grid.07f86457.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js","assets/Snackbar.6d62c301.js","assets/Alert.94d06d4f.js","assets/Button.a7dce846.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/Slide.a5edb72c.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/index.b93ee66e.js","assets/index.113ffea6.css","assets/index.eadf06b5.js","assets/index.4e34e7f2.css","assets/DialogTitle.30786a4b.js","assets/DialogContentText.58aee466.js","assets/index.81a70c71.js","assets/index.18508d4e.css","assets/index.c1f5a49b.js","assets/styled.00afe216.js","assets/createStyles.1d8ebf67.js","assets/index.51d3e235.js","assets/index.f367570a.css","assets/index.d8244ba1.js","assets/index.81138b53.js","assets/index.ebe70c7a.js","assets/Box.03b1797a.js","assets/Player.1091a6aa.js","assets/workerFunction.efd6a346.js","assets/terms.345e1479.js","assets/Paragraph.b674cc44.js","assets/Paragraph.e298a02d.css","assets/policy.430946f1.js"])),exact:!0}),x.createElement(He,{path:"/login",component:x.lazy(()=>Ve(()=>import("./login.0f06fcd5.js"),["assets/login.0f06fcd5.js","assets/EmptyLayout.d1e040be.js","assets/EmptyLayout.e6b4d145.css","assets/vendor.475cb2ff.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/Box.03b1797a.js","assets/capitalize.fc001633.js","assets/styled.00afe216.js","assets/Alert.94d06d4f.js","assets/createSvgIcon.896642b4.js","assets/Modal.58912532.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/Close.d1e77549.js","assets/createSvgIcon.57924123.js","assets/useControlled.8dca0ac1.js","assets/DialogActions.4fd50af4.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/DialogTitle.30786a4b.js","assets/AuthService.e8999ddc.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/ProfileMenu.c40c3395.js","assets/ProfileMenu.a4959623.css","assets/index.ad01b8cb.js","assets/useFormControl.a2039fae.js","assets/Button.a7dce846.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js"]))}),x.createElement(He,{path:"/webxr",component:x.lazy(()=>Ve(()=>import("./webxr.8f075466.js"),["assets/webxr.8f075466.js","assets/three.module.493739a3.js","assets/vendor.475cb2ff.js","assets/Player.1091a6aa.js","assets/workerFunction.efd6a346.js"]))}),x.createElement(He,{path:"/admin/armedia",component:x.lazy(()=>Ve(()=>import("./armedia.645694ac.js"),["assets/armedia.645694ac.js","assets/vendor.475cb2ff.js","assets/index.359e963c.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Slide.a5edb72c.js","assets/Modal.58912532.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.724616ec.js","assets/List.bc139f02.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/object.3b92d5fa.js","assets/_baseIteratee.d1a5d142.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/index.c1f5a49b.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/styled.00afe216.js","assets/Grid.07f86457.js","assets/index.ebe70c7a.js","assets/Close.d1e77549.js","assets/Container.6d032d94.js","assets/DialogTitle.30786a4b.js","assets/Select.d94966eb.js","assets/Button.a7dce846.js","assets/CardContent.1f497982.js","assets/DialogContentText.58aee466.js","assets/CardMedia.b80c1774.js","assets/Dialog.016d78d4.js"]))}),x.createElement(He,{path:"/admin/thefeeds",component:x.lazy(()=>Ve(()=>import("./thefeeds.f73f21ba.js"),["assets/thefeeds.f73f21ba.js","assets/vendor.475cb2ff.js","assets/index.359e963c.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Slide.a5edb72c.js","assets/Modal.58912532.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.724616ec.js","assets/List.bc139f02.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/TheFeedsService.9620790e.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/AuthService.e8999ddc.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Button.a7dce846.js","assets/TableRow.2819d16f.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js"]))}),x.createElement(He,{path:"/admin/feeds",component:x.lazy(()=>Ve(()=>import("./feeds.8c98b0ab.js"),["assets/feeds.8c98b0ab.js","assets/vendor.475cb2ff.js","assets/index.359e963c.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Slide.a5edb72c.js","assets/Modal.58912532.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.724616ec.js","assets/List.bc139f02.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/feathers.32f4d4e8.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/upload.bd537b46.js"]))}),x.createElement(He,{path:"/admin/users",component:x.lazy(()=>Ve(()=>import("./users.81f56d8a.js"),["assets/users.81f56d8a.js","assets/users.abbde69b.css","assets/vendor.475cb2ff.js","assets/index.301f4863.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/PopupsStateService.a3af5f05.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/CreatorService.46518bb7.js","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/Typography.19cbe78d.js","assets/Avatar.7391d47d.js","assets/IconButton.ce216bbb.js","assets/Modal.58912532.js","assets/CardContent.1f497982.js","assets/TableRow.2819d16f.js","assets/index.81a70c71.js","assets/index.18508d4e.css","assets/ArrowBackIos.d81b172a.js","assets/Button.a7dce846.js","assets/CardMedia.b80c1774.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/DialogTitle.30786a4b.js","assets/DialogContentText.58aee466.js","assets/index.eadf06b5.js","assets/index.4e34e7f2.css","assets/FeedService.76ef4a42.js","assets/Slide.a5edb72c.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/index.359e963c.js"]))}),x.createElement(He,{path:"/admin",component:x.lazy(()=>Ve(()=>import("./index.9c1e4950.js"),["assets/index.9c1e4950.js","assets/index.359e963c.js","assets/vendor.475cb2ff.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Slide.a5edb72c.js","assets/Modal.58912532.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/Backdrop.724616ec.js","assets/List.bc139f02.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/index.7b02be28.js","assets/index.85ecc35e.css"]))}),x.createElement(He,{path:"/editor/projects/:projectId",component:x.lazy(()=>Ve(()=>import("./[projectId].a008d20c.js").then(function(t){return t._}),["assets/[projectId].a008d20c.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/SystemUpdateType.772fc25d.js","assets/upload.bd537b46.js","assets/index.81138b53.js"]))}),x.createElement(He,{path:"/editor/projects",component:x.lazy(()=>Ve(()=>import("./projects.e2953083.js"),["assets/projects.e2953083.js","assets/vendor.475cb2ff.js","assets/object.3b92d5fa.js","assets/capitalize.fc001633.js","assets/Toolbar.2b358f1a.js","assets/createStyles.1d8ebf67.js","assets/Modal.58912532.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/Backdrop.724616ec.js","assets/Slide.a5edb72c.js","assets/useControlled.8dca0ac1.js","assets/List.bc139f02.js","assets/createSvgIcon.896642b4.js","assets/createSvgIcon.57924123.js","assets/_baseIteratee.d1a5d142.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/IconButton.ce216bbb.js","assets/SceneService.306da1a6.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/Container.6d032d94.js","assets/Typography.19cbe78d.js","assets/Avatar.7391d47d.js","assets/Select.d94966eb.js","assets/Grid.07f86457.js","assets/projectFunctions.0b423c97.js","assets/projectFunctions.9c5356f8.css","assets/upload.bd537b46.js","assets/___vite-browser-external_commonjs-proxy.0e203c6e.js","assets/__vite-browser-external.b6126e45.js","assets/three.module.493739a3.js","assets/avatarFunctions.6d66cf01.js","assets/SystemUpdateType.772fc25d.js","assets/index.81138b53.js","assets/index.ebe70c7a.js","assets/index.2272cc2f.js","assets/DialogContentText.58aee466.js","assets/Button.a7dce846.js","assets/Snackbar.6d62c301.js","assets/Alert.94d06d4f.js","assets/TableRow.2819d16f.js","assets/Dialog.016d78d4.js","assets/DialogTitle.30786a4b.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/AuthService.e8999ddc.js","assets/TextField.6a51581a.js","assets/InputLabel.f59c7db7.js","assets/DialogActions.4fd50af4.js","assets/ForgotPassword.0b8e21c7.js","assets/ProfileMenu.c40c3395.js","assets/ProfileMenu.a4959623.css","assets/index.ad01b8cb.js","assets/templates.ea26c9db.js"]))}),x.createElement(He,{path:"/editor/create",component:x.lazy(()=>Ve(()=>import("./create.1e5a0998.js"),["assets/create.1e5a0998.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js"]))}),x.createElement(He,{path:"/auth/oauth/facebook",component:x.lazy(()=>Ve(()=>import("./facebook.29ab03c1.js"),["assets/facebook.29ab03c1.js","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Container.6d032d94.js","assets/capitalize.fc001633.js"]))}),x.createElement(He,{path:"/auth/oauth/github",component:x.lazy(()=>Ve(()=>import("./github.fa16584e.js"),["assets/github.fa16584e.js","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Container.6d032d94.js","assets/capitalize.fc001633.js"]))}),x.createElement(He,{path:"/auth/oauth/google",component:x.lazy(()=>Ve(()=>import("./google.451a2662.js"),["assets/google.451a2662.js","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Container.6d032d94.js","assets/capitalize.fc001633.js"]))}),x.createElement(He,{path:"/auth/oauth/linkedin",component:x.lazy(()=>Ve(()=>import("./linkedin.b3470137.js"),["assets/linkedin.b3470137.js","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Container.6d032d94.js","assets/capitalize.fc001633.js"]))}),x.createElement(He,{path:"/auth/confirm",component:x.lazy(()=>Ve(()=>import("./confirm.80f34586.js"),["assets/confirm.80f34586.js","assets/confirm.6366265d.css","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/CardMedia.b80c1774.js","assets/capitalize.fc001633.js","assets/Typography.19cbe78d.js","assets/Button.a7dce846.js","assets/ButtonBase.fb193a96.js"]))}),x.createElement(He,{path:"/auth/forgotpassword",component:x.lazy(()=>Ve(()=>import("./forgotpassword.55d6832c.js"),["assets/forgotpassword.55d6832c.js","assets/vendor.475cb2ff.js","assets/ForgotPassword.0b8e21c7.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/Container.6d032d94.js","assets/capitalize.fc001633.js","assets/Typography.19cbe78d.js","assets/Grid.07f86457.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useControlled.8dca0ac1.js","assets/useFormControl.a2039fae.js","assets/ButtonBase.fb193a96.js","assets/ownerWindow.3d7152ce.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/Modal.58912532.js","assets/List.bc139f02.js","assets/createSvgIcon.896642b4.js","assets/Button.a7dce846.js"]))}),x.createElement(He,{path:"/auth/magiclink",component:x.lazy(()=>Ve(()=>import("./magiclink.24c552c4.js"),["assets/magiclink.24c552c4.js","assets/vendor.475cb2ff.js","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/Auth.module.3666b23e.js","assets/Auth.module.2123c3d3.css","assets/EmptyLayout.d1e040be.js","assets/EmptyLayout.e6b4d145.css","assets/Box.03b1797a.js","assets/capitalize.fc001633.js","assets/styled.00afe216.js","assets/Alert.94d06d4f.js","assets/createSvgIcon.896642b4.js","assets/Modal.58912532.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/Close.d1e77549.js","assets/createSvgIcon.57924123.js","assets/useControlled.8dca0ac1.js","assets/DialogActions.4fd50af4.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/DialogTitle.30786a4b.js","assets/Container.6d032d94.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js","assets/Button.a7dce846.js"]))}),x.createElement(He,{path:"/registration",component:x.lazy(()=>Ve(()=>import("./index.3a4e54fb.js"),["assets/index.3a4e54fb.js","assets/index.7c83e844.css","assets/AuthService.e8999ddc.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/vendor.475cb2ff.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/CreatorService.46518bb7.js","assets/upload.bd537b46.js","assets/WebxrNativeService.bf3f0be0.js","assets/index.ad01b8cb.js","assets/capitalize.fc001633.js","assets/useFormControl.a2039fae.js","assets/Typography.19cbe78d.js","assets/createSvgIcon.896642b4.js","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/ownerWindow.3d7152ce.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/Modal.58912532.js","assets/List.bc139f02.js","assets/Button.a7dce846.js"]))}),x.createElement(He,{path:"/post/:pid",component:x.lazy(()=>Ve(()=>import("./[pid].00bce866.js"),["assets/[pid].00bce866.js","assets/vendor.475cb2ff.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js"]))}),x.createElement(He,{path:"/activity",component:x.lazy(()=>Ve(()=>import("./activity.a573115a.js"),["assets/activity.a573115a.js","assets/vendor.475cb2ff.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js"]))}),x.createElement(He,{path:"/creator",component:x.lazy(()=>Ve(()=>import("./creator.53d752db.js"),["assets/creator.53d752db.js","assets/vendor.475cb2ff.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Slide.a5edb72c.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/Modal.58912532.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Button.a7dce846.js","assets/Avatar.7391d47d.js","assets/createSvgIcon.896642b4.js","assets/index.b93ee66e.js","assets/index.113ffea6.css","assets/index.eadf06b5.js","assets/index.4e34e7f2.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/useControlled.8dca0ac1.js","assets/index.301f4863.js","assets/Typography.19cbe78d.js","assets/IconButton.ce216bbb.js","assets/CardContent.1f497982.js","assets/FeedService.76ef4a42.js","assets/CardMedia.b80c1774.js","assets/DialogTitle.30786a4b.js","assets/DialogContentText.58aee466.js","assets/index.3f644741.js","assets/index.301208a0.css"]))}),x.createElement(He,{path:"/creatorEdit",component:x.lazy(()=>Ve(()=>import("./creatorEdit.2ae857d4.js"),["assets/creatorEdit.2ae857d4.js","assets/vendor.475cb2ff.js","assets/index.81a70c71.js","assets/index.18508d4e.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Button.a7dce846.js","assets/Typography.19cbe78d.js","assets/CardMedia.b80c1774.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/Modal.58912532.js","assets/List.bc139f02.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/Slide.a5edb72c.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Avatar.7391d47d.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),x.createElement(He,{path:"/explore",component:x.lazy(()=>Ve(()=>import("./creatorEdit.2ae857d4.js"),["assets/creatorEdit.2ae857d4.js","assets/vendor.475cb2ff.js","assets/index.81a70c71.js","assets/index.18508d4e.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Button.a7dce846.js","assets/Typography.19cbe78d.js","assets/CardMedia.b80c1774.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/Modal.58912532.js","assets/List.bc139f02.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/Slide.a5edb72c.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Avatar.7391d47d.js","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),x.createElement(He,{path:"/feed",component:x.lazy(()=>Ve(()=>import("./feed.ec2261d4.js"),["assets/feed.ec2261d4.js","assets/vendor.475cb2ff.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Slide.a5edb72c.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/Modal.58912532.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Button.a7dce846.js","assets/Avatar.7391d47d.js","assets/createSvgIcon.896642b4.js","assets/index.8b1cb91a.js","assets/index.dd82ccb3.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/useControlled.8dca0ac1.js","assets/FeedService.76ef4a42.js","assets/index.3f644741.js","assets/index.301208a0.css","assets/CardContent.1f497982.js","assets/CardMedia.b80c1774.js","assets/Typography.19cbe78d.js","assets/index.301f4863.js","assets/IconButton.ce216bbb.js","assets/index.4ce46cdd.js","assets/Grid.07f86457.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/useFormControl.a2039fae.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js","assets/Snackbar.6d62c301.js","assets/Alert.94d06d4f.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),x.createElement(He,{path:"/login",component:x.lazy(()=>Ve(()=>import("./login.0f06fcd5.js"),["assets/login.0f06fcd5.js","assets/EmptyLayout.d1e040be.js","assets/EmptyLayout.e6b4d145.css","assets/vendor.475cb2ff.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/Box.03b1797a.js","assets/capitalize.fc001633.js","assets/styled.00afe216.js","assets/Alert.94d06d4f.js","assets/createSvgIcon.896642b4.js","assets/Modal.58912532.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/IconButton.ce216bbb.js","assets/Typography.19cbe78d.js","assets/Close.d1e77549.js","assets/createSvgIcon.57924123.js","assets/useControlled.8dca0ac1.js","assets/DialogActions.4fd50af4.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/DialogTitle.30786a4b.js","assets/AuthService.e8999ddc.js","assets/feathers.32f4d4e8.js","assets/avatarFunctions.6d66cf01.js","assets/three.module.493739a3.js","assets/ProfileMenu.c40c3395.js","assets/ProfileMenu.a4959623.css","assets/index.ad01b8cb.js","assets/useFormControl.a2039fae.js","assets/Button.a7dce846.js","assets/TextField.6a51581a.js","assets/Input.1feafe2f.js","assets/InputLabel.f59c7db7.js","assets/Select.d94966eb.js","assets/List.bc139f02.js"]))}),x.createElement(He,{path:"/messages",component:x.lazy(()=>Ve(()=>import("./messages.db290546.js"),["assets/messages.db290546.js","assets/vendor.475cb2ff.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js"]))}),x.createElement(He,{path:"/newfeed",component:x.lazy(()=>Ve(()=>import("./newfeed.68767350.js"),["assets/newfeed.68767350.js","assets/vendor.475cb2ff.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Slide.a5edb72c.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/Modal.58912532.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Button.a7dce846.js","assets/Avatar.7391d47d.js","assets/createSvgIcon.896642b4.js","assets/index.51d3e235.js","assets/index.f367570a.css","assets/index.d8244ba1.js","assets/index.81138b53.js","assets/index.ebe70c7a.js","assets/index.4ce46cdd.js","assets/FeedService.76ef4a42.js","assets/WebxrNativeService.bf3f0be0.js","assets/Typography.19cbe78d.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),x.createElement(He,{path:"/notifications",component:x.lazy(()=>Ve(()=>import("./notifications.aba8d5be.js"),["assets/notifications.aba8d5be.js","assets/notifications.84e8497c.css","assets/vendor.475cb2ff.js","assets/index.e9ab7b95.js","assets/index.6ac56a98.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Slide.a5edb72c.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/ButtonBase.fb193a96.js","assets/Modal.58912532.js","assets/Dialog.016d78d4.js","assets/Backdrop.724616ec.js","assets/Button.a7dce846.js","assets/Avatar.7391d47d.js","assets/createSvgIcon.896642b4.js","assets/CardContent.1f497982.js","assets/Typography.19cbe78d.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/index.module.bb0750b5.js","assets/index.module.a7961912.css"]))}),x.createElement(He,{path:"/onboarding",component:x.lazy(()=>Ve(()=>import("./onboarding.9785d3c8.js"),["assets/onboarding.9785d3c8.js","assets/onboarding.2431354f.css","assets/vendor.475cb2ff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/Button.a7dce846.js","assets/capitalize.fc001633.js","assets/ButtonBase.fb193a96.js","assets/Typography.19cbe78d.js","assets/CardMedia.b80c1774.js"]))}),x.createElement(He,{path:"/videorecord",component:x.lazy(()=>Ve(()=>import("./videorecord.cefe5da3.js"),["assets/videorecord.cefe5da3.js","assets/vendor.475cb2ff.js","assets/index.d8244ba1.js","assets/index.81138b53.js","assets/index.ebe70c7a.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js"]))}),x.createElement(He,{path:"/privacypolicy",component:x.lazy(()=>Ve(()=>import("./privacypolicy.f5577fd6.js"),["assets/privacypolicy.f5577fd6.js","assets/vendor.475cb2ff.js"]))}),x.createElement(He,{path:"/terms",component:x.lazy(()=>Ve(()=>import("./terms.345e1479.js"),["assets/terms.345e1479.js","assets/vendor.475cb2ff.js","assets/Paragraph.b674cc44.js","assets/Paragraph.e298a02d.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Button.a7dce846.js","assets/index.7b02be28.js","assets/index.85ecc35e.css"]))}),x.createElement(He,{path:"/policy",component:x.lazy(()=>Ve(()=>import("./policy.430946f1.js"),["assets/policy.430946f1.js","assets/vendor.475cb2ff.js","assets/Paragraph.b674cc44.js","assets/Paragraph.e298a02d.css","assets/ArrowBackIos.d81b172a.js","assets/createSvgIcon.57924123.js","assets/capitalize.fc001633.js","assets/ownerWindow.3d7152ce.js","assets/createSvgIcon.896642b4.js","assets/useControlled.8dca0ac1.js","assets/ButtonBase.fb193a96.js","assets/Button.a7dce846.js","assets/index.7b02be28.js","assets/index.85ecc35e.css"]))}),x.createElement(He,{path:"/:pid",component:x.lazy(()=>Ve(()=>import("./[pid].fcb0201e.js"),["assets/[pid].fcb0201e.js","assets/index.07b783b7.js","assets/index.1f903c4e.css","assets/vendor.475cb2ff.js","assets/CreatorService.46518bb7.js","assets/AlertService.5d8abaff.js","assets/index.7b02be28.js","assets/index.85ecc35e.css","assets/feathers.32f4d4e8.js","assets/upload.bd537b46.js","assets/PopupsStateService.a3af5f05.js","assets/Avatar.7391d47d.js","assets/capitalize.fc001633.js","assets/createSvgIcon.896642b4.js"]))}),x.createElement(He,{path:"*",component:x.lazy(()=>Ve(()=>import("./404.80b7ddc2.js"),["assets/404.80b7ddc2.js","assets/vendor.475cb2ff.js"]))}))}}var Th={},Ah={exports:{}},Pb=t0(DP),Fi={},rl={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return n&&n.type==="@@redux/INIT"?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default})(rl,rl.exports);var Rh={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Pb,r=u(n),a=rl.exports,o=u(a);function u(l){return l&&l.__esModule?l:{default:l}}t.default=function(l,f,d){var h=Object.keys(f);if(!h.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var _=(0,o.default)(d);if(r.default.isImmutable?!r.default.isImmutable(l):!r.default.Iterable.isIterable(l))return"The "+_+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+h.join('", "')+'".';var v=l.toSeq().keySeq().toArray().filter(function(b){return!f.hasOwnProperty(b)});return v.length>0?"Unexpected "+(v.length===1?"property":"properties")+' "'+v.join('", "')+'" found in '+_+'. Expected to find one of the known reducer property names instead: "'+h.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default})(Rh,Rh.exports);var Oh={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,r,a){if(n===void 0)throw new Error('Reducer "'+r+'" returned undefined when handling "'+a.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default})(Oh,Oh.exports);Object.defineProperty(Fi,"__esModule",{value:!0});Fi.validateNextState=Fi.getUnexpectedInvocationParameterMessage=Fi.getStateName=void 0;var iF=rl.exports,aF=xh(iF),sF=Rh.exports,oF=xh(sF),uF=Oh.exports,cF=xh(uF);function xh(e){return e&&e.__esModule?e:{default:e}}Fi.getStateName=aF.default;Fi.getUnexpectedInvocationParameterMessage=oF.default;Fi.validateNextState=cF.default;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Pb,r=o(n),a=Fi;function o(u){return u&&u.__esModule?u:{default:u}}t.default=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.Map,f=Object.keys(u);return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),h=arguments[1];return d.withMutations(function(_){f.forEach(function(v){var b=u[v],w=_.get(v),E=b(w,h);(0,a.validateNextState)(E,v,h),_.set(v,E)})})}},e.exports=t.default})(Ah,Ah.exports);Object.defineProperty(Th,"__esModule",{value:!0});var Mb=Th.combineReducers=void 0,lF=Ah.exports,fF=dF(lF);function dF(e){return e&&e.__esModule?e:{default:e}}Mb=Th.combineReducers=fF.default;const O6=100,Ub=be({data:{}}),pF=(e,t)=>(Promise.resolve().then(()=>hF(t)),Ub.attach(Te).value),hF=e=>{Ub.batch(t=>{switch(e.type){case"VIDEO_CREATED":return t.merge({data:e.data})}},e.type)},Lb=100,il=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,users:{users:[],skip:0,limit:Lb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},userRole:{userRole:[],skip:0,limit:Lb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0},singleUser:{singleUser:hr,retrieving:!1,fetched:!1,updateNeeded:!0},staticResource:{staticResource:[],retrieving:!1,fetched:!1,updateNeeded:!0}}),mF=(e,t)=>(Promise.resolve().then(()=>_F(t)),il.attach(Te).value),_F=e=>{let t;il.batch(n=>{switch(e.type){case"ADMIN_LOADED_USERS":return t=e.userResult,n.users.merge({users:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"USER_ROLE_RETRIEVED":return t=e.types,n.userRole.merge({userRole:t.data,updateNeeded:!1});case"USER_ROLE_CREATED":return n.userRole.merge({updateNeeded:!0});case"USER_ADMIN_REMOVED":t=e.data;let r=[...n.users.users.value];return r=r.filter(a=>a.id!==t.id),n.users.merge({users:r,updateNeeded:!0});case"USER_ADMIN_CREATED":return t=e.user,n.users.merge({updateNeeded:!0});case"USER_ADMIN_PATCHED":return t=e.user,n.users.merge({updateNeeded:!0});case"USER_ROLE_UPDATED":return n.users.merge({updateNeeded:!0});case"USER_SEARCH_ADMIN":return t=e.userResult,n.users.merge({users:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"SINGLE_USER_ADMIN_LOADED":return t=e.data,n.singleUser.merge({singleUser:t,retrieving:!1,fetched:!0,updateNeeded:!1});case"STATIC_RESOURCE_RETRIEVED":return t=e.staticResource,n.staticResource.merge({staticResource:t.data,retrieving:!1,updateNeeded:!1,fetched:!0});case"SINGLE_USER_ADMIN_REFETCH":return n.singleUser.merge({updateNeeded:!0})}},e.type)},x6=()=>il,D6=()=>tn(il),Nb=be({contentPacks:[],updateNeeded:!0}),gF=(e,t)=>(Promise.resolve().then(()=>vF(t)),Nb.attach(Te).value),vF=e=>{Nb.batch(t=>{switch(e.type){case"LOADED_CONTENT_PACKS":return t.merge({updateNeeded:!1,contentPacks:e.contentPacks});case"CONTENT_PACK_CREATED":return t.merge({updateNeeded:!0});case"CONTENT_PACK_PATCHED":return t.merge({updateNeeded:!0})}},e.type)},yF=100,Fb=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,avatars:{avatars:[],skip:0,limit:yF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),EF=(e,t)=>(Promise.resolve().then(()=>bF(t)),Fb.attach(Te).value),bF=e=>{let t;Fb.batch(n=>{switch(e.type){case"AVATARS_RETRIEVED":t=e.avatars,n.avatars.merge({avatars:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},SF=100,No=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,instances:{instances:[],skip:0,limit:SF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),wF=(e,t)=>(Promise.resolve().then(()=>TF(t)),No.attach(Te).value),TF=e=>{let t;No.batch(n=>{switch(e.type){case"INSTANCES_RETRIEVED":return t=e.instanceResult,n.instances.merge({instances:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"INSTANCE_REMOVED_ROW":t=e.instance;let r=No.instances.value,a=r.instances;a=a.filter(o=>o.id!==t.id),r.instances=a,n.merge({instances:r})}},e.type)},I6=()=>No,C6=()=>tn(No),AF=100,Fo=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,locations:{locations:[],skip:0,limit:AF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,created:!1,lastFetched:new Date},locationTypes:{locationTypes:[],updateNeeded:!0}}),RF=(e,t)=>(Promise.resolve().then(()=>OF(t)),Fo.attach(Te).value),OF=e=>{let t;Fo.batch(n=>{switch(e.type){case"ADMIN_LOCATIONS_RETRIEVED":return t=e.locations,n.locations.merge({locations:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADMIN_LOCATION_CREATED":return n.locations.merge({updateNeeded:!0,created:!0});case"ADMIN_LOCATION_PATCHED":const r=Fo.locations.locations.value;for(let a=0;a<r.length;a++)r[a].id===e.location.id?r[a]=e.location:e.location.isLobby&&r[a].isLobby&&(r[a].isLobby=!1);return n.locations.merge({locations:r});case"ADMIN_LOCATION_REMOVED":return n.locations.merge({updateNeeded:!0});case"ADMIN_LOCATION_TYPES_RETRIEVED":return t=e.locationTypesResult,n.locationTypes.set({locationTypes:t.data,updateNeeded:!1})}},e.type)},k6=()=>Fo,P6=()=>tn(Fo),xF=100,$b=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,parties:{parties:[],skip:0,limit:xF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),DF=(e,t)=>(Promise.resolve().then(()=>IF(t)),$b.attach(Te).value),IF=e=>{let t;$b.batch(n=>{switch(e.type){case"PARTY_ADMIN_DISPLAYED":return t=e.data,n.parties.merge({parties:t.data,updateNeeded:!1});case"PARTY_ADMIN_CREATED":return n.parties.merge({updateNeeded:!0})}},e.type)},CF=100,al=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,scenes:{scenes:[],skip:0,limit:CF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),kF=(e,t)=>(Promise.resolve().then(()=>PF(t)),al.attach(Te).value),PF=e=>{let t;al.batch(n=>{switch(e.type){case"ADMIN_SCENES_RETRIEVED":return t=e.sceneDataResult,n.scenes.merge({scenes:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},M6=()=>al,U6=()=>tn(al),Vb=100,Hb=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,bots:{bots:[],skip:0,limit:Vb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},botCommand:{botCommand:[],skip:0,limit:Vb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),MF=(e,t)=>(Promise.resolve().then(()=>UF(t)),Hb.attach(Te).value),UF=e=>{let t;Hb.batch(n=>{switch(e.type){case"BOT_ADMIN_DISPLAY":return t=e.bots,n.merge({error:""}),n.bots.merge({bots:t.data,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"BOT_ADMIN_CREATE":return n.bots.merge({updateNeeded:!0});case"BOT_COMMAND_ADMIN_CREATE":return n.bots.merge({updateNeeded:!0});case"BOT_ADMIN_REMOVE":return n.bots.merge({updateNeeded:!0});case"BOT_COMMAND_ADMIN_REMOVE":return n.bots.merge({updateNeeded:!0});case"BOT_ADMIN_UPDATE":return n.bots.merge({updateNeeded:!0})}},e.type)},Gb=be({activeInstances:[],activeParties:[],instanceUsers:[],channelUsers:[],activeLocations:[],activeScenes:[],dailyUsers:[],dailyNewUsers:[]}),LF=(e,t)=>(Promise.resolve().then(()=>NF(t)),Gb.attach(Te).value),NF=e=>{let t;Gb.batch(n=>{switch(e.type){case"ACTIVE_INSTANCES_FETCHED":return t=e.analytics,n.merge({activeInstances:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_PARTIES_FETCHED":return t=e.analytics,n.merge({activeParties:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_LOCATIONS_FETCHED":return t=e.analytics,n.merge({activeLocations:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"ACTIVE_SCENES_FETCHED":return t=e.analytics,n.merge({activeScenes:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"CHANNEL_USERS_FETCHED":return t=e.analytics,n.merge({channelUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"INSTANCE_USERS_FETCHED":return t=e.analytics,n.merge({instanceUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"DAILY_NEW_USERS_FETCHED":return t=e.analytics,n.merge({dailyNewUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()});case"DAILY_USERS_FETCHED":return t=e.analytics,n.merge({dailyUsers:t.data.map(r=>[new Date(r.createdAt).getTime(),r.count]).reverse()})}},e.type)},FF=100,jb=be({isLoggedIn:!1,isProcessing:!1,error:"",authUser:Or,user:hr,identityProvider:Rr,realityPacks:{realityPacks:[],skip:0,limit:FF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date}}),$F=(e,t)=>(Promise.resolve().then(()=>VF(t)),jb.attach(Te).value),VF=e=>{let t;jb.batch(n=>{switch(e.type){case"REALITY_PACKS_RETRIEVED":return t=e.adminRealityPackResult,n.realityPacks.merge({realityPacks:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},HF=100,Dh=be({arMedia:{arMedia:[],skip:0,limit:HF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},adminList:[],list:[],fetching:!1,item:{},fetchingItem:!1}),Ih=(e,t)=>(Promise.resolve().then(()=>GF(t)),Dh.attach(Te).value),GF=e=>{Dh.batch(t=>{let n;switch(e.type){case"ARMEDIA_FETCHING":return t.fetching.set(!0);case"ARMEDIA_ADMIN_RETRIEVED":return n=e.list,t.arMedia.merge({arMedia:n.data,skip:n.skip,total:n.total,limit:n.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ARMEDIA_RETRIEVED":return t.merge({list:e.list,fetching:!1});case"ADD_ARMEDIA":return t.arMedia.updateNeeded.set(!0);case"REMOVE_ARMEDIA":return t.arMedia.updateNeeded.set(!0);case"ARMEDIA_FETCHING_ITEM":return t.fetchingItem.set(!0);case"ARMEDIA_RETRIEVED_ITEM":return t.merge({item:e.item,fetchingItem:!1});case"UPDATE_AR_MEDIA":return t.arMedia.updateNeeded.set(!0)}},e.type)},L6=()=>tn(Dh),sl=be({feeds:{feeds:[],feedsFetching:!1,feedsFeatured:[],feedsFeaturedFetching:!1,feedsCreator:[],feedsCreatorFetching:!1,feedsBookmark:[],feedsBookmarkFetching:!1,feedsFired:[],feedsFiredFetching:!1,myFeatured:[],myFeaturedFetching:!1,feed:{},fetching:!1,feedsAdmin:{feeds:[],updateNeeded:!0,lastFetched:new Date},feedsAdminFetching:!1,lastFeedVideoUrl:null}}),Ch=(e,t)=>(Promise.resolve().then(()=>jF(t)),sl.attach(Te).value),jF=e=>{sl.batch(t=>{let n;switch(e.type){case"FEEDS_FETCH":return t.feeds.feedsFetching.set(!0),t.feeds.fetching.set(!0);case"FEATURED_FEEDS_FETCH":return t.feeds.feedsFeaturedFetching.set(!0);case"CREATOR_FEEDS_FETCH":return t.feeds.feedsCreatorFetching.set(!0);case"BOOKMARK_FEEDS_FETCH":return t.feeds.feedsBookmarkFetching.set(!0);case"MY_FEATURED_FEEDS_FETCH":return t.feeds.myFeaturedFetching.set(!0);case"ADMIN_FEEDS_FETCH":return t.feeds.feedsAdminFetching.set(!0);case"FIRED_FEEDS_FETCH":return t.feeds.feedsFiredFetching.set(!0);case"FEEDS_RETRIEVED":return t.feeds.merge({feeds:e.feeds,feedsFetching:!1});case"FEEDS_FEATURED_RETRIEVED":return t.feeds.merge({feedsFeatured:e.feeds,feedsFeaturedFetching:!1});case"FEEDS_CREATOR_RETRIEVED":return t.feeds.merge({feedsCreator:e.feeds,feedsCreatorFetching:!1});case"CLEAR_CREATOR_FEATURED":return t.feeds.merge({feedsCreator:[],feedsCreatorFetching:!1});case"FEEDS_MY_FEATURED_RETRIEVED":return t.feeds.merge({myFeatured:e.feeds,myFeaturedFetching:!1});case"FEEDS_BOOKMARK_RETRIEVED":return t.feeds.merge({feedsBookmark:e.feeds,feedsBookmarkFetching:!1});case"FEEDS_FIRED_RETRIEVED":return t.feeds.merge({feedsFired:e.feeds,feedsFiredFetching:!1});case"FEED_RETRIEVED":return t.feeds.merge({feed:e.feed,fetching:!1});case"ADD_FEED_FIRES":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(o=>o.id===e.feedId?{...o,fires:++o.fires,isFired:!0}:{...o})),t.feeds.feed.set(n?{...n,fires:++n.fires,isFired:!0}:{});case"REMOVE_FEED_FIRES":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(o=>o.id===e.feedId?{...o,fires:o.fires-1,isFired:!1}:{...o})),t.feeds.feed.set(n?{...n,fires:--n.fires,isFired:!1}:{});case"ADD_FEED_BOOKMARK":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(o=>o.id===e.feedId?{...o,isBookmarked:!0}:{...o})),t.feeds.feed.set(n?{...n,isBookmarked:!0}:{});case"REMOVE_FEED_BOOKMARK":return n=t.feeds.feed?.value,t.feeds.feeds.set(t.feeds.feeds.value.map(o=>o.id===e.feedId?{...o,isBookmarked:!1}:{...o})),t.feeds.feed.set(n?{...n,isBookmarked:!1}:{});case"ADD_FEED_VIEW":return t.feeds.feedsFeatured.set(t.feeds.feedsFeatured?.value?.map(o=>o.id===e.feedId?{...o,viewsCount:++o.viewsCount}:{...o})),t.feeds.feed.set(n?{...n,viewsCount:++n.viewsCount}:{});case"ADD_FEED":return t.feeds.feeds.set([...t.feeds.feeds.value,e.feed]),t.feeds.feedsFetching.set(!1);case"ADD_FEED_FEATURED":return t.feeds.feedsCreator.set(t.feeds.feedsCreator.value.map(o=>o.id===e.feedId?{...o,featured:!0}:{...o}));case"REMOVE_FEED_FEATURED":const r=sl.feeds.myFeatured.value;return t.feeds.feedsCreator.set(t.feeds.feedsCreator.value.map(o=>o.id===e.feedId?{...o,featured:!1}:{...o})),t.feeds.myFeatured.set(r?[...r.splice(r.findIndex(o=>o.id===e.feedId),1)]:[]);case"FEEDS_AS_ADMIN_RETRIEVED":const a=e.feeds;return t.feeds.feedsAdmin.merge({feeds:a.data,updateNeeded:!1,lastFetched:new Date}),t.feeds.fetching.set(!1);case"UPDATE_FEED":return t.feeds.feedsAdmin.feeds.set(t.feeds.feedsAdmin.feeds.value.map(o=>o.id===e.feed.id?{...o,...e.feed}:{...o})),t.feeds.feedsAdminFetching.set(!1);case"DELETE_FEED":return t.feeds.feedsFeatured.set([...t.feeds.feedsFeatured.value.filter(o=>o.id!==e.feedId)]);case"LAST_FEED_VIDEO_URL":return t.feeds.lastFeedVideoUrl.set(e.filePath)}},e.type)},N6=()=>tn(sl),kh=be({creators:{creators:[],fetchingCreators:!1,creator:{},fetchingCreator:!1,currentCreator:{},fetchingCurrentCreator:!1,currentCreatorNotifications:[],followers:[],following:[],fetching:!1,blocked:[],splashTimeout:!0,updateNeeded:!1}}),Ph=(e,t)=>(Promise.resolve().then(()=>zF(t)),kh.attach(Te).value),zF=e=>{kh.batch(t=>{switch(e.type){case"SET_STATE_CREATORS":return t.creators.splashTimeout.set(e.splashTimeout);case"CURRENT_CREATOR_FETCH":return t.creators.fetchingCurrentCreator.set(!0);case"CURRENT_CREATOR_RETRIEVED":return t.creators.merge({currentCreator:e.creator,creators:t.creators.creators?.value.map(u=>u.id===e.creator.id?{...e.creator}:{...u}),fetchingCurrentCreator:!1});case"CREATOR_FETCH":return t.creators.merge({fetchingCreator:!0,creator:{id:"",name:"",username:""}});case"CREATOR_RETRIEVED":return t.creators.merge({creator:e.creator,fetchingCreator:!1});case"CREATORS_FETCH":return t.creators.merge({fetchingCreators:!0,creators:[]});case"CREATORS_RETRIEVED":return t.creators.merge({creators:e.creators,fetchingCreators:!1});case"CREATOR_NOTIFICATION_LIST_RETRIEVED":return t.creators.merge({currentCreatorNotifications:e.notifications,fetching:!1});case"SET_CREATOR_AS_FOLLOWED":return t.creators.creator.followed.set(!0);case"SET_CREATOR_NOT_FOLLOWED":return t.creators.creator.followed.set(!1);case"SET_CREATOR_AS_BLOCKED":const n=[...t.creators.creators.value],r=n.findIndex(u=>u.id===e.creatorId);return n.splice(r,1),t.creators.creator.blocked.set(!0),t.creators.creators.set(n);case"SET_CREATOR_AS_UN_BLOCKED":const a=[...t.creators.blocked.value],o=a.findIndex(u=>u.userId===e.blokedCreatorId);return a.splice(o,1),t.creators.blocked.set(a);case"CREATOR_BLOCKED_RETRIEVED":return t.creators.blocked.set(e.creators);case"CREATOR_FOLLOWERS_RETRIEVED":return t.creators.followers.set(e.creators);case"CREATOR_FOLLOWING_RETRIEVED":return t.creators.following.set(e.creators)}},e.type)},F6=()=>tn(kh),WF=10,zb=be({group:{group:[],skip:0,limit:WF,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},fetching:!1}),YF=(e,t)=>(Promise.resolve().then(()=>BF(t)),zb.attach(Te).value),BF=e=>{let t;zb.batch(n=>{switch(e.type){case"GROUP_FETCHING":return n.merge({fetching:!0});case"GROUP_ADMIN_RETRIEVED":return t=e.list,n.group.merge({group:t.data,skip:t.skip,limit:t.limit,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADD_GROUP":return n.group.merge({updateNeeded:!0});case"GROUP_ADMIN_UPDATE":return n.group.merge({updateNeeded:!0});case"GROUP_ADMIN_DELETE":return n.group.merge({updateNeeded:!0})}},e.type)},Wb=100,Yb=be({scope:{scope:[],skip:0,limit:Wb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},scopeType:{scopeType:[],skip:0,limit:Wb,total:0,retrieving:!1,fetched:!1,updateNeeded:!0,lastFetched:new Date},fetching:!1}),qF=(e,t)=>(Promise.resolve().then(()=>KF(t)),Yb.attach(Te).value),KF=e=>{let t;Yb.batch(n=>{switch(e.type){case"SCOPE_FETCHING":return n.merge({fetching:!0});case"SCOPE_ADMIN_RETRIEVED":return t=e.adminScopeResult,n.scope.merge({scope:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date});case"ADD_SCOPE":return n.scope.merge({updateNeeded:!0});case"UPDATE_SCOPE":return n.scope.merge({updateNeeded:!0});case"REMOVE_SCOPE":return n.scope.merge({updateNeeded:!0});case"SCOPE_TYPE_RETRIEVED":return t=e.adminScopTypeResult,n.scopeType.merge({scopeType:t.data,skip:t.skip,limit:t.limit,total:t.total,retrieving:!1,fetched:!0,updateNeeded:!1,lastFetched:new Date})}},e.type)},Bb=be({Analytics:{analytics:[],updateNeeded:!0}}),JF=(e,t)=>(Promise.resolve().then(()=>XF(t)),Bb.attach(Te).value),XF=e=>{let t;Bb.batch(n=>{switch(e.type){case"SETTING_ANALYIS_DISPLAY":return t=e.settingAnalyticsResult,n.Analytics.merge({analytics:t.data,updateNeeded:!1})}},e.type)},qb=be({Server:{server:[],updateNeeded:!0}}),ZF=(e,t)=>(Promise.resolve().then(()=>QF(t)),qb.attach(Te).value),QF=e=>{let t;qb.batch(n=>{switch(e.type){case"SETTING_SERVER_DISPLAY":return t=e.serverSettingResult,n.Server.merge({server:t.data,updateNeeded:!1})}},e.type)},Kb=be({Client:{client:[],updateNeeded:!0}}),e5=(e,t)=>(Promise.resolve().then(()=>t5(t)),Kb.attach(Te).value),t5=e=>{let t;Kb.batch(n=>{switch(e.type){case"CLIENT_SETTING_DISPLAY":return t=e.clientSettingResult,n.Client.merge({client:t.data,updateNeeded:!1})}},e.type)},Jb=be({gameServer:{gameserver:[],updateNeeded:!0}}),n5=(e,t)=>(Promise.resolve().then(()=>r5(t)),Jb.attach(Te).value),r5=e=>{let t;Jb.batch(n=>{switch(e.type){case"GAME_SERVER_SETTING_DISPLAY":return t=e.gameServerSettingResult,n.gameServer.merge({gameserver:t.data,updateNeeded:!1})}},e.type)},Xb=be({Email:{email:[],updateNeeded:!0}}),i5=(e,t)=>(Promise.resolve().then(()=>a5(t)),Xb.attach(Te).value),a5=e=>{let t;Xb.batch(n=>{switch(e.type){case"EMAIL_SETTING_DISPLAY":return t=e.emailSettingResult,n.Email.merge({email:t.data,updateNeeded:!1})}},e.type)},Zb=be({Chargebee:{chargebee:[],updateNeeded:!0}}),s5=(e,t)=>(Promise.resolve().then(()=>o5(t)),Zb.attach(Te).value),o5=e=>{let t;Zb.batch(n=>{switch(e.type){case"CHARGEBEE_SETTING_DISPLAY":return t=e.chargebeeSettingResult,n.Chargebee.merge({chargebee:t.data,updateNeeded:!1})}},e.type)},Qb=be({authSettings:{authSettings:[],skip:0,limit:100,total:0,retrieving:!1,fetched:!1,updateNeeded:!0}}),u5=(e,t)=>(Promise.resolve().then(()=>c5(t)),Qb.attach(Te).value),c5=e=>{let t;Qb.batch(n=>{switch(e.type){case"ADMIN_AUTH_SETTING_FETCHED":return t=e.adminRedisSettingResult,n.authSettings.merge({authSettings:t.data,skip:t.skip,limit:t.limit,total:t.total,updateNeeded:!1});case"ADMIN_AUTH_SETTING_PATCHED":return n.authSettings.updateNeeded.set(!0)}},e.type)},eS=be({awsSettings:{awsSettings:[],skip:0,limit:100,total:0,updateNeeded:!0}}),l5=(e,t)=>(Promise.resolve().then(()=>f5(t)),eS.attach(Te).value),f5=e=>{let t;eS.batch(n=>{switch(e.type){case"ADMIN_AWS_SETTING_FETCHED":return t=e.adminRedisSettingResult,n.awsSettings.merge({awsSettings:t.data,updateNeeded:!1})}},e.type)},tS=be({redisSettings:{redisSettings:[],skip:0,limit:100,total:0,updateNeeded:!0}}),d5=(e,t)=>(Promise.resolve().then(()=>p5(t)),tS.attach(Te).value),p5=e=>{let t;tS.batch(n=>{switch(e.type){case"ADMIN_REDIS_SETTING_FETCHED":return t=e.adminRedisSettingResult,n.redisSettings.merge({redisSettings:t.data,updateNeeded:!1})}},e.type)};var h5={adminUser:mF,admin:pF,contentPack:gF,adminAvatar:EF,adminInstance:wF,adminLocation:RF,adminParty:DF,adminRealityPack:$F,adminScene:kF,adminBots:MF,adminAnalytics:LF,arMedia:Ih,feedsAdmin:Ch,adminCreator:Ph,group:YF,scope:qF,settingAnalytics:JF,serverSettings:ZF,clientSettings:e5,gameServer:n5,email:i5,adminAuthSetting:u5,adminAwsSetting:l5,adminChargeBeeSetting:s5,adminRedisSetting:d5};const Mh=be({type:"none",message:""}),m5=(e,t)=>(Promise.resolve().then(()=>_5(t)),Mh.attach(Te).value),_5=e=>{Mh.batch(t=>{switch(e.type){case"SHOW_NOTIFICATION":return t.merge({type:e.alertType,message:e.message});case"HIDE_NOTIFICATION":return t.merge({type:e.alertType,message:e.message})}},e.alertType)},$6=()=>tn(Mh);var $o;(function(e){e[e.START_STATE=0]="START_STATE",e[e.AWAITING_INPUT=1]="AWAITING_INPUT",e[e.SCENE_LOADING=2]="SCENE_LOADING",e[e.SCENE_LOADED=3]="SCENE_LOADED",e[e.SUCCESS=4]="SUCCESS",e[e.FAILED=5]="FAILED",e[e.ALL_DONE=6]="ALL_DONE"})($o||($o={}));const $i=be({loaded:!1,inVrMode:!1,viewport:{width:1400,height:900},onBoardingStep:$o.START_STATE,isTutorial:!1,userHasInteracted:!1,loadPercent:0}),g5=(e,t)=>(Promise.resolve().then(()=>v5(t)),$i.attach(Te).value),v5=e=>{$i.batch(t=>{switch(e.type){case"SET_APP_LOADED":return t.merge({loaded:e.loaded});case"SET_APP_LOADING_PERCENT":return t.merge({loadPercent:e.loadPercent});case"SET_VIEWPORT_SIZE":return t.merge({viewport:{width:e.width,height:e.height}});case"SET_IN_VR_MODE":return t.merge({inVrMode:e.inVrMode});case"SET_USER_HAS_INTERACTED":return t.merge({userHasInteracted:!0});case"SET_APP_ONBOARDING_STEP":return e.onBoardingStep===$o.ALL_DONE?t.merge({onBoardingStep:e.onBoardingStep>=$i.onBoardingStep.value?e.onBoardingStep:$i.onBoardingStep.value}):e.onBoardingStep===$o.SCENE_LOADED?t.merge({onBoardingStep:e.onBoardingStep>=$i.onBoardingStep.value?e.onBoardingStep:$i.onBoardingStep.value,isTutorial:!0}):t.merge({onBoardingStep:e.onBoardingStep>=$i.onBoardingStep.value?e.onBoardingStep:$i.onBoardingStep.value,isTutorial:!1});case"SET_APP_SPECIFIC_ONBOARDING_STEP":return t.merge({onBoardingStep:e.onBoardingStep,isTutorial:e.isTutorial})}},e.type)},nS={title:void 0,children:void 0},Uh=be({isOpened:!1,content:nS}),y5=(e,t)=>(Promise.resolve().then(()=>E5(t)),Uh.attach(Te).value),E5=e=>{Uh.batch(t=>{switch(e.type){case"SHOW_DIALOG":return t.merge({isOpened:!0,content:e.content});case"CLOSE_DIALOG":return t.merge({isOpened:!1,content:nS})}},e.type)},V6=()=>tn(Uh),Lh=be({readError:{scopeErrorMessage:"",statusCode:0},writeError:{scopeErrorMessage:"",statusCode:0}}),b5=(e,t)=>(Promise.resolve().then(()=>S5(t)),Lh.attach(Te).value),S5=e=>{Lh.batch(t=>{switch(e.type){case"SET_SCOPE_READ_ERROR":return t.merge({readError:{scopeErrorMessage:e.message,statusCode:e.statusCode}});case"SET_SCOPE_WRITE_ERROR":return t.merge({writeError:{scopeErrorMessage:e.message,statusCode:e.statusCode}})}},e.type)},H6=()=>tn(Lh);var w5={app:g5,alert:m5,dialog:y5,scopeError:b5},Nh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",_=1,v=2,b=4,w=1,E=2,T=1,k=2,M=4,B=8,Z=16,Y=32,ne=64,V=128,z=256,ae=512,ee=30,_e="...",ve=800,G=16,C=1,I=2,L=3,U=1/0,W=9007199254740991,ie=17976931348623157e292,q=0/0,re=4294967295,N=re-1,$=re>>>1,X=[["ary",V],["bind",T],["bindKey",k],["curry",B],["curryRight",Z],["flip",ae],["partial",Y],["partialRight",ne],["rearg",z]],Q="[object Arguments]",R="[object Array]",ce="[object AsyncFunction]",K="[object Boolean]",xe="[object Date]",De="[object DOMException]",Ne="[object Error]",Se="[object Function]",It="[object GeneratorFunction]",rt="[object Map]",Ue="[object Number]",Vt="[object Null]",ke="[object Object]",Ct="[object Promise]",ji="[object Proxy]",Tt="[object RegExp]",qt="[object Set]",rr="[object String]",Kt="[object Symbol]",we="[object Undefined]",tt="[object WeakMap]",ws="[object WeakSet]",Mr="[object ArrayBuffer]",on="[object DataView]",Cl="[object Float32Array]",kl="[object Float64Array]",Pl="[object Int8Array]",Ml="[object Int16Array]",Ul="[object Int32Array]",Ll="[object Uint8Array]",Nl="[object Uint8ClampedArray]",Fl="[object Uint16Array]",$l="[object Uint32Array]",h1=/\b__p \+= '';/g,m1=/\b(__p \+=) '' \+/g,_1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Am=/&(?:amp|lt|gt|quot|#39);/g,Rm=/[&<>"']/g,g1=RegExp(Am.source),v1=RegExp(Rm.source),y1=/<%-([\s\S]+?)%>/g,E1=/<%([\s\S]+?)%>/g,Om=/<%=([\s\S]+?)%>/g,b1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S1=/^\w*$/,w1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vl=/[\\^$.*+?()[\]{}|]/g,T1=RegExp(Vl.source),Hl=/^\s+/,A1=/\s/,R1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,O1=/\{\n\/\* \[wrapped with (.+)\] \*/,x1=/,? & /,D1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,I1=/[()=,{}\[\]\/\s]/,C1=/\\(\\)?/g,k1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xm=/\w*$/,P1=/^[-+]0x[0-9a-f]+$/i,M1=/^0b[01]+$/i,U1=/^\[object .+?Constructor\]$/,L1=/^0o[0-7]+$/i,N1=/^(?:0|[1-9]\d*)$/,F1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xo=/($^)/,$1=/['\n\r\u2028\u2029\\]/g,Zo="\\ud800-\\udfff",V1="\\u0300-\\u036f",H1="\\ufe20-\\ufe2f",G1="\\u20d0-\\u20ff",Dm=V1+H1+G1,Im="\\u2700-\\u27bf",Cm="a-z\\xdf-\\xf6\\xf8-\\xff",j1="\\xac\\xb1\\xd7\\xf7",z1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",W1="\\u2000-\\u206f",Y1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",km="A-Z\\xc0-\\xd6\\xd8-\\xde",Pm="\\ufe0e\\ufe0f",Mm=j1+z1+W1+Y1,Gl="['\u2019]",B1="["+Zo+"]",Um="["+Mm+"]",Qo="["+Dm+"]",Lm="\\d+",q1="["+Im+"]",Nm="["+Cm+"]",Fm="[^"+Zo+Mm+Lm+Im+Cm+km+"]",jl="\\ud83c[\\udffb-\\udfff]",K1="(?:"+Qo+"|"+jl+")",$m="[^"+Zo+"]",zl="(?:\\ud83c[\\udde6-\\uddff]){2}",Wl="[\\ud800-\\udbff][\\udc00-\\udfff]",va="["+km+"]",Vm="\\u200d",Hm="(?:"+Nm+"|"+Fm+")",J1="(?:"+va+"|"+Fm+")",Gm="(?:"+Gl+"(?:d|ll|m|re|s|t|ve))?",jm="(?:"+Gl+"(?:D|LL|M|RE|S|T|VE))?",zm=K1+"?",Wm="["+Pm+"]?",X1="(?:"+Vm+"(?:"+[$m,zl,Wl].join("|")+")"+Wm+zm+")*",Z1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Q1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ym=Wm+zm+X1,ew="(?:"+[q1,zl,Wl].join("|")+")"+Ym,tw="(?:"+[$m+Qo+"?",Qo,zl,Wl,B1].join("|")+")",nw=RegExp(Gl,"g"),rw=RegExp(Qo,"g"),Yl=RegExp(jl+"(?="+jl+")|"+tw+Ym,"g"),iw=RegExp([va+"?"+Nm+"+"+Gm+"(?="+[Um,va,"$"].join("|")+")",J1+"+"+jm+"(?="+[Um,va+Hm,"$"].join("|")+")",va+"?"+Hm+"+"+Gm,va+"+"+jm,Q1,Z1,Lm,ew].join("|"),"g"),aw=RegExp("["+Vm+Zo+Dm+Pm+"]"),sw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ow=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uw=-1,lt={};lt[Cl]=lt[kl]=lt[Pl]=lt[Ml]=lt[Ul]=lt[Ll]=lt[Nl]=lt[Fl]=lt[$l]=!0,lt[Q]=lt[R]=lt[Mr]=lt[K]=lt[on]=lt[xe]=lt[Ne]=lt[Se]=lt[rt]=lt[Ue]=lt[ke]=lt[Tt]=lt[qt]=lt[rr]=lt[tt]=!1;var it={};it[Q]=it[R]=it[Mr]=it[on]=it[K]=it[xe]=it[Cl]=it[kl]=it[Pl]=it[Ml]=it[Ul]=it[rt]=it[Ue]=it[ke]=it[Tt]=it[qt]=it[rr]=it[Kt]=it[Ll]=it[Nl]=it[Fl]=it[$l]=!0,it[Ne]=it[Se]=it[tt]=!1;var cw={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},lw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pw=parseFloat,hw=parseInt,Bm=typeof Vs=="object"&&Vs&&Vs.Object===Object&&Vs,mw=typeof self=="object"&&self&&self.Object===Object&&self,jt=Bm||mw||Function("return this")(),Bl=t&&!t.nodeType&&t,zi=Bl&&!0&&e&&!e.nodeType&&e,qm=zi&&zi.exports===Bl,ql=qm&&Bm.process,$n=function(){try{var O=zi&&zi.require&&zi.require("util").types;return O||ql&&ql.binding&&ql.binding("util")}catch(F){}}(),Km=$n&&$n.isArrayBuffer,Jm=$n&&$n.isDate,Xm=$n&&$n.isMap,Zm=$n&&$n.isRegExp,Qm=$n&&$n.isSet,e_=$n&&$n.isTypedArray;function Tn(O,F,P){switch(P.length){case 0:return O.call(F);case 1:return O.call(F,P[0]);case 2:return O.call(F,P[0],P[1]);case 3:return O.call(F,P[0],P[1],P[2])}return O.apply(F,P)}function _w(O,F,P,le){for(var Ae=-1,qe=O==null?0:O.length;++Ae<qe;){var Ut=O[Ae];F(le,Ut,P(Ut),O)}return le}function Vn(O,F){for(var P=-1,le=O==null?0:O.length;++P<le&&F(O[P],P,O)!==!1;);return O}function gw(O,F){for(var P=O==null?0:O.length;P--&&F(O[P],P,O)!==!1;);return O}function t_(O,F){for(var P=-1,le=O==null?0:O.length;++P<le;)if(!F(O[P],P,O))return!1;return!0}function oi(O,F){for(var P=-1,le=O==null?0:O.length,Ae=0,qe=[];++P<le;){var Ut=O[P];F(Ut,P,O)&&(qe[Ae++]=Ut)}return qe}function eu(O,F){var P=O==null?0:O.length;return!!P&&ya(O,F,0)>-1}function Kl(O,F,P){for(var le=-1,Ae=O==null?0:O.length;++le<Ae;)if(P(F,O[le]))return!0;return!1}function vt(O,F){for(var P=-1,le=O==null?0:O.length,Ae=Array(le);++P<le;)Ae[P]=F(O[P],P,O);return Ae}function ui(O,F){for(var P=-1,le=F.length,Ae=O.length;++P<le;)O[Ae+P]=F[P];return O}function Jl(O,F,P,le){var Ae=-1,qe=O==null?0:O.length;for(le&&qe&&(P=O[++Ae]);++Ae<qe;)P=F(P,O[Ae],Ae,O);return P}function vw(O,F,P,le){var Ae=O==null?0:O.length;for(le&&Ae&&(P=O[--Ae]);Ae--;)P=F(P,O[Ae],Ae,O);return P}function Xl(O,F){for(var P=-1,le=O==null?0:O.length;++P<le;)if(F(O[P],P,O))return!0;return!1}var yw=Zl("length");function Ew(O){return O.split("")}function bw(O){return O.match(D1)||[]}function n_(O,F,P){var le;return P(O,function(Ae,qe,Ut){if(F(Ae,qe,Ut))return le=qe,!1}),le}function tu(O,F,P,le){for(var Ae=O.length,qe=P+(le?1:-1);le?qe--:++qe<Ae;)if(F(O[qe],qe,O))return qe;return-1}function ya(O,F,P){return F===F?Pw(O,F,P):tu(O,r_,P)}function Sw(O,F,P,le){for(var Ae=P-1,qe=O.length;++Ae<qe;)if(le(O[Ae],F))return Ae;return-1}function r_(O){return O!==O}function i_(O,F){var P=O==null?0:O.length;return P?ef(O,F)/P:q}function Zl(O){return function(F){return F==null?n:F[O]}}function Ql(O){return function(F){return O==null?n:O[F]}}function a_(O,F,P,le,Ae){return Ae(O,function(qe,Ut,nt){P=le?(le=!1,qe):F(P,qe,Ut,nt)}),P}function ww(O,F){var P=O.length;for(O.sort(F);P--;)O[P]=O[P].value;return O}function ef(O,F){for(var P,le=-1,Ae=O.length;++le<Ae;){var qe=F(O[le]);qe!==n&&(P=P===n?qe:P+qe)}return P}function tf(O,F){for(var P=-1,le=Array(O);++P<O;)le[P]=F(P);return le}function Tw(O,F){return vt(F,function(P){return[P,O[P]]})}function s_(O){return O&&O.slice(0,l_(O)+1).replace(Hl,"")}function An(O){return function(F){return O(F)}}function nf(O,F){return vt(F,function(P){return O[P]})}function Ts(O,F){return O.has(F)}function o_(O,F){for(var P=-1,le=O.length;++P<le&&ya(F,O[P],0)>-1;);return P}function u_(O,F){for(var P=O.length;P--&&ya(F,O[P],0)>-1;);return P}function Aw(O,F){for(var P=O.length,le=0;P--;)O[P]===F&&++le;return le}var Rw=Ql(cw),Ow=Ql(lw);function xw(O){return"\\"+dw[O]}function Dw(O,F){return O==null?n:O[F]}function Ea(O){return aw.test(O)}function Iw(O){return sw.test(O)}function Cw(O){for(var F,P=[];!(F=O.next()).done;)P.push(F.value);return P}function rf(O){var F=-1,P=Array(O.size);return O.forEach(function(le,Ae){P[++F]=[Ae,le]}),P}function c_(O,F){return function(P){return O(F(P))}}function ci(O,F){for(var P=-1,le=O.length,Ae=0,qe=[];++P<le;){var Ut=O[P];(Ut===F||Ut===h)&&(O[P]=h,qe[Ae++]=P)}return qe}function nu(O){var F=-1,P=Array(O.size);return O.forEach(function(le){P[++F]=le}),P}function kw(O){var F=-1,P=Array(O.size);return O.forEach(function(le){P[++F]=[le,le]}),P}function Pw(O,F,P){for(var le=P-1,Ae=O.length;++le<Ae;)if(O[le]===F)return le;return-1}function Mw(O,F,P){for(var le=P+1;le--;)if(O[le]===F)return le;return le}function ba(O){return Ea(O)?Lw(O):yw(O)}function ir(O){return Ea(O)?Nw(O):Ew(O)}function l_(O){for(var F=O.length;F--&&A1.test(O.charAt(F)););return F}var Uw=Ql(fw);function Lw(O){for(var F=Yl.lastIndex=0;Yl.test(O);)++F;return F}function Nw(O){return O.match(Yl)||[]}function Fw(O){return O.match(iw)||[]}var $w=function O(F){F=F==null?jt:Sa.defaults(jt.Object(),F,Sa.pick(jt,ow));var P=F.Array,le=F.Date,Ae=F.Error,qe=F.Function,Ut=F.Math,nt=F.Object,af=F.RegExp,Vw=F.String,Hn=F.TypeError,ru=P.prototype,Hw=qe.prototype,wa=nt.prototype,iu=F["__core-js_shared__"],au=Hw.toString,Xe=wa.hasOwnProperty,Gw=0,f_=function(){var i=/[^.]+$/.exec(iu&&iu.keys&&iu.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),su=wa.toString,jw=au.call(nt),zw=jt._,Ww=af("^"+au.call(Xe).replace(Vl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ou=qm?F.Buffer:n,li=F.Symbol,uu=F.Uint8Array,d_=ou?ou.allocUnsafe:n,cu=c_(nt.getPrototypeOf,nt),p_=nt.create,h_=wa.propertyIsEnumerable,lu=ru.splice,m_=li?li.isConcatSpreadable:n,As=li?li.iterator:n,Wi=li?li.toStringTag:n,fu=function(){try{var i=Ji(nt,"defineProperty");return i({},"",{}),i}catch(s){}}(),Yw=F.clearTimeout!==jt.clearTimeout&&F.clearTimeout,Bw=le&&le.now!==jt.Date.now&&le.now,qw=F.setTimeout!==jt.setTimeout&&F.setTimeout,du=Ut.ceil,pu=Ut.floor,sf=nt.getOwnPropertySymbols,Kw=ou?ou.isBuffer:n,__=F.isFinite,Jw=ru.join,Xw=c_(nt.keys,nt),Lt=Ut.max,Jt=Ut.min,Zw=le.now,Qw=F.parseInt,g_=Ut.random,eT=ru.reverse,of=Ji(F,"DataView"),Rs=Ji(F,"Map"),uf=Ji(F,"Promise"),Ta=Ji(F,"Set"),Os=Ji(F,"WeakMap"),xs=Ji(nt,"create"),hu=Os&&new Os,Aa={},tT=Xi(of),nT=Xi(Rs),rT=Xi(uf),iT=Xi(Ta),aT=Xi(Os),mu=li?li.prototype:n,Ds=mu?mu.valueOf:n,v_=mu?mu.toString:n;function g(i){if(Rt(i)&&!Re(i)&&!(i instanceof $e)){if(i instanceof Gn)return i;if(Xe.call(i,"__wrapped__"))return yg(i)}return new Gn(i)}var Ra=function(){function i(){}return function(s){if(!At(s))return{};if(p_)return p_(s);i.prototype=s;var c=new i;return i.prototype=n,c}}();function _u(){}function Gn(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}g.templateSettings={escape:y1,evaluate:E1,interpolate:Om,variable:"",imports:{_:g}},g.prototype=_u.prototype,g.prototype.constructor=g,Gn.prototype=Ra(_u.prototype),Gn.prototype.constructor=Gn;function $e(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function sT(){var i=new $e(this.__wrapped__);return i.__actions__=_n(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=_n(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=_n(this.__views__),i}function oT(){if(this.__filtered__){var i=new $e(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function uT(){var i=this.__wrapped__.value(),s=this.__dir__,c=Re(i),p=s<0,m=c?i.length:0,y=EA(0,m,this.__views__),S=y.start,A=y.end,D=A-S,H=p?A:S-1,j=this.__iteratees__,J=j.length,oe=0,he=Jt(D,this.__takeCount__);if(!c||!p&&m==D&&he==D)return G_(i,this.__actions__);var ye=[];e:for(;D--&&oe<he;){H+=s;for(var Pe=-1,Ee=i[H];++Pe<J;){var Fe=j[Pe],Ge=Fe.iteratee,xn=Fe.type,ln=Ge(Ee);if(xn==I)Ee=ln;else if(!ln){if(xn==C)continue e;break e}}ye[oe++]=Ee}return ye}$e.prototype=Ra(_u.prototype),$e.prototype.constructor=$e;function Yi(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var p=i[s];this.set(p[0],p[1])}}function cT(){this.__data__=xs?xs(null):{},this.size=0}function lT(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function fT(i){var s=this.__data__;if(xs){var c=s[i];return c===f?n:c}return Xe.call(s,i)?s[i]:n}function dT(i){var s=this.__data__;return xs?s[i]!==n:Xe.call(s,i)}function pT(i,s){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=xs&&s===n?f:s,this}Yi.prototype.clear=cT,Yi.prototype.delete=lT,Yi.prototype.get=fT,Yi.prototype.has=dT,Yi.prototype.set=pT;function Ur(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var p=i[s];this.set(p[0],p[1])}}function hT(){this.__data__=[],this.size=0}function mT(i){var s=this.__data__,c=gu(s,i);if(c<0)return!1;var p=s.length-1;return c==p?s.pop():lu.call(s,c,1),--this.size,!0}function _T(i){var s=this.__data__,c=gu(s,i);return c<0?n:s[c][1]}function gT(i){return gu(this.__data__,i)>-1}function vT(i,s){var c=this.__data__,p=gu(c,i);return p<0?(++this.size,c.push([i,s])):c[p][1]=s,this}Ur.prototype.clear=hT,Ur.prototype.delete=mT,Ur.prototype.get=_T,Ur.prototype.has=gT,Ur.prototype.set=vT;function Lr(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var p=i[s];this.set(p[0],p[1])}}function yT(){this.size=0,this.__data__={hash:new Yi,map:new(Rs||Ur),string:new Yi}}function ET(i){var s=Du(this,i).delete(i);return this.size-=s?1:0,s}function bT(i){return Du(this,i).get(i)}function ST(i){return Du(this,i).has(i)}function wT(i,s){var c=Du(this,i),p=c.size;return c.set(i,s),this.size+=c.size==p?0:1,this}Lr.prototype.clear=yT,Lr.prototype.delete=ET,Lr.prototype.get=bT,Lr.prototype.has=ST,Lr.prototype.set=wT;function Bi(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new Lr;++s<c;)this.add(i[s])}function TT(i){return this.__data__.set(i,f),this}function AT(i){return this.__data__.has(i)}Bi.prototype.add=Bi.prototype.push=TT,Bi.prototype.has=AT;function ar(i){var s=this.__data__=new Ur(i);this.size=s.size}function RT(){this.__data__=new Ur,this.size=0}function OT(i){var s=this.__data__,c=s.delete(i);return this.size=s.size,c}function xT(i){return this.__data__.get(i)}function DT(i){return this.__data__.has(i)}function IT(i,s){var c=this.__data__;if(c instanceof Ur){var p=c.__data__;if(!Rs||p.length<a-1)return p.push([i,s]),this.size=++c.size,this;c=this.__data__=new Lr(p)}return c.set(i,s),this.size=c.size,this}ar.prototype.clear=RT,ar.prototype.delete=OT,ar.prototype.get=xT,ar.prototype.has=DT,ar.prototype.set=IT;function y_(i,s){var c=Re(i),p=!c&&Zi(i),m=!c&&!p&&mi(i),y=!c&&!p&&!m&&Ia(i),S=c||p||m||y,A=S?tf(i.length,Vw):[],D=A.length;for(var H in i)(s||Xe.call(i,H))&&!(S&&(H=="length"||m&&(H=="offset"||H=="parent")||y&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||Vr(H,D)))&&A.push(H);return A}function E_(i){var s=i.length;return s?i[yf(0,s-1)]:n}function CT(i,s){return Iu(_n(i),qi(s,0,i.length))}function kT(i){return Iu(_n(i))}function cf(i,s,c){(c!==n&&!sr(i[s],c)||c===n&&!(s in i))&&Nr(i,s,c)}function Is(i,s,c){var p=i[s];(!(Xe.call(i,s)&&sr(p,c))||c===n&&!(s in i))&&Nr(i,s,c)}function gu(i,s){for(var c=i.length;c--;)if(sr(i[c][0],s))return c;return-1}function PT(i,s,c,p){return fi(i,function(m,y,S){s(p,m,c(m),S)}),p}function b_(i,s){return i&&Sr(s,Ht(s),i)}function MT(i,s){return i&&Sr(s,vn(s),i)}function Nr(i,s,c){s=="__proto__"&&fu?fu(i,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[s]=c}function lf(i,s){for(var c=-1,p=s.length,m=P(p),y=i==null;++c<p;)m[c]=y?n:zf(i,s[c]);return m}function qi(i,s,c){return i===i&&(c!==n&&(i=i<=c?i:c),s!==n&&(i=i>=s?i:s)),i}function jn(i,s,c,p,m,y){var S,A=s&_,D=s&v,H=s&b;if(c&&(S=m?c(i,p,m,y):c(i)),S!==n)return S;if(!At(i))return i;var j=Re(i);if(j){if(S=SA(i),!A)return _n(i,S)}else{var J=Xt(i),oe=J==Se||J==It;if(mi(i))return W_(i,A);if(J==ke||J==Q||oe&&!m){if(S=D||oe?{}:lg(i),!A)return D?fA(i,MT(S,i)):lA(i,b_(S,i))}else{if(!it[J])return m?i:{};S=wA(i,J,A)}}y||(y=new ar);var he=y.get(i);if(he)return he;y.set(i,S),$g(i)?i.forEach(function(Ee){S.add(jn(Ee,s,c,Ee,i,y))}):Ng(i)&&i.forEach(function(Ee,Fe){S.set(Fe,jn(Ee,s,c,Fe,i,y))});var ye=H?D?If:Df:D?vn:Ht,Pe=j?n:ye(i);return Vn(Pe||i,function(Ee,Fe){Pe&&(Fe=Ee,Ee=i[Fe]),Is(S,Fe,jn(Ee,s,c,Fe,i,y))}),S}function UT(i){var s=Ht(i);return function(c){return S_(c,i,s)}}function S_(i,s,c){var p=c.length;if(i==null)return!p;for(i=nt(i);p--;){var m=c[p],y=s[m],S=i[m];if(S===n&&!(m in i)||!y(S))return!1}return!0}function w_(i,s,c){if(typeof i!="function")throw new Hn(u);return Ns(function(){i.apply(n,c)},s)}function Cs(i,s,c,p){var m=-1,y=eu,S=!0,A=i.length,D=[],H=s.length;if(!A)return D;c&&(s=vt(s,An(c))),p?(y=Kl,S=!1):s.length>=a&&(y=Ts,S=!1,s=new Bi(s));e:for(;++m<A;){var j=i[m],J=c==null?j:c(j);if(j=p||j!==0?j:0,S&&J===J){for(var oe=H;oe--;)if(s[oe]===J)continue e;D.push(j)}else y(s,J,p)||D.push(j)}return D}var fi=J_(br),T_=J_(df,!0);function LT(i,s){var c=!0;return fi(i,function(p,m,y){return c=!!s(p,m,y),c}),c}function vu(i,s,c){for(var p=-1,m=i.length;++p<m;){var y=i[p],S=s(y);if(S!=null&&(A===n?S===S&&!On(S):c(S,A)))var A=S,D=y}return D}function NT(i,s,c,p){var m=i.length;for(c=Ie(c),c<0&&(c=-c>m?0:m+c),p=p===n||p>m?m:Ie(p),p<0&&(p+=m),p=c>p?0:Hg(p);c<p;)i[c++]=s;return i}function A_(i,s){var c=[];return fi(i,function(p,m,y){s(p,m,y)&&c.push(p)}),c}function zt(i,s,c,p,m){var y=-1,S=i.length;for(c||(c=AA),m||(m=[]);++y<S;){var A=i[y];s>0&&c(A)?s>1?zt(A,s-1,c,p,m):ui(m,A):p||(m[m.length]=A)}return m}var ff=X_(),R_=X_(!0);function br(i,s){return i&&ff(i,s,Ht)}function df(i,s){return i&&R_(i,s,Ht)}function yu(i,s){return oi(s,function(c){return Hr(i[c])})}function Ki(i,s){s=pi(s,i);for(var c=0,p=s.length;i!=null&&c<p;)i=i[wr(s[c++])];return c&&c==p?i:n}function O_(i,s,c){var p=s(i);return Re(i)?p:ui(p,c(i))}function un(i){return i==null?i===n?we:Vt:Wi&&Wi in nt(i)?yA(i):kA(i)}function pf(i,s){return i>s}function FT(i,s){return i!=null&&Xe.call(i,s)}function $T(i,s){return i!=null&&s in nt(i)}function VT(i,s,c){return i>=Jt(s,c)&&i<Lt(s,c)}function hf(i,s,c){for(var p=c?Kl:eu,m=i[0].length,y=i.length,S=y,A=P(y),D=1/0,H=[];S--;){var j=i[S];S&&s&&(j=vt(j,An(s))),D=Jt(j.length,D),A[S]=!c&&(s||m>=120&&j.length>=120)?new Bi(S&&j):n}j=i[0];var J=-1,oe=A[0];e:for(;++J<m&&H.length<D;){var he=j[J],ye=s?s(he):he;if(he=c||he!==0?he:0,!(oe?Ts(oe,ye):p(H,ye,c))){for(S=y;--S;){var Pe=A[S];if(!(Pe?Ts(Pe,ye):p(i[S],ye,c)))continue e}oe&&oe.push(ye),H.push(he)}}return H}function HT(i,s,c,p){return br(i,function(m,y,S){s(p,c(m),y,S)}),p}function ks(i,s,c){s=pi(s,i),i=hg(i,s);var p=i==null?i:i[wr(Wn(s))];return p==null?n:Tn(p,i,c)}function x_(i){return Rt(i)&&un(i)==Q}function GT(i){return Rt(i)&&un(i)==Mr}function jT(i){return Rt(i)&&un(i)==xe}function Ps(i,s,c,p,m){return i===s?!0:i==null||s==null||!Rt(i)&&!Rt(s)?i!==i&&s!==s:zT(i,s,c,p,Ps,m)}function zT(i,s,c,p,m,y){var S=Re(i),A=Re(s),D=S?R:Xt(i),H=A?R:Xt(s);D=D==Q?ke:D,H=H==Q?ke:H;var j=D==ke,J=H==ke,oe=D==H;if(oe&&mi(i)){if(!mi(s))return!1;S=!0,j=!1}if(oe&&!j)return y||(y=new ar),S||Ia(i)?og(i,s,c,p,m,y):gA(i,s,D,c,p,m,y);if(!(c&w)){var he=j&&Xe.call(i,"__wrapped__"),ye=J&&Xe.call(s,"__wrapped__");if(he||ye){var Pe=he?i.value():i,Ee=ye?s.value():s;return y||(y=new ar),m(Pe,Ee,c,p,y)}}return oe?(y||(y=new ar),vA(i,s,c,p,m,y)):!1}function WT(i){return Rt(i)&&Xt(i)==rt}function mf(i,s,c,p){var m=c.length,y=m,S=!p;if(i==null)return!y;for(i=nt(i);m--;){var A=c[m];if(S&&A[2]?A[1]!==i[A[0]]:!(A[0]in i))return!1}for(;++m<y;){A=c[m];var D=A[0],H=i[D],j=A[1];if(S&&A[2]){if(H===n&&!(D in i))return!1}else{var J=new ar;if(p)var oe=p(H,j,D,i,s,J);if(!(oe===n?Ps(j,H,w|E,p,J):oe))return!1}}return!0}function D_(i){if(!At(i)||OA(i))return!1;var s=Hr(i)?Ww:U1;return s.test(Xi(i))}function YT(i){return Rt(i)&&un(i)==Tt}function BT(i){return Rt(i)&&Xt(i)==qt}function qT(i){return Rt(i)&&Lu(i.length)&&!!lt[un(i)]}function I_(i){return typeof i=="function"?i:i==null?yn:typeof i=="object"?Re(i)?P_(i[0],i[1]):k_(i):Zg(i)}function _f(i){if(!Ls(i))return Xw(i);var s=[];for(var c in nt(i))Xe.call(i,c)&&c!="constructor"&&s.push(c);return s}function KT(i){if(!At(i))return CA(i);var s=Ls(i),c=[];for(var p in i)p=="constructor"&&(s||!Xe.call(i,p))||c.push(p);return c}function gf(i,s){return i<s}function C_(i,s){var c=-1,p=gn(i)?P(i.length):[];return fi(i,function(m,y,S){p[++c]=s(m,y,S)}),p}function k_(i){var s=kf(i);return s.length==1&&s[0][2]?dg(s[0][0],s[0][1]):function(c){return c===i||mf(c,i,s)}}function P_(i,s){return Mf(i)&&fg(s)?dg(wr(i),s):function(c){var p=zf(c,i);return p===n&&p===s?Wf(c,i):Ps(s,p,w|E)}}function Eu(i,s,c,p,m){i!==s&&ff(s,function(y,S){if(m||(m=new ar),At(y))JT(i,s,S,c,Eu,p,m);else{var A=p?p(Lf(i,S),y,S+"",i,s,m):n;A===n&&(A=y),cf(i,S,A)}},vn)}function JT(i,s,c,p,m,y,S){var A=Lf(i,c),D=Lf(s,c),H=S.get(D);if(H){cf(i,c,H);return}var j=y?y(A,D,c+"",i,s,S):n,J=j===n;if(J){var oe=Re(D),he=!oe&&mi(D),ye=!oe&&!he&&Ia(D);j=D,oe||he||ye?Re(A)?j=A:Ot(A)?j=_n(A):he?(J=!1,j=W_(D,!0)):ye?(J=!1,j=Y_(D,!0)):j=[]:Fs(D)||Zi(D)?(j=A,Zi(A)?j=Gg(A):(!At(A)||Hr(A))&&(j=lg(D))):J=!1}J&&(S.set(D,j),m(j,D,p,y,S),S.delete(D)),cf(i,c,j)}function M_(i,s){var c=i.length;if(!!c)return s+=s<0?c:0,Vr(s,c)?i[s]:n}function U_(i,s,c){s.length?s=vt(s,function(y){return Re(y)?function(S){return Ki(S,y.length===1?y[0]:y)}:y}):s=[yn];var p=-1;s=vt(s,An(ge()));var m=C_(i,function(y,S,A){var D=vt(s,function(H){return H(y)});return{criteria:D,index:++p,value:y}});return ww(m,function(y,S){return cA(y,S,c)})}function XT(i,s){return L_(i,s,function(c,p){return Wf(i,p)})}function L_(i,s,c){for(var p=-1,m=s.length,y={};++p<m;){var S=s[p],A=Ki(i,S);c(A,S)&&Ms(y,pi(S,i),A)}return y}function ZT(i){return function(s){return Ki(s,i)}}function vf(i,s,c,p){var m=p?Sw:ya,y=-1,S=s.length,A=i;for(i===s&&(s=_n(s)),c&&(A=vt(i,An(c)));++y<S;)for(var D=0,H=s[y],j=c?c(H):H;(D=m(A,j,D,p))>-1;)A!==i&&lu.call(A,D,1),lu.call(i,D,1);return i}function N_(i,s){for(var c=i?s.length:0,p=c-1;c--;){var m=s[c];if(c==p||m!==y){var y=m;Vr(m)?lu.call(i,m,1):Sf(i,m)}}return i}function yf(i,s){return i+pu(g_()*(s-i+1))}function QT(i,s,c,p){for(var m=-1,y=Lt(du((s-i)/(c||1)),0),S=P(y);y--;)S[p?y:++m]=i,i+=c;return S}function Ef(i,s){var c="";if(!i||s<1||s>W)return c;do s%2&&(c+=i),s=pu(s/2),s&&(i+=i);while(s);return c}function Me(i,s){return Nf(pg(i,s,yn),i+"")}function eA(i){return E_(Ca(i))}function tA(i,s){var c=Ca(i);return Iu(c,qi(s,0,c.length))}function Ms(i,s,c,p){if(!At(i))return i;s=pi(s,i);for(var m=-1,y=s.length,S=y-1,A=i;A!=null&&++m<y;){var D=wr(s[m]),H=c;if(D==="__proto__"||D==="constructor"||D==="prototype")return i;if(m!=S){var j=A[D];H=p?p(j,D,A):n,H===n&&(H=At(j)?j:Vr(s[m+1])?[]:{})}Is(A,D,H),A=A[D]}return i}var F_=hu?function(i,s){return hu.set(i,s),i}:yn,nA=fu?function(i,s){return fu(i,"toString",{configurable:!0,enumerable:!1,value:Bf(s),writable:!0})}:yn;function rA(i){return Iu(Ca(i))}function zn(i,s,c){var p=-1,m=i.length;s<0&&(s=-s>m?0:m+s),c=c>m?m:c,c<0&&(c+=m),m=s>c?0:c-s>>>0,s>>>=0;for(var y=P(m);++p<m;)y[p]=i[p+s];return y}function iA(i,s){var c;return fi(i,function(p,m,y){return c=s(p,m,y),!c}),!!c}function bu(i,s,c){var p=0,m=i==null?p:i.length;if(typeof s=="number"&&s===s&&m<=$){for(;p<m;){var y=p+m>>>1,S=i[y];S!==null&&!On(S)&&(c?S<=s:S<s)?p=y+1:m=y}return m}return bf(i,s,yn,c)}function bf(i,s,c,p){var m=0,y=i==null?0:i.length;if(y===0)return 0;s=c(s);for(var S=s!==s,A=s===null,D=On(s),H=s===n;m<y;){var j=pu((m+y)/2),J=c(i[j]),oe=J!==n,he=J===null,ye=J===J,Pe=On(J);if(S)var Ee=p||ye;else H?Ee=ye&&(p||oe):A?Ee=ye&&oe&&(p||!he):D?Ee=ye&&oe&&!he&&(p||!Pe):he||Pe?Ee=!1:Ee=p?J<=s:J<s;Ee?m=j+1:y=j}return Jt(y,N)}function $_(i,s){for(var c=-1,p=i.length,m=0,y=[];++c<p;){var S=i[c],A=s?s(S):S;if(!c||!sr(A,D)){var D=A;y[m++]=S===0?0:S}}return y}function V_(i){return typeof i=="number"?i:On(i)?q:+i}function Rn(i){if(typeof i=="string")return i;if(Re(i))return vt(i,Rn)+"";if(On(i))return v_?v_.call(i):"";var s=i+"";return s=="0"&&1/i==-U?"-0":s}function di(i,s,c){var p=-1,m=eu,y=i.length,S=!0,A=[],D=A;if(c)S=!1,m=Kl;else if(y>=a){var H=s?null:mA(i);if(H)return nu(H);S=!1,m=Ts,D=new Bi}else D=s?[]:A;e:for(;++p<y;){var j=i[p],J=s?s(j):j;if(j=c||j!==0?j:0,S&&J===J){for(var oe=D.length;oe--;)if(D[oe]===J)continue e;s&&D.push(J),A.push(j)}else m(D,J,c)||(D!==A&&D.push(J),A.push(j))}return A}function Sf(i,s){return s=pi(s,i),i=hg(i,s),i==null||delete i[wr(Wn(s))]}function H_(i,s,c,p){return Ms(i,s,c(Ki(i,s)),p)}function Su(i,s,c,p){for(var m=i.length,y=p?m:-1;(p?y--:++y<m)&&s(i[y],y,i););return c?zn(i,p?0:y,p?y+1:m):zn(i,p?y+1:0,p?m:y)}function G_(i,s){var c=i;return c instanceof $e&&(c=c.value()),Jl(s,function(p,m){return m.func.apply(m.thisArg,ui([p],m.args))},c)}function wf(i,s,c){var p=i.length;if(p<2)return p?di(i[0]):[];for(var m=-1,y=P(p);++m<p;)for(var S=i[m],A=-1;++A<p;)A!=m&&(y[m]=Cs(y[m]||S,i[A],s,c));return di(zt(y,1),s,c)}function j_(i,s,c){for(var p=-1,m=i.length,y=s.length,S={};++p<m;){var A=p<y?s[p]:n;c(S,i[p],A)}return S}function Tf(i){return Ot(i)?i:[]}function Af(i){return typeof i=="function"?i:yn}function pi(i,s){return Re(i)?i:Mf(i,s)?[i]:vg(Je(i))}var aA=Me;function hi(i,s,c){var p=i.length;return c=c===n?p:c,!s&&c>=p?i:zn(i,s,c)}var z_=Yw||function(i){return jt.clearTimeout(i)};function W_(i,s){if(s)return i.slice();var c=i.length,p=d_?d_(c):new i.constructor(c);return i.copy(p),p}function Rf(i){var s=new i.constructor(i.byteLength);return new uu(s).set(new uu(i)),s}function sA(i,s){var c=s?Rf(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function oA(i){var s=new i.constructor(i.source,xm.exec(i));return s.lastIndex=i.lastIndex,s}function uA(i){return Ds?nt(Ds.call(i)):{}}function Y_(i,s){var c=s?Rf(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function B_(i,s){if(i!==s){var c=i!==n,p=i===null,m=i===i,y=On(i),S=s!==n,A=s===null,D=s===s,H=On(s);if(!A&&!H&&!y&&i>s||y&&S&&D&&!A&&!H||p&&S&&D||!c&&D||!m)return 1;if(!p&&!y&&!H&&i<s||H&&c&&m&&!p&&!y||A&&c&&m||!S&&m||!D)return-1}return 0}function cA(i,s,c){for(var p=-1,m=i.criteria,y=s.criteria,S=m.length,A=c.length;++p<S;){var D=B_(m[p],y[p]);if(D){if(p>=A)return D;var H=c[p];return D*(H=="desc"?-1:1)}}return i.index-s.index}function q_(i,s,c,p){for(var m=-1,y=i.length,S=c.length,A=-1,D=s.length,H=Lt(y-S,0),j=P(D+H),J=!p;++A<D;)j[A]=s[A];for(;++m<S;)(J||m<y)&&(j[c[m]]=i[m]);for(;H--;)j[A++]=i[m++];return j}function K_(i,s,c,p){for(var m=-1,y=i.length,S=-1,A=c.length,D=-1,H=s.length,j=Lt(y-A,0),J=P(j+H),oe=!p;++m<j;)J[m]=i[m];for(var he=m;++D<H;)J[he+D]=s[D];for(;++S<A;)(oe||m<y)&&(J[he+c[S]]=i[m++]);return J}function _n(i,s){var c=-1,p=i.length;for(s||(s=P(p));++c<p;)s[c]=i[c];return s}function Sr(i,s,c,p){var m=!c;c||(c={});for(var y=-1,S=s.length;++y<S;){var A=s[y],D=p?p(c[A],i[A],A,c,i):n;D===n&&(D=i[A]),m?Nr(c,A,D):Is(c,A,D)}return c}function lA(i,s){return Sr(i,Pf(i),s)}function fA(i,s){return Sr(i,ug(i),s)}function wu(i,s){return function(c,p){var m=Re(c)?_w:PT,y=s?s():{};return m(c,i,ge(p,2),y)}}function Oa(i){return Me(function(s,c){var p=-1,m=c.length,y=m>1?c[m-1]:n,S=m>2?c[2]:n;for(y=i.length>3&&typeof y=="function"?(m--,y):n,S&&cn(c[0],c[1],S)&&(y=m<3?n:y,m=1),s=nt(s);++p<m;){var A=c[p];A&&i(s,A,p,y)}return s})}function J_(i,s){return function(c,p){if(c==null)return c;if(!gn(c))return i(c,p);for(var m=c.length,y=s?m:-1,S=nt(c);(s?y--:++y<m)&&p(S[y],y,S)!==!1;);return c}}function X_(i){return function(s,c,p){for(var m=-1,y=nt(s),S=p(s),A=S.length;A--;){var D=S[i?A:++m];if(c(y[D],D,y)===!1)break}return s}}function dA(i,s,c){var p=s&T,m=Us(i);function y(){var S=this&&this!==jt&&this instanceof y?m:i;return S.apply(p?c:this,arguments)}return y}function Z_(i){return function(s){s=Je(s);var c=Ea(s)?ir(s):n,p=c?c[0]:s.charAt(0),m=c?hi(c,1).join(""):s.slice(1);return p[i]()+m}}function xa(i){return function(s){return Jl(Jg(Kg(s).replace(nw,"")),i,"")}}function Us(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Ra(i.prototype),p=i.apply(c,s);return At(p)?p:c}}function pA(i,s,c){var p=Us(i);function m(){for(var y=arguments.length,S=P(y),A=y,D=Da(m);A--;)S[A]=arguments[A];var H=y<3&&S[0]!==D&&S[y-1]!==D?[]:ci(S,D);if(y-=H.length,y<c)return rg(i,s,Tu,m.placeholder,n,S,H,n,n,c-y);var j=this&&this!==jt&&this instanceof m?p:i;return Tn(j,this,S)}return m}function Q_(i){return function(s,c,p){var m=nt(s);if(!gn(s)){var y=ge(c,3);s=Ht(s),c=function(A){return y(m[A],A,m)}}var S=i(s,c,p);return S>-1?m[y?s[S]:S]:n}}function eg(i){return $r(function(s){var c=s.length,p=c,m=Gn.prototype.thru;for(i&&s.reverse();p--;){var y=s[p];if(typeof y!="function")throw new Hn(u);if(m&&!S&&xu(y)=="wrapper")var S=new Gn([],!0)}for(p=S?p:c;++p<c;){y=s[p];var A=xu(y),D=A=="wrapper"?Cf(y):n;D&&Uf(D[0])&&D[1]==(V|B|Y|z)&&!D[4].length&&D[9]==1?S=S[xu(D[0])].apply(S,D[3]):S=y.length==1&&Uf(y)?S[A]():S.thru(y)}return function(){var H=arguments,j=H[0];if(S&&H.length==1&&Re(j))return S.plant(j).value();for(var J=0,oe=c?s[J].apply(this,H):j;++J<c;)oe=s[J].call(this,oe);return oe}})}function Tu(i,s,c,p,m,y,S,A,D,H){var j=s&V,J=s&T,oe=s&k,he=s&(B|Z),ye=s&ae,Pe=oe?n:Us(i);function Ee(){for(var Fe=arguments.length,Ge=P(Fe),xn=Fe;xn--;)Ge[xn]=arguments[xn];if(he)var ln=Da(Ee),Dn=Aw(Ge,ln);if(p&&(Ge=q_(Ge,p,m,he)),y&&(Ge=K_(Ge,y,S,he)),Fe-=Dn,he&&Fe<H){var xt=ci(Ge,ln);return rg(i,s,Tu,Ee.placeholder,c,Ge,xt,A,D,H-Fe)}var or=J?c:this,jr=oe?or[i]:i;return Fe=Ge.length,A?Ge=PA(Ge,A):ye&&Fe>1&&Ge.reverse(),j&&D<Fe&&(Ge.length=D),this&&this!==jt&&this instanceof Ee&&(jr=Pe||Us(jr)),jr.apply(or,Ge)}return Ee}function tg(i,s){return function(c,p){return HT(c,i,s(p),{})}}function Au(i,s){return function(c,p){var m;if(c===n&&p===n)return s;if(c!==n&&(m=c),p!==n){if(m===n)return p;typeof c=="string"||typeof p=="string"?(c=Rn(c),p=Rn(p)):(c=V_(c),p=V_(p)),m=i(c,p)}return m}}function Of(i){return $r(function(s){return s=vt(s,An(ge())),Me(function(c){var p=this;return i(s,function(m){return Tn(m,p,c)})})})}function Ru(i,s){s=s===n?" ":Rn(s);var c=s.length;if(c<2)return c?Ef(s,i):s;var p=Ef(s,du(i/ba(s)));return Ea(s)?hi(ir(p),0,i).join(""):p.slice(0,i)}function hA(i,s,c,p){var m=s&T,y=Us(i);function S(){for(var A=-1,D=arguments.length,H=-1,j=p.length,J=P(j+D),oe=this&&this!==jt&&this instanceof S?y:i;++H<j;)J[H]=p[H];for(;D--;)J[H++]=arguments[++A];return Tn(oe,m?c:this,J)}return S}function ng(i){return function(s,c,p){return p&&typeof p!="number"&&cn(s,c,p)&&(c=p=n),s=Gr(s),c===n?(c=s,s=0):c=Gr(c),p=p===n?s<c?1:-1:Gr(p),QT(s,c,p,i)}}function Ou(i){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=Yn(s),c=Yn(c)),i(s,c)}}function rg(i,s,c,p,m,y,S,A,D,H){var j=s&B,J=j?S:n,oe=j?n:S,he=j?y:n,ye=j?n:y;s|=j?Y:ne,s&=~(j?ne:Y),s&M||(s&=~(T|k));var Pe=[i,s,m,he,J,ye,oe,A,D,H],Ee=c.apply(n,Pe);return Uf(i)&&mg(Ee,Pe),Ee.placeholder=p,_g(Ee,i,s)}function xf(i){var s=Ut[i];return function(c,p){if(c=Yn(c),p=p==null?0:Jt(Ie(p),292),p&&__(c)){var m=(Je(c)+"e").split("e"),y=s(m[0]+"e"+(+m[1]+p));return m=(Je(y)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return s(c)}}var mA=Ta&&1/nu(new Ta([,-0]))[1]==U?function(i){return new Ta(i)}:Jf;function ig(i){return function(s){var c=Xt(s);return c==rt?rf(s):c==qt?kw(s):Tw(s,i(s))}}function Fr(i,s,c,p,m,y,S,A){var D=s&k;if(!D&&typeof i!="function")throw new Hn(u);var H=p?p.length:0;if(H||(s&=~(Y|ne),p=m=n),S=S===n?S:Lt(Ie(S),0),A=A===n?A:Ie(A),H-=m?m.length:0,s&ne){var j=p,J=m;p=m=n}var oe=D?n:Cf(i),he=[i,s,c,p,m,j,J,y,S,A];if(oe&&IA(he,oe),i=he[0],s=he[1],c=he[2],p=he[3],m=he[4],A=he[9]=he[9]===n?D?0:i.length:Lt(he[9]-H,0),!A&&s&(B|Z)&&(s&=~(B|Z)),!s||s==T)var ye=dA(i,s,c);else s==B||s==Z?ye=pA(i,s,A):(s==Y||s==(T|Y))&&!m.length?ye=hA(i,s,c,p):ye=Tu.apply(n,he);var Pe=oe?F_:mg;return _g(Pe(ye,he),i,s)}function ag(i,s,c,p){return i===n||sr(i,wa[c])&&!Xe.call(p,c)?s:i}function sg(i,s,c,p,m,y){return At(i)&&At(s)&&(y.set(s,i),Eu(i,s,n,sg,y),y.delete(s)),i}function _A(i){return Fs(i)?n:i}function og(i,s,c,p,m,y){var S=c&w,A=i.length,D=s.length;if(A!=D&&!(S&&D>A))return!1;var H=y.get(i),j=y.get(s);if(H&&j)return H==s&&j==i;var J=-1,oe=!0,he=c&E?new Bi:n;for(y.set(i,s),y.set(s,i);++J<A;){var ye=i[J],Pe=s[J];if(p)var Ee=S?p(Pe,ye,J,s,i,y):p(ye,Pe,J,i,s,y);if(Ee!==n){if(Ee)continue;oe=!1;break}if(he){if(!Xl(s,function(Fe,Ge){if(!Ts(he,Ge)&&(ye===Fe||m(ye,Fe,c,p,y)))return he.push(Ge)})){oe=!1;break}}else if(!(ye===Pe||m(ye,Pe,c,p,y))){oe=!1;break}}return y.delete(i),y.delete(s),oe}function gA(i,s,c,p,m,y,S){switch(c){case on:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case Mr:return!(i.byteLength!=s.byteLength||!y(new uu(i),new uu(s)));case K:case xe:case Ue:return sr(+i,+s);case Ne:return i.name==s.name&&i.message==s.message;case Tt:case rr:return i==s+"";case rt:var A=rf;case qt:var D=p&w;if(A||(A=nu),i.size!=s.size&&!D)return!1;var H=S.get(i);if(H)return H==s;p|=E,S.set(i,s);var j=og(A(i),A(s),p,m,y,S);return S.delete(i),j;case Kt:if(Ds)return Ds.call(i)==Ds.call(s)}return!1}function vA(i,s,c,p,m,y){var S=c&w,A=Df(i),D=A.length,H=Df(s),j=H.length;if(D!=j&&!S)return!1;for(var J=D;J--;){var oe=A[J];if(!(S?oe in s:Xe.call(s,oe)))return!1}var he=y.get(i),ye=y.get(s);if(he&&ye)return he==s&&ye==i;var Pe=!0;y.set(i,s),y.set(s,i);for(var Ee=S;++J<D;){oe=A[J];var Fe=i[oe],Ge=s[oe];if(p)var xn=S?p(Ge,Fe,oe,s,i,y):p(Fe,Ge,oe,i,s,y);if(!(xn===n?Fe===Ge||m(Fe,Ge,c,p,y):xn)){Pe=!1;break}Ee||(Ee=oe=="constructor")}if(Pe&&!Ee){var ln=i.constructor,Dn=s.constructor;ln!=Dn&&"constructor"in i&&"constructor"in s&&!(typeof ln=="function"&&ln instanceof ln&&typeof Dn=="function"&&Dn instanceof Dn)&&(Pe=!1)}return y.delete(i),y.delete(s),Pe}function $r(i){return Nf(pg(i,n,Sg),i+"")}function Df(i){return O_(i,Ht,Pf)}function If(i){return O_(i,vn,ug)}var Cf=hu?function(i){return hu.get(i)}:Jf;function xu(i){for(var s=i.name+"",c=Aa[s],p=Xe.call(Aa,s)?c.length:0;p--;){var m=c[p],y=m.func;if(y==null||y==i)return m.name}return s}function Da(i){var s=Xe.call(g,"placeholder")?g:i;return s.placeholder}function ge(){var i=g.iteratee||qf;return i=i===qf?I_:i,arguments.length?i(arguments[0],arguments[1]):i}function Du(i,s){var c=i.__data__;return RA(s)?c[typeof s=="string"?"string":"hash"]:c.map}function kf(i){for(var s=Ht(i),c=s.length;c--;){var p=s[c],m=i[p];s[c]=[p,m,fg(m)]}return s}function Ji(i,s){var c=Dw(i,s);return D_(c)?c:n}function yA(i){var s=Xe.call(i,Wi),c=i[Wi];try{i[Wi]=n;var p=!0}catch(y){}var m=su.call(i);return p&&(s?i[Wi]=c:delete i[Wi]),m}var Pf=sf?function(i){return i==null?[]:(i=nt(i),oi(sf(i),function(s){return h_.call(i,s)}))}:Xf,ug=sf?function(i){for(var s=[];i;)ui(s,Pf(i)),i=cu(i);return s}:Xf,Xt=un;(of&&Xt(new of(new ArrayBuffer(1)))!=on||Rs&&Xt(new Rs)!=rt||uf&&Xt(uf.resolve())!=Ct||Ta&&Xt(new Ta)!=qt||Os&&Xt(new Os)!=tt)&&(Xt=function(i){var s=un(i),c=s==ke?i.constructor:n,p=c?Xi(c):"";if(p)switch(p){case tT:return on;case nT:return rt;case rT:return Ct;case iT:return qt;case aT:return tt}return s});function EA(i,s,c){for(var p=-1,m=c.length;++p<m;){var y=c[p],S=y.size;switch(y.type){case"drop":i+=S;break;case"dropRight":s-=S;break;case"take":s=Jt(s,i+S);break;case"takeRight":i=Lt(i,s-S);break}}return{start:i,end:s}}function bA(i){var s=i.match(O1);return s?s[1].split(x1):[]}function cg(i,s,c){s=pi(s,i);for(var p=-1,m=s.length,y=!1;++p<m;){var S=wr(s[p]);if(!(y=i!=null&&c(i,S)))break;i=i[S]}return y||++p!=m?y:(m=i==null?0:i.length,!!m&&Lu(m)&&Vr(S,m)&&(Re(i)||Zi(i)))}function SA(i){var s=i.length,c=new i.constructor(s);return s&&typeof i[0]=="string"&&Xe.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function lg(i){return typeof i.constructor=="function"&&!Ls(i)?Ra(cu(i)):{}}function wA(i,s,c){var p=i.constructor;switch(s){case Mr:return Rf(i);case K:case xe:return new p(+i);case on:return sA(i,c);case Cl:case kl:case Pl:case Ml:case Ul:case Ll:case Nl:case Fl:case $l:return Y_(i,c);case rt:return new p;case Ue:case rr:return new p(i);case Tt:return oA(i);case qt:return new p;case Kt:return uA(i)}}function TA(i,s){var c=s.length;if(!c)return i;var p=c-1;return s[p]=(c>1?"& ":"")+s[p],s=s.join(c>2?", ":" "),i.replace(R1,`{
/* [wrapped with `+s+`] */
`)}function AA(i){return Re(i)||Zi(i)||!!(m_&&i&&i[m_])}function Vr(i,s){var c=typeof i;return s=s??W,!!s&&(c=="number"||c!="symbol"&&N1.test(i))&&i>-1&&i%1==0&&i<s}function cn(i,s,c){if(!At(c))return!1;var p=typeof s;return(p=="number"?gn(c)&&Vr(s,c.length):p=="string"&&s in c)?sr(c[s],i):!1}function Mf(i,s){if(Re(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||On(i)?!0:S1.test(i)||!b1.test(i)||s!=null&&i in nt(s)}function RA(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Uf(i){var s=xu(i),c=g[s];if(typeof c!="function"||!(s in $e.prototype))return!1;if(i===c)return!0;var p=Cf(c);return!!p&&i===p[0]}function OA(i){return!!f_&&f_ in i}var xA=iu?Hr:Zf;function Ls(i){var s=i&&i.constructor,c=typeof s=="function"&&s.prototype||wa;return i===c}function fg(i){return i===i&&!At(i)}function dg(i,s){return function(c){return c==null?!1:c[i]===s&&(s!==n||i in nt(c))}}function DA(i){var s=Mu(i,function(p){return c.size===d&&c.clear(),p}),c=s.cache;return s}function IA(i,s){var c=i[1],p=s[1],m=c|p,y=m<(T|k|V),S=p==V&&c==B||p==V&&c==z&&i[7].length<=s[8]||p==(V|z)&&s[7].length<=s[8]&&c==B;if(!(y||S))return i;p&T&&(i[2]=s[2],m|=c&T?0:M);var A=s[3];if(A){var D=i[3];i[3]=D?q_(D,A,s[4]):A,i[4]=D?ci(i[3],h):s[4]}return A=s[5],A&&(D=i[5],i[5]=D?K_(D,A,s[6]):A,i[6]=D?ci(i[5],h):s[6]),A=s[7],A&&(i[7]=A),p&V&&(i[8]=i[8]==null?s[8]:Jt(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=m,i}function CA(i){var s=[];if(i!=null)for(var c in nt(i))s.push(c);return s}function kA(i){return su.call(i)}function pg(i,s,c){return s=Lt(s===n?i.length-1:s,0),function(){for(var p=arguments,m=-1,y=Lt(p.length-s,0),S=P(y);++m<y;)S[m]=p[s+m];m=-1;for(var A=P(s+1);++m<s;)A[m]=p[m];return A[s]=c(S),Tn(i,this,A)}}function hg(i,s){return s.length<2?i:Ki(i,zn(s,0,-1))}function PA(i,s){for(var c=i.length,p=Jt(s.length,c),m=_n(i);p--;){var y=s[p];i[p]=Vr(y,c)?m[y]:n}return i}function Lf(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var mg=gg(F_),Ns=qw||function(i,s){return jt.setTimeout(i,s)},Nf=gg(nA);function _g(i,s,c){var p=s+"";return Nf(i,TA(p,MA(bA(p),c)))}function gg(i){var s=0,c=0;return function(){var p=Zw(),m=G-(p-c);if(c=p,m>0){if(++s>=ve)return arguments[0]}else s=0;return i.apply(n,arguments)}}function Iu(i,s){var c=-1,p=i.length,m=p-1;for(s=s===n?p:s;++c<s;){var y=yf(c,m),S=i[y];i[y]=i[c],i[c]=S}return i.length=s,i}var vg=DA(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(w1,function(c,p,m,y){s.push(m?y.replace(C1,"$1"):p||c)}),s});function wr(i){if(typeof i=="string"||On(i))return i;var s=i+"";return s=="0"&&1/i==-U?"-0":s}function Xi(i){if(i!=null){try{return au.call(i)}catch(s){}try{return i+""}catch(s){}}return""}function MA(i,s){return Vn(X,function(c){var p="_."+c[0];s&c[1]&&!eu(i,p)&&i.push(p)}),i.sort()}function yg(i){if(i instanceof $e)return i.clone();var s=new Gn(i.__wrapped__,i.__chain__);return s.__actions__=_n(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function UA(i,s,c){(c?cn(i,s,c):s===n)?s=1:s=Lt(Ie(s),0);var p=i==null?0:i.length;if(!p||s<1)return[];for(var m=0,y=0,S=P(du(p/s));m<p;)S[y++]=zn(i,m,m+=s);return S}function LA(i){for(var s=-1,c=i==null?0:i.length,p=0,m=[];++s<c;){var y=i[s];y&&(m[p++]=y)}return m}function NA(){var i=arguments.length;if(!i)return[];for(var s=P(i-1),c=arguments[0],p=i;p--;)s[p-1]=arguments[p];return ui(Re(c)?_n(c):[c],zt(s,1))}var FA=Me(function(i,s){return Ot(i)?Cs(i,zt(s,1,Ot,!0)):[]}),$A=Me(function(i,s){var c=Wn(s);return Ot(c)&&(c=n),Ot(i)?Cs(i,zt(s,1,Ot,!0),ge(c,2)):[]}),VA=Me(function(i,s){var c=Wn(s);return Ot(c)&&(c=n),Ot(i)?Cs(i,zt(s,1,Ot,!0),n,c):[]});function HA(i,s,c){var p=i==null?0:i.length;return p?(s=c||s===n?1:Ie(s),zn(i,s<0?0:s,p)):[]}function GA(i,s,c){var p=i==null?0:i.length;return p?(s=c||s===n?1:Ie(s),s=p-s,zn(i,0,s<0?0:s)):[]}function jA(i,s){return i&&i.length?Su(i,ge(s,3),!0,!0):[]}function zA(i,s){return i&&i.length?Su(i,ge(s,3),!0):[]}function WA(i,s,c,p){var m=i==null?0:i.length;return m?(c&&typeof c!="number"&&cn(i,s,c)&&(c=0,p=m),NT(i,s,c,p)):[]}function Eg(i,s,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:Ie(c);return m<0&&(m=Lt(p+m,0)),tu(i,ge(s,3),m)}function bg(i,s,c){var p=i==null?0:i.length;if(!p)return-1;var m=p-1;return c!==n&&(m=Ie(c),m=c<0?Lt(p+m,0):Jt(m,p-1)),tu(i,ge(s,3),m,!0)}function Sg(i){var s=i==null?0:i.length;return s?zt(i,1):[]}function YA(i){var s=i==null?0:i.length;return s?zt(i,U):[]}function BA(i,s){var c=i==null?0:i.length;return c?(s=s===n?1:Ie(s),zt(i,s)):[]}function qA(i){for(var s=-1,c=i==null?0:i.length,p={};++s<c;){var m=i[s];p[m[0]]=m[1]}return p}function wg(i){return i&&i.length?i[0]:n}function KA(i,s,c){var p=i==null?0:i.length;if(!p)return-1;var m=c==null?0:Ie(c);return m<0&&(m=Lt(p+m,0)),ya(i,s,m)}function JA(i){var s=i==null?0:i.length;return s?zn(i,0,-1):[]}var XA=Me(function(i){var s=vt(i,Tf);return s.length&&s[0]===i[0]?hf(s):[]}),ZA=Me(function(i){var s=Wn(i),c=vt(i,Tf);return s===Wn(c)?s=n:c.pop(),c.length&&c[0]===i[0]?hf(c,ge(s,2)):[]}),QA=Me(function(i){var s=Wn(i),c=vt(i,Tf);return s=typeof s=="function"?s:n,s&&c.pop(),c.length&&c[0]===i[0]?hf(c,n,s):[]});function eR(i,s){return i==null?"":Jw.call(i,s)}function Wn(i){var s=i==null?0:i.length;return s?i[s-1]:n}function tR(i,s,c){var p=i==null?0:i.length;if(!p)return-1;var m=p;return c!==n&&(m=Ie(c),m=m<0?Lt(p+m,0):Jt(m,p-1)),s===s?Mw(i,s,m):tu(i,r_,m,!0)}function nR(i,s){return i&&i.length?M_(i,Ie(s)):n}var rR=Me(Tg);function Tg(i,s){return i&&i.length&&s&&s.length?vf(i,s):i}function iR(i,s,c){return i&&i.length&&s&&s.length?vf(i,s,ge(c,2)):i}function aR(i,s,c){return i&&i.length&&s&&s.length?vf(i,s,n,c):i}var sR=$r(function(i,s){var c=i==null?0:i.length,p=lf(i,s);return N_(i,vt(s,function(m){return Vr(m,c)?+m:m}).sort(B_)),p});function oR(i,s){var c=[];if(!(i&&i.length))return c;var p=-1,m=[],y=i.length;for(s=ge(s,3);++p<y;){var S=i[p];s(S,p,i)&&(c.push(S),m.push(p))}return N_(i,m),c}function Ff(i){return i==null?i:eT.call(i)}function uR(i,s,c){var p=i==null?0:i.length;return p?(c&&typeof c!="number"&&cn(i,s,c)?(s=0,c=p):(s=s==null?0:Ie(s),c=c===n?p:Ie(c)),zn(i,s,c)):[]}function cR(i,s){return bu(i,s)}function lR(i,s,c){return bf(i,s,ge(c,2))}function fR(i,s){var c=i==null?0:i.length;if(c){var p=bu(i,s);if(p<c&&sr(i[p],s))return p}return-1}function dR(i,s){return bu(i,s,!0)}function pR(i,s,c){return bf(i,s,ge(c,2),!0)}function hR(i,s){var c=i==null?0:i.length;if(c){var p=bu(i,s,!0)-1;if(sr(i[p],s))return p}return-1}function mR(i){return i&&i.length?$_(i):[]}function _R(i,s){return i&&i.length?$_(i,ge(s,2)):[]}function gR(i){var s=i==null?0:i.length;return s?zn(i,1,s):[]}function vR(i,s,c){return i&&i.length?(s=c||s===n?1:Ie(s),zn(i,0,s<0?0:s)):[]}function yR(i,s,c){var p=i==null?0:i.length;return p?(s=c||s===n?1:Ie(s),s=p-s,zn(i,s<0?0:s,p)):[]}function ER(i,s){return i&&i.length?Su(i,ge(s,3),!1,!0):[]}function bR(i,s){return i&&i.length?Su(i,ge(s,3)):[]}var SR=Me(function(i){return di(zt(i,1,Ot,!0))}),wR=Me(function(i){var s=Wn(i);return Ot(s)&&(s=n),di(zt(i,1,Ot,!0),ge(s,2))}),TR=Me(function(i){var s=Wn(i);return s=typeof s=="function"?s:n,di(zt(i,1,Ot,!0),n,s)});function AR(i){return i&&i.length?di(i):[]}function RR(i,s){return i&&i.length?di(i,ge(s,2)):[]}function OR(i,s){return s=typeof s=="function"?s:n,i&&i.length?di(i,n,s):[]}function $f(i){if(!(i&&i.length))return[];var s=0;return i=oi(i,function(c){if(Ot(c))return s=Lt(c.length,s),!0}),tf(s,function(c){return vt(i,Zl(c))})}function Ag(i,s){if(!(i&&i.length))return[];var c=$f(i);return s==null?c:vt(c,function(p){return Tn(s,n,p)})}var xR=Me(function(i,s){return Ot(i)?Cs(i,s):[]}),DR=Me(function(i){return wf(oi(i,Ot))}),IR=Me(function(i){var s=Wn(i);return Ot(s)&&(s=n),wf(oi(i,Ot),ge(s,2))}),CR=Me(function(i){var s=Wn(i);return s=typeof s=="function"?s:n,wf(oi(i,Ot),n,s)}),kR=Me($f);function PR(i,s){return j_(i||[],s||[],Is)}function MR(i,s){return j_(i||[],s||[],Ms)}var UR=Me(function(i){var s=i.length,c=s>1?i[s-1]:n;return c=typeof c=="function"?(i.pop(),c):n,Ag(i,c)});function Rg(i){var s=g(i);return s.__chain__=!0,s}function LR(i,s){return s(i),i}function Cu(i,s){return s(i)}var NR=$r(function(i){var s=i.length,c=s?i[0]:0,p=this.__wrapped__,m=function(y){return lf(y,i)};return s>1||this.__actions__.length||!(p instanceof $e)||!Vr(c)?this.thru(m):(p=p.slice(c,+c+(s?1:0)),p.__actions__.push({func:Cu,args:[m],thisArg:n}),new Gn(p,this.__chain__).thru(function(y){return s&&!y.length&&y.push(n),y}))});function FR(){return Rg(this)}function $R(){return new Gn(this.value(),this.__chain__)}function VR(){this.__values__===n&&(this.__values__=Vg(this.value()));var i=this.__index__>=this.__values__.length,s=i?n:this.__values__[this.__index__++];return{done:i,value:s}}function HR(){return this}function GR(i){for(var s,c=this;c instanceof _u;){var p=yg(c);p.__index__=0,p.__values__=n,s?m.__wrapped__=p:s=p;var m=p;c=c.__wrapped__}return m.__wrapped__=i,s}function jR(){var i=this.__wrapped__;if(i instanceof $e){var s=i;return this.__actions__.length&&(s=new $e(this)),s=s.reverse(),s.__actions__.push({func:Cu,args:[Ff],thisArg:n}),new Gn(s,this.__chain__)}return this.thru(Ff)}function zR(){return G_(this.__wrapped__,this.__actions__)}var WR=wu(function(i,s,c){Xe.call(i,c)?++i[c]:Nr(i,c,1)});function YR(i,s,c){var p=Re(i)?t_:LT;return c&&cn(i,s,c)&&(s=n),p(i,ge(s,3))}function BR(i,s){var c=Re(i)?oi:A_;return c(i,ge(s,3))}var qR=Q_(Eg),KR=Q_(bg);function JR(i,s){return zt(ku(i,s),1)}function XR(i,s){return zt(ku(i,s),U)}function ZR(i,s,c){return c=c===n?1:Ie(c),zt(ku(i,s),c)}function Og(i,s){var c=Re(i)?Vn:fi;return c(i,ge(s,3))}function xg(i,s){var c=Re(i)?gw:T_;return c(i,ge(s,3))}var QR=wu(function(i,s,c){Xe.call(i,c)?i[c].push(s):Nr(i,c,[s])});function eO(i,s,c,p){i=gn(i)?i:Ca(i),c=c&&!p?Ie(c):0;var m=i.length;return c<0&&(c=Lt(m+c,0)),Nu(i)?c<=m&&i.indexOf(s,c)>-1:!!m&&ya(i,s,c)>-1}var tO=Me(function(i,s,c){var p=-1,m=typeof s=="function",y=gn(i)?P(i.length):[];return fi(i,function(S){y[++p]=m?Tn(s,S,c):ks(S,s,c)}),y}),nO=wu(function(i,s,c){Nr(i,c,s)});function ku(i,s){var c=Re(i)?vt:C_;return c(i,ge(s,3))}function rO(i,s,c,p){return i==null?[]:(Re(s)||(s=s==null?[]:[s]),c=p?n:c,Re(c)||(c=c==null?[]:[c]),U_(i,s,c))}var iO=wu(function(i,s,c){i[c?0:1].push(s)},function(){return[[],[]]});function aO(i,s,c){var p=Re(i)?Jl:a_,m=arguments.length<3;return p(i,ge(s,4),c,m,fi)}function sO(i,s,c){var p=Re(i)?vw:a_,m=arguments.length<3;return p(i,ge(s,4),c,m,T_)}function oO(i,s){var c=Re(i)?oi:A_;return c(i,Uu(ge(s,3)))}function uO(i){var s=Re(i)?E_:eA;return s(i)}function cO(i,s,c){(c?cn(i,s,c):s===n)?s=1:s=Ie(s);var p=Re(i)?CT:tA;return p(i,s)}function lO(i){var s=Re(i)?kT:rA;return s(i)}function fO(i){if(i==null)return 0;if(gn(i))return Nu(i)?ba(i):i.length;var s=Xt(i);return s==rt||s==qt?i.size:_f(i).length}function dO(i,s,c){var p=Re(i)?Xl:iA;return c&&cn(i,s,c)&&(s=n),p(i,ge(s,3))}var pO=Me(function(i,s){if(i==null)return[];var c=s.length;return c>1&&cn(i,s[0],s[1])?s=[]:c>2&&cn(s[0],s[1],s[2])&&(s=[s[0]]),U_(i,zt(s,1),[])}),Pu=Bw||function(){return jt.Date.now()};function hO(i,s){if(typeof s!="function")throw new Hn(u);return i=Ie(i),function(){if(--i<1)return s.apply(this,arguments)}}function Dg(i,s,c){return s=c?n:s,s=i&&s==null?i.length:s,Fr(i,V,n,n,n,n,s)}function Ig(i,s){var c;if(typeof s!="function")throw new Hn(u);return i=Ie(i),function(){return--i>0&&(c=s.apply(this,arguments)),i<=1&&(s=n),c}}var Vf=Me(function(i,s,c){var p=T;if(c.length){var m=ci(c,Da(Vf));p|=Y}return Fr(i,p,s,c,m)}),Cg=Me(function(i,s,c){var p=T|k;if(c.length){var m=ci(c,Da(Cg));p|=Y}return Fr(s,p,i,c,m)});function kg(i,s,c){s=c?n:s;var p=Fr(i,B,n,n,n,n,n,s);return p.placeholder=kg.placeholder,p}function Pg(i,s,c){s=c?n:s;var p=Fr(i,Z,n,n,n,n,n,s);return p.placeholder=Pg.placeholder,p}function Mg(i,s,c){var p,m,y,S,A,D,H=0,j=!1,J=!1,oe=!0;if(typeof i!="function")throw new Hn(u);s=Yn(s)||0,At(c)&&(j=!!c.leading,J="maxWait"in c,y=J?Lt(Yn(c.maxWait)||0,s):y,oe="trailing"in c?!!c.trailing:oe);function he(xt){var or=p,jr=m;return p=m=n,H=xt,S=i.apply(jr,or),S}function ye(xt){return H=xt,A=Ns(Fe,s),j?he(xt):S}function Pe(xt){var or=xt-D,jr=xt-H,Qg=s-or;return J?Jt(Qg,y-jr):Qg}function Ee(xt){var or=xt-D,jr=xt-H;return D===n||or>=s||or<0||J&&jr>=y}function Fe(){var xt=Pu();if(Ee(xt))return Ge(xt);A=Ns(Fe,Pe(xt))}function Ge(xt){return A=n,oe&&p?he(xt):(p=m=n,S)}function xn(){A!==n&&z_(A),H=0,p=D=m=A=n}function ln(){return A===n?S:Ge(Pu())}function Dn(){var xt=Pu(),or=Ee(xt);if(p=arguments,m=this,D=xt,or){if(A===n)return ye(D);if(J)return z_(A),A=Ns(Fe,s),he(D)}return A===n&&(A=Ns(Fe,s)),S}return Dn.cancel=xn,Dn.flush=ln,Dn}var mO=Me(function(i,s){return w_(i,1,s)}),_O=Me(function(i,s,c){return w_(i,Yn(s)||0,c)});function gO(i){return Fr(i,ae)}function Mu(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new Hn(u);var c=function(){var p=arguments,m=s?s.apply(this,p):p[0],y=c.cache;if(y.has(m))return y.get(m);var S=i.apply(this,p);return c.cache=y.set(m,S)||y,S};return c.cache=new(Mu.Cache||Lr),c}Mu.Cache=Lr;function Uu(i){if(typeof i!="function")throw new Hn(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function vO(i){return Ig(2,i)}var yO=aA(function(i,s){s=s.length==1&&Re(s[0])?vt(s[0],An(ge())):vt(zt(s,1),An(ge()));var c=s.length;return Me(function(p){for(var m=-1,y=Jt(p.length,c);++m<y;)p[m]=s[m].call(this,p[m]);return Tn(i,this,p)})}),Hf=Me(function(i,s){var c=ci(s,Da(Hf));return Fr(i,Y,n,s,c)}),Ug=Me(function(i,s){var c=ci(s,Da(Ug));return Fr(i,ne,n,s,c)}),EO=$r(function(i,s){return Fr(i,z,n,n,n,s)});function bO(i,s){if(typeof i!="function")throw new Hn(u);return s=s===n?s:Ie(s),Me(i,s)}function SO(i,s){if(typeof i!="function")throw new Hn(u);return s=s==null?0:Lt(Ie(s),0),Me(function(c){var p=c[s],m=hi(c,0,s);return p&&ui(m,p),Tn(i,this,m)})}function wO(i,s,c){var p=!0,m=!0;if(typeof i!="function")throw new Hn(u);return At(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),Mg(i,s,{leading:p,maxWait:s,trailing:m})}function TO(i){return Dg(i,1)}function AO(i,s){return Hf(Af(s),i)}function RO(){if(!arguments.length)return[];var i=arguments[0];return Re(i)?i:[i]}function OO(i){return jn(i,b)}function xO(i,s){return s=typeof s=="function"?s:n,jn(i,b,s)}function DO(i){return jn(i,_|b)}function IO(i,s){return s=typeof s=="function"?s:n,jn(i,_|b,s)}function CO(i,s){return s==null||S_(i,s,Ht(s))}function sr(i,s){return i===s||i!==i&&s!==s}var kO=Ou(pf),PO=Ou(function(i,s){return i>=s}),Zi=x_(function(){return arguments}())?x_:function(i){return Rt(i)&&Xe.call(i,"callee")&&!h_.call(i,"callee")},Re=P.isArray,MO=Km?An(Km):GT;function gn(i){return i!=null&&Lu(i.length)&&!Hr(i)}function Ot(i){return Rt(i)&&gn(i)}function UO(i){return i===!0||i===!1||Rt(i)&&un(i)==K}var mi=Kw||Zf,LO=Jm?An(Jm):jT;function NO(i){return Rt(i)&&i.nodeType===1&&!Fs(i)}function FO(i){if(i==null)return!0;if(gn(i)&&(Re(i)||typeof i=="string"||typeof i.splice=="function"||mi(i)||Ia(i)||Zi(i)))return!i.length;var s=Xt(i);if(s==rt||s==qt)return!i.size;if(Ls(i))return!_f(i).length;for(var c in i)if(Xe.call(i,c))return!1;return!0}function $O(i,s){return Ps(i,s)}function VO(i,s,c){c=typeof c=="function"?c:n;var p=c?c(i,s):n;return p===n?Ps(i,s,n,c):!!p}function Gf(i){if(!Rt(i))return!1;var s=un(i);return s==Ne||s==De||typeof i.message=="string"&&typeof i.name=="string"&&!Fs(i)}function HO(i){return typeof i=="number"&&__(i)}function Hr(i){if(!At(i))return!1;var s=un(i);return s==Se||s==It||s==ce||s==ji}function Lg(i){return typeof i=="number"&&i==Ie(i)}function Lu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=W}function At(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Rt(i){return i!=null&&typeof i=="object"}var Ng=Xm?An(Xm):WT;function GO(i,s){return i===s||mf(i,s,kf(s))}function jO(i,s,c){return c=typeof c=="function"?c:n,mf(i,s,kf(s),c)}function zO(i){return Fg(i)&&i!=+i}function WO(i){if(xA(i))throw new Ae(o);return D_(i)}function YO(i){return i===null}function BO(i){return i==null}function Fg(i){return typeof i=="number"||Rt(i)&&un(i)==Ue}function Fs(i){if(!Rt(i)||un(i)!=ke)return!1;var s=cu(i);if(s===null)return!0;var c=Xe.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&au.call(c)==jw}var jf=Zm?An(Zm):YT;function qO(i){return Lg(i)&&i>=-W&&i<=W}var $g=Qm?An(Qm):BT;function Nu(i){return typeof i=="string"||!Re(i)&&Rt(i)&&un(i)==rr}function On(i){return typeof i=="symbol"||Rt(i)&&un(i)==Kt}var Ia=e_?An(e_):qT;function KO(i){return i===n}function JO(i){return Rt(i)&&Xt(i)==tt}function XO(i){return Rt(i)&&un(i)==ws}var ZO=Ou(gf),QO=Ou(function(i,s){return i<=s});function Vg(i){if(!i)return[];if(gn(i))return Nu(i)?ir(i):_n(i);if(As&&i[As])return Cw(i[As]());var s=Xt(i),c=s==rt?rf:s==qt?nu:Ca;return c(i)}function Gr(i){if(!i)return i===0?i:0;if(i=Yn(i),i===U||i===-U){var s=i<0?-1:1;return s*ie}return i===i?i:0}function Ie(i){var s=Gr(i),c=s%1;return s===s?c?s-c:s:0}function Hg(i){return i?qi(Ie(i),0,re):0}function Yn(i){if(typeof i=="number")return i;if(On(i))return q;if(At(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=At(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=s_(i);var c=M1.test(i);return c||L1.test(i)?hw(i.slice(2),c?2:8):P1.test(i)?q:+i}function Gg(i){return Sr(i,vn(i))}function ex(i){return i?qi(Ie(i),-W,W):i===0?i:0}function Je(i){return i==null?"":Rn(i)}var tx=Oa(function(i,s){if(Ls(s)||gn(s)){Sr(s,Ht(s),i);return}for(var c in s)Xe.call(s,c)&&Is(i,c,s[c])}),jg=Oa(function(i,s){Sr(s,vn(s),i)}),Fu=Oa(function(i,s,c,p){Sr(s,vn(s),i,p)}),nx=Oa(function(i,s,c,p){Sr(s,Ht(s),i,p)}),rx=$r(lf);function ix(i,s){var c=Ra(i);return s==null?c:b_(c,s)}var ax=Me(function(i,s){i=nt(i);var c=-1,p=s.length,m=p>2?s[2]:n;for(m&&cn(s[0],s[1],m)&&(p=1);++c<p;)for(var y=s[c],S=vn(y),A=-1,D=S.length;++A<D;){var H=S[A],j=i[H];(j===n||sr(j,wa[H])&&!Xe.call(i,H))&&(i[H]=y[H])}return i}),sx=Me(function(i){return i.push(n,sg),Tn(zg,n,i)});function ox(i,s){return n_(i,ge(s,3),br)}function ux(i,s){return n_(i,ge(s,3),df)}function cx(i,s){return i==null?i:ff(i,ge(s,3),vn)}function lx(i,s){return i==null?i:R_(i,ge(s,3),vn)}function fx(i,s){return i&&br(i,ge(s,3))}function dx(i,s){return i&&df(i,ge(s,3))}function px(i){return i==null?[]:yu(i,Ht(i))}function hx(i){return i==null?[]:yu(i,vn(i))}function zf(i,s,c){var p=i==null?n:Ki(i,s);return p===n?c:p}function mx(i,s){return i!=null&&cg(i,s,FT)}function Wf(i,s){return i!=null&&cg(i,s,$T)}var _x=tg(function(i,s,c){s!=null&&typeof s.toString!="function"&&(s=su.call(s)),i[s]=c},Bf(yn)),gx=tg(function(i,s,c){s!=null&&typeof s.toString!="function"&&(s=su.call(s)),Xe.call(i,s)?i[s].push(c):i[s]=[c]},ge),vx=Me(ks);function Ht(i){return gn(i)?y_(i):_f(i)}function vn(i){return gn(i)?y_(i,!0):KT(i)}function yx(i,s){var c={};return s=ge(s,3),br(i,function(p,m,y){Nr(c,s(p,m,y),p)}),c}function Ex(i,s){var c={};return s=ge(s,3),br(i,function(p,m,y){Nr(c,m,s(p,m,y))}),c}var bx=Oa(function(i,s,c){Eu(i,s,c)}),zg=Oa(function(i,s,c,p){Eu(i,s,c,p)}),Sx=$r(function(i,s){var c={};if(i==null)return c;var p=!1;s=vt(s,function(y){return y=pi(y,i),p||(p=y.length>1),y}),Sr(i,If(i),c),p&&(c=jn(c,_|v|b,_A));for(var m=s.length;m--;)Sf(c,s[m]);return c});function wx(i,s){return Wg(i,Uu(ge(s)))}var Tx=$r(function(i,s){return i==null?{}:XT(i,s)});function Wg(i,s){if(i==null)return{};var c=vt(If(i),function(p){return[p]});return s=ge(s),L_(i,c,function(p,m){return s(p,m[0])})}function Ax(i,s,c){s=pi(s,i);var p=-1,m=s.length;for(m||(m=1,i=n);++p<m;){var y=i==null?n:i[wr(s[p])];y===n&&(p=m,y=c),i=Hr(y)?y.call(i):y}return i}function Rx(i,s,c){return i==null?i:Ms(i,s,c)}function Ox(i,s,c,p){return p=typeof p=="function"?p:n,i==null?i:Ms(i,s,c,p)}var Yg=ig(Ht),Bg=ig(vn);function xx(i,s,c){var p=Re(i),m=p||mi(i)||Ia(i);if(s=ge(s,4),c==null){var y=i&&i.constructor;m?c=p?new y:[]:At(i)?c=Hr(y)?Ra(cu(i)):{}:c={}}return(m?Vn:br)(i,function(S,A,D){return s(c,S,A,D)}),c}function Dx(i,s){return i==null?!0:Sf(i,s)}function Ix(i,s,c){return i==null?i:H_(i,s,Af(c))}function Cx(i,s,c,p){return p=typeof p=="function"?p:n,i==null?i:H_(i,s,Af(c),p)}function Ca(i){return i==null?[]:nf(i,Ht(i))}function kx(i){return i==null?[]:nf(i,vn(i))}function Px(i,s,c){return c===n&&(c=s,s=n),c!==n&&(c=Yn(c),c=c===c?c:0),s!==n&&(s=Yn(s),s=s===s?s:0),qi(Yn(i),s,c)}function Mx(i,s,c){return s=Gr(s),c===n?(c=s,s=0):c=Gr(c),i=Yn(i),VT(i,s,c)}function Ux(i,s,c){if(c&&typeof c!="boolean"&&cn(i,s,c)&&(s=c=n),c===n&&(typeof s=="boolean"?(c=s,s=n):typeof i=="boolean"&&(c=i,i=n)),i===n&&s===n?(i=0,s=1):(i=Gr(i),s===n?(s=i,i=0):s=Gr(s)),i>s){var p=i;i=s,s=p}if(c||i%1||s%1){var m=g_();return Jt(i+m*(s-i+pw("1e-"+((m+"").length-1))),s)}return yf(i,s)}var Lx=xa(function(i,s,c){return s=s.toLowerCase(),i+(c?qg(s):s)});function qg(i){return Yf(Je(i).toLowerCase())}function Kg(i){return i=Je(i),i&&i.replace(F1,Rw).replace(rw,"")}function Nx(i,s,c){i=Je(i),s=Rn(s);var p=i.length;c=c===n?p:qi(Ie(c),0,p);var m=c;return c-=s.length,c>=0&&i.slice(c,m)==s}function Fx(i){return i=Je(i),i&&v1.test(i)?i.replace(Rm,Ow):i}function $x(i){return i=Je(i),i&&T1.test(i)?i.replace(Vl,"\\$&"):i}var Vx=xa(function(i,s,c){return i+(c?"-":"")+s.toLowerCase()}),Hx=xa(function(i,s,c){return i+(c?" ":"")+s.toLowerCase()}),Gx=Z_("toLowerCase");function jx(i,s,c){i=Je(i),s=Ie(s);var p=s?ba(i):0;if(!s||p>=s)return i;var m=(s-p)/2;return Ru(pu(m),c)+i+Ru(du(m),c)}function zx(i,s,c){i=Je(i),s=Ie(s);var p=s?ba(i):0;return s&&p<s?i+Ru(s-p,c):i}function Wx(i,s,c){i=Je(i),s=Ie(s);var p=s?ba(i):0;return s&&p<s?Ru(s-p,c)+i:i}function Yx(i,s,c){return c||s==null?s=0:s&&(s=+s),Qw(Je(i).replace(Hl,""),s||0)}function Bx(i,s,c){return(c?cn(i,s,c):s===n)?s=1:s=Ie(s),Ef(Je(i),s)}function qx(){var i=arguments,s=Je(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var Kx=xa(function(i,s,c){return i+(c?"_":"")+s.toLowerCase()});function Jx(i,s,c){return c&&typeof c!="number"&&cn(i,s,c)&&(s=c=n),c=c===n?re:c>>>0,c?(i=Je(i),i&&(typeof s=="string"||s!=null&&!jf(s))&&(s=Rn(s),!s&&Ea(i))?hi(ir(i),0,c):i.split(s,c)):[]}var Xx=xa(function(i,s,c){return i+(c?" ":"")+Yf(s)});function Zx(i,s,c){return i=Je(i),c=c==null?0:qi(Ie(c),0,i.length),s=Rn(s),i.slice(c,c+s.length)==s}function Qx(i,s,c){var p=g.templateSettings;c&&cn(i,s,c)&&(s=n),i=Je(i),s=Fu({},s,p,ag);var m=Fu({},s.imports,p.imports,ag),y=Ht(m),S=nf(m,y),A,D,H=0,j=s.interpolate||Xo,J="__p += '",oe=af((s.escape||Xo).source+"|"+j.source+"|"+(j===Om?k1:Xo).source+"|"+(s.evaluate||Xo).source+"|$","g"),he="//# sourceURL="+(Xe.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uw+"]")+`
`;i.replace(oe,function(Ee,Fe,Ge,xn,ln,Dn){return Ge||(Ge=xn),J+=i.slice(H,Dn).replace($1,xw),Fe&&(A=!0,J+=`' +
__e(`+Fe+`) +
'`),ln&&(D=!0,J+=`';
`+ln+`;
__p += '`),Ge&&(J+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),H=Dn+Ee.length,Ee}),J+=`';
`;var ye=Xe.call(s,"variable")&&s.variable;if(!ye)J=`with (obj) {
`+J+`
}
`;else if(I1.test(ye))throw new Ae(l);J=(D?J.replace(h1,""):J).replace(m1,"$1").replace(_1,"$1;"),J="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Pe=Xg(function(){return qe(y,he+"return "+J).apply(n,S)});if(Pe.source=J,Gf(Pe))throw Pe;return Pe}function eD(i){return Je(i).toLowerCase()}function tD(i){return Je(i).toUpperCase()}function nD(i,s,c){if(i=Je(i),i&&(c||s===n))return s_(i);if(!i||!(s=Rn(s)))return i;var p=ir(i),m=ir(s),y=o_(p,m),S=u_(p,m)+1;return hi(p,y,S).join("")}function rD(i,s,c){if(i=Je(i),i&&(c||s===n))return i.slice(0,l_(i)+1);if(!i||!(s=Rn(s)))return i;var p=ir(i),m=u_(p,ir(s))+1;return hi(p,0,m).join("")}function iD(i,s,c){if(i=Je(i),i&&(c||s===n))return i.replace(Hl,"");if(!i||!(s=Rn(s)))return i;var p=ir(i),m=o_(p,ir(s));return hi(p,m).join("")}function aD(i,s){var c=ee,p=_e;if(At(s)){var m="separator"in s?s.separator:m;c="length"in s?Ie(s.length):c,p="omission"in s?Rn(s.omission):p}i=Je(i);var y=i.length;if(Ea(i)){var S=ir(i);y=S.length}if(c>=y)return i;var A=c-ba(p);if(A<1)return p;var D=S?hi(S,0,A).join(""):i.slice(0,A);if(m===n)return D+p;if(S&&(A+=D.length-A),jf(m)){if(i.slice(A).search(m)){var H,j=D;for(m.global||(m=af(m.source,Je(xm.exec(m))+"g")),m.lastIndex=0;H=m.exec(j);)var J=H.index;D=D.slice(0,J===n?A:J)}}else if(i.indexOf(Rn(m),A)!=A){var oe=D.lastIndexOf(m);oe>-1&&(D=D.slice(0,oe))}return D+p}function sD(i){return i=Je(i),i&&g1.test(i)?i.replace(Am,Uw):i}var oD=xa(function(i,s,c){return i+(c?" ":"")+s.toUpperCase()}),Yf=Z_("toUpperCase");function Jg(i,s,c){return i=Je(i),s=c?n:s,s===n?Iw(i)?Fw(i):bw(i):i.match(s)||[]}var Xg=Me(function(i,s){try{return Tn(i,n,s)}catch(c){return Gf(c)?c:new Ae(c)}}),uD=$r(function(i,s){return Vn(s,function(c){c=wr(c),Nr(i,c,Vf(i[c],i))}),i});function cD(i){var s=i==null?0:i.length,c=ge();return i=s?vt(i,function(p){if(typeof p[1]!="function")throw new Hn(u);return[c(p[0]),p[1]]}):[],Me(function(p){for(var m=-1;++m<s;){var y=i[m];if(Tn(y[0],this,p))return Tn(y[1],this,p)}})}function lD(i){return UT(jn(i,_))}function Bf(i){return function(){return i}}function fD(i,s){return i==null||i!==i?s:i}var dD=eg(),pD=eg(!0);function yn(i){return i}function qf(i){return I_(typeof i=="function"?i:jn(i,_))}function hD(i){return k_(jn(i,_))}function mD(i,s){return P_(i,jn(s,_))}var _D=Me(function(i,s){return function(c){return ks(c,i,s)}}),gD=Me(function(i,s){return function(c){return ks(i,c,s)}});function Kf(i,s,c){var p=Ht(s),m=yu(s,p);c==null&&!(At(s)&&(m.length||!p.length))&&(c=s,s=i,i=this,m=yu(s,Ht(s)));var y=!(At(c)&&"chain"in c)||!!c.chain,S=Hr(i);return Vn(m,function(A){var D=s[A];i[A]=D,S&&(i.prototype[A]=function(){var H=this.__chain__;if(y||H){var j=i(this.__wrapped__),J=j.__actions__=_n(this.__actions__);return J.push({func:D,args:arguments,thisArg:i}),j.__chain__=H,j}return D.apply(i,ui([this.value()],arguments))})}),i}function vD(){return jt._===this&&(jt._=zw),this}function Jf(){}function yD(i){return i=Ie(i),Me(function(s){return M_(s,i)})}var ED=Of(vt),bD=Of(t_),SD=Of(Xl);function Zg(i){return Mf(i)?Zl(wr(i)):ZT(i)}function wD(i){return function(s){return i==null?n:Ki(i,s)}}var TD=ng(),AD=ng(!0);function Xf(){return[]}function Zf(){return!1}function RD(){return{}}function OD(){return""}function xD(){return!0}function DD(i,s){if(i=Ie(i),i<1||i>W)return[];var c=re,p=Jt(i,re);s=ge(s),i-=re;for(var m=tf(p,s);++c<i;)s(c);return m}function ID(i){return Re(i)?vt(i,wr):On(i)?[i]:_n(vg(Je(i)))}function CD(i){var s=++Gw;return Je(i)+s}var kD=Au(function(i,s){return i+s},0),PD=xf("ceil"),MD=Au(function(i,s){return i/s},1),UD=xf("floor");function LD(i){return i&&i.length?vu(i,yn,pf):n}function ND(i,s){return i&&i.length?vu(i,ge(s,2),pf):n}function FD(i){return i_(i,yn)}function $D(i,s){return i_(i,ge(s,2))}function VD(i){return i&&i.length?vu(i,yn,gf):n}function HD(i,s){return i&&i.length?vu(i,ge(s,2),gf):n}var GD=Au(function(i,s){return i*s},1),jD=xf("round"),zD=Au(function(i,s){return i-s},0);function WD(i){return i&&i.length?ef(i,yn):0}function YD(i,s){return i&&i.length?ef(i,ge(s,2)):0}return g.after=hO,g.ary=Dg,g.assign=tx,g.assignIn=jg,g.assignInWith=Fu,g.assignWith=nx,g.at=rx,g.before=Ig,g.bind=Vf,g.bindAll=uD,g.bindKey=Cg,g.castArray=RO,g.chain=Rg,g.chunk=UA,g.compact=LA,g.concat=NA,g.cond=cD,g.conforms=lD,g.constant=Bf,g.countBy=WR,g.create=ix,g.curry=kg,g.curryRight=Pg,g.debounce=Mg,g.defaults=ax,g.defaultsDeep=sx,g.defer=mO,g.delay=_O,g.difference=FA,g.differenceBy=$A,g.differenceWith=VA,g.drop=HA,g.dropRight=GA,g.dropRightWhile=jA,g.dropWhile=zA,g.fill=WA,g.filter=BR,g.flatMap=JR,g.flatMapDeep=XR,g.flatMapDepth=ZR,g.flatten=Sg,g.flattenDeep=YA,g.flattenDepth=BA,g.flip=gO,g.flow=dD,g.flowRight=pD,g.fromPairs=qA,g.functions=px,g.functionsIn=hx,g.groupBy=QR,g.initial=JA,g.intersection=XA,g.intersectionBy=ZA,g.intersectionWith=QA,g.invert=_x,g.invertBy=gx,g.invokeMap=tO,g.iteratee=qf,g.keyBy=nO,g.keys=Ht,g.keysIn=vn,g.map=ku,g.mapKeys=yx,g.mapValues=Ex,g.matches=hD,g.matchesProperty=mD,g.memoize=Mu,g.merge=bx,g.mergeWith=zg,g.method=_D,g.methodOf=gD,g.mixin=Kf,g.negate=Uu,g.nthArg=yD,g.omit=Sx,g.omitBy=wx,g.once=vO,g.orderBy=rO,g.over=ED,g.overArgs=yO,g.overEvery=bD,g.overSome=SD,g.partial=Hf,g.partialRight=Ug,g.partition=iO,g.pick=Tx,g.pickBy=Wg,g.property=Zg,g.propertyOf=wD,g.pull=rR,g.pullAll=Tg,g.pullAllBy=iR,g.pullAllWith=aR,g.pullAt=sR,g.range=TD,g.rangeRight=AD,g.rearg=EO,g.reject=oO,g.remove=oR,g.rest=bO,g.reverse=Ff,g.sampleSize=cO,g.set=Rx,g.setWith=Ox,g.shuffle=lO,g.slice=uR,g.sortBy=pO,g.sortedUniq=mR,g.sortedUniqBy=_R,g.split=Jx,g.spread=SO,g.tail=gR,g.take=vR,g.takeRight=yR,g.takeRightWhile=ER,g.takeWhile=bR,g.tap=LR,g.throttle=wO,g.thru=Cu,g.toArray=Vg,g.toPairs=Yg,g.toPairsIn=Bg,g.toPath=ID,g.toPlainObject=Gg,g.transform=xx,g.unary=TO,g.union=SR,g.unionBy=wR,g.unionWith=TR,g.uniq=AR,g.uniqBy=RR,g.uniqWith=OR,g.unset=Dx,g.unzip=$f,g.unzipWith=Ag,g.update=Ix,g.updateWith=Cx,g.values=Ca,g.valuesIn=kx,g.without=xR,g.words=Jg,g.wrap=AO,g.xor=DR,g.xorBy=IR,g.xorWith=CR,g.zip=kR,g.zipObject=PR,g.zipObjectDeep=MR,g.zipWith=UR,g.entries=Yg,g.entriesIn=Bg,g.extend=jg,g.extendWith=Fu,Kf(g,g),g.add=kD,g.attempt=Xg,g.camelCase=Lx,g.capitalize=qg,g.ceil=PD,g.clamp=Px,g.clone=OO,g.cloneDeep=DO,g.cloneDeepWith=IO,g.cloneWith=xO,g.conformsTo=CO,g.deburr=Kg,g.defaultTo=fD,g.divide=MD,g.endsWith=Nx,g.eq=sr,g.escape=Fx,g.escapeRegExp=$x,g.every=YR,g.find=qR,g.findIndex=Eg,g.findKey=ox,g.findLast=KR,g.findLastIndex=bg,g.findLastKey=ux,g.floor=UD,g.forEach=Og,g.forEachRight=xg,g.forIn=cx,g.forInRight=lx,g.forOwn=fx,g.forOwnRight=dx,g.get=zf,g.gt=kO,g.gte=PO,g.has=mx,g.hasIn=Wf,g.head=wg,g.identity=yn,g.includes=eO,g.indexOf=KA,g.inRange=Mx,g.invoke=vx,g.isArguments=Zi,g.isArray=Re,g.isArrayBuffer=MO,g.isArrayLike=gn,g.isArrayLikeObject=Ot,g.isBoolean=UO,g.isBuffer=mi,g.isDate=LO,g.isElement=NO,g.isEmpty=FO,g.isEqual=$O,g.isEqualWith=VO,g.isError=Gf,g.isFinite=HO,g.isFunction=Hr,g.isInteger=Lg,g.isLength=Lu,g.isMap=Ng,g.isMatch=GO,g.isMatchWith=jO,g.isNaN=zO,g.isNative=WO,g.isNil=BO,g.isNull=YO,g.isNumber=Fg,g.isObject=At,g.isObjectLike=Rt,g.isPlainObject=Fs,g.isRegExp=jf,g.isSafeInteger=qO,g.isSet=$g,g.isString=Nu,g.isSymbol=On,g.isTypedArray=Ia,g.isUndefined=KO,g.isWeakMap=JO,g.isWeakSet=XO,g.join=eR,g.kebabCase=Vx,g.last=Wn,g.lastIndexOf=tR,g.lowerCase=Hx,g.lowerFirst=Gx,g.lt=ZO,g.lte=QO,g.max=LD,g.maxBy=ND,g.mean=FD,g.meanBy=$D,g.min=VD,g.minBy=HD,g.stubArray=Xf,g.stubFalse=Zf,g.stubObject=RD,g.stubString=OD,g.stubTrue=xD,g.multiply=GD,g.nth=nR,g.noConflict=vD,g.noop=Jf,g.now=Pu,g.pad=jx,g.padEnd=zx,g.padStart=Wx,g.parseInt=Yx,g.random=Ux,g.reduce=aO,g.reduceRight=sO,g.repeat=Bx,g.replace=qx,g.result=Ax,g.round=jD,g.runInContext=O,g.sample=uO,g.size=fO,g.snakeCase=Kx,g.some=dO,g.sortedIndex=cR,g.sortedIndexBy=lR,g.sortedIndexOf=fR,g.sortedLastIndex=dR,g.sortedLastIndexBy=pR,g.sortedLastIndexOf=hR,g.startCase=Xx,g.startsWith=Zx,g.subtract=zD,g.sum=WD,g.sumBy=YD,g.template=Qx,g.times=DD,g.toFinite=Gr,g.toInteger=Ie,g.toLength=Hg,g.toLower=eD,g.toNumber=Yn,g.toSafeInteger=ex,g.toString=Je,g.toUpper=tD,g.trim=nD,g.trimEnd=rD,g.trimStart=iD,g.truncate=aD,g.unescape=sD,g.uniqueId=CD,g.upperCase=oD,g.upperFirst=Yf,g.each=Og,g.eachRight=xg,g.first=wg,Kf(g,function(){var i={};return br(g,function(s,c){Xe.call(g.prototype,c)||(i[c]=s)}),i}(),{chain:!1}),g.VERSION=r,Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){g[i].placeholder=g}),Vn(["drop","take"],function(i,s){$e.prototype[i]=function(c){c=c===n?1:Lt(Ie(c),0);var p=this.__filtered__&&!s?new $e(this):this.clone();return p.__filtered__?p.__takeCount__=Jt(c,p.__takeCount__):p.__views__.push({size:Jt(c,re),type:i+(p.__dir__<0?"Right":"")}),p},$e.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),Vn(["filter","map","takeWhile"],function(i,s){var c=s+1,p=c==C||c==L;$e.prototype[i]=function(m){var y=this.clone();return y.__iteratees__.push({iteratee:ge(m,3),type:c}),y.__filtered__=y.__filtered__||p,y}}),Vn(["head","last"],function(i,s){var c="take"+(s?"Right":"");$e.prototype[i]=function(){return this[c](1).value()[0]}}),Vn(["initial","tail"],function(i,s){var c="drop"+(s?"":"Right");$e.prototype[i]=function(){return this.__filtered__?new $e(this):this[c](1)}}),$e.prototype.compact=function(){return this.filter(yn)},$e.prototype.find=function(i){return this.filter(i).head()},$e.prototype.findLast=function(i){return this.reverse().find(i)},$e.prototype.invokeMap=Me(function(i,s){return typeof i=="function"?new $e(this):this.map(function(c){return ks(c,i,s)})}),$e.prototype.reject=function(i){return this.filter(Uu(ge(i)))},$e.prototype.slice=function(i,s){i=Ie(i);var c=this;return c.__filtered__&&(i>0||s<0)?new $e(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),s!==n&&(s=Ie(s),c=s<0?c.dropRight(-s):c.take(s-i)),c)},$e.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},$e.prototype.toArray=function(){return this.take(re)},br($e.prototype,function(i,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),m=g[p?"take"+(s=="last"?"Right":""):s],y=p||/^find/.test(s);!m||(g.prototype[s]=function(){var S=this.__wrapped__,A=p?[1]:arguments,D=S instanceof $e,H=A[0],j=D||Re(S),J=function(Fe){var Ge=m.apply(g,ui([Fe],A));return p&&oe?Ge[0]:Ge};j&&c&&typeof H=="function"&&H.length!=1&&(D=j=!1);var oe=this.__chain__,he=!!this.__actions__.length,ye=y&&!oe,Pe=D&&!he;if(!y&&j){S=Pe?S:new $e(this);var Ee=i.apply(S,A);return Ee.__actions__.push({func:Cu,args:[J],thisArg:n}),new Gn(Ee,oe)}return ye&&Pe?i.apply(this,A):(Ee=this.thru(J),ye?p?Ee.value()[0]:Ee.value():Ee)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(i){var s=ru[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);g.prototype[i]=function(){var m=arguments;if(p&&!this.__chain__){var y=this.value();return s.apply(Re(y)?y:[],m)}return this[c](function(S){return s.apply(Re(S)?S:[],m)})}}),br($e.prototype,function(i,s){var c=g[s];if(c){var p=c.name+"";Xe.call(Aa,p)||(Aa[p]=[]),Aa[p].push({name:s,func:c})}}),Aa[Tu(n,k).name]=[{name:"wrapper",func:n}],$e.prototype.clone=sT,$e.prototype.reverse=oT,$e.prototype.value=uT,g.prototype.at=NR,g.prototype.chain=FR,g.prototype.commit=$R,g.prototype.next=VR,g.prototype.plant=GR,g.prototype.reverse=jR,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=zR,g.prototype.first=g.prototype.head,As&&(g.prototype[As]=HR),g},Sa=$w();zi?((zi.exports=Sa)._=Sa,Bl._=Sa):jt._=Sa}).call(Vs)})(Nh,Nh.exports);var _r=Nh.exports;//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var rS;function ue(){return rS.apply(null,arguments)}function T5(e){rS=e}function gr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ha(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fh(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ye(e,t))return!1;return!0}function wn(e){return e===void 0}function Qr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Vo(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function iS(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function Vi(e,t){for(var n in t)Ye(t,n)&&(e[n]=t[n]);return Ye(t,"toString")&&(e.toString=t.toString),Ye(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ir(e,t,n,r){return IS(e,t,n,r,!0).utc()}function A5(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ce(e){return e._pf==null&&(e._pf=A5()),e._pf}var $h;Array.prototype.some?$h=Array.prototype.some:$h=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Vh(e){if(e._isValid==null){var t=Ce(e),n=$h.call(t.parsedDateParts,function(a){return a!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function ol(e){var t=Ir(NaN);return e!=null?Vi(Ce(t),e):Ce(t).userInvalidated=!0,t}var Hh=ue.momentProperties=[],Gh=!1;function jh(e,t){var n,r,a;if(wn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),wn(t._i)||(e._i=t._i),wn(t._f)||(e._f=t._f),wn(t._l)||(e._l=t._l),wn(t._strict)||(e._strict=t._strict),wn(t._tzm)||(e._tzm=t._tzm),wn(t._isUTC)||(e._isUTC=t._isUTC),wn(t._offset)||(e._offset=t._offset),wn(t._pf)||(e._pf=Ce(t)),wn(t._locale)||(e._locale=t._locale),Hh.length>0)for(n=0;n<Hh.length;n++)r=Hh[n],a=t[r],wn(a)||(e[r]=a);return e}function Ho(e){jh(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gh===!1&&(Gh=!0,ue.updateOffset(this),Gh=!1)}function vr(e){return e instanceof Ho||e!=null&&e._isAMomentObject!=null}function aS(e){ue.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function er(e,t){var n=!0;return Vi(function(){if(ue.deprecationHandler!=null&&ue.deprecationHandler(null,e),n){var r=[],a,o,u;for(o=0;o<arguments.length;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(u in arguments[0])Ye(arguments[0],u)&&(a+=u+": "+arguments[0][u]+", ");a=a.slice(0,-2)}else a=arguments[o];r.push(a)}aS(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var sS={};function oS(e,t){ue.deprecationHandler!=null&&ue.deprecationHandler(e,t),sS[e]||(aS(t),sS[e]=!0)}ue.suppressDeprecationWarnings=!1;ue.deprecationHandler=null;function Cr(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function R5(e){var t,n;for(n in e)Ye(e,n)&&(t=e[n],Cr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function zh(e,t){var n=Vi({},e),r;for(r in t)Ye(t,r)&&(ha(e[r])&&ha(t[r])?(n[r]={},Vi(n[r],e[r]),Vi(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ye(e,r)&&!Ye(t,r)&&ha(e[r])&&(n[r]=Vi({},n[r]));return n}function Wh(e){e!=null&&this.set(e)}var Yh;Object.keys?Yh=Object.keys:Yh=function(e){var t,n=[];for(t in e)Ye(e,t)&&n.push(t);return n};var O5={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function x5(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Cr(r)?r.call(t,n):r}function kr(e,t,n){var r=""+Math.abs(e),a=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var Bh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ul=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qh={},hs={};function me(e,t,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),e&&(hs[e]=a),t&&(hs[t[0]]=function(){return kr(a.apply(this,arguments),t[1],t[2])}),n&&(hs[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function D5(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I5(e){var t=e.match(Bh),n,r;for(n=0,r=t.length;n<r;n++)hs[t[n]]?t[n]=hs[t[n]]:t[n]=D5(t[n]);return function(a){var o="",u;for(u=0;u<r;u++)o+=Cr(t[u])?t[u].call(a,e):t[u];return o}}function cl(e,t){return e.isValid()?(t=uS(t,e.localeData()),qh[t]=qh[t]||I5(t),qh[t](e)):e.localeData().invalidDate()}function uS(e,t){var n=5;function r(a){return t.longDateFormat(a)||a}for(ul.lastIndex=0;n>=0&&ul.test(e);)e=e.replace(ul,r),ul.lastIndex=0,n-=1;return e}var C5={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function k5(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Bh).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var P5="Invalid date";function M5(){return this._invalidDate}var U5="%d",L5=/\d{1,2}/;function N5(e){return this._ordinal.replace("%d",e)}var F5={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $5(e,t,n,r){var a=this._relativeTime[n];return Cr(a)?a(e,t,n,r):a.replace(/%d/i,e)}function V5(e,t){var n=this._relativeTime[e>0?"future":"past"];return Cr(n)?n(t):n.replace(/%s/i,t)}var Go={};function rn(e,t){var n=e.toLowerCase();Go[n]=Go[n+"s"]=Go[t]=e}function tr(e){return typeof e=="string"?Go[e]||Go[e.toLowerCase()]:void 0}function Kh(e){var t={},n,r;for(r in e)Ye(e,r)&&(n=tr(r),n&&(t[n]=e[r]));return t}var cS={};function an(e,t){cS[e]=t}function H5(e){var t=[],n;for(n in e)Ye(e,n)&&t.push({unit:n,priority:cS[n]});return t.sort(function(r,a){return r.priority-a.priority}),t}function ll(e){return e%4==0&&e%100!=0||e%400==0}function nr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Le(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=nr(t)),n}function ms(e,t){return function(n){return n!=null?(lS(this,e,n),ue.updateOffset(this,t),this):fl(this,e)}}function fl(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function lS(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&ll(e.year())&&e.month()===1&&e.date()===29?(n=Le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),vl(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function G5(e){return e=tr(e),Cr(this[e])?this[e]():this}function j5(e,t){if(typeof e=="object"){e=Kh(e);var n=H5(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=tr(e),Cr(this[e]))return this[e](t);return this}var fS=/\d/,Nn=/\d\d/,dS=/\d{3}/,Jh=/\d{4}/,dl=/[+-]?\d{6}/,_t=/\d\d?/,pS=/\d\d\d\d?/,hS=/\d\d\d\d\d\d?/,pl=/\d{1,3}/,Xh=/\d{1,4}/,hl=/[+-]?\d{1,6}/,_s=/\d+/,ml=/[+-]?\d+/,z5=/Z|[+-]\d\d:?\d\d/gi,_l=/Z|[+-]\d\d(?::?\d\d)?/gi,W5=/[+-]?\d+(\.\d{1,3})?/,jo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,gl;gl={};function fe(e,t,n){gl[e]=Cr(t)?t:function(r,a){return r&&n?n:t}}function Y5(e,t){return Ye(gl,e)?gl[e](t._strict,t._locale):new RegExp(B5(e))}function B5(e){return Fn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,a,o){return n||r||a||o}))}function Fn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Zh={};function et(e,t){var n,r=t;for(typeof e=="string"&&(e=[e]),Qr(t)&&(r=function(a,o){o[t]=Le(a)}),n=0;n<e.length;n++)Zh[e[n]]=r}function zo(e,t){et(e,function(n,r,a,o){a._w=a._w||{},t(n,a._w,a,o)})}function q5(e,t,n){t!=null&&Ye(Zh,e)&&Zh[e](t,n._a,n,e)}var sn=0,ei=1,Pr=2,$t=3,yr=4,ti=5,ma=6,K5=7,J5=8;function X5(e,t){return(e%t+t)%t}var Dt;Array.prototype.indexOf?Dt=Array.prototype.indexOf:Dt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function vl(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=X5(t,12);return e+=(t-n)/12,n===1?ll(e)?29:28:31-n%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});me("MMMM",0,0,function(e){return this.localeData().months(this,e)});rn("month","M");an("month",8);fe("M",_t);fe("MM",_t,Nn);fe("MMM",function(e,t){return t.monthsShortRegex(e)});fe("MMMM",function(e,t){return t.monthsRegex(e)});et(["M","MM"],function(e,t){t[ei]=Le(e)-1});et(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);a!=null?t[ei]=a:Ce(n).invalidMonth=e});var Z5="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_S=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Q5=jo,e4=jo;function t4(e,t){return e?gr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||_S).test(t)?"format":"standalone"][e.month()]:gr(this._months)?this._months:this._months.standalone}function n4(e,t){return e?gr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[_S.test(t)?"format":"standalone"][e.month()]:gr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function r4(e,t,n){var r,a,o,u=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Ir([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(a=Dt.call(this._shortMonthsParse,u),a!==-1?a:null):(a=Dt.call(this._longMonthsParse,u),a!==-1?a:null):t==="MMM"?(a=Dt.call(this._shortMonthsParse,u),a!==-1?a:(a=Dt.call(this._longMonthsParse,u),a!==-1?a:null)):(a=Dt.call(this._longMonthsParse,u),a!==-1?a:(a=Dt.call(this._shortMonthsParse,u),a!==-1?a:null))}function i4(e,t,n){var r,a,o;if(this._monthsParseExact)return r4.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=Ir([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function gS(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Le(t);else if(t=e.localeData().monthsParse(t),!Qr(t))return e}return n=Math.min(e.date(),vl(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function vS(e){return e!=null?(gS(this,e),ue.updateOffset(this,!0),this):fl(this,"Month")}function a4(){return vl(this.year(),this.month())}function s4(e){return this._monthsParseExact?(Ye(this,"_monthsRegex")||yS.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ye(this,"_monthsShortRegex")||(this._monthsShortRegex=Q5),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function o4(e){return this._monthsParseExact?(Ye(this,"_monthsRegex")||yS.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ye(this,"_monthsRegex")||(this._monthsRegex=e4),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yS(){function e(u,l){return l.length-u.length}var t=[],n=[],r=[],a,o;for(a=0;a<12;a++)o=Ir([2e3,a]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),a=0;a<12;a++)t[a]=Fn(t[a]),n[a]=Fn(n[a]);for(a=0;a<24;a++)r[a]=Fn(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}me("Y",0,0,function(){var e=this.year();return e<=9999?kr(e,4):"+"+e});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");rn("year","y");an("year",1);fe("Y",ml);fe("YY",_t,Nn);fe("YYYY",Xh,Jh);fe("YYYYY",hl,dl);fe("YYYYYY",hl,dl);et(["YYYYY","YYYYYY"],sn);et("YYYY",function(e,t){t[sn]=e.length===2?ue.parseTwoDigitYear(e):Le(e)});et("YY",function(e,t){t[sn]=ue.parseTwoDigitYear(e)});et("Y",function(e,t){t[sn]=parseInt(e,10)});function Wo(e){return ll(e)?366:365}ue.parseTwoDigitYear=function(e){return Le(e)+(Le(e)>68?1900:2e3)};var ES=ms("FullYear",!0);function u4(){return ll(this.year())}function c4(e,t,n,r,a,o,u){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,r,a,o,u),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,r,a,o,u),l}function Yo(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function yl(e,t,n){var r=7+t-n,a=(7+Yo(e,0,r).getUTCDay()-t)%7;return-a+r-1}function bS(e,t,n,r,a){var o=(7+n-r)%7,u=yl(e,r,a),l=1+7*(t-1)+o+u,f,d;return l<=0?(f=e-1,d=Wo(f)+l):l>Wo(e)?(f=e+1,d=l-Wo(e)):(f=e,d=l),{year:f,dayOfYear:d}}function Bo(e,t,n){var r=yl(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1,o,u;return a<1?(u=e.year()-1,o=a+ni(u,t,n)):a>ni(e.year(),t,n)?(o=a-ni(e.year(),t,n),u=e.year()+1):(u=e.year(),o=a),{week:o,year:u}}function ni(e,t,n){var r=yl(e,t,n),a=yl(e+1,t,n);return(Wo(e)-r+a)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");rn("week","w");rn("isoWeek","W");an("week",5);an("isoWeek",5);fe("w",_t);fe("ww",_t,Nn);fe("W",_t);fe("WW",_t,Nn);zo(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Le(e)});function l4(e){return Bo(e,this._week.dow,this._week.doy).week}var f4={dow:0,doy:6};function d4(){return this._week.dow}function p4(){return this._week.doy}function h4(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function m4(e){var t=Bo(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});me("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});me("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");rn("day","d");rn("weekday","e");rn("isoWeekday","E");an("day",11);an("weekday",11);an("isoWeekday",11);fe("d",_t);fe("e",_t);fe("E",_t);fe("dd",function(e,t){return t.weekdaysMinRegex(e)});fe("ddd",function(e,t){return t.weekdaysShortRegex(e)});fe("dddd",function(e,t){return t.weekdaysRegex(e)});zo(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);a!=null?t.d=a:Ce(n).invalidWeekday=e});zo(["d","e","E"],function(e,t,n,r){t[r]=Le(e)});function _4(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function g4(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Qh(e,t){return e.slice(t,7).concat(e.slice(0,t))}var v4="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),SS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),y4="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),E4=jo,b4=jo,S4=jo;function w4(e,t){var n=gr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Qh(n,this._week.dow):e?n[e.day()]:n}function T4(e){return e===!0?Qh(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function A4(e){return e===!0?Qh(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function R4(e,t,n){var r,a,o,u=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Ir([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(a=Dt.call(this._weekdaysParse,u),a!==-1?a:null):t==="ddd"?(a=Dt.call(this._shortWeekdaysParse,u),a!==-1?a:null):(a=Dt.call(this._minWeekdaysParse,u),a!==-1?a:null):t==="dddd"?(a=Dt.call(this._weekdaysParse,u),a!==-1||(a=Dt.call(this._shortWeekdaysParse,u),a!==-1)?a:(a=Dt.call(this._minWeekdaysParse,u),a!==-1?a:null)):t==="ddd"?(a=Dt.call(this._shortWeekdaysParse,u),a!==-1||(a=Dt.call(this._weekdaysParse,u),a!==-1)?a:(a=Dt.call(this._minWeekdaysParse,u),a!==-1?a:null)):(a=Dt.call(this._minWeekdaysParse,u),a!==-1||(a=Dt.call(this._weekdaysParse,u),a!==-1)?a:(a=Dt.call(this._shortWeekdaysParse,u),a!==-1?a:null))}function O4(e,t,n){var r,a,o;if(this._weekdaysParseExact)return R4.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=Ir([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function x4(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=_4(e,this.localeData()),this.add(e-t,"d")):t}function D4(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function I4(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=g4(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function C4(e){return this._weekdaysParseExact?(Ye(this,"_weekdaysRegex")||em.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ye(this,"_weekdaysRegex")||(this._weekdaysRegex=E4),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function k4(e){return this._weekdaysParseExact?(Ye(this,"_weekdaysRegex")||em.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ye(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=b4),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function P4(e){return this._weekdaysParseExact?(Ye(this,"_weekdaysRegex")||em.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ye(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=S4),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function em(){function e(h,_){return _.length-h.length}var t=[],n=[],r=[],a=[],o,u,l,f,d;for(o=0;o<7;o++)u=Ir([2e3,1]).day(o),l=Fn(this.weekdaysMin(u,"")),f=Fn(this.weekdaysShort(u,"")),d=Fn(this.weekdays(u,"")),t.push(l),n.push(f),r.push(d),a.push(l),a.push(f),a.push(d);t.sort(e),n.sort(e),r.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function tm(){return this.hours()%12||12}function M4(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,tm);me("k",["kk",2],0,M4);me("hmm",0,0,function(){return""+tm.apply(this)+kr(this.minutes(),2)});me("hmmss",0,0,function(){return""+tm.apply(this)+kr(this.minutes(),2)+kr(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+kr(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+kr(this.minutes(),2)+kr(this.seconds(),2)});function wS(e,t){me(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}wS("a",!0);wS("A",!1);rn("hour","h");an("hour",13);function TS(e,t){return t._meridiemParse}fe("a",TS);fe("A",TS);fe("H",_t);fe("h",_t);fe("k",_t);fe("HH",_t,Nn);fe("hh",_t,Nn);fe("kk",_t,Nn);fe("hmm",pS);fe("hmmss",hS);fe("Hmm",pS);fe("Hmmss",hS);et(["H","HH"],$t);et(["k","kk"],function(e,t,n){var r=Le(e);t[$t]=r===24?0:r});et(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});et(["h","hh"],function(e,t,n){t[$t]=Le(e),Ce(n).bigHour=!0});et("hmm",function(e,t,n){var r=e.length-2;t[$t]=Le(e.substr(0,r)),t[yr]=Le(e.substr(r)),Ce(n).bigHour=!0});et("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[$t]=Le(e.substr(0,r)),t[yr]=Le(e.substr(r,2)),t[ti]=Le(e.substr(a)),Ce(n).bigHour=!0});et("Hmm",function(e,t,n){var r=e.length-2;t[$t]=Le(e.substr(0,r)),t[yr]=Le(e.substr(r))});et("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[$t]=Le(e.substr(0,r)),t[yr]=Le(e.substr(r,2)),t[ti]=Le(e.substr(a))});function U4(e){return(e+"").toLowerCase().charAt(0)==="p"}var L4=/[ap]\.?m?\.?/i,N4=ms("Hours",!0);function F4(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var AS={calendar:O5,longDateFormat:C5,invalidDate:P5,ordinal:U5,dayOfMonthOrdinalParse:L5,relativeTime:F5,months:Z5,monthsShort:mS,week:f4,weekdays:v4,weekdaysMin:y4,weekdaysShort:SS,meridiemParse:L4},wt={},qo={},Ko;function $4(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function RS(e){return e&&e.toLowerCase().replace("_","-")}function V4(e){for(var t=0,n,r,a,o;t<e.length;){for(o=RS(e[t]).split("-"),n=o.length,r=RS(e[t+1]),r=r?r.split("-"):null;n>0;){if(a=El(o.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&$4(o,r)>=n-1)break;n--}t++}return Ko}function El(e){var t=null,n;if(wt[e]===void 0&&typeof module!="undefined"&&module&&module.exports)try{t=Ko._abbr,n=require,n("./locale/"+e),Hi(t)}catch(r){wt[e]=null}return wt[e]}function Hi(e,t){var n;return e&&(wn(t)?n=ri(e):n=nm(e,t),n?Ko=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ko._abbr}function nm(e,t){if(t!==null){var n,r=AS;if(t.abbr=e,wt[e]!=null)oS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=wt[e]._config;else if(t.parentLocale!=null)if(wt[t.parentLocale]!=null)r=wt[t.parentLocale]._config;else if(n=El(t.parentLocale),n!=null)r=n._config;else return qo[t.parentLocale]||(qo[t.parentLocale]=[]),qo[t.parentLocale].push({name:e,config:t}),null;return wt[e]=new Wh(zh(r,t)),qo[e]&&qo[e].forEach(function(a){nm(a.name,a.config)}),Hi(e),wt[e]}else return delete wt[e],null}function H4(e,t){if(t!=null){var n,r,a=AS;wt[e]!=null&&wt[e].parentLocale!=null?wt[e].set(zh(wt[e]._config,t)):(r=El(e),r!=null&&(a=r._config),t=zh(a,t),r==null&&(t.abbr=e),n=new Wh(t),n.parentLocale=wt[e],wt[e]=n),Hi(e)}else wt[e]!=null&&(wt[e].parentLocale!=null?(wt[e]=wt[e].parentLocale,e===Hi()&&Hi(e)):wt[e]!=null&&delete wt[e]);return wt[e]}function ri(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ko;if(!gr(e)){if(t=El(e),t)return t;e=[e]}return V4(e)}function G4(){return Yh(wt)}function rm(e){var t,n=e._a;return n&&Ce(e).overflow===-2&&(t=n[ei]<0||n[ei]>11?ei:n[Pr]<1||n[Pr]>vl(n[sn],n[ei])?Pr:n[$t]<0||n[$t]>24||n[$t]===24&&(n[yr]!==0||n[ti]!==0||n[ma]!==0)?$t:n[yr]<0||n[yr]>59?yr:n[ti]<0||n[ti]>59?ti:n[ma]<0||n[ma]>999?ma:-1,Ce(e)._overflowDayOfYear&&(t<sn||t>Pr)&&(t=Pr),Ce(e)._overflowWeeks&&t===-1&&(t=K5),Ce(e)._overflowWeekday&&t===-1&&(t=J5),Ce(e).overflow=t),e}var j4=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,z4=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,W4=/Z|[+-]\d\d(?::?\d\d)?/,bl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],im=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Y4=/^\/?Date\((-?\d+)/i,B4=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,q4={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function OS(e){var t,n,r=e._i,a=j4.exec(r)||z4.exec(r),o,u,l,f;if(a){for(Ce(e).iso=!0,t=0,n=bl.length;t<n;t++)if(bl[t][1].exec(a[1])){u=bl[t][0],o=bl[t][2]!==!1;break}if(u==null){e._isValid=!1;return}if(a[3]){for(t=0,n=im.length;t<n;t++)if(im[t][1].exec(a[3])){l=(a[2]||" ")+im[t][0];break}if(l==null){e._isValid=!1;return}}if(!o&&l!=null){e._isValid=!1;return}if(a[4])if(W4.exec(a[4]))f="Z";else{e._isValid=!1;return}e._f=u+(l||"")+(f||""),sm(e)}else e._isValid=!1}function K4(e,t,n,r,a,o){var u=[J4(e),mS.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return o&&u.push(parseInt(o,10)),u}function J4(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function X4(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Z4(e,t,n){if(e){var r=SS.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return Ce(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Q4(e,t,n){if(e)return q4[e];if(t)return 0;var r=parseInt(n,10),a=r%100,o=(r-a)/100;return o*60+a}function xS(e){var t=B4.exec(X4(e._i)),n;if(t){if(n=K4(t[4],t[3],t[2],t[5],t[6],t[7]),!Z4(t[1],n,e))return;e._a=n,e._tzm=Q4(t[8],t[9],t[10]),e._d=Yo.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ce(e).rfc2822=!0}else e._isValid=!1}function e3(e){var t=Y4.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(OS(e),e._isValid===!1)delete e._isValid;else return;if(xS(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ue.createFromInputFallback(e)}ue.createFromInputFallback=er("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function gs(e,t,n){return e??t??n}function t3(e){var t=new Date(ue.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function am(e){var t,n,r=[],a,o,u;if(!e._d){for(a=t3(e),e._w&&e._a[Pr]==null&&e._a[ei]==null&&n3(e),e._dayOfYear!=null&&(u=gs(e._a[sn],a[sn]),(e._dayOfYear>Wo(u)||e._dayOfYear===0)&&(Ce(e)._overflowDayOfYear=!0),n=Yo(u,0,e._dayOfYear),e._a[ei]=n.getUTCMonth(),e._a[Pr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[$t]===24&&e._a[yr]===0&&e._a[ti]===0&&e._a[ma]===0&&(e._nextDay=!0,e._a[$t]=0),e._d=(e._useUTC?Yo:c4).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$t]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==o&&(Ce(e).weekdayMismatch=!0)}}function n3(e){var t,n,r,a,o,u,l,f,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,u=4,n=gs(t.GG,e._a[sn],Bo(gt(),1,4).year),r=gs(t.W,1),a=gs(t.E,1),(a<1||a>7)&&(f=!0)):(o=e._locale._week.dow,u=e._locale._week.doy,d=Bo(gt(),o,u),n=gs(t.gg,e._a[sn],d.year),r=gs(t.w,d.week),t.d!=null?(a=t.d,(a<0||a>6)&&(f=!0)):t.e!=null?(a=t.e+o,(t.e<0||t.e>6)&&(f=!0)):a=o),r<1||r>ni(n,o,u)?Ce(e)._overflowWeeks=!0:f!=null?Ce(e)._overflowWeekday=!0:(l=bS(n,r,a,o,u),e._a[sn]=l.year,e._dayOfYear=l.dayOfYear)}ue.ISO_8601=function(){};ue.RFC_2822=function(){};function sm(e){if(e._f===ue.ISO_8601){OS(e);return}if(e._f===ue.RFC_2822){xS(e);return}e._a=[],Ce(e).empty=!0;var t=""+e._i,n,r,a,o,u,l=t.length,f=0,d;for(a=uS(e._f,e._locale).match(Bh)||[],n=0;n<a.length;n++)o=a[n],r=(t.match(Y5(o,e))||[])[0],r&&(u=t.substr(0,t.indexOf(r)),u.length>0&&Ce(e).unusedInput.push(u),t=t.slice(t.indexOf(r)+r.length),f+=r.length),hs[o]?(r?Ce(e).empty=!1:Ce(e).unusedTokens.push(o),q5(o,r,e)):e._strict&&!r&&Ce(e).unusedTokens.push(o);Ce(e).charsLeftOver=l-f,t.length>0&&Ce(e).unusedInput.push(t),e._a[$t]<=12&&Ce(e).bigHour===!0&&e._a[$t]>0&&(Ce(e).bigHour=void 0),Ce(e).parsedDateParts=e._a.slice(0),Ce(e).meridiem=e._meridiem,e._a[$t]=r3(e._locale,e._a[$t],e._meridiem),d=Ce(e).era,d!==null&&(e._a[sn]=e._locale.erasConvertYear(d,e._a[sn])),am(e),rm(e)}function r3(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function i3(e){var t,n,r,a,o,u,l=!1;if(e._f.length===0){Ce(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++)o=0,u=!1,t=jh({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],sm(t),Vh(t)&&(u=!0),o+=Ce(t).charsLeftOver,o+=Ce(t).unusedTokens.length*10,Ce(t).score=o,l?o<r&&(r=o,n=t):(r==null||o<r||u)&&(r=o,n=t,u&&(l=!0));Vi(e,n||t)}function a3(e){if(!e._d){var t=Kh(e._i),n=t.day===void 0?t.date:t.day;e._a=iS([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),am(e)}}function s3(e){var t=new Ho(rm(DS(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function DS(e){var t=e._i,n=e._f;return e._locale=e._locale||ri(e._l),t===null||n===void 0&&t===""?ol({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),vr(t)?new Ho(rm(t)):(Vo(t)?e._d=t:gr(n)?i3(e):n?sm(e):o3(e),Vh(e)||(e._d=null),e))}function o3(e){var t=e._i;wn(t)?e._d=new Date(ue.now()):Vo(t)?e._d=new Date(t.valueOf()):typeof t=="string"?e3(e):gr(t)?(e._a=iS(t.slice(0),function(n){return parseInt(n,10)}),am(e)):ha(t)?a3(e):Qr(t)?e._d=new Date(t):ue.createFromInputFallback(e)}function IS(e,t,n,r,a){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ha(e)&&Fh(e)||gr(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=n,o._i=e,o._f=t,o._strict=r,s3(o)}function gt(e,t,n,r){return IS(e,t,n,r,!1)}var u3=er("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ol()}),c3=er("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ol()});function CS(e,t){var n,r;if(t.length===1&&gr(t[0])&&(t=t[0]),!t.length)return gt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function l3(){var e=[].slice.call(arguments,0);return CS("isBefore",e)}function f3(){var e=[].slice.call(arguments,0);return CS("isAfter",e)}var d3=function(){return Date.now?Date.now():+new Date},Jo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function p3(e){var t,n=!1,r;for(t in e)if(Ye(e,t)&&!(Dt.call(Jo,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<Jo.length;++r)if(e[Jo[r]]){if(n)return!1;parseFloat(e[Jo[r]])!==Le(e[Jo[r]])&&(n=!0)}return!0}function h3(){return this._isValid}function m3(){return Er(NaN)}function Sl(e){var t=Kh(e),n=t.year||0,r=t.quarter||0,a=t.month||0,o=t.week||t.isoWeek||0,u=t.day||0,l=t.hour||0,f=t.minute||0,d=t.second||0,h=t.millisecond||0;this._isValid=p3(t),this._milliseconds=+h+d*1e3+f*6e4+l*1e3*60*60,this._days=+u+o*7,this._months=+a+r*3+n*12,this._data={},this._locale=ri(),this._bubble()}function wl(e){return e instanceof Sl}function om(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function _3(e,t,n){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0,u;for(u=0;u<r;u++)(n&&e[u]!==t[u]||!n&&Le(e[u])!==Le(t[u]))&&o++;return o+a}function kS(e,t){me(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+kr(~~(n/60),2)+t+kr(~~n%60,2)})}kS("Z",":");kS("ZZ","");fe("Z",_l);fe("ZZ",_l);et(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=um(_l,e)});var g3=/([\+\-]|\d\d)/gi;function um(e,t){var n=(t||"").match(e),r,a,o;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(g3)||["-",0,0],o=+(a[1]*60)+Le(a[2]),o===0?0:a[0]==="+"?o:-o)}function cm(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(vr(e)||Vo(e)?e.valueOf():gt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ue.updateOffset(n,!1),n):gt(e).local()}function lm(e){return-Math.round(e._d.getTimezoneOffset())}ue.updateOffset=function(){};function v3(e,t,n){var r=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=um(_l,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(a=lm(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==e&&(!t||this._changeInProgress?LS(this,Er(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:lm(this)}function y3(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function E3(e){return this.utcOffset(0,e)}function b3(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(lm(this),"m")),this}function S3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=um(z5,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function w3(e){return this.isValid()?(e=e?gt(e).utcOffset():0,(this.utcOffset()-e)%60==0):!1}function T3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function A3(){if(!wn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return jh(e,this),e=DS(e),e._a?(t=e._isUTC?Ir(e._a):gt(e._a),this._isDSTShifted=this.isValid()&&_3(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function R3(){return this.isValid()?!this._isUTC:!1}function O3(){return this.isValid()?this._isUTC:!1}function PS(){return this.isValid()?this._isUTC&&this._offset===0:!1}var x3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,D3=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Er(e,t){var n=e,r=null,a,o,u;return wl(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Qr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=x3.exec(e))?(a=r[1]==="-"?-1:1,n={y:0,d:Le(r[Pr])*a,h:Le(r[$t])*a,m:Le(r[yr])*a,s:Le(r[ti])*a,ms:Le(om(r[ma]*1e3))*a}):(r=D3.exec(e))?(a=r[1]==="-"?-1:1,n={y:_a(r[2],a),M:_a(r[3],a),w:_a(r[4],a),d:_a(r[5],a),h:_a(r[6],a),m:_a(r[7],a),s:_a(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(u=I3(gt(n.from),gt(n.to)),n={},n.ms=u.milliseconds,n.M=u.months),o=new Sl(n),wl(e)&&Ye(e,"_locale")&&(o._locale=e._locale),wl(e)&&Ye(e,"_isValid")&&(o._isValid=e._isValid),o}Er.fn=Sl.prototype;Er.invalid=m3;function _a(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function MS(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function I3(e,t){var n;return e.isValid()&&t.isValid()?(t=cm(t,e),e.isBefore(t)?n=MS(e,t):(n=MS(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function US(e,t){return function(n,r){var a,o;return r!==null&&!isNaN(+r)&&(oS(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),a=Er(n,r),LS(this,a,e),this}}function LS(e,t,n,r){var a=t._milliseconds,o=om(t._days),u=om(t._months);!e.isValid()||(r=r??!0,u&&gS(e,fl(e,"Month")+u*n),o&&lS(e,"Date",fl(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&ue.updateOffset(e,o||u))}var C3=US(1,"add"),k3=US(-1,"subtract");function NS(e){return typeof e=="string"||e instanceof String}function P3(e){return vr(e)||Vo(e)||NS(e)||Qr(e)||U3(e)||M3(e)||e===null||e===void 0}function M3(e){var t=ha(e)&&!Fh(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o;for(a=0;a<r.length;a+=1)o=r[a],n=n||Ye(e,o);return t&&n}function U3(e){var t=gr(e),n=!1;return t&&(n=e.filter(function(r){return!Qr(r)&&NS(e)}).length===0),t&&n}function L3(e){var t=ha(e)&&!Fh(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<r.length;a+=1)o=r[a],n=n||Ye(e,o);return t&&n}function N3(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function F3(e,t){arguments.length===1&&(arguments[0]?P3(arguments[0])?(e=arguments[0],t=void 0):L3(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||gt(),r=cm(n,this).startOf("day"),a=ue.calendarFormat(this,r)||"sameElse",o=t&&(Cr(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,gt(n)))}function $3(){return new Ho(this)}function V3(e,t){var n=vr(e)?e:gt(e);return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function H3(e,t){var n=vr(e)?e:gt(e);return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function G3(e,t,n,r){var a=vr(e)?e:gt(e),o=vr(t)?t:gt(t);return this.isValid()&&a.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function j3(e,t){var n=vr(e)?e:gt(e),r;return this.isValid()&&n.isValid()?(t=tr(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function z3(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function W3(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Y3(e,t,n){var r,a,o;if(!this.isValid())return NaN;if(r=cm(e,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,t=tr(t),t){case"year":o=Tl(this,r)/12;break;case"month":o=Tl(this,r);break;case"quarter":o=Tl(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-a)/864e5;break;case"week":o=(this-r-a)/6048e5;break;default:o=this-r}return n?o:nr(o)}function Tl(e,t){if(e.date()<t.date())return-Tl(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),a,o;return t-r<0?(a=e.clone().add(n-1,"months"),o=(t-r)/(r-a)):(a=e.clone().add(n+1,"months"),o=(t-r)/(a-r)),-(n+o)||0}ue.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ue.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function B3(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function q3(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?cl(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Cr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",cl(n,"Z")):cl(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function K3(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,a,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+a+o)}function J3(e){e||(e=this.isUtc()?ue.defaultFormatUtc:ue.defaultFormat);var t=cl(this,e);return this.localeData().postformat(t)}function X3(e,t){return this.isValid()&&(vr(e)&&e.isValid()||gt(e).isValid())?Er({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Z3(e){return this.from(gt(),e)}function Q3(e,t){return this.isValid()&&(vr(e)&&e.isValid()||gt(e).isValid())?Er({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function e$(e){return this.to(gt(),e)}function FS(e){var t;return e===void 0?this._locale._abbr:(t=ri(e),t!=null&&(this._locale=t),this)}var $S=er("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function VS(){return this._locale}var Al=1e3,vs=60*Al,Rl=60*vs,HS=(365*400+97)*24*Rl;function ys(e,t){return(e%t+t)%t}function GS(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-HS:new Date(e,t,n).valueOf()}function jS(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-HS:Date.UTC(e,t,n)}function t$(e){var t,n;if(e=tr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?jS:GS,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ys(t+(this._isUTC?0:this.utcOffset()*vs),Rl);break;case"minute":t=this._d.valueOf(),t-=ys(t,vs);break;case"second":t=this._d.valueOf(),t-=ys(t,Al);break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function n$(e){var t,n;if(e=tr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?jS:GS,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Rl-ys(t+(this._isUTC?0:this.utcOffset()*vs),Rl)-1;break;case"minute":t=this._d.valueOf(),t+=vs-ys(t,vs)-1;break;case"second":t=this._d.valueOf(),t+=Al-ys(t,Al)-1;break}return this._d.setTime(t),ue.updateOffset(this,!0),this}function r$(){return this._d.valueOf()-(this._offset||0)*6e4}function i$(){return Math.floor(this.valueOf()/1e3)}function a$(){return new Date(this.valueOf())}function s$(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function o$(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function u$(){return this.isValid()?this.toISOString():null}function c$(){return Vh(this)}function l$(){return Vi({},Ce(this))}function f$(){return Ce(this).overflow}function d$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");fe("N",fm);fe("NN",fm);fe("NNN",fm);fe("NNNN",w$);fe("NNNNN",T$);et(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?Ce(n).era=a:Ce(n).invalidEra=e});fe("y",_s);fe("yy",_s);fe("yyy",_s);fe("yyyy",_s);fe("yo",A$);et(["y","yy","yyy","yyyy"],sn);et(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[sn]=n._locale.eraYearOrdinalParse(e,a):t[sn]=parseInt(e,10)});function p$(e,t){var n,r,a,o=this._eras||ri("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":a=ue(o[n].since).startOf("day"),o[n].since=a.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=ue(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf();break}}return o}function h$(e,t,n){var r,a,o=this.eras(),u,l,f;for(e=e.toUpperCase(),r=0,a=o.length;r<a;++r)if(u=o[r].name.toUpperCase(),l=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(l===e)return o[r];break;case"NNNN":if(u===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([u,l,f].indexOf(e)>=0)return o[r]}function m$(e,t){var n=e.since<=e.until?1:-1;return t===void 0?ue(e.since).year():ue(e.since).year()+(t-e.offset)*n}function _$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function g$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function v$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function y$(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-ue(a[e].since).year())*n+a[e].offset;return this.year()}function E$(e){return Ye(this,"_erasNameRegex")||dm.call(this),e?this._erasNameRegex:this._erasRegex}function b$(e){return Ye(this,"_erasAbbrRegex")||dm.call(this),e?this._erasAbbrRegex:this._erasRegex}function S$(e){return Ye(this,"_erasNarrowRegex")||dm.call(this),e?this._erasNarrowRegex:this._erasRegex}function fm(e,t){return t.erasAbbrRegex(e)}function w$(e,t){return t.erasNameRegex(e)}function T$(e,t){return t.erasNarrowRegex(e)}function A$(e,t){return t._eraYearOrdinalRegex||_s}function dm(){var e=[],t=[],n=[],r=[],a,o,u=this.eras();for(a=0,o=u.length;a<o;++a)t.push(Fn(u[a].name)),e.push(Fn(u[a].abbr)),n.push(Fn(u[a].narrow)),r.push(Fn(u[a].name)),r.push(Fn(u[a].abbr)),r.push(Fn(u[a].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ol(e,t){me(0,[e,e.length],0,t)}Ol("gggg","weekYear");Ol("ggggg","weekYear");Ol("GGGG","isoWeekYear");Ol("GGGGG","isoWeekYear");rn("weekYear","gg");rn("isoWeekYear","GG");an("weekYear",1);an("isoWeekYear",1);fe("G",ml);fe("g",ml);fe("GG",_t,Nn);fe("gg",_t,Nn);fe("GGGG",Xh,Jh);fe("gggg",Xh,Jh);fe("GGGGG",hl,dl);fe("ggggg",hl,dl);zo(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Le(e)});zo(["gg","GG"],function(e,t,n,r){t[r]=ue.parseTwoDigitYear(e)});function R$(e){return zS.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function O$(e){return zS.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function x$(){return ni(this.year(),1,4)}function D$(){return ni(this.isoWeekYear(),1,4)}function I$(){var e=this.localeData()._week;return ni(this.year(),e.dow,e.doy)}function C$(){var e=this.localeData()._week;return ni(this.weekYear(),e.dow,e.doy)}function zS(e,t,n,r,a){var o;return e==null?Bo(this,r,a).year:(o=ni(e,r,a),t>o&&(t=o),k$.call(this,e,t,n,r,a))}function k$(e,t,n,r,a){var o=bS(e,t,n,r,a),u=Yo(o.year,0,o.dayOfYear);return this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}me("Q",0,"Qo","quarter");rn("quarter","Q");an("quarter",7);fe("Q",fS);et("Q",function(e,t){t[ei]=(Le(e)-1)*3});function P$(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");rn("date","D");an("date",9);fe("D",_t);fe("DD",_t,Nn);fe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});et(["D","DD"],Pr);et("Do",function(e,t){t[Pr]=Le(e.match(_t)[0])});var WS=ms("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");rn("dayOfYear","DDD");an("dayOfYear",4);fe("DDD",pl);fe("DDDD",dS);et(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Le(e)});function M$(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}me("m",["mm",2],0,"minute");rn("minute","m");an("minute",14);fe("m",_t);fe("mm",_t,Nn);et(["m","mm"],yr);var U$=ms("Minutes",!1);me("s",["ss",2],0,"second");rn("second","s");an("second",15);fe("s",_t);fe("ss",_t,Nn);et(["s","ss"],ti);var L$=ms("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});rn("millisecond","ms");an("millisecond",16);fe("S",pl,fS);fe("SS",pl,Nn);fe("SSS",pl,dS);var Gi,YS;for(Gi="SSSS";Gi.length<=9;Gi+="S")fe(Gi,_s);function N$(e,t){t[ma]=Le(("0."+e)*1e3)}for(Gi="S";Gi.length<=9;Gi+="S")et(Gi,N$);YS=ms("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function F$(){return this._isUTC?"UTC":""}function $$(){return this._isUTC?"Coordinated Universal Time":""}var te=Ho.prototype;te.add=C3;te.calendar=F3;te.clone=$3;te.diff=Y3;te.endOf=n$;te.format=J3;te.from=X3;te.fromNow=Z3;te.to=Q3;te.toNow=e$;te.get=G5;te.invalidAt=f$;te.isAfter=V3;te.isBefore=H3;te.isBetween=G3;te.isSame=j3;te.isSameOrAfter=z3;te.isSameOrBefore=W3;te.isValid=c$;te.lang=$S;te.locale=FS;te.localeData=VS;te.max=c3;te.min=u3;te.parsingFlags=l$;te.set=j5;te.startOf=t$;te.subtract=k3;te.toArray=s$;te.toObject=o$;te.toDate=a$;te.toISOString=q3;te.inspect=K3;typeof Symbol!="undefined"&&Symbol.for!=null&&(te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});te.toJSON=u$;te.toString=B3;te.unix=i$;te.valueOf=r$;te.creationData=d$;te.eraName=_$;te.eraNarrow=g$;te.eraAbbr=v$;te.eraYear=y$;te.year=ES;te.isLeapYear=u4;te.weekYear=R$;te.isoWeekYear=O$;te.quarter=te.quarters=P$;te.month=vS;te.daysInMonth=a4;te.week=te.weeks=h4;te.isoWeek=te.isoWeeks=m4;te.weeksInYear=I$;te.weeksInWeekYear=C$;te.isoWeeksInYear=x$;te.isoWeeksInISOWeekYear=D$;te.date=WS;te.day=te.days=x4;te.weekday=D4;te.isoWeekday=I4;te.dayOfYear=M$;te.hour=te.hours=N4;te.minute=te.minutes=U$;te.second=te.seconds=L$;te.millisecond=te.milliseconds=YS;te.utcOffset=v3;te.utc=E3;te.local=b3;te.parseZone=S3;te.hasAlignedHourOffset=w3;te.isDST=T3;te.isLocal=R3;te.isUtcOffset=O3;te.isUtc=PS;te.isUTC=PS;te.zoneAbbr=F$;te.zoneName=$$;te.dates=er("dates accessor is deprecated. Use date instead.",WS);te.months=er("months accessor is deprecated. Use month instead",vS);te.years=er("years accessor is deprecated. Use year instead",ES);te.zone=er("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",y3);te.isDSTShifted=er("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",A3);function V$(e){return gt(e*1e3)}function H$(){return gt.apply(null,arguments).parseZone()}function BS(e){return e}var Be=Wh.prototype;Be.calendar=x5;Be.longDateFormat=k5;Be.invalidDate=M5;Be.ordinal=N5;Be.preparse=BS;Be.postformat=BS;Be.relativeTime=$5;Be.pastFuture=V5;Be.set=R5;Be.eras=p$;Be.erasParse=h$;Be.erasConvertYear=m$;Be.erasAbbrRegex=b$;Be.erasNameRegex=E$;Be.erasNarrowRegex=S$;Be.months=t4;Be.monthsShort=n4;Be.monthsParse=i4;Be.monthsRegex=o4;Be.monthsShortRegex=s4;Be.week=l4;Be.firstDayOfYear=p4;Be.firstDayOfWeek=d4;Be.weekdays=w4;Be.weekdaysMin=A4;Be.weekdaysShort=T4;Be.weekdaysParse=O4;Be.weekdaysRegex=C4;Be.weekdaysShortRegex=k4;Be.weekdaysMinRegex=P4;Be.isPM=U4;Be.meridiem=F4;function xl(e,t,n,r){var a=ri(),o=Ir().set(r,t);return a[n](o,e)}function qS(e,t,n){if(Qr(e)&&(t=e,e=void 0),e=e||"",t!=null)return xl(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=xl(e,r,n,"month");return a}function pm(e,t,n,r){typeof e=="boolean"?(Qr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Qr(t)&&(n=t,t=void 0),t=t||"");var a=ri(),o=e?a._week.dow:0,u,l=[];if(n!=null)return xl(t,(n+o)%7,r,"day");for(u=0;u<7;u++)l[u]=xl(t,(u+o)%7,r,"day");return l}function G$(e,t){return qS(e,t,"months")}function j$(e,t){return qS(e,t,"monthsShort")}function z$(e,t,n){return pm(e,t,n,"weekdays")}function W$(e,t,n){return pm(e,t,n,"weekdaysShort")}function Y$(e,t,n){return pm(e,t,n,"weekdaysMin")}Hi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Le(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});ue.lang=er("moment.lang is deprecated. Use moment.locale instead.",Hi);ue.langData=er("moment.langData is deprecated. Use moment.localeData instead.",ri);var ii=Math.abs;function B$(){var e=this._data;return this._milliseconds=ii(this._milliseconds),this._days=ii(this._days),this._months=ii(this._months),e.milliseconds=ii(e.milliseconds),e.seconds=ii(e.seconds),e.minutes=ii(e.minutes),e.hours=ii(e.hours),e.months=ii(e.months),e.years=ii(e.years),this}function KS(e,t,n,r){var a=Er(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function q$(e,t){return KS(this,e,t,1)}function K$(e,t){return KS(this,e,t,-1)}function JS(e){return e<0?Math.floor(e):Math.ceil(e)}function J$(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,a,o,u,l,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=JS(hm(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,a=nr(e/1e3),r.seconds=a%60,o=nr(a/60),r.minutes=o%60,u=nr(o/60),r.hours=u%24,t+=nr(u/24),f=nr(XS(t)),n+=f,t-=JS(hm(f)),l=nr(n/12),n%=12,r.days=t,r.months=n,r.years=l,this}function XS(e){return e*4800/146097}function hm(e){return e*146097/4800}function X$(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=tr(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+XS(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(hm(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Z$(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Le(this._months/12)*31536e6:NaN}function ai(e){return function(){return this.as(e)}}var Q$=ai("ms"),eV=ai("s"),tV=ai("m"),nV=ai("h"),rV=ai("d"),iV=ai("w"),aV=ai("M"),sV=ai("Q"),oV=ai("y");function uV(){return Er(this)}function cV(e){return e=tr(e),this.isValid()?this[e+"s"]():NaN}function ga(e){return function(){return this.isValid()?this._data[e]:NaN}}var lV=ga("milliseconds"),fV=ga("seconds"),dV=ga("minutes"),pV=ga("hours"),hV=ga("days"),mV=ga("months"),_V=ga("years");function gV(){return nr(this.days()/7)}var si=Math.round,Es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vV(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function yV(e,t,n,r){var a=Er(e).abs(),o=si(a.as("s")),u=si(a.as("m")),l=si(a.as("h")),f=si(a.as("d")),d=si(a.as("M")),h=si(a.as("w")),_=si(a.as("y")),v=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||u<=1&&["m"]||u<n.m&&["mm",u]||l<=1&&["h"]||l<n.h&&["hh",l]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(v=v||h<=1&&["w"]||h<n.w&&["ww",h]),v=v||d<=1&&["M"]||d<n.M&&["MM",d]||_<=1&&["y"]||["yy",_],v[2]=t,v[3]=+e>0,v[4]=r,vV.apply(null,v)}function EV(e){return e===void 0?si:typeof e=="function"?(si=e,!0):!1}function bV(e,t){return Es[e]===void 0?!1:t===void 0?Es[e]:(Es[e]=t,e==="s"&&(Es.ss=t-1),!0)}function SV(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Es,a,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Es,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),a=this.localeData(),o=yV(this,!n,r,a),n&&(o=a.pastFuture(+this,o)),a.postformat(o)}var mm=Math.abs;function bs(e){return(e>0)-(e<0)||+e}function Dl(){if(!this.isValid())return this.localeData().invalidDate();var e=mm(this._milliseconds)/1e3,t=mm(this._days),n=mm(this._months),r,a,o,u,l=this.asSeconds(),f,d,h,_;return l?(r=nr(e/60),a=nr(r/60),e%=60,r%=60,o=nr(n/12),n%=12,u=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=l<0?"-":"",d=bs(this._months)!==bs(l)?"-":"",h=bs(this._days)!==bs(l)?"-":"",_=bs(this._milliseconds)!==bs(l)?"-":"",f+"P"+(o?d+o+"Y":"")+(n?d+n+"M":"")+(t?h+t+"D":"")+(a||r||e?"T":"")+(a?_+a+"H":"")+(r?_+r+"M":"")+(e?_+u+"S":"")):"P0D"}var ze=Sl.prototype;ze.isValid=h3;ze.abs=B$;ze.add=q$;ze.subtract=K$;ze.as=X$;ze.asMilliseconds=Q$;ze.asSeconds=eV;ze.asMinutes=tV;ze.asHours=nV;ze.asDays=rV;ze.asWeeks=iV;ze.asMonths=aV;ze.asQuarters=sV;ze.asYears=oV;ze.valueOf=Z$;ze._bubble=J$;ze.clone=uV;ze.get=cV;ze.milliseconds=lV;ze.seconds=fV;ze.minutes=dV;ze.hours=pV;ze.days=hV;ze.weeks=gV;ze.months=mV;ze.years=_V;ze.humanize=SV;ze.toISOString=Dl;ze.toString=Dl;ze.toJSON=Dl;ze.locale=FS;ze.localeData=VS;ze.toIsoString=er("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dl);ze.lang=$S;me("X",0,0,"unix");me("x",0,0,"valueOf");fe("x",ml);fe("X",W5);et("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});et("x",function(e,t,n){n._d=new Date(Le(e))});//! moment.js
ue.version="2.29.1";T5(gt);ue.fn=te;ue.min=l3;ue.max=f3;ue.now=d3;ue.utc=Ir;ue.unix=V$;ue.months=G$;ue.isDate=Vo;ue.locale=Hi;ue.invalid=ol;ue.duration=Er;ue.isMoment=vr;ue.weekdays=z$;ue.parseZone=H$;ue.localeData=ri;ue.isDuration=wl;ue.monthsShort=j$;ue.weekdaysMin=Y$;ue.defineLocale=nm;ue.updateLocale=H4;ue.locales=G4;ue.weekdaysShort=W$;ue.normalizeUnits=tr;ue.relativeTimeRounding=EV;ue.relativeTimeThreshold=bV;ue.calendarFormat=N3;ue.prototype=te;ue.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const _m=be({channels:{channels:{},limit:5,skip:0,total:0,updateNeeded:!0,fetchingInstanceChannel:!1},targetObjectType:"",targetObject:{id:"",name:""},targetChannelId:"",updateMessageScroll:!1,messageScrollInit:!1,instanceChannelFetching:!1,instanceChannelFetched:!1}),wV=(e,t)=>(Promise.resolve().then(()=>TV(t)),_m.attach(Te).value),TV=e=>{let t,n,r,a;_m.batch(o=>{switch(e.type){case"LOADED_CHANNELS":return n=e,t=_m.channels.value,t.limit=n.limit,t.skip=n.skip,t.total=n.total,r=t.channels,t.updateNeeded=!1,n.channels.forEach(T=>{r[T.id]==null&&(T.updateNeeded=!0,T.limit=8,T.skip=0,T.total=0,r[T.id]=T)}),t.channels=r,o.merge({channels:t});case"LOADED_CHANNEL":n=e;const u=n.channel,l=n.channelType;if(t=o.channels.value,r=t.channels,l==="instance"){const T={};Object.entries(r).forEach(([k,M])=>{M.channelType!=="instance"&&(T[k]=M)}),r=T}if(u?.id!=null&&r[u.id]==null&&(u.updateNeeded=!0,u.limit=10,u.skip=0,u.total=0,r[u.id]=u),t.channels=r,o.merge({channels:t}),l==="instance"){const T=o.channels.value;T.fetchingInstanceChannel=!1,o.merge({instanceChannelFetched:!0,channels:T})}return o;case"CREATED_MESSAGE":n=e;const f=n.message.channelId,d=n.selfUser;if(t=o.channels.value,r=t.channels,a=r[f],a==null?t.updateNeeded=!0:(a.messages=a.messages==null||a.messages.size!=null||a.updateNeeded===!0?[n.message]:_r.unionBy(a.messages,[n.message],"id"),a.skip=a.skip+1,a.updatedAt=ue().utc().toJSON(),r[f]=a,t.channels=r),o.merge({channels:t,updateMessageScroll:!0}),o.targetChannelId.value.length===0&&a!=null){const T=a.channelType,k=T==="user"?a.userId1===d.id?a.user2:a.user1:T==="group"?a.group:T==="instance"?a.instance:a.party;o.merge({targetChannelId:f,targetObjectType:T,targetObject:k})}return o;case"LOADED_MESSAGES":return n=e,t=o.channels.value,r=t.channels,a=r[n.channelId],a.messages=a.messages==null||a.messages.size!=null||a.updateNeeded===!0?n.messages:_r.unionBy(a.messages,n.messages,"id"),a.limit=n.limit,a.skip=n.skip,a.total=n.total,a.updateNeeded=!1,r[n.channelId]=a,o.channels.merge({channels:r});case"REMOVED_MESSAGE":return n=e,t=o.channels.value,r=t.channels,a=r[n.message.channelId],a!=null&&(_r.remove(a.messages,T=>T.id===n.message.id),a.skip=a.skip-1,r[n.message.channelId]=a,t.channels=r),o.merge({channels:t});case"PATCHED_MESSAGE":return n=e,t=o.channels.value,r=t.channels,a=r[n.message.channelId],a!=null&&(a.messages=a.messages.map(T=>T.id===n.message.id?n.message:T),r[n.message.channelId]=a,t.channels=r),o.merge({channels:t});case"CREATED_CHANNEL":n=e;const h=n.channel;return t=o.channels.value,r=t.channels,h.updateNeeded=!0,h.limit=10,h.skip=0,h.total=0,r[h.id]=h,t.channels=r,o.merge({channels:t});case"PATCHED_CHANNEL":n=e;const _=n.channel;return t=o.channels.value,r=t.channels,a=r[n.channel.id],a!=null&&(a.updatedAt=_.updatedAt,a.group=_.group,a.instance=_.instance,a.party=_.party,a.user1=_.user1,a.user2=_.user2,r[n.channel.id]=a,t.channels=r),o.merge({channels:t});case"REMOVED_CHANNEL":return n=e,o.channels.channels[n.channel.id].set(Et);case"CHAT_TARGET_SET":const{targetObjectType:v,targetObject:b,targetChannelId:w}=e;return o.merge({targetObjectType:v,targetObject:b,targetChannelId:w,updateMessageScroll:!0,messageScrollInit:!0});case"SET_MESSAGE_SCROLL_INIT":const{value:E}=e;return o.merge({messageScrollInit:E});case"FETCHING_INSTANCE_CHANNEL":return o.channels.merge({fetchingInstanceChannel:!0});case"SET_UPDATE_MESSAGE_SCROLL":return o.merge({updateMessageScroll:e.value})}},e.type)},ZS=be({friends:{friends:[],total:0,limit:5,skip:0},getFriendsInProgress:!1,updateNeeded:!0}),AV=(e,t)=>(Promise.resolve().then(()=>RV(t)),ZS.attach(Te).value),RV=e=>{let t,n,r,a;ZS.batch(o=>{switch(e.type){case"LOADED_FRIENDS":return t=e,o.updateNeeded.value===!0?o.friends.friends.set(t.friends):o.friends.friends.set([o.friends.friends.value,t.friends]),o.friends.skip.set(t.skip),o.friends.limit.set(t.limit),o.friends.total.set(t.total),o.updateNeeded.set(!1),o.getFriendsInProgress.set(!1);case"CREATED_FRIEND":t=e;const u=t.userRelationship;o.friends.friends.set([...o.friends.friends.value,u]);case"PATCHED_FRIEND":t=e;const l=t.userRelationship;n=t.selfUser,r=l.userId===n.id?l.relatedUser:l.user;const f=o.friends.friends.value.findIndex(_=>_!=null&&_.id===r.id);return f===-1?o.friends.friends.set([...o.friends.friends.value,r]):o.friends.friends[f].set(r);case"REMOVED_FRIEND":t=e;const d=t.userRelationship;n=t.selfUser,a=d.userId===n.id?d.relatedUserId:d.userId;const h=o.friends.friends.value.findIndex(_=>_!=null&&_.id===a);return o.friends.friends[h].set(Et);case"FETCHING_FRIENDS":return o.getFriendsInProgress.set(!0)}},e.type)},QS={id:"",name:"",slugifiedName:"",maxUsersPerInstance:10,sceneId:"",locationSettingsId:"",isLobby:!1,isFeatured:!1,location_settings:{id:"",locationId:"",instanceMediaChatEnabled:!1,audioEnabled:!1,screenSharingEnabled:!1,faceStreamingEnabled:!1,locationType:"private",videoEnabled:!1}},gm=be({locations:{locations:[],total:0,limit:10,skip:0},currentLocation:{location:QS,bannedUsers:[]},updateNeeded:!0,currentLocationUpdateNeeded:!0,fetchingCurrentLocation:!1,invalidLocation:!1}),OV=(e,t)=>(Promise.resolve().then(()=>xV(t)),gm.attach(Te).value),xV=e=>{let t;gm.batch(n=>{switch(e.type){case"LOCATIONS_RETRIEVED":return t=e.locations,n.locations.locations==null||n.updateNeeded.value===!0?n.locations.locations.set(t.data):n.locations.locations.set([...n.locations.locations.value,...t.data]),n.locations.skip.set(t.skip),n.locations.limit.set(t.limit),n.locations.total.set(t.total),n.updateNeeded.set(!1);case"FETCH_CURRENT_LOCATION":return n.fetchingCurrentLocation.set(!0);case"LOCATION_RETRIEVED":t=e.location,t.locationSettings=t.location_setting;let r=[];return t?.location_bans?.forEach(a=>{r.push(a.userId)}),r=[...new Set(r)],n.currentLocation.location.set(t),n.currentLocation.bannedUsers.set(r),n.currentLocationUpdateNeeded.set(!1),n.fetchingCurrentLocation.set(!1);case"LOCATION_NOT_FOUND":return n.currentLocation.merge({location:QS,bannedUsers:[]}),n.currentLocationUpdateNeeded.set(!1),n.fetchingCurrentLocation.set(!1),n.invalidLocation.set(!0);case"LOCATION_BAN_CREATED":return n.currentLocationUpdateNeeded.set(!0)}},e.type)},G6=()=>gm,e1=be({groups:{groups:[],total:0,limit:5,skip:0},invitableGroups:{groups:[],total:0,limit:5,skip:0},getInvitableGroupsInProgress:!1,getGroupsInProgress:!1,invitableUpdateNeeded:!0,updateNeeded:!0,closeDetails:""}),DV=(e,t)=>(Promise.resolve().then(()=>IV(t)),e1.attach(Te).value),IV=e=>{let t,n,r,a,o,u,l,f;e1.batch(d=>{switch(e.type){case"LOADED_GROUPS":return t=e,d.updateNeeded.value===!0?d.groups.groups.set(t.groups):d.groups.groups.set([...d.groups.groups.value,...t.groups]),d.groups.merge({skip:t.skip,limit:t.limit,total:t.total}),d.updateNeeded.set(!1),d.getGroupsInProgress.set(!1);case"LOADED_INVITABLE_GROUPS":return t=e,d.updateNeeded.value===!0?d.invitableGroups.groups.set(t.groups):d.invitableGroups.groups.set([...d.invitableGroups.groups.value,...t.groups]),d.invitableGroups.skip.set(t.skip),d.invitableGroups.limit.set(t.limit),d.invitableGroups.total.set(t.total),d.merge({invitableUpdateNeeded:!1,getInvitableGroupsInProgress:!1});case"CREATED_GROUP":return t=e,d.merge({updateNeeded:!0,invitableUpdateNeeded:!0});case"PATCHED_GROUP":return t=e,l=t.group,f=d.groups.groups.value.findIndex(v=>v!=null&&v.id===u.groupId),f!==-1?d.groups.groups[f].set(l):d;case"REMOVED_GROUP":return d.updateNeeded.set(!0),d.invitableUpdateNeeded.set(!0);case"INVITED_GROUP_USER":return d;case"LEFT_GROUP":return d.updateNeeded.set(!0);case"FETCHING_GROUPS":return d.getGroupsInProgress.set(!0);case"FETCHING_INVITABLE_GROUPS":return d.getInvitableGroupsInProgress.set(!0);case"CREATED_GROUP_USER":if(t=e,u=t.groupUser,n=d.groups.value,r=n.groups,a=_r.find(r,v=>v!=null&&v.id===u.groupId),a!=null){o=a.groupUsers;const v=o.find(b=>b!=null&&b.id===u.id);o=Array.isArray(o)?v==null?o.concat([u]):o.map(b=>b.id===u.id?u:b):[u],a.groupUsers=o}return d.groups.groups.set(r);case"PATCHED_GROUP_USER":t=e,u=t.groupUser,n=d.groups.value,r=n.groups,a=_r.find(r,v=>v!=null&&v.id===u.groupId),a!=null&&(a.groupUsers=a.groupUsers.map(v=>v.id===u.id?u:v)),d.groups.groups.set(r);case"REMOVED_GROUP_USER":t=e,u=t.groupUser;const h=t.self;n=d.groups.value,r=n.groups,a=_r.find(r,v=>v!=null&&v.id===u.groupId),a!=null&&(o=a.groupUsers,_r.findIndex(o,v=>u.id===v.id));let _=d.groups.groups.set(r);return h===!0&&(_=d.merge({closeDetails:u.groupId,updateNeeded:!0})),_;case"REMOVE_CLOSE_GROUP_DETAIL":return d.closeDetails.set("")}},e.type)},vm=be({party:{},updateNeeded:!0}),CV=(e,t)=>(Promise.resolve().then(()=>kV(t)),vm.attach(Te).value),kV=e=>{let t,n,r,a;vm.batch(o=>{switch(e.type){case"LOADED_PARTY":return o.merge({party:e.party,updateNeeded:!1});case"CREATED_PARTY":return o.updateNeeded.set(!0);case"REMOVED_PARTY":return n=new Map,o.merge({party:{},updateNeeded:!0});case"INVITED_PARTY_USER":return o.updateNeeded.set(!0);case"CREATED_PARTY_USER":return t=e,r=t.partyUser,n=_r.cloneDeep(o.party.value),n!=null&&(a=n.partyUsers,a=Array.isArray(a)?a.find(u=>u!=null&&u.id===r.id)==null?a.concat([r]):n.partyUsers.map(u=>u!=null&&u.id===r.id?r:u):[r],n.partyUsers=a),o.party.set(n);case"PATCHED_PARTY_USER":return t=e,r=t.partyUser,n=_r.cloneDeep(o.party.value),n!=null&&(a=n.partyUsers,a=Array.isArray(a)?a.find(u=>u!=null&&u.id===r.id)==null?a.concat([r]):n.partyUsers.map(u=>u!=null&&u.id===r.id?r:u):[r],n.partyUsers=a),o.party.set(n);case"REMOVED_PARTY_USER":return t=e,r=t.partyUser,n=_r.cloneDeep(o.party.value),n!=null&&(a=n.partyUsers,_r.remove(a,u=>u!=null&&r.id===u.id)),o.party.set(n),o.updateNeeded.set(!0)}},e.type)},j6=()=>vm,ym=be({receivedInvites:{invites:[],skip:0,limit:5,total:0},sentInvites:{invites:[],skip:0,limit:5,total:0},sentUpdateNeeded:!0,receivedUpdateNeeded:!0,getSentInvitesInProgress:!1,getReceivedInvitesInProgress:!1,targetObjectId:"",targetObjectType:""}),PV=(e,t)=>(Promise.resolve().then(()=>MV(t)),ym.attach(Te).value),MV=e=>{let t;ym.batch(n=>{switch(e.type){case"INVITE_SENT":return n.sentUpdateNeeded.set(!0);case"SENT_INVITES_RETRIEVED":return t=e,n.sentInvites.merge({invites:t.invites,skip:t.skip,limit:t.limit,total:t.total}),n.merge({sentUpdateNeeded:!1,getSentInvitesInProgress:!1});case"RECEIVED_INVITES_RETRIEVED":return t=e,n.receivedInvites.invites.value===null||n.receivedUpdateNeeded.value===!0?n.receivedInvites.invites.set(t.invites):n.receivedInvites.invites.merge([...n.receivedInvites.invites.value,...t.invites]),n.receivedInvites.merge({skip:t.skip,limit:t.limit,total:t.total}),n.merge({receivedUpdateNeeded:!1,getReceivedInvitesInProgress:!1});case"CREATED_RECEIVED_INVITE":return n.receivedUpdateNeeded.set(!0);case"CREATED_SENT_INVITE":return n.sentUpdateNeeded.set(!0);case"REMOVED_RECEIVED_INVITE":return n.receivedUpdateNeeded.set(!0);case"REMOVED_SENT_INVITE":return n.sentUpdateNeeded.set(!0);case"ACCEPTED_INVITE":return n.receivedUpdateNeeded.set(!0);case"DECLINED_INVITE":return n.receivedUpdateNeeded.set(!0);case"INVITE_TARGET_SET":return t=e,ym.merge({targetObjectId:t.targetObjectId||"",targetObjectType:t.targetObjectType||""});case"FETCHING_SENT_INVITES":return n.getSentInvitesInProgress.set(!0);case"FETCHING_RECEIVED_INVITES":return n.getReceivedInvitesInProgress.set(!0)}},e.type)},t1=be({inviteTypeData:{invitesType:[],skip:0,limit:5,total:0}}),UV=(e,t)=>(Promise.resolve().then(()=>LV(t)),t1.attach(Te).value),LV=e=>{let t;t1.batch(n=>{switch(e.type){case"LOAD_INVITE_TYPE":return t=e,t.invitesType!=null&&n.inviteTypeData.invitesType.merge([t.invitesType]),n.inviteTypeData.skip.set(t.skip),n.inviteTypeData.limit.set(t.limit),n.inviteTypeData.total.set(t.total)}},e.type)},Em=be({feeds:{feedComments:[],commentFires:[],fetching:!1}}),n1=(e,t)=>(Promise.resolve().then(()=>NV(t)),Em.attach(Te).value),NV=e=>{Em.batch(t=>{switch(e.type){case"FEED_COMMENTS_FETCH":return t.feeds.fetching.set(!0);case"FEED_COMMENTS_RETRIEVED":return t.feeds.merge({feedComments:e.comments||[],fetching:!1});case"ADD_FEED_COMMENT_FIRES":return t.feeds.feedComments.set(t.feeds.feedComments.value.map(n=>n.id===e.commentId?{...n,fires:n.fires+1,isFired:!0}:{...n}));case"REMOVE_FEED_COMMENT_FIRES":return t.feeds.feedComments.set(t.feeds.feedComments.value.map(n=>n.id===e.commentId?{...n,fires:--n.fires,isFired:!1}:{...n}));case"ADD_FEED_COMMENT":return t.feeds.feedComments.set([e.comment,...t.feeds.feedComments.value||[]]);case"COMMENT_FIRES":return t.feeds.commentFires.set(e.creators)}},e.type)},z6=()=>tn(Em),r1=be({feedFires:{feedFires:[],fetching:!1}}),i1=(e,t)=>(Promise.resolve().then(()=>FV(t)),r1.attach(Te).value),FV=e=>{r1.batch(t=>{switch(e.type){case"FEED_FIRES_FETCH":return t.feedFires.fetching.set(!0);case"FEED_FIRES_RETRIEVED":return t.feedFires.merge({feedFires:e.feedFires,fetching:!1})}},e.type)},bm=be({popups:{creatorPage:!1,creatorForm:!1,creatorId:null,feedPage:!1,feedId:null,shareFeedPage:!1,arMedia:!1,shareForm:!1,videoUrl:null,webxr:!1,videoPath:null,imgSrc:null,fPath:null,nameId:null,itemId:null}}),a1=(e,t)=>(Promise.resolve().then(()=>$V(t)),bm.attach(Te).value),$V=e=>{bm.batch(t=>{switch(e.type){case"CHANGE_CREATOR_PAGE_STATE":return t.popups.merge({creatorPage:e.state,creatorId:e.id});case"CHANGE_CREATOR_FORM_STATE":return t.popups.creatorForm.set(e.state);case"CHANGE_FEED_PAGE_STATE":return t.popups.merge({feedPage:e.state,feedId:e.id});case"CHANGE_ARMEDIA_CHOOSE_STATE":return t.popups.arMedia.set(e.state);case"CHANGE_NEW_FEED_PAGE_STATE":return t.popups.merge({shareFeedPage:e.state,videoPath:e.id,fPath:e.fPath,nameId:e.nameId});case"CHANGE_SHARE_FORM_STATE":return t.popups.merge({shareForm:e.state,videoUrl:e.id,imgSrc:e.imgSrc});case"CHANGE_WEB_XR_STATE":return t.popups.merge({webxr:e.state,itemId:e.itemId})}},e.type)},W6=()=>tn(bm),Sm=be({thefeeds:[],fetching:!1}),s1=(e,t)=>(Promise.resolve().then(()=>VV(t)),Sm.attach(Te).value),VV=e=>{Sm.batch(t=>{switch(e.type){case"THEFEEDS_FETCH":return t.fetching.set(!0);case"THEFEEDS_RETRIEVED":return t.merge({thefeeds:e.thefeeds,fetching:!1});case"ADD_THEFEEDS":return t.thefeeds.set([...t.thefeeds.value,e.thefeeds]);case"UPDATE_THEFEEDS":return t.thefeeds.set(t.thefeeds.value.map(n=>n.id===e.thefeeds.id?{...n,...e.thefeeds}:{...n}));case"REMOVE_THEFEEDS":return t.thefeeds.set([...t.thefeeds.value.filter(n=>n.id!==e.thefeeds)])}},e.type)},Y6=()=>tn(Sm),o1=be({thefeedsFires:{thefeedsFires:[],fetching:!1}}),u1=(e,t)=>(Promise.resolve().then(()=>HV(t)),o1.attach(Te).value),HV=e=>{o1.batch(t=>{switch(e.type){case"THEFEEDS_FIRES_FETCH":return t.thefeedsFires.fetching.set(!0);case"THEFEEDS_FIRES_RETRIEVED":return t.thefeedsFires.thefeedsFires.set(e.thefeedsFires);case"ADD_THEFEEDS_FIRES":return t.thefeedsFires.thefeedsFires.set([...t.thefeedsFires.thefeedsFires,e.thefeedsFire]);case"REMOVE_THEFEEDS_FIRES":return t.thefeedsFires.thefeedsFires.set(t.thefeedsFires.thefeedsFires.value.filter(n=>n.id!==e.thefeedsFireId))}},e.type)},wm=be({webxrnative:null}),c1=(e,t)=>(Promise.resolve().then(()=>GV(t)),wm.attach(Te).value),GV=e=>{wm.batch(t=>{switch(e.type){case"SET_WEBXRNATIVE":return t.webxrnative.set(!1);case"TOGGLE_WEBXRNATIVE":return t.webxrnative.set(!t.webxrnative.value)}},e.type)},B6=()=>tn(wm),jV=be({registration:{}}),l1=(e,t)=>(Promise.resolve().then(()=>zV()),jV.attach(Te).value),zV=e=>{};var WV={locations:OV,chat:wV,friends:AV,party:CV,groups:DV,invite:PV,invitesTypeData:UV,creators:Ph,feeds:Ch,feedFires:i1,feedComments:n1,arMedia:Ih,popups:a1,thefeeds:s1,thefeedsFires:u1,webxrnative:c1,registrationReducer:l1},YV={creators:Ph,feeds:Ch,feedFires:i1,feedComments:n1,arMedia:Ih,popups:a1,thefeeds:s1,thefeedsFires:u1,webxrnative:c1,registrationReducer:l1};const BV={userId:"",friend:[],requested:[],blocking:[],blocked:[]},f1=be({relationship:BV,users:[],updateNeeded:!0,layerUsers:[],layerUsersUpdateNeeded:!0,channelLayerUsers:[],channelLayerUsersUpdateNeeded:!0,toastMessages:[]}),qV=(e,t)=>(Promise.resolve().then(()=>KV(t)),f1.attach(Te).value),KV=e=>{f1.batch(t=>{switch(e.type){case"LOADED_RELATIONSHIP":return t.merge({relationship:e.relationship,updateNeeded:!1});case"ADMIN_LOADED_USERS":return t.merge({users:e.users,updateNeeded:!1});case"CHANGED_RELATION":return t.updateNeeded.set(!0);case"CLEAR_LAYER_USERS":return t.merge({layerUsers:[],layerUsersUpdateNeeded:!0});case"LOADED_LAYER_USERS":return t.merge({layerUsers:e.users,layerUsersUpdateNeeded:!1});case"ADDED_LAYER_USER":{const a=e.user,o=t.layerUsers.findIndex(u=>u!=null&&u.id.value===a.id);return o===-1?t.layerUsers.merge([a]):t.layerUsers[o].set(a),t.layerUsersUpdateNeeded.set(!0)}case"REMOVED_LAYER_USER":{const o=t.layerUsers.findIndex(u=>u!=null&&u.value.id===e.user.id);return t.layerUsers[o].set(Et)}case"CLEAR_CHANNEL_LAYER_USERS":return t.merge({channelLayerUsers:[],channelLayerUsersUpdateNeeded:!0});case"LOADED_CHANNEL_LAYER_USERS":return t.merge({channelLayerUsers:e.users,channelLayerUsersUpdateNeeded:!1});case"ADDED_CHANNEL_LAYER_USER":{const a=e.user,o=t.channelLayerUsers.findIndex(u=>u!=null&&u.value.id===a.id);return o===-1?t.channelLayerUsers.merge([a]):t.channelLayerUsers[o].set(a),t.channelLayerUsersUpdateNeeded.set(!0)}case"REMOVED_CHANNEL_LAYER_USER":const n=e.user,r=t.channelLayerUsers.findIndex(a=>a!=null&&a.value.id===n.id);return t.channelLayerUsers[r].set(Et);case"USER_TOAST":return t.toastMessages.merge([e.message])}},e.type)};var JV={auth:$P,user:qV};const d1=be({scenes:[],currentScene:null,error:""}),XV=(e,t)=>(Promise.resolve().then(()=>ZV(t)),d1.attach(Te).value),ZV=e=>{d1.batch(t=>{switch(e.type){case"SCENES_FETCHED_SUCCESS":return t.merge({scenes:e.scenes});case"SCENES_FETCHED_ERROR":return t.merge({error:e.message});case"SET_CURRENT_SCENE":return t.merge({currentScene:e.scene})}},e.type)};var QV={scenes:XV};const e6=Mb({...h5,...w5,...WV,...YV,...JV,...QV});/*! Capacitor: https://capacitorjs.com/ - MIT License */const t6=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(o,u)=>{n.platforms.set(o,u)},a=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=r,n.setPlatform=a,n},n6=e=>e.CapacitorPlatforms=t6(e),p1=n6(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});p1.addPlatform;p1.setPlatform;var Ss;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ss||(Ss={}));class Tm extends Error{constructor(t,n){super(t);this.message=t,this.code=n}}const r6=e=>{var t,n;return(e==null?void 0:e.androidBridge)?"android":((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0?void 0:n.bridge)?"ios":"web"},i6=e=>{var t,n,r,a,o;const u=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},f=l.Plugins=l.Plugins||{},d=e.CapacitorPlatforms,h=()=>u!==null?u.name:r6(e),_=((t=d==null?void 0:d.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||h,v=()=>_()!=="web",b=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||v,w=V=>{const z=Z.get(V);return!!((z==null?void 0:z.platforms.has(_()))||k(V))},E=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||w,T=V=>{var z;return(z=l.PluginHeaders)===null||z===void 0?void 0:z.find(ae=>ae.name===V)},k=((a=d==null?void 0:d.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||T,M=V=>e.console.error(V),B=(V,z,ae)=>Promise.reject(`${ae} does not have an implementation of "${z}".`),Z=new Map,Y=(V,z={})=>{const ae=Z.get(V);if(ae)return console.warn(`Capacitor plugin "${V}" already registered. Cannot register plugins twice.`),ae.proxy;const ee=_(),_e=k(V);let ve;const G=async()=>(!ve&&ee in z?ve=typeof z[ee]=="function"?ve=await z[ee]():ve=z[ee]:u!==null&&!ve&&"web"in z&&(ve=typeof z.web=="function"?ve=await z.web():ve=z.web),ve),C=(q,re)=>{var N,$;if(_e){const X=_e==null?void 0:_e.methods.find(Q=>re===Q.name);if(X)return X.rtype==="promise"?Q=>l.nativePromise(V,re.toString(),Q):(Q,R)=>l.nativeCallback(V,re.toString(),Q,R);if(q)return(N=q[re])===null||N===void 0?void 0:N.bind(q)}else{if(q)return($=q[re])===null||$===void 0?void 0:$.bind(q);throw new Tm(`"${V}" plugin is not implemented on ${ee}`,Ss.Unimplemented)}},I=q=>{let re;const N=(...$)=>{const X=G().then(Q=>{const R=C(Q,q);if(R){const ce=R(...$);return re=ce==null?void 0:ce.remove,ce}else throw new Tm(`"${V}.${q}()" is not implemented on ${ee}`,Ss.Unimplemented)});return q==="addListener"&&(X.remove=async()=>re()),X};return N.toString=()=>`${q.toString()}() { [capacitor code] }`,Object.defineProperty(N,"name",{value:q,writable:!1,configurable:!1}),N},L=I("addListener"),U=I("removeListener"),W=(q,re)=>{const N=L({eventName:q},re),$=async()=>{const Q=await N;U({eventName:q,callbackId:Q},re)},X=new Promise(Q=>N.then(()=>Q({remove:$})));return X.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await $()},X},ie=new Proxy({},{get(q,re){switch(re){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _e?W:L;case"removeListener":return U;default:return I(re)}}});return f[V]=ie,Z.set(V,{name:V,proxy:ie,platforms:new Set([...Object.keys(z),..._e?[ee]:[]])}),ie},ne=((o=d==null?void 0:d.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||Y;return l.convertFileSrc||(l.convertFileSrc=V=>V),l.getPlatform=_,l.handleError=M,l.isNativePlatform=b,l.isPluginAvailable=E,l.pluginMethodNoop=B,l.registerPlugin=ne,l.Exception=Tm,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},a6=e=>e.Capacitor=i6(e),Il=a6(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),s6=Il.registerPlugin,q6=Il.Plugins;class K6{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a);const o=async()=>this.removeListener(t,n),u=Promise.resolve({remove:o});return Object.defineProperty(u,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),u}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(a=>a(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Il.Exception(t,Ss.Unimplemented)}unavailable(t="not available"){return new Il.Exception(t,Ss.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const a=r.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const o6=s6("App",{web:()=>import("./web.3fd20bce.js").then(e=>new e.AppWeb)}),u6=()=>{let e=oC();return se.exports.useEffect(()=>{o6.addListener("appUrlOpen",t=>{const n=t.url.split(".us").pop();n&&e.push(n)})},[]),null},c6=()=>{const e=AI(),t=se.exports.useCallback(()=>{({npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}&&{npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.NODE_CONFIG)?window.env={npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/social",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/social",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"ARC","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"ARC","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.NODE_CONFIG:window.env="",e(nF.restoreAuth()),WP(),YP()},[]);return se.exports.useEffect(t,[]),x.createElement(x.Fragment,null,x.createElement(wd,null,x.createElement("title",null,ka.publicRuntimeConfig.title),x.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"})),x.createElement(fv,{theme:MM},x.createElement(tF,{maxSnack:3},x.createElement(BP,null),x.createElement(rF,null))))},l6=()=>x.createElement(cI,{store:zP(e6)},x.createElement(uC,null,x.createElement(u6,null),x.createElement(c6,null)));var J6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l6});export{_r as $,nF as A,EM as B,Il as C,rs as D,ad as E,PM as F,Vp as G,pE as H,at as I,S6 as J,oE as K,sE as L,m6 as M,kM as N,E6 as O,q6 as P,Jy as Q,Xy as R,Pc as S,hE as T,SM as U,rE as V,$6 as W,V6 as X,fC as Y,O6 as Z,pe as _,AI as a,Nh as a0,x6 as a1,I6 as a2,U6 as a3,P6 as a4,C6 as a5,AF as a6,H6 as a7,D6 as a8,Pk as a9,ME as aa,UE as ab,A6 as ac,T6 as ad,NE as ae,FE as af,DE as ag,xE as ah,pv as ai,K0 as aj,mv as ak,k6 as al,M6 as am,p6 as an,h6 as ao,K6 as ap,Vd as aq,Jr as ar,Vu as as,KC as at,Ei as au,J6 as av,Y6 as b,N6 as c,W6 as d,L6 as e,oC as f,w6 as g,y6 as h,B6 as i,$k as j,HP as k,j6 as l,G6 as m,v6 as n,g6 as o,r0 as p,Nk as q,_6 as r,s6 as s,Ci as t,F6 as u,b6 as v,z6 as w,R6 as x,cE as y,ur as z};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX2FwcC5mMGE3MjQxNy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9Db250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL2JhdGNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaG9va3MvdXNlUmVkdXhDb250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2hvb2tzL3VzZVN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2hvb2tzL3VzZURpc3BhdGNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9lc20vcmVzb2x2ZS1wYXRobmFtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aW55LWludmFyaWFudC9kaXN0L3RpbnktaW52YXJpYW50LmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3JlYXRlLXJlYWN0LWNvbnRleHQvZGlzdC9lc20vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wYXRoLXRvLXJlZ2V4cC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZXNtL3JlYWN0LXJvdXRlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL2VzbS9yZWFjdC1yb3V0ZXItZG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXNpZGUtZWZmZWN0L2xpYi9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1mYXN0LWNvbXBhcmUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaGVsbWV0L2VzL0hlbG1ldC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zaGFsbG93ZXF1YWwvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vc3R5bGlzL2Rpc3Qvc3R5bGlzLmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3VuaXRsZXNzL2Rpc3QvdW5pdGxlc3MuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vbWVtb2l6ZS9kaXN0L21lbW9pemUuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vaXMtcHJvcC12YWxpZC9kaXN0L2lzLXByb3AtdmFsaWQuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGVkLWNvbXBvbmVudHMvZGlzdC9zdHlsZWQtY29tcG9uZW50cy5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3JlZHV4LmpzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3BlcnNpc3RlZC5zdG9yZS50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC10aHVuay9lcy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pbW11dGFibGUvZGlzdC9pbW11dGFibGUuZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bob29rc3RhdGUvY29yZS9kaXN0L2luZGV4LmVzLmpzIiwiLi4vLi4vLi4vY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXIudHMiLCIuLi8uLi8uLi9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlci50cyIsIi4uLy4uLy4uL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlci50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy91c2VyL3JlZHVjZXJzL2F1dGgvQXV0aFN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3N0b3JlLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWdhNC9kaXN0L2d0YWcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZ2E0L2Rpc3QvZm9ybWF0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWdhNC9kaXN0L2dhNC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1nYTQvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vY29tcG9uZW50cy9hbmFseXRpY3MudHN4IiwiLi4vLi4vLi4vZWRpdG9yL3NyYy9jb21wb25lbnRzL0dsb2JhbFN0eWxlLnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvdXRpbHMvZXNtL2RlZXBtZXJnZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvdXRpbHMvZXNtL2Zvcm1hdE11aUVycm9yTWVzc2FnZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3IuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL3N0eWxlcy9jcmVhdGVCcmVha3BvaW50cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NyZWF0ZU1peGlucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vY29sb3JzL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vY29sb3JzL2dyZXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL2NvbG9ycy9pbmRpZ28uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL2NvbG9ycy9waW5rLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvcmVkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvb3JhbmdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9jb2xvcnMvYmx1ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vY29sb3JzL2dyZWVuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvY3JlYXRlUGFsZXR0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NyZWF0ZVR5cG9ncmFwaHkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL3N0eWxlcy9zaGFkb3dzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvc2hhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9zeXN0ZW0vZXNtL21lcmdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9zeXN0ZW0vZXNtL2JyZWFrcG9pbnRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9zeXN0ZW0vZXNtL21lbW9pemUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N5c3RlbS9lc20vc3BhY2luZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NyZWF0ZVNwYWNpbmcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL3N0eWxlcy90cmFuc2l0aW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL3pJbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vc3R5bGVzL2NyZWF0ZVRoZW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanMiLCIuLi8uLi90aGVtZS50c3giLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vY29uZmlnLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvZXNtL1RyYW5zaXRpb25Hcm91cENvbnRleHQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cC9lc20vVHJhbnNpdGlvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9kZWVwbWVyZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZm9ybWF0TXVpRXJyb3JNZXNzYWdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvdXRpbHMvZXNtL2NhcGl0YWxpemUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vZGVib3VuY2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vb3duZXJEb2N1bWVudC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9vd25lcldpbmRvdy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS9zZXRSZWYuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlRW5oYW5jZWRFZmZlY3QuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS91dGlscy9lc20vdXNlRXZlbnRDYWxsYmFjay5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3V0aWxzL2VzbS91c2VGb3JrUmVmLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3N0eWxlZC9ub2RlX21vZHVsZXMvQGVtb3Rpb24vaXMtcHJvcC12YWxpZC9kaXN0L2Vtb3Rpb24taXMtcHJvcC12YWxpZC5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zaGVldC9kaXN0L2Vtb3Rpb24tc2hlZXQuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGlzL3NyYy9FbnVtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxpcy9zcmMvVXRpbGl0eS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1Rva2VuaXplci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1BhcnNlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL1ByZWZpeGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxpcy9zcmMvU2VyaWFsaXplci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsaXMvc3JjL01pZGRsZXdhcmUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vY2FjaGUvZGlzdC9lbW90aW9uLWNhY2hlLmJyb3dzZXIuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlbW90aW9uL3V0aWxzL2Rpc3QvZW1vdGlvbi11dGlscy5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9oYXNoL2Rpc3QvaGFzaC5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zZXJpYWxpemUvZGlzdC9lbW90aW9uLXNlcmlhbGl6ZS5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9yZWFjdC9kaXN0L2Vtb3Rpb24tZWxlbWVudC05OTI4OWIyMS5icm93c2VyLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZW1vdGlvbi9zdHlsZWQvYmFzZS9kaXN0L2Vtb3Rpb24tc3R5bGVkLWJhc2UuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGVtb3Rpb24vc3R5bGVkL2Rpc3QvZW1vdGlvbi1zdHlsZWQuYnJvd3Nlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1ydW50aW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3R5bGVkLWVuZ2luZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vbWVyZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2JyZWFrcG9pbnRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zdHlsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY29tcG9zZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vbWVtb2l6ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vc3BhY2luZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vYm9yZGVycy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vZGlzcGxheS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vZmxleGJveC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vZ3JpZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vcGFsZXR0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vcG9zaXRpb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zaGFkb3dzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9zaXppbmcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3R5cG9ncmFwaHkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2dldFRoZW1lVmFsdWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3N0eWxlRnVuY3Rpb25TeC9zdHlsZUZ1bmN0aW9uU3guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL2NyZWF0ZVRoZW1lL2NyZWF0ZUJyZWFrcG9pbnRzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jcmVhdGVUaGVtZS9zaGFwZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlVGhlbWUvY3JlYXRlU3BhY2luZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vY3JlYXRlVGhlbWUvY3JlYXRlVGhlbWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9wcml2YXRlLXRoZW1pbmcvdXNlVGhlbWUvVGhlbWVDb250ZXh0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvcHJpdmF0ZS10aGVtaW5nL3VzZVRoZW1lL3VzZVRoZW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VUaGVtZVdpdGhvdXREZWZhdWx0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS91c2VUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vcHJvcHNUb0NsYXNzS2V5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jcmVhdGVTdHlsZWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9zeXN0ZW0vZXNtL3VzZVRoZW1lUHJvcHMvZ2V0VGhlbWVQcm9wcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL3N5c3RlbS9lc20vdXNlVGhlbWVQcm9wcy91c2VUaGVtZVByb3BzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvc3lzdGVtL2VzbS9jb2xvck1hbmlwdWxhdG9yLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvY29yZS9jb21wb3NlQ2xhc3Nlcy9jb21wb3NlQ2xhc3Nlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL2NvcmUvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MvZ2VuZXJhdGVVdGlsaXR5Q2xhc3MuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9jb3JlL2dlbmVyYXRlVXRpbGl0eUNsYXNzZXMvZ2VuZXJhdGVVdGlsaXR5Q2xhc3Nlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy9jcmVhdGVNaXhpbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvY29tbW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL2dyZXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvcHVycGxlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvY29sb3JzL3JlZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2NvbG9ycy9vcmFuZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvYmx1ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2NvbG9ycy9saWdodEJsdWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9jb2xvcnMvZ3JlZW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvY3JlYXRlUGFsZXR0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy9jcmVhdGVUeXBvZ3JhcGh5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL3NoYWRvd3MuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvY3JlYXRlVHJhbnNpdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvekluZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL2NyZWF0ZVRoZW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL2RlZmF1bHRUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3N0eWxlcy91c2VUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3RyYW5zaXRpb25zL3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvc3R5bGVzL3VzZVRoZW1lUHJvcHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9zdHlsZXMvc3R5bGVkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvU3ZnSWNvbi9zdmdJY29uQ2xhc3Nlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL1N2Z0ljb24vU3ZnSWNvbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL1NsaWRlL1NsaWRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvQ29sbGFwc2UvY29sbGFwc2VDbGFzc2VzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvQ29sbGFwc2UvQ29sbGFwc2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9DbGlja0F3YXlMaXN0ZW5lci9DbGlja0F3YXlMaXN0ZW5lci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9ub3Rpc3RhY2svZGlzdC9ub3Rpc3RhY2suZXNtLmpzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoQWN0aW9uLnRzIiwiLi4vLi4vc3JjL3JvdXRlci50c3giLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgtaW1tdXRhYmxlL2Rpc3QvdXRpbGl0aWVzL2dldFN0YXRlTmFtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC1pbW11dGFibGUvZGlzdC91dGlsaXRpZXMvZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LWltbXV0YWJsZS9kaXN0L3V0aWxpdGllcy92YWxpZGF0ZU5leHRTdGF0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWR1eC1pbW11dGFibGUvZGlzdC91dGlsaXRpZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVkdXgtaW1tdXRhYmxlL2Rpc3QvY29tYmluZVJlZHVjZXJzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlZHV4LWltbXV0YWJsZS9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL0FkbWluU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vdXNlci9Vc2VyU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvY29udGVudFBhY2svQ29udGVudFBhY2tTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9hdmF0YXIvQXZhdGFyU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vaW5zdGFuY2UvSW5zdGFuY2VTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9sb2NhdGlvbi9Mb2NhdGlvblN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL3BhcnR5L1BhcnR5U3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vc2NlbmUvU2NlbmVTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9ib3RzL0JvdHNTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9hbmFseXRpY3MvQW5hbHl0aWNzU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vcmVhbGl0eS1wYWNrL1JlYWxpdHlQYWNrU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2FyTWVkaWEvQXJNZWRpYVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9mZWVkL0ZlZWRTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vZ3JvdXAvR3JvdXBTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9zY29wZS9TY29wZVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL1NldHRpbmcvYW5hbHl0aWNzL1NldHRpbmdBbmFseXRpY3NTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL3NlcnZlci9TZXJ2ZXJTZXR0aW5nU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9jbGllbnQvQ2xpZW50U2V0dGluZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL1NldHRpbmcvZ2FtZS1zZXJ2ZXIvR2FtZVNlcnZlclNldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2VtYWlsL0VtYWlsU2V0dGluZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2FkbWluL1NldHRpbmcvY2hhcmdlYmVlL0NoYXJnZWJlZVNldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2F1dGhlbnRpY2F0aW9uLXNldHRpbmcvQXV0aFNldHRpbmdTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2Vycy9hZG1pbi9TZXR0aW5nL2F3cy9Bd3NTZXR0aW5nU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvYWRtaW4vcmVkdWNlcnMvYWRtaW4vU2V0dGluZy9yZWRpcy9BZG1pblJlZGlzU2V0dGluZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2FkbWluL3JlZHVjZXJzL2luZGV4LnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9hbGVydC9BbGVydFN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9hcHAvQXBwQWN0aW9ucy50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvYXBwL0FwcFN0YXRlLnRzIiwiLi4vLi4vLi4vY29tbW9uL3NyYy9pbnRlcmZhY2VzL0RpYWxvZy50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvZGlhbG9nL0RpYWxvZ1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9lcnJvci9FcnJvclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9pbmRleC50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21vbWVudC9kaXN0L21vbWVudC5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvY2hhdC9DaGF0U3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2ZyaWVuZC9GcmllbmRTdGF0ZS50cyIsIi4uLy4uLy4uL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Mb2NhdGlvbi50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvbG9jYXRpb24vTG9jYXRpb25TdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZ3JvdXAvR3JvdXBTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvcGFydHkvUGFydHlTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvaW52aXRlL0ludml0ZVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9pbnZpdGVUeXBlL0ludml0ZVR5cGVTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZENvbW1lbnQvRmVlZENvbW1lbnRTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZEZpcmVzL0ZlZWRGaXJlc1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy90aGVmZWVkcy9UaGVGZWVkc1N0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy90aGVmZWVkc0ZpcmVzL1RoZUZlZWRzRmlyZXNTdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvd2VieHJfbmF0aXZlL1dlYnhyTmF0aXZlU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL3JlZ2lzdHJhdGlvbi9SZWdpc3RyYXRpb25TdGF0ZS50cyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvaW5kZXgudHMiLCIuLi8uLi9zcmMvcmVkdWNlcnMvaW5kZXgudHMiLCIuLi8uLi8uLi9jb21tb24vc3JjL2ludGVyZmFjZXMvUmVsYXRpb25zaGlwLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3VzZXIvc3RvcmUvVXNlclN0YXRlLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvaW5kZXgudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvd29ybGQvcmVkdWNlcnMvc2NlbmVzL1NjZW5lU3RhdGUudHMiLCIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvd29ybGQvcmVkdWNlcnMvaW5kZXgudHMiLCIuLi8uLi9zcmMvcmVkdWNlcnMudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9jb3JlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNhcGFjaXRvci9hcHAvZGlzdC9lc20vaW5kZXguanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9BcHBEZWVwTGluay9pbmRleC50c3giLCIuLi8uLi9zcmMvcGFnZXMvX2FwcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uV2l0aFJlc2V0KCkge31cbmVtcHR5RnVuY3Rpb25XaXRoUmVzZXQucmVzZXRXYXJuaW5nQ2FjaGUgPSBlbXB0eUZ1bmN0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgZWxlbWVudFR5cGU6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbSxcblxuICAgIGNoZWNrUHJvcFR5cGVzOiBlbXB0eUZ1bmN0aW9uV2l0aFJlc2V0LFxuICAgIHJlc2V0V2FybmluZ0NhY2hlOiBlbXB0eUZ1bmN0aW9uXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoUmVhY3RJcy5pc0VsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIFJlYWN0UmVkdXhDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFJlYWN0UmVkdXhDb250ZXh0LmRpc3BsYXlOYW1lID0gJ1JlYWN0UmVkdXgnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4Q29udGV4dDsiLCIvLyBEZWZhdWx0IHRvIGEgZHVtbXkgXCJiYXRjaFwiIGltcGxlbWVudGF0aW9uIHRoYXQganVzdCBydW5zIHRoZSBjYWxsYmFja1xuZnVuY3Rpb24gZGVmYXVsdE5vb3BCYXRjaChjYWxsYmFjaykge1xuICBjYWxsYmFjaygpO1xufVxuXG52YXIgYmF0Y2ggPSBkZWZhdWx0Tm9vcEJhdGNoOyAvLyBBbGxvdyBpbmplY3RpbmcgYW5vdGhlciBiYXRjaGluZyBmdW5jdGlvbiBsYXRlclxuXG5leHBvcnQgdmFyIHNldEJhdGNoID0gZnVuY3Rpb24gc2V0QmF0Y2gobmV3QmF0Y2gpIHtcbiAgcmV0dXJuIGJhdGNoID0gbmV3QmF0Y2g7XG59OyAvLyBTdXBwbHkgYSBnZXR0ZXIganVzdCB0byBza2lwIGRlYWxpbmcgd2l0aCBFU00gYmluZGluZ3NcblxuZXhwb3J0IHZhciBnZXRCYXRjaCA9IGZ1bmN0aW9uIGdldEJhdGNoKCkge1xuICByZXR1cm4gYmF0Y2g7XG59OyIsImltcG9ydCB7IGdldEJhdGNoIH0gZnJvbSAnLi9iYXRjaCc7IC8vIGVuY2Fwc3VsYXRlcyB0aGUgc3Vic2NyaXB0aW9uIGxvZ2ljIGZvciBjb25uZWN0aW5nIGEgY29tcG9uZW50IHRvIHRoZSByZWR1eCBzdG9yZSwgYXNcbi8vIHdlbGwgYXMgbmVzdGluZyBzdWJzY3JpcHRpb25zIG9mIGRlc2NlbmRhbnQgY29tcG9uZW50cywgc28gdGhhdCB3ZSBjYW4gZW5zdXJlIHRoZVxuLy8gYW5jZXN0b3IgY29tcG9uZW50cyByZS1yZW5kZXIgYmVmb3JlIGRlc2NlbmRhbnRzXG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpIHtcbiAgdmFyIGJhdGNoID0gZ2V0QmF0Y2goKTtcbiAgdmFyIGZpcnN0ID0gbnVsbDtcbiAgdmFyIGxhc3QgPSBudWxsO1xuICByZXR1cm4ge1xuICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIGZpcnN0ID0gbnVsbDtcbiAgICAgIGxhc3QgPSBudWxsO1xuICAgIH0sXG4gICAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkoKSB7XG4gICAgICBiYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGZpcnN0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKCk7XG4gICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICAgICAgdmFyIGxpc3RlbmVyID0gZmlyc3Q7XG5cbiAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9LFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxhc3QgPSB7XG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgcHJldjogbGFzdFxuICAgICAgfTtcblxuICAgICAgaWYgKGxpc3RlbmVyLnByZXYpIHtcbiAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdCA9IGxpc3RlbmVyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkIHx8IGZpcnN0ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lci5uZXh0KSB7XG4gICAgICAgICAgbGlzdGVuZXIubmV4dC5wcmV2ID0gbGlzdGVuZXIucHJldjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0ID0gbGlzdGVuZXIucHJldjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0ZW5lci5wcmV2KSB7XG4gICAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJzdCA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG52YXIgbnVsbExpc3RlbmVycyA9IHtcbiAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkoKSB7fSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmlwdGlvbihzdG9yZSwgcGFyZW50U3ViKSB7XG4gIHZhciB1bnN1YnNjcmliZTtcbiAgdmFyIGxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnM7XG5cbiAgZnVuY3Rpb24gYWRkTmVzdGVkU3ViKGxpc3RlbmVyKSB7XG4gICAgdHJ5U3Vic2NyaWJlKCk7XG4gICAgcmV0dXJuIGxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TmVzdGVkU3VicygpIHtcbiAgICBsaXN0ZW5lcnMubm90aWZ5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VXcmFwcGVyKCkge1xuICAgIGlmIChzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSkge1xuICAgICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N1YnNjcmliZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odW5zdWJzY3JpYmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuICAgIGlmICghdW5zdWJzY3JpYmUpIHtcbiAgICAgIHVuc3Vic2NyaWJlID0gcGFyZW50U3ViID8gcGFyZW50U3ViLmFkZE5lc3RlZFN1YihoYW5kbGVDaGFuZ2VXcmFwcGVyKSA6IHN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2VXcmFwcGVyKTtcbiAgICAgIGxpc3RlbmVycyA9IGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIHVuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgICBsaXN0ZW5lcnMgPSBudWxsTGlzdGVuZXJzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdWJzY3JpcHRpb24gPSB7XG4gICAgYWRkTmVzdGVkU3ViOiBhZGROZXN0ZWRTdWIsXG4gICAgbm90aWZ5TmVzdGVkU3Viczogbm90aWZ5TmVzdGVkU3VicyxcbiAgICBoYW5kbGVDaGFuZ2VXcmFwcGVyOiBoYW5kbGVDaGFuZ2VXcmFwcGVyLFxuICAgIGlzU3Vic2NyaWJlZDogaXNTdWJzY3JpYmVkLFxuICAgIHRyeVN1YnNjcmliZTogdHJ5U3Vic2NyaWJlLFxuICAgIHRyeVVuc3Vic2NyaWJlOiB0cnlVbnN1YnNjcmliZSxcbiAgICBnZXRMaXN0ZW5lcnM6IGZ1bmN0aW9uIGdldExpc3RlbmVycygpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufSIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnOyAvLyBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLlxuLy8gVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbi8vIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2UgbmVlZCB1c2VMYXlvdXRFZmZlY3QgdG8gZW5zdXJlIHRoZSBzdG9yZVxuLy8gc3Vic2NyaXB0aW9uIGNhbGxiYWNrIGFsd2F5cyBoYXMgdGhlIHNlbGVjdG9yIGZyb20gdGhlIGxhdGVzdCByZW5kZXIgY29tbWl0XG4vLyBhdmFpbGFibGUsIG90aGVyd2lzZSBhIHN0b3JlIHVwZGF0ZSBtYXkgaGFwcGVuIGJldHdlZW4gcmVuZGVyIGFuZCB0aGUgZWZmZWN0LFxuLy8gd2hpY2ggbWF5IGNhdXNlIG1pc3NlZCB1cGRhdGVzOyB3ZSBhbHNvIG11c3QgZW5zdXJlIHRoZSBzdG9yZSBzdWJzY3JpcHRpb25cbi8vIGlzIGNyZWF0ZWQgc3luY2hyb25vdXNseSwgb3RoZXJ3aXNlIGEgc3RvcmUgdXBkYXRlIG1heSBvY2N1ciBiZWZvcmUgdGhlXG4vLyBzdWJzY3JpcHRpb24gaXMgY3JlYXRlZCBhbmQgYW4gaW5jb25zaXN0ZW50IHN0YXRlIG1heSBiZSBvYnNlcnZlZFxuXG5leHBvcnQgdmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0OyIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi9Db250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5cbmZ1bmN0aW9uIFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIHN0b3JlID0gX3JlZi5zdG9yZSxcbiAgICAgIGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBjb250ZXh0VmFsdWUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlKTtcbiAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IHN1YnNjcmlwdGlvbi5ub3RpZnlOZXN0ZWRTdWJzO1xuICAgIHJldHVybiB7XG4gICAgICBzdG9yZTogc3RvcmUsXG4gICAgICBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvblxuICAgIH07XG4gIH0sIFtzdG9yZV0pO1xuICB2YXIgcHJldmlvdXNTdGF0ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpO1xuICB9LCBbc3RvcmVdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IGNvbnRleHRWYWx1ZS5zdWJzY3JpcHRpb247XG4gICAgc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpO1xuXG4gICAgaWYgKHByZXZpb3VzU3RhdGUgIT09IHN0b3JlLmdldFN0YXRlKCkpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi5ub3RpZnlOZXN0ZWRTdWJzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UgPSBudWxsO1xuICAgIH07XG4gIH0sIFtjb250ZXh0VmFsdWUsIHByZXZpb3VzU3RhdGVdKTtcbiAgdmFyIENvbnRleHQgPSBjb250ZXh0IHx8IFJlYWN0UmVkdXhDb250ZXh0O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0VmFsdWVcbiAgfSwgY2hpbGRyZW4pO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgc3RvcmU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgfSksXG4gICAgY29udGV4dDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcm92aWRlcjsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7dmFyIGI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixjPWI/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMsZD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYsZT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxmPWI/U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LGc9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsaD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxrPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIik6NjAxMTAsbD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLG09Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpOjYwMTExLG49Yj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxxPWI/XG5TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxyPWI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsdD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHY9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWI/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCx5PWI/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O1xuZnVuY3Rpb24geihhKXtpZihcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hKXt2YXIgdT1hLiQkdHlwZW9mO3N3aXRjaCh1KXtjYXNlIGM6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgbDpjYXNlIG06Y2FzZSBlOmNhc2UgZzpjYXNlIGY6Y2FzZSBwOnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGs6Y2FzZSBuOmNhc2UgdDpjYXNlIHI6Y2FzZSBoOnJldHVybiBhO2RlZmF1bHQ6cmV0dXJuIHV9fWNhc2UgZDpyZXR1cm4gdX19fWZ1bmN0aW9uIEEoYSl7cmV0dXJuIHooYSk9PT1tfWV4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtleHBvcnRzLkZyYWdtZW50PWU7ZXhwb3J0cy5MYXp5PXQ7ZXhwb3J0cy5NZW1vPXI7ZXhwb3J0cy5Qb3J0YWw9ZDtcbmV4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gQShhKXx8eihhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT1BO2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1rfTtleHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09aH07ZXhwb3J0cy5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWN9O2V4cG9ydHMuaXNGb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09bn07ZXhwb3J0cy5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09ZX07ZXhwb3J0cy5pc0xhenk9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT10fTtcbmV4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cn07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09Zn07ZXhwb3J0cy5pc1N1c3BlbnNlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cH07XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZXx8YT09PW18fGE9PT1nfHxhPT09Znx8YT09PXB8fGE9PT1xfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXR8fGEuJCR0eXBlb2Y9PT1yfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1ufHxhLiQkdHlwZW9mPT09d3x8YS4kJHR5cGVvZj09PXh8fGEuJCR0eXBlb2Y9PT15fHxhLiQkdHlwZW9mPT09dil9O2V4cG9ydHMudHlwZU9mPXo7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZVxufTtcbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIGNvbXBhcmU6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tyZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblRZUEVfU1RBVElDU1tyZWFjdElzLk1lbW9dID0gTUVNT19TVEFUSUNTO1xuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICAvLyBSZWFjdCB2MTYuMTEgYW5kIGJlbG93XG4gIGlmIChyZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgfSAvLyBSZWFjdCB2MTYuMTIgYW5kIGFib3ZlXG5cblxuICByZXR1cm4gVFlQRV9TVEFUSUNTW2NvbXBvbmVudFsnJCR0eXBlb2YnXV0gfHwgUkVBQ1RfU1RBVElDUztcbn1cblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgaWYgKGluaGVyaXRlZENvbXBvbmVudCAmJiBpbmhlcml0ZWRDb21wb25lbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIGluaGVyaXRlZENvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzKHRhcmdldENvbXBvbmVudCk7XG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0Jztcbi8qKlxyXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSB2YWx1ZSBvZiB0aGUgYFJlYWN0UmVkdXhDb250ZXh0YC4gVGhpcyBpcyBhIGxvdy1sZXZlbFxyXG4gKiBob29rIHRoYXQgeW91IHNob3VsZCB1c3VhbGx5IG5vdCBuZWVkIHRvIGNhbGwgZGlyZWN0bHkuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHthbnl9IHRoZSB2YWx1ZSBvZiB0aGUgYFJlYWN0UmVkdXhDb250ZXh0YFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbiAqIGltcG9ydCB7IHVzZVJlZHV4Q29udGV4dCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG4gKlxyXG4gKiBleHBvcnQgY29uc3QgQ291bnRlckNvbXBvbmVudCA9ICh7IHZhbHVlIH0pID0+IHtcclxuICogICBjb25zdCB7IHN0b3JlIH0gPSB1c2VSZWR1eENvbnRleHQoKVxyXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5nZXRTdGF0ZSgpfTwvZGl2PlxyXG4gKiB9XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVkdXhDb250ZXh0KCkge1xuICB2YXIgY29udGV4dFZhbHVlID0gdXNlQ29udGV4dChSZWFjdFJlZHV4Q29udGV4dCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWNvbnRleHRWYWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgcmVhY3QtcmVkdXggY29udGV4dCB2YWx1ZTsgcGxlYXNlIGVuc3VyZSB0aGUgY29tcG9uZW50IGlzIHdyYXBwZWQgaW4gYSA8UHJvdmlkZXI+Jyk7XG4gIH1cblxuICByZXR1cm4gY29udGV4dFZhbHVlO1xufSIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZWFjdFJlZHV4Q29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VSZWR1eENvbnRleHQgYXMgdXNlRGVmYXVsdFJlZHV4Q29udGV4dCB9IGZyb20gJy4vdXNlUmVkdXhDb250ZXh0Jztcbi8qKlxyXG4gKiBIb29rIGZhY3RvcnksIHdoaWNoIGNyZWF0ZXMgYSBgdXNlU3RvcmVgIGhvb2sgYm91bmQgdG8gYSBnaXZlbiBjb250ZXh0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWN0LkNvbnRleHR9IFtjb250ZXh0PVJlYWN0UmVkdXhDb250ZXh0XSBDb250ZXh0IHBhc3NlZCB0byB5b3VyIGA8UHJvdmlkZXI+YC5cclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGB1c2VTdG9yZWAgaG9vayBib3VuZCB0byB0aGUgc3BlY2lmaWVkIGNvbnRleHQuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RvcmVIb29rKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgIGNvbnRleHQgPSBSZWFjdFJlZHV4Q29udGV4dDtcbiAgfVxuXG4gIHZhciB1c2VSZWR1eENvbnRleHQgPSBjb250ZXh0ID09PSBSZWFjdFJlZHV4Q29udGV4dCA/IHVzZURlZmF1bHRSZWR1eENvbnRleHQgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoY29udGV4dCk7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiB1c2VTdG9yZSgpIHtcbiAgICB2YXIgX3VzZVJlZHV4Q29udGV4dCA9IHVzZVJlZHV4Q29udGV4dCgpLFxuICAgICAgICBzdG9yZSA9IF91c2VSZWR1eENvbnRleHQuc3RvcmU7XG5cbiAgICByZXR1cm4gc3RvcmU7XG4gIH07XG59XG4vKipcclxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgcmVkdXggc3RvcmUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHthbnl9IHRoZSByZWR1eCBzdG9yZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbiAqIGltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAncmVhY3QtcmVkdXgnXHJcbiAqXHJcbiAqIGV4cG9ydCBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xyXG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKVxyXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5nZXRTdGF0ZSgpfTwvZGl2PlxyXG4gKiB9XHJcbiAqL1xuXG5leHBvcnQgdmFyIHVzZVN0b3JlID0gLyojX19QVVJFX18qL2NyZWF0ZVN0b3JlSG9vaygpOyIsImltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0JztcbmltcG9ydCB7IHVzZVN0b3JlIGFzIHVzZURlZmF1bHRTdG9yZSwgY3JlYXRlU3RvcmVIb29rIH0gZnJvbSAnLi91c2VTdG9yZSc7XG4vKipcclxuICogSG9vayBmYWN0b3J5LCB3aGljaCBjcmVhdGVzIGEgYHVzZURpc3BhdGNoYCBob29rIGJvdW5kIHRvIGEgZ2l2ZW4gY29udGV4dC5cclxuICpcclxuICogQHBhcmFtIHtSZWFjdC5Db250ZXh0fSBbY29udGV4dD1SZWFjdFJlZHV4Q29udGV4dF0gQ29udGV4dCBwYXNzZWQgdG8geW91ciBgPFByb3ZpZGVyPmAuXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBgdXNlRGlzcGF0Y2hgIGhvb2sgYm91bmQgdG8gdGhlIHNwZWNpZmllZCBjb250ZXh0LlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpc3BhdGNoSG9vayhjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICBjb250ZXh0ID0gUmVhY3RSZWR1eENvbnRleHQ7XG4gIH1cblxuICB2YXIgdXNlU3RvcmUgPSBjb250ZXh0ID09PSBSZWFjdFJlZHV4Q29udGV4dCA/IHVzZURlZmF1bHRTdG9yZSA6IGNyZWF0ZVN0b3JlSG9vayhjb250ZXh0KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVzZURpc3BhdGNoKCkge1xuICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7XG4gICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoO1xuICB9O1xufVxuLyoqXHJcbiAqIEEgaG9vayB0byBhY2Nlc3MgdGhlIHJlZHV4IGBkaXNwYXRjaGAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEByZXR1cm5zIHthbnl8ZnVuY3Rpb259IHJlZHV4IHN0b3JlJ3MgYGRpc3BhdGNoYCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcclxuICogaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcclxuICpcclxuICogZXhwb3J0IGNvbnN0IENvdW50ZXJDb21wb25lbnQgPSAoeyB2YWx1ZSB9KSA9PiB7XHJcbiAqICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpXHJcbiAqICAgY29uc3QgaW5jcmVhc2VDb3VudGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiAnaW5jcmVhc2UtY291bnRlcicgfSksIFtdKVxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8ZGl2PlxyXG4gKiAgICAgICA8c3Bhbj57dmFsdWV9PC9zcGFuPlxyXG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2luY3JlYXNlQ291bnRlcn0+SW5jcmVhc2UgY291bnRlcjwvYnV0dG9uPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgKVxyXG4gKiB9XHJcbiAqL1xuXG5leHBvcnQgdmFyIHVzZURpc3BhdGNoID0gLyojX19QVVJFX18qL2NyZWF0ZURpc3BhdGNoSG9vaygpOyIsImV4cG9ydCAqIGZyb20gJy4vZXhwb3J0cyc7XG5pbXBvcnQgeyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyBhcyBiYXRjaCB9IGZyb20gJy4vdXRpbHMvcmVhY3RCYXRjaGVkVXBkYXRlcyc7XG5pbXBvcnQgeyBzZXRCYXRjaCB9IGZyb20gJy4vdXRpbHMvYmF0Y2gnOyAvLyBFbmFibGUgYmF0Y2hlZCB1cGRhdGVzIGluIG91ciBzdWJzY3JpcHRpb25zIGZvciB1c2Vcbi8vIHdpdGggc3RhbmRhcmQgUmVhY3QgcmVuZGVyZXJzIChSZWFjdERPTSwgUmVhY3QgTmF0aXZlKVxuXG5zZXRCYXRjaChiYXRjaCk7XG5leHBvcnQgeyBiYXRjaCB9OyIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59IiwiZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bywgZnJvbSkge1xuICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkKSBmcm9tID0gJyc7XG5cbiAgdmFyIHRvUGFydHMgPSAodG8gJiYgdG8uc3BsaXQoJy8nKSkgfHwgW107XG4gIHZhciBmcm9tUGFydHMgPSAoZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2g7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG5cbiAgaWYgKFxuICAgIG11c3RFbmRBYnMgJiZcbiAgICBmcm9tUGFydHNbMF0gIT09ICcnICYmXG4gICAgKCFmcm9tUGFydHNbMF0gfHwgIWlzQWJzb2x1dGUoZnJvbVBhcnRzWzBdKSlcbiAgKVxuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcnKTtcblxuICB2YXIgcmVzdWx0ID0gZnJvbVBhcnRzLmpvaW4oJy8nKTtcblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiByZXN1bHQuc3Vic3RyKC0xKSAhPT0gJy8nKSByZXN1bHQgKz0gJy8nO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc29sdmVQYXRobmFtZTtcbiIsInZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xudmFyIHByZWZpeCA9ICdJbnZhcmlhbnQgZmFpbGVkJztcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZml4KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludmFyaWFudDtcbiIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCByZXNvbHZlUGF0aG5hbWUgZnJvbSAncmVzb2x2ZS1wYXRobmFtZSc7XG5pbXBvcnQgdmFsdWVFcXVhbCBmcm9tICd2YWx1ZS1lcXVhbCc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5cbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBwYXRoLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihwcmVmaXgudG9Mb3dlckNhc2UoKSkgPT09IDAgJiYgJy8/IycuaW5kZXhPZihwYXRoLmNoYXJBdChwcmVmaXgubGVuZ3RoKSkgIT09IC0xO1xufVxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59XG5mdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcblxuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuXG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgdmFyIHBhdGggPSBwYXRobmFtZSB8fCAnLyc7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb247XG5cbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIC8vIFR3by1hcmcgZm9ybTogcHVzaChwYXRoLCBzdGF0ZSlcbiAgICBsb2NhdGlvbiA9IHBhcnNlUGF0aChwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24ucGF0aG5hbWUgPSAnJztcblxuICAgIGlmIChsb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guY2hhckF0KDApICE9PSAnPycpIGxvY2F0aW9uLnNlYXJjaCA9ICc/JyArIGxvY2F0aW9uLnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uc2VhcmNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBsb2NhdGlvbi5oYXNoID0gJyMnICsgbG9jYXRpb24uaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uaGFzaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9uLnN0YXRlID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB0cnkge1xuICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gZGVjb2RlVVJJKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVUklFcnJvcignUGF0aG5hbWUgXCInICsgbG9jYXRpb24ucGF0aG5hbWUgKyAnXCIgY291bGQgbm90IGJlIGRlY29kZWQuICcgKyAnVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGFuIGludmFsaWQgcGVyY2VudC1lbmNvZGluZy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICBpZiAoa2V5KSBsb2NhdGlvbi5rZXkgPSBrZXk7XG5cbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xuICAgIC8vIFJlc29sdmUgaW5jb21wbGV0ZS9yZWxhdGl2ZSBwYXRobmFtZSByZWxhdGl2ZSB0byBjdXJyZW50IGxvY2F0aW9uLlxuICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gcmVzb2x2ZVBhdGhuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIHByaW9yIGxvY2F0aW9uIGFuZCBwYXRobmFtZSBpcyBlbXB0eSwgc2V0IGl0IHRvIC9cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICcvJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJiBhLmhhc2ggPT09IGIuaGFzaCAmJiBhLmtleSA9PT0gYi5rZXkgJiYgdmFsdWVFcXVhbChhLnN0YXRlLCBiLnN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJykgOiB2b2lkIDA7XG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpIDogdm9pZCAwO1xuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG5cbmZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gIXN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKTtcbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IF9wcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBfcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdm9pZCAwID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpIDogdm9pZCAwO1xuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9IHN0cmlwQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uOyAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCArIDEpO1xuICAgICAgICAgIG5leHRLZXlzLnB1c2gobG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBhbGxLZXlzID0gbmV4dEtleXM7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpIDogdm9pZCAwO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxICYmIGRlbHRhID09PSAxKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG52YXIgSGFzaENoYW5nZUV2ZW50JDEgPSAnaGFzaGNoYW5nZSc7XG52YXIgSGFzaFBhdGhDb2RlcnMgPSB7XG4gIGhhc2hiYW5nOiB7XG4gICAgZW5jb2RlUGF0aDogZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGggOiAnIS8nICsgc3RyaXBMZWFkaW5nU2xhc2gocGF0aCk7XG4gICAgfSxcbiAgICBkZWNvZGVQYXRoOiBmdW5jdGlvbiBkZWNvZGVQYXRoKHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJyEnID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xuICAgIH1cbiAgfSxcbiAgbm9zbGFzaDoge1xuICAgIGVuY29kZVBhdGg6IHN0cmlwTGVhZGluZ1NsYXNoLFxuICAgIGRlY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaFxuICB9LFxuICBzbGFzaDoge1xuICAgIGVuY29kZVBhdGg6IGFkZExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfVxufTtcblxuZnVuY3Rpb24gc3RyaXBIYXNoKHVybCkge1xuICB2YXIgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc2xpY2UoMCwgaGFzaEluZGV4KTtcbn1cblxuZnVuY3Rpb24gZ2V0SGFzaFBhdGgoKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB3aW5kb3cubG9jYXRpb24uaGFzaCBoZXJlIGJlY2F1c2UgaXQncyBub3RcbiAgLy8gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMgLSBGaXJlZm94IHdpbGwgcHJlLWRlY29kZSBpdCFcbiAgdmFyIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgdmFyIGhhc2hJbmRleCA9IGhyZWYuaW5kZXhPZignIycpO1xuICByZXR1cm4gaGFzaEluZGV4ID09PSAtMSA/ICcnIDogaHJlZi5zdWJzdHJpbmcoaGFzaEluZGV4ICsgMSk7XG59XG5cbmZ1bmN0aW9uIHB1c2hIYXNoUGF0aChwYXRoKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKHBhdGgpIHtcbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2Uoc3RyaXBIYXNoKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSArICcjJyArIHBhdGgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICAhY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSGFzaCBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuR29XaXRob3V0UmVsb2FkID0gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKTtcbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB2b2lkIDAgPyBnZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMkaGFzaFR5cGUgPSBfcHJvcHMuaGFzaFR5cGUsXG4gICAgICBoYXNoVHlwZSA9IF9wcm9wcyRoYXNoVHlwZSA9PT0gdm9pZCAwID8gJ3NsYXNoJyA6IF9wcm9wcyRoYXNoVHlwZTtcbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyBzdHJpcFRyYWlsaW5nU2xhc2goYWRkTGVhZGluZ1NsYXNoKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcbiAgdmFyIF9IYXNoUGF0aENvZGVycyRoYXNoVCA9IEhhc2hQYXRoQ29kZXJzW2hhc2hUeXBlXSxcbiAgICAgIGVuY29kZVBhdGggPSBfSGFzaFBhdGhDb2RlcnMkaGFzaFQuZW5jb2RlUGF0aCxcbiAgICAgIGRlY29kZVBhdGggPSBfSGFzaFBhdGhDb2RlcnMkaGFzaFQuZGVjb2RlUGF0aDtcblxuICBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbigpIHtcbiAgICB2YXIgcGF0aCA9IGRlY29kZVBhdGgoZ2V0SGFzaFBhdGgoKSk7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghYmFzZW5hbWUgfHwgaGFzQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpLCAnWW91IGFyZSBhdHRlbXB0aW5nIHRvIHVzZSBhIGJhc2VuYW1lIG9uIGEgcGFnZSB3aG9zZSBVUkwgcGF0aCBkb2VzIG5vdCBiZWdpbiAnICsgJ3dpdGggdGhlIGJhc2VuYW1lLiBFeHBlY3RlZCBwYXRoIFwiJyArIHBhdGggKyAnXCIgdG8gYmVnaW4gd2l0aCBcIicgKyBiYXNlbmFtZSArICdcIi4nKSA6IHZvaWQgMDtcbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCk7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gIHZhciBpZ25vcmVQYXRoID0gbnVsbDtcblxuICBmdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbCQkMShhLCBiKSB7XG4gICAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XG4gICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGFsd2F5cyBoYXZlIGEgcHJvcGVybHktZW5jb2RlZCBoYXNoLlxuICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuICAgICAgaWYgKCFmb3JjZU5leHRQb3AgJiYgbG9jYXRpb25zQXJlRXF1YWwkJDEocHJldkxvY2F0aW9uLCBsb2NhdGlvbikpIHJldHVybjsgLy8gQSBoYXNoY2hhbmdlIGRvZXNuJ3QgYWx3YXlzID09IGxvY2F0aW9uIGNoYW5nZS5cblxuICAgICAgaWYgKGlnbm9yZVBhdGggPT09IGNyZWF0ZVBhdGgobG9jYXRpb24pKSByZXR1cm47IC8vIElnbm9yZSB0aGlzIGNoYW5nZTsgd2UgYWxyZWFkeSBzZXRTdGF0ZSBpbiBwdXNoL3JlcGxhY2UuXG5cbiAgICAgIGlnbm9yZVBhdGggPSBudWxsO1xuICAgICAgaGFuZGxlUG9wKGxvY2F0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjsgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBwYXRocyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuICAgIHZhciBmcm9tSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGZyb21Mb2NhdGlvbikpO1xuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9IC8vIEVuc3VyZSB0aGUgaGFzaCBpcyBlbmNvZGVkIHByb3Blcmx5IGJlZm9yZSBkb2luZyBhbnl0aGluZyBlbHNlLlxuXG5cbiAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xuICB2YXIgYWxsUGF0aHMgPSBbY3JlYXRlUGF0aChpbml0aWFsTG9jYXRpb24pXTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICB2YXIgYmFzZVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKTtcbiAgICB2YXIgaHJlZiA9ICcnO1xuXG4gICAgaWYgKGJhc2VUYWcgJiYgYmFzZVRhZy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkge1xuICAgICAgaHJlZiA9IHN0cmlwSGFzaCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhyZWYgKyAnIycgKyBlbmNvZGVQYXRoKGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbikpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFBVU0gsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHB1c2hIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKGhpc3RvcnkubG9jYXRpb24pKTtcbiAgICAgICAgdmFyIG5leHRQYXRocyA9IGFsbFBhdGhzLnNsaWNlKDAsIHByZXZJbmRleCArIDEpO1xuICAgICAgICBuZXh0UGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgYWxsUGF0aHMgPSBuZXh0UGF0aHM7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGg7IGEgbmV3IGVudHJ5IHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrJykgOiB2b2lkIDA7XG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XG4gICAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKGJhc2VuYW1lICsgcGF0aCk7XG4gICAgICB2YXIgaGFzaENoYW5nZWQgPSBnZXRIYXNoUGF0aCgpICE9PSBlbmNvZGVkUGF0aDtcblxuICAgICAgaWYgKGhhc2hDaGFuZ2VkKSB7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB0ZWxsIGlmIGEgaGFzaGNoYW5nZSB3YXMgY2F1c2VkIGJ5IGEgUkVQTEFDRSwgc28gd2UnZFxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcbiAgICAgICAgLy8gaXMgdGhhdCBvdGhlciBoYXNoIGhpc3RvcmllcyBpbiB0aGUgcGFnZSB3aWxsIGNvbnNpZGVyIGl0IGEgUE9QLlxuICAgICAgICBpZ25vcmVQYXRoID0gcGF0aDtcbiAgICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsUGF0aHNbcHJldkluZGV4XSA9IHBhdGg7XG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoY2FuR29XaXRob3V0UmVsb2FkLCAnSGFzaCBoaXN0b3J5IGdvKG4pIGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQgaW4gdGhpcyBicm93c2VyJykgOiB2b2lkIDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wKG4sIGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIGxvd2VyQm91bmQpLCB1cHBlckJvdW5kKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIF9wcm9wcyRpbml0aWFsRW50cmllcyA9IF9wcm9wcy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxFbnRyaWVzID0gX3Byb3BzJGluaXRpYWxFbnRyaWVzID09PSB2b2lkIDAgPyBbJy8nXSA6IF9wcm9wcyRpbml0aWFsRW50cmllcyxcbiAgICAgIF9wcm9wcyRpbml0aWFsSW5kZXggPSBfcHJvcHMuaW5pdGlhbEluZGV4LFxuICAgICAgaW5pdGlhbEluZGV4ID0gX3Byb3BzJGluaXRpYWxJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRpbml0aWFsSW5kZXgsXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gX3Byb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHZvaWQgMCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGhpc3RvcnkuZW50cmllcy5sZW5ndGg7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH1cblxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB2YXIgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJyA/IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGNyZWF0ZUtleSgpKSA6IGNyZWF0ZUxvY2F0aW9uKGVudHJ5LCB1bmRlZmluZWQsIGVudHJ5LmtleSB8fCBjcmVhdGVLZXkoKSk7XG4gIH0pOyAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBjcmVhdGVQYXRoO1xuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcHJldkluZGV4ID0gaGlzdG9yeS5pbmRleDtcbiAgICAgIHZhciBuZXh0SW5kZXggPSBwcmV2SW5kZXggKyAxO1xuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xuXG4gICAgICBpZiAobmV4dEVudHJpZXMubGVuZ3RoID4gbmV4dEluZGV4KSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnNwbGljZShuZXh0SW5kZXgsIG5leHRFbnRyaWVzLmxlbmd0aCAtIG5leHRJbmRleCwgbG9jYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dEVudHJpZXMucHVzaChsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgZW50cmllczogbmV4dEVudHJpZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIGhpc3RvcnkuZW50cmllc1toaXN0b3J5LmluZGV4XSA9IGxvY2F0aW9uO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gY2xhbXAoaGlzdG9yeS5pbmRleCArIG4sIDAsIGhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxKTtcbiAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgdmFyIGxvY2F0aW9uID0gaGlzdG9yeS5lbnRyaWVzW25leHRJbmRleF07XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmIChvaykge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNaW1pYyB0aGUgYmVoYXZpb3Igb2YgRE9NIGhpc3RvcmllcyBieVxuICAgICAgICAvLyBjYXVzaW5nIGEgcmVuZGVyIGFmdGVyIGEgY2FuY2VsbGVkIFBPUC5cbiAgICAgICAgc2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5HbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGhpc3RvcnkuaW5kZXggKyBuO1xuICAgIHJldHVybiBuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XG4gICAgaWYgKHByb21wdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9tcHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBlbnRyaWVzLmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBlbnRyaWVzW2luZGV4XSxcbiAgICBpbmRleDogaW5kZXgsXG4gICAgZW50cmllczogZW50cmllcyxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgY2FuR286IGNhbkdvLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnksIGNyZWF0ZUhhc2hIaXN0b3J5LCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwsIHBhcnNlUGF0aCwgY3JlYXRlUGF0aCB9O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuXG52YXIgTUFYX1NJR05FRF8zMV9CSVRfSU5UID0gMTA3Mzc0MTgyMztcbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDoge307XG5cbmZ1bmN0aW9uIGdldFVuaXF1ZUlkKCkge1xuICB2YXIga2V5ID0gJ19fZ2xvYmFsX3VuaXF1ZV9pZF9fJztcbiAgcmV0dXJuIGNvbW1vbmpzR2xvYmFsW2tleV0gPSAoY29tbW9uanNHbG9iYWxba2V5XSB8fCAwKSArIDE7XG59XG5cbmZ1bmN0aW9uIG9iamVjdElzKHgsIHkpIHtcbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEVtaXR0ZXIodmFsdWUpIHtcbiAgdmFyIGhhbmRsZXJzID0gW107XG4gIHJldHVybiB7XG4gICAgb246IGZ1bmN0aW9uIG9uKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgfSxcbiAgICBvZmY6IGZ1bmN0aW9uIG9mZihoYW5kbGVyKSB7XG4gICAgICBoYW5kbGVycyA9IGhhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICByZXR1cm4gaCAhPT0gaGFuZGxlcjtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWx1ZSwgY2hhbmdlZEJpdHMpIHtcbiAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICBoYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKHZhbHVlLCBjaGFuZ2VkQml0cyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZWFjdENvbnRleHQoZGVmYXVsdFZhbHVlLCBjYWxjdWxhdGVDaGFuZ2VkQml0cykge1xuICB2YXIgX1Byb3ZpZGVyJGNoaWxkQ29udGV4LCBfQ29uc3VtZXIkY29udGV4dFR5cGU7XG5cbiAgdmFyIGNvbnRleHRQcm9wID0gJ19fY3JlYXRlLXJlYWN0LWNvbnRleHQtJyArIGdldFVuaXF1ZUlkKCkgKyAnX18nO1xuXG4gIHZhciBQcm92aWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuZW1pdHRlciA9IGNyZWF0ZUV2ZW50RW1pdHRlcihfdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFByb3ZpZGVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltjb250ZXh0UHJvcF0gPSB0aGlzLmVtaXR0ZXIsIF9yZWY7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gbmV4dFByb3BzLnZhbHVlO1xuICAgICAgICB2YXIgY2hhbmdlZEJpdHM7XG5cbiAgICAgICAgaWYgKG9iamVjdElzKG9sZFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPSB0eXBlb2YgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09ICdmdW5jdGlvbicgPyBjYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoKGNoYW5nZWRCaXRzICYgTUFYX1NJR05FRF8zMV9CSVRfSU5UKSA9PT0gY2hhbmdlZEJpdHMsICdjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhICcgKyAnMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICcgKyBjaGFuZ2VkQml0cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbmdlZEJpdHMgfD0gMDtcblxuICAgICAgICAgIGlmIChjaGFuZ2VkQml0cyAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLnNldChuZXh0UHJvcHMudmFsdWUsIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvdmlkZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IChfUHJvdmlkZXIkY2hpbGRDb250ZXggPSB7fSwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4W2NvbnRleHRQcm9wXSA9IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4KTtcblxuICB2YXIgQ29uc3VtZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQ29uc3VtZXIsIF9Db21wb25lbnQyKTtcblxuICAgIGZ1bmN0aW9uIENvbnN1bWVyKCkge1xuICAgICAgdmFyIF90aGlzMjtcblxuICAgICAgX3RoaXMyID0gX0NvbXBvbmVudDIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgX3RoaXMyLnN0YXRlID0ge1xuICAgICAgICB2YWx1ZTogX3RoaXMyLmdldFZhbHVlKClcbiAgICAgIH07XG5cbiAgICAgIF90aGlzMi5vblVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZSwgY2hhbmdlZEJpdHMpIHtcbiAgICAgICAgdmFyIG9ic2VydmVkQml0cyA9IF90aGlzMi5vYnNlcnZlZEJpdHMgfCAwO1xuXG4gICAgICAgIGlmICgob2JzZXJ2ZWRCaXRzICYgY2hhbmdlZEJpdHMpICE9PSAwKSB7XG4gICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHZhbHVlOiBfdGhpczIuZ2V0VmFsdWUoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8yID0gQ29uc3VtZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvMi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSBuZXh0UHJvcHMub2JzZXJ2ZWRCaXRzO1xuICAgICAgdGhpcy5vYnNlcnZlZEJpdHMgPSBvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwgPyBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgOiBvYnNlcnZlZEJpdHM7XG4gICAgfTtcblxuICAgIF9wcm90bzIuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRbY29udGV4dFByb3BdKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0ub24odGhpcy5vblVwZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSB0aGlzLnByb3BzLm9ic2VydmVkQml0cztcbiAgICAgIHRoaXMub2JzZXJ2ZWRCaXRzID0gb2JzZXJ2ZWRCaXRzID09PSB1bmRlZmluZWQgfHwgb2JzZXJ2ZWRCaXRzID09PSBudWxsID8gTUFYX1NJR05FRF8zMV9CSVRfSU5UIDogb2JzZXJ2ZWRCaXRzO1xuICAgIH07XG5cbiAgICBfcHJvdG8yLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXSkge1xuICAgICAgICB0aGlzLmNvbnRleHRbY29udGV4dFByb3BdLm9mZih0aGlzLm9uVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvMi5nZXRWYWx1ZSA9IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0uZ2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8yLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBvbmx5Q2hpbGQodGhpcy5wcm9wcy5jaGlsZHJlbikodGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBDb25zdW1lcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIENvbnN1bWVyLmNvbnRleHRUeXBlcyA9IChfQ29uc3VtZXIkY29udGV4dFR5cGUgPSB7fSwgX0NvbnN1bWVyJGNvbnRleHRUeXBlW2NvbnRleHRQcm9wXSA9IFByb3BUeXBlcy5vYmplY3QsIF9Db25zdW1lciRjb250ZXh0VHlwZSk7XG4gIHJldHVybiB7XG4gICAgUHJvdmlkZXI6IFByb3ZpZGVyLFxuICAgIENvbnN1bWVyOiBDb25zdW1lclxuICB9O1xufVxuXG52YXIgaW5kZXggPSBSZWFjdC5jcmVhdGVDb250ZXh0IHx8IGNyZWF0ZVJlYWN0Q29udGV4dDtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJ2YXIgaXNhcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucyksIG9wdGlvbnMpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zLCBvcHRpb25zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcsIGZsYWdzKG9wdGlvbnMpKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG4gICAgdmFyIHBhdGggPSAnJ1xuICAgIHZhciBkYXRhID0gb2JqIHx8IHt9XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzIHx8IHt9XG4gICAgdmFyIGVuY29kZSA9IG9wdGlvbnMucHJldHR5ID8gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IDogZW5jb2RlVVJJQ29tcG9uZW50XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggKz0gdG9rZW5cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUgPSBkYXRhW3Rva2VuLm5hbWVdXG4gICAgICB2YXIgc2VnbWVudFxuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAvLyBQcmVwZW5kIHBhcnRpYWwgc2VnbWVudCBwcmVmaXhlcy5cbiAgICAgICAgICBpZiAodG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXhcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gYmUgZGVmaW5lZCcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzYXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICghdG9rZW4ucmVwZWF0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgcmVwZWF0LCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnYCcpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCBiZSBlbXB0eScpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHNlZ21lbnQgPSBlbmNvZGUodmFsdWVbal0pXG5cbiAgICAgICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYWxsIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkgKyAnYCcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGF0aCArPSAoaiA9PT0gMCA/IHRva2VuLnByZWZpeCA6IHRva2VuLmRlbGltaXRlcikgKyBzZWdtZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBzZWdtZW50ID0gdG9rZW4uYXN0ZXJpc2sgPyBlbmNvZGVBc3Rlcmlzayh2YWx1ZSkgOiBlbmNvZGUodmFsdWUpXG5cbiAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIFwiJyArIHNlZ21lbnQgKyAnXCInKVxuICAgICAgfVxuXG4gICAgICBwYXRoICs9IHRva2VuLnByZWZpeCArIHNlZ21lbnRcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aFxuICB9XG59XG5cbi8qKlxuICogRXNjYXBlIGEgcmVndWxhciBleHByZXNzaW9uIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18XFwvXFxcXF0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEVzY2FwZSB0aGUgY2FwdHVyaW5nIGdyb3VwIGJ5IGVzY2FwaW5nIHNwZWNpYWwgY2hhcmFjdGVycyBhbmQgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUdyb3VwIChncm91cCkge1xuICByZXR1cm4gZ3JvdXAucmVwbGFjZSgvKFs9ITokXFwvKCldKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBBdHRhY2ggdGhlIGtleXMgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHJlXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhdHRhY2hLZXlzIChyZSwga2V5cykge1xuICByZS5rZXlzID0ga2V5c1xuICByZXR1cm4gcmVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZsYWdzIGZvciBhIHJlZ2V4cCBmcm9tIHRoZSBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBmbGFncyAob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuIiwiaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVMb2NhdGlvbiwgbG9jYXRpb25zQXJlRXF1YWwsIGNyZWF0ZVBhdGggfSBmcm9tICdoaXN0b3J5JztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgY3JlYXRlQ29udGV4dCBmcm9tICdtaW5pLWNyZWF0ZS1yZWFjdC1jb250ZXh0JztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAndGlueS1pbnZhcmlhbnQnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHBhdGhUb1JlZ2V4cCBmcm9tICdwYXRoLXRvLXJlZ2V4cCc7XG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudFR5cGUgfSBmcm9tICdyZWFjdC1pcyc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSc7XG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcblxuLy8gVE9ETzogUmVwbGFjZSB3aXRoIFJlYWN0LmNyZWF0ZUNvbnRleHQgb25jZSB3ZSBjYW4gYXNzdW1lIFJlYWN0IDE2K1xuXG52YXIgY3JlYXRlTmFtZWRDb250ZXh0ID0gZnVuY3Rpb24gY3JlYXRlTmFtZWRDb250ZXh0KG5hbWUpIHtcbiAgdmFyIGNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG4gIGNvbnRleHQuZGlzcGxheU5hbWUgPSBuYW1lO1xuICByZXR1cm4gY29udGV4dDtcbn07XG5cbnZhciBoaXN0b3J5Q29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVOYW1lZENvbnRleHQoXCJSb3V0ZXItSGlzdG9yeVwiKTtcblxudmFyIGNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlTmFtZWRDb250ZXh0KFwiUm91dGVyXCIpO1xuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBwdXR0aW5nIGhpc3Rvcnkgb24gY29udGV4dC5cbiAqL1xuXG52YXIgUm91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgUm91dGVyLmNvbXB1dGVSb290TWF0Y2ggPSBmdW5jdGlvbiBjb21wdXRlUm9vdE1hdGNoKHBhdGhuYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgdXJsOiBcIi9cIixcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBpc0V4YWN0OiBwYXRobmFtZSA9PT0gXCIvXCJcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIFJvdXRlcihwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgbG9jYXRpb246IHByb3BzLmhpc3RvcnkubG9jYXRpb25cbiAgICB9OyAvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjay4gV2UgaGF2ZSB0byBzdGFydCBsaXN0ZW5pbmcgZm9yIGxvY2F0aW9uXG4gICAgLy8gY2hhbmdlcyBoZXJlIGluIHRoZSBjb25zdHJ1Y3RvciBpbiBjYXNlIHRoZXJlIGFyZSBhbnkgPFJlZGlyZWN0PnNcbiAgICAvLyBvbiB0aGUgaW5pdGlhbCByZW5kZXIuIElmIHRoZXJlIGFyZSwgdGhleSB3aWxsIHJlcGxhY2UvcHVzaCB3aGVuXG4gICAgLy8gdGhleSBtb3VudCBhbmQgc2luY2UgY0RNIGZpcmVzIGluIGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLCB3ZSBtYXlcbiAgICAvLyBnZXQgYSBuZXcgbG9jYXRpb24gYmVmb3JlIHRoZSA8Um91dGVyPiBpcyBtb3VudGVkLlxuXG4gICAgX3RoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIF90aGlzLl9wZW5kaW5nTG9jYXRpb24gPSBudWxsO1xuXG4gICAgaWYgKCFwcm9wcy5zdGF0aWNDb250ZXh0KSB7XG4gICAgICBfdGhpcy51bmxpc3RlbiA9IHByb3BzLmhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICBpZiAoX3RoaXMuX2lzTW91bnRlZCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLl9wZW5kaW5nTG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJvdXRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9wZW5kaW5nTG9jYXRpb24pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBsb2NhdGlvbjogdGhpcy5fcGVuZGluZ0xvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMudW5saXN0ZW4pIHtcbiAgICAgIHRoaXMudW5saXN0ZW4oKTtcbiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxuICAgICAgICBsb2NhdGlvbjogdGhpcy5zdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgbWF0Y2g6IFJvdXRlci5jb21wdXRlUm9vdE1hdGNoKHRoaXMuc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpLFxuICAgICAgICBzdGF0aWNDb250ZXh0OiB0aGlzLnByb3BzLnN0YXRpY0NvbnRleHRcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChoaXN0b3J5Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW4gfHwgbnVsbCxcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLmhpc3RvcnlcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIFJvdXRlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBSb3V0ZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBoaXN0b3J5OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc3RhdGljQ29udGV4dDogUHJvcFR5cGVzLm9iamVjdFxuICB9O1xuXG4gIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcocHJldlByb3BzLmhpc3RvcnkgPT09IHRoaXMucHJvcHMuaGlzdG9yeSwgXCJZb3UgY2Fubm90IGNoYW5nZSA8Um91dGVyIGhpc3Rvcnk+XCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgc3RvcmVzIGxvY2F0aW9uIGluIG1lbW9yeS5cbiAqL1xuXG52YXIgTWVtb3J5Um91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKE1lbW9yeVJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWVtb3J5Um91dGVyKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLmhpc3RvcnkgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KF90aGlzLnByb3BzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTWVtb3J5Um91dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIHtcbiAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIE1lbW9yeVJvdXRlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBNZW1vcnlSb3V0ZXIucHJvcFR5cGVzID0ge1xuICAgIGluaXRpYWxFbnRyaWVzOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgaW5pdGlhbEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGdldFVzZXJDb25maXJtYXRpb246IFByb3BUeXBlcy5mdW5jLFxuICAgIGtleUxlbmd0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGVcbiAgfTtcblxuICBNZW1vcnlSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8TWVtb3J5Um91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgTWVtb3J5Um91dGVyIGFzIFJvdXRlciB9YC5cIikgOiB2b2lkIDA7XG4gIH07XG59XG5cbnZhciBMaWZlY3ljbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoTGlmZWN5Y2xlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaWZlY3ljbGUoKSB7XG4gICAgcmV0dXJuIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IExpZmVjeWNsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Nb3VudCkgdGhpcy5wcm9wcy5vbk1vdW50LmNhbGwodGhpcywgdGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkgdGhpcy5wcm9wcy5vblVwZGF0ZS5jYWxsKHRoaXMsIHRoaXMsIHByZXZQcm9wcyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Vbm1vdW50KSB0aGlzLnByb3BzLm9uVW5tb3VudC5jYWxsKHRoaXMsIHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIExpZmVjeWNsZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcHJvbXB0aW5nIHRoZSB1c2VyIGJlZm9yZSBuYXZpZ2F0aW5nIGF3YXkgZnJvbSBhIHNjcmVlbi5cbiAqL1xuXG5mdW5jdGlvbiBQcm9tcHQoX3JlZikge1xuICB2YXIgbWVzc2FnZSA9IF9yZWYubWVzc2FnZSxcbiAgICAgIF9yZWYkd2hlbiA9IF9yZWYud2hlbixcbiAgICAgIHdoZW4gPSBfcmVmJHdoZW4gPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHdoZW47XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8UHJvbXB0PiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmICghd2hlbiB8fCBjb250ZXh0LnN0YXRpY0NvbnRleHQpIHJldHVybiBudWxsO1xuICAgIHZhciBtZXRob2QgPSBjb250ZXh0Lmhpc3RvcnkuYmxvY2s7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpZmVjeWNsZSwge1xuICAgICAgb25Nb3VudDogZnVuY3Rpb24gb25Nb3VudChzZWxmKSB7XG4gICAgICAgIHNlbGYucmVsZWFzZSA9IG1ldGhvZChtZXNzYWdlKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoc2VsZiwgcHJldlByb3BzKSB7XG4gICAgICAgIGlmIChwcmV2UHJvcHMubWVzc2FnZSAhPT0gbWVzc2FnZSkge1xuICAgICAgICAgIHNlbGYucmVsZWFzZSgpO1xuICAgICAgICAgIHNlbGYucmVsZWFzZSA9IG1ldGhvZChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudDogZnVuY3Rpb24gb25Vbm1vdW50KHNlbGYpIHtcbiAgICAgICAgc2VsZi5yZWxlYXNlKCk7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgIH0pO1xuICB9KTtcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICB2YXIgbWVzc2FnZVR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLnN0cmluZ10pO1xuICBQcm9tcHQucHJvcFR5cGVzID0ge1xuICAgIHdoZW46IFByb3BUeXBlcy5ib29sLFxuICAgIG1lc3NhZ2U6IG1lc3NhZ2VUeXBlLmlzUmVxdWlyZWRcbiAgfTtcbn1cblxudmFyIGNhY2hlID0ge307XG52YXIgY2FjaGVMaW1pdCA9IDEwMDAwO1xudmFyIGNhY2hlQ291bnQgPSAwO1xuXG5mdW5jdGlvbiBjb21waWxlUGF0aChwYXRoKSB7XG4gIGlmIChjYWNoZVtwYXRoXSkgcmV0dXJuIGNhY2hlW3BhdGhdO1xuICB2YXIgZ2VuZXJhdG9yID0gcGF0aFRvUmVnZXhwLmNvbXBpbGUocGF0aCk7XG5cbiAgaWYgKGNhY2hlQ291bnQgPCBjYWNoZUxpbWl0KSB7XG4gICAgY2FjaGVbcGF0aF0gPSBnZW5lcmF0b3I7XG4gICAgY2FjaGVDb3VudCsrO1xuICB9XG5cbiAgcmV0dXJuIGdlbmVyYXRvcjtcbn1cbi8qKlxuICogUHVibGljIEFQSSBmb3IgZ2VuZXJhdGluZyBhIFVSTCBwYXRobmFtZSBmcm9tIGEgcGF0aCBhbmQgcGFyYW1ldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGF0aChwYXRoLCBwYXJhbXMpIHtcbiAgaWYgKHBhdGggPT09IHZvaWQgMCkge1xuICAgIHBhdGggPSBcIi9cIjtcbiAgfVxuXG4gIGlmIChwYXJhbXMgPT09IHZvaWQgMCkge1xuICAgIHBhcmFtcyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIHBhdGggPT09IFwiL1wiID8gcGF0aCA6IGNvbXBpbGVQYXRoKHBhdGgpKHBhcmFtcywge1xuICAgIHByZXR0eTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgbmF2aWdhdGluZyBwcm9ncmFtbWF0aWNhbGx5IHdpdGggYSBjb21wb25lbnQuXG4gKi9cblxuZnVuY3Rpb24gUmVkaXJlY3QoX3JlZikge1xuICB2YXIgY29tcHV0ZWRNYXRjaCA9IF9yZWYuY29tcHV0ZWRNYXRjaCxcbiAgICAgIHRvID0gX3JlZi50byxcbiAgICAgIF9yZWYkcHVzaCA9IF9yZWYucHVzaCxcbiAgICAgIHB1c2ggPSBfcmVmJHB1c2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRwdXNoO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAhY29udGV4dCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJlZGlyZWN0PiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBoaXN0b3J5ID0gY29udGV4dC5oaXN0b3J5LFxuICAgICAgICBzdGF0aWNDb250ZXh0ID0gY29udGV4dC5zdGF0aWNDb250ZXh0O1xuICAgIHZhciBtZXRob2QgPSBwdXNoID8gaGlzdG9yeS5wdXNoIDogaGlzdG9yeS5yZXBsYWNlO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGNvbXB1dGVkTWF0Y2ggPyB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBnZW5lcmF0ZVBhdGgodG8sIGNvbXB1dGVkTWF0Y2gucGFyYW1zKSA6IF9leHRlbmRzKHt9LCB0bywge1xuICAgICAgcGF0aG5hbWU6IGdlbmVyYXRlUGF0aCh0by5wYXRobmFtZSwgY29tcHV0ZWRNYXRjaC5wYXJhbXMpXG4gICAgfSkgOiB0byk7IC8vIFdoZW4gcmVuZGVyaW5nIGluIGEgc3RhdGljIGNvbnRleHQsXG4gICAgLy8gc2V0IHRoZSBuZXcgbG9jYXRpb24gaW1tZWRpYXRlbHkuXG5cbiAgICBpZiAoc3RhdGljQ29udGV4dCkge1xuICAgICAgbWV0aG9kKGxvY2F0aW9uKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaWZlY3ljbGUsIHtcbiAgICAgIG9uTW91bnQ6IGZ1bmN0aW9uIG9uTW91bnQoKSB7XG4gICAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICB9LFxuICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uIG9uVXBkYXRlKHNlbGYsIHByZXZQcm9wcykge1xuICAgICAgICB2YXIgcHJldkxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocHJldlByb3BzLnRvKTtcblxuICAgICAgICBpZiAoIWxvY2F0aW9uc0FyZUVxdWFsKHByZXZMb2NhdGlvbiwgX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG4gICAgICAgICAga2V5OiBwcmV2TG9jYXRpb24ua2V5XG4gICAgICAgIH0pKSkge1xuICAgICAgICAgIG1ldGhvZChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0bzogdG9cbiAgICB9KTtcbiAgfSk7XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgUmVkaXJlY3QucHJvcFR5cGVzID0ge1xuICAgIHB1c2g6IFByb3BUeXBlcy5ib29sLFxuICAgIGZyb206IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdG86IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkXG4gIH07XG59XG5cbnZhciBjYWNoZSQxID0ge307XG52YXIgY2FjaGVMaW1pdCQxID0gMTAwMDA7XG52YXIgY2FjaGVDb3VudCQxID0gMDtcblxuZnVuY3Rpb24gY29tcGlsZVBhdGgkMShwYXRoLCBvcHRpb25zKSB7XG4gIHZhciBjYWNoZUtleSA9IFwiXCIgKyBvcHRpb25zLmVuZCArIG9wdGlvbnMuc3RyaWN0ICsgb3B0aW9ucy5zZW5zaXRpdmU7XG4gIHZhciBwYXRoQ2FjaGUgPSBjYWNoZSQxW2NhY2hlS2V5XSB8fCAoY2FjaGUkMVtjYWNoZUtleV0gPSB7fSk7XG4gIGlmIChwYXRoQ2FjaGVbcGF0aF0pIHJldHVybiBwYXRoQ2FjaGVbcGF0aF07XG4gIHZhciBrZXlzID0gW107XG4gIHZhciByZWdleHAgPSBwYXRoVG9SZWdleHAocGF0aCwga2V5cywgb3B0aW9ucyk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgcmVnZXhwOiByZWdleHAsXG4gICAga2V5czoga2V5c1xuICB9O1xuXG4gIGlmIChjYWNoZUNvdW50JDEgPCBjYWNoZUxpbWl0JDEpIHtcbiAgICBwYXRoQ2FjaGVbcGF0aF0gPSByZXN1bHQ7XG4gICAgY2FjaGVDb3VudCQxKys7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBQdWJsaWMgQVBJIGZvciBtYXRjaGluZyBhIFVSTCBwYXRobmFtZSB0byBhIHBhdGguXG4gKi9cblxuXG5mdW5jdGlvbiBtYXRjaFBhdGgocGF0aG5hbWUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHBhdGg6IG9wdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIHBhdGggPSBfb3B0aW9ucy5wYXRoLFxuICAgICAgX29wdGlvbnMkZXhhY3QgPSBfb3B0aW9ucy5leGFjdCxcbiAgICAgIGV4YWN0ID0gX29wdGlvbnMkZXhhY3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkZXhhY3QsXG4gICAgICBfb3B0aW9ucyRzdHJpY3QgPSBfb3B0aW9ucy5zdHJpY3QsXG4gICAgICBzdHJpY3QgPSBfb3B0aW9ucyRzdHJpY3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkc3RyaWN0LFxuICAgICAgX29wdGlvbnMkc2Vuc2l0aXZlID0gX29wdGlvbnMuc2Vuc2l0aXZlLFxuICAgICAgc2Vuc2l0aXZlID0gX29wdGlvbnMkc2Vuc2l0aXZlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHNlbnNpdGl2ZTtcbiAgdmFyIHBhdGhzID0gW10uY29uY2F0KHBhdGgpO1xuICByZXR1cm4gcGF0aHMucmVkdWNlKGZ1bmN0aW9uIChtYXRjaGVkLCBwYXRoKSB7XG4gICAgaWYgKCFwYXRoICYmIHBhdGggIT09IFwiXCIpIHJldHVybiBudWxsO1xuICAgIGlmIChtYXRjaGVkKSByZXR1cm4gbWF0Y2hlZDtcblxuICAgIHZhciBfY29tcGlsZVBhdGggPSBjb21waWxlUGF0aCQxKHBhdGgsIHtcbiAgICAgIGVuZDogZXhhY3QsXG4gICAgICBzdHJpY3Q6IHN0cmljdCxcbiAgICAgIHNlbnNpdGl2ZTogc2Vuc2l0aXZlXG4gICAgfSksXG4gICAgICAgIHJlZ2V4cCA9IF9jb21waWxlUGF0aC5yZWdleHAsXG4gICAgICAgIGtleXMgPSBfY29tcGlsZVBhdGgua2V5cztcblxuICAgIHZhciBtYXRjaCA9IHJlZ2V4cC5leGVjKHBhdGhuYW1lKTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgdXJsID0gbWF0Y2hbMF0sXG4gICAgICAgIHZhbHVlcyA9IG1hdGNoLnNsaWNlKDEpO1xuICAgIHZhciBpc0V4YWN0ID0gcGF0aG5hbWUgPT09IHVybDtcbiAgICBpZiAoZXhhY3QgJiYgIWlzRXhhY3QpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiBwYXRoLFxuICAgICAgLy8gdGhlIHBhdGggdXNlZCB0byBtYXRjaFxuICAgICAgdXJsOiBwYXRoID09PSBcIi9cIiAmJiB1cmwgPT09IFwiXCIgPyBcIi9cIiA6IHVybCxcbiAgICAgIC8vIHRoZSBtYXRjaGVkIHBvcnRpb24gb2YgdGhlIFVSTFxuICAgICAgaXNFeGFjdDogaXNFeGFjdCxcbiAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHdlIG1hdGNoZWQgZXhhY3RseVxuICAgICAgcGFyYW1zOiBrZXlzLnJlZHVjZShmdW5jdGlvbiAobWVtbywga2V5LCBpbmRleCkge1xuICAgICAgICBtZW1vW2tleS5uYW1lXSA9IHZhbHVlc1tpbmRleF07XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwge30pXG4gICAgfTtcbiAgfSwgbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHlDaGlsZHJlbihjaGlsZHJlbikge1xuICByZXR1cm4gUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID09PSAwO1xufVxuXG5mdW5jdGlvbiBldmFsQ2hpbGRyZW5EZXYoY2hpbGRyZW4sIHByb3BzLCBwYXRoKSB7XG4gIHZhciB2YWx1ZSA9IGNoaWxkcmVuKHByb3BzKTtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyh2YWx1ZSAhPT0gdW5kZWZpbmVkLCBcIllvdSByZXR1cm5lZCBgdW5kZWZpbmVkYCBmcm9tIHRoZSBgY2hpbGRyZW5gIGZ1bmN0aW9uIG9mIFwiICsgKFwiPFJvdXRlXCIgKyAocGF0aCA/IFwiIHBhdGg9XFxcIlwiICsgcGF0aCArIFwiXFxcIlwiIDogXCJcIikgKyBcIj4sIGJ1dCB5b3UgXCIpICsgXCJzaG91bGQgaGF2ZSByZXR1cm5lZCBhIFJlYWN0IGVsZW1lbnQgb3IgYG51bGxgXCIpIDogdm9pZCAwO1xuICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcbn1cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIG1hdGNoaW5nIGEgc2luZ2xlIHBhdGggYW5kIHJlbmRlcmluZy5cbiAqL1xuXG5cbnZhciBSb3V0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSb3V0ZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUm91dGUoKSB7XG4gICAgcmV0dXJuIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJvdXRlLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQkMSkge1xuICAgICAgIWNvbnRleHQkMSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlPiBvdXRzaWRlIGEgPFJvdXRlcj5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGxvY2F0aW9uID0gX3RoaXMucHJvcHMubG9jYXRpb24gfHwgY29udGV4dCQxLmxvY2F0aW9uO1xuICAgICAgdmFyIG1hdGNoID0gX3RoaXMucHJvcHMuY29tcHV0ZWRNYXRjaCA/IF90aGlzLnByb3BzLmNvbXB1dGVkTWF0Y2ggLy8gPFN3aXRjaD4gYWxyZWFkeSBjb21wdXRlZCB0aGUgbWF0Y2ggZm9yIHVzXG4gICAgICA6IF90aGlzLnByb3BzLnBhdGggPyBtYXRjaFBhdGgobG9jYXRpb24ucGF0aG5hbWUsIF90aGlzLnByb3BzKSA6IGNvbnRleHQkMS5tYXRjaDtcblxuICAgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIGNvbnRleHQkMSwge1xuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIG1hdGNoOiBtYXRjaFxuICAgICAgfSk7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50LFxuICAgICAgICAgIHJlbmRlciA9IF90aGlzJHByb3BzLnJlbmRlcjsgLy8gUHJlYWN0IHVzZXMgYW4gZW1wdHkgYXJyYXkgYXMgY2hpbGRyZW4gYnlcbiAgICAgIC8vIGRlZmF1bHQsIHNvIHVzZSBudWxsIGlmIHRoYXQncyB0aGUgY2FzZS5cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmIGlzRW1wdHlDaGlsZHJlbihjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogcHJvcHNcbiAgICAgIH0sIHByb3BzLm1hdGNoID8gY2hpbGRyZW4gPyB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGV2YWxDaGlsZHJlbkRldihjaGlsZHJlbiwgcHJvcHMsIF90aGlzLnByb3BzLnBhdGgpIDogY2hpbGRyZW4ocHJvcHMpIDogY2hpbGRyZW4gOiBjb21wb25lbnQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKSA6IHJlbmRlciA/IHJlbmRlcihwcm9wcykgOiBudWxsIDogdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBldmFsQ2hpbGRyZW5EZXYoY2hpbGRyZW4sIHByb3BzLCBfdGhpcy5wcm9wcy5wYXRoKSA6IGNoaWxkcmVuKHByb3BzKSA6IG51bGwpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBSb3V0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBSb3V0ZS5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLFxuICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHByb3BzLCBwcm9wTmFtZSkge1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSAmJiAhaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIkludmFsaWQgcHJvcCAnY29tcG9uZW50JyBzdXBwbGllZCB0byAnUm91dGUnOiB0aGUgcHJvcCBpcyBub3QgYSB2YWxpZCBSZWFjdCBjb21wb25lbnRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICBleGFjdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gICAgcGF0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyldKSxcbiAgICByZW5kZXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIHNlbnNpdGl2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgc3RyaWN0OiBQcm9wVHlwZXMuYm9vbFxuICB9O1xuXG4gIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pICYmIHRoaXMucHJvcHMuY29tcG9uZW50KSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIGNvbXBvbmVudD4gYW5kIDxSb3V0ZSBjaGlsZHJlbj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSBjb21wb25lbnQ+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pICYmIHRoaXMucHJvcHMucmVuZGVyKSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIHJlbmRlcj4gYW5kIDxSb3V0ZSBjaGlsZHJlbj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSByZW5kZXI+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodGhpcy5wcm9wcy5jb21wb25lbnQgJiYgdGhpcy5wcm9wcy5yZW5kZXIpLCBcIllvdSBzaG91bGQgbm90IHVzZSA8Um91dGUgY29tcG9uZW50PiBhbmQgPFJvdXRlIHJlbmRlcj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSByZW5kZXI+IHdpbGwgYmUgaWdub3JlZFwiKSA6IHZvaWQgMDtcbiAgfTtcblxuICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmxvY2F0aW9uICYmICFwcmV2UHJvcHMubG9jYXRpb24pLCAnPFJvdXRlPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IGluaXRpYWxseSB1c2VkIG5vIFwibG9jYXRpb25cIiBwcm9wIGFuZCB0aGVuIHByb3ZpZGVkIG9uZSBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpIDogdm9pZCAwO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISghdGhpcy5wcm9wcy5sb2NhdGlvbiAmJiBwcmV2UHJvcHMubG9jYXRpb24pLCAnPFJvdXRlPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IHByb3ZpZGVkIGEgXCJsb2NhdGlvblwiIHByb3AgaW5pdGlhbGx5IGJ1dCBvbWl0dGVkIGl0IG9uIGEgc3Vic2VxdWVudCByZW5kZXIuJykgOiB2b2lkIDA7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gXCIvXCIgPyBwYXRoIDogXCIvXCIgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBhZGRCYXNlbmFtZShiYXNlbmFtZSwgbG9jYXRpb24pIHtcbiAgaWYgKCFiYXNlbmFtZSkgcmV0dXJuIGxvY2F0aW9uO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XG4gICAgcGF0aG5hbWU6IGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSkgKyBsb2NhdGlvbi5wYXRobmFtZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShiYXNlbmFtZSwgbG9jYXRpb24pIHtcbiAgaWYgKCFiYXNlbmFtZSkgcmV0dXJuIGxvY2F0aW9uO1xuICB2YXIgYmFzZSA9IGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSk7XG4gIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKGJhc2UpICE9PSAwKSByZXR1cm4gbG9jYXRpb247XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHtcbiAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKGJhc2UubGVuZ3RoKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVJMKGxvY2F0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBsb2NhdGlvbiA6IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xufVxuXG5mdW5jdGlvbiBzdGF0aWNIYW5kbGVyKG1ldGhvZE5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBjYW5ub3QgJXMgd2l0aCA8U3RhdGljUm91dGVyPlwiLCBtZXRob2ROYW1lKSA6IGludmFyaWFudChmYWxzZSkgO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cbi8qKlxuICogVGhlIHB1YmxpYyB0b3AtbGV2ZWwgQVBJIGZvciBhIFwic3RhdGljXCIgPFJvdXRlcj4sIHNvLWNhbGxlZCBiZWNhdXNlIGl0XG4gKiBjYW4ndCBhY3R1YWxseSBjaGFuZ2UgdGhlIGN1cnJlbnQgbG9jYXRpb24uIEluc3RlYWQsIGl0IGp1c3QgcmVjb3Jkc1xuICogbG9jYXRpb24gY2hhbmdlcyBpbiBhIGNvbnRleHQgb2JqZWN0LiBVc2VmdWwgbWFpbmx5IGluIHRlc3RpbmcgYW5kXG4gKiBzZXJ2ZXItcmVuZGVyaW5nIHNjZW5hcmlvcy5cbiAqL1xuXG5cbnZhciBTdGF0aWNSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoU3RhdGljUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTdGF0aWNSb3V0ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG5cbiAgICBfdGhpcy5oYW5kbGVQdXNoID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gX3RoaXMubmF2aWdhdGVUbyhsb2NhdGlvbiwgXCJQVVNIXCIpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVSZXBsYWNlID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gX3RoaXMubmF2aWdhdGVUbyhsb2NhdGlvbiwgXCJSRVBMQUNFXCIpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVMaXN0ZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbm9vcDtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbm9vcDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN0YXRpY1JvdXRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLm5hdmlnYXRlVG8gPSBmdW5jdGlvbiBuYXZpZ2F0ZVRvKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBfdGhpcyRwcm9wcyRiYXNlbmFtZSA9IF90aGlzJHByb3BzLmJhc2VuYW1lLFxuICAgICAgICBiYXNlbmFtZSA9IF90aGlzJHByb3BzJGJhc2VuYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3RoaXMkcHJvcHMkYmFzZW5hbWUsXG4gICAgICAgIF90aGlzJHByb3BzJGNvbnRleHQgPSBfdGhpcyRwcm9wcy5jb250ZXh0LFxuICAgICAgICBjb250ZXh0ID0gX3RoaXMkcHJvcHMkY29udGV4dCA9PT0gdm9pZCAwID8ge30gOiBfdGhpcyRwcm9wcyRjb250ZXh0O1xuICAgIGNvbnRleHQuYWN0aW9uID0gYWN0aW9uO1xuICAgIGNvbnRleHQubG9jYXRpb24gPSBhZGRCYXNlbmFtZShiYXNlbmFtZSwgY3JlYXRlTG9jYXRpb24obG9jYXRpb24pKTtcbiAgICBjb250ZXh0LnVybCA9IGNyZWF0ZVVSTChjb250ZXh0LmxvY2F0aW9uKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBfdGhpcyRwcm9wczIkYmFzZW5hbWUgPSBfdGhpcyRwcm9wczIuYmFzZW5hbWUsXG4gICAgICAgIGJhc2VuYW1lID0gX3RoaXMkcHJvcHMyJGJhc2VuYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3RoaXMkcHJvcHMyJGJhc2VuYW1lLFxuICAgICAgICBfdGhpcyRwcm9wczIkY29udGV4dCA9IF90aGlzJHByb3BzMi5jb250ZXh0LFxuICAgICAgICBjb250ZXh0ID0gX3RoaXMkcHJvcHMyJGNvbnRleHQgPT09IHZvaWQgMCA/IHt9IDogX3RoaXMkcHJvcHMyJGNvbnRleHQsXG4gICAgICAgIF90aGlzJHByb3BzMiRsb2NhdGlvbiA9IF90aGlzJHByb3BzMi5sb2NhdGlvbixcbiAgICAgICAgbG9jYXRpb24gPSBfdGhpcyRwcm9wczIkbG9jYXRpb24gPT09IHZvaWQgMCA/IFwiL1wiIDogX3RoaXMkcHJvcHMyJGxvY2F0aW9uLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMyLCBbXCJiYXNlbmFtZVwiLCBcImNvbnRleHRcIiwgXCJsb2NhdGlvblwiXSk7XG5cbiAgICB2YXIgaGlzdG9yeSA9IHtcbiAgICAgIGNyZWF0ZUhyZWY6IGZ1bmN0aW9uIGNyZWF0ZUhyZWYocGF0aCkge1xuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1NsYXNoKGJhc2VuYW1lICsgY3JlYXRlVVJMKHBhdGgpKTtcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IFwiUE9QXCIsXG4gICAgICBsb2NhdGlvbjogc3RyaXBCYXNlbmFtZShiYXNlbmFtZSwgY3JlYXRlTG9jYXRpb24obG9jYXRpb24pKSxcbiAgICAgIHB1c2g6IHRoaXMuaGFuZGxlUHVzaCxcbiAgICAgIHJlcGxhY2U6IHRoaXMuaGFuZGxlUmVwbGFjZSxcbiAgICAgIGdvOiBzdGF0aWNIYW5kbGVyKFwiZ29cIiksXG4gICAgICBnb0JhY2s6IHN0YXRpY0hhbmRsZXIoXCJnb0JhY2tcIiksXG4gICAgICBnb0ZvcndhcmQ6IHN0YXRpY0hhbmRsZXIoXCJnb0ZvcndhcmRcIiksXG4gICAgICBsaXN0ZW46IHRoaXMuaGFuZGxlTGlzdGVuLFxuICAgICAgYmxvY2s6IHRoaXMuaGFuZGxlQmxvY2tcbiAgICB9O1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuICAgICAgc3RhdGljQ29udGV4dDogY29udGV4dFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gU3RhdGljUm91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFN0YXRpY1JvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZW5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29udGV4dDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pXG4gIH07XG5cbiAgU3RhdGljUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCF0aGlzLnByb3BzLmhpc3RvcnksIFwiPFN0YXRpY1JvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgXCIgKyBcInVzZSBgaW1wb3J0IHsgUm91dGVyIH1gIGluc3RlYWQgb2YgYGltcG9ydCB7IFN0YXRpY1JvdXRlciBhcyBSb3V0ZXIgfWAuXCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciByZW5kZXJpbmcgdGhlIGZpcnN0IDxSb3V0ZT4gdGhhdCBtYXRjaGVzLlxuICovXG5cbnZhciBTd2l0Y2ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoU3dpdGNoLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTd2l0Y2goKSB7XG4gICAgcmV0dXJuIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN3aXRjaC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAhY29udGV4dCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFN3aXRjaD4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBsb2NhdGlvbiA9IF90aGlzLnByb3BzLmxvY2F0aW9uIHx8IGNvbnRleHQubG9jYXRpb247XG4gICAgICB2YXIgZWxlbWVudCwgbWF0Y2g7IC8vIFdlIHVzZSBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoIGluc3RlYWQgb2YgUmVhY3QuQ2hpbGRyZW4udG9BcnJheSgpLmZpbmQoKVxuICAgICAgLy8gaGVyZSBiZWNhdXNlIHRvQXJyYXkgYWRkcyBrZXlzIHRvIGFsbCBjaGlsZCBlbGVtZW50cyBhbmQgd2UgZG8gbm90IHdhbnRcbiAgICAgIC8vIHRvIHRyaWdnZXIgYW4gdW5tb3VudC9yZW1vdW50IGZvciB0d28gPFJvdXRlPnMgdGhhdCByZW5kZXIgdGhlIHNhbWVcbiAgICAgIC8vIGNvbXBvbmVudCBhdCBkaWZmZXJlbnQgVVJMcy5cblxuICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChfdGhpcy5wcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChtYXRjaCA9PSBudWxsICYmIC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICBlbGVtZW50ID0gY2hpbGQ7XG4gICAgICAgICAgdmFyIHBhdGggPSBjaGlsZC5wcm9wcy5wYXRoIHx8IGNoaWxkLnByb3BzLmZyb207XG4gICAgICAgICAgbWF0Y2ggPSBwYXRoID8gbWF0Y2hQYXRoKGxvY2F0aW9uLnBhdGhuYW1lLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGhcbiAgICAgICAgICB9KSkgOiBjb250ZXh0Lm1hdGNoO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXRjaCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGNvbXB1dGVkTWF0Y2g6IG1hdGNoXG4gICAgICB9KSA6IG51bGw7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFN3aXRjaDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBTd2l0Y2gucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdFxuICB9O1xuXG4gIFN3aXRjaC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0aGlzLnByb3BzLmxvY2F0aW9uICYmICFwcmV2UHJvcHMubG9jYXRpb24pLCAnPFN3aXRjaD4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBpbml0aWFsbHkgdXNlZCBubyBcImxvY2F0aW9uXCIgcHJvcCBhbmQgdGhlbiBwcm92aWRlZCBvbmUgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKSA6IHZvaWQgMDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEoIXRoaXMucHJvcHMubG9jYXRpb24gJiYgcHJldlByb3BzLmxvY2F0aW9uKSwgJzxTd2l0Y2g+IGVsZW1lbnRzIHNob3VsZCBub3QgY2hhbmdlIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiBZb3UgcHJvdmlkZWQgYSBcImxvY2F0aW9uXCIgcHJvcCBpbml0aWFsbHkgYnV0IG9taXR0ZWQgaXQgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKSA6IHZvaWQgMDtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHB1YmxpYyBoaWdoZXItb3JkZXIgY29tcG9uZW50IHRvIGFjY2VzcyB0aGUgaW1wZXJhdGl2ZSBBUElcbiAqL1xuXG5mdW5jdGlvbiB3aXRoUm91dGVyKENvbXBvbmVudCkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBcIndpdGhSb3V0ZXIoXCIgKyAoQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lKSArIFwiKVwiO1xuXG4gIHZhciBDID0gZnVuY3Rpb24gQyhwcm9wcykge1xuICAgIHZhciB3cmFwcGVkQ29tcG9uZW50UmVmID0gcHJvcHMud3JhcHBlZENvbXBvbmVudFJlZixcbiAgICAgICAgcmVtYWluaW5nUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wid3JhcHBlZENvbXBvbmVudFJlZlwiXSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8XCIgKyBkaXNwbGF5TmFtZSArIFwiIC8+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgcmVtYWluaW5nUHJvcHMsIGNvbnRleHQsIHtcbiAgICAgICAgcmVmOiB3cmFwcGVkQ29tcG9uZW50UmVmXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQy5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICBDLldyYXBwZWRDb21wb25lbnQgPSBDb21wb25lbnQ7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIEMucHJvcFR5cGVzID0ge1xuICAgICAgd3JhcHBlZENvbXBvbmVudFJlZjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5vYmplY3RdKVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gaG9pc3RTdGF0aWNzKEMsIENvbXBvbmVudCk7XG59XG5cbnZhciB1c2VDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dDtcbmZ1bmN0aW9uIHVzZUhpc3RvcnkoKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAhKHR5cGVvZiB1c2VDb250ZXh0ID09PSBcImZ1bmN0aW9uXCIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBtdXN0IHVzZSBSZWFjdCA+PSAxNi44IGluIG9yZGVyIHRvIHVzZSB1c2VIaXN0b3J5KClcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG5cbiAgcmV0dXJuIHVzZUNvbnRleHQoaGlzdG9yeUNvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlTG9jYXRpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAhKHR5cGVvZiB1c2VDb250ZXh0ID09PSBcImZ1bmN0aW9uXCIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBtdXN0IHVzZSBSZWFjdCA+PSAxNi44IGluIG9yZGVyIHRvIHVzZSB1c2VMb2NhdGlvbigpXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHJldHVybiB1c2VDb250ZXh0KGNvbnRleHQpLmxvY2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlUGFyYW1zKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgISh0eXBlb2YgdXNlQ29udGV4dCA9PT0gXCJmdW5jdGlvblwiKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3UgbXVzdCB1c2UgUmVhY3QgPj0gMTYuOCBpbiBvcmRlciB0byB1c2UgdXNlUGFyYW1zKClcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gdXNlQ29udGV4dChjb250ZXh0KS5tYXRjaDtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2gucGFyYW1zIDoge307XG59XG5mdW5jdGlvbiB1c2VSb3V0ZU1hdGNoKHBhdGgpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICEodHlwZW9mIHVzZUNvbnRleHQgPT09IFwiZnVuY3Rpb25cIikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiWW91IG11c3QgdXNlIFJlYWN0ID49IDE2LjggaW4gb3JkZXIgdG8gdXNlIHVzZVJvdXRlTWF0Y2goKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cblxuICB2YXIgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICB2YXIgbWF0Y2ggPSB1c2VDb250ZXh0KGNvbnRleHQpLm1hdGNoO1xuICByZXR1cm4gcGF0aCA/IG1hdGNoUGF0aChsb2NhdGlvbi5wYXRobmFtZSwgcGF0aCkgOiBtYXRjaDtcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBnbG9iYWwgPSB3aW5kb3c7XG4gICAgdmFyIGtleSA9IFwiX19yZWFjdF9yb3V0ZXJfYnVpbGRfX1wiO1xuICAgIHZhciBidWlsZE5hbWVzID0ge1xuICAgICAgY2pzOiBcIkNvbW1vbkpTXCIsXG4gICAgICBlc206IFwiRVMgbW9kdWxlc1wiLFxuICAgICAgdW1kOiBcIlVNRFwiXG4gICAgfTtcblxuICAgIGlmIChnbG9iYWxba2V5XSAmJiBnbG9iYWxba2V5XSAhPT0gXCJlc21cIikge1xuICAgICAgdmFyIGluaXRpYWxCdWlsZE5hbWUgPSBidWlsZE5hbWVzW2dsb2JhbFtrZXldXTtcbiAgICAgIHZhciBzZWNvbmRhcnlCdWlsZE5hbWUgPSBidWlsZE5hbWVzW1wiZXNtXCJdOyAvLyBUT0RPOiBBZGQgbGluayB0byBhcnRpY2xlIHRoYXQgZXhwbGFpbnMgaW4gZGV0YWlsIGhvdyB0byBhdm9pZFxuICAgICAgLy8gbG9hZGluZyAyIGRpZmZlcmVudCBidWlsZHMuXG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbG9hZGluZyB0aGUgXCIgKyBzZWNvbmRhcnlCdWlsZE5hbWUgKyBcIiBidWlsZCBvZiBSZWFjdCBSb3V0ZXIgXCIgKyAoXCJvbiBhIHBhZ2UgdGhhdCBpcyBhbHJlYWR5IHJ1bm5pbmcgdGhlIFwiICsgaW5pdGlhbEJ1aWxkTmFtZSArIFwiIFwiKSArIFwiYnVpbGQsIHNvIHRoaW5ncyB3b24ndCB3b3JrIHJpZ2h0LlwiKTtcbiAgICB9XG5cbiAgICBnbG9iYWxba2V5XSA9IFwiZXNtXCI7XG4gIH1cbn1cblxuZXhwb3J0IHsgTWVtb3J5Um91dGVyLCBQcm9tcHQsIFJlZGlyZWN0LCBSb3V0ZSwgUm91dGVyLCBTdGF0aWNSb3V0ZXIsIFN3aXRjaCwgaGlzdG9yeUNvbnRleHQgYXMgX19IaXN0b3J5Q29udGV4dCwgY29udGV4dCBhcyBfX1JvdXRlckNvbnRleHQsIGdlbmVyYXRlUGF0aCwgbWF0Y2hQYXRoLCB1c2VIaXN0b3J5LCB1c2VMb2NhdGlvbiwgdXNlUGFyYW1zLCB1c2VSb3V0ZU1hdGNoLCB3aXRoUm91dGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1yb3V0ZXIuanMubWFwXG4iLCJpbXBvcnQgeyBSb3V0ZXIsIF9fUm91dGVyQ29udGV4dCwgbWF0Y2hQYXRoIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmV4cG9ydCB7IE1lbW9yeVJvdXRlciwgUHJvbXB0LCBSZWRpcmVjdCwgUm91dGUsIFJvdXRlciwgU3RhdGljUm91dGVyLCBTd2l0Y2gsIGdlbmVyYXRlUGF0aCwgbWF0Y2hQYXRoLCB1c2VIaXN0b3J5LCB1c2VMb2NhdGlvbiwgdXNlUGFyYW1zLCB1c2VSb3V0ZU1hdGNoLCB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VySGlzdG9yeSwgY3JlYXRlSGFzaEhpc3RvcnksIGNyZWF0ZUxvY2F0aW9uLCBjcmVhdGVQYXRoIH0gZnJvbSAnaGlzdG9yeSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAndGlueS1pbnZhcmlhbnQnO1xuXG4vKipcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgdXNlcyBIVE1MNSBoaXN0b3J5LlxuICovXG5cbnZhciBCcm93c2VyUm91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEJyb3dzZXJSb3V0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEJyb3dzZXJSb3V0ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuaGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KF90aGlzLnByb3BzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQnJvd3NlclJvdXRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCB7XG4gICAgICBoaXN0b3J5OiB0aGlzLmhpc3RvcnksXG4gICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBCcm93c2VyUm91dGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIEJyb3dzZXJSb3V0ZXIucHJvcFR5cGVzID0ge1xuICAgIGJhc2VuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBmb3JjZVJlZnJlc2g6IFByb3BUeXBlcy5ib29sLFxuICAgIGdldFVzZXJDb25maXJtYXRpb246IFByb3BUeXBlcy5mdW5jLFxuICAgIGtleUxlbmd0aDogUHJvcFR5cGVzLm51bWJlclxuICB9O1xuXG4gIEJyb3dzZXJSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8QnJvd3NlclJvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgXCIgKyBcInVzZSBgaW1wb3J0IHsgUm91dGVyIH1gIGluc3RlYWQgb2YgYGltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyIH1gLlwiKSA6IHZvaWQgMDtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgYSA8Um91dGVyPiB0aGF0IHVzZXMgd2luZG93LmxvY2F0aW9uLmhhc2guXG4gKi9cblxudmFyIEhhc2hSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoSGFzaFJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSGFzaFJvdXRlcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICBfdGhpcy5oaXN0b3J5ID0gY3JlYXRlSGFzaEhpc3RvcnkoX3RoaXMucHJvcHMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBIYXNoUm91dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZXIsIHtcbiAgICAgIGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSxcbiAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEhhc2hSb3V0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgSGFzaFJvdXRlci5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZW5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGdldFVzZXJDb25maXJtYXRpb246IFByb3BUeXBlcy5mdW5jLFxuICAgIGhhc2hUeXBlOiBQcm9wVHlwZXMub25lT2YoW1wiaGFzaGJhbmdcIiwgXCJub3NsYXNoXCIsIFwic2xhc2hcIl0pXG4gIH07XG5cbiAgSGFzaFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghdGhpcy5wcm9wcy5oaXN0b3J5LCBcIjxIYXNoUm91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgSGFzaFJvdXRlciBhcyBSb3V0ZXIgfWAuXCIpIDogdm9pZCAwO1xuICB9O1xufVxuXG52YXIgcmVzb2x2ZVRvTG9jYXRpb24gPSBmdW5jdGlvbiByZXNvbHZlVG9Mb2NhdGlvbih0bywgY3VycmVudExvY2F0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgdG8gPT09IFwiZnVuY3Rpb25cIiA/IHRvKGN1cnJlbnRMb2NhdGlvbikgOiB0bztcbn07XG52YXIgbm9ybWFsaXplVG9Mb2NhdGlvbiA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVRvTG9jYXRpb24odG8sIGN1cnJlbnRMb2NhdGlvbikge1xuICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gY3JlYXRlTG9jYXRpb24odG8sIG51bGwsIG51bGwsIGN1cnJlbnRMb2NhdGlvbikgOiB0bztcbn07XG5cbnZhciBmb3J3YXJkUmVmU2hpbSA9IGZ1bmN0aW9uIGZvcndhcmRSZWZTaGltKEMpIHtcbiAgcmV0dXJuIEM7XG59O1xuXG52YXIgZm9yd2FyZFJlZiA9IFJlYWN0LmZvcndhcmRSZWY7XG5cbmlmICh0eXBlb2YgZm9yd2FyZFJlZiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBmb3J3YXJkUmVmID0gZm9yd2FyZFJlZlNoaW07XG59XG5cbmZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xuICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG59XG5cbnZhciBMaW5rQW5jaG9yID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBpbm5lclJlZiA9IF9yZWYuaW5uZXJSZWYsXG4gICAgICBuYXZpZ2F0ZSA9IF9yZWYubmF2aWdhdGUsXG4gICAgICBfb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJpbm5lclJlZlwiLCBcIm5hdmlnYXRlXCIsIFwib25DbGlja1wiXSk7XG5cbiAgdmFyIHRhcmdldCA9IHJlc3QudGFyZ2V0O1xuXG4gIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKF9vbkNsaWNrKSBfb25DbGljayhldmVudCk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aHJvdyBleDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIC8vIG9uQ2xpY2sgcHJldmVudGVkIGRlZmF1bHRcbiAgICAgIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAoIC8vIGlnbm9yZSBldmVyeXRoaW5nIGJ1dCBsZWZ0IGNsaWNrc1xuICAgICAgIXRhcmdldCB8fCB0YXJnZXQgPT09IFwiX3NlbGZcIikgJiYgLy8gbGV0IGJyb3dzZXIgaGFuZGxlIFwidGFyZ2V0PV9ibGFua1wiIGV0Yy5cbiAgICAgICFpc01vZGlmaWVkRXZlbnQoZXZlbnQpIC8vIGlnbm9yZSBjbGlja3Mgd2l0aCBtb2RpZmllciBrZXlzXG4gICAgICApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG5hdmlnYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH0pOyAvLyBSZWFjdCAxNSBjb21wYXRcblxuXG4gIGlmIChmb3J3YXJkUmVmU2hpbSAhPT0gZm9yd2FyZFJlZikge1xuICAgIHByb3BzLnJlZiA9IGZvcndhcmRlZFJlZiB8fCBpbm5lclJlZjtcbiAgfSBlbHNlIHtcbiAgICBwcm9wcy5yZWYgPSBpbm5lclJlZjtcbiAgfVxuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50ICovXG5cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHByb3BzKTtcbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIExpbmtBbmNob3IuZGlzcGxheU5hbWUgPSBcIkxpbmtBbmNob3JcIjtcbn1cbi8qKlxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHJlbmRlcmluZyBhIGhpc3RvcnktYXdhcmUgPGE+LlxuICovXG5cblxudmFyIExpbmsgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmMiwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmMiRjb21wb25lbnQgPSBfcmVmMi5jb21wb25lbnQsXG4gICAgICBjb21wb25lbnQgPSBfcmVmMiRjb21wb25lbnQgPT09IHZvaWQgMCA/IExpbmtBbmNob3IgOiBfcmVmMiRjb21wb25lbnQsXG4gICAgICByZXBsYWNlID0gX3JlZjIucmVwbGFjZSxcbiAgICAgIHRvID0gX3JlZjIudG8sXG4gICAgICBpbm5lclJlZiA9IF9yZWYyLmlubmVyUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBbXCJjb21wb25lbnRcIiwgXCJyZXBsYWNlXCIsIFwidG9cIiwgXCJpbm5lclJlZlwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9fUm91dGVyQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAhY29udGV4dCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPExpbms+IG91dHNpZGUgYSA8Um91dGVyPlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGhpc3RvcnkgPSBjb250ZXh0Lmhpc3Rvcnk7XG4gICAgdmFyIGxvY2F0aW9uID0gbm9ybWFsaXplVG9Mb2NhdGlvbihyZXNvbHZlVG9Mb2NhdGlvbih0bywgY29udGV4dC5sb2NhdGlvbiksIGNvbnRleHQubG9jYXRpb24pO1xuICAgIHZhciBocmVmID0gbG9jYXRpb24gPyBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pIDogXCJcIjtcblxuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICBocmVmOiBocmVmLFxuICAgICAgbmF2aWdhdGU6IGZ1bmN0aW9uIG5hdmlnYXRlKCkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSByZXNvbHZlVG9Mb2NhdGlvbih0bywgY29udGV4dC5sb2NhdGlvbik7XG4gICAgICAgIHZhciBpc0R1cGxpY2F0ZU5hdmlnYXRpb24gPSBjcmVhdGVQYXRoKGNvbnRleHQubG9jYXRpb24pID09PSBjcmVhdGVQYXRoKG5vcm1hbGl6ZVRvTG9jYXRpb24obG9jYXRpb24pKTtcbiAgICAgICAgdmFyIG1ldGhvZCA9IHJlcGxhY2UgfHwgaXNEdXBsaWNhdGVOYXZpZ2F0aW9uID8gaGlzdG9yeS5yZXBsYWNlIDogaGlzdG9yeS5wdXNoO1xuICAgICAgICBtZXRob2QobG9jYXRpb24pO1xuICAgICAgfVxuICAgIH0pOyAvLyBSZWFjdCAxNSBjb21wYXRcblxuXG4gICAgaWYgKGZvcndhcmRSZWZTaGltICE9PSBmb3J3YXJkUmVmKSB7XG4gICAgICBwcm9wcy5yZWYgPSBmb3J3YXJkZWRSZWYgfHwgaW5uZXJSZWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BzLmlubmVyUmVmID0gaW5uZXJSZWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcHMpO1xuICB9KTtcbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIHZhciB0b1R5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuZnVuY10pO1xuICB2YXIgcmVmVHlwZSA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGN1cnJlbnQ6IFByb3BUeXBlcy5hbnlcbiAgfSldKTtcbiAgTGluay5kaXNwbGF5TmFtZSA9IFwiTGlua1wiO1xuICBMaW5rLnByb3BUeXBlcyA9IHtcbiAgICBpbm5lclJlZjogcmVmVHlwZSxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZXBsYWNlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB0YXJnZXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdG86IHRvVHlwZS5pc1JlcXVpcmVkXG4gIH07XG59XG5cbnZhciBmb3J3YXJkUmVmU2hpbSQxID0gZnVuY3Rpb24gZm9yd2FyZFJlZlNoaW0oQykge1xuICByZXR1cm4gQztcbn07XG5cbnZhciBmb3J3YXJkUmVmJDEgPSBSZWFjdC5mb3J3YXJkUmVmO1xuXG5pZiAodHlwZW9mIGZvcndhcmRSZWYkMSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBmb3J3YXJkUmVmJDEgPSBmb3J3YXJkUmVmU2hpbSQxO1xufVxuXG5mdW5jdGlvbiBqb2luQ2xhc3NuYW1lcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzbmFtZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgY2xhc3NuYW1lc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBjbGFzc25hbWVzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgIHJldHVybiBpO1xuICB9KS5qb2luKFwiIFwiKTtcbn1cbi8qKlxuICogQSA8TGluaz4gd3JhcHBlciB0aGF0IGtub3dzIGlmIGl0J3MgXCJhY3RpdmVcIiBvciBub3QuXG4gKi9cblxuXG52YXIgTmF2TGluayA9IGZvcndhcmRSZWYkMShmdW5jdGlvbiAoX3JlZiwgZm9yd2FyZGVkUmVmKSB7XG4gIHZhciBfcmVmJGFyaWFDdXJyZW50ID0gX3JlZltcImFyaWEtY3VycmVudFwiXSxcbiAgICAgIGFyaWFDdXJyZW50ID0gX3JlZiRhcmlhQ3VycmVudCA9PT0gdm9pZCAwID8gXCJwYWdlXCIgOiBfcmVmJGFyaWFDdXJyZW50LFxuICAgICAgX3JlZiRhY3RpdmVDbGFzc05hbWUgPSBfcmVmLmFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF9yZWYkYWN0aXZlQ2xhc3NOYW1lID09PSB2b2lkIDAgPyBcImFjdGl2ZVwiIDogX3JlZiRhY3RpdmVDbGFzc05hbWUsXG4gICAgICBhY3RpdmVTdHlsZSA9IF9yZWYuYWN0aXZlU3R5bGUsXG4gICAgICBjbGFzc05hbWVQcm9wID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBleGFjdCA9IF9yZWYuZXhhY3QsXG4gICAgICBpc0FjdGl2ZVByb3AgPSBfcmVmLmlzQWN0aXZlLFxuICAgICAgbG9jYXRpb25Qcm9wID0gX3JlZi5sb2NhdGlvbixcbiAgICAgIHNlbnNpdGl2ZSA9IF9yZWYuc2Vuc2l0aXZlLFxuICAgICAgc3RyaWN0ID0gX3JlZi5zdHJpY3QsXG4gICAgICBzdHlsZVByb3AgPSBfcmVmLnN0eWxlLFxuICAgICAgdG8gPSBfcmVmLnRvLFxuICAgICAgaW5uZXJSZWYgPSBfcmVmLmlubmVyUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImFyaWEtY3VycmVudFwiLCBcImFjdGl2ZUNsYXNzTmFtZVwiLCBcImFjdGl2ZVN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwiZXhhY3RcIiwgXCJpc0FjdGl2ZVwiLCBcImxvY2F0aW9uXCIsIFwic2Vuc2l0aXZlXCIsIFwic3RyaWN0XCIsIFwic3R5bGVcIiwgXCJ0b1wiLCBcImlubmVyUmVmXCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX19Sb3V0ZXJDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIllvdSBzaG91bGQgbm90IHVzZSA8TmF2TGluaz4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgY3VycmVudExvY2F0aW9uID0gbG9jYXRpb25Qcm9wIHx8IGNvbnRleHQubG9jYXRpb247XG4gICAgdmFyIHRvTG9jYXRpb24gPSBub3JtYWxpemVUb0xvY2F0aW9uKHJlc29sdmVUb0xvY2F0aW9uKHRvLCBjdXJyZW50TG9jYXRpb24pLCBjdXJyZW50TG9jYXRpb24pO1xuICAgIHZhciBwYXRoID0gdG9Mb2NhdGlvbi5wYXRobmFtZTsgLy8gUmVnZXggdGFrZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL3BpbGxhcmpzL3BhdGgtdG8tcmVnZXhwL2Jsb2IvbWFzdGVyL2luZGV4LmpzI0wyMDJcblxuICAgIHZhciBlc2NhcGVkUGF0aCA9IHBhdGggJiYgcGF0aC5yZXBsYWNlKC8oWy4rKj89XiE6JHt9KClbXFxdfC9cXFxcXSkvZywgXCJcXFxcJDFcIik7XG4gICAgdmFyIG1hdGNoID0gZXNjYXBlZFBhdGggPyBtYXRjaFBhdGgoY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCB7XG4gICAgICBwYXRoOiBlc2NhcGVkUGF0aCxcbiAgICAgIGV4YWN0OiBleGFjdCxcbiAgICAgIHNlbnNpdGl2ZTogc2Vuc2l0aXZlLFxuICAgICAgc3RyaWN0OiBzdHJpY3RcbiAgICB9KSA6IG51bGw7XG4gICAgdmFyIGlzQWN0aXZlID0gISEoaXNBY3RpdmVQcm9wID8gaXNBY3RpdmVQcm9wKG1hdGNoLCBjdXJyZW50TG9jYXRpb24pIDogbWF0Y2gpO1xuICAgIHZhciBjbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lUHJvcCA9PT0gXCJmdW5jdGlvblwiID8gY2xhc3NOYW1lUHJvcChpc0FjdGl2ZSkgOiBjbGFzc05hbWVQcm9wO1xuICAgIHZhciBzdHlsZSA9IHR5cGVvZiBzdHlsZVByb3AgPT09IFwiZnVuY3Rpb25cIiA/IHN0eWxlUHJvcChpc0FjdGl2ZSkgOiBzdHlsZVByb3A7XG5cbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIGNsYXNzTmFtZSA9IGpvaW5DbGFzc25hbWVzKGNsYXNzTmFtZSwgYWN0aXZlQ2xhc3NOYW1lKTtcbiAgICAgIHN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCBhY3RpdmVTdHlsZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe1xuICAgICAgXCJhcmlhLWN1cnJlbnRcIjogaXNBY3RpdmUgJiYgYXJpYUN1cnJlbnQgfHwgbnVsbCxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgdG86IHRvTG9jYXRpb25cbiAgICB9LCByZXN0KTsgLy8gUmVhY3QgMTUgY29tcGF0XG5cblxuICAgIGlmIChmb3J3YXJkUmVmU2hpbSQxICE9PSBmb3J3YXJkUmVmJDEpIHtcbiAgICAgIHByb3BzLnJlZiA9IGZvcndhcmRlZFJlZiB8fCBpbm5lclJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcHMuaW5uZXJSZWYgPSBpbm5lclJlZjtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywgcHJvcHMpO1xuICB9KTtcbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIE5hdkxpbmsuZGlzcGxheU5hbWUgPSBcIk5hdkxpbmtcIjtcbiAgdmFyIGFyaWFDdXJyZW50VHlwZSA9IFByb3BUeXBlcy5vbmVPZihbXCJwYWdlXCIsIFwic3RlcFwiLCBcImxvY2F0aW9uXCIsIFwiZGF0ZVwiLCBcInRpbWVcIiwgXCJ0cnVlXCIsIFwiZmFsc2VcIl0pO1xuICBOYXZMaW5rLnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBMaW5rLnByb3BUeXBlcywge1xuICAgIFwiYXJpYS1jdXJyZW50XCI6IGFyaWFDdXJyZW50VHlwZSxcbiAgICBhY3RpdmVDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYWN0aXZlU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLFxuICAgIGV4YWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpc0FjdGl2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QsXG4gICAgc2Vuc2l0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzdHJpY3Q6IFByb3BUeXBlcy5ib29sLFxuICAgIHN0eWxlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMuZnVuY10pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBCcm93c2VyUm91dGVyLCBIYXNoUm91dGVyLCBMaW5rLCBOYXZMaW5rIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1yb3V0ZXItZG9tLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBSZWFjdF9fZGVmYXVsdCA9IF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZnVuY3Rpb24gd2l0aFNpZGVFZmZlY3QocmVkdWNlUHJvcHNUb1N0YXRlLCBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50LCBtYXBTdGF0ZU9uU2VydmVyKSB7XG4gIGlmICh0eXBlb2YgcmVkdWNlUHJvcHNUb1N0YXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCByZWR1Y2VQcm9wc1RvU3RhdGUgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudCB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBtYXBTdGF0ZU9uU2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbWFwU3RhdGVPblNlcnZlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgbWFwU3RhdGVPblNlcnZlciB0byBlaXRoZXIgYmUgdW5kZWZpbmVkIG9yIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGlmICh0eXBlb2YgV3JhcHBlZENvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBXcmFwcGVkQ29tcG9uZW50IHRvIGJlIGEgUmVhY3QgY29tcG9uZW50LicpO1xuICAgIH1cblxuICAgIHZhciBtb3VudGVkSW5zdGFuY2VzID0gW107XG4gICAgdmFyIHN0YXRlO1xuXG4gICAgZnVuY3Rpb24gZW1pdENoYW5nZSgpIHtcbiAgICAgIHN0YXRlID0gcmVkdWNlUHJvcHNUb1N0YXRlKG1vdW50ZWRJbnN0YW5jZXMubWFwKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UucHJvcHM7XG4gICAgICB9KSk7XG5cbiAgICAgIGlmIChTaWRlRWZmZWN0LmNhblVzZURPTSkge1xuICAgICAgICBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50KHN0YXRlKTtcbiAgICAgIH0gZWxzZSBpZiAobWFwU3RhdGVPblNlcnZlcikge1xuICAgICAgICBzdGF0ZSA9IG1hcFN0YXRlT25TZXJ2ZXIoc3RhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBTaWRlRWZmZWN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzTG9vc2UoU2lkZUVmZmVjdCwgX1B1cmVDb21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBTaWRlRWZmZWN0KCkge1xuICAgICAgICByZXR1cm4gX1B1cmVDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBUcnkgdG8gdXNlIGRpc3BsYXlOYW1lIG9mIHdyYXBwZWQgY29tcG9uZW50XG4gICAgICAvLyBFeHBvc2UgY2FuVXNlRE9NIHNvIHRlc3RzIGNhbiBtb25rZXlwYXRjaCBpdFxuICAgICAgU2lkZUVmZmVjdC5wZWVrID0gZnVuY3Rpb24gcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfTtcblxuICAgICAgU2lkZUVmZmVjdC5yZXdpbmQgPSBmdW5jdGlvbiByZXdpbmQoKSB7XG4gICAgICAgIGlmIChTaWRlRWZmZWN0LmNhblVzZURPTSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBvbmx5IGNhbGwgcmV3aW5kKCkgb24gdGhlIHNlcnZlci4gQ2FsbCBwZWVrKCkgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvcmRlZFN0YXRlID0gc3RhdGU7XG4gICAgICAgIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICBtb3VudGVkSW5zdGFuY2VzID0gW107XG4gICAgICAgIHJldHVybiByZWNvcmRlZFN0YXRlO1xuICAgICAgfTtcblxuICAgICAgdmFyIF9wcm90byA9IFNpZGVFZmZlY3QucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIG1vdW50ZWRJbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgICAgICAgZW1pdENoYW5nZSgpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdENoYW5nZSgpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG1vdW50ZWRJbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgbW91bnRlZEluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBlbWl0Q2hhbmdlKCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgdGhpcy5wcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gU2lkZUVmZmVjdDtcbiAgICB9KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KFNpZGVFZmZlY3QsIFwiZGlzcGxheU5hbWVcIiwgXCJTaWRlRWZmZWN0KFwiICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyBcIilcIik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoU2lkZUVmZmVjdCwgXCJjYW5Vc2VET01cIiwgY2FuVXNlRE9NKTtcblxuICAgIHJldHVybiBTaWRlRWZmZWN0O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpdGhTaWRlRWZmZWN0O1xuIiwiLyogZ2xvYmFsIE1hcDpyZWFkb25seSwgU2V0OnJlYWRvbmx5LCBBcnJheUJ1ZmZlcjpyZWFkb25seSAqL1xuXG52YXIgaGFzRWxlbWVudFR5cGUgPSB0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgaGFzTWFwID0gdHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJztcbnZhciBoYXNTZXQgPSB0eXBlb2YgU2V0ID09PSAnZnVuY3Rpb24nO1xudmFyIGhhc0FycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nICYmICEhQXJyYXlCdWZmZXIuaXNWaWV3O1xuXG4vLyBOb3RlOiBXZSAqKmRvbid0KiogbmVlZCBgZW52SGFzQmlnSW50NjRBcnJheWAgaW4gZmRlIGVzNi9pbmRleC5qc1xuXG5mdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIC8vIFNUQVJUOiBmYXN0LWRlZXAtZXF1YWwgZXM2L2luZGV4LmpzIDMuMS4xXG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTVEFSVDogTW9kaWZpY2F0aW9uczpcbiAgICAvLyAxLiBFeHRyYSBgaGFzPFR5cGU+ICYmYCBoZWxwZXJzIGluIGluaXRpYWwgY29uZGl0aW9uIGFsbG93IGVzNiBjb2RlXG4gICAgLy8gICAgdG8gY28tZXhpc3Qgd2l0aCBlczUuXG4gICAgLy8gMi4gUmVwbGFjZSBgZm9yIG9mYCB3aXRoIGVzNSBjb21wbGlhbnQgaXRlcmF0aW9uIHVzaW5nIGBmb3JgLlxuICAgIC8vICAgIEJhc2ljYWxseSwgdGFrZTpcbiAgICAvL1xuICAgIC8vICAgIGBgYGpzXG4gICAgLy8gICAgZm9yIChpIG9mIGEuZW50cmllcygpKVxuICAgIC8vICAgICAgaWYgKCFiLmhhcyhpWzBdKSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vICAgIGBgYFxuICAgIC8vXG4gICAgLy8gICAgLi4uIGFuZCBjb252ZXJ0IHRvOlxuICAgIC8vXG4gICAgLy8gICAgYGBganNcbiAgICAvLyAgICBpdCA9IGEuZW50cmllcygpO1xuICAgIC8vICAgIHdoaWxlICghKGkgPSBpdC5uZXh0KCkpLmRvbmUpXG4gICAgLy8gICAgICBpZiAoIWIuaGFzKGkudmFsdWVbMF0pKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gICAgYGBgXG4gICAgLy9cbiAgICAvLyAgICAqKk5vdGUqKjogYGlgIGFjY2VzcyBzd2l0Y2hlcyB0byBgaS52YWx1ZWAuXG4gICAgdmFyIGl0O1xuICAgIGlmIChoYXNNYXAgJiYgKGEgaW5zdGFuY2VvZiBNYXApICYmIChiIGluc3RhbmNlb2YgTWFwKSkge1xuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSByZXR1cm4gZmFsc2U7XG4gICAgICBpdCA9IGEuZW50cmllcygpO1xuICAgICAgd2hpbGUgKCEoaSA9IGl0Lm5leHQoKSkuZG9uZSlcbiAgICAgICAgaWYgKCFiLmhhcyhpLnZhbHVlWzBdKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaXQgPSBhLmVudHJpZXMoKTtcbiAgICAgIHdoaWxlICghKGkgPSBpdC5uZXh0KCkpLmRvbmUpXG4gICAgICAgIGlmICghZXF1YWwoaS52YWx1ZVsxXSwgYi5nZXQoaS52YWx1ZVswXSkpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaGFzU2V0ICYmIChhIGluc3RhbmNlb2YgU2V0KSAmJiAoYiBpbnN0YW5jZW9mIFNldCkpIHtcbiAgICAgIGlmIChhLnNpemUgIT09IGIuc2l6ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaXQgPSBhLmVudHJpZXMoKTtcbiAgICAgIHdoaWxlICghKGkgPSBpdC5uZXh0KCkpLmRvbmUpXG4gICAgICAgIGlmICghYi5oYXMoaS52YWx1ZVswXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBFTkQ6IE1vZGlmaWNhdGlvbnNcblxuICAgIGlmIChoYXNBcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcoYSkgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KGIpKSB7XG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChhLmNvbnN0cnVjdG9yID09PSBSZWdFeHApIHJldHVybiBhLnNvdXJjZSA9PT0gYi5zb3VyY2UgJiYgYS5mbGFncyA9PT0gYi5mbGFncztcbiAgICBpZiAoYS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHJldHVybiBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCk7XG4gICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gRU5EOiBmYXN0LWRlZXAtZXF1YWxcblxuICAgIC8vIFNUQVJUOiByZWFjdC1mYXN0LWNvbXBhcmVcbiAgICAvLyBjdXN0b20gaGFuZGxpbmcgZm9yIERPTSBlbGVtZW50c1xuICAgIGlmIChoYXNFbGVtZW50VHlwZSAmJiBhIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gY3VzdG9tIGhhbmRsaW5nIGZvciBSZWFjdC9QcmVhY3RcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIGlmICgoa2V5c1tpXSA9PT0gJ19vd25lcicgfHwga2V5c1tpXSA9PT0gJ19fdicgfHwga2V5c1tpXSA9PT0gJ19fbycpICYmIGEuJCR0eXBlb2YpIHtcbiAgICAgICAgLy8gUmVhY3Qtc3BlY2lmaWM6IGF2b2lkIHRyYXZlcnNpbmcgUmVhY3QgZWxlbWVudHMnIF9vd25lclxuICAgICAgICAvLyBQcmVhY3Qtc3BlY2lmaWM6IGF2b2lkIHRyYXZlcnNpbmcgUHJlYWN0IGVsZW1lbnRzJyBfX3YgYW5kIF9fb1xuICAgICAgICAvLyAgICBfX3YgPSAkX29yaWdpbmFsIC8gJF92bm9kZVxuICAgICAgICAvLyAgICBfX28gPSAkX293bmVyXG4gICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY29udGFpbiBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCBhcmUgbm90IG5lZWRlZCB3aGVuXG4gICAgICAgIC8vIGNvbXBhcmluZyB0aGUgYWN0dWFsIGVsZW1lbnRzIChhbmQgbm90IHRoZWlyIG93bmVycylcbiAgICAgICAgLy8gLiQkdHlwZW9mIGFuZCAuX3N0b3JlIG9uIGp1c3QgcmVhc29uYWJsZSBtYXJrZXJzIG9mIGVsZW1lbnRzXG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbCBvdGhlciBwcm9wZXJ0aWVzIHNob3VsZCBiZSB0cmF2ZXJzZWQgYXMgdXN1YWxcbiAgICAgIGlmICghZXF1YWwoYVtrZXlzW2ldXSwgYltrZXlzW2ldXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRU5EOiByZWFjdC1mYXN0LWNvbXBhcmVcblxuICAgIC8vIFNUQVJUOiBmYXN0LWRlZXAtZXF1YWxcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBhICE9PSBhICYmIGIgIT09IGI7XG59XG4vLyBlbmQgZmFzdC1kZWVwLWVxdWFsXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVxdWFsKGEsIGIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmICgoKGVycm9yLm1lc3NhZ2UgfHwgJycpLm1hdGNoKC9zdGFja3xyZWN1cnNpb24vaSkpKSB7XG4gICAgICAvLyB3YXJuIG9uIGNpcmN1bGFyIHJlZmVyZW5jZXMsIGRvbid0IGNyYXNoXG4gICAgICAvLyBicm93c2VycyBnaXZlIHRoaXMgZGlmZmVyZW50IGVycm9ycyBuYW1lIGFuZCBtZXNzYWdlczpcbiAgICAgIC8vIGNocm9tZS9zYWZhcmk6IFwiUmFuZ2VFcnJvclwiLCBcIk1heGltdW0gY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCJcbiAgICAgIC8vIGZpcmVmb3g6IFwiSW50ZXJuYWxFcnJvclwiLCB0b28gbXVjaCByZWN1cnNpb25cIlxuICAgICAgLy8gZWRnZTogXCJFcnJvclwiLCBcIk91dCBvZiBzdGFjayBzcGFjZVwiXG4gICAgICBjb25zb2xlLndhcm4oJ3JlYWN0LWZhc3QtY29tcGFyZSBjYW5ub3QgaGFuZGxlIGNpcmN1bGFyIHJlZnMnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gc29tZSBvdGhlciBlcnJvci4gd2Ugc2hvdWxkIGRlZmluaXRlbHkga25vdyBhYm91dCB0aGVzZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB3aXRoU2lkZUVmZmVjdCBmcm9tICdyZWFjdC1zaWRlLWVmZmVjdCc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdyZWFjdC1mYXN0LWNvbXBhcmUnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBvYmplY3RBc3NpZ24gZnJvbSAnb2JqZWN0LWFzc2lnbic7XG5cbnZhciBBVFRSSUJVVEVfTkFNRVMgPSB7XG4gICAgQk9EWTogXCJib2R5QXR0cmlidXRlc1wiLFxuICAgIEhUTUw6IFwiaHRtbEF0dHJpYnV0ZXNcIixcbiAgICBUSVRMRTogXCJ0aXRsZUF0dHJpYnV0ZXNcIlxufTtcblxudmFyIFRBR19OQU1FUyA9IHtcbiAgICBCQVNFOiBcImJhc2VcIixcbiAgICBCT0RZOiBcImJvZHlcIixcbiAgICBIRUFEOiBcImhlYWRcIixcbiAgICBIVE1MOiBcImh0bWxcIixcbiAgICBMSU5LOiBcImxpbmtcIixcbiAgICBNRVRBOiBcIm1ldGFcIixcbiAgICBOT1NDUklQVDogXCJub3NjcmlwdFwiLFxuICAgIFNDUklQVDogXCJzY3JpcHRcIixcbiAgICBTVFlMRTogXCJzdHlsZVwiLFxuICAgIFRJVExFOiBcInRpdGxlXCJcbn07XG5cbnZhciBWQUxJRF9UQUdfTkFNRVMgPSBPYmplY3Qua2V5cyhUQUdfTkFNRVMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBUQUdfTkFNRVNbbmFtZV07XG59KTtcblxudmFyIFRBR19QUk9QRVJUSUVTID0ge1xuICAgIENIQVJTRVQ6IFwiY2hhcnNldFwiLFxuICAgIENTU19URVhUOiBcImNzc1RleHRcIixcbiAgICBIUkVGOiBcImhyZWZcIixcbiAgICBIVFRQRVFVSVY6IFwiaHR0cC1lcXVpdlwiLFxuICAgIElOTkVSX0hUTUw6IFwiaW5uZXJIVE1MXCIsXG4gICAgSVRFTV9QUk9QOiBcIml0ZW1wcm9wXCIsXG4gICAgTkFNRTogXCJuYW1lXCIsXG4gICAgUFJPUEVSVFk6IFwicHJvcGVydHlcIixcbiAgICBSRUw6IFwicmVsXCIsXG4gICAgU1JDOiBcInNyY1wiLFxuICAgIFRBUkdFVDogXCJ0YXJnZXRcIlxufTtcblxudmFyIFJFQUNUX1RBR19NQVAgPSB7XG4gICAgYWNjZXNza2V5OiBcImFjY2Vzc0tleVwiLFxuICAgIGNoYXJzZXQ6IFwiY2hhclNldFwiLFxuICAgIGNsYXNzOiBcImNsYXNzTmFtZVwiLFxuICAgIGNvbnRlbnRlZGl0YWJsZTogXCJjb250ZW50RWRpdGFibGVcIixcbiAgICBjb250ZXh0bWVudTogXCJjb250ZXh0TWVudVwiLFxuICAgIFwiaHR0cC1lcXVpdlwiOiBcImh0dHBFcXVpdlwiLFxuICAgIGl0ZW1wcm9wOiBcIml0ZW1Qcm9wXCIsXG4gICAgdGFiaW5kZXg6IFwidGFiSW5kZXhcIlxufTtcblxudmFyIEhFTE1FVF9QUk9QUyA9IHtcbiAgICBERUZBVUxUX1RJVExFOiBcImRlZmF1bHRUaXRsZVwiLFxuICAgIERFRkVSOiBcImRlZmVyXCIsXG4gICAgRU5DT0RFX1NQRUNJQUxfQ0hBUkFDVEVSUzogXCJlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyc1wiLFxuICAgIE9OX0NIQU5HRV9DTElFTlRfU1RBVEU6IFwib25DaGFuZ2VDbGllbnRTdGF0ZVwiLFxuICAgIFRJVExFX1RFTVBMQVRFOiBcInRpdGxlVGVtcGxhdGVcIlxufTtcblxudmFyIEhUTUxfVEFHX01BUCA9IE9iamVjdC5rZXlzKFJFQUNUX1RBR19NQVApLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICBvYmpbUkVBQ1RfVEFHX01BUFtrZXldXSA9IGtleTtcbiAgICByZXR1cm4gb2JqO1xufSwge30pO1xuXG52YXIgU0VMRl9DTE9TSU5HX1RBR1MgPSBbVEFHX05BTUVTLk5PU0NSSVBULCBUQUdfTkFNRVMuU0NSSVBULCBUQUdfTkFNRVMuU1RZTEVdO1xuXG52YXIgSEVMTUVUX0FUVFJJQlVURSA9IFwiZGF0YS1yZWFjdC1oZWxtZXRcIjtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG52YXIgb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gIHZhciB0YXJnZXQgPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG52YXIgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnMgPSBmdW5jdGlvbiBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVycyhzdHIpIHtcbiAgICB2YXIgZW5jb2RlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgaWYgKGVuY29kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpO1xuICAgIH1cblxuICAgIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIikucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLCBcIiYjeDI3O1wiKTtcbn07XG5cbnZhciBnZXRUaXRsZUZyb21Qcm9wc0xpc3QgPSBmdW5jdGlvbiBnZXRUaXRsZUZyb21Qcm9wc0xpc3QocHJvcHNMaXN0KSB7XG4gICAgdmFyIGlubmVybW9zdFRpdGxlID0gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBUQUdfTkFNRVMuVElUTEUpO1xuICAgIHZhciBpbm5lcm1vc3RUZW1wbGF0ZSA9IGdldElubmVybW9zdFByb3BlcnR5KHByb3BzTGlzdCwgSEVMTUVUX1BST1BTLlRJVExFX1RFTVBMQVRFKTtcblxuICAgIGlmIChpbm5lcm1vc3RUZW1wbGF0ZSAmJiBpbm5lcm1vc3RUaXRsZSkge1xuICAgICAgICAvLyB1c2UgZnVuY3Rpb24gYXJnIHRvIGF2b2lkIG5lZWQgdG8gZXNjYXBlICQgY2hhcmFjdGVyc1xuICAgICAgICByZXR1cm4gaW5uZXJtb3N0VGVtcGxhdGUucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5uZXJtb3N0VGl0bGUpID8gaW5uZXJtb3N0VGl0bGUuam9pbihcIlwiKSA6IGlubmVybW9zdFRpdGxlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW5uZXJtb3N0RGVmYXVsdFRpdGxlID0gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBIRUxNRVRfUFJPUFMuREVGQVVMVF9USVRMRSk7XG5cbiAgICByZXR1cm4gaW5uZXJtb3N0VGl0bGUgfHwgaW5uZXJtb3N0RGVmYXVsdFRpdGxlIHx8IHVuZGVmaW5lZDtcbn07XG5cbnZhciBnZXRPbkNoYW5nZUNsaWVudFN0YXRlID0gZnVuY3Rpb24gZ2V0T25DaGFuZ2VDbGllbnRTdGF0ZShwcm9wc0xpc3QpIHtcbiAgICByZXR1cm4gZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBIRUxNRVRfUFJPUFMuT05fQ0hBTkdFX0NMSUVOVF9TVEFURSkgfHwgZnVuY3Rpb24gKCkge307XG59O1xuXG52YXIgZ2V0QXR0cmlidXRlc0Zyb21Qcm9wc0xpc3QgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdCh0YWdUeXBlLCBwcm9wc0xpc3QpIHtcbiAgICByZXR1cm4gcHJvcHNMaXN0LmZpbHRlcihmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9wc1t0YWdUeXBlXSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBwcm9wc1t0YWdUeXBlXTtcbiAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHRhZ0F0dHJzLCBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdGFnQXR0cnMsIGN1cnJlbnQpO1xuICAgIH0sIHt9KTtcbn07XG5cbnZhciBnZXRCYXNlVGFnRnJvbVByb3BzTGlzdCA9IGZ1bmN0aW9uIGdldEJhc2VUYWdGcm9tUHJvcHNMaXN0KHByaW1hcnlBdHRyaWJ1dGVzLCBwcm9wc0xpc3QpIHtcbiAgICByZXR1cm4gcHJvcHNMaXN0LmZpbHRlcihmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9wc1tUQUdfTkFNRVMuQkFTRV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gcHJvcHNbVEFHX05BTUVTLkJBU0VdO1xuICAgIH0pLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGlubmVybW9zdEJhc2VUYWcsIHRhZykge1xuICAgICAgICBpZiAoIWlubmVybW9zdEJhc2VUYWcubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRhZyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVLZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBsb3dlckNhc2VBdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVLZXkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmltYXJ5QXR0cmlidXRlcy5pbmRleE9mKGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSkgIT09IC0xICYmIHRhZ1tsb3dlckNhc2VBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbm5lcm1vc3RCYXNlVGFnLmNvbmNhdCh0YWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbm5lcm1vc3RCYXNlVGFnO1xuICAgIH0sIFtdKTtcbn07XG5cbnZhciBnZXRUYWdzRnJvbVByb3BzTGlzdCA9IGZ1bmN0aW9uIGdldFRhZ3NGcm9tUHJvcHNMaXN0KHRhZ05hbWUsIHByaW1hcnlBdHRyaWJ1dGVzLCBwcm9wc0xpc3QpIHtcbiAgICAvLyBDYWxjdWxhdGUgbGlzdCBvZiB0YWdzLCBnaXZpbmcgcHJpb3JpdHkgaW5uZXJtb3N0IGNvbXBvbmVudCAoZW5kIG9mIHRoZSBwcm9wc2xpc3QpXG4gICAgdmFyIGFwcHJvdmVkU2VlblRhZ3MgPSB7fTtcblxuICAgIHJldHVybiBwcm9wc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wc1t0YWdOYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcHNbdGFnTmFtZV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHdhcm4oXCJIZWxtZXQ6IFwiICsgdGFnTmFtZSArIFwiIHNob3VsZCBiZSBvZiB0eXBlIFxcXCJBcnJheVxcXCIuIEluc3RlYWQgZm91bmQgdHlwZSBcXFwiXCIgKyBfdHlwZW9mKHByb3BzW3RhZ05hbWVdKSArIFwiXFxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gcHJvcHNbdGFnTmFtZV07XG4gICAgfSkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoYXBwcm92ZWRUYWdzLCBpbnN0YW5jZVRhZ3MpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlU2VlblRhZ3MgPSB7fTtcblxuICAgICAgICBpbnN0YW5jZVRhZ3MuZmlsdGVyKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICAgIHZhciBwcmltYXJ5QXR0cmlidXRlS2V5ID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0YWcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VyQ2FzZUF0dHJpYnV0ZUtleSA9IGF0dHJpYnV0ZUtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBydWxlIHdpdGggbGluayB0YWdzLCBzaW5jZSByZWwgYW5kIGhyZWYgYXJlIGJvdGggcHJpbWFyeSB0YWdzLCByZWwgdGFrZXMgcHJpb3JpdHlcbiAgICAgICAgICAgICAgICBpZiAocHJpbWFyeUF0dHJpYnV0ZXMuaW5kZXhPZihsb3dlckNhc2VBdHRyaWJ1dGVLZXkpICE9PSAtMSAmJiAhKHByaW1hcnlBdHRyaWJ1dGVLZXkgPT09IFRBR19QUk9QRVJUSUVTLlJFTCAmJiB0YWdbcHJpbWFyeUF0dHJpYnV0ZUtleV0udG9Mb3dlckNhc2UoKSA9PT0gXCJjYW5vbmljYWxcIikgJiYgIShsb3dlckNhc2VBdHRyaWJ1dGVLZXkgPT09IFRBR19QUk9QRVJUSUVTLlJFTCAmJiB0YWdbbG93ZXJDYXNlQXR0cmlidXRlS2V5XS50b0xvd2VyQ2FzZSgpID09PSBcInN0eWxlc2hlZXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUF0dHJpYnV0ZUtleSA9IGxvd2VyQ2FzZUF0dHJpYnV0ZUtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBpbm5lckhUTUwgd2hpY2ggZG9lc24ndCB3b3JrIGxvd2VyY2FzZWRcbiAgICAgICAgICAgICAgICBpZiAocHJpbWFyeUF0dHJpYnV0ZXMuaW5kZXhPZihhdHRyaWJ1dGVLZXkpICE9PSAtMSAmJiAoYXR0cmlidXRlS2V5ID09PSBUQUdfUFJPUEVSVElFUy5JTk5FUl9IVE1MIHx8IGF0dHJpYnV0ZUtleSA9PT0gVEFHX1BST1BFUlRJRVMuQ1NTX1RFWFQgfHwgYXR0cmlidXRlS2V5ID09PSBUQUdfUFJPUEVSVElFUy5JVEVNX1BST1ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlBdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXByaW1hcnlBdHRyaWJ1dGVLZXkgfHwgIXRhZ1twcmltYXJ5QXR0cmlidXRlS2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGFnW3ByaW1hcnlBdHRyaWJ1dGVLZXldLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmICghYXBwcm92ZWRTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XSkge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkU2VlblRhZ3NbcHJpbWFyeUF0dHJpYnV0ZUtleV0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZVNlZW5UYWdzW3ByaW1hcnlBdHRyaWJ1dGVLZXldKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWFwcHJvdmVkU2VlblRhZ3NbcHJpbWFyeUF0dHJpYnV0ZUtleV1bdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2VTZWVuVGFnc1twcmltYXJ5QXR0cmlidXRlS2V5XVt2YWx1ZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHByb3ZlZFRhZ3MucHVzaCh0YWcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgc2VlbiB0YWdzIHdpdGggdGFncyBmcm9tIHRoaXMgaW5zdGFuY2VcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZVNlZW5UYWdzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlS2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB0YWdVbmlvbiA9IG9iamVjdEFzc2lnbih7fSwgYXBwcm92ZWRTZWVuVGFnc1thdHRyaWJ1dGVLZXldLCBpbnN0YW5jZVNlZW5UYWdzW2F0dHJpYnV0ZUtleV0pO1xuXG4gICAgICAgICAgICBhcHByb3ZlZFNlZW5UYWdzW2F0dHJpYnV0ZUtleV0gPSB0YWdVbmlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcHByb3ZlZFRhZ3M7XG4gICAgfSwgW10pLnJldmVyc2UoKTtcbn07XG5cbnZhciBnZXRJbm5lcm1vc3RQcm9wZXJ0eSA9IGZ1bmN0aW9uIGdldElubmVybW9zdFByb3BlcnR5KHByb3BzTGlzdCwgcHJvcGVydHkpIHtcbiAgICBmb3IgKHZhciBpID0gcHJvcHNMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHByb3BzTGlzdFtpXTtcblxuICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgcmVkdWNlUHJvcHNUb1N0YXRlID0gZnVuY3Rpb24gcmVkdWNlUHJvcHNUb1N0YXRlKHByb3BzTGlzdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VUYWc6IGdldEJhc2VUYWdGcm9tUHJvcHNMaXN0KFtUQUdfUFJPUEVSVElFUy5IUkVGLCBUQUdfUFJPUEVSVElFUy5UQVJHRVRdLCBwcm9wc0xpc3QpLFxuICAgICAgICBib2R5QXR0cmlidXRlczogZ2V0QXR0cmlidXRlc0Zyb21Qcm9wc0xpc3QoQVRUUklCVVRFX05BTUVTLkJPRFksIHByb3BzTGlzdCksXG4gICAgICAgIGRlZmVyOiBnZXRJbm5lcm1vc3RQcm9wZXJ0eShwcm9wc0xpc3QsIEhFTE1FVF9QUk9QUy5ERUZFUiksXG4gICAgICAgIGVuY29kZTogZ2V0SW5uZXJtb3N0UHJvcGVydHkocHJvcHNMaXN0LCBIRUxNRVRfUFJPUFMuRU5DT0RFX1NQRUNJQUxfQ0hBUkFDVEVSUyksXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdChBVFRSSUJVVEVfTkFNRVMuSFRNTCwgcHJvcHNMaXN0KSxcbiAgICAgICAgbGlua1RhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFRBR19OQU1FUy5MSU5LLCBbVEFHX1BST1BFUlRJRVMuUkVMLCBUQUdfUFJPUEVSVElFUy5IUkVGXSwgcHJvcHNMaXN0KSxcbiAgICAgICAgbWV0YVRhZ3M6IGdldFRhZ3NGcm9tUHJvcHNMaXN0KFRBR19OQU1FUy5NRVRBLCBbVEFHX1BST1BFUlRJRVMuTkFNRSwgVEFHX1BST1BFUlRJRVMuQ0hBUlNFVCwgVEFHX1BST1BFUlRJRVMuSFRUUEVRVUlWLCBUQUdfUFJPUEVSVElFUy5QUk9QRVJUWSwgVEFHX1BST1BFUlRJRVMuSVRFTV9QUk9QXSwgcHJvcHNMaXN0KSxcbiAgICAgICAgbm9zY3JpcHRUYWdzOiBnZXRUYWdzRnJvbVByb3BzTGlzdChUQUdfTkFNRVMuTk9TQ1JJUFQsIFtUQUdfUFJPUEVSVElFUy5JTk5FUl9IVE1MXSwgcHJvcHNMaXN0KSxcbiAgICAgICAgb25DaGFuZ2VDbGllbnRTdGF0ZTogZ2V0T25DaGFuZ2VDbGllbnRTdGF0ZShwcm9wc0xpc3QpLFxuICAgICAgICBzY3JpcHRUYWdzOiBnZXRUYWdzRnJvbVByb3BzTGlzdChUQUdfTkFNRVMuU0NSSVBULCBbVEFHX1BST1BFUlRJRVMuU1JDLCBUQUdfUFJPUEVSVElFUy5JTk5FUl9IVE1MXSwgcHJvcHNMaXN0KSxcbiAgICAgICAgc3R5bGVUYWdzOiBnZXRUYWdzRnJvbVByb3BzTGlzdChUQUdfTkFNRVMuU1RZTEUsIFtUQUdfUFJPUEVSVElFUy5DU1NfVEVYVF0sIHByb3BzTGlzdCksXG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZUZyb21Qcm9wc0xpc3QocHJvcHNMaXN0KSxcbiAgICAgICAgdGl0bGVBdHRyaWJ1dGVzOiBnZXRBdHRyaWJ1dGVzRnJvbVByb3BzTGlzdChBVFRSSUJVVEVfTkFNRVMuVElUTEUsIHByb3BzTGlzdClcbiAgICB9O1xufTtcblxudmFyIHJhZlBvbHlmaWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9jayA9IERhdGUubm93KCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gY2xvY2sgPiAxNikge1xuICAgICAgICAgICAgY2xvY2sgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJhZlBvbHlmaWxsKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfTtcbn0oKTtcblxudmFyIGNhZlBvbHlmaWxsID0gZnVuY3Rpb24gY2FmUG9seWZpbGwoaWQpIHtcbiAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbn07XG5cbnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgcmFmUG9seWZpbGwgOiBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHJhZlBvbHlmaWxsO1xuXG52YXIgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgY2FmUG9seWZpbGwgOiBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgY2FmUG9seWZpbGw7XG5cbnZhciB3YXJuID0gZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICByZXR1cm4gY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIgJiYgY29uc29sZS53YXJuKG1zZyk7XG59O1xuXG52YXIgX2hlbG1ldENhbGxiYWNrID0gbnVsbDtcblxudmFyIGhhbmRsZUNsaWVudFN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2xpZW50U3RhdGVDaGFuZ2UobmV3U3RhdGUpIHtcbiAgICBpZiAoX2hlbG1ldENhbGxiYWNrKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF9oZWxtZXRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgaWYgKG5ld1N0YXRlLmRlZmVyKSB7XG4gICAgICAgIF9oZWxtZXRDYWxsYmFjayA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb21taXRUYWdDaGFuZ2VzKG5ld1N0YXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2hlbG1ldENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb21taXRUYWdDaGFuZ2VzKG5ld1N0YXRlKTtcbiAgICAgICAgX2hlbG1ldENhbGxiYWNrID0gbnVsbDtcbiAgICB9XG59O1xuXG52YXIgY29tbWl0VGFnQ2hhbmdlcyA9IGZ1bmN0aW9uIGNvbW1pdFRhZ0NoYW5nZXMobmV3U3RhdGUsIGNiKSB7XG4gICAgdmFyIGJhc2VUYWcgPSBuZXdTdGF0ZS5iYXNlVGFnLFxuICAgICAgICBib2R5QXR0cmlidXRlcyA9IG5ld1N0YXRlLmJvZHlBdHRyaWJ1dGVzLFxuICAgICAgICBodG1sQXR0cmlidXRlcyA9IG5ld1N0YXRlLmh0bWxBdHRyaWJ1dGVzLFxuICAgICAgICBsaW5rVGFncyA9IG5ld1N0YXRlLmxpbmtUYWdzLFxuICAgICAgICBtZXRhVGFncyA9IG5ld1N0YXRlLm1ldGFUYWdzLFxuICAgICAgICBub3NjcmlwdFRhZ3MgPSBuZXdTdGF0ZS5ub3NjcmlwdFRhZ3MsXG4gICAgICAgIG9uQ2hhbmdlQ2xpZW50U3RhdGUgPSBuZXdTdGF0ZS5vbkNoYW5nZUNsaWVudFN0YXRlLFxuICAgICAgICBzY3JpcHRUYWdzID0gbmV3U3RhdGUuc2NyaXB0VGFncyxcbiAgICAgICAgc3R5bGVUYWdzID0gbmV3U3RhdGUuc3R5bGVUYWdzLFxuICAgICAgICB0aXRsZSA9IG5ld1N0YXRlLnRpdGxlLFxuICAgICAgICB0aXRsZUF0dHJpYnV0ZXMgPSBuZXdTdGF0ZS50aXRsZUF0dHJpYnV0ZXM7XG5cbiAgICB1cGRhdGVBdHRyaWJ1dGVzKFRBR19OQU1FUy5CT0RZLCBib2R5QXR0cmlidXRlcyk7XG4gICAgdXBkYXRlQXR0cmlidXRlcyhUQUdfTkFNRVMuSFRNTCwgaHRtbEF0dHJpYnV0ZXMpO1xuXG4gICAgdXBkYXRlVGl0bGUodGl0bGUsIHRpdGxlQXR0cmlidXRlcyk7XG5cbiAgICB2YXIgdGFnVXBkYXRlcyA9IHtcbiAgICAgICAgYmFzZVRhZzogdXBkYXRlVGFncyhUQUdfTkFNRVMuQkFTRSwgYmFzZVRhZyksXG4gICAgICAgIGxpbmtUYWdzOiB1cGRhdGVUYWdzKFRBR19OQU1FUy5MSU5LLCBsaW5rVGFncyksXG4gICAgICAgIG1ldGFUYWdzOiB1cGRhdGVUYWdzKFRBR19OQU1FUy5NRVRBLCBtZXRhVGFncyksXG4gICAgICAgIG5vc2NyaXB0VGFnczogdXBkYXRlVGFncyhUQUdfTkFNRVMuTk9TQ1JJUFQsIG5vc2NyaXB0VGFncyksXG4gICAgICAgIHNjcmlwdFRhZ3M6IHVwZGF0ZVRhZ3MoVEFHX05BTUVTLlNDUklQVCwgc2NyaXB0VGFncyksXG4gICAgICAgIHN0eWxlVGFnczogdXBkYXRlVGFncyhUQUdfTkFNRVMuU1RZTEUsIHN0eWxlVGFncylcbiAgICB9O1xuXG4gICAgdmFyIGFkZGVkVGFncyA9IHt9O1xuICAgIHZhciByZW1vdmVkVGFncyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXModGFnVXBkYXRlcykuZm9yRWFjaChmdW5jdGlvbiAodGFnVHlwZSkge1xuICAgICAgICB2YXIgX3RhZ1VwZGF0ZXMkdGFnVHlwZSA9IHRhZ1VwZGF0ZXNbdGFnVHlwZV0sXG4gICAgICAgICAgICBuZXdUYWdzID0gX3RhZ1VwZGF0ZXMkdGFnVHlwZS5uZXdUYWdzLFxuICAgICAgICAgICAgb2xkVGFncyA9IF90YWdVcGRhdGVzJHRhZ1R5cGUub2xkVGFncztcblxuXG4gICAgICAgIGlmIChuZXdUYWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkZWRUYWdzW3RhZ1R5cGVdID0gbmV3VGFncztcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkVGFncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlbW92ZWRUYWdzW3RhZ1R5cGVdID0gdGFnVXBkYXRlc1t0YWdUeXBlXS5vbGRUYWdzO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjYiAmJiBjYigpO1xuXG4gICAgb25DaGFuZ2VDbGllbnRTdGF0ZShuZXdTdGF0ZSwgYWRkZWRUYWdzLCByZW1vdmVkVGFncyk7XG59O1xuXG52YXIgZmxhdHRlbkFycmF5ID0gZnVuY3Rpb24gZmxhdHRlbkFycmF5KHBvc3NpYmxlQXJyYXkpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwb3NzaWJsZUFycmF5KSA/IHBvc3NpYmxlQXJyYXkuam9pbihcIlwiKSA6IHBvc3NpYmxlQXJyYXk7XG59O1xuXG52YXIgdXBkYXRlVGl0bGUgPSBmdW5jdGlvbiB1cGRhdGVUaXRsZSh0aXRsZSwgYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2YgdGl0bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQudGl0bGUgIT09IHRpdGxlKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gZmxhdHRlbkFycmF5KHRpdGxlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVBdHRyaWJ1dGVzKFRBR19OQU1FUy5USVRMRSwgYXR0cmlidXRlcyk7XG59O1xuXG52YXIgdXBkYXRlQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXModGFnTmFtZSwgYXR0cmlidXRlcykge1xuICAgIHZhciBlbGVtZW50VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSlbMF07XG5cbiAgICBpZiAoIWVsZW1lbnRUYWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBoZWxtZXRBdHRyaWJ1dGVTdHJpbmcgPSBlbGVtZW50VGFnLmdldEF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFKTtcbiAgICB2YXIgaGVsbWV0QXR0cmlidXRlcyA9IGhlbG1ldEF0dHJpYnV0ZVN0cmluZyA/IGhlbG1ldEF0dHJpYnV0ZVN0cmluZy5zcGxpdChcIixcIikgOiBbXTtcbiAgICB2YXIgYXR0cmlidXRlc1RvUmVtb3ZlID0gW10uY29uY2F0KGhlbG1ldEF0dHJpYnV0ZXMpO1xuICAgIHZhciBhdHRyaWJ1dGVLZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZUtleXNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlXSB8fCBcIlwiO1xuXG4gICAgICAgIGlmIChlbGVtZW50VGFnLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudFRhZy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVsbWV0QXR0cmlidXRlcy5pbmRleE9mKGF0dHJpYnV0ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBoZWxtZXRBdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleFRvU2F2ZSA9IGF0dHJpYnV0ZXNUb1JlbW92ZS5pbmRleE9mKGF0dHJpYnV0ZSk7XG4gICAgICAgIGlmIChpbmRleFRvU2F2ZSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNUb1JlbW92ZS5zcGxpY2UoaW5kZXhUb1NhdmUsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSBhdHRyaWJ1dGVzVG9SZW1vdmUubGVuZ3RoIC0gMTsgX2kgPj0gMDsgX2ktLSkge1xuICAgICAgICBlbGVtZW50VGFnLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzVG9SZW1vdmVbX2ldKTtcbiAgICB9XG5cbiAgICBpZiAoaGVsbWV0QXR0cmlidXRlcy5sZW5ndGggPT09IGF0dHJpYnV0ZXNUb1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudFRhZy5yZW1vdmVBdHRyaWJ1dGUoSEVMTUVUX0FUVFJJQlVURSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VGFnLmdldEF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFKSAhPT0gYXR0cmlidXRlS2V5cy5qb2luKFwiLFwiKSkge1xuICAgICAgICBlbGVtZW50VGFnLnNldEF0dHJpYnV0ZShIRUxNRVRfQVRUUklCVVRFLCBhdHRyaWJ1dGVLZXlzLmpvaW4oXCIsXCIpKTtcbiAgICB9XG59O1xuXG52YXIgdXBkYXRlVGFncyA9IGZ1bmN0aW9uIHVwZGF0ZVRhZ3ModHlwZSwgdGFncykge1xuICAgIHZhciBoZWFkRWxlbWVudCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihUQUdfTkFNRVMuSEVBRCk7XG4gICAgdmFyIHRhZ05vZGVzID0gaGVhZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0eXBlICsgXCJbXCIgKyBIRUxNRVRfQVRUUklCVVRFICsgXCJdXCIpO1xuICAgIHZhciBvbGRUYWdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFnTm9kZXMpO1xuICAgIHZhciBuZXdUYWdzID0gW107XG4gICAgdmFyIGluZGV4VG9EZWxldGUgPSB2b2lkIDA7XG5cbiAgICBpZiAodGFncyAmJiB0YWdzLmxlbmd0aCkge1xuICAgICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgdmFyIG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gdGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZy5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUgPT09IFRBR19QUk9QRVJUSUVTLklOTkVSX0hUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gdGFnLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IFRBR19QUk9QRVJUSUVTLkNTU19URVhUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSB0YWcuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0YWcuY3NzVGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdHlwZW9mIHRhZ1thdHRyaWJ1dGVdID09PSBcInVuZGVmaW5lZFwiID8gXCJcIiA6IHRhZ1thdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld0VsZW1lbnQuc2V0QXR0cmlidXRlKEhFTE1FVF9BVFRSSUJVVEUsIFwidHJ1ZVwiKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIGEgZHVwbGljYXRlIHRhZyBmcm9tIGRvbVRhZ3N0b1JlbW92ZSwgc28gaXQgaXNuJ3QgY2xlYXJlZC5cbiAgICAgICAgICAgIGlmIChvbGRUYWdzLnNvbWUoZnVuY3Rpb24gKGV4aXN0aW5nVGFnLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGluZGV4VG9EZWxldGUgPSBpbmRleDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RWxlbWVudC5pc0VxdWFsTm9kZShleGlzdGluZ1RhZyk7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIG9sZFRhZ3Muc3BsaWNlKGluZGV4VG9EZWxldGUsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdUYWdzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9sZFRhZ3MuZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIHJldHVybiB0YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWcpO1xuICAgIH0pO1xuICAgIG5ld1RhZ3MuZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIHJldHVybiBoZWFkRWxlbWVudC5hcHBlbmRDaGlsZCh0YWcpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2xkVGFnczogb2xkVGFncyxcbiAgICAgICAgbmV3VGFnczogbmV3VGFnc1xuICAgIH07XG59O1xuXG52YXIgZ2VuZXJhdGVFbGVtZW50QXR0cmlidXRlc0FzU3RyaW5nID0gZnVuY3Rpb24gZ2VuZXJhdGVFbGVtZW50QXR0cmlidXRlc0FzU3RyaW5nKGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYXR0cmlidXRlcykucmVkdWNlKGZ1bmN0aW9uIChzdHIsIGtleSkge1xuICAgICAgICB2YXIgYXR0ciA9IHR5cGVvZiBhdHRyaWJ1dGVzW2tleV0gIT09IFwidW5kZWZpbmVkXCIgPyBrZXkgKyBcIj1cXFwiXCIgKyBhdHRyaWJ1dGVzW2tleV0gKyBcIlxcXCJcIiA6IFwiXCIgKyBrZXk7XG4gICAgICAgIHJldHVybiBzdHIgPyBzdHIgKyBcIiBcIiArIGF0dHIgOiBhdHRyO1xuICAgIH0sIFwiXCIpO1xufTtcblxudmFyIGdlbmVyYXRlVGl0bGVBc1N0cmluZyA9IGZ1bmN0aW9uIGdlbmVyYXRlVGl0bGVBc1N0cmluZyh0eXBlLCB0aXRsZSwgYXR0cmlidXRlcywgZW5jb2RlKSB7XG4gICAgdmFyIGF0dHJpYnV0ZVN0cmluZyA9IGdlbmVyYXRlRWxlbWVudEF0dHJpYnV0ZXNBc1N0cmluZyhhdHRyaWJ1dGVzKTtcbiAgICB2YXIgZmxhdHRlbmVkVGl0bGUgPSBmbGF0dGVuQXJyYXkodGl0bGUpO1xuICAgIHJldHVybiBhdHRyaWJ1dGVTdHJpbmcgPyBcIjxcIiArIHR5cGUgKyBcIiBcIiArIEhFTE1FVF9BVFRSSUJVVEUgKyBcIj1cXFwidHJ1ZVxcXCIgXCIgKyBhdHRyaWJ1dGVTdHJpbmcgKyBcIj5cIiArIGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzKGZsYXR0ZW5lZFRpdGxlLCBlbmNvZGUpICsgXCI8L1wiICsgdHlwZSArIFwiPlwiIDogXCI8XCIgKyB0eXBlICsgXCIgXCIgKyBIRUxNRVRfQVRUUklCVVRFICsgXCI9XFxcInRydWVcXFwiPlwiICsgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnMoZmxhdHRlbmVkVGl0bGUsIGVuY29kZSkgKyBcIjwvXCIgKyB0eXBlICsgXCI+XCI7XG59O1xuXG52YXIgZ2VuZXJhdGVUYWdzQXNTdHJpbmcgPSBmdW5jdGlvbiBnZW5lcmF0ZVRhZ3NBc1N0cmluZyh0eXBlLCB0YWdzLCBlbmNvZGUpIHtcbiAgICByZXR1cm4gdGFncy5yZWR1Y2UoZnVuY3Rpb24gKHN0ciwgdGFnKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVIdG1sID0gT2JqZWN0LmtleXModGFnKS5maWx0ZXIoZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuICEoYXR0cmlidXRlID09PSBUQUdfUFJPUEVSVElFUy5JTk5FUl9IVE1MIHx8IGF0dHJpYnV0ZSA9PT0gVEFHX1BST1BFUlRJRVMuQ1NTX1RFWFQpO1xuICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHN0cmluZywgYXR0cmlidXRlKSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IHR5cGVvZiB0YWdbYXR0cmlidXRlXSA9PT0gXCJ1bmRlZmluZWRcIiA/IGF0dHJpYnV0ZSA6IGF0dHJpYnV0ZSArIFwiPVxcXCJcIiArIGVuY29kZVNwZWNpYWxDaGFyYWN0ZXJzKHRhZ1thdHRyaWJ1dGVdLCBlbmNvZGUpICsgXCJcXFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gc3RyaW5nICsgXCIgXCIgKyBhdHRyIDogYXR0cjtcbiAgICAgICAgfSwgXCJcIik7XG5cbiAgICAgICAgdmFyIHRhZ0NvbnRlbnQgPSB0YWcuaW5uZXJIVE1MIHx8IHRhZy5jc3NUZXh0IHx8IFwiXCI7XG5cbiAgICAgICAgdmFyIGlzU2VsZkNsb3NpbmcgPSBTRUxGX0NMT1NJTkdfVEFHUy5pbmRleE9mKHR5cGUpID09PSAtMTtcblxuICAgICAgICByZXR1cm4gc3RyICsgXCI8XCIgKyB0eXBlICsgXCIgXCIgKyBIRUxNRVRfQVRUUklCVVRFICsgXCI9XFxcInRydWVcXFwiIFwiICsgYXR0cmlidXRlSHRtbCArIChpc1NlbGZDbG9zaW5nID8gXCIvPlwiIDogXCI+XCIgKyB0YWdDb250ZW50ICsgXCI8L1wiICsgdHlwZSArIFwiPlwiKTtcbiAgICB9LCBcIlwiKTtcbn07XG5cbnZhciBjb252ZXJ0RWxlbWVudEF0dHJpYnV0ZXN0b1JlYWN0UHJvcHMgPSBmdW5jdGlvbiBjb252ZXJ0RWxlbWVudEF0dHJpYnV0ZXN0b1JlYWN0UHJvcHMoYXR0cmlidXRlcykge1xuICAgIHZhciBpbml0UHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICAgICAgb2JqW1JFQUNUX1RBR19NQVBba2V5XSB8fCBrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIGluaXRQcm9wcyk7XG59O1xuXG52YXIgY29udmVydFJlYWN0UHJvcHN0b0h0bWxBdHRyaWJ1dGVzID0gZnVuY3Rpb24gY29udmVydFJlYWN0UHJvcHN0b0h0bWxBdHRyaWJ1dGVzKHByb3BzKSB7XG4gICAgdmFyIGluaXRBdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICBvYmpbSFRNTF9UQUdfTUFQW2tleV0gfHwga2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwgaW5pdEF0dHJpYnV0ZXMpO1xufTtcblxudmFyIGdlbmVyYXRlVGl0bGVBc1JlYWN0Q29tcG9uZW50ID0gZnVuY3Rpb24gZ2VuZXJhdGVUaXRsZUFzUmVhY3RDb21wb25lbnQodHlwZSwgdGl0bGUsIGF0dHJpYnV0ZXMpIHtcbiAgICB2YXIgX2luaXRQcm9wcztcblxuICAgIC8vIGFzc2lnbmluZyBpbnRvIGFuIGFycmF5IHRvIGRlZmluZSB0b1N0cmluZyBmdW5jdGlvbiBvbiBpdFxuICAgIHZhciBpbml0UHJvcHMgPSAoX2luaXRQcm9wcyA9IHtcbiAgICAgICAga2V5OiB0aXRsZVxuICAgIH0sIF9pbml0UHJvcHNbSEVMTUVUX0FUVFJJQlVURV0gPSB0cnVlLCBfaW5pdFByb3BzKTtcbiAgICB2YXIgcHJvcHMgPSBjb252ZXJ0RWxlbWVudEF0dHJpYnV0ZXN0b1JlYWN0UHJvcHMoYXR0cmlidXRlcywgaW5pdFByb3BzKTtcblxuICAgIHJldHVybiBbUmVhY3QuY3JlYXRlRWxlbWVudChUQUdfTkFNRVMuVElUTEUsIHByb3BzLCB0aXRsZSldO1xufTtcblxudmFyIGdlbmVyYXRlVGFnc0FzUmVhY3RDb21wb25lbnQgPSBmdW5jdGlvbiBnZW5lcmF0ZVRhZ3NBc1JlYWN0Q29tcG9uZW50KHR5cGUsIHRhZ3MpIHtcbiAgICByZXR1cm4gdGFncy5tYXAoZnVuY3Rpb24gKHRhZywgaSkge1xuICAgICAgICB2YXIgX21hcHBlZFRhZztcblxuICAgICAgICB2YXIgbWFwcGVkVGFnID0gKF9tYXBwZWRUYWcgPSB7XG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgfSwgX21hcHBlZFRhZ1tIRUxNRVRfQVRUUklCVVRFXSA9IHRydWUsIF9tYXBwZWRUYWcpO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHRhZykuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgICAgICB2YXIgbWFwcGVkQXR0cmlidXRlID0gUkVBQ1RfVEFHX01BUFthdHRyaWJ1dGVdIHx8IGF0dHJpYnV0ZTtcblxuICAgICAgICAgICAgaWYgKG1hcHBlZEF0dHJpYnV0ZSA9PT0gVEFHX1BST1BFUlRJRVMuSU5ORVJfSFRNTCB8fCBtYXBwZWRBdHRyaWJ1dGUgPT09IFRBR19QUk9QRVJUSUVTLkNTU19URVhUKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0YWcuaW5uZXJIVE1MIHx8IHRhZy5jc3NUZXh0O1xuICAgICAgICAgICAgICAgIG1hcHBlZFRhZy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9IHsgX19odG1sOiBjb250ZW50IH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcHBlZFRhZ1ttYXBwZWRBdHRyaWJ1dGVdID0gdGFnW2F0dHJpYnV0ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHR5cGUsIG1hcHBlZFRhZyk7XG4gICAgfSk7XG59O1xuXG52YXIgZ2V0TWV0aG9kc0ZvclRhZyA9IGZ1bmN0aW9uIGdldE1ldGhvZHNGb3JUYWcodHlwZSwgdGFncywgZW5jb2RlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVEFHX05BTUVTLlRJVExFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b0NvbXBvbmVudDogZnVuY3Rpb24gdG9Db21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVRpdGxlQXNSZWFjdENvbXBvbmVudCh0eXBlLCB0YWdzLnRpdGxlLCB0YWdzLnRpdGxlQXR0cmlidXRlcywgZW5jb2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlVGl0bGVBc1N0cmluZyh0eXBlLCB0YWdzLnRpdGxlLCB0YWdzLnRpdGxlQXR0cmlidXRlcywgZW5jb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIEFUVFJJQlVURV9OQU1FUy5CT0RZOlxuICAgICAgICBjYXNlIEFUVFJJQlVURV9OQU1FUy5IVE1MOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b0NvbXBvbmVudDogZnVuY3Rpb24gdG9Db21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0RWxlbWVudEF0dHJpYnV0ZXN0b1JlYWN0UHJvcHModGFncyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUVsZW1lbnRBdHRyaWJ1dGVzQXNTdHJpbmcodGFncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9Db21wb25lbnQ6IGZ1bmN0aW9uIHRvQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVUYWdzQXNSZWFjdENvbXBvbmVudCh0eXBlLCB0YWdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlVGFnc0FzU3RyaW5nKHR5cGUsIHRhZ3MsIGVuY29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICB9XG59O1xuXG52YXIgbWFwU3RhdGVPblNlcnZlciA9IGZ1bmN0aW9uIG1hcFN0YXRlT25TZXJ2ZXIoX3JlZikge1xuICAgIHZhciBiYXNlVGFnID0gX3JlZi5iYXNlVGFnLFxuICAgICAgICBib2R5QXR0cmlidXRlcyA9IF9yZWYuYm9keUF0dHJpYnV0ZXMsXG4gICAgICAgIGVuY29kZSA9IF9yZWYuZW5jb2RlLFxuICAgICAgICBodG1sQXR0cmlidXRlcyA9IF9yZWYuaHRtbEF0dHJpYnV0ZXMsXG4gICAgICAgIGxpbmtUYWdzID0gX3JlZi5saW5rVGFncyxcbiAgICAgICAgbWV0YVRhZ3MgPSBfcmVmLm1ldGFUYWdzLFxuICAgICAgICBub3NjcmlwdFRhZ3MgPSBfcmVmLm5vc2NyaXB0VGFncyxcbiAgICAgICAgc2NyaXB0VGFncyA9IF9yZWYuc2NyaXB0VGFncyxcbiAgICAgICAgc3R5bGVUYWdzID0gX3JlZi5zdHlsZVRhZ3MsXG4gICAgICAgIF9yZWYkdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgICAgICB0aXRsZSA9IF9yZWYkdGl0bGUgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBfcmVmJHRpdGxlLFxuICAgICAgICB0aXRsZUF0dHJpYnV0ZXMgPSBfcmVmLnRpdGxlQXR0cmlidXRlcztcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNlOiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5CQVNFLCBiYXNlVGFnLCBlbmNvZGUpLFxuICAgICAgICBib2R5QXR0cmlidXRlczogZ2V0TWV0aG9kc0ZvclRhZyhBVFRSSUJVVEVfTkFNRVMuQk9EWSwgYm9keUF0dHJpYnV0ZXMsIGVuY29kZSksXG4gICAgICAgIGh0bWxBdHRyaWJ1dGVzOiBnZXRNZXRob2RzRm9yVGFnKEFUVFJJQlVURV9OQU1FUy5IVE1MLCBodG1sQXR0cmlidXRlcywgZW5jb2RlKSxcbiAgICAgICAgbGluazogZ2V0TWV0aG9kc0ZvclRhZyhUQUdfTkFNRVMuTElOSywgbGlua1RhZ3MsIGVuY29kZSksXG4gICAgICAgIG1ldGE6IGdldE1ldGhvZHNGb3JUYWcoVEFHX05BTUVTLk1FVEEsIG1ldGFUYWdzLCBlbmNvZGUpLFxuICAgICAgICBub3NjcmlwdDogZ2V0TWV0aG9kc0ZvclRhZyhUQUdfTkFNRVMuTk9TQ1JJUFQsIG5vc2NyaXB0VGFncywgZW5jb2RlKSxcbiAgICAgICAgc2NyaXB0OiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5TQ1JJUFQsIHNjcmlwdFRhZ3MsIGVuY29kZSksXG4gICAgICAgIHN0eWxlOiBnZXRNZXRob2RzRm9yVGFnKFRBR19OQU1FUy5TVFlMRSwgc3R5bGVUYWdzLCBlbmNvZGUpLFxuICAgICAgICB0aXRsZTogZ2V0TWV0aG9kc0ZvclRhZyhUQUdfTkFNRVMuVElUTEUsIHsgdGl0bGU6IHRpdGxlLCB0aXRsZUF0dHJpYnV0ZXM6IHRpdGxlQXR0cmlidXRlcyB9LCBlbmNvZGUpXG4gICAgfTtcbn07XG5cbnZhciBIZWxtZXQgPSBmdW5jdGlvbiBIZWxtZXQoQ29tcG9uZW50KSB7XG4gICAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgICByZXR1cm4gX3RlbXAgPSBfY2xhc3MgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICAgICBpbmhlcml0cyhIZWxtZXRXcmFwcGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBIZWxtZXRXcmFwcGVyKCkge1xuICAgICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVsbWV0V3JhcHBlcik7XG4gICAgICAgICAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgSGVsbWV0V3JhcHBlci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuICFpc0VxdWFsKHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgSGVsbWV0V3JhcHBlci5wcm90b3R5cGUubWFwTmVzdGVkQ2hpbGRyZW5Ub1Byb3BzID0gZnVuY3Rpb24gbWFwTmVzdGVkQ2hpbGRyZW5Ub1Byb3BzKGNoaWxkLCBuZXN0ZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFuZXN0ZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5TQ1JJUFQ6XG4gICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuTk9TQ1JJUFQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUw6IG5lc3RlZENoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5TVFlMRTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQ6IG5lc3RlZENoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxcIiArIGNoaWxkLnR5cGUgKyBcIiAvPiBlbGVtZW50cyBhcmUgc2VsZi1jbG9zaW5nIGFuZCBjYW4gbm90IGNvbnRhaW4gY2hpbGRyZW4uIFJlZmVyIHRvIG91ciBBUEkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIEhlbG1ldFdyYXBwZXIucHJvdG90eXBlLmZsYXR0ZW5BcnJheVR5cGVDaGlsZHJlbiA9IGZ1bmN0aW9uIGZsYXR0ZW5BcnJheVR5cGVDaGlsZHJlbihfcmVmKSB7XG4gICAgICAgICAgICB2YXIgX2JhYmVsSGVscGVycyRleHRlbmRzO1xuXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBfcmVmLmNoaWxkLFxuICAgICAgICAgICAgICAgIGFycmF5VHlwZUNoaWxkcmVuID0gX3JlZi5hcnJheVR5cGVDaGlsZHJlbixcbiAgICAgICAgICAgICAgICBuZXdDaGlsZFByb3BzID0gX3JlZi5uZXdDaGlsZFByb3BzLFxuICAgICAgICAgICAgICAgIG5lc3RlZENoaWxkcmVuID0gX3JlZi5uZXN0ZWRDaGlsZHJlbjtcblxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcnJheVR5cGVDaGlsZHJlbiwgKF9iYWJlbEhlbHBlcnMkZXh0ZW5kcyA9IHt9LCBfYmFiZWxIZWxwZXJzJGV4dGVuZHNbY2hpbGQudHlwZV0gPSBbXS5jb25jYXQoYXJyYXlUeXBlQ2hpbGRyZW5bY2hpbGQudHlwZV0gfHwgW10sIFtfZXh0ZW5kcyh7fSwgbmV3Q2hpbGRQcm9wcywgdGhpcy5tYXBOZXN0ZWRDaGlsZHJlblRvUHJvcHMoY2hpbGQsIG5lc3RlZENoaWxkcmVuKSldKSwgX2JhYmVsSGVscGVycyRleHRlbmRzKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgSGVsbWV0V3JhcHBlci5wcm90b3R5cGUubWFwT2JqZWN0VHlwZUNoaWxkcmVuID0gZnVuY3Rpb24gbWFwT2JqZWN0VHlwZUNoaWxkcmVuKF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgX2JhYmVsSGVscGVycyRleHRlbmRzMiwgX2JhYmVsSGVscGVycyRleHRlbmRzMztcblxuICAgICAgICAgICAgdmFyIGNoaWxkID0gX3JlZjIuY2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3UHJvcHMgPSBfcmVmMi5uZXdQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZFByb3BzID0gX3JlZjIubmV3Q2hpbGRQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXN0ZWRDaGlsZHJlbiA9IF9yZWYyLm5lc3RlZENoaWxkcmVuO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5USVRMRTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXdQcm9wcywgKF9iYWJlbEhlbHBlcnMkZXh0ZW5kczIgPSB7fSwgX2JhYmVsSGVscGVycyRleHRlbmRzMltjaGlsZC50eXBlXSA9IG5lc3RlZENoaWxkcmVuLCBfYmFiZWxIZWxwZXJzJGV4dGVuZHMyLnRpdGxlQXR0cmlidXRlcyA9IF9leHRlbmRzKHt9LCBuZXdDaGlsZFByb3BzKSwgX2JhYmVsSGVscGVycyRleHRlbmRzMikpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBUQUdfTkFNRVMuQk9EWTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXdQcm9wcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUF0dHJpYnV0ZXM6IF9leHRlbmRzKHt9LCBuZXdDaGlsZFByb3BzKVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLkhUTUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxBdHRyaWJ1dGVzOiBfZXh0ZW5kcyh7fSwgbmV3Q2hpbGRQcm9wcylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMsIChfYmFiZWxIZWxwZXJzJGV4dGVuZHMzID0ge30sIF9iYWJlbEhlbHBlcnMkZXh0ZW5kczNbY2hpbGQudHlwZV0gPSBfZXh0ZW5kcyh7fSwgbmV3Q2hpbGRQcm9wcyksIF9iYWJlbEhlbHBlcnMkZXh0ZW5kczMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS5tYXBBcnJheVR5cGVDaGlsZHJlblRvUHJvcHMgPSBmdW5jdGlvbiBtYXBBcnJheVR5cGVDaGlsZHJlblRvUHJvcHMoYXJyYXlUeXBlQ2hpbGRyZW4sIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICB2YXIgbmV3RmxhdHRlbmVkUHJvcHMgPSBfZXh0ZW5kcyh7fSwgbmV3UHJvcHMpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhcnJheVR5cGVDaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoYXJyYXlDaGlsZE5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2JhYmVsSGVscGVycyRleHRlbmRzNDtcblxuICAgICAgICAgICAgICAgIG5ld0ZsYXR0ZW5lZFByb3BzID0gX2V4dGVuZHMoe30sIG5ld0ZsYXR0ZW5lZFByb3BzLCAoX2JhYmVsSGVscGVycyRleHRlbmRzNCA9IHt9LCBfYmFiZWxIZWxwZXJzJGV4dGVuZHM0W2FycmF5Q2hpbGROYW1lXSA9IGFycmF5VHlwZUNoaWxkcmVuW2FycmF5Q2hpbGROYW1lXSwgX2JhYmVsSGVscGVycyRleHRlbmRzNCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdGbGF0dGVuZWRQcm9wcztcbiAgICAgICAgfTtcblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS53YXJuT25JbnZhbGlkQ2hpbGRyZW4gPSBmdW5jdGlvbiB3YXJuT25JbnZhbGlkQ2hpbGRyZW4oY2hpbGQsIG5lc3RlZENoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFWQUxJRF9UQUdfTkFNRVMuc29tZShmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQudHlwZSA9PT0gbmFtZTtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkLnR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdhcm4oXCJZb3UgbWF5IGJlIGF0dGVtcHRpbmcgdG8gbmVzdCA8SGVsbWV0PiBjb21wb25lbnRzIHdpdGhpbiBlYWNoIG90aGVyLCB3aGljaCBpcyBub3QgYWxsb3dlZC4gUmVmZXIgdG8gb3VyIEFQSSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2FybihcIk9ubHkgZWxlbWVudHMgdHlwZXMgXCIgKyBWQUxJRF9UQUdfTkFNRVMuam9pbihcIiwgXCIpICsgXCIgYXJlIGFsbG93ZWQuIEhlbG1ldCBkb2VzIG5vdCBzdXBwb3J0IHJlbmRlcmluZyA8XCIgKyBjaGlsZC50eXBlICsgXCI+IGVsZW1lbnRzLiBSZWZlciB0byBvdXIgQVBJIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobmVzdGVkQ2hpbGRyZW4gJiYgdHlwZW9mIG5lc3RlZENoaWxkcmVuICE9PSBcInN0cmluZ1wiICYmICghQXJyYXkuaXNBcnJheShuZXN0ZWRDaGlsZHJlbikgfHwgbmVzdGVkQ2hpbGRyZW4uc29tZShmdW5jdGlvbiAobmVzdGVkQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBuZXN0ZWRDaGlsZCAhPT0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICB9KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVsbWV0IGV4cGVjdHMgYSBzdHJpbmcgYXMgYSBjaGlsZCBvZiA8XCIgKyBjaGlsZC50eXBlICsgXCI+LiBEaWQgeW91IGZvcmdldCB0byB3cmFwIHlvdXIgY2hpbGRyZW4gaW4gYnJhY2VzPyAoIDxcIiArIGNoaWxkLnR5cGUgKyBcIj57YGB9PC9cIiArIGNoaWxkLnR5cGUgKyBcIj4gKSBSZWZlciB0byBvdXIgQVBJIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIEhlbG1ldFdyYXBwZXIucHJvdG90eXBlLm1hcENoaWxkcmVuVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcENoaWxkcmVuVG9Qcm9wcyhjaGlsZHJlbiwgbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgYXJyYXlUeXBlQ2hpbGRyZW4gPSB7fTtcblxuICAgICAgICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQucHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBfY2hpbGQkcHJvcHMgPSBjaGlsZC5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbmVzdGVkQ2hpbGRyZW4gPSBfY2hpbGQkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHMgPSBvYmplY3RXaXRob3V0UHJvcGVydGllcyhfY2hpbGQkcHJvcHMsIFtcImNoaWxkcmVuXCJdKTtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZFByb3BzID0gY29udmVydFJlYWN0UHJvcHN0b0h0bWxBdHRyaWJ1dGVzKGNoaWxkUHJvcHMpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMyLndhcm5PbkludmFsaWRDaGlsZHJlbihjaGlsZCwgbmVzdGVkQ2hpbGRyZW4pO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaGlsZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLkxJTks6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLk1FVEE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLk5PU0NSSVBUOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRBR19OQU1FUy5TQ1JJUFQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFHX05BTUVTLlNUWUxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlUeXBlQ2hpbGRyZW4gPSBfdGhpczIuZmxhdHRlbkFycmF5VHlwZUNoaWxkcmVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlUeXBlQ2hpbGRyZW46IGFycmF5VHlwZUNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkUHJvcHM6IG5ld0NoaWxkUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkQ2hpbGRyZW46IG5lc3RlZENoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyA9IF90aGlzMi5tYXBPYmplY3RUeXBlQ2hpbGRyZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wczogbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRQcm9wczogbmV3Q2hpbGRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXN0ZWRDaGlsZHJlbjogbmVzdGVkQ2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5ld1Byb3BzID0gdGhpcy5tYXBBcnJheVR5cGVDaGlsZHJlblRvUHJvcHMoYXJyYXlUeXBlQ2hpbGRyZW4sIG5ld1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdQcm9wcztcbiAgICAgICAgfTtcblxuICAgICAgICBIZWxtZXRXcmFwcGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBwcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3UHJvcHMgPSBfZXh0ZW5kcyh7fSwgcHJvcHMpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBuZXdQcm9wcyA9IHRoaXMubWFwQ2hpbGRyZW5Ub1Byb3BzKGNoaWxkcmVuLCBuZXdQcm9wcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgbmV3UHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNyZWF0ZUNsYXNzKEhlbG1ldFdyYXBwZXIsIG51bGwsIFt7XG4gICAgICAgICAgICBrZXk6IFwiY2FuVXNlRE9NXCIsXG5cblxuICAgICAgICAgICAgLy8gQ29tcG9uZW50LnBlZWsgY29tZXMgZnJvbSByZWFjdC1zaWRlLWVmZmVjdDpcbiAgICAgICAgICAgIC8vIEZvciB0ZXN0aW5nLCB5b3UgbWF5IHVzZSBhIHN0YXRpYyBwZWVrKCkgbWV0aG9kIGF2YWlsYWJsZSBvbiB0aGUgcmV0dXJuZWQgY29tcG9uZW50LlxuICAgICAgICAgICAgLy8gSXQgbGV0cyB5b3UgZ2V0IHRoZSBjdXJyZW50IHN0YXRlIHdpdGhvdXQgcmVzZXR0aW5nIHRoZSBtb3VudGVkIGluc3RhbmNlIHN0YWNrLlxuICAgICAgICAgICAgLy8gRG9u4oCZdCB1c2UgaXQgZm9yIGFueXRoaW5nIG90aGVyIHRoYW4gdGVzdGluZy5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gYmFzZToge1widGFyZ2V0XCI6IFwiX2JsYW5rXCIsIFwiaHJlZlwiOiBcImh0dHA6Ly9teXNpdGUuY29tL1wifVxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGJvZHlBdHRyaWJ1dGVzOiB7XCJjbGFzc05hbWVcIjogXCJyb290XCJ9XG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVmYXVsdFRpdGxlOiBcIkRlZmF1bHQgVGl0bGVcIlxuICAgICAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBkZWZlcjogdHJ1ZVxuICAgICAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyczogdHJ1ZVxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGh0bWxBdHRyaWJ1dGVzOiB7XCJsYW5nXCI6IFwiZW5cIiwgXCJhbXBcIjogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbGluazogW3tcInJlbFwiOiBcImNhbm9uaWNhbFwiLCBcImhyZWZcIjogXCJodHRwOi8vbXlzaXRlLmNvbS9leGFtcGxlXCJ9XVxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbWV0YTogW3tcIm5hbWVcIjogXCJkZXNjcmlwdGlvblwiLCBcImNvbnRlbnRcIjogXCJUZXN0IGRlc2NyaXB0aW9uXCJ9XVxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gbm9zY3JpcHQ6IFt7XCJpbm5lckhUTUxcIjogXCI8aW1nIHNyYz0naHR0cDovL215c2l0ZS5jb20vanMvdGVzdC5qcydcIn1dXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkNoYW5nZUNsaWVudFN0YXRlOiBcIihuZXdTdGF0ZSkgPT4gY29uc29sZS5sb2cobmV3U3RhdGUpXCJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHNjcmlwdDogW3tcInR5cGVcIjogXCJ0ZXh0L2phdmFzY3JpcHRcIiwgXCJzcmNcIjogXCJodHRwOi8vbXlzaXRlLmNvbS9qcy90ZXN0LmpzXCJ9XVxuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gc3R5bGU6IFt7XCJ0eXBlXCI6IFwidGV4dC9jc3NcIiwgXCJjc3NUZXh0XCI6IFwiZGl2IHsgZGlzcGxheTogYmxvY2s7IGNvbG9yOiBibHVlOyB9XCJ9XVxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlOiBcIlRpdGxlXCJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0aXRsZUF0dHJpYnV0ZXM6IHtcIml0ZW1wcm9wXCI6IFwibmFtZVwifVxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlVGVtcGxhdGU6IFwiTXlTaXRlLmNvbSAtICVzXCJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEoY2FuVXNlRE9NKSB7XG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LmNhblVzZURPTSA9IGNhblVzZURPTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuICAgICAgICByZXR1cm4gSGVsbWV0V3JhcHBlcjtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCksIF9jbGFzcy5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGJhc2U6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIGJvZHlBdHRyaWJ1dGVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm5vZGUpLCBQcm9wVHlwZXMubm9kZV0pLFxuICAgICAgICBkZWZhdWx0VGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGRlZmVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnM6IFByb3BUeXBlcy5ib29sLFxuICAgICAgICBodG1sQXR0cmlidXRlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgbGluazogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIG1ldGE6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLFxuICAgICAgICBub3NjcmlwdDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIG9uQ2hhbmdlQ2xpZW50U3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgICBzY3JpcHQ6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLFxuICAgICAgICBzdHlsZTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gICAgICAgIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICB0aXRsZUF0dHJpYnV0ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIHRpdGxlVGVtcGxhdGU6IFByb3BUeXBlcy5zdHJpbmdcbiAgICB9LCBfY2xhc3MuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgZW5jb2RlU3BlY2lhbENoYXJhY3RlcnM6IHRydWVcbiAgICB9LCBfY2xhc3MucGVlayA9IENvbXBvbmVudC5wZWVrLCBfY2xhc3MucmV3aW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwcGVkU3RhdGUgPSBDb21wb25lbnQucmV3aW5kKCk7XG4gICAgICAgIGlmICghbWFwcGVkU3RhdGUpIHtcbiAgICAgICAgICAgIC8vIHByb3ZpZGUgZmFsbGJhY2sgaWYgbWFwcGVkU3RhdGUgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlT25TZXJ2ZXIoe1xuICAgICAgICAgICAgICAgIGJhc2VUYWc6IFtdLFxuICAgICAgICAgICAgICAgIGJvZHlBdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgICAgICAgICBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBodG1sQXR0cmlidXRlczoge30sXG4gICAgICAgICAgICAgICAgbGlua1RhZ3M6IFtdLFxuICAgICAgICAgICAgICAgIG1ldGFUYWdzOiBbXSxcbiAgICAgICAgICAgICAgICBub3NjcmlwdFRhZ3M6IFtdLFxuICAgICAgICAgICAgICAgIHNjcmlwdFRhZ3M6IFtdLFxuICAgICAgICAgICAgICAgIHN0eWxlVGFnczogW10sXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgdGl0bGVBdHRyaWJ1dGVzOiB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG4gICAgfSwgX3RlbXA7XG59O1xuXG52YXIgTnVsbENvbXBvbmVudCA9IGZ1bmN0aW9uIE51bGxDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgSGVsbWV0U2lkZUVmZmVjdHMgPSB3aXRoU2lkZUVmZmVjdChyZWR1Y2VQcm9wc1RvU3RhdGUsIGhhbmRsZUNsaWVudFN0YXRlQ2hhbmdlLCBtYXBTdGF0ZU9uU2VydmVyKShOdWxsQ29tcG9uZW50KTtcblxudmFyIEhlbG1ldEV4cG9ydCA9IEhlbG1ldChIZWxtZXRTaWRlRWZmZWN0cyk7XG5IZWxtZXRFeHBvcnQucmVuZGVyU3RhdGljID0gSGVsbWV0RXhwb3J0LnJld2luZDtcblxuZXhwb3J0IGRlZmF1bHQgSGVsbWV0RXhwb3J0O1xuZXhwb3J0IHsgSGVsbWV0RXhwb3J0IGFzIEhlbG1ldCB9O1xuIiwiLy9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQiwgY29tcGFyZSwgY29tcGFyZUNvbnRleHQpIHtcbiAgdmFyIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIG9iakEsIG9iakIpIDogdm9pZCAwO1xuXG4gIGlmIChyZXQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiAhIXJldDtcbiAgfVxuXG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iakEgIT09IFwib2JqZWN0XCIgfHwgIW9iakEgfHwgdHlwZW9mIG9iakIgIT09IFwib2JqZWN0XCIgfHwgIW9iakIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGJIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYmluZChvYmpCKTtcblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBrZXlzQS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNBW2lkeF07XG5cbiAgICBpZiAoIWJIYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlQSA9IG9iakFba2V5XTtcbiAgICB2YXIgdmFsdWVCID0gb2JqQltrZXldO1xuXG4gICAgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgdmFsdWVBLCB2YWx1ZUIsIGtleSkgOiB2b2lkIDA7XG5cbiAgICBpZiAocmV0ID09PSBmYWxzZSB8fCAocmV0ID09PSB2b2lkIDAgJiYgdmFsdWVBICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuIiwiZnVuY3Rpb24gc3R5bGlzX21pbiAoVykge1xuICBmdW5jdGlvbiBNKGQsIGMsIGUsIGgsIGEpIHtcbiAgICBmb3IgKHZhciBtID0gMCwgYiA9IDAsIHYgPSAwLCBuID0gMCwgcSwgZywgeCA9IDAsIEsgPSAwLCBrLCB1ID0gayA9IHEgPSAwLCBsID0gMCwgciA9IDAsIEkgPSAwLCB0ID0gMCwgQiA9IGUubGVuZ3RoLCBKID0gQiAtIDEsIHksIGYgPSAnJywgcCA9ICcnLCBGID0gJycsIEcgPSAnJywgQzsgbCA8IEI7KSB7XG4gICAgICBnID0gZS5jaGFyQ29kZUF0KGwpO1xuICAgICAgbCA9PT0gSiAmJiAwICE9PSBiICsgbiArIHYgKyBtICYmICgwICE9PSBiICYmIChnID0gNDcgPT09IGIgPyAxMCA6IDQ3KSwgbiA9IHYgPSBtID0gMCwgQisrLCBKKyspO1xuXG4gICAgICBpZiAoMCA9PT0gYiArIG4gKyB2ICsgbSkge1xuICAgICAgICBpZiAobCA9PT0gSiAmJiAoMCA8IHIgJiYgKGYgPSBmLnJlcGxhY2UoTiwgJycpKSwgMCA8IGYudHJpbSgpLmxlbmd0aCkpIHtcbiAgICAgICAgICBzd2l0Y2ggKGcpIHtcbiAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBmICs9IGUuY2hhckF0KGwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGcgPSA1OTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICAgIGNhc2UgMTIzOlxuICAgICAgICAgICAgZiA9IGYudHJpbSgpO1xuICAgICAgICAgICAgcSA9IGYuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGsgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKHQgPSArK2w7IGwgPCBCOykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGcgPSBlLmNoYXJDb2RlQXQobCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEyMzpcbiAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxMjU6XG4gICAgICAgICAgICAgICAgICBrLS07XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKGcgPSBlLmNoYXJDb2RlQXQobCArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh1ID0gbCArIDE7IHUgPCBKOyArK3UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLmNoYXJDb2RlQXQodSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDQyID09PSBnICYmIDQyID09PSBlLmNoYXJDb2RlQXQodSAtIDEpICYmIGwgKyAyICE9PSB1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB1ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDQ3ID09PSBnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB1ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSB1O1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgOTE6XG4gICAgICAgICAgICAgICAgICBnKys7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgZysrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgZm9yICg7IGwrKyA8IEogJiYgZS5jaGFyQ29kZUF0KGwpICE9PSBnOykge1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoMCA9PT0gaykgYnJlYWs7XG4gICAgICAgICAgICAgIGwrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgayA9IGUuc3Vic3RyaW5nKHQsIGwpO1xuICAgICAgICAgICAgMCA9PT0gcSAmJiAocSA9IChmID0gZi5yZXBsYWNlKGNhLCAnJykudHJpbSgpKS5jaGFyQ29kZUF0KDApKTtcblxuICAgICAgICAgICAgc3dpdGNoIChxKSB7XG4gICAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgICAgMCA8IHIgJiYgKGYgPSBmLnJlcGxhY2UoTiwgJycpKTtcbiAgICAgICAgICAgICAgICBnID0gZi5jaGFyQ29kZUF0KDEpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChnKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA5OlxuICAgICAgICAgICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICAgICAgICBjYXNlIDQ1OlxuICAgICAgICAgICAgICAgICAgICByID0gYztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBPO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGsgPSBNKGMsIHIsIGssIGcsIGEgKyAxKTtcbiAgICAgICAgICAgICAgICB0ID0gay5sZW5ndGg7XG4gICAgICAgICAgICAgICAgMCA8IEEgJiYgKHIgPSBYKE8sIGYsIEkpLCBDID0gSCgzLCBrLCByLCBjLCBELCB6LCB0LCBnLCBhLCBoKSwgZiA9IHIuam9pbignJyksIHZvaWQgMCAhPT0gQyAmJiAwID09PSAodCA9IChrID0gQy50cmltKCkpLmxlbmd0aCkgJiYgKGcgPSAwLCBrID0gJycpKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA8IHQpIHN3aXRjaCAoZykge1xuICAgICAgICAgICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICAgICAgICAgIGYgPSBmLnJlcGxhY2UoZGEsIGVhKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxMDA6XG4gICAgICAgICAgICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgIGsgPSBmICsgJ3snICsgayArICd9JztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA3OlxuICAgICAgICAgICAgICAgICAgICBmID0gZi5yZXBsYWNlKGZhLCAnJDEgJDInKTtcbiAgICAgICAgICAgICAgICAgICAgayA9IGYgKyAneycgKyBrICsgJ30nO1xuICAgICAgICAgICAgICAgICAgICBrID0gMSA9PT0gdyB8fCAyID09PSB3ICYmIEwoJ0AnICsgaywgMykgPyAnQC13ZWJraXQtJyArIGsgKyAnQCcgKyBrIDogJ0AnICsgaztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGsgPSBmICsgaywgMTEyID09PSBoICYmIChrID0gKHAgKz0gaywgJycpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgayA9ICcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgayA9IE0oYywgWChjLCBmLCBJKSwgaywgaCwgYSArIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBGICs9IGs7XG4gICAgICAgICAgICBrID0gSSA9IHIgPSB1ID0gcSA9IDA7XG4gICAgICAgICAgICBmID0gJyc7XG4gICAgICAgICAgICBnID0gZS5jaGFyQ29kZUF0KCsrbCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTI1OlxuICAgICAgICAgIGNhc2UgNTk6XG4gICAgICAgICAgICBmID0gKDAgPCByID8gZi5yZXBsYWNlKE4sICcnKSA6IGYpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICgxIDwgKHQgPSBmLmxlbmd0aCkpIHN3aXRjaCAoMCA9PT0gdSAmJiAocSA9IGYuY2hhckNvZGVBdCgwKSwgNDUgPT09IHEgfHwgOTYgPCBxICYmIDEyMyA+IHEpICYmICh0ID0gKGYgPSBmLnJlcGxhY2UoJyAnLCAnOicpKS5sZW5ndGgpLCAwIDwgQSAmJiB2b2lkIDAgIT09IChDID0gSCgxLCBmLCBjLCBkLCBELCB6LCBwLmxlbmd0aCwgaCwgYSwgaCkpICYmIDAgPT09ICh0ID0gKGYgPSBDLnRyaW0oKSkubGVuZ3RoKSAmJiAoZiA9ICdcXHgwMFxceDAwJyksIHEgPSBmLmNoYXJDb2RlQXQoMCksIGcgPSBmLmNoYXJDb2RlQXQoMSksIHEpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgICAgaWYgKDEwNSA9PT0gZyB8fCA5OSA9PT0gZykge1xuICAgICAgICAgICAgICAgICAgRyArPSBmICsgZS5jaGFyQXQobCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICA1OCAhPT0gZi5jaGFyQ29kZUF0KHQgLSAxKSAmJiAocCArPSBQKGYsIHEsIGcsIGYuY2hhckNvZGVBdCgyKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSSA9IHIgPSB1ID0gcSA9IDA7XG4gICAgICAgICAgICBmID0gJyc7XG4gICAgICAgICAgICBnID0gZS5jaGFyQ29kZUF0KCsrbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChnKSB7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgNDcgPT09IGIgPyBiID0gMCA6IDAgPT09IDEgKyBxICYmIDEwNyAhPT0gaCAmJiAwIDwgZi5sZW5ndGggJiYgKHIgPSAxLCBmICs9ICdcXHgwMCcpO1xuICAgICAgICAgIDAgPCBBICogWSAmJiBIKDAsIGYsIGMsIGQsIEQsIHosIHAubGVuZ3RoLCBoLCBhLCBoKTtcbiAgICAgICAgICB6ID0gMTtcbiAgICAgICAgICBEKys7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA1OTpcbiAgICAgICAgY2FzZSAxMjU6XG4gICAgICAgICAgaWYgKDAgPT09IGIgKyBuICsgdiArIG0pIHtcbiAgICAgICAgICAgIHorKztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHorKztcbiAgICAgICAgICB5ID0gZS5jaGFyQXQobCk7XG5cbiAgICAgICAgICBzd2l0Y2ggKGcpIHtcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgIGlmICgwID09PSBuICsgbSArIGIpIHN3aXRjaCAoeCkge1xuICAgICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgY2FzZSA1ODpcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAgIHkgPSAnJztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIDMyICE9PSBnICYmICh5ID0gJyAnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB5ID0gJ1xcXFwwJztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIHkgPSAnXFxcXGYnO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgeSA9ICdcXFxcdic7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIG0gJiYgKHIgPSBJID0gMSwgeSA9ICdcXGYnICsgeSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEwODpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IG4gKyBiICsgbSArIEUgJiYgMCA8IHUpIHN3aXRjaCAobCAtIHUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAxMTIgPT09IHggJiYgNTggPT09IGUuY2hhckNvZGVBdChsIC0gMykgJiYgKEUgPSB4KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgIDExMSA9PT0gSyAmJiAoRSA9IEspO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIG0gJiYgKHUgPSBsKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgIDAgPT09IGIgKyB2ICsgbiArIG0gJiYgKHIgPSAxLCB5ICs9ICdcXHInKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAwID09PSBiICYmIChuID0gbiA9PT0gZyA/IDAgOiAwID09PSBuID8gZyA6IG4pO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICAgICAgMCA9PT0gbiArIGIgKyB2ICYmIG0rKztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgOTM6XG4gICAgICAgICAgICAgIDAgPT09IG4gKyBiICsgdiAmJiBtLS07XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgICAwID09PSBuICsgYiArIG0gJiYgdi0tO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IG4gKyBiICsgbSkge1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBxKSBzd2l0Y2ggKDIgKiB4ICsgMyAqIEspIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTMzOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHYrKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAwID09PSBiICsgdiArIG4gKyBtICsgdSArIGsgJiYgKGsgPSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICBpZiAoISgwIDwgbiArIG0gKyB2KSkgc3dpdGNoIChiKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgc3dpdGNoICgyICogZyArIDMgKiBlLmNoYXJDb2RlQXQobCArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM1OlxuICAgICAgICAgICAgICAgICAgICAgIGIgPSA0NztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDIyMDpcbiAgICAgICAgICAgICAgICAgICAgICB0ID0gbCwgYiA9IDQyO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICAgICAgICA0NyA9PT0gZyAmJiA0MiA9PT0geCAmJiB0ICsgMiAhPT0gbCAmJiAoMzMgPT09IGUuY2hhckNvZGVBdCh0ICsgMikgJiYgKHAgKz0gZS5zdWJzdHJpbmcodCwgbCArIDEpKSwgeSA9ICcnLCBiID0gMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAwID09PSBiICYmIChmICs9IHkpO1xuICAgICAgfVxuXG4gICAgICBLID0geDtcbiAgICAgIHggPSBnO1xuICAgICAgbCsrO1xuICAgIH1cblxuICAgIHQgPSBwLmxlbmd0aDtcblxuICAgIGlmICgwIDwgdCkge1xuICAgICAgciA9IGM7XG4gICAgICBpZiAoMCA8IEEgJiYgKEMgPSBIKDIsIHAsIHIsIGQsIEQsIHosIHQsIGgsIGEsIGgpLCB2b2lkIDAgIT09IEMgJiYgMCA9PT0gKHAgPSBDKS5sZW5ndGgpKSByZXR1cm4gRyArIHAgKyBGO1xuICAgICAgcCA9IHIuam9pbignLCcpICsgJ3snICsgcCArICd9JztcblxuICAgICAgaWYgKDAgIT09IHcgKiBFKSB7XG4gICAgICAgIDIgIT09IHcgfHwgTChwLCAyKSB8fCAoRSA9IDApO1xuXG4gICAgICAgIHN3aXRjaCAoRSkge1xuICAgICAgICAgIGNhc2UgMTExOlxuICAgICAgICAgICAgcCA9IHAucmVwbGFjZShoYSwgJzotbW96LSQxJykgKyBwO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDExMjpcbiAgICAgICAgICAgIHAgPSBwLnJlcGxhY2UoUSwgJzo6LXdlYmtpdC1pbnB1dC0kMScpICsgcC5yZXBsYWNlKFEsICc6Oi1tb3otJDEnKSArIHAucmVwbGFjZShRLCAnOi1tcy1pbnB1dC0kMScpICsgcDtcbiAgICAgICAgfVxuXG4gICAgICAgIEUgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBHICsgcCArIEY7XG4gIH1cblxuICBmdW5jdGlvbiBYKGQsIGMsIGUpIHtcbiAgICB2YXIgaCA9IGMudHJpbSgpLnNwbGl0KGlhKTtcbiAgICBjID0gaDtcbiAgICB2YXIgYSA9IGgubGVuZ3RoLFxuICAgICAgICBtID0gZC5sZW5ndGg7XG5cbiAgICBzd2l0Y2ggKG0pIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIGIgPSAwO1xuXG4gICAgICAgIGZvciAoZCA9IDAgPT09IG0gPyAnJyA6IGRbMF0gKyAnICc7IGIgPCBhOyArK2IpIHtcbiAgICAgICAgICBjW2JdID0gWihkLCBjW2JdLCBlKS50cmltKCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdmFyIHYgPSBiID0gMDtcblxuICAgICAgICBmb3IgKGMgPSBbXTsgYiA8IGE7ICsrYikge1xuICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgbTsgKytuKSB7XG4gICAgICAgICAgICBjW3YrK10gPSBaKGRbbl0gKyAnICcsIGhbYl0sIGUpLnRyaW0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9XG5cbiAgZnVuY3Rpb24gWihkLCBjLCBlKSB7XG4gICAgdmFyIGggPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgMzMgPiBoICYmIChoID0gKGMgPSBjLnRyaW0oKSkuY2hhckNvZGVBdCgwKSk7XG5cbiAgICBzd2l0Y2ggKGgpIHtcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIHJldHVybiBjLnJlcGxhY2UoRiwgJyQxJyArIGQudHJpbSgpKTtcblxuICAgICAgY2FzZSA1ODpcbiAgICAgICAgcmV0dXJuIGQudHJpbSgpICsgYy5yZXBsYWNlKEYsICckMScgKyBkLnRyaW0oKSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICgwIDwgMSAqIGUgJiYgMCA8IGMuaW5kZXhPZignXFxmJykpIHJldHVybiBjLnJlcGxhY2UoRiwgKDU4ID09PSBkLmNoYXJDb2RlQXQoMCkgPyAnJyA6ICckMScpICsgZC50cmltKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBkICsgYztcbiAgfVxuXG4gIGZ1bmN0aW9uIFAoZCwgYywgZSwgaCkge1xuICAgIHZhciBhID0gZCArICc7JyxcbiAgICAgICAgbSA9IDIgKiBjICsgMyAqIGUgKyA0ICogaDtcblxuICAgIGlmICg5NDQgPT09IG0pIHtcbiAgICAgIGQgPSBhLmluZGV4T2YoJzonLCA5KSArIDE7XG4gICAgICB2YXIgYiA9IGEuc3Vic3RyaW5nKGQsIGEubGVuZ3RoIC0gMSkudHJpbSgpO1xuICAgICAgYiA9IGEuc3Vic3RyaW5nKDAsIGQpLnRyaW0oKSArIGIgKyAnOyc7XG4gICAgICByZXR1cm4gMSA9PT0gdyB8fCAyID09PSB3ICYmIEwoYiwgMSkgPyAnLXdlYmtpdC0nICsgYiArIGIgOiBiO1xuICAgIH1cblxuICAgIGlmICgwID09PSB3IHx8IDIgPT09IHcgJiYgIUwoYSwgMSkpIHJldHVybiBhO1xuXG4gICAgc3dpdGNoIChtKSB7XG4gICAgICBjYXNlIDEwMTU6XG4gICAgICAgIHJldHVybiA5NyA9PT0gYS5jaGFyQ29kZUF0KDEwKSA/ICctd2Via2l0LScgKyBhICsgYSA6IGE7XG5cbiAgICAgIGNhc2UgOTUxOlxuICAgICAgICByZXR1cm4gMTE2ID09PSBhLmNoYXJDb2RlQXQoMykgPyAnLXdlYmtpdC0nICsgYSArIGEgOiBhO1xuXG4gICAgICBjYXNlIDk2MzpcbiAgICAgICAgcmV0dXJuIDExMCA9PT0gYS5jaGFyQ29kZUF0KDUpID8gJy13ZWJraXQtJyArIGEgKyBhIDogYTtcblxuICAgICAgY2FzZSAxMDA5OlxuICAgICAgICBpZiAoMTAwICE9PSBhLmNoYXJDb2RlQXQoNCkpIGJyZWFrO1xuXG4gICAgICBjYXNlIDk2OTpcbiAgICAgIGNhc2UgOTQyOlxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyBhO1xuXG4gICAgICBjYXNlIDk3ODpcbiAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tb3otJyArIGEgKyBhO1xuXG4gICAgICBjYXNlIDEwMTk6XG4gICAgICBjYXNlIDk4MzpcbiAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tb3otJyArIGEgKyAnLW1zLScgKyBhICsgYTtcblxuICAgICAgY2FzZSA4ODM6XG4gICAgICAgIGlmICg0NSA9PT0gYS5jaGFyQ29kZUF0KDgpKSByZXR1cm4gJy13ZWJraXQtJyArIGEgKyBhO1xuICAgICAgICBpZiAoMCA8IGEuaW5kZXhPZignaW1hZ2Utc2V0KCcsIDExKSkgcmV0dXJuIGEucmVwbGFjZShqYSwgJyQxLXdlYmtpdC0kMicpICsgYTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgOTMyOlxuICAgICAgICBpZiAoNDUgPT09IGEuY2hhckNvZGVBdCg0KSkgc3dpdGNoIChhLmNoYXJDb2RlQXQoNSkpIHtcbiAgICAgICAgICBjYXNlIDEwMzpcbiAgICAgICAgICAgIHJldHVybiAnLXdlYmtpdC1ib3gtJyArIGEucmVwbGFjZSgnLWdyb3cnLCAnJykgKyAnLXdlYmtpdC0nICsgYSArICctbXMtJyArIGEucmVwbGFjZSgnZ3JvdycsICdwb3NpdGl2ZScpICsgYTtcblxuICAgICAgICAgIGNhc2UgMTE1OlxuICAgICAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tcy0nICsgYS5yZXBsYWNlKCdzaHJpbmsnLCAnbmVnYXRpdmUnKSArIGE7XG5cbiAgICAgICAgICBjYXNlIDk4OlxuICAgICAgICAgICAgcmV0dXJuICctd2Via2l0LScgKyBhICsgJy1tcy0nICsgYS5yZXBsYWNlKCdiYXNpcycsICdwcmVmZXJyZWQtc2l6ZScpICsgYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBhICsgYTtcblxuICAgICAgY2FzZSA5NjQ6XG4gICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC0nICsgYSArIGE7XG5cbiAgICAgIGNhc2UgMTAyMzpcbiAgICAgICAgaWYgKDk5ICE9PSBhLmNoYXJDb2RlQXQoOCkpIGJyZWFrO1xuICAgICAgICBiID0gYS5zdWJzdHJpbmcoYS5pbmRleE9mKCc6JywgMTUpKS5yZXBsYWNlKCdmbGV4LScsICcnKS5yZXBsYWNlKCdzcGFjZS1iZXR3ZWVuJywgJ2p1c3RpZnknKTtcbiAgICAgICAgcmV0dXJuICctd2Via2l0LWJveC1wYWNrJyArIGIgKyAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC1wYWNrJyArIGIgKyBhO1xuXG4gICAgICBjYXNlIDEwMDU6XG4gICAgICAgIHJldHVybiBrYS50ZXN0KGEpID8gYS5yZXBsYWNlKGFhLCAnOi13ZWJraXQtJykgKyBhLnJlcGxhY2UoYWEsICc6LW1vei0nKSArIGEgOiBhO1xuXG4gICAgICBjYXNlIDFlMzpcbiAgICAgICAgYiA9IGEuc3Vic3RyaW5nKDEzKS50cmltKCk7XG4gICAgICAgIGMgPSBiLmluZGV4T2YoJy0nKSArIDE7XG5cbiAgICAgICAgc3dpdGNoIChiLmNoYXJDb2RlQXQoMCkgKyBiLmNoYXJDb2RlQXQoYykpIHtcbiAgICAgICAgICBjYXNlIDIyNjpcbiAgICAgICAgICAgIGIgPSBhLnJlcGxhY2UoRywgJ3RiJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjMyOlxuICAgICAgICAgICAgYiA9IGEucmVwbGFjZShHLCAndGItcmwnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyMjA6XG4gICAgICAgICAgICBiID0gYS5yZXBsYWNlKEcsICdscicpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLScgKyBiICsgYTtcblxuICAgICAgY2FzZSAxMDE3OlxuICAgICAgICBpZiAoLTEgPT09IGEuaW5kZXhPZignc3RpY2t5JywgOSkpIGJyZWFrO1xuXG4gICAgICBjYXNlIDk3NTpcbiAgICAgICAgYyA9IChhID0gZCkubGVuZ3RoIC0gMTA7XG4gICAgICAgIGIgPSAoMzMgPT09IGEuY2hhckNvZGVBdChjKSA/IGEuc3Vic3RyaW5nKDAsIGMpIDogYSkuc3Vic3RyaW5nKGQuaW5kZXhPZignOicsIDcpICsgMSkudHJpbSgpO1xuXG4gICAgICAgIHN3aXRjaCAobSA9IGIuY2hhckNvZGVBdCgwKSArIChiLmNoYXJDb2RlQXQoNykgfCAwKSkge1xuICAgICAgICAgIGNhc2UgMjAzOlxuICAgICAgICAgICAgaWYgKDExMSA+IGIuY2hhckNvZGVBdCg4KSkgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgIGEgPSBhLnJlcGxhY2UoYiwgJy13ZWJraXQtJyArIGIpICsgJzsnICsgYTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyMDc6XG4gICAgICAgICAgY2FzZSAxMDI6XG4gICAgICAgICAgICBhID0gYS5yZXBsYWNlKGIsICctd2Via2l0LScgKyAoMTAyIDwgbSA/ICdpbmxpbmUtJyA6ICcnKSArICdib3gnKSArICc7JyArIGEucmVwbGFjZShiLCAnLXdlYmtpdC0nICsgYikgKyAnOycgKyBhLnJlcGxhY2UoYiwgJy1tcy0nICsgYiArICdib3gnKSArICc7JyArIGE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYSArICc7JztcblxuICAgICAgY2FzZSA5Mzg6XG4gICAgICAgIGlmICg0NSA9PT0gYS5jaGFyQ29kZUF0KDUpKSBzd2l0Y2ggKGEuY2hhckNvZGVBdCg2KSkge1xuICAgICAgICAgIGNhc2UgMTA1OlxuICAgICAgICAgICAgcmV0dXJuIGIgPSBhLnJlcGxhY2UoJy1pdGVtcycsICcnKSwgJy13ZWJraXQtJyArIGEgKyAnLXdlYmtpdC1ib3gtJyArIGIgKyAnLW1zLWZsZXgtJyArIGIgKyBhO1xuXG4gICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICByZXR1cm4gJy13ZWJraXQtJyArIGEgKyAnLW1zLWZsZXgtaXRlbS0nICsgYS5yZXBsYWNlKGJhLCAnJykgKyBhO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnLXdlYmtpdC0nICsgYSArICctbXMtZmxleC1saW5lLXBhY2snICsgYS5yZXBsYWNlKCdhbGlnbi1jb250ZW50JywgJycpLnJlcGxhY2UoYmEsICcnKSArIGE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgOTczOlxuICAgICAgY2FzZSA5ODk6XG4gICAgICAgIGlmICg0NSAhPT0gYS5jaGFyQ29kZUF0KDMpIHx8IDEyMiA9PT0gYS5jaGFyQ29kZUF0KDQpKSBicmVhaztcblxuICAgICAgY2FzZSA5MzE6XG4gICAgICBjYXNlIDk1MzpcbiAgICAgICAgaWYgKCEwID09PSBsYS50ZXN0KGQpKSByZXR1cm4gMTE1ID09PSAoYiA9IGQuc3Vic3RyaW5nKGQuaW5kZXhPZignOicpICsgMSkpLmNoYXJDb2RlQXQoMCkgPyBQKGQucmVwbGFjZSgnc3RyZXRjaCcsICdmaWxsLWF2YWlsYWJsZScpLCBjLCBlLCBoKS5yZXBsYWNlKCc6ZmlsbC1hdmFpbGFibGUnLCAnOnN0cmV0Y2gnKSA6IGEucmVwbGFjZShiLCAnLXdlYmtpdC0nICsgYikgKyBhLnJlcGxhY2UoYiwgJy1tb3otJyArIGIucmVwbGFjZSgnZmlsbC0nLCAnJykpICsgYTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgOTYyOlxuICAgICAgICBpZiAoYSA9ICctd2Via2l0LScgKyBhICsgKDEwMiA9PT0gYS5jaGFyQ29kZUF0KDUpID8gJy1tcy0nICsgYSA6ICcnKSArIGEsIDIxMSA9PT0gZSArIGggJiYgMTA1ID09PSBhLmNoYXJDb2RlQXQoMTMpICYmIDAgPCBhLmluZGV4T2YoJ3RyYW5zZm9ybScsIDEwKSkgcmV0dXJuIGEuc3Vic3RyaW5nKDAsIGEuaW5kZXhPZignOycsIDI3KSArIDEpLnJlcGxhY2UobWEsICckMS13ZWJraXQtJDInKSArIGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICBmdW5jdGlvbiBMKGQsIGMpIHtcbiAgICB2YXIgZSA9IGQuaW5kZXhPZigxID09PSBjID8gJzonIDogJ3snKSxcbiAgICAgICAgaCA9IGQuc3Vic3RyaW5nKDAsIDMgIT09IGMgPyBlIDogMTApO1xuICAgIGUgPSBkLnN1YnN0cmluZyhlICsgMSwgZC5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gUigyICE9PSBjID8gaCA6IGgucmVwbGFjZShuYSwgJyQxJyksIGUsIGMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZWEoZCwgYykge1xuICAgIHZhciBlID0gUChjLCBjLmNoYXJDb2RlQXQoMCksIGMuY2hhckNvZGVBdCgxKSwgYy5jaGFyQ29kZUF0KDIpKTtcbiAgICByZXR1cm4gZSAhPT0gYyArICc7JyA/IGUucmVwbGFjZShvYSwgJyBvciAoJDEpJykuc3Vic3RyaW5nKDQpIDogJygnICsgYyArICcpJztcbiAgfVxuXG4gIGZ1bmN0aW9uIEgoZCwgYywgZSwgaCwgYSwgbSwgYiwgdiwgbiwgcSkge1xuICAgIGZvciAodmFyIGcgPSAwLCB4ID0gYywgdzsgZyA8IEE7ICsrZykge1xuICAgICAgc3dpdGNoICh3ID0gU1tnXS5jYWxsKEIsIGQsIHgsIGUsIGgsIGEsIG0sIGIsIHYsIG4sIHEpKSB7XG4gICAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICBjYXNlICExOlxuICAgICAgICBjYXNlICEwOlxuICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB4ID0gdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoeCAhPT0gYykgcmV0dXJuIHg7XG4gIH1cblxuICBmdW5jdGlvbiBUKGQpIHtcbiAgICBzd2l0Y2ggKGQpIHtcbiAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgY2FzZSBudWxsOlxuICAgICAgICBBID0gUy5sZW5ndGggPSAwO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBkKSBTW0ErK10gPSBkO2Vsc2UgaWYgKCdvYmplY3QnID09PSB0eXBlb2YgZCkgZm9yICh2YXIgYyA9IDAsIGUgPSBkLmxlbmd0aDsgYyA8IGU7ICsrYykge1xuICAgICAgICAgIFQoZFtjXSk7XG4gICAgICAgIH0gZWxzZSBZID0gISFkIHwgMDtcbiAgICB9XG5cbiAgICByZXR1cm4gVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIFUoZCkge1xuICAgIGQgPSBkLnByZWZpeDtcbiAgICB2b2lkIDAgIT09IGQgJiYgKFIgPSBudWxsLCBkID8gJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIGQgPyB3ID0gMSA6ICh3ID0gMiwgUiA9IGQpIDogdyA9IDApO1xuICAgIHJldHVybiBVO1xuICB9XG5cbiAgZnVuY3Rpb24gQihkLCBjKSB7XG4gICAgdmFyIGUgPSBkO1xuICAgIDMzID4gZS5jaGFyQ29kZUF0KDApICYmIChlID0gZS50cmltKCkpO1xuICAgIFYgPSBlO1xuICAgIGUgPSBbVl07XG5cbiAgICBpZiAoMCA8IEEpIHtcbiAgICAgIHZhciBoID0gSCgtMSwgYywgZSwgZSwgRCwgeiwgMCwgMCwgMCwgMCk7XG4gICAgICB2b2lkIDAgIT09IGggJiYgJ3N0cmluZycgPT09IHR5cGVvZiBoICYmIChjID0gaCk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBNKE8sIGUsIGMsIDAsIDApO1xuICAgIDAgPCBBICYmIChoID0gSCgtMiwgYSwgZSwgZSwgRCwgeiwgYS5sZW5ndGgsIDAsIDAsIDApLCB2b2lkIDAgIT09IGggJiYgKGEgPSBoKSk7XG4gICAgViA9ICcnO1xuICAgIEUgPSAwO1xuICAgIHogPSBEID0gMTtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBjYSA9IC9eXFwwKy9nLFxuICAgICAgTiA9IC9bXFwwXFxyXFxmXS9nLFxuICAgICAgYWEgPSAvOiAqL2csXG4gICAgICBrYSA9IC96b298Z3JhLyxcbiAgICAgIG1hID0gLyhbLDogXSkodHJhbnNmb3JtKS9nLFxuICAgICAgaWEgPSAvLFxccis/L2csXG4gICAgICBGID0gLyhbXFx0XFxyXFxuIF0pKlxcZj8mL2csXG4gICAgICBmYSA9IC9AKGtcXHcrKVxccyooXFxTKilcXHMqLyxcbiAgICAgIFEgPSAvOjoocGxhY2UpL2csXG4gICAgICBoYSA9IC86KHJlYWQtb25seSkvZyxcbiAgICAgIEcgPSAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sXG4gICAgICBkYSA9IC9cXChcXHMqKC4qKVxccypcXCkvZyxcbiAgICAgIG9hID0gLyhbXFxzXFxTXSo/KTsvZyxcbiAgICAgIGJhID0gLy1zZWxmfGZsZXgtL2csXG4gICAgICBuYSA9IC9bXl0qPyg6W3JwXVtlbF1hW1xcdy1dKylbXl0qLyxcbiAgICAgIGxhID0gL3N0cmV0Y2h8OlxccypcXHcrXFwtKD86Y29udGV8YXZhaWwpLyxcbiAgICAgIGphID0gLyhbXi1dKShpbWFnZS1zZXRcXCgpLyxcbiAgICAgIHogPSAxLFxuICAgICAgRCA9IDEsXG4gICAgICBFID0gMCxcbiAgICAgIHcgPSAxLFxuICAgICAgTyA9IFtdLFxuICAgICAgUyA9IFtdLFxuICAgICAgQSA9IDAsXG4gICAgICBSID0gbnVsbCxcbiAgICAgIFkgPSAwLFxuICAgICAgViA9ICcnO1xuICBCLnVzZSA9IFQ7XG4gIEIuc2V0ID0gVTtcbiAgdm9pZCAwICE9PSBXICYmIFUoVyk7XG4gIHJldHVybiBCO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHlsaXNfbWluO1xuIiwidmFyIHVuaXRsZXNzS2V5cyA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IDEsXG4gIGJvcmRlckltYWdlT3V0c2V0OiAxLFxuICBib3JkZXJJbWFnZVNsaWNlOiAxLFxuICBib3JkZXJJbWFnZVdpZHRoOiAxLFxuICBib3hGbGV4OiAxLFxuICBib3hGbGV4R3JvdXA6IDEsXG4gIGJveE9yZGluYWxHcm91cDogMSxcbiAgY29sdW1uQ291bnQ6IDEsXG4gIGNvbHVtbnM6IDEsXG4gIGZsZXg6IDEsXG4gIGZsZXhHcm93OiAxLFxuICBmbGV4UG9zaXRpdmU6IDEsXG4gIGZsZXhTaHJpbms6IDEsXG4gIGZsZXhOZWdhdGl2ZTogMSxcbiAgZmxleE9yZGVyOiAxLFxuICBncmlkUm93OiAxLFxuICBncmlkUm93RW5kOiAxLFxuICBncmlkUm93U3BhbjogMSxcbiAgZ3JpZFJvd1N0YXJ0OiAxLFxuICBncmlkQ29sdW1uOiAxLFxuICBncmlkQ29sdW1uRW5kOiAxLFxuICBncmlkQ29sdW1uU3BhbjogMSxcbiAgZ3JpZENvbHVtblN0YXJ0OiAxLFxuICBtc0dyaWRSb3c6IDEsXG4gIG1zR3JpZFJvd1NwYW46IDEsXG4gIG1zR3JpZENvbHVtbjogMSxcbiAgbXNHcmlkQ29sdW1uU3BhbjogMSxcbiAgZm9udFdlaWdodDogMSxcbiAgbGluZUhlaWdodDogMSxcbiAgb3BhY2l0eTogMSxcbiAgb3JkZXI6IDEsXG4gIG9ycGhhbnM6IDEsXG4gIHRhYlNpemU6IDEsXG4gIHdpZG93czogMSxcbiAgekluZGV4OiAxLFxuICB6b29tOiAxLFxuICBXZWJraXRMaW5lQ2xhbXA6IDEsXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IDEsXG4gIGZsb29kT3BhY2l0eTogMSxcbiAgc3RvcE9wYWNpdHk6IDEsXG4gIHN0cm9rZURhc2hhcnJheTogMSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogMSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogMSxcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgc3Ryb2tlV2lkdGg6IDFcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVuaXRsZXNzS2V5cztcbiIsImZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIGNhY2hlID0ge307XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgaWYgKGNhY2hlW2FyZ10gPT09IHVuZGVmaW5lZCkgY2FjaGVbYXJnXSA9IGZuKGFyZyk7XG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7XG4iLCJpbXBvcnQgbWVtb2l6ZSBmcm9tICdAZW1vdGlvbi9tZW1vaXplJztcblxudmFyIHJlYWN0UHJvcHNSZWdleCA9IC9eKChjaGlsZHJlbnxkYW5nZXJvdXNseVNldElubmVySFRNTHxrZXl8cmVmfGF1dG9Gb2N1c3xkZWZhdWx0VmFsdWV8ZGVmYXVsdENoZWNrZWR8aW5uZXJIVE1MfHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ3xzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmd8dmFsdWVMaW5rfGFjY2VwdHxhY2NlcHRDaGFyc2V0fGFjY2Vzc0tleXxhY3Rpb258YWxsb3d8YWxsb3dVc2VyTWVkaWF8YWxsb3dQYXltZW50UmVxdWVzdHxhbGxvd0Z1bGxTY3JlZW58YWxsb3dUcmFuc3BhcmVuY3l8YWx0fGFzeW5jfGF1dG9Db21wbGV0ZXxhdXRvUGxheXxjYXB0dXJlfGNlbGxQYWRkaW5nfGNlbGxTcGFjaW5nfGNoYWxsZW5nZXxjaGFyU2V0fGNoZWNrZWR8Y2l0ZXxjbGFzc0lEfGNsYXNzTmFtZXxjb2xzfGNvbFNwYW58Y29udGVudHxjb250ZW50RWRpdGFibGV8Y29udGV4dE1lbnV8Y29udHJvbHN8Y29udHJvbHNMaXN0fGNvb3Jkc3xjcm9zc09yaWdpbnxkYXRhfGRhdGVUaW1lfGRlY29kaW5nfGRlZmF1bHR8ZGVmZXJ8ZGlyfGRpc2FibGVkfGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlfGRvd25sb2FkfGRyYWdnYWJsZXxlbmNUeXBlfGZvcm18Zm9ybUFjdGlvbnxmb3JtRW5jVHlwZXxmb3JtTWV0aG9kfGZvcm1Ob1ZhbGlkYXRlfGZvcm1UYXJnZXR8ZnJhbWVCb3JkZXJ8aGVhZGVyc3xoZWlnaHR8aGlkZGVufGhpZ2h8aHJlZnxocmVmTGFuZ3xodG1sRm9yfGh0dHBFcXVpdnxpZHxpbnB1dE1vZGV8aW50ZWdyaXR5fGlzfGtleVBhcmFtc3xrZXlUeXBlfGtpbmR8bGFiZWx8bGFuZ3xsaXN0fGxvYWRpbmd8bG9vcHxsb3d8bWFyZ2luSGVpZ2h0fG1hcmdpbldpZHRofG1heHxtYXhMZW5ndGh8bWVkaWF8bWVkaWFHcm91cHxtZXRob2R8bWlufG1pbkxlbmd0aHxtdWx0aXBsZXxtdXRlZHxuYW1lfG5vbmNlfG5vVmFsaWRhdGV8b3BlbnxvcHRpbXVtfHBhdHRlcm58cGxhY2Vob2xkZXJ8cGxheXNJbmxpbmV8cG9zdGVyfHByZWxvYWR8cHJvZmlsZXxyYWRpb0dyb3VwfHJlYWRPbmx5fHJlZmVycmVyUG9saWN5fHJlbHxyZXF1aXJlZHxyZXZlcnNlZHxyb2xlfHJvd3N8cm93U3BhbnxzYW5kYm94fHNjb3BlfHNjb3BlZHxzY3JvbGxpbmd8c2VhbWxlc3N8c2VsZWN0ZWR8c2hhcGV8c2l6ZXxzaXplc3xzbG90fHNwYW58c3BlbGxDaGVja3xzcmN8c3JjRG9jfHNyY0xhbmd8c3JjU2V0fHN0YXJ0fHN0ZXB8c3R5bGV8c3VtbWFyeXx0YWJJbmRleHx0YXJnZXR8dGl0bGV8dHlwZXx1c2VNYXB8dmFsdWV8d2lkdGh8d21vZGV8d3JhcHxhYm91dHxkYXRhdHlwZXxpbmxpc3R8cHJlZml4fHByb3BlcnR5fHJlc291cmNlfHR5cGVvZnx2b2NhYnxhdXRvQ2FwaXRhbGl6ZXxhdXRvQ29ycmVjdHxhdXRvU2F2ZXxjb2xvcnxpbmVydHxpdGVtUHJvcHxpdGVtU2NvcGV8aXRlbVR5cGV8aXRlbUlEfGl0ZW1SZWZ8b258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViZmVlNjhhNGNkN2U2MDA5ZWY2MWQyM1xuXG52YXIgaW5kZXggPSBtZW1vaXplKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHJldHVybiByZWFjdFByb3BzUmVnZXgudGVzdChwcm9wKSB8fCBwcm9wLmNoYXJDb2RlQXQoMCkgPT09IDExMVxuICAvKiBvICovXG4gICYmIHByb3AuY2hhckNvZGVBdCgxKSA9PT0gMTEwXG4gIC8qIG4gKi9cbiAgJiYgcHJvcC5jaGFyQ29kZUF0KDIpIDwgOTE7XG59XG4vKiBaKzEgKi9cbik7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuIiwiaW1wb3J0e3R5cGVPZiBhcyBlLGlzRWxlbWVudCBhcyB0LGlzVmFsaWRFbGVtZW50VHlwZSBhcyBufWZyb21cInJlYWN0LWlzXCI7aW1wb3J0IHIse3VzZVN0YXRlIGFzIG8sdXNlQ29udGV4dCBhcyBzLHVzZU1lbW8gYXMgaSx1c2VFZmZlY3QgYXMgYSx1c2VSZWYgYXMgYyxjcmVhdGVFbGVtZW50IGFzIHUsdXNlRGVidWdWYWx1ZSBhcyBsLHVzZUxheW91dEVmZmVjdCBhcyBkfWZyb21cInJlYWN0XCI7aW1wb3J0IGggZnJvbVwic2hhbGxvd2VxdWFsXCI7aW1wb3J0IHAgZnJvbVwiQGVtb3Rpb24vc3R5bGlzXCI7aW1wb3J0IGYgZnJvbVwiQGVtb3Rpb24vdW5pdGxlc3NcIjtpbXBvcnQgbSBmcm9tXCJAZW1vdGlvbi9pcy1wcm9wLXZhbGlkXCI7aW1wb3J0IHkgZnJvbVwiaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3NcIjtmdW5jdGlvbiB2KCl7cmV0dXJuKHY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bZVswXV0scj0wLG89dC5sZW5ndGg7cjxvO3IrPTEpbi5wdXNoKHRbcl0sZVtyKzFdKTtyZXR1cm4gbn0sUz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIltvYmplY3QgT2JqZWN0XVwiPT09KHQudG9TdHJpbmc/dC50b1N0cmluZygpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkmJiFlKHQpfSx3PU9iamVjdC5mcmVlemUoW10pLEU9T2JqZWN0LmZyZWV6ZSh7fSk7ZnVuY3Rpb24gYihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIF8oZSl7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJmV8fGUuZGlzcGxheU5hbWV8fGUubmFtZXx8XCJDb21wb25lbnRcIn1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5zdHlsZWRDb21wb25lbnRJZH12YXIgQT1cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmKHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19BVFRSfHxwcm9jZXNzLmVudi5TQ19BVFRSKXx8XCJkYXRhLXN0eWxlZFwiLEM9XCI1LjMuMVwiLEk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJIVE1MRWxlbWVudFwiaW4gd2luZG93LFA9Qm9vbGVhbihcImJvb2xlYW5cIj09dHlwZW9mIFNDX0RJU0FCTEVfU1BFRURZP1NDX0RJU0FCTEVfU1BFRURZOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZ2b2lkIDAhPT1wcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFkmJlwiXCIhPT1wcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFk/XCJmYWxzZVwiIT09cHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZJiZwcm9jZXNzLmVudi5SRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJnZvaWQgMCE9PXByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZJiZcIlwiIT09cHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFk/XCJmYWxzZVwiIT09cHJvY2Vzcy5lbnYuU0NfRElTQUJMRV9TUEVFRFkmJnByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZOlwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYpLE89e30sUj1cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WP3sxOlwiQ2Fubm90IGNyZWF0ZSBzdHlsZWQtY29tcG9uZW50IGZvciBjb21wb25lbnQ6ICVzLlxcblxcblwiLDI6XCJDYW4ndCBjb2xsZWN0IHN0eWxlcyBvbmNlIHlvdSd2ZSBjb25zdW1lZCBhIGBTZXJ2ZXJTdHlsZVNoZWV0YCdzIHN0eWxlcyEgYFNlcnZlclN0eWxlU2hlZXRgIGlzIGEgb25lIG9mZiBpbnN0YW5jZSBmb3IgZWFjaCBzZXJ2ZXItc2lkZSByZW5kZXIgY3ljbGUuXFxuXFxuLSBBcmUgeW91IHRyeWluZyB0byByZXVzZSBpdCBhY3Jvc3MgcmVuZGVycz9cXG4tIEFyZSB5b3UgYWNjaWRlbnRhbGx5IGNhbGxpbmcgY29sbGVjdFN0eWxlcyB0d2ljZT9cXG5cXG5cIiwzOlwiU3RyZWFtaW5nIFNTUiBpcyBvbmx5IHN1cHBvcnRlZCBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQ7IFBsZWFzZSBkbyBub3QgdHJ5IHRvIGNhbGwgdGhpcyBtZXRob2QgaW4gdGhlIGJyb3dzZXIuXFxuXFxuXCIsNDpcIlRoZSBgU3R5bGVTaGVldE1hbmFnZXJgIGV4cGVjdHMgYSB2YWxpZCB0YXJnZXQgb3Igc2hlZXQgcHJvcCFcXG5cXG4tIERvZXMgdGhpcyBlcnJvciBvY2N1ciBvbiB0aGUgY2xpZW50IGFuZCBpcyB5b3VyIHRhcmdldCBmYWxzeT9cXG4tIERvZXMgdGhpcyBlcnJvciBvY2N1ciBvbiB0aGUgc2VydmVyIGFuZCBpcyB0aGUgc2hlZXQgZmFsc3k/XFxuXFxuXCIsNTpcIlRoZSBjbG9uZSBtZXRob2QgY2Fubm90IGJlIHVzZWQgb24gdGhlIGNsaWVudCFcXG5cXG4tIEFyZSB5b3UgcnVubmluZyBpbiBhIGNsaWVudC1saWtlIGVudmlyb25tZW50IG9uIHRoZSBzZXJ2ZXI/XFxuLSBBcmUgeW91IHRyeWluZyB0byBydW4gU1NSIG9uIHRoZSBjbGllbnQ/XFxuXFxuXCIsNjpcIlRyeWluZyB0byBpbnNlcnQgYSBuZXcgc3R5bGUgdGFnLCBidXQgdGhlIGdpdmVuIE5vZGUgaXMgdW5tb3VudGVkIVxcblxcbi0gQXJlIHlvdSB1c2luZyBhIGN1c3RvbSB0YXJnZXQgdGhhdCBpc24ndCBtb3VudGVkP1xcbi0gRG9lcyB5b3VyIGRvY3VtZW50IG5vdCBoYXZlIGEgdmFsaWQgaGVhZCBlbGVtZW50P1xcbi0gSGF2ZSB5b3UgYWNjaWRlbnRhbGx5IHJlbW92ZWQgYSBzdHlsZSB0YWcgbWFudWFsbHk/XFxuXFxuXCIsNzonVGhlbWVQcm92aWRlcjogUGxlYXNlIHJldHVybiBhbiBvYmplY3QgZnJvbSB5b3VyIFwidGhlbWVcIiBwcm9wIGZ1bmN0aW9uLCBlLmcuXFxuXFxuYGBganNcXG50aGVtZT17KCkgPT4gKHt9KX1cXG5gYGBcXG5cXG4nLDg6J1RoZW1lUHJvdmlkZXI6IFBsZWFzZSBtYWtlIHlvdXIgXCJ0aGVtZVwiIHByb3AgYW4gb2JqZWN0LlxcblxcbicsOTpcIk1pc3NpbmcgZG9jdW1lbnQgYDxoZWFkPmBcXG5cXG5cIiwxMDpcIkNhbm5vdCBmaW5kIGEgU3R5bGVTaGVldCBpbnN0YW5jZS4gVXN1YWxseSB0aGlzIGhhcHBlbnMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNvcGllcyBvZiBzdHlsZWQtY29tcG9uZW50cyBsb2FkZWQgYXQgb25jZS4gQ2hlY2sgb3V0IHRoaXMgaXNzdWUgZm9yIGhvdyB0byB0cm91Ymxlc2hvb3QgYW5kIGZpeCB0aGUgY29tbW9uIGNhc2VzIHdoZXJlIHRoaXMgc2l0dWF0aW9uIGNhbiBoYXBwZW46IGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9zdHlsZWQtY29tcG9uZW50cy9pc3N1ZXMvMTk0MSNpc3N1ZWNvbW1lbnQtNDE3ODYyMDIxXFxuXFxuXCIsMTE6XCJfVGhpcyBlcnJvciB3YXMgcmVwbGFjZWQgd2l0aCBhIGRldi10aW1lIHdhcm5pbmcsIGl0IHdpbGwgYmUgZGVsZXRlZCBmb3IgdjQgZmluYWwuXyBbY3JlYXRlR2xvYmFsU3R5bGVdIHJlY2VpdmVkIGNoaWxkcmVuIHdoaWNoIHdpbGwgbm90IGJlIHJlbmRlcmVkLiBQbGVhc2UgdXNlIHRoZSBjb21wb25lbnQgd2l0aG91dCBwYXNzaW5nIGNoaWxkcmVuIGVsZW1lbnRzLlxcblxcblwiLDEyOlwiSXQgc2VlbXMgeW91IGFyZSBpbnRlcnBvbGF0aW5nIGEga2V5ZnJhbWUgZGVjbGFyYXRpb24gKCVzKSBpbnRvIGFuIHVudGFnZ2VkIHN0cmluZy4gVGhpcyB3YXMgc3VwcG9ydGVkIGluIHN0eWxlZC1jb21wb25lbnRzIHYzLCBidXQgaXMgbm90IGxvbmdlciBzdXBwb3J0ZWQgaW4gdjQgYXMga2V5ZnJhbWVzIGFyZSBub3cgaW5qZWN0ZWQgb24tZGVtYW5kLiBQbGVhc2Ugd3JhcCB5b3VyIHN0cmluZyBpbiB0aGUgY3NzXFxcXGBcXFxcYCBoZWxwZXIgd2hpY2ggZW5zdXJlcyB0aGUgc3R5bGVzIGFyZSBpbmplY3RlZCBjb3JyZWN0bHkuIFNlZSBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9hcGkjY3NzXFxuXFxuXCIsMTM6XCIlcyBpcyBub3QgYSBzdHlsZWQgY29tcG9uZW50IGFuZCBjYW5ub3QgYmUgcmVmZXJyZWQgdG8gdmlhIGNvbXBvbmVudCBzZWxlY3Rvci4gU2VlIGh0dHBzOi8vd3d3LnN0eWxlZC1jb21wb25lbnRzLmNvbS9kb2NzL2FkdmFuY2VkI3JlZmVycmluZy10by1vdGhlci1jb21wb25lbnRzIGZvciBtb3JlIGRldGFpbHMuXFxuXFxuXCIsMTQ6J1RoZW1lUHJvdmlkZXI6IFwidGhlbWVcIiBwcm9wIGlzIHJlcXVpcmVkLlxcblxcbicsMTU6XCJBIHN0eWxpcyBwbHVnaW4gaGFzIGJlZW4gc3VwcGxpZWQgdGhhdCBpcyBub3QgbmFtZWQuIFdlIG5lZWQgYSBuYW1lIGZvciBlYWNoIHBsdWdpbiB0byBiZSBhYmxlIHRvIHByZXZlbnQgc3R5bGluZyBjb2xsaXNpb25zIGJldHdlZW4gZGlmZmVyZW50IHN0eWxpcyBjb25maWd1cmF0aW9ucyB3aXRoaW4gdGhlIHNhbWUgYXBwLiBCZWZvcmUgeW91IHBhc3MgeW91ciBwbHVnaW4gdG8gYDxTdHlsZVNoZWV0TWFuYWdlciBzdHlsaXNQbHVnaW5zPXtbXX0+YCwgcGxlYXNlIG1ha2Ugc3VyZSBlYWNoIHBsdWdpbiBpcyB1bmlxdWVseS1uYW1lZCwgZS5nLlxcblxcbmBgYGpzXFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGltcG9ydGVkUGx1Z2luLCAnbmFtZScsIHsgdmFsdWU6ICdzb21lLXVuaXF1ZS1uYW1lJyB9KTtcXG5gYGBcXG5cXG5cIiwxNjpcIlJlYWNoZWQgdGhlIGxpbWl0IG9mIGhvdyBtYW55IHN0eWxlZCBjb21wb25lbnRzIG1heSBiZSBjcmVhdGVkIGF0IGdyb3VwICVzLlxcbllvdSBtYXkgb25seSBjcmVhdGUgdXAgdG8gMSwwNzMsNzQxLDgyNCBjb21wb25lbnRzLiBJZiB5b3UncmUgY3JlYXRpbmcgY29tcG9uZW50cyBkeW5hbWljYWxseSxcXG5hcyBmb3IgaW5zdGFuY2UgaW4geW91ciByZW5kZXIgbWV0aG9kIHRoZW4geW91IG1heSBiZSBydW5uaW5nIGludG8gdGhpcyBsaW1pdGF0aW9uLlxcblxcblwiLDE3OlwiQ1NTU3R5bGVTaGVldCBjb3VsZCBub3QgYmUgZm91bmQgb24gSFRNTFN0eWxlRWxlbWVudC5cXG5IYXMgc3R5bGVkLWNvbXBvbmVudHMnIHN0eWxlIHRhZyBiZWVuIHVubW91bnRlZCBvciBhbHRlcmVkIGJ5IGFub3RoZXIgc2NyaXB0P1xcblwifTp7fTtmdW5jdGlvbiBEKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSx0PVtdLG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rPTEpdC5wdXNoKG48MHx8YXJndW1lbnRzLmxlbmd0aDw9bj92b2lkIDA6YXJndW1lbnRzW25dKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlPWUucmVwbGFjZSgvJVthLXpdLyx0KX0pKSxlfWZ1bmN0aW9uIGooZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3Rocm93XCJwcm9kdWN0aW9uXCI9PT1wcm9jZXNzLmVudi5OT0RFX0VOVj9uZXcgRXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0LmlvL0pVSWFFI1wiK2UrXCIgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIrKG4ubGVuZ3RoPjA/XCIgQXJnczogXCIrbi5qb2luKFwiLCBcIik6XCJcIikpOm5ldyBFcnJvcihELmFwcGx5KHZvaWQgMCxbUltlXV0uY29uY2F0KG4pKS50cmltKCkpfXZhciBUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmdyb3VwU2l6ZXM9bmV3IFVpbnQzMkFycmF5KDUxMiksdGhpcy5sZW5ndGg9NTEyLHRoaXMudGFnPWV9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5kZXhPZkdyb3VwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49MDtuPGU7bisrKXQrPXRoaXMuZ3JvdXBTaXplc1tuXTtyZXR1cm4gdH0sdC5pbnNlcnRSdWxlcz1mdW5jdGlvbihlLHQpe2lmKGU+PXRoaXMuZ3JvdXBTaXplcy5sZW5ndGgpe2Zvcih2YXIgbj10aGlzLmdyb3VwU2l6ZXMscj1uLmxlbmd0aCxvPXI7ZT49bzspKG88PD0xKTwwJiZqKDE2LFwiXCIrZSk7dGhpcy5ncm91cFNpemVzPW5ldyBVaW50MzJBcnJheShvKSx0aGlzLmdyb3VwU2l6ZXMuc2V0KG4pLHRoaXMubGVuZ3RoPW87Zm9yKHZhciBzPXI7czxvO3MrKyl0aGlzLmdyb3VwU2l6ZXNbc109MH1mb3IodmFyIGk9dGhpcy5pbmRleE9mR3JvdXAoZSsxKSxhPTAsYz10Lmxlbmd0aDthPGM7YSsrKXRoaXMudGFnLmluc2VydFJ1bGUoaSx0W2FdKSYmKHRoaXMuZ3JvdXBTaXplc1tlXSsrLGkrKyl9LHQuY2xlYXJHcm91cD1mdW5jdGlvbihlKXtpZihlPHRoaXMubGVuZ3RoKXt2YXIgdD10aGlzLmdyb3VwU2l6ZXNbZV0sbj10aGlzLmluZGV4T2ZHcm91cChlKSxyPW4rdDt0aGlzLmdyb3VwU2l6ZXNbZV09MDtmb3IodmFyIG89bjtvPHI7bysrKXRoaXMudGFnLmRlbGV0ZVJ1bGUobil9fSx0LmdldEdyb3VwPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7aWYoZT49dGhpcy5sZW5ndGh8fDA9PT10aGlzLmdyb3VwU2l6ZXNbZV0pcmV0dXJuIHQ7Zm9yKHZhciBuPXRoaXMuZ3JvdXBTaXplc1tlXSxyPXRoaXMuaW5kZXhPZkdyb3VwKGUpLG89cituLHM9cjtzPG87cysrKXQrPXRoaXMudGFnLmdldFJ1bGUocykrXCIvKiFzYyovXFxuXCI7cmV0dXJuIHR9LGV9KCksaz1uZXcgTWFwLHg9bmV3IE1hcCxWPTEsQj1mdW5jdGlvbihlKXtpZihrLmhhcyhlKSlyZXR1cm4gay5nZXQoZSk7Zm9yKDt4LmhhcyhWKTspVisrO3ZhciB0PVYrKztyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoKDB8dCk8MHx8dD4xPDwzMCkmJmooMTYsXCJcIit0KSxrLnNldChlLHQpLHguc2V0KHQsZSksdH0sTT1mdW5jdGlvbihlKXtyZXR1cm4geC5nZXQoZSl9LHo9ZnVuY3Rpb24oZSx0KXt0Pj1WJiYoVj10KzEpLGsuc2V0KGUsdCkseC5zZXQodCxlKX0sTD1cInN0eWxlW1wiK0ErJ11bZGF0YS1zdHlsZWQtdmVyc2lvbj1cIjUuMy4xXCJdJyxHPW5ldyBSZWdFeHAoXCJeXCIrQSsnXFxcXC5nKFxcXFxkKylcXFxcW2lkPVwiKFtcXFxcd1xcXFxkLV0rKVwiXFxcXF0uKj9cIihbXlwiXSopJyksRj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLG89bi5zcGxpdChcIixcIikscz0wLGk9by5sZW5ndGg7czxpO3MrKykocj1vW3NdKSYmZS5yZWdpc3Rlck5hbWUodCxyKX0sWT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0odC5pbm5lckhUTUx8fFwiXCIpLnNwbGl0KFwiLyohc2MqL1xcblwiKSxyPVtdLG89MCxzPW4ubGVuZ3RoO288cztvKyspe3ZhciBpPW5bb10udHJpbSgpO2lmKGkpe3ZhciBhPWkubWF0Y2goRyk7aWYoYSl7dmFyIGM9MHxwYXJzZUludChhWzFdLDEwKSx1PWFbMl07MCE9PWMmJih6KHUsYyksRihlLHUsYVszXSksZS5nZXRUYWcoKS5pbnNlcnRSdWxlcyhjLHIpKSxyLmxlbmd0aD0wfWVsc2Ugci5wdXNoKGkpfX19LHE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuX193ZWJwYWNrX25vbmNlX18/d2luZG93Ll9fd2VicGFja19ub25jZV9fOm51bGx9LEg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuaGVhZCxuPWV8fHQscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jaGlsZE5vZGVzLG49dC5sZW5ndGg7bj49MDtuLS0pe3ZhciByPXRbbl07aWYociYmMT09PXIubm9kZVR5cGUmJnIuaGFzQXR0cmlidXRlKEEpKXJldHVybiByfX0obikscz12b2lkIDAhPT1vP28ubmV4dFNpYmxpbmc6bnVsbDtyLnNldEF0dHJpYnV0ZShBLFwiYWN0aXZlXCIpLHIuc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZWQtdmVyc2lvblwiLFwiNS4zLjFcIik7dmFyIGk9cSgpO3JldHVybiBpJiZyLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsaSksbi5pbnNlcnRCZWZvcmUocixzKSxyfSwkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzLmVsZW1lbnQ9SChlKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSx0aGlzLnNoZWV0PWZ1bmN0aW9uKGUpe2lmKGUuc2hlZXQpcmV0dXJuIGUuc2hlZXQ7Zm9yKHZhciB0PWRvY3VtZW50LnN0eWxlU2hlZXRzLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl07aWYoby5vd25lck5vZGU9PT1lKXJldHVybiBvfWooMTcpfSh0KSx0aGlzLmxlbmd0aD0wfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0Lmluc2VydFJ1bGU9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHRoaXMuc2hlZXQuaW5zZXJ0UnVsZSh0LGUpLHRoaXMubGVuZ3RoKyssITB9Y2F0Y2goZSl7cmV0dXJuITF9fSx0LmRlbGV0ZVJ1bGU9ZnVuY3Rpb24oZSl7dGhpcy5zaGVldC5kZWxldGVSdWxlKGUpLHRoaXMubGVuZ3RoLS19LHQuZ2V0UnVsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNoZWV0LmNzc1J1bGVzW2VdO3JldHVybiB2b2lkIDAhPT10JiZcInN0cmluZ1wiPT10eXBlb2YgdC5jc3NUZXh0P3QuY3NzVGV4dDpcIlwifSxlfSgpLFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXMuZWxlbWVudD1IKGUpO3RoaXMubm9kZXM9dC5jaGlsZE5vZGVzLHRoaXMubGVuZ3RoPTB9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaW5zZXJ0UnVsZT1mdW5jdGlvbihlLHQpe2lmKGU8PXRoaXMubGVuZ3RoJiZlPj0wKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSxyPXRoaXMubm9kZXNbZV07cmV0dXJuIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUobixyfHxudWxsKSx0aGlzLmxlbmd0aCsrLCEwfXJldHVybiExfSx0LmRlbGV0ZVJ1bGU9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMubm9kZXNbZV0pLHRoaXMubGVuZ3RoLS19LHQuZ2V0UnVsZT1mdW5jdGlvbihlKXtyZXR1cm4gZTx0aGlzLmxlbmd0aD90aGlzLm5vZGVzW2VdLnRleHRDb250ZW50OlwiXCJ9LGV9KCksVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5ydWxlcz1bXSx0aGlzLmxlbmd0aD0wfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0Lmluc2VydFJ1bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTw9dGhpcy5sZW5ndGgmJih0aGlzLnJ1bGVzLnNwbGljZShlLDAsdCksdGhpcy5sZW5ndGgrKywhMCl9LHQuZGVsZXRlUnVsZT1mdW5jdGlvbihlKXt0aGlzLnJ1bGVzLnNwbGljZShlLDEpLHRoaXMubGVuZ3RoLS19LHQuZ2V0UnVsZT1mdW5jdGlvbihlKXtyZXR1cm4gZTx0aGlzLmxlbmd0aD90aGlzLnJ1bGVzW2VdOlwiXCJ9LGV9KCksSj1JLFg9e2lzU2VydmVyOiFJLHVzZUNTU09NSW5qZWN0aW9uOiFQfSxaPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dm9pZCAwPT09ZSYmKGU9RSksdm9pZCAwPT09dCYmKHQ9e30pLHRoaXMub3B0aW9ucz12KHt9LFgse30sZSksdGhpcy5ncz10LHRoaXMubmFtZXM9bmV3IE1hcChuKSx0aGlzLnNlcnZlcj0hIWUuaXNTZXJ2ZXIsIXRoaXMuc2VydmVyJiZJJiZKJiYoSj0hMSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChMKSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKXt2YXIgbz10W25dO28mJlwiYWN0aXZlXCIhPT1vLmdldEF0dHJpYnV0ZShBKSYmKFkoZSxvKSxvLnBhcmVudE5vZGUmJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSl9fSh0aGlzKSl9ZS5yZWdpc3RlcklkPWZ1bmN0aW9uKGUpe3JldHVybiBCKGUpfTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5yZWNvbnN0cnVjdFdpdGhPcHRpb25zPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPSEwKSxuZXcgZSh2KHt9LHRoaXMub3B0aW9ucyx7fSx0KSx0aGlzLmdzLG4mJnRoaXMubmFtZXN8fHZvaWQgMCl9LHQuYWxsb2NhdGVHU0luc3RhbmNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdzW2VdPSh0aGlzLmdzW2VdfHwwKSsxfSx0LmdldFRhZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhZ3x8KHRoaXMudGFnPShuPSh0PXRoaXMub3B0aW9ucykuaXNTZXJ2ZXIscj10LnVzZUNTU09NSW5qZWN0aW9uLG89dC50YXJnZXQsZT1uP25ldyBVKG8pOnI/bmV3ICQobyk6bmV3IFcobyksbmV3IFQoZSkpKTt2YXIgZSx0LG4scixvfSx0Lmhhc05hbWVGb3JJZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm5hbWVzLmhhcyhlKSYmdGhpcy5uYW1lcy5nZXQoZSkuaGFzKHQpfSx0LnJlZ2lzdGVyTmFtZT1mdW5jdGlvbihlLHQpe2lmKEIoZSksdGhpcy5uYW1lcy5oYXMoZSkpdGhpcy5uYW1lcy5nZXQoZSkuYWRkKHQpO2Vsc2V7dmFyIG49bmV3IFNldDtuLmFkZCh0KSx0aGlzLm5hbWVzLnNldChlLG4pfX0sdC5pbnNlcnRSdWxlcz1mdW5jdGlvbihlLHQsbil7dGhpcy5yZWdpc3Rlck5hbWUoZSx0KSx0aGlzLmdldFRhZygpLmluc2VydFJ1bGVzKEIoZSksbil9LHQuY2xlYXJOYW1lcz1mdW5jdGlvbihlKXt0aGlzLm5hbWVzLmhhcyhlKSYmdGhpcy5uYW1lcy5nZXQoZSkuY2xlYXIoKX0sdC5jbGVhclJ1bGVzPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0VGFnKCkuY2xlYXJHcm91cChCKGUpKSx0aGlzLmNsZWFyTmFtZXMoZSl9LHQuY2xlYXJUYWc9ZnVuY3Rpb24oKXt0aGlzLnRhZz12b2lkIDB9LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZ2V0VGFnKCksbj10Lmxlbmd0aCxyPVwiXCIsbz0wO288bjtvKyspe3ZhciBzPU0obyk7aWYodm9pZCAwIT09cyl7dmFyIGk9ZS5uYW1lcy5nZXQocyksYT10LmdldEdyb3VwKG8pO2lmKGkmJmEmJmkuc2l6ZSl7dmFyIGM9QStcIi5nXCIrbysnW2lkPVwiJytzKydcIl0nLHU9XCJcIjt2b2lkIDAhPT1pJiZpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGVuZ3RoPjAmJih1Kz1lK1wiLFwiKX0pKSxyKz1cIlwiK2ErYysne2NvbnRlbnQ6XCInK3UrJ1wifS8qIXNjKi9cXG4nfX19cmV0dXJuIHJ9KHRoaXMpfSxlfSgpLEs9LyhhKShkKS9naSxRPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGUrKGU+MjU/Mzk6OTcpKX07ZnVuY3Rpb24gZWUoZSl7dmFyIHQsbj1cIlwiO2Zvcih0PU1hdGguYWJzKGUpO3Q+NTI7dD10LzUyfDApbj1RKHQlNTIpK247cmV0dXJuKFEodCU1MikrbikucmVwbGFjZShLLFwiJDEtJDJcIil9dmFyIHRlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQubGVuZ3RoO247KWU9MzMqZV50LmNoYXJDb2RlQXQoLS1uKTtyZXR1cm4gZX0sbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRlKDUzODEsZSl9O2Z1bmN0aW9uIHJlKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7dmFyIG49ZVt0XTtpZihiKG4pJiYhTihuKSlyZXR1cm4hMX1yZXR1cm4hMH12YXIgb2U9bmUoXCI1LjMuMVwiKSxzZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMucnVsZXM9ZSx0aGlzLnN0YXRpY1J1bGVzSWQ9XCJcIix0aGlzLmlzU3RhdGljPVwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJih2b2lkIDA9PT1ufHxuLmlzU3RhdGljKSYmcmUoZSksdGhpcy5jb21wb25lbnRJZD10LHRoaXMuYmFzZUhhc2g9dGUob2UsdCksdGhpcy5iYXNlU3R5bGU9bixaLnJlZ2lzdGVySWQodCl9cmV0dXJuIGUucHJvdG90eXBlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmNvbXBvbmVudElkLG89W107aWYodGhpcy5iYXNlU3R5bGUmJm8ucHVzaCh0aGlzLmJhc2VTdHlsZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhlLHQsbikpLHRoaXMuaXNTdGF0aWMmJiFuLmhhc2gpaWYodGhpcy5zdGF0aWNSdWxlc0lkJiZ0Lmhhc05hbWVGb3JJZChyLHRoaXMuc3RhdGljUnVsZXNJZCkpby5wdXNoKHRoaXMuc3RhdGljUnVsZXNJZCk7ZWxzZXt2YXIgcz1OZSh0aGlzLnJ1bGVzLGUsdCxuKS5qb2luKFwiXCIpLGk9ZWUodGUodGhpcy5iYXNlSGFzaCxzKT4+PjApO2lmKCF0Lmhhc05hbWVGb3JJZChyLGkpKXt2YXIgYT1uKHMsXCIuXCIraSx2b2lkIDAscik7dC5pbnNlcnRSdWxlcyhyLGksYSl9by5wdXNoKGkpLHRoaXMuc3RhdGljUnVsZXNJZD1pfWVsc2V7Zm9yKHZhciBjPXRoaXMucnVsZXMubGVuZ3RoLHU9dGUodGhpcy5iYXNlSGFzaCxuLmhhc2gpLGw9XCJcIixkPTA7ZDxjO2QrKyl7dmFyIGg9dGhpcy5ydWxlc1tkXTtpZihcInN0cmluZ1wiPT10eXBlb2YgaClsKz1oLFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJih1PXRlKHUsaCtkKSk7ZWxzZSBpZihoKXt2YXIgcD1OZShoLGUsdCxuKSxmPUFycmF5LmlzQXJyYXkocCk/cC5qb2luKFwiXCIpOnA7dT10ZSh1LGYrZCksbCs9Zn19aWYobCl7dmFyIG09ZWUodT4+PjApO2lmKCF0Lmhhc05hbWVGb3JJZChyLG0pKXt2YXIgeT1uKGwsXCIuXCIrbSx2b2lkIDAscik7dC5pbnNlcnRSdWxlcyhyLG0seSl9by5wdXNoKG0pfX1yZXR1cm4gby5qb2luKFwiIFwiKX0sZX0oKSxpZT0vXlxccypcXC9cXC8uKiQvZ20sYWU9W1wiOlwiLFwiW1wiLFwiLlwiLFwiI1wiXTtmdW5jdGlvbiBjZShlKXt2YXIgdCxuLHIsbyxzPXZvaWQgMD09PWU/RTplLGk9cy5vcHRpb25zLGE9dm9pZCAwPT09aT9FOmksYz1zLnBsdWdpbnMsdT12b2lkIDA9PT1jP3c6YyxsPW5ldyBwKGEpLGQ9W10saD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe2lmKHQpdHJ5e2UodCtcIn1cIil9Y2F0Y2goZSl7fX1yZXR1cm4gZnVuY3Rpb24obixyLG8scyxpLGEsYyx1LGwsZCl7c3dpdGNoKG4pe2Nhc2UgMTppZigwPT09bCYmNjQ9PT1yLmNoYXJDb2RlQXQoMCkpcmV0dXJuIGUocitcIjtcIiksXCJcIjticmVhaztjYXNlIDI6aWYoMD09PXUpcmV0dXJuIHIrXCIvKnwqL1wiO2JyZWFrO2Nhc2UgMzpzd2l0Y2godSl7Y2FzZSAxMDI6Y2FzZSAxMTI6cmV0dXJuIGUob1swXStyKSxcIlwiO2RlZmF1bHQ6cmV0dXJuIHIrKDA9PT1kP1wiLyp8Ki9cIjpcIlwiKX1jYXNlLTI6ci5zcGxpdChcIi8qfCovfVwiKS5mb3JFYWNoKHQpfX19KChmdW5jdGlvbihlKXtkLnB1c2goZSl9KSksZj1mdW5jdGlvbihlLHIscyl7cmV0dXJuIDA9PT1yJiYtMSE9PWFlLmluZGV4T2Yoc1tuLmxlbmd0aF0pfHxzLm1hdGNoKG8pP2U6XCIuXCIrdH07ZnVuY3Rpb24gbShlLHMsaSxhKXt2b2lkIDA9PT1hJiYoYT1cIiZcIik7dmFyIGM9ZS5yZXBsYWNlKGllLFwiXCIpLHU9cyYmaT9pK1wiIFwiK3MrXCIgeyBcIitjK1wiIH1cIjpjO3JldHVybiB0PWEsbj1zLHI9bmV3IFJlZ0V4cChcIlxcXFxcIituK1wiXFxcXGJcIixcImdcIiksbz1uZXcgUmVnRXhwKFwiKFxcXFxcIituK1wiXFxcXGIpezIsfVwiKSxsKGl8fCFzP1wiXCI6cyx1KX1yZXR1cm4gbC51c2UoW10uY29uY2F0KHUsW2Z1bmN0aW9uKGUsdCxvKXsyPT09ZSYmby5sZW5ndGgmJm9bMF0ubGFzdEluZGV4T2Yobik+MCYmKG9bMF09b1swXS5yZXBsYWNlKHIsZikpfSxoLGZ1bmN0aW9uKGUpe2lmKC0yPT09ZSl7dmFyIHQ9ZDtyZXR1cm4gZD1bXSx0fX1dKSksbS5oYXNoPXUubGVuZ3RoP3UucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0Lm5hbWV8fGooMTUpLHRlKGUsdC5uYW1lKX0pLDUzODEpLnRvU3RyaW5nKCk6XCJcIixtfXZhciB1ZT1yLmNyZWF0ZUNvbnRleHQoKSxsZT11ZS5Db25zdW1lcixkZT1yLmNyZWF0ZUNvbnRleHQoKSxoZT0oZGUuQ29uc3VtZXIsbmV3IFopLHBlPWNlKCk7ZnVuY3Rpb24gZmUoKXtyZXR1cm4gcyh1ZSl8fGhlfWZ1bmN0aW9uIG1lKCl7cmV0dXJuIHMoZGUpfHxwZX1mdW5jdGlvbiB5ZShlKXt2YXIgdD1vKGUuc3R5bGlzUGx1Z2lucyksbj10WzBdLHM9dFsxXSxjPWZlKCksdT1pKChmdW5jdGlvbigpe3ZhciB0PWM7cmV0dXJuIGUuc2hlZXQ/dD1lLnNoZWV0OmUudGFyZ2V0JiYodD10LnJlY29uc3RydWN0V2l0aE9wdGlvbnMoe3RhcmdldDplLnRhcmdldH0sITEpKSxlLmRpc2FibGVDU1NPTUluamVjdGlvbiYmKHQ9dC5yZWNvbnN0cnVjdFdpdGhPcHRpb25zKHt1c2VDU1NPTUluamVjdGlvbjohMX0pKSx0fSksW2UuZGlzYWJsZUNTU09NSW5qZWN0aW9uLGUuc2hlZXQsZS50YXJnZXRdKSxsPWkoKGZ1bmN0aW9uKCl7cmV0dXJuIGNlKHtvcHRpb25zOntwcmVmaXg6IWUuZGlzYWJsZVZlbmRvclByZWZpeGVzfSxwbHVnaW5zOm59KX0pLFtlLmRpc2FibGVWZW5kb3JQcmVmaXhlcyxuXSk7cmV0dXJuIGEoKGZ1bmN0aW9uKCl7aChuLGUuc3R5bGlzUGx1Z2lucyl8fHMoZS5zdHlsaXNQbHVnaW5zKX0pLFtlLnN0eWxpc1BsdWdpbnNdKSxyLmNyZWF0ZUVsZW1lbnQodWUuUHJvdmlkZXIse3ZhbHVlOnV9LHIuY3JlYXRlRWxlbWVudChkZS5Qcm92aWRlcix7dmFsdWU6bH0sXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVj9yLkNoaWxkcmVuLm9ubHkoZS5jaGlsZHJlbik6ZS5jaGlsZHJlbikpfXZhciB2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj10aGlzO3RoaXMuaW5qZWN0PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9cGUpO3ZhciByPW4ubmFtZSt0Lmhhc2g7ZS5oYXNOYW1lRm9ySWQobi5pZCxyKXx8ZS5pbnNlcnRSdWxlcyhuLmlkLHIsdChuLnJ1bGVzLHIsXCJAa2V5ZnJhbWVzXCIpKX0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBqKDEyLFN0cmluZyhuLm5hbWUpKX0sdGhpcy5uYW1lPWUsdGhpcy5pZD1cInNjLWtleWZyYW1lcy1cIitlLHRoaXMucnVsZXM9dH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9cGUpLHRoaXMubmFtZStlLmhhc2h9LGV9KCksZ2U9LyhbQS1aXSkvLFNlPS8oW0EtWl0pL2csd2U9L15tcy0vLEVlPWZ1bmN0aW9uKGUpe3JldHVyblwiLVwiK2UudG9Mb3dlckNhc2UoKX07ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIGdlLnRlc3QoZSk/ZS5yZXBsYWNlKFNlLEVlKS5yZXBsYWNlKHdlLFwiLW1zLVwiKTplfXZhciBfZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZXx8ITE9PT1lfHxcIlwiPT09ZX07ZnVuY3Rpb24gTmUoZSxuLHIsbyl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBzLGk9W10sYT0wLGM9ZS5sZW5ndGg7YTxjO2ErPTEpXCJcIiE9PShzPU5lKGVbYV0sbixyLG8pKSYmKEFycmF5LmlzQXJyYXkocyk/aS5wdXNoLmFwcGx5KGkscyk6aS5wdXNoKHMpKTtyZXR1cm4gaX1pZihfZShlKSlyZXR1cm5cIlwiO2lmKE4oZSkpcmV0dXJuXCIuXCIrZS5zdHlsZWRDb21wb25lbnRJZDtpZihiKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZihsPWUpfHxsLnByb3RvdHlwZSYmbC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudHx8IW4pcmV0dXJuIGU7dmFyIHU9ZShuKTtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZ0KHUpJiZjb25zb2xlLndhcm4oXyhlKStcIiBpcyBub3QgYSBzdHlsZWQgY29tcG9uZW50IGFuZCBjYW5ub3QgYmUgcmVmZXJyZWQgdG8gdmlhIGNvbXBvbmVudCBzZWxlY3Rvci4gU2VlIGh0dHBzOi8vd3d3LnN0eWxlZC1jb21wb25lbnRzLmNvbS9kb2NzL2FkdmFuY2VkI3JlZmVycmluZy10by1vdGhlci1jb21wb25lbnRzIGZvciBtb3JlIGRldGFpbHMuXCIpLE5lKHUsbixyLG8pfXZhciBsO3JldHVybiBlIGluc3RhbmNlb2YgdmU/cj8oZS5pbmplY3QocixvKSxlLmdldE5hbWUobykpOmU6UyhlKT9mdW5jdGlvbiBlKHQsbil7dmFyIHIsbyxzPVtdO2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJiFfZSh0W2ldKSYmKEFycmF5LmlzQXJyYXkodFtpXSkmJnRbaV0uaXNDc3N8fGIodFtpXSk/cy5wdXNoKGJlKGkpK1wiOlwiLHRbaV0sXCI7XCIpOlModFtpXSk/cy5wdXNoLmFwcGx5KHMsZSh0W2ldLGkpKTpzLnB1c2goYmUoaSkrXCI6IFwiKyhyPWksbnVsbD09KG89dFtpXSl8fFwiYm9vbGVhblwiPT10eXBlb2Ygb3x8XCJcIj09PW8/XCJcIjpcIm51bWJlclwiIT10eXBlb2Ygb3x8MD09PW98fHIgaW4gZj9TdHJpbmcobykudHJpbSgpOm8rXCJweFwiKStcIjtcIikpO3JldHVybiBuP1tuK1wiIHtcIl0uY29uY2F0KHMsW1wifVwiXSk6c30oZSk6ZS50b1N0cmluZygpfXZhciBBZT1mdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGUuaXNDc3M9ITApLGV9O2Z1bmN0aW9uIENlKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gYihlKXx8UyhlKT9BZShOZShnKHcsW2VdLmNvbmNhdChuKSkpKTowPT09bi5sZW5ndGgmJjE9PT1lLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGVbMF0/ZTpBZShOZShnKGUsbikpKX12YXIgSWU9L2ludmFsaWQgaG9vayBjYWxsL2ksUGU9bmV3IFNldCxPZT1mdW5jdGlvbihlLHQpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYpe3ZhciBuPVwiVGhlIGNvbXBvbmVudCBcIitlKyh0Pycgd2l0aCB0aGUgaWQgb2YgXCInK3QrJ1wiJzpcIlwiKStcIiBoYXMgYmVlbiBjcmVhdGVkIGR5bmFtaWNhbGx5LlxcbllvdSBtYXkgc2VlIHRoaXMgd2FybmluZyBiZWNhdXNlIHlvdSd2ZSBjYWxsZWQgc3R5bGVkIGluc2lkZSBhbm90aGVyIGNvbXBvbmVudC5cXG5UbyByZXNvbHZlIHRoaXMgb25seSBjcmVhdGUgbmV3IFN0eWxlZENvbXBvbmVudHMgb3V0c2lkZSBvZiBhbnkgcmVuZGVyIG1ldGhvZCBhbmQgZnVuY3Rpb24gY29tcG9uZW50LlwiLHI9Y29uc29sZS5lcnJvcjt0cnl7dmFyIG89ITA7Y29uc29sZS5lcnJvcj1mdW5jdGlvbihlKXtpZihJZS50ZXN0KGUpKW89ITEsUGUuZGVsZXRlKG4pO2Vsc2V7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkodD4xP3QtMTowKSxpPTE7aTx0O2krKylzW2ktMV09YXJndW1lbnRzW2ldO3IuYXBwbHkodm9pZCAwLFtlXS5jb25jYXQocykpfX0sYygpLG8mJiFQZS5oYXMobikmJihjb25zb2xlLndhcm4obiksUGUuYWRkKG4pKX1jYXRjaChlKXtJZS50ZXN0KGUubWVzc2FnZSkmJlBlLmRlbGV0ZShuKX1maW5hbGx5e2NvbnNvbGUuZXJyb3I9cn19fSxSZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPUUpLGUudGhlbWUhPT1uLnRoZW1lJiZlLnRoZW1lfHx0fHxuLnRoZW1lfSxEZT0vWyFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fi1dKy9nLGplPS8oXi18LSQpL2c7ZnVuY3Rpb24gVGUoZSl7cmV0dXJuIGUucmVwbGFjZShEZSxcIi1cIikucmVwbGFjZShqZSxcIlwiKX12YXIga2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGVlKG5lKGUpPj4+MCl9O2Z1bmN0aW9uIHhlKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoXCJwcm9kdWN0aW9uXCI9PT1wcm9jZXNzLmVudi5OT0RFX0VOVnx8ZS5jaGFyQXQoMCk9PT1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpKX12YXIgVmU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZXx8XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhQXJyYXkuaXNBcnJheShlKX0sQmU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJfX3Byb3RvX19cIiE9PWUmJlwiY29uc3RydWN0b3JcIiE9PWUmJlwicHJvdG90eXBlXCIhPT1lfTtmdW5jdGlvbiBNZShlLHQsbil7dmFyIHI9ZVtuXTtWZSh0KSYmVmUocik/emUocix0KTplW25dPXR9ZnVuY3Rpb24gemUoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2Zvcih2YXIgbz0wLHM9bjtvPHMubGVuZ3RoO28rKyl7dmFyIGk9c1tvXTtpZihWZShpKSlmb3IodmFyIGEgaW4gaSlCZShhKSYmTWUoZSxpW2FdLGEpfXJldHVybiBlfXZhciBMZT1yLmNyZWF0ZUNvbnRleHQoKSxHZT1MZS5Db25zdW1lcjtmdW5jdGlvbiBGZShlKXt2YXIgdD1zKExlKSxuPWkoKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIGooMTQpO2lmKGIoZSkpe3ZhciBuPWUodCk7cmV0dXJuXCJwcm9kdWN0aW9uXCI9PT1wcm9jZXNzLmVudi5OT0RFX0VOVnx8bnVsbCE9PW4mJiFBcnJheS5pc0FycmF5KG4pJiZcIm9iamVjdFwiPT10eXBlb2Ygbj9uOmooNyl9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fFwib2JqZWN0XCIhPXR5cGVvZiBlP2ooOCk6dD92KHt9LHQse30sZSk6ZX0oZS50aGVtZSx0KX0pLFtlLnRoZW1lLHRdKTtyZXR1cm4gZS5jaGlsZHJlbj9yLmNyZWF0ZUVsZW1lbnQoTGUuUHJvdmlkZXIse3ZhbHVlOm59LGUuY2hpbGRyZW4pOm51bGx9dmFyIFllPXt9O2Z1bmN0aW9uIHFlKGUsdCxuKXt2YXIgbz1OKGUpLGk9IXhlKGUpLGE9dC5hdHRycyxjPXZvaWQgMD09PWE/dzphLGQ9dC5jb21wb25lbnRJZCxoPXZvaWQgMD09PWQ/ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInN0cmluZ1wiIT10eXBlb2YgZT9cInNjXCI6VGUoZSk7WWVbbl09KFllW25dfHwwKSsxO3ZhciByPW4rXCItXCIra2UoXCI1LjMuMVwiK24rWWVbbl0pO3JldHVybiB0P3QrXCItXCIrcjpyfSh0LmRpc3BsYXlOYW1lLHQucGFyZW50Q29tcG9uZW50SWQpOmQscD10LmRpc3BsYXlOYW1lLGY9dm9pZCAwPT09cD9mdW5jdGlvbihlKXtyZXR1cm4geGUoZSk/XCJzdHlsZWQuXCIrZTpcIlN0eWxlZChcIitfKGUpK1wiKVwifShlKTpwLGc9dC5kaXNwbGF5TmFtZSYmdC5jb21wb25lbnRJZD9UZSh0LmRpc3BsYXlOYW1lKStcIi1cIit0LmNvbXBvbmVudElkOnQuY29tcG9uZW50SWR8fGgsUz1vJiZlLmF0dHJzP0FycmF5LnByb3RvdHlwZS5jb25jYXQoZS5hdHRycyxjKS5maWx0ZXIoQm9vbGVhbik6YyxBPXQuc2hvdWxkRm9yd2FyZFByb3A7byYmZS5zaG91bGRGb3J3YXJkUHJvcCYmKEE9dC5zaG91bGRGb3J3YXJkUHJvcD9mdW5jdGlvbihuLHIsbyl7cmV0dXJuIGUuc2hvdWxkRm9yd2FyZFByb3AobixyLG8pJiZ0LnNob3VsZEZvcndhcmRQcm9wKG4scixvKX06ZS5zaG91bGRGb3J3YXJkUHJvcCk7dmFyIEMsST1uZXcgc2UobixnLG8/ZS5jb21wb25lbnRTdHlsZTp2b2lkIDApLFA9SS5pc1N0YXRpYyYmMD09PWMubGVuZ3RoLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5hdHRycyxpPWUuY29tcG9uZW50U3R5bGUsYT1lLmRlZmF1bHRQcm9wcyxjPWUuZm9sZGVkQ29tcG9uZW50SWRzLGQ9ZS5zaG91bGRGb3J3YXJkUHJvcCxoPWUuc3R5bGVkQ29tcG9uZW50SWQscD1lLnRhcmdldDtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZsKGgpO3ZhciBmPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1lJiYoZT1FKTt2YXIgcj12KHt9LHQse3RoZW1lOmV9KSxvPXt9O3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0LG4scyxpPWU7Zm9yKHQgaW4gYihpKSYmKGk9aShyKSksaSlyW3RdPW9bdF09XCJjbGFzc05hbWVcIj09PXQ/KG49b1t0XSxzPWlbdF0sbiYmcz9uK1wiIFwiK3M6bnx8cyk6aVt0XX0pKSxbcixvXX0oUmUodCxzKExlKSxhKXx8RSx0LG8pLHk9ZlswXSxnPWZbMV0sUz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1mZSgpLHM9bWUoKSxpPXQ/ZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFLG8scyk6ZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhuLG8scyk7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmbChpKSxcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYhdCYmciYmcihpKSxpfShpLHIseSxcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WP2Uud2FyblRvb01hbnlDbGFzc2VzOnZvaWQgMCksdz1uLF89Zy4kYXN8fHQuJGFzfHxnLmFzfHx0LmFzfHxwLE49eGUoXyksQT1nIT09dD92KHt9LHQse30sZyk6dCxDPXt9O2Zvcih2YXIgSSBpbiBBKVwiJFwiIT09SVswXSYmXCJhc1wiIT09SSYmKFwiZm9yd2FyZGVkQXNcIj09PUk/Qy5hcz1BW0ldOihkP2QoSSxtLF8pOiFOfHxtKEkpKSYmKENbSV09QVtJXSkpO3JldHVybiB0LnN0eWxlJiZnLnN0eWxlIT09dC5zdHlsZSYmKEMuc3R5bGU9dih7fSx0LnN0eWxlLHt9LGcuc3R5bGUpKSxDLmNsYXNzTmFtZT1BcnJheS5wcm90b3R5cGUuY29uY2F0KGMsaCxTIT09aD9TOm51bGwsdC5jbGFzc05hbWUsZy5jbGFzc05hbWUpLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSxDLnJlZj13LHUoXyxDKX0oQyxlLHQsUCl9O3JldHVybiBPLmRpc3BsYXlOYW1lPWYsKEM9ci5mb3J3YXJkUmVmKE8pKS5hdHRycz1TLEMuY29tcG9uZW50U3R5bGU9SSxDLmRpc3BsYXlOYW1lPWYsQy5zaG91bGRGb3J3YXJkUHJvcD1BLEMuZm9sZGVkQ29tcG9uZW50SWRzPW8/QXJyYXkucHJvdG90eXBlLmNvbmNhdChlLmZvbGRlZENvbXBvbmVudElkcyxlLnN0eWxlZENvbXBvbmVudElkKTp3LEMuc3R5bGVkQ29tcG9uZW50SWQ9ZyxDLnRhcmdldD1vP2UudGFyZ2V0OmUsQy53aXRoQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciByPXQuY29tcG9uZW50SWQsbz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixvPXt9LHM9T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKyluPXNbcl0sdC5pbmRleE9mKG4pPj0wfHwob1tuXT1lW25dKTtyZXR1cm4gb30odCxbXCJjb21wb25lbnRJZFwiXSkscz1yJiZyK1wiLVwiKyh4ZShlKT9lOlRlKF8oZSkpKTtyZXR1cm4gcWUoZSx2KHt9LG8se2F0dHJzOlMsY29tcG9uZW50SWQ6c30pLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQyxcImRlZmF1bHRQcm9wc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9sZGVkRGVmYXVsdFByb3BzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9sZGVkRGVmYXVsdFByb3BzPW8/emUoe30sZS5kZWZhdWx0UHJvcHMsdCk6dH19KSxcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoT2UoZixnKSxDLndhcm5Ub29NYW55Q2xhc3Nlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9ITE7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKCFyJiYobltvXT0hMCxPYmplY3Qua2V5cyhuKS5sZW5ndGg+PTIwMCkpe3ZhciBzPXQ/JyB3aXRoIHRoZSBpZCBvZiBcIicrdCsnXCInOlwiXCI7Y29uc29sZS53YXJuKFwiT3ZlciAyMDAgY2xhc3NlcyB3ZXJlIGdlbmVyYXRlZCBmb3IgY29tcG9uZW50IFwiK2UrcytcIi5cXG5Db25zaWRlciB1c2luZyB0aGUgYXR0cnMgbWV0aG9kLCB0b2dldGhlciB3aXRoIGEgc3R5bGUgb2JqZWN0IGZvciBmcmVxdWVudGx5IGNoYW5nZWQgc3R5bGVzLlxcbkV4YW1wbGU6XFxuICBjb25zdCBDb21wb25lbnQgPSBzdHlsZWQuZGl2LmF0dHJzKHByb3BzID0+ICh7XFxuICAgIHN0eWxlOiB7XFxuICAgICAgYmFja2dyb3VuZDogcHJvcHMuYmFja2dyb3VuZCxcXG4gICAgfSxcXG4gIH0pKWB3aWR0aDogMTAwJTtgXFxuXFxuICA8Q29tcG9uZW50IC8+XCIpLHI9ITAsbj17fX19fShmLGcpKSxDLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIuXCIrQy5zdHlsZWRDb21wb25lbnRJZH0saSYmeShDLGUse2F0dHJzOiEwLGNvbXBvbmVudFN0eWxlOiEwLGRpc3BsYXlOYW1lOiEwLGZvbGRlZENvbXBvbmVudElkczohMCxzaG91bGRGb3J3YXJkUHJvcDohMCxzdHlsZWRDb21wb25lbnRJZDohMCx0YXJnZXQ6ITAsd2l0aENvbXBvbmVudDohMH0pLEN9dmFyIEhlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbiBlKHQscixvKXtpZih2b2lkIDA9PT1vJiYobz1FKSwhbihyKSlyZXR1cm4gaigxLFN0cmluZyhyKSk7dmFyIHM9ZnVuY3Rpb24oKXtyZXR1cm4gdChyLG8sQ2UuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfTtyZXR1cm4gcy53aXRoQ29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiBlKHQscix2KHt9LG8se30sbikpfSxzLmF0dHJzPWZ1bmN0aW9uKG4pe3JldHVybiBlKHQscix2KHt9LG8se2F0dHJzOkFycmF5LnByb3RvdHlwZS5jb25jYXQoby5hdHRycyxuKS5maWx0ZXIoQm9vbGVhbil9KSl9LHN9KHFlLGUpfTtbXCJhXCIsXCJhYmJyXCIsXCJhZGRyZXNzXCIsXCJhcmVhXCIsXCJhcnRpY2xlXCIsXCJhc2lkZVwiLFwiYXVkaW9cIixcImJcIixcImJhc2VcIixcImJkaVwiLFwiYmRvXCIsXCJiaWdcIixcImJsb2NrcXVvdGVcIixcImJvZHlcIixcImJyXCIsXCJidXR0b25cIixcImNhbnZhc1wiLFwiY2FwdGlvblwiLFwiY2l0ZVwiLFwiY29kZVwiLFwiY29sXCIsXCJjb2xncm91cFwiLFwiZGF0YVwiLFwiZGF0YWxpc3RcIixcImRkXCIsXCJkZWxcIixcImRldGFpbHNcIixcImRmblwiLFwiZGlhbG9nXCIsXCJkaXZcIixcImRsXCIsXCJkdFwiLFwiZW1cIixcImVtYmVkXCIsXCJmaWVsZHNldFwiLFwiZmlnY2FwdGlvblwiLFwiZmlndXJlXCIsXCJmb290ZXJcIixcImZvcm1cIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcImhlYWRcIixcImhlYWRlclwiLFwiaGdyb3VwXCIsXCJoclwiLFwiaHRtbFwiLFwiaVwiLFwiaWZyYW1lXCIsXCJpbWdcIixcImlucHV0XCIsXCJpbnNcIixcImtiZFwiLFwia2V5Z2VuXCIsXCJsYWJlbFwiLFwibGVnZW5kXCIsXCJsaVwiLFwibGlua1wiLFwibWFpblwiLFwibWFwXCIsXCJtYXJrXCIsXCJtYXJxdWVlXCIsXCJtZW51XCIsXCJtZW51aXRlbVwiLFwibWV0YVwiLFwibWV0ZXJcIixcIm5hdlwiLFwibm9zY3JpcHRcIixcIm9iamVjdFwiLFwib2xcIixcIm9wdGdyb3VwXCIsXCJvcHRpb25cIixcIm91dHB1dFwiLFwicFwiLFwicGFyYW1cIixcInBpY3R1cmVcIixcInByZVwiLFwicHJvZ3Jlc3NcIixcInFcIixcInJwXCIsXCJydFwiLFwicnVieVwiLFwic1wiLFwic2FtcFwiLFwic2NyaXB0XCIsXCJzZWN0aW9uXCIsXCJzZWxlY3RcIixcInNtYWxsXCIsXCJzb3VyY2VcIixcInNwYW5cIixcInN0cm9uZ1wiLFwic3R5bGVcIixcInN1YlwiLFwic3VtbWFyeVwiLFwic3VwXCIsXCJ0YWJsZVwiLFwidGJvZHlcIixcInRkXCIsXCJ0ZXh0YXJlYVwiLFwidGZvb3RcIixcInRoXCIsXCJ0aGVhZFwiLFwidGltZVwiLFwidGl0bGVcIixcInRyXCIsXCJ0cmFja1wiLFwidVwiLFwidWxcIixcInZhclwiLFwidmlkZW9cIixcIndiclwiLFwiY2lyY2xlXCIsXCJjbGlwUGF0aFwiLFwiZGVmc1wiLFwiZWxsaXBzZVwiLFwiZm9yZWlnbk9iamVjdFwiLFwiZ1wiLFwiaW1hZ2VcIixcImxpbmVcIixcImxpbmVhckdyYWRpZW50XCIsXCJtYXJrZXJcIixcIm1hc2tcIixcInBhdGhcIixcInBhdHRlcm5cIixcInBvbHlnb25cIixcInBvbHlsaW5lXCIsXCJyYWRpYWxHcmFkaWVudFwiLFwicmVjdFwiLFwic3RvcFwiLFwic3ZnXCIsXCJ0ZXh0XCIsXCJ0ZXh0UGF0aFwiLFwidHNwYW5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7SGVbZV09SGUoZSl9KSk7dmFyICRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucnVsZXM9ZSx0aGlzLmNvbXBvbmVudElkPXQsdGhpcy5pc1N0YXRpYz1yZShlKSxaLnJlZ2lzdGVySWQodGhpcy5jb21wb25lbnRJZCsxKX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5jcmVhdGVTdHlsZXM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89cihOZSh0aGlzLnJ1bGVzLHQsbixyKS5qb2luKFwiXCIpLFwiXCIpLHM9dGhpcy5jb21wb25lbnRJZCtlO24uaW5zZXJ0UnVsZXMocyxzLG8pfSx0LnJlbW92ZVN0eWxlcz1mdW5jdGlvbihlLHQpe3QuY2xlYXJSdWxlcyh0aGlzLmNvbXBvbmVudElkK2UpfSx0LnJlbmRlclN0eWxlcz1mdW5jdGlvbihlLHQsbixyKXtlPjImJloucmVnaXN0ZXJJZCh0aGlzLmNvbXBvbmVudElkK2UpLHRoaXMucmVtb3ZlU3R5bGVzKGUsbiksdGhpcy5jcmVhdGVTdHlsZXMoZSx0LG4scil9LGV9KCk7ZnVuY3Rpb24gV2UoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxvPTE7bzx0O28rKyluW28tMV09YXJndW1lbnRzW29dO3ZhciBpPUNlLmFwcGx5KHZvaWQgMCxbZV0uY29uY2F0KG4pKSxhPVwic2MtZ2xvYmFsLVwiK2tlKEpTT04uc3RyaW5naWZ5KGkpKSx1PW5ldyAkZShpLGEpO2Z1bmN0aW9uIGwoZSl7dmFyIHQ9ZmUoKSxuPW1lKCksbz1zKExlKSxsPWModC5hbGxvY2F0ZUdTSW5zdGFuY2UoYSkpLmN1cnJlbnQ7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmci5DaGlsZHJlbi5jb3VudChlLmNoaWxkcmVuKSYmY29uc29sZS53YXJuKFwiVGhlIGdsb2JhbCBzdHlsZSBjb21wb25lbnQgXCIrYStcIiB3YXMgZ2l2ZW4gY2hpbGQgSlNYLiBjcmVhdGVHbG9iYWxTdHlsZSBkb2VzIG5vdCByZW5kZXIgY2hpbGRyZW4uXCIpLFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmkuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT09ZS5pbmRleE9mKFwiQGltcG9ydFwiKX0pKSYmY29uc29sZS53YXJuKFwiUGxlYXNlIGRvIG5vdCB1c2UgQGltcG9ydCBDU1Mgc3ludGF4IGluIGNyZWF0ZUdsb2JhbFN0eWxlIGF0IHRoaXMgdGltZSwgYXMgdGhlIENTU09NIEFQSXMgd2UgdXNlIGluIHByb2R1Y3Rpb24gZG8gbm90IGhhbmRsZSBpdCB3ZWxsLiBJbnN0ZWFkLCB3ZSByZWNvbW1lbmQgdXNpbmcgYSBsaWJyYXJ5IHN1Y2ggYXMgcmVhY3QtaGVsbWV0IHRvIGluamVjdCBhIHR5cGljYWwgPGxpbms+IG1ldGEgdGFnIHRvIHRoZSBzdHlsZXNoZWV0LCBvciBzaW1wbHkgZW1iZWRkaW5nIGl0IG1hbnVhbGx5IGluIHlvdXIgaW5kZXguaHRtbCA8aGVhZD4gc2VjdGlvbiBmb3IgYSBzaW1wbGVyIGFwcC5cIiksdC5zZXJ2ZXImJmgobCxlLHQsbyxuKSxkKChmdW5jdGlvbigpe2lmKCF0LnNlcnZlcilyZXR1cm4gaChsLGUsdCxvLG4pLGZ1bmN0aW9uKCl7cmV0dXJuIHUucmVtb3ZlU3R5bGVzKGwsdCl9fSksW2wsZSx0LG8sbl0pLG51bGx9ZnVuY3Rpb24gaChlLHQsbixyLG8pe2lmKHUuaXNTdGF0aWMpdS5yZW5kZXJTdHlsZXMoZSxPLG4sbyk7ZWxzZXt2YXIgcz12KHt9LHQse3RoZW1lOlJlKHQscixsLmRlZmF1bHRQcm9wcyl9KTt1LnJlbmRlclN0eWxlcyhlLHMsbixvKX19cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmT2UoYSksci5tZW1vKGwpfWZ1bmN0aW9uIFVlKGUpe1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0JiZjb25zb2xlLndhcm4oXCJga2V5ZnJhbWVzYCBjYW5ub3QgYmUgdXNlZCBvbiBSZWFjdE5hdGl2ZSwgb25seSBvbiB0aGUgd2ViLiBUbyBkbyBhbmltYXRpb24gaW4gUmVhY3ROYXRpdmUgcGxlYXNlIHVzZSBBbmltYXRlZC5cIik7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3ZhciBvPUNlLmFwcGx5KHZvaWQgMCxbZV0uY29uY2F0KG4pKS5qb2luKFwiXCIpLHM9a2Uobyk7cmV0dXJuIG5ldyB2ZShzLG8pfXZhciBKZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO3RoaXMuX2VtaXRTaGVldENTUz1mdW5jdGlvbigpe3ZhciB0PWUuaW5zdGFuY2UudG9TdHJpbmcoKTtpZighdClyZXR1cm5cIlwiO3ZhciBuPXEoKTtyZXR1cm5cIjxzdHlsZSBcIitbbiYmJ25vbmNlPVwiJytuKydcIicsQSsnPVwidHJ1ZVwiJywnZGF0YS1zdHlsZWQtdmVyc2lvbj1cIjUuMy4xXCInXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIikrXCI+XCIrdCtcIjwvc3R5bGU+XCJ9LHRoaXMuZ2V0U3R5bGVUYWdzPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VhbGVkP2ooMik6ZS5fZW1pdFNoZWV0Q1NTKCl9LHRoaXMuZ2V0U3R5bGVFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQ7aWYoZS5zZWFsZWQpcmV0dXJuIGooMik7dmFyIG49KCh0PXt9KVtBXT1cIlwiLHRbXCJkYXRhLXN0eWxlZC12ZXJzaW9uXCJdPVwiNS4zLjFcIix0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXtfX2h0bWw6ZS5pbnN0YW5jZS50b1N0cmluZygpfSx0KSxvPXEoKTtyZXR1cm4gbyYmKG4ubm9uY2U9byksW3IuY3JlYXRlRWxlbWVudChcInN0eWxlXCIsdih7fSxuLHtrZXk6XCJzYy0wLTBcIn0pKV19LHRoaXMuc2VhbD1mdW5jdGlvbigpe2Uuc2VhbGVkPSEwfSx0aGlzLmluc3RhbmNlPW5ldyBaKHtpc1NlcnZlcjohMH0pLHRoaXMuc2VhbGVkPSExfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNvbGxlY3RTdHlsZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VhbGVkP2ooMik6ci5jcmVhdGVFbGVtZW50KHllLHtzaGVldDp0aGlzLmluc3RhbmNlfSxlKX0sdC5pbnRlcmxlYXZlV2l0aE5vZGVTdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIGooMyl9LGV9KCksWGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5mb3J3YXJkUmVmKChmdW5jdGlvbih0LG4pe3ZhciBvPXMoTGUpLGk9ZS5kZWZhdWx0UHJvcHMsYT1SZSh0LG8saSk7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmdm9pZCAwPT09YSYmY29uc29sZS53YXJuKCdbd2l0aFRoZW1lXSBZb3UgYXJlIG5vdCB1c2luZyBhIFRoZW1lUHJvdmlkZXIgbm9yIHBhc3NpbmcgYSB0aGVtZSBwcm9wIG9yIGEgdGhlbWUgaW4gZGVmYXVsdFByb3BzIGluIGNvbXBvbmVudCBjbGFzcyBcIicrXyhlKSsnXCInKSxyLmNyZWF0ZUVsZW1lbnQoZSx2KHt9LHQse3RoZW1lOmEscmVmOm59KSl9KSk7cmV0dXJuIHkodCxlKSx0LmRpc3BsYXlOYW1lPVwiV2l0aFRoZW1lKFwiK18oZSkrXCIpXCIsdH0sWmU9ZnVuY3Rpb24oKXtyZXR1cm4gcyhMZSl9LEtlPXtTdHlsZVNoZWV0OlosbWFzdGVyU2hlZXQ6aGV9O1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0JiZjb25zb2xlLndhcm4oXCJJdCBsb29rcyBsaWtlIHlvdSd2ZSBpbXBvcnRlZCAnc3R5bGVkLWNvbXBvbmVudHMnIG9uIFJlYWN0IE5hdGl2ZS5cXG5QZXJoYXBzIHlvdSdyZSBsb29raW5nIHRvIGltcG9ydCAnc3R5bGVkLWNvbXBvbmVudHMvbmF0aXZlJz9cXG5SZWFkIG1vcmUgYWJvdXQgdGhpcyBhdCBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9iYXNpY3MjcmVhY3QtbmF0aXZlXCIpLFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwidGVzdFwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3dbXCJfX3N0eWxlZC1jb21wb25lbnRzLWluaXRfX1wiXT13aW5kb3dbXCJfX3N0eWxlZC1jb21wb25lbnRzLWluaXRfX1wiXXx8MCwxPT09d2luZG93W1wiX19zdHlsZWQtY29tcG9uZW50cy1pbml0X19cIl0mJmNvbnNvbGUud2FybihcIkl0IGxvb2tzIGxpa2UgdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mICdzdHlsZWQtY29tcG9uZW50cycgaW5pdGlhbGl6ZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4gVGhpcyBtYXkgY2F1c2UgZHluYW1pYyBzdHlsZXMgdG8gbm90IHJlbmRlciBwcm9wZXJseSwgZXJyb3JzIGR1cmluZyB0aGUgcmVoeWRyYXRpb24gcHJvY2VzcywgYSBtaXNzaW5nIHRoZW1lIHByb3AsIGFuZCBtYWtlcyB5b3VyIGFwcGxpY2F0aW9uIGJpZ2dlciB3aXRob3V0IGdvb2QgcmVhc29uLlxcblxcblNlZSBodHRwczovL3MtYy5zaC8yQkFYemVkIGZvciBtb3JlIGluZm8uXCIpLHdpbmRvd1tcIl9fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fXCJdKz0xKTtleHBvcnQgZGVmYXVsdCBIZTtleHBvcnR7SmUgYXMgU2VydmVyU3R5bGVTaGVldCxsZSBhcyBTdHlsZVNoZWV0Q29uc3VtZXIsdWUgYXMgU3R5bGVTaGVldENvbnRleHQseWUgYXMgU3R5bGVTaGVldE1hbmFnZXIsR2UgYXMgVGhlbWVDb25zdW1lcixMZSBhcyBUaGVtZUNvbnRleHQsRmUgYXMgVGhlbWVQcm92aWRlcixLZSBhcyBfX1BSSVZBVEVfXyxXZSBhcyBjcmVhdGVHbG9iYWxTdHlsZSxDZSBhcyBjc3MsTiBhcyBpc1N0eWxlZENvbXBvbmVudCxVZSBhcyBrZXlmcmFtZXMsWmUgYXMgdXNlVGhlbWUsQyBhcyB2ZXJzaW9uLFhlIGFzIHdpdGhUaGVtZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZWQtY29tcG9uZW50cy5icm93c2VyLmVzbS5qcy5tYXBcbiIsImltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tIFwiLi9kZWZpbmVQcm9wZXJ0eS5qc1wiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG5cbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHtcbiAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMic7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIFJlYWN0OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL2Zvcm1hdFByb2RFcnJvck1lc3NhZ2UuanNcbiAqXG4gKiBEbyBub3QgcmVxdWlyZSB0aGlzIG1vZHVsZSBkaXJlY3RseSEgVXNlIG5vcm1hbCB0aHJvdyBlcnJvciBjYWxscy4gVGhlc2UgbWVzc2FnZXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGVycm9yIGNvZGVzXG4gKiBkdXJpbmcgYnVpbGQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZVxuICovXG5mdW5jdGlvbiBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgcmV0dXJuIFwiTWluaWZpZWQgUmVkdXggZXJyb3IgI1wiICsgY29kZSArIFwiOyB2aXNpdCBodHRwczovL3JlZHV4LmpzLm9yZy9FcnJvcnM/Y29kZT1cIiArIGNvZGUgKyBcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciBcIiArICd1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzLiAnO1xufVxuXG4vLyBJbmxpbmVkIHZlcnNpb24gb2YgdGhlIGBzeW1ib2wtb2JzZXJ2YWJsZWAgcG9seWZpbGxcbnZhciAkJG9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbn0pKCk7XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgcmFuZG9tU3RyaW5nID0gZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG59O1xuXG52YXIgQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6IFwiQEByZWR1eC9JTklUXCIgKyByYW5kb21TdHJpbmcoKSxcbiAgUkVQTEFDRTogXCJAQHJlZHV4L1JFUExBQ0VcIiArIHJhbmRvbVN0cmluZygpLFxuICBQUk9CRV9VTktOT1dOX0FDVElPTjogZnVuY3Rpb24gUFJPQkVfVU5LTk9XTl9BQ1RJT04oKSB7XG4gICAgcmV0dXJuIFwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTlwiICsgcmFuZG9tU3RyaW5nKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IG9iaiBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYXJndW1lbnQgYXBwZWFycyB0byBiZSBhIHBsYWluIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSBvYmo7XG5cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IHByb3RvO1xufVxuXG4vLyBJbmxpbmVkIC8gc2hvcnRlbmVkIHZlcnNpb24gb2YgYGtpbmRPZmAgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9raW5kLW9mXG5mdW5jdGlvbiBtaW5pS2luZE9mKHZhbCkge1xuICBpZiAodmFsID09PSB2b2lkIDApIHJldHVybiAndW5kZWZpbmVkJztcbiAgaWYgKHZhbCA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICBjYXNlICdzeW1ib2wnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm4gJ2FycmF5JztcbiAgaWYgKGlzRGF0ZSh2YWwpKSByZXR1cm4gJ2RhdGUnO1xuICBpZiAoaXNFcnJvcih2YWwpKSByZXR1cm4gJ2Vycm9yJztcbiAgdmFyIGNvbnN0cnVjdG9yTmFtZSA9IGN0b3JOYW1lKHZhbCk7XG5cbiAgc3dpdGNoIChjb25zdHJ1Y3Rvck5hbWUpIHtcbiAgICBjYXNlICdTeW1ib2wnOlxuICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgIGNhc2UgJ1dlYWtTZXQnOlxuICAgIGNhc2UgJ01hcCc6XG4gICAgY2FzZSAnU2V0JzpcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvck5hbWU7XG4gIH0gLy8gb3RoZXJcblxuXG4gIHJldHVybiB0eXBlLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGN0b3JOYW1lKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbC5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyA/IHZhbC5jb25zdHJ1Y3Rvci5uYW1lIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNFcnJvcih2YWwpIHtcbiAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEVycm9yIHx8IHR5cGVvZiB2YWwubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgdmFsLmNvbnN0cnVjdG9yICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3Iuc3RhY2tUcmFjZUxpbWl0ID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiB0eXBlb2YgdmFsLnRvRGF0ZVN0cmluZyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLmdldERhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbC5zZXREYXRlID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBraW5kT2YodmFsKSB7XG4gIHZhciB0eXBlT2ZWYWwgPSB0eXBlb2YgdmFsO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdHlwZU9mVmFsID0gbWluaUtpbmRPZih2YWwpO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVPZlZhbDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuICpcbiAqIFRoZXJlIHNob3VsZCBvbmx5IGJlIGEgc2luZ2xlIHN0b3JlIGluIHlvdXIgYXBwLiBUbyBzcGVjaWZ5IGhvdyBkaWZmZXJlbnRcbiAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcbiAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG4gKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gW3ByZWxvYWRlZFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZW5oYW5jZXJdIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgYXJndW1lbnRzWzNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMCkgOiAnSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjY3JlYXRpbmctYS1zdG9yZS13aXRoLWVuaGFuY2VycyBmb3IgYW4gZXhhbXBsZS4nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEpIDogXCJFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihlbmhhbmNlcikgKyBcIidcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgyKSA6IFwiRXhwZWN0ZWQgdGhlIHJvb3QgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKHJlZHVjZXIpICsgXCInXCIpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gIC8qKlxuICAgKiBUaGlzIG1ha2VzIGEgc2hhbGxvdyBjb3B5IG9mIGN1cnJlbnRMaXN0ZW5lcnMgc28gd2UgY2FuIHVzZVxuICAgKiBuZXh0TGlzdGVuZXJzIGFzIGEgdGVtcG9yYXJ5IGxpc3Qgd2hpbGUgZGlzcGF0Y2hpbmcuXG4gICAqXG4gICAqIFRoaXMgcHJldmVudHMgYW55IGJ1Z3MgYXJvdW5kIGNvbnN1bWVycyBjYWxsaW5nXG4gICAqIHN1YnNjcmliZS91bnN1YnNjcmliZSBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgdHJlZSBtYW5hZ2VkIGJ5IHRoZSBzdG9yZS5cbiAgICpcbiAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgzKSA6ICdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLmdldFN0YXRlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1RoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gJyArICdQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDQpIDogXCJFeHBlY3RlZCB0aGUgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihsaXN0ZW5lcikgKyBcIidcIik7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDUpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNikgOiAnWW91IG1heSBub3QgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGxpc3RlbmVyIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGN1cnJlbnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNykgOiBcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBJbnN0ZWFkLCB0aGUgYWN0dWFsIHR5cGUgd2FzOiAnXCIgKyBraW5kT2YoYWN0aW9uKSArIFwiJy4gWW91IG1heSBuZWVkIHRvIGFkZCBtaWRkbGV3YXJlIHRvIHlvdXIgc3RvcmUgc2V0dXAgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIG90aGVyIHZhbHVlcywgc3VjaCBhcyAncmVkdXgtdGh1bmsnIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBmdW5jdGlvbnMuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNtaWRkbGV3YXJlIGFuZCBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNi1hc3luYy1sb2dpYyN1c2luZy10aGUtcmVkdXgtdGh1bmstbWlkZGxld2FyZSBmb3IgZXhhbXBsZXMuXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg4KSA6ICdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuIFlvdSBtYXkgaGF2ZSBtaXNzcGVsbGVkIGFuIGFjdGlvbiB0eXBlIHN0cmluZyBjb25zdGFudC4nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoOSkgOiAnUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEwKSA6IFwiRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YobmV4dFJlZHVjZXIpKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyOyAvLyBUaGlzIGFjdGlvbiBoYXMgYSBzaW1pbGlhciBlZmZlY3QgdG8gQWN0aW9uVHlwZXMuSU5JVC5cbiAgICAvLyBBbnkgcmVkdWNlcnMgdGhhdCBleGlzdGVkIGluIGJvdGggdGhlIG5ldyBhbmQgb2xkIHJvb3RSZWR1Y2VyXG4gICAgLy8gd2lsbCByZWNlaXZlIHRoZSBwcmV2aW91cyBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgICAvLyB0aGUgbmV3IHN0YXRlIHRyZWUgd2l0aCBhbnkgcmVsZXZhbnQgZGF0YSBmcm9tIHRoZSBvbGQgb25lLlxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVQTEFDRVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnIHx8IG9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTEpIDogXCJFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKG9ic2VydmVyKSArIFwiJ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9IC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuXG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgfSk7XG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG5cbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH0gY2F0Y2ggKGUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcblxufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLklOSVQgPyAncHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3QoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gXCJUaGUgXCIgKyBhcmd1bWVudE5hbWUgKyBcIiBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFxcXCJcIiArIGtpbmRPZihpbnB1dFN0YXRlKSArIFwiXFxcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBcIiArIChcImtleXM6IFxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiXCIpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcbiAgdW5leHBlY3RlZEtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlW2tleV0gPSB0cnVlO1xuICB9KTtcbiAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuUkVQTEFDRSkgcmV0dXJuO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIFwiVW5leHBlY3RlZCBcIiArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgXCIgXCIgKyAoXCJcXFwiXCIgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIiBmb3VuZCBpbiBcIiArIGFyZ3VtZW50TmFtZSArIFwiLiBcIikgKyBcIkV4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogXCIgKyAoXCJcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC5cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNoYXBlKHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEyKSA6IFwiVGhlIHNsaWNlIHJlZHVjZXIgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gXCIgKyBcIklmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCBcIiArIFwiZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBcIiArIFwibm90IGJlIHVuZGVmaW5lZC4gSWYgeW91IGRvbid0IHdhbnQgdG8gc2V0IGEgdmFsdWUgZm9yIHRoaXMgcmVkdWNlciwgXCIgKyBcInlvdSBjYW4gdXNlIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBST0JFX1VOS05PV05fQUNUSU9OKClcbiAgICB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDEzKSA6IFwiVGhlIHNsaWNlIHJlZHVjZXIgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gXCIgKyAoXCJEb24ndCB0cnkgdG8gaGFuZGxlICdcIiArIEFjdGlvblR5cGVzLklOSVQgKyBcIicgb3Igb3RoZXIgYWN0aW9ucyBpbiBcXFwicmVkdXgvKlxcXCIgXCIpICsgXCJuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBcIiArIFwiY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgXCIgKyBcImluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBcIiArIFwiYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuXCIpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cblxuXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3YXJuaW5nKFwiTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTsgLy8gVGhpcyBpcyB1c2VkIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCB3YXJuIGFib3V0IHRoZSBzYW1lXG4gIC8vIGtleXMgbXVsdGlwbGUgdGltZXMuXG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlDYWNoZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG5cbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2hhcGUoZmluYWxSZWR1Y2Vycyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzaGFwZUFzc2VydGlvbkVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgIHN0YXRlID0ge307XG4gICAgfVxuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcblxuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgIHdhcm5pbmcod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2tleSA9IGZpbmFsUmVkdWNlcktleXNbX2ldO1xuICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW19rZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtfa2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTQpIDogXCJXaGVuIGNhbGxlZCB3aXRoIGFuIGFjdGlvbiBvZiB0eXBlIFwiICsgKGFjdGlvblR5cGUgPyBcIlxcXCJcIiArIFN0cmluZyhhY3Rpb25UeXBlKSArIFwiXFxcIlwiIDogJyh1bmtub3duIHR5cGUpJykgKyBcIiwgdGhlIHNsaWNlIHJlZHVjZXIgZm9yIGtleSBcXFwiXCIgKyBfa2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZC4gXCIgKyBcIlRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gXCIgKyBcIklmIHlvdSB3YW50IHRoaXMgcmVkdWNlciB0byBob2xkIG5vIHZhbHVlLCB5b3UgY2FuIHJldHVybiBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiKTtcbiAgICAgIH1cblxuICAgICAgbmV4dFN0YXRlW19rZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cblxuICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhzdGF0ZSkubGVuZ3RoO1xuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFjdGlvbiBjcmVhdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBkaXNwYXRjaCB3cmFwcGVkIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDE2KSA6IFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBidXQgaW5zdGVhZCByZWNlaXZlZDogJ1wiICsga2luZE9mKGFjdGlvbkNyZWF0b3JzKSArIFwiJy4gXCIgKyBcIkRpZCB5b3Ugd3JpdGUgXFxcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIiBpbnN0ZWFkIG9mIFxcXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIj9cIik7XG4gIH1cblxuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBhY3Rpb25DcmVhdG9ycykge1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxuXG4vKipcbiAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG4gKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3JcbiAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcbiAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuICovXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZnVuY3NbMF07XG4gIH1cblxuICByZXR1cm4gZnVuY3MucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhKGIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuICogYXN5bmNocm9ub3VzIGFjdGlvbnMgaW4gYSBjb25jaXNlIG1hbm5lciwgb3IgbG9nZ2luZyBldmVyeSBhY3Rpb24gcGF5bG9hZC5cbiAqXG4gKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG4gKlxuICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG4gKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG4gKlxuICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuICogYXMgbmFtZWQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKi9cblxuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGNyZWF0ZVN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcblxuICAgICAgdmFyIF9kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNSkgOiAnRGlzcGF0Y2hpbmcgd2hpbGUgY29uc3RydWN0aW5nIHlvdXIgbWlkZGxld2FyZSBpcyBub3QgYWxsb3dlZC4gJyArICdPdGhlciBtaWRkbGV3YXJlIHdvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIHRoaXMgZGlzcGF0Y2guJyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IGNvbXBvc2UuYXBwbHkodm9pZCAwLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RvcmUpLCB7fSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKlxuICogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuICogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuICovXG5cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gIHdhcm5pbmcoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBzZXR0aW5nIG1vZGUgdG8gcHJvZHVjdGlvbiBpbiB3ZWJwYWNrIChodHRwczovL3dlYnBhY2suanMub3JnL2NvbmNlcHRzL21vZGUvKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydCB7IEFjdGlvblR5cGVzIGFzIF9fRE9fTk9UX1VTRV9fQWN0aW9uVHlwZXMsIGFwcGx5TWlkZGxld2FyZSwgYmluZEFjdGlvbkNyZWF0b3JzLCBjb21iaW5lUmVkdWNlcnMsIGNvbXBvc2UsIGNyZWF0ZVN0b3JlIH07XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9jb25maWcnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRBdXRoU3RhdGUoKSB7XG4gIGlmICghd2luZG93KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIGNvbnN0IHJhd1N0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcubG9jYWxTdG9yYWdlS2V5KVxuICBpZiAoIXJhd1N0YXRlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIGNvbnN0IHN0YXRlID0gSlNPTi5wYXJzZShyYXdTdGF0ZSlcbiAgcmV0dXJuIHN0YXRlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlQXV0aFN0YXRlKHN0YXRlOiBhbnkpIHtcbiAgaWYgKHN0YXRlLmlzTG9nZ2VkSW4pIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENvbmZpZy5wdWJsaWNSdW50aW1lQ29uZmlnLmxvY2FsU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKVxufVxuIiwiZnVuY3Rpb24gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKGV4dHJhQXJndW1lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcbiAgICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgdGh1bmsgPSBjcmVhdGVUaHVua01pZGRsZXdhcmUoKTtcbnRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXG5leHBvcnQgZGVmYXVsdCB0aHVuazsiLCIvKipcbiAqIE1JVCBMaWNlbnNlXG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBMZWUgQnlyb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycy5cbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG52YXIgREVMRVRFID0gJ2RlbGV0ZSc7XG5cbi8vIENvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBzaXplIG9mIHRyaWUgbm9kZXMuXG52YXIgU0hJRlQgPSA1OyAvLyBSZXN1bHRlZCBpbiBiZXN0IHBlcmZvcm1hbmNlIGFmdGVyIF9fX19fXz9cbnZhciBTSVpFID0gMSA8PCBTSElGVDtcbnZhciBNQVNLID0gU0laRSAtIDE7XG5cbi8vIEEgY29uc2lzdGVudCBzaGFyZWQgdmFsdWUgcmVwcmVzZW50aW5nIFwibm90IHNldFwiIHdoaWNoIGVxdWFscyBub3RoaW5nIG90aGVyXG4vLyB0aGFuIGl0c2VsZiwgYW5kIG5vdGhpbmcgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBleHRlcm5hbGx5LlxudmFyIE5PVF9TRVQgPSB7fTtcblxuLy8gQm9vbGVhbiByZWZlcmVuY2VzLCBSb3VnaCBlcXVpdmFsZW50IG9mIGBib29sICZgLlxuZnVuY3Rpb24gTWFrZVJlZigpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IGZhbHNlIH07XG59XG5cbmZ1bmN0aW9uIFNldFJlZihyZWYpIHtcbiAgaWYgKHJlZikge1xuICAgIHJlZi52YWx1ZSA9IHRydWU7XG4gIH1cbn1cblxuLy8gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgcmVwcmVzZW50aW5nIGFuIFwib3duZXJcIiBmb3IgdHJhbnNpZW50IHdyaXRlc1xuLy8gdG8gdHJpZXMuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBvbmx5IGV2ZXIgZXF1YWwgaXRzZWxmLCBhbmQgd2lsbCBub3QgZXF1YWxcbi8vIHRoZSByZXR1cm4gb2YgYW55IHN1YnNlcXVlbnQgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uLlxuZnVuY3Rpb24gT3duZXJJRCgpIHt9XG5cbmZ1bmN0aW9uIGVuc3VyZVNpemUoaXRlcikge1xuICBpZiAoaXRlci5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBpdGVyLnNpemUgPSBpdGVyLl9faXRlcmF0ZShyZXR1cm5UcnVlKTtcbiAgfVxuICByZXR1cm4gaXRlci5zaXplO1xufVxuXG5mdW5jdGlvbiB3cmFwSW5kZXgoaXRlciwgaW5kZXgpIHtcbiAgLy8gVGhpcyBpbXBsZW1lbnRzIFwiaXMgYXJyYXkgaW5kZXhcIiB3aGljaCB0aGUgRUNNQVN0cmluZyBzcGVjIGRlZmluZXMgYXM6XG4gIC8vXG4gIC8vICAgICBBIFN0cmluZyBwcm9wZXJ0eSBuYW1lIFAgaXMgYW4gYXJyYXkgaW5kZXggaWYgYW5kIG9ubHkgaWZcbiAgLy8gICAgIFRvU3RyaW5nKFRvVWludDMyKFApKSBpcyBlcXVhbCB0byBQIGFuZCBUb1VpbnQzMihQKSBpcyBub3QgZXF1YWxcbiAgLy8gICAgIHRvIDJeMzLiiJIxLlxuICAvL1xuICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtYXJyYXktZXhvdGljLW9iamVjdHNcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICB2YXIgdWludDMySW5kZXggPSBpbmRleCA+Pj4gMDsgLy8gTiA+Pj4gMCBpcyBzaG9ydGhhbmQgZm9yIFRvVWludDMyXG4gICAgaWYgKCcnICsgdWludDMySW5kZXggIT09IGluZGV4IHx8IHVpbnQzMkluZGV4ID09PSA0Mjk0OTY3Mjk1KSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBpbmRleCA9IHVpbnQzMkluZGV4O1xuICB9XG4gIHJldHVybiBpbmRleCA8IDAgPyBlbnN1cmVTaXplKGl0ZXIpICsgaW5kZXggOiBpbmRleDtcbn1cblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkge1xuICByZXR1cm4gKFxuICAgICgoYmVnaW4gPT09IDAgJiYgIWlzTmVnKGJlZ2luKSkgfHxcbiAgICAgIChzaXplICE9PSB1bmRlZmluZWQgJiYgYmVnaW4gPD0gLXNpemUpKSAmJlxuICAgIChlbmQgPT09IHVuZGVmaW5lZCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGVuZCA+PSBzaXplKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoYmVnaW4sIHNpemUsIDApO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRW5kKGVuZCwgc2l6ZSkge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGVuZCwgc2l6ZSwgc2l6ZSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVJbmRleChpbmRleCwgc2l6ZSwgZGVmYXVsdEluZGV4KSB7XG4gIC8vIFNhbml0aXplIGluZGljZXMgdXNpbmcgdGhpcyBzaG9ydGhhbmQgZm9yIFRvSW50MzIoYXJndW1lbnQpXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2ludDMyXG4gIHJldHVybiBpbmRleCA9PT0gdW5kZWZpbmVkXG4gICAgPyBkZWZhdWx0SW5kZXhcbiAgICA6IGlzTmVnKGluZGV4KVxuICAgID8gc2l6ZSA9PT0gSW5maW5pdHlcbiAgICAgID8gc2l6ZVxuICAgICAgOiBNYXRoLm1heCgwLCBzaXplICsgaW5kZXgpIHwgMFxuICAgIDogc2l6ZSA9PT0gdW5kZWZpbmVkIHx8IHNpemUgPT09IGluZGV4XG4gICAgPyBpbmRleFxuICAgIDogTWF0aC5taW4oc2l6ZSwgaW5kZXgpIHwgMDtcbn1cblxuZnVuY3Rpb24gaXNOZWcodmFsdWUpIHtcbiAgLy8gQWNjb3VudCBmb3IgLTAgd2hpY2ggaXMgbmVnYXRpdmUsIGJ1dCBub3QgbGVzcyB0aGFuIDAuXG4gIHJldHVybiB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA9PT0gLUluZmluaXR5KTtcbn1cblxudmFyIElTX0NPTExFQ1RJT05fU1lNQk9MID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcblxuZnVuY3Rpb24gaXNDb2xsZWN0aW9uKG1heWJlQ29sbGVjdGlvbikge1xuICByZXR1cm4gQm9vbGVhbihtYXliZUNvbGxlY3Rpb24gJiYgbWF5YmVDb2xsZWN0aW9uW0lTX0NPTExFQ1RJT05fU1lNQk9MXSk7XG59XG5cbnZhciBJU19LRVlFRF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuXG5mdW5jdGlvbiBpc0tleWVkKG1heWJlS2V5ZWQpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVLZXllZCAmJiBtYXliZUtleWVkW0lTX0tFWUVEX1NZTUJPTF0pO1xufVxuXG52YXIgSVNfSU5ERVhFRF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQCc7XG5cbmZ1bmN0aW9uIGlzSW5kZXhlZChtYXliZUluZGV4ZWQpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVJbmRleGVkICYmIG1heWJlSW5kZXhlZFtJU19JTkRFWEVEX1NZTUJPTF0pO1xufVxuXG5mdW5jdGlvbiBpc0Fzc29jaWF0aXZlKG1heWJlQXNzb2NpYXRpdmUpIHtcbiAgcmV0dXJuIGlzS2V5ZWQobWF5YmVBc3NvY2lhdGl2ZSkgfHwgaXNJbmRleGVkKG1heWJlQXNzb2NpYXRpdmUpO1xufVxuXG52YXIgQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIENvbGxlY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzQ29sbGVjdGlvbih2YWx1ZSkgPyB2YWx1ZSA6IFNlcSh2YWx1ZSk7XG59O1xuXG52YXIgS2V5ZWRDb2xsZWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBLZXllZENvbGxlY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZSA6IEtleWVkU2VxKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIEtleWVkQ29sbGVjdGlvbi5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gS2V5ZWRDb2xsZWN0aW9uO1xuXG4gIHJldHVybiBLZXllZENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxudmFyIEluZGV4ZWRDb2xsZWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBJbmRleGVkQ29sbGVjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc0luZGV4ZWQodmFsdWUpID8gdmFsdWUgOiBJbmRleGVkU2VxKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIEluZGV4ZWRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW5kZXhlZENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5cbnZhciBTZXRDb2xsZWN0aW9uID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBTZXRDb2xsZWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzQ29sbGVjdGlvbih2YWx1ZSkgJiYgIWlzQXNzb2NpYXRpdmUodmFsdWUpID8gdmFsdWUgOiBTZXRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgU2V0Q29sbGVjdGlvbi5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRDb2xsZWN0aW9uO1xuXG4gIHJldHVybiBTZXRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5cbkNvbGxlY3Rpb24uS2V5ZWQgPSBLZXllZENvbGxlY3Rpb247XG5Db2xsZWN0aW9uLkluZGV4ZWQgPSBJbmRleGVkQ29sbGVjdGlvbjtcbkNvbGxlY3Rpb24uU2V0ID0gU2V0Q29sbGVjdGlvbjtcblxudmFyIElTX1NFUV9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9TRVFfX0BAJztcblxuZnVuY3Rpb24gaXNTZXEobWF5YmVTZXEpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVTZXEgJiYgbWF5YmVTZXFbSVNfU0VRX1NZTUJPTF0pO1xufVxuXG52YXIgSVNfUkVDT1JEX1NZTUJPTCA9ICdAQF9fSU1NVVRBQkxFX1JFQ09SRF9fQEAnO1xuXG5mdW5jdGlvbiBpc1JlY29yZChtYXliZVJlY29yZCkge1xuICByZXR1cm4gQm9vbGVhbihtYXliZVJlY29yZCAmJiBtYXliZVJlY29yZFtJU19SRUNPUkRfU1lNQk9MXSk7XG59XG5cbmZ1bmN0aW9uIGlzSW1tdXRhYmxlKG1heWJlSW1tdXRhYmxlKSB7XG4gIHJldHVybiBpc0NvbGxlY3Rpb24obWF5YmVJbW11dGFibGUpIHx8IGlzUmVjb3JkKG1heWJlSW1tdXRhYmxlKTtcbn1cblxudmFyIElTX09SREVSRURfU1lNQk9MID0gJ0BAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAnO1xuXG5mdW5jdGlvbiBpc09yZGVyZWQobWF5YmVPcmRlcmVkKSB7XG4gIHJldHVybiBCb29sZWFuKG1heWJlT3JkZXJlZCAmJiBtYXliZU9yZGVyZWRbSVNfT1JERVJFRF9TWU1CT0xdKTtcbn1cblxudmFyIElURVJBVEVfS0VZUyA9IDA7XG52YXIgSVRFUkFURV9WQUxVRVMgPSAxO1xudmFyIElURVJBVEVfRU5UUklFUyA9IDI7XG5cbnZhciBSRUFMX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gUkVBTF9JVEVSQVRPUl9TWU1CT0wgfHwgRkFVWF9JVEVSQVRPUl9TWU1CT0w7XG5cbnZhciBJdGVyYXRvciA9IGZ1bmN0aW9uIEl0ZXJhdG9yKG5leHQpIHtcbiAgdGhpcy5uZXh0ID0gbmV4dDtcbn07XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgcmV0dXJuICdbSXRlcmF0b3JdJztcbn07XG5cbkl0ZXJhdG9yLktFWVMgPSBJVEVSQVRFX0tFWVM7XG5JdGVyYXRvci5WQUxVRVMgPSBJVEVSQVRFX1ZBTFVFUztcbkl0ZXJhdG9yLkVOVFJJRVMgPSBJVEVSQVRFX0VOVFJJRVM7XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS5pbnNwZWN0ID0gSXRlcmF0b3IucHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xufTtcbkl0ZXJhdG9yLnByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgaXRlcmF0b3JSZXN1bHQpIHtcbiAgdmFyIHZhbHVlID0gdHlwZSA9PT0gMCA/IGsgOiB0eXBlID09PSAxID8gdiA6IFtrLCB2XTtcbiAgaXRlcmF0b3JSZXN1bHRcbiAgICA/IChpdGVyYXRvclJlc3VsdC52YWx1ZSA9IHZhbHVlKVxuICAgIDogKGl0ZXJhdG9yUmVzdWx0ID0ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgfSk7XG4gIHJldHVybiBpdGVyYXRvclJlc3VsdDtcbn1cblxuZnVuY3Rpb24gaXRlcmF0b3JEb25lKCkge1xuICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG59XG5cbmZ1bmN0aW9uIGhhc0l0ZXJhdG9yKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWF5YmVJdGVyYWJsZSkpIHtcbiAgICAvLyBJRTExIHRyaWNrIGFzIGl0IGRvZXMgbm90IHN1cHBvcnQgYFN5bWJvbC5pdGVyYXRvcmBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAhIWdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG59XG5cbmZ1bmN0aW9uIGlzSXRlcmF0b3IobWF5YmVJdGVyYXRvcikge1xuICByZXR1cm4gbWF5YmVJdGVyYXRvciAmJiB0eXBlb2YgbWF5YmVJdGVyYXRvci5uZXh0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpO1xuICByZXR1cm4gaXRlcmF0b3JGbiAmJiBpdGVyYXRvckZuLmNhbGwoaXRlcmFibGUpO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID1cbiAgICBpdGVyYWJsZSAmJlxuICAgICgoUkVBTF9JVEVSQVRPUl9TWU1CT0wgJiYgaXRlcmFibGVbUkVBTF9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgaXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNFbnRyaWVzSXRlcmFibGUobWF5YmVJdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG4gIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4gPT09IG1heWJlSXRlcmFibGUuZW50cmllcztcbn1cblxuZnVuY3Rpb24gaXNLZXlzSXRlcmFibGUobWF5YmVJdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG4gIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4gPT09IG1heWJlSXRlcmFibGUua2V5cztcbn1cblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgdmFsdWUgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZS5sZW5ndGgpICYmXG4gICAgdmFsdWUubGVuZ3RoID49IDAgJiZcbiAgICAodmFsdWUubGVuZ3RoID09PSAwXG4gICAgICA/IC8vIE9ubHkge2xlbmd0aDogMH0gaXMgY29uc2lkZXJlZCBBcnJheS1saWtlLlxuICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAxXG4gICAgICA6IC8vIEFuIG9iamVjdCBpcyBvbmx5IEFycmF5LWxpa2UgaWYgaXQgaGFzIGEgcHJvcGVydHkgd2hlcmUgdGhlIGxhc3QgdmFsdWVcbiAgICAgICAgLy8gaW4gdGhlIGFycmF5LWxpa2UgbWF5IGJlIGZvdW5kICh3aGljaCBjb3VsZCBiZSB1bmRlZmluZWQpLlxuICAgICAgICB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZS5sZW5ndGggLSAxKSlcbiAgKTtcbn1cblxudmFyIFNlcSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gU2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXF1ZW5jZSgpXG4gICAgICA6IGlzSW1tdXRhYmxlKHZhbHVlKVxuICAgICAgPyB2YWx1ZS50b1NlcSgpXG4gICAgICA6IHNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24gKSBTZXEuX19wcm90b19fID0gQ29sbGVjdGlvbjtcbiAgU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNlcTtcblxuICBTZXEucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24gdG9TZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIHsnLCAnfScpO1xuICB9O1xuXG4gIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSBmdW5jdGlvbiBjYWNoZVJlc3VsdCAoKSB7XG4gICAgaWYgKCF0aGlzLl9jYWNoZSAmJiB0aGlzLl9faXRlcmF0ZVVuY2FjaGVkKSB7XG4gICAgICB0aGlzLl9jYWNoZSA9IHRoaXMuZW50cnlTZXEoKS50b0FycmF5KCk7XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLl9jYWNoZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKVxuXG4gIFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIHNpemUgPSBjYWNoZS5sZW5ndGg7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICAgIGlmIChmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpO1xuICB9O1xuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKVxuXG4gIFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBzaXplID0gY2FjaGUubGVuZ3RoO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgcmV0dXJuIFNlcTtcbn0oQ29sbGVjdGlvbikpO1xuXG52YXIgS2V5ZWRTZXEgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTZXEpIHtcbiAgZnVuY3Rpb24gS2V5ZWRTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNlcXVlbmNlKCkudG9LZXllZFNlcSgpXG4gICAgICA6IGlzQ29sbGVjdGlvbih2YWx1ZSlcbiAgICAgID8gaXNLZXllZCh2YWx1ZSlcbiAgICAgICAgPyB2YWx1ZS50b1NlcSgpXG4gICAgICAgIDogdmFsdWUuZnJvbUVudHJ5U2VxKClcbiAgICAgIDogaXNSZWNvcmQodmFsdWUpXG4gICAgICA/IHZhbHVlLnRvU2VxKClcbiAgICAgIDoga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBTZXEgKSBLZXllZFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIEtleWVkU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlcSAmJiBTZXEucHJvdG90eXBlICk7XG4gIEtleWVkU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEtleWVkU2VxO1xuXG4gIEtleWVkU2VxLnByb3RvdHlwZS50b0tleWVkU2VxID0gZnVuY3Rpb24gdG9LZXllZFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEtleWVkU2VxO1xufShTZXEpKTtcblxudmFyIEluZGV4ZWRTZXEgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTZXEpIHtcbiAgZnVuY3Rpb24gSW5kZXhlZFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2VxdWVuY2UoKVxuICAgICAgOiBpc0NvbGxlY3Rpb24odmFsdWUpXG4gICAgICA/IGlzS2V5ZWQodmFsdWUpXG4gICAgICAgID8gdmFsdWUuZW50cnlTZXEoKVxuICAgICAgICA6IHZhbHVlLnRvSW5kZXhlZFNlcSgpXG4gICAgICA6IGlzUmVjb3JkKHZhbHVlKVxuICAgICAgPyB2YWx1ZS50b1NlcSgpLmVudHJ5U2VxKClcbiAgICAgIDogaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIFNlcSApIEluZGV4ZWRTZXEuX19wcm90b19fID0gU2VxO1xuICBJbmRleGVkU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlcSAmJiBTZXEucHJvdG90eXBlICk7XG4gIEluZGV4ZWRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW5kZXhlZFNlcTtcblxuICBJbmRleGVkU2VxLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gSW5kZXhlZFNlcShhcmd1bWVudHMpO1xuICB9O1xuXG4gIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvSW5kZXhlZFNlcSA9IGZ1bmN0aW9uIHRvSW5kZXhlZFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIFsnLCAnXScpO1xuICB9O1xuXG4gIHJldHVybiBJbmRleGVkU2VxO1xufShTZXEpKTtcblxudmFyIFNldFNlcSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBTZXRTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNDb2xsZWN0aW9uKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IEluZGV4ZWRTZXEodmFsdWUpXG4gICAgKS50b1NldFNlcSgpO1xuICB9XG5cbiAgaWYgKCBTZXEgKSBTZXRTZXEuX19wcm90b19fID0gU2VxO1xuICBTZXRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgU2V0U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldFNlcTtcblxuICBTZXRTZXEub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiBTZXRTZXEoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXRTZXEucHJvdG90eXBlLnRvU2V0U2VxID0gZnVuY3Rpb24gdG9TZXRTZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBTZXRTZXE7XG59KFNlcSkpO1xuXG5TZXEuaXNTZXEgPSBpc1NlcTtcblNlcS5LZXllZCA9IEtleWVkU2VxO1xuU2VxLlNldCA9IFNldFNlcTtcblNlcS5JbmRleGVkID0gSW5kZXhlZFNlcTtcblxuU2VxLnByb3RvdHlwZVtJU19TRVFfU1lNQk9MXSA9IHRydWU7XG5cbi8vICNwcmFnbWEgUm9vdCBTZXF1ZW5jZXNcblxudmFyIEFycmF5U2VxID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBBcnJheVNlcShhcnJheSkge1xuICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgdGhpcy5zaXplID0gYXJyYXkubGVuZ3RoO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgQXJyYXlTZXEuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgQXJyYXlTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSAmJiBJbmRleGVkU2VxLnByb3RvdHlwZSApO1xuICBBcnJheVNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheVNlcTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fYXJyYXlbd3JhcEluZGV4KHRoaXMsIGluZGV4KV0gOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgIHZhciBzaXplID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKys7XG4gICAgICBpZiAoZm4oYXJyYXlbaWldLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICB2YXIgc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgaWkgPSByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKztcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGlpLCBhcnJheVtpaV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBBcnJheVNlcTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgT2JqZWN0U2VxID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoS2V5ZWRTZXEpIHtcbiAgZnVuY3Rpb24gT2JqZWN0U2VxKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICB0aGlzLl9vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgdGhpcy5zaXplID0ga2V5cy5sZW5ndGg7XG4gIH1cblxuICBpZiAoIEtleWVkU2VxICkgT2JqZWN0U2VxLl9fcHJvdG9fXyA9IEtleWVkU2VxO1xuICBPYmplY3RTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEgJiYgS2V5ZWRTZXEucHJvdG90eXBlICk7XG4gIE9iamVjdFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPYmplY3RTZXE7XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICBpZiAobm90U2V0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0W2tleV07XG4gIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX29iamVjdCwga2V5KTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICB2YXIgc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgaWYgKGZuKG9iamVjdFtrZXldLCBrZXksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgIHZhciBzaXplID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwga2V5LCBvYmplY3Rba2V5XSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdFNlcTtcbn0oS2V5ZWRTZXEpKTtcbk9iamVjdFNlcS5wcm90b3R5cGVbSVNfT1JERVJFRF9TWU1CT0xdID0gdHJ1ZTtcblxudmFyIENvbGxlY3Rpb25TZXEgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIENvbGxlY3Rpb25TZXEoY29sbGVjdGlvbikge1xuICAgIHRoaXMuX2NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgIHRoaXMuc2l6ZSA9IGNvbGxlY3Rpb24ubGVuZ3RoIHx8IGNvbGxlY3Rpb24uc2l6ZTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIENvbGxlY3Rpb25TZXEuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sbGVjdGlvblNlcTtcblxuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIF9faXRlcmF0ZVVuY2FjaGVkIChmbiwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5fY29sbGVjdGlvbjtcbiAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihjb2xsZWN0aW9uKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgaWYgKGlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRvclVuY2FjaGVkICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLl9jb2xsZWN0aW9uO1xuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pO1xuICAgIGlmICghaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoaXRlcmF0b3JEb25lKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gQ29sbGVjdGlvblNlcTtcbn0oSW5kZXhlZFNlcSkpO1xuXG4vLyAjIHByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbnZhciBFTVBUWV9TRVE7XG5cbmZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gIHJldHVybiBFTVBUWV9TRVEgfHwgKEVNUFRZX1NFUSA9IG5ldyBBcnJheVNlcShbXSkpO1xufVxuXG5mdW5jdGlvbiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgaWYgKHNlcSkge1xuICAgIHJldHVybiBzZXEuZnJvbUVudHJ5U2VxKCk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdFNlcSh2YWx1ZSk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgY29sbGVjdGlvbiBvYmplY3Qgb2YgW2ssIHZdIGVudHJpZXMsIG9yIGtleWVkIG9iamVjdDogJyArXG4gICAgICB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICBpZiAoc2VxKSB7XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdFeHBlY3RlZCBBcnJheSBvciBjb2xsZWN0aW9uIG9iamVjdCBvZiB2YWx1ZXM6ICcgKyB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBzZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIGlmIChzZXEpIHtcbiAgICByZXR1cm4gaXNFbnRyaWVzSXRlcmFibGUodmFsdWUpXG4gICAgICA/IHNlcS5mcm9tRW50cnlTZXEoKVxuICAgICAgOiBpc0tleXNJdGVyYWJsZSh2YWx1ZSlcbiAgICAgID8gc2VxLnRvU2V0U2VxKClcbiAgICAgIDogc2VxO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3RTZXEodmFsdWUpO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0V4cGVjdGVkIEFycmF5IG9yIGNvbGxlY3Rpb24gb2JqZWN0IG9mIHZhbHVlcywgb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgKTtcbn1cblxuZnVuY3Rpb24gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5TGlrZSh2YWx1ZSlcbiAgICA/IG5ldyBBcnJheVNlcSh2YWx1ZSlcbiAgICA6IGhhc0l0ZXJhdG9yKHZhbHVlKVxuICAgID8gbmV3IENvbGxlY3Rpb25TZXEodmFsdWUpXG4gICAgOiB1bmRlZmluZWQ7XG59XG5cbnZhciBJU19NQVBfU1lNQk9MID0gJ0BAX19JTU1VVEFCTEVfTUFQX19AQCc7XG5cbmZ1bmN0aW9uIGlzTWFwKG1heWJlTWFwKSB7XG4gIHJldHVybiBCb29sZWFuKG1heWJlTWFwICYmIG1heWJlTWFwW0lTX01BUF9TWU1CT0xdKTtcbn1cblxuZnVuY3Rpb24gaXNPcmRlcmVkTWFwKG1heWJlT3JkZXJlZE1hcCkge1xuICByZXR1cm4gaXNNYXAobWF5YmVPcmRlcmVkTWFwKSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkTWFwKTtcbn1cblxuZnVuY3Rpb24gaXNWYWx1ZU9iamVjdChtYXliZVZhbHVlKSB7XG4gIHJldHVybiBCb29sZWFuKFxuICAgIG1heWJlVmFsdWUgJiZcbiAgICAgIHR5cGVvZiBtYXliZVZhbHVlLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIG1heWJlVmFsdWUuaGFzaENvZGUgPT09ICdmdW5jdGlvbidcbiAgKTtcbn1cblxuLyoqXG4gKiBBbiBleHRlbnNpb24gb2YgdGhlIFwic2FtZS12YWx1ZVwiIGFsZ29yaXRobSBhcyBbZGVzY3JpYmVkIGZvciB1c2UgYnkgRVM2IE1hcFxuICogYW5kIFNldF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwI0tleV9lcXVhbGl0eSlcbiAqXG4gKiBOYU4gaXMgY29uc2lkZXJlZCB0aGUgc2FtZSBhcyBOYU4sIGhvd2V2ZXIgLTAgYW5kIDAgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAqIHZhbHVlLCB3aGljaCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYWxnb3JpdGhtIGRlc2NyaWJlZCBieVxuICogW2BPYmplY3QuaXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMpLlxuICpcbiAqIFRoaXMgaXMgZXh0ZW5kZWQgZnVydGhlciB0byBhbGxvdyBPYmplY3RzIHRvIGRlc2NyaWJlIHRoZSB2YWx1ZXMgdGhleVxuICogcmVwcmVzZW50LCBieSB3YXkgb2YgYHZhbHVlT2ZgIG9yIGBlcXVhbHNgIChhbmQgYGhhc2hDb2RlYCkuXG4gKlxuICogTm90ZTogYmVjYXVzZSBvZiB0aGlzIGV4dGVuc2lvbiwgdGhlIGtleSBlcXVhbGl0eSBvZiBJbW11dGFibGUuTWFwIGFuZCB0aGVcbiAqIHZhbHVlIGVxdWFsaXR5IG9mIEltbXV0YWJsZS5TZXQgd2lsbCBkaWZmZXIgZnJvbSBFUzYgTWFwIGFuZCBTZXQuXG4gKlxuICogIyMjIERlZmluaW5nIGN1c3RvbSB2YWx1ZXNcbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gZGVzY3JpYmUgdGhlIHZhbHVlIGFuIG9iamVjdCByZXByZXNlbnRzIGlzIGJ5IGltcGxlbWVudGluZ1xuICogYHZhbHVlT2ZgLiBGb3IgZXhhbXBsZSwgYERhdGVgIHJlcHJlc2VudHMgYSB2YWx1ZSBieSByZXR1cm5pbmcgYSB1bml4XG4gKiB0aW1lc3RhbXAgZm9yIGB2YWx1ZU9mYDpcbiAqXG4gKiAgICAgdmFyIGRhdGUxID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7IC8vIEZyaSBGZWIgMTMgMjAwOSAuLi5cbiAqICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTtcbiAqICAgICBkYXRlMS52YWx1ZU9mKCk7IC8vIDEyMzQ1Njc4OTAwMDBcbiAqICAgICBhc3NlcnQoIGRhdGUxICE9PSBkYXRlMiApO1xuICogICAgIGFzc2VydCggSW1tdXRhYmxlLmlzKCBkYXRlMSwgZGF0ZTIgKSApO1xuICpcbiAqIE5vdGU6IG92ZXJyaWRpbmcgYHZhbHVlT2ZgIG1heSBoYXZlIG90aGVyIGltcGxpY2F0aW9ucyBpZiB5b3UgdXNlIHRoaXMgb2JqZWN0XG4gKiB3aGVyZSBKYXZhU2NyaXB0IGV4cGVjdHMgYSBwcmltaXRpdmUsIHN1Y2ggYXMgaW1wbGljaXQgc3RyaW5nIGNvZXJjaW9uLlxuICpcbiAqIEZvciBtb3JlIGNvbXBsZXggdHlwZXMsIGVzcGVjaWFsbHkgY29sbGVjdGlvbnMsIGltcGxlbWVudGluZyBgdmFsdWVPZmAgbWF5XG4gKiBub3QgYmUgcGVyZm9ybWFudC4gQW4gYWx0ZXJuYXRpdmUgaXMgdG8gaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICpcbiAqIGBlcXVhbHNgIHRha2VzIGFub3RoZXIgb2JqZWN0LCBwcmVzdW1hYmx5IG9mIHNpbWlsYXIgdHlwZSwgYW5kIHJldHVybnMgdHJ1ZVxuICogaWYgaXQgaXMgZXF1YWwuIEVxdWFsaXR5IGlzIHN5bW1ldHJpY2FsLCBzbyB0aGUgc2FtZSByZXN1bHQgc2hvdWxkIGJlXG4gKiByZXR1cm5lZCBpZiB0aGlzIGFuZCB0aGUgYXJndW1lbnQgYXJlIGZsaXBwZWQuXG4gKlxuICogICAgIGFzc2VydCggYS5lcXVhbHMoYikgPT09IGIuZXF1YWxzKGEpICk7XG4gKlxuICogYGhhc2hDb2RlYCByZXR1cm5zIGEgMzJiaXQgaW50ZWdlciBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBvYmplY3Qgd2hpY2ggd2lsbFxuICogYmUgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRvIHN0b3JlIHRoZSB2YWx1ZSBvYmplY3QgaW4gYSBNYXAgb3IgU2V0LiBZb3UgbXVzdFxuICogcHJvdmlkZSBib3RoIG9yIG5laXRoZXIgbWV0aG9kcywgb25lIG11c3Qgbm90IGV4aXN0IHdpdGhvdXQgdGhlIG90aGVyLlxuICpcbiAqIEFsc28sIGFuIGltcG9ydGFudCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGVzZSBtZXRob2RzIG11c3QgYmUgdXBoZWxkOiBpZiB0d29cbiAqIHZhbHVlcyBhcmUgZXF1YWwsIHRoZXkgKm11c3QqIHJldHVybiB0aGUgc2FtZSBoYXNoQ29kZS4gSWYgdGhlIHZhbHVlcyBhcmUgbm90XG4gKiBlcXVhbCwgdGhleSBtaWdodCBoYXZlIHRoZSBzYW1lIGhhc2hDb2RlOyB0aGlzIGlzIGNhbGxlZCBhIGhhc2ggY29sbGlzaW9uLFxuICogYW5kIHdoaWxlIHVuZGVzaXJhYmxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBpdCBpcyBhY2NlcHRhYmxlLlxuICpcbiAqICAgICBpZiAoYS5lcXVhbHMoYikpIHtcbiAqICAgICAgIGFzc2VydCggYS5oYXNoQ29kZSgpID09PSBiLmhhc2hDb2RlKCkgKTtcbiAqICAgICB9XG4gKlxuICogQWxsIEltbXV0YWJsZSBjb2xsZWN0aW9ucyBhcmUgVmFsdWUgT2JqZWN0czogdGhleSBpbXBsZW1lbnQgYGVxdWFscygpYFxuICogYW5kIGBoYXNoQ29kZSgpYC5cbiAqL1xuZnVuY3Rpb24gaXModmFsdWVBLCB2YWx1ZUIpIHtcbiAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWVBLnZhbHVlT2YgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmFsdWVCLnZhbHVlT2YgPT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgdmFsdWVBID0gdmFsdWVBLnZhbHVlT2YoKTtcbiAgICB2YWx1ZUIgPSB2YWx1ZUIudmFsdWVPZigpO1xuICAgIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gISEoXG4gICAgaXNWYWx1ZU9iamVjdCh2YWx1ZUEpICYmXG4gICAgaXNWYWx1ZU9iamVjdCh2YWx1ZUIpICYmXG4gICAgdmFsdWVBLmVxdWFscyh2YWx1ZUIpXG4gICk7XG59XG5cbnZhciBpbXVsID1cbiAgdHlwZW9mIE1hdGguaW11bCA9PT0gJ2Z1bmN0aW9uJyAmJiBNYXRoLmltdWwoMHhmZmZmZmZmZiwgMikgPT09IC0yXG4gICAgPyBNYXRoLmltdWxcbiAgICA6IGZ1bmN0aW9uIGltdWwoYSwgYikge1xuICAgICAgICBhIHw9IDA7IC8vIGludFxuICAgICAgICBiIHw9IDA7IC8vIGludFxuICAgICAgICB2YXIgYyA9IGEgJiAweGZmZmY7XG4gICAgICAgIHZhciBkID0gYiAmIDB4ZmZmZjtcbiAgICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgICByZXR1cm4gKGMgKiBkICsgKCgoKGEgPj4+IDE2KSAqIGQgKyBjICogKGIgPj4+IDE2KSkgPDwgMTYpID4+PiAwKSkgfCAwOyAvLyBpbnRcbiAgICAgIH07XG5cbi8vIHY4IGhhcyBhbiBvcHRpbWl6YXRpb24gZm9yIHN0b3JpbmcgMzEtYml0IHNpZ25lZCBudW1iZXJzLlxuLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbi8vIFRoaXMgZnVuY3Rpb24gZHJvcHMgdGhlIGhpZ2hlc3Qgb3JkZXIgYml0IGluIGEgc2lnbmVkIG51bWJlciwgbWFpbnRhaW5pbmdcbi8vIHRoZSBzaWduIGJpdC5cbmZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgcmV0dXJuICgoaTMyID4+PiAxKSAmIDB4NDAwMDAwMDApIHwgKGkzMiAmIDB4YmZmZmZmZmYpO1xufVxuXG52YXIgZGVmYXVsdFZhbHVlT2YgPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2Y7XG5cbmZ1bmN0aW9uIGhhc2gobykge1xuICBpZiAobyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGhhc2hOdWxsaXNoKG8pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvLmhhc2hDb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRHJvcCBhbnkgaGlnaCBiaXRzIGZyb20gYWNjaWRlbnRhbGx5IGxvbmcgaGFzaCBjb2Rlcy5cbiAgICByZXR1cm4gc21pKG8uaGFzaENvZGUobykpO1xuICB9XG5cbiAgdmFyIHYgPSB2YWx1ZU9mKG8pO1xuXG4gIGlmICh2ID09IG51bGwpIHtcbiAgICByZXR1cm4gaGFzaE51bGxpc2godik7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAvLyBUaGUgaGFzaCB2YWx1ZXMgZm9yIGJ1aWx0LWluIGNvbnN0YW50cyBhcmUgYSAxIHZhbHVlIGZvciBlYWNoIDUtYnl0ZVxuICAgICAgLy8gc2hpZnQgcmVnaW9uIGV4cGVjdCBmb3IgdGhlIGZpcnN0LCB3aGljaCBlbmNvZGVzIHRoZSB2YWx1ZS4gVGhpc1xuICAgICAgLy8gcmVkdWNlcyB0aGUgb2RkcyBvZiBhIGhhc2ggY29sbGlzaW9uIGZvciB0aGVzZSBjb21tb24gdmFsdWVzLlxuICAgICAgcmV0dXJuIHYgPyAweDQyMTA4NDIxIDogMHg0MjEwODQyMDtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGhhc2hOdW1iZXIodik7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2Lmxlbmd0aCA+IFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU5cbiAgICAgICAgPyBjYWNoZWRIYXNoU3RyaW5nKHYpXG4gICAgICAgIDogaGFzaFN0cmluZyh2KTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBoYXNoSlNPYmoodik7XG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiBoYXNoU3ltYm9sKHYpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHlwZW9mIHYudG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGhhc2hTdHJpbmcodi50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgdHlwZSAnICsgdHlwZW9mIHYgKyAnIGNhbm5vdCBiZSBoYXNoZWQuJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzaE51bGxpc2gobnVsbGlzaCkge1xuICByZXR1cm4gbnVsbGlzaCA9PT0gbnVsbCA/IDB4NDIxMDg0MjIgOiAvKiB1bmRlZmluZWQgKi8gMHg0MjEwODQyMztcbn1cblxuLy8gQ29tcHJlc3MgYXJiaXRyYXJpbHkgbGFyZ2UgbnVtYmVycyBpbnRvIHNtaSBoYXNoZXMuXG5mdW5jdGlvbiBoYXNoTnVtYmVyKG4pIHtcbiAgaWYgKG4gIT09IG4gfHwgbiA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgaGFzaCA9IG4gfCAwO1xuICBpZiAoaGFzaCAhPT0gbikge1xuICAgIGhhc2ggXj0gbiAqIDB4ZmZmZmZmZmY7XG4gIH1cbiAgd2hpbGUgKG4gPiAweGZmZmZmZmZmKSB7XG4gICAgbiAvPSAweGZmZmZmZmZmO1xuICAgIGhhc2ggXj0gbjtcbiAgfVxuICByZXR1cm4gc21pKGhhc2gpO1xufVxuXG5mdW5jdGlvbiBjYWNoZWRIYXNoU3RyaW5nKHN0cmluZykge1xuICB2YXIgaGFzaGVkID0gc3RyaW5nSGFzaENhY2hlW3N0cmluZ107XG4gIGlmIChoYXNoZWQgPT09IHVuZGVmaW5lZCkge1xuICAgIGhhc2hlZCA9IGhhc2hTdHJpbmcoc3RyaW5nKTtcbiAgICBpZiAoU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9PT0gU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUpIHtcbiAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xuICAgICAgc3RyaW5nSGFzaENhY2hlID0ge307XG4gICAgfVxuICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUrKztcbiAgICBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXSA9IGhhc2hlZDtcbiAgfVxuICByZXR1cm4gaGFzaGVkO1xufVxuXG4vLyBodHRwOi8vanNwZXJmLmNvbS9oYXNoaW5nLXN0cmluZ3NcbmZ1bmN0aW9uIGhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gIC8vIFRoaXMgaXMgdGhlIGhhc2ggZnJvbSBKVk1cbiAgLy8gVGhlIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcgaXMgY29tcHV0ZWQgYXNcbiAgLy8gc1swXSAqIDMxIF4gKG4gLSAxKSArIHNbMV0gKiAzMSBeIChuIC0gMikgKyAuLi4gKyBzW24gLSAxXSxcbiAgLy8gd2hlcmUgc1tpXSBpcyB0aGUgaXRoIGNoYXJhY3RlciBvZiB0aGUgc3RyaW5nIGFuZCBuIGlzIHRoZSBsZW5ndGggb2ZcbiAgLy8gdGhlIHN0cmluZy4gV2UgXCJtb2RcIiB0aGUgcmVzdWx0IHRvIG1ha2UgaXQgYmV0d2VlbiAwIChpbmNsdXNpdmUpIGFuZCAyXjMxXG4gIC8vIChleGNsdXNpdmUpIGJ5IGRyb3BwaW5nIGhpZ2ggYml0cy5cbiAgdmFyIGhhc2hlZCA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBzdHJpbmcubGVuZ3RoOyBpaSsrKSB7XG4gICAgaGFzaGVkID0gKDMxICogaGFzaGVkICsgc3RyaW5nLmNoYXJDb2RlQXQoaWkpKSB8IDA7XG4gIH1cbiAgcmV0dXJuIHNtaShoYXNoZWQpO1xufVxuXG5mdW5jdGlvbiBoYXNoU3ltYm9sKHN5bSkge1xuICB2YXIgaGFzaGVkID0gc3ltYm9sTWFwW3N5bV07XG4gIGlmIChoYXNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNoZWQ7XG4gIH1cblxuICBoYXNoZWQgPSBuZXh0SGFzaCgpO1xuXG4gIHN5bWJvbE1hcFtzeW1dID0gaGFzaGVkO1xuXG4gIHJldHVybiBoYXNoZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc2hKU09iaihvYmopIHtcbiAgdmFyIGhhc2hlZDtcbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIGhhc2hlZCA9IHdlYWtNYXAuZ2V0KG9iaik7XG4gICAgaWYgKGhhc2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaGVkO1xuICAgIH1cbiAgfVxuXG4gIGhhc2hlZCA9IG9ialtVSURfSEFTSF9LRVldO1xuICBpZiAoaGFzaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaGFzaGVkO1xuICB9XG5cbiAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgIGhhc2hlZCA9IG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAmJiBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXTtcbiAgICBpZiAoaGFzaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoZWQ7XG4gICAgfVxuXG4gICAgaGFzaGVkID0gZ2V0SUVOb2RlSGFzaChvYmopO1xuICAgIGlmIChoYXNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2hlZDtcbiAgICB9XG4gIH1cblxuICBoYXNoZWQgPSBuZXh0SGFzaCgpO1xuXG4gIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICB3ZWFrTWFwLnNldChvYmosIGhhc2hlZCk7XG4gIH0gZWxzZSBpZiAoaXNFeHRlbnNpYmxlICE9PSB1bmRlZmluZWQgJiYgaXNFeHRlbnNpYmxlKG9iaikgPT09IGZhbHNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb24tZXh0ZW5zaWJsZSBvYmplY3RzIGFyZSBub3QgYWxsb3dlZCBhcyBrZXlzLicpO1xuICB9IGVsc2UgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgVUlEX0hBU0hfS0VZLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogaGFzaGVkLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKFxuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID09PSBvYmouY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICkge1xuICAgIC8vIFNpbmNlIHdlIGNhbid0IGRlZmluZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvYmplY3RcbiAgICAvLyB3ZSdsbCBoaWphY2sgb25lIG9mIHRoZSBsZXNzLXVzZWQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyB0b1xuICAgIC8vIHNhdmUgb3VyIGhhc2ggb24gaXQuIFNpbmNlIHRoaXMgaXMgYSBmdW5jdGlvbiBpdCB3aWxsIG5vdCBzaG93IHVwIGluXG4gICAgLy8gYEpTT04uc3RyaW5naWZ5YCB3aGljaCBpcyB3aGF0IHdlIHdhbnQuXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmFwcGx5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBhcmd1bWVudHNcbiAgICAgICk7XG4gICAgfTtcbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXSA9IGhhc2hlZDtcbiAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgY291bGRuJ3QgZ2V0IHRoZSBJRSBgdW5pcXVlSURgIHRvIHVzZSBhcyBhIGhhc2hcbiAgICAvLyBhbmQgd2UgY291bGRuJ3QgdXNlIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgdG8gZXhwbG9pdCB0aGVcbiAgICAvLyBkb250RW51bSBidWcgc28gd2Ugc2ltcGx5IGFkZCB0aGUgYFVJRF9IQVNIX0tFWWAgb24gdGhlIG5vZGVcbiAgICAvLyBpdHNlbGYuXG4gICAgb2JqW1VJRF9IQVNIX0tFWV0gPSBoYXNoZWQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gb2JqZWN0LicpO1xuICB9XG5cbiAgcmV0dXJuIGhhc2hlZDtcbn1cblxuLy8gR2V0IHJlZmVyZW5jZXMgdG8gRVM1IG9iamVjdCBtZXRob2RzLlxudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cbi8vIFRydWUgaWYgT2JqZWN0LmRlZmluZVByb3BlcnR5IHdvcmtzIGFzIGV4cGVjdGVkLiBJRTggZmFpbHMgdGhpcyB0ZXN0LlxudmFyIGNhbkRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdAJywge30pO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSgpO1xuXG4vLyBJRSBoYXMgYSBgdW5pcXVlSURgIHByb3BlcnR5IG9uIERPTSBub2Rlcy4gV2UgY2FuIGNvbnN0cnVjdCB0aGUgaGFzaCBmcm9tIGl0XG4vLyBhbmQgYXZvaWQgbWVtb3J5IGxlYWtzIGZyb20gdGhlIElFIGNsb25lTm9kZSBidWcuXG5mdW5jdGlvbiBnZXRJRU5vZGVIYXNoKG5vZGUpIHtcbiAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA+IDApIHtcbiAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgIGNhc2UgMTogLy8gRWxlbWVudFxuICAgICAgICByZXR1cm4gbm9kZS51bmlxdWVJRDtcbiAgICAgIGNhc2UgOTogLy8gRG9jdW1lbnRcbiAgICAgICAgcmV0dXJuIG5vZGUuZG9jdW1lbnRFbGVtZW50ICYmIG5vZGUuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2YWx1ZU9mKG9iaikge1xuICByZXR1cm4gb2JqLnZhbHVlT2YgIT09IGRlZmF1bHRWYWx1ZU9mICYmIHR5cGVvZiBvYmoudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gb2JqLnZhbHVlT2Yob2JqKVxuICAgIDogb2JqO1xufVxuXG5mdW5jdGlvbiBuZXh0SGFzaCgpIHtcbiAgdmFyIG5leHRIYXNoID0gKytfb2JqSGFzaFVJRDtcbiAgaWYgKF9vYmpIYXNoVUlEICYgMHg0MDAwMDAwMCkge1xuICAgIF9vYmpIYXNoVUlEID0gMDtcbiAgfVxuICByZXR1cm4gbmV4dEhhc2g7XG59XG5cbi8vIElmIHBvc3NpYmxlLCB1c2UgYSBXZWFrTWFwLlxudmFyIHVzaW5nV2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nO1xudmFyIHdlYWtNYXA7XG5pZiAodXNpbmdXZWFrTWFwKSB7XG4gIHdlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xufVxuXG52YXIgc3ltYm9sTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxudmFyIF9vYmpIYXNoVUlEID0gMDtcblxudmFyIFVJRF9IQVNIX0tFWSA9ICdfX2ltbXV0YWJsZWhhc2hfXyc7XG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBVSURfSEFTSF9LRVkgPSBTeW1ib2woVUlEX0hBU0hfS0VZKTtcbn1cblxudmFyIFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPSAxNjtcbnZhciBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSA9IDI1NTtcbnZhciBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbnZhciBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcblxudmFyIFRvS2V5ZWRTZXF1ZW5jZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEtleWVkU2VxKSB7XG4gIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgdGhpcy5faXRlciA9IGluZGV4ZWQ7XG4gICAgdGhpcy5fdXNlS2V5cyA9IHVzZUtleXM7XG4gICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICB9XG5cbiAgaWYgKCBLZXllZFNlcSApIFRvS2V5ZWRTZXF1ZW5jZS5fX3Byb3RvX18gPSBLZXllZFNlcTtcbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkU2VxICYmIEtleWVkU2VxLnByb3RvdHlwZSApO1xuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9LZXllZFNlcXVlbmNlO1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5oYXMoa2V5KTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnZhbHVlU2VxID0gZnVuY3Rpb24gdmFsdWVTZXEgKCkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gcmV2ZXJzZSAoKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSk7XG4gICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxJDEuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCk7IH07XG4gICAgfVxuICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpO1xuICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEkMS5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4odiwgaywgdGhpcyQxJDEpOyB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICByZXR1cm4gVG9LZXllZFNlcXVlbmNlO1xufShLZXllZFNlcSkpO1xuVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZVtJU19PUkRFUkVEX1NZTUJPTF0gPSB0cnVlO1xuXG52YXIgVG9JbmRleGVkU2VxdWVuY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIFRvSW5kZXhlZFNlcXVlbmNlKGl0ZXIpIHtcbiAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBUb0luZGV4ZWRTZXF1ZW5jZS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRvSW5kZXhlZFNlcXVlbmNlO1xuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHZhbHVlKTtcbiAgfTtcblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2KSB7IHJldHVybiBmbih2LCByZXZlcnNlID8gdGhpcyQxJDEuc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxJDEpOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZSh0aGlzKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgcmV0dXJuIHN0ZXAuZG9uZVxuICAgICAgICA/IHN0ZXBcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHJldmVyc2UgPyB0aGlzJDEkMS5zaXplIC0gKytpIDogaSsrLFxuICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgIHN0ZXBcbiAgICAgICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBUb0luZGV4ZWRTZXF1ZW5jZTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgVG9TZXRTZXF1ZW5jZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNldFNlcSkge1xuICBmdW5jdGlvbiBUb1NldFNlcXVlbmNlKGl0ZXIpIHtcbiAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gIH1cblxuICBpZiAoIFNldFNlcSApIFRvU2V0U2VxdWVuY2UuX19wcm90b19fID0gU2V0U2VxO1xuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNldFNlcSAmJiBTZXRTZXEucHJvdG90eXBlICk7XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9TZXRTZXF1ZW5jZTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKGtleSk7XG4gIH07XG5cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZuKHYsIHYsIHRoaXMkMSQxKTsgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lXG4gICAgICAgID8gc3RlcFxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgc3RlcC52YWx1ZSwgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRvU2V0U2VxdWVuY2U7XG59KFNldFNlcSkpO1xuXG52YXIgRnJvbUVudHJpZXNTZXF1ZW5jZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEtleWVkU2VxKSB7XG4gIGZ1bmN0aW9uIEZyb21FbnRyaWVzU2VxdWVuY2UoZW50cmllcykge1xuICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgIHRoaXMuc2l6ZSA9IGVudHJpZXMuc2l6ZTtcbiAgfVxuXG4gIGlmICggS2V5ZWRTZXEgKSBGcm9tRW50cmllc1NlcXVlbmNlLl9fcHJvdG9fXyA9IEtleWVkU2VxO1xuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkU2VxICYmIEtleWVkU2VxLnByb3RvdHlwZSApO1xuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyb21FbnRyaWVzU2VxdWVuY2U7XG5cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuZW50cnlTZXEgPSBmdW5jdGlvbiBlbnRyeVNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIudG9TZXEoKTtcbiAgfTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICB2YXIgaW5kZXhlZENvbGxlY3Rpb24gPSBpc0NvbGxlY3Rpb24oZW50cnkpO1xuICAgICAgICByZXR1cm4gZm4oXG4gICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgIHRoaXMkMSQxXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZENvbGxlY3Rpb24gPSBpc0NvbGxlY3Rpb24oZW50cnkpO1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRnJvbUVudHJpZXNTZXF1ZW5jZTtcbn0oS2V5ZWRTZXEpKTtcblxuVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICAgIGNhY2hlUmVzdWx0VGhyb3VnaDtcblxuZnVuY3Rpb24gZmxpcEZhY3RvcnkoY29sbGVjdGlvbikge1xuICB2YXIgZmxpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBmbGlwU2VxdWVuY2UuX2l0ZXIgPSBjb2xsZWN0aW9uO1xuICBmbGlwU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcbiAgZmxpcFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uOyB9O1xuICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IGNvbGxlY3Rpb24ucmV2ZXJzZS5hcHBseSh0aGlzKTsgLy8gc3VwZXIucmV2ZXJzZSgpXG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbi5yZXZlcnNlKCk7IH07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH07XG4gIGZsaXBTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmluY2x1ZGVzKGtleSk7IH07XG4gIGZsaXBTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKGtleSk7IH07XG4gIGZsaXBTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgZmxpcFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4oaywgdiwgdGhpcyQxJDEpICE9PSBmYWxzZTsgfSwgcmV2ZXJzZSk7XG4gIH07XG4gIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKCFzdGVwLmRvbmUpIHtcbiAgICAgICAgICB2YXIgayA9IHN0ZXAudmFsdWVbMF07XG4gICAgICAgICAgc3RlcC52YWx1ZVswXSA9IHN0ZXAudmFsdWVbMV07XG4gICAgICAgICAgc3RlcC52YWx1ZVsxXSA9IGs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRvcihcbiAgICAgIHR5cGUgPT09IElURVJBVEVfVkFMVUVTID8gSVRFUkFURV9LRVlTIDogSVRFUkFURV9WQUxVRVMsXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gbWFwRmFjdG9yeShjb2xsZWN0aW9uLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBtYXBwZWRTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplO1xuICBtYXBwZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmhhcyhrZXkpOyB9O1xuICBtYXBwZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciB2ID0gY29sbGVjdGlvbi5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICByZXR1cm4gdiA9PT0gTk9UX1NFVFxuICAgICAgPyBub3RTZXRWYWx1ZVxuICAgICAgOiBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrZXksIGNvbGxlY3Rpb24pO1xuICB9O1xuICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaywgYykgeyByZXR1cm4gZm4obWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgYyksIGssIHRoaXMkMSQxKSAhPT0gZmFsc2U7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5LFxuICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCBlbnRyeVsxXSwga2V5LCBjb2xsZWN0aW9uKSxcbiAgICAgICAgc3RlcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiByZXZlcnNlRmFjdG9yeShjb2xsZWN0aW9uLCB1c2VLZXlzKSB7XG4gIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHJldmVyc2VkU2VxdWVuY2UuX2l0ZXIgPSBjb2xsZWN0aW9uO1xuICByZXZlcnNlZFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG4gIHJldmVyc2VkU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb247IH07XG4gIGlmIChjb2xsZWN0aW9uLmZsaXApIHtcbiAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoY29sbGVjdGlvbik7XG4gICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb24uZmxpcCgpOyB9O1xuICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICB9O1xuICB9XG4gIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24gKGtleSwgbm90U2V0VmFsdWUpIHsgcmV0dXJuIGNvbGxlY3Rpb24uZ2V0KHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSwgbm90U2V0VmFsdWUpOyB9O1xuICByZXZlcnNlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuaW5jbHVkZXMgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaW5jbHVkZXModmFsdWUpOyB9O1xuICByZXZlcnNlZFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICByZXZlcnNlZFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IHJldmVyc2UgPyB0aGlzJDEkMS5zaXplIC0gKytpIDogaSsrLCB0aGlzJDEkMSk7IH0sXG4gICAgICAhcmV2ZXJzZVxuICAgICk7XG4gIH07XG4gIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZShjb2xsZWN0aW9uKTtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCAhcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHVzZUtleXMgPyBlbnRyeVswXSA6IHJldmVyc2UgPyB0aGlzJDEkMS5zaXplIC0gKytpIDogaSsrLFxuICAgICAgICBlbnRyeVsxXSxcbiAgICAgICAgc3RlcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgaWYgKHVzZUtleXMpIHtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdiA9IGNvbGxlY3Rpb24uZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiAhIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGtleSwgY29sbGVjdGlvbik7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIHYgPSBjb2xsZWN0aW9uLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBjb2xsZWN0aW9uKVxuICAgICAgICA/IHZcbiAgICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuICB9XG4gIGZpbHRlclNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMSQxKTtcbiAgICAgIH1cbiAgICB9LCByZXZlcnNlKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHVzZUtleXMgPyBrZXkgOiBpdGVyYXRpb25zKyssIHZhbHVlLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmlsdGVyU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGNvdW50QnlGYWN0b3J5KGNvbGxlY3Rpb24sIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGdyb3VwcyA9IE1hcCgpLmFzTXV0YWJsZSgpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGdyb3Vwcy51cGRhdGUoZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGNvbGxlY3Rpb24pLCAwLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSArIDE7IH0pO1xuICB9KTtcbiAgcmV0dXJuIGdyb3Vwcy5hc0ltbXV0YWJsZSgpO1xufVxuXG5mdW5jdGlvbiBncm91cEJ5RmFjdG9yeShjb2xsZWN0aW9uLCBncm91cGVyLCBjb250ZXh0KSB7XG4gIHZhciBpc0tleWVkSXRlciA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBncm91cHMgPSAoaXNPcmRlcmVkKGNvbGxlY3Rpb24pID8gT3JkZXJlZE1hcCgpIDogTWFwKCkpLmFzTXV0YWJsZSgpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbiksXG4gICAgICBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKChhID0gYSB8fCBbXSksIGEucHVzaChpc0tleWVkSXRlciA/IFtrLCB2XSA6IHYpLCBhKTsgfVxuICAgICk7XG4gIH0pO1xuICB2YXIgY29lcmNlID0gY29sbGVjdGlvbkNsYXNzKGNvbGxlY3Rpb24pO1xuICByZXR1cm4gZ3JvdXBzLm1hcChmdW5jdGlvbiAoYXJyKSB7IHJldHVybiByZWlmeShjb2xsZWN0aW9uLCBjb2VyY2UoYXJyKSk7IH0pLmFzSW1tdXRhYmxlKCk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlRmFjdG9yeShjb2xsZWN0aW9uLCBiZWdpbiwgZW5kLCB1c2VLZXlzKSB7XG4gIHZhciBvcmlnaW5hbFNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG5cbiAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgb3JpZ2luYWxTaXplKSkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG5cbiAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIG9yaWdpbmFsU2l6ZSk7XG4gIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCBvcmlnaW5hbFNpemUpO1xuXG4gIC8vIGJlZ2luIG9yIGVuZCB3aWxsIGJlIE5hTiBpZiB0aGV5IHdlcmUgcHJvdmlkZWQgYXMgbmVnYXRpdmUgbnVtYmVycyBhbmRcbiAgLy8gdGhpcyBjb2xsZWN0aW9uJ3Mgc2l6ZSBpcyB1bmtub3duLiBJbiB0aGF0IGNhc2UsIGNhY2hlIGZpcnN0IHNvIHRoZXJlIGlzXG4gIC8vIGEga25vd24gc2l6ZSBhbmQgdGhlc2UgZG8gbm90IHJlc29sdmUgdG8gTmFOLlxuICBpZiAocmVzb2x2ZWRCZWdpbiAhPT0gcmVzb2x2ZWRCZWdpbiB8fCByZXNvbHZlZEVuZCAhPT0gcmVzb2x2ZWRFbmQpIHtcbiAgICByZXR1cm4gc2xpY2VGYWN0b3J5KGNvbGxlY3Rpb24udG9TZXEoKS5jYWNoZVJlc3VsdCgpLCBiZWdpbiwgZW5kLCB1c2VLZXlzKTtcbiAgfVxuXG4gIC8vIE5vdGU6IHJlc29sdmVkRW5kIGlzIHVuZGVmaW5lZCB3aGVuIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSdzIGxlbmd0aCBpc1xuICAvLyB1bmtub3duIGFuZCB0aGlzIHNsaWNlIGRpZCBub3Qgc3VwcGx5IGFuIGVuZCBhbmQgc2hvdWxkIGNvbnRhaW4gYWxsXG4gIC8vIGVsZW1lbnRzIGFmdGVyIHJlc29sdmVkQmVnaW4uXG4gIC8vIEluIHRoYXQgY2FzZSwgcmVzb2x2ZWRTaXplIHdpbGwgYmUgTmFOIGFuZCBzbGljZVNpemUgd2lsbCByZW1haW4gdW5kZWZpbmVkLlxuICB2YXIgcmVzb2x2ZWRTaXplID0gcmVzb2x2ZWRFbmQgLSByZXNvbHZlZEJlZ2luO1xuICB2YXIgc2xpY2VTaXplO1xuICBpZiAocmVzb2x2ZWRTaXplID09PSByZXNvbHZlZFNpemUpIHtcbiAgICBzbGljZVNpemUgPSByZXNvbHZlZFNpemUgPCAwID8gMCA6IHJlc29sdmVkU2l6ZTtcbiAgfVxuXG4gIHZhciBzbGljZVNlcSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcblxuICAvLyBJZiBjb2xsZWN0aW9uLnNpemUgaXMgdW5kZWZpbmVkLCB0aGUgc2l6ZSBvZiB0aGUgcmVhbGl6ZWQgc2xpY2VTZXEgaXNcbiAgLy8gdW5rbm93biBhdCB0aGlzIHBvaW50IHVubGVzcyB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHNsaWNlIGlzIDBcbiAgc2xpY2VTZXEuc2l6ZSA9XG4gICAgc2xpY2VTaXplID09PSAwID8gc2xpY2VTaXplIDogKGNvbGxlY3Rpb24uc2l6ZSAmJiBzbGljZVNpemUpIHx8IHVuZGVmaW5lZDtcblxuICBpZiAoIXVzZUtleXMgJiYgaXNTZXEoY29sbGVjdGlvbikgJiYgc2xpY2VTaXplID49IDApIHtcbiAgICBzbGljZVNlcS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IHNsaWNlU2l6ZVxuICAgICAgICA/IGNvbGxlY3Rpb24uZ2V0KGluZGV4ICsgcmVzb2x2ZWRCZWdpbiwgbm90U2V0VmFsdWUpXG4gICAgICAgIDogbm90U2V0VmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHNsaWNlU2VxLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIGlmIChzbGljZVNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pKSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQxJDEpICE9PSBmYWxzZSAmJlxuICAgICAgICAgIGl0ZXJhdGlvbnMgIT09IHNsaWNlU2l6ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIHNsaWNlU2VxLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHNsaWNlU2l6ZSAhPT0gMCAmJiByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBpbnN0YW50aWF0aW5nIHBhcmVudCBpdGVyYXRvciBpZiB0YWtpbmcgMC5cbiAgICBpZiAoc2xpY2VTaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGl0ZXJhdG9yRG9uZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKCsraXRlcmF0aW9ucyA+IHNsaWNlU2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTIHx8IHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHNsaWNlU2VxO1xufVxuXG5mdW5jdGlvbiB0YWtlV2hpbGVGYWN0b3J5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICB2YXIgdGFrZVNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICB0YWtlU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGssIGMpIHsgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpICYmICsraXRlcmF0aW9ucyAmJiBmbih2LCBrLCB0aGlzJDEkMSk7IH1cbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICB0YWtlU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGl0ZXJhdGluZyA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWl0ZXJhdGluZykge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgdmFyIGsgPSBlbnRyeVswXTtcbiAgICAgIHZhciB2ID0gZW50cnlbMV07XG4gICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMSQxKSkge1xuICAgICAgICBpdGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gdGFrZVNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBza2lwV2hpbGVGYWN0b3J5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICB2YXIgc2tpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBza2lwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSkpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQxJDEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBza2lwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIHNraXBwaW5nID0gdHJ1ZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBrO1xuICAgICAgdmFyIHY7XG4gICAgICBkbyB7XG4gICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICBrID0gZW50cnlbMF07XG4gICAgICAgIHYgPSBlbnRyeVsxXTtcbiAgICAgICAgc2tpcHBpbmcgJiYgKHNraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQxJDEpKTtcbiAgICAgIH0gd2hpbGUgKHNraXBwaW5nKTtcbiAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHNraXBTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gY29uY2F0RmFjdG9yeShjb2xsZWN0aW9uLCB2YWx1ZXMpIHtcbiAgdmFyIGlzS2V5ZWRDb2xsZWN0aW9uID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGl0ZXJzID0gW2NvbGxlY3Rpb25dXG4gICAgLmNvbmNhdCh2YWx1ZXMpXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYgKCFpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgdiA9IGlzS2V5ZWRDb2xsZWN0aW9uXG4gICAgICAgICAgPyBrZXllZFNlcUZyb21WYWx1ZSh2KVxuICAgICAgICAgIDogaW5kZXhlZFNlcUZyb21WYWx1ZShBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XSk7XG4gICAgICB9IGVsc2UgaWYgKGlzS2V5ZWRDb2xsZWN0aW9uKSB7XG4gICAgICAgIHYgPSBLZXllZENvbGxlY3Rpb24odik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdjtcbiAgICB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuc2l6ZSAhPT0gMDsgfSk7XG5cbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG5cbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciBzaW5nbGV0b24gPSBpdGVyc1swXTtcbiAgICBpZiAoXG4gICAgICBzaW5nbGV0b24gPT09IGNvbGxlY3Rpb24gfHxcbiAgICAgIChpc0tleWVkQ29sbGVjdGlvbiAmJiBpc0tleWVkKHNpbmdsZXRvbikpIHx8XG4gICAgICAoaXNJbmRleGVkKGNvbGxlY3Rpb24pICYmIGlzSW5kZXhlZChzaW5nbGV0b24pKVxuICAgICkge1xuICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICB9XG4gIH1cblxuICB2YXIgY29uY2F0U2VxID0gbmV3IEFycmF5U2VxKGl0ZXJzKTtcbiAgaWYgKGlzS2V5ZWRDb2xsZWN0aW9uKSB7XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvS2V5ZWRTZXEoKTtcbiAgfSBlbHNlIGlmICghaXNJbmRleGVkKGNvbGxlY3Rpb24pKSB7XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvU2V0U2VxKCk7XG4gIH1cbiAgY29uY2F0U2VxID0gY29uY2F0U2VxLmZsYXR0ZW4odHJ1ZSk7XG4gIGNvbmNhdFNlcS5zaXplID0gaXRlcnMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHNlcSkge1xuICAgIGlmIChzdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHNpemUgPSBzZXEuc2l6ZTtcbiAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN1bSArIHNpemU7XG4gICAgICB9XG4gICAgfVxuICB9LCAwKTtcbiAgcmV0dXJuIGNvbmNhdFNlcTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkZhY3RvcnkoY29sbGVjdGlvbiwgZGVwdGgsIHVzZUtleXMpIHtcbiAgdmFyIGZsYXRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgZmxhdFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZmxhdERlZXAoaXRlciwgY3VycmVudERlcHRoKSB7XG4gICAgICBpdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgICBpZiAoKCFkZXB0aCB8fCBjdXJyZW50RGVwdGggPCBkZXB0aCkgJiYgaXNDb2xsZWN0aW9uKHYpKSB7XG4gICAgICAgICAgZmxhdERlZXAodiwgY3VycmVudERlcHRoICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIGlmIChmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCBmbGF0U2VxdWVuY2UpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhc3RvcHBlZDtcbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIH1cbiAgICBmbGF0RGVlcChjb2xsZWN0aW9uLCAwKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgZmxhdFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlIChpdGVyYXRvcikge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpdGVyYXRvciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICAgIHYgPSB2WzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIWRlcHRoIHx8IHN0YWNrLmxlbmd0aCA8IGRlcHRoKSAmJiBpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKGl0ZXJhdG9yKTtcbiAgICAgICAgICBpdGVyYXRvciA9IHYuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdXNlS2V5cyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdiwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZsYXRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gZmxhdE1hcEZhY3RvcnkoY29sbGVjdGlvbiwgbWFwcGVyLCBjb250ZXh0KSB7XG4gIHZhciBjb2VyY2UgPSBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbik7XG4gIHJldHVybiBjb2xsZWN0aW9uXG4gICAgLnRvU2VxKClcbiAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBjb2VyY2UobWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbikpOyB9KVxuICAgIC5mbGF0dGVuKHRydWUpO1xufVxuXG5mdW5jdGlvbiBpbnRlcnBvc2VGYWN0b3J5KGNvbGxlY3Rpb24sIHNlcGFyYXRvcikge1xuICB2YXIgaW50ZXJwb3NlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBpbnRlcnBvc2VkU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZSAmJiBjb2xsZWN0aW9uLnNpemUgKiAyIC0gMTtcbiAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2KSB7IHJldHVybiAoIWl0ZXJhdGlvbnMgfHwgZm4oc2VwYXJhdG9yLCBpdGVyYXRpb25zKyssIHRoaXMkMSQxKSAhPT0gZmFsc2UpICYmXG4gICAgICAgIGZuKHYsIGl0ZXJhdGlvbnMrKywgdGhpcyQxJDEpICE9PSBmYWxzZTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgc3RlcDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc3RlcCB8fCBpdGVyYXRpb25zICUgMikge1xuICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zICUgMlxuICAgICAgICA/IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzZXBhcmF0b3IpXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gaW50ZXJwb3NlZFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBzb3J0RmFjdG9yeShjb2xsZWN0aW9uLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICB9XG4gIHZhciBpc0tleWVkQ29sbGVjdGlvbiA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBlbnRyaWVzID0gY29sbGVjdGlvblxuICAgIC50b1NlcSgpXG4gICAgLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gW2ssIHYsIGluZGV4KyssIG1hcHBlciA/IG1hcHBlcih2LCBrLCBjb2xsZWN0aW9uKSA6IHZdOyB9KVxuICAgIC52YWx1ZVNlcSgpXG4gICAgLnRvQXJyYXkoKTtcbiAgZW50cmllc1xuICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjb21wYXJhdG9yKGFbM10sIGJbM10pIHx8IGFbMl0gLSBiWzJdOyB9KVxuICAgIC5mb3JFYWNoKFxuICAgICAgaXNLZXllZENvbGxlY3Rpb25cbiAgICAgICAgPyBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgICAgZW50cmllc1tpXS5sZW5ndGggPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgOiBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgICAgZW50cmllc1tpXSA9IHZbMV07XG4gICAgICAgICAgfVxuICAgICk7XG4gIHJldHVybiBpc0tleWVkQ29sbGVjdGlvblxuICAgID8gS2V5ZWRTZXEoZW50cmllcylcbiAgICA6IGlzSW5kZXhlZChjb2xsZWN0aW9uKVxuICAgID8gSW5kZXhlZFNlcShlbnRyaWVzKVxuICAgIDogU2V0U2VxKGVudHJpZXMpO1xufVxuXG5mdW5jdGlvbiBtYXhGYWN0b3J5KGNvbGxlY3Rpb24sIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gIH1cbiAgaWYgKG1hcHBlcikge1xuICAgIHZhciBlbnRyeSA9IGNvbGxlY3Rpb25cbiAgICAgIC50b1NlcSgpXG4gICAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBbdiwgbWFwcGVyKHYsIGssIGNvbGxlY3Rpb24pXTsgfSlcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGFbMV0sIGJbMV0pID8gYiA6IGEpOyB9KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb24ucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAobWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSA/IGIgOiBhKTsgfSk7XG59XG5cbmZ1bmN0aW9uIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikge1xuICB2YXIgY29tcCA9IGNvbXBhcmF0b3IoYiwgYSk7XG4gIC8vIGIgaXMgY29uc2lkZXJlZCB0aGUgbmV3IG1heCBpZiB0aGUgY29tcGFyYXRvciBkZWNsYXJlcyB0aGVtIGVxdWFsLCBidXRcbiAgLy8gdGhleSBhcmUgbm90IGVxdWFsIGFuZCBiIGlzIGluIGZhY3QgYSBudWxsaXNoIHZhbHVlLlxuICByZXR1cm4gKFxuICAgIChjb21wID09PSAwICYmIGIgIT09IGEgJiYgKGIgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgIT09IGIpKSB8fFxuICAgIGNvbXAgPiAwXG4gICk7XG59XG5cbmZ1bmN0aW9uIHppcFdpdGhGYWN0b3J5KGtleUl0ZXIsIHppcHBlciwgaXRlcnMsIHppcEFsbCkge1xuICB2YXIgemlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2Uoa2V5SXRlcik7XG4gIHZhciBzaXplcyA9IG5ldyBBcnJheVNlcShpdGVycykubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLnNpemU7IH0pO1xuICB6aXBTZXF1ZW5jZS5zaXplID0gemlwQWxsID8gc2l6ZXMubWF4KCkgOiBzaXplcy5taW4oKTtcbiAgLy8gTm90ZTogdGhpcyBhIGdlbmVyaWMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBfX2l0ZXJhdGUgaW4gdGVybXMgb2ZcbiAgLy8gX19pdGVyYXRvciB3aGljaCBtYXkgYmUgbW9yZSBnZW5lcmljYWxseSB1c2VmdWwgaW4gdGhlIGZ1dHVyZS5cbiAgemlwU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgLyogZ2VuZXJpYzpcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc3RlcDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgaWYgKGZuKHN0ZXAudmFsdWVbMV0sIHN0ZXAudmFsdWVbMF0sIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgKi9cbiAgICAvLyBpbmRleGVkOlxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIHN0ZXA7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHppcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9ycyA9IGl0ZXJzLm1hcChcbiAgICAgIGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKGkgPSBDb2xsZWN0aW9uKGkpKSwgZ2V0SXRlcmF0b3IocmV2ZXJzZSA/IGkucmV2ZXJzZSgpIDogaSkpOyB9XG4gICAgKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIGlzRG9uZSA9IGZhbHNlO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXBzO1xuICAgICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgICAgc3RlcHMgPSBpdGVyYXRvcnMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLm5leHQoKTsgfSk7XG4gICAgICAgIGlzRG9uZSA9IHppcEFsbCA/IHN0ZXBzLmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmRvbmU7IH0pIDogc3RlcHMuc29tZShmdW5jdGlvbiAocykgeyByZXR1cm4gcy5kb25lOyB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGl0ZXJhdGlvbnMrKyxcbiAgICAgICAgemlwcGVyLmFwcGx5KFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgc3RlcHMubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnZhbHVlOyB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gemlwU2VxdWVuY2U7XG59XG5cbi8vICNwcmFnbWEgSGVscGVyIEZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZWlmeShpdGVyLCBzZXEpIHtcbiAgcmV0dXJuIGl0ZXIgPT09IHNlcSA/IGl0ZXIgOiBpc1NlcShpdGVyKSA/IHNlcSA6IGl0ZXIuY29uc3RydWN0b3Ioc2VxKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVFbnRyeShlbnRyeSkge1xuICBpZiAoZW50cnkgIT09IE9iamVjdChlbnRyeSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBbSywgVl0gdHVwbGU6ICcgKyBlbnRyeSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdGlvbkNsYXNzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGlzS2V5ZWQoY29sbGVjdGlvbilcbiAgICA/IEtleWVkQ29sbGVjdGlvblxuICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pXG4gICAgPyBJbmRleGVkQ29sbGVjdGlvblxuICAgIDogU2V0Q29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUoXG4gICAgKGlzS2V5ZWQoY29sbGVjdGlvbilcbiAgICAgID8gS2V5ZWRTZXFcbiAgICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pXG4gICAgICA/IEluZGV4ZWRTZXFcbiAgICAgIDogU2V0U2VxXG4gICAgKS5wcm90b3R5cGVcbiAgKTtcbn1cblxuZnVuY3Rpb24gY2FjaGVSZXN1bHRUaHJvdWdoKCkge1xuICBpZiAodGhpcy5faXRlci5jYWNoZVJlc3VsdCkge1xuICAgIHRoaXMuX2l0ZXIuY2FjaGVSZXN1bHQoKTtcbiAgICB0aGlzLnNpemUgPSB0aGlzLl9pdGVyLnNpemU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV0dXJuIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQuY2FsbCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IoYSwgYikge1xuICBpZiAoYSA9PT0gdW5kZWZpbmVkICYmIGIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cblxuZnVuY3Rpb24gYXJyQ29weShhcnIsIG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIGFyci5sZW5ndGggLSBvZmZzZXQpO1xuICB2YXIgbmV3QXJyID0gbmV3IEFycmF5KGxlbik7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBuZXdBcnJbaWldID0gYXJyW2lpICsgb2Zmc2V0XTtcbiAgfVxuICByZXR1cm4gbmV3QXJyO1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBlcnJvcikge1xuICBpZiAoIWNvbmRpdGlvbikgeyB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOyB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydE5vdEluZmluaXRlKHNpemUpIHtcbiAgaW52YXJpYW50KFxuICAgIHNpemUgIT09IEluZmluaXR5LFxuICAgICdDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuJ1xuICApO1xufVxuXG5mdW5jdGlvbiBjb2VyY2VLZXlQYXRoKGtleVBhdGgpIHtcbiAgaWYgKGlzQXJyYXlMaWtlKGtleVBhdGgpICYmIHR5cGVvZiBrZXlQYXRoICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBrZXlQYXRoO1xuICB9XG4gIGlmIChpc09yZGVyZWQoa2V5UGF0aCkpIHtcbiAgICByZXR1cm4ga2V5UGF0aC50b0FycmF5KCk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnSW52YWxpZCBrZXlQYXRoOiBleHBlY3RlZCBPcmRlcmVkIENvbGxlY3Rpb24gb3IgQXJyYXk6ICcgKyBrZXlQYXRoXG4gICk7XG59XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgLy8gVGhlIGJhc2UgcHJvdG90eXBlJ3MgdG9TdHJpbmcgZGVhbHMgd2l0aCBBcmd1bWVudCBvYmplY3RzIGFuZCBuYXRpdmUgbmFtZXNwYWNlcyBsaWtlIE1hdGhcbiAgaWYgKFxuICAgICF2YWx1ZSB8fFxuICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHxcbiAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSAhPT0gJ1tvYmplY3QgT2JqZWN0XSdcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJdGVyYXRpdmVseSBnb2luZyB1cCB0aGUgcHJvdG90eXBlIGNoYWluIGlzIG5lZWRlZCBmb3IgY3Jvc3MtcmVhbG0gZW52aXJvbm1lbnRzIChkaWZmZXJpbmcgY29udGV4dHMsIGlmcmFtZXMsIGV0YylcbiAgdmFyIHBhcmVudFByb3RvID0gcHJvdG87XG4gIHZhciBuZXh0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB3aGlsZSAobmV4dFByb3RvICE9PSBudWxsKSB7XG4gICAgcGFyZW50UHJvdG8gPSBuZXh0UHJvdG87XG4gICAgbmV4dFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudFByb3RvKTtcbiAgfVxuICByZXR1cm4gcGFyZW50UHJvdG8gPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBwb3RlbnRpYWxseS1wZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJlLCBlaXRoZXJcbiAqIHByb3ZpZGVkIGJ5IEltbXV0YWJsZS5qcyBvciBhIHBsYWluIEFycmF5IG9yIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaXNEYXRhU3RydWN0dXJlKHZhbHVlKSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIChpc0ltbXV0YWJsZSh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZSkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIHF1b3RlU3RyaW5nKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xuICB9IGNhdGNoIChfaWdub3JlRXJyb3IpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhcyhjb2xsZWN0aW9uLCBrZXkpIHtcbiAgcmV0dXJuIGlzSW1tdXRhYmxlKGNvbGxlY3Rpb24pXG4gICAgPyBjb2xsZWN0aW9uLmhhcyhrZXkpXG4gICAgOiBpc0RhdGFTdHJ1Y3R1cmUoY29sbGVjdGlvbikgJiYgaGFzT3duUHJvcGVydHkuY2FsbChjb2xsZWN0aW9uLCBrZXkpO1xufVxuXG5mdW5jdGlvbiBnZXQoY29sbGVjdGlvbiwga2V5LCBub3RTZXRWYWx1ZSkge1xuICByZXR1cm4gaXNJbW11dGFibGUoY29sbGVjdGlvbilcbiAgICA/IGNvbGxlY3Rpb24uZ2V0KGtleSwgbm90U2V0VmFsdWUpXG4gICAgOiAhaGFzKGNvbGxlY3Rpb24sIGtleSlcbiAgICA/IG5vdFNldFZhbHVlXG4gICAgOiB0eXBlb2YgY29sbGVjdGlvbi5nZXQgPT09ICdmdW5jdGlvbidcbiAgICA/IGNvbGxlY3Rpb24uZ2V0KGtleSlcbiAgICA6IGNvbGxlY3Rpb25ba2V5XTtcbn1cblxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoZnJvbSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShmcm9tKSkge1xuICAgIHJldHVybiBhcnJDb3B5KGZyb20pO1xuICB9XG4gIHZhciB0byA9IHt9O1xuICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcbiAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKGNvbGxlY3Rpb24sIGtleSkge1xuICBpZiAoIWlzRGF0YVN0cnVjdHVyZShjb2xsZWN0aW9uKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnQ2Fubm90IHVwZGF0ZSBub24tZGF0YS1zdHJ1Y3R1cmUgdmFsdWU6ICcgKyBjb2xsZWN0aW9uXG4gICAgKTtcbiAgfVxuICBpZiAoaXNJbW11dGFibGUoY29sbGVjdGlvbikpIHtcbiAgICBpZiAoIWNvbGxlY3Rpb24ucmVtb3ZlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnQ2Fubm90IHVwZGF0ZSBpbW11dGFibGUgdmFsdWUgd2l0aG91dCAucmVtb3ZlKCkgbWV0aG9kOiAnICsgY29sbGVjdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ucmVtb3ZlKGtleSk7XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbGxlY3Rpb24sIGtleSkpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuICB2YXIgY29sbGVjdGlvbkNvcHkgPSBzaGFsbG93Q29weShjb2xsZWN0aW9uKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbkNvcHkpKSB7XG4gICAgY29sbGVjdGlvbkNvcHkuc3BsaWNlKGtleSwgMSk7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIGNvbGxlY3Rpb25Db3B5W2tleV07XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb25Db3B5O1xufVxuXG5mdW5jdGlvbiBzZXQoY29sbGVjdGlvbiwga2V5LCB2YWx1ZSkge1xuICBpZiAoIWlzRGF0YVN0cnVjdHVyZShjb2xsZWN0aW9uKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnQ2Fubm90IHVwZGF0ZSBub24tZGF0YS1zdHJ1Y3R1cmUgdmFsdWU6ICcgKyBjb2xsZWN0aW9uXG4gICAgKTtcbiAgfVxuICBpZiAoaXNJbW11dGFibGUoY29sbGVjdGlvbikpIHtcbiAgICBpZiAoIWNvbGxlY3Rpb24uc2V0KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnQ2Fubm90IHVwZGF0ZSBpbW11dGFibGUgdmFsdWUgd2l0aG91dCAuc2V0KCkgbWV0aG9kOiAnICsgY29sbGVjdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICB9XG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbGxlY3Rpb24sIGtleSkgJiYgdmFsdWUgPT09IGNvbGxlY3Rpb25ba2V5XSkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG4gIHZhciBjb2xsZWN0aW9uQ29weSA9IHNoYWxsb3dDb3B5KGNvbGxlY3Rpb24pO1xuICBjb2xsZWN0aW9uQ29weVtrZXldID0gdmFsdWU7XG4gIHJldHVybiBjb2xsZWN0aW9uQ29weTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSW4kMShjb2xsZWN0aW9uLCBrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICBpZiAoIXVwZGF0ZXIpIHtcbiAgICB1cGRhdGVyID0gbm90U2V0VmFsdWU7XG4gICAgbm90U2V0VmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgdmFyIHVwZGF0ZWRWYWx1ZSA9IHVwZGF0ZUluRGVlcGx5KFxuICAgIGlzSW1tdXRhYmxlKGNvbGxlY3Rpb24pLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgY29lcmNlS2V5UGF0aChrZXlQYXRoKSxcbiAgICAwLFxuICAgIG5vdFNldFZhbHVlLFxuICAgIHVwZGF0ZXJcbiAgKTtcbiAgcmV0dXJuIHVwZGF0ZWRWYWx1ZSA9PT0gTk9UX1NFVCA/IG5vdFNldFZhbHVlIDogdXBkYXRlZFZhbHVlO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJbkRlZXBseShcbiAgaW5JbW11dGFibGUsXG4gIGV4aXN0aW5nLFxuICBrZXlQYXRoLFxuICBpLFxuICBub3RTZXRWYWx1ZSxcbiAgdXBkYXRlclxuKSB7XG4gIHZhciB3YXNOb3RTZXQgPSBleGlzdGluZyA9PT0gTk9UX1NFVDtcbiAgaWYgKGkgPT09IGtleVBhdGgubGVuZ3RoKSB7XG4gICAgdmFyIGV4aXN0aW5nVmFsdWUgPSB3YXNOb3RTZXQgPyBub3RTZXRWYWx1ZSA6IGV4aXN0aW5nO1xuICAgIHZhciBuZXdWYWx1ZSA9IHVwZGF0ZXIoZXhpc3RpbmdWYWx1ZSk7XG4gICAgcmV0dXJuIG5ld1ZhbHVlID09PSBleGlzdGluZ1ZhbHVlID8gZXhpc3RpbmcgOiBuZXdWYWx1ZTtcbiAgfVxuICBpZiAoIXdhc05vdFNldCAmJiAhaXNEYXRhU3RydWN0dXJlKGV4aXN0aW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnQ2Fubm90IHVwZGF0ZSB3aXRoaW4gbm9uLWRhdGEtc3RydWN0dXJlIHZhbHVlIGluIHBhdGggWycgK1xuICAgICAgICBrZXlQYXRoLnNsaWNlKDAsIGkpLm1hcChxdW90ZVN0cmluZykgK1xuICAgICAgICAnXTogJyArXG4gICAgICAgIGV4aXN0aW5nXG4gICAgKTtcbiAgfVxuICB2YXIga2V5ID0ga2V5UGF0aFtpXTtcbiAgdmFyIG5leHRFeGlzdGluZyA9IHdhc05vdFNldCA/IE5PVF9TRVQgOiBnZXQoZXhpc3RpbmcsIGtleSwgTk9UX1NFVCk7XG4gIHZhciBuZXh0VXBkYXRlZCA9IHVwZGF0ZUluRGVlcGx5KFxuICAgIG5leHRFeGlzdGluZyA9PT0gTk9UX1NFVCA/IGluSW1tdXRhYmxlIDogaXNJbW11dGFibGUobmV4dEV4aXN0aW5nKSxcbiAgICBuZXh0RXhpc3RpbmcsXG4gICAga2V5UGF0aCxcbiAgICBpICsgMSxcbiAgICBub3RTZXRWYWx1ZSxcbiAgICB1cGRhdGVyXG4gICk7XG4gIHJldHVybiBuZXh0VXBkYXRlZCA9PT0gbmV4dEV4aXN0aW5nXG4gICAgPyBleGlzdGluZ1xuICAgIDogbmV4dFVwZGF0ZWQgPT09IE5PVF9TRVRcbiAgICA/IHJlbW92ZShleGlzdGluZywga2V5KVxuICAgIDogc2V0KFxuICAgICAgICB3YXNOb3RTZXQgPyAoaW5JbW11dGFibGUgPyBlbXB0eU1hcCgpIDoge30pIDogZXhpc3RpbmcsXG4gICAgICAgIGtleSxcbiAgICAgICAgbmV4dFVwZGF0ZWRcbiAgICAgICk7XG59XG5cbmZ1bmN0aW9uIHNldEluJDEoY29sbGVjdGlvbiwga2V5UGF0aCwgdmFsdWUpIHtcbiAgcmV0dXJuIHVwZGF0ZUluJDEoY29sbGVjdGlvbiwga2V5UGF0aCwgTk9UX1NFVCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufVxuXG5mdW5jdGlvbiBzZXRJbihrZXlQYXRoLCB2KSB7XG4gIHJldHVybiBzZXRJbiQxKHRoaXMsIGtleVBhdGgsIHYpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVJbihjb2xsZWN0aW9uLCBrZXlQYXRoKSB7XG4gIHJldHVybiB1cGRhdGVJbiQxKGNvbGxlY3Rpb24sIGtleVBhdGgsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5PVF9TRVQ7IH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVJbihrZXlQYXRoKSB7XG4gIHJldHVybiByZW1vdmVJbih0aGlzLCBrZXlQYXRoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlJDEoY29sbGVjdGlvbiwga2V5LCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICByZXR1cm4gdXBkYXRlSW4kMShjb2xsZWN0aW9uLCBba2V5XSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoa2V5LCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMVxuICAgID8ga2V5KHRoaXMpXG4gICAgOiB1cGRhdGUkMSh0aGlzLCBrZXksIG5vdFNldFZhbHVlLCB1cGRhdGVyKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSW4oa2V5UGF0aCwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgcmV0dXJuIHVwZGF0ZUluJDEodGhpcywga2V5UGF0aCwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xufVxuXG5mdW5jdGlvbiBtZXJnZSQxKCkge1xuICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgcmV0dXJuIG1lcmdlSW50b0tleWVkV2l0aCh0aGlzLCBpdGVycyk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlV2l0aCQxKG1lcmdlcikge1xuICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgaWYgKHR5cGVvZiBtZXJnZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1lcmdlciBmdW5jdGlvbjogJyArIG1lcmdlcik7XG4gIH1cbiAgcmV0dXJuIG1lcmdlSW50b0tleWVkV2l0aCh0aGlzLCBpdGVycywgbWVyZ2VyKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvS2V5ZWRXaXRoKGNvbGxlY3Rpb24sIGNvbGxlY3Rpb25zLCBtZXJnZXIpIHtcbiAgdmFyIGl0ZXJzID0gW107XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb2xsZWN0aW9ucy5sZW5ndGg7IGlpKyspIHtcbiAgICB2YXIgY29sbGVjdGlvbiQxID0gS2V5ZWRDb2xsZWN0aW9uKGNvbGxlY3Rpb25zW2lpXSk7XG4gICAgaWYgKGNvbGxlY3Rpb24kMS5zaXplICE9PSAwKSB7XG4gICAgICBpdGVycy5wdXNoKGNvbGxlY3Rpb24kMSk7XG4gICAgfVxuICB9XG4gIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuICBpZiAoXG4gICAgY29sbGVjdGlvbi50b1NlcSgpLnNpemUgPT09IDAgJiZcbiAgICAhY29sbGVjdGlvbi5fX293bmVySUQgJiZcbiAgICBpdGVycy5sZW5ndGggPT09IDFcbiAgKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbWVyZ2VJbnRvQ29sbGVjdGlvbiA9IG1lcmdlclxuICAgICAgPyBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIHVwZGF0ZSQxKGNvbGxlY3Rpb24sIGtleSwgTk9UX1NFVCwgZnVuY3Rpb24gKG9sZFZhbCkgeyByZXR1cm4gb2xkVmFsID09PSBOT1RfU0VUID8gdmFsdWUgOiBtZXJnZXIob2xkVmFsLCB2YWx1ZSwga2V5KTsgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICBpdGVyc1tpaV0uZm9yRWFjaChtZXJnZUludG9Db2xsZWN0aW9uKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtZXJnZShjb2xsZWN0aW9uKSB7XG4gIHZhciBzb3VyY2VzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIHNvdXJjZXNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgcmV0dXJuIG1lcmdlV2l0aFNvdXJjZXMoY29sbGVjdGlvbiwgc291cmNlcyk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlV2l0aChtZXJnZXIsIGNvbGxlY3Rpb24pIHtcbiAgdmFyIHNvdXJjZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIHdoaWxlICggbGVuLS0gPiAwICkgc291cmNlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICByZXR1cm4gbWVyZ2VXaXRoU291cmNlcyhjb2xsZWN0aW9uLCBzb3VyY2VzLCBtZXJnZXIpO1xufVxuXG5mdW5jdGlvbiBtZXJnZURlZXAkMShjb2xsZWN0aW9uKSB7XG4gIHZhciBzb3VyY2VzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIHNvdXJjZXNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgcmV0dXJuIG1lcmdlRGVlcFdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMpO1xufVxuXG5mdW5jdGlvbiBtZXJnZURlZXBXaXRoJDEobWVyZ2VyLCBjb2xsZWN0aW9uKSB7XG4gIHZhciBzb3VyY2VzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIHNvdXJjZXNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAyIF07XG5cbiAgcmV0dXJuIG1lcmdlRGVlcFdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMsIG1lcmdlcik7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGVlcFdpdGhTb3VyY2VzKGNvbGxlY3Rpb24sIHNvdXJjZXMsIG1lcmdlcikge1xuICByZXR1cm4gbWVyZ2VXaXRoU291cmNlcyhjb2xsZWN0aW9uLCBzb3VyY2VzLCBkZWVwTWVyZ2VyV2l0aChtZXJnZXIpKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VXaXRoU291cmNlcyhjb2xsZWN0aW9uLCBzb3VyY2VzLCBtZXJnZXIpIHtcbiAgaWYgKCFpc0RhdGFTdHJ1Y3R1cmUoY29sbGVjdGlvbikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ0Nhbm5vdCBtZXJnZSBpbnRvIG5vbi1kYXRhLXN0cnVjdHVyZSB2YWx1ZTogJyArIGNvbGxlY3Rpb25cbiAgICApO1xuICB9XG4gIGlmIChpc0ltbXV0YWJsZShjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVyZ2VyID09PSAnZnVuY3Rpb24nICYmIGNvbGxlY3Rpb24ubWVyZ2VXaXRoXG4gICAgICA/IGNvbGxlY3Rpb24ubWVyZ2VXaXRoLmFwcGx5KGNvbGxlY3Rpb24sIFsgbWVyZ2VyIF0uY29uY2F0KCBzb3VyY2VzICkpXG4gICAgICA6IGNvbGxlY3Rpb24ubWVyZ2VcbiAgICAgID8gY29sbGVjdGlvbi5tZXJnZS5hcHBseShjb2xsZWN0aW9uLCBzb3VyY2VzKVxuICAgICAgOiBjb2xsZWN0aW9uLmNvbmNhdC5hcHBseShjb2xsZWN0aW9uLCBzb3VyY2VzKTtcbiAgfVxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbik7XG4gIHZhciBtZXJnZWQgPSBjb2xsZWN0aW9uO1xuICB2YXIgQ29sbGVjdGlvbiA9IGlzQXJyYXkgPyBJbmRleGVkQ29sbGVjdGlvbiA6IEtleWVkQ29sbGVjdGlvbjtcbiAgdmFyIG1lcmdlSXRlbSA9IGlzQXJyYXlcbiAgICA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBDb3B5IG9uIHdyaXRlXG4gICAgICAgIGlmIChtZXJnZWQgPT09IGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBtZXJnZWQgPSBzaGFsbG93Q29weShtZXJnZWQpO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlZC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICA6IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHZhciBoYXNWYWwgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG1lcmdlZCwga2V5KTtcbiAgICAgICAgdmFyIG5leHRWYWwgPVxuICAgICAgICAgIGhhc1ZhbCAmJiBtZXJnZXIgPyBtZXJnZXIobWVyZ2VkW2tleV0sIHZhbHVlLCBrZXkpIDogdmFsdWU7XG4gICAgICAgIGlmICghaGFzVmFsIHx8IG5leHRWYWwgIT09IG1lcmdlZFtrZXldKSB7XG4gICAgICAgICAgLy8gQ29weSBvbiB3cml0ZVxuICAgICAgICAgIGlmIChtZXJnZWQgPT09IGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIG1lcmdlZCA9IHNoYWxsb3dDb3B5KG1lcmdlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lcmdlZFtrZXldID0gbmV4dFZhbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgQ29sbGVjdGlvbihzb3VyY2VzW2ldKS5mb3JFYWNoKG1lcmdlSXRlbSk7XG4gIH1cbiAgcmV0dXJuIG1lcmdlZDtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlcldpdGgobWVyZ2VyKSB7XG4gIGZ1bmN0aW9uIGRlZXBNZXJnZXIob2xkVmFsdWUsIG5ld1ZhbHVlLCBrZXkpIHtcbiAgICByZXR1cm4gaXNEYXRhU3RydWN0dXJlKG9sZFZhbHVlKSAmJlxuICAgICAgaXNEYXRhU3RydWN0dXJlKG5ld1ZhbHVlKSAmJlxuICAgICAgYXJlTWVyZ2VhYmxlKG9sZFZhbHVlLCBuZXdWYWx1ZSlcbiAgICAgID8gbWVyZ2VXaXRoU291cmNlcyhvbGRWYWx1ZSwgW25ld1ZhbHVlXSwgZGVlcE1lcmdlcilcbiAgICAgIDogbWVyZ2VyXG4gICAgICA/IG1lcmdlcihvbGRWYWx1ZSwgbmV3VmFsdWUsIGtleSlcbiAgICAgIDogbmV3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIGRlZXBNZXJnZXI7XG59XG5cbi8qKlxuICogSXQncyB1bmNsZWFyIHdoYXQgdGhlIGRlc2lyZWQgYmVoYXZpb3IgaXMgZm9yIG1lcmdpbmcgdHdvIGNvbGxlY3Rpb25zIHRoYXRcbiAqIGZhbGwgaW50byBzZXBhcmF0ZSBjYXRlZ29yaWVzIGJldHdlZW4ga2V5ZWQsIGluZGV4ZWQsIG9yIHNldC1saWtlLCBzbyB3ZSBvbmx5XG4gKiBjb25zaWRlciB0aGVtIG1lcmdlYWJsZSBpZiB0aGV5IGZhbGwgaW50byB0aGUgc2FtZSBjYXRlZ29yeS5cbiAqL1xuZnVuY3Rpb24gYXJlTWVyZ2VhYmxlKG9sZERhdGFTdHJ1Y3R1cmUsIG5ld0RhdGFTdHJ1Y3R1cmUpIHtcbiAgdmFyIG9sZFNlcSA9IFNlcShvbGREYXRhU3RydWN0dXJlKTtcbiAgdmFyIG5ld1NlcSA9IFNlcShuZXdEYXRhU3RydWN0dXJlKTtcbiAgLy8gVGhpcyBsb2dpYyBhc3N1bWVzIHRoYXQgYSBzZXF1ZW5jZSBjYW4gb25seSBmYWxsIGludG8gb25lIG9mIHRoZSB0aHJlZVxuICAvLyBjYXRlZ29yaWVzIG1lbnRpb25lZCBhYm92ZSAoc2luY2UgdGhlcmUncyBubyBgaXNTZXRMaWtlKClgIG1ldGhvZCkuXG4gIHJldHVybiAoXG4gICAgaXNJbmRleGVkKG9sZFNlcSkgPT09IGlzSW5kZXhlZChuZXdTZXEpICYmXG4gICAgaXNLZXllZChvbGRTZXEpID09PSBpc0tleWVkKG5ld1NlcSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZWVwKCkge1xuICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgcmV0dXJuIG1lcmdlRGVlcFdpdGhTb3VyY2VzKHRoaXMsIGl0ZXJzKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZWVwV2l0aChtZXJnZXIpIHtcbiAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gIHJldHVybiBtZXJnZURlZXBXaXRoU291cmNlcyh0aGlzLCBpdGVycywgbWVyZ2VyKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbihrZXlQYXRoKSB7XG4gIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICByZXR1cm4gdXBkYXRlSW4kMSh0aGlzLCBrZXlQYXRoLCBlbXB0eU1hcCgpLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbWVyZ2VXaXRoU291cmNlcyhtLCBpdGVycyk7IH0pO1xufVxuXG5mdW5jdGlvbiBtZXJnZURlZXBJbihrZXlQYXRoKSB7XG4gIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICByZXR1cm4gdXBkYXRlSW4kMSh0aGlzLCBrZXlQYXRoLCBlbXB0eU1hcCgpLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbWVyZ2VEZWVwV2l0aFNvdXJjZXMobSwgaXRlcnMpOyB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIHdpdGhNdXRhdGlvbnMoZm4pIHtcbiAgdmFyIG11dGFibGUgPSB0aGlzLmFzTXV0YWJsZSgpO1xuICBmbihtdXRhYmxlKTtcbiAgcmV0dXJuIG11dGFibGUud2FzQWx0ZXJlZCgpID8gbXV0YWJsZS5fX2Vuc3VyZU93bmVyKHRoaXMuX19vd25lcklEKSA6IHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFzTXV0YWJsZSgpIHtcbiAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IHRoaXMuX19lbnN1cmVPd25lcihuZXcgT3duZXJJRCgpKTtcbn1cblxuZnVuY3Rpb24gYXNJbW11dGFibGUoKSB7XG4gIHJldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKTtcbn1cblxuZnVuY3Rpb24gd2FzQWx0ZXJlZCgpIHtcbiAgcmV0dXJuIHRoaXMuX19hbHRlcmVkO1xufVxuXG52YXIgTWFwID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoS2V5ZWRDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIE1hcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5TWFwKClcbiAgICAgIDogaXNNYXAodmFsdWUpICYmICFpc09yZGVyZWQodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZENvbGxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIEtleWVkQ29sbGVjdGlvbiApIE1hcC5fX3Byb3RvX18gPSBLZXllZENvbGxlY3Rpb247XG4gIE1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZENvbGxlY3Rpb24gJiYgS2V5ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwO1xuXG4gIE1hcC5vZiA9IGZ1bmN0aW9uIG9mICgpIHtcbiAgICB2YXIga2V5VmFsdWVzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGtleVZhbHVlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgcmV0dXJuIGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBpZiAoaSArIDEgPj0ga2V5VmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB2YWx1ZSBmb3Iga2V5OiAnICsga2V5VmFsdWVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBtYXAuc2V0KGtleVZhbHVlc1tpXSwga2V5VmFsdWVzW2kgKyAxXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdNYXAgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaywgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcm9vdFxuICAgICAgPyB0aGlzLl9yb290LmdldCgwLCB1bmRlZmluZWQsIGssIG5vdFNldFZhbHVlKVxuICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrLCB2KSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCB2KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaykge1xuICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5kZWxldGVBbGwgPSBmdW5jdGlvbiBkZWxldGVBbGwgKGtleXMpIHtcbiAgICB2YXIgY29sbGVjdGlvbiA9IENvbGxlY3Rpb24oa2V5cyk7XG5cbiAgICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBtYXAucmVtb3ZlKGtleSk7IH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gIE1hcC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIHNvcnQgKGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbiBzb3J0QnkgKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICBtYXAuc2V0KGtleSwgbWFwcGVyLmNhbGwoY29udGV4dCwgdmFsdWUsIGtleSwgdGhpcyQxJDEpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gIE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdGhpcy5fcm9vdCAmJlxuICAgICAgdGhpcy5fcm9vdC5pdGVyYXRlKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMSQxKTtcbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTWFwKHRoaXMuc2l6ZSwgdGhpcy5fcm9vdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIHJldHVybiBNYXA7XG59KEtleWVkQ29sbGVjdGlvbikpO1xuXG5NYXAuaXNNYXAgPSBpc01hcDtcblxudmFyIE1hcFByb3RvdHlwZSA9IE1hcC5wcm90b3R5cGU7XG5NYXBQcm90b3R5cGVbSVNfTUFQX1NZTUJPTF0gPSB0cnVlO1xuTWFwUHJvdG90eXBlW0RFTEVURV0gPSBNYXBQcm90b3R5cGUucmVtb3ZlO1xuTWFwUHJvdG90eXBlLnJlbW92ZUFsbCA9IE1hcFByb3RvdHlwZS5kZWxldGVBbGw7XG5NYXBQcm90b3R5cGUuc2V0SW4gPSBzZXRJbjtcbk1hcFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5kZWxldGVJbiA9IGRlbGV0ZUluO1xuTWFwUHJvdG90eXBlLnVwZGF0ZSA9IHVwZGF0ZTtcbk1hcFByb3RvdHlwZS51cGRhdGVJbiA9IHVwZGF0ZUluO1xuTWFwUHJvdG90eXBlLm1lcmdlID0gTWFwUHJvdG90eXBlLmNvbmNhdCA9IG1lcmdlJDE7XG5NYXBQcm90b3R5cGUubWVyZ2VXaXRoID0gbWVyZ2VXaXRoJDE7XG5NYXBQcm90b3R5cGUubWVyZ2VEZWVwID0gbWVyZ2VEZWVwO1xuTWFwUHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBtZXJnZURlZXBXaXRoO1xuTWFwUHJvdG90eXBlLm1lcmdlSW4gPSBtZXJnZUluO1xuTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluID0gbWVyZ2VEZWVwSW47XG5NYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IHdpdGhNdXRhdGlvbnM7XG5NYXBQcm90b3R5cGUud2FzQWx0ZXJlZCA9IHdhc0FsdGVyZWQ7XG5NYXBQcm90b3R5cGUuYXNJbW11dGFibGUgPSBhc0ltbXV0YWJsZTtcbk1hcFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IE1hcFByb3RvdHlwZS5hc011dGFibGUgPSBhc011dGFibGU7XG5NYXBQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBhcnIpIHtcbiAgcmV0dXJuIHJlc3VsdC5zZXQoYXJyWzBdLCBhcnJbMV0pO1xufTtcbk1hcFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqLmFzSW1tdXRhYmxlKCk7XG59O1xuXG4vLyAjcHJhZ21hIFRyaWUgTm9kZXNcblxudmFyIEFycmF5TWFwTm9kZSA9IGZ1bmN0aW9uIEFycmF5TWFwTm9kZShvd25lcklELCBlbnRyaWVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG59O1xuXG5BcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBub3RTZXRWYWx1ZTtcbn07XG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgdmFyIGlkeCA9IDA7XG4gIHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDtcbiAgZm9yICg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG4gIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICBpZiAocmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoIWV4aXN0cyAmJiAhcmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA+PSBNQVhfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICByZXR1cm4gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSk7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICBpZiAoZXhpc3RzKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIGlkeCA9PT0gbGVuIC0gMVxuICAgICAgICA/IG5ld0VudHJpZXMucG9wKClcbiAgICAgICAgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEFycmF5TWFwTm9kZShvd25lcklELCBuZXdFbnRyaWVzKTtcbn07XG5cbnZhciBCaXRtYXBJbmRleGVkTm9kZSA9IGZ1bmN0aW9uIEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgbm9kZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gIHRoaXMubm9kZXMgPSBub2Rlcztcbn07XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBiaXQgPSAxIDw8ICgoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSyk7XG4gIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgcmV0dXJuIChiaXRtYXAgJiBiaXQpID09PSAwXG4gICAgPyBub3RTZXRWYWx1ZVxuICAgIDogdGhpcy5ub2Rlc1twb3BDb3VudChiaXRtYXAgJiAoYml0IC0gMSkpXS5nZXQoXG4gICAgICAgIHNoaWZ0ICsgU0hJRlQsXG4gICAgICAgIGtleUhhc2gsXG4gICAgICAgIGtleSxcbiAgICAgICAgbm90U2V0VmFsdWVcbiAgICAgICk7XG59O1xuXG5CaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGtleUhhc2hGcmFnID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciBiaXQgPSAxIDw8IGtleUhhc2hGcmFnO1xuICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gIHZhciBleGlzdHMgPSAoYml0bWFwICYgYml0KSAhPT0gMDtcblxuICBpZiAoIWV4aXN0cyAmJiB2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGlkeCA9IHBvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSk7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIHZhciBub2RlID0gZXhpc3RzID8gbm9kZXNbaWR4XSA6IHVuZGVmaW5lZDtcbiAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCArIFNISUZULFxuICAgIGtleUhhc2gsXG4gICAga2V5LFxuICAgIHZhbHVlLFxuICAgIGRpZENoYW5nZVNpemUsXG4gICAgZGlkQWx0ZXJcbiAgKTtcblxuICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaWYgKCFleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPj0gTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUpIHtcbiAgICByZXR1cm4gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwga2V5SGFzaEZyYWcsIG5ld05vZGUpO1xuICB9XG5cbiAgaWYgKFxuICAgIGV4aXN0cyAmJlxuICAgICFuZXdOb2RlICYmXG4gICAgbm9kZXMubGVuZ3RoID09PSAyICYmXG4gICAgaXNMZWFmTm9kZShub2Rlc1tpZHggXiAxXSlcbiAgKSB7XG4gICAgcmV0dXJuIG5vZGVzW2lkeCBeIDFdO1xuICB9XG5cbiAgaWYgKGV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMSAmJiBpc0xlYWZOb2RlKG5ld05vZGUpKSB7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3Qml0bWFwID0gZXhpc3RzID8gKG5ld05vZGUgPyBiaXRtYXAgOiBiaXRtYXAgXiBiaXQpIDogYml0bWFwIHwgYml0O1xuICB2YXIgbmV3Tm9kZXMgPSBleGlzdHNcbiAgICA/IG5ld05vZGVcbiAgICAgID8gc2V0QXQobm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSlcbiAgICAgIDogc3BsaWNlT3V0KG5vZGVzLCBpZHgsIGlzRWRpdGFibGUpXG4gICAgOiBzcGxpY2VJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuYml0bWFwID0gbmV3Qml0bWFwO1xuICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgbmV3Qml0bWFwLCBuZXdOb2Rlcyk7XG59O1xuXG52YXIgSGFzaEFycmF5TWFwTm9kZSA9IGZ1bmN0aW9uIEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQsIG5vZGVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMuY291bnQgPSBjb3VudDtcbiAgdGhpcy5ub2RlcyA9IG5vZGVzO1xufTtcblxuSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciBub2RlID0gdGhpcy5ub2Rlc1tpZHhdO1xuICByZXR1cm4gbm9kZVxuICAgID8gbm9kZS5nZXQoc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSlcbiAgICA6IG5vdFNldFZhbHVlO1xufTtcblxuSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICB2YXIgbm9kZSA9IG5vZGVzW2lkeF07XG5cbiAgaWYgKHJlbW92ZWQgJiYgIW5vZGUpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShcbiAgICBub2RlLFxuICAgIG93bmVySUQsXG4gICAgc2hpZnQgKyBTSElGVCxcbiAgICBrZXlIYXNoLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgICBkaWRDaGFuZ2VTaXplLFxuICAgIGRpZEFsdGVyXG4gICk7XG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbmV3Q291bnQgPSB0aGlzLmNvdW50O1xuICBpZiAoIW5vZGUpIHtcbiAgICBuZXdDb3VudCsrO1xuICB9IGVsc2UgaWYgKCFuZXdOb2RlKSB7XG4gICAgbmV3Q291bnQtLTtcbiAgICBpZiAobmV3Q291bnQgPCBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgcmV0dXJuIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgbmV3Q291bnQsIGlkeCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgdmFyIG5ld05vZGVzID0gc2V0QXQobm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICB0aGlzLmNvdW50ID0gbmV3Q291bnQ7XG4gICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0NvdW50LCBuZXdOb2Rlcyk7XG59O1xuXG52YXIgSGFzaENvbGxpc2lvbk5vZGUgPSBmdW5jdGlvbiBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyaWVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG59O1xuXG5IYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vdFNldFZhbHVlO1xufTtcblxuSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG5cbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICBpZiAoa2V5SGFzaCAhPT0gdGhpcy5rZXlIYXNoKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoO1xuICBmb3IgKDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gIGlmIChyZW1vdmVkICYmIGxlbiA9PT0gMikge1xuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgZW50cmllc1tpZHggXiAxXSk7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICBpZiAoZXhpc3RzKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIGlkeCA9PT0gbGVuIC0gMVxuICAgICAgICA/IG5ld0VudHJpZXMucG9wKClcbiAgICAgICAgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgbmV3RW50cmllcyk7XG59O1xuXG52YXIgVmFsdWVOb2RlID0gZnVuY3Rpb24gVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gIHRoaXMuZW50cnkgPSBlbnRyeTtcbn07XG5cblZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICByZXR1cm4gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKSA/IHRoaXMuZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbn07XG5cblZhbHVlTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgdmFyIGtleU1hdGNoID0gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKTtcbiAgaWYgKGtleU1hdGNoID8gdmFsdWUgPT09IHRoaXMuZW50cnlbMV0gOiByZW1vdmVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gIGlmIChyZW1vdmVkKSB7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoa2V5TWF0Y2gpIHtcbiAgICBpZiAob3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQpIHtcbiAgICAgIHRoaXMuZW50cnlbMV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG59O1xuXG4vLyAjcHJhZ21hIEl0ZXJhdG9yc1xuXG5BcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9XG4gIGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICBpZiAoZm4oZW50cmllc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9XG4gIGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgaWYgKG5vZGUgJiYgbm9kZS5pdGVyYXRlKGZuLCByZXZlcnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5WYWx1ZU5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgcmV0dXJuIGZuKHRoaXMuZW50cnkpO1xufTtcblxudmFyIE1hcEl0ZXJhdG9yID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSXRlcmF0b3IpIHtcbiAgZnVuY3Rpb24gTWFwSXRlcmF0b3IobWFwLCB0eXBlLCByZXZlcnNlKSB7XG4gICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgdGhpcy5fcmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgdGhpcy5fc3RhY2sgPSBtYXAuX3Jvb3QgJiYgbWFwSXRlcmF0b3JGcmFtZShtYXAuX3Jvb3QpO1xuICB9XG5cbiAgaWYgKCBJdGVyYXRvciApIE1hcEl0ZXJhdG9yLl9fcHJvdG9fXyA9IEl0ZXJhdG9yO1xuICBNYXBJdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJdGVyYXRvciAmJiBJdGVyYXRvci5wcm90b3R5cGUgKTtcbiAgTWFwSXRlcmF0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwSXRlcmF0b3I7XG5cbiAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0ICgpIHtcbiAgICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgdmFyIHN0YWNrID0gdGhpcy5fc3RhY2s7XG4gICAgd2hpbGUgKHN0YWNrKSB7XG4gICAgICB2YXIgbm9kZSA9IHN0YWNrLm5vZGU7XG4gICAgICB2YXIgaW5kZXggPSBzdGFjay5pbmRleCsrO1xuICAgICAgdmFyIG1heEluZGV4ID0gKHZvaWQgMCk7XG4gICAgICBpZiAobm9kZS5lbnRyeSkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmVudHJpZXMpIHtcbiAgICAgICAgbWF4SW5kZXggPSBub2RlLmVudHJpZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbm9kZS5lbnRyaWVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF4SW5kZXggPSBub2RlLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgIHZhciBzdWJOb2RlID0gbm9kZS5ub2Rlc1t0aGlzLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XTtcbiAgICAgICAgICBpZiAoc3ViTm9kZSkge1xuICAgICAgICAgICAgaWYgKHN1Yk5vZGUuZW50cnkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgc3ViTm9kZS5lbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gbWFwSXRlcmF0b3JGcmFtZShzdWJOb2RlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gdGhpcy5fc3RhY2suX19wcmV2O1xuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gIH07XG5cbiAgcmV0dXJuIE1hcEl0ZXJhdG9yO1xufShJdGVyYXRvcikpO1xuXG5mdW5jdGlvbiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5KSB7XG4gIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG59XG5cbmZ1bmN0aW9uIG1hcEl0ZXJhdG9yRnJhbWUobm9kZSwgcHJldikge1xuICByZXR1cm4ge1xuICAgIG5vZGU6IG5vZGUsXG4gICAgaW5kZXg6IDAsXG4gICAgX19wcmV2OiBwcmV2LFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlTWFwKHNpemUsIHJvb3QsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoTWFwUHJvdG90eXBlKTtcbiAgbWFwLnNpemUgPSBzaXplO1xuICBtYXAuX3Jvb3QgPSByb290O1xuICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgbWFwLl9faGFzaCA9IGhhc2g7XG4gIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgcmV0dXJuIG1hcDtcbn1cblxudmFyIEVNUFRZX01BUDtcbmZ1bmN0aW9uIGVtcHR5TWFwKCkge1xuICByZXR1cm4gRU1QVFlfTUFQIHx8IChFTVBUWV9NQVAgPSBtYWtlTWFwKDApKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTWFwKG1hcCwgaywgdikge1xuICB2YXIgbmV3Um9vdDtcbiAgdmFyIG5ld1NpemU7XG4gIGlmICghbWFwLl9yb290KSB7XG4gICAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIG5ld1NpemUgPSAxO1xuICAgIG5ld1Jvb3QgPSBuZXcgQXJyYXlNYXBOb2RlKG1hcC5fX293bmVySUQsIFtbaywgdl1dKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGlkQ2hhbmdlU2l6ZSA9IE1ha2VSZWYoKTtcbiAgICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKCk7XG4gICAgbmV3Um9vdCA9IHVwZGF0ZU5vZGUoXG4gICAgICBtYXAuX3Jvb3QsXG4gICAgICBtYXAuX19vd25lcklELFxuICAgICAgMCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGssXG4gICAgICB2LFxuICAgICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBuZXdTaXplID0gbWFwLnNpemUgKyAoZGlkQ2hhbmdlU2l6ZS52YWx1ZSA/ICh2ID09PSBOT1RfU0VUID8gLTEgOiAxKSA6IDApO1xuICB9XG4gIGlmIChtYXAuX19vd25lcklEKSB7XG4gICAgbWFwLnNpemUgPSBuZXdTaXplO1xuICAgIG1hcC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICBtYXAuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG4gIHJldHVybiBuZXdSb290ID8gbWFrZU1hcChuZXdTaXplLCBuZXdSb290KSA6IGVtcHR5TWFwKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU5vZGUoXG4gIG5vZGUsXG4gIG93bmVySUQsXG4gIHNoaWZ0LFxuICBrZXlIYXNoLFxuICBrZXksXG4gIHZhbHVlLFxuICBkaWRDaGFuZ2VTaXplLFxuICBkaWRBbHRlclxuKSB7XG4gIGlmICghbm9kZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gIH1cbiAgcmV0dXJuIG5vZGUudXBkYXRlKFxuICAgIG93bmVySUQsXG4gICAgc2hpZnQsXG4gICAga2V5SGFzaCxcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICBkaWRBbHRlclxuICApO1xufVxuXG5mdW5jdGlvbiBpc0xlYWZOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIChcbiAgICBub2RlLmNvbnN0cnVjdG9yID09PSBWYWx1ZU5vZGUgfHwgbm9kZS5jb25zdHJ1Y3RvciA9PT0gSGFzaENvbGxpc2lvbk5vZGVcbiAgKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgZW50cnkpIHtcbiAgaWYgKG5vZGUua2V5SGFzaCA9PT0ga2V5SGFzaCkge1xuICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgW25vZGUuZW50cnksIGVudHJ5XSk7XG4gIH1cblxuICB2YXIgaWR4MSA9IChzaGlmdCA9PT0gMCA/IG5vZGUua2V5SGFzaCA6IG5vZGUua2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIGlkeDIgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcblxuICB2YXIgbmV3Tm9kZTtcbiAgdmFyIG5vZGVzID1cbiAgICBpZHgxID09PSBpZHgyXG4gICAgICA/IFttZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGVudHJ5KV1cbiAgICAgIDogKChuZXdOb2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkpLFxuICAgICAgICBpZHgxIDwgaWR4MiA/IFtub2RlLCBuZXdOb2RlXSA6IFtuZXdOb2RlLCBub2RlXSk7XG5cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCAoMSA8PCBpZHgxKSB8ICgxIDw8IGlkeDIpLCBub2Rlcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCFvd25lcklEKSB7XG4gICAgb3duZXJJRCA9IG5ldyBPd25lcklEKCk7XG4gIH1cbiAgdmFyIG5vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGVudHJpZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpaV07XG4gICAgbm9kZSA9IG5vZGUudXBkYXRlKG93bmVySUQsIDAsIHVuZGVmaW5lZCwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBjb3VudCwgZXhjbHVkaW5nKSB7XG4gIHZhciBiaXRtYXAgPSAwO1xuICB2YXIgcGFja2VkSUkgPSAwO1xuICB2YXIgcGFja2VkTm9kZXMgPSBuZXcgQXJyYXkoY291bnQpO1xuICBmb3IgKHZhciBpaSA9IDAsIGJpdCA9IDEsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyssIGJpdCA8PD0gMSkge1xuICAgIHZhciBub2RlID0gbm9kZXNbaWldO1xuICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgaWkgIT09IGV4Y2x1ZGluZykge1xuICAgICAgYml0bWFwIHw9IGJpdDtcbiAgICAgIHBhY2tlZE5vZGVzW3BhY2tlZElJKytdID0gbm9kZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIHBhY2tlZE5vZGVzKTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwgaW5jbHVkaW5nLCBub2RlKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBleHBhbmRlZE5vZGVzID0gbmV3IEFycmF5KFNJWkUpO1xuICBmb3IgKHZhciBpaSA9IDA7IGJpdG1hcCAhPT0gMDsgaWkrKywgYml0bWFwID4+Pj0gMSkge1xuICAgIGV4cGFuZGVkTm9kZXNbaWldID0gYml0bWFwICYgMSA/IG5vZGVzW2NvdW50KytdIDogdW5kZWZpbmVkO1xuICB9XG4gIGV4cGFuZGVkTm9kZXNbaW5jbHVkaW5nXSA9IG5vZGU7XG4gIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCArIDEsIGV4cGFuZGVkTm9kZXMpO1xufVxuXG5mdW5jdGlvbiBwb3BDb3VudCh4KSB7XG4gIHggLT0gKHggPj4gMSkgJiAweDU1NTU1NTU1O1xuICB4ID0gKHggJiAweDMzMzMzMzMzKSArICgoeCA+PiAyKSAmIDB4MzMzMzMzMzMpO1xuICB4ID0gKHggKyAoeCA+PiA0KSkgJiAweDBmMGYwZjBmO1xuICB4ICs9IHggPj4gODtcbiAgeCArPSB4ID4+IDE2O1xuICByZXR1cm4geCAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIHNldEF0KGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICB2YXIgbmV3QXJyYXkgPSBjYW5FZGl0ID8gYXJyYXkgOiBhcnJDb3B5KGFycmF5KTtcbiAgbmV3QXJyYXlbaWR4XSA9IHZhbDtcbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCArIDE7XG4gIGlmIChjYW5FZGl0ICYmIGlkeCArIDEgPT09IG5ld0xlbikge1xuICAgIGFycmF5W2lkeF0gPSB2YWw7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICB2YXIgYWZ0ZXIgPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgIG5ld0FycmF5W2lpXSA9IHZhbDtcbiAgICAgIGFmdGVyID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU91dChhcnJheSwgaWR4LCBjYW5FZGl0KSB7XG4gIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggLSAxO1xuICBpZiAoY2FuRWRpdCAmJiBpZHggPT09IG5ld0xlbikge1xuICAgIGFycmF5LnBvcCgpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgdmFyIGFmdGVyID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICBhZnRlciA9IDE7XG4gICAgfVxuICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxudmFyIE1BWF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xudmFyIE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFID0gU0laRSAvIDI7XG52YXIgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcblxudmFyIElTX0xJU1RfU1lNQk9MID0gJ0BAX19JTU1VVEFCTEVfTElTVF9fQEAnO1xuXG5mdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gIHJldHVybiBCb29sZWFuKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TWU1CT0xdKTtcbn1cblxudmFyIExpc3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBMaXN0KHZhbHVlKSB7XG4gICAgdmFyIGVtcHR5ID0gZW1wdHlMaXN0KCk7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgaWYgKGlzTGlzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdmFyIGl0ZXIgPSBJbmRleGVkQ29sbGVjdGlvbih2YWx1ZSk7XG4gICAgdmFyIHNpemUgPSBpdGVyLnNpemU7XG4gICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSk7XG4gICAgaWYgKHNpemUgPiAwICYmIHNpemUgPCBTSVpFKSB7XG4gICAgICByZXR1cm4gbWFrZUxpc3QoMCwgc2l6ZSwgU0hJRlQsIG51bGwsIG5ldyBWTm9kZShpdGVyLnRvQXJyYXkoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgbGlzdC5zZXRTaXplKHNpemUpO1xuICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBsaXN0LnNldChpLCB2KTsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRDb2xsZWN0aW9uICkgTGlzdC5fX3Byb3RvX18gPSBJbmRleGVkQ29sbGVjdGlvbjtcbiAgTGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkQ29sbGVjdGlvbiAmJiBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgTGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaXN0O1xuXG4gIExpc3Qub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTGlzdCBbJywgJ10nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICBpbmRleCArPSB0aGlzLl9vcmlnaW47XG4gICAgICB2YXIgbm9kZSA9IGxpc3ROb2RlRm9yKHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBub2RlICYmIG5vZGUuYXJyYXlbaW5kZXggJiBNQVNLXTtcbiAgICB9XG4gICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlTGlzdCh0aGlzLCBpbmRleCwgdmFsdWUpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaW5kZXgpIHtcbiAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KVxuICAgICAgPyB0aGlzXG4gICAgICA6IGluZGV4ID09PSAwXG4gICAgICA/IHRoaXMuc2hpZnQoKVxuICAgICAgOiBpbmRleCA9PT0gdGhpcy5zaXplIC0gMVxuICAgICAgPyB0aGlzLnBvcCgpXG4gICAgICA6IHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiBpbnNlcnQgKGluZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX29yaWdpbiA9IHRoaXMuX2NhcGFjaXR5ID0gMDtcbiAgICAgIHRoaXMuX2xldmVsID0gU0hJRlQ7XG4gICAgICB0aGlzLl9yb290ID0gdGhpcy5fdGFpbCA9IHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAoLyouLi52YWx1ZXMqLykge1xuICAgIHZhciB2YWx1ZXMgPSBhcmd1bWVudHM7XG4gICAgdmFyIG9sZFNpemUgPSB0aGlzLnNpemU7XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBvbGRTaXplICsgdmFsdWVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdmFsdWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgLTEpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiB1bnNoaWZ0ICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGxpc3Quc2V0KGlpLCB2YWx1ZXNbaWldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uIHNoaWZ0ICgpIHtcbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAxKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0ICgvKi4uLmNvbGxlY3Rpb25zKi8pIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgc2VxcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXJndW1lbnQgPSBhcmd1bWVudHMkMVtpXTtcbiAgICAgIHZhciBzZXEgPSBJbmRleGVkQ29sbGVjdGlvbihcbiAgICAgICAgdHlwZW9mIGFyZ3VtZW50ICE9PSAnc3RyaW5nJyAmJiBoYXNJdGVyYXRvcihhcmd1bWVudClcbiAgICAgICAgICA/IGFyZ3VtZW50XG4gICAgICAgICAgOiBbYXJndW1lbnRdXG4gICAgICApO1xuICAgICAgaWYgKHNlcS5zaXplICE9PSAwKSB7XG4gICAgICAgIHNlcXMucHVzaChzZXEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2Vxcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBzZXFzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Ioc2Vxc1swXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIHNlcXMuZm9yRWFjaChmdW5jdGlvbiAoc2VxKSB7IHJldHVybiBzZXEuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGxpc3QucHVzaCh2YWx1ZSk7IH0pOyB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSAoc2l6ZSkge1xuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIHNpemUpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcyQxJDEuc2l6ZTsgaSsrKSB7XG4gICAgICAgIGxpc3Quc2V0KGksIG1hcHBlci5jYWxsKGNvbnRleHQsIGxpc3QuZ2V0KGkpLCBpLCB0aGlzJDEkMSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHMoXG4gICAgICB0aGlzLFxuICAgICAgcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSxcbiAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKVxuICAgICk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gdGhpcy5zaXplIDogMDtcbiAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORVxuICAgICAgICA/IGl0ZXJhdG9yRG9uZSgpXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gLS1pbmRleCA6IGluZGV4KyssIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIGluZGV4ID0gcmV2ZXJzZSA/IHRoaXMuc2l6ZSA6IDA7XG4gICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgIHZhciB2YWx1ZTtcbiAgICB3aGlsZSAoKHZhbHVlID0gdmFsdWVzKCkpICE9PSBET05FKSB7XG4gICAgICBpZiAoZm4odmFsdWUsIHJldmVyc2UgPyAtLWluZGV4IDogaW5kZXgrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZUxpc3QoXG4gICAgICB0aGlzLl9vcmlnaW4sXG4gICAgICB0aGlzLl9jYXBhY2l0eSxcbiAgICAgIHRoaXMuX2xldmVsLFxuICAgICAgdGhpcy5fcm9vdCxcbiAgICAgIHRoaXMuX3RhaWwsXG4gICAgICBvd25lcklELFxuICAgICAgdGhpcy5fX2hhc2hcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBMaXN0O1xufShJbmRleGVkQ29sbGVjdGlvbikpO1xuXG5MaXN0LmlzTGlzdCA9IGlzTGlzdDtcblxudmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbkxpc3RQcm90b3R5cGVbSVNfTElTVF9TWU1CT0xdID0gdHJ1ZTtcbkxpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuTGlzdFByb3RvdHlwZS5tZXJnZSA9IExpc3RQcm90b3R5cGUuY29uY2F0O1xuTGlzdFByb3RvdHlwZS5zZXRJbiA9IHNldEluO1xuTGlzdFByb3RvdHlwZS5kZWxldGVJbiA9IExpc3RQcm90b3R5cGUucmVtb3ZlSW4gPSBkZWxldGVJbjtcbkxpc3RQcm90b3R5cGUudXBkYXRlID0gdXBkYXRlO1xuTGlzdFByb3RvdHlwZS51cGRhdGVJbiA9IHVwZGF0ZUluO1xuTGlzdFByb3RvdHlwZS5tZXJnZUluID0gbWVyZ2VJbjtcbkxpc3RQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBtZXJnZURlZXBJbjtcbkxpc3RQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IHdpdGhNdXRhdGlvbnM7XG5MaXN0UHJvdG90eXBlLndhc0FsdGVyZWQgPSB3YXNBbHRlcmVkO1xuTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGFzSW1tdXRhYmxlO1xuTGlzdFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IExpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gYXNNdXRhYmxlO1xuTGlzdFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGFycikge1xuICByZXR1cm4gcmVzdWx0LnB1c2goYXJyKTtcbn07XG5MaXN0UHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmouYXNJbW11dGFibGUoKTtcbn07XG5cbnZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlKGFycmF5LCBvd25lcklEKSB7XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbn07XG5cbi8vIFRPRE86IHNlZW1zIGxpa2UgdGhlc2UgbWV0aG9kcyBhcmUgdmVyeSBzaW1pbGFyXG5cblZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbiByZW1vdmVCZWZvcmUgKG93bmVySUQsIGxldmVsLCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IGxldmVsID8gMSA8PCBsZXZlbCA6IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIG9yaWdpbkluZGV4ID0gKGluZGV4ID4+PiBsZXZlbCkgJiBNQVNLO1xuICBpZiAob3JpZ2luSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgfVxuICB2YXIgcmVtb3ZpbmdGaXJzdCA9IG9yaWdpbkluZGV4ID09PSAwO1xuICB2YXIgbmV3Q2hpbGQ7XG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W29yaWdpbkluZGV4XTtcbiAgICBuZXdDaGlsZCA9XG4gICAgICBvbGRDaGlsZCAmJiBvbGRDaGlsZC5yZW1vdmVCZWZvcmUob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG4gIGlmIChyZW1vdmluZ0ZpcnN0ICYmICFuZXdDaGlsZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gIGlmICghcmVtb3ZpbmdGaXJzdCkge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgZWRpdGFibGUuYXJyYXlbaWldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBpZiAobmV3Q2hpbGQpIHtcbiAgICBlZGl0YWJsZS5hcnJheVtvcmlnaW5JbmRleF0gPSBuZXdDaGlsZDtcbiAgfVxuICByZXR1cm4gZWRpdGFibGU7XG59O1xuXG5WTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbiByZW1vdmVBZnRlciAob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gKGxldmVsID8gMSA8PCBsZXZlbCA6IDApIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIHNpemVJbmRleCA9ICgoaW5kZXggLSAxKSA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgaWYgKHNpemVJbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIG5ld0NoaWxkO1xuICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtzaXplSW5kZXhdO1xuICAgIG5ld0NoaWxkID1cbiAgICAgIG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUFmdGVyKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHNpemVJbmRleCA9PT0gdGhpcy5hcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICBlZGl0YWJsZS5hcnJheS5zcGxpY2Uoc2l6ZUluZGV4ICsgMSk7XG4gIGlmIChuZXdDaGlsZCkge1xuICAgIGVkaXRhYmxlLmFycmF5W3NpemVJbmRleF0gPSBuZXdDaGlsZDtcbiAgfVxuICByZXR1cm4gZWRpdGFibGU7XG59O1xuXG52YXIgRE9ORSA9IHt9O1xuXG5mdW5jdGlvbiBpdGVyYXRlTGlzdChsaXN0LCByZXZlcnNlKSB7XG4gIHZhciBsZWZ0ID0gbGlzdC5fb3JpZ2luO1xuICB2YXIgcmlnaHQgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgdmFyIHRhaWxQb3MgPSBnZXRUYWlsT2Zmc2V0KHJpZ2h0KTtcbiAgdmFyIHRhaWwgPSBsaXN0Ll90YWlsO1xuXG4gIHJldHVybiBpdGVyYXRlTm9kZU9yTGVhZihsaXN0Ll9yb290LCBsaXN0Ll9sZXZlbCwgMCk7XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZU5vZGVPckxlYWYobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgIHJldHVybiBsZXZlbCA9PT0gMFxuICAgICAgPyBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpXG4gICAgICA6IGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KSB7XG4gICAgdmFyIGFycmF5ID0gb2Zmc2V0ID09PSB0YWlsUG9zID8gdGFpbCAmJiB0YWlsLmFycmF5IDogbm9kZSAmJiBub2RlLmFycmF5O1xuICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0O1xuICAgIHZhciB0byA9IHJpZ2h0IC0gb2Zmc2V0O1xuICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgIHRvID0gU0laRTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgIH1cbiAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgIHJldHVybiBhcnJheSAmJiBhcnJheVtpZHhdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgdmFyIHZhbHVlcztcbiAgICB2YXIgYXJyYXkgPSBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IChsZWZ0IC0gb2Zmc2V0KSA+PiBsZXZlbDtcbiAgICB2YXIgdG8gPSAoKHJpZ2h0IC0gb2Zmc2V0KSA+PiBsZXZlbCkgKyAxO1xuICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgIHRvID0gU0laRTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IERPTkUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWR4ID0gcmV2ZXJzZSA/IC0tdG8gOiBmcm9tKys7XG4gICAgICAgIHZhbHVlcyA9IGl0ZXJhdGVOb2RlT3JMZWFmKFxuICAgICAgICAgIGFycmF5ICYmIGFycmF5W2lkeF0sXG4gICAgICAgICAgbGV2ZWwgLSBTSElGVCxcbiAgICAgICAgICBvZmZzZXQgKyAoaWR4IDw8IGxldmVsKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZUxpc3Qob3JpZ2luLCBjYXBhY2l0eSwgbGV2ZWwsIHJvb3QsIHRhaWwsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIGxpc3QgPSBPYmplY3QuY3JlYXRlKExpc3RQcm90b3R5cGUpO1xuICBsaXN0LnNpemUgPSBjYXBhY2l0eSAtIG9yaWdpbjtcbiAgbGlzdC5fb3JpZ2luID0gb3JpZ2luO1xuICBsaXN0Ll9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICBsaXN0Ll9sZXZlbCA9IGxldmVsO1xuICBsaXN0Ll9yb290ID0gcm9vdDtcbiAgbGlzdC5fdGFpbCA9IHRhaWw7XG4gIGxpc3QuX19vd25lcklEID0gb3duZXJJRDtcbiAgbGlzdC5fX2hhc2ggPSBoYXNoO1xuICBsaXN0Ll9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbGlzdDtcbn1cblxudmFyIEVNUFRZX0xJU1Q7XG5mdW5jdGlvbiBlbXB0eUxpc3QoKSB7XG4gIHJldHVybiBFTVBUWV9MSVNUIHx8IChFTVBUWV9MSVNUID0gbWFrZUxpc3QoMCwgMCwgU0hJRlQpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGlzdChsaXN0LCBpbmRleCwgdmFsdWUpIHtcbiAgaW5kZXggPSB3cmFwSW5kZXgobGlzdCwgaW5kZXgpO1xuXG4gIGlmIChpbmRleCAhPT0gaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIGlmIChpbmRleCA+PSBsaXN0LnNpemUgfHwgaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGxpc3Qud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgaW5kZXggPCAwXG4gICAgICAgID8gc2V0TGlzdEJvdW5kcyhsaXN0LCBpbmRleCkuc2V0KDAsIHZhbHVlKVxuICAgICAgICA6IHNldExpc3RCb3VuZHMobGlzdCwgMCwgaW5kZXggKyAxKS5zZXQoaW5kZXgsIHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluZGV4ICs9IGxpc3QuX29yaWdpbjtcblxuICB2YXIgbmV3VGFpbCA9IGxpc3QuX3RhaWw7XG4gIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcbiAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZigpO1xuICBpZiAoaW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICBuZXdUYWlsID0gdXBkYXRlVk5vZGUobmV3VGFpbCwgbGlzdC5fX293bmVySUQsIDAsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Jvb3QgPSB1cGRhdGVWTm9kZShcbiAgICAgIG5ld1Jvb3QsXG4gICAgICBsaXN0Ll9fb3duZXJJRCxcbiAgICAgIGxpc3QuX2xldmVsLFxuICAgICAgaW5kZXgsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgfVxuXG4gIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuICByZXR1cm4gbWFrZUxpc3QobGlzdC5fb3JpZ2luLCBsaXN0Ll9jYXBhY2l0eSwgbGlzdC5fbGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVWTm9kZShub2RlLCBvd25lcklELCBsZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcikge1xuICB2YXIgaWR4ID0gKGluZGV4ID4+PiBsZXZlbCkgJiBNQVNLO1xuICB2YXIgbm9kZUhhcyA9IG5vZGUgJiYgaWR4IDwgbm9kZS5hcnJheS5sZW5ndGg7XG4gIGlmICghbm9kZUhhcyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICB2YXIgbmV3Tm9kZTtcblxuICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgdmFyIGxvd2VyTm9kZSA9IG5vZGUgJiYgbm9kZS5hcnJheVtpZHhdO1xuICAgIHZhciBuZXdMb3dlck5vZGUgPSB1cGRhdGVWTm9kZShcbiAgICAgIGxvd2VyTm9kZSxcbiAgICAgIG93bmVySUQsXG4gICAgICBsZXZlbCAtIFNISUZULFxuICAgICAgaW5kZXgsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgICBpZiAobmV3TG93ZXJOb2RlID09PSBsb3dlck5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSBuZXdMb3dlck5vZGU7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICBpZiAobm9kZUhhcyAmJiBub2RlLmFycmF5W2lkeF0gPT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBpZiAoZGlkQWx0ZXIpIHtcbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICB9XG5cbiAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGlkeCA9PT0gbmV3Tm9kZS5hcnJheS5sZW5ndGggLSAxKSB7XG4gICAgbmV3Tm9kZS5hcnJheS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gbmV3Tm9kZTtcbn1cblxuZnVuY3Rpb24gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKSB7XG4gIGlmIChvd25lcklEICYmIG5vZGUgJiYgb3duZXJJRCA9PT0gbm9kZS5vd25lcklEKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcmV0dXJuIG5ldyBWTm9kZShub2RlID8gbm9kZS5hcnJheS5zbGljZSgpIDogW10sIG93bmVySUQpO1xufVxuXG5mdW5jdGlvbiBsaXN0Tm9kZUZvcihsaXN0LCByYXdJbmRleCkge1xuICBpZiAocmF3SW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICByZXR1cm4gbGlzdC5fdGFpbDtcbiAgfVxuICBpZiAocmF3SW5kZXggPCAxIDw8IChsaXN0Ll9sZXZlbCArIFNISUZUKSkge1xuICAgIHZhciBub2RlID0gbGlzdC5fcm9vdDtcbiAgICB2YXIgbGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICB3aGlsZSAobm9kZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgIG5vZGUgPSBub2RlLmFycmF5WyhyYXdJbmRleCA+Pj4gbGV2ZWwpICYgTUFTS107XG4gICAgICBsZXZlbCAtPSBTSElGVDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0TGlzdEJvdW5kcyhsaXN0LCBiZWdpbiwgZW5kKSB7XG4gIC8vIFNhbml0aXplIGJlZ2luICYgZW5kIHVzaW5nIHRoaXMgc2hvcnRoYW5kIGZvciBUb0ludDMyKGFyZ3VtZW50KVxuICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9pbnQzMlxuICBpZiAoYmVnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgIGJlZ2luIHw9IDA7XG4gIH1cbiAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kIHw9IDA7XG4gIH1cbiAgdmFyIG93bmVyID0gbGlzdC5fX293bmVySUQgfHwgbmV3IE93bmVySUQoKTtcbiAgdmFyIG9sZE9yaWdpbiA9IGxpc3QuX29yaWdpbjtcbiAgdmFyIG9sZENhcGFjaXR5ID0gbGlzdC5fY2FwYWNpdHk7XG4gIHZhciBuZXdPcmlnaW4gPSBvbGRPcmlnaW4gKyBiZWdpbjtcbiAgdmFyIG5ld0NhcGFjaXR5ID1cbiAgICBlbmQgPT09IHVuZGVmaW5lZFxuICAgICAgPyBvbGRDYXBhY2l0eVxuICAgICAgOiBlbmQgPCAwXG4gICAgICA/IG9sZENhcGFjaXR5ICsgZW5kXG4gICAgICA6IG9sZE9yaWdpbiArIGVuZDtcbiAgaWYgKG5ld09yaWdpbiA9PT0gb2xkT3JpZ2luICYmIG5ld0NhcGFjaXR5ID09PSBvbGRDYXBhY2l0eSkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLy8gSWYgaXQncyBnb2luZyB0byBlbmQgYWZ0ZXIgaXQgc3RhcnRzLCBpdCdzIGVtcHR5LlxuICBpZiAobmV3T3JpZ2luID49IG5ld0NhcGFjaXR5KSB7XG4gICAgcmV0dXJuIGxpc3QuY2xlYXIoKTtcbiAgfVxuXG4gIHZhciBuZXdMZXZlbCA9IGxpc3QuX2xldmVsO1xuICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG5cbiAgLy8gTmV3IG9yaWdpbiBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gIHZhciBvZmZzZXRTaGlmdCA9IDA7XG4gIHdoaWxlIChuZXdPcmlnaW4gKyBvZmZzZXRTaGlmdCA8IDApIHtcbiAgICBuZXdSb290ID0gbmV3IFZOb2RlKFxuICAgICAgbmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFt1bmRlZmluZWQsIG5ld1Jvb3RdIDogW10sXG4gICAgICBvd25lclxuICAgICk7XG4gICAgbmV3TGV2ZWwgKz0gU0hJRlQ7XG4gICAgb2Zmc2V0U2hpZnQgKz0gMSA8PCBuZXdMZXZlbDtcbiAgfVxuICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICBuZXdPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgb2xkT3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgIG5ld0NhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICAgIG9sZENhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICB9XG5cbiAgdmFyIG9sZFRhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG9sZENhcGFjaXR5KTtcbiAgdmFyIG5ld1RhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG5ld0NhcGFjaXR5KTtcblxuICAvLyBOZXcgc2l6ZSBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gIHdoaWxlIChuZXdUYWlsT2Zmc2V0ID49IDEgPDwgKG5ld0xldmVsICsgU0hJRlQpKSB7XG4gICAgbmV3Um9vdCA9IG5ldyBWTm9kZShcbiAgICAgIG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbbmV3Um9vdF0gOiBbXSxcbiAgICAgIG93bmVyXG4gICAgKTtcbiAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgfVxuXG4gIC8vIExvY2F0ZSBvciBjcmVhdGUgdGhlIG5ldyB0YWlsLlxuICB2YXIgb2xkVGFpbCA9IGxpc3QuX3RhaWw7XG4gIHZhciBuZXdUYWlsID1cbiAgICBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldFxuICAgICAgPyBsaXN0Tm9kZUZvcihsaXN0LCBuZXdDYXBhY2l0eSAtIDEpXG4gICAgICA6IG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0XG4gICAgICA/IG5ldyBWTm9kZShbXSwgb3duZXIpXG4gICAgICA6IG9sZFRhaWw7XG5cbiAgLy8gTWVyZ2UgVGFpbCBpbnRvIHRyZWUuXG4gIGlmIChcbiAgICBvbGRUYWlsICYmXG4gICAgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgJiZcbiAgICBuZXdPcmlnaW4gPCBvbGRDYXBhY2l0eSAmJlxuICAgIG9sZFRhaWwuYXJyYXkubGVuZ3RoXG4gICkge1xuICAgIG5ld1Jvb3QgPSBlZGl0YWJsZVZOb2RlKG5ld1Jvb3QsIG93bmVyKTtcbiAgICB2YXIgbm9kZSA9IG5ld1Jvb3Q7XG4gICAgZm9yICh2YXIgbGV2ZWwgPSBuZXdMZXZlbDsgbGV2ZWwgPiBTSElGVDsgbGV2ZWwgLT0gU0hJRlQpIHtcbiAgICAgIHZhciBpZHggPSAob2xkVGFpbE9mZnNldCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIG5vZGUgPSBub2RlLmFycmF5W2lkeF0gPSBlZGl0YWJsZVZOb2RlKG5vZGUuYXJyYXlbaWR4XSwgb3duZXIpO1xuICAgIH1cbiAgICBub2RlLmFycmF5WyhvbGRUYWlsT2Zmc2V0ID4+PiBTSElGVCkgJiBNQVNLXSA9IG9sZFRhaWw7XG4gIH1cblxuICAvLyBJZiB0aGUgc2l6ZSBoYXMgYmVlbiByZWR1Y2VkLCB0aGVyZSdzIGEgY2hhbmNlIHRoZSB0YWlsIG5lZWRzIHRvIGJlIHRyaW1tZWQuXG4gIGlmIChuZXdDYXBhY2l0eSA8IG9sZENhcGFjaXR5KSB7XG4gICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVBZnRlcihvd25lciwgMCwgbmV3Q2FwYWNpdHkpO1xuICB9XG5cbiAgLy8gSWYgdGhlIG5ldyBvcmlnaW4gaXMgd2l0aGluIHRoZSB0YWlsLCB0aGVuIHdlIGRvIG5vdCBuZWVkIGEgcm9vdC5cbiAgaWYgKG5ld09yaWdpbiA+PSBuZXdUYWlsT2Zmc2V0KSB7XG4gICAgbmV3T3JpZ2luIC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgbmV3Q2FwYWNpdHkgLT0gbmV3VGFpbE9mZnNldDtcbiAgICBuZXdMZXZlbCA9IFNISUZUO1xuICAgIG5ld1Jvb3QgPSBudWxsO1xuICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQmVmb3JlKG93bmVyLCAwLCBuZXdPcmlnaW4pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgcm9vdCBoYXMgYmVlbiB0cmltbWVkLCBnYXJiYWdlIGNvbGxlY3QuXG4gIH0gZWxzZSBpZiAobmV3T3JpZ2luID4gb2xkT3JpZ2luIHx8IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgb2Zmc2V0U2hpZnQgPSAwO1xuXG4gICAgLy8gSWRlbnRpZnkgdGhlIG5ldyB0b3Agcm9vdCBub2RlIG9mIHRoZSBzdWJ0cmVlIG9mIHRoZSBvbGQgcm9vdC5cbiAgICB3aGlsZSAobmV3Um9vdCkge1xuICAgICAgdmFyIGJlZ2luSW5kZXggPSAobmV3T3JpZ2luID4+PiBuZXdMZXZlbCkgJiBNQVNLO1xuICAgICAgaWYgKChiZWdpbkluZGV4ICE9PSBuZXdUYWlsT2Zmc2V0ID4+PiBuZXdMZXZlbCkgJiBNQVNLKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGJlZ2luSW5kZXgpIHtcbiAgICAgICAgb2Zmc2V0U2hpZnQgKz0gKDEgPDwgbmV3TGV2ZWwpICogYmVnaW5JbmRleDtcbiAgICAgIH1cbiAgICAgIG5ld0xldmVsIC09IFNISUZUO1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QuYXJyYXlbYmVnaW5JbmRleF07XG4gICAgfVxuXG4gICAgLy8gVHJpbSB0aGUgbmV3IHNpZGVzIG9mIHRoZSBuZXcgcm9vdC5cbiAgICBpZiAobmV3Um9vdCAmJiBuZXdPcmlnaW4gPiBvbGRPcmlnaW4pIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUJlZm9yZShvd25lciwgbmV3TGV2ZWwsIG5ld09yaWdpbiAtIG9mZnNldFNoaWZ0KTtcbiAgICB9XG4gICAgaWYgKG5ld1Jvb3QgJiYgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUFmdGVyKFxuICAgICAgICBvd25lcixcbiAgICAgICAgbmV3TGV2ZWwsXG4gICAgICAgIG5ld1RhaWxPZmZzZXQgLSBvZmZzZXRTaGlmdFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgICBuZXdPcmlnaW4gLT0gb2Zmc2V0U2hpZnQ7XG4gICAgICBuZXdDYXBhY2l0eSAtPSBvZmZzZXRTaGlmdDtcbiAgICB9XG4gIH1cblxuICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICBsaXN0LnNpemUgPSBuZXdDYXBhY2l0eSAtIG5ld09yaWdpbjtcbiAgICBsaXN0Ll9vcmlnaW4gPSBuZXdPcmlnaW47XG4gICAgbGlzdC5fY2FwYWNpdHkgPSBuZXdDYXBhY2l0eTtcbiAgICBsaXN0Ll9sZXZlbCA9IG5ld0xldmVsO1xuICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuICByZXR1cm4gbWFrZUxpc3QobmV3T3JpZ2luLCBuZXdDYXBhY2l0eSwgbmV3TGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xufVxuXG5mdW5jdGlvbiBnZXRUYWlsT2Zmc2V0KHNpemUpIHtcbiAgcmV0dXJuIHNpemUgPCBTSVpFID8gMCA6ICgoc2l6ZSAtIDEpID4+PiBTSElGVCkgPDwgU0hJRlQ7XG59XG5cbnZhciBPcmRlcmVkTWFwID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWFwKSB7XG4gIGZ1bmN0aW9uIE9yZGVyZWRNYXAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eU9yZGVyZWRNYXAoKVxuICAgICAgOiBpc09yZGVyZWRNYXAodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IGVtcHR5T3JkZXJlZE1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gbWFwLnNldChrLCB2KTsgfSk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBNYXAgKSBPcmRlcmVkTWFwLl9fcHJvdG9fXyA9IE1hcDtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNYXAgJiYgTWFwLnByb3RvdHlwZSApO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yZGVyZWRNYXA7XG5cbiAgT3JkZXJlZE1hcC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkTWFwIHsnLCAnfScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrLCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX21hcC5nZXQoayk7XG4gICAgcmV0dXJuIGluZGV4ICE9PSB1bmRlZmluZWQgPyB0aGlzLl9saXN0LmdldChpbmRleClbMV0gOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICAgIHRoaXMuX2xpc3QuY2xlYXIoKTtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrLCB2KSB7XG4gICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgdik7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fbGlzdC5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5ICYmIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQxJDEpOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlzdC5mcm9tRW50cnlTZXEoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIHZhciBuZXdMaXN0ID0gdGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgdGhpcy5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIHJldHVybiBPcmRlcmVkTWFwO1xufShNYXApKTtcblxuT3JkZXJlZE1hcC5pc09yZGVyZWRNYXAgPSBpc09yZGVyZWRNYXA7XG5cbk9yZGVyZWRNYXAucHJvdG90eXBlW0lTX09SREVSRURfU1lNQk9MXSA9IHRydWU7XG5PcmRlcmVkTWFwLnByb3RvdHlwZVtERUxFVEVdID0gT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlO1xuXG5mdW5jdGlvbiBtYWtlT3JkZXJlZE1hcChtYXAsIGxpc3QsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIG9tYXAgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRNYXAucHJvdG90eXBlKTtcbiAgb21hcC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICBvbWFwLl9tYXAgPSBtYXA7XG4gIG9tYXAuX2xpc3QgPSBsaXN0O1xuICBvbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIG9tYXAuX19oYXNoID0gaGFzaDtcbiAgb21hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgcmV0dXJuIG9tYXA7XG59XG5cbnZhciBFTVBUWV9PUkRFUkVEX01BUDtcbmZ1bmN0aW9uIGVtcHR5T3JkZXJlZE1hcCgpIHtcbiAgcmV0dXJuIChcbiAgICBFTVBUWV9PUkRFUkVEX01BUCB8fFxuICAgIChFTVBUWV9PUkRFUkVEX01BUCA9IG1ha2VPcmRlcmVkTWFwKGVtcHR5TWFwKCksIGVtcHR5TGlzdCgpKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlT3JkZXJlZE1hcChvbWFwLCBrLCB2KSB7XG4gIHZhciBtYXAgPSBvbWFwLl9tYXA7XG4gIHZhciBsaXN0ID0gb21hcC5fbGlzdDtcbiAgdmFyIGkgPSBtYXAuZ2V0KGspO1xuICB2YXIgaGFzID0gaSAhPT0gdW5kZWZpbmVkO1xuICB2YXIgbmV3TWFwO1xuICB2YXIgbmV3TGlzdDtcbiAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAvLyByZW1vdmVkXG4gICAgaWYgKCFoYXMpIHtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICBpZiAobGlzdC5zaXplID49IFNJWkUgJiYgbGlzdC5zaXplID49IG1hcC5zaXplICogMikge1xuICAgICAgbmV3TGlzdCA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSwgaWR4KSB7IHJldHVybiBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIGkgIT09IGlkeDsgfSk7XG4gICAgICBuZXdNYXAgPSBuZXdMaXN0XG4gICAgICAgIC50b0tleWVkU2VxKClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5WzBdOyB9KVxuICAgICAgICAuZmxpcCgpXG4gICAgICAgIC50b01hcCgpO1xuICAgICAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgICAgIG5ld01hcC5fX293bmVySUQgPSBuZXdMaXN0Ll9fb3duZXJJRCA9IG9tYXAuX19vd25lcklEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdNYXAgPSBtYXAucmVtb3ZlKGspO1xuICAgICAgbmV3TGlzdCA9IGkgPT09IGxpc3Quc2l6ZSAtIDEgPyBsaXN0LnBvcCgpIDogbGlzdC5zZXQoaSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaGFzKSB7XG4gICAgaWYgKHYgPT09IGxpc3QuZ2V0KGkpWzFdKSB7XG4gICAgICByZXR1cm4gb21hcDtcbiAgICB9XG4gICAgbmV3TWFwID0gbWFwO1xuICAgIG5ld0xpc3QgPSBsaXN0LnNldChpLCBbaywgdl0pO1xuICB9IGVsc2Uge1xuICAgIG5ld01hcCA9IG1hcC5zZXQoaywgbGlzdC5zaXplKTtcbiAgICBuZXdMaXN0ID0gbGlzdC5zZXQobGlzdC5zaXplLCBbaywgdl0pO1xuICB9XG4gIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgIG9tYXAuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgIG9tYXAuX21hcCA9IG5ld01hcDtcbiAgICBvbWFwLl9saXN0ID0gbmV3TGlzdDtcbiAgICBvbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICBvbWFwLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgcmV0dXJuIG9tYXA7XG4gIH1cbiAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCk7XG59XG5cbnZhciBJU19TVEFDS19TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9TVEFDS19fQEAnO1xuXG5mdW5jdGlvbiBpc1N0YWNrKG1heWJlU3RhY2spIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVTdGFjayAmJiBtYXliZVN0YWNrW0lTX1NUQUNLX1NZTUJPTF0pO1xufVxuXG52YXIgU3RhY2sgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChJbmRleGVkQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBTdGFjayh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U3RhY2soKVxuICAgICAgOiBpc1N0YWNrKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBlbXB0eVN0YWNrKCkucHVzaEFsbCh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRDb2xsZWN0aW9uICkgU3RhY2suX19wcm90b19fID0gSW5kZXhlZENvbGxlY3Rpb247XG4gIFN0YWNrLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRDb2xsZWN0aW9uICYmIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBTdGFjay5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGFjaztcblxuICBTdGFjay5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU3RhY2sgWycsICddJyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHdoaWxlIChoZWFkICYmIGluZGV4LS0pIHtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBoZWFkID8gaGVhZC52YWx1ZSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gcGVlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYWQgJiYgdGhpcy5faGVhZC52YWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAoLyouLi52YWx1ZXMqLykge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgKyBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBmb3IgKHZhciBpaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpaSA+PSAwOyBpaS0tKSB7XG4gICAgICBoZWFkID0ge1xuICAgICAgICB2YWx1ZTogYXJndW1lbnRzJDFbaWldLFxuICAgICAgICBuZXh0OiBoZWFkLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb24gcHVzaEFsbCAoaXRlcikge1xuICAgIGl0ZXIgPSBJbmRleGVkQ29sbGVjdGlvbihpdGVyKTtcbiAgICBpZiAoaXRlci5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCAmJiBpc1N0YWNrKGl0ZXIpKSB7XG4gICAgICByZXR1cm4gaXRlcjtcbiAgICB9XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgaXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBuZXdTaXplKys7XG4gICAgICBoZWFkID0ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG5leHQ6IGhlYWQsXG4gICAgICB9O1xuICAgIH0sIC8qIHJldmVyc2UgKi8gdHJ1ZSk7XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5faGVhZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eVN0YWNrKCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgaWYgKHJlc29sdmVkRW5kICE9PSB0aGlzLnNpemUpIHtcbiAgICAgIC8vIHN1cGVyLnNsaWNlKGJlZ2luLCBlbmQpO1xuICAgICAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsIGJlZ2luLCBlbmQpO1xuICAgIH1cbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSAtIHJlc29sdmVkQmVnaW47XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIHdoaWxlIChyZXNvbHZlZEJlZ2luLS0pIHtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICBTdGFjay5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayh0aGlzLnNpemUsIHRoaXMuX2hlYWQsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKHRoaXMudG9BcnJheSgpKS5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCBrLCB0aGlzJDEkMSk7IH0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChmbihub2RlLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKHRoaXMudG9BcnJheSgpKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFN0YWNrO1xufShJbmRleGVkQ29sbGVjdGlvbikpO1xuXG5TdGFjay5pc1N0YWNrID0gaXNTdGFjaztcblxudmFyIFN0YWNrUHJvdG90eXBlID0gU3RhY2sucHJvdG90eXBlO1xuU3RhY2tQcm90b3R5cGVbSVNfU1RBQ0tfU1lNQk9MXSA9IHRydWU7XG5TdGFja1Byb3RvdHlwZS5zaGlmdCA9IFN0YWNrUHJvdG90eXBlLnBvcDtcblN0YWNrUHJvdG90eXBlLnVuc2hpZnQgPSBTdGFja1Byb3RvdHlwZS5wdXNoO1xuU3RhY2tQcm90b3R5cGUudW5zaGlmdEFsbCA9IFN0YWNrUHJvdG90eXBlLnB1c2hBbGw7XG5TdGFja1Byb3RvdHlwZS53aXRoTXV0YXRpb25zID0gd2l0aE11dGF0aW9ucztcblN0YWNrUHJvdG90eXBlLndhc0FsdGVyZWQgPSB3YXNBbHRlcmVkO1xuU3RhY2tQcm90b3R5cGUuYXNJbW11dGFibGUgPSBhc0ltbXV0YWJsZTtcblN0YWNrUHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gU3RhY2tQcm90b3R5cGUuYXNNdXRhYmxlID0gYXNNdXRhYmxlO1xuU3RhY2tQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBhcnIpIHtcbiAgcmV0dXJuIHJlc3VsdC51bnNoaWZ0KGFycik7XG59O1xuU3RhY2tQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iai5hc0ltbXV0YWJsZSgpO1xufTtcblxuZnVuY3Rpb24gbWFrZVN0YWNrKHNpemUsIGhlYWQsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoU3RhY2tQcm90b3R5cGUpO1xuICBtYXAuc2l6ZSA9IHNpemU7XG4gIG1hcC5faGVhZCA9IGhlYWQ7XG4gIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICBtYXAuX19oYXNoID0gaGFzaDtcbiAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbWFwO1xufVxuXG52YXIgRU1QVFlfU1RBQ0s7XG5mdW5jdGlvbiBlbXB0eVN0YWNrKCkge1xuICByZXR1cm4gRU1QVFlfU1RBQ0sgfHwgKEVNUFRZX1NUQUNLID0gbWFrZVN0YWNrKDApKTtcbn1cblxudmFyIElTX1NFVF9TWU1CT0wgPSAnQEBfX0lNTVVUQUJMRV9TRVRfX0BAJztcblxuZnVuY3Rpb24gaXNTZXQobWF5YmVTZXQpIHtcbiAgcmV0dXJuIEJvb2xlYW4obWF5YmVTZXQgJiYgbWF5YmVTZXRbSVNfU0VUX1NZTUJPTF0pO1xufVxuXG5mdW5jdGlvbiBpc09yZGVyZWRTZXQobWF5YmVPcmRlcmVkU2V0KSB7XG4gIHJldHVybiBpc1NldChtYXliZU9yZGVyZWRTZXQpICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRTZXQpO1xufVxuXG5mdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKFxuICAgICFpc0NvbGxlY3Rpb24oYikgfHxcbiAgICAoYS5zaXplICE9PSB1bmRlZmluZWQgJiYgYi5zaXplICE9PSB1bmRlZmluZWQgJiYgYS5zaXplICE9PSBiLnNpemUpIHx8XG4gICAgKGEuX19oYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGIuX19oYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGEuX19oYXNoICE9PSBiLl9faGFzaCkgfHxcbiAgICBpc0tleWVkKGEpICE9PSBpc0tleWVkKGIpIHx8XG4gICAgaXNJbmRleGVkKGEpICE9PSBpc0luZGV4ZWQoYikgfHxcbiAgICBpc09yZGVyZWQoYSkgIT09IGlzT3JkZXJlZChiKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYS5zaXplID09PSAwICYmIGIuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIG5vdEFzc29jaWF0aXZlID0gIWlzQXNzb2NpYXRpdmUoYSk7XG5cbiAgaWYgKGlzT3JkZXJlZChhKSkge1xuICAgIHZhciBlbnRyaWVzID0gYS5lbnRyaWVzKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIGIuZXZlcnkoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllcy5uZXh0KCkudmFsdWU7XG4gICAgICAgIHJldHVybiBlbnRyeSAmJiBpcyhlbnRyeVsxXSwgdikgJiYgKG5vdEFzc29jaWF0aXZlIHx8IGlzKGVudHJ5WzBdLCBrKSk7XG4gICAgICB9KSAmJiBlbnRyaWVzLm5leHQoKS5kb25lXG4gICAgKTtcbiAgfVxuXG4gIHZhciBmbGlwcGVkID0gZmFsc2U7XG5cbiAgaWYgKGEuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodHlwZW9mIGEuY2FjaGVSZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYS5jYWNoZVJlc3VsdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmbGlwcGVkID0gdHJ1ZTtcbiAgICAgIHZhciBfID0gYTtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IF87XG4gICAgfVxuICB9XG5cbiAgdmFyIGFsbEVxdWFsID0gdHJ1ZTtcbiAgdmFyIGJTaXplID0gYi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICBpZiAoXG4gICAgICBub3RBc3NvY2lhdGl2ZVxuICAgICAgICA/ICFhLmhhcyh2KVxuICAgICAgICA6IGZsaXBwZWRcbiAgICAgICAgPyAhaXModiwgYS5nZXQoaywgTk9UX1NFVCkpXG4gICAgICAgIDogIWlzKGEuZ2V0KGssIE5PVF9TRVQpLCB2KVxuICAgICkge1xuICAgICAgYWxsRXF1YWwgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhbGxFcXVhbCAmJiBhLnNpemUgPT09IGJTaXplO1xufVxuXG5mdW5jdGlvbiBtaXhpbihjdG9yLCBtZXRob2RzKSB7XG4gIHZhciBrZXlDb3BpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgY3Rvci5wcm90b3R5cGVba2V5XSA9IG1ldGhvZHNba2V5XTtcbiAgfTtcbiAgT2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmXG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gIHJldHVybiBjdG9yO1xufVxuXG5mdW5jdGlvbiB0b0pTKHZhbHVlKSB7XG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoIWlzQ29sbGVjdGlvbih2YWx1ZSkpIHtcbiAgICBpZiAoIWlzRGF0YVN0cnVjdHVyZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdmFsdWUgPSBTZXEodmFsdWUpO1xuICB9XG4gIGlmIChpc0tleWVkKHZhbHVlKSkge1xuICAgIHZhciByZXN1bHQkMSA9IHt9O1xuICAgIHZhbHVlLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgcmVzdWx0JDFba10gPSB0b0pTKHYpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQkMTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhbHVlLl9faXRlcmF0ZShmdW5jdGlvbiAodikge1xuICAgIHJlc3VsdC5wdXNoKHRvSlModikpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIFNldCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNldENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXQoKVxuICAgICAgOiBpc1NldCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogZW1wdHlTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgICB2YXIgaXRlciA9IFNldENvbGxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBzZXQuYWRkKHYpOyB9KTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIFNldENvbGxlY3Rpb24gKSBTZXQuX19wcm90b19fID0gU2V0Q29sbGVjdGlvbjtcbiAgU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNldENvbGxlY3Rpb24gJiYgU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldDtcblxuICBTZXQub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU2V0LmZyb21LZXlzID0gZnVuY3Rpb24gZnJvbUtleXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMoS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKS5rZXlTZXEoKSk7XG4gIH07XG5cbiAgU2V0LmludGVyc2VjdCA9IGZ1bmN0aW9uIGludGVyc2VjdCAoc2V0cykge1xuICAgIHNldHMgPSBDb2xsZWN0aW9uKHNldHMpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gc2V0cy5sZW5ndGhcbiAgICAgID8gU2V0UHJvdG90eXBlLmludGVyc2VjdC5hcHBseShTZXQoc2V0cy5wb3AoKSksIHNldHMpXG4gICAgICA6IGVtcHR5U2V0KCk7XG4gIH07XG5cbiAgU2V0LnVuaW9uID0gZnVuY3Rpb24gdW5pb24gKHNldHMpIHtcbiAgICBzZXRzID0gQ29sbGVjdGlvbihzZXRzKS50b0FycmF5KCk7XG4gICAgcmV0dXJuIHNldHMubGVuZ3RoXG4gICAgICA/IFNldFByb3RvdHlwZS51bmlvbi5hcHBseShTZXQoc2V0cy5wb3AoKSksIHNldHMpXG4gICAgICA6IGVtcHR5U2V0KCk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXQgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAodmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5zZXQodmFsdWUsIHZhbHVlKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAucmVtb3ZlKHZhbHVlKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5jbGVhcigpKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgU2V0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICAvLyBrZWVwIHRyYWNrIGlmIHRoZSBzZXQgaXMgYWx0ZXJlZCBieSB0aGUgbWFwIGZ1bmN0aW9uXG4gICAgdmFyIGRpZENoYW5nZXMgPSBmYWxzZTtcblxuICAgIHZhciBuZXdNYXAgPSB1cGRhdGVTZXQoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy5fbWFwLm1hcEVudHJpZXMoZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB2YXIgdiA9IHJlZlsxXTtcblxuICAgICAgICB2YXIgbWFwcGVkID0gbWFwcGVyLmNhbGwoY29udGV4dCwgdiwgdiwgdGhpcyQxJDEpO1xuXG4gICAgICAgIGlmIChtYXBwZWQgIT09IHYpIHtcbiAgICAgICAgICBkaWRDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbbWFwcGVkLCBtYXBwZWRdO1xuICAgICAgfSwgY29udGV4dClcbiAgICApO1xuXG4gICAgcmV0dXJuIGRpZENoYW5nZXMgPyBuZXdNYXAgOiB0aGlzO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbiB1bmlvbiAoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zaXplICE9PSAwOyB9KTtcbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCAmJiAhdGhpcy5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBTZXRDb2xsZWN0aW9uKGl0ZXJzW2lpXSkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHNldC5hZGQodmFsdWUpOyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLmludGVyc2VjdCA9IGZ1bmN0aW9uIGludGVyc2VjdCAoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXRlcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIFNldENvbGxlY3Rpb24oaXRlcik7IH0pO1xuICAgIHZhciB0b1JlbW92ZSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXRlcnMuZXZlcnkoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KSkge1xuICAgICAgICB0b1JlbW92ZS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0ICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gU2V0Q29sbGVjdGlvbihpdGVyKTsgfSk7XG4gICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKGl0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KSkge1xuICAgICAgICB0b1JlbW92ZS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gc29ydCAoY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIHNvcnRCeSAobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24gd2FzQWx0ZXJlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9tYXAuX19pdGVyYXRlKGZ1bmN0aW9uIChrKSB7IHJldHVybiBmbihrLCBrLCB0aGlzJDEkMSk7IH0sIHJldmVyc2UpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19lbXB0eSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9fbWFrZShuZXdNYXAsIG93bmVySUQpO1xuICB9O1xuXG4gIHJldHVybiBTZXQ7XG59KFNldENvbGxlY3Rpb24pKTtcblxuU2V0LmlzU2V0ID0gaXNTZXQ7XG5cbnZhciBTZXRQcm90b3R5cGUgPSBTZXQucHJvdG90eXBlO1xuU2V0UHJvdG90eXBlW0lTX1NFVF9TWU1CT0xdID0gdHJ1ZTtcblNldFByb3RvdHlwZVtERUxFVEVdID0gU2V0UHJvdG90eXBlLnJlbW92ZTtcblNldFByb3RvdHlwZS5tZXJnZSA9IFNldFByb3RvdHlwZS5jb25jYXQgPSBTZXRQcm90b3R5cGUudW5pb247XG5TZXRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IHdpdGhNdXRhdGlvbnM7XG5TZXRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBhc0ltbXV0YWJsZTtcblNldFByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IFNldFByb3RvdHlwZS5hc011dGFibGUgPSBhc011dGFibGU7XG5TZXRQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBhcnIpIHtcbiAgcmV0dXJuIHJlc3VsdC5hZGQoYXJyKTtcbn07XG5TZXRQcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iai5hc0ltbXV0YWJsZSgpO1xufTtcblxuU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eVNldDtcblNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlU2V0O1xuXG5mdW5jdGlvbiB1cGRhdGVTZXQoc2V0LCBuZXdNYXApIHtcbiAgaWYgKHNldC5fX293bmVySUQpIHtcbiAgICBzZXQuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgIHNldC5fbWFwID0gbmV3TWFwO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cbiAgcmV0dXJuIG5ld01hcCA9PT0gc2V0Ll9tYXBcbiAgICA/IHNldFxuICAgIDogbmV3TWFwLnNpemUgPT09IDBcbiAgICA/IHNldC5fX2VtcHR5KClcbiAgICA6IHNldC5fX21ha2UobmV3TWFwKTtcbn1cblxuZnVuY3Rpb24gbWFrZVNldChtYXAsIG93bmVySUQpIHtcbiAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoU2V0UHJvdG90eXBlKTtcbiAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIHNldC5fbWFwID0gbWFwO1xuICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgcmV0dXJuIHNldDtcbn1cblxudmFyIEVNUFRZX1NFVDtcbmZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICByZXR1cm4gRU1QVFlfU0VUIHx8IChFTVBUWV9TRVQgPSBtYWtlU2V0KGVtcHR5TWFwKCkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF6eSBzZXEgb2YgbnVtcyBmcm9tIHN0YXJ0IChpbmNsdXNpdmUpIHRvIGVuZFxuICogKGV4Y2x1c2l2ZSksIGJ5IHN0ZXAsIHdoZXJlIHN0YXJ0IGRlZmF1bHRzIHRvIDAsIHN0ZXAgdG8gMSwgYW5kIGVuZCB0b1xuICogaW5maW5pdHkuIFdoZW4gc3RhcnQgaXMgZXF1YWwgdG8gZW5kLCByZXR1cm5zIGVtcHR5IGxpc3QuXG4gKi9cbnZhciBSYW5nZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCk7XG4gICAgfVxuICAgIGludmFyaWFudChzdGVwICE9PSAwLCAnQ2Fubm90IHN0ZXAgYSBSYW5nZSBieSAwJyk7XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZW5kID0gSW5maW5pdHk7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAxIDogTWF0aC5hYnMoc3RlcCk7XG4gICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICBzdGVwID0gLXN0ZXA7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5fZW5kID0gZW5kO1xuICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICAgIHRoaXMuc2l6ZSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoZW5kIC0gc3RhcnQpIC8gc3RlcCAtIDEpICsgMSk7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKEVNUFRZX1JBTkdFKSB7XG4gICAgICAgIHJldHVybiBFTVBUWV9SQU5HRTtcbiAgICAgIH1cbiAgICAgIEVNUFRZX1JBTkdFID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBSYW5nZS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBSYW5nZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIFJhbmdlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlO1xuXG4gIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1JhbmdlIFtdJztcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICdSYW5nZSBbICcgK1xuICAgICAgdGhpcy5fc3RhcnQgK1xuICAgICAgJy4uLicgK1xuICAgICAgdGhpcy5fZW5kICtcbiAgICAgICh0aGlzLl9zdGVwICE9PSAxID8gJyBieSAnICsgdGhpcy5fc3RlcCA6ICcnKSArXG4gICAgICAnIF0nXG4gICAgKTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpXG4gICAgICA/IHRoaXMuX3N0YXJ0ICsgd3JhcEluZGV4KHRoaXMsIGluZGV4KSAqIHRoaXMuX3N0ZXBcbiAgICAgIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIHBvc3NpYmxlSW5kZXggPSAoc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydCkgLyB0aGlzLl9zdGVwO1xuICAgIHJldHVybiAoXG4gICAgICBwb3NzaWJsZUluZGV4ID49IDAgJiZcbiAgICAgIHBvc3NpYmxlSW5kZXggPCB0aGlzLnNpemUgJiZcbiAgICAgIHBvc3NpYmxlSW5kZXggPT09IE1hdGguZmxvb3IocG9zc2libGVJbmRleClcbiAgICApO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgIGVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgIGlmIChlbmQgPD0gYmVnaW4pIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoMCwgMCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmFuZ2UoXG4gICAgICB0aGlzLmdldChiZWdpbiwgdGhpcy5fZW5kKSxcbiAgICAgIHRoaXMuZ2V0KGVuZCwgdGhpcy5fZW5kKSxcbiAgICAgIHRoaXMuX3N0ZXBcbiAgICApO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIgb2Zmc2V0VmFsdWUgPSBzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0O1xuICAgIGlmIChvZmZzZXRWYWx1ZSAlIHRoaXMuX3N0ZXAgPT09IDApIHtcbiAgICAgIHZhciBpbmRleCA9IG9mZnNldFZhbHVlIC8gdGhpcy5fc3RlcDtcbiAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoVmFsdWUpO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgIHZhciB2YWx1ZSA9IHJldmVyc2UgPyB0aGlzLl9zdGFydCArIChzaXplIC0gMSkgKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICBpZiAoZm4odmFsdWUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgKHNpemUgLSAxKSAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgdiA9IHZhbHVlO1xuICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB2KTtcbiAgICB9KTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJhbmdlXG4gICAgICA/IHRoaXMuX3N0YXJ0ID09PSBvdGhlci5fc3RhcnQgJiZcbiAgICAgICAgICB0aGlzLl9lbmQgPT09IG90aGVyLl9lbmQgJiZcbiAgICAgICAgICB0aGlzLl9zdGVwID09PSBvdGhlci5fc3RlcFxuICAgICAgOiBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgRU1QVFlfUkFOR0U7XG5cbmZ1bmN0aW9uIGdldEluJDEoY29sbGVjdGlvbiwgc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpIHtcbiAgdmFyIGtleVBhdGggPSBjb2VyY2VLZXlQYXRoKHNlYXJjaEtleVBhdGgpO1xuICB2YXIgaSA9IDA7XG4gIHdoaWxlIChpICE9PSBrZXlQYXRoLmxlbmd0aCkge1xuICAgIGNvbGxlY3Rpb24gPSBnZXQoY29sbGVjdGlvbiwga2V5UGF0aFtpKytdLCBOT1RfU0VUKTtcbiAgICBpZiAoY29sbGVjdGlvbiA9PT0gTk9UX1NFVCkge1xuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gZ2V0SW4oc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpIHtcbiAgcmV0dXJuIGdldEluJDEodGhpcywgc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpO1xufVxuXG5mdW5jdGlvbiBoYXNJbiQxKGNvbGxlY3Rpb24sIGtleVBhdGgpIHtcbiAgcmV0dXJuIGdldEluJDEoY29sbGVjdGlvbiwga2V5UGF0aCwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG59XG5cbmZ1bmN0aW9uIGhhc0luKHNlYXJjaEtleVBhdGgpIHtcbiAgcmV0dXJuIGhhc0luJDEodGhpcywgc2VhcmNoS2V5UGF0aCk7XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICB2YXIgb2JqZWN0ID0ge307XG4gIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgb2JqZWN0W2tdID0gdjtcbiAgfSk7XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8vIE5vdGU6IGFsbCBvZiB0aGVzZSBtZXRob2RzIGFyZSBkZXByZWNhdGVkLlxuQ29sbGVjdGlvbi5pc0l0ZXJhYmxlID0gaXNDb2xsZWN0aW9uO1xuQ29sbGVjdGlvbi5pc0tleWVkID0gaXNLZXllZDtcbkNvbGxlY3Rpb24uaXNJbmRleGVkID0gaXNJbmRleGVkO1xuQ29sbGVjdGlvbi5pc0Fzc29jaWF0aXZlID0gaXNBc3NvY2lhdGl2ZTtcbkNvbGxlY3Rpb24uaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xuXG5Db2xsZWN0aW9uLkl0ZXJhdG9yID0gSXRlcmF0b3I7XG5cbm1peGluKENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHRoaXMuc2l6ZSB8fCAwKTtcbiAgICB2YXIgdXNlVHVwbGVzID0gaXNLZXllZCh0aGlzKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgIC8vIEtleWVkIGNvbGxlY3Rpb25zIHByb2R1Y2UgYW4gYXJyYXkgb2YgdHVwbGVzLlxuICAgICAgYXJyYXlbaSsrXSA9IHVzZVR1cGxlcyA/IFtrLCB2XSA6IHY7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9LFxuXG4gIHRvSW5kZXhlZFNlcTogZnVuY3Rpb24gdG9JbmRleGVkU2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9JbmRleGVkU2VxdWVuY2UodGhpcyk7XG4gIH0sXG5cbiAgdG9KUzogZnVuY3Rpb24gdG9KUyQxKCkge1xuICAgIHJldHVybiB0b0pTKHRoaXMpO1xuICB9LFxuXG4gIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uIHRvS2V5ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgdHJ1ZSk7XG4gIH0sXG5cbiAgdG9NYXA6IGZ1bmN0aW9uIHRvTWFwKCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgfSxcblxuICB0b09iamVjdDogdG9PYmplY3QsXG5cbiAgdG9PcmRlcmVkTWFwOiBmdW5jdGlvbiB0b09yZGVyZWRNYXAoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBPcmRlcmVkTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgfSxcblxuICB0b09yZGVyZWRTZXQ6IGZ1bmN0aW9uIHRvT3JkZXJlZFNldCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIHRvU2V0OiBmdW5jdGlvbiB0b1NldCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9TZXRTZXE6IGZ1bmN0aW9uIHRvU2V0U2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9TZXRTZXF1ZW5jZSh0aGlzKTtcbiAgfSxcblxuICB0b1NlcTogZnVuY3Rpb24gdG9TZXEoKSB7XG4gICAgcmV0dXJuIGlzSW5kZXhlZCh0aGlzKVxuICAgICAgPyB0aGlzLnRvSW5kZXhlZFNlcSgpXG4gICAgICA6IGlzS2V5ZWQodGhpcylcbiAgICAgID8gdGhpcy50b0tleWVkU2VxKClcbiAgICAgIDogdGhpcy50b1NldFNlcSgpO1xuICB9LFxuXG4gIHRvU3RhY2s6IGZ1bmN0aW9uIHRvU3RhY2soKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBTdGFjayhpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9MaXN0OiBmdW5jdGlvbiB0b0xpc3QoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBMaXN0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICAvLyAjIyMgQ29tbW9uIEphdmFTY3JpcHQgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tDb2xsZWN0aW9uXSc7XG4gIH0sXG5cbiAgX190b1N0cmluZzogZnVuY3Rpb24gX190b1N0cmluZyhoZWFkLCB0YWlsKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGhlYWQgKyB0YWlsO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgaGVhZCArXG4gICAgICAnICcgK1xuICAgICAgdGhpcy50b1NlcSgpLm1hcCh0aGlzLl9fdG9TdHJpbmdNYXBwZXIpLmpvaW4oJywgJykgK1xuICAgICAgJyAnICtcbiAgICAgIHRhaWxcbiAgICApO1xuICB9LFxuXG4gIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgdmFsdWVzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIHZhbHVlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGNvbmNhdEZhY3RvcnkodGhpcywgdmFsdWVzKSk7XG4gIH0sXG5cbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuc29tZShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSk7IH0pO1xuICB9LFxuXG4gIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xuICB9LFxuXG4gIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gIH0sXG5cbiAgZm9yRWFjaDogZnVuY3Rpb24gZm9yRWFjaChzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGUoY29udGV4dCA/IHNpZGVFZmZlY3QuYmluZChjb250ZXh0KSA6IHNpZGVFZmZlY3QpO1xuICB9LFxuXG4gIGpvaW46IGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/ICcnICsgc2VwYXJhdG9yIDogJywnO1xuICAgIHZhciBqb2luZWQgPSAnJztcbiAgICB2YXIgaXNGaXJzdCA9IHRydWU7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYpIHtcbiAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgIGpvaW5lZCArPSB2ICE9PSBudWxsICYmIHYgIT09IHVuZGVmaW5lZCA/IHYudG9TdHJpbmcoKSA6ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiBqb2luZWQ7XG4gIH0sXG5cbiAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfS0VZUyk7XG4gIH0sXG5cbiAgbWFwOiBmdW5jdGlvbiBtYXAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gIH0sXG5cbiAgcmVkdWNlOiBmdW5jdGlvbiByZWR1Y2UkMShyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlZHVjZShcbiAgICAgIHRoaXMsXG4gICAgICByZWR1Y2VyLFxuICAgICAgaW5pdGlhbFJlZHVjdGlvbixcbiAgICAgIGNvbnRleHQsXG4gICAgICBhcmd1bWVudHMubGVuZ3RoIDwgMixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSxcblxuICByZWR1Y2VSaWdodDogZnVuY3Rpb24gcmVkdWNlUmlnaHQocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgIHJldHVybiByZWR1Y2UoXG4gICAgICB0aGlzLFxuICAgICAgcmVkdWNlcixcbiAgICAgIGluaXRpYWxSZWR1Y3Rpb24sXG4gICAgICBjb250ZXh0LFxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA8IDIsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcblxuICByZXZlcnNlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKSk7XG4gIH0sXG5cbiAgc2xpY2U6IGZ1bmN0aW9uIHNsaWNlKGJlZ2luLCBlbmQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIHRydWUpKTtcbiAgfSxcblxuICBzb21lOiBmdW5jdGlvbiBzb21lKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiAhdGhpcy5ldmVyeShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfSxcblxuICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICBidXRMYXN0OiBmdW5jdGlvbiBidXRMYXN0KCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIC0xKTtcbiAgfSxcblxuICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/IHRoaXMuc2l6ZSA9PT0gMCA6ICF0aGlzLnNvbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gIH0sXG5cbiAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBlbnN1cmVTaXplKFxuICAgICAgcHJlZGljYXRlID8gdGhpcy50b1NlcSgpLmZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIDogdGhpc1xuICAgICk7XG4gIH0sXG5cbiAgY291bnRCeTogZnVuY3Rpb24gY291bnRCeShncm91cGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvdW50QnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICB9LFxuXG4gIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gIH0sXG5cbiAgZW50cnlTZXE6IGZ1bmN0aW9uIGVudHJ5U2VxKCkge1xuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcztcbiAgICBpZiAoY29sbGVjdGlvbi5fY2FjaGUpIHtcbiAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKGNvbGxlY3Rpb24uX2NhY2hlKTtcbiAgICB9XG4gICAgdmFyIGVudHJpZXNTZXF1ZW5jZSA9IGNvbGxlY3Rpb24udG9TZXEoKS5tYXAoZW50cnlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIGVudHJpZXNTZXF1ZW5jZS5mcm9tRW50cnlTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLnRvU2VxKCk7IH07XG4gICAgcmV0dXJuIGVudHJpZXNTZXF1ZW5jZTtcbiAgfSxcblxuICBmaWx0ZXJOb3Q6IGZ1bmN0aW9uIGZpbHRlck5vdChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIGZpbmRFbnRyeTogZnVuY3Rpb24gZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgZm91bmQgPSBub3RTZXRWYWx1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgIGZvdW5kID0gW2ssIHZdO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9LFxuXG4gIGZpbmRLZXk6IGZ1bmN0aW9uIGZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gIH0sXG5cbiAgZmluZExhc3Q6IGZ1bmN0aW9uIGZpbmRMYXN0KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZmluZExhc3RFbnRyeTogZnVuY3Rpb24gZmluZExhc3RFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGZpbmRMYXN0S2V5OiBmdW5jdGlvbiBmaW5kTGFzdEtleShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgfSxcblxuICBmaXJzdDogZnVuY3Rpb24gZmlyc3Qobm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHJldHVyblRydWUsIG51bGwsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBmbGF0TWFwOiBmdW5jdGlvbiBmbGF0TWFwKG1hcHBlciwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0TWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgfSxcblxuICBmbGF0dGVuOiBmdW5jdGlvbiBmbGF0dGVuKGRlcHRoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCB0cnVlKSk7XG4gIH0sXG5cbiAgZnJvbUVudHJ5U2VxOiBmdW5jdGlvbiBmcm9tRW50cnlTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBGcm9tRW50cmllc1NlcXVlbmNlKHRoaXMpO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KHNlYXJjaEtleSwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKGZ1bmN0aW9uIChfLCBrZXkpIHsgcmV0dXJuIGlzKGtleSwgc2VhcmNoS2V5KTsgfSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZ2V0SW46IGdldEluLFxuXG4gIGdyb3VwQnk6IGZ1bmN0aW9uIGdyb3VwQnkoZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHJldHVybiBncm91cEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIGhhcyhzZWFyY2hLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoc2VhcmNoS2V5LCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgfSxcblxuICBoYXNJbjogaGFzSW4sXG5cbiAgaXNTdWJzZXQ6IGZ1bmN0aW9uIGlzU3Vic2V0KGl0ZXIpIHtcbiAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogQ29sbGVjdGlvbihpdGVyKTtcbiAgICByZXR1cm4gdGhpcy5ldmVyeShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KTtcbiAgfSxcblxuICBpc1N1cGVyc2V0OiBmdW5jdGlvbiBpc1N1cGVyc2V0KGl0ZXIpIHtcbiAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaXNTdWJzZXQgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogQ29sbGVjdGlvbihpdGVyKTtcbiAgICByZXR1cm4gaXRlci5pc1N1YnNldCh0aGlzKTtcbiAgfSxcblxuICBrZXlPZjogZnVuY3Rpb24ga2V5T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKTsgfSk7XG4gIH0sXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoa2V5TWFwcGVyKS50b0luZGV4ZWRTZXEoKTtcbiAgfSxcblxuICBsYXN0OiBmdW5jdGlvbiBsYXN0KG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmlyc3Qobm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGxhc3RLZXlPZjogZnVuY3Rpb24gbGFzdEtleU9mKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gIH0sXG5cbiAgbWF4OiBmdW5jdGlvbiBtYXgoY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpO1xuICB9LFxuXG4gIG1heEJ5OiBmdW5jdGlvbiBtYXhCeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpO1xuICB9LFxuXG4gIG1pbjogZnVuY3Rpb24gbWluKGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeShcbiAgICAgIHRoaXMsXG4gICAgICBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3JcbiAgICApO1xuICB9LFxuXG4gIG1pbkJ5OiBmdW5jdGlvbiBtaW5CeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeShcbiAgICAgIHRoaXMsXG4gICAgICBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3IsXG4gICAgICBtYXBwZXJcbiAgICApO1xuICB9LFxuXG4gIHJlc3Q6IGZ1bmN0aW9uIHJlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gIH0sXG5cbiAgc2tpcDogZnVuY3Rpb24gc2tpcChhbW91bnQpIHtcbiAgICByZXR1cm4gYW1vdW50ID09PSAwID8gdGhpcyA6IHRoaXMuc2xpY2UoTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgc2tpcExhc3Q6IGZ1bmN0aW9uIHNraXBMYXN0KGFtb3VudCkge1xuICAgIHJldHVybiBhbW91bnQgPT09IDAgPyB0aGlzIDogdGhpcy5zbGljZSgwLCAtTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgc2tpcFdoaWxlOiBmdW5jdGlvbiBza2lwV2hpbGUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gIH0sXG5cbiAgc2tpcFVudGlsOiBmdW5jdGlvbiBza2lwVW50aWwocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpcFdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICBzb3J0Qnk6IGZ1bmN0aW9uIHNvcnRCeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH0sXG5cbiAgdGFrZTogZnVuY3Rpb24gdGFrZShhbW91bnQpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICB0YWtlTGFzdDogZnVuY3Rpb24gdGFrZUxhc3QoYW1vdW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoLU1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHRha2VXaGlsZTogZnVuY3Rpb24gdGFrZVdoaWxlKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB0YWtlV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCkpO1xuICB9LFxuXG4gIHRha2VVbnRpbDogZnVuY3Rpb24gdGFrZVVudGlsKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLnRha2VXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZm4pIHtcbiAgICByZXR1cm4gZm4odGhpcyk7XG4gIH0sXG5cbiAgdmFsdWVTZXE6IGZ1bmN0aW9uIHZhbHVlU2VxKCkge1xuICAgIHJldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpO1xuICB9LFxuXG4gIC8vICMjIyBIYXNoYWJsZSBPYmplY3RcblxuICBoYXNoQ29kZTogZnVuY3Rpb24gaGFzaENvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19oYXNoIHx8ICh0aGlzLl9faGFzaCA9IGhhc2hDb2xsZWN0aW9uKHRoaXMpKTtcbiAgfSxcblxuICAvLyAjIyMgSW50ZXJuYWxcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGUoZm4sIHJldmVyc2UpXG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKVxufSk7XG5cbnZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5Db2xsZWN0aW9uUHJvdG90eXBlW0lTX0NPTExFQ1RJT05fU1lNQk9MXSA9IHRydWU7XG5Db2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBDb2xsZWN0aW9uUHJvdG90eXBlLnZhbHVlcztcbkNvbGxlY3Rpb25Qcm90b3R5cGUudG9KU09OID0gQ29sbGVjdGlvblByb3RvdHlwZS50b0FycmF5O1xuQ29sbGVjdGlvblByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gcXVvdGVTdHJpbmc7XG5Db2xsZWN0aW9uUHJvdG90eXBlLmluc3BlY3QgPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xufTtcbkNvbGxlY3Rpb25Qcm90b3R5cGUuY2hhaW4gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmZsYXRNYXA7XG5Db2xsZWN0aW9uUHJvdG90eXBlLmNvbnRhaW5zID0gQ29sbGVjdGlvblByb3RvdHlwZS5pbmNsdWRlcztcblxubWl4aW4oS2V5ZWRDb2xsZWN0aW9uLCB7XG4gIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gIGZsaXA6IGZ1bmN0aW9uIGZsaXAoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsaXBGYWN0b3J5KHRoaXMpKTtcbiAgfSxcblxuICBtYXBFbnRyaWVzOiBmdW5jdGlvbiBtYXBFbnRyaWVzKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudG9TZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBbaywgdl0sIGl0ZXJhdGlvbnMrKywgdGhpcyQxJDEpOyB9KVxuICAgICAgICAuZnJvbUVudHJ5U2VxKClcbiAgICApO1xuICB9LFxuXG4gIG1hcEtleXM6IGZ1bmN0aW9uIG1hcEtleXMobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICAgIHJldHVybiByZWlmeShcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnRvU2VxKClcbiAgICAgICAgLmZsaXAoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChrLCB2KSB7IHJldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBrLCB2LCB0aGlzJDEkMSk7IH0pXG4gICAgICAgIC5mbGlwKClcbiAgICApO1xuICB9LFxufSk7XG5cbnZhciBLZXllZENvbGxlY3Rpb25Qcm90b3R5cGUgPSBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlO1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lTX0tFWUVEX1NZTUJPTF0gPSB0cnVlO1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmVudHJpZXM7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGUudG9KU09OID0gdG9PYmplY3Q7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBxdW90ZVN0cmluZyhrKSArICc6ICcgKyBxdW90ZVN0cmluZyh2KTsgfTtcblxubWl4aW4oSW5kZXhlZENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICB0b0tleWVkU2VxOiBmdW5jdGlvbiB0b0tleWVkU2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIGZhbHNlKTtcbiAgfSxcblxuICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICB9LFxuXG4gIGZpbmRJbmRleDogZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgfSxcblxuICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIGtleSA9IHRoaXMua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICB9LFxuXG4gIGxhc3RJbmRleE9mOiBmdW5jdGlvbiBsYXN0SW5kZXhPZihzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBrZXkgPSB0aGlzLmxhc3RLZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gIH0sXG5cbiAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgZmFsc2UpKTtcbiAgfSxcblxuICBzbGljZTogZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgZmFsc2UpKTtcbiAgfSxcblxuICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShpbmRleCwgcmVtb3ZlTnVtIC8qLCAuLi52YWx1ZXMqLykge1xuICAgIHZhciBudW1BcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZW1vdmVOdW0gPSBNYXRoLm1heChyZW1vdmVOdW0gfHwgMCwgMCk7XG4gICAgaWYgKG51bUFyZ3MgPT09IDAgfHwgKG51bUFyZ3MgPT09IDIgJiYgIXJlbW92ZU51bSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBJZiBpbmRleCBpcyBuZWdhdGl2ZSwgaXQgc2hvdWxkIHJlc29sdmUgcmVsYXRpdmUgdG8gdGhlIHNpemUgb2YgdGhlXG4gICAgLy8gY29sbGVjdGlvbi4gSG93ZXZlciBzaXplIG1heSBiZSBleHBlbnNpdmUgdG8gY29tcHV0ZSBpZiBub3QgY2FjaGVkLCBzb1xuICAgIC8vIG9ubHkgY2FsbCBjb3VudCgpIGlmIHRoZSBudW1iZXIgaXMgaW4gZmFjdCBuZWdhdGl2ZS5cbiAgICBpbmRleCA9IHJlc29sdmVCZWdpbihpbmRleCwgaW5kZXggPCAwID8gdGhpcy5jb3VudCgpIDogdGhpcy5zaXplKTtcbiAgICB2YXIgc3BsaWNlZCA9IHRoaXMuc2xpY2UoMCwgaW5kZXgpO1xuICAgIHJldHVybiByZWlmeShcbiAgICAgIHRoaXMsXG4gICAgICBudW1BcmdzID09PSAxXG4gICAgICAgID8gc3BsaWNlZFxuICAgICAgICA6IHNwbGljZWQuY29uY2F0KGFyckNvcHkoYXJndW1lbnRzLCAyKSwgdGhpcy5zbGljZShpbmRleCArIHJlbW92ZU51bSkpXG4gICAgKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBjb2xsZWN0aW9uIG1ldGhvZHNcblxuICBmaW5kTGFzdEluZGV4OiBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZExhc3RFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzBdIDogLTE7XG4gIH0sXG5cbiAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KDAsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBmbGF0dGVuOiBmdW5jdGlvbiBmbGF0dGVuKGRlcHRoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCBmYWxzZSkpO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICByZXR1cm4gaW5kZXggPCAwIHx8XG4gICAgICB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8XG4gICAgICAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPiB0aGlzLnNpemUpXG4gICAgICA/IG5vdFNldFZhbHVlXG4gICAgICA6IHRoaXMuZmluZChmdW5jdGlvbiAoXywga2V5KSB7IHJldHVybiBrZXkgPT09IGluZGV4OyB9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIGhhcyhpbmRleCkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICByZXR1cm4gKFxuICAgICAgaW5kZXggPj0gMCAmJlxuICAgICAgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5zaXplID09PSBJbmZpbml0eSB8fCBpbmRleCA8IHRoaXMuc2l6ZVxuICAgICAgICA6IHRoaXMuaW5kZXhPZihpbmRleCkgIT09IC0xKVxuICAgICk7XG4gIH0sXG5cbiAgaW50ZXJwb3NlOiBmdW5jdGlvbiBpbnRlcnBvc2Uoc2VwYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVycG9zZUZhY3RvcnkodGhpcywgc2VwYXJhdG9yKSk7XG4gIH0sXG5cbiAgaW50ZXJsZWF2ZTogZnVuY3Rpb24gaW50ZXJsZWF2ZSgvKi4uLmNvbGxlY3Rpb25zKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgdmFyIHppcHBlZCA9IHppcFdpdGhGYWN0b3J5KHRoaXMudG9TZXEoKSwgSW5kZXhlZFNlcS5vZiwgY29sbGVjdGlvbnMpO1xuICAgIHZhciBpbnRlcmxlYXZlZCA9IHppcHBlZC5mbGF0dGVuKHRydWUpO1xuICAgIGlmICh6aXBwZWQuc2l6ZSkge1xuICAgICAgaW50ZXJsZWF2ZWQuc2l6ZSA9IHppcHBlZC5zaXplICogY29sbGVjdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJsZWF2ZWQpO1xuICB9LFxuXG4gIGtleVNlcTogZnVuY3Rpb24ga2V5U2VxKCkge1xuICAgIHJldHVybiBSYW5nZSgwLCB0aGlzLnNpemUpO1xuICB9LFxuXG4gIGxhc3Q6IGZ1bmN0aW9uIGxhc3Qobm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoLTEsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBza2lwV2hpbGU6IGZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gIH0sXG5cbiAgemlwOiBmdW5jdGlvbiB6aXAoLyosIC4uLmNvbGxlY3Rpb25zICovKSB7XG4gICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBjb2xsZWN0aW9ucykpO1xuICB9LFxuXG4gIHppcEFsbDogZnVuY3Rpb24gemlwQWxsKC8qLCAuLi5jb2xsZWN0aW9ucyAqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgZGVmYXVsdFppcHBlciwgY29sbGVjdGlvbnMsIHRydWUpKTtcbiAgfSxcblxuICB6aXBXaXRoOiBmdW5jdGlvbiB6aXBXaXRoKHppcHBlciAvKiwgLi4uY29sbGVjdGlvbnMgKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gICAgY29sbGVjdGlvbnNbMF0gPSB0aGlzO1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCB6aXBwZXIsIGNvbGxlY3Rpb25zKSk7XG4gIH0sXG59KTtcblxudmFyIEluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlID0gSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlO1xuSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfSU5ERVhFRF9TWU1CT0xdID0gdHJ1ZTtcbkluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lTX09SREVSRURfU1lNQk9MXSA9IHRydWU7XG5cbm1peGluKFNldENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KHZhbHVlLCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSkgPyB2YWx1ZSA6IG5vdFNldFZhbHVlO1xuICB9LFxuXG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSk7XG4gIH0sXG5cbiAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVTZXEoKTtcbiAgfSxcbn0pO1xuXG52YXIgU2V0Q29sbGVjdGlvblByb3RvdHlwZSA9IFNldENvbGxlY3Rpb24ucHJvdG90eXBlO1xuU2V0Q29sbGVjdGlvblByb3RvdHlwZS5oYXMgPSBDb2xsZWN0aW9uUHJvdG90eXBlLmluY2x1ZGVzO1xuU2V0Q29sbGVjdGlvblByb3RvdHlwZS5jb250YWlucyA9IFNldENvbGxlY3Rpb25Qcm90b3R5cGUuaW5jbHVkZXM7XG5TZXRDb2xsZWN0aW9uUHJvdG90eXBlLmtleXMgPSBTZXRDb2xsZWN0aW9uUHJvdG90eXBlLnZhbHVlcztcblxuLy8gTWl4aW4gc3ViY2xhc3Nlc1xuXG5taXhpbihLZXllZFNlcSwgS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlKTtcbm1peGluKEluZGV4ZWRTZXEsIEluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlKTtcbm1peGluKFNldFNlcSwgU2V0Q29sbGVjdGlvblByb3RvdHlwZSk7XG5cbi8vICNwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgcmVkdWNlciwgcmVkdWN0aW9uLCBjb250ZXh0LCB1c2VGaXJzdCwgcmV2ZXJzZSkge1xuICBhc3NlcnROb3RJbmZpbml0ZShjb2xsZWN0aW9uLnNpemUpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgdXNlRmlyc3QgPSBmYWxzZTtcbiAgICAgIHJlZHVjdGlvbiA9IHY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZHVjdGlvbiA9IHJlZHVjZXIuY2FsbChjb250ZXh0LCByZWR1Y3Rpb24sIHYsIGssIGMpO1xuICAgIH1cbiAgfSwgcmV2ZXJzZSk7XG4gIHJldHVybiByZWR1Y3Rpb247XG59XG5cbmZ1bmN0aW9uIGtleU1hcHBlcih2LCBrKSB7XG4gIHJldHVybiBrO1xufVxuXG5mdW5jdGlvbiBlbnRyeU1hcHBlcih2LCBrKSB7XG4gIHJldHVybiBbaywgdl07XG59XG5cbmZ1bmN0aW9uIG5vdChwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBuZWcocHJlZGljYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIC1wcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFppcHBlcigpIHtcbiAgcmV0dXJuIGFyckNvcHkoYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE5lZ0NvbXBhcmF0b3IoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAxIDogYSA+IGIgPyAtMSA6IDA7XG59XG5cbmZ1bmN0aW9uIGhhc2hDb2xsZWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgb3JkZXJlZCA9IGlzT3JkZXJlZChjb2xsZWN0aW9uKTtcbiAgdmFyIGtleWVkID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGggPSBvcmRlcmVkID8gMSA6IDA7XG4gIHZhciBzaXplID0gY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAga2V5ZWRcbiAgICAgID8gb3JkZXJlZFxuICAgICAgICA/IGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICBoID0gKDMxICogaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSkgfCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgOiBmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgaCA9IChoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpKSB8IDA7XG4gICAgICAgICAgfVxuICAgICAgOiBvcmRlcmVkXG4gICAgICA/IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaCA9ICgzMSAqIGggKyBoYXNoKHYpKSB8IDA7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBoID0gKGggKyBoYXNoKHYpKSB8IDA7XG4gICAgICAgIH1cbiAgKTtcbiAgcmV0dXJuIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCk7XG59XG5cbmZ1bmN0aW9uIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCkge1xuICBoID0gaW11bChoLCAweGNjOWUyZDUxKTtcbiAgaCA9IGltdWwoKGggPDwgMTUpIHwgKGggPj4+IC0xNSksIDB4MWI4NzM1OTMpO1xuICBoID0gaW11bCgoaCA8PCAxMykgfCAoaCA+Pj4gLTEzKSwgNSk7XG4gIGggPSAoKGggKyAweGU2NTQ2YjY0KSB8IDApIF4gc2l6ZTtcbiAgaCA9IGltdWwoaCBeIChoID4+PiAxNiksIDB4ODVlYmNhNmIpO1xuICBoID0gaW11bChoIF4gKGggPj4+IDEzKSwgMHhjMmIyYWUzNSk7XG4gIGggPSBzbWkoaCBeIChoID4+PiAxNikpO1xuICByZXR1cm4gaDtcbn1cblxuZnVuY3Rpb24gaGFzaE1lcmdlKGEsIGIpIHtcbiAgcmV0dXJuIChhIF4gKGIgKyAweDllMzc3OWI5ICsgKGEgPDwgNikgKyAoYSA+PiAyKSkpIHwgMDsgLy8gaW50XG59XG5cbnZhciBPcmRlcmVkU2V0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2V0KSB7XG4gIGZ1bmN0aW9uIE9yZGVyZWRTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eU9yZGVyZWRTZXQoKVxuICAgICAgOiBpc09yZGVyZWRTZXQodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IGVtcHR5T3JkZXJlZFNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0Q29sbGVjdGlvbih2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggU2V0ICkgT3JkZXJlZFNldC5fX3Byb3RvX18gPSBTZXQ7XG4gIE9yZGVyZWRTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0ICYmIFNldC5wcm90b3R5cGUgKTtcbiAgT3JkZXJlZFNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPcmRlcmVkU2V0O1xuXG4gIE9yZGVyZWRTZXQub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgT3JkZXJlZFNldC5mcm9tS2V5cyA9IGZ1bmN0aW9uIGZyb21LZXlzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzKEtleWVkQ29sbGVjdGlvbih2YWx1ZSkua2V5U2VxKCkpO1xuICB9O1xuXG4gIE9yZGVyZWRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRTZXQgeycsICd9Jyk7XG4gIH07XG5cbiAgcmV0dXJuIE9yZGVyZWRTZXQ7XG59KFNldCkpO1xuXG5PcmRlcmVkU2V0LmlzT3JkZXJlZFNldCA9IGlzT3JkZXJlZFNldDtcblxudmFyIE9yZGVyZWRTZXRQcm90b3R5cGUgPSBPcmRlcmVkU2V0LnByb3RvdHlwZTtcbk9yZGVyZWRTZXRQcm90b3R5cGVbSVNfT1JERVJFRF9TWU1CT0xdID0gdHJ1ZTtcbk9yZGVyZWRTZXRQcm90b3R5cGUuemlwID0gSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUuemlwO1xuT3JkZXJlZFNldFByb3RvdHlwZS56aXBXaXRoID0gSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUuemlwV2l0aDtcbk9yZGVyZWRTZXRQcm90b3R5cGUuemlwQWxsID0gSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUuemlwQWxsO1xuXG5PcmRlcmVkU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eU9yZGVyZWRTZXQ7XG5PcmRlcmVkU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VPcmRlcmVkU2V0O1xuXG5mdW5jdGlvbiBtYWtlT3JkZXJlZFNldChtYXAsIG93bmVySUQpIHtcbiAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZFNldFByb3RvdHlwZSk7XG4gIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICBzZXQuX21hcCA9IG1hcDtcbiAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gIHJldHVybiBzZXQ7XG59XG5cbnZhciBFTVBUWV9PUkRFUkVEX1NFVDtcbmZ1bmN0aW9uIGVtcHR5T3JkZXJlZFNldCgpIHtcbiAgcmV0dXJuIChcbiAgICBFTVBUWV9PUkRFUkVEX1NFVCB8fCAoRU1QVFlfT1JERVJFRF9TRVQgPSBtYWtlT3JkZXJlZFNldChlbXB0eU9yZGVyZWRNYXAoKSkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkRGVmYXVsdFZhbHVlcyhkZWZhdWx0VmFsdWVzKSB7XG4gIGlmIChpc1JlY29yZChkZWZhdWx0VmFsdWVzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdDYW4gbm90IGNhbGwgYFJlY29yZGAgd2l0aCBhbiBpbW11dGFibGUgUmVjb3JkIGFzIGRlZmF1bHQgdmFsdWVzLiBVc2UgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCBpbnN0ZWFkLidcbiAgICApO1xuICB9XG5cbiAgaWYgKGlzSW1tdXRhYmxlKGRlZmF1bHRWYWx1ZXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NhbiBub3QgY2FsbCBgUmVjb3JkYCB3aXRoIGFuIGltbXV0YWJsZSBDb2xsZWN0aW9uIGFzIGRlZmF1bHQgdmFsdWVzLiBVc2UgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCBpbnN0ZWFkLidcbiAgICApO1xuICB9XG5cbiAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IG51bGwgfHwgdHlwZW9mIGRlZmF1bHRWYWx1ZXMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NhbiBub3QgY2FsbCBgUmVjb3JkYCB3aXRoIGEgbm9uLW9iamVjdCBhcyBkZWZhdWx0IHZhbHVlcy4gVXNlIGEgcGxhaW4gamF2YXNjcmlwdCBvYmplY3QgaW5zdGVhZC4nXG4gICAgKTtcbiAgfVxufVxuXG52YXIgUmVjb3JkID0gZnVuY3Rpb24gUmVjb3JkKGRlZmF1bHRWYWx1ZXMsIG5hbWUpIHtcbiAgdmFyIGhhc0luaXRpYWxpemVkO1xuXG4gIHRocm93T25JbnZhbGlkRGVmYXVsdFZhbHVlcyhkZWZhdWx0VmFsdWVzKTtcblxuICB2YXIgUmVjb3JkVHlwZSA9IGZ1bmN0aW9uIFJlY29yZCh2YWx1ZXMpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWNvcmRUeXBlKHZhbHVlcyk7XG4gICAgfVxuICAgIGlmICghaGFzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGhhc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7XG4gICAgICB2YXIgaW5kaWNlcyA9IChSZWNvcmRUeXBlUHJvdG90eXBlLl9pbmRpY2VzID0ge30pO1xuICAgICAgLy8gRGVwcmVjYXRlZDogbGVmdCB0byBhdHRlbXB0IG5vdCB0byBicmVhayBhbnkgZXh0ZXJuYWwgY29kZSB3aGljaFxuICAgICAgLy8gcmVsaWVzIG9uIGEgLl9uYW1lIHByb3BlcnR5IGV4aXN0aW5nIG9uIHJlY29yZCBpbnN0YW5jZXMuXG4gICAgICAvLyBVc2UgUmVjb3JkLmdldERlc2NyaXB0aXZlTmFtZSgpIGluc3RlYWRcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX25hbWUgPSBuYW1lO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fa2V5cyA9IGtleXM7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9kZWZhdWx0VmFsdWVzID0gZGVmYXVsdFZhbHVlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBrZXlzW2ldO1xuICAgICAgICBpbmRpY2VzW3Byb3BOYW1lXSA9IGk7XG4gICAgICAgIGlmIChSZWNvcmRUeXBlUHJvdG90eXBlW3Byb3BOYW1lXSkge1xuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICB0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAnQ2Fubm90IGRlZmluZSAnICtcbiAgICAgICAgICAgICAgICByZWNvcmROYW1lKHRoaXMpICtcbiAgICAgICAgICAgICAgICAnIHdpdGggcHJvcGVydHkgXCInICtcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgJ1wiIHNpbmNlIHRoYXQgcHJvcGVydHkgbmFtZSBpcyBwYXJ0IG9mIHRoZSBSZWNvcmQgQVBJLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvcChSZWNvcmRUeXBlUHJvdG90eXBlLCBwcm9wTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fX293bmVySUQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdmFsdWVzID0gTGlzdCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGwpIHtcbiAgICAgIGwuc2V0U2l6ZSh0aGlzJDEkMS5fa2V5cy5sZW5ndGgpO1xuICAgICAgS2V5ZWRDb2xsZWN0aW9uKHZhbHVlcykuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICBsLnNldCh0aGlzJDEkMS5faW5kaWNlc1trXSwgdiA9PT0gdGhpcyQxJDEuX2RlZmF1bHRWYWx1ZXNba10gPyB1bmRlZmluZWQgOiB2KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBSZWNvcmRUeXBlUHJvdG90eXBlID0gKFJlY29yZFR5cGUucHJvdG90eXBlID1cbiAgICBPYmplY3QuY3JlYXRlKFJlY29yZFByb3RvdHlwZSkpO1xuICBSZWNvcmRUeXBlUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVjb3JkVHlwZTtcblxuICBpZiAobmFtZSkge1xuICAgIFJlY29yZFR5cGUuZGlzcGxheU5hbWUgPSBuYW1lO1xuICB9XG5cbiAgcmV0dXJuIFJlY29yZFR5cGU7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgc3RyID0gcmVjb3JkTmFtZSh0aGlzKSArICcgeyAnO1xuICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gIHZhciBrO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpICE9PSBsOyBpKyspIHtcbiAgICBrID0ga2V5c1tpXTtcbiAgICBzdHIgKz0gKGkgPyAnLCAnIDogJycpICsgayArICc6ICcgKyBxdW90ZVN0cmluZyh0aGlzLmdldChrKSk7XG4gIH1cbiAgcmV0dXJuIHN0ciArICcgfSc7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAob3RoZXIpIHtcbiAgcmV0dXJuIChcbiAgICB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgJiYgcmVjb3JkU2VxKHRoaXMpLmVxdWFscyhyZWNvcmRTZXEob3RoZXIpKSlcbiAgKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiBoYXNoQ29kZSAoKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykuaGFzaENvZGUoKTtcbn07XG5cbi8vIEBwcmFnbWEgQWNjZXNzXG5cblJlY29yZC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrKSB7XG4gIHJldHVybiB0aGlzLl9pbmRpY2VzLmhhc093blByb3BlcnR5KGspO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGssIG5vdFNldFZhbHVlKSB7XG4gIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5faW5kaWNlc1trXTtcbiAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChpbmRleCk7XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlc1trXSA6IHZhbHVlO1xufTtcblxuLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuUmVjb3JkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgaWYgKHRoaXMuaGFzKGspKSB7XG4gICAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5zZXQoXG4gICAgICB0aGlzLl9pbmRpY2VzW2tdLFxuICAgICAgdiA9PT0gdGhpcy5fZGVmYXVsdFZhbHVlc1trXSA/IHVuZGVmaW5lZCA6IHZcbiAgICApO1xuICAgIGlmIChuZXdWYWx1ZXMgIT09IHRoaXMuX3ZhbHVlcyAmJiAhdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld1ZhbHVlcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGspIHtcbiAgcmV0dXJuIHRoaXMuc2V0KGspO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5jbGVhcigpLnNldFNpemUodGhpcy5fa2V5cy5sZW5ndGgpO1xuXG4gIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiBtYWtlUmVjb3JkKHRoaXMsIG5ld1ZhbHVlcyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgcmV0dXJuIHRoaXMuX3ZhbHVlcy53YXNBbHRlcmVkKCk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24gdG9TZXEgKCkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS50b0pTID0gZnVuY3Rpb24gdG9KUyQxICgpIHtcbiAgcmV0dXJuIHRvSlModGhpcyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiBlbnRyaWVzICgpIHtcbiAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gIGlmICghb3duZXJJRCkge1xuICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzLCBvd25lcklEKTtcbn07XG5cblJlY29yZC5pc1JlY29yZCA9IGlzUmVjb3JkO1xuUmVjb3JkLmdldERlc2NyaXB0aXZlTmFtZSA9IHJlY29yZE5hbWU7XG52YXIgUmVjb3JkUHJvdG90eXBlID0gUmVjb3JkLnByb3RvdHlwZTtcblJlY29yZFByb3RvdHlwZVtJU19SRUNPUkRfU1lNQk9MXSA9IHRydWU7XG5SZWNvcmRQcm90b3R5cGVbREVMRVRFXSA9IFJlY29yZFByb3RvdHlwZS5yZW1vdmU7XG5SZWNvcmRQcm90b3R5cGUuZGVsZXRlSW4gPSBSZWNvcmRQcm90b3R5cGUucmVtb3ZlSW4gPSBkZWxldGVJbjtcblJlY29yZFByb3RvdHlwZS5nZXRJbiA9IGdldEluO1xuUmVjb3JkUHJvdG90eXBlLmhhc0luID0gQ29sbGVjdGlvblByb3RvdHlwZS5oYXNJbjtcblJlY29yZFByb3RvdHlwZS5tZXJnZSA9IG1lcmdlJDE7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VXaXRoID0gbWVyZ2VXaXRoJDE7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VJbiA9IG1lcmdlSW47XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwID0gbWVyZ2VEZWVwO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBtZXJnZURlZXBXaXRoO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcEluID0gbWVyZ2VEZWVwSW47XG5SZWNvcmRQcm90b3R5cGUuc2V0SW4gPSBzZXRJbjtcblJlY29yZFByb3RvdHlwZS51cGRhdGUgPSB1cGRhdGU7XG5SZWNvcmRQcm90b3R5cGUudXBkYXRlSW4gPSB1cGRhdGVJbjtcblJlY29yZFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gd2l0aE11dGF0aW9ucztcblJlY29yZFByb3RvdHlwZS5hc011dGFibGUgPSBhc011dGFibGU7XG5SZWNvcmRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBhc0ltbXV0YWJsZTtcblJlY29yZFByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gUmVjb3JkUHJvdG90eXBlLmVudHJpZXM7XG5SZWNvcmRQcm90b3R5cGUudG9KU09OID0gUmVjb3JkUHJvdG90eXBlLnRvT2JqZWN0ID1cbiAgQ29sbGVjdGlvblByb3RvdHlwZS50b09iamVjdDtcblJlY29yZFByb3RvdHlwZS5pbnNwZWN0ID0gUmVjb3JkUHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xufTtcblxuZnVuY3Rpb24gbWFrZVJlY29yZChsaWtlUmVjb3JkLCB2YWx1ZXMsIG93bmVySUQpIHtcbiAgdmFyIHJlY29yZCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGxpa2VSZWNvcmQpKTtcbiAgcmVjb3JkLl92YWx1ZXMgPSB2YWx1ZXM7XG4gIHJlY29yZC5fX293bmVySUQgPSBvd25lcklEO1xuICByZXR1cm4gcmVjb3JkO1xufVxuXG5mdW5jdGlvbiByZWNvcmROYW1lKHJlY29yZCkge1xuICByZXR1cm4gcmVjb3JkLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHJlY29yZC5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdSZWNvcmQnO1xufVxuXG5mdW5jdGlvbiByZWNvcmRTZXEocmVjb3JkKSB7XG4gIHJldHVybiBrZXllZFNlcUZyb21WYWx1ZShyZWNvcmQuX2tleXMubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBbaywgcmVjb3JkLmdldChrKV07IH0pKTtcbn1cblxuZnVuY3Rpb24gc2V0UHJvcChwcm90b3R5cGUsIG5hbWUpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLl9fb3duZXJJRCwgJ0Nhbm5vdCBzZXQgb24gYW4gaW1tdXRhYmxlIHJlY29yZC4nKTtcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydHkgZmFpbGVkLiBQcm9iYWJseSBJRTguXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF6eSBTZXEgb2YgYHZhbHVlYCByZXBlYXRlZCBgdGltZXNgIHRpbWVzLiBXaGVuIGB0aW1lc2AgaXNcbiAqIHVuZGVmaW5lZCwgcmV0dXJucyBhbiBpbmZpbml0ZSBzZXF1ZW5jZSBvZiBgdmFsdWVgLlxuICovXG52YXIgUmVwZWF0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBSZXBlYXQodmFsdWUsIHRpbWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlcGVhdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVwZWF0KHZhbHVlLCB0aW1lcyk7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5zaXplID0gdGltZXMgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogTWF0aC5tYXgoMCwgdGltZXMpO1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIGlmIChFTVBUWV9SRVBFQVQpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZX1JFUEVBVDtcbiAgICAgIH1cbiAgICAgIEVNUFRZX1JFUEVBVCA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgUmVwZWF0Ll9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIFJlcGVhdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIFJlcGVhdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXBlYXQ7XG5cbiAgUmVwZWF0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1JlcGVhdCBbXSc7XG4gICAgfVxuICAgIHJldHVybiAnUmVwZWF0IFsgJyArIHRoaXMuX3ZhbHVlICsgJyAnICsgdGhpcy5zaXplICsgJyB0aW1lcyBdJztcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX3ZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzIChzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiBpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHJldHVybiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpXG4gICAgICA/IHRoaXNcbiAgICAgIDogbmV3IFJlcGVhdChcbiAgICAgICAgICB0aGlzLl92YWx1ZSxcbiAgICAgICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSkgLSByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpXG4gICAgICAgICk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gcmV2ZXJzZSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIGlmIChmbih0aGlzLl92YWx1ZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBpID09PSBzaXplXG4gICAgICAgID8gaXRlcmF0b3JEb25lKClcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB0aGlzJDEkMS5fdmFsdWUpOyB9XG4gICAgKTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSZXBlYXRcbiAgICAgID8gaXModGhpcy5fdmFsdWUsIG90aGVyLl92YWx1ZSlcbiAgICAgIDogZGVlcEVxdWFsKG90aGVyKTtcbiAgfTtcblxuICByZXR1cm4gUmVwZWF0O1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBFTVBUWV9SRVBFQVQ7XG5cbmZ1bmN0aW9uIGZyb21KUyh2YWx1ZSwgY29udmVydGVyKSB7XG4gIHJldHVybiBmcm9tSlNXaXRoKFxuICAgIFtdLFxuICAgIGNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyLFxuICAgIHZhbHVlLFxuICAgICcnLFxuICAgIGNvbnZlcnRlciAmJiBjb252ZXJ0ZXIubGVuZ3RoID4gMiA/IFtdIDogdW5kZWZpbmVkLFxuICAgIHsgJyc6IHZhbHVlIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZnJvbUpTV2l0aChzdGFjaywgY29udmVydGVyLCB2YWx1ZSwga2V5LCBrZXlQYXRoLCBwYXJlbnRWYWx1ZSkge1xuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJlxuICAgICFpc0ltbXV0YWJsZSh2YWx1ZSkgJiZcbiAgICAoaXNBcnJheUxpa2UodmFsdWUpIHx8IGhhc0l0ZXJhdG9yKHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSlcbiAgKSB7XG4gICAgaWYgKH5zdGFjay5pbmRleE9mKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEltbXV0YWJsZScpO1xuICAgIH1cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICBrZXlQYXRoICYmIGtleSAhPT0gJycgJiYga2V5UGF0aC5wdXNoKGtleSk7XG4gICAgdmFyIGNvbnZlcnRlZCA9IGNvbnZlcnRlci5jYWxsKFxuICAgICAgcGFyZW50VmFsdWUsXG4gICAgICBrZXksXG4gICAgICBTZXEodmFsdWUpLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZnJvbUpTV2l0aChzdGFjaywgY29udmVydGVyLCB2LCBrLCBrZXlQYXRoLCB2YWx1ZSk7IH1cbiAgICAgICksXG4gICAgICBrZXlQYXRoICYmIGtleVBhdGguc2xpY2UoKVxuICAgICk7XG4gICAgc3RhY2sucG9wKCk7XG4gICAga2V5UGF0aCAmJiBrZXlQYXRoLnBvcCgpO1xuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udmVydGVyKGssIHYpIHtcbiAgLy8gRWZmZWN0aXZlbHkgdGhlIG9wcG9zaXRlIG9mIFwiQ29sbGVjdGlvbi50b1NlcSgpXCJcbiAgcmV0dXJuIGlzSW5kZXhlZCh2KSA/IHYudG9MaXN0KCkgOiBpc0tleWVkKHYpID8gdi50b01hcCgpIDogdi50b1NldCgpO1xufVxuXG52YXIgdmVyc2lvbiA9IFwiNC4wLjBcIjtcblxudmFyIEltbXV0YWJsZSA9IHtcbiAgdmVyc2lvbjogdmVyc2lvbixcblxuICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAvLyBOb3RlOiBJdGVyYWJsZSBpcyBkZXByZWNhdGVkXG4gIEl0ZXJhYmxlOiBDb2xsZWN0aW9uLFxuXG4gIFNlcTogU2VxLFxuICBNYXA6IE1hcCxcbiAgT3JkZXJlZE1hcDogT3JkZXJlZE1hcCxcbiAgTGlzdDogTGlzdCxcbiAgU3RhY2s6IFN0YWNrLFxuICBTZXQ6IFNldCxcbiAgT3JkZXJlZFNldDogT3JkZXJlZFNldCxcblxuICBSZWNvcmQ6IFJlY29yZCxcbiAgUmFuZ2U6IFJhbmdlLFxuICBSZXBlYXQ6IFJlcGVhdCxcblxuICBpczogaXMsXG4gIGZyb21KUzogZnJvbUpTLFxuICBoYXNoOiBoYXNoLFxuXG4gIGlzSW1tdXRhYmxlOiBpc0ltbXV0YWJsZSxcbiAgaXNDb2xsZWN0aW9uOiBpc0NvbGxlY3Rpb24sXG4gIGlzS2V5ZWQ6IGlzS2V5ZWQsXG4gIGlzSW5kZXhlZDogaXNJbmRleGVkLFxuICBpc0Fzc29jaWF0aXZlOiBpc0Fzc29jaWF0aXZlLFxuICBpc09yZGVyZWQ6IGlzT3JkZXJlZCxcbiAgaXNWYWx1ZU9iamVjdDogaXNWYWx1ZU9iamVjdCxcbiAgaXNQbGFpbk9iamVjdDogaXNQbGFpbk9iamVjdCxcbiAgaXNTZXE6IGlzU2VxLFxuICBpc0xpc3Q6IGlzTGlzdCxcbiAgaXNNYXA6IGlzTWFwLFxuICBpc09yZGVyZWRNYXA6IGlzT3JkZXJlZE1hcCxcbiAgaXNTdGFjazogaXNTdGFjayxcbiAgaXNTZXQ6IGlzU2V0LFxuICBpc09yZGVyZWRTZXQ6IGlzT3JkZXJlZFNldCxcbiAgaXNSZWNvcmQ6IGlzUmVjb3JkLFxuXG4gIGdldDogZ2V0LFxuICBnZXRJbjogZ2V0SW4kMSxcbiAgaGFzOiBoYXMsXG4gIGhhc0luOiBoYXNJbiQxLFxuICBtZXJnZTogbWVyZ2UsXG4gIG1lcmdlRGVlcDogbWVyZ2VEZWVwJDEsXG4gIG1lcmdlV2l0aDogbWVyZ2VXaXRoLFxuICBtZXJnZURlZXBXaXRoOiBtZXJnZURlZXBXaXRoJDEsXG4gIHJlbW92ZTogcmVtb3ZlLFxuICByZW1vdmVJbjogcmVtb3ZlSW4sXG4gIHNldDogc2V0LFxuICBzZXRJbjogc2V0SW4kMSxcbiAgdXBkYXRlOiB1cGRhdGUkMSxcbiAgdXBkYXRlSW46IHVwZGF0ZUluJDEsXG59O1xuXG4vLyBOb3RlOiBJdGVyYWJsZSBpcyBkZXByZWNhdGVkXG52YXIgSXRlcmFibGUgPSBDb2xsZWN0aW9uO1xuXG5leHBvcnQgZGVmYXVsdCBJbW11dGFibGU7XG5leHBvcnQgeyBDb2xsZWN0aW9uLCBJdGVyYWJsZSwgTGlzdCwgTWFwLCBPcmRlcmVkTWFwLCBPcmRlcmVkU2V0LCBSYW5nZSwgUmVjb3JkLCBSZXBlYXQsIFNlcSwgU2V0LCBTdGFjaywgZnJvbUpTLCBnZXQsIGdldEluJDEgYXMgZ2V0SW4sIGhhcywgaGFzSW4kMSBhcyBoYXNJbiwgaGFzaCwgaXMsIGlzQXNzb2NpYXRpdmUsIGlzQ29sbGVjdGlvbiwgaXNJbW11dGFibGUsIGlzSW5kZXhlZCwgaXNLZXllZCwgaXNMaXN0LCBpc01hcCwgaXNPcmRlcmVkLCBpc09yZGVyZWRNYXAsIGlzT3JkZXJlZFNldCwgaXNQbGFpbk9iamVjdCwgaXNSZWNvcmQsIGlzU2VxLCBpc1NldCwgaXNTdGFjaywgaXNWYWx1ZU9iamVjdCwgbWVyZ2UsIG1lcmdlRGVlcCQxIGFzIG1lcmdlRGVlcCwgbWVyZ2VEZWVwV2l0aCQxIGFzIG1lcmdlRGVlcFdpdGgsIG1lcmdlV2l0aCwgcmVtb3ZlLCByZW1vdmVJbiwgc2V0LCBzZXRJbiQxIGFzIHNldEluLCB1cGRhdGUkMSBhcyB1cGRhdGUsIHVwZGF0ZUluJDEgYXMgdXBkYXRlSW4sIHZlcnNpb24gfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbXBvc2UgPSByZXF1aXJlKCdyZWR1eCcpLmNvbXBvc2U7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNvbXBvc2VXaXRoRGV2VG9vbHMgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fXG4gICAgPyB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fXG4gICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcpIHJldHVybiBjb21wb3NlO1xuICAgICAgICByZXR1cm4gY29tcG9zZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcblxuZXhwb3J0cy5kZXZUb29sc0VuaGFuY2VyID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX19cbiAgICA/IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fXG4gICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobm9vcCkge1xuICAgICAgICAgIHJldHVybiBub29wO1xuICAgICAgICB9O1xuICAgICAgfTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBTcGVjaWFsIHN5bWJvbCB3aGljaCBtaWdodCBiZSByZXR1cm5lZCBieSBvblByb21pc2VkIGNhbGxiYWNrIG9mIFtTdGF0ZU1ldGhvZHMubWFwXSgjbWFwKSBmdW5jdGlvbi5cbiAqXG4gKiBbTGVhcm4gbW9yZS4uLl0oaHR0cHM6Ly9ob29rc3RhdGUuanMub3JnL2RvY3MvYXN5bmNocm9ub3VzLXN0YXRlI2V4ZWN1dGluZy1hbi1hY3Rpb24td2hlbi1zdGF0ZS1pcy1sb2FkZWQpXG4gKi9cbnZhciBwb3N0cG9uZSA9IFN5bWJvbCgncG9zdHBvbmUnKTtcbi8qKlxuICogU3BlY2lhbCBzeW1ib2wgd2hpY2ggbWlnaHQgYmUgdXNlZCB0byBkZWxldGUgcHJvcGVydGllc1xuICogZnJvbSBhbiBvYmplY3QgY2FsbGluZyBbU3RhdGVNZXRob2RzLnNldF0oI3NldCkgb3IgW1N0YXRlTWV0aG9kcy5tZXJnZV0oI21lcmdlKS5cbiAqXG4gKiBbTGVhcm4gbW9yZS4uLl0oaHR0cHM6Ly9ob29rc3RhdGUuanMub3JnL2RvY3MvbmVzdGVkLXN0YXRlI2RlbGV0aW5nLWV4aXN0aW5nLWVsZW1lbnQpXG4gKi9cbnZhciBub25lID0gU3ltYm9sKCdub25lJyk7XG4vKipcbiAqIENyZWF0ZXMgbmV3IHN0YXRlIGFuZCByZXR1cm5zIGl0LlxuICpcbiAqIFlvdSBjYW4gY3JlYXRlIGFzIG1hbnkgZ2xvYmFsIHN0YXRlcyBhcyB5b3UgbmVlZC5cbiAqXG4gKiBXaGVuIHlvdSB0aGUgc3RhdGUgaXMgbm90IG5lZWRlZCBhbnltb3JlLFxuICogaXQgc2hvdWxkIGJlIGRlc3Ryb3llZCBieSBjYWxsaW5nXG4gKiBgZGVzdHJveSgpYCBtZXRob2Qgb2YgdGhlIHJldHVybmVkIGluc3RhbmNlLlxuICogVGhpcyBpcyBuZWNlc3NhcnkgZm9yIHNvbWUgcGx1Z2lucyxcbiAqIHdoaWNoIGFsbG9jYXRlIG5hdGl2ZSByZXNvdXJjZXMsXG4gKiBsaWtlIHN1YnNjcmlwdGlvbiB0byBkYXRhYmFzZXMsIGJyb2FkY2FzdCBjaGFubmVscywgZXRjLlxuICogSW4gbW9zdCBjYXNlcywgYSBnbG9iYWwgc3RhdGUgaXMgdXNlZCBkdXJpbmdcbiAqIHdob2xlIGxpZmUgdGltZSBvZiBhbiBhcHBsaWNhdGlvbiBhbmQgd291bGQgbm90IHJlcXVpcmVcbiAqIGRlc3RydWN0aW9uLiBIb3dldmVyLCBpZiB5b3UgaGF2ZSBnb3QsIGZvciBleGFtcGxlLFxuICogYSBjYXRhbG9nIG9mIGR5bmFtaWNhbGx5IGNyZWF0ZWQgYW5kIGRlc3Ryb3llZCBnbG9iYWwgc3RhdGVzLFxuICogdGhlIHN0YXRlcyBzaG91bGQgYmUgZGVzdHJveWVkIGFzIGFkdmlzZWQgYWJvdmUuXG4gKlxuICogQHBhcmFtIGluaXRpYWwgSW5pdGlhbCB2YWx1ZSBvZiB0aGUgc3RhdGUuXG4gKiBJdCBjYW4gYmUgYSB2YWx1ZSBPUiBhIHByb21pc2UsXG4gKiB3aGljaCBhc3luY2hyb25vdXNseSByZXNvbHZlcyB0byBhIHZhbHVlLFxuICogT1IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSB2YWx1ZSBvciBhIHByb21pc2UuXG4gKlxuICogQHR5cGVwYXJhbSBTIFR5cGUgb2YgYSB2YWx1ZSBvZiB0aGUgc3RhdGVcbiAqXG4gKiBAcmV0dXJucyBbU3RhdGVdKCNzdGF0ZSkgaW5zdGFuY2UsXG4gKiB3aGljaCBjYW4gYmUgdXNlZCBkaXJlY3RseSB0byBnZXQgYW5kIHNldCBzdGF0ZSB2YWx1ZVxuICogb3V0c2lkZSBvZiBSZWFjdCBjb21wb25lbnRzLlxuICogV2hlbiB5b3UgbmVlZCB0byB1c2UgdGhlIHN0YXRlIGluIGEgZnVuY3Rpb25hbCBgUmVhY3RgIGNvbXBvbmVudCxcbiAqIHBhc3MgdGhlIGNyZWF0ZWQgc3RhdGUgdG8gW3VzZVN0YXRlXSgjdXNlc3RhdGUpIGZ1bmN0aW9uIGFuZFxuICogdXNlIHRoZSByZXR1cm5lZCByZXN1bHQgaW4gdGhlIGNvbXBvbmVudCdzIGxvZ2ljLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTdGF0ZShpbml0aWFsKSB7XG4gICAgdmFyIG1ldGhvZHMgPSBjcmVhdGVTdG9yZShpbml0aWFsKS50b01ldGhvZHMoKTtcbiAgICB2YXIgZGV2dG9vbHMgPSBjcmVhdGVTdGF0ZVtEZXZUb29sc0lEXTtcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgbWV0aG9kcy5hdHRhY2goZGV2dG9vbHMpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0aG9kcy5zZWxmO1xufVxuZnVuY3Rpb24gdXNlU3RhdGUoc291cmNlKSB7XG4gICAgcmV0dXJuIHVzZUhvb2tzdGF0ZShzb3VyY2UpO1xufVxuZnVuY3Rpb24gdXNlSG9va3N0YXRlKHNvdXJjZSkge1xuICAgIHZhciBwYXJlbnRNZXRob2RzID0gdHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcgJiYgc291cmNlICE9PSBudWxsID9cbiAgICAgICAgc291cmNlW3NlbGZdIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgIGlmIChwYXJlbnRNZXRob2RzKSB7XG4gICAgICAgIGlmIChwYXJlbnRNZXRob2RzLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgLy8gU2NvcGVkIHN0YXRlIG1vdW50XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICAgICAgICAgIHZhciBfYSA9IFJlYWN0LnVzZVN0YXRlKHt9KSwgc2V0VmFsdWVfMSA9IF9hWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHVzZVN1YnNjcmliZWRTdGF0ZU1ldGhvZHMocGFyZW50TWV0aG9kcy5zdGF0ZSwgcGFyZW50TWV0aG9kcy5wYXRoLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRWYWx1ZV8xKHt9KTsgfSwgcGFyZW50TWV0aG9kcykuc2VsZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdsb2JhbCBzdGF0ZSBtb3VudCBvciBkZXN0cm95ZWQgbGlua1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgICAgICAgICB2YXIgX2IgPSBSZWFjdC51c2VTdGF0ZSh7IHN0YXRlOiBwYXJlbnRNZXRob2RzLnN0YXRlIH0pLCB2YWx1ZV8xID0gX2JbMF0sIHNldFZhbHVlXzIgPSBfYlsxXTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHVzZVN1YnNjcmliZWRTdGF0ZU1ldGhvZHModmFsdWVfMS5zdGF0ZSwgUm9vdFBhdGgsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFZhbHVlXzIoeyBzdGF0ZTogdmFsdWVfMS5zdGF0ZSB9KTsgfSwgdmFsdWVfMS5zdGF0ZSkuc2VsZjtcbiAgICAgICAgICAgIGZvciAodmFyIGluZCA9IDA7IGluZCA8IHBhcmVudE1ldGhvZHMucGF0aC5sZW5ndGg7IGluZCArPSAxKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5uZXN0ZWQocGFyZW50TWV0aG9kcy5wYXRoW2luZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBMb2NhbCBzdGF0ZSBtb3VudFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICAgICAgdmFyIF9jID0gUmVhY3QudXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgc3RhdGU6IGNyZWF0ZVN0b3JlKHNvdXJjZSkgfSk7IH0pLCB2YWx1ZV8yID0gX2NbMF0sIHNldFZhbHVlXzMgPSBfY1sxXTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHVzZVN1YnNjcmliZWRTdGF0ZU1ldGhvZHModmFsdWVfMi5zdGF0ZSwgUm9vdFBhdGgsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldFZhbHVlXzMoeyBzdGF0ZTogdmFsdWVfMi5zdGF0ZSB9KTsgfSwgdmFsdWVfMi5zdGF0ZSk7XG4gICAgICAgIGlmIChpc0RldmVsb3BtZW50TW9kZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIHRoZSBpc3N1ZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hdmtvbnN0L2hvb2tzdGF0ZS9pc3N1ZXMvMTA5XG4gICAgICAgICAgICAvLyBTZWUgdGVjaG5pY2FsIG5vdGVzIG9uIFJlYWN0IGJlaGF2aW9yIGhlcmU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXBvbGxvZ3JhcGhxbC9hcG9sbG8tY2xpZW50L2lzc3Vlcy81ODcwI2lzc3VlY29tbWVudC02ODkwOTgxODVcbiAgICAgICAgICAgIHZhciBpc0VmZmVjdEV4ZWN1dGVkQWZ0ZXJSZW5kZXJfMSA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgICAgICAgICBpc0VmZmVjdEV4ZWN1dGVkQWZ0ZXJSZW5kZXJfMS5jdXJyZW50ID0gZmFsc2U7IC8vIG5vdCB5ZXQuLi5cbiAgICAgICAgICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXNFZmZlY3RFeGVjdXRlZEFmdGVyUmVuZGVyXzEuY3VycmVudCA9IHRydWU7IC8vIC4uLiBhbmQgbm93LCB5ZXMhXG4gICAgICAgICAgICAgICAgLy8gVGhlIHN0YXRlIGlzIG5vdCBkZXN0cm95ZWQgaW50ZW50aW9uYWxseVxuICAgICAgICAgICAgICAgIC8vIHVuZGVyIGhvdCByZWxvYWQgY2FzZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyBpc0VmZmVjdEV4ZWN1dGVkQWZ0ZXJSZW5kZXJfMS5jdXJyZW50ICYmIHZhbHVlXzIuc3RhdGUuZGVzdHJveSgpOyB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWVfMi5zdGF0ZS5kZXN0cm95KCk7IH07IH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGV2dG9vbHMgPSB1c2VTdGF0ZVtEZXZUb29sc0lEXTtcbiAgICAgICAgaWYgKGRldnRvb2xzKSB7XG4gICAgICAgICAgICByZXN1bHQuYXR0YWNoKGRldnRvb2xzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnNlbGY7XG4gICAgfVxufVxuZnVuY3Rpb24gU3RhdGVGcmFnbWVudChwcm9wcykge1xuICAgIHZhciBzY29wZWQgPSB1c2VTdGF0ZShwcm9wcy5zdGF0ZSk7XG4gICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuKHNjb3BlZCk7XG59XG4vKipcbiAqIEEgcGx1Z2luIHdoaWNoIGFsbG93cyB0byBvcHQtb3V0IGZyb20gdXNhZ2Ugb2YgSmF2YXNjcmlwdCBwcm94aWVzIGZvclxuICogc3RhdGUgdXNhZ2UgdHJhY2tpbmcuIEl0IGlzIHVzZWZ1bCBmb3IgcGVyZm9ybWFuY2UgdHVuaW5nLlxuICpcbiAqIFtMZWFybiBtb3JlLi4uXShodHRwczovL2hvb2tzdGF0ZS5qcy5vcmcvZG9jcy9wZXJmb3JtYW5jZS1tYW5hZ2VkLXJlbmRlcmluZyNkb3duZ3JhZGVkLXBsdWdpbilcbiAqL1xuZnVuY3Rpb24gRG93bmdyYWRlZCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogRG93bmdyYWRlZElEXG4gICAgfTtcbn1cbi8qKlxuICogRm9yIHBsdWdpbiBkZXZlbG9wZXJzIG9ubHkuXG4gKiBSZXNlcnZlZCBwbHVnaW4gSUQgZm9yIGRldmVsb3BlcnMgdG9vbHMgZXh0ZW5zaW9uLlxuICpcbiAqIEBoaWRkZW5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIERldlRvb2xzSUQgPSBTeW1ib2woJ0RldlRvb2xzJyk7XG4vKipcbiAqIFJldHVybnMgYWNjZXNzIHRvIHRoZSBkZXZlbG9wbWVudCB0b29scyBmb3IgYSBnaXZlbiBzdGF0ZS5cbiAqIERldmVsb3BtZW50IHRvb2xzIGFyZSBkZWxpdmVyZWQgYXMgb3B0aW9uYWwgcGx1Z2lucy5cbiAqIFlvdSBjYW4gYWN0aXZhdGUgZGV2ZWxvcG1lbnQgdG9vbHMgZnJvbSBgQGhvb2tzdGF0ZS9kZXZ0b29sc2BwYWNrYWdlLFxuICogZm9yIGV4YW1wbGUuIElmIG5vIGRldmVsb3BtZW50IHRvb2xzIGFyZSBhY3RpdmF0ZWQsXG4gKiBpdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIGR1bW15IHRvb2xzLCB3aGljaCBkbyBub3RoaW5nLCB3aGVuIGNhbGxlZC5cbiAqXG4gKiBbTGVhcm4gbW9yZS4uLl0oaHR0cHM6Ly9ob29rc3RhdGUuanMub3JnL2RvY3MvZGV2dG9vbHMpXG4gKlxuICogQHBhcmFtIHN0YXRlIEEgc3RhdGUgdG8gcmVsYXRlIHRvIHRoZSBleHRlbnNpb24uXG4gKlxuICogQHJldHVybnMgSW50ZXJmYWNlIHRvIGludGVyYWN0IHdpdGggdGhlIGRldmVsb3BtZW50IHRvb2xzIGZvciBhIGdpdmVuIHN0YXRlLlxuICpcbiAqIEB0eXBlcGFyYW0gUyBUeXBlIG9mIGEgdmFsdWUgb2YgYSBzdGF0ZVxuICovXG5mdW5jdGlvbiBEZXZUb29scyhzdGF0ZSkge1xuICAgIHZhciBwbHVnaW4gPSBzdGF0ZS5hdHRhY2goRGV2VG9vbHNJRCk7XG4gICAgaWYgKHBsdWdpblswXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBFbXB0eURldlRvb2xzRXh0ZW5zaW9ucztcbiAgICB9XG4gICAgcmV0dXJuIHBsdWdpblswXTtcbn1cbi8vL1xuLy8vIElOVEVSTkFMIFNZTUJPTFMgKExJQlJBUlkgSU1QTEVNRU5UQVRJT04pXG4vLy9cbnZhciBpc0RldmVsb3BtZW50TW9kZSA9IHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLmVudiA9PT0gJ29iamVjdCcgJiZcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbnZhciBzZWxmID0gU3ltYm9sKCdzZWxmJyk7XG52YXIgRW1wdHlEZXZUb29sc0V4dGVuc2lvbnMgPSB7XG4gICAgbGFiZWw6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICBsb2c6IGZ1bmN0aW9uICgpIHsgfVxufTtcbnZhciBFcnJvcklkO1xuKGZ1bmN0aW9uIChFcnJvcklkKSB7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiSW5pdFN0YXRlVG9WYWx1ZUZyb21TdGF0ZVwiXSA9IDEwMV0gPSBcIkluaXRTdGF0ZVRvVmFsdWVGcm9tU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJTZXRTdGF0ZVRvVmFsdWVGcm9tU3RhdGVcIl0gPSAxMDJdID0gXCJTZXRTdGF0ZVRvVmFsdWVGcm9tU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJHZXRTdGF0ZVdoZW5Qcm9taXNlZFwiXSA9IDEwM10gPSBcIkdldFN0YXRlV2hlblByb21pc2VkXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0U3RhdGVXaGVuUHJvbWlzZWRcIl0gPSAxMDRdID0gXCJTZXRTdGF0ZVdoZW5Qcm9taXNlZFwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlNldFN0YXRlTmVzdGVkVG9Qcm9taXNlZFwiXSA9IDEwNV0gPSBcIlNldFN0YXRlTmVzdGVkVG9Qcm9taXNlZFwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlNldFN0YXRlV2hlbkRlc3Ryb3llZFwiXSA9IDEwNl0gPSBcIlNldFN0YXRlV2hlbkRlc3Ryb3llZFwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlRvSnNvbl9WYWx1ZVwiXSA9IDEwOF0gPSBcIlRvSnNvbl9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlRvSnNvbl9TdGF0ZVwiXSA9IDEwOV0gPSBcIlRvSnNvbl9TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkdldFVua25vd25QbHVnaW5cIl0gPSAxMjBdID0gXCJHZXRVbmtub3duUGx1Z2luXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0UHJvcGVydHlfU3RhdGVcIl0gPSAyMDFdID0gXCJTZXRQcm9wZXJ0eV9TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlNldFByb3BlcnR5X1ZhbHVlXCJdID0gMjAyXSA9IFwiU2V0UHJvcGVydHlfVmFsdWVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJTZXRQcm90b3R5cGVPZl9TdGF0ZVwiXSA9IDIwM10gPSBcIlNldFByb3RvdHlwZU9mX1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiU2V0UHJvdG90eXBlT2ZfVmFsdWVcIl0gPSAyMDRdID0gXCJTZXRQcm90b3R5cGVPZl9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIlByZXZlbnRFeHRlbnNpb25zX1N0YXRlXCJdID0gMjA1XSA9IFwiUHJldmVudEV4dGVuc2lvbnNfU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJQcmV2ZW50RXh0ZW5zaW9uc19WYWx1ZVwiXSA9IDIwNl0gPSBcIlByZXZlbnRFeHRlbnNpb25zX1ZhbHVlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiRGVmaW5lUHJvcGVydHlfU3RhdGVcIl0gPSAyMDddID0gXCJEZWZpbmVQcm9wZXJ0eV9TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkRlZmluZVByb3BlcnR5X1ZhbHVlXCJdID0gMjA4XSA9IFwiRGVmaW5lUHJvcGVydHlfVmFsdWVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJEZWxldGVQcm9wZXJ0eV9TdGF0ZVwiXSA9IDIwOV0gPSBcIkRlbGV0ZVByb3BlcnR5X1N0YXRlXCI7XG4gICAgRXJyb3JJZFtFcnJvcklkW1wiRGVsZXRlUHJvcGVydHlfVmFsdWVcIl0gPSAyMTBdID0gXCJEZWxldGVQcm9wZXJ0eV9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkNvbnN0cnVjdF9TdGF0ZVwiXSA9IDIxMV0gPSBcIkNvbnN0cnVjdF9TdGF0ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkNvbnN0cnVjdF9WYWx1ZVwiXSA9IDIxMl0gPSBcIkNvbnN0cnVjdF9WYWx1ZVwiO1xuICAgIEVycm9ySWRbRXJyb3JJZFtcIkFwcGx5X1N0YXRlXCJdID0gMjEzXSA9IFwiQXBwbHlfU3RhdGVcIjtcbiAgICBFcnJvcklkW0Vycm9ySWRbXCJBcHBseV9WYWx1ZVwiXSA9IDIxNF0gPSBcIkFwcGx5X1ZhbHVlXCI7XG59KShFcnJvcklkIHx8IChFcnJvcklkID0ge30pKTtcbnZhciBTdGF0ZUludmFsaWRVc2FnZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGF0ZUludmFsaWRVc2FnZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXRlSW52YWxpZFVzYWdlRXJyb3IocGF0aCwgaWQsIGRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIFwiRXJyb3I6IEhPT0tTVEFURS1cIiArIGlkICsgXCIgW3BhdGg6IC9cIiArIHBhdGguam9pbignLycpICsgKGRldGFpbHMgPyBcIiwgZGV0YWlsczogXCIgKyBkZXRhaWxzIDogJycpICsgXCJdLiBcIiArXG4gICAgICAgICAgICAoXCJTZWUgaHR0cHM6Ly9ob29rc3RhdGUuanMub3JnL2RvY3MvZXhjZXB0aW9ucyNob29rc3RhdGUtXCIgKyBpZCkpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGF0ZUludmFsaWRVc2FnZUVycm9yO1xufShFcnJvcikpO1xuZnVuY3Rpb24gaXNOb1Byb3h5SW5pdGlhbGl6ZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHVzZWQgPSBuZXcgUHJveHkoe30sIHt9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG52YXIgSXNOb1Byb3h5ID0gaXNOb1Byb3h5SW5pdGlhbGl6ZXIoKTtcbnZhciBEb3duZ3JhZGVkSUQgPSBTeW1ib2woJ0Rvd25ncmFkZWQnKTtcbnZhciBTZWxmTWV0aG9kc0lEID0gU3ltYm9sKCdQcm94eU1hcmtlcicpO1xudmFyIFJvb3RQYXRoID0gW107XG52YXIgRGVzdHJveWVkRWRpdGlvbiA9IC0xO1xudmFyIFN0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0b3JlKF92YWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgdGhpcy5fZWRpdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9zZXRTdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveVN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9iYXRjaFN0YXJ0U3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2JhdGNoRmluaXNoU3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2JhdGNoZXMgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIF92YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShfdmFsdWUpID09PSBfdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VkID0gdGhpcy5jcmVhdGVQcm9taXNlZChfdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBub25lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF92YWx1ZSA9PT0gbm9uZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZWQgPSB0aGlzLmNyZWF0ZVByb21pc2VkKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3RvcmUucHJvdG90eXBlLmNyZWF0ZVByb21pc2VkID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9taXNlZCA9IG5ldyBQcm9taXNlZChuZXdWYWx1ZSA/IFByb21pc2UucmVzb2x2ZShuZXdWYWx1ZSkgOiB1bmRlZmluZWQsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvbWlzZWQgPT09IHByb21pc2VkICYmIF90aGlzLmVkaXRpb24gIT09IERlc3Ryb3llZEVkaXRpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvbWlzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0KFJvb3RQYXRoLCByLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZShbUm9vdFBhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnByb21pc2VkID09PSBwcm9taXNlZCAmJiBfdGhpcy5lZGl0aW9uICE9PSBEZXN0cm95ZWRFZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2VkaXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoW1Jvb3RQYXRoXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fYmF0Y2hlc1BlbmRpbmdBY3Rpb25zICYmXG4gICAgICAgICAgICAgICAgX3RoaXMuX3ZhbHVlICE9PSBub25lICYmXG4gICAgICAgICAgICAgICAgX3RoaXMuZWRpdGlvbiAhPT0gRGVzdHJveWVkRWRpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25zID0gX3RoaXMuX2JhdGNoZXNQZW5kaW5nQWN0aW9ucztcbiAgICAgICAgICAgICAgICBfdGhpcy5fYmF0Y2hlc1BlbmRpbmdBY3Rpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSgpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlZDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG9yZS5wcm90b3R5cGUsIFwiZWRpdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RvcmUucHJvdG90eXBlLCBcInByb21pc2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdG9yZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBub25lKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocGF0aCwgdmFsdWUsIG1lcmdlVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VkaXRpb24gPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihwYXRoLCBFcnJvcklkLlNldFN0YXRlV2hlbkRlc3Ryb3llZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBSb290IHZhbHVlIFVQREFURSBjYXNlLFxuICAgICAgICAgICAgdmFyIG9uU2V0QXJnID0ge1xuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBwcmV2aW91czogdGhpcy5fdmFsdWUsXG4gICAgICAgICAgICAgICAgbWVyZ2VkOiBtZXJnZVZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBub25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvbWlzZWQgPSB0aGlzLmNyZWF0ZVByb21pc2VkKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9uU2V0QXJnLnZhbHVlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvblNldEFyZy5zdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9taXNlZCA9IHRoaXMuY3JlYXRlUHJvbWlzZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbm9uZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb25TZXRBcmcudmFsdWU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9uU2V0QXJnLnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fcHJvbWlzZWQgJiYgKCF0aGlzLl9wcm9taXNlZC5yZXNvbHZlciAmJiAhdGhpcy5fcHJvbWlzZWQuZnVsbGZpbGxlZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihwYXRoLCBFcnJvcklkLlNldFN0YXRlV2hlblByb21pc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmV2VmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgICAgIGlmIChwcmV2VmFsdWUgPT09IG5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgb25TZXRBcmcucHJldmlvdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hZnRlclNldChvblNldEFyZyk7XG4gICAgICAgICAgICBpZiAocHJldlZhbHVlID09PSBub25lICYmIHRoaXMuX3ZhbHVlICE9PSBub25lICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlZCAmJiB0aGlzLnByb21pc2VkLnJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlZC5yZXNvbHZlcih0aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBQcm9taXNlLnJlc29sdmUodmFsdWUpID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IocGF0aCwgRXJyb3JJZC5TZXRTdGF0ZU5lc3RlZFRvUHJvbWlzZWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3BhdGhbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAocCBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbm9uZSkge1xuICAgICAgICAgICAgICAgIC8vIFByb3BlcnR5IFVQREFURSBjYXNlXG4gICAgICAgICAgICAgICAgdmFyIHByZXZWYWx1ZSA9IHRhcmdldFtwXTtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyU2V0KHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuX3ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzOiBwcmV2VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZDogbWVyZ2VWYWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUHJvcGVydHkgREVMRVRFIGNhc2VcbiAgICAgICAgICAgICAgICB2YXIgcHJldlZhbHVlID0gdGFyZ2V0W3BdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgdHlwZW9mIHAgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zcGxpY2UocCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0W3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyU2V0KHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuX3ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91czogcHJldlZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBtZXJnZWQ6IG1lcmdlVmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBpZiBhbiBhcnJheSBvZiBvYmplY3RzIGlzIGFib3V0IHRvIGxvb3NlIGV4aXN0aW5nIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gd2UgY29uc2lkZXIgaXQgaXMgdGhlIHdob2xlIG9iamVjdCBpcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgaWRlbnRpZmllZCBieSB1cHBlciBwYXRoXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbm9uZSkge1xuICAgICAgICAgICAgLy8gUHJvcGVydHkgSU5TRVJUIGNhc2VcbiAgICAgICAgICAgIHRhcmdldFtwXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hZnRlclNldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5fdmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIG1lcmdlZDogbWVyZ2VWYWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpZiBhbiBhcnJheSBvZiBvYmplY3RzIGlzIGFib3V0IHRvIGJlIGV4dGVuZGVkIGJ5IG5ldyBwcm9wZXJ0eVxuICAgICAgICAgICAgLy8gd2UgY29uc2lkZXIgaXQgaXMgdGhlIHdob2xlIG9iamVjdCBpcyBjaGFuZ2VkXG4gICAgICAgICAgICAvLyB3aGljaCBpcyBpZGVudGlmaWVkIGJ5IHVwcGVyIHBhdGhcbiAgICAgICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb24tZXhpc3RpbmcgcHJvcGVydHkgREVMRVRFIGNhc2VcbiAgICAgICAgLy8gbm8tb3BcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHBhdGhzKSB7XG4gICAgICAgIGlmICh0aGlzLl9iYXRjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9iYXRjaGVzUGVuZGluZ1BhdGhzID0gdGhpcy5fYmF0Y2hlc1BlbmRpbmdQYXRocyB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHMgPSB0aGlzLl9iYXRjaGVzUGVuZGluZ1BhdGhzLmNvbmNhdChwYXRocyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocykgeyByZXR1cm4gcy5vblNldChwYXRocywgYWN0aW9ucyk7IH0pO1xuICAgICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEoKTsgfSk7XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUuYWZ0ZXJTZXQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLl9lZGl0aW9uICE9PSBEZXN0cm95ZWRFZGl0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9lZGl0aW9uICs9IDE7XG4gICAgICAgICAgICB0aGlzLl9zZXRTdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IocGFyYW1zKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5zdGFydEJhdGNoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hlcyArPSAxO1xuICAgICAgICB2YXIgY2JBcmd1bWVudCA9IHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGhcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgJ2NvbnRleHQnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNiQXJndW1lbnQuY29udGV4dCA9IG9wdGlvbnMuY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT09IG5vbmUpIHtcbiAgICAgICAgICAgIGNiQXJndW1lbnQuc3RhdGUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9iYXRjaFN0YXJ0U3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKGNiQXJndW1lbnQpOyB9KTtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5maW5pc2hCYXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjYkFyZ3VtZW50ID0ge1xuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0aW9ucyAmJiAnY29udGV4dCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY2JBcmd1bWVudC5jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gbm9uZSkge1xuICAgICAgICAgICAgY2JBcmd1bWVudC5zdGF0ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JhdGNoRmluaXNoU3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKGNiQXJndW1lbnQpOyB9KTtcbiAgICAgICAgdGhpcy5fYmF0Y2hlcyAtPSAxO1xuICAgICAgICBpZiAodGhpcy5fYmF0Y2hlcyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGF0aHMgPSB0aGlzLl9iYXRjaGVzUGVuZGluZ1BhdGhzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhdGNoZXNQZW5kaW5nUGF0aHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUocGF0aHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUucG9zdHBvbmVCYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hlc1BlbmRpbmdBY3Rpb25zID0gdGhpcy5fYmF0Y2hlc1BlbmRpbmdBY3Rpb25zIHx8IFtdO1xuICAgICAgICB0aGlzLl9iYXRjaGVzUGVuZGluZ0FjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLmdldFBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5JZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGx1Z2lucy5nZXQocGx1Z2luSWQpO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICB2YXIgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuX3BsdWdpbnMuZ2V0KHBsdWdpbi5pZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBsdWdpbkNhbGxiYWNrcyA9IHBsdWdpbi5pbml0ID8gcGx1Z2luLmluaXQodGhpcy50b01ldGhvZHMoKS5zZWxmKSA6IHt9O1xuICAgICAgICB0aGlzLl9wbHVnaW5zLnNldChwbHVnaW4uaWQsIHBsdWdpbkNhbGxiYWNrcyk7XG4gICAgICAgIGlmIChwbHVnaW5DYWxsYmFja3Mub25TZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFN1YnNjcmliZXJzLmFkZChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGx1Z2luQ2FsbGJhY2tzLm9uU2V0KHApOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGx1Z2luQ2FsbGJhY2tzLm9uRGVzdHJveSkge1xuICAgICAgICAgICAgdGhpcy5fZGVzdHJveVN1YnNjcmliZXJzLmFkZChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGx1Z2luQ2FsbGJhY2tzLm9uRGVzdHJveShwKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsdWdpbkNhbGxiYWNrcy5vbkJhdGNoU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhdGNoU3RhcnRTdWJzY3JpYmVycy5hZGQoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBsdWdpbkNhbGxiYWNrcy5vbkJhdGNoU3RhcnQocCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbHVnaW5DYWxsYmFja3Mub25CYXRjaEZpbmlzaCkge1xuICAgICAgICAgICAgdGhpcy5fYmF0Y2hGaW5pc2hTdWJzY3JpYmVycy5hZGQoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBsdWdpbkNhbGxiYWNrcy5vbkJhdGNoRmluaXNoKHApOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnRvTWV0aG9kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZU1ldGhvZHNJbXBsKHRoaXMsIFJvb3RQYXRoLCB0aGlzLmdldChSb290UGF0aCksIHRoaXMuZWRpdGlvbiwgT25TZXRVc2VkTm9BY3Rpb24pO1xuICAgIH07XG4gICAgU3RvcmUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmFkZChsKTtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzLmRlbGV0ZShsKTtcbiAgICB9O1xuICAgIFN0b3JlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kZXN0cm95U3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKF90aGlzLl92YWx1ZSAhPT0gbm9uZSA/IHsgc3RhdGU6IF90aGlzLl92YWx1ZSB9IDoge30pOyB9KTtcbiAgICAgICAgdGhpcy5fZWRpdGlvbiA9IERlc3Ryb3llZEVkaXRpb247XG4gICAgfTtcbiAgICBTdG9yZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcihSb290UGF0aCwgRXJyb3JJZC5Ub0pzb25fVmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0b3JlO1xufSgpKTtcbnZhciBQcm9taXNlZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlZChwcm9taXNlLCBvblJlc29sdmUsIG9uUmVqZWN0LCBvblBvc3RSZXNvbHZlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzb2x2ZXIgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIF90aGlzLmZ1bGxmaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5yZXNvbHZlcikge1xuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZShyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBfdGhpcy5mdWxsZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmVycm9yID0gZXJyO1xuICAgICAgICAgICAgb25SZWplY3QoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uUG9zdFJlc29sdmUoKTsgfSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlZDtcbn0oKSk7XG4vLyB1c2Ugc3ltYm9sIHByb3BlcnR5IHRvIGFsbG93IGZvciBlYXNpZXIgcmVmZXJlbmNlIGZpbmRpbmdcbnZhciBWYWx1ZVVudXNlZE1hcmtlciA9IFN5bWJvbCgnVmFsdWVVbnVzZWRNYXJrZXInKTtcbmZ1bmN0aW9uIE9uU2V0VXNlZE5vQWN0aW9uKCkgeyB9XG4vLyB1c2Ugc3ltYm9sIHRvIG1hcmsgdGhhdCBhIGZ1bmN0aW9uIGhhcyBubyBlZmZlY3QgYW55bW9yZVxudmFyIFVubW91bnRlZE1hcmtlciA9IFN5bWJvbCgnVW5tb3VudGVkTWFya2VyJyk7XG5PblNldFVzZWROb0FjdGlvbltVbm1vdW50ZWRNYXJrZXJdID0gdHJ1ZTtcbnZhciBTdGF0ZU1ldGhvZHNJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlTWV0aG9kc0ltcGwoc3RhdGUsIHBhdGgsIHZhbHVlU291cmNlLCB2YWx1ZUVkaXRpb24sIG9uU2V0VXNlZCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudmFsdWVTb3VyY2UgPSB2YWx1ZVNvdXJjZTtcbiAgICAgICAgdGhpcy52YWx1ZUVkaXRpb24gPSB2YWx1ZUVkaXRpb247XG4gICAgICAgIHRoaXMub25TZXRVc2VkID0gb25TZXRVc2VkO1xuICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSBWYWx1ZVVudXNlZE1hcmtlcjtcbiAgICB9XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuZ2V0VW50cmFja2VkID0gZnVuY3Rpb24gKGFsbG93UHJvbWlzZWQpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVFZGl0aW9uICE9PSB0aGlzLnN0YXRlLmVkaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVTb3VyY2UgPSB0aGlzLnN0YXRlLmdldCh0aGlzLnBhdGgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZUVkaXRpb24gPSB0aGlzLnN0YXRlLmVkaXRpb247XG4gICAgICAgICAgICBpZiAodGhpcy5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGxpbmsgaXMgc3RpbGwgbW91bnRlZCB0byBhIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC8vIHBvcHVsYXRlIGNhY2hlIGFnYWluIHRvIGVuc3VyZSBjb3JyZWN0IHRyYWNraW5nIG9mIHVzYWdlXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBSZWFjdCBzY2FucyB3aGljaCBzdGF0ZXMgdG8gcmVyZW5kZXIgb24gdXBkYXRlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWVDYWNoZSAhPT0gVmFsdWVVbnVzZWRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNhY2hlID0gVmFsdWVVbnVzZWRNYXJrZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KHRydWUpOyAvLyByZW5ldyBjYWNoZSB0byBrZWVwIGl0IG1hcmtlZCB1c2VkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBsaW5rIGlzIG5vdCBtb3VudGVkIHRvIGEgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUsIGl0IG1pZ2h0IGJlIGdsb2JhbCBsaW5rIG9yXG4gICAgICAgICAgICAgICAgLy8gYSBsaW5rIHdoaWNoIGhhcyBiZWVuIGRpc2NhcmRlZCBhZnRlciByZXJlbmRlclxuICAgICAgICAgICAgICAgIC8vIGJ1dCBzdGlsbCBjYXB0dXJlZCBieSBzb21lIGNhbGxiYWNrIG9yIGFuIGVmZmVjdC5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaGVyZSBhbmQgaWYgaXQgd2FzIG1vdW50ZWQgYmVmb3JlLFxuICAgICAgICAgICAgICAgIC8vIGl0IG1lYW5zIGl0IGhhcyBub3QgYmVlbiBnYXJiYWdlIGNvbGxlY3RlZFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gYSBjb21wb25lbnQgdW5tb3VudGVkLlxuICAgICAgICAgICAgICAgIC8vIFdlIHRha2UgdGhpcyBvcHBvcnR1bml0eSB0byBjbGVhbiB1cCBjYWNoZXNcbiAgICAgICAgICAgICAgICAvLyB0byBhdm9pZCBtZW1vcnkgbGVha3MgdmlhIHN0YWxlIGNoaWxkcmVuIHN0YXRlcyBjYWNoZS5cbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSBWYWx1ZVVudXNlZE1hcmtlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jaGlsZHJlbkNhY2hlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNlbGZDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZVNvdXJjZSA9PT0gbm9uZSAmJiAhYWxsb3dQcm9taXNlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJvbWlzZWQgJiYgdGhpcy5zdGF0ZS5wcm9taXNlZC5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IHRoaXMuc3RhdGUucHJvbWlzZWQuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcih0aGlzLnBhdGgsIEVycm9ySWQuR2V0U3RhdGVXaGVuUHJvbWlzZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlU291cmNlO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGFsbG93UHJvbWlzZWQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VW50cmFja2VkKGFsbG93UHJvbWlzZWQpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZUNhY2hlID09PSBWYWx1ZVVudXNlZE1hcmtlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEb3duZ3JhZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNhY2hlID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNhY2hlID0gdGhpcy52YWx1ZUFycmF5SW1wbChjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgY3VycmVudFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNhY2hlID0gdGhpcy52YWx1ZU9iamVjdEltcGwoY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVDYWNoZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUNhY2hlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLnNldFVudHJhY2tlZCA9IGZ1bmN0aW9uIChuZXdWYWx1ZSwgbWVyZ2VWYWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlKHRoaXMuZ2V0VW50cmFja2VkKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnICYmIG5ld1ZhbHVlICE9PSBudWxsICYmIG5ld1ZhbHVlW1NlbGZNZXRob2RzSURdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhdGVJbnZhbGlkVXNhZ2VFcnJvcih0aGlzLnBhdGgsIEVycm9ySWQuU2V0U3RhdGVUb1ZhbHVlRnJvbVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMuc3RhdGUuc2V0KHRoaXMucGF0aCwgbmV3VmFsdWUsIG1lcmdlVmFsdWUpXTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZSh0aGlzLnNldFVudHJhY2tlZChuZXdWYWx1ZSkpO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUubWVyZ2VVbnRyYWNrZWQgPSBmdW5jdGlvbiAoc291cmNlVmFsdWUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VW50cmFja2VkKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNvdXJjZVZhbHVlID0gc291cmNlVmFsdWUoY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlZFBhdGhzO1xuICAgICAgICB2YXIgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyA9IGZhbHNlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRVbnRyYWNrZWQoY3VycmVudFZhbHVlLmNvbmNhdChzb3VyY2VWYWx1ZSksIHNvdXJjZVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkZWxldGVkSW5kZXhlc18xID0gW107XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc291cmNlVmFsdWUpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IE51bWJlcihpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Byb3BWYWx1ZSA9IHNvdXJjZVZhbHVlW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3BWYWx1ZSA9PT0gbm9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkSW5kZXhlc18xLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyA9IGRlbGV0ZWRPckluc2VydGVkUHJvcHMgfHwgIShpbmRleCBpbiBjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlW2luZGV4XSA9IG5ld1Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIGluZGV4ZXMgYXJlIGFzY2VuZGluZyBzb3J0ZWQgYXMgcGVyIGFib3ZlXG4gICAgICAgICAgICAgICAgLy8gc28sIGRlbGV0ZSBvbmUgYnkgb25lIGZyb20gdGhlIGVuZFxuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2F5IGluZGV4IHBvc2l0aW9ucyBkbyBub3QgY2hhbmdlXG4gICAgICAgICAgICAgICAgZGVsZXRlZEluZGV4ZXNfMS5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUuc3BsaWNlKHAsIDEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRQYXRocyA9IHRoaXMuc2V0VW50cmFja2VkKGN1cnJlbnRWYWx1ZSwgc291cmNlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdvYmplY3QnICYmIGN1cnJlbnRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc291cmNlVmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdQcm9wVmFsdWUgPSBzb3VyY2VWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wVmFsdWUgPT09IG5vbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZWRPckluc2VydGVkUHJvcHMgPSBkZWxldGVkT3JJbnNlcnRlZFByb3BzIHx8ICEoa2V5IGluIGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZVtrZXldID0gbmV3UHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdXBkYXRlZFBhdGhzID0gdGhpcy5zZXRVbnRyYWNrZWQoY3VycmVudFZhbHVlLCBzb3VyY2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFVudHJhY2tlZCgoY3VycmVudFZhbHVlICsgU3RyaW5nKHNvdXJjZVZhbHVlKSksIHNvdXJjZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFVudHJhY2tlZChzb3VyY2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWRQYXRocy5sZW5ndGggIT09IDEgfHwgdXBkYXRlZFBhdGhzWzBdICE9PSB0aGlzLnBhdGggfHwgZGVsZXRlZE9ySW5zZXJ0ZWRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRQYXRocztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlZFBhdGggPSB1cGRhdGVkUGF0aHNbMF07XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2VWYWx1ZSkubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiB1cGRhdGVkUGF0aC5zbGljZSgpLmNvbmNhdChwKTsgfSk7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChzb3VyY2VWYWx1ZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZSh0aGlzLm1lcmdlVW50cmFja2VkKHNvdXJjZVZhbHVlKSk7XG4gICAgfTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5uZXN0ZWQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkKGtleSkuc2VsZjtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLnJlcmVuZGVyID0gZnVuY3Rpb24gKHBhdGhzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUudXBkYXRlKHBhdGhzKTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuZGVzdHJveSgpO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmFkZChsKTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5kZWxldGUobCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwiaXNNb3VudGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMub25TZXRVc2VkW1VubW91bnRlZE1hcmtlcl07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5vblVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub25TZXRVc2VkW1VubW91bnRlZE1hcmtlcl0gPSB0cnVlO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUub25TZXQgPSBmdW5jdGlvbiAocGF0aHMsIGFjdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0Rvd25ncmFkZWQgJiYgX3RoaXMudmFsdWVDYWNoZSAhPT0gVmFsdWVVbnVzZWRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goX3RoaXMub25TZXRVc2VkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcGF0aHNfMSA9IHBhdGhzOyBfaSA8IHBhdGhzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoc18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RDaGlsZEtleSA9IHBhdGhbX3RoaXMucGF0aC5sZW5ndGhdO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdENoaWxkS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnZhbHVlQ2FjaGUgIT09IFZhbHVlVW51c2VkTWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goX3RoaXMub25TZXRVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RDaGlsZFZhbHVlID0gX3RoaXMuY2hpbGRyZW5DYWNoZSAmJiBfdGhpcy5jaGlsZHJlbkNhY2hlW2ZpcnN0Q2hpbGRLZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaGlsZFZhbHVlICYmIGZpcnN0Q2hpbGRWYWx1ZS5vblNldChwYXRocywgYWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdXBkYXRlZCA9IHVwZGF0ZSgpO1xuICAgICAgICBpZiAoIXVwZGF0ZWQgJiYgdGhpcy5zdWJzY3JpYmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICBzLm9uU2V0KHBhdGhzLCBhY3Rpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLCBcImtleXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gTnVtYmVyKGkpOyB9KS5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIE51bWJlci5pc0ludGVnZXIoaSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLmNoaWxkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAvLyBpZiB0aGlzIHN0YXRlIGlzIG5vdCBtb3VudGVkIHRvIGEgaG9vayxcbiAgICAgICAgLy8gd2UgZG8gbm90IGNhY2hlIGNoaWxkcmVuIHRvIGF2b2lkIHVubmVjZXNzYXJ5IG1lbW9yeSBsZWFrc1xuICAgICAgICBpZiAodGhpcy5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DYWNoZSA9IHRoaXMuY2hpbGRyZW5DYWNoZSB8fCB7fTtcbiAgICAgICAgICAgIHZhciBjYWNoZWhpdCA9IHRoaXMuY2hpbGRyZW5DYWNoZVtrZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlaGl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlaGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByID0gbmV3IFN0YXRlTWV0aG9kc0ltcGwodGhpcy5zdGF0ZSwgdGhpcy5wYXRoLnNsaWNlKCkuY29uY2F0KGtleSksIHRoaXMudmFsdWVTb3VyY2Vba2V5XSwgdGhpcy52YWx1ZUVkaXRpb24sIHRoaXMub25TZXRVc2VkKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEb3duZ3JhZGVkKSB7XG4gICAgICAgICAgICByLmlzRG93bmdyYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5DYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbkNhY2hlW2tleV0gPSByO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUudmFsdWVBcnJheUltcGwgPSBmdW5jdGlvbiAoY3VycmVudFZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChJc05vUHJveHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEb3duZ3JhZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3h5V3JhcCh0aGlzLnBhdGgsIGN1cnJlbnRWYWx1ZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3VycmVudFZhbHVlOyB9LCBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5IGluIEFycmF5LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgPT09IFNlbGZNZXRob2RzSUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjbGllbnRzIHRvIGFzc29jaWF0ZSBoaWRkZW4gY2FjaGUgd2l0aCBzdGF0ZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBOdW1iZXIoa2V5KTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihpbmRleCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNoaWxkKGluZGV4KS5nZXQoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHRhcmdldCwga2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY2xpZW50cyB0byBhc3NvY2lhdGUgaGlkZGVuIGNhY2hlIHdpdGggc3RhdGUgdmFsdWVzXG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKF90aGlzLnBhdGgsIEVycm9ySWQuU2V0UHJvcGVydHlfVmFsdWUpO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICB9O1xuICAgIFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLnZhbHVlT2JqZWN0SW1wbCA9IGZ1bmN0aW9uIChjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKElzTm9Qcm94eSkge1xuICAgICAgICAgICAgdGhpcy5pc0Rvd25ncmFkZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJveHlXcmFwKHRoaXMucGF0aCwgY3VycmVudFZhbHVlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJyZW50VmFsdWU7IH0sIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gU2VsZk1ldGhvZHNJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgIC8vIGFsbG93IGNsaWVudHMgdG8gYXNzb2NpYXRlIGhpZGRlbiBjYWNoZSB3aXRoIHN0YXRlIHZhbHVlc1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jaGlsZChrZXkpLmdldCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjbGllbnRzIHRvIGFzc29jaWF0ZSBoaWRkZW4gY2FjaGUgd2l0aCBzdGF0ZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IoX3RoaXMucGF0aCwgRXJyb3JJZC5TZXRQcm9wZXJ0eV9WYWx1ZSk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlTWV0aG9kc0ltcGwucHJvdG90eXBlLCBcInNlbGZcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxmQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxmQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gZnVuY3Rpb24gKF8sIGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3RvSlNPTicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IoX3RoaXMucGF0aCwgRXJyb3JJZC5Ub0pzb25fU3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmVzdGVkR2V0dGVyID0gZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREb3duZ3JhZGVkID0gX3RoaXMuaXNEb3duZ3JhZGVkOyAvLyByZWxldmFudCBmb3IgSUUxMSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBfdGhpcy5nZXQoKTsgLy8gSUUxMSBtYXJrcyB0aGlzIGFzIGRvd25ncmFkZWRcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNEb3duZ3JhZGVkID0gY3VycmVudERvd25ncmFkZWQ7IC8vIHJlbGV2YW50IGZvciBJRTExIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAvLyBpZiBjdXJyZW50VmFsdWUgaXMgcHJpbWl0aXZlIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBjdXJyZW50VmFsdWUgIT09ICdvYmplY3QnIHx8IGN1cnJlbnRWYWx1ZSA9PT0gbnVsbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHByb21pc2VkLCBpdCB3aWxsIGJlIG5vbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAhPT0gbm9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3YXMgYW4gZXJyb3IgY2FzZSwgYnV0IHZhcmlvdXMgdG9vbHMgbGlrZSB3ZWJwYWNrIGJ1bmRsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCByZWFjdCBkZXYgdG9vbHMgYXR0ZW1wdCB0byBnZXQgcHJvcHMgb3V0IG9mIG5vbi1udWxsIG9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoaXMgd2FzIGNoYW5nZWQgdG8gcmV0dXJuIGp1c3QgdW5kZWZpbmVkIGZvciBhbnkgcHJvcGVydHkgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgdGhlcmUgaXMgbm8gd2F5IHRvIGZpeCAzcmQgcGFydHkgdG9vbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2dnaW5nIGEgd2FybmluZyB0byBjb25zb2xlIGlzIGFsc28gbm90IGFuIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQgcG9sbHV0ZXMgY29uc29sZSBmb3IgbGVnaXRpbWF0ZSBhcHBzIG9uIGFwcCBzdGFydCBhcHAuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdmtvbnN0L2hvb2tzdGF0ZS9pc3N1ZXMvMTI1XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGVuZ3RoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgaW4gQXJyYXkucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IE51bWJlcihwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm5lc3RlZChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm5lc3RlZChwcm9wLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF0aCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAna2V5cyc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMua2V5cztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdvcm51bGwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9ybnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJvbWlzZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb21pc2VkO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZ2V0KCk7IH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHApIHsgcmV0dXJuIF90aGlzLnNldChwKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWVyZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7IHJldHVybiBfdGhpcy5tZXJnZShwKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmVzdGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmVzdGVkR2V0dGVyKHApOyB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiYXRjaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIGNvbnRleHQpIHsgcmV0dXJuIF90aGlzLmJhdGNoKGFjdGlvbiwgY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F0dGFjaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHApIHsgcmV0dXJuIF90aGlzLmF0dGFjaChwKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVzdHJveSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZGVzdHJveSgpOyB9O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5lc3RlZEdldHRlcihrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoSXNOb1Byb3h5KSB7XG4gICAgICAgICAgICAgICAgLy8gbWluaW1hbCBzdXBwb3J0IGZvciBJRTExXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8xID0gKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZVNvdXJjZSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICAgICAgICBbc2VsZiwgJ3RvSlNPTicsICdwYXRoJywgJ2tleXMnLCAndmFsdWUnLCAnb3JudWxsJyxcbiAgICAgICAgICAgICAgICAgICAgJ3Byb21pc2VkJywgJ2Vycm9yJywgJ2dldCcsICdzZXQnLCAnbWVyZ2UnLFxuICAgICAgICAgICAgICAgICAgICAnbmVzdGVkJywgJ2JhdGNoJywgJ2F0dGFjaCcsICdkZXN0cm95J11cbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0XzEsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZXR0ZXIocmVzdWx0XzEsIGtleSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlU291cmNlID09PSAnb2JqZWN0JyAmJiB0aGlzLnZhbHVlU291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMudmFsdWVTb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc3VsdF8xLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyKHJlc3VsdF8xLCBrZXkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZkNhY2hlID0gcmVzdWx0XzE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZkNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxmQ2FjaGUgPSBwcm94eVdyYXAodGhpcy5wYXRoLCB0aGlzLnZhbHVlU291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0KCk7IC8vIGdldCBsYXRlc3QgJiBtYXJrIHVzZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudmFsdWVTb3VyY2U7XG4gICAgICAgICAgICB9LCBnZXR0ZXIsIGZ1bmN0aW9uIChfLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IoX3RoaXMucGF0aCwgRXJyb3JJZC5TZXRQcm9wZXJ0eV9TdGF0ZSk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxmQ2FjaGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwicHJvbWlzZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB0aGlzLmdldCh0cnVlKTsgLy8gbWFya3MgdXNlZFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gbm9uZSAmJiB0aGlzLnN0YXRlLnByb21pc2VkICYmICF0aGlzLnN0YXRlLnByb21pc2VkLmZ1bGxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZSwgXCJlcnJvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0KHRydWUpOyAvLyBtYXJrcyB1c2VkXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlID09PSBub25lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJvbWlzZWQgJiYgdGhpcy5zdGF0ZS5wcm9taXNlZC5mdWxsZmlsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnByb21pc2VkLmVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmdldCgpOyAvLyB3aWxsIHRocm93ICdyZWFkIHdoaWxlIHByb21pc2VkJyBleGNlcHRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZU1ldGhvZHNJbXBsLnByb3RvdHlwZS5iYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wdHMgPSB7IGNvbnRleHQ6IGNvbnRleHQgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc3RhcnRCYXRjaCh0aGlzLnBhdGgsIG9wdHMpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFjdGlvbih0aGlzLnNlbGYpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcG9zdHBvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvc3Rwb25lQmF0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYmF0Y2goYWN0aW9uLCBjb250ZXh0KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5maW5pc2hCYXRjaCh0aGlzLnBhdGgsIG9wdHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUsIFwib3JudWxsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxmO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RhdGVNZXRob2RzSW1wbC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luTWV0YSA9IHAoKTtcbiAgICAgICAgICAgIGlmIChwbHVnaW5NZXRhLmlkID09PSBEb3duZ3JhZGVkSUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRG93bmdyYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWVDYWNoZSAhPT0gVmFsdWVVbnVzZWRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VW50cmFja2VkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2FjaGUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnJlZ2lzdGVyKHBsdWdpbk1ldGEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5nZXRQbHVnaW4ocCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHRoaXMucGF0aCwgRXJyb3JJZC5HZXRVbmtub3duUGx1Z2luLCBwLnRvU3RyaW5nKCkpKSxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVNZXRob2RzSW1wbDtcbn0oKSk7XG5mdW5jdGlvbiBwcm94eVdyYXAocGF0aCwgXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxudGFyZ2V0Qm9vdHN0cmFwLCBcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG50YXJnZXRHZXR0ZXIsIFxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbnByb3BlcnR5R2V0dGVyLCBcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG5wcm9wZXJ0eVNldHRlciwgaXNWYWx1ZVByb3h5KSB7XG4gICAgdmFyIG9uSW52YWxpZFVzYWdlID0gZnVuY3Rpb24gKG9wKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGF0ZUludmFsaWRVc2FnZUVycm9yKHBhdGgsIG9wKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0Qm9vdHN0cmFwICE9PSAnb2JqZWN0JyB8fCB0YXJnZXRCb290c3RyYXAgPT09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0Qm9vdHN0cmFwID0ge307XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0Qm9vdHN0cmFwLCB7XG4gICAgICAgIGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBzaG91bGQgc2F0aXNmeSB0aGUgaW52YXJpYW50czpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb3h5L2hhbmRsZXIvZ2V0UHJvdG90eXBlT2YjSW52YXJpYW50c1xuICAgICAgICAgICAgdmFyIHRhcmdldFJlYWwgPSB0YXJnZXRHZXR0ZXIoKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRSZWFsID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0UmVhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXRSZWFsKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uICh0YXJnZXQsIHYpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludmFsaWRVc2FnZShpc1ZhbHVlUHJveHkgP1xuICAgICAgICAgICAgICAgIEVycm9ySWQuU2V0UHJvdG90eXBlT2ZfU3RhdGUgOlxuICAgICAgICAgICAgICAgIEVycm9ySWQuU2V0UHJvdG90eXBlT2ZfVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBpc0V4dGVuc2libGU6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBzYXRpc2Z5IHRoZSBpbnZhcmlhbnRzOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHkvaGFuZGxlci9pc0V4dGVuc2libGUjSW52YXJpYW50c1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIHJlcXVpcmVkIHRvIHNhdGlzZnkgdGhlIGludmFyaWFudHMgb2YgdGhlIGdldFByb3RvdHlwZU9mXG4gICAgICAgICAgICAvLyByZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZSh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBwcmV2ZW50RXh0ZW5zaW9uczogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uSW52YWxpZFVzYWdlKGlzVmFsdWVQcm94eSA/XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5QcmV2ZW50RXh0ZW5zaW9uc19TdGF0ZSA6XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5QcmV2ZW50RXh0ZW5zaW9uc19WYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gKHRhcmdldCwgcCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFJlYWwgPSB0YXJnZXRHZXR0ZXIoKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRSZWFsID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0UmVhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3JpZ2luID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXRSZWFsLCBwKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW4gJiYgQXJyYXkuaXNBcnJheSh0YXJnZXRSZWFsKSAmJiBwIGluIEFycmF5LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luICYmIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogb3JpZ2luLmVudW1lcmFibGUsXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wZXJ0eUdldHRlcih0YXJnZXRSZWFsLCBwKTsgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhcmdldFJlYWwgPSB0YXJnZXRHZXR0ZXIoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0UmVhbCA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0UmVhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwIGluIHRhcmdldFJlYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogcHJvcGVydHlHZXR0ZXIsXG4gICAgICAgIHNldDogcHJvcGVydHlTZXR0ZXIsXG4gICAgICAgIGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbiAodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICByZXR1cm4gb25JbnZhbGlkVXNhZ2UoaXNWYWx1ZVByb3h5ID9cbiAgICAgICAgICAgICAgICBFcnJvcklkLkRlbGV0ZVByb3BlcnR5X1N0YXRlIDpcbiAgICAgICAgICAgICAgICBFcnJvcklkLkRlbGV0ZVByb3BlcnR5X1ZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lUHJvcGVydHk6IGZ1bmN0aW9uICh0YXJnZXQsIHAsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkludmFsaWRVc2FnZShpc1ZhbHVlUHJveHkgP1xuICAgICAgICAgICAgICAgIEVycm9ySWQuRGVmaW5lUHJvcGVydHlfU3RhdGUgOlxuICAgICAgICAgICAgICAgIEVycm9ySWQuRGVmaW5lUHJvcGVydHlfVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBvd25LZXlzOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0UmVhbCA9IHRhcmdldEdldHRlcigpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0UmVhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0UmVhbCkuY29uY2F0KCdsZW5ndGgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXRSZWFsID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0UmVhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXRSZWFsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIHRoaXNBcmcsIGFyZ0FycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gb25JbnZhbGlkVXNhZ2UoaXNWYWx1ZVByb3h5ID9cbiAgICAgICAgICAgICAgICBFcnJvcklkLkFwcGx5X1N0YXRlIDpcbiAgICAgICAgICAgICAgICBFcnJvcklkLkFwcGx5X1ZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29uc3RydWN0OiBmdW5jdGlvbiAodGFyZ2V0LCBhcmdBcnJheSwgbmV3VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb25JbnZhbGlkVXNhZ2UoaXNWYWx1ZVByb3h5ID9cbiAgICAgICAgICAgICAgICBFcnJvcklkLkNvbnN0cnVjdF9TdGF0ZSA6XG4gICAgICAgICAgICAgICAgRXJyb3JJZC5Db25zdHJ1Y3RfVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsKSB7XG4gICAgdmFyIGluaXRpYWxWYWx1ZSA9IGluaXRpYWw7XG4gICAgaWYgKHR5cGVvZiBpbml0aWFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGluaXRpYWxWYWx1ZSA9IGluaXRpYWwoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbml0aWFsVmFsdWUgPT09ICdvYmplY3QnICYmIGluaXRpYWxWYWx1ZSAhPT0gbnVsbCAmJiBpbml0aWFsVmFsdWVbU2VsZk1ldGhvZHNJRF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0YXRlSW52YWxpZFVzYWdlRXJyb3IoUm9vdFBhdGgsIEVycm9ySWQuSW5pdFN0YXRlVG9WYWx1ZUZyb21TdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3RvcmUoaW5pdGlhbFZhbHVlKTtcbn1cbi8vIERvIG5vdCB0cnkgdG8gdXNlIHVzZUxheW91dEVmZmVjdCBpZiBET00gbm90IGF2YWlsYWJsZSAoU1NSKVxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcbmZ1bmN0aW9uIHVzZVN1YnNjcmliZWRTdGF0ZU1ldGhvZHMoc3RhdGUsIHBhdGgsIHVwZGF0ZSwgc3Vic2NyaWJlVGFyZ2V0KSB7XG4gICAgdmFyIGxpbmsgPSBuZXcgU3RhdGVNZXRob2RzSW1wbChzdGF0ZSwgcGF0aCwgc3RhdGUuZ2V0KHBhdGgpLCBzdGF0ZS5lZGl0aW9uLCB1cGRhdGUpO1xuICAgIC8vIHVzZUxheW91dEVmZmVjdCBoZXJlIGluc3RlYWQgb2YgdXNlRWZmZWN0IGJlY2F1c2Ugb2YgdGhpcyBpc3N1ZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXZrb25zdC9ob29rc3RhdGUvaXNzdWVzLzE2NSNpc3N1ZWNvbW1lbnQtODI0NjcwOTMwXG4gICAgLy8gYW5kIHZlcnkgbGlrZWx5IHRoaXMgaXNzdWU6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F2a29uc3QvaG9va3N0YXRlL2lzc3Vlcy8xODZcbiAgICAvLyBhbmQgcHJvYmFibHkgdGhpcyBpc3N1ZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXZrb25zdC9ob29rc3RhdGUvaXNzdWVzLzE0NVxuICAgIC8vIHVzZUlzb21vcnBoaWNMYXlvdXQgZm9yIGJlbG93IGlzc3VlIHdoZW4gcGFnZSBpcyBTU1JcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXZrb25zdC9ob29rc3RhdGUvaXNzdWVzLzIyM1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdWJzY3JpYmVUYXJnZXQuc3Vic2NyaWJlKGxpbmspO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGluay5vblVubW91bnQoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZVRhcmdldC51bnN1YnNjcmliZShsaW5rKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gbGluaztcbn1cblxuZXhwb3J0IHsgRGV2VG9vbHMsIERldlRvb2xzSUQsIERvd25ncmFkZWQsIFN0YXRlRnJhZ21lbnQsIGNyZWF0ZVN0YXRlLCBub25lLCBwb3N0cG9uZSwgdXNlSG9va3N0YXRlLCB1c2VTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iLCJpbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyIH0gZnJvbSAnLi9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgTG9jYXRpb25BZG1pbiB9IGZyb20gJy4vTG9jYXRpb25BZG1pbidcbmltcG9ydCB7IExvY2F0aW9uQmFuIH0gZnJvbSAnLi9Mb2NhdGlvbkJhbidcbmltcG9ydCB7IFVzZXJJZCB9IGZyb20gJy4vVXNlcklkJ1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwVHlwZSB9IGZyb20gJy4vVXNlclJlbGF0aW9uc2hpcCdcblxuZXhwb3J0IGludGVyZmFjZSBVc2VyU2V0dGluZyB7XG4gIGlkOiBzdHJpbmdcbiAgc3BhdGlhbEF1ZGlvRW5hYmxlZDogYm9vbGVhblxuICB2b2x1bWU6IG51bWJlclxuICBtaWNyb3Bob25lOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyU2NvcGUge1xuICB0eXBlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcbiAgaWQ/OiBVc2VySWRcbiAgbmFtZT86IHN0cmluZ1xuICB1c2VyUm9sZT86IHN0cmluZ1xuICBhdmF0YXJJZD86IHN0cmluZ1xuICBpZGVudGl0eVByb3ZpZGVycz86IElkZW50aXR5UHJvdmlkZXJbXVxuICBsb2NhdGlvbkFkbWlucz86IExvY2F0aW9uQWRtaW5bXVxuICByZWxhdGlvblR5cGU/OiBSZWxhdGlvbnNoaXBUeXBlXG4gIGludmVyc2VSZWxhdGlvblR5cGU/OiBSZWxhdGlvbnNoaXBUeXBlXG4gIGF2YXRhclVybD86IHN0cmluZ1xuICBpbnN0YW5jZUlkPzogc3RyaW5nXG4gIGNoYW5uZWxJbnN0YW5jZUlkPzogc3RyaW5nXG4gIHBhcnR5SWQ/OiBzdHJpbmdcbiAgbG9jYXRpb25CYW5zPzogTG9jYXRpb25CYW5bXVxuICB1c2VyX3NldHRpbmc/OiBVc2VyU2V0dGluZ1xuICBpbnZpdGVDb2RlPzogc3RyaW5nXG4gIHNjb3Blcz86IFVzZXJTY29wZVtdXG59XG5cbmV4cG9ydCBjb25zdCBVc2VyU2VlZDogVXNlciA9IHtcbiAgaWQ6ICcnIGFzIFVzZXJJZCxcbiAgbmFtZTogJycsXG4gIHVzZXJSb2xlOiAnJyxcbiAgYXZhdGFySWQ6ICcnLFxuICBpZGVudGl0eVByb3ZpZGVyczogW10sXG4gIGxvY2F0aW9uQWRtaW5zOiBbXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVzZXIodXNlcjogYW55KTogVXNlciB7XG4gIGxldCByZXR1cm5lZCA9IHVzZXJcbiAgaWYgKHVzZXI/LmlkZW50aXR5X3Byb3ZpZGVycykge1xuICAgIHJldHVybmVkID0ge1xuICAgICAgLi4ucmV0dXJuZWQsXG4gICAgICBpZGVudGl0eVByb3ZpZGVyczogdXNlci5pZGVudGl0eV9wcm92aWRlcnNcbiAgICB9XG4gIH1cbiAgaWYgKHVzZXI/LmxvY2F0aW9uX2FkbWlucyAmJiB1c2VyLmxvY2F0aW9uX2FkbWlucy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuZWQgPSB7XG4gICAgICAuLi5yZXR1cm5lZCxcbiAgICAgIGxvY2F0aW9uQWRtaW5zOiB1c2VyLmxvY2F0aW9uX2FkbWluc1xuICAgIH1cbiAgfVxuICBpZiAodXNlcj8ubG9jYXRpb25fYmFucyAmJiB1c2VyLmxvY2F0aW9uX2JhbnMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybmVkID0ge1xuICAgICAgLi4ucmV0dXJuZWQsXG4gICAgICBsb2NhdGlvbkJhbnM6IHVzZXIubG9jYXRpb25fYmFuc1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKCdSZXR1cm5lZCB1c2VyOicpXG4gIC8vIGNvbnNvbGUubG9nKHJldHVybmVkKVxuICByZXR1cm4gcmV0dXJuZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVXYWxsZXRVc2VyKGNyZWRlbnRpYWxzOiBhbnkpOiBVc2VyIHtcbiAgbGV0IHJldHVybmVkID0ge1xuICAgIGlkOiAnJyBhcyBVc2VySWQsXG4gICAgaW5zdGFuY2VJZDogY3JlZGVudGlhbHMudXNlci5pZCxcbiAgICBuYW1lOiBjcmVkZW50aWFscy51c2VyLmRpc3BsYXlOYW1lLFxuICAgIHVzZXJSb2xlOiAnZ3Vlc3QnLFxuICAgIGF2YXRhcklkOiBjcmVkZW50aWFscy51c2VyLmlkLFxuICAgIGlkZW50aXR5UHJvdmlkZXJzOiBbXSxcbiAgICBsb2NhdGlvbkFkbWluczogW10sXG4gICAgYXZhdGFyVXJsOiBjcmVkZW50aWFscy51c2VyLmljb25cbiAgfVxuXG4gIHJldHVybiByZXR1cm5lZFxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBJZGVudGl0eVByb3ZpZGVyIHtcbiAgaWQ6IG51bWJlclxuICB0b2tlbjogc3RyaW5nXG4gIHR5cGU6IHN0cmluZ1xuICBpc1ZlcmlmaWVkOiBib29sZWFuXG4gIHVzZXJJZDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBJZGVudGl0eVByb3ZpZGVyU2VlZDogSWRlbnRpdHlQcm92aWRlciA9IHtcbiAgaWQ6IDAsXG4gIHRva2VuOiAnJyxcbiAgdHlwZTogJycsXG4gIGlzVmVyaWZpZWQ6IGZhbHNlLFxuICB1c2VySWQ6ICcnXG59XG4iLCJpbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyLCBJZGVudGl0eVByb3ZpZGVyU2VlZCB9IGZyb20gJy4vSWRlbnRpdHlQcm92aWRlcidcblxuZXhwb3J0IGludGVyZmFjZSBBdXRoVXNlciB7XG4gIGFjY2Vzc1Rva2VuOiBzdHJpbmdcbiAgYXV0aGVudGljYXRpb246IHtcbiAgICBzdHJhdGVneTogc3RyaW5nXG4gIH1cbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclxufVxuXG5leHBvcnQgY29uc3QgQXV0aFVzZXJTZWVkID0ge1xuICBhY2Nlc3NUb2tlbjogJycsXG4gIGF1dGhlbnRpY2F0aW9uOiB7XG4gICAgc3RyYXRlZ3k6ICcnXG4gIH0sXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXV0aFVzZXIocmVzOiBhbnkpOiBBdXRoVXNlciB7XG4gIHJldHVybiB7XG4gICAgYWNjZXNzVG9rZW46IHJlcy5hY2Nlc3NUb2tlbixcbiAgICBhdXRoZW50aWNhdGlvbjogcmVzLmF1dGhlbnRpY2F0aW9uLFxuICAgIGlkZW50aXR5UHJvdmlkZXI6IHJlc1snaWRlbnRpdHktcHJvdmlkZXInXVxuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBdXRoQWN0aW9uVHlwZSB9IGZyb20gJy4vQXV0aEFjdGlvbidcbmltcG9ydCB7IGdldFN0b3JlZEF1dGhTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3BlcnNpc3RlZC5zdG9yZSdcbmltcG9ydCB7IFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBBdXRoVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuaW1wb3J0IHsgVXNlckF2YXRhciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlckF2YXRhcidcbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgZXJyb3I6ICcnLFxuICBhdXRoVXNlcjogQXV0aFVzZXJTZWVkLFxuICB1c2VyOiBVc2VyU2VlZCxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWQsXG4gIGF2YXRhckxpc3Q6IFtdIGFzIEFycmF5PFVzZXJBdmF0YXI+XG59KVxuXG5leHBvcnQgY29uc3QgYXV0aFJlZHVjZXIgPSAoXywgYWN0aW9uOiBBdXRoQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGF1dGhSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmV4cG9ydCBjb25zdCBhdXRoUmVjZXB0b3IgPSAoYWN0aW9uOiBBdXRoQWN0aW9uVHlwZSk6IHZvaWQgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FDVElPTl9QUk9DRVNTSU5HJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpc1Byb2Nlc3Npbmc6IGFjdGlvbi5wcm9jZXNzaW5nLCBlcnJvcjogJycgfSlcbiAgICAgIGNhc2UgJ0xPR0lOX1VTRVJfU1VDQ0VTUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaXNMb2dnZWRJbjogdHJ1ZSwgYXV0aFVzZXI6IGFjdGlvbi5hdXRoVXNlciB9KVxuICAgICAgY2FzZSAnTE9HSU5fVVNFUl9FUlJPUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgZXJyb3I6IGFjdGlvbi5tZXNzYWdlIH0pXG4gICAgICBjYXNlICdMT0dJTl9VU0VSX0JZX0dJVEhVQl9TVUNDRVNTJzpcbiAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICBjYXNlICdMT0dJTl9VU0VSX0JZX0dJVEhVQl9FUlJPUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgZXJyb3I6IGFjdGlvbi5tZXNzYWdlIH0pXG4gICAgICBjYXNlICdMT0dJTl9VU0VSX0JZX0xJTktFRElOX1NVQ0NFU1MnOlxuICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgIGNhc2UgJ0xPR0lOX1VTRVJfQllfTElOS0VESU5fRVJST1InOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGVycm9yOiBhY3Rpb24ubWVzc2FnZSB9KVxuICAgICAgY2FzZSAnUkVHSVNURVJfVVNFUl9CWV9FTUFJTF9TVUNDRVNTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpZGVudGl0eVByb3ZpZGVyOiBhY3Rpb24uaWRlbnRpdHlQcm92aWRlciB9KVxuICAgICAgY2FzZSAnUkVHSVNURVJfVVNFUl9CWV9FTUFJTF9FUlJPUic6XG4gICAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgY2FzZSAnTE9HT1VUX1VTRVInOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGlzTG9nZ2VkSW46IGZhbHNlLCB1c2VyOiBVc2VyU2VlZCwgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCB9KVxuICAgICAgY2FzZSAnRElEX1ZFUklGWV9FTUFJTCc6XG4gICAgICAgIHJldHVybiBzLmlkZW50aXR5UHJvdmlkZXIubWVyZ2UoeyBpc1ZlcmlmaWVkOiBhY3Rpb24ucmVzdWx0IH0pXG5cbiAgICAgIGNhc2UgJ0xPQURFRF9VU0VSX0RBVEEnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHVzZXI6IGFjdGlvbi51c2VyIH0pXG4gICAgICBjYXNlICdSRVNUT1JFJzoge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSBnZXRTdG9yZWRBdXRoU3RhdGUoKVxuICAgICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgICAgaXNMb2dnZWRJbjogc3RvcmVkLmlzTG9nZ2VkSW4sXG4gICAgICAgICAgICBhdXRoVXNlcjogc3RvcmVkLmF1dGhVc2VyLFxuICAgICAgICAgICAgaWRlbnRpdHlQcm92aWRlcjogc3RvcmVkLmlkZW50aXR5UHJvdmlkZXJcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgfVxuICAgICAgY2FzZSAnQVZBVEFSX1VQREFURUQnOiB7XG4gICAgICAgIHJldHVybiBzLnVzZXIubWVyZ2UoeyBhdmF0YXJVcmw6IGFjdGlvbi51cmwgfSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1VTRVJOQU1FX1VQREFURUQnOiB7XG4gICAgICAgIHJldHVybiBzLnVzZXIubWVyZ2UoeyBuYW1lOiBhY3Rpb24ubmFtZSB9KVxuICAgICAgfVxuICAgICAgY2FzZSAnVVNFUkFWQVRBUklEX1VQREFURUQnOiB7XG4gICAgICAgIHJldHVybiBzLnVzZXIubWVyZ2UoeyBhdmF0YXJJZDogYWN0aW9uLmF2YXRhcklkIH0pXG4gICAgICB9XG4gICAgICBjYXNlICdVU0VSX1VQREFURUQnOiB7XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXNlcjogYWN0aW9uLnVzZXIgfSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1VQREFURV9VU0VSX1NFVFRJTkdTJzoge1xuICAgICAgICByZXR1cm4gcy51c2VyLm1lcmdlKHsgdXNlcl9zZXR0aW5nOiBhY3Rpb24uZGF0YSB9KVxuICAgICAgfVxuICAgICAgY2FzZSAnQVZBVEFSX0ZFVENIRUQnOiB7XG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IGFjdGlvbi5hdmF0YXJMaXN0XG4gICAgICAgIGNvbnN0IGF2YXRhckRhdGEgPSB7fVxuICAgICAgICBmb3IgKGxldCByZXNvdXJjZSBvZiByZXNvdXJjZXMpIHtcbiAgICAgICAgICBjb25zdCByID0gYXZhdGFyRGF0YVsocmVzb3VyY2UgYXMgYW55KS5uYW1lXSB8fCB7fVxuICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBdmF0YXIgcmVzb3VyY2UgaXMgZW1wdHksIGhhdmUgeW91IHN5bmNlZCBhdmF0YXJzIHRvIHlvdXIgc3RhdGljIGZpbGUgc3RvcmFnZT8nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIHJbKHJlc291cmNlIGFzIGFueSkuc3RhdGljUmVzb3VyY2VUeXBlXSA9IHJlc291cmNlXG4gICAgICAgICAgYXZhdGFyRGF0YVsocmVzb3VyY2UgYXMgYW55KS5uYW1lXSA9IHJcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgYXZhdGFyTGlzdDogT2JqZWN0LmtleXMoYXZhdGFyRGF0YSkubWFwKChrZXkpID0+IGF2YXRhckRhdGFba2V5XSkgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQXV0aFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBdXRoU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IHNhdmVBdXRoU3RhdGUgfSBmcm9tICcuL3BlcnNpc3RlZC5zdG9yZSdcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSAncmVkdXgtdGh1bmsnXG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSdcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICdyZWR1eC1kZXZ0b29scy1leHRlbnNpb24nXG5pbXBvcnQgeyBhY2Nlc3NBdXRoU3RhdGUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU3RhdGUnXG5jb25zdCBpbml0aWFsU3RhdGU6IGFueSA9IEltbXV0YWJsZS5NYXAoKVxuY29uc3QgbWlkZGxld2FyZSA9IGFwcGx5TWlkZGxld2FyZSh0aHVua01pZGRsZXdhcmUpXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVTdG9yZShyZWR1Y2Vycykge1xuICBTdG9yZS5zdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgIHJlZHVjZXJzLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICAvLyBpZiBub3QgcHJvZHVjdGlvbiwgZW5hYmxlIHJlZHV4IGRldiB0b29scy5cbiAgICBwcm9jZXNzLmVudi5BUFBfRU5WID09PSAncHJvZHVjdGlvbicgPyBtaWRkbGV3YXJlIDogY29tcG9zZVdpdGhEZXZUb29scyhtaWRkbGV3YXJlKVxuICApXG4gIDsod2luZG93IGFzIGFueSkuc3RvcmUgPSBTdG9yZS5zdG9yZSAvLyBFeHBvc2luZyB0aGUgc3RvcmUgdG8gd2luZG93IHRvIG1ha2UgaXQgaW50ZW50aW9uYWxseSBhdmFpbGFibGUgdG8gYm90cyBhbmQgY2xpZW50cyBhbmQgd2hhdG5vdFxuICAvLyBhZGQgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBvbiBhbnkgc3RhdGUgY2hhbmdlLlxuICBTdG9yZS5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIHNhdmVBdXRoU3RhdGUoYWNjZXNzQXV0aFN0YXRlKCkudmFsdWUpXG4gIH0pXG5cbiAgcmV0dXJuIFN0b3JlLnN0b3JlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JlIHtcbiAgc3RhdGljIHN0b3JlXG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdm9pZCAwO1xuXG52YXIgZ3RhZyA9IGZ1bmN0aW9uIGd0YWcoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBfd2luZG93O1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuZ3RhZyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG5cbiAgICAgIHdpbmRvdy5ndGFnID0gZnVuY3Rpb24gZ3RhZygpIHtcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIChfd2luZG93ID0gd2luZG93KS5ndGFnLmFwcGx5KF93aW5kb3csIGFyZ3MpO1xuICB9XG59O1xuXG52YXIgX2RlZmF1bHQgPSBndGFnO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZm9ybWF0O1xudmFyIHNtYWxsV29yZHMgPSAvXihhfGFufGFuZHxhc3xhdHxidXR8Ynl8ZW58Zm9yfGlmfGlufG5vcnxvZnxvbnxvcnxwZXJ8dGhlfHRvfHZzP1xcLj98dmlhKSQvaTtcblxuZnVuY3Rpb24gdG9UaXRsZUNhc2Uoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcudG9TdHJpbmcoKS50cmltKCkucmVwbGFjZSgvW0EtWmEtejAtOVxcdTAwQzAtXFx1MDBGRl0rW15cXHMtXSovZywgZnVuY3Rpb24gKG1hdGNoLCBpbmRleCwgdGl0bGUpIHtcbiAgICBpZiAoaW5kZXggPiAwICYmIGluZGV4ICsgbWF0Y2gubGVuZ3RoICE9PSB0aXRsZS5sZW5ndGggJiYgbWF0Y2guc2VhcmNoKHNtYWxsV29yZHMpID4gLTEgJiYgdGl0bGUuY2hhckF0KGluZGV4IC0gMikgIT09IFwiOlwiICYmICh0aXRsZS5jaGFyQXQoaW5kZXggKyBtYXRjaC5sZW5ndGgpICE9PSBcIi1cIiB8fCB0aXRsZS5jaGFyQXQoaW5kZXggLSAxKSA9PT0gXCItXCIpICYmIHRpdGxlLmNoYXJBdChpbmRleCAtIDEpLnNlYXJjaCgvW15cXHMtXS8pIDwgMCkge1xuICAgICAgcmV0dXJuIG1hdGNoLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoLnN1YnN0cigxKS5zZWFyY2goL1tBLVpdfFxcLi4vKSA+IC0xKSB7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbWF0Y2guc3Vic3RyKDEpO1xuICB9KTtcbn0gLy8gU2VlIGlmIHMgY291bGQgYmUgYW4gZW1haWwgYWRkcmVzcy4gV2UgZG9uJ3Qgd2FudCB0byBzZW5kIHBlcnNvbmFsIGRhdGEgbGlrZSBlbWFpbC5cbi8vIGh0dHBzOi8vc3VwcG9ydC5nb29nbGUuY29tL2FuYWx5dGljcy9hbnN3ZXIvMjc5NTk4Mz9obD1lblxuXG5cbmZ1bmN0aW9uIG1pZ2h0QmVFbWFpbChzKSB7XG4gIC8vIFRoZXJlJ3Mgbm8gcG9pbnQgdHJ5aW5nIHRvIHZhbGlkYXRlIHJmYzgyMiBmdWxseSwganVzdCBsb29rIGZvciAuLi5ALi4uXG4gIHJldHVybiB0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIiAmJiBzLmluZGV4T2YoXCJAXCIpICE9PSAtMTtcbn1cblxudmFyIHJlZGFjdGVkID0gXCJSRURBQ1RFRCAoUG90ZW50aWFsIEVtYWlsIEFkZHJlc3MpXCI7XG5cbmZ1bmN0aW9uIHJlZGFjdEVtYWlsKHN0cmluZykge1xuICBpZiAobWlnaHRCZUVtYWlsKHN0cmluZykpIHtcbiAgICBjb25zb2xlLndhcm4oXCJUaGlzIGFyZyBsb29rcyBsaWtlIGFuIGVtYWlsIGFkZHJlc3MsIHJlZGFjdGluZy5cIik7XG4gICAgcmV0dXJuIHJlZGFjdGVkO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZztcbn1cblxuZnVuY3Rpb24gZm9ybWF0KCkge1xuICB2YXIgcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogXCJcIjtcbiAgdmFyIHRpdGxlQ2FzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgdmFyIHJlZGFjdGluZ0VtYWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlO1xuXG4gIHZhciBfc3RyID0gcyB8fCBcIlwiO1xuXG4gIGlmICh0aXRsZUNhc2UpIHtcbiAgICBfc3RyID0gdG9UaXRsZUNhc2Uocyk7XG4gIH1cblxuICBpZiAocmVkYWN0aW5nRW1haWwpIHtcbiAgICBfc3RyID0gcmVkYWN0RW1haWwoX3N0cik7XG4gIH1cblxuICByZXR1cm4gX3N0cjtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZXhwb3J0cy5HQTQgPSB2b2lkIDA7XG5cbnZhciBfZ3RhZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZ3RhZ1wiKSk7XG5cbnZhciBfZm9ybWF0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9mb3JtYXRcIikpO1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wiZXZlbnRDYXRlZ29yeVwiLCBcImV2ZW50QWN0aW9uXCIsIFwiZXZlbnRMYWJlbFwiLCBcImV2ZW50VmFsdWVcIiwgXCJoaXRUeXBlXCJdLFxuICAgIF9leGNsdWRlZDIgPSBbXCJ0aXRsZVwiLCBcImxvY2F0aW9uXCJdLFxuICAgIF9leGNsdWRlZDMgPSBbXCJwYWdlXCIsIFwiaGl0VHlwZVwiXSxcbiAgICBfZXhjbHVkZWQ0ID0gW1wiYWN0aW9uXCIsIFwiY2F0ZWdvcnlcIiwgXCJsYWJlbFwiLCBcInZhbHVlXCIsIFwibm9uSW50ZXJhY3Rpb25cIiwgXCJ0cmFuc3BvcnRcIl07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qXG5MaW5rc1xuaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vZ3RhZ2pzL3JlZmVyZW5jZS9hcGlcbmh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3RhZy1wbGF0Zm9ybS9ndGFnanMvcmVmZXJlbmNlXG4qL1xuXG4vKipcbiAqIEB0eXBlZGVmIEdhT3B0aW9uc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2Nvb2tpZVVwZGF0ZT10cnVlXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjb29raWVFeHBpcmVzPTYzMDcyMDAwXSBEZWZhdWx0IHR3byB5ZWFyc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb29raWVEb21haW49XCJhdXRvXCJdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Nvb2tpZUZsYWdzXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1c2VySWRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsaWVudElkXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbYW5vbnltaXplSXBdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbnRlbnRHcm91cDFdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbnRlbnRHcm91cDJdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbnRlbnRHcm91cDNdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbnRlbnRHcm91cDRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbnRlbnRHcm91cDVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbGxvd0FkRmVhdHVyZXM9dHJ1ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsbG93QWRQZXJzb25hbGl6YXRpb25TaWduYWxzXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbbm9uSW50ZXJhY3Rpb25dXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BhZ2VdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBVYUV2ZW50T3B0aW9uc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjYXRlZ29yeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmFsdWVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtub25JbnRlcmFjdGlvbl1cbiAqIEBwcm9wZXJ0eSB7KCdiZWFjb24nfCd4aHInfCdpbWFnZScpfSBbdHJhbnNwb3J0XVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgSW5pdE9wdGlvbnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHJhY2tpbmdJZFxuICogQHByb3BlcnR5IHtHYU9wdGlvbnN8YW55fSBbZ2FPcHRpb25zXVxuICogQHByb3BlcnR5IHtPYmplY3R9IFtndGFnT3B0aW9uc10gTmV3IHBhcmFtZXRlclxuICovXG52YXIgR0E0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR0E0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR0E0KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLl90ZXN0TW9kZSA9IGZhbHNlO1xuICAgICAgX3RoaXMuX2N1cnJlbnRNZWFzdXJlbWVudElkO1xuICAgICAgX3RoaXMuX2hhc0xvYWRlZEdBID0gZmFsc2U7XG4gICAgICBfdGhpcy5faXNRdWV1aW5nID0gZmFsc2U7XG4gICAgICBfdGhpcy5fcXVldWVHdGFnID0gW107XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ3RhZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5fdGVzdE1vZGUpIHtcbiAgICAgICAgaWYgKF90aGlzLl9pc1F1ZXVpbmcpIHtcbiAgICAgICAgICBfdGhpcy5fcXVldWVHdGFnLnB1c2goYXJncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2d0YWdbXCJkZWZhdWx0XCJdLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9xdWV1ZUd0YWcucHVzaChhcmdzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9sb2FkR0FcIiwgZnVuY3Rpb24gKEdBX01FQVNVUkVNRU5UX0lEKSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLl9oYXNMb2FkZWRHQSkge1xuICAgICAgICAvLyBHbG9iYWwgU2l0ZSBUYWcgKGd0YWcuanMpIC0gR29vZ2xlIEFuYWx5dGljc1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgc2NyaXB0LnNyYyA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RhZy9qcz9pZD1cIi5jb25jYXQoR0FfTUVBU1VSRU1FTlRfSUQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xuXG4gICAgICAgIHdpbmRvdy5ndGFnID0gZnVuY3Rpb24gZ3RhZygpIHtcbiAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goYXJndW1lbnRzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5faGFzTG9hZGVkR0EgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RvR3RhZ09wdGlvbnNcIiwgZnVuY3Rpb24gKGdhT3B0aW9ucykge1xuICAgICAgaWYgKCFnYU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWFwRmllbGRzID0ge1xuICAgICAgICAvLyBPbGQgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2ZpZWxkLXJlZmVyZW5jZSNjb29raWVVcGRhdGVcbiAgICAgICAgLy8gTmV3IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9ndGFnanMvY29va2llcy11c2VyLWlkI2Nvb2tpZV91cGRhdGVcbiAgICAgICAgY29va2llVXBkYXRlOiBcImNvb2tpZV91cGRhdGVcIixcbiAgICAgICAgY29va2llRXhwaXJlczogXCJjb29raWVfZXhwaXJlc1wiLFxuICAgICAgICBjb29raWVEb21haW46IFwiY29va2llX2RvbWFpblwiLFxuICAgICAgICBjb29raWVGbGFnczogXCJjb29raWVfZmxhZ3NcIixcbiAgICAgICAgLy8gbXVzdCBiZSBpbiBzZXQgbWV0aG9kP1xuICAgICAgICB1c2VySWQ6IFwidXNlcl9pZFwiLFxuICAgICAgICBjbGllbnRJZDogXCJjbGllbnRfaWRcIixcbiAgICAgICAgYW5vbnltaXplSXA6IFwiYW5vbnltaXplX2lwXCIsXG4gICAgICAgIC8vIGh0dHBzOi8vc3VwcG9ydC5nb29nbGUuY29tL2FuYWx5dGljcy9hbnN3ZXIvMjg1MzU0Nj9obD1lbiN6aXBweT0lMkNpbi10aGlzLWFydGljbGVcbiAgICAgICAgY29udGVudEdyb3VwMTogXCJjb250ZW50X2dyb3VwMVwiLFxuICAgICAgICBjb250ZW50R3JvdXAyOiBcImNvbnRlbnRfZ3JvdXAyXCIsXG4gICAgICAgIGNvbnRlbnRHcm91cDM6IFwiY29udGVudF9ncm91cDNcIixcbiAgICAgICAgY29udGVudEdyb3VwNDogXCJjb250ZW50X2dyb3VwNFwiLFxuICAgICAgICBjb250ZW50R3JvdXA1OiBcImNvbnRlbnRfZ3JvdXA1XCIsXG4gICAgICAgIC8vIGh0dHBzOi8vc3VwcG9ydC5nb29nbGUuY29tL2FuYWx5dGljcy9hbnN3ZXIvOTA1MDg1Mj9obD1lblxuICAgICAgICBhbGxvd0FkRmVhdHVyZXM6IFwiYWxsb3dfZ29vZ2xlX3NpZ25hbHNcIixcbiAgICAgICAgYWxsb3dBZFBlcnNvbmFsaXphdGlvblNpZ25hbHM6IFwiYWxsb3dfYWRfcGVyc29uYWxpemF0aW9uX3NpZ25hbHNcIixcbiAgICAgICAgbm9uSW50ZXJhY3Rpb246IFwibm9uX2ludGVyYWN0aW9uXCIsXG4gICAgICAgIHBhZ2U6IFwicGFnZV9wYXRoXCIsXG4gICAgICAgIGhpdENhbGxiYWNrOiBcImV2ZW50X2NhbGxiYWNrXCJcbiAgICAgIH07XG4gICAgICB2YXIgZ3RhZ09wdGlvbnMgPSBPYmplY3QuZW50cmllcyhnYU9wdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAocHJldiwgX3JlZikge1xuICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgIGtleSA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgdmFsdWUgPSBfcmVmMlsxXTtcblxuICAgICAgICBpZiAobWFwRmllbGRzW2tleV0pIHtcbiAgICAgICAgICBwcmV2W21hcEZpZWxkc1trZXldXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9LCB7fSk7XG4gICAgICByZXR1cm4gZ3RhZ09wdGlvbnM7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsaXplXCIsIGZ1bmN0aW9uIChHQV9NRUFTVVJFTUVOVF9JRCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICBpZiAoIUdBX01FQVNVUkVNRU5UX0lEKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmUgR0FfTUVBU1VSRU1FTlRfSURcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbml0Q29uZmlncyA9IHR5cGVvZiBHQV9NRUFTVVJFTUVOVF9JRCA9PT0gXCJzdHJpbmdcIiA/IFt7XG4gICAgICAgIHRyYWNraW5nSWQ6IEdBX01FQVNVUkVNRU5UX0lEXG4gICAgICB9XSA6IEdBX01FQVNVUkVNRU5UX0lEO1xuICAgICAgX3RoaXMuX2N1cnJlbnRNZWFzdXJlbWVudElkID0gaW5pdENvbmZpZ3NbMF0udHJhY2tpbmdJZDtcbiAgICAgIHZhciBfb3B0aW9ucyR0ZXN0TW9kZSA9IG9wdGlvbnMudGVzdE1vZGUsXG4gICAgICAgICAgdGVzdE1vZGUgPSBfb3B0aW9ucyR0ZXN0TW9kZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyR0ZXN0TW9kZSxcbiAgICAgICAgICBnYU9wdGlvbnMgPSBvcHRpb25zLmdhT3B0aW9ucyxcbiAgICAgICAgICBndGFnT3B0aW9ucyA9IG9wdGlvbnMuZ3RhZ09wdGlvbnM7XG4gICAgICBfdGhpcy5fdGVzdE1vZGUgPSB0ZXN0TW9kZTtcblxuICAgICAgaWYgKCF0ZXN0TW9kZSkge1xuICAgICAgICBfdGhpcy5fbG9hZEdBKF90aGlzLl9jdXJyZW50TWVhc3VyZW1lbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICBfdGhpcy5fZ3RhZyhcImpzXCIsIG5ldyBEYXRlKCkpO1xuXG4gICAgICAgIGluaXRDb25maWdzLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgIHZhciBtZXJnZWRHdGFnT3B0aW9ucyA9IF90aGlzLl9hcHBlbmRDdXN0b21NYXAoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2d0YWdqcy9wYWdlcyNkaXNhYmxlX3BhZ2V2aWV3X21lYXN1cmVtZW50XG4gICAgICAgICAgICBzZW5kX3BhZ2VfdmlldzogZmFsc2VcbiAgICAgICAgICB9LCBfdGhpcy5fdG9HdGFnT3B0aW9ucyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGdhT3B0aW9ucyksIGNvbmZpZy5nYU9wdGlvbnMpKSksIGd0YWdPcHRpb25zKSwgY29uZmlnLmdhT3B0aW9ucykpO1xuXG4gICAgICAgICAgX3RoaXMuX2d0YWcoXCJjb25maWdcIiwgY29uZmlnLnRyYWNraW5nSWQsIG1lcmdlZEd0YWdPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoIXRlc3RNb2RlKSB7XG4gICAgICAgIHZhciBxdWV1ZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuX3F1ZXVlR3RhZyk7XG5cbiAgICAgICAgX3RoaXMuX3F1ZXVlR3RhZyA9IFtdO1xuICAgICAgICBfdGhpcy5faXNRdWV1aW5nID0gZmFsc2U7XG5cbiAgICAgICAgd2hpbGUgKHF1ZXVlcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcXVldWUgPSBxdWV1ZXMuc2hpZnQoKTtcblxuICAgICAgICAgIF90aGlzLl9ndGFnLmFwcGx5KF90aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkocXVldWUpKTtcblxuICAgICAgICAgIGlmIChxdWV1ZVswXSA9PT0gXCJnZXRcIikge1xuICAgICAgICAgICAgX3RoaXMuX2lzUXVldWluZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRcIiwgZnVuY3Rpb24gKGZpZWxkc09iamVjdCkge1xuICAgICAgaWYgKCFmaWVsZHNPYmplY3QpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiYGZpZWxkc09iamVjdGAgaXMgcmVxdWlyZWQgaW4gLnNldCgpXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdHlwZW9mKGZpZWxkc09iamVjdCkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiRXhwZWN0ZWQgYGZpZWxkc09iamVjdGAgYXJnIHRvIGJlIGFuIE9iamVjdFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZmllbGRzT2JqZWN0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiZW1wdHkgYGZpZWxkc09iamVjdGAgZ2l2ZW4gdG8gLnNldCgpXCIpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fZ2FDb21tYW5kKFwic2V0XCIsIGZpZWxkc09iamVjdCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2FDb21tYW5kU2VuZEV2ZW50XCIsIGZ1bmN0aW9uIChldmVudENhdGVnb3J5LCBldmVudEFjdGlvbiwgZXZlbnRMYWJlbCwgZXZlbnRWYWx1ZSwgZmllbGRzT2JqZWN0KSB7XG4gICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIGV2ZW50QWN0aW9uLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBldmVudF9jYXRlZ29yeTogZXZlbnRDYXRlZ29yeSxcbiAgICAgICAgZXZlbnRfbGFiZWw6IGV2ZW50TGFiZWwsXG4gICAgICAgIHZhbHVlOiBldmVudFZhbHVlXG4gICAgICB9LCBmaWVsZHNPYmplY3QgJiYge1xuICAgICAgICBub25faW50ZXJhY3Rpb246IGZpZWxkc09iamVjdC5ub25JbnRlcmFjdGlvblxuICAgICAgfSksIF90aGlzLl90b0d0YWdPcHRpb25zKGZpZWxkc09iamVjdCkpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZW5kRXZlbnRQYXJhbWV0ZXJzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5fZ2FDb21tYW5kU2VuZEV2ZW50LmFwcGx5KF90aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncy5zbGljZSgxKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9hcmdzJCA9IGFyZ3NbMF0sXG4gICAgICAgICAgICBldmVudENhdGVnb3J5ID0gX2FyZ3MkLmV2ZW50Q2F0ZWdvcnksXG4gICAgICAgICAgICBldmVudEFjdGlvbiA9IF9hcmdzJC5ldmVudEFjdGlvbixcbiAgICAgICAgICAgIGV2ZW50TGFiZWwgPSBfYXJncyQuZXZlbnRMYWJlbCxcbiAgICAgICAgICAgIGV2ZW50VmFsdWUgPSBfYXJncyQuZXZlbnRWYWx1ZSxcbiAgICAgICAgICAgIGhpdFR5cGUgPSBfYXJncyQuaGl0VHlwZSxcbiAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX2FyZ3MkLCBfZXhjbHVkZWQpO1xuXG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kRXZlbnQoZXZlbnRDYXRlZ29yeSwgZXZlbnRBY3Rpb24sIGV2ZW50TGFiZWwsIGV2ZW50VmFsdWUsIHJlc3QpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2dhQ29tbWFuZFNlbmRUaW1pbmdcIiwgZnVuY3Rpb24gKHRpbWluZ0NhdGVnb3J5LCB0aW1pbmdWYXIsIHRpbWluZ1ZhbHVlLCB0aW1pbmdMYWJlbCkge1xuICAgICAgX3RoaXMuX2d0YWcoXCJldmVudFwiLCBcInRpbWluZ19jb21wbGV0ZVwiLCB7XG4gICAgICAgIG5hbWU6IHRpbWluZ1ZhcixcbiAgICAgICAgdmFsdWU6IHRpbWluZ1ZhbHVlLFxuICAgICAgICBldmVudF9jYXRlZ29yeTogdGltaW5nQ2F0ZWdvcnksXG4gICAgICAgIGV2ZW50X2xhYmVsOiB0aW1pbmdMYWJlbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2FDb21tYW5kU2VuZFBhZ2V2aWV3XCIsIGZ1bmN0aW9uIChwYWdlLCBmaWVsZHNPYmplY3QpIHtcbiAgICAgIGlmIChmaWVsZHNPYmplY3QgJiYgT2JqZWN0LmtleXMoZmllbGRzT2JqZWN0KS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIF90aGlzJF90b0d0YWdPcHRpb25zID0gX3RoaXMuX3RvR3RhZ09wdGlvbnMoZmllbGRzT2JqZWN0KSxcbiAgICAgICAgICAgIHRpdGxlID0gX3RoaXMkX3RvR3RhZ09wdGlvbnMudGl0bGUsXG4gICAgICAgICAgICBsb2NhdGlvbiA9IF90aGlzJF90b0d0YWdPcHRpb25zLmxvY2F0aW9uLFxuICAgICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRfdG9HdGFnT3B0aW9ucywgX2V4Y2x1ZGVkMik7XG5cbiAgICAgICAgX3RoaXMuX2d0YWcoXCJldmVudFwiLCBcInBhZ2Vfdmlld1wiLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYWdlICYmIHtcbiAgICAgICAgICBwYWdlX3BhdGg6IHBhZ2VcbiAgICAgICAgfSksIHRpdGxlICYmIHtcbiAgICAgICAgICBwYWdlX3RpdGxlOiB0aXRsZVxuICAgICAgICB9KSwgbG9jYXRpb24gJiYge1xuICAgICAgICAgIHBhZ2VfbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgIH0pLCByZXN0KSk7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2UpIHtcbiAgICAgICAgX3RoaXMuX2d0YWcoXCJldmVudFwiLCBcInBhZ2Vfdmlld1wiLCB7XG4gICAgICAgICAgcGFnZV9wYXRoOiBwYWdlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX2d0YWcoXCJldmVudFwiLCBcInBhZ2Vfdmlld1wiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZW5kUGFnZXZpZXdQYXJhbWV0ZXJzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5fZ2FDb21tYW5kU2VuZFBhZ2V2aWV3LmFwcGx5KF90aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncy5zbGljZSgxKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9hcmdzJDIgPSBhcmdzWzBdLFxuICAgICAgICAgICAgcGFnZSA9IF9hcmdzJDIucGFnZSxcbiAgICAgICAgICAgIGhpdFR5cGUgPSBfYXJncyQyLmhpdFR5cGUsXG4gICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9hcmdzJDIsIF9leGNsdWRlZDMpO1xuXG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kUGFnZXZpZXcocGFnZSwgcmVzdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2FDb21tYW5kU2VuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGl0VHlwZSA9IHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiID8gYXJnc1swXSA6IGFyZ3NbMF0uaGl0VHlwZTtcblxuICAgICAgc3dpdGNoIChoaXRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJldmVudFwiOlxuICAgICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kRXZlbnRQYXJhbWV0ZXJzLmFwcGx5KF90aGlzLCBhcmdzKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJwYWdldmlld1wiOlxuICAgICAgICAgIF90aGlzLl9nYUNvbW1hbmRTZW5kUGFnZXZpZXdQYXJhbWV0ZXJzLmFwcGx5KF90aGlzLCBhcmdzKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ0aW1pbmdcIjpcbiAgICAgICAgICBfdGhpcy5fZ2FDb21tYW5kU2VuZFRpbWluZy5hcHBseShfdGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3Muc2xpY2UoMSkpKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzY3JlZW52aWV3XCI6XG4gICAgICAgIGNhc2UgXCJ0cmFuc2FjdGlvblwiOlxuICAgICAgICBjYXNlIFwiaXRlbVwiOlxuICAgICAgICBjYXNlIFwic29jaWFsXCI6XG4gICAgICAgIGNhc2UgXCJleGNlcHRpb25cIjpcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCBzZW5kIGNvbW1hbmQ6IFwiLmNvbmNhdChoaXRUeXBlKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJTZW5kIGNvbW1hbmQgZG9lc24ndCBleGlzdDogXCIuY29uY2F0KGhpdFR5cGUpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9nYUNvbW1hbmRTZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFyZ3NbMF0gPSBfZGVmaW5lUHJvcGVydHkoe30sIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fZ3RhZyhcInNldFwiLCBfdGhpcy5fdG9HdGFnT3B0aW9ucyhhcmdzWzBdKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2FDb21tYW5kXCIsIGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYgPiAxID8gX2xlbjYgLSAxIDogMCksIF9rZXk2ID0gMTsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgICBhcmdzW19rZXk2IC0gMV0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgICAgY2FzZSBcInNlbmRcIjpcbiAgICAgICAgICBfdGhpcy5fZ2FDb21tYW5kU2VuZC5hcHBseShfdGhpcywgYXJncyk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgICAgX3RoaXMuX2dhQ29tbWFuZFNldC5hcHBseShfdGhpcywgYXJncyk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUud2FybihcIkNvbW1hbmQgZG9lc24ndCBleGlzdDogXCIuY29uY2F0KGNvbW1hbmQpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBhcmdzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5fZ2FDb21tYW5kLmFwcGx5KF90aGlzLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZWFkeUNhbGxiYWNrID0gYXJnc1swXTtcblxuICAgICAgICBfdGhpcy5fZ3RhZyhcImdldFwiLCBfdGhpcy5fY3VycmVudE1lYXN1cmVtZW50SWQsIFwiY2xpZW50X2lkXCIsIGZ1bmN0aW9uIChjbGllbnRJZCkge1xuICAgICAgICAgIF90aGlzLl9pc1F1ZXVpbmcgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgcXVldWVzID0gX3RoaXMuX3F1ZXVlR3RhZztcbiAgICAgICAgICByZWFkeUNhbGxiYWNrKHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eSA9PT0gXCJjbGllbnRJZFwiID8gY2xpZW50SWQgOiBwcm9wZXJ0eSA9PT0gXCJ0cmFja2luZ0lkXCIgPyBfdGhpcy5fY3VycmVudE1lYXN1cmVtZW50SWQgOiBwcm9wZXJ0eSA9PT0gXCJhcGlWZXJzaW9uXCIgPyBcIjFcIiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHdoaWxlIChxdWV1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcXVldWUgPSBxdWV1ZXMuc2hpZnQoKTtcblxuICAgICAgICAgICAgX3RoaXMuX2d0YWcuYXBwbHkoX3RoaXMsIF90b0NvbnN1bWFibGVBcnJheShxdWV1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuX2lzUXVldWluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5nYTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50XCIsIGZ1bmN0aW9uIChvcHRpb25zT3JOYW1lLCBwYXJhbXMpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yTmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfdGhpcy5fZ3RhZyhcImV2ZW50XCIsIG9wdGlvbnNPck5hbWUsIF90aGlzLl90b0d0YWdPcHRpb25zKHBhcmFtcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IG9wdGlvbnNPck5hbWUuYWN0aW9uLFxuICAgICAgICAgICAgY2F0ZWdvcnkgPSBvcHRpb25zT3JOYW1lLmNhdGVnb3J5LFxuICAgICAgICAgICAgbGFiZWwgPSBvcHRpb25zT3JOYW1lLmxhYmVsLFxuICAgICAgICAgICAgdmFsdWUgPSBvcHRpb25zT3JOYW1lLnZhbHVlLFxuICAgICAgICAgICAgbm9uSW50ZXJhY3Rpb24gPSBvcHRpb25zT3JOYW1lLm5vbkludGVyYWN0aW9uLFxuICAgICAgICAgICAgdHJhbnNwb3J0ID0gb3B0aW9uc09yTmFtZS50cmFuc3BvcnQsXG4gICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdGlvbnNPck5hbWUsIF9leGNsdWRlZDQpO1xuXG4gICAgICAgIGlmICghY2F0ZWdvcnkgfHwgIWFjdGlvbikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcImFyZ3MuY2F0ZWdvcnkgQU5EIGFyZ3MuYWN0aW9uIGFyZSByZXF1aXJlZCBpbiBldmVudCgpXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBSZXF1aXJlZCBGaWVsZHNcblxuXG4gICAgICAgIHZhciBmaWVsZE9iamVjdCA9IHtcbiAgICAgICAgICBoaXRUeXBlOiBcImV2ZW50XCIsXG4gICAgICAgICAgZXZlbnRDYXRlZ29yeTogKDAsIF9mb3JtYXRbXCJkZWZhdWx0XCJdKShjYXRlZ29yeSksXG4gICAgICAgICAgZXZlbnRBY3Rpb246ICgwLCBfZm9ybWF0W1wiZGVmYXVsdFwiXSkoYWN0aW9uKVxuICAgICAgICB9OyAvLyBPcHRpb25hbCBGaWVsZHNcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICBmaWVsZE9iamVjdC5ldmVudExhYmVsID0gKDAsIF9mb3JtYXRbXCJkZWZhdWx0XCJdKShsYWJlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXhwZWN0ZWQgYGFyZ3MudmFsdWVgIGFyZyB0byBiZSBhIE51bWJlci5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkT2JqZWN0LmV2ZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG5vbkludGVyYWN0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBub25JbnRlcmFjdGlvbiAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImBhcmdzLm5vbkludGVyYWN0aW9uYCBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkT2JqZWN0Lm5vbkludGVyYWN0aW9uID0gbm9uSW50ZXJhY3Rpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc3BvcnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zcG9ydCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYGFyZ3MudHJhbnNwb3J0YCBtdXN0IGJlIGEgc3RyaW5nLlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFtcImJlYWNvblwiLCBcInhoclwiLCBcImltYWdlXCJdLmluZGV4T2YodHJhbnNwb3J0KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYGFyZ3MudHJhbnNwb3J0YCBtdXN0IGJlIGVpdGhlciBvbmUgb2YgdGhlc2UgdmFsdWVzOiBgYmVhY29uYCwgYHhocmAgb3IgYGltYWdlYFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmllbGRPYmplY3QudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHJlc3QpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgXCJkaW1lbnNpb25cIi5sZW5ndGgpID09PSBcImRpbWVuc2lvblwiO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICBmaWVsZE9iamVjdFtrZXldID0gcmVzdFtrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmtleXMocmVzdCkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBcIm1ldHJpY1wiLmxlbmd0aCkgPT09IFwibWV0cmljXCI7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGZpZWxkT2JqZWN0W2tleV0gPSByZXN0W2tleV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLl9nYUNvbW1hbmQoXCJzZW5kXCIsIGZpZWxkT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlbmRcIiwgZnVuY3Rpb24gKGZpZWxkT2JqZWN0KSB7XG4gICAgICBfdGhpcy5fZ2FDb21tYW5kKFwic2VuZFwiLCBmaWVsZE9iamVjdCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYWdldmlld1wiLCBmdW5jdGlvbiAocGF0aCwgXywgdGl0bGUpIHtcbiAgICAgIHZhciBwYXRoVHJpbSA9IHBhdGggPT09IG51bGwgfHwgcGF0aCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGF0aC50cmltKCk7XG5cbiAgICAgIGlmIChwYXRoVHJpbSA9PT0gXCJcIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJwYXRoIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgaW4gLnBhZ2V2aWV3KClcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2dhQ29tbWFuZChcInNlbmRcIiwgXCJwYWdldmlld1wiLCBwYXRoVHJpbSwge1xuICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdBNCwgW3tcbiAgICBrZXk6IFwiX2FwcGVuZEN1c3RvbU1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ3VzdG9tTWFwKG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucy5jdXN0b21fbWFwKSB7XG4gICAgICAgIG9wdGlvbnMuY3VzdG9tX21hcCA9IHt9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAyMDA7IGkrKykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuY3VzdG9tX21hcFtcImRpbWVuc2lvblwiLmNvbmNhdChpKV0pIHtcbiAgICAgICAgICBvcHRpb25zLmN1c3RvbV9tYXBbXCJkaW1lbnNpb25cIi5jb25jYXQoaSldID0gXCJkaW1lbnNpb25cIi5jb25jYXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuY3VzdG9tX21hcFtcIm1ldHJpY1wiLmNvbmNhdChpKV0pIHtcbiAgICAgICAgICBvcHRpb25zLmN1c3RvbV9tYXBbXCJtZXRyaWNcIi5jb25jYXQoaSldID0gXCJtZXRyaWNcIi5jb25jYXQoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBzaW5jZSB2MS4wLjJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhdGg9XCJsb2NhdGlvbi5ocmVmXCJdXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW19dIHVuc3VwcG9ydGVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0aXRsZT1cImxvY2F0aW9uLnBhdGhuYW1lXCJdXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuc2VuZChcInBhZ2V2aWV3XCIpYCBpbnN0ZWFkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvdXRib3VuZExpbmtcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBAc2luY2UgdjEuMC42XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5sYWJlbFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhpdENhbGxiYWNrXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdXRib3VuZExpbmsoX3JlZjMsIGhpdENhbGxiYWNrKSB7XG4gICAgICB2YXIgbGFiZWwgPSBfcmVmMy5sYWJlbDtcblxuICAgICAgaWYgKHR5cGVvZiBoaXRDYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImhpdENhbGxiYWNrIGZ1bmN0aW9uIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghbGFiZWwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXJncy5sYWJlbCBpcyByZXF1aXJlZCBpbiBvdXRib3VuZExpbmsoKVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBSZXF1aXJlZCBGaWVsZHNcblxuXG4gICAgICB2YXIgZmllbGRPYmplY3QgPSB7XG4gICAgICAgIGhpdFR5cGU6IFwiZXZlbnRcIixcbiAgICAgICAgZXZlbnRDYXRlZ29yeTogXCJPdXRib3VuZFwiLFxuICAgICAgICBldmVudEFjdGlvbjogXCJDbGlja1wiLFxuICAgICAgICBldmVudExhYmVsOiAoMCwgX2Zvcm1hdFtcImRlZmF1bHRcIl0pKGxhYmVsKVxuICAgICAgfTtcbiAgICAgIHZhciBzYWZldHlDYWxsYmFja0NhbGxlZCA9IGZhbHNlO1xuXG4gICAgICB2YXIgc2FmZXR5Q2FsbGJhY2sgPSBmdW5jdGlvbiBzYWZldHlDYWxsYmFjaygpIHtcbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBhIGRlbGF5ZWQgcmVzcG9uc2UgZnJvbSBHQVxuICAgICAgICAvLyBjYXVzaW5nIGhpdENhbGxiYWNrIGZyb20gYmVpbmcgZmlyZWQgdHdpY2VcbiAgICAgICAgc2FmZXR5Q2FsbGJhY2tDYWxsZWQgPSB0cnVlO1xuICAgICAgICBoaXRDYWxsYmFjaygpO1xuICAgICAgfTsgLy8gVXNpbmcgYSB0aW1lb3V0IHRvIGVuc3VyZSB0aGUgZXhlY3V0aW9uIG9mIGNyaXRpY2FsIGFwcGxpY2F0aW9uIGNvZGVcbiAgICAgIC8vIGluIHRoZSBjYXNlIHdoZW4gdGhlIEdBIHNlcnZlciBtaWdodCBiZSBkb3duXG4gICAgICAvLyBvciBhbiBhZCBibG9ja2VyIHByZXZlbnRzIHNlbmRpbmcgdGhlIGRhdGFcbiAgICAgIC8vIHJlZ2lzdGVyIHNhZmV0eSBuZXQgdGltZW91dDpcblxuXG4gICAgICB2YXIgdCA9IHNldFRpbWVvdXQoc2FmZXR5Q2FsbGJhY2ssIDI1MCk7XG5cbiAgICAgIHZhciBjbGVhcmFibGVDYWxsYmFja0ZvckdBID0gZnVuY3Rpb24gY2xlYXJhYmxlQ2FsbGJhY2tGb3JHQSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuXG4gICAgICAgIGlmICghc2FmZXR5Q2FsbGJhY2tDYWxsZWQpIHtcbiAgICAgICAgICBoaXRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmaWVsZE9iamVjdC5oaXRDYWxsYmFjayA9IGNsZWFyYWJsZUNhbGxiYWNrRm9yR0E7XG5cbiAgICAgIHRoaXMuX2dhQ29tbWFuZChcInNlbmRcIiwgZmllbGRPYmplY3QpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHQTQ7XG59KCk7XG5cbmV4cG9ydHMuR0E0ID0gR0E0O1xuXG52YXIgX2RlZmF1bHQgPSBuZXcgR0E0KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9nYSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZ2E0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9nYVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kZWZhdWx0OyIsIi8vIFRPRE86IEFkZCBjb25maWcgdmFyIGZvciBhbmFseXRpY3MgSURcbmltcG9ydCBSZWFjdEdBIGZyb20gJ3JlYWN0LWdhNCdcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2NvbmZpZydcblxuZXhwb3J0IGNvbnN0IGluaXRHQSA9ICgpID0+IHtcbiAgaWYgKENvbmZpZy5wdWJsaWNSdW50aW1lQ29uZmlnLmdhTWVhc3VyZW1lbnRJZCAmJiBDb25maWcucHVibGljUnVudGltZUNvbmZpZy5nYU1lYXN1cmVtZW50SWQubGVuZ3RoID4gMClcbiAgICBSZWFjdEdBLmluaXRpYWxpemUoQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcuZ2FNZWFzdXJlbWVudElkKVxufVxuXG5leHBvcnQgY29uc3QgbG9nUGFnZVZpZXcgPSAoKSA9PiB7XG4gIFJlYWN0R0Euc2VuZCh7IGhpdFR5cGU6ICdwYWdldmlldycsIHBhZ2U6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSB9KVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlR2xvYmFsU3R5bGUgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcbmltcG9ydCB7IEVkaXRvclRoZW1lIH0gZnJvbSAnLi90aGVtZSdcblxuLyoqXG4gKiBHbG9iYWxTdHlsZSBjb21wb25lbnQgdXNlZCB0byBwcm92aWRlIGNvbW1vbiBzdHlsZXMgYWxsIG92ZXIgYXBwbGljYXRpb24uXG4gKlxuICogQGF1dGhvciBSb2JlcnQgTG9uZ1xuICogQHR5cGUge3N0eWxlZCBjb21wb25lbnR9XG4gKi9cbmNvbnN0IEdsb2JhbFN0eWxlID0gY3JlYXRlR2xvYmFsU3R5bGU8eyB0aGVtZTogRWRpdG9yVGhlbWUgfT5gXG4gIC8qISBtaW5pcmVzZXQuY3NzIHYwLjAuNCB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9qZ3RobXMvbWluaXJlc2V0LmNzcyAqL1xuICBodG1sLFxuICBib2R5LFxuICBwLFxuICBvbCxcbiAgdWwsXG4gIGxpLFxuICBkbCxcbiAgZHQsXG4gIGRkLFxuICBibG9ja3F1b3RlLFxuICBmaWd1cmUsXG4gIGZpZWxkc2V0LFxuICBsZWdlbmQsXG4gIHRleHRhcmVhLFxuICBwcmUsXG4gIGlmcmFtZSxcbiAgaHIsXG4gIGgxLFxuICBoMixcbiAgaDMsXG4gIGg0LFxuICBoNSxcbiAgaDYge1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG5cbiAgaDEsXG4gIGgyLFxuICBoMyxcbiAgaDQsXG4gIGg1LFxuICBoNiB7XG4gICAgZm9udC1zaXplOiAxMDAlO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIH1cblxuICB1bCB7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgfVxuXG4gIGJ1dHRvbixcbiAgaW5wdXQsXG4gIHNlbGVjdCxcbiAgdGV4dGFyZWEge1xuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gIGh0bWwge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cblxuICAqLCAqOmJlZm9yZSwgKjphZnRlciB7XG4gICAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgfVxuXG4gIGltZyxcbiAgZW1iZWQsXG4gIGlmcmFtZSxcbiAgb2JqZWN0LFxuICB2aWRlbyB7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgfVxuXG4gIGF1ZGlvIHtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gIH1cblxuICBpZnJhbWUge1xuICAgIGJvcmRlcjogMDtcbiAgfVxuXG4gIHRhYmxlIHtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xuICB9XG5cbiAgdGQsXG4gIHRoIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cblxuICAvKiBzY3JvbGxiYXItd2lkdGggaXMgbm90IGluaGVyaXRlZCBzbyBhcHBseSB0byBhbGwgZWxlbWVudHMuICovXG4gICoge1xuICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjtcbiAgfVxuXG4gIDo6c2VsZWN0aW9uIHtcbiAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnRleHR9O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5zZWxlY3RlZH07XG4gIH1cblxuICBhIHtcbiAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnRleHR9O1xuXG4gICAgJjpob3ZlciB7XG4gICAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmJsdWVIb3Zlcn07XG4gICAgfVxuXG4gICAgJjphY3RpdmUge1xuICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5ibHVlUHJlc3NlZH07XG4gICAgfVxuICB9XG5cbiAgaHRtbCwgYm9keSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgI2FwcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICB9XG5cbiAgbWFpbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXg6IDE7XG4gIH1cblxuICBib2R5IHtcbiAgICBmb250LWZhbWlseTogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmxhdG99O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnRleHR9O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5iYWNrZ3JvdW5kfTtcbiAgICBzY3JvbGxiYXItY29sb3I6ICMyODJjMzEgIzVkNjQ2YztcbiAgfVxuXG4gIC5Nb2RhbCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleDogMTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgYm94LXNoYWRvdzogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnNoYWRvdzMwfTtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHZoO1xuICB9XG5cbiAgLk92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgfVxuXG4gIC5SZWFjdE1vZGFsX19PdmVybGF5LS1hZnRlci1vcGVuIHtcbiAgICB6LWluZGV4OiAxMDA7XG4gIH1cblxuICAuc2VudHJ5LWVycm9yLWVtYmVkIHtcbiAgICAuZm9ybS1maWVsZCB7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIH1cblxuICAgIC5mb3JtLWZpZWxkOm5vdCg6bGFzdC1jaGlsZCkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbmBcbmV4cG9ydCBkZWZhdWx0IEdsb2JhbFN0eWxlXG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0gJiYgX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCcgJiYgaXRlbS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVlcG1lcmdlKHRhcmdldCwgc291cmNlKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7XG4gICAgY2xvbmU6IHRydWVcbiAgfTtcbiAgdmFyIG91dHB1dCA9IG9wdGlvbnMuY2xvbmUgPyBfZXh0ZW5kcyh7fSwgdGFyZ2V0KSA6IHRhcmdldDtcblxuICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIGlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAvLyBBdm9pZCBwcm90b3R5cGUgcG9sbHV0aW9uXG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSAmJiBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIG91dHB1dFtrZXldID0gZGVlcG1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn0iLCIvKipcbiAqIFdBUk5JTkc6IERvbid0IGltcG9ydCB0aGlzIGRpcmVjdGx5LlxuICogVXNlIGBNdWlFcnJvcmAgZnJvbSBgQG1hdGVyaWFsLXVpL3V0aWxzL21hY3Jvcy9NdWlFcnJvci5tYWNyb2AgaW5zdGVhZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdE11aUVycm9yTWVzc2FnZShjb2RlKSB7XG4gIC8vIEFwcGx5IGJhYmVsLXBsdWdpbi10cmFuc2Zvcm0tdGVtcGxhdGUtbGl0ZXJhbHMgaW4gbG9vc2UgbW9kZVxuICAvLyBsb29zZSBtb2RlIGlzIHNhZmUgaWZmIHdlJ3JlIGNvbmNhdGVuYXRpbmcgcHJpbWl0aXZlc1xuICAvLyBzZWUgaHR0cHM6Ly9iYWJlbGpzLmlvL2RvY3MvZW4vYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS10ZW1wbGF0ZS1saXRlcmFscyNsb29zZVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xuICB2YXIgdXJsID0gJ2h0dHBzOi8vbWF0ZXJpYWwtdWkuY29tL3Byb2R1Y3Rpb24tZXJyb3IvP2NvZGU9JyArIGNvZGU7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyByZXN0IHBhcmFtcyBvdmVyLXRyYW5zcGlsZSBmb3IgdGhpcyBjYXNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgIHVybCArPSAnJmFyZ3NbXT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gJ01pbmlmaWVkIE1hdGVyaWFsLVVJIGVycm9yICMnICsgY29kZSArICc7IHZpc2l0ICcgKyB1cmwgKyAnIGZvciB0aGUgZnVsbCBtZXNzYWdlLic7XG4gIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXRlbXBsYXRlICovXG59IiwiaW1wb3J0IHsgZm9ybWF0TXVpRXJyb3JNZXNzYWdlIGFzIF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL3V0aWxzXCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciB3aG9zZSB2YWx1ZSBpcyBsaW1pdGVkIHRvIHRoZSBnaXZlbiByYW5nZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIGNsYW1wZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSBvdXRwdXQgcmFuZ2VcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIGluIHRoZSByYW5nZSBbbWluLCBtYXhdXG4gKi9cbmZ1bmN0aW9uIGNsYW1wKHZhbHVlKSB7XG4gIHZhciBtaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIHZhciBtYXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodmFsdWUgPCBtaW4gfHwgdmFsdWUgPiBtYXgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXRlcmlhbC1VSTogVGhlIHZhbHVlIHByb3ZpZGVkIFwiLmNvbmNhdCh2YWx1ZSwgXCIgaXMgb3V0IG9mIHJhbmdlIFtcIikuY29uY2F0KG1pbiwgXCIsIFwiKS5jb25jYXQobWF4LCBcIl0uXCIpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobWluLCB2YWx1ZSksIG1heCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBDU1MgaGV4IGZvcm1hdCB0byBDU1MgcmdiIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBIZXggY29sb3IsIGkuZS4gI25ubiBvciAjbm5ubm5uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyByZ2IgY29sb3Igc3RyaW5nXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9SZ2IoY29sb3IpIHtcbiAgY29sb3IgPSBjb2xvci5zdWJzdHIoMSk7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoXCIuezEsXCIuY29uY2F0KGNvbG9yLmxlbmd0aCA+PSA2ID8gMiA6IDEsIFwifVwiKSwgJ2cnKTtcbiAgdmFyIGNvbG9ycyA9IGNvbG9yLm1hdGNoKHJlKTtcblxuICBpZiAoY29sb3JzICYmIGNvbG9yc1swXS5sZW5ndGggPT09IDEpIHtcbiAgICBjb2xvcnMgPSBjb2xvcnMubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbiArIG47XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY29sb3JzID8gXCJyZ2JcIi5jb25jYXQoY29sb3JzLmxlbmd0aCA9PT0gNCA/ICdhJyA6ICcnLCBcIihcIikuY29uY2F0KGNvbG9ycy5tYXAoZnVuY3Rpb24gKG4sIGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4IDwgMyA/IHBhcnNlSW50KG4sIDE2KSA6IE1hdGgucm91bmQocGFyc2VJbnQobiwgMTYpIC8gMjU1ICogMTAwMCkgLyAxMDAwO1xuICB9KS5qb2luKCcsICcpLCBcIilcIikgOiAnJztcbn1cblxuZnVuY3Rpb24gaW50VG9IZXgoaW50KSB7XG4gIHZhciBoZXggPSBpbnQudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiLmNvbmNhdChoZXgpIDogaGV4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGZyb20gQ1NTIHJnYiBmb3JtYXQgdG8gQ1NTIGhleCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gUkdCIGNvbG9yLCBpLmUuIHJnYihuLCBuLCBuKVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgcmdiIGNvbG9yIHN0cmluZywgaS5lLiAjbm5ubm5uXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9IZXgoY29sb3IpIHtcbiAgLy8gSWRlbXBvdGVudFxuICBpZiAoY29sb3IuaW5kZXhPZignIycpID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgdmFyIF9kZWNvbXBvc2VDb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKSxcbiAgICAgIHZhbHVlcyA9IF9kZWNvbXBvc2VDb2xvci52YWx1ZXM7XG5cbiAgcmV0dXJuIFwiI1wiLmNvbmNhdCh2YWx1ZXMubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIGludFRvSGV4KG4pO1xuICB9KS5qb2luKCcnKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBoc2wgZm9ybWF0IHRvIHJnYiBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gSFNMIGNvbG9yIHZhbHVlc1xuICogQHJldHVybnMge3N0cmluZ30gcmdiIGNvbG9yIHZhbHVlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoc2xUb1JnYihjb2xvcikge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgdmFyIF9jb2xvciA9IGNvbG9yLFxuICAgICAgdmFsdWVzID0gX2NvbG9yLnZhbHVlcztcbiAgdmFyIGggPSB2YWx1ZXNbMF07XG4gIHZhciBzID0gdmFsdWVzWzFdIC8gMTAwO1xuICB2YXIgbCA9IHZhbHVlc1syXSAvIDEwMDtcbiAgdmFyIGEgPSBzICogTWF0aC5taW4obCwgMSAtIGwpO1xuXG4gIHZhciBmID0gZnVuY3Rpb24gZihuKSB7XG4gICAgdmFyIGsgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IChuICsgaCAvIDMwKSAlIDEyO1xuICAgIHJldHVybiBsIC0gYSAqIE1hdGgubWF4KE1hdGgubWluKGsgLSAzLCA5IC0gaywgMSksIC0xKTtcbiAgfTtcblxuICB2YXIgdHlwZSA9ICdyZ2InO1xuICB2YXIgcmdiID0gW01hdGgucm91bmQoZigwKSAqIDI1NSksIE1hdGgucm91bmQoZig4KSAqIDI1NSksIE1hdGgucm91bmQoZig0KSAqIDI1NSldO1xuXG4gIGlmIChjb2xvci50eXBlID09PSAnaHNsYScpIHtcbiAgICB0eXBlICs9ICdhJztcbiAgICByZ2IucHVzaCh2YWx1ZXNbM10pO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHZhbHVlczogcmdiXG4gIH0pO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIGFuZCB2YWx1ZXMgb2YgYSBjb2xvci5cbiAqXG4gKiBOb3RlOiBEb2VzIG5vdCBzdXBwb3J0IHJnYiAlIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIEEgTVVJIGNvbG9yIG9iamVjdDoge3R5cGU6IHN0cmluZywgdmFsdWVzOiBudW1iZXJbXX1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlQ29sb3IoY29sb3IpIHtcbiAgLy8gSWRlbXBvdGVudFxuICBpZiAoY29sb3IudHlwZSkge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIGlmIChjb2xvci5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgIHJldHVybiBkZWNvbXBvc2VDb2xvcihoZXhUb1JnYihjb2xvcikpO1xuICB9XG5cbiAgdmFyIG1hcmtlciA9IGNvbG9yLmluZGV4T2YoJygnKTtcbiAgdmFyIHR5cGUgPSBjb2xvci5zdWJzdHJpbmcoMCwgbWFya2VyKTtcblxuICBpZiAoWydyZ2InLCAncmdiYScsICdoc2wnLCAnaHNsYSddLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiTWF0ZXJpYWwtVUk6IFVuc3VwcG9ydGVkIGBcIi5jb25jYXQoY29sb3IsIFwiYCBjb2xvci5cXG5XZSBzdXBwb3J0IHRoZSBmb2xsb3dpbmcgZm9ybWF0czogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKS5cIikgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDMsIGNvbG9yKSk7XG4gIH1cblxuICB2YXIgdmFsdWVzID0gY29sb3Iuc3Vic3RyaW5nKG1hcmtlciArIDEsIGNvbG9yLmxlbmd0aCAtIDEpLnNwbGl0KCcsJyk7XG4gIHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHZhbHVlczogdmFsdWVzXG4gIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3Igb2JqZWN0IHdpdGggdHlwZSBhbmQgdmFsdWVzIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb2xvciAtIERlY29tcG9zZWQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvci50eXBlIC0gT25lIG9mOiAncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnXG4gKiBAcGFyYW0ge2FycmF5fSBjb2xvci52YWx1ZXMgLSBbbixuLG5dIG9yIFtuLG4sbixuXVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29tcG9zZUNvbG9yKGNvbG9yKSB7XG4gIHZhciB0eXBlID0gY29sb3IudHlwZTtcbiAgdmFyIHZhbHVlcyA9IGNvbG9yLnZhbHVlcztcblxuICBpZiAodHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEpIHtcbiAgICAvLyBPbmx5IGNvbnZlcnQgdGhlIGZpcnN0IDMgdmFsdWVzIHRvIGludCAoaS5lLiBub3QgYWxwaGEpXG4gICAgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAobiwgaSkge1xuICAgICAgcmV0dXJuIGkgPCAzID8gcGFyc2VJbnQobiwgMTApIDogbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlLmluZGV4T2YoJ2hzbCcpICE9PSAtMSkge1xuICAgIHZhbHVlc1sxXSA9IFwiXCIuY29uY2F0KHZhbHVlc1sxXSwgXCIlXCIpO1xuICAgIHZhbHVlc1syXSA9IFwiXCIuY29uY2F0KHZhbHVlc1syXSwgXCIlXCIpO1xuICB9XG5cbiAgcmV0dXJuIFwiXCIuY29uY2F0KHR5cGUsIFwiKFwiKS5jb25jYXQodmFsdWVzLmpvaW4oJywgJyksIFwiKVwiKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29udHJhc3QgcmF0aW8gYmV0d2VlbiB0d28gY29sb3JzLlxuICpcbiAqIEZvcm11bGE6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAtVEVDSFMvRzE3Lmh0bWwjRzE3LXRlc3RzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcmVncm91bmQgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEEgY29udHJhc3QgcmF0aW8gdmFsdWUgaW4gdGhlIHJhbmdlIDAgLSAyMS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhc3RSYXRpbyhmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKSB7XG4gIHZhciBsdW1BID0gZ2V0THVtaW5hbmNlKGZvcmVncm91bmQpO1xuICB2YXIgbHVtQiA9IGdldEx1bWluYW5jZShiYWNrZ3JvdW5kKTtcbiAgcmV0dXJuIChNYXRoLm1heChsdW1BLCBsdW1CKSArIDAuMDUpIC8gKE1hdGgubWluKGx1bUEsIGx1bUIpICsgMC4wNSk7XG59XG4vKipcbiAqIFRoZSByZWxhdGl2ZSBicmlnaHRuZXNzIG9mIGFueSBwb2ludCBpbiBhIGNvbG9yIHNwYWNlLFxuICogbm9ybWFsaXplZCB0byAwIGZvciBkYXJrZXN0IGJsYWNrIGFuZCAxIGZvciBsaWdodGVzdCB3aGl0ZS5cbiAqXG4gKiBGb3JtdWxhOiBodHRwczovL3d3dy53My5vcmcvVFIvV0NBRzIwLVRFQ0hTL0cxNy5odG1sI0cxNy10ZXN0c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByZWxhdGl2ZSBicmlnaHRuZXNzIG9mIHRoZSBjb2xvciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0THVtaW5hbmNlKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YXIgcmdiID0gY29sb3IudHlwZSA9PT0gJ2hzbCcgPyBkZWNvbXBvc2VDb2xvcihoc2xUb1JnYihjb2xvcikpLnZhbHVlcyA6IGNvbG9yLnZhbHVlcztcbiAgcmdiID0gcmdiLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFsIC89IDI1NTsgLy8gbm9ybWFsaXplZFxuXG4gICAgcmV0dXJuIHZhbCA8PSAwLjAzOTI4ID8gdmFsIC8gMTIuOTIgOiBNYXRoLnBvdygodmFsICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gIH0pOyAvLyBUcnVuY2F0ZSBhdCAzIGRpZ2l0c1xuXG4gIHJldHVybiBOdW1iZXIoKDAuMjEyNiAqIHJnYlswXSArIDAuNzE1MiAqIHJnYlsxXSArIDAuMDcyMiAqIHJnYlsyXSkudG9GaXhlZCgzKSk7XG59XG4vKipcbiAqIERhcmtlbiBvciBsaWdodGVuIGEgY29sb3IsIGRlcGVuZGluZyBvbiBpdHMgbHVtaW5hbmNlLlxuICogTGlnaHQgY29sb3JzIGFyZSBkYXJrZW5lZCwgZGFyayBjb2xvcnMgYXJlIGxpZ2h0ZW5lZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQ9MC4xNSAtIG11bHRpcGxpZXIgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlbXBoYXNpemUoY29sb3IpIHtcbiAgdmFyIGNvZWZmaWNpZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwLjE1O1xuICByZXR1cm4gZ2V0THVtaW5hbmNlKGNvbG9yKSA+IDAuNSA/IGRhcmtlbihjb2xvciwgY29lZmZpY2llbnQpIDogbGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQpO1xufVxudmFyIHdhcm5lZE9uY2UgPSBmYWxzZTtcbi8qKlxuICogU2V0IHRoZSBhYnNvbHV0ZSB0cmFuc3BhcmVuY3kgb2YgYSBjb2xvci5cbiAqIEFueSBleGlzdGluZyBhbHBoYSB2YWx1ZXMgYXJlIG92ZXJ3cml0dGVuLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIHNldCB0aGUgYWxwaGEgY2hhbm5lbCB0byBpbiB0aGUgcmFuZ2UgMCAtMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogVXNlIGBpbXBvcnQgeyBhbHBoYSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcydgIGluc3RlYWQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZhZGUoY29sb3IsIHZhbHVlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCF3YXJuZWRPbmNlKSB7XG4gICAgICB3YXJuZWRPbmNlID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydNYXRlcmlhbC1VSTogVGhlIGBmYWRlYCBjb2xvciB1dGlsaXR5IHdhcyByZW5hbWVkIHRvIGBhbHBoYWAgdG8gYmV0dGVyIGRlc2NyaWJlIGl0cyBmdW5jdGlvbmFsaXR5LicsICcnLCBcIllvdSBzaG91bGQgdXNlIGBpbXBvcnQgeyBhbHBoYSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcydgXCJdLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYWxwaGEoY29sb3IsIHZhbHVlKTtcbn1cbi8qKlxuICogU2V0IHRoZSBhYnNvbHV0ZSB0cmFuc3BhcmVuY3kgb2YgYSBjb2xvci5cbiAqIEFueSBleGlzdGluZyBhbHBoYSB2YWx1ZSBpcyBvdmVyd3JpdHRlbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB2YWx1ZSB0byBzZXQgdGhlIGFscGhhIGNoYW5uZWwgdG8gaW4gdGhlIHJhbmdlIDAtMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGEoY29sb3IsIHZhbHVlKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YWx1ZSA9IGNsYW1wKHZhbHVlKTtcblxuICBpZiAoY29sb3IudHlwZSA9PT0gJ3JnYicgfHwgY29sb3IudHlwZSA9PT0gJ2hzbCcpIHtcbiAgICBjb2xvci50eXBlICs9ICdhJztcbiAgfVxuXG4gIGNvbG9yLnZhbHVlc1szXSA9IHZhbHVlO1xuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuLyoqXG4gKiBEYXJrZW5zIGEgY29sb3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRhcmtlbihjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIGNvZWZmaWNpZW50ID0gY2xhbXAoY29lZmZpY2llbnQpO1xuXG4gIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ2hzbCcpICE9PSAtMSkge1xuICAgIGNvbG9yLnZhbHVlc1syXSAqPSAxIC0gY29lZmZpY2llbnQ7XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgICAgY29sb3IudmFsdWVzW2ldICo9IDEgLSBjb2VmZmljaWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuLyoqXG4gKiBMaWdodGVucyBhIGNvbG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2VmZmljaWVudCAtIG11bHRpcGxpZXIgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodGVuKGNvbG9yLCBjb2VmZmljaWVudCkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgY29lZmZpY2llbnQgPSBjbGFtcChjb2VmZmljaWVudCk7XG5cbiAgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZignaHNsJykgIT09IC0xKSB7XG4gICAgY29sb3IudmFsdWVzWzJdICs9ICgxMDAgLSBjb2xvci52YWx1ZXNbMl0pICogY29lZmZpY2llbnQ7XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgICAgY29sb3IudmFsdWVzW2ldICs9ICgyNTUgLSBjb2xvci52YWx1ZXNbaV0pICogY29lZmZpY2llbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKGNvbG9yKTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG4vLyBTb3J0ZWQgQVNDIGJ5IHNpemUuIFRoYXQncyBpbXBvcnRhbnQuXG4vLyBJdCBjYW4ndCBiZSBjb25maWd1cmVkIGFzIGl0J3MgdXNlZCBzdGF0aWNhbGx5IGZvciBwcm9wVHlwZXMuXG5leHBvcnQgdmFyIGtleXMgPSBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJ107IC8vIEtlZXAgaW4gbWluZCB0aGF0IEBtZWRpYSBpcyBpbmNsdXNpdmUgYnkgdGhlIENTUyBzcGVjaWZpY2F0aW9uLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVCcmVha3BvaW50cyhicmVha3BvaW50cykge1xuICB2YXIgX2JyZWFrcG9pbnRzJHZhbHVlcyA9IGJyZWFrcG9pbnRzLnZhbHVlcyxcbiAgICAgIHZhbHVlcyA9IF9icmVha3BvaW50cyR2YWx1ZXMgPT09IHZvaWQgMCA/IHtcbiAgICB4czogMCxcbiAgICBzbTogNjAwLFxuICAgIG1kOiA5NjAsXG4gICAgbGc6IDEyODAsXG4gICAgeGw6IDE5MjBcbiAgfSA6IF9icmVha3BvaW50cyR2YWx1ZXMsXG4gICAgICBfYnJlYWtwb2ludHMkdW5pdCA9IGJyZWFrcG9pbnRzLnVuaXQsXG4gICAgICB1bml0ID0gX2JyZWFrcG9pbnRzJHVuaXQgPT09IHZvaWQgMCA/ICdweCcgOiBfYnJlYWtwb2ludHMkdW5pdCxcbiAgICAgIF9icmVha3BvaW50cyRzdGVwID0gYnJlYWtwb2ludHMuc3RlcCxcbiAgICAgIHN0ZXAgPSBfYnJlYWtwb2ludHMkc3RlcCA9PT0gdm9pZCAwID8gNSA6IF9icmVha3BvaW50cyRzdGVwLFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoYnJlYWtwb2ludHMsIFtcInZhbHVlc1wiLCBcInVuaXRcIiwgXCJzdGVwXCJdKTtcblxuICBmdW5jdGlvbiB1cChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSB0eXBlb2YgdmFsdWVzW2tleV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleV0gOiBrZXk7XG4gICAgcmV0dXJuIFwiQG1lZGlhIChtaW4td2lkdGg6XCIuY29uY2F0KHZhbHVlKS5jb25jYXQodW5pdCwgXCIpXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG93bihrZXkpIHtcbiAgICB2YXIgZW5kSW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KSArIDE7XG4gICAgdmFyIHVwcGVyYm91bmQgPSB2YWx1ZXNba2V5c1tlbmRJbmRleF1dO1xuXG4gICAgaWYgKGVuZEluZGV4ID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgLy8geGwgZG93biBhcHBsaWVzIHRvIGFsbCBzaXplc1xuICAgICAgcmV0dXJuIHVwKCd4cycpO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IHR5cGVvZiB1cHBlcmJvdW5kID09PSAnbnVtYmVyJyAmJiBlbmRJbmRleCA+IDAgPyB1cHBlcmJvdW5kIDoga2V5O1xuICAgIHJldHVybiBcIkBtZWRpYSAobWF4LXdpZHRoOlwiLmNvbmNhdCh2YWx1ZSAtIHN0ZXAgLyAxMDApLmNvbmNhdCh1bml0LCBcIilcIik7XG4gIH1cblxuICBmdW5jdGlvbiBiZXR3ZWVuKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgZW5kSW5kZXggPSBrZXlzLmluZGV4T2YoZW5kKTtcblxuICAgIGlmIChlbmRJbmRleCA9PT0ga2V5cy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdXAoc3RhcnQpO1xuICAgIH1cblxuICAgIHJldHVybiBcIkBtZWRpYSAobWluLXdpZHRoOlwiLmNvbmNhdCh0eXBlb2YgdmFsdWVzW3N0YXJ0XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNbc3RhcnRdIDogc3RhcnQpLmNvbmNhdCh1bml0LCBcIikgYW5kIFwiKSArIFwiKG1heC13aWR0aDpcIi5jb25jYXQoKGVuZEluZGV4ICE9PSAtMSAmJiB0eXBlb2YgdmFsdWVzW2tleXNbZW5kSW5kZXggKyAxXV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleXNbZW5kSW5kZXggKyAxXV0gOiBlbmQpIC0gc3RlcCAvIDEwMCkuY29uY2F0KHVuaXQsIFwiKVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9ubHkoa2V5KSB7XG4gICAgcmV0dXJuIGJldHdlZW4oa2V5LCBrZXkpO1xuICB9XG5cbiAgdmFyIHdhcm5lZE9uY2UgPSBmYWxzZTtcblxuICBmdW5jdGlvbiB3aWR0aChrZXkpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCF3YXJuZWRPbmNlKSB7XG4gICAgICAgIHdhcm5lZE9uY2UgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLndhcm4oW1wiTWF0ZXJpYWwtVUk6IFRoZSBgdGhlbWUuYnJlYWtwb2ludHMud2lkdGhgIHV0aWxpdHkgaXMgZGVwcmVjYXRlZCBiZWNhdXNlIGl0J3MgcmVkdW5kYW50LlwiLCAnVXNlIHRoZSBgdGhlbWUuYnJlYWtwb2ludHMudmFsdWVzYCBpbnN0ZWFkLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzW2tleV07XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGtleXM6IGtleXMsXG4gICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgdXA6IHVwLFxuICAgIGRvd246IGRvd24sXG4gICAgYmV0d2VlbjogYmV0d2VlbixcbiAgICBvbmx5OiBvbmx5LFxuICAgIHdpZHRoOiB3aWR0aFxuICB9LCBvdGhlcik7XG59IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTWl4aW5zKGJyZWFrcG9pbnRzLCBzcGFjaW5nLCBtaXhpbnMpIHtcbiAgdmFyIF90b29sYmFyO1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgZ3V0dGVyczogZnVuY3Rpb24gZ3V0dGVycygpIHtcbiAgICAgIHZhciBzdHlsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgY29uc29sZS53YXJuKFsnTWF0ZXJpYWwtVUk6IHRoZW1lLm1peGlucy5ndXR0ZXJzKCkgaXMgZGVwcmVjYXRlZC4nLCAnWW91IGNhbiB1c2UgdGhlIHNvdXJjZSBvZiB0aGUgbWl4aW4gZGlyZWN0bHk6JywgXCJcXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygyKSxcXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMiksXFxuICAgICAgW3RoZW1lLmJyZWFrcG9pbnRzLnVwKCdzbScpXToge1xcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoMyksXFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMyksXFxuICAgICAgfSxcXG4gICAgICBcIl0uam9pbignXFxuJykpO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHNwYWNpbmcoMiksXG4gICAgICAgIHBhZGRpbmdSaWdodDogc3BhY2luZygyKVxuICAgICAgfSwgc3R5bGVzLCBfZGVmaW5lUHJvcGVydHkoe30sIGJyZWFrcG9pbnRzLnVwKCdzbScpLCBfZXh0ZW5kcyh7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nKDMpLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcoMylcbiAgICAgIH0sIHN0eWxlc1ticmVha3BvaW50cy51cCgnc20nKV0pKSk7XG4gICAgfSxcbiAgICB0b29sYmFyOiAoX3Rvb2xiYXIgPSB7XG4gICAgICBtaW5IZWlnaHQ6IDU2XG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF90b29sYmFyLCBcIlwiLmNvbmNhdChicmVha3BvaW50cy51cCgneHMnKSwgXCIgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSwge1xuICAgICAgbWluSGVpZ2h0OiA0OFxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3Rvb2xiYXIsIGJyZWFrcG9pbnRzLnVwKCdzbScpLCB7XG4gICAgICBtaW5IZWlnaHQ6IDY0XG4gICAgfSksIF90b29sYmFyKVxuICB9LCBtaXhpbnMpO1xufSIsInZhciBjb21tb24gPSB7XG4gIGJsYWNrOiAnIzAwMCcsXG4gIHdoaXRlOiAnI2ZmZidcbn07XG5leHBvcnQgZGVmYXVsdCBjb21tb247IiwidmFyIGdyZXkgPSB7XG4gIDUwOiAnI2ZhZmFmYScsXG4gIDEwMDogJyNmNWY1ZjUnLFxuICAyMDA6ICcjZWVlZWVlJyxcbiAgMzAwOiAnI2UwZTBlMCcsXG4gIDQwMDogJyNiZGJkYmQnLFxuICA1MDA6ICcjOWU5ZTllJyxcbiAgNjAwOiAnIzc1NzU3NScsXG4gIDcwMDogJyM2MTYxNjEnLFxuICA4MDA6ICcjNDI0MjQyJyxcbiAgOTAwOiAnIzIxMjEyMScsXG4gIEExMDA6ICcjZDVkNWQ1JyxcbiAgQTIwMDogJyNhYWFhYWEnLFxuICBBNDAwOiAnIzMwMzAzMCcsXG4gIEE3MDA6ICcjNjE2MTYxJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGdyZXk7IiwidmFyIGluZGlnbyA9IHtcbiAgNTA6ICcjZThlYWY2JyxcbiAgMTAwOiAnI2M1Y2FlOScsXG4gIDIwMDogJyM5ZmE4ZGEnLFxuICAzMDA6ICcjNzk4NmNiJyxcbiAgNDAwOiAnIzVjNmJjMCcsXG4gIDUwMDogJyMzZjUxYjUnLFxuICA2MDA6ICcjMzk0OWFiJyxcbiAgNzAwOiAnIzMwM2Y5ZicsXG4gIDgwMDogJyMyODM1OTMnLFxuICA5MDA6ICcjMWEyMzdlJyxcbiAgQTEwMDogJyM4YzllZmYnLFxuICBBMjAwOiAnIzUzNmRmZScsXG4gIEE0MDA6ICcjM2Q1YWZlJyxcbiAgQTcwMDogJyMzMDRmZmUnXG59O1xuZXhwb3J0IGRlZmF1bHQgaW5kaWdvOyIsInZhciBwaW5rID0ge1xuICA1MDogJyNmY2U0ZWMnLFxuICAxMDA6ICcjZjhiYmQwJyxcbiAgMjAwOiAnI2Y0OGZiMScsXG4gIDMwMDogJyNmMDYyOTInLFxuICA0MDA6ICcjZWM0MDdhJyxcbiAgNTAwOiAnI2U5MWU2MycsXG4gIDYwMDogJyNkODFiNjAnLFxuICA3MDA6ICcjYzIxODViJyxcbiAgODAwOiAnI2FkMTQ1NycsXG4gIDkwMDogJyM4ODBlNGYnLFxuICBBMTAwOiAnI2ZmODBhYicsXG4gIEEyMDA6ICcjZmY0MDgxJyxcbiAgQTQwMDogJyNmNTAwNTcnLFxuICBBNzAwOiAnI2M1MTE2Midcbn07XG5leHBvcnQgZGVmYXVsdCBwaW5rOyIsInZhciByZWQgPSB7XG4gIDUwOiAnI2ZmZWJlZScsXG4gIDEwMDogJyNmZmNkZDInLFxuICAyMDA6ICcjZWY5YTlhJyxcbiAgMzAwOiAnI2U1NzM3MycsXG4gIDQwMDogJyNlZjUzNTAnLFxuICA1MDA6ICcjZjQ0MzM2JyxcbiAgNjAwOiAnI2U1MzkzNScsXG4gIDcwMDogJyNkMzJmMmYnLFxuICA4MDA6ICcjYzYyODI4JyxcbiAgOTAwOiAnI2I3MWMxYycsXG4gIEExMDA6ICcjZmY4YTgwJyxcbiAgQTIwMDogJyNmZjUyNTInLFxuICBBNDAwOiAnI2ZmMTc0NCcsXG4gIEE3MDA6ICcjZDUwMDAwJ1xufTtcbmV4cG9ydCBkZWZhdWx0IHJlZDsiLCJ2YXIgb3JhbmdlID0ge1xuICA1MDogJyNmZmYzZTAnLFxuICAxMDA6ICcjZmZlMGIyJyxcbiAgMjAwOiAnI2ZmY2M4MCcsXG4gIDMwMDogJyNmZmI3NGQnLFxuICA0MDA6ICcjZmZhNzI2JyxcbiAgNTAwOiAnI2ZmOTgwMCcsXG4gIDYwMDogJyNmYjhjMDAnLFxuICA3MDA6ICcjZjU3YzAwJyxcbiAgODAwOiAnI2VmNmMwMCcsXG4gIDkwMDogJyNlNjUxMDAnLFxuICBBMTAwOiAnI2ZmZDE4MCcsXG4gIEEyMDA6ICcjZmZhYjQwJyxcbiAgQTQwMDogJyNmZjkxMDAnLFxuICBBNzAwOiAnI2ZmNmQwMCdcbn07XG5leHBvcnQgZGVmYXVsdCBvcmFuZ2U7IiwidmFyIGJsdWUgPSB7XG4gIDUwOiAnI2UzZjJmZCcsXG4gIDEwMDogJyNiYmRlZmInLFxuICAyMDA6ICcjOTBjYWY5JyxcbiAgMzAwOiAnIzY0YjVmNicsXG4gIDQwMDogJyM0MmE1ZjUnLFxuICA1MDA6ICcjMjE5NmYzJyxcbiAgNjAwOiAnIzFlODhlNScsXG4gIDcwMDogJyMxOTc2ZDInLFxuICA4MDA6ICcjMTU2NWMwJyxcbiAgOTAwOiAnIzBkNDdhMScsXG4gIEExMDA6ICcjODJiMWZmJyxcbiAgQTIwMDogJyM0NDhhZmYnLFxuICBBNDAwOiAnIzI5NzlmZicsXG4gIEE3MDA6ICcjMjk2MmZmJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGJsdWU7IiwidmFyIGdyZWVuID0ge1xuICA1MDogJyNlOGY1ZTknLFxuICAxMDA6ICcjYzhlNmM5JyxcbiAgMjAwOiAnI2E1ZDZhNycsXG4gIDMwMDogJyM4MWM3ODQnLFxuICA0MDA6ICcjNjZiYjZhJyxcbiAgNTAwOiAnIzRjYWY1MCcsXG4gIDYwMDogJyM0M2EwNDcnLFxuICA3MDA6ICcjMzg4ZTNjJyxcbiAgODAwOiAnIzJlN2QzMicsXG4gIDkwMDogJyMxYjVlMjAnLFxuICBBMTAwOiAnI2I5ZjZjYScsXG4gIEEyMDA6ICcjNjlmMGFlJyxcbiAgQTQwMDogJyMwMGU2NzYnLFxuICBBNzAwOiAnIzAwYzg1Mydcbn07XG5leHBvcnQgZGVmYXVsdCBncmVlbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgeyBmb3JtYXRNdWlFcnJvck1lc3NhZ2UgYXMgX2Zvcm1hdE11aUVycm9yTWVzc2FnZSB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvdXRpbHNcIjtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5pbXBvcnQgY29tbW9uIGZyb20gJy4uL2NvbG9ycy9jb21tb24nO1xuaW1wb3J0IGdyZXkgZnJvbSAnLi4vY29sb3JzL2dyZXknO1xuaW1wb3J0IGluZGlnbyBmcm9tICcuLi9jb2xvcnMvaW5kaWdvJztcbmltcG9ydCBwaW5rIGZyb20gJy4uL2NvbG9ycy9waW5rJztcbmltcG9ydCByZWQgZnJvbSAnLi4vY29sb3JzL3JlZCc7XG5pbXBvcnQgb3JhbmdlIGZyb20gJy4uL2NvbG9ycy9vcmFuZ2UnO1xuaW1wb3J0IGJsdWUgZnJvbSAnLi4vY29sb3JzL2JsdWUnO1xuaW1wb3J0IGdyZWVuIGZyb20gJy4uL2NvbG9ycy9ncmVlbic7XG5pbXBvcnQgeyBkYXJrZW4sIGdldENvbnRyYXN0UmF0aW8sIGxpZ2h0ZW4gfSBmcm9tICcuL2NvbG9yTWFuaXB1bGF0b3InO1xuZXhwb3J0IHZhciBsaWdodCA9IHtcbiAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHN0eWxlIHRoZSB0ZXh0LlxuICB0ZXh0OiB7XG4gICAgLy8gVGhlIG1vc3QgaW1wb3J0YW50IHRleHQuXG4gICAgcHJpbWFyeTogJ3JnYmEoMCwgMCwgMCwgMC44NyknLFxuICAgIC8vIFNlY29uZGFyeSB0ZXh0LlxuICAgIHNlY29uZGFyeTogJ3JnYmEoMCwgMCwgMCwgMC41NCknLFxuICAgIC8vIERpc2FibGVkIHRleHQgaGF2ZSBldmVuIGxvd2VyIHZpc3VhbCBwcm9taW5lbmNlLlxuICAgIGRpc2FibGVkOiAncmdiYSgwLCAwLCAwLCAwLjM4KScsXG4gICAgLy8gVGV4dCBoaW50cy5cbiAgICBoaW50OiAncmdiYSgwLCAwLCAwLCAwLjM4KSdcbiAgfSxcbiAgLy8gVGhlIGNvbG9yIHVzZWQgdG8gZGl2aWRlIGRpZmZlcmVudCBlbGVtZW50cy5cbiAgZGl2aWRlcjogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAvLyBUaGUgYmFja2dyb3VuZCBjb2xvcnMgdXNlZCB0byBzdHlsZSB0aGUgc3VyZmFjZXMuXG4gIC8vIENvbnNpc3RlbmN5IGJldHdlZW4gdGhlc2UgdmFsdWVzIGlzIGltcG9ydGFudC5cbiAgYmFja2dyb3VuZDoge1xuICAgIHBhcGVyOiBjb21tb24ud2hpdGUsXG4gICAgZGVmYXVsdDogZ3JleVs1MF1cbiAgfSxcbiAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHN0eWxlIHRoZSBhY3Rpb24gZWxlbWVudHMuXG4gIGFjdGlvbjoge1xuICAgIC8vIFRoZSBjb2xvciBvZiBhbiBhY3RpdmUgYWN0aW9uIGxpa2UgYW4gaWNvbiBidXR0b24uXG4gICAgYWN0aXZlOiAncmdiYSgwLCAwLCAwLCAwLjU0KScsXG4gICAgLy8gVGhlIGNvbG9yIG9mIGFuIGhvdmVyZWQgYWN0aW9uLlxuICAgIGhvdmVyOiAncmdiYSgwLCAwLCAwLCAwLjA0KScsXG4gICAgaG92ZXJPcGFjaXR5OiAwLjA0LFxuICAgIC8vIFRoZSBjb2xvciBvZiBhIHNlbGVjdGVkIGFjdGlvbi5cbiAgICBzZWxlY3RlZDogJ3JnYmEoMCwgMCwgMCwgMC4wOCknLFxuICAgIHNlbGVjdGVkT3BhY2l0eTogMC4wOCxcbiAgICAvLyBUaGUgY29sb3Igb2YgYSBkaXNhYmxlZCBhY3Rpb24uXG4gICAgZGlzYWJsZWQ6ICdyZ2JhKDAsIDAsIDAsIDAuMjYpJyxcbiAgICAvLyBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiBhIGRpc2FibGVkIGFjdGlvbi5cbiAgICBkaXNhYmxlZEJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuMTIpJyxcbiAgICBkaXNhYmxlZE9wYWNpdHk6IDAuMzgsXG4gICAgZm9jdXM6ICdyZ2JhKDAsIDAsIDAsIDAuMTIpJyxcbiAgICBmb2N1c09wYWNpdHk6IDAuMTIsXG4gICAgYWN0aXZhdGVkT3BhY2l0eTogMC4xMlxuICB9XG59O1xuZXhwb3J0IHZhciBkYXJrID0ge1xuICB0ZXh0OiB7XG4gICAgcHJpbWFyeTogY29tbW9uLndoaXRlLFxuICAgIHNlY29uZGFyeTogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScsXG4gICAgZGlzYWJsZWQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgIGhpbnQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknLFxuICAgIGljb246ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknXG4gIH0sXG4gIGRpdmlkZXI6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgYmFja2dyb3VuZDoge1xuICAgIHBhcGVyOiBncmV5WzgwMF0sXG4gICAgZGVmYXVsdDogJyMzMDMwMzAnXG4gIH0sXG4gIGFjdGlvbjoge1xuICAgIGFjdGl2ZTogY29tbW9uLndoaXRlLFxuICAgIGhvdmVyOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KScsXG4gICAgaG92ZXJPcGFjaXR5OiAwLjA4LFxuICAgIHNlbGVjdGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE2KScsXG4gICAgc2VsZWN0ZWRPcGFjaXR5OiAwLjE2LFxuICAgIGRpc2FibGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcbiAgICBkaXNhYmxlZEJhY2tncm91bmQ6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgICBkaXNhYmxlZE9wYWNpdHk6IDAuMzgsXG4gICAgZm9jdXM6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpJyxcbiAgICBmb2N1c09wYWNpdHk6IDAuMTIsXG4gICAgYWN0aXZhdGVkT3BhY2l0eTogMC4yNFxuICB9XG59O1xuXG5mdW5jdGlvbiBhZGRMaWdodE9yRGFyayhpbnRlbnQsIGRpcmVjdGlvbiwgc2hhZGUsIHRvbmFsT2Zmc2V0KSB7XG4gIHZhciB0b25hbE9mZnNldExpZ2h0ID0gdG9uYWxPZmZzZXQubGlnaHQgfHwgdG9uYWxPZmZzZXQ7XG4gIHZhciB0b25hbE9mZnNldERhcmsgPSB0b25hbE9mZnNldC5kYXJrIHx8IHRvbmFsT2Zmc2V0ICogMS41O1xuXG4gIGlmICghaW50ZW50W2RpcmVjdGlvbl0pIHtcbiAgICBpZiAoaW50ZW50Lmhhc093blByb3BlcnR5KHNoYWRlKSkge1xuICAgICAgaW50ZW50W2RpcmVjdGlvbl0gPSBpbnRlbnRbc2hhZGVdO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbGlnaHQnKSB7XG4gICAgICBpbnRlbnQubGlnaHQgPSBsaWdodGVuKGludGVudC5tYWluLCB0b25hbE9mZnNldExpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2RhcmsnKSB7XG4gICAgICBpbnRlbnQuZGFyayA9IGRhcmtlbihpbnRlbnQubWFpbiwgdG9uYWxPZmZzZXREYXJrKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlUGFsZXR0ZShwYWxldHRlKSB7XG4gIHZhciBfcGFsZXR0ZSRwcmltYXJ5ID0gcGFsZXR0ZS5wcmltYXJ5LFxuICAgICAgcHJpbWFyeSA9IF9wYWxldHRlJHByaW1hcnkgPT09IHZvaWQgMCA/IHtcbiAgICBsaWdodDogaW5kaWdvWzMwMF0sXG4gICAgbWFpbjogaW5kaWdvWzUwMF0sXG4gICAgZGFyazogaW5kaWdvWzcwMF1cbiAgfSA6IF9wYWxldHRlJHByaW1hcnksXG4gICAgICBfcGFsZXR0ZSRzZWNvbmRhcnkgPSBwYWxldHRlLnNlY29uZGFyeSxcbiAgICAgIHNlY29uZGFyeSA9IF9wYWxldHRlJHNlY29uZGFyeSA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiBwaW5rLkEyMDAsXG4gICAgbWFpbjogcGluay5BNDAwLFxuICAgIGRhcms6IHBpbmsuQTcwMFxuICB9IDogX3BhbGV0dGUkc2Vjb25kYXJ5LFxuICAgICAgX3BhbGV0dGUkZXJyb3IgPSBwYWxldHRlLmVycm9yLFxuICAgICAgZXJyb3IgPSBfcGFsZXR0ZSRlcnJvciA9PT0gdm9pZCAwID8ge1xuICAgIGxpZ2h0OiByZWRbMzAwXSxcbiAgICBtYWluOiByZWRbNTAwXSxcbiAgICBkYXJrOiByZWRbNzAwXVxuICB9IDogX3BhbGV0dGUkZXJyb3IsXG4gICAgICBfcGFsZXR0ZSR3YXJuaW5nID0gcGFsZXR0ZS53YXJuaW5nLFxuICAgICAgd2FybmluZyA9IF9wYWxldHRlJHdhcm5pbmcgPT09IHZvaWQgMCA/IHtcbiAgICBsaWdodDogb3JhbmdlWzMwMF0sXG4gICAgbWFpbjogb3JhbmdlWzUwMF0sXG4gICAgZGFyazogb3JhbmdlWzcwMF1cbiAgfSA6IF9wYWxldHRlJHdhcm5pbmcsXG4gICAgICBfcGFsZXR0ZSRpbmZvID0gcGFsZXR0ZS5pbmZvLFxuICAgICAgaW5mbyA9IF9wYWxldHRlJGluZm8gPT09IHZvaWQgMCA/IHtcbiAgICBsaWdodDogYmx1ZVszMDBdLFxuICAgIG1haW46IGJsdWVbNTAwXSxcbiAgICBkYXJrOiBibHVlWzcwMF1cbiAgfSA6IF9wYWxldHRlJGluZm8sXG4gICAgICBfcGFsZXR0ZSRzdWNjZXNzID0gcGFsZXR0ZS5zdWNjZXNzLFxuICAgICAgc3VjY2VzcyA9IF9wYWxldHRlJHN1Y2Nlc3MgPT09IHZvaWQgMCA/IHtcbiAgICBsaWdodDogZ3JlZW5bMzAwXSxcbiAgICBtYWluOiBncmVlbls1MDBdLFxuICAgIGRhcms6IGdyZWVuWzcwMF1cbiAgfSA6IF9wYWxldHRlJHN1Y2Nlc3MsXG4gICAgICBfcGFsZXR0ZSR0eXBlID0gcGFsZXR0ZS50eXBlLFxuICAgICAgdHlwZSA9IF9wYWxldHRlJHR5cGUgPT09IHZvaWQgMCA/ICdsaWdodCcgOiBfcGFsZXR0ZSR0eXBlLFxuICAgICAgX3BhbGV0dGUkY29udHJhc3RUaHJlID0gcGFsZXR0ZS5jb250cmFzdFRocmVzaG9sZCxcbiAgICAgIGNvbnRyYXN0VGhyZXNob2xkID0gX3BhbGV0dGUkY29udHJhc3RUaHJlID09PSB2b2lkIDAgPyAzIDogX3BhbGV0dGUkY29udHJhc3RUaHJlLFxuICAgICAgX3BhbGV0dGUkdG9uYWxPZmZzZXQgPSBwYWxldHRlLnRvbmFsT2Zmc2V0LFxuICAgICAgdG9uYWxPZmZzZXQgPSBfcGFsZXR0ZSR0b25hbE9mZnNldCA9PT0gdm9pZCAwID8gMC4yIDogX3BhbGV0dGUkdG9uYWxPZmZzZXQsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwYWxldHRlLCBbXCJwcmltYXJ5XCIsIFwic2Vjb25kYXJ5XCIsIFwiZXJyb3JcIiwgXCJ3YXJuaW5nXCIsIFwiaW5mb1wiLCBcInN1Y2Nlc3NcIiwgXCJ0eXBlXCIsIFwiY29udHJhc3RUaHJlc2hvbGRcIiwgXCJ0b25hbE9mZnNldFwiXSk7IC8vIFVzZSB0aGUgc2FtZSBsb2dpYyBhc1xuICAvLyBCb290c3RyYXA6IGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iLzFkNmUzNzEwZGQ0NDdkZTFhMjAwZjI5ZThmYTUyMWY4YTA5MDhmNzAvc2Nzcy9fZnVuY3Rpb25zLnNjc3MjTDU5XG4gIC8vIGFuZCBtYXRlcmlhbC1jb21wb25lbnRzLXdlYiBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL2FjNDZiODg2M2M0ZGFiOWZjMjJjNGM2NjJkYzZiZDFiNjVkZDY1MmYvcGFja2FnZXMvbWRjLXRoZW1lL19mdW5jdGlvbnMuc2NzcyNMNTRcblxuXG4gIGZ1bmN0aW9uIGdldENvbnRyYXN0VGV4dChiYWNrZ3JvdW5kKSB7XG4gICAgdmFyIGNvbnRyYXN0VGV4dCA9IGdldENvbnRyYXN0UmF0aW8oYmFja2dyb3VuZCwgZGFyay50ZXh0LnByaW1hcnkpID49IGNvbnRyYXN0VGhyZXNob2xkID8gZGFyay50ZXh0LnByaW1hcnkgOiBsaWdodC50ZXh0LnByaW1hcnk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGNvbnRyYXN0ID0gZ2V0Q29udHJhc3RSYXRpbyhiYWNrZ3JvdW5kLCBjb250cmFzdFRleHQpO1xuXG4gICAgICBpZiAoY29udHJhc3QgPCAzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoW1wiTWF0ZXJpYWwtVUk6IFRoZSBjb250cmFzdCByYXRpbyBvZiBcIi5jb25jYXQoY29udHJhc3QsIFwiOjEgZm9yIFwiKS5jb25jYXQoY29udHJhc3RUZXh0LCBcIiBvbiBcIikuY29uY2F0KGJhY2tncm91bmQpLCAnZmFsbHMgYmVsb3cgdGhlIFdDQUcgcmVjb21tZW5kZWQgYWJzb2x1dGUgbWluaW11bSBjb250cmFzdCByYXRpbyBvZiAzOjEuJywgJ2h0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDA4L1JFQy1XQ0FHMjAtMjAwODEyMTEvI3Zpc3VhbC1hdWRpby1jb250cmFzdC1jb250cmFzdCddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29udHJhc3RUZXh0O1xuICB9XG5cbiAgdmFyIGF1Z21lbnRDb2xvciA9IGZ1bmN0aW9uIGF1Z21lbnRDb2xvcihjb2xvcikge1xuICAgIHZhciBtYWluU2hhZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDUwMDtcbiAgICB2YXIgbGlnaHRTaGFkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMzAwO1xuICAgIHZhciBkYXJrU2hhZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDcwMDtcbiAgICBjb2xvciA9IF9leHRlbmRzKHt9LCBjb2xvcik7XG5cbiAgICBpZiAoIWNvbG9yLm1haW4gJiYgY29sb3JbbWFpblNoYWRlXSkge1xuICAgICAgY29sb3IubWFpbiA9IGNvbG9yW21haW5TaGFkZV07XG4gICAgfVxuXG4gICAgaWYgKCFjb2xvci5tYWluKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJNYXRlcmlhbC1VSTogVGhlIGNvbG9yIHByb3ZpZGVkIHRvIGF1Z21lbnRDb2xvcihjb2xvcikgaXMgaW52YWxpZC5cXG5UaGUgY29sb3Igb2JqZWN0IG5lZWRzIHRvIGhhdmUgYSBgbWFpbmAgcHJvcGVydHkgb3IgYSBgXCIuY29uY2F0KG1haW5TaGFkZSwgXCJgIHByb3BlcnR5LlwiKSA6IF9mb3JtYXRNdWlFcnJvck1lc3NhZ2UoNCwgbWFpblNoYWRlKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb2xvci5tYWluICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiTWF0ZXJpYWwtVUk6IFRoZSBjb2xvciBwcm92aWRlZCB0byBhdWdtZW50Q29sb3IoY29sb3IpIGlzIGludmFsaWQuXFxuYGNvbG9yLm1haW5gIHNob3VsZCBiZSBhIHN0cmluZywgYnV0IGBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoY29sb3IubWFpbiksIFwiYCB3YXMgcHJvdmlkZWQgaW5zdGVhZC5cXG5cXG5EaWQgeW91IGludGVuZCB0byB1c2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgYXBwcm9hY2hlcz9cXG5cXG5pbXBvcnQge1xceEEwZ3JlZW4gfSBmcm9tIFxcXCJAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnNcXFwiO1xcblxcbmNvbnN0IHRoZW1lMSA9IGNyZWF0ZVRoZW1lKHsgcGFsZXR0ZToge1xcbiAgcHJpbWFyeTogZ3JlZW4sXFxufSB9KTtcXG5cXG5jb25zdCB0aGVtZTIgPSBjcmVhdGVUaGVtZSh7IHBhbGV0dGU6IHtcXG4gIHByaW1hcnk6IHsgbWFpbjogZ3JlZW5bNTAwXSB9LFxcbn0gfSk7XCIpIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSg1LCBKU09OLnN0cmluZ2lmeShjb2xvci5tYWluKSkpO1xuICAgIH1cblxuICAgIGFkZExpZ2h0T3JEYXJrKGNvbG9yLCAnbGlnaHQnLCBsaWdodFNoYWRlLCB0b25hbE9mZnNldCk7XG4gICAgYWRkTGlnaHRPckRhcmsoY29sb3IsICdkYXJrJywgZGFya1NoYWRlLCB0b25hbE9mZnNldCk7XG5cbiAgICBpZiAoIWNvbG9yLmNvbnRyYXN0VGV4dCkge1xuICAgICAgY29sb3IuY29udHJhc3RUZXh0ID0gZ2V0Q29udHJhc3RUZXh0KGNvbG9yLm1haW4pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbiAgfTtcblxuICB2YXIgdHlwZXMgPSB7XG4gICAgZGFyazogZGFyayxcbiAgICBsaWdodDogbGlnaHRcbiAgfTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghdHlwZXNbdHlwZV0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJNYXRlcmlhbC1VSTogVGhlIHBhbGV0dGUgdHlwZSBgXCIuY29uY2F0KHR5cGUsIFwiYCBpcyBub3Qgc3VwcG9ydGVkLlwiKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHBhbGV0dGVPdXRwdXQgPSBkZWVwbWVyZ2UoX2V4dGVuZHMoe1xuICAgIC8vIEEgY29sbGVjdGlvbiBvZiBjb21tb24gY29sb3JzLlxuICAgIGNvbW1vbjogY29tbW9uLFxuICAgIC8vIFRoZSBwYWxldHRlIHR5cGUsIGNhbiBiZSBsaWdodCBvciBkYXJrLlxuICAgIHR5cGU6IHR5cGUsXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBwcmltYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHByaW1hcnk6IGF1Z21lbnRDb2xvcihwcmltYXJ5KSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IHNlY29uZGFyeSBpbnRlcmZhY2UgZWxlbWVudHMgZm9yIGEgdXNlci5cbiAgICBzZWNvbmRhcnk6IGF1Z21lbnRDb2xvcihzZWNvbmRhcnksICdBNDAwJywgJ0EyMDAnLCAnQTcwMCcpLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgaW50ZXJmYWNlIGVsZW1lbnRzIHRoYXQgdGhlIHVzZXIgc2hvdWxkIGJlIG1hZGUgYXdhcmUgb2YuXG4gICAgZXJyb3I6IGF1Z21lbnRDb2xvcihlcnJvciksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgYWN0aW9ucyBvciBpbXBvcnRhbnQgbWVzc2FnZXMuXG4gICAgd2FybmluZzogYXVnbWVudENvbG9yKHdhcm5pbmcpLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBwcmVzZW50IGluZm9ybWF0aW9uIHRvIHRoZSB1c2VyIHRoYXQgaXMgbmV1dHJhbCBhbmQgbm90IG5lY2Vzc2FyaWx5IGltcG9ydGFudC5cbiAgICBpbmZvOiBhdWdtZW50Q29sb3IoaW5mbyksXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIGluZGljYXRlIHRoZSBzdWNjZXNzZnVsIGNvbXBsZXRpb24gb2YgYW4gYWN0aW9uIHRoYXQgdXNlciB0cmlnZ2VyZWQuXG4gICAgc3VjY2VzczogYXVnbWVudENvbG9yKHN1Y2Nlc3MpLFxuICAgIC8vIFRoZSBncmV5IGNvbG9ycy5cbiAgICBncmV5OiBncmV5LFxuICAgIC8vIFVzZWQgYnkgYGdldENvbnRyYXN0VGV4dCgpYCB0byBtYXhpbWl6ZSB0aGUgY29udHJhc3QgYmV0d2VlblxuICAgIC8vIHRoZSBiYWNrZ3JvdW5kIGFuZCB0aGUgdGV4dC5cbiAgICBjb250cmFzdFRocmVzaG9sZDogY29udHJhc3RUaHJlc2hvbGQsXG4gICAgLy8gVGFrZXMgYSBiYWNrZ3JvdW5kIGNvbG9yIGFuZCByZXR1cm5zIHRoZSB0ZXh0IGNvbG9yIHRoYXQgbWF4aW1pemVzIHRoZSBjb250cmFzdC5cbiAgICBnZXRDb250cmFzdFRleHQ6IGdldENvbnRyYXN0VGV4dCxcbiAgICAvLyBHZW5lcmF0ZSBhIHJpY2ggY29sb3Igb2JqZWN0LlxuICAgIGF1Z21lbnRDb2xvcjogYXVnbWVudENvbG9yLFxuICAgIC8vIFVzZWQgYnkgdGhlIGZ1bmN0aW9ucyBiZWxvdyB0byBzaGlmdCBhIGNvbG9yJ3MgbHVtaW5hbmNlIGJ5IGFwcHJveGltYXRlbHlcbiAgICAvLyB0d28gaW5kZXhlcyB3aXRoaW4gaXRzIHRvbmFsIHBhbGV0dGUuXG4gICAgLy8gRS5nLiwgc2hpZnQgZnJvbSBSZWQgNTAwIHRvIFJlZCAzMDAgb3IgUmVkIDcwMC5cbiAgICB0b25hbE9mZnNldDogdG9uYWxPZmZzZXRcbiAgfSwgdHlwZXNbdHlwZV0pLCBvdGhlcik7XG4gIHJldHVybiBwYWxldHRlT3V0cHV0O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5cbmZ1bmN0aW9uIHJvdW5kKHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMWU1KSAvIDFlNTtcbn1cblxudmFyIHdhcm5lZE9uY2UgPSBmYWxzZTtcblxuZnVuY3Rpb24gcm91bmRXaXRoRGVwcmVjYXRpb25XYXJuaW5nKHZhbHVlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKCF3YXJuZWRPbmNlKSB7XG4gICAgICBjb25zb2xlLndhcm4oWydNYXRlcmlhbC1VSTogVGhlIGB0aGVtZS50eXBvZ3JhcGh5LnJvdW5kYCBoZWxwZXIgaXMgZGVwcmVjYXRlZC4nLCAnSGVhZCB0byBodHRwczovL21hdGVyaWFsLXVpLmNvbS9yL21pZ3JhdGlvbi12NC8jdGhlbWUgZm9yIGEgbWlncmF0aW9uIHBhdGguJ10uam9pbignXFxuJykpO1xuICAgICAgd2FybmVkT25jZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvdW5kKHZhbHVlKTtcbn1cblxudmFyIGNhc2VBbGxDYXBzID0ge1xuICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xufTtcbnZhciBkZWZhdWx0Rm9udEZhbWlseSA9ICdcIlJvYm90b1wiLCBcIkhlbHZldGljYVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnO1xuLyoqXG4gKiBAc2VlIEBsaW5re2h0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL3R5cG9ncmFwaHkvdGhlLXR5cGUtc3lzdGVtLmh0bWx9XG4gKiBAc2VlIEBsaW5re2h0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL3R5cG9ncmFwaHkvdW5kZXJzdGFuZGluZy10eXBvZ3JhcGh5Lmh0bWx9XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVHlwb2dyYXBoeShwYWxldHRlLCB0eXBvZ3JhcGh5KSB7XG4gIHZhciBfcmVmID0gdHlwZW9mIHR5cG9ncmFwaHkgPT09ICdmdW5jdGlvbicgPyB0eXBvZ3JhcGh5KHBhbGV0dGUpIDogdHlwb2dyYXBoeSxcbiAgICAgIF9yZWYkZm9udEZhbWlseSA9IF9yZWYuZm9udEZhbWlseSxcbiAgICAgIGZvbnRGYW1pbHkgPSBfcmVmJGZvbnRGYW1pbHkgPT09IHZvaWQgMCA/IGRlZmF1bHRGb250RmFtaWx5IDogX3JlZiRmb250RmFtaWx5LFxuICAgICAgX3JlZiRmb250U2l6ZSA9IF9yZWYuZm9udFNpemUsXG4gICAgICBmb250U2l6ZSA9IF9yZWYkZm9udFNpemUgPT09IHZvaWQgMCA/IDE0IDogX3JlZiRmb250U2l6ZSxcbiAgICAgIF9yZWYkZm9udFdlaWdodExpZ2h0ID0gX3JlZi5mb250V2VpZ2h0TGlnaHQsXG4gICAgICBmb250V2VpZ2h0TGlnaHQgPSBfcmVmJGZvbnRXZWlnaHRMaWdodCA9PT0gdm9pZCAwID8gMzAwIDogX3JlZiRmb250V2VpZ2h0TGlnaHQsXG4gICAgICBfcmVmJGZvbnRXZWlnaHRSZWd1bGEgPSBfcmVmLmZvbnRXZWlnaHRSZWd1bGFyLFxuICAgICAgZm9udFdlaWdodFJlZ3VsYXIgPSBfcmVmJGZvbnRXZWlnaHRSZWd1bGEgPT09IHZvaWQgMCA/IDQwMCA6IF9yZWYkZm9udFdlaWdodFJlZ3VsYSxcbiAgICAgIF9yZWYkZm9udFdlaWdodE1lZGl1bSA9IF9yZWYuZm9udFdlaWdodE1lZGl1bSxcbiAgICAgIGZvbnRXZWlnaHRNZWRpdW0gPSBfcmVmJGZvbnRXZWlnaHRNZWRpdW0gPT09IHZvaWQgMCA/IDUwMCA6IF9yZWYkZm9udFdlaWdodE1lZGl1bSxcbiAgICAgIF9yZWYkZm9udFdlaWdodEJvbGQgPSBfcmVmLmZvbnRXZWlnaHRCb2xkLFxuICAgICAgZm9udFdlaWdodEJvbGQgPSBfcmVmJGZvbnRXZWlnaHRCb2xkID09PSB2b2lkIDAgPyA3MDAgOiBfcmVmJGZvbnRXZWlnaHRCb2xkLFxuICAgICAgX3JlZiRodG1sRm9udFNpemUgPSBfcmVmLmh0bWxGb250U2l6ZSxcbiAgICAgIGh0bWxGb250U2l6ZSA9IF9yZWYkaHRtbEZvbnRTaXplID09PSB2b2lkIDAgPyAxNiA6IF9yZWYkaHRtbEZvbnRTaXplLFxuICAgICAgYWxsVmFyaWFudHMgPSBfcmVmLmFsbFZhcmlhbnRzLFxuICAgICAgcHhUb1JlbTIgPSBfcmVmLnB4VG9SZW0sXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJmb250RmFtaWx5XCIsIFwiZm9udFNpemVcIiwgXCJmb250V2VpZ2h0TGlnaHRcIiwgXCJmb250V2VpZ2h0UmVndWxhclwiLCBcImZvbnRXZWlnaHRNZWRpdW1cIiwgXCJmb250V2VpZ2h0Qm9sZFwiLCBcImh0bWxGb250U2l6ZVwiLCBcImFsbFZhcmlhbnRzXCIsIFwicHhUb1JlbVwiXSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodHlwZW9mIGZvbnRTaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS5lcnJvcignTWF0ZXJpYWwtVUk6IGBmb250U2l6ZWAgaXMgcmVxdWlyZWQgdG8gYmUgYSBudW1iZXIuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBodG1sRm9udFNpemUgIT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogYGh0bWxGb250U2l6ZWAgaXMgcmVxdWlyZWQgdG8gYmUgYSBudW1iZXIuJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvZWYgPSBmb250U2l6ZSAvIDE0O1xuXG4gIHZhciBweFRvUmVtID0gcHhUb1JlbTIgfHwgZnVuY3Rpb24gKHNpemUpIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoc2l6ZSAvIGh0bWxGb250U2l6ZSAqIGNvZWYsIFwicmVtXCIpO1xuICB9O1xuXG4gIHZhciBidWlsZFZhcmlhbnQgPSBmdW5jdGlvbiBidWlsZFZhcmlhbnQoZm9udFdlaWdodCwgc2l6ZSwgbGluZUhlaWdodCwgbGV0dGVyU3BhY2luZywgY2FzaW5nKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBmb250V2VpZ2h0OiBmb250V2VpZ2h0LFxuICAgICAgZm9udFNpemU6IHB4VG9SZW0oc2l6ZSksXG4gICAgICAvLyBVbml0bGVzcyBmb2xsb3dpbmcgaHR0cHM6Ly9tZXllcndlYi5jb20vZXJpYy90aG91Z2h0cy8yMDA2LzAyLzA4L3VuaXRsZXNzLWxpbmUtaGVpZ2h0cy9cbiAgICAgIGxpbmVIZWlnaHQ6IGxpbmVIZWlnaHRcbiAgICB9LCBmb250RmFtaWx5ID09PSBkZWZhdWx0Rm9udEZhbWlseSA/IHtcbiAgICAgIGxldHRlclNwYWNpbmc6IFwiXCIuY29uY2F0KHJvdW5kKGxldHRlclNwYWNpbmcgLyBzaXplKSwgXCJlbVwiKVxuICAgIH0gOiB7fSwgY2FzaW5nLCBhbGxWYXJpYW50cyk7XG4gIH07XG5cbiAgdmFyIHZhcmlhbnRzID0ge1xuICAgIGgxOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodExpZ2h0LCA5NiwgMS4xNjcsIC0xLjUpLFxuICAgIGgyOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodExpZ2h0LCA2MCwgMS4yLCAtMC41KSxcbiAgICBoMzogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCA0OCwgMS4xNjcsIDApLFxuICAgIGg0OiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDM0LCAxLjIzNSwgMC4yNSksXG4gICAgaDU6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMjQsIDEuMzM0LCAwKSxcbiAgICBoNjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRNZWRpdW0sIDIwLCAxLjYsIDAuMTUpLFxuICAgIHN1YnRpdGxlMTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxNiwgMS43NSwgMC4xNSksXG4gICAgc3VidGl0bGUyOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodE1lZGl1bSwgMTQsIDEuNTcsIDAuMSksXG4gICAgYm9keTE6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTYsIDEuNSwgMC4xNSksXG4gICAgYm9keTI6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTQsIDEuNDMsIDAuMTUpLFxuICAgIGJ1dHRvbjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRNZWRpdW0sIDE0LCAxLjc1LCAwLjQsIGNhc2VBbGxDYXBzKSxcbiAgICBjYXB0aW9uOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDEyLCAxLjY2LCAwLjQpLFxuICAgIG92ZXJsaW5lOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDEyLCAyLjY2LCAxLCBjYXNlQWxsQ2FwcylcbiAgfTtcbiAgcmV0dXJuIGRlZXBtZXJnZShfZXh0ZW5kcyh7XG4gICAgaHRtbEZvbnRTaXplOiBodG1sRm9udFNpemUsXG4gICAgcHhUb1JlbTogcHhUb1JlbSxcbiAgICByb3VuZDogcm91bmRXaXRoRGVwcmVjYXRpb25XYXJuaW5nLFxuICAgIC8vIFRPRE8gdjU6IHJlbW92ZVxuICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgZm9udFNpemU6IGZvbnRTaXplLFxuICAgIGZvbnRXZWlnaHRMaWdodDogZm9udFdlaWdodExpZ2h0LFxuICAgIGZvbnRXZWlnaHRSZWd1bGFyOiBmb250V2VpZ2h0UmVndWxhcixcbiAgICBmb250V2VpZ2h0TWVkaXVtOiBmb250V2VpZ2h0TWVkaXVtLFxuICAgIGZvbnRXZWlnaHRCb2xkOiBmb250V2VpZ2h0Qm9sZFxuICB9LCB2YXJpYW50cyksIG90aGVyLCB7XG4gICAgY2xvbmU6IGZhbHNlIC8vIE5vIG5lZWQgdG8gY2xvbmUgZGVlcFxuXG4gIH0pO1xufSIsInZhciBzaGFkb3dLZXlVbWJyYU9wYWNpdHkgPSAwLjI7XG52YXIgc2hhZG93S2V5UGVudW1icmFPcGFjaXR5ID0gMC4xNDtcbnZhciBzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSA9IDAuMTI7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNoYWRvdygpIHtcbiAgcmV0dXJuIFtcIlwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDIgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMl0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDMgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbM10sIFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KHNoYWRvd0tleVVtYnJhT3BhY2l0eSwgXCIpXCIpLCBcIlwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbNF0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDUgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbNV0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDYgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbNl0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDcgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbN10sIFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KHNoYWRvd0tleVBlbnVtYnJhT3BhY2l0eSwgXCIpXCIpLCBcIlwiLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDggPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbOF0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDkgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbOV0sIFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoIDw9IDEwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzEwXSwgXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGggPD0gMTEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMTFdLCBcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdChzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSwgXCIpXCIpXS5qb2luKCcsJyk7XG59IC8vIFZhbHVlcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbC1jb21wb25lbnRzL21hdGVyaWFsLWNvbXBvbmVudHMtd2ViL2Jsb2IvYmU4NzQ3Zjk0NTc0NjY5Y2I1ZTdhZGQxYTdjNTRmYTQxYTg5Y2VjNy9wYWNrYWdlcy9tZGMtZWxldmF0aW9uL192YXJpYWJsZXMuc2Nzc1xuXG5cbnZhciBzaGFkb3dzID0gWydub25lJywgY3JlYXRlU2hhZG93KDAsIDIsIDEsIC0xLCAwLCAxLCAxLCAwLCAwLCAxLCAzLCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDEsIC0yLCAwLCAyLCAyLCAwLCAwLCAxLCA1LCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDMsIC0yLCAwLCAzLCA0LCAwLCAwLCAxLCA4LCAwKSwgY3JlYXRlU2hhZG93KDAsIDIsIDQsIC0xLCAwLCA0LCA1LCAwLCAwLCAxLCAxMCwgMCksIGNyZWF0ZVNoYWRvdygwLCAzLCA1LCAtMSwgMCwgNSwgOCwgMCwgMCwgMSwgMTQsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgNSwgLTEsIDAsIDYsIDEwLCAwLCAwLCAxLCAxOCwgMCksIGNyZWF0ZVNoYWRvdygwLCA0LCA1LCAtMiwgMCwgNywgMTAsIDEsIDAsIDIsIDE2LCAxKSwgY3JlYXRlU2hhZG93KDAsIDUsIDUsIC0zLCAwLCA4LCAxMCwgMSwgMCwgMywgMTQsIDIpLCBjcmVhdGVTaGFkb3coMCwgNSwgNiwgLTMsIDAsIDksIDEyLCAxLCAwLCAzLCAxNiwgMiksIGNyZWF0ZVNoYWRvdygwLCA2LCA2LCAtMywgMCwgMTAsIDE0LCAxLCAwLCA0LCAxOCwgMyksIGNyZWF0ZVNoYWRvdygwLCA2LCA3LCAtNCwgMCwgMTEsIDE1LCAxLCAwLCA0LCAyMCwgMyksIGNyZWF0ZVNoYWRvdygwLCA3LCA4LCAtNCwgMCwgMTIsIDE3LCAyLCAwLCA1LCAyMiwgNCksIGNyZWF0ZVNoYWRvdygwLCA3LCA4LCAtNCwgMCwgMTMsIDE5LCAyLCAwLCA1LCAyNCwgNCksIGNyZWF0ZVNoYWRvdygwLCA3LCA5LCAtNCwgMCwgMTQsIDIxLCAyLCAwLCA1LCAyNiwgNCksIGNyZWF0ZVNoYWRvdygwLCA4LCA5LCAtNSwgMCwgMTUsIDIyLCAyLCAwLCA2LCAyOCwgNSksIGNyZWF0ZVNoYWRvdygwLCA4LCAxMCwgLTUsIDAsIDE2LCAyNCwgMiwgMCwgNiwgMzAsIDUpLCBjcmVhdGVTaGFkb3coMCwgOCwgMTEsIC01LCAwLCAxNywgMjYsIDIsIDAsIDYsIDMyLCA1KSwgY3JlYXRlU2hhZG93KDAsIDksIDExLCAtNSwgMCwgMTgsIDI4LCAyLCAwLCA3LCAzNCwgNiksIGNyZWF0ZVNoYWRvdygwLCA5LCAxMiwgLTYsIDAsIDE5LCAyOSwgMiwgMCwgNywgMzYsIDYpLCBjcmVhdGVTaGFkb3coMCwgMTAsIDEzLCAtNiwgMCwgMjAsIDMxLCAzLCAwLCA4LCAzOCwgNyksIGNyZWF0ZVNoYWRvdygwLCAxMCwgMTMsIC02LCAwLCAyMSwgMzMsIDMsIDAsIDgsIDQwLCA3KSwgY3JlYXRlU2hhZG93KDAsIDEwLCAxNCwgLTYsIDAsIDIyLCAzNSwgMywgMCwgOCwgNDIsIDcpLCBjcmVhdGVTaGFkb3coMCwgMTEsIDE0LCAtNywgMCwgMjMsIDM2LCAzLCAwLCA5LCA0NCwgOCksIGNyZWF0ZVNoYWRvdygwLCAxMSwgMTUsIC03LCAwLCAyNCwgMzgsIDMsIDAsIDksIDQ2LCA4KV07XG5leHBvcnQgZGVmYXVsdCBzaGFkb3dzOyIsInZhciBzaGFwZSA9IHtcbiAgYm9yZGVyUmFkaXVzOiA0XG59O1xuZXhwb3J0IGRlZmF1bHQgc2hhcGU7IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCBhcnJheVdpdGhvdXRIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhvdXRIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi9pdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlU3ByZWFkIGZyb20gXCIuL25vbkl0ZXJhYmxlU3ByZWFkLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJpbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbWF0ZXJpYWwtdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiBtZXJnZShhY2MsIGl0ZW0pIHtcbiAgaWYgKCFpdGVtKSB7XG4gICAgcmV0dXJuIGFjYztcbiAgfVxuXG4gIHJldHVybiBkZWVwbWVyZ2UoYWNjLCBpdGVtLCB7XG4gICAgY2xvbmU6IGZhbHNlIC8vIE5vIG5lZWQgdG8gY2xvbmUgZGVlcCwgaXQncyB3YXkgZmFzdGVyLlxuXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZXJnZTsiLCJpbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IG1lcmdlIGZyb20gJy4vbWVyZ2UnOyAvLyBUaGUgYnJlYWtwb2ludCAqKnN0YXJ0KiogYXQgdGhpcyB2YWx1ZS5cbi8vIEZvciBpbnN0YW5jZSB3aXRoIHRoZSBmaXJzdCBicmVha3BvaW50IHhzOiBbeHMsIHNtWy5cblxudmFyIHZhbHVlcyA9IHtcbiAgeHM6IDAsXG4gIHNtOiA2MDAsXG4gIG1kOiA5NjAsXG4gIGxnOiAxMjgwLFxuICB4bDogMTkyMFxufTtcbnZhciBkZWZhdWx0QnJlYWtwb2ludHMgPSB7XG4gIC8vIFNvcnRlZCBBU0MgYnkgc2l6ZS4gVGhhdCdzIGltcG9ydGFudC5cbiAgLy8gSXQgY2FuJ3QgYmUgY29uZmlndXJlZCBhcyBpdCdzIHVzZWQgc3RhdGljYWxseSBmb3IgcHJvcFR5cGVzLlxuICBrZXlzOiBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJ10sXG4gIHVwOiBmdW5jdGlvbiB1cChrZXkpIHtcbiAgICByZXR1cm4gXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodmFsdWVzW2tleV0sIFwicHgpXCIpO1xuICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wVmFsdWUsIHN0eWxlRnJvbVByb3BWYWx1ZSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghcHJvcHMudGhlbWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01hdGVyaWFsLVVJOiBZb3UgYXJlIGNhbGxpbmcgYSBzdHlsZSBmdW5jdGlvbiB3aXRob3V0IGEgdGhlbWUgdmFsdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgIHZhciB0aGVtZUJyZWFrcG9pbnRzID0gcHJvcHMudGhlbWUuYnJlYWtwb2ludHMgfHwgZGVmYXVsdEJyZWFrcG9pbnRzO1xuICAgIHJldHVybiBwcm9wVmFsdWUucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICBhY2NbdGhlbWVCcmVha3BvaW50cy51cCh0aGVtZUJyZWFrcG9pbnRzLmtleXNbaW5kZXhdKV0gPSBzdHlsZUZyb21Qcm9wVmFsdWUocHJvcFZhbHVlW2luZGV4XSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKHByb3BWYWx1ZSkgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIF90aGVtZUJyZWFrcG9pbnRzID0gcHJvcHMudGhlbWUuYnJlYWtwb2ludHMgfHwgZGVmYXVsdEJyZWFrcG9pbnRzO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BWYWx1ZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGJyZWFrcG9pbnQpIHtcbiAgICAgIGFjY1tfdGhlbWVCcmVha3BvaW50cy51cChicmVha3BvaW50KV0gPSBzdHlsZUZyb21Qcm9wVmFsdWUocHJvcFZhbHVlW2JyZWFrcG9pbnRdKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG5cbiAgdmFyIG91dHB1dCA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWUpO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBicmVha3BvaW50cyhzdHlsZUZ1bmN0aW9uKSB7XG4gIHZhciBuZXdTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gbmV3U3R5bGVGdW5jdGlvbihwcm9wcykge1xuICAgIHZhciBiYXNlID0gc3R5bGVGdW5jdGlvbihwcm9wcyk7XG4gICAgdmFyIHRoZW1lQnJlYWtwb2ludHMgPSBwcm9wcy50aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgdmFyIGV4dGVuZGVkID0gdGhlbWVCcmVha3BvaW50cy5rZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgIGlmIChwcm9wc1trZXldKSB7XG4gICAgICAgIGFjYyA9IGFjYyB8fCB7fTtcbiAgICAgICAgYWNjW3RoZW1lQnJlYWtwb2ludHMudXAoa2V5KV0gPSBzdHlsZUZ1bmN0aW9uKF9leHRlbmRzKHtcbiAgICAgICAgICB0aGVtZTogcHJvcHMudGhlbWVcbiAgICAgICAgfSwgcHJvcHNba2V5XSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBtZXJnZShiYXNlLCBleHRlbmRlZCk7XG4gIH07XG5cbiAgbmV3U3R5bGVGdW5jdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2V4dGVuZHMoe30sIHN0eWxlRnVuY3Rpb24ucHJvcFR5cGVzLCB7XG4gICAgeHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgc206IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbWQ6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbGc6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgeGw6IFByb3BUeXBlcy5vYmplY3RcbiAgfSkgOiB7fTtcbiAgbmV3U3R5bGVGdW5jdGlvbi5maWx0ZXJQcm9wcyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0eWxlRnVuY3Rpb24uZmlsdGVyUHJvcHMpKTtcbiAgcmV0dXJuIG5ld1N0eWxlRnVuY3Rpb247XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJyZWFrcG9pbnRzOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgdmFyIGNhY2hlID0ge307XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgaWYgKGNhY2hlW2FyZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGVbYXJnXSA9IGZuKGFyZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgcmVzcG9uc2l2ZVByb3BUeXBlIGZyb20gJy4vcmVzcG9uc2l2ZVByb3BUeXBlJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzIH0gZnJvbSAnLi9icmVha3BvaW50cyc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuL21lbW9pemUnO1xudmFyIHByb3BlcnRpZXMgPSB7XG4gIG06ICdtYXJnaW4nLFxuICBwOiAncGFkZGluZydcbn07XG52YXIgZGlyZWN0aW9ucyA9IHtcbiAgdDogJ1RvcCcsXG4gIHI6ICdSaWdodCcsXG4gIGI6ICdCb3R0b20nLFxuICBsOiAnTGVmdCcsXG4gIHg6IFsnTGVmdCcsICdSaWdodCddLFxuICB5OiBbJ1RvcCcsICdCb3R0b20nXVxufTtcbnZhciBhbGlhc2VzID0ge1xuICBtYXJnaW5YOiAnbXgnLFxuICBtYXJnaW5ZOiAnbXknLFxuICBwYWRkaW5nWDogJ3B4JyxcbiAgcGFkZGluZ1k6ICdweSdcbn07IC8vIG1lbW9pemUoKSBpbXBhY3Q6XG4vLyBGcm9tIDMwMCwwMDAgb3BzL3NlY1xuLy8gVG8gMzUwLDAwMCBvcHMvc2VjXG5cbnZhciBnZXRDc3NQcm9wZXJ0aWVzID0gbWVtb2l6ZShmdW5jdGlvbiAocHJvcCkge1xuICAvLyBJdCdzIG5vdCBhIHNob3J0aGFuZCBub3RhdGlvbi5cbiAgaWYgKHByb3AubGVuZ3RoID4gMikge1xuICAgIGlmIChhbGlhc2VzW3Byb3BdKSB7XG4gICAgICBwcm9wID0gYWxpYXNlc1twcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICB9XG4gIH1cblxuICB2YXIgX3Byb3Akc3BsaXQgPSBwcm9wLnNwbGl0KCcnKSxcbiAgICAgIF9wcm9wJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9wcm9wJHNwbGl0LCAyKSxcbiAgICAgIGEgPSBfcHJvcCRzcGxpdDJbMF0sXG4gICAgICBiID0gX3Byb3Akc3BsaXQyWzFdO1xuXG4gIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbYV07XG4gIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25zW2JdIHx8ICcnO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShkaXJlY3Rpb24pID8gZGlyZWN0aW9uLm1hcChmdW5jdGlvbiAoZGlyKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5ICsgZGlyO1xuICB9KSA6IFtwcm9wZXJ0eSArIGRpcmVjdGlvbl07XG59KTtcbnZhciBzcGFjaW5nS2V5cyA9IFsnbScsICdtdCcsICdtcicsICdtYicsICdtbCcsICdteCcsICdteScsICdwJywgJ3B0JywgJ3ByJywgJ3BiJywgJ3BsJywgJ3B4JywgJ3B5JywgJ21hcmdpbicsICdtYXJnaW5Ub3AnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnbWFyZ2luWCcsICdtYXJnaW5ZJywgJ3BhZGRpbmcnLCAncGFkZGluZ1RvcCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nWCcsICdwYWRkaW5nWSddO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuYXJ5U3BhY2luZyh0aGVtZSkge1xuICB2YXIgdGhlbWVTcGFjaW5nID0gdGhlbWUuc3BhY2luZyB8fCA4O1xuXG4gIGlmICh0eXBlb2YgdGhlbWVTcGFjaW5nID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWJzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodHlwZW9mIGFicyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTWF0ZXJpYWwtVUk6IEV4cGVjdGVkIHNwYWNpbmcgYXJndW1lbnQgdG8gYmUgYSBudW1iZXIsIGdvdCBcIi5jb25jYXQoYWJzLCBcIi5cIikpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGVtZVNwYWNpbmcgKiBhYnM7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHRoZW1lU3BhY2luZykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFicykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGFicyA+IHRoZW1lU3BhY2luZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihbXCJNYXRlcmlhbC1VSTogVGhlIHZhbHVlIHByb3ZpZGVkIChcIi5jb25jYXQoYWJzLCBcIikgb3ZlcmZsb3dzLlwiKSwgXCJUaGUgc3VwcG9ydGVkIHZhbHVlcyBhcmU6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGVtZVNwYWNpbmcpLCBcIi5cIiksIFwiXCIuY29uY2F0KGFicywgXCIgPiBcIikuY29uY2F0KHRoZW1lU3BhY2luZy5sZW5ndGggLSAxLCBcIiwgeW91IG5lZWQgdG8gYWRkIHRoZSBtaXNzaW5nIHZhbHVlcy5cIildLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhlbWVTcGFjaW5nW2Fic107XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdGhlbWVTcGFjaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoZW1lU3BhY2luZztcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihbXCJNYXRlcmlhbC1VSTogVGhlIGB0aGVtZS5zcGFjaW5nYCB2YWx1ZSAoXCIuY29uY2F0KHRoZW1lU3BhY2luZywgXCIpIGlzIGludmFsaWQuXCIpLCAnSXQgc2hvdWxkIGJlIGEgbnVtYmVyLCBhbiBhcnJheSBvciBhIGZ1bmN0aW9uLiddLmpvaW4oJ1xcbicpKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSkge1xuICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3N0cmluZycgfHwgcHJvcFZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcFZhbHVlO1xuICB9XG5cbiAgdmFyIGFicyA9IE1hdGguYWJzKHByb3BWYWx1ZSk7XG4gIHZhciB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybWVyKGFicyk7XG5cbiAgaWYgKHByb3BWYWx1ZSA+PSAwKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1lZCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gLXRyYW5zZm9ybWVkO1xuICB9XG5cbiAgcmV0dXJuIFwiLVwiLmNvbmNhdCh0cmFuc2Zvcm1lZCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlRnJvbVByb3BWYWx1ZShjc3NQcm9wZXJ0aWVzLCB0cmFuc2Zvcm1lcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BWYWx1ZSkge1xuICAgIHJldHVybiBjc3NQcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjc3NQcm9wZXJ0eSkge1xuICAgICAgYWNjW2Nzc1Byb3BlcnR5XSA9IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNwYWNpbmcocHJvcHMpIHtcbiAgdmFyIHRoZW1lID0gcHJvcHMudGhlbWU7XG4gIHZhciB0cmFuc2Zvcm1lciA9IGNyZWF0ZVVuYXJ5U3BhY2luZyh0aGVtZSk7XG4gIHJldHVybiBPYmplY3Qua2V5cyhwcm9wcykubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgLy8gVXNpbmcgYSBoYXNoIGNvbXB1dGF0aW9uIG92ZXIgYW4gYXJyYXkgaXRlcmF0aW9uIGNvdWxkIGJlIGZhc3RlciwgYnV0IHdpdGggb25seSAyOCBpdGVtcyxcbiAgICAvLyBpdCdzIGRvZXNuJ3Qgd29ydGggdGhlIGJ1bmRsZSBzaXplLlxuICAgIGlmIChzcGFjaW5nS2V5cy5pbmRleE9mKHByb3ApID09PSAtMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGNzc1Byb3BlcnRpZXMgPSBnZXRDc3NQcm9wZXJ0aWVzKHByb3ApO1xuICAgIHZhciBzdHlsZUZyb21Qcm9wVmFsdWUgPSBnZXRTdHlsZUZyb21Qcm9wVmFsdWUoY3NzUHJvcGVydGllcywgdHJhbnNmb3JtZXIpO1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BWYWx1ZSwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbiAgfSkucmVkdWNlKG1lcmdlLCB7fSk7XG59XG5cbnNwYWNpbmcucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHNwYWNpbmdLZXlzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgb2JqW2tleV0gPSByZXNwb25zaXZlUHJvcFR5cGU7XG4gIHJldHVybiBvYmo7XG59LCB7fSkgOiB7fTtcbnNwYWNpbmcuZmlsdGVyUHJvcHMgPSBzcGFjaW5nS2V5cztcbmV4cG9ydCBkZWZhdWx0IHNwYWNpbmc7IiwiaW1wb3J0IHsgY3JlYXRlVW5hcnlTcGFjaW5nIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3N5c3RlbSc7XG52YXIgd2Fybk9uY2U7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTcGFjaW5nKCkge1xuICB2YXIgc3BhY2luZ0lucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiA4O1xuXG4gIC8vIEFscmVhZHkgdHJhbnNmb3JtZWQuXG4gIGlmIChzcGFjaW5nSW5wdXQubXVpKSB7XG4gICAgcmV0dXJuIHNwYWNpbmdJbnB1dDtcbiAgfSAvLyBNYXRlcmlhbCBEZXNpZ24gbGF5b3V0cyBhcmUgdmlzdWFsbHkgYmFsYW5jZWQuIE1vc3QgbWVhc3VyZW1lbnRzIGFsaWduIHRvIGFuIDhkcCBncmlkIGFwcGxpZWQsIHdoaWNoIGFsaWducyBib3RoIHNwYWNpbmcgYW5kIHRoZSBvdmVyYWxsIGxheW91dC5cbiAgLy8gU21hbGxlciBjb21wb25lbnRzLCBzdWNoIGFzIGljb25zIGFuZCB0eXBlLCBjYW4gYWxpZ24gdG8gYSA0ZHAgZ3JpZC5cbiAgLy8gaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vbGF5b3V0L3VuZGVyc3RhbmRpbmctbGF5b3V0Lmh0bWwjdXNhZ2VcblxuXG4gIHZhciB0cmFuc2Zvcm0gPSBjcmVhdGVVbmFyeVNwYWNpbmcoe1xuICAgIHNwYWNpbmc6IHNwYWNpbmdJbnB1dFxuICB9KTtcblxuICB2YXIgc3BhY2luZyA9IGZ1bmN0aW9uIHNwYWNpbmcoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoIShhcmdzLmxlbmd0aCA8PSA0KSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWF0ZXJpYWwtVUk6IFRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCwgZXhwZWN0ZWQgYmV0d2VlbiAwIGFuZCA0LCBnb3QgXCIuY29uY2F0KGFyZ3MubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtKDEpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybShhcmdzWzBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJncy5tYXAoZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gYXJndW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXRwdXQgPSB0cmFuc2Zvcm0oYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBvdXRwdXQgPT09ICdudW1iZXInID8gXCJcIi5jb25jYXQob3V0cHV0LCBcInB4XCIpIDogb3V0cHV0O1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfTsgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdG8gcmVtb3ZlIGluIHY1LlxuXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNwYWNpbmcsICd1bml0Jywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKCF3YXJuT25jZSB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihbJ01hdGVyaWFsLVVJOiB0aGVtZS5zcGFjaW5nLnVuaXQgdXNhZ2UgaGFzIGJlZW4gZGVwcmVjYXRlZC4nLCAnSXQgd2lsbCBiZSByZW1vdmVkIGluIHY1LicsICdZb3UgY2FuIHJlcGxhY2UgYHRoZW1lLnNwYWNpbmcudW5pdCAqIHlgIHdpdGggYHRoZW1lLnNwYWNpbmcoeSlgLicsICcnLCAnWW91IGNhbiB1c2UgdGhlIGBodHRwczovL2dpdGh1Yi5jb20vbXVpLW9yZy9tYXRlcmlhbC11aS90cmVlL21hc3Rlci9wYWNrYWdlcy9tYXRlcmlhbC11aS1jb2RlbW9kL1JFQURNRS5tZCN0aGVtZS1zcGFjaW5nLWFwaWAgbWlncmF0aW9uIGhlbHBlciB0byBtYWtlIHRoZSBwcm9jZXNzIHNtb290aGVyLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdhcm5PbmNlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNwYWNpbmdJbnB1dDtcbiAgICB9XG4gIH0pO1xuICBzcGFjaW5nLm11aSA9IHRydWU7XG4gIHJldHVybiBzcGFjaW5nO1xufSIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG4vLyBGb2xsb3cgaHR0cHM6Ly9tYXRlcmlhbC5nb29nbGUuY29tL21vdGlvbi9kdXJhdGlvbi1lYXNpbmcuaHRtbCNkdXJhdGlvbi1lYXNpbmctbmF0dXJhbC1lYXNpbmctY3VydmVzXG4vLyB0byBsZWFybiB0aGUgY29udGV4dCBpbiB3aGljaCBlYWNoIGVhc2luZyBzaG91bGQgYmUgdXNlZC5cbmV4cG9ydCB2YXIgZWFzaW5nID0ge1xuICAvLyBUaGlzIGlzIHRoZSBtb3N0IGNvbW1vbiBlYXNpbmcgY3VydmUuXG4gIGVhc2VJbk91dDogJ2N1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSknLFxuICAvLyBPYmplY3RzIGVudGVyIHRoZSBzY3JlZW4gYXQgZnVsbCB2ZWxvY2l0eSBmcm9tIG9mZi1zY3JlZW4gYW5kXG4gIC8vIHNsb3dseSBkZWNlbGVyYXRlIHRvIGEgcmVzdGluZyBwb2ludC5cbiAgZWFzZU91dDogJ2N1YmljLWJlemllcigwLjAsIDAsIDAuMiwgMSknLFxuICAvLyBPYmplY3RzIGxlYXZlIHRoZSBzY3JlZW4gYXQgZnVsbCB2ZWxvY2l0eS4gVGhleSBkbyBub3QgZGVjZWxlcmF0ZSB3aGVuIG9mZi1zY3JlZW4uXG4gIGVhc2VJbjogJ2N1YmljLWJlemllcigwLjQsIDAsIDEsIDEpJyxcbiAgLy8gVGhlIHNoYXJwIGN1cnZlIGlzIHVzZWQgYnkgb2JqZWN0cyB0aGF0IG1heSByZXR1cm4gdG8gdGhlIHNjcmVlbiBhdCBhbnkgdGltZS5cbiAgc2hhcnA6ICdjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpJ1xufTsgLy8gRm9sbG93IGh0dHBzOi8vbWF0ZXJpYWwuaW8vZ3VpZGVsaW5lcy9tb3Rpb24vZHVyYXRpb24tZWFzaW5nLmh0bWwjZHVyYXRpb24tZWFzaW5nLWNvbW1vbi1kdXJhdGlvbnNcbi8vIHRvIGxlYXJuIHdoZW4gdXNlIHdoYXQgdGltaW5nXG5cbmV4cG9ydCB2YXIgZHVyYXRpb24gPSB7XG4gIHNob3J0ZXN0OiAxNTAsXG4gIHNob3J0ZXI6IDIwMCxcbiAgc2hvcnQ6IDI1MCxcbiAgLy8gbW9zdCBiYXNpYyByZWNvbW1lbmRlZCB0aW1pbmdcbiAgc3RhbmRhcmQ6IDMwMCxcbiAgLy8gdGhpcyBpcyB0byBiZSB1c2VkIGluIGNvbXBsZXggYW5pbWF0aW9uc1xuICBjb21wbGV4OiAzNzUsXG4gIC8vIHJlY29tbWVuZGVkIHdoZW4gc29tZXRoaW5nIGlzIGVudGVyaW5nIHNjcmVlblxuICBlbnRlcmluZ1NjcmVlbjogMjI1LFxuICAvLyByZWNvbW1lbmRlZCB3aGVuIHNvbWV0aGluZyBpcyBsZWF2aW5nIHNjcmVlblxuICBsZWF2aW5nU2NyZWVuOiAxOTVcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdE1zKG1pbGxpc2Vjb25kcykge1xuICByZXR1cm4gXCJcIi5jb25jYXQoTWF0aC5yb3VuZChtaWxsaXNlY29uZHMpLCBcIm1zXCIpO1xufVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLnByb3BcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYXJhbS5kdXJhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmVhc2luZ1xuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtLmRlbGF5XG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVhc2luZzogZWFzaW5nLFxuICBkdXJhdGlvbjogZHVyYXRpb24sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogWydhbGwnXTtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgX29wdGlvbnMkZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICBkdXJhdGlvbk9wdGlvbiA9IF9vcHRpb25zJGR1cmF0aW9uID09PSB2b2lkIDAgPyBkdXJhdGlvbi5zdGFuZGFyZCA6IF9vcHRpb25zJGR1cmF0aW9uLFxuICAgICAgICBfb3B0aW9ucyRlYXNpbmcgPSBvcHRpb25zLmVhc2luZyxcbiAgICAgICAgZWFzaW5nT3B0aW9uID0gX29wdGlvbnMkZWFzaW5nID09PSB2b2lkIDAgPyBlYXNpbmcuZWFzZUluT3V0IDogX29wdGlvbnMkZWFzaW5nLFxuICAgICAgICBfb3B0aW9ucyRkZWxheSA9IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGRlbGF5ID0gX29wdGlvbnMkZGVsYXkgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyRkZWxheSxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9ucywgW1wiZHVyYXRpb25cIiwgXCJlYXNpbmdcIiwgXCJkZWxheVwiXSk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG4gICAgICB9O1xuXG4gICAgICB2YXIgaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghaXNTdHJpbmcocHJvcHMpICYmICFBcnJheS5pc0FycmF5KHByb3BzKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogQXJndW1lbnQgXCJwcm9wc1wiIG11c3QgYmUgYSBzdHJpbmcgb3IgQXJyYXkuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOdW1iZXIoZHVyYXRpb25PcHRpb24pICYmICFpc1N0cmluZyhkdXJhdGlvbk9wdGlvbikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1hdGVyaWFsLVVJOiBBcmd1bWVudCBcXFwiZHVyYXRpb25cXFwiIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmcgYnV0IGZvdW5kIFwiLmNvbmNhdChkdXJhdGlvbk9wdGlvbiwgXCIuXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1N0cmluZyhlYXNpbmdPcHRpb24pKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01hdGVyaWFsLVVJOiBBcmd1bWVudCBcImVhc2luZ1wiIG11c3QgYmUgYSBzdHJpbmcuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOdW1iZXIoZGVsYXkpICYmICFpc1N0cmluZyhkZWxheSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTWF0ZXJpYWwtVUk6IEFyZ3VtZW50IFwiZGVsYXlcIiBtdXN0IGJlIGEgbnVtYmVyIG9yIGEgc3RyaW5nLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMob3RoZXIpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWF0ZXJpYWwtVUk6IFVucmVjb2duaXplZCBhcmd1bWVudChzKSBbXCIuY29uY2F0KE9iamVjdC5rZXlzKG90aGVyKS5qb2luKCcsJyksIFwiXS5cIikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShwcm9wcykgPyBwcm9wcyA6IFtwcm9wc10pLm1hcChmdW5jdGlvbiAoYW5pbWF0ZWRQcm9wKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoYW5pbWF0ZWRQcm9wLCBcIiBcIikuY29uY2F0KHR5cGVvZiBkdXJhdGlvbk9wdGlvbiA9PT0gJ3N0cmluZycgPyBkdXJhdGlvbk9wdGlvbiA6IGZvcm1hdE1zKGR1cmF0aW9uT3B0aW9uKSwgXCIgXCIpLmNvbmNhdChlYXNpbmdPcHRpb24sIFwiIFwiKS5jb25jYXQodHlwZW9mIGRlbGF5ID09PSAnc3RyaW5nJyA/IGRlbGF5IDogZm9ybWF0TXMoZGVsYXkpKTtcbiAgICB9KS5qb2luKCcsJyk7XG4gIH0sXG4gIGdldEF1dG9IZWlnaHREdXJhdGlvbjogZnVuY3Rpb24gZ2V0QXV0b0hlaWdodER1cmF0aW9uKGhlaWdodCkge1xuICAgIGlmICghaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB2YXIgY29uc3RhbnQgPSBoZWlnaHQgLyAzNjsgLy8gaHR0cHM6Ly93d3cud29sZnJhbWFscGhhLmNvbS9pbnB1dC8/aT0oNCslMkIrMTUrKisoeCslMkYrMzYrKSsqKiswLjI1KyUyQisoeCslMkYrMzYpKyUyRis1KSsqKzEwXG5cbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoNCArIDE1ICogTWF0aC5wb3coY29uc3RhbnQsIDAuMjUpICsgY29uc3RhbnQgLyA1KSAqIDEwKTtcbiAgfVxufTsiLCIvLyBXZSBuZWVkIHRvIGNlbnRyYWxpemUgdGhlIHpJbmRleCBkZWZpbml0aW9ucyBhcyB0aGV5IHdvcmtcbi8vIGxpa2UgZ2xvYmFsIHZhbHVlcyBpbiB0aGUgYnJvd3Nlci5cbnZhciB6SW5kZXggPSB7XG4gIG1vYmlsZVN0ZXBwZXI6IDEwMDAsXG4gIHNwZWVkRGlhbDogMTA1MCxcbiAgYXBwQmFyOiAxMTAwLFxuICBkcmF3ZXI6IDEyMDAsXG4gIG1vZGFsOiAxMzAwLFxuICBzbmFja2JhcjogMTQwMCxcbiAgdG9vbHRpcDogMTUwMFxufTtcbmV4cG9ydCBkZWZhdWx0IHpJbmRleDsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5pbXBvcnQgY3JlYXRlQnJlYWtwb2ludHMgZnJvbSAnLi9jcmVhdGVCcmVha3BvaW50cyc7XG5pbXBvcnQgY3JlYXRlTWl4aW5zIGZyb20gJy4vY3JlYXRlTWl4aW5zJztcbmltcG9ydCBjcmVhdGVQYWxldHRlIGZyb20gJy4vY3JlYXRlUGFsZXR0ZSc7XG5pbXBvcnQgY3JlYXRlVHlwb2dyYXBoeSBmcm9tICcuL2NyZWF0ZVR5cG9ncmFwaHknO1xuaW1wb3J0IHNoYWRvd3MgZnJvbSAnLi9zaGFkb3dzJztcbmltcG9ydCBzaGFwZSBmcm9tICcuL3NoYXBlJztcbmltcG9ydCBjcmVhdGVTcGFjaW5nIGZyb20gJy4vY3JlYXRlU3BhY2luZyc7XG5pbXBvcnQgdHJhbnNpdGlvbnMgZnJvbSAnLi90cmFuc2l0aW9ucyc7XG5pbXBvcnQgekluZGV4IGZyb20gJy4vekluZGV4JztcblxuZnVuY3Rpb24gY3JlYXRlVGhlbWUoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICB2YXIgX29wdGlvbnMkYnJlYWtwb2ludHMgPSBvcHRpb25zLmJyZWFrcG9pbnRzLFxuICAgICAgYnJlYWtwb2ludHNJbnB1dCA9IF9vcHRpb25zJGJyZWFrcG9pbnRzID09PSB2b2lkIDAgPyB7fSA6IF9vcHRpb25zJGJyZWFrcG9pbnRzLFxuICAgICAgX29wdGlvbnMkbWl4aW5zID0gb3B0aW9ucy5taXhpbnMsXG4gICAgICBtaXhpbnNJbnB1dCA9IF9vcHRpb25zJG1peGlucyA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRtaXhpbnMsXG4gICAgICBfb3B0aW9ucyRwYWxldHRlID0gb3B0aW9ucy5wYWxldHRlLFxuICAgICAgcGFsZXR0ZUlucHV0ID0gX29wdGlvbnMkcGFsZXR0ZSA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRwYWxldHRlLFxuICAgICAgc3BhY2luZ0lucHV0ID0gb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgX29wdGlvbnMkdHlwb2dyYXBoeSA9IG9wdGlvbnMudHlwb2dyYXBoeSxcbiAgICAgIHR5cG9ncmFwaHlJbnB1dCA9IF9vcHRpb25zJHR5cG9ncmFwaHkgPT09IHZvaWQgMCA/IHt9IDogX29wdGlvbnMkdHlwb2dyYXBoeSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdGlvbnMsIFtcImJyZWFrcG9pbnRzXCIsIFwibWl4aW5zXCIsIFwicGFsZXR0ZVwiLCBcInNwYWNpbmdcIiwgXCJ0eXBvZ3JhcGh5XCJdKTtcblxuICB2YXIgcGFsZXR0ZSA9IGNyZWF0ZVBhbGV0dGUocGFsZXR0ZUlucHV0KTtcbiAgdmFyIGJyZWFrcG9pbnRzID0gY3JlYXRlQnJlYWtwb2ludHMoYnJlYWtwb2ludHNJbnB1dCk7XG4gIHZhciBzcGFjaW5nID0gY3JlYXRlU3BhY2luZyhzcGFjaW5nSW5wdXQpO1xuICB2YXIgbXVpVGhlbWUgPSBkZWVwbWVyZ2Uoe1xuICAgIGJyZWFrcG9pbnRzOiBicmVha3BvaW50cyxcbiAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgIG1peGluczogY3JlYXRlTWl4aW5zKGJyZWFrcG9pbnRzLCBzcGFjaW5nLCBtaXhpbnNJbnB1dCksXG4gICAgb3ZlcnJpZGVzOiB7fSxcbiAgICAvLyBJbmplY3QgY3VzdG9tIHN0eWxlc1xuICAgIHBhbGV0dGU6IHBhbGV0dGUsXG4gICAgcHJvcHM6IHt9LFxuICAgIC8vIFByb3ZpZGUgZGVmYXVsdCBwcm9wc1xuICAgIHNoYWRvd3M6IHNoYWRvd3MsXG4gICAgdHlwb2dyYXBoeTogY3JlYXRlVHlwb2dyYXBoeShwYWxldHRlLCB0eXBvZ3JhcGh5SW5wdXQpLFxuICAgIHNwYWNpbmc6IHNwYWNpbmcsXG4gICAgc2hhcGU6IHNoYXBlLFxuICAgIHRyYW5zaXRpb25zOiB0cmFuc2l0aW9ucyxcbiAgICB6SW5kZXg6IHpJbmRleFxuICB9LCBvdGhlcik7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgbXVpVGhlbWUgPSBhcmdzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhcmd1bWVudCkge1xuICAgIHJldHVybiBkZWVwbWVyZ2UoYWNjLCBhcmd1bWVudCk7XG4gIH0sIG11aVRoZW1lKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBwc2V1ZG9DbGFzc2VzID0gWydjaGVja2VkJywgJ2Rpc2FibGVkJywgJ2Vycm9yJywgJ2ZvY3VzZWQnLCAnZm9jdXNWaXNpYmxlJywgJ3JlcXVpcmVkJywgJ2V4cGFuZGVkJywgJ3NlbGVjdGVkJ107XG5cbiAgICB2YXIgdHJhdmVyc2UgPSBmdW5jdGlvbiB0cmF2ZXJzZShub2RlLCBwYXJlbnRLZXkpIHtcbiAgICAgIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICAgIHZhciBrZXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW4sIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG5cbiAgICAgIGZvciAoa2V5IGluIG5vZGUpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtrZXldO1xuXG4gICAgICAgIGlmIChkZXB0aCA9PT0gMSkge1xuICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignTXVpJykgPT09IDAgJiYgY2hpbGQpIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKGNoaWxkLCBrZXksIGRlcHRoICsgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBzZXVkb0NsYXNzZXMuaW5kZXhPZihrZXkpICE9PSAtMSAmJiBPYmplY3Qua2V5cyhjaGlsZCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFtcIk1hdGVyaWFsLVVJOiBUaGUgYFwiLmNvbmNhdChwYXJlbnRLZXksIFwiYCBjb21wb25lbnQgaW5jcmVhc2VzIFwiKSArIFwidGhlIENTUyBzcGVjaWZpY2l0eSBvZiB0aGUgYFwiLmNvbmNhdChrZXksIFwiYCBpbnRlcm5hbCBzdGF0ZS5cIiksICdZb3UgY2FuIG5vdCBvdmVycmlkZSBpdCBsaWtlIHRoaXM6ICcsIEpTT04uc3RyaW5naWZ5KG5vZGUsIG51bGwsIDIpLCAnJywgJ0luc3RlYWQsIHlvdSBuZWVkIHRvIHVzZSB0aGUgJHJ1bGVOYW1lIHN5bnRheDonLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHJvb3Q6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgXCImJFwiLmNvbmNhdChrZXkpLCBjaGlsZClcbiAgICAgICAgICAgIH0sIG51bGwsIDIpLCAnJywgJ2h0dHBzOi8vbWF0ZXJpYWwtdWkuY29tL3IvcHNldWRvLWNsYXNzZXMtZ3VpZGUnXS5qb2luKCdcXG4nKSk7XG4gICAgICAgICAgfSAvLyBSZW1vdmUgdGhlIHN0eWxlIHRvIHByZXZlbnQgZ2xvYmFsIGNvbmZsaWN0cy5cblxuXG4gICAgICAgICAgbm9kZVtrZXldID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJhdmVyc2UobXVpVGhlbWUub3ZlcnJpZGVzKTtcbiAgfVxuXG4gIHJldHVybiBtdWlUaGVtZTtcbn1cblxudmFyIHdhcm5lZE9uY2UgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdWlUaGVtZSgpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgIHdhcm5lZE9uY2UgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihbJ01hdGVyaWFsLVVJOiB0aGUgY3JlYXRlTXVpVGhlbWUgZnVuY3Rpb24gd2FzIHJlbmFtZWQgdG8gY3JlYXRlVGhlbWUuJywgJycsIFwiWW91IHNob3VsZCB1c2UgYGltcG9ydCB7IGNyZWF0ZVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJ2BcIl0uam9pbignXFxuJykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVUaGVtZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUaGVtZTsiLCJmdW5jdGlvbiB0b1ZhbChtaXgpIHtcblx0dmFyIGssIHksIHN0cj0nJztcblxuXHRpZiAodHlwZW9mIG1peCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1peCA9PT0gJ251bWJlcicpIHtcblx0XHRzdHIgKz0gbWl4O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtaXggPT09ICdvYmplY3QnKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobWl4KSkge1xuXHRcdFx0Zm9yIChrPTA7IGsgPCBtaXgubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0aWYgKG1peFtrXSkge1xuXHRcdFx0XHRcdGlmICh5ID0gdG9WYWwobWl4W2tdKSkge1xuXHRcdFx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0XHRcdHN0ciArPSB5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGsgaW4gbWl4KSB7XG5cdFx0XHRcdGlmIChtaXhba10pIHtcblx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRcdHN0ciArPSBrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuXHR2YXIgaT0wLCB0bXAsIHgsIHN0cj0nJztcblx0d2hpbGUgKGkgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0aWYgKHRtcCA9IGFyZ3VtZW50c1tpKytdKSB7XG5cdFx0XHRpZiAoeCA9IHRvVmFsKHRtcCkpIHtcblx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0c3RyICs9IHhcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHN0cjtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVRoZW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJ1xuaW1wb3J0IHsgcmVkIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzJ1xuaW1wb3J0IHsgTk9OQU1FIH0gZnJvbSAnZG5zJ1xuXG5jb25zdCBsaWdodFRoZW1lID0gY3JlYXRlVGhlbWUoe1xuICBwYWxldHRlOiB7XG4gICAgcHJpbWFyeToge1xuICAgICAgbWFpbjogJyM1MTUxRkYnXG4gICAgfSxcbiAgICBzZWNvbmRhcnk6IHtcbiAgICAgIG1haW46ICcjRkZGRkZGJ1xuICAgIH0sXG4gICAgZXJyb3I6IHtcbiAgICAgIG1haW46IHJlZC5BNDAwXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICBkZWZhdWx0OiAnIzAwMDAwMCdcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgIHByaW1hcnk6ICcjRkZGRkZGJ1xuICAgICAgLy8gc2Vjb25kYXJ5OiAnI0ZGRDYwMCcsXG4gICAgfVxuICB9LFxuICB0eXBvZ3JhcGh5OiB7XG4gICAgZm9udEZhbWlseTogWydTRlByb1RleHQtUmVndWxhcicsICdSb2JvdG8nLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgJ3NhbnMtc2VyaWYnXS5qb2luKCcsJyksXG4gICAgZm9udFNpemU6IDE0LFxuICAgIGJ1dHRvbjoge1xuICAgICAgY29sb3I6ICcjRkZGRkZGJ1xuICAgIH1cbiAgfSxcbiAgb3ZlcnJpZGVzOiB7XG4gICAgTXVpVHlwb2dyYXBoeToge1xuICAgICAgYm9keTE6IHtcbiAgICAgICAgZm9udEZhbWlseTogWydTRlByb1RleHQtUmVndWxhcicsICdSb2JvdG8nLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgJ3NhbnMtc2VyaWYnXS5qb2luKCcsJylcbiAgICAgIH0sXG4gICAgICBoMToge1xuICAgICAgICBmb250U2l6ZTogMjgsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgbWFyZ2luOiAnMTVweCAwcHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAnJi5NdWlUeXBvZ3JhcGh5LWNvbG9yU2Vjb25kYXJ5Jzoge1xuICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGgyOiB7XG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgbWFyZ2luOiAnNXB4IDBweCcsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAnJi5NdWlUeXBvZ3JhcGh5LWNvbG9yU2Vjb25kYXJ5Jzoge1xuICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGgzOiB7XG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgbWFyZ2luOiAnNXB4IDBweCcsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICcmLk11aVR5cG9ncmFwaHktY29sb3JTZWNvbmRhcnknOiB7XG4gICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDQ6IHtcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBtYXJnaW46ICc1cHggMHB4JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICcmLk11aVR5cG9ncmFwaHktY29sb3JTZWNvbmRhcnknOiB7XG4gICAgICAgICAgY29sb3I6ICcjOEE4QThFJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDU6IHtcbiAgICAgICAgZm9udFNpemU6IDE4LFxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgIG1hcmdpbjogJzVweCAwcHgnLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgJyYuTXVpVHlwb2dyYXBoeS1jb2xvclNlY29uZGFyeSc6IHtcbiAgICAgICAgICBjb2xvcjogJyNGRkZGRkYnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoNjoge1xuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdTRlByb1RleHQtUmVndWxhcidcbiAgICAgIH0sXG4gICAgICBhbGlnblJpZ2h0OiB7XG4gICAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdyaWdodCdcbiAgICAgIH0sXG4gICAgICBhbGlnbkxlZnQ6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdsZWZ0J1xuICAgICAgfSxcbiAgICAgIGFsaWduQ2VudGVyOiB7XG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUNvbnRhaW5lcjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBmbGV4OiAnbm9uZSdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aURpYWxvZzoge1xuICAgICAgcGFwZXJXaWR0aFNtOiB7XG4gICAgICAgIG1heFdpZHRoOiAnNDAlJyxcbiAgICAgICAgd2lkdGg6ICc0MCUnLFxuICAgICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICAnQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSc6IHtcbiAgICAgICAgICBtYXhXaWR0aDogJzkwJScsXG4gICAgICAgICAgd2lkdGg6ICc5MCUnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIE11aURpYWxvZ1RpdGxlOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aURpYWxvZ0NvbnRlbnQ6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnanVzdGlmeScsXG4gICAgICAgIHBhZGRpbmc6ICcgMCAyNHB4IDI0cHggMjRweCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUJ1dHRvbkJhc2U6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAsMC45KScsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgbWFyZ2luOiAnMCAxMHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpSWNvbkJ1dHRvbjoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbG9yUHJpbWFyeToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNTE1MUZGJyxcbiAgICAgICAgY29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzUxNTFGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbG9yU2Vjb25kYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgY29sb3I6ICcjOEU4RTkzJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpU2xpZGVyOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGNvbG9yOiAnIzQ4NDg0OCdcbiAgICAgIH0sXG4gICAgICB0aHVtYjoge1xuICAgICAgICBoZWlnaHQ6ICcyNHB4JyxcbiAgICAgICAgd2lkdGg6ICcyNHB4JyxcbiAgICAgICAgbWFyZ2luVG9wOiAnLTEwcHgnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgICAgfSxcbiAgICAgIHRodW1iQ29sb3JQcmltYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuOCknLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgI0E4QThGRidcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUxpbmVhclByb2dyZXNzOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGhlaWdodDogJzM0cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgJ0BtZWRpYSAobWF4LXdpZHRoOiA3NjhweCknOiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTZweCcsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGJhcjoge1xuICAgICAgICBib3JkZXJSYWRpdXM6ICdpbmhlcml0J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpTWVudUl0ZW06IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgcGFkZGluZzogJzVweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVNuYWNrYmFyOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIG1heFdpZHRoOiAnODAlJyxcbiAgICAgICAgbWluV2lkdGg6ICc0MCUnLFxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICBsZWZ0OiAnMzAlJyxcbiAgICAgICAgcmlnaHQ6ICczMCUnLFxuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjkpJyxcbiAgICAgICAgYm94U2hhZG93OiAnMHB4IDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjIpJyxcbiAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgJ0BtZWRpYSAobWF4LXdpZHRoOiA3NjhweCknOiB7XG4gICAgICAgICAgbWF4V2lkdGg6ICc5MCUnLFxuICAgICAgICAgIHdpZHRoOiAnOTAlJyxcbiAgICAgICAgICBsZWZ0OiAnNSUnLFxuICAgICAgICAgIHJpZ2h0OiAnNSUnXG4gICAgICAgIH0sXG4gICAgICAgIE11aVN2Z0ljb246IHtcbiAgICAgICAgICByb290OiB7XG4gICAgICAgICAgICBoZWlnaHQ6ICc3ZW0nLFxuICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhbmNob3JPcmlnaW5Ub3BDZW50ZXI6IHtcbiAgICAgICAgdG9wOiAnMTAlJ1xuICAgICAgfSxcbiAgICAgIGFuY2hvck9yaWdpbkJvdHRvbUNlbnRlcjoge1xuICAgICAgICBib3R0b206ICc2MHB4JyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAyMHB4KSdcbiAgICAgIH0sXG4gICAgICBhbmNob3JPcmlnaW5Ub3BMZWZ0OiB7XG4gICAgICAgIGxlZnQ6ICcwcHgnLFxuICAgICAgICB0b3A6ICcyNHB4JyxcbiAgICAgICAgd2lkdGg6ICc1MiUnLFxuICAgICAgICBtYXhXaWR0aDogJzgwJScsXG4gICAgICAgICdAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpJzoge1xuICAgICAgICAgIHdpZHRoOiAnOTAlJ1xuICAgICAgICB9LFxuICAgICAgICAnQG1lZGlhIChtaW4td2lkdGg6IDYwMHB4KSc6IHtcbiAgICAgICAgICBsZWZ0OiAnMHB4J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlTbmFja2JhckNvbnRlbnQ6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgY29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjkpJyxcbiAgICAgICAgbWluV2lkdGg6ICcwcHgnLFxuICAgICAgICAnQG1lZGlhIChtaW4td2lkdGg6IDYwMHB4KSc6IHtcbiAgICAgICAgICBtaW5XaWR0aDogJzBweCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpRHJhd2VyOiB7XG4gICAgICBwYXBlcjoge1xuICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC44NSknXG4gICAgICB9LFxuXG4gICAgICBwYXBlckFuY2hvclJpZ2h0OiB7XG4gICAgICAgIHdpZHRoOiAnMjUlJyxcbiAgICAgICAgJ0BtZWRpYSAobWF4LXdpZHRoOiAxMjgwcHgpJzoge1xuICAgICAgICAgIHdpZHRoOiAnMzMlJ1xuICAgICAgICB9LFxuICAgICAgICAnQG1lZGlhIChtYXgtd2lkdGg6IDEwMjRweCknOiB7XG4gICAgICAgICAgd2lkdGg6ICc0MCUnXG4gICAgICAgIH0sXG4gICAgICAgICdAbWVkaWEgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCknOiB7XG4gICAgICAgICAgd2lkdGg6ICcxMDB2dydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQ2FyZDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlDYXJkTWVkaWE6IHtcbiAgICAgIG1lZGlhOiB7XG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNBOEE4RkYnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUxpc3Q6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjA2LDIwNiwyMDYsMC4xKScsXG4gICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUxpc3RJdGVtOiB7XG4gICAgICByb290OiB7XG4gICAgICAgIHBhZGRpbmc6ICcwcHgnLFxuICAgICAgICBwYWRkaW5nVG9wOiAnMHB4JyxcbiAgICAgICAgbWFyZ2luOiAnMnB4IDAnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlMaXN0SXRlbVRleHQ6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgLjUpJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNXB4JyxcbiAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgICAgIGZsZXg6ICdpbmhlcml0JyxcbiAgICAgICAgd29yZEJyZWFrOiAnYnJlYWstYWxsJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpQ2FyZENvbnRlbnQ6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgbWFyZ2luOiAnNXB4IDAnLFxuICAgICAgICBwYWRkaW5nOiAnNXB4IDIwcHgnLFxuICAgICAgICAnJjpsYXN0LWNoaWxkJzoge1xuICAgICAgICAgIHBhZGRpbmdCb3R0b206ICcwcHgnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUNhcmRIZWFkZXI6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgcGFkZGluZzogJzAgMTVweCA1cHggMTVweCdcbiAgICAgIH0sXG4gICAgICBhdmF0YXI6IHtcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcbiAgICAgICAgd2lkdGg6ICc0MHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgTXVpUGFwZXI6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogJyMwMDAwMDAnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlJbnB1dEJhc2U6IHtcbiAgICAgIGlucHV0OiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUZvcm1MYWJlbDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBjb2xvcjogJyMwMDAwMDAnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlCdXR0b246IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgd2lkdGg6ICcyMjBweCcsXG4gICAgICAgIG1hcmdpbjogJzEwcHggYXV0bycsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiAnbm9uZSdcbiAgICAgIH0sXG4gICAgICAvLyBsYWJlbDoge1xuICAgICAgLy8gICB0ZXh0VHJhbnNmb3JtOiAnY2FwaXRhbGl6ZScsXG4gICAgICAvLyB9LFxuICAgICAgb3V0bGluZWQ6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50J1xuICAgICAgfSxcbiAgICAgIG91dGxpbmVkUHJpbWFyeToge1xuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDAgMTBweCAjNTE1MUZGJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb3V0bGluZWRTZWNvbmRhcnk6IHtcbiAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgYm94U2hhZG93OiAnMCAwIDEwcHggI0ZGRkZGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lZFNlY29uZGFyeToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI0ZGRkZGRidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbnRhaW5lZFByaW1hcnk6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCdcbiAgICAgIH0sXG4gICAgICB0ZXh0OiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aVN2Z0ljb246IHtcbiAgICAgIGNvbG9yUHJpbWFyeToge1xuICAgICAgICBjb2xvcjogJyNBOEE4RkYnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlGYWI6IHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgaGVpZ2h0OiAnM2VtJyxcbiAgICAgICAgd2lkdGg6ICdmaXQtY29udGVudCcsXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgbWFyZ2luOiAnMHB4IDVweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI0Y0RjRGNScsXG4gICAgICAgIGNvbG9yOiAnIzhFOEU5MydcbiAgICAgIH0sXG4gICAgICBwcmltYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC44KScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUZvcm1Hcm91cDoge1xuICAgICAgcm9vdDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhXcmFwOiAnd3JhcCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnXG4gICAgICB9XG4gICAgfSxcbiAgICBNdWlPdXRsaW5lZElucHV0OiB7XG4gICAgICByb290OiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIG1hcmdpbjogJzEwcHggMCdcbiAgICAgIH0sXG4gICAgICBhZG9ybmVkRW5kOiB7XG4gICAgICAgIHBhZGRpbmdSaWdodDogJzBweCdcbiAgICAgIH1cbiAgICB9LFxuICAgIE11aUJhZGdlOiB7XG4gICAgICBhbmNob3JPcmlnaW5Ub3BMZWZ0UmVjdGFuZ2xlOiB7XG4gICAgICAgIGxlZnQ6ICc2cHgnXG4gICAgICB9LFxuICAgICAgZG90OiB7XG4gICAgICAgIGhlaWdodDogJzEycHgnLFxuICAgICAgICB3aWR0aDogJzEycHgnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnXG4gICAgICB9LFxuICAgICAgY29sb3JQcmltYXJ5OiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM3QUZGNjQnXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuXG4vLyBleHBvcnQgZGVmYXVsdCBkYXJrVGhlbWU7XG5leHBvcnQgZGVmYXVsdCBsaWdodFRoZW1lXG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGRpc2FibGVkOiBmYWxzZVxufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZVwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dHNTaGFwZSB9IGZyb20gJy4vdXRpbHMvUHJvcFR5cGVzJztcbmltcG9ydCBUcmFuc2l0aW9uR3JvdXBDb250ZXh0IGZyb20gJy4vVHJhbnNpdGlvbkdyb3VwQ29udGV4dCc7XG5leHBvcnQgdmFyIFVOTU9VTlRFRCA9ICd1bm1vdW50ZWQnO1xuZXhwb3J0IHZhciBFWElURUQgPSAnZXhpdGVkJztcbmV4cG9ydCB2YXIgRU5URVJJTkcgPSAnZW50ZXJpbmcnO1xuZXhwb3J0IHZhciBFTlRFUkVEID0gJ2VudGVyZWQnO1xuZXhwb3J0IHZhciBFWElUSU5HID0gJ2V4aXRpbmcnO1xuLyoqXG4gKiBUaGUgVHJhbnNpdGlvbiBjb21wb25lbnQgbGV0cyB5b3UgZGVzY3JpYmUgYSB0cmFuc2l0aW9uIGZyb20gb25lIGNvbXBvbmVudFxuICogc3RhdGUgdG8gYW5vdGhlciBfb3ZlciB0aW1lXyB3aXRoIGEgc2ltcGxlIGRlY2xhcmF0aXZlIEFQSS4gTW9zdCBjb21tb25seVxuICogaXQncyB1c2VkIHRvIGFuaW1hdGUgdGhlIG1vdW50aW5nIGFuZCB1bm1vdW50aW5nIG9mIGEgY29tcG9uZW50LCBidXQgY2FuIGFsc29cbiAqIGJlIHVzZWQgdG8gZGVzY3JpYmUgaW4tcGxhY2UgdHJhbnNpdGlvbiBzdGF0ZXMgYXMgd2VsbC5cbiAqXG4gKiAtLS1cbiAqXG4gKiAqKk5vdGUqKjogYFRyYW5zaXRpb25gIGlzIGEgcGxhdGZvcm0tYWdub3N0aWMgYmFzZSBjb21wb25lbnQuIElmIHlvdSdyZSB1c2luZ1xuICogdHJhbnNpdGlvbnMgaW4gQ1NTLCB5b3UnbGwgcHJvYmFibHkgd2FudCB0byB1c2VcbiAqIFtgQ1NTVHJhbnNpdGlvbmBdKGh0dHBzOi8vcmVhY3Rjb21tdW5pdHkub3JnL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvY3NzLXRyYW5zaXRpb24pXG4gKiBpbnN0ZWFkLiBJdCBpbmhlcml0cyBhbGwgdGhlIGZlYXR1cmVzIG9mIGBUcmFuc2l0aW9uYCwgYnV0IGNvbnRhaW5zXG4gKiBhZGRpdGlvbmFsIGZlYXR1cmVzIG5lY2Vzc2FyeSB0byBwbGF5IG5pY2Ugd2l0aCBDU1MgdHJhbnNpdGlvbnMgKGhlbmNlIHRoZVxuICogbmFtZSBvZiB0aGUgY29tcG9uZW50KS5cbiAqXG4gKiAtLS1cbiAqXG4gKiBCeSBkZWZhdWx0IHRoZSBgVHJhbnNpdGlvbmAgY29tcG9uZW50IGRvZXMgbm90IGFsdGVyIHRoZSBiZWhhdmlvciBvZiB0aGVcbiAqIGNvbXBvbmVudCBpdCByZW5kZXJzLCBpdCBvbmx5IHRyYWNrcyBcImVudGVyXCIgYW5kIFwiZXhpdFwiIHN0YXRlcyBmb3IgdGhlXG4gKiBjb21wb25lbnRzLiBJdCdzIHVwIHRvIHlvdSB0byBnaXZlIG1lYW5pbmcgYW5kIGVmZmVjdCB0byB0aG9zZSBzdGF0ZXMuIEZvclxuICogZXhhbXBsZSB3ZSBjYW4gYWRkIHN0eWxlcyB0byBhIGNvbXBvbmVudCB3aGVuIGl0IGVudGVycyBvciBleGl0czpcbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbiAqXG4gKiBjb25zdCBkdXJhdGlvbiA9IDMwMDtcbiAqXG4gKiBjb25zdCBkZWZhdWx0U3R5bGUgPSB7XG4gKiAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7ZHVyYXRpb259bXMgZWFzZS1pbi1vdXRgLFxuICogICBvcGFjaXR5OiAwLFxuICogfVxuICpcbiAqIGNvbnN0IHRyYW5zaXRpb25TdHlsZXMgPSB7XG4gKiAgIGVudGVyaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAqICAgZW50ZXJlZDogIHsgb3BhY2l0eTogMSB9LFxuICogICBleGl0aW5nOiAgeyBvcGFjaXR5OiAwIH0sXG4gKiAgIGV4aXRlZDogIHsgb3BhY2l0eTogMCB9LFxuICogfTtcbiAqXG4gKiBjb25zdCBGYWRlID0gKHsgaW46IGluUHJvcCB9KSA9PiAoXG4gKiAgIDxUcmFuc2l0aW9uIGluPXtpblByb3B9IHRpbWVvdXQ9e2R1cmF0aW9ufT5cbiAqICAgICB7c3RhdGUgPT4gKFxuICogICAgICAgPGRpdiBzdHlsZT17e1xuICogICAgICAgICAuLi5kZWZhdWx0U3R5bGUsXG4gKiAgICAgICAgIC4uLnRyYW5zaXRpb25TdHlsZXNbc3RhdGVdXG4gKiAgICAgICB9fT5cbiAqICAgICAgICAgSSdtIGEgZmFkZSBUcmFuc2l0aW9uIVxuICogICAgICAgPC9kaXY+XG4gKiAgICAgKX1cbiAqICAgPC9UcmFuc2l0aW9uPlxuICogKTtcbiAqIGBgYFxuICpcbiAqIFRoZXJlIGFyZSA0IG1haW4gc3RhdGVzIGEgVHJhbnNpdGlvbiBjYW4gYmUgaW46XG4gKiAgLSBgJ2VudGVyaW5nJ2BcbiAqICAtIGAnZW50ZXJlZCdgXG4gKiAgLSBgJ2V4aXRpbmcnYFxuICogIC0gYCdleGl0ZWQnYFxuICpcbiAqIFRyYW5zaXRpb24gc3RhdGUgaXMgdG9nZ2xlZCB2aWEgdGhlIGBpbmAgcHJvcC4gV2hlbiBgdHJ1ZWAgdGhlIGNvbXBvbmVudFxuICogYmVnaW5zIHRoZSBcIkVudGVyXCIgc3RhZ2UuIER1cmluZyB0aGlzIHN0YWdlLCB0aGUgY29tcG9uZW50IHdpbGwgc2hpZnQgZnJvbVxuICogaXRzIGN1cnJlbnQgdHJhbnNpdGlvbiBzdGF0ZSwgdG8gYCdlbnRlcmluZydgIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlXG4gKiB0cmFuc2l0aW9uIGFuZCB0aGVuIHRvIHRoZSBgJ2VudGVyZWQnYCBzdGFnZSBvbmNlIGl0J3MgY29tcGxldGUuIExldCdzIHRha2VcbiAqIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSAod2UnbGwgdXNlIHRoZVxuICogW3VzZVN0YXRlXShodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtcmVmZXJlbmNlLmh0bWwjdXNlc3RhdGUpIGhvb2spOlxuICpcbiAqIGBgYGpzeFxuICogZnVuY3Rpb24gQXBwKCkge1xuICogICBjb25zdCBbaW5Qcm9wLCBzZXRJblByb3BdID0gdXNlU3RhdGUoZmFsc2UpO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8VHJhbnNpdGlvbiBpbj17aW5Qcm9wfSB0aW1lb3V0PXs1MDB9PlxuICogICAgICAgICB7c3RhdGUgPT4gKFxuICogICAgICAgICAgIC8vIC4uLlxuICogICAgICAgICApfVxuICogICAgICAgPC9UcmFuc2l0aW9uPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJblByb3AodHJ1ZSl9PlxuICogICAgICAgICBDbGljayB0byBFbnRlclxuICogICAgICAgPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZCB0aGUgY29tcG9uZW50IHdpbGwgc2hpZnQgdG8gdGhlIGAnZW50ZXJpbmcnYCBzdGF0ZVxuICogYW5kIHN0YXkgdGhlcmUgZm9yIDUwMG1zICh0aGUgdmFsdWUgb2YgYHRpbWVvdXRgKSBiZWZvcmUgaXQgZmluYWxseSBzd2l0Y2hlc1xuICogdG8gYCdlbnRlcmVkJ2AuXG4gKlxuICogV2hlbiBgaW5gIGlzIGBmYWxzZWAgdGhlIHNhbWUgdGhpbmcgaGFwcGVucyBleGNlcHQgdGhlIHN0YXRlIG1vdmVzIGZyb21cbiAqIGAnZXhpdGluZydgIHRvIGAnZXhpdGVkJ2AuXG4gKi9cblxudmFyIFRyYW5zaXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVHJhbnNpdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHJhbnNpdGlvbihwcm9wcywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xuICAgIHZhciBwYXJlbnRHcm91cCA9IGNvbnRleHQ7IC8vIEluIHRoZSBjb250ZXh0IG9mIGEgVHJhbnNpdGlvbkdyb3VwIGFsbCBlbnRlcnMgYXJlIHJlYWxseSBhcHBlYXJzXG5cbiAgICB2YXIgYXBwZWFyID0gcGFyZW50R3JvdXAgJiYgIXBhcmVudEdyb3VwLmlzTW91bnRpbmcgPyBwcm9wcy5lbnRlciA6IHByb3BzLmFwcGVhcjtcbiAgICB2YXIgaW5pdGlhbFN0YXR1cztcbiAgICBfdGhpcy5hcHBlYXJTdGF0dXMgPSBudWxsO1xuXG4gICAgaWYgKHByb3BzLmluKSB7XG4gICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgIGluaXRpYWxTdGF0dXMgPSBFWElURUQ7XG4gICAgICAgIF90aGlzLmFwcGVhclN0YXR1cyA9IEVOVEVSSU5HO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IEVOVEVSRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wcy51bm1vdW50T25FeGl0IHx8IHByb3BzLm1vdW50T25FbnRlcikge1xuICAgICAgICBpbml0aWFsU3RhdHVzID0gVU5NT1VOVEVEO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdGlhbFN0YXR1cyA9IEVYSVRFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN0YXR1czogaW5pdGlhbFN0YXR1c1xuICAgIH07XG4gICAgX3RoaXMubmV4dENhbGxiYWNrID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUcmFuc2l0aW9uLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhfcmVmLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgbmV4dEluID0gX3JlZi5pbjtcblxuICAgIGlmIChuZXh0SW4gJiYgcHJldlN0YXRlLnN0YXR1cyA9PT0gVU5NT1VOVEVEKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IEVYSVRFRFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgLy8gICBsZXQgbmV4dFN0YXR1cyA9IG51bGxcbiAgLy8gICBpZiAocHJldlByb3BzICE9PSB0aGlzLnByb3BzKSB7XG4gIC8vICAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5zdGF0ZVxuICAvLyAgICAgaWYgKHRoaXMucHJvcHMuaW4pIHtcbiAgLy8gICAgICAgaWYgKHN0YXR1cyAhPT0gRU5URVJJTkcgJiYgc3RhdHVzICE9PSBFTlRFUkVEKSB7XG4gIC8vICAgICAgICAgbmV4dFN0YXR1cyA9IEVOVEVSSU5HXG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH0gZWxzZSB7XG4gIC8vICAgICAgIGlmIChzdGF0dXMgPT09IEVOVEVSSU5HIHx8IHN0YXR1cyA9PT0gRU5URVJFRCkge1xuICAvLyAgICAgICAgIG5leHRTdGF0dXMgPSBFWElUSU5HXG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIHsgbmV4dFN0YXR1cyB9XG4gIC8vIH1cbiAgO1xuXG4gIHZhciBfcHJvdG8gPSBUcmFuc2l0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1cyh0cnVlLCB0aGlzLmFwcGVhclN0YXR1cyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgbmV4dFN0YXR1cyA9IG51bGw7XG5cbiAgICBpZiAocHJldlByb3BzICE9PSB0aGlzLnByb3BzKSB7XG4gICAgICB2YXIgc3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmluKSB7XG4gICAgICAgIGlmIChzdGF0dXMgIT09IEVOVEVSSU5HICYmIHN0YXR1cyAhPT0gRU5URVJFRCkge1xuICAgICAgICAgIG5leHRTdGF0dXMgPSBFTlRFUklORztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gRU5URVJJTkcgfHwgc3RhdHVzID09PSBFTlRFUkVEKSB7XG4gICAgICAgICAgbmV4dFN0YXR1cyA9IEVYSVRJTkc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVN0YXR1cyhmYWxzZSwgbmV4dFN0YXR1cyk7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0VGltZW91dHMgPSBmdW5jdGlvbiBnZXRUaW1lb3V0cygpIHtcbiAgICB2YXIgdGltZW91dCA9IHRoaXMucHJvcHMudGltZW91dDtcbiAgICB2YXIgZXhpdCwgZW50ZXIsIGFwcGVhcjtcbiAgICBleGl0ID0gZW50ZXIgPSBhcHBlYXIgPSB0aW1lb3V0O1xuXG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCAmJiB0eXBlb2YgdGltZW91dCAhPT0gJ251bWJlcicpIHtcbiAgICAgIGV4aXQgPSB0aW1lb3V0LmV4aXQ7XG4gICAgICBlbnRlciA9IHRpbWVvdXQuZW50ZXI7IC8vIFRPRE86IHJlbW92ZSBmYWxsYmFjayBmb3IgbmV4dCBtYWpvclxuXG4gICAgICBhcHBlYXIgPSB0aW1lb3V0LmFwcGVhciAhPT0gdW5kZWZpbmVkID8gdGltZW91dC5hcHBlYXIgOiBlbnRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXhpdDogZXhpdCxcbiAgICAgIGVudGVyOiBlbnRlcixcbiAgICAgIGFwcGVhcjogYXBwZWFyXG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8udXBkYXRlU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlU3RhdHVzKG1vdW50aW5nLCBuZXh0U3RhdHVzKSB7XG4gICAgaWYgKG1vdW50aW5nID09PSB2b2lkIDApIHtcbiAgICAgIG1vdW50aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG5leHRTdGF0dXMgIT09IG51bGwpIHtcbiAgICAgIC8vIG5leHRTdGF0dXMgd2lsbCBhbHdheXMgYmUgRU5URVJJTkcgb3IgRVhJVElORy5cbiAgICAgIHRoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCk7XG5cbiAgICAgIGlmIChuZXh0U3RhdHVzID09PSBFTlRFUklORykge1xuICAgICAgICB0aGlzLnBlcmZvcm1FbnRlcihtb3VudGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBlcmZvcm1FeGl0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVubW91bnRPbkV4aXQgJiYgdGhpcy5zdGF0ZS5zdGF0dXMgPT09IEVYSVRFRCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0YXR1czogVU5NT1VOVEVEXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnBlcmZvcm1FbnRlciA9IGZ1bmN0aW9uIHBlcmZvcm1FbnRlcihtb3VudGluZykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGVudGVyID0gdGhpcy5wcm9wcy5lbnRlcjtcbiAgICB2YXIgYXBwZWFyaW5nID0gdGhpcy5jb250ZXh0ID8gdGhpcy5jb250ZXh0LmlzTW91bnRpbmcgOiBtb3VudGluZztcblxuICAgIHZhciBfcmVmMiA9IHRoaXMucHJvcHMubm9kZVJlZiA/IFthcHBlYXJpbmddIDogW1JlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLCBhcHBlYXJpbmddLFxuICAgICAgICBtYXliZU5vZGUgPSBfcmVmMlswXSxcbiAgICAgICAgbWF5YmVBcHBlYXJpbmcgPSBfcmVmMlsxXTtcblxuICAgIHZhciB0aW1lb3V0cyA9IHRoaXMuZ2V0VGltZW91dHMoKTtcbiAgICB2YXIgZW50ZXJUaW1lb3V0ID0gYXBwZWFyaW5nID8gdGltZW91dHMuYXBwZWFyIDogdGltZW91dHMuZW50ZXI7IC8vIG5vIGVudGVyIGFuaW1hdGlvbiBza2lwIHJpZ2h0IHRvIEVOVEVSRURcbiAgICAvLyBpZiB3ZSBhcmUgbW91bnRpbmcgYW5kIHJ1bm5pbmcgdGhpcyBpdCBtZWFucyBhcHBlYXIgX211c3RfIGJlIHNldFxuXG4gICAgaWYgKCFtb3VudGluZyAmJiAhZW50ZXIgfHwgY29uZmlnLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNhZmVTZXRTdGF0ZSh7XG4gICAgICAgIHN0YXR1czogRU5URVJFRFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIucHJvcHMub25FbnRlcmVkKG1heWJlTm9kZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uRW50ZXIobWF5YmVOb2RlLCBtYXliZUFwcGVhcmluZyk7XG4gICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgc3RhdHVzOiBFTlRFUklOR1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5wcm9wcy5vbkVudGVyaW5nKG1heWJlTm9kZSwgbWF5YmVBcHBlYXJpbmcpO1xuXG4gICAgICBfdGhpczIub25UcmFuc2l0aW9uRW5kKGVudGVyVGltZW91dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuc2FmZVNldFN0YXRlKHtcbiAgICAgICAgICBzdGF0dXM6IEVOVEVSRURcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkVudGVyZWQobWF5YmVOb2RlLCBtYXliZUFwcGVhcmluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLnBlcmZvcm1FeGl0ID0gZnVuY3Rpb24gcGVyZm9ybUV4aXQoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgZXhpdCA9IHRoaXMucHJvcHMuZXhpdDtcbiAgICB2YXIgdGltZW91dHMgPSB0aGlzLmdldFRpbWVvdXRzKCk7XG4gICAgdmFyIG1heWJlTm9kZSA9IHRoaXMucHJvcHMubm9kZVJlZiA/IHVuZGVmaW5lZCA6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpOyAvLyBubyBleGl0IGFuaW1hdGlvbiBza2lwIHJpZ2h0IHRvIEVYSVRFRFxuXG4gICAgaWYgKCFleGl0IHx8IGNvbmZpZy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgICBzdGF0dXM6IEVYSVRFRFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMucHJvcHMub25FeGl0ZWQobWF5YmVOb2RlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25FeGl0KG1heWJlTm9kZSk7XG4gICAgdGhpcy5zYWZlU2V0U3RhdGUoe1xuICAgICAgc3RhdHVzOiBFWElUSU5HXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMzLnByb3BzLm9uRXhpdGluZyhtYXliZU5vZGUpO1xuXG4gICAgICBfdGhpczMub25UcmFuc2l0aW9uRW5kKHRpbWVvdXRzLmV4aXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnNhZmVTZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBFWElURURcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5wcm9wcy5vbkV4aXRlZChtYXliZU5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5jYW5jZWxOZXh0Q2FsbGJhY2sgPSBmdW5jdGlvbiBjYW5jZWxOZXh0Q2FsbGJhY2soKSB7XG4gICAgaWYgKHRoaXMubmV4dENhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm5leHRDYWxsYmFjay5jYW5jZWwoKTtcbiAgICAgIHRoaXMubmV4dENhbGxiYWNrID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnNhZmVTZXRTdGF0ZSA9IGZ1bmN0aW9uIHNhZmVTZXRTdGF0ZShuZXh0U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgLy8gVGhpcyBzaG91bGRuJ3QgYmUgbmVjZXNzYXJ5LCBidXQgdGhlcmUgYXJlIHdlaXJkIHJhY2UgY29uZGl0aW9ucyB3aXRoXG4gICAgLy8gc2V0U3RhdGUgY2FsbGJhY2tzIGFuZCB1bm1vdW50aW5nIGluIHRlc3RpbmcsIHNvIGFsd2F5cyBtYWtlIHN1cmUgdGhhdFxuICAgIC8vIHdlIGNhbiBjYW5jZWwgYW55IHBlbmRpbmcgc2V0U3RhdGUgY2FsbGJhY2tzIGFmdGVyIHdlIHVubW91bnQuXG4gICAgY2FsbGJhY2sgPSB0aGlzLnNldE5leHRDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUsIGNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uc2V0TmV4dENhbGxiYWNrID0gZnVuY3Rpb24gc2V0TmV4dENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB2YXIgYWN0aXZlID0gdHJ1ZTtcblxuICAgIHRoaXMubmV4dENhbGxiYWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpczQubmV4dENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgY2FsbGJhY2soZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5leHRDYWxsYmFjay5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMubmV4dENhbGxiYWNrO1xuICB9O1xuXG4gIF9wcm90by5vblRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQodGltZW91dCwgaGFuZGxlcikge1xuICAgIHRoaXMuc2V0TmV4dENhbGxiYWNrKGhhbmRsZXIpO1xuICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlUmVmID8gdGhpcy5wcm9wcy5ub2RlUmVmLmN1cnJlbnQgOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgZG9lc05vdEhhdmVUaW1lb3V0T3JMaXN0ZW5lciA9IHRpbWVvdXQgPT0gbnVsbCAmJiAhdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcjtcblxuICAgIGlmICghbm9kZSB8fCBkb2VzTm90SGF2ZVRpbWVvdXRPckxpc3RlbmVyKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcikge1xuICAgICAgdmFyIF9yZWYzID0gdGhpcy5wcm9wcy5ub2RlUmVmID8gW3RoaXMubmV4dENhbGxiYWNrXSA6IFtub2RlLCB0aGlzLm5leHRDYWxsYmFja10sXG4gICAgICAgICAgbWF5YmVOb2RlID0gX3JlZjNbMF0sXG4gICAgICAgICAgbWF5YmVOZXh0Q2FsbGJhY2sgPSBfcmVmM1sxXTtcblxuICAgICAgdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcihtYXliZU5vZGUsIG1heWJlTmV4dENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLCB0aW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgc3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXM7XG5cbiAgICBpZiAoc3RhdHVzID09PSBVTk1PVU5URUQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIF9pbiA9IF90aGlzJHByb3BzLmluLFxuICAgICAgICBfbW91bnRPbkVudGVyID0gX3RoaXMkcHJvcHMubW91bnRPbkVudGVyLFxuICAgICAgICBfdW5tb3VudE9uRXhpdCA9IF90aGlzJHByb3BzLnVubW91bnRPbkV4aXQsXG4gICAgICAgIF9hcHBlYXIgPSBfdGhpcyRwcm9wcy5hcHBlYXIsXG4gICAgICAgIF9lbnRlciA9IF90aGlzJHByb3BzLmVudGVyLFxuICAgICAgICBfZXhpdCA9IF90aGlzJHByb3BzLmV4aXQsXG4gICAgICAgIF90aW1lb3V0ID0gX3RoaXMkcHJvcHMudGltZW91dCxcbiAgICAgICAgX2FkZEVuZExpc3RlbmVyID0gX3RoaXMkcHJvcHMuYWRkRW5kTGlzdGVuZXIsXG4gICAgICAgIF9vbkVudGVyID0gX3RoaXMkcHJvcHMub25FbnRlcixcbiAgICAgICAgX29uRW50ZXJpbmcgPSBfdGhpcyRwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgICBfb25FbnRlcmVkID0gX3RoaXMkcHJvcHMub25FbnRlcmVkLFxuICAgICAgICBfb25FeGl0ID0gX3RoaXMkcHJvcHMub25FeGl0LFxuICAgICAgICBfb25FeGl0aW5nID0gX3RoaXMkcHJvcHMub25FeGl0aW5nLFxuICAgICAgICBfb25FeGl0ZWQgPSBfdGhpcyRwcm9wcy5vbkV4aXRlZCxcbiAgICAgICAgX25vZGVSZWYgPSBfdGhpcyRwcm9wcy5ub2RlUmVmLFxuICAgICAgICBjaGlsZFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiaW5cIiwgXCJtb3VudE9uRW50ZXJcIiwgXCJ1bm1vdW50T25FeGl0XCIsIFwiYXBwZWFyXCIsIFwiZW50ZXJcIiwgXCJleGl0XCIsIFwidGltZW91dFwiLCBcImFkZEVuZExpc3RlbmVyXCIsIFwib25FbnRlclwiLCBcIm9uRW50ZXJpbmdcIiwgXCJvbkVudGVyZWRcIiwgXCJvbkV4aXRcIiwgXCJvbkV4aXRpbmdcIiwgXCJvbkV4aXRlZFwiLCBcIm5vZGVSZWZcIl0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIC8vIGFsbG93cyBmb3IgbmVzdGVkIFRyYW5zaXRpb25zXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25Hcm91cENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKHN0YXR1cywgY2hpbGRQcm9wcykgOiBSZWFjdC5jbG9uZUVsZW1lbnQoUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbiksIGNoaWxkUHJvcHMpKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRyYW5zaXRpb247XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblRyYW5zaXRpb24uY29udGV4dFR5cGUgPSBUcmFuc2l0aW9uR3JvdXBDb250ZXh0O1xuVHJhbnNpdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBBIFJlYWN0IHJlZmVyZW5jZSB0byBET00gZWxlbWVudCB0aGF0IG5lZWQgdG8gdHJhbnNpdGlvbjpcbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzUxMTI3MTMwLzQ2NzE5MzJcbiAgICpcbiAgICogICAtIFdoZW4gYG5vZGVSZWZgIHByb3AgaXMgdXNlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQgdG8gY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAqICAgICAgKGUuZy4gYG9uRW50ZXJgKSBiZWNhdXNlIHVzZXIgYWxyZWFkeSBoYXMgZGlyZWN0IGFjY2VzcyB0byB0aGUgbm9kZS5cbiAgICogICAtIFdoZW4gY2hhbmdpbmcgYGtleWAgcHJvcCBvZiBgVHJhbnNpdGlvbmAgaW4gYSBgVHJhbnNpdGlvbkdyb3VwYCBhIG5ld1xuICAgKiAgICAgYG5vZGVSZWZgIG5lZWQgdG8gYmUgcHJvdmlkZWQgdG8gYFRyYW5zaXRpb25gIHdpdGggY2hhbmdlZCBga2V5YCBwcm9wXG4gICAqICAgICAoc2VlXG4gICAqICAgICBbdGVzdC9DU1NUcmFuc2l0aW9uLXRlc3QuanNdKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvYmxvYi8xMzQzNWY4OTdiM2FiNzFmNmUxOWQ3MjRmMTQ1NTk2ZjU5MTA1ODFjL3Rlc3QvQ1NTVHJhbnNpdGlvbi10ZXN0LmpzI0wzNjItTDQzNykpLlxuICAgKi9cbiAgbm9kZVJlZjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjdXJyZW50OiB0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgPyBQcm9wVHlwZXMuYW55IDogZnVuY3Rpb24gKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHByb3BWYWx1ZVtrZXldO1xuICAgICAgcmV0dXJuIFByb3BUeXBlcy5pbnN0YW5jZU9mKHZhbHVlICYmICdvd25lckRvY3VtZW50JyBpbiB2YWx1ZSA/IHZhbHVlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuRWxlbWVudCA6IEVsZW1lbnQpKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpO1xuICAgIH1cbiAgfSksXG5cbiAgLyoqXG4gICAqIEEgYGZ1bmN0aW9uYCBjaGlsZCBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIGEgUmVhY3QgZWxlbWVudC4gVGhpcyBmdW5jdGlvbiBpc1xuICAgKiBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCB0cmFuc2l0aW9uIHN0YXR1cyAoYCdlbnRlcmluZydgLCBgJ2VudGVyZWQnYCxcbiAgICogYCdleGl0aW5nJ2AsIGAnZXhpdGVkJ2ApLCB3aGljaCBjYW4gYmUgdXNlZCB0byBhcHBseSBjb250ZXh0XG4gICAqIHNwZWNpZmljIHByb3BzIHRvIGEgY29tcG9uZW50LlxuICAgKlxuICAgKiBgYGBqc3hcbiAgICogPFRyYW5zaXRpb24gaW49e3RoaXMuc3RhdGUuaW59IHRpbWVvdXQ9ezE1MH0+XG4gICAqICAge3N0YXRlID0+IChcbiAgICogICAgIDxNeUNvbXBvbmVudCBjbGFzc05hbWU9e2BmYWRlIGZhZGUtJHtzdGF0ZX1gfSAvPlxuICAgKiAgICl9XG4gICAqIDwvVHJhbnNpdGlvbj5cbiAgICogYGBgXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIGNvbXBvbmVudDsgdHJpZ2dlcnMgdGhlIGVudGVyIG9yIGV4aXQgc3RhdGVzXG4gICAqL1xuICBpbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQgdGhlIGNoaWxkIGNvbXBvbmVudCBpcyBtb3VudGVkIGltbWVkaWF0ZWx5IGFsb25nIHdpdGhcbiAgICogdGhlIHBhcmVudCBgVHJhbnNpdGlvbmAgY29tcG9uZW50LiBJZiB5b3Ugd2FudCB0byBcImxhenkgbW91bnRcIiB0aGUgY29tcG9uZW50IG9uIHRoZVxuICAgKiBmaXJzdCBgaW49e3RydWV9YCB5b3UgY2FuIHNldCBgbW91bnRPbkVudGVyYC4gQWZ0ZXIgdGhlIGZpcnN0IGVudGVyIHRyYW5zaXRpb24gdGhlIGNvbXBvbmVudCB3aWxsIHN0YXlcbiAgICogbW91bnRlZCwgZXZlbiBvbiBcImV4aXRlZFwiLCB1bmxlc3MgeW91IGFsc28gc3BlY2lmeSBgdW5tb3VudE9uRXhpdGAuXG4gICAqL1xuICBtb3VudE9uRW50ZXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBjaGlsZCBjb21wb25lbnQgc3RheXMgbW91bnRlZCBhZnRlciBpdCByZWFjaGVzIHRoZSBgJ2V4aXRlZCdgIHN0YXRlLlxuICAgKiBTZXQgYHVubW91bnRPbkV4aXRgIGlmIHlvdSdkIHByZWZlciB0byB1bm1vdW50IHRoZSBjb21wb25lbnQgYWZ0ZXIgaXQgZmluaXNoZXMgZXhpdGluZy5cbiAgICovXG4gIHVubW91bnRPbkV4aXQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBjaGlsZCBjb21wb25lbnQgZG9lcyBub3QgcGVyZm9ybSB0aGUgZW50ZXIgdHJhbnNpdGlvbiB3aGVuXG4gICAqIGl0IGZpcnN0IG1vdW50cywgcmVnYXJkbGVzcyBvZiB0aGUgdmFsdWUgb2YgYGluYC4gSWYgeW91IHdhbnQgdGhpc1xuICAgKiBiZWhhdmlvciwgc2V0IGJvdGggYGFwcGVhcmAgYW5kIGBpbmAgdG8gYHRydWVgLlxuICAgKlxuICAgKiA+ICoqTm90ZSoqOiB0aGVyZSBhcmUgbm8gc3BlY2lhbCBhcHBlYXIgc3RhdGVzIGxpa2UgYGFwcGVhcmluZ2AvYGFwcGVhcmVkYCwgdGhpcyBwcm9wXG4gICAqID4gb25seSBhZGRzIGFuIGFkZGl0aW9uYWwgZW50ZXIgdHJhbnNpdGlvbi4gSG93ZXZlciwgaW4gdGhlXG4gICAqID4gYDxDU1NUcmFuc2l0aW9uPmAgY29tcG9uZW50IHRoYXQgZmlyc3QgZW50ZXIgdHJhbnNpdGlvbiBkb2VzIHJlc3VsdCBpblxuICAgKiA+IGFkZGl0aW9uYWwgYC5hcHBlYXItKmAgY2xhc3NlcywgdGhhdCB3YXkgeW91IGNhbiBjaG9vc2UgdG8gc3R5bGUgaXRcbiAgICogPiBkaWZmZXJlbnRseS5cbiAgICovXG4gIGFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGVudGVyIHRyYW5zaXRpb25zLlxuICAgKi9cbiAgZW50ZXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBleGl0IHRyYW5zaXRpb25zLlxuICAgKi9cbiAgZXhpdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBkdXJhdGlvbiBvZiB0aGUgdHJhbnNpdGlvbiwgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBSZXF1aXJlZCB1bmxlc3MgYGFkZEVuZExpc3RlbmVyYCBpcyBwcm92aWRlZC5cbiAgICpcbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIHRpbWVvdXQgZm9yIGFsbCB0cmFuc2l0aW9uczpcbiAgICpcbiAgICogYGBganN4XG4gICAqIHRpbWVvdXQ9ezUwMH1cbiAgICogYGBgXG4gICAqXG4gICAqIG9yIGluZGl2aWR1YWxseTpcbiAgICpcbiAgICogYGBganN4XG4gICAqIHRpbWVvdXQ9e3tcbiAgICogIGFwcGVhcjogNTAwLFxuICAgKiAgZW50ZXI6IDMwMCxcbiAgICogIGV4aXQ6IDUwMCxcbiAgICogfX1cbiAgICogYGBgXG4gICAqXG4gICAqIC0gYGFwcGVhcmAgZGVmYXVsdHMgdG8gdGhlIHZhbHVlIG9mIGBlbnRlcmBcbiAgICogLSBgZW50ZXJgIGRlZmF1bHRzIHRvIGAwYFxuICAgKiAtIGBleGl0YCBkZWZhdWx0cyB0byBgMGBcbiAgICpcbiAgICogQHR5cGUge251bWJlciB8IHsgZW50ZXI/OiBudW1iZXIsIGV4aXQ/OiBudW1iZXIsIGFwcGVhcj86IG51bWJlciB9fVxuICAgKi9cbiAgdGltZW91dDogZnVuY3Rpb24gdGltZW91dChwcm9wcykge1xuICAgIHZhciBwdCA9IHRpbWVvdXRzU2hhcGU7XG4gICAgaWYgKCFwcm9wcy5hZGRFbmRMaXN0ZW5lcikgcHQgPSBwdC5pc1JlcXVpcmVkO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHB0LmFwcGx5KHZvaWQgMCwgW3Byb3BzXS5jb25jYXQoYXJncykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBZGQgYSBjdXN0b20gdHJhbnNpdGlvbiBlbmQgdHJpZ2dlci4gQ2FsbGVkIHdpdGggdGhlIHRyYW5zaXRpb25pbmdcbiAgICogRE9NIG5vZGUgYW5kIGEgYGRvbmVgIGNhbGxiYWNrLiBBbGxvd3MgZm9yIG1vcmUgZmluZSBncmFpbmVkIHRyYW5zaXRpb24gZW5kXG4gICAqIGxvZ2ljLiBUaW1lb3V0cyBhcmUgc3RpbGwgdXNlZCBhcyBhIGZhbGxiYWNrIGlmIHByb3ZpZGVkLlxuICAgKlxuICAgKiAqKk5vdGUqKjogd2hlbiBgbm9kZVJlZmAgcHJvcCBpcyBwYXNzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkLlxuICAgKlxuICAgKiBgYGBqc3hcbiAgICogYWRkRW5kTGlzdGVuZXI9eyhub2RlLCBkb25lKSA9PiB7XG4gICAqICAgLy8gdXNlIHRoZSBjc3MgdHJhbnNpdGlvbmVuZCBldmVudCB0byBtYXJrIHRoZSBmaW5pc2ggb2YgYSB0cmFuc2l0aW9uXG4gICAqICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZG9uZSwgZmFsc2UpO1xuICAgKiB9fVxuICAgKiBgYGBcbiAgICovXG4gIGFkZEVuZExpc3RlbmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYmVmb3JlIHRoZSBcImVudGVyaW5nXCIgc3RhdHVzIGlzIGFwcGxpZWQuIEFuIGV4dHJhIHBhcmFtZXRlclxuICAgKiBgaXNBcHBlYXJpbmdgIGlzIHN1cHBsaWVkIHRvIGluZGljYXRlIGlmIHRoZSBlbnRlciBzdGFnZSBpcyBvY2N1cnJpbmcgb24gdGhlIGluaXRpYWwgbW91bnRcbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQsIGlzQXBwZWFyaW5nOiBib29sKSAtPiB2b2lkXG4gICAqL1xuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYWZ0ZXIgdGhlIFwiZW50ZXJpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC4gQW4gZXh0cmEgcGFyYW1ldGVyXG4gICAqIGBpc0FwcGVhcmluZ2AgaXMgc3VwcGxpZWQgdG8gaW5kaWNhdGUgaWYgdGhlIGVudGVyIHN0YWdlIGlzIG9jY3VycmluZyBvbiB0aGUgaW5pdGlhbCBtb3VudFxuICAgKlxuICAgKiAqKk5vdGUqKjogd2hlbiBgbm9kZVJlZmAgcHJvcCBpcyBwYXNzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkLlxuICAgKlxuICAgKiBAdHlwZSBGdW5jdGlvbihub2RlOiBIdG1sRWxlbWVudCwgaXNBcHBlYXJpbmc6IGJvb2wpXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYWZ0ZXIgdGhlIFwiZW50ZXJlZFwiIHN0YXR1cyBpcyBhcHBsaWVkLiBBbiBleHRyYSBwYXJhbWV0ZXJcbiAgICogYGlzQXBwZWFyaW5nYCBpcyBzdXBwbGllZCB0byBpbmRpY2F0ZSBpZiB0aGUgZW50ZXIgc3RhZ2UgaXMgb2NjdXJyaW5nIG9uIHRoZSBpbml0aWFsIG1vdW50XG4gICAqXG4gICAqICoqTm90ZSoqOiB3aGVuIGBub2RlUmVmYCBwcm9wIGlzIHBhc3NlZCwgYG5vZGVgIGlzIG5vdCBwYXNzZWQuXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50LCBpc0FwcGVhcmluZzogYm9vbCkgLT4gdm9pZFxuICAgKi9cbiAgb25FbnRlcmVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYmVmb3JlIHRoZSBcImV4aXRpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpIC0+IHZvaWRcbiAgICovXG4gIG9uRXhpdDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImV4aXRpbmdcIiBzdGF0dXMgaXMgYXBwbGllZC5cbiAgICpcbiAgICogKipOb3RlKio6IHdoZW4gYG5vZGVSZWZgIHByb3AgaXMgcGFzc2VkLCBgbm9kZWAgaXMgbm90IHBhc3NlZC5cbiAgICpcbiAgICogQHR5cGUgRnVuY3Rpb24obm9kZTogSHRtbEVsZW1lbnQpIC0+IHZvaWRcbiAgICovXG4gIG9uRXhpdGluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGFmdGVyIHRoZSBcImV4aXRlZFwiIHN0YXR1cyBpcyBhcHBsaWVkLlxuICAgKlxuICAgKiAqKk5vdGUqKjogd2hlbiBgbm9kZVJlZmAgcHJvcCBpcyBwYXNzZWQsIGBub2RlYCBpcyBub3QgcGFzc2VkXG4gICAqXG4gICAqIEB0eXBlIEZ1bmN0aW9uKG5vZGU6IEh0bWxFbGVtZW50KSAtPiB2b2lkXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmNcbn0gOiB7fTsgLy8gTmFtZSB0aGUgZnVuY3Rpb24gc28gaXQgaXMgY2xlYXJlciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuXG5mdW5jdGlvbiBub29wKCkge31cblxuVHJhbnNpdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGluOiBmYWxzZSxcbiAgbW91bnRPbkVudGVyOiBmYWxzZSxcbiAgdW5tb3VudE9uRXhpdDogZmFsc2UsXG4gIGFwcGVhcjogZmFsc2UsXG4gIGVudGVyOiB0cnVlLFxuICBleGl0OiB0cnVlLFxuICBvbkVudGVyOiBub29wLFxuICBvbkVudGVyaW5nOiBub29wLFxuICBvbkVudGVyZWQ6IG5vb3AsXG4gIG9uRXhpdDogbm9vcCxcbiAgb25FeGl0aW5nOiBub29wLFxuICBvbkV4aXRlZDogbm9vcFxufTtcblRyYW5zaXRpb24uVU5NT1VOVEVEID0gVU5NT1VOVEVEO1xuVHJhbnNpdGlvbi5FWElURUQgPSBFWElURUQ7XG5UcmFuc2l0aW9uLkVOVEVSSU5HID0gRU5URVJJTkc7XG5UcmFuc2l0aW9uLkVOVEVSRUQgPSBFTlRFUkVEO1xuVHJhbnNpdGlvbi5FWElUSU5HID0gRVhJVElORztcbmV4cG9ydCBkZWZhdWx0IFRyYW5zaXRpb247IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChpdGVtKSB7XG4gIHJldHVybiBpdGVtICE9PSBudWxsICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAvLyBUUyB0aGlua3MgYGl0ZW0gaXMgcG9zc2libHkgbnVsbGAgZXZlbiB0aG91Z2ggdGhpcyB3YXMgb3VyIGZpcnN0IGd1YXJkLlxuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGl0ZW0uY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyA9IHtcbiAgY2xvbmU6IHRydWVcbn0pIHtcbiAgY29uc3Qgb3V0cHV0ID0gb3B0aW9ucy5jbG9uZSA/IF9leHRlbmRzKHt9LCB0YXJnZXQpIDogdGFyZ2V0O1xuXG4gIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAvLyBBdm9pZCBwcm90b3R5cGUgcG9sbHV0aW9uXG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSAmJiBrZXkgaW4gdGFyZ2V0ICYmIGlzUGxhaW5PYmplY3QodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgIC8vIFNpbmNlIGBvdXRwdXRgIGlzIGEgY2xvbmUgb2YgYHRhcmdldGAgYW5kIHdlIGhhdmUgbmFycm93ZWQgYHRhcmdldGAgaW4gdGhpcyBibG9jayB3ZSBjYW4gY2FzdCB0byB0aGUgc2FtZSB0eXBlLlxuICAgICAgICBvdXRwdXRba2V5XSA9IGRlZXBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0sIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59IiwiLyoqXG4gKiBXQVJOSU5HOiBEb24ndCBpbXBvcnQgdGhpcyBkaXJlY3RseS5cbiAqIFVzZSBgTXVpRXJyb3JgIGZyb20gYEBtdWkvdXRpbHMvbWFjcm9zL011aUVycm9yLm1hY3JvYCBpbnN0ZWFkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0TXVpRXJyb3JNZXNzYWdlKGNvZGUpIHtcbiAgLy8gQXBwbHkgYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS10ZW1wbGF0ZS1saXRlcmFscyBpbiBsb29zZSBtb2RlXG4gIC8vIGxvb3NlIG1vZGUgaXMgc2FmZSBpZmYgd2UncmUgY29uY2F0ZW5hdGluZyBwcmltaXRpdmVzXG4gIC8vIHNlZSBodHRwczovL2JhYmVsanMuaW8vZG9jcy9lbi9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXRlbXBsYXRlLWxpdGVyYWxzI2xvb3NlXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXRlbXBsYXRlICovXG4gIGxldCB1cmwgPSAnaHR0cHM6Ly9tdWkuY29tL3Byb2R1Y3Rpb24tZXJyb3IvP2NvZGU9JyArIGNvZGU7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyByZXN0IHBhcmFtcyBvdmVyLXRyYW5zcGlsZSBmb3IgdGhpcyBjYXNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgIHVybCArPSAnJmFyZ3NbXT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gJ01pbmlmaWVkIE1VSSBlcnJvciAjJyArIGNvZGUgKyAnOyB2aXNpdCAnICsgdXJsICsgJyBmb3IgdGhlIGZ1bGwgbWVzc2FnZS4nO1xuICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xufSIsImltcG9ydCBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIGZyb20gXCIuL2Zvcm1hdE11aUVycm9yTWVzc2FnZVwiO1xuLy8gSXQgc2hvdWxkIHRvIGJlIG5vdGVkIHRoYXQgdGhpcyBmdW5jdGlvbiBpc24ndCBlcXVpdmFsZW50IHRvIGB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZWAuXG4vL1xuLy8gQSBzdHJpY3QgY2FwaXRhbGl6YXRpb24gc2hvdWxkIHVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBpbiB0aGUgc2VudGVuY2UuXG4vLyBXZSBvbmx5IGhhbmRsZSB0aGUgZmlyc3Qgd29yZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBcXGBjYXBpdGFsaXplKHN0cmluZylcXGAgZXhwZWN0cyBhIHN0cmluZyBhcmd1bWVudC5gIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSg3KSk7XG4gIH1cblxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufSIsIi8vIENvcnJlc3BvbmRzIHRvIDEwIGZyYW1lcyBhdCA2MCBIei5cbi8vIEEgZmV3IGJ5dGVzIHBheWxvYWQgb3ZlcmhlYWQgd2hlbiBsb2Rhc2gvZGVib3VuY2UgaXMgfjMga0IgYW5kIGRlYm91bmNlIH4zMDAgQi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQgPSAxNjYpIHtcbiAgbGV0IHRpbWVvdXQ7XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gIH1cblxuICBkZWJvdW5jZWQuY2xlYXIgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9O1xuXG4gIHJldHVybiBkZWJvdW5jZWQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3duZXJEb2N1bWVudChub2RlKSB7XG4gIHJldHVybiBub2RlICYmIG5vZGUub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbn0iLCJpbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICcuL293bmVyRG9jdW1lbnQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3duZXJXaW5kb3cobm9kZSkge1xuICBjb25zdCBkb2MgPSBvd25lckRvY3VtZW50KG5vZGUpO1xuICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbn0iLCIvKipcbiAqIFRPRE8gdjU6IGNvbnNpZGVyIG1ha2luZyBpdCBwcml2YXRlXG4gKlxuICogcGFzc2VzIHt2YWx1ZX0gdG8ge3JlZn1cbiAqXG4gKiBXQVJOSU5HOiBCZSBzdXJlIHRvIG9ubHkgY2FsbCB0aGlzIGluc2lkZSBhIGNhbGxiYWNrIHRoYXQgaXMgcGFzc2VkIGFzIGEgcmVmLlxuICogT3RoZXJ3aXNlLCBtYWtlIHN1cmUgdG8gY2xlYW51cCB0aGUgcHJldmlvdXMge3JlZn0gaWYgaXQgY2hhbmdlcy4gU2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXVpLW9yZy9tYXRlcmlhbC11aS9pc3N1ZXMvMTM1MzlcbiAqXG4gKiBVc2VmdWwgaWYgeW91IHdhbnQgdG8gZXhwb3NlIHRoZSByZWYgb2YgYW4gaW5uZXIgY29tcG9uZW50IHRvIHRoZSBwdWJsaWMgQVBJXG4gKiB3aGlsZSBzdGlsbCB1c2luZyBpdCBpbnNpZGUgdGhlIGNvbXBvbmVudC5cbiAqIEBwYXJhbSByZWYgQSByZWYgY2FsbGJhY2sgb3IgcmVmIG9iamVjdC4gSWYgYW55dGhpbmcgZmFsc3ksIHRoaXMgaXMgYSBuby1vcC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UmVmKHJlZiwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWYodmFsdWUpO1xuICB9IGVsc2UgaWYgKHJlZikge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5jb25zdCB1c2VFbmhhbmNlZEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuZXhwb3J0IGRlZmF1bHQgdXNlRW5oYW5jZWRFZmZlY3Q7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUVuaGFuY2VkRWZmZWN0IGZyb20gJy4vdXNlRW5oYW5jZWRFZmZlY3QnO1xuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0MDk5I2lzc3VlY29tbWVudC00NDAwMTM4OTJcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGZuKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihmbik7XG4gIHVzZUVuaGFuY2VkRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGZuO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiAvLyBAdHMtZXhwZWN0LWVycm9yIGhpZGUgYHRoaXNgXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpiYW4tY29tbWEtb3BlcmF0b3JcbiAgKDAsIHJlZi5jdXJyZW50KSguLi5hcmdzKSwgW10pO1xufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzZXRSZWYgZnJvbSAnLi9zZXRSZWYnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRm9ya1JlZihyZWZBLCByZWZCKSB7XG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIGlmIHRoZSByZWYgcHJvcHMgY2hhbmdlIGFuZCBhcmUgZGVmaW5lZC5cbiAgICogVGhpcyBtZWFucyByZWFjdCB3aWxsIGNhbGwgdGhlIG9sZCBmb3JrUmVmIHdpdGggYG51bGxgIGFuZCB0aGUgbmV3IGZvcmtSZWZcbiAgICogd2l0aCB0aGUgcmVmLiBDbGVhbnVwIG5hdHVyYWxseSBlbWVyZ2VzIGZyb20gdGhpcyBiZWhhdmlvci5cbiAgICovXG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocmVmQSA9PSBudWxsICYmIHJlZkIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZlZhbHVlID0+IHtcbiAgICAgIHNldFJlZihyZWZBLCByZWZWYWx1ZSk7XG4gICAgICBzZXRSZWYocmVmQiwgcmVmVmFsdWUpO1xuICAgIH07XG4gIH0sIFtyZWZBLCByZWZCXSk7XG59IiwiaW1wb3J0IG1lbW9pemUgZnJvbSAnQGVtb3Rpb24vbWVtb2l6ZSc7XG5cbnZhciByZWFjdFByb3BzUmVnZXggPSAvXigoY2hpbGRyZW58ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8a2V5fHJlZnxhdXRvRm9jdXN8ZGVmYXVsdFZhbHVlfGRlZmF1bHRDaGVja2VkfGlubmVySFRNTHxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmd8c3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nfHZhbHVlTGlua3xhY2NlcHR8YWNjZXB0Q2hhcnNldHxhY2Nlc3NLZXl8YWN0aW9ufGFsbG93fGFsbG93VXNlck1lZGlhfGFsbG93UGF5bWVudFJlcXVlc3R8YWxsb3dGdWxsU2NyZWVufGFsbG93VHJhbnNwYXJlbmN5fGFsdHxhc3luY3xhdXRvQ29tcGxldGV8YXV0b1BsYXl8Y2FwdHVyZXxjZWxsUGFkZGluZ3xjZWxsU3BhY2luZ3xjaGFsbGVuZ2V8Y2hhclNldHxjaGVja2VkfGNpdGV8Y2xhc3NJRHxjbGFzc05hbWV8Y29sc3xjb2xTcGFufGNvbnRlbnR8Y29udGVudEVkaXRhYmxlfGNvbnRleHRNZW51fGNvbnRyb2xzfGNvbnRyb2xzTGlzdHxjb29yZHN8Y3Jvc3NPcmlnaW58ZGF0YXxkYXRlVGltZXxkZWNvZGluZ3xkZWZhdWx0fGRlZmVyfGRpcnxkaXNhYmxlZHxkaXNhYmxlUGljdHVyZUluUGljdHVyZXxkb3dubG9hZHxkcmFnZ2FibGV8ZW5jVHlwZXxmb3JtfGZvcm1BY3Rpb258Zm9ybUVuY1R5cGV8Zm9ybU1ldGhvZHxmb3JtTm9WYWxpZGF0ZXxmb3JtVGFyZ2V0fGZyYW1lQm9yZGVyfGhlYWRlcnN8aGVpZ2h0fGhpZGRlbnxoaWdofGhyZWZ8aHJlZkxhbmd8aHRtbEZvcnxodHRwRXF1aXZ8aWR8aW5wdXRNb2RlfGludGVncml0eXxpc3xrZXlQYXJhbXN8a2V5VHlwZXxraW5kfGxhYmVsfGxhbmd8bGlzdHxsb2FkaW5nfGxvb3B8bG93fG1hcmdpbkhlaWdodHxtYXJnaW5XaWR0aHxtYXh8bWF4TGVuZ3RofG1lZGlhfG1lZGlhR3JvdXB8bWV0aG9kfG1pbnxtaW5MZW5ndGh8bXVsdGlwbGV8bXV0ZWR8bmFtZXxub25jZXxub1ZhbGlkYXRlfG9wZW58b3B0aW11bXxwYXR0ZXJufHBsYWNlaG9sZGVyfHBsYXlzSW5saW5lfHBvc3RlcnxwcmVsb2FkfHByb2ZpbGV8cmFkaW9Hcm91cHxyZWFkT25seXxyZWZlcnJlclBvbGljeXxyZWx8cmVxdWlyZWR8cmV2ZXJzZWR8cm9sZXxyb3dzfHJvd1NwYW58c2FuZGJveHxzY29wZXxzY29wZWR8c2Nyb2xsaW5nfHNlYW1sZXNzfHNlbGVjdGVkfHNoYXBlfHNpemV8c2l6ZXN8c2xvdHxzcGFufHNwZWxsQ2hlY2t8c3JjfHNyY0RvY3xzcmNMYW5nfHNyY1NldHxzdGFydHxzdGVwfHN0eWxlfHN1bW1hcnl8dGFiSW5kZXh8dGFyZ2V0fHRpdGxlfHRyYW5zbGF0ZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGZhbGxiYWNrfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxvcHRpb258cmVzdWx0c3xzZWN1cml0eXx1bnNlbGVjdGFibGV8YWNjZW50SGVpZ2h0fGFjY3VtdWxhdGV8YWRkaXRpdmV8YWxpZ25tZW50QmFzZWxpbmV8YWxsb3dSZW9yZGVyfGFscGhhYmV0aWN8YW1wbGl0dWRlfGFyYWJpY0Zvcm18YXNjZW50fGF0dHJpYnV0ZU5hbWV8YXR0cmlidXRlVHlwZXxhdXRvUmV2ZXJzZXxhemltdXRofGJhc2VGcmVxdWVuY3l8YmFzZWxpbmVTaGlmdHxiYXNlUHJvZmlsZXxiYm94fGJlZ2lufGJpYXN8Ynl8Y2FsY01vZGV8Y2FwSGVpZ2h0fGNsaXB8Y2xpcFBhdGhVbml0c3xjbGlwUGF0aHxjbGlwUnVsZXxjb2xvckludGVycG9sYXRpb258Y29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc3xjb2xvclByb2ZpbGV8Y29sb3JSZW5kZXJpbmd8Y29udGVudFNjcmlwdFR5cGV8Y29udGVudFN0eWxlVHlwZXxjdXJzb3J8Y3h8Y3l8ZHxkZWNlbGVyYXRlfGRlc2NlbnR8ZGlmZnVzZUNvbnN0YW50fGRpcmVjdGlvbnxkaXNwbGF5fGRpdmlzb3J8ZG9taW5hbnRCYXNlbGluZXxkdXJ8ZHh8ZHl8ZWRnZU1vZGV8ZWxldmF0aW9ufGVuYWJsZUJhY2tncm91bmR8ZW5kfGV4cG9uZW50fGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWR8ZmlsbHxmaWxsT3BhY2l0eXxmaWxsUnVsZXxmaWx0ZXJ8ZmlsdGVyUmVzfGZpbHRlclVuaXRzfGZsb29kQ29sb3J8Zmxvb2RPcGFjaXR5fGZvY3VzYWJsZXxmb250RmFtaWx5fGZvbnRTaXplfGZvbnRTaXplQWRqdXN0fGZvbnRTdHJldGNofGZvbnRTdHlsZXxmb250VmFyaWFudHxmb250V2VpZ2h0fGZvcm1hdHxmcm9tfGZyfGZ4fGZ5fGcxfGcyfGdseXBoTmFtZXxnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbHxnbHlwaE9yaWVudGF0aW9uVmVydGljYWx8Z2x5cGhSZWZ8Z3JhZGllbnRUcmFuc2Zvcm18Z3JhZGllbnRVbml0c3xoYW5naW5nfGhvcml6QWR2WHxob3Jpek9yaWdpblh8aWRlb2dyYXBoaWN8aW1hZ2VSZW5kZXJpbmd8aW58aW4yfGludGVyY2VwdHxrfGsxfGsyfGszfGs0fGtlcm5lbE1hdHJpeHxrZXJuZWxVbml0TGVuZ3RofGtlcm5pbmd8a2V5UG9pbnRzfGtleVNwbGluZXN8a2V5VGltZXN8bGVuZ3RoQWRqdXN0fGxldHRlclNwYWNpbmd8bGlnaHRpbmdDb2xvcnxsaW1pdGluZ0NvbmVBbmdsZXxsb2NhbHxtYXJrZXJFbmR8bWFya2VyTWlkfG1hcmtlclN0YXJ0fG1hcmtlckhlaWdodHxtYXJrZXJVbml0c3xtYXJrZXJXaWR0aHxtYXNrfG1hc2tDb250ZW50VW5pdHN8bWFza1VuaXRzfG1hdGhlbWF0aWNhbHxtb2RlfG51bU9jdGF2ZXN8b2Zmc2V0fG9wYWNpdHl8b3BlcmF0b3J8b3JkZXJ8b3JpZW50fG9yaWVudGF0aW9ufG9yaWdpbnxvdmVyZmxvd3xvdmVybGluZVBvc2l0aW9ufG92ZXJsaW5lVGhpY2tuZXNzfHBhbm9zZTF8cGFpbnRPcmRlcnxwYXRoTGVuZ3RofHBhdHRlcm5Db250ZW50VW5pdHN8cGF0dGVyblRyYW5zZm9ybXxwYXR0ZXJuVW5pdHN8cG9pbnRlckV2ZW50c3xwb2ludHN8cG9pbnRzQXRYfHBvaW50c0F0WXxwb2ludHNBdFp8cHJlc2VydmVBbHBoYXxwcmVzZXJ2ZUFzcGVjdFJhdGlvfHByaW1pdGl2ZVVuaXRzfHJ8cmFkaXVzfHJlZlh8cmVmWXxyZW5kZXJpbmdJbnRlbnR8cmVwZWF0Q291bnR8cmVwZWF0RHVyfHJlcXVpcmVkRXh0ZW5zaW9uc3xyZXF1aXJlZEZlYXR1cmVzfHJlc3RhcnR8cmVzdWx0fHJvdGF0ZXxyeHxyeXxzY2FsZXxzZWVkfHNoYXBlUmVuZGVyaW5nfHNsb3BlfHNwYWNpbmd8c3BlY3VsYXJDb25zdGFudHxzcGVjdWxhckV4cG9uZW50fHNwZWVkfHNwcmVhZE1ldGhvZHxzdGFydE9mZnNldHxzdGREZXZpYXRpb258c3RlbWh8c3RlbXZ8c3RpdGNoVGlsZXN8c3RvcENvbG9yfHN0b3BPcGFjaXR5fHN0cmlrZXRocm91Z2hQb3NpdGlvbnxzdHJpa2V0aHJvdWdoVGhpY2tuZXNzfHN0cmluZ3xzdHJva2V8c3Ryb2tlRGFzaGFycmF5fHN0cm9rZURhc2hvZmZzZXR8c3Ryb2tlTGluZWNhcHxzdHJva2VMaW5lam9pbnxzdHJva2VNaXRlcmxpbWl0fHN0cm9rZU9wYWNpdHl8c3Ryb2tlV2lkdGh8c3VyZmFjZVNjYWxlfHN5c3RlbUxhbmd1YWdlfHRhYmxlVmFsdWVzfHRhcmdldFh8dGFyZ2V0WXx0ZXh0QW5jaG9yfHRleHREZWNvcmF0aW9ufHRleHRSZW5kZXJpbmd8dGV4dExlbmd0aHx0b3x0cmFuc2Zvcm18dTF8dTJ8dW5kZXJsaW5lUG9zaXRpb258dW5kZXJsaW5lVGhpY2tuZXNzfHVuaWNvZGV8dW5pY29kZUJpZGl8dW5pY29kZVJhbmdlfHVuaXRzUGVyRW18dkFscGhhYmV0aWN8dkhhbmdpbmd8dklkZW9ncmFwaGljfHZNYXRoZW1hdGljYWx8dmFsdWVzfHZlY3RvckVmZmVjdHx2ZXJzaW9ufHZlcnRBZHZZfHZlcnRPcmlnaW5YfHZlcnRPcmlnaW5ZfHZpZXdCb3h8dmlld1RhcmdldHx2aXNpYmlsaXR5fHdpZHRoc3x3b3JkU3BhY2luZ3x3cml0aW5nTW9kZXx4fHhIZWlnaHR8eDF8eDJ8eENoYW5uZWxTZWxlY3Rvcnx4bGlua0FjdHVhdGV8eGxpbmtBcmNyb2xlfHhsaW5rSHJlZnx4bGlua1JvbGV8eGxpbmtTaG93fHhsaW5rVGl0bGV8eGxpbmtUeXBlfHhtbEJhc2V8eG1sbnN8eG1sbnNYbGlua3x4bWxMYW5nfHhtbFNwYWNlfHl8eTF8eTJ8eUNoYW5uZWxTZWxlY3Rvcnx6fHpvb21BbmRQYW58Zm9yfGNsYXNzfGF1dG9mb2N1cyl8KChbRGRdW0FhXVtUdF1bQWFdfFtBYV1bUnJdW0lpXVtBYV18eCktLiopKSQvOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViZmVlNjhhNGNkN2U2MDA5ZWY2MWQyM1xuXG52YXIgaXNQcm9wVmFsaWQgPSAvKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHJldHVybiByZWFjdFByb3BzUmVnZXgudGVzdChwcm9wKSB8fCBwcm9wLmNoYXJDb2RlQXQoMCkgPT09IDExMVxuICAvKiBvICovXG4gICYmIHByb3AuY2hhckNvZGVBdCgxKSA9PT0gMTEwXG4gIC8qIG4gKi9cbiAgJiYgcHJvcC5jaGFyQ29kZUF0KDIpIDwgOTE7XG59XG4vKiBaKzEgKi9cbik7XG5cbmV4cG9ydCBkZWZhdWx0IGlzUHJvcFZhbGlkO1xuIiwiLypcblxuQmFzZWQgb2ZmIGdsYW1vcidzIFN0eWxlU2hlZXQsIHRoYW5rcyBTdW5pbCDinaTvuI9cblxuaGlnaCBwZXJmb3JtYW5jZSBTdHlsZVNoZWV0IGZvciBjc3MtaW4tanMgc3lzdGVtc1xuXG4tIHVzZXMgbXVsdGlwbGUgc3R5bGUgdGFncyBiZWhpbmQgdGhlIHNjZW5lcyBmb3IgbWlsbGlvbnMgb2YgcnVsZXNcbi0gdXNlcyBgaW5zZXJ0UnVsZWAgZm9yIGFwcGVuZGluZyBpbiBwcm9kdWN0aW9uIGZvciAqbXVjaCogZmFzdGVyIHBlcmZvcm1hbmNlXG5cbi8vIHVzYWdlXG5cbmltcG9ydCB7IFN0eWxlU2hlZXQgfSBmcm9tICdAZW1vdGlvbi9zaGVldCdcblxubGV0IHN0eWxlU2hlZXQgPSBuZXcgU3R5bGVTaGVldCh7IGtleTogJycsIGNvbnRhaW5lcjogZG9jdW1lbnQuaGVhZCB9KVxuXG5zdHlsZVNoZWV0Lmluc2VydCgnI2JveCB7IGJvcmRlcjogMXB4IHNvbGlkIHJlZDsgfScpXG4tIGFwcGVuZHMgYSBjc3MgcnVsZSBpbnRvIHRoZSBzdHlsZXNoZWV0XG5cbnN0eWxlU2hlZXQuZmx1c2goKVxuLSBlbXB0aWVzIHRoZSBzdHlsZXNoZWV0IG9mIGFsbCBpdHMgY29udGVudHNcblxuKi9cbi8vICRGbG93Rml4TWVcbmZ1bmN0aW9uIHNoZWV0Rm9yVGFnKHRhZykge1xuICBpZiAodGFnLnNoZWV0KSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIHJldHVybiB0YWcuc2hlZXQ7XG4gIH0gLy8gdGhpcyB3ZWlyZG5lc3MgYnJvdWdodCB0byB5b3UgYnkgZmlyZWZveFxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzW2ldLm93bmVyTm9kZSA9PT0gdGFnKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICByZXR1cm4gZG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB0YWcuc2V0QXR0cmlidXRlKCdkYXRhLWVtb3Rpb24nLCBvcHRpb25zLmtleSk7XG5cbiAgaWYgKG9wdGlvbnMubm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgb3B0aW9ucy5ub25jZSk7XG4gIH1cblxuICB0YWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpKTtcbiAgdGFnLnNldEF0dHJpYnV0ZSgnZGF0YS1zJywgJycpO1xuICByZXR1cm4gdGFnO1xufVxuXG52YXIgU3R5bGVTaGVldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxlU2hlZXQob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9pbnNlcnRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgICB2YXIgYmVmb3JlO1xuXG4gICAgICBpZiAoX3RoaXMudGFncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmVmb3JlID0gX3RoaXMucHJlcGVuZCA/IF90aGlzLmNvbnRhaW5lci5maXJzdENoaWxkIDogX3RoaXMuYmVmb3JlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVmb3JlID0gX3RoaXMudGFnc1tfdGhpcy50YWdzLmxlbmd0aCAtIDFdLm5leHRTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhZywgYmVmb3JlKTtcblxuICAgICAgX3RoaXMudGFncy5wdXNoKHRhZyk7XG4gICAgfTtcblxuICAgIHRoaXMuaXNTcGVlZHkgPSBvcHRpb25zLnNwZWVkeSA9PT0gdW5kZWZpbmVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA6IG9wdGlvbnMuc3BlZWR5O1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY3RyID0gMDtcbiAgICB0aGlzLm5vbmNlID0gb3B0aW9ucy5ub25jZTsgLy8ga2V5IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YS1lbW90aW9uIGF0dHJpYnV0ZSwgaXQncyB1c2VkIHRvIGlkZW50aWZ5IGRpZmZlcmVudCBzaGVldHNcblxuICAgIHRoaXMua2V5ID0gb3B0aW9ucy5rZXk7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICB0aGlzLnByZXBlbmQgPSBvcHRpb25zLnByZXBlbmQ7XG4gICAgdGhpcy5iZWZvcmUgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4gIF9wcm90by5oeWRyYXRlID0gZnVuY3Rpb24gaHlkcmF0ZShub2Rlcykge1xuICAgIG5vZGVzLmZvckVhY2godGhpcy5faW5zZXJ0VGFnKTtcbiAgfTtcblxuICBfcHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0KHJ1bGUpIHtcbiAgICAvLyB0aGUgbWF4IGxlbmd0aCBpcyBob3cgbWFueSBydWxlcyB3ZSBoYXZlIHBlciBzdHlsZSB0YWcsIGl0J3MgNjUwMDAgaW4gc3BlZWR5IG1vZGVcbiAgICAvLyBpdCdzIDEgaW4gZGV2IGJlY2F1c2Ugd2UgaW5zZXJ0IHNvdXJjZSBtYXBzIHRoYXQgbWFwIGEgc2luZ2xlIHJ1bGUgdG8gYSBsb2NhdGlvblxuICAgIC8vIGFuZCB5b3UgY2FuIG9ubHkgaGF2ZSBvbmUgc291cmNlIG1hcCBwZXIgc3R5bGUgdGFnXG4gICAgaWYgKHRoaXMuY3RyICUgKHRoaXMuaXNTcGVlZHkgPyA2NTAwMCA6IDEpID09PSAwKSB7XG4gICAgICB0aGlzLl9pbnNlcnRUYWcoY3JlYXRlU3R5bGVFbGVtZW50KHRoaXMpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gdGhpcy50YWdzW3RoaXMudGFncy5sZW5ndGggLSAxXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgaXNJbXBvcnRSdWxlID0gcnVsZS5jaGFyQ29kZUF0KDApID09PSA2NCAmJiBydWxlLmNoYXJDb2RlQXQoMSkgPT09IDEwNTtcblxuICAgICAgaWYgKGlzSW1wb3J0UnVsZSAmJiB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSkge1xuICAgICAgICAvLyB0aGlzIHdvdWxkIG9ubHkgY2F1c2UgcHJvYmxlbSBpbiBzcGVlZHkgbW9kZVxuICAgICAgICAvLyBidXQgd2UgZG9uJ3Qgd2FudCBlbmFibGluZyBzcGVlZHkgdG8gYWZmZWN0IHRoZSBvYnNlcnZhYmxlIGJlaGF2aW9yXG4gICAgICAgIC8vIHNvIHdlIHJlcG9ydCB0aGlzIGVycm9yIGF0IGFsbCB0aW1lc1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiWW91J3JlIGF0dGVtcHRpbmcgdG8gaW5zZXJ0IHRoZSBmb2xsb3dpbmcgcnVsZTpcXG5cIiArIHJ1bGUgKyAnXFxuXFxuYEBpbXBvcnRgIHJ1bGVzIG11c3QgYmUgYmVmb3JlIGFsbCBvdGhlciB0eXBlcyBvZiBydWxlcyBpbiBhIHN0eWxlc2hlZXQgYnV0IG90aGVyIHJ1bGVzIGhhdmUgYWxyZWFkeSBiZWVuIGluc2VydGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgYEBpbXBvcnRgIHJ1bGVzIGFyZSBiZWZvcmUgYWxsIG90aGVyIHJ1bGVzLicpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWxyZWFkeUluc2VydGVkT3JkZXJJbnNlbnNpdGl2ZVJ1bGUgPSB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSB8fCAhaXNJbXBvcnRSdWxlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU3BlZWR5KSB7XG4gICAgICB2YXIgc2hlZXQgPSBzaGVldEZvclRhZyh0YWcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSB1bHRyYWZhc3QgdmVyc2lvbiwgd29ya3MgYWNyb3NzIGJyb3dzZXJzXG4gICAgICAgIC8vIHRoZSBiaWcgZHJhd2JhY2sgaXMgdGhhdCB0aGUgY3NzIHdvbid0IGJlIGVkaXRhYmxlIGluIGRldnRvb2xzXG4gICAgICAgIHNoZWV0Lmluc2VydFJ1bGUocnVsZSwgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIS86KC1tb3otcGxhY2Vob2xkZXJ8LW1vei1mb2N1cy1pbm5lcnwtbW96LWZvY3VzcmluZ3wtbXMtaW5wdXQtcGxhY2Vob2xkZXJ8LW1vei1yZWFkLXdyaXRlfC1tb3otcmVhZC1vbmx5fC1tcy1jbGVhcil7Ly50ZXN0KHJ1bGUpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZXJlIHdhcyBhIHByb2JsZW0gaW5zZXJ0aW5nIHRoZSBmb2xsb3dpbmcgcnVsZTogXFxcIlwiICsgcnVsZSArIFwiXFxcIlwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZSkpO1xuICAgIH1cblxuICAgIHRoaXMuY3RyKys7XG4gIH07XG5cbiAgX3Byb3RvLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIHRoaXMudGFncy5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIHJldHVybiB0YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YWcpO1xuICAgIH0pO1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY3RyID0gMDtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0aGlzLl9hbHJlYWR5SW5zZXJ0ZWRPcmRlckluc2Vuc2l0aXZlUnVsZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxuZXhwb3J0IHsgU3R5bGVTaGVldCB9O1xuIiwiZXhwb3J0IHZhciBNUyA9ICctbXMtJ1xuZXhwb3J0IHZhciBNT1ogPSAnLW1vei0nXG5leHBvcnQgdmFyIFdFQktJVCA9ICctd2Via2l0LSdcblxuZXhwb3J0IHZhciBDT01NRU5UID0gJ2NvbW0nXG5leHBvcnQgdmFyIFJVTEVTRVQgPSAncnVsZSdcbmV4cG9ydCB2YXIgREVDTEFSQVRJT04gPSAnZGVjbCdcblxuZXhwb3J0IHZhciBQQUdFID0gJ0BwYWdlJ1xuZXhwb3J0IHZhciBNRURJQSA9ICdAbWVkaWEnXG5leHBvcnQgdmFyIElNUE9SVCA9ICdAaW1wb3J0J1xuZXhwb3J0IHZhciBDSEFSU0VUID0gJ0BjaGFyc2V0J1xuZXhwb3J0IHZhciBWSUVXUE9SVCA9ICdAdmlld3BvcnQnXG5leHBvcnQgdmFyIFNVUFBPUlRTID0gJ0BzdXBwb3J0cydcbmV4cG9ydCB2YXIgRE9DVU1FTlQgPSAnQGRvY3VtZW50J1xuZXhwb3J0IHZhciBOQU1FU1BBQ0UgPSAnQG5hbWVzcGFjZSdcbmV4cG9ydCB2YXIgS0VZRlJBTUVTID0gJ0BrZXlmcmFtZXMnXG5leHBvcnQgdmFyIEZPTlRfRkFDRSA9ICdAZm9udC1mYWNlJ1xuZXhwb3J0IHZhciBDT1VOVEVSX1NUWUxFID0gJ0Bjb3VudGVyLXN0eWxlJ1xuZXhwb3J0IHZhciBGT05UX0ZFQVRVUkVfVkFMVUVTID0gJ0Bmb250LWZlYXR1cmUtdmFsdWVzJ1xuIiwiLyoqXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBhYnMgPSBNYXRoLmFic1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGZyb20gPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoICh2YWx1ZSwgbGVuZ3RoKSB7XG5cdHJldHVybiAoKCgoKCgobGVuZ3RoIDw8IDIpIF4gY2hhcmF0KHZhbHVlLCAwKSkgPDwgMikgXiBjaGFyYXQodmFsdWUsIDEpKSA8PCAyKSBeIGNoYXJhdCh2YWx1ZSwgMikpIDw8IDIpIF4gY2hhcmF0KHZhbHVlLCAzKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpbSAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLnRyaW0oKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtSZWdFeHB9IHBhdHRlcm5cbiAqIEByZXR1cm4ge3N0cmluZz99XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaCAodmFsdWUsIHBhdHRlcm4pIHtcblx0cmV0dXJuICh2YWx1ZSA9IHBhdHRlcm4uZXhlYyh2YWx1ZSkpID8gdmFsdWVbMF0gOiB2YWx1ZVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cCl9IHBhdHRlcm5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZXBsYWNlbWVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZSAodmFsdWUsIHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7XG5cdHJldHVybiB2YWx1ZS5yZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2VtZW50KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleG9mICh2YWx1ZSwgc2VhcmNoKSB7XG5cdHJldHVybiB2YWx1ZS5pbmRleE9mKHNlYXJjaClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhcmF0ICh2YWx1ZSwgaW5kZXgpIHtcblx0cmV0dXJuIHZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpIHwgMFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzdHIgKHZhbHVlLCBiZWdpbiwgZW5kKSB7XG5cdHJldHVybiB2YWx1ZS5zbGljZShiZWdpbiwgZW5kKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RybGVuICh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUubGVuZ3RoXG59XG5cbi8qKlxuICogQHBhcmFtIHthbnlbXX0gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpemVvZiAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLmxlbmd0aFxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZCAodmFsdWUsIGFycmF5KSB7XG5cdHJldHVybiBhcnJheS5wdXNoKHZhbHVlKSwgdmFsdWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUgKGFycmF5LCBjYWxsYmFjaykge1xuXHRyZXR1cm4gYXJyYXkubWFwKGNhbGxiYWNrKS5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHtmcm9tLCB0cmltLCBjaGFyYXQsIHN0cmxlbiwgc3Vic3RyLCBhcHBlbmR9IGZyb20gJy4vVXRpbGl0eS5qcydcblxuZXhwb3J0IHZhciBsaW5lID0gMVxuZXhwb3J0IHZhciBjb2x1bW4gPSAxXG5leHBvcnQgdmFyIGxlbmd0aCA9IDBcbmV4cG9ydCB2YXIgcG9zaXRpb24gPSAwXG5leHBvcnQgdmFyIGNoYXJhY3RlciA9IDBcbmV4cG9ydCB2YXIgY2hhcmFjdGVycyA9ICcnXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge29iamVjdH0gcm9vdFxuICogQHBhcmFtIHtvYmplY3Q/fSBwYXJlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wc1xuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vZGUgKHZhbHVlLCByb290LCBwYXJlbnQsIHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgbGVuZ3RoKSB7XG5cdHJldHVybiB7dmFsdWU6IHZhbHVlLCByb290OiByb290LCBwYXJlbnQ6IHBhcmVudCwgdHlwZTogdHlwZSwgcHJvcHM6IHByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4sIGxpbmU6IGxpbmUsIGNvbHVtbjogY29sdW1uLCBsZW5ndGg6IGxlbmd0aCwgcmV0dXJuOiAnJ31cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weSAodmFsdWUsIHJvb3QsIHR5cGUpIHtcblx0cmV0dXJuIG5vZGUodmFsdWUsIHJvb3Qucm9vdCwgcm9vdC5wYXJlbnQsIHR5cGUsIHJvb3QucHJvcHMsIHJvb3QuY2hpbGRyZW4sIDApXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhciAoKSB7XG5cdHJldHVybiBjaGFyYWN0ZXJcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ICgpIHtcblx0Y2hhcmFjdGVyID0gcG9zaXRpb24gPiAwID8gY2hhcmF0KGNoYXJhY3RlcnMsIC0tcG9zaXRpb24pIDogMFxuXG5cdGlmIChjb2x1bW4tLSwgY2hhcmFjdGVyID09PSAxMClcblx0XHRjb2x1bW4gPSAxLCBsaW5lLS1cblxuXHRyZXR1cm4gY2hhcmFjdGVyXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dCAoKSB7XG5cdGNoYXJhY3RlciA9IHBvc2l0aW9uIDwgbGVuZ3RoID8gY2hhcmF0KGNoYXJhY3RlcnMsIHBvc2l0aW9uKyspIDogMFxuXG5cdGlmIChjb2x1bW4rKywgY2hhcmFjdGVyID09PSAxMClcblx0XHRjb2x1bW4gPSAxLCBsaW5lKytcblxuXHRyZXR1cm4gY2hhcmFjdGVyXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGVlayAoKSB7XG5cdHJldHVybiBjaGFyYXQoY2hhcmFjdGVycywgcG9zaXRpb24pXG59XG5cbi8qKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FyZXQgKCkge1xuXHRyZXR1cm4gcG9zaXRpb25cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG5cdHJldHVybiBzdWJzdHIoY2hhcmFjdGVycywgYmVnaW4sIGVuZClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW4gKHR5cGUpIHtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Ly8gXFwwIFxcdCBcXG4gXFxyIFxccyB3aGl0ZXNwYWNlIHRva2VuXG5cdFx0Y2FzZSAwOiBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTM6IGNhc2UgMzI6XG5cdFx0XHRyZXR1cm4gNVxuXHRcdC8vICEgKyAsIC8gPiBAIH4gaXNvbGF0ZSB0b2tlblxuXHRcdGNhc2UgMzM6IGNhc2UgNDM6IGNhc2UgNDQ6IGNhc2UgNDc6IGNhc2UgNjI6IGNhc2UgNjQ6IGNhc2UgMTI2OlxuXHRcdC8vIDsgeyB9IGJyZWFrcG9pbnQgdG9rZW5cblx0XHRjYXNlIDU5OiBjYXNlIDEyMzogY2FzZSAxMjU6XG5cdFx0XHRyZXR1cm4gNFxuXHRcdC8vIDogYWNjb21wYW5pZWQgdG9rZW5cblx0XHRjYXNlIDU4OlxuXHRcdFx0cmV0dXJuIDNcblx0XHQvLyBcIiAnICggWyBvcGVuaW5nIGRlbGltaXQgdG9rZW5cblx0XHRjYXNlIDM0OiBjYXNlIDM5OiBjYXNlIDQwOiBjYXNlIDkxOlxuXHRcdFx0cmV0dXJuIDJcblx0XHQvLyApIF0gY2xvc2luZyBkZWxpbWl0IHRva2VuXG5cdFx0Y2FzZSA0MTogY2FzZSA5Mzpcblx0XHRcdHJldHVybiAxXG5cdH1cblxuXHRyZXR1cm4gMFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGxvYyAodmFsdWUpIHtcblx0cmV0dXJuIGxpbmUgPSBjb2x1bW4gPSAxLCBsZW5ndGggPSBzdHJsZW4oY2hhcmFjdGVycyA9IHZhbHVlKSwgcG9zaXRpb24gPSAwLCBbXVxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybiB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVhbGxvYyAodmFsdWUpIHtcblx0cmV0dXJuIGNoYXJhY3RlcnMgPSAnJywgdmFsdWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsaW1pdCAodHlwZSkge1xuXHRyZXR1cm4gdHJpbShzbGljZShwb3NpdGlvbiAtIDEsIGRlbGltaXRlcih0eXBlID09PSA5MSA/IHR5cGUgKyAyIDogdHlwZSA9PT0gNDAgPyB0eXBlICsgMSA6IHR5cGUpKSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5pemUgKHZhbHVlKSB7XG5cdHJldHVybiBkZWFsbG9jKHRva2VuaXplcihhbGxvYyh2YWx1ZSkpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGl0ZXNwYWNlICh0eXBlKSB7XG5cdHdoaWxlIChjaGFyYWN0ZXIgPSBwZWVrKCkpXG5cdFx0aWYgKGNoYXJhY3RlciA8IDMzKVxuXHRcdFx0bmV4dCgpXG5cdFx0ZWxzZVxuXHRcdFx0YnJlYWtcblxuXHRyZXR1cm4gdG9rZW4odHlwZSkgPiAyIHx8IHRva2VuKGNoYXJhY3RlcikgPiAzID8gJycgOiAnICdcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjaGlsZHJlblxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZXIgKGNoaWxkcmVuKSB7XG5cdHdoaWxlIChuZXh0KCkpXG5cdFx0c3dpdGNoICh0b2tlbihjaGFyYWN0ZXIpKSB7XG5cdFx0XHRjYXNlIDA6IGFwcGVuZChpZGVudGlmaWVyKHBvc2l0aW9uIC0gMSksIGNoaWxkcmVuKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Y2FzZSAyOiBhcHBlbmQoZGVsaW1pdChjaGFyYWN0ZXIpLCBjaGlsZHJlbilcblx0XHRcdFx0YnJlYWtcblx0XHRcdGRlZmF1bHQ6IGFwcGVuZChmcm9tKGNoYXJhY3RlciksIGNoaWxkcmVuKVxuXHRcdH1cblxuXHRyZXR1cm4gY2hpbGRyZW5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBpbmcgKGluZGV4LCBjb3VudCkge1xuXHR3aGlsZSAoLS1jb3VudCAmJiBuZXh0KCkpXG5cdFx0Ly8gbm90IDAtOSBBLUYgYS1mXG5cdFx0aWYgKGNoYXJhY3RlciA8IDQ4IHx8IGNoYXJhY3RlciA+IDEwMiB8fCAoY2hhcmFjdGVyID4gNTcgJiYgY2hhcmFjdGVyIDwgNjUpIHx8IChjaGFyYWN0ZXIgPiA3MCAmJiBjaGFyYWN0ZXIgPCA5NykpXG5cdFx0XHRicmVha1xuXG5cdHJldHVybiBzbGljZShpbmRleCwgY2FyZXQoKSArIChjb3VudCA8IDYgJiYgcGVlaygpID09IDMyICYmIG5leHQoKSA9PSAzMikpXG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGltaXRlciAodHlwZSkge1xuXHR3aGlsZSAobmV4dCgpKVxuXHRcdHN3aXRjaCAoY2hhcmFjdGVyKSB7XG5cdFx0XHQvLyBdICkgXCIgJ1xuXHRcdFx0Y2FzZSB0eXBlOlxuXHRcdFx0XHRyZXR1cm4gcG9zaXRpb25cblx0XHRcdC8vIFwiICdcblx0XHRcdGNhc2UgMzQ6IGNhc2UgMzk6XG5cdFx0XHRcdHJldHVybiBkZWxpbWl0ZXIodHlwZSA9PT0gMzQgfHwgdHlwZSA9PT0gMzkgPyB0eXBlIDogY2hhcmFjdGVyKVxuXHRcdFx0Ly8gKFxuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0aWYgKHR5cGUgPT09IDQxKVxuXHRcdFx0XHRcdGRlbGltaXRlcih0eXBlKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Ly8gXFxcblx0XHRcdGNhc2UgOTI6XG5cdFx0XHRcdG5leHQoKVxuXHRcdFx0XHRicmVha1xuXHRcdH1cblxuXHRyZXR1cm4gcG9zaXRpb25cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50ZXIgKHR5cGUsIGluZGV4KSB7XG5cdHdoaWxlIChuZXh0KCkpXG5cdFx0Ly8gLy9cblx0XHRpZiAodHlwZSArIGNoYXJhY3RlciA9PT0gNDcgKyAxMClcblx0XHRcdGJyZWFrXG5cdFx0Ly8gLypcblx0XHRlbHNlIGlmICh0eXBlICsgY2hhcmFjdGVyID09PSA0MiArIDQyICYmIHBlZWsoKSA9PT0gNDcpXG5cdFx0XHRicmVha1xuXG5cdHJldHVybiAnLyonICsgc2xpY2UoaW5kZXgsIHBvc2l0aW9uIC0gMSkgKyAnKicgKyBmcm9tKHR5cGUgPT09IDQ3ID8gdHlwZSA6IG5leHQoKSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZpZXIgKGluZGV4KSB7XG5cdHdoaWxlICghdG9rZW4ocGVlaygpKSlcblx0XHRuZXh0KClcblxuXHRyZXR1cm4gc2xpY2UoaW5kZXgsIHBvc2l0aW9uKVxufVxuIiwiaW1wb3J0IHtDT01NRU5ULCBSVUxFU0VULCBERUNMQVJBVElPTn0gZnJvbSAnLi9FbnVtLmpzJ1xuaW1wb3J0IHthYnMsIHRyaW0sIGZyb20sIHNpemVvZiwgc3RybGVuLCBzdWJzdHIsIGFwcGVuZCwgcmVwbGFjZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuaW1wb3J0IHtub2RlLCBjaGFyLCBwcmV2LCBuZXh0LCBwZWVrLCBjYXJldCwgYWxsb2MsIGRlYWxsb2MsIGRlbGltaXQsIHdoaXRlc3BhY2UsIGVzY2FwaW5nLCBpZGVudGlmaWVyLCBjb21tZW50ZXJ9IGZyb20gJy4vVG9rZW5pemVyLmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7b2JqZWN0W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlICh2YWx1ZSkge1xuXHRyZXR1cm4gZGVhbGxvYyhwYXJzZSgnJywgbnVsbCwgbnVsbCwgbnVsbCwgWycnXSwgdmFsdWUgPSBhbGxvYyh2YWx1ZSksIDAsIFswXSwgdmFsdWUpKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3R9IHJvb3RcbiAqIEBwYXJhbSB7b2JqZWN0P30gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlc1xuICogQHBhcmFtIHtzdHJpbmdbXX0gcnVsZXNldHNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBzZXVkb1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZWNsYXJhdGlvbnNcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlICh2YWx1ZSwgcm9vdCwgcGFyZW50LCBydWxlLCBydWxlcywgcnVsZXNldHMsIHBzZXVkbywgcG9pbnRzLCBkZWNsYXJhdGlvbnMpIHtcblx0dmFyIGluZGV4ID0gMFxuXHR2YXIgb2Zmc2V0ID0gMFxuXHR2YXIgbGVuZ3RoID0gcHNldWRvXG5cdHZhciBhdHJ1bGUgPSAwXG5cdHZhciBwcm9wZXJ0eSA9IDBcblx0dmFyIHByZXZpb3VzID0gMFxuXHR2YXIgdmFyaWFibGUgPSAxXG5cdHZhciBzY2FubmluZyA9IDFcblx0dmFyIGFtcGVyc2FuZCA9IDFcblx0dmFyIGNoYXJhY3RlciA9IDBcblx0dmFyIHR5cGUgPSAnJ1xuXHR2YXIgcHJvcHMgPSBydWxlc1xuXHR2YXIgY2hpbGRyZW4gPSBydWxlc2V0c1xuXHR2YXIgcmVmZXJlbmNlID0gcnVsZVxuXHR2YXIgY2hhcmFjdGVycyA9IHR5cGVcblxuXHR3aGlsZSAoc2Nhbm5pbmcpXG5cdFx0c3dpdGNoIChwcmV2aW91cyA9IGNoYXJhY3RlciwgY2hhcmFjdGVyID0gbmV4dCgpKSB7XG5cdFx0XHQvLyBcIiAnIFsgKFxuXHRcdFx0Y2FzZSAzNDogY2FzZSAzOTogY2FzZSA5MTogY2FzZSA0MDpcblx0XHRcdFx0Y2hhcmFjdGVycyArPSBkZWxpbWl0KGNoYXJhY3Rlcilcblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIFxcdCBcXG4gXFxyIFxcc1xuXHRcdFx0Y2FzZSA5OiBjYXNlIDEwOiBjYXNlIDEzOiBjYXNlIDMyOlxuXHRcdFx0XHRjaGFyYWN0ZXJzICs9IHdoaXRlc3BhY2UocHJldmlvdXMpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyBcXFxuXHRcdFx0Y2FzZSA5Mjpcblx0XHRcdFx0Y2hhcmFjdGVycyArPSBlc2NhcGluZyhjYXJldCgpIC0gMSwgNylcblx0XHRcdFx0Y29udGludWVcblx0XHRcdC8vIC9cblx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdHN3aXRjaCAocGVlaygpKSB7XG5cdFx0XHRcdFx0Y2FzZSA0MjogY2FzZSA0Nzpcblx0XHRcdFx0XHRcdGFwcGVuZChjb21tZW50KGNvbW1lbnRlcihuZXh0KCksIGNhcmV0KCkpLCByb290LCBwYXJlbnQpLCBkZWNsYXJhdGlvbnMpXG5cdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjaGFyYWN0ZXJzICs9ICcvJ1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHQvLyB7XG5cdFx0XHRjYXNlIDEyMyAqIHZhcmlhYmxlOlxuXHRcdFx0XHRwb2ludHNbaW5kZXgrK10gPSBzdHJsZW4oY2hhcmFjdGVycykgKiBhbXBlcnNhbmRcblx0XHRcdC8vIH0gOyBcXDBcblx0XHRcdGNhc2UgMTI1ICogdmFyaWFibGU6IGNhc2UgNTk6IGNhc2UgMDpcblx0XHRcdFx0c3dpdGNoIChjaGFyYWN0ZXIpIHtcblx0XHRcdFx0XHQvLyBcXDAgfVxuXHRcdFx0XHRcdGNhc2UgMDogY2FzZSAxMjU6IHNjYW5uaW5nID0gMFxuXHRcdFx0XHRcdC8vIDtcblx0XHRcdFx0XHRjYXNlIDU5ICsgb2Zmc2V0OlxuXHRcdFx0XHRcdFx0aWYgKHByb3BlcnR5ID4gMCAmJiAoc3RybGVuKGNoYXJhY3RlcnMpIC0gbGVuZ3RoKSlcblx0XHRcdFx0XHRcdFx0YXBwZW5kKHByb3BlcnR5ID4gMzIgPyBkZWNsYXJhdGlvbihjaGFyYWN0ZXJzICsgJzsnLCBydWxlLCBwYXJlbnQsIGxlbmd0aCAtIDEpIDogZGVjbGFyYXRpb24ocmVwbGFjZShjaGFyYWN0ZXJzLCAnICcsICcnKSArICc7JywgcnVsZSwgcGFyZW50LCBsZW5ndGggLSAyKSwgZGVjbGFyYXRpb25zKVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyBAIDtcblx0XHRcdFx0XHRjYXNlIDU5OiBjaGFyYWN0ZXJzICs9ICc7J1xuXHRcdFx0XHRcdC8vIHsgcnVsZS9hdC1ydWxlXG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdGFwcGVuZChyZWZlcmVuY2UgPSBydWxlc2V0KGNoYXJhY3RlcnMsIHJvb3QsIHBhcmVudCwgaW5kZXgsIG9mZnNldCwgcnVsZXMsIHBvaW50cywgdHlwZSwgcHJvcHMgPSBbXSwgY2hpbGRyZW4gPSBbXSwgbGVuZ3RoKSwgcnVsZXNldHMpXG5cblx0XHRcdFx0XHRcdGlmIChjaGFyYWN0ZXIgPT09IDEyMylcblx0XHRcdFx0XHRcdFx0aWYgKG9mZnNldCA9PT0gMClcblx0XHRcdFx0XHRcdFx0XHRwYXJzZShjaGFyYWN0ZXJzLCByb290LCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgcHJvcHMsIHJ1bGVzZXRzLCBsZW5ndGgsIHBvaW50cywgY2hpbGRyZW4pXG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRzd2l0Y2ggKGF0cnVsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gZCBtIHNcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTAwOiBjYXNlIDEwOTogY2FzZSAxMTU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhcnNlKHZhbHVlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgcnVsZSAmJiBhcHBlbmQocnVsZXNldCh2YWx1ZSwgcmVmZXJlbmNlLCByZWZlcmVuY2UsIDAsIDAsIHJ1bGVzLCBwb2ludHMsIHR5cGUsIHJ1bGVzLCBwcm9wcyA9IFtdLCBsZW5ndGgpLCBjaGlsZHJlbiksIHJ1bGVzLCBjaGlsZHJlbiwgbGVuZ3RoLCBwb2ludHMsIHJ1bGUgPyBwcm9wcyA6IGNoaWxkcmVuKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2UoY2hhcmFjdGVycywgcmVmZXJlbmNlLCByZWZlcmVuY2UsIHJlZmVyZW5jZSwgWycnXSwgY2hpbGRyZW4sIGxlbmd0aCwgcG9pbnRzLCBjaGlsZHJlbilcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbmRleCA9IG9mZnNldCA9IHByb3BlcnR5ID0gMCwgdmFyaWFibGUgPSBhbXBlcnNhbmQgPSAxLCB0eXBlID0gY2hhcmFjdGVycyA9ICcnLCBsZW5ndGggPSBwc2V1ZG9cblx0XHRcdFx0YnJlYWtcblx0XHRcdC8vIDpcblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdGxlbmd0aCA9IDEgKyBzdHJsZW4oY2hhcmFjdGVycyksIHByb3BlcnR5ID0gcHJldmlvdXNcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGlmICh2YXJpYWJsZSA8IDEpXG5cdFx0XHRcdFx0aWYgKGNoYXJhY3RlciA9PSAxMjMpXG5cdFx0XHRcdFx0XHQtLXZhcmlhYmxlXG5cdFx0XHRcdFx0ZWxzZSBpZiAoY2hhcmFjdGVyID09IDEyNSAmJiB2YXJpYWJsZSsrID09IDAgJiYgcHJldigpID09IDEyNSlcblx0XHRcdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdFx0c3dpdGNoIChjaGFyYWN0ZXJzICs9IGZyb20oY2hhcmFjdGVyKSwgY2hhcmFjdGVyICogdmFyaWFibGUpIHtcblx0XHRcdFx0XHQvLyAmXG5cdFx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRcdGFtcGVyc2FuZCA9IG9mZnNldCA+IDAgPyAxIDogKGNoYXJhY3RlcnMgKz0gJ1xcZicsIC0xKVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyAsXG5cdFx0XHRcdFx0Y2FzZSA0NDpcblx0XHRcdFx0XHRcdHBvaW50c1tpbmRleCsrXSA9IChzdHJsZW4oY2hhcmFjdGVycykgLSAxKSAqIGFtcGVyc2FuZCwgYW1wZXJzYW5kID0gMVxuXHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHQvLyBAXG5cdFx0XHRcdFx0Y2FzZSA2NDpcblx0XHRcdFx0XHRcdC8vIC1cblx0XHRcdFx0XHRcdGlmIChwZWVrKCkgPT09IDQ1KVxuXHRcdFx0XHRcdFx0XHRjaGFyYWN0ZXJzICs9IGRlbGltaXQobmV4dCgpKVxuXG5cdFx0XHRcdFx0XHRhdHJ1bGUgPSBwZWVrKCksIG9mZnNldCA9IHN0cmxlbih0eXBlID0gY2hhcmFjdGVycyArPSBpZGVudGlmaWVyKGNhcmV0KCkpKSwgY2hhcmFjdGVyKytcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gLVxuXHRcdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0XHRpZiAocHJldmlvdXMgPT09IDQ1ICYmIHN0cmxlbihjaGFyYWN0ZXJzKSA9PSAyKVxuXHRcdFx0XHRcdFx0XHR2YXJpYWJsZSA9IDBcblx0XHRcdFx0fVxuXHRcdH1cblxuXHRyZXR1cm4gcnVsZXNldHNcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdD99IHBhcmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBydWxlc1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNoaWxkcmVuXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc2V0ICh2YWx1ZSwgcm9vdCwgcGFyZW50LCBpbmRleCwgb2Zmc2V0LCBydWxlcywgcG9pbnRzLCB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIGxlbmd0aCkge1xuXHR2YXIgcG9zdCA9IG9mZnNldCAtIDFcblx0dmFyIHJ1bGUgPSBvZmZzZXQgPT09IDAgPyBydWxlcyA6IFsnJ11cblx0dmFyIHNpemUgPSBzaXplb2YocnVsZSlcblxuXHRmb3IgKHZhciBpID0gMCwgaiA9IDAsIGsgPSAwOyBpIDwgaW5kZXg7ICsraSlcblx0XHRmb3IgKHZhciB4ID0gMCwgeSA9IHN1YnN0cih2YWx1ZSwgcG9zdCArIDEsIHBvc3QgPSBhYnMoaiA9IHBvaW50c1tpXSkpLCB6ID0gdmFsdWU7IHggPCBzaXplOyArK3gpXG5cdFx0XHRpZiAoeiA9IHRyaW0oaiA+IDAgPyBydWxlW3hdICsgJyAnICsgeSA6IHJlcGxhY2UoeSwgLyZcXGYvZywgcnVsZVt4XSkpKVxuXHRcdFx0XHRwcm9wc1trKytdID0gelxuXG5cdHJldHVybiBub2RlKHZhbHVlLCByb290LCBwYXJlbnQsIG9mZnNldCA9PT0gMCA/IFJVTEVTRVQgOiB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIGxlbmd0aClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb290XG4gKiBAcGFyYW0ge29iamVjdD99IHBhcmVudFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudCAodmFsdWUsIHJvb3QsIHBhcmVudCkge1xuXHRyZXR1cm4gbm9kZSh2YWx1ZSwgcm9vdCwgcGFyZW50LCBDT01NRU5ULCBmcm9tKGNoYXIoKSksIHN1YnN0cih2YWx1ZSwgMiwgLTIpLCAwKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtvYmplY3R9IHJvb3RcbiAqIEBwYXJhbSB7b2JqZWN0P30gcGFyZW50XG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNsYXJhdGlvbiAodmFsdWUsIHJvb3QsIHBhcmVudCwgbGVuZ3RoKSB7XG5cdHJldHVybiBub2RlKHZhbHVlLCByb290LCBwYXJlbnQsIERFQ0xBUkFUSU9OLCBzdWJzdHIodmFsdWUsIDAsIGxlbmd0aCksIHN1YnN0cih2YWx1ZSwgbGVuZ3RoICsgMSwgLTEpLCBsZW5ndGgpXG59XG4iLCJpbXBvcnQge01TLCBNT1osIFdFQktJVH0gZnJvbSAnLi9FbnVtLmpzJ1xuaW1wb3J0IHtoYXNoLCBjaGFyYXQsIHN0cmxlbiwgaW5kZXhvZiwgcmVwbGFjZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlZml4ICh2YWx1ZSwgbGVuZ3RoKSB7XG5cdHN3aXRjaCAoaGFzaCh2YWx1ZSwgbGVuZ3RoKSkge1xuXHRcdC8vIGNvbG9yLWFkanVzdFxuXHRcdGNhc2UgNTEwMzpcblx0XHRcdHJldHVybiBXRUJLSVQgKyAncHJpbnQtJyArIHZhbHVlICsgdmFsdWVcblx0XHQvLyBhbmltYXRpb24sIGFuaW1hdGlvbi0oZGVsYXl8ZGlyZWN0aW9ufGR1cmF0aW9ufGZpbGwtbW9kZXxpdGVyYXRpb24tY291bnR8bmFtZXxwbGF5LXN0YXRlfHRpbWluZy1mdW5jdGlvbilcblx0XHRjYXNlIDU3Mzc6IGNhc2UgNDIwMTogY2FzZSAzMTc3OiBjYXNlIDM0MzM6IGNhc2UgMTY0MTogY2FzZSA0NDU3OiBjYXNlIDI5MjE6XG5cdFx0Ly8gdGV4dC1kZWNvcmF0aW9uLCBmaWx0ZXIsIGNsaXAtcGF0aCwgYmFja2ZhY2UtdmlzaWJpbGl0eSwgY29sdW1uLCBib3gtZGVjb3JhdGlvbi1icmVha1xuXHRcdGNhc2UgNTU3MjogY2FzZSA2MzU2OiBjYXNlIDU4NDQ6IGNhc2UgMzE5MTogY2FzZSA2NjQ1OiBjYXNlIDMwMDU6XG5cdFx0Ly8gbWFzaywgbWFzay1pbWFnZSwgbWFzay0obW9kZXxjbGlwfHNpemUpLCBtYXNrLShyZXBlYXR8b3JpZ2luKSwgbWFzay1wb3NpdGlvbiwgbWFzay1jb21wb3NpdGUsXG5cdFx0Y2FzZSA2MzkxOiBjYXNlIDU4Nzk6IGNhc2UgNTYyMzogY2FzZSA2MTM1OiBjYXNlIDQ1OTk6IGNhc2UgNDg1NTpcblx0XHQvLyBiYWNrZ3JvdW5kLWNsaXAsIGNvbHVtbnMsIGNvbHVtbi0oY291bnR8ZmlsbHxnYXB8cnVsZXxydWxlLWNvbG9yfHJ1bGUtc3R5bGV8cnVsZS13aWR0aHxzcGFufHdpZHRoKVxuXHRcdGNhc2UgNDIxNTogY2FzZSA2Mzg5OiBjYXNlIDUxMDk6IGNhc2UgNTM2NTogY2FzZSA1NjIxOiBjYXNlIDM4Mjk6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIGFwcGVhcmFuY2UsIHVzZXItc2VsZWN0LCB0cmFuc2Zvcm0sIGh5cGhlbnMsIHRleHQtc2l6ZS1hZGp1c3Rcblx0XHRjYXNlIDUzNDk6IGNhc2UgNDI0NjogY2FzZSA0ODEwOiBjYXNlIDY5Njg6IGNhc2UgMjc1Njpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1PWiArIHZhbHVlICsgTVMgKyB2YWx1ZSArIHZhbHVlXG5cdFx0Ly8gZmxleCwgZmxleC1kaXJlY3Rpb25cblx0XHRjYXNlIDY4Mjg6IGNhc2UgNDI2ODpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIG9yZGVyXG5cdFx0Y2FzZSA2MTY1OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyAnZmxleC0nICsgdmFsdWUgKyB2YWx1ZVxuXHRcdC8vIGFsaWduLWl0ZW1zXG5cdFx0Y2FzZSA1MTg3OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgcmVwbGFjZSh2YWx1ZSwgLyhcXHcrKS4rKDpbXl0rKS8sIFdFQktJVCArICdib3gtJDEkMicgKyBNUyArICdmbGV4LSQxJDInKSArIHZhbHVlXG5cdFx0Ly8gYWxpZ24tc2VsZlxuXHRcdGNhc2UgNTQ0Mzpcblx0XHRcdHJldHVybiBXRUJLSVQgKyB2YWx1ZSArIE1TICsgJ2ZsZXgtaXRlbS0nICsgcmVwbGFjZSh2YWx1ZSwgL2ZsZXgtfC1zZWxmLywgJycpICsgdmFsdWVcblx0XHQvLyBhbGlnbi1jb250ZW50XG5cdFx0Y2FzZSA0Njc1OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyAnZmxleC1saW5lLXBhY2snICsgcmVwbGFjZSh2YWx1ZSwgL2FsaWduLWNvbnRlbnR8ZmxleC18LXNlbGYvLCAnJykgKyB2YWx1ZVxuXHRcdC8vIGZsZXgtc2hyaW5rXG5cdFx0Y2FzZSA1NTQ4OlxuXHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAnc2hyaW5rJywgJ25lZ2F0aXZlJykgKyB2YWx1ZVxuXHRcdC8vIGZsZXgtYmFzaXNcblx0XHRjYXNlIDUyOTI6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsICdiYXNpcycsICdwcmVmZXJyZWQtc2l6ZScpICsgdmFsdWVcblx0XHQvLyBmbGV4LWdyb3dcblx0XHRjYXNlIDYwNjA6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgJ2JveC0nICsgcmVwbGFjZSh2YWx1ZSwgJy1ncm93JywgJycpICsgV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsICdncm93JywgJ3Bvc2l0aXZlJykgKyB2YWx1ZVxuXHRcdC8vIHRyYW5zaXRpb25cblx0XHRjYXNlIDQ1NTQ6XG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgcmVwbGFjZSh2YWx1ZSwgLyhbXi1dKSh0cmFuc2Zvcm0pL2csICckMScgKyBXRUJLSVQgKyAnJDInKSArIHZhbHVlXG5cdFx0Ly8gY3Vyc29yXG5cdFx0Y2FzZSA2MTg3OlxuXHRcdFx0cmV0dXJuIHJlcGxhY2UocmVwbGFjZShyZXBsYWNlKHZhbHVlLCAvKHpvb20tfGdyYWIpLywgV0VCS0lUICsgJyQxJyksIC8oaW1hZ2Utc2V0KS8sIFdFQktJVCArICckMScpLCB2YWx1ZSwgJycpICsgdmFsdWVcblx0XHQvLyBiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kLWltYWdlXG5cdFx0Y2FzZSA1NDk1OiBjYXNlIDM5NTk6XG5cdFx0XHRyZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyhpbWFnZS1zZXRcXChbXl0qKS8sIFdFQktJVCArICckMScgKyAnJGAkMScpXG5cdFx0Ly8ganVzdGlmeS1jb250ZW50XG5cdFx0Y2FzZSA0OTY4OlxuXHRcdFx0cmV0dXJuIHJlcGxhY2UocmVwbGFjZSh2YWx1ZSwgLyguKzopKGZsZXgtKT8oLiopLywgV0VCS0lUICsgJ2JveC1wYWNrOiQzJyArIE1TICsgJ2ZsZXgtcGFjazokMycpLCAvcy4rLWJbXjtdKy8sICdqdXN0aWZ5JykgKyBXRUJLSVQgKyB2YWx1ZSArIHZhbHVlXG5cdFx0Ly8gKG1hcmdpbnxwYWRkaW5nKS1pbmxpbmUtKHN0YXJ0fGVuZClcblx0XHRjYXNlIDQwOTU6IGNhc2UgMzU4MzogY2FzZSA0MDY4OiBjYXNlIDI1MzI6XG5cdFx0XHRyZXR1cm4gcmVwbGFjZSh2YWx1ZSwgLyguKyktaW5saW5lKC4rKS8sIFdFQktJVCArICckMSQyJykgKyB2YWx1ZVxuXHRcdC8vIChtaW58bWF4KT8od2lkdGh8aGVpZ2h0fGlubGluZS1zaXplfGJsb2NrLXNpemUpXG5cdFx0Y2FzZSA4MTE2OiBjYXNlIDcwNTk6IGNhc2UgNTc1MzogY2FzZSA1NTM1OlxuXHRcdGNhc2UgNTQ0NTogY2FzZSA1NzAxOiBjYXNlIDQ5MzM6IGNhc2UgNDY3Nzpcblx0XHRjYXNlIDU1MzM6IGNhc2UgNTc4OTogY2FzZSA1MDIxOiBjYXNlIDQ3NjU6XG5cdFx0XHQvLyBzdHJldGNoLCBtYXgtY29udGVudCwgbWluLWNvbnRlbnQsIGZpbGwtYXZhaWxhYmxlXG5cdFx0XHRpZiAoc3RybGVuKHZhbHVlKSAtIDEgLSBsZW5ndGggPiA2KVxuXHRcdFx0XHRzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMSkpIHtcblx0XHRcdFx0XHQvLyAobSlheC1jb250ZW50LCAobSlpbi1jb250ZW50XG5cdFx0XHRcdFx0Y2FzZSAxMDk6XG5cdFx0XHRcdFx0XHQvLyAtXG5cdFx0XHRcdFx0XHRpZiAoY2hhcmF0KHZhbHVlLCBsZW5ndGggKyA0KSAhPT0gNDUpXG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0Ly8gKGYpaWxsLWF2YWlsYWJsZSwgKGYpaXQtY29udGVudFxuXHRcdFx0XHRcdGNhc2UgMTAyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlcGxhY2UodmFsdWUsIC8oLis6KSguKyktKFteXSspLywgJyQxJyArIFdFQktJVCArICckMi0kMycgKyAnJDEnICsgTU9aICsgKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMykgPT0gMTA4ID8gJyQzJyA6ICckMi0kMycpKSArIHZhbHVlXG5cdFx0XHRcdFx0Ly8gKHMpdHJldGNoXG5cdFx0XHRcdFx0Y2FzZSAxMTU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gfmluZGV4b2YodmFsdWUsICdzdHJldGNoJykgPyBwcmVmaXgocmVwbGFjZSh2YWx1ZSwgJ3N0cmV0Y2gnLCAnZmlsbC1hdmFpbGFibGUnKSwgbGVuZ3RoKSArIHZhbHVlIDogdmFsdWVcblx0XHRcdFx0fVxuXHRcdFx0YnJlYWtcblx0XHQvLyBwb3NpdGlvbjogc3RpY2t5XG5cdFx0Y2FzZSA0OTQ5OlxuXHRcdFx0Ly8gKHMpdGlja3k/XG5cdFx0XHRpZiAoY2hhcmF0KHZhbHVlLCBsZW5ndGggKyAxKSAhPT0gMTE1KVxuXHRcdFx0XHRicmVha1xuXHRcdC8vIGRpc3BsYXk6IChmbGV4fGlubGluZS1mbGV4KVxuXHRcdGNhc2UgNjQ0NDpcblx0XHRcdHN3aXRjaCAoY2hhcmF0KHZhbHVlLCBzdHJsZW4odmFsdWUpIC0gMyAtICh+aW5kZXhvZih2YWx1ZSwgJyFpbXBvcnRhbnQnKSAmJiAxMCkpKSB7XG5cdFx0XHRcdC8vIHN0aWMoayl5XG5cdFx0XHRcdGNhc2UgMTA3OlxuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlKHZhbHVlLCAnOicsICc6JyArIFdFQktJVCkgKyB2YWx1ZVxuXHRcdFx0XHQvLyAoaW5saW5lLSk/ZmwoZSl4XG5cdFx0XHRcdGNhc2UgMTAxOlxuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlKHZhbHVlLCAvKC4rOikoW147IV0rKSg7fCEuKyk/LywgJyQxJyArIFdFQktJVCArIChjaGFyYXQodmFsdWUsIDE0KSA9PT0gNDUgPyAnaW5saW5lLScgOiAnJykgKyAnYm94JDMnICsgJyQxJyArIFdFQktJVCArICckMiQzJyArICckMScgKyBNUyArICckMmJveCQzJykgKyB2YWx1ZVxuXHRcdFx0fVxuXHRcdFx0YnJlYWtcblx0XHQvLyB3cml0aW5nLW1vZGVcblx0XHRjYXNlIDU5MzY6XG5cdFx0XHRzd2l0Y2ggKGNoYXJhdCh2YWx1ZSwgbGVuZ3RoICsgMTEpKSB7XG5cdFx0XHRcdC8vIHZlcnRpY2FsLWwocilcblx0XHRcdFx0Y2FzZSAxMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIFdFQktJVCArIHZhbHVlICsgTVMgKyByZXBsYWNlKHZhbHVlLCAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sICd0YicpICsgdmFsdWVcblx0XHRcdFx0Ly8gdmVydGljYWwtcihsKVxuXHRcdFx0XHRjYXNlIDEwODpcblx0XHRcdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ3RiLXJsJykgKyB2YWx1ZVxuXHRcdFx0XHQvLyBob3Jpem9udGFsKC0pdGJcblx0XHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHJlcGxhY2UodmFsdWUsIC9bc3ZoXVxcdystW3RibHJdezJ9LywgJ2xyJykgKyB2YWx1ZVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gV0VCS0lUICsgdmFsdWUgKyBNUyArIHZhbHVlICsgdmFsdWVcblx0fVxuXG5cdHJldHVybiB2YWx1ZVxufVxuIiwiaW1wb3J0IHtJTVBPUlQsIENPTU1FTlQsIFJVTEVTRVQsIERFQ0xBUkFUSU9OfSBmcm9tICcuL0VudW0uanMnXG5pbXBvcnQge3N0cmxlbiwgc2l6ZW9mfSBmcm9tICcuL1V0aWxpdHkuanMnXG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUgKGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHR2YXIgb3V0cHV0ID0gJydcblx0dmFyIGxlbmd0aCA9IHNpemVvZihjaGlsZHJlbilcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuXHRcdG91dHB1dCArPSBjYWxsYmFjayhjaGlsZHJlbltpXSwgaSwgY2hpbGRyZW4sIGNhbGxiYWNrKSB8fCAnJ1xuXG5cdHJldHVybiBvdXRwdXRcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0ge29iamVjdFtdfSBjaGlsZHJlblxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdGNhc2UgSU1QT1JUOiBjYXNlIERFQ0xBUkFUSU9OOiByZXR1cm4gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnJldHVybiB8fCBlbGVtZW50LnZhbHVlXG5cdFx0Y2FzZSBDT01NRU5UOiByZXR1cm4gJydcblx0XHRjYXNlIFJVTEVTRVQ6IGVsZW1lbnQudmFsdWUgPSBlbGVtZW50LnByb3BzLmpvaW4oJywnKVxuXHR9XG5cblx0cmV0dXJuIHN0cmxlbihjaGlsZHJlbiA9IHNlcmlhbGl6ZShlbGVtZW50LmNoaWxkcmVuLCBjYWxsYmFjaykpID8gZWxlbWVudC5yZXR1cm4gPSBlbGVtZW50LnZhbHVlICsgJ3snICsgY2hpbGRyZW4gKyAnfScgOiAnJ1xufVxuIiwiaW1wb3J0IHtNUywgTU9aLCBXRUJLSVQsIFJVTEVTRVQsIEtFWUZSQU1FUywgREVDTEFSQVRJT059IGZyb20gJy4vRW51bS5qcydcbmltcG9ydCB7bWF0Y2gsIGNoYXJhdCwgc3Vic3RyLCBzdHJsZW4sIHNpemVvZiwgcmVwbGFjZSwgY29tYmluZX0gZnJvbSAnLi9VdGlsaXR5LmpzJ1xuaW1wb3J0IHtjb3B5LCB0b2tlbml6ZX0gZnJvbSAnLi9Ub2tlbml6ZXIuanMnXG5pbXBvcnQge3NlcmlhbGl6ZX0gZnJvbSAnLi9TZXJpYWxpemVyLmpzJ1xuaW1wb3J0IHtwcmVmaXh9IGZyb20gJy4vUHJlZml4ZXIuanMnXG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbltdfSBjb2xsZWN0aW9uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pZGRsZXdhcmUgKGNvbGxlY3Rpb24pIHtcblx0dmFyIGxlbmd0aCA9IHNpemVvZihjb2xsZWN0aW9uKVxuXG5cdHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuXHRcdHZhciBvdXRwdXQgPSAnJ1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcblx0XHRcdG91dHB1dCArPSBjb2xsZWN0aW9uW2ldKGVsZW1lbnQsIGluZGV4LCBjaGlsZHJlbiwgY2FsbGJhY2spIHx8ICcnXG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc2hlZXQgKGNhbGxiYWNrKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdGlmICghZWxlbWVudC5yb290KVxuXHRcdFx0aWYgKGVsZW1lbnQgPSBlbGVtZW50LnJldHVybilcblx0XHRcdFx0Y2FsbGJhY2soZWxlbWVudClcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7b2JqZWN0W119IGNoaWxkcmVuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlZml4ZXIgKGVsZW1lbnQsIGluZGV4LCBjaGlsZHJlbiwgY2FsbGJhY2spIHtcblx0aWYgKCFlbGVtZW50LnJldHVybilcblx0XHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBERUNMQVJBVElPTjogZWxlbWVudC5yZXR1cm4gPSBwcmVmaXgoZWxlbWVudC52YWx1ZSwgZWxlbWVudC5sZW5ndGgpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIEtFWUZSQU1FUzpcblx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZShbY29weShyZXBsYWNlKGVsZW1lbnQudmFsdWUsICdAJywgJ0AnICsgV0VCS0lUKSwgZWxlbWVudCwgJycpXSwgY2FsbGJhY2spXG5cdFx0XHRjYXNlIFJVTEVTRVQ6XG5cdFx0XHRcdGlmIChlbGVtZW50Lmxlbmd0aClcblx0XHRcdFx0XHRyZXR1cm4gY29tYmluZShlbGVtZW50LnByb3BzLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdHN3aXRjaCAobWF0Y2godmFsdWUsIC8oOjpwbGFjXFx3K3w6cmVhZC1cXHcrKS8pKSB7XG5cdFx0XHRcdFx0XHRcdC8vIDpyZWFkLShvbmx5fHdyaXRlKVxuXHRcdFx0XHRcdFx0XHRjYXNlICc6cmVhZC1vbmx5JzogY2FzZSAnOnJlYWQtd3JpdGUnOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemUoW2NvcHkocmVwbGFjZSh2YWx1ZSwgLzoocmVhZC1cXHcrKS8sICc6JyArIE1PWiArICckMScpLCBlbGVtZW50LCAnJyldLCBjYWxsYmFjaylcblx0XHRcdFx0XHRcdFx0Ly8gOnBsYWNlaG9sZGVyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJzo6cGxhY2Vob2xkZXInOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemUoW1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBXRUJLSVQgKyAnaW5wdXQtJDEnKSwgZWxlbWVudCwgJycpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCAnOicgKyBNT1ogKyAnJDEnKSwgZWxlbWVudCwgJycpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29weShyZXBsYWNlKHZhbHVlLCAvOihwbGFjXFx3KykvLCBNUyArICdpbnB1dC0kMScpLCBlbGVtZW50LCAnJylcblx0XHRcdFx0XHRcdFx0XHRdLCBjYWxsYmFjaylcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuICcnXG5cdFx0XHRcdFx0fSlcblx0XHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtvYmplY3RbXX0gY2hpbGRyZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5hbWVzcGFjZSAoZWxlbWVudCkge1xuXHRzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuXHRcdGNhc2UgUlVMRVNFVDpcblx0XHRcdGVsZW1lbnQucHJvcHMgPSBlbGVtZW50LnByb3BzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIGNvbWJpbmUodG9rZW5pemUodmFsdWUpLCBmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBjaGlsZHJlbikge1xuXHRcdFx0XHRcdHN3aXRjaCAoY2hhcmF0KHZhbHVlLCAwKSkge1xuXHRcdFx0XHRcdFx0Ly8gXFxmXG5cdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc3Vic3RyKHZhbHVlLCAxLCBzdHJsZW4odmFsdWUpKVxuXHRcdFx0XHRcdFx0Ly8gXFwwICggKyA+IH5cblx0XHRcdFx0XHRcdGNhc2UgMDogY2FzZSA0MDogY2FzZSA0MzogY2FzZSA2MjogY2FzZSAxMjY6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0XHRcdFx0Ly8gOlxuXHRcdFx0XHRcdFx0Y2FzZSA1ODpcblx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkcmVuWysraW5kZXhdID09PSAnZ2xvYmFsJylcblx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbltpbmRleF0gPSAnJywgY2hpbGRyZW5bKytpbmRleF0gPSAnXFxmJyArIHN1YnN0cihjaGlsZHJlbltpbmRleF0sIGluZGV4ID0gMSwgLTEpXG5cdFx0XHRcdFx0XHQvLyBcXHNcblx0XHRcdFx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpbmRleCA9PT0gMSA/ICcnIDogdmFsdWVcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHN3aXRjaCAoaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6IGVsZW1lbnQgPSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNpemVvZihjaGlsZHJlbikgPiAxID8gJycgOiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgaW5kZXggPSBzaXplb2YoY2hpbGRyZW4pIC0gMTogY2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGluZGV4ID09PSAyID8gdmFsdWUgKyBlbGVtZW50ICsgZWxlbWVudCA6IHZhbHVlICsgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdH1cbn1cbiIsImltcG9ydCB7IFN0eWxlU2hlZXQgfSBmcm9tICdAZW1vdGlvbi9zaGVldCc7XG5pbXBvcnQgeyBkZWFsbG9jLCBhbGxvYywgbmV4dCwgdG9rZW4sIGZyb20sIHBlZWssIGRlbGltaXQsIGlkZW50aWZpZXIsIHBvc2l0aW9uLCBzdHJpbmdpZnksIENPTU1FTlQsIHJ1bGVzaGVldCwgbWlkZGxld2FyZSwgcHJlZml4ZXIsIHNlcmlhbGl6ZSwgY29tcGlsZSB9IGZyb20gJ3N0eWxpcyc7XG5pbXBvcnQgJ0BlbW90aW9uL3dlYWstbWVtb2l6ZSc7XG5pbXBvcnQgJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgbGFzdCA9IGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gIHJldHVybiBhcnIubGVuZ3RoID8gYXJyW2Fyci5sZW5ndGggLSAxXSA6IG51bGw7XG59O1xuXG52YXIgdG9SdWxlcyA9IGZ1bmN0aW9uIHRvUnVsZXMocGFyc2VkLCBwb2ludHMpIHtcbiAgLy8gcHJldGVuZCB3ZSd2ZSBzdGFydGVkIHdpdGggYSBjb21tYVxuICB2YXIgaW5kZXggPSAtMTtcbiAgdmFyIGNoYXJhY3RlciA9IDQ0O1xuXG4gIGRvIHtcbiAgICBzd2l0Y2ggKHRva2VuKGNoYXJhY3RlcikpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgLy8gJlxcZlxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAzOCAmJiBwZWVrKCkgPT09IDEyKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBub3QgMTAwJSBjb3JyZWN0LCB3ZSBkb24ndCBhY2NvdW50IGZvciBsaXRlcmFsIHNlcXVlbmNlcyBoZXJlIC0gbGlrZSBmb3IgZXhhbXBsZSBxdW90ZWQgc3RyaW5nc1xuICAgICAgICAgIC8vIHN0eWxpcyBpbnNlcnRzIFxcZiBhZnRlciAmIHRvIGtub3cgd2hlbiAmIHdoZXJlIGl0IHNob3VsZCByZXBsYWNlIHRoaXMgc2VxdWVuY2Ugd2l0aCB0aGUgY29udGV4dCBzZWxlY3RvclxuICAgICAgICAgIC8vIGFuZCB3aGVuIGl0IHNob3VsZCBqdXN0IGNvbmNhdGVuYXRlIHRoZSBvdXRlciBhbmQgaW5uZXIgc2VsZWN0b3JzXG4gICAgICAgICAgLy8gaXQncyB2ZXJ5IHVubGlrZWx5IGZvciB0aGlzIHNlcXVlbmNlIHRvIGFjdHVhbGx5IGFwcGVhciBpbiBhIGRpZmZlcmVudCBjb250ZXh0LCBzbyB3ZSBqdXN0IGxldmVyYWdlIHRoaXMgZmFjdCBoZXJlXG4gICAgICAgICAgcG9pbnRzW2luZGV4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWRbaW5kZXhdICs9IGlkZW50aWZpZXIocG9zaXRpb24gLSAxKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcGFyc2VkW2luZGV4XSArPSBkZWxpbWl0KGNoYXJhY3Rlcik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIC8vIGNvbW1hXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09IDQ0KSB7XG4gICAgICAgICAgLy8gY29sb25cbiAgICAgICAgICBwYXJzZWRbKytpbmRleF0gPSBwZWVrKCkgPT09IDU4ID8gJyZcXGYnIDogJyc7XG4gICAgICAgICAgcG9pbnRzW2luZGV4XSA9IHBhcnNlZFtpbmRleF0ubGVuZ3RoO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIC8vIGZhbGx0aHJvdWdoXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHBhcnNlZFtpbmRleF0gKz0gZnJvbShjaGFyYWN0ZXIpO1xuICAgIH1cbiAgfSB3aGlsZSAoY2hhcmFjdGVyID0gbmV4dCgpKTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxudmFyIGdldFJ1bGVzID0gZnVuY3Rpb24gZ2V0UnVsZXModmFsdWUsIHBvaW50cykge1xuICByZXR1cm4gZGVhbGxvYyh0b1J1bGVzKGFsbG9jKHZhbHVlKSwgcG9pbnRzKSk7XG59OyAvLyBXZWFrU2V0IHdvdWxkIGJlIG1vcmUgYXBwcm9wcmlhdGUsIGJ1dCBvbmx5IFdlYWtNYXAgaXMgc3VwcG9ydGVkIGluIElFMTFcblxuXG52YXIgZml4ZWRFbGVtZW50cyA9IC8qICNfX1BVUkVfXyAqL25ldyBXZWFrTWFwKCk7XG52YXIgY29tcGF0ID0gZnVuY3Rpb24gY29tcGF0KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQudHlwZSAhPT0gJ3J1bGUnIHx8ICFlbGVtZW50LnBhcmVudCB8fCAvLyAubGVuZ3RoIGluZGljYXRlcyBpZiB0aGlzIHJ1bGUgY29udGFpbnMgcHNldWRvIG9yIG5vdFxuICAhZWxlbWVudC5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbHVlLFxuICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gIHZhciBpc0ltcGxpY2l0UnVsZSA9IGVsZW1lbnQuY29sdW1uID09PSBwYXJlbnQuY29sdW1uICYmIGVsZW1lbnQubGluZSA9PT0gcGFyZW50LmxpbmU7XG5cbiAgd2hpbGUgKHBhcmVudC50eXBlICE9PSAncnVsZScpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gIH0gLy8gc2hvcnQtY2lyY3VpdCBmb3IgdGhlIHNpbXBsZXN0IGNhc2VcblxuXG4gIGlmIChlbGVtZW50LnByb3BzLmxlbmd0aCA9PT0gMSAmJiB2YWx1ZS5jaGFyQ29kZUF0KDApICE9PSA1OFxuICAvKiBjb2xvbiAqL1xuICAmJiAhZml4ZWRFbGVtZW50cy5nZXQocGFyZW50KSkge1xuICAgIHJldHVybjtcbiAgfSAvLyBpZiB0aGlzIGlzIGFuIGltcGxpY2l0bHkgaW5zZXJ0ZWQgcnVsZSAodGhlIG9uZSBlYWdlcmx5IGluc2VydGVkIGF0IHRoZSBlYWNoIG5ldyBuZXN0ZWQgbGV2ZWwpXG4gIC8vIHRoZW4gdGhlIHByb3BzIGhhcyBhbHJlYWR5IGJlZW4gbWFuaXB1bGF0ZWQgYmVmb3JlaGFuZCBhcyB0aGV5IHRoYXQgYXJyYXkgaXMgc2hhcmVkIGJldHdlZW4gaXQgYW5kIGl0cyBcInJ1bGUgcGFyZW50XCJcblxuXG4gIGlmIChpc0ltcGxpY2l0UnVsZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZpeGVkRWxlbWVudHMuc2V0KGVsZW1lbnQsIHRydWUpO1xuICB2YXIgcG9pbnRzID0gW107XG4gIHZhciBydWxlcyA9IGdldFJ1bGVzKHZhbHVlLCBwb2ludHMpO1xuICB2YXIgcGFyZW50UnVsZXMgPSBwYXJlbnQucHJvcHM7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGsgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmVudFJ1bGVzLmxlbmd0aDsgaisrLCBrKyspIHtcbiAgICAgIGVsZW1lbnQucHJvcHNba10gPSBwb2ludHNbaV0gPyBydWxlc1tpXS5yZXBsYWNlKC8mXFxmL2csIHBhcmVudFJ1bGVzW2pdKSA6IHBhcmVudFJ1bGVzW2pdICsgXCIgXCIgKyBydWxlc1tpXTtcbiAgICB9XG4gIH1cbn07XG52YXIgcmVtb3ZlTGFiZWwgPSBmdW5jdGlvbiByZW1vdmVMYWJlbChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LnR5cGUgPT09ICdkZWNsJykge1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG5cbiAgICBpZiAoIC8vIGNoYXJjb2RlIGZvciBsXG4gICAgdmFsdWUuY2hhckNvZGVBdCgwKSA9PT0gMTA4ICYmIC8vIGNoYXJjb2RlIGZvciBiXG4gICAgdmFsdWUuY2hhckNvZGVBdCgyKSA9PT0gOTgpIHtcbiAgICAgIC8vIHRoaXMgaWdub3JlcyBsYWJlbFxuICAgICAgZWxlbWVudFtcInJldHVyblwiXSA9ICcnO1xuICAgICAgZWxlbWVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfVxufTtcbnZhciBpZ25vcmVGbGFnID0gJ2Vtb3Rpb24tZGlzYWJsZS1zZXJ2ZXItcmVuZGVyaW5nLXVuc2FmZS1zZWxlY3Rvci13YXJuaW5nLXBsZWFzZS1kby1ub3QtdXNlLXRoaXMtdGhlLXdhcm5pbmctZXhpc3RzLWZvci1hLXJlYXNvbic7XG5cbnZhciBpc0lnbm9yaW5nQ29tbWVudCA9IGZ1bmN0aW9uIGlzSWdub3JpbmdDb21tZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhZWxlbWVudCAmJiBlbGVtZW50LnR5cGUgPT09ICdjb21tJyAmJiBlbGVtZW50LmNoaWxkcmVuLmluZGV4T2YoaWdub3JlRmxhZykgPiAtMTtcbn07XG5cbnZhciBjcmVhdGVVbnNhZmVTZWxlY3RvcnNBbGFybSA9IGZ1bmN0aW9uIGNyZWF0ZVVuc2FmZVNlbGVjdG9yc0FsYXJtKGNhY2hlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuKSB7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAhPT0gJ3J1bGUnKSByZXR1cm47XG4gICAgdmFyIHVuc2FmZVBzZXVkb0NsYXNzZXMgPSBlbGVtZW50LnZhbHVlLm1hdGNoKC8oOmZpcnN0fDpudGh8Om50aC1sYXN0KS1jaGlsZC9nKTtcblxuICAgIGlmICh1bnNhZmVQc2V1ZG9DbGFzc2VzICYmIGNhY2hlLmNvbXBhdCAhPT0gdHJ1ZSkge1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gaW5kZXggPiAwID8gY2hpbGRyZW5baW5kZXggLSAxXSA6IG51bGw7XG5cbiAgICAgIGlmIChwcmV2RWxlbWVudCAmJiBpc0lnbm9yaW5nQ29tbWVudChsYXN0KHByZXZFbGVtZW50LmNoaWxkcmVuKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1bnNhZmVQc2V1ZG9DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKHVuc2FmZVBzZXVkb0NsYXNzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHNldWRvIGNsYXNzIFxcXCJcIiArIHVuc2FmZVBzZXVkb0NsYXNzICsgXCJcXFwiIGlzIHBvdGVudGlhbGx5IHVuc2FmZSB3aGVuIGRvaW5nIHNlcnZlci1zaWRlIHJlbmRlcmluZy4gVHJ5IGNoYW5naW5nIGl0IHRvIFxcXCJcIiArIHVuc2FmZVBzZXVkb0NsYXNzLnNwbGl0KCctY2hpbGQnKVswXSArIFwiLW9mLXR5cGVcXFwiLlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBpc0ltcG9ydFJ1bGUgPSBmdW5jdGlvbiBpc0ltcG9ydFJ1bGUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC50eXBlLmNoYXJDb2RlQXQoMSkgPT09IDEwNSAmJiBlbGVtZW50LnR5cGUuY2hhckNvZGVBdCgwKSA9PT0gNjQ7XG59O1xuXG52YXIgaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzID0gZnVuY3Rpb24gaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzKGluZGV4LCBjaGlsZHJlbikge1xuICBmb3IgKHZhciBpID0gaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmICghaXNJbXBvcnRSdWxlKGNoaWxkcmVuW2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTsgLy8gdXNlIHRoaXMgdG8gcmVtb3ZlIGluY29ycmVjdCBlbGVtZW50cyBmcm9tIGZ1cnRoZXIgcHJvY2Vzc2luZ1xuLy8gc28gdGhleSBkb24ndCBnZXQgaGFuZGVkIHRvIHRoZSBgc2hlZXRgIChvciBhbnl0aGluZyBlbHNlKVxuLy8gYXMgdGhhdCBjb3VsZCBwb3RlbnRpYWxseSBsZWFkIHRvIGFkZGl0aW9uYWwgbG9ncyB3aGljaCBpbiB0dXJuIGNvdWxkIGJlIG92ZXJoZWxtaW5nIHRvIHRoZSB1c2VyXG5cblxudmFyIG51bGxpZnlFbGVtZW50ID0gZnVuY3Rpb24gbnVsbGlmeUVsZW1lbnQoZWxlbWVudCkge1xuICBlbGVtZW50LnR5cGUgPSAnJztcbiAgZWxlbWVudC52YWx1ZSA9ICcnO1xuICBlbGVtZW50W1wicmV0dXJuXCJdID0gJyc7XG4gIGVsZW1lbnQuY2hpbGRyZW4gPSAnJztcbiAgZWxlbWVudC5wcm9wcyA9ICcnO1xufTtcblxudmFyIGluY29ycmVjdEltcG9ydEFsYXJtID0gZnVuY3Rpb24gaW5jb3JyZWN0SW1wb3J0QWxhcm0oZWxlbWVudCwgaW5kZXgsIGNoaWxkcmVuKSB7XG4gIGlmICghaXNJbXBvcnRSdWxlKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQucGFyZW50KSB7XG4gICAgY29uc29sZS5lcnJvcihcImBAaW1wb3J0YCBydWxlcyBjYW4ndCBiZSBuZXN0ZWQgaW5zaWRlIG90aGVyIHJ1bGVzLiBQbGVhc2UgbW92ZSBpdCB0byB0aGUgdG9wIGxldmVsIGFuZCBwdXQgaXQgYmVmb3JlIHJlZ3VsYXIgcnVsZXMuIEtlZXAgaW4gbWluZCB0aGF0IHRoZXkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoaW4gZ2xvYmFsIHN0eWxlcy5cIik7XG4gICAgbnVsbGlmeUVsZW1lbnQoZWxlbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNQcmVwZW5kZWRXaXRoUmVndWxhclJ1bGVzKGluZGV4LCBjaGlsZHJlbikpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiYEBpbXBvcnRgIHJ1bGVzIGNhbid0IGJlIGFmdGVyIG90aGVyIHJ1bGVzLiBQbGVhc2UgcHV0IHlvdXIgYEBpbXBvcnRgIHJ1bGVzIGJlZm9yZSB5b3VyIG90aGVyIHJ1bGVzLlwiKTtcbiAgICBudWxsaWZ5RWxlbWVudChlbGVtZW50KTtcbiAgfVxufTtcblxudmFyIGRlZmF1bHRTdHlsaXNQbHVnaW5zID0gW3ByZWZpeGVyXTtcblxudmFyIGNyZWF0ZUNhY2hlID0gZnVuY3Rpb24gY3JlYXRlQ2FjaGUob3B0aW9ucykge1xuICB2YXIga2V5ID0gb3B0aW9ucy5rZXk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIHRvIGNvbmZpZ3VyZSBga2V5YCBmb3IgeW91ciBjYWNoZS4gUGxlYXNlIG1ha2Ugc3VyZSBpdCdzIHVuaXF1ZSAoYW5kIG5vdCBlcXVhbCB0byAnY3NzJykgYXMgaXQncyB1c2VkIGZvciBsaW5raW5nIHN0eWxlcyB0byB5b3VyIGNhY2hlLlxcblwiICsgXCJJZiBtdWx0aXBsZSBjYWNoZXMgc2hhcmUgdGhlIHNhbWUga2V5IHRoZXkgbWlnaHQgXFxcImZpZ2h0XFxcIiBmb3IgZWFjaCBvdGhlcidzIHN0eWxlIGVsZW1lbnRzLlwiKTtcbiAgfVxuXG4gIGlmICgga2V5ID09PSAnY3NzJykge1xuICAgIHZhciBzc3JTdHlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3R5bGVbZGF0YS1lbW90aW9uXTpub3QoW2RhdGEtc10pXCIpOyAvLyBnZXQgU1NSZWQgc3R5bGVzIG91dCBvZiB0aGUgd2F5IG9mIFJlYWN0J3MgaHlkcmF0aW9uXG4gICAgLy8gZG9jdW1lbnQuaGVhZCBpcyBhIHNhZmUgcGxhY2UgdG8gbW92ZSB0aGVtIHRvKHRob3VnaCBub3RlIGRvY3VtZW50LmhlYWQgaXMgbm90IG5lY2Vzc2FyaWx5IHRoZSBsYXN0IHBsYWNlIHRoZXkgd2lsbCBiZSlcbiAgICAvLyBub3RlIHRoaXMgdmVyeSB2ZXJ5IGludGVudGlvbmFsbHkgdGFyZ2V0cyBhbGwgc3R5bGUgZWxlbWVudHMgcmVnYXJkbGVzcyBvZiB0aGUga2V5IHRvIGVuc3VyZVxuICAgIC8vIHRoYXQgY3JlYXRpbmcgYSBjYWNoZSB3b3JrcyBpbnNpZGUgb2YgcmVuZGVyIG9mIGEgUmVhY3QgY29tcG9uZW50XG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNzclN0eWxlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIC8vIHdlIHdhbnQgdG8gb25seSBtb3ZlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBzcGFjZSBpbiB0aGUgZGF0YS1lbW90aW9uIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgLy8gYmVjYXVzZSB0aGF0IGluZGljYXRlcyB0aGF0IGl0IGlzIGFuIEVtb3Rpb24gMTEgc2VydmVyLXNpZGUgcmVuZGVyZWQgc3R5bGUgZWxlbWVudHNcbiAgICAgIC8vIHdoaWxlIHdlIHdpbGwgYWxyZWFkeSBpZ25vcmUgRW1vdGlvbiAxMSBjbGllbnQtc2lkZSBpbnNlcnRlZCBzdHlsZXMgYmVjYXVzZSBvZiB0aGUgOm5vdChbZGF0YS1zXSkgcGFydCBpbiB0aGUgc2VsZWN0b3JcbiAgICAgIC8vIEVtb3Rpb24gMTAgY2xpZW50LXNpZGUgaW5zZXJ0ZWQgc3R5bGVzIGRpZCBub3QgaGF2ZSBkYXRhLXMgKGJ1dCBpbXBvcnRhbnRseSBkaWQgbm90IGhhdmUgYSBzcGFjZSBpbiB0aGVpciBkYXRhLWVtb3Rpb24gYXR0cmlidXRlcylcbiAgICAgIC8vIHNvIGNoZWNraW5nIGZvciB0aGUgc3BhY2UgZW5zdXJlcyB0aGF0IGxvYWRpbmcgRW1vdGlvbiAxMSBhZnRlciBFbW90aW9uIDEwIGhhcyBpbnNlcnRlZCBzb21lIHN0eWxlc1xuICAgICAgLy8gd2lsbCBub3QgcmVzdWx0IGluIHRoZSBFbW90aW9uIDEwIHN0eWxlcyBiZWluZyBkZXN0cm95ZWRcbiAgICAgIHZhciBkYXRhRW1vdGlvbkF0dHJpYnV0ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWVtb3Rpb24nKTtcblxuICAgICAgaWYgKGRhdGFFbW90aW9uQXR0cmlidXRlLmluZGV4T2YoJyAnKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXMnLCAnJyk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc3R5bGlzUGx1Z2lucyA9IG9wdGlvbnMuc3R5bGlzUGx1Z2lucyB8fCBkZWZhdWx0U3R5bGlzUGx1Z2lucztcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBpZiAoL1teYS16LV0vLnRlc3Qoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1vdGlvbiBrZXkgbXVzdCBvbmx5IGNvbnRhaW4gbG93ZXIgY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVycyBhbmQgLSBidXQgXFxcIlwiICsga2V5ICsgXCJcXFwiIHdhcyBwYXNzZWRcIik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluc2VydGVkID0ge307IC8vICRGbG93Rml4TWVcblxuICB2YXIgY29udGFpbmVyO1xuICB2YXIgbm9kZXNUb0h5ZHJhdGUgPSBbXTtcblxuICB7XG4gICAgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuaGVhZDtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKCAvLyB0aGlzIG1lYW5zIHdlIHdpbGwgaWdub3JlIGVsZW1lbnRzIHdoaWNoIGRvbid0IGhhdmUgYSBzcGFjZSBpbiB0aGVtIHdoaWNoXG4gICAgLy8gbWVhbnMgdGhhdCB0aGUgc3R5bGUgZWxlbWVudHMgd2UncmUgbG9va2luZyBhdCBhcmUgb25seSBFbW90aW9uIDExIHNlcnZlci1yZW5kZXJlZCBzdHlsZSBlbGVtZW50c1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVtkYXRhLWVtb3Rpb25ePVxcXCJcIiArIGtleSArIFwiIFxcXCJdXCIpLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIGF0dHJpYiA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbW90aW9uXCIpLnNwbGl0KCcgJyk7IC8vICRGbG93Rml4TWVcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhdHRyaWIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5zZXJ0ZWRbYXR0cmliW2ldXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIG5vZGVzVG9IeWRyYXRlLnB1c2gobm9kZSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgX2luc2VydDtcblxuICB2YXIgb21uaXByZXNlbnRQbHVnaW5zID0gW2NvbXBhdCwgcmVtb3ZlTGFiZWxdO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgb21uaXByZXNlbnRQbHVnaW5zLnB1c2goY3JlYXRlVW5zYWZlU2VsZWN0b3JzQWxhcm0oe1xuICAgICAgZ2V0IGNvbXBhdCgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmNvbXBhdDtcbiAgICAgIH1cblxuICAgIH0pLCBpbmNvcnJlY3RJbXBvcnRBbGFybSk7XG4gIH1cblxuICB7XG4gICAgdmFyIGN1cnJlbnRTaGVldDtcbiAgICB2YXIgZmluYWxpemluZ1BsdWdpbnMgPSBbc3RyaW5naWZ5LCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGlmICghZWxlbWVudC5yb290KSB7XG4gICAgICAgIGlmIChlbGVtZW50W1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgY3VycmVudFNoZWV0Lmluc2VydChlbGVtZW50W1wicmV0dXJuXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbHVlICYmIGVsZW1lbnQudHlwZSAhPT0gQ09NTUVOVCkge1xuICAgICAgICAgIC8vIGluc2VydCBlbXB0eSBydWxlIGluIG5vbi1wcm9kdWN0aW9uIGVudmlyb25tZW50c1xuICAgICAgICAgIC8vIHNvIEBlbW90aW9uL2plc3QgY2FuIGdyYWIgYGtleWAgZnJvbSB0aGUgKEpTKURPTSBmb3IgY2FjaGVzIHdpdGhvdXQgYW55IHJ1bGVzIGluc2VydGVkIHlldFxuICAgICAgICAgIGN1cnJlbnRTaGVldC5pbnNlcnQoZWxlbWVudC52YWx1ZSArIFwie31cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IDogcnVsZXNoZWV0KGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICBjdXJyZW50U2hlZXQuaW5zZXJ0KHJ1bGUpO1xuICAgIH0pXTtcbiAgICB2YXIgc2VyaWFsaXplciA9IG1pZGRsZXdhcmUob21uaXByZXNlbnRQbHVnaW5zLmNvbmNhdChzdHlsaXNQbHVnaW5zLCBmaW5hbGl6aW5nUGx1Z2lucykpO1xuXG4gICAgdmFyIHN0eWxpcyA9IGZ1bmN0aW9uIHN0eWxpcyhzdHlsZXMpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemUoY29tcGlsZShzdHlsZXMpLCBzZXJpYWxpemVyKTtcbiAgICB9O1xuXG4gICAgX2luc2VydCA9IGZ1bmN0aW9uIGluc2VydChzZWxlY3Rvciwgc2VyaWFsaXplZCwgc2hlZXQsIHNob3VsZENhY2hlKSB7XG4gICAgICBjdXJyZW50U2hlZXQgPSBzaGVldDtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2VyaWFsaXplZC5tYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXJyZW50U2hlZXQgPSB7XG4gICAgICAgICAgaW5zZXJ0OiBmdW5jdGlvbiBpbnNlcnQocnVsZSkge1xuICAgICAgICAgICAgc2hlZXQuaW5zZXJ0KHJ1bGUgKyBzZXJpYWxpemVkLm1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBzdHlsaXMoc2VsZWN0b3IgPyBzZWxlY3RvciArIFwie1wiICsgc2VyaWFsaXplZC5zdHlsZXMgKyBcIn1cIiA6IHNlcmlhbGl6ZWQuc3R5bGVzKTtcblxuICAgICAgaWYgKHNob3VsZENhY2hlKSB7XG4gICAgICAgIGNhY2hlLmluc2VydGVkW3NlcmlhbGl6ZWQubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY2FjaGUgPSB7XG4gICAga2V5OiBrZXksXG4gICAgc2hlZXQ6IG5ldyBTdHlsZVNoZWV0KHtcbiAgICAgIGtleToga2V5LFxuICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICAgIHNwZWVkeTogb3B0aW9ucy5zcGVlZHksXG4gICAgICBwcmVwZW5kOiBvcHRpb25zLnByZXBlbmRcbiAgICB9KSxcbiAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICBpbnNlcnRlZDogaW5zZXJ0ZWQsXG4gICAgcmVnaXN0ZXJlZDoge30sXG4gICAgaW5zZXJ0OiBfaW5zZXJ0XG4gIH07XG4gIGNhY2hlLnNoZWV0Lmh5ZHJhdGUobm9kZXNUb0h5ZHJhdGUpO1xuICByZXR1cm4gY2FjaGU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDYWNoZTtcbiIsInZhciBpc0Jyb3dzZXIgPSBcIm9iamVjdFwiICE9PSAndW5kZWZpbmVkJztcbmZ1bmN0aW9uIGdldFJlZ2lzdGVyZWRTdHlsZXMocmVnaXN0ZXJlZCwgcmVnaXN0ZXJlZFN0eWxlcywgY2xhc3NOYW1lcykge1xuICB2YXIgcmF3Q2xhc3NOYW1lID0gJyc7XG4gIGNsYXNzTmFtZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICBpZiAocmVnaXN0ZXJlZFtjbGFzc05hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlZ2lzdGVyZWRTdHlsZXMucHVzaChyZWdpc3RlcmVkW2NsYXNzTmFtZV0gKyBcIjtcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhd0NsYXNzTmFtZSArPSBjbGFzc05hbWUgKyBcIiBcIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmF3Q2xhc3NOYW1lO1xufVxudmFyIGluc2VydFN0eWxlcyA9IGZ1bmN0aW9uIGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgaXNTdHJpbmdUYWcpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuXG4gIGlmICggLy8gd2Ugb25seSBuZWVkIHRvIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSByZWdpc3RlcmVkIGNhY2hlIGlmIHRoZVxuICAvLyBjbGFzcyBuYW1lIGNvdWxkIGJlIHVzZWQgZnVydGhlciBkb3duXG4gIC8vIHRoZSB0cmVlIGJ1dCBpZiBpdCdzIGEgc3RyaW5nIHRhZywgd2Uga25vdyBpdCB3b24ndFxuICAvLyBzbyB3ZSBkb24ndCBoYXZlIHRvIGFkZCBpdCB0byByZWdpc3RlcmVkIGNhY2hlLlxuICAvLyB0aGlzIGltcHJvdmVzIG1lbW9yeSB1c2FnZSBzaW5jZSB3ZSBjYW4gYXZvaWQgc3RvcmluZyB0aGUgd2hvbGUgc3R5bGUgc3RyaW5nXG4gIChpc1N0cmluZ1RhZyA9PT0gZmFsc2UgfHwgLy8gd2UgbmVlZCB0byBhbHdheXMgc3RvcmUgaXQgaWYgd2UncmUgaW4gY29tcGF0IG1vZGUgYW5kXG4gIC8vIGluIG5vZGUgc2luY2UgZW1vdGlvbi1zZXJ2ZXIgcmVsaWVzIG9uIHdoZXRoZXIgYSBzdHlsZSBpcyBpblxuICAvLyB0aGUgcmVnaXN0ZXJlZCBjYWNoZSB0byBrbm93IHdoZXRoZXIgYSBzdHlsZSBpcyBnbG9iYWwgb3Igbm90XG4gIC8vIGFsc28sIG5vdGUgdGhhdCB0aGlzIGNoZWNrIHdpbGwgYmUgZGVhZCBjb2RlIGVsaW1pbmF0ZWQgaW4gdGhlIGJyb3dzZXJcbiAgaXNCcm93c2VyID09PSBmYWxzZSApICYmIGNhY2hlLnJlZ2lzdGVyZWRbY2xhc3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FjaGUucmVnaXN0ZXJlZFtjbGFzc05hbWVdID0gc2VyaWFsaXplZC5zdHlsZXM7XG4gIH1cblxuICBpZiAoY2FjaGUuaW5zZXJ0ZWRbc2VyaWFsaXplZC5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBzZXJpYWxpemVkO1xuXG4gICAgZG8ge1xuICAgICAgdmFyIG1heWJlU3R5bGVzID0gY2FjaGUuaW5zZXJ0KHNlcmlhbGl6ZWQgPT09IGN1cnJlbnQgPyBcIi5cIiArIGNsYXNzTmFtZSA6ICcnLCBjdXJyZW50LCBjYWNoZS5zaGVldCwgdHJ1ZSk7XG5cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgfSB3aGlsZSAoY3VycmVudCAhPT0gdW5kZWZpbmVkKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgZ2V0UmVnaXN0ZXJlZFN0eWxlcywgaW5zZXJ0U3R5bGVzIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2dhcnljb3VydC9tdXJtdXJoYXNoLWpzXG4vLyBQb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWFwcGxlYnkvc21oYXNoZXIvYmxvYi82MWEwNTMwZjI4Mjc3ZjJlODUwYmZjMzk2MDBjZTYxZDAyYjUxOGRlL3NyYy9NdXJtdXJIYXNoMi5jcHAjTDM3LUw4NlxuZnVuY3Rpb24gbXVybXVyMihzdHIpIHtcbiAgLy8gJ20nIGFuZCAncicgYXJlIG1peGluZyBjb25zdGFudHMgZ2VuZXJhdGVkIG9mZmxpbmUuXG4gIC8vIFRoZXkncmUgbm90IHJlYWxseSAnbWFnaWMnLCB0aGV5IGp1c3QgaGFwcGVuIHRvIHdvcmsgd2VsbC5cbiAgLy8gY29uc3QgbSA9IDB4NWJkMWU5OTU7XG4gIC8vIGNvbnN0IHIgPSAyNDtcbiAgLy8gSW5pdGlhbGl6ZSB0aGUgaGFzaFxuICB2YXIgaCA9IDA7IC8vIE1peCA0IGJ5dGVzIGF0IGEgdGltZSBpbnRvIHRoZSBoYXNoXG5cbiAgdmFyIGssXG4gICAgICBpID0gMCxcbiAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XG5cbiAgZm9yICg7IGxlbiA+PSA0OyArK2ksIGxlbiAtPSA0KSB7XG4gICAgayA9IHN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZiB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgOCB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMTYgfCAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDI0O1xuICAgIGsgPVxuICAgIC8qIE1hdGguaW11bChrLCBtKTogKi9cbiAgICAoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChrID4+PiAxNikgKiAweGU5OTUgPDwgMTYpO1xuICAgIGsgXj1cbiAgICAvKiBrID4+PiByOiAqL1xuICAgIGsgPj4+IDI0O1xuICAgIGggPVxuICAgIC8qIE1hdGguaW11bChrLCBtKTogKi9cbiAgICAoayAmIDB4ZmZmZikgKiAweDViZDFlOTk1ICsgKChrID4+PiAxNikgKiAweGU5OTUgPDwgMTYpIF5cbiAgICAvKiBNYXRoLmltdWwoaCwgbSk6ICovXG4gICAgKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSArICgoaCA+Pj4gMTYpICogMHhlOTk1IDw8IDE2KTtcbiAgfSAvLyBIYW5kbGUgdGhlIGxhc3QgZmV3IGJ5dGVzIG9mIHRoZSBpbnB1dCBhcnJheVxuXG5cbiAgc3dpdGNoIChsZW4pIHtcbiAgICBjYXNlIDM6XG4gICAgICBoIF49IChzdHIuY2hhckNvZGVBdChpICsgMikgJiAweGZmKSA8PCAxNjtcblxuICAgIGNhc2UgMjpcbiAgICAgIGggXj0gKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmYpIDw8IDg7XG5cbiAgICBjYXNlIDE6XG4gICAgICBoIF49IHN0ci5jaGFyQ29kZUF0KGkpICYgMHhmZjtcbiAgICAgIGggPVxuICAgICAgLyogTWF0aC5pbXVsKGgsIG0pOiAqL1xuICAgICAgKGggJiAweGZmZmYpICogMHg1YmQxZTk5NSArICgoaCA+Pj4gMTYpICogMHhlOTk1IDw8IDE2KTtcbiAgfSAvLyBEbyBhIGZldyBmaW5hbCBtaXhlcyBvZiB0aGUgaGFzaCB0byBlbnN1cmUgdGhlIGxhc3QgZmV3XG4gIC8vIGJ5dGVzIGFyZSB3ZWxsLWluY29ycG9yYXRlZC5cblxuXG4gIGggXj0gaCA+Pj4gMTM7XG4gIGggPVxuICAvKiBNYXRoLmltdWwoaCwgbSk6ICovXG4gIChoICYgMHhmZmZmKSAqIDB4NWJkMWU5OTUgKyAoKGggPj4+IDE2KSAqIDB4ZTk5NSA8PCAxNik7XG4gIHJldHVybiAoKGggXiBoID4+PiAxNSkgPj4+IDApLnRvU3RyaW5nKDM2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbXVybXVyMjtcbiIsImltcG9ydCBoYXNoU3RyaW5nIGZyb20gJ0BlbW90aW9uL2hhc2gnO1xuaW1wb3J0IHVuaXRsZXNzIGZyb20gJ0BlbW90aW9uL3VuaXRsZXNzJztcbmltcG9ydCBtZW1vaXplIGZyb20gJ0BlbW90aW9uL21lbW9pemUnO1xuXG52YXIgSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IgPSBcIllvdSBoYXZlIGlsbGVnYWwgZXNjYXBlIHNlcXVlbmNlIGluIHlvdXIgdGVtcGxhdGUgbGl0ZXJhbCwgbW9zdCBsaWtlbHkgaW5zaWRlIGNvbnRlbnQncyBwcm9wZXJ0eSB2YWx1ZS5cXG5CZWNhdXNlIHlvdSB3cml0ZSB5b3VyIENTUyBpbnNpZGUgYSBKYXZhU2NyaXB0IHN0cmluZyB5b3UgYWN0dWFsbHkgaGF2ZSB0byBkbyBkb3VibGUgZXNjYXBpbmcsIHNvIGZvciBleGFtcGxlIFxcXCJjb250ZW50OiAnXFxcXDAwZDcnO1xcXCIgc2hvdWxkIGJlY29tZSBcXFwiY29udGVudDogJ1xcXFxcXFxcMDBkNyc7XFxcIi5cXG5Zb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGlzIGhlcmU6XFxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvVGVtcGxhdGVfbGl0ZXJhbHMjRVMyMDE4X3JldmlzaW9uX29mX2lsbGVnYWxfZXNjYXBlX3NlcXVlbmNlc1wiO1xudmFyIFVOREVGSU5FRF9BU19PQkpFQ1RfS0VZX0VSUk9SID0gXCJZb3UgaGF2ZSBwYXNzZWQgaW4gZmFsc3kgdmFsdWUgYXMgc3R5bGUgb2JqZWN0J3Mga2V5IChjYW4gaGFwcGVuIHdoZW4gaW4gZXhhbXBsZSB5b3UgcGFzcyB1bmV4cG9ydGVkIGNvbXBvbmVudCBhcyBjb21wdXRlZCBrZXkpLlwiO1xudmFyIGh5cGhlbmF0ZVJlZ2V4ID0gL1tBLVpdfF5tcy9nO1xudmFyIGFuaW1hdGlvblJlZ2V4ID0gL19FTU9fKFteX10rPylfKFteXSo/KV9FTU9fL2c7XG5cbnZhciBpc0N1c3RvbVByb3BlcnR5ID0gZnVuY3Rpb24gaXNDdXN0b21Qcm9wZXJ0eShwcm9wZXJ0eSkge1xuICByZXR1cm4gcHJvcGVydHkuY2hhckNvZGVBdCgxKSA9PT0gNDU7XG59O1xuXG52YXIgaXNQcm9jZXNzYWJsZVZhbHVlID0gZnVuY3Rpb24gaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nO1xufTtcblxudmFyIHByb2Nlc3NTdHlsZU5hbWUgPSAvKiAjX19QVVJFX18gKi9tZW1vaXplKGZ1bmN0aW9uIChzdHlsZU5hbWUpIHtcbiAgcmV0dXJuIGlzQ3VzdG9tUHJvcGVydHkoc3R5bGVOYW1lKSA/IHN0eWxlTmFtZSA6IHN0eWxlTmFtZS5yZXBsYWNlKGh5cGhlbmF0ZVJlZ2V4LCAnLSQmJykudG9Mb3dlckNhc2UoKTtcbn0pO1xuXG52YXIgcHJvY2Vzc1N0eWxlVmFsdWUgPSBmdW5jdGlvbiBwcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlKSB7XG4gIHN3aXRjaCAoa2V5KSB7XG4gICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICBjYXNlICdhbmltYXRpb25OYW1lJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShhbmltYXRpb25SZWdleCwgZnVuY3Rpb24gKG1hdGNoLCBwMSwgcDIpIHtcbiAgICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgICAgbmFtZTogcDEsXG4gICAgICAgICAgICAgIHN0eWxlczogcDIsXG4gICAgICAgICAgICAgIG5leHQ6IGN1cnNvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBwMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgaWYgKHVuaXRsZXNzW2tleV0gIT09IDEgJiYgIWlzQ3VzdG9tUHJvcGVydHkoa2V5KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBjb250ZW50VmFsdWVQYXR0ZXJuID0gLyhhdHRyfGNvdW50ZXJzP3x1cmx8KCgocmVwZWF0aW5nLSk/KGxpbmVhcnxyYWRpYWwpKXxjb25pYyktZ3JhZGllbnQpXFwofChuby0pPyhvcGVufGNsb3NlKS1xdW90ZS87XG4gIHZhciBjb250ZW50VmFsdWVzID0gWydub3JtYWwnLCAnbm9uZScsICdpbml0aWFsJywgJ2luaGVyaXQnLCAndW5zZXQnXTtcbiAgdmFyIG9sZFByb2Nlc3NTdHlsZVZhbHVlID0gcHJvY2Vzc1N0eWxlVmFsdWU7XG4gIHZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuICB2YXIgaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG4gIHZhciBoeXBoZW5hdGVkQ2FjaGUgPSB7fTtcblxuICBwcm9jZXNzU3R5bGVWYWx1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NTdHlsZVZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5ID09PSAnY29udGVudCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IGNvbnRlbnRWYWx1ZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xICYmICFjb250ZW50VmFsdWVQYXR0ZXJuLnRlc3QodmFsdWUpICYmICh2YWx1ZS5jaGFyQXQoMCkgIT09IHZhbHVlLmNoYXJBdCh2YWx1ZS5sZW5ndGggLSAxKSB8fCB2YWx1ZS5jaGFyQXQoMCkgIT09ICdcIicgJiYgdmFsdWUuY2hhckF0KDApICE9PSBcIidcIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IHNlZW0gdG8gYmUgdXNpbmcgYSB2YWx1ZSBmb3IgJ2NvbnRlbnQnIHdpdGhvdXQgcXVvdGVzLCB0cnkgcmVwbGFjaW5nIGl0IHdpdGggYGNvbnRlbnQ6ICdcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIidgXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9jZXNzZWQgPSBvbGRQcm9jZXNzU3R5bGVWYWx1ZShrZXksIHZhbHVlKTtcblxuICAgIGlmIChwcm9jZXNzZWQgIT09ICcnICYmICFpc0N1c3RvbVByb3BlcnR5KGtleSkgJiYga2V5LmluZGV4T2YoJy0nKSAhPT0gLTEgJiYgaHlwaGVuYXRlZENhY2hlW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaHlwaGVuYXRlZENhY2hlW2tleV0gPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihcIlVzaW5nIGtlYmFiLWNhc2UgZm9yIGNzcyBwcm9wZXJ0aWVzIGluIG9iamVjdHMgaXMgbm90IHN1cHBvcnRlZC4gRGlkIHlvdSBtZWFuIFwiICsga2V5LnJlcGxhY2UobXNQYXR0ZXJuLCAnbXMtJykucmVwbGFjZShoeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoc3RyLCBfY2hhcikge1xuICAgICAgICByZXR1cm4gX2NoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pICsgXCI/XCIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIGludGVycG9sYXRpb24pIHtcbiAgaWYgKGludGVycG9sYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmIChpbnRlcnBvbGF0aW9uLl9fZW1vdGlvbl9zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGludGVycG9sYXRpb24udG9TdHJpbmcoKSA9PT0gJ05PX0NPTVBPTkVOVF9TRUxFQ1RPUicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IHNlbGVjdG9ycyBjYW4gb25seSBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggQGVtb3Rpb24vYmFiZWwtcGx1Z2luLicpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcnBvbGF0aW9uO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlb2YgaW50ZXJwb2xhdGlvbikge1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAge1xuICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbi5hbmltID09PSAxKSB7XG4gICAgICAgICAgY3Vyc29yID0ge1xuICAgICAgICAgICAgbmFtZTogaW50ZXJwb2xhdGlvbi5uYW1lLFxuICAgICAgICAgICAgc3R5bGVzOiBpbnRlcnBvbGF0aW9uLnN0eWxlcyxcbiAgICAgICAgICAgIG5leHQ6IGN1cnNvclxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGludGVycG9sYXRpb24ubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnBvbGF0aW9uLnN0eWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIG5leHQgPSBpbnRlcnBvbGF0aW9uLm5leHQ7XG5cbiAgICAgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBub3QgdGhlIG1vc3QgZWZmaWNpZW50IHRoaW5nIGV2ZXIgYnV0IHRoaXMgaXMgYSBwcmV0dHkgcmFyZSBjYXNlXG4gICAgICAgICAgICAvLyBhbmQgdGhlcmUgd2lsbCBiZSB2ZXJ5IGZldyBpdGVyYXRpb25zIG9mIHRoaXMgZ2VuZXJhbGx5XG4gICAgICAgICAgICB3aGlsZSAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuZXh0Lm5hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGVzOiBuZXh0LnN0eWxlcyxcbiAgICAgICAgICAgICAgICBuZXh0OiBjdXJzb3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc3R5bGVzID0gaW50ZXJwb2xhdGlvbi5zdHlsZXMgKyBcIjtcIjtcblxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGludGVycG9sYXRpb24ubWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN0eWxlcyArPSBpbnRlcnBvbGF0aW9uLm1hcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVN0cmluZ0Zyb21PYmplY3QobWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIGludGVycG9sYXRpb24pO1xuICAgICAgfVxuXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAge1xuICAgICAgICBpZiAobWVyZ2VkUHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBwcmV2aW91c0N1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gaW50ZXJwb2xhdGlvbihtZXJnZWRQcm9wcyk7XG4gICAgICAgICAgY3Vyc29yID0gcHJldmlvdXNDdXJzb3I7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Z1bmN0aW9ucyB0aGF0IGFyZSBpbnRlcnBvbGF0ZWQgaW4gY3NzIGNhbGxzIHdpbGwgYmUgc3RyaW5naWZpZWQuXFxuJyArICdJZiB5b3Ugd2FudCB0byBoYXZlIGEgY3NzIGNhbGwgYmFzZWQgb24gcHJvcHMsIGNyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGNzcyBjYWxsIGxpa2UgdGhpc1xcbicgKyAnbGV0IGR5bmFtaWNTdHlsZSA9IChwcm9wcykgPT4gY3NzYGNvbG9yOiAke3Byb3BzLmNvbG9yfWBcXG4nICsgJ0l0IGNhbiBiZSBjYWxsZWQgZGlyZWN0bHkgd2l0aCBwcm9wcyBvciBpbnRlcnBvbGF0ZWQgaW4gYSBzdHlsZWQgY2FsbCBsaWtlIHRoaXNcXG4nICsgXCJsZXQgU29tZUNvbXBvbmVudCA9IHN0eWxlZCgnZGl2JylgJHtkeW5hbWljU3R5bGV9YFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gW107XG4gICAgICAgIHZhciByZXBsYWNlZCA9IGludGVycG9sYXRpb24ucmVwbGFjZShhbmltYXRpb25SZWdleCwgZnVuY3Rpb24gKG1hdGNoLCBwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgZmFrZVZhck5hbWUgPSBcImFuaW1hdGlvblwiICsgbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgICAgbWF0Y2hlZC5wdXNoKFwiY29uc3QgXCIgKyBmYWtlVmFyTmFtZSArIFwiID0ga2V5ZnJhbWVzYFwiICsgcDIucmVwbGFjZSgvXkBrZXlmcmFtZXMgYW5pbWF0aW9uLVxcdysvLCAnJykgKyBcImBcIik7XG4gICAgICAgICAgcmV0dXJuIFwiJHtcIiArIGZha2VWYXJOYW1lICsgXCJ9XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaGVkLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2BrZXlmcmFtZXNgIG91dHB1dCBnb3QgaW50ZXJwb2xhdGVkIGludG8gcGxhaW4gc3RyaW5nLCBwbGVhc2Ugd3JhcCBpdCB3aXRoIGBjc3NgLlxcblxcbicgKyAnSW5zdGVhZCBvZiBkb2luZyB0aGlzOlxcblxcbicgKyBbXS5jb25jYXQobWF0Y2hlZCwgW1wiYFwiICsgcmVwbGFjZWQgKyBcImBcIl0pLmpvaW4oJ1xcbicpICsgJ1xcblxcbllvdSBzaG91bGQgd3JhcCBpdCB3aXRoIGBjc3NgIGxpa2UgdGhpczpcXG5cXG4nICsgKFwiY3NzYFwiICsgcmVwbGFjZWQgKyBcImBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICB9IC8vIGZpbmFsaXplIHN0cmluZyB2YWx1ZXMgKHJlZ3VsYXIgc3RyaW5ncyBhbmQgZnVuY3Rpb25zIGludGVycG9sYXRlZCBpbnRvIGNzcyBjYWxscylcblxuXG4gIGlmIChyZWdpc3RlcmVkID09IG51bGwpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGlvbjtcbiAgfVxuXG4gIHZhciBjYWNoZWQgPSByZWdpc3RlcmVkW2ludGVycG9sYXRpb25dO1xuICByZXR1cm4gY2FjaGVkICE9PSB1bmRlZmluZWQgPyBjYWNoZWQgOiBpbnRlcnBvbGF0aW9uO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdGcm9tT2JqZWN0KG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBvYmopIHtcbiAgdmFyIHN0cmluZyA9ICcnO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyaW5nICs9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIG9ialtpXSkgKyBcIjtcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgX2tleSBpbiBvYmopIHtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtfa2V5XTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWQgIT0gbnVsbCAmJiByZWdpc3RlcmVkW3ZhbHVlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3RyaW5nICs9IF9rZXkgKyBcIntcIiArIHJlZ2lzdGVyZWRbdmFsdWVdICsgXCJ9XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgIHN0cmluZyArPSBwcm9jZXNzU3R5bGVOYW1lKF9rZXkpICsgXCI6XCIgKyBwcm9jZXNzU3R5bGVWYWx1ZShfa2V5LCB2YWx1ZSkgKyBcIjtcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKF9rZXkgPT09ICdOT19DT01QT05FTlRfU0VMRUNUT1InICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBzZWxlY3RvcnMgY2FuIG9ubHkgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIEBlbW90aW9uL2JhYmVsLXBsdWdpbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbMF0gPT09ICdzdHJpbmcnICYmIChyZWdpc3RlcmVkID09IG51bGwgfHwgcmVnaXN0ZXJlZFt2YWx1ZVswXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdmFsdWUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNQcm9jZXNzYWJsZVZhbHVlKHZhbHVlW19pXSkpIHtcbiAgICAgICAgICAgICAgc3RyaW5nICs9IHByb2Nlc3NTdHlsZU5hbWUoX2tleSkgKyBcIjpcIiArIHByb2Nlc3NTdHlsZVZhbHVlKF9rZXksIHZhbHVlW19pXSkgKyBcIjtcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRlZCA9IGhhbmRsZUludGVycG9sYXRpb24obWVyZ2VkUHJvcHMsIHJlZ2lzdGVyZWQsIHZhbHVlKTtcblxuICAgICAgICAgIHN3aXRjaCAoX2tleSkge1xuICAgICAgICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ2FuaW1hdGlvbk5hbWUnOlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHByb2Nlc3NTdHlsZU5hbWUoX2tleSkgKyBcIjpcIiArIGludGVycG9sYXRlZCArIFwiO1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBfa2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihVTkRFRklORURfQVNfT0JKRUNUX0tFWV9FUlJPUik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IF9rZXkgKyBcIntcIiArIGludGVycG9sYXRlZCArIFwifVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZztcbn1cblxudmFyIGxhYmVsUGF0dGVybiA9IC9sYWJlbDpcXHMqKFteXFxzO1xcbntdKylcXHMqKDt8JCkvZztcbnZhciBzb3VyY2VNYXBQYXR0ZXJuO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBzb3VyY2VNYXBQYXR0ZXJuID0gL1xcL1xcKiNcXHNzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb25cXC9qc29uO1xcUytcXHMrXFwqXFwvL2c7XG59IC8vIHRoaXMgaXMgdGhlIGN1cnNvciBmb3Iga2V5ZnJhbWVzXG4vLyBrZXlmcmFtZXMgYXJlIHN0b3JlZCBvbiB0aGUgU2VyaWFsaXplZFN0eWxlcyBvYmplY3QgYXMgYSBsaW5rZWQgbGlzdFxuXG5cbnZhciBjdXJzb3I7XG52YXIgc2VyaWFsaXplU3R5bGVzID0gZnVuY3Rpb24gc2VyaWFsaXplU3R5bGVzKGFyZ3MsIHJlZ2lzdGVyZWQsIG1lcmdlZFByb3BzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCcgJiYgYXJnc1swXSAhPT0gbnVsbCAmJiBhcmdzWzBdLnN0eWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGFyZ3NbMF07XG4gIH1cblxuICB2YXIgc3RyaW5nTW9kZSA9IHRydWU7XG4gIHZhciBzdHlsZXMgPSAnJztcbiAgY3Vyc29yID0gdW5kZWZpbmVkO1xuICB2YXIgc3RyaW5ncyA9IGFyZ3NbMF07XG5cbiAgaWYgKHN0cmluZ3MgPT0gbnVsbCB8fCBzdHJpbmdzLnJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RyaW5nTW9kZSA9IGZhbHNlO1xuICAgIHN0eWxlcyArPSBoYW5kbGVJbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBzdHJpbmdzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdHJpbmdzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgIH1cblxuICAgIHN0eWxlcyArPSBzdHJpbmdzWzBdO1xuICB9IC8vIHdlIHN0YXJ0IGF0IDEgc2luY2Ugd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBmaXJzdCBhcmdcblxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIHN0eWxlcyArPSBoYW5kbGVJbnRlcnBvbGF0aW9uKG1lcmdlZFByb3BzLCByZWdpc3RlcmVkLCBhcmdzW2ldKTtcblxuICAgIGlmIChzdHJpbmdNb2RlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdHJpbmdzW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihJTExFR0FMX0VTQ0FQRV9TRVFVRU5DRV9FUlJPUik7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlcyArPSBzdHJpbmdzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzb3VyY2VNYXA7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBzdHlsZXMgPSBzdHlsZXMucmVwbGFjZShzb3VyY2VNYXBQYXR0ZXJuLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgIHNvdXJjZU1hcCA9IG1hdGNoO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICB9IC8vIHVzaW5nIGEgZ2xvYmFsIHJlZ2V4IHdpdGggLmV4ZWMgaXMgc3RhdGVmdWwgc28gbGFzdEluZGV4IGhhcyB0byBiZSByZXNldCBlYWNoIHRpbWVcblxuXG4gIGxhYmVsUGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICB2YXIgaWRlbnRpZmllck5hbWUgPSAnJztcbiAgdmFyIG1hdGNoOyAvLyBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzViODA5YzJjZjI5NDk4MDBhMGY2MWZiNVxuXG4gIHdoaWxlICgobWF0Y2ggPSBsYWJlbFBhdHRlcm4uZXhlYyhzdHlsZXMpKSAhPT0gbnVsbCkge1xuICAgIGlkZW50aWZpZXJOYW1lICs9ICctJyArIC8vICRGbG93Rml4TWUgd2Uga25vdyBpdCdzIG5vdCBudWxsXG4gICAgbWF0Y2hbMV07XG4gIH1cblxuICB2YXIgbmFtZSA9IGhhc2hTdHJpbmcoc3R5bGVzKSArIGlkZW50aWZpZXJOYW1lO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gJEZsb3dGaXhNZSBTZXJpYWxpemVkU3R5bGVzIHR5cGUgZG9lc24ndCBoYXZlIHRvU3RyaW5nIHByb3BlcnR5IChhbmQgd2UgZG9uJ3Qgd2FudCB0byBhZGQgaXQpXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICAgIG1hcDogc291cmNlTWFwLFxuICAgICAgbmV4dDogY3Vyc29yLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJZb3UgaGF2ZSB0cmllZCB0byBzdHJpbmdpZnkgb2JqZWN0IHJldHVybmVkIGZyb20gYGNzc2AgZnVuY3Rpb24uIEl0IGlzbid0IHN1cHBvc2VkIHRvIGJlIHVzZWQgZGlyZWN0bHkgKGUuZy4gYXMgdmFsdWUgb2YgdGhlIGBjbGFzc05hbWVgIHByb3ApLCBidXQgcmF0aGVyIGhhbmRlZCB0byBlbW90aW9uIHNvIGl0IGNhbiBoYW5kbGUgaXQgKGUuZy4gYXMgdmFsdWUgb2YgYGNzc2AgcHJvcCkuXCI7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICBuZXh0OiBjdXJzb3JcbiAgfTtcbn07XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgZm9yd2FyZFJlZiwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVDYWNoZSBmcm9tICdAZW1vdGlvbi9jYWNoZSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgd2Vha01lbW9pemUgZnJvbSAnQGVtb3Rpb24vd2Vhay1tZW1vaXplJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICcuLi9pc29sYXRlZC1ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy1kby1ub3QtdXNlLXRoaXMtaW4teW91ci1jb2RlL2Rpc3QvZW1vdGlvbi1yZWFjdC1pc29sYXRlZC1ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy1kby1ub3QtdXNlLXRoaXMtaW4teW91ci1jb2RlLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IGdldFJlZ2lzdGVyZWRTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBFbW90aW9uQ2FjaGVDb250ZXh0ID0gLyogI19fUFVSRV9fICovY3JlYXRlQ29udGV4dCggLy8gd2UncmUgZG9pbmcgdGhpcyB0byBhdm9pZCBwcmVjb25zdHJ1Y3QncyBkZWFkIGNvZGUgZWxpbWluYXRpb24gaW4gdGhpcyBvbmUgY2FzZVxuLy8gYmVjYXVzZSB0aGlzIG1vZHVsZSBpcyBwcmltYXJpbHkgaW50ZW5kZWQgZm9yIHRoZSBicm93c2VyIGFuZCBub2RlXG4vLyBidXQgaXQncyBhbHNvIHJlcXVpcmVkIGluIHJlYWN0IG5hdGl2ZSBhbmQgc2ltaWxhciBlbnZpcm9ubWVudHMgc29tZXRpbWVzXG4vLyBhbmQgd2UgY291bGQgaGF2ZSBhIHNwZWNpYWwgYnVpbGQganVzdCBmb3IgdGhhdFxuLy8gYnV0IHRoaXMgaXMgbXVjaCBlYXNpZXIgYW5kIHRoZSBuYXRpdmUgcGFja2FnZXNcbi8vIG1pZ2h0IHVzZSBhIGRpZmZlcmVudCB0aGVtZSBjb250ZXh0IGluIHRoZSBmdXR1cmUgYW55d2F5XG50eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gLyogI19fUFVSRV9fICovY3JlYXRlQ2FjaGUoe1xuICBrZXk6ICdjc3MnXG59KSA6IG51bGwpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBFbW90aW9uQ2FjaGVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25DYWNoZUNvbnRleHQnO1xufVxuXG52YXIgQ2FjaGVQcm92aWRlciA9IEVtb3Rpb25DYWNoZUNvbnRleHQuUHJvdmlkZXI7XG52YXIgX191bnNhZmVfdXNlRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gdXNlRW1vdGlvbkNhY2hlKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChFbW90aW9uQ2FjaGVDb250ZXh0KTtcbn07XG5cbnZhciB3aXRoRW1vdGlvbkNhY2hlID0gZnVuY3Rpb24gd2l0aEVtb3Rpb25DYWNoZShmdW5jKSB7XG4gIC8vICRGbG93Rml4TWVcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgLy8gdGhlIGNhY2hlIHdpbGwgbmV2ZXIgYmUgbnVsbCBpbiB0aGUgYnJvd3NlclxuICAgIHZhciBjYWNoZSA9IHVzZUNvbnRleHQoRW1vdGlvbkNhY2hlQ29udGV4dCk7XG4gICAgcmV0dXJuIGZ1bmMocHJvcHMsIGNhY2hlLCByZWYpO1xuICB9KTtcbn07XG5cbnZhciBUaGVtZUNvbnRleHQgPSAvKiAjX19QVVJFX18gKi9jcmVhdGVDb250ZXh0KHt9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGhlbWVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0Vtb3Rpb25UaGVtZUNvbnRleHQnO1xufVxuXG52YXIgdXNlVGhlbWUgPSBmdW5jdGlvbiB1c2VUaGVtZSgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbn07XG5cbnZhciBnZXRUaGVtZSA9IGZ1bmN0aW9uIGdldFRoZW1lKG91dGVyVGhlbWUsIHRoZW1lKSB7XG4gIGlmICh0eXBlb2YgdGhlbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgbWVyZ2VkVGhlbWUgPSB0aGVtZShvdXRlclRoZW1lKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChtZXJnZWRUaGVtZSA9PSBudWxsIHx8IHR5cGVvZiBtZXJnZWRUaGVtZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShtZXJnZWRUaGVtZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tUaGVtZVByb3ZpZGVyXSBQbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgdGhlbWUgZnVuY3Rpb24sIGkuZS4gdGhlbWU9eygpID0+ICh7fSl9IScpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWRUaGVtZTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICh0aGVtZSA9PSBudWxsIHx8IHR5cGVvZiB0aGVtZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh0aGVtZSkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdbVGhlbWVQcm92aWRlcl0gUGxlYXNlIG1ha2UgeW91ciB0aGVtZSBwcm9wIGEgcGxhaW4gb2JqZWN0Jyk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIG91dGVyVGhlbWUsIHRoZW1lKTtcbn07XG5cbnZhciBjcmVhdGVDYWNoZVdpdGhUaGVtZSA9IC8qICNfX1BVUkVfXyAqL3dlYWtNZW1vaXplKGZ1bmN0aW9uIChvdXRlclRoZW1lKSB7XG4gIHJldHVybiB3ZWFrTWVtb2l6ZShmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gZ2V0VGhlbWUob3V0ZXJUaGVtZSwgdGhlbWUpO1xuICB9KTtcbn0pO1xudmFyIFRoZW1lUHJvdmlkZXIgPSBmdW5jdGlvbiBUaGVtZVByb3ZpZGVyKHByb3BzKSB7XG4gIHZhciB0aGVtZSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcblxuICBpZiAocHJvcHMudGhlbWUgIT09IHRoZW1lKSB7XG4gICAgdGhlbWUgPSBjcmVhdGVDYWNoZVdpdGhUaGVtZSh0aGVtZSkocHJvcHMudGhlbWUpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KFRoZW1lQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB0aGVtZVxuICB9LCBwcm9wcy5jaGlsZHJlbik7XG59O1xuZnVuY3Rpb24gd2l0aFRoZW1lKENvbXBvbmVudCkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICB2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHByb3BzLCByZWYpIHtcbiAgICB2YXIgdGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgcmVmOiByZWZcbiAgICB9LCBwcm9wcykpO1xuICB9OyAvLyAkRmxvd0ZpeE1lXG5cblxuICB2YXIgV2l0aFRoZW1lID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYocmVuZGVyKTtcbiAgV2l0aFRoZW1lLmRpc3BsYXlOYW1lID0gXCJXaXRoVGhlbWUoXCIgKyBjb21wb25lbnROYW1lICsgXCIpXCI7XG4gIHJldHVybiBob2lzdE5vblJlYWN0U3RhdGljcyhXaXRoVGhlbWUsIENvbXBvbmVudCk7XG59XG5cbi8vIHRodXMgd2Ugb25seSBuZWVkIHRvIHJlcGxhY2Ugd2hhdCBpcyBhIHZhbGlkIGNoYXJhY3RlciBmb3IgSlMsIGJ1dCBub3QgZm9yIENTU1xuXG52YXIgc2FuaXRpemVJZGVudGlmaWVyID0gZnVuY3Rpb24gc2FuaXRpemVJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGlkZW50aWZpZXIucmVwbGFjZSgvXFwkL2csICctJyk7XG59O1xuXG52YXIgdHlwZVByb3BOYW1lID0gJ19fRU1PVElPTl9UWVBFX1BMRUFTRV9ET19OT1RfVVNFX18nO1xudmFyIGxhYmVsUHJvcE5hbWUgPSAnX19FTU9USU9OX0xBQkVMX1BMRUFTRV9ET19OT1RfVVNFX18nO1xudmFyIGNyZWF0ZUVtb3Rpb25Qcm9wcyA9IGZ1bmN0aW9uIGNyZWF0ZUVtb3Rpb25Qcm9wcyh0eXBlLCBwcm9wcykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgcHJvcHMuY3NzID09PSAnc3RyaW5nJyAmJiAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGNzcyBkZWNsYXJhdGlvblxuICBwcm9wcy5jc3MuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmluZ3MgYXJlIG5vdCBhbGxvd2VkIGFzIGNzcyBwcm9wIHZhbHVlcywgcGxlYXNlIHdyYXAgaXQgaW4gYSBjc3MgdGVtcGxhdGUgbGl0ZXJhbCBmcm9tICdAZW1vdGlvbi9yZWFjdCcgbGlrZSB0aGlzOiBjc3NgXCIgKyBwcm9wcy5jc3MgKyBcImBcIik7XG4gIH1cblxuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywga2V5KSkge1xuICAgICAgbmV3UHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICB9XG5cbiAgbmV3UHJvcHNbdHlwZVByb3BOYW1lXSA9IHR5cGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcblxuICAgIGlmIChlcnJvci5zdGFjaykge1xuICAgICAgLy8gY2hyb21lXG4gICAgICB2YXIgbWF0Y2ggPSBlcnJvci5zdGFjay5tYXRjaCgvYXQgKD86T2JqZWN0XFwufE1vZHVsZVxcLnwpKD86anN4fGNyZWF0ZUVtb3Rpb25Qcm9wcykuKlxcblxccythdCAoPzpPYmplY3RcXC58KShbQS1aXVtBLVphLXowLTkkXSspIC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIC8vIHNhZmFyaSBhbmQgZmlyZWZveFxuICAgICAgICBtYXRjaCA9IGVycm9yLnN0YWNrLm1hdGNoKC8uKlxcbihbQS1aXVtBLVphLXowLTkkXSspQC8pO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbmV3UHJvcHNbbGFiZWxQcm9wTmFtZV0gPSBzYW5pdGl6ZUlkZW50aWZpZXIobWF0Y2hbMV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdQcm9wcztcbn07XG52YXIgRW1vdGlvbiA9IC8qICNfX1BVUkVfXyAqL3dpdGhFbW90aW9uQ2FjaGUoZnVuY3Rpb24gKHByb3BzLCBjYWNoZSwgcmVmKSB7XG4gIHZhciBjc3NQcm9wID0gcHJvcHMuY3NzOyAvLyBzbyB0aGF0IHVzaW5nIGBjc3NgIGZyb20gYGVtb3Rpb25gIGFuZCBwYXNzaW5nIHRoZSByZXN1bHQgdG8gdGhlIGNzcyBwcm9wIHdvcmtzXG4gIC8vIG5vdCBwYXNzaW5nIHRoZSByZWdpc3RlcmVkIGNhY2hlIHRvIHNlcmlhbGl6ZVN0eWxlcyBiZWNhdXNlIGl0IHdvdWxkXG4gIC8vIG1ha2UgY2VydGFpbiBiYWJlbCBvcHRpbWlzYXRpb25zIG5vdCBwb3NzaWJsZVxuXG4gIGlmICh0eXBlb2YgY3NzUHJvcCA9PT0gJ3N0cmluZycgJiYgY2FjaGUucmVnaXN0ZXJlZFtjc3NQcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY3NzUHJvcCA9IGNhY2hlLnJlZ2lzdGVyZWRbY3NzUHJvcF07XG4gIH1cblxuICB2YXIgdHlwZSA9IHByb3BzW3R5cGVQcm9wTmFtZV07XG4gIHZhciByZWdpc3RlcmVkU3R5bGVzID0gW2Nzc1Byb3BdO1xuICB2YXIgY2xhc3NOYW1lID0gJyc7XG5cbiAgaWYgKHR5cGVvZiBwcm9wcy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgY2xhc3NOYW1lID0gZ2V0UmVnaXN0ZXJlZFN0eWxlcyhjYWNoZS5yZWdpc3RlcmVkLCByZWdpc3RlcmVkU3R5bGVzLCBwcm9wcy5jbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKHByb3BzLmNsYXNzTmFtZSAhPSBudWxsKSB7XG4gICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lICsgXCIgXCI7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhyZWdpc3RlcmVkU3R5bGVzLCB1bmRlZmluZWQsIHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2VyaWFsaXplZC5uYW1lLmluZGV4T2YoJy0nKSA9PT0gLTEpIHtcbiAgICB2YXIgbGFiZWxGcm9tU3RhY2sgPSBwcm9wc1tsYWJlbFByb3BOYW1lXTtcblxuICAgIGlmIChsYWJlbEZyb21TdGFjaykge1xuICAgICAgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhbc2VyaWFsaXplZCwgJ2xhYmVsOicgKyBsYWJlbEZyb21TdGFjayArICc7J10pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBydWxlcyA9IGluc2VydFN0eWxlcyhjYWNoZSwgc2VyaWFsaXplZCwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKTtcbiAgY2xhc3NOYW1lICs9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywga2V5KSAmJiBrZXkgIT09ICdjc3MnICYmIGtleSAhPT0gdHlwZVByb3BOYW1lICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nIHx8IGtleSAhPT0gbGFiZWxQcm9wTmFtZSkpIHtcbiAgICAgIG5ld1Byb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIG5ld1Byb3BzLnJlZiA9IHJlZjtcbiAgbmV3UHJvcHMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB2YXIgZWxlID0gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQodHlwZSwgbmV3UHJvcHMpO1xuXG4gIHJldHVybiBlbGU7XG59KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgRW1vdGlvbi5kaXNwbGF5TmFtZSA9ICdFbW90aW9uQ3NzUHJvcEludGVybmFsJztcbn1cblxuZXhwb3J0IHsgQ2FjaGVQcm92aWRlciBhcyBDLCBFbW90aW9uIGFzIEUsIFRoZW1lQ29udGV4dCBhcyBULCBfX3Vuc2FmZV91c2VFbW90aW9uQ2FjaGUgYXMgXywgVGhlbWVQcm92aWRlciBhcyBhLCB3aXRoVGhlbWUgYXMgYiwgY3JlYXRlRW1vdGlvblByb3BzIGFzIGMsIGhhc093blByb3BlcnR5IGFzIGgsIHVzZVRoZW1lIGFzIHUsIHdpdGhFbW90aW9uQ2FjaGUgYXMgdyB9O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBpc1Byb3BWYWxpZCBmcm9tICdAZW1vdGlvbi9pcy1wcm9wLXZhbGlkJztcbmltcG9ydCB7IHdpdGhFbW90aW9uQ2FjaGUsIFRoZW1lQ29udGV4dCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IGdldFJlZ2lzdGVyZWRTdHlsZXMsIGluc2VydFN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVN0eWxlcyB9IGZyb20gJ0BlbW90aW9uL3NlcmlhbGl6ZSc7XG5cbnZhciB0ZXN0T21pdFByb3BzT25TdHJpbmdUYWcgPSBpc1Byb3BWYWxpZDtcblxudmFyIHRlc3RPbWl0UHJvcHNPbkNvbXBvbmVudCA9IGZ1bmN0aW9uIHRlc3RPbWl0UHJvcHNPbkNvbXBvbmVudChrZXkpIHtcbiAgcmV0dXJuIGtleSAhPT0gJ3RoZW1lJztcbn07XG5cbnZhciBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AgPSBmdW5jdGlvbiBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AodGFnKSB7XG4gIHJldHVybiB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyAmJiAvLyA5NiBpcyBvbmUgbGVzcyB0aGFuIHRoZSBjaGFyIGNvZGVcbiAgLy8gZm9yIFwiYVwiIHNvIHRoaXMgaXMgY2hlY2tpbmcgdGhhdFxuICAvLyBpdCdzIGEgbG93ZXJjYXNlIGNoYXJhY3RlclxuICB0YWcuY2hhckNvZGVBdCgwKSA+IDk2ID8gdGVzdE9taXRQcm9wc09uU3RyaW5nVGFnIDogdGVzdE9taXRQcm9wc09uQ29tcG9uZW50O1xufTtcbnZhciBjb21wb3NlU2hvdWxkRm9yd2FyZFByb3BzID0gZnVuY3Rpb24gY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyh0YWcsIG9wdGlvbnMsIGlzUmVhbCkge1xuICB2YXIgc2hvdWxkRm9yd2FyZFByb3A7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wID0gb3B0aW9ucy5zaG91bGRGb3J3YXJkUHJvcDtcbiAgICBzaG91bGRGb3J3YXJkUHJvcCA9IHRhZy5fX2Vtb3Rpb25fZm9yd2FyZFByb3AgJiYgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wID8gZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICByZXR1cm4gdGFnLl9fZW1vdGlvbl9mb3J3YXJkUHJvcChwcm9wTmFtZSkgJiYgb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wKHByb3BOYW1lKTtcbiAgICB9IDogb3B0aW9uc1Nob3VsZEZvcndhcmRQcm9wO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzaG91bGRGb3J3YXJkUHJvcCAhPT0gJ2Z1bmN0aW9uJyAmJiBpc1JlYWwpIHtcbiAgICBzaG91bGRGb3J3YXJkUHJvcCA9IHRhZy5fX2Vtb3Rpb25fZm9yd2FyZFByb3A7XG4gIH1cblxuICByZXR1cm4gc2hvdWxkRm9yd2FyZFByb3A7XG59O1xuXG52YXIgSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IgPSBcIllvdSBoYXZlIGlsbGVnYWwgZXNjYXBlIHNlcXVlbmNlIGluIHlvdXIgdGVtcGxhdGUgbGl0ZXJhbCwgbW9zdCBsaWtlbHkgaW5zaWRlIGNvbnRlbnQncyBwcm9wZXJ0eSB2YWx1ZS5cXG5CZWNhdXNlIHlvdSB3cml0ZSB5b3VyIENTUyBpbnNpZGUgYSBKYXZhU2NyaXB0IHN0cmluZyB5b3UgYWN0dWFsbHkgaGF2ZSB0byBkbyBkb3VibGUgZXNjYXBpbmcsIHNvIGZvciBleGFtcGxlIFxcXCJjb250ZW50OiAnXFxcXDAwZDcnO1xcXCIgc2hvdWxkIGJlY29tZSBcXFwiY29udGVudDogJ1xcXFxcXFxcMDBkNyc7XFxcIi5cXG5Zb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGlzIGhlcmU6XFxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvVGVtcGxhdGVfbGl0ZXJhbHMjRVMyMDE4X3JldmlzaW9uX29mX2lsbGVnYWxfZXNjYXBlX3NlcXVlbmNlc1wiO1xuXG52YXIgY3JlYXRlU3R5bGVkID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVkKHRhZywgb3B0aW9ucykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHRyeWluZyB0byBjcmVhdGUgYSBzdHlsZWQgZWxlbWVudCB3aXRoIGFuIHVuZGVmaW5lZCBjb21wb25lbnQuXFxuWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBpbXBvcnQgaXQuJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzUmVhbCA9IHRhZy5fX2Vtb3Rpb25fcmVhbCA9PT0gdGFnO1xuICB2YXIgYmFzZVRhZyA9IGlzUmVhbCAmJiB0YWcuX19lbW90aW9uX2Jhc2UgfHwgdGFnO1xuICB2YXIgaWRlbnRpZmllck5hbWU7XG4gIHZhciB0YXJnZXRDbGFzc05hbWU7XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlkZW50aWZpZXJOYW1lID0gb3B0aW9ucy5sYWJlbDtcbiAgICB0YXJnZXRDbGFzc05hbWUgPSBvcHRpb25zLnRhcmdldDtcbiAgfVxuXG4gIHZhciBzaG91bGRGb3J3YXJkUHJvcCA9IGNvbXBvc2VTaG91bGRGb3J3YXJkUHJvcHModGFnLCBvcHRpb25zLCBpc1JlYWwpO1xuICB2YXIgZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3AgfHwgZ2V0RGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKGJhc2VUYWcpO1xuICB2YXIgc2hvdWxkVXNlQXMgPSAhZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wKCdhcycpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzdHlsZXMgPSBpc1JlYWwgJiYgdGFnLl9fZW1vdGlvbl9zdHlsZXMgIT09IHVuZGVmaW5lZCA/IHRhZy5fX2Vtb3Rpb25fc3R5bGVzLnNsaWNlKDApIDogW107XG5cbiAgICBpZiAoaWRlbnRpZmllck5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVzLnB1c2goXCJsYWJlbDpcIiArIGlkZW50aWZpZXJOYW1lICsgXCI7XCIpO1xuICAgIH1cblxuICAgIGlmIChhcmdzWzBdID09IG51bGwgfHwgYXJnc1swXS5yYXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVzLnB1c2guYXBwbHkoc3R5bGVzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgYXJnc1swXVswXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSUxMRUdBTF9FU0NBUEVfU0VRVUVOQ0VfRVJST1IpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXMucHVzaChhcmdzWzBdWzBdKTtcbiAgICAgIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgICAgIHZhciBpID0gMTtcblxuICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBhcmdzWzBdW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKElMTEVHQUxfRVNDQVBFX1NFUVVFTkNFX0VSUk9SKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlcy5wdXNoKGFyZ3NbaV0sIGFyZ3NbMF1baV0pO1xuICAgICAgfVxuICAgIH0gLy8gJEZsb3dGaXhNZTogd2UgbmVlZCB0byBjYXN0IFN0YXRlbGVzc0Z1bmN0aW9uYWxDb21wb25lbnQgdG8gb3VyIFByaXZhdGVTdHlsZWRDb21wb25lbnQgY2xhc3NcblxuXG4gICAgdmFyIFN0eWxlZCA9IHdpdGhFbW90aW9uQ2FjaGUoZnVuY3Rpb24gKHByb3BzLCBjYWNoZSwgcmVmKSB7XG4gICAgICB2YXIgZmluYWxUYWcgPSBzaG91bGRVc2VBcyAmJiBwcm9wcy5hcyB8fCBiYXNlVGFnO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICcnO1xuICAgICAgdmFyIGNsYXNzSW50ZXJwb2xhdGlvbnMgPSBbXTtcbiAgICAgIHZhciBtZXJnZWRQcm9wcyA9IHByb3BzO1xuXG4gICAgICBpZiAocHJvcHMudGhlbWUgPT0gbnVsbCkge1xuICAgICAgICBtZXJnZWRQcm9wcyA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIG1lcmdlZFByb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVyZ2VkUHJvcHMudGhlbWUgPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICBjbGFzc05hbWUgPSBnZXRSZWdpc3RlcmVkU3R5bGVzKGNhY2hlLnJlZ2lzdGVyZWQsIGNsYXNzSW50ZXJwb2xhdGlvbnMsIHByb3BzLmNsYXNzTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmNsYXNzTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSArIFwiIFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZVN0eWxlcyhzdHlsZXMuY29uY2F0KGNsYXNzSW50ZXJwb2xhdGlvbnMpLCBjYWNoZS5yZWdpc3RlcmVkLCBtZXJnZWRQcm9wcyk7XG4gICAgICB2YXIgcnVsZXMgPSBpbnNlcnRTdHlsZXMoY2FjaGUsIHNlcmlhbGl6ZWQsIHR5cGVvZiBmaW5hbFRhZyA9PT0gJ3N0cmluZycpO1xuICAgICAgY2xhc3NOYW1lICs9IGNhY2hlLmtleSArIFwiLVwiICsgc2VyaWFsaXplZC5uYW1lO1xuXG4gICAgICBpZiAodGFyZ2V0Q2xhc3NOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IFwiIFwiICsgdGFyZ2V0Q2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmluYWxTaG91bGRGb3J3YXJkUHJvcCA9IHNob3VsZFVzZUFzICYmIHNob3VsZEZvcndhcmRQcm9wID09PSB1bmRlZmluZWQgPyBnZXREZWZhdWx0U2hvdWxkRm9yd2FyZFByb3AoZmluYWxUYWcpIDogZGVmYXVsdFNob3VsZEZvcndhcmRQcm9wO1xuICAgICAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKHNob3VsZFVzZUFzICYmIF9rZXkgPT09ICdhcycpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmICggLy8gJEZsb3dGaXhNZVxuICAgICAgICBmaW5hbFNob3VsZEZvcndhcmRQcm9wKF9rZXkpKSB7XG4gICAgICAgICAgbmV3UHJvcHNbX2tleV0gPSBwcm9wc1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdQcm9wcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICBuZXdQcm9wcy5yZWYgPSByZWY7XG4gICAgICB2YXIgZWxlID0gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoZmluYWxUYWcsIG5ld1Byb3BzKTtcblxuICAgICAgcmV0dXJuIGVsZTtcbiAgICB9KTtcbiAgICBTdHlsZWQuZGlzcGxheU5hbWUgPSBpZGVudGlmaWVyTmFtZSAhPT0gdW5kZWZpbmVkID8gaWRlbnRpZmllck5hbWUgOiBcIlN0eWxlZChcIiArICh0eXBlb2YgYmFzZVRhZyA9PT0gJ3N0cmluZycgPyBiYXNlVGFnIDogYmFzZVRhZy5kaXNwbGF5TmFtZSB8fCBiYXNlVGFnLm5hbWUgfHwgJ0NvbXBvbmVudCcpICsgXCIpXCI7XG4gICAgU3R5bGVkLmRlZmF1bHRQcm9wcyA9IHRhZy5kZWZhdWx0UHJvcHM7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9yZWFsID0gU3R5bGVkO1xuICAgIFN0eWxlZC5fX2Vtb3Rpb25fYmFzZSA9IGJhc2VUYWc7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9zdHlsZXMgPSBzdHlsZXM7XG4gICAgU3R5bGVkLl9fZW1vdGlvbl9mb3J3YXJkUHJvcCA9IHNob3VsZEZvcndhcmRQcm9wO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHlsZWQsICd0b1N0cmluZycsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgaWYgKHRhcmdldENsYXNzTmFtZSA9PT0gdW5kZWZpbmVkICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gJ05PX0NPTVBPTkVOVF9TRUxFQ1RPUic7XG4gICAgICAgIH0gLy8gJEZsb3dGaXhNZTogY29lcmNlIHVuZGVmaW5lZCB0byBzdHJpbmdcblxuXG4gICAgICAgIHJldHVybiBcIi5cIiArIHRhcmdldENsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFN0eWxlZC53aXRoQ29tcG9uZW50ID0gZnVuY3Rpb24gKG5leHRUYWcsIG5leHRPcHRpb25zKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU3R5bGVkKG5leHRUYWcsIF9leHRlbmRzKHt9LCBvcHRpb25zLCBuZXh0T3B0aW9ucywge1xuICAgICAgICBzaG91bGRGb3J3YXJkUHJvcDogY29tcG9zZVNob3VsZEZvcndhcmRQcm9wcyhTdHlsZWQsIG5leHRPcHRpb25zLCB0cnVlKVxuICAgICAgfSkpLmFwcGx5KHZvaWQgMCwgc3R5bGVzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0eWxlZDtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0eWxlZDtcbiIsImltcG9ydCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCAncmVhY3QnO1xuaW1wb3J0ICdAZW1vdGlvbi9pcy1wcm9wLXZhbGlkJztcbmltcG9ydCBjcmVhdGVTdHlsZWQgZnJvbSAnLi4vYmFzZS9kaXN0L2Vtb3Rpb24tc3R5bGVkLWJhc2UuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgJ0BlbW90aW9uL3V0aWxzJztcbmltcG9ydCAnQGVtb3Rpb24vc2VyaWFsaXplJztcblxudmFyIHRhZ3MgPSBbJ2EnLCAnYWJicicsICdhZGRyZXNzJywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdhdWRpbycsICdiJywgJ2Jhc2UnLCAnYmRpJywgJ2JkbycsICdiaWcnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYW52YXMnLCAnY2FwdGlvbicsICdjaXRlJywgJ2NvZGUnLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RhdGEnLCAnZGF0YWxpc3QnLCAnZGQnLCAnZGVsJywgJ2RldGFpbHMnLCAnZGZuJywgJ2RpYWxvZycsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW0nLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaScsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lucycsICdrYmQnLCAna2V5Z2VuJywgJ2xhYmVsJywgJ2xlZ2VuZCcsICdsaScsICdsaW5rJywgJ21haW4nLCAnbWFwJywgJ21hcmsnLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbWV0ZXInLCAnbmF2JywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdvcHRncm91cCcsICdvcHRpb24nLCAnb3V0cHV0JywgJ3AnLCAncGFyYW0nLCAncGljdHVyZScsICdwcmUnLCAncHJvZ3Jlc3MnLCAncScsICdycCcsICdydCcsICdydWJ5JywgJ3MnLCAnc2FtcCcsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc21hbGwnLCAnc291cmNlJywgJ3NwYW4nLCAnc3Ryb25nJywgJ3N0eWxlJywgJ3N1YicsICdzdW1tYXJ5JywgJ3N1cCcsICd0YWJsZScsICd0Ym9keScsICd0ZCcsICd0ZXh0YXJlYScsICd0Zm9vdCcsICd0aCcsICd0aGVhZCcsICd0aW1lJywgJ3RpdGxlJywgJ3RyJywgJ3RyYWNrJywgJ3UnLCAndWwnLCAndmFyJywgJ3ZpZGVvJywgJ3dicicsIC8vIFNWR1xuJ2NpcmNsZScsICdjbGlwUGF0aCcsICdkZWZzJywgJ2VsbGlwc2UnLCAnZm9yZWlnbk9iamVjdCcsICdnJywgJ2ltYWdlJywgJ2xpbmUnLCAnbGluZWFyR3JhZGllbnQnLCAnbWFzaycsICdwYXRoJywgJ3BhdHRlcm4nLCAncG9seWdvbicsICdwb2x5bGluZScsICdyYWRpYWxHcmFkaWVudCcsICdyZWN0JywgJ3N0b3AnLCAnc3ZnJywgJ3RleHQnLCAndHNwYW4nXTtcblxudmFyIG5ld1N0eWxlZCA9IGNyZWF0ZVN0eWxlZC5iaW5kKCk7XG50YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgLy8gJEZsb3dGaXhNZTogd2UgY2FuIGlnbm9yZSB0aGlzIGJlY2F1c2UgaXRzIGV4cG9zZWQgdHlwZSBpcyBkZWZpbmVkIGJ5IHRoZSBDcmVhdGVTdHlsZWQgdHlwZVxuICBuZXdTdHlsZWRbdGFnTmFtZV0gPSBuZXdTdHlsZWQodGFnTmFtZSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbmV3U3R5bGVkO1xuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNy4wLjJcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0JztyZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKTt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksZz02MDEwMztleHBvcnRzLkZyYWdtZW50PTYwMTA3O2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Ipe3ZhciBoPVN5bWJvbC5mb3I7Zz1oKFwicmVhY3QuZWxlbWVudFwiKTtleHBvcnRzLkZyYWdtZW50PWgoXCJyZWFjdC5mcmFnbWVudFwiKX12YXIgbT1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBxKGMsYSxrKXt2YXIgYixkPXt9LGU9bnVsbCxsPW51bGw7dm9pZCAwIT09ayYmKGU9XCJcIitrKTt2b2lkIDAhPT1hLmtleSYmKGU9XCJcIithLmtleSk7dm9pZCAwIT09YS5yZWYmJihsPWEucmVmKTtmb3IoYiBpbiBhKW4uY2FsbChhLGIpJiYhcC5oYXNPd25Qcm9wZXJ0eShiKSYmKGRbYl09YVtiXSk7aWYoYyYmYy5kZWZhdWx0UHJvcHMpZm9yKGIgaW4gYT1jLmRlZmF1bHRQcm9wcyxhKXZvaWQgMD09PWRbYl0mJihkW2JdPWFbYl0pO3JldHVybnskJHR5cGVvZjpnLHR5cGU6YyxrZXk6ZSxyZWY6bCxwcm9wczpkLF9vd25lcjptLmN1cnJlbnR9fWV4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKiBAbGljZW5zZSBNVUkgdjUuMC4xXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmltcG9ydCBlbVN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3R5bGVkKHRhZywgb3B0aW9ucykge1xuICBjb25zdCBzdHlsZXNGYWN0b3J5ID0gZW1TdHlsZWQodGFnLCBvcHRpb25zKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiAoLi4uc3R5bGVzKSA9PiB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyA/IGBcIiR7dGFnfVwiYCA6ICdjb21wb25lbnQnO1xuXG4gICAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBTZWVtcyBsaWtlIHlvdSBjYWxsZWQgXFxgc3R5bGVkKCR7Y29tcG9uZW50fSkoKVxcYCB3aXRob3V0IGEgXFxgc3R5bGVcXGAgYXJndW1lbnQuYCwgJ1lvdSBtdXN0IHByb3ZpZGUgYSBgc3R5bGVzYCBhcmd1bWVudDogYHN0eWxlZChcImRpdlwiKShzdHlsZVlvdUZvcmdvdFRvUGFzcylgLiddLmpvaW4oJ1xcbicpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3R5bGVzLnNvbWUoc3R5bGUgPT4gc3R5bGUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiB0aGUgc3R5bGVkKCR7Y29tcG9uZW50fSkoLi4uYXJncykgQVBJIHJlcXVpcmVzIGFsbCBpdHMgYXJncyB0byBiZSBkZWZpbmVkLmApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGVzRmFjdG9yeSguLi5zdHlsZXMpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gc3R5bGVzRmFjdG9yeTtcbn1cbmV4cG9ydCB7IFRoZW1lQ29udGV4dCwga2V5ZnJhbWVzLCBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFN0eWxlZEVuZ2luZVByb3ZpZGVyIH0gZnJvbSAnLi9TdHlsZWRFbmdpbmVQcm92aWRlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbFN0eWxlcyB9IGZyb20gJy4vR2xvYmFsU3R5bGVzJzsiLCJpbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbXVpL3V0aWxzJztcblxuZnVuY3Rpb24gbWVyZ2UoYWNjLCBpdGVtKSB7XG4gIGlmICghaXRlbSkge1xuICAgIHJldHVybiBhY2M7XG4gIH1cblxuICByZXR1cm4gZGVlcG1lcmdlKGFjYywgaXRlbSwge1xuICAgIGNsb25lOiBmYWxzZSAvLyBObyBuZWVkIHRvIGNsb25lIGRlZXAsIGl0J3Mgd2F5IGZhc3Rlci5cblxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVyZ2U7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7IC8vIFRoZSBicmVha3BvaW50ICoqc3RhcnQqKiBhdCB0aGlzIHZhbHVlLlxuLy8gRm9yIGluc3RhbmNlIHdpdGggdGhlIGZpcnN0IGJyZWFrcG9pbnQgeHM6IFt4cywgc21bLlxuXG5leHBvcnQgY29uc3QgdmFsdWVzID0ge1xuICB4czogMCxcbiAgLy8gcGhvbmVcbiAgc206IDYwMCxcbiAgLy8gdGFibGV0c1xuICBtZDogOTAwLFxuICAvLyBzbWFsbCBsYXB0b3BcbiAgbGc6IDEyMDAsXG4gIC8vIGRlc2t0b3BcbiAgeGw6IDE1MzYgLy8gbGFyZ2Ugc2NyZWVuc1xuXG59O1xuY29uc3QgZGVmYXVsdEJyZWFrcG9pbnRzID0ge1xuICAvLyBTb3J0ZWQgQVNDIGJ5IHNpemUuIFRoYXQncyBpbXBvcnRhbnQuXG4gIC8vIEl0IGNhbid0IGJlIGNvbmZpZ3VyZWQgYXMgaXQncyB1c2VkIHN0YXRpY2FsbHkgZm9yIHByb3BUeXBlcy5cbiAga2V5czogWyd4cycsICdzbScsICdtZCcsICdsZycsICd4bCddLFxuICB1cDoga2V5ID0+IGBAbWVkaWEgKG1pbi13aWR0aDoke3ZhbHVlc1trZXldfXB4KWBcbn07XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BWYWx1ZSwgc3R5bGVGcm9tUHJvcFZhbHVlKSB7XG4gIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgfHwge307XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgIGNvbnN0IHRoZW1lQnJlYWtwb2ludHMgPSB0aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgcmV0dXJuIHByb3BWYWx1ZS5yZWR1Y2UoKGFjYywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGFjY1t0aGVtZUJyZWFrcG9pbnRzLnVwKHRoZW1lQnJlYWtwb2ludHMua2V5c1tpbmRleF0pXSA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWVbaW5kZXhdKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgdGhlbWVCcmVha3BvaW50cyA9IHRoZW1lLmJyZWFrcG9pbnRzIHx8IGRlZmF1bHRCcmVha3BvaW50cztcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcFZhbHVlKS5yZWR1Y2UoKGFjYywgYnJlYWtwb2ludCkgPT4ge1xuICAgICAgLy8ga2V5IGlzIGJyZWFrcG9pbnRcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGVtZUJyZWFrcG9pbnRzLnZhbHVlcyB8fCB2YWx1ZXMpLmluZGV4T2YoYnJlYWtwb2ludCkgIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IG1lZGlhS2V5ID0gdGhlbWVCcmVha3BvaW50cy51cChicmVha3BvaW50KTtcbiAgICAgICAgYWNjW21lZGlhS2V5XSA9IHN0eWxlRnJvbVByb3BWYWx1ZShwcm9wVmFsdWVbYnJlYWtwb2ludF0sIGJyZWFrcG9pbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3NzS2V5ID0gYnJlYWtwb2ludDtcbiAgICAgICAgYWNjW2Nzc0tleV0gPSBwcm9wVmFsdWVbY3NzS2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cblxuICBjb25zdCBvdXRwdXQgPSBzdHlsZUZyb21Qcm9wVmFsdWUocHJvcFZhbHVlKTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gYnJlYWtwb2ludHMoc3R5bGVGdW5jdGlvbikge1xuICBjb25zdCBuZXdTdHlsZUZ1bmN0aW9uID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IHRoZW1lID0gcHJvcHMudGhlbWUgfHwge307XG4gICAgY29uc3QgYmFzZSA9IHN0eWxlRnVuY3Rpb24ocHJvcHMpO1xuICAgIGNvbnN0IHRoZW1lQnJlYWtwb2ludHMgPSB0aGVtZS5icmVha3BvaW50cyB8fCBkZWZhdWx0QnJlYWtwb2ludHM7XG4gICAgY29uc3QgZXh0ZW5kZWQgPSB0aGVtZUJyZWFrcG9pbnRzLmtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgaWYgKHByb3BzW2tleV0pIHtcbiAgICAgICAgYWNjID0gYWNjIHx8IHt9O1xuICAgICAgICBhY2NbdGhlbWVCcmVha3BvaW50cy51cChrZXkpXSA9IHN0eWxlRnVuY3Rpb24oX2V4dGVuZHMoe1xuICAgICAgICAgIHRoZW1lXG4gICAgICAgIH0sIHByb3BzW2tleV0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBudWxsKTtcbiAgICByZXR1cm4gbWVyZ2UoYmFzZSwgZXh0ZW5kZWQpO1xuICB9O1xuXG4gIG5ld1N0eWxlRnVuY3Rpb24ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9leHRlbmRzKHt9LCBzdHlsZUZ1bmN0aW9uLnByb3BUeXBlcywge1xuICAgIHhzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHNtOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG1kOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGxnOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHhsOiBQcm9wVHlwZXMub2JqZWN0XG4gIH0pIDoge307XG4gIG5ld1N0eWxlRnVuY3Rpb24uZmlsdGVyUHJvcHMgPSBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJywgLi4uc3R5bGVGdW5jdGlvbi5maWx0ZXJQcm9wc107XG4gIHJldHVybiBuZXdTdHlsZUZ1bmN0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHlCcmVha3BvaW50T2JqZWN0KGJyZWFrcG9pbnRzSW5wdXQgPSB7fSkge1xuICB2YXIgX2JyZWFrcG9pbnRzSW5wdXQka2V5O1xuXG4gIGNvbnN0IGJyZWFrcG9pbnRzSW5PcmRlciA9IGJyZWFrcG9pbnRzSW5wdXQgPT0gbnVsbCA/IHZvaWQgMCA6IChfYnJlYWtwb2ludHNJbnB1dCRrZXkgPSBicmVha3BvaW50c0lucHV0LmtleXMpID09IG51bGwgPyB2b2lkIDAgOiBfYnJlYWtwb2ludHNJbnB1dCRrZXkucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGNvbnN0IGJyZWFrcG9pbnRTdHlsZUtleSA9IGJyZWFrcG9pbnRzSW5wdXQudXAoa2V5KTtcbiAgICBhY2NbYnJlYWtwb2ludFN0eWxlS2V5XSA9IHt9O1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRzSW5PcmRlciB8fCB7fTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVbnVzZWRCcmVha3BvaW50cyhicmVha3BvaW50S2V5cywgc3R5bGUpIHtcbiAgcmV0dXJuIGJyZWFrcG9pbnRLZXlzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICBjb25zdCBicmVha3BvaW50T3V0cHV0ID0gYWNjW2tleV07XG4gICAgY29uc3QgaXNCcmVha3BvaW50VW51c2VkID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludE91dHB1dCkubGVuZ3RoID09PSAwO1xuXG4gICAgaWYgKGlzQnJlYWtwb2ludFVudXNlZCkge1xuICAgICAgZGVsZXRlIGFjY1trZXldO1xuICAgIH1cblxuICAgIHJldHVybiBhY2M7XG4gIH0sIHN0eWxlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUJyZWFrcG9pbnRzSW5PcmRlcihicmVha3BvaW50c0lucHV0LCAuLi5zdHlsZXMpIHtcbiAgY29uc3QgZW1wdHlCcmVha3BvaW50cyA9IGNyZWF0ZUVtcHR5QnJlYWtwb2ludE9iamVjdChicmVha3BvaW50c0lucHV0KTtcbiAgY29uc3QgbWVyZ2VkT3V0cHV0ID0gW2VtcHR5QnJlYWtwb2ludHMsIC4uLnN0eWxlc10ucmVkdWNlKChwcmV2LCBuZXh0KSA9PiBkZWVwbWVyZ2UocHJldiwgbmV4dCksIHt9KTtcbiAgcmV0dXJuIHJlbW92ZVVudXNlZEJyZWFrcG9pbnRzKE9iamVjdC5rZXlzKGVtcHR5QnJlYWtwb2ludHMpLCBtZXJnZWRPdXRwdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVCcmVha3BvaW50VmFsdWVzKHtcbiAgdmFsdWVzOiBicmVha3BvaW50VmFsdWVzLFxuICBiYXNlXG59KSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhiYXNlKTtcblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYnJlYWtwb2ludFZhbHVlcztcbiAgfVxuXG4gIGxldCBwcmV2aW91cztcbiAgcmV0dXJuIGtleXMucmVkdWNlKChhY2MsIGJyZWFrcG9pbnQpID0+IHtcbiAgICBpZiAodHlwZW9mIGJyZWFrcG9pbnRWYWx1ZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICBhY2NbYnJlYWtwb2ludF0gPSBicmVha3BvaW50VmFsdWVzW2JyZWFrcG9pbnRdICE9IG51bGwgPyBicmVha3BvaW50VmFsdWVzW2JyZWFrcG9pbnRdIDogYnJlYWtwb2ludFZhbHVlc1twcmV2aW91c107XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY1ticmVha3BvaW50XSA9IGJyZWFrcG9pbnRWYWx1ZXM7XG4gICAgfVxuXG4gICAgcHJldmlvdXMgPSBicmVha3BvaW50O1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGJyZWFrcG9pbnRzOyIsImltcG9ydCB7IHVuc3RhYmxlX2NhcGl0YWxpemUgYXMgY2FwaXRhbGl6ZSB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tICcuL3Jlc3BvbnNpdmVQcm9wVHlwZSc7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gJy4vYnJlYWtwb2ludHMnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGgob2JqLCBwYXRoKSB7XG4gIGlmICghcGF0aCB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyAmJiBhY2NbaXRlbV0gPyBhY2NbaXRlbV0gOiBudWxsLCBvYmopO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZSh0aGVtZU1hcHBpbmcsIHRyYW5zZm9ybSwgcHJvcFZhbHVlRmluYWwsIHVzZXJWYWx1ZSA9IHByb3BWYWx1ZUZpbmFsKSB7XG4gIGxldCB2YWx1ZTtcblxuICBpZiAodHlwZW9mIHRoZW1lTWFwcGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbHVlID0gdGhlbWVNYXBwaW5nKHByb3BWYWx1ZUZpbmFsKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoZW1lTWFwcGluZykpIHtcbiAgICB2YWx1ZSA9IHRoZW1lTWFwcGluZ1twcm9wVmFsdWVGaW5hbF0gfHwgdXNlclZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZ2V0UGF0aCh0aGVtZU1hcHBpbmcsIHByb3BWYWx1ZUZpbmFsKSB8fCB1c2VyVmFsdWU7XG4gIH1cblxuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgdmFsdWUgPSB0cmFuc2Zvcm0odmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBzdHlsZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wLFxuICAgIGNzc1Byb3BlcnR5ID0gb3B0aW9ucy5wcm9wLFxuICAgIHRoZW1lS2V5LFxuICAgIHRyYW5zZm9ybVxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBmbiA9IHByb3BzID0+IHtcbiAgICBpZiAocHJvcHNbcHJvcF0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbcHJvcF07XG4gICAgY29uc3QgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgICBjb25zdCB0aGVtZU1hcHBpbmcgPSBnZXRQYXRoKHRoZW1lLCB0aGVtZUtleSkgfHwge307XG5cbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWVGaW5hbCA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBnZXRWYWx1ZSh0aGVtZU1hcHBpbmcsIHRyYW5zZm9ybSwgcHJvcFZhbHVlRmluYWwpO1xuXG4gICAgICBpZiAocHJvcFZhbHVlRmluYWwgPT09IHZhbHVlICYmIHR5cGVvZiBwcm9wVmFsdWVGaW5hbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSGF2ZW4ndCBmb3VuZCB2YWx1ZVxuICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHRoZW1lTWFwcGluZywgdHJhbnNmb3JtLCBgJHtwcm9wfSR7cHJvcFZhbHVlRmluYWwgPT09ICdkZWZhdWx0JyA/ICcnIDogY2FwaXRhbGl6ZShwcm9wVmFsdWVGaW5hbCl9YCwgcHJvcFZhbHVlRmluYWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3NzUHJvcGVydHkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW2Nzc1Byb3BlcnR5XTogdmFsdWVcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcFZhbHVlLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9O1xuXG4gIGZuLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gICAgW3Byb3BdOiByZXNwb25zaXZlUHJvcFR5cGVcbiAgfSA6IHt9O1xuICBmbi5maWx0ZXJQcm9wcyA9IFtwcm9wXTtcbiAgcmV0dXJuIGZuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHlsZTsiLCJpbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7XG5cbmZ1bmN0aW9uIGNvbXBvc2UoLi4uc3R5bGVzKSB7XG4gIGNvbnN0IGhhbmRsZXJzID0gc3R5bGVzLnJlZHVjZSgoYWNjLCBzdHlsZSkgPT4ge1xuICAgIHN0eWxlLmZpbHRlclByb3BzLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBhY2NbcHJvcF0gPSBzdHlsZTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgY29uc3QgZm4gPSBwcm9wcyA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywgcHJvcCkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXJzW3Byb3BdKSB7XG4gICAgICAgIHJldHVybiBtZXJnZShhY2MsIGhhbmRsZXJzW3Byb3BdKHByb3BzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9O1xuXG4gIGZuLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBzdHlsZXMucmVkdWNlKChhY2MsIHN0eWxlKSA9PiBPYmplY3QuYXNzaWduKGFjYywgc3R5bGUucHJvcFR5cGVzKSwge30pIDoge307XG4gIGZuLmZpbHRlclByb3BzID0gc3R5bGVzLnJlZHVjZSgoYWNjLCBzdHlsZSkgPT4gYWNjLmNvbmNhdChzdHlsZS5maWx0ZXJQcm9wcyksIFtdKTtcbiAgcmV0dXJuIGZuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb3NlOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgY29uc3QgY2FjaGUgPSB7fTtcbiAgcmV0dXJuIGFyZyA9PiB7XG4gICAgaWYgKGNhY2hlW2FyZ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGVbYXJnXSA9IGZuKGFyZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlW2FyZ107XG4gIH07XG59IiwiaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tICcuL3Jlc3BvbnNpdmVQcm9wVHlwZSc7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gJy4vYnJlYWtwb2ludHMnO1xuaW1wb3J0IHsgZ2V0UGF0aCB9IGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IG1lcmdlIGZyb20gJy4vbWVyZ2UnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnLi9tZW1vaXplJztcbmNvbnN0IHByb3BlcnRpZXMgPSB7XG4gIG06ICdtYXJnaW4nLFxuICBwOiAncGFkZGluZydcbn07XG5jb25zdCBkaXJlY3Rpb25zID0ge1xuICB0OiAnVG9wJyxcbiAgcjogJ1JpZ2h0JyxcbiAgYjogJ0JvdHRvbScsXG4gIGw6ICdMZWZ0JyxcbiAgeDogWydMZWZ0JywgJ1JpZ2h0J10sXG4gIHk6IFsnVG9wJywgJ0JvdHRvbSddXG59O1xuY29uc3QgYWxpYXNlcyA9IHtcbiAgbWFyZ2luWDogJ214JyxcbiAgbWFyZ2luWTogJ215JyxcbiAgcGFkZGluZ1g6ICdweCcsXG4gIHBhZGRpbmdZOiAncHknXG59OyAvLyBtZW1vaXplKCkgaW1wYWN0OlxuLy8gRnJvbSAzMDAsMDAwIG9wcy9zZWNcbi8vIFRvIDM1MCwwMDAgb3BzL3NlY1xuXG5jb25zdCBnZXRDc3NQcm9wZXJ0aWVzID0gbWVtb2l6ZShwcm9wID0+IHtcbiAgLy8gSXQncyBub3QgYSBzaG9ydGhhbmQgbm90YXRpb24uXG4gIGlmIChwcm9wLmxlbmd0aCA+IDIpIHtcbiAgICBpZiAoYWxpYXNlc1twcm9wXSkge1xuICAgICAgcHJvcCA9IGFsaWFzZXNbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbcHJvcF07XG4gICAgfVxuICB9XG5cbiAgY29uc3QgW2EsIGJdID0gcHJvcC5zcGxpdCgnJyk7XG4gIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1thXTtcbiAgY29uc3QgZGlyZWN0aW9uID0gZGlyZWN0aW9uc1tiXSB8fCAnJztcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGlyZWN0aW9uKSA/IGRpcmVjdGlvbi5tYXAoZGlyID0+IHByb3BlcnR5ICsgZGlyKSA6IFtwcm9wZXJ0eSArIGRpcmVjdGlvbl07XG59KTtcbmNvbnN0IG1hcmdpbktleXMgPSBbJ20nLCAnbXQnLCAnbXInLCAnbWInLCAnbWwnLCAnbXgnLCAnbXknLCAnbWFyZ2luJywgJ21hcmdpblRvcCcsICdtYXJnaW5SaWdodCcsICdtYXJnaW5Cb3R0b20nLCAnbWFyZ2luTGVmdCcsICdtYXJnaW5YJywgJ21hcmdpblknLCAnbWFyZ2luSW5saW5lJywgJ21hcmdpbklubGluZVN0YXJ0JywgJ21hcmdpbklubGluZUVuZCcsICdtYXJnaW5CbG9jaycsICdtYXJnaW5CbG9ja1N0YXJ0JywgJ21hcmdpbkJsb2NrRW5kJ107XG5jb25zdCBwYWRkaW5nS2V5cyA9IFsncCcsICdwdCcsICdwcicsICdwYicsICdwbCcsICdweCcsICdweScsICdwYWRkaW5nJywgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ1JpZ2h0JywgJ3BhZGRpbmdCb3R0b20nLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1gnLCAncGFkZGluZ1knLCAncGFkZGluZ0lubGluZScsICdwYWRkaW5nSW5saW5lU3RhcnQnLCAncGFkZGluZ0lubGluZUVuZCcsICdwYWRkaW5nQmxvY2snLCAncGFkZGluZ0Jsb2NrU3RhcnQnLCAncGFkZGluZ0Jsb2NrRW5kJ107XG5jb25zdCBzcGFjaW5nS2V5cyA9IFsuLi5tYXJnaW5LZXlzLCAuLi5wYWRkaW5nS2V5c107XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hcnlVbml0KHRoZW1lLCB0aGVtZUtleSwgZGVmYXVsdFZhbHVlLCBwcm9wTmFtZSkge1xuICBjb25zdCB0aGVtZVNwYWNpbmcgPSBnZXRQYXRoKHRoZW1lLCB0aGVtZUtleSkgfHwgZGVmYXVsdFZhbHVlO1xuXG4gIGlmICh0eXBlb2YgdGhlbWVTcGFjaW5nID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBhYnMgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhYnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBhYnM7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWJzICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogRXhwZWN0ZWQgJHtwcm9wTmFtZX0gYXJndW1lbnQgdG8gYmUgYSBudW1iZXIgb3IgYSBzdHJpbmcsIGdvdCAke2Fic30uYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoZW1lU3BhY2luZyAqIGFicztcbiAgICB9O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodGhlbWVTcGFjaW5nKSkge1xuICAgIHJldHVybiBhYnMgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhYnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBhYnM7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhYnMpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIFxcYHRoZW1lLiR7dGhlbWVLZXl9XFxgIGFycmF5IHR5cGUgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggbm9uIGludGVnZXIgdmFsdWVzLmAgKyBgWW91IHNob3VsZCBlaXRoZXIgdXNlIGFuIGludGVnZXIgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBpbmRleCwgb3IgZGVmaW5lIHRoZSBcXGB0aGVtZS4ke3RoZW1lS2V5fVxcYCBhcyBhIG51bWJlci5gXS5qb2luKCdcXG4nKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzID4gdGhlbWVTcGFjaW5nLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFtgTVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgKCR7YWJzfSkgb3ZlcmZsb3dzLmAsIGBUaGUgc3VwcG9ydGVkIHZhbHVlcyBhcmU6ICR7SlNPTi5zdHJpbmdpZnkodGhlbWVTcGFjaW5nKX0uYCwgYCR7YWJzfSA+ICR7dGhlbWVTcGFjaW5nLmxlbmd0aCAtIDF9LCB5b3UgbmVlZCB0byBhZGQgdGhlIG1pc3NpbmcgdmFsdWVzLmBdLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhlbWVTcGFjaW5nW2Fic107XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdGhlbWVTcGFjaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoZW1lU3BhY2luZztcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIFxcYHRoZW1lLiR7dGhlbWVLZXl9XFxgIHZhbHVlICgke3RoZW1lU3BhY2luZ30pIGlzIGludmFsaWQuYCwgJ0l0IHNob3VsZCBiZSBhIG51bWJlciwgYW4gYXJyYXkgb3IgYSBmdW5jdGlvbi4nXS5qb2luKCdcXG4nKSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuYXJ5U3BhY2luZyh0aGVtZSkge1xuICByZXR1cm4gY3JlYXRlVW5hcnlVbml0KHRoZW1lLCAnc3BhY2luZycsIDgsICdzcGFjaW5nJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSkge1xuICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3N0cmluZycgfHwgcHJvcFZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcFZhbHVlO1xuICB9XG5cbiAgY29uc3QgYWJzID0gTWF0aC5hYnMocHJvcFZhbHVlKTtcbiAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1lcihhYnMpO1xuXG4gIGlmIChwcm9wVmFsdWUgPj0gMCkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHJhbnNmb3JtZWQgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIC10cmFuc2Zvcm1lZDtcbiAgfVxuXG4gIHJldHVybiBgLSR7dHJhbnNmb3JtZWR9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZUZyb21Qcm9wVmFsdWUoY3NzUHJvcGVydGllcywgdHJhbnNmb3JtZXIpIHtcbiAgcmV0dXJuIHByb3BWYWx1ZSA9PiBjc3NQcm9wZXJ0aWVzLnJlZHVjZSgoYWNjLCBjc3NQcm9wZXJ0eSkgPT4ge1xuICAgIGFjY1tjc3NQcm9wZXJ0eV0gPSBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDc3NQcm9wZXJ0eShwcm9wcywga2V5cywgcHJvcCwgdHJhbnNmb3JtZXIpIHtcbiAgLy8gVXNpbmcgYSBoYXNoIGNvbXB1dGF0aW9uIG92ZXIgYW4gYXJyYXkgaXRlcmF0aW9uIGNvdWxkIGJlIGZhc3RlciwgYnV0IHdpdGggb25seSAyOCBpdGVtcyxcbiAgLy8gaXQncyBkb2Vzbid0IHdvcnRoIHRoZSBidW5kbGUgc2l6ZS5cbiAgaWYgKGtleXMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNzc1Byb3BlcnRpZXMgPSBnZXRDc3NQcm9wZXJ0aWVzKHByb3ApO1xuICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBnZXRTdHlsZUZyb21Qcm9wVmFsdWUoY3NzUHJvcGVydGllcywgdHJhbnNmb3JtZXIpO1xuICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgcmV0dXJuIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wVmFsdWUsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHN0eWxlKHByb3BzLCBrZXlzKSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlTcGFjaW5nKHByb3BzLnRoZW1lKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5tYXAocHJvcCA9PiByZXNvbHZlQ3NzUHJvcGVydHkocHJvcHMsIGtleXMsIHByb3AsIHRyYW5zZm9ybWVyKSkucmVkdWNlKG1lcmdlLCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJnaW4ocHJvcHMpIHtcbiAgcmV0dXJuIHN0eWxlKHByb3BzLCBtYXJnaW5LZXlzKTtcbn1cbm1hcmdpbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gbWFyZ2luS2V5cy5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gIG9ialtrZXldID0gcmVzcG9uc2l2ZVByb3BUeXBlO1xuICByZXR1cm4gb2JqO1xufSwge30pIDoge307XG5tYXJnaW4uZmlsdGVyUHJvcHMgPSBtYXJnaW5LZXlzO1xuZXhwb3J0IGZ1bmN0aW9uIHBhZGRpbmcocHJvcHMpIHtcbiAgcmV0dXJuIHN0eWxlKHByb3BzLCBwYWRkaW5nS2V5cyk7XG59XG5wYWRkaW5nLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBwYWRkaW5nS2V5cy5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gIG9ialtrZXldID0gcmVzcG9uc2l2ZVByb3BUeXBlO1xuICByZXR1cm4gb2JqO1xufSwge30pIDoge307XG5wYWRkaW5nLmZpbHRlclByb3BzID0gcGFkZGluZ0tleXM7XG5cbmZ1bmN0aW9uIHNwYWNpbmcocHJvcHMpIHtcbiAgcmV0dXJuIHN0eWxlKHByb3BzLCBzcGFjaW5nS2V5cyk7XG59XG5cbnNwYWNpbmcucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHNwYWNpbmdLZXlzLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgb2JqW2tleV0gPSByZXNwb25zaXZlUHJvcFR5cGU7XG4gIHJldHVybiBvYmo7XG59LCB7fSkgOiB7fTtcbnNwYWNpbmcuZmlsdGVyUHJvcHMgPSBzcGFjaW5nS2V5cztcbmV4cG9ydCBkZWZhdWx0IHNwYWNpbmc7IiwiaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tICcuL3Jlc3BvbnNpdmVQcm9wVHlwZSc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgY29tcG9zZSBmcm9tICcuL2NvbXBvc2UnO1xuaW1wb3J0IHsgY3JlYXRlVW5hcnlVbml0LCBnZXRWYWx1ZSB9IGZyb20gJy4vc3BhY2luZyc7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gJy4vYnJlYWtwb2ludHMnO1xuXG5mdW5jdGlvbiBnZXRCb3JkZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gYCR7dmFsdWV9cHggc29saWRgO1xufVxuXG5leHBvcnQgY29uc3QgYm9yZGVyID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyJyxcbiAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgdHJhbnNmb3JtOiBnZXRCb3JkZXJcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclRvcCA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlclRvcCcsXG4gIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gIHRyYW5zZm9ybTogZ2V0Qm9yZGVyXG59KTtcbmV4cG9ydCBjb25zdCBib3JkZXJSaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlclJpZ2h0JyxcbiAgdGhlbWVLZXk6ICdib3JkZXJzJyxcbiAgdHJhbnNmb3JtOiBnZXRCb3JkZXJcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlckJvdHRvbSA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlckJvdHRvbScsXG4gIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gIHRyYW5zZm9ybTogZ2V0Qm9yZGVyXG59KTtcbmV4cG9ydCBjb25zdCBib3JkZXJMZWZ0ID0gc3R5bGUoe1xuICBwcm9wOiAnYm9yZGVyTGVmdCcsXG4gIHRoZW1lS2V5OiAnYm9yZGVycycsXG4gIHRyYW5zZm9ybTogZ2V0Qm9yZGVyXG59KTtcbmV4cG9ydCBjb25zdCBib3JkZXJDb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlckNvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyVG9wQ29sb3IgPSBzdHlsZSh7XG4gIHByb3A6ICdib3JkZXJUb3BDb2xvcicsXG4gIHRoZW1lS2V5OiAncGFsZXR0ZSdcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclJpZ2h0Q29sb3IgPSBzdHlsZSh7XG4gIHByb3A6ICdib3JkZXJSaWdodENvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYm9yZGVyQm90dG9tQ29sb3IgPSBzdHlsZSh7XG4gIHByb3A6ICdib3JkZXJCb3R0b21Db2xvcicsXG4gIHRoZW1lS2V5OiAncGFsZXR0ZSdcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlckxlZnRDb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvcmRlckxlZnRDb2xvcicsXG4gIHRoZW1lS2V5OiAncGFsZXR0ZSdcbn0pO1xuZXhwb3J0IGNvbnN0IGJvcmRlclJhZGl1cyA9IHByb3BzID0+IHtcbiAgaWYgKHByb3BzLmJvcmRlclJhZGl1cyAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmJvcmRlclJhZGl1cyAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlVbml0KHByb3BzLnRoZW1lLCAnc2hhcGUuYm9yZGVyUmFkaXVzJywgNCwgJ2JvcmRlclJhZGl1cycpO1xuXG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+ICh7XG4gICAgICBib3JkZXJSYWRpdXM6IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BzLmJvcmRlclJhZGl1cywgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcbmJvcmRlclJhZGl1cy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICBib3JkZXJSYWRpdXM6IHJlc3BvbnNpdmVQcm9wVHlwZVxufSA6IHt9O1xuYm9yZGVyUmFkaXVzLmZpbHRlclByb3BzID0gWydib3JkZXJSYWRpdXMnXTtcbmNvbnN0IGJvcmRlcnMgPSBjb21wb3NlKGJvcmRlciwgYm9yZGVyVG9wLCBib3JkZXJSaWdodCwgYm9yZGVyQm90dG9tLCBib3JkZXJMZWZ0LCBib3JkZXJDb2xvciwgYm9yZGVyVG9wQ29sb3IsIGJvcmRlclJpZ2h0Q29sb3IsIGJvcmRlckJvdHRvbUNvbG9yLCBib3JkZXJMZWZ0Q29sb3IsIGJvcmRlclJhZGl1cyk7XG5leHBvcnQgZGVmYXVsdCBib3JkZXJzOyIsImltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5leHBvcnQgY29uc3QgZGlzcGxheVByaW50ID0gc3R5bGUoe1xuICBwcm9wOiAnZGlzcGxheVByaW50JyxcbiAgY3NzUHJvcGVydHk6IGZhbHNlLFxuICB0cmFuc2Zvcm06IHZhbHVlID0+ICh7XG4gICAgJ0BtZWRpYSBwcmludCc6IHtcbiAgICAgIGRpc3BsYXk6IHZhbHVlXG4gICAgfVxuICB9KVxufSk7XG5leHBvcnQgY29uc3QgZGlzcGxheVJhdyA9IHN0eWxlKHtcbiAgcHJvcDogJ2Rpc3BsYXknXG59KTtcbmV4cG9ydCBjb25zdCBvdmVyZmxvdyA9IHN0eWxlKHtcbiAgcHJvcDogJ292ZXJmbG93J1xufSk7XG5leHBvcnQgY29uc3QgdGV4dE92ZXJmbG93ID0gc3R5bGUoe1xuICBwcm9wOiAndGV4dE92ZXJmbG93J1xufSk7XG5leHBvcnQgY29uc3QgdmlzaWJpbGl0eSA9IHN0eWxlKHtcbiAgcHJvcDogJ3Zpc2liaWxpdHknXG59KTtcbmV4cG9ydCBjb25zdCB3aGl0ZVNwYWNlID0gc3R5bGUoe1xuICBwcm9wOiAnd2hpdGVTcGFjZSdcbn0pO1xuZXhwb3J0IGRlZmF1bHQgY29tcG9zZShkaXNwbGF5UHJpbnQsIGRpc3BsYXlSYXcsIG92ZXJmbG93LCB0ZXh0T3ZlcmZsb3csIHZpc2liaWxpdHksIHdoaXRlU3BhY2UpOyIsImltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5leHBvcnQgY29uc3QgZmxleEJhc2lzID0gc3R5bGUoe1xuICBwcm9wOiAnZmxleEJhc2lzJ1xufSk7XG5leHBvcnQgY29uc3QgZmxleERpcmVjdGlvbiA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZsZXhEaXJlY3Rpb24nXG59KTtcbmV4cG9ydCBjb25zdCBmbGV4V3JhcCA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZsZXhXcmFwJ1xufSk7XG5leHBvcnQgY29uc3QganVzdGlmeUNvbnRlbnQgPSBzdHlsZSh7XG4gIHByb3A6ICdqdXN0aWZ5Q29udGVudCdcbn0pO1xuZXhwb3J0IGNvbnN0IGFsaWduSXRlbXMgPSBzdHlsZSh7XG4gIHByb3A6ICdhbGlnbkl0ZW1zJ1xufSk7XG5leHBvcnQgY29uc3QgYWxpZ25Db250ZW50ID0gc3R5bGUoe1xuICBwcm9wOiAnYWxpZ25Db250ZW50J1xufSk7XG5leHBvcnQgY29uc3Qgb3JkZXIgPSBzdHlsZSh7XG4gIHByb3A6ICdvcmRlcidcbn0pO1xuZXhwb3J0IGNvbnN0IGZsZXggPSBzdHlsZSh7XG4gIHByb3A6ICdmbGV4J1xufSk7XG5leHBvcnQgY29uc3QgZmxleEdyb3cgPSBzdHlsZSh7XG4gIHByb3A6ICdmbGV4R3Jvdydcbn0pO1xuZXhwb3J0IGNvbnN0IGZsZXhTaHJpbmsgPSBzdHlsZSh7XG4gIHByb3A6ICdmbGV4U2hyaW5rJ1xufSk7XG5leHBvcnQgY29uc3QgYWxpZ25TZWxmID0gc3R5bGUoe1xuICBwcm9wOiAnYWxpZ25TZWxmJ1xufSk7XG5leHBvcnQgY29uc3QganVzdGlmeUl0ZW1zID0gc3R5bGUoe1xuICBwcm9wOiAnanVzdGlmeUl0ZW1zJ1xufSk7XG5leHBvcnQgY29uc3QganVzdGlmeVNlbGYgPSBzdHlsZSh7XG4gIHByb3A6ICdqdXN0aWZ5U2VsZidcbn0pO1xuY29uc3QgZmxleGJveCA9IGNvbXBvc2UoZmxleEJhc2lzLCBmbGV4RGlyZWN0aW9uLCBmbGV4V3JhcCwganVzdGlmeUNvbnRlbnQsIGFsaWduSXRlbXMsIGFsaWduQ29udGVudCwgb3JkZXIsIGZsZXgsIGZsZXhHcm93LCBmbGV4U2hyaW5rLCBhbGlnblNlbGYsIGp1c3RpZnlJdGVtcywganVzdGlmeVNlbGYpO1xuZXhwb3J0IGRlZmF1bHQgZmxleGJveDsiLCJpbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZSc7XG5pbXBvcnQgY29tcG9zZSBmcm9tICcuL2NvbXBvc2UnO1xuaW1wb3J0IHsgY3JlYXRlVW5hcnlVbml0LCBnZXRWYWx1ZSB9IGZyb20gJy4vc3BhY2luZyc7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cyB9IGZyb20gJy4vYnJlYWtwb2ludHMnO1xuaW1wb3J0IHJlc3BvbnNpdmVQcm9wVHlwZSBmcm9tICcuL3Jlc3BvbnNpdmVQcm9wVHlwZSc7XG5leHBvcnQgY29uc3QgZ2FwID0gcHJvcHMgPT4ge1xuICBpZiAocHJvcHMuZ2FwICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZ2FwICE9PSBudWxsKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVVbmFyeVVuaXQocHJvcHMudGhlbWUsICdzcGFjaW5nJywgOCwgJ2dhcCcpO1xuXG4gICAgY29uc3Qgc3R5bGVGcm9tUHJvcFZhbHVlID0gcHJvcFZhbHVlID0+ICh7XG4gICAgICBnYXA6IGdldFZhbHVlKHRyYW5zZm9ybWVyLCBwcm9wVmFsdWUpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BzLmdhcCwgc3R5bGVGcm9tUHJvcFZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcbmdhcC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge1xuICBnYXA6IHJlc3BvbnNpdmVQcm9wVHlwZVxufSA6IHt9O1xuZ2FwLmZpbHRlclByb3BzID0gWydnYXAnXTtcbmV4cG9ydCBjb25zdCBjb2x1bW5HYXAgPSBwcm9wcyA9PiB7XG4gIGlmIChwcm9wcy5jb2x1bW5HYXAgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5jb2x1bW5HYXAgIT09IG51bGwpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGNyZWF0ZVVuYXJ5VW5pdChwcm9wcy50aGVtZSwgJ3NwYWNpbmcnLCA4LCAnY29sdW1uR2FwJyk7XG5cbiAgICBjb25zdCBzdHlsZUZyb21Qcm9wVmFsdWUgPSBwcm9wVmFsdWUgPT4gKHtcbiAgICAgIGNvbHVtbkdhcDogZ2V0VmFsdWUodHJhbnNmb3JtZXIsIHByb3BWYWx1ZSlcbiAgICB9KTtcblxuICAgIHJldHVybiBoYW5kbGVCcmVha3BvaW50cyhwcm9wcywgcHJvcHMuY29sdW1uR2FwLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuY29sdW1uR2FwLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIGNvbHVtbkdhcDogcmVzcG9uc2l2ZVByb3BUeXBlXG59IDoge307XG5jb2x1bW5HYXAuZmlsdGVyUHJvcHMgPSBbJ2NvbHVtbkdhcCddO1xuZXhwb3J0IGNvbnN0IHJvd0dhcCA9IHByb3BzID0+IHtcbiAgaWYgKHByb3BzLnJvd0dhcCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLnJvd0dhcCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVW5hcnlVbml0KHByb3BzLnRoZW1lLCAnc3BhY2luZycsIDgsICdyb3dHYXAnKTtcblxuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZSA9PiAoe1xuICAgICAgcm93R2FwOiBnZXRWYWx1ZSh0cmFuc2Zvcm1lciwgcHJvcFZhbHVlKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGhhbmRsZUJyZWFrcG9pbnRzKHByb3BzLCBwcm9wcy5yb3dHYXAsIHN0eWxlRnJvbVByb3BWYWx1ZSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5yb3dHYXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHtcbiAgcm93R2FwOiByZXNwb25zaXZlUHJvcFR5cGVcbn0gOiB7fTtcbnJvd0dhcC5maWx0ZXJQcm9wcyA9IFsncm93R2FwJ107XG5leHBvcnQgY29uc3QgZ3JpZENvbHVtbiA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRDb2x1bW4nXG59KTtcbmV4cG9ydCBjb25zdCBncmlkUm93ID0gc3R5bGUoe1xuICBwcm9wOiAnZ3JpZFJvdydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvRmxvdyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvRmxvdydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvQ29sdW1ucyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvQ29sdW1ucydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRBdXRvUm93cyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRBdXRvUm93cydcbn0pO1xuZXhwb3J0IGNvbnN0IGdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBzdHlsZSh7XG4gIHByb3A6ICdncmlkVGVtcGxhdGVDb2x1bW5zJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZFRlbXBsYXRlUm93cyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRUZW1wbGF0ZVJvd3MnXG59KTtcbmV4cG9ydCBjb25zdCBncmlkVGVtcGxhdGVBcmVhcyA9IHN0eWxlKHtcbiAgcHJvcDogJ2dyaWRUZW1wbGF0ZUFyZWFzJ1xufSk7XG5leHBvcnQgY29uc3QgZ3JpZEFyZWEgPSBzdHlsZSh7XG4gIHByb3A6ICdncmlkQXJlYSdcbn0pO1xuY29uc3QgZ3JpZCA9IGNvbXBvc2UoZ2FwLCBjb2x1bW5HYXAsIHJvd0dhcCwgZ3JpZENvbHVtbiwgZ3JpZFJvdywgZ3JpZEF1dG9GbG93LCBncmlkQXV0b0NvbHVtbnMsIGdyaWRBdXRvUm93cywgZ3JpZFRlbXBsYXRlQ29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgZ3JpZFRlbXBsYXRlQXJlYXMsIGdyaWRBcmVhKTtcbmV4cG9ydCBkZWZhdWx0IGdyaWQ7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmV4cG9ydCBjb25zdCBjb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2NvbG9yJyxcbiAgdGhlbWVLZXk6ICdwYWxldHRlJ1xufSk7XG5leHBvcnQgY29uc3QgYmdjb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JnY29sb3InLFxuICBjc3NQcm9wZXJ0eTogJ2JhY2tncm91bmRDb2xvcicsXG4gIHRoZW1lS2V5OiAncGFsZXR0ZSdcbn0pO1xuZXhwb3J0IGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHN0eWxlKHtcbiAgcHJvcDogJ2JhY2tncm91bmRDb2xvcicsXG4gIHRoZW1lS2V5OiAncGFsZXR0ZSdcbn0pO1xuY29uc3QgcGFsZXR0ZSA9IGNvbXBvc2UoY29sb3IsIGJnY29sb3IsIGJhY2tncm91bmRDb2xvcik7XG5leHBvcnQgZGVmYXVsdCBwYWxldHRlOyIsImltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5leHBvcnQgY29uc3QgcG9zaXRpb24gPSBzdHlsZSh7XG4gIHByb3A6ICdwb3NpdGlvbidcbn0pO1xuZXhwb3J0IGNvbnN0IHpJbmRleCA9IHN0eWxlKHtcbiAgcHJvcDogJ3pJbmRleCcsXG4gIHRoZW1lS2V5OiAnekluZGV4J1xufSk7XG5leHBvcnQgY29uc3QgdG9wID0gc3R5bGUoe1xuICBwcm9wOiAndG9wJ1xufSk7XG5leHBvcnQgY29uc3QgcmlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdyaWdodCdcbn0pO1xuZXhwb3J0IGNvbnN0IGJvdHRvbSA9IHN0eWxlKHtcbiAgcHJvcDogJ2JvdHRvbSdcbn0pO1xuZXhwb3J0IGNvbnN0IGxlZnQgPSBzdHlsZSh7XG4gIHByb3A6ICdsZWZ0J1xufSk7XG5leHBvcnQgZGVmYXVsdCBjb21wb3NlKHBvc2l0aW9uLCB6SW5kZXgsIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuY29uc3QgYm94U2hhZG93ID0gc3R5bGUoe1xuICBwcm9wOiAnYm94U2hhZG93JyxcbiAgdGhlbWVLZXk6ICdzaGFkb3dzJ1xufSk7XG5leHBvcnQgZGVmYXVsdCBib3hTaGFkb3c7IiwiaW1wb3J0IHN0eWxlIGZyb20gJy4vc3R5bGUnO1xuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcbmltcG9ydCB7IGhhbmRsZUJyZWFrcG9pbnRzLCB2YWx1ZXMgYXMgYnJlYWtwb2ludHNWYWx1ZXMgfSBmcm9tICcuL2JyZWFrcG9pbnRzJztcblxuZnVuY3Rpb24gdHJhbnNmb3JtKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA8PSAxICYmIHZhbHVlICE9PSAwID8gYCR7dmFsdWUgKiAxMDB9JWAgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGNvbnN0IHdpZHRoID0gc3R5bGUoe1xuICBwcm9wOiAnd2lkdGgnLFxuICB0cmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IG1heFdpZHRoID0gcHJvcHMgPT4ge1xuICBpZiAocHJvcHMubWF4V2lkdGggIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5tYXhXaWR0aCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHN0eWxlRnJvbVByb3BWYWx1ZSA9IHByb3BWYWx1ZSA9PiB7XG4gICAgICB2YXIgX3Byb3BzJHRoZW1lLCBfcHJvcHMkdGhlbWUkYnJlYWtwb2ksIF9wcm9wcyR0aGVtZSRicmVha3BvaTI7XG5cbiAgICAgIGNvbnN0IGJyZWFrcG9pbnQgPSAoKF9wcm9wcyR0aGVtZSA9IHByb3BzLnRoZW1lKSA9PSBudWxsID8gdm9pZCAwIDogKF9wcm9wcyR0aGVtZSRicmVha3BvaSA9IF9wcm9wcyR0aGVtZS5icmVha3BvaW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IChfcHJvcHMkdGhlbWUkYnJlYWtwb2kyID0gX3Byb3BzJHRoZW1lJGJyZWFrcG9pLnZhbHVlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9wcm9wcyR0aGVtZSRicmVha3BvaTJbcHJvcFZhbHVlXSkgfHwgYnJlYWtwb2ludHNWYWx1ZXNbcHJvcFZhbHVlXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1heFdpZHRoOiBicmVha3BvaW50IHx8IHRyYW5zZm9ybShwcm9wVmFsdWUpXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gaGFuZGxlQnJlYWtwb2ludHMocHJvcHMsIHByb3BzLm1heFdpZHRoLCBzdHlsZUZyb21Qcm9wVmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xubWF4V2lkdGguZmlsdGVyUHJvcHMgPSBbJ21heFdpZHRoJ107XG5leHBvcnQgY29uc3QgbWluV2lkdGggPSBzdHlsZSh7XG4gIHByb3A6ICdtaW5XaWR0aCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3QgaGVpZ2h0ID0gc3R5bGUoe1xuICBwcm9wOiAnaGVpZ2h0JyxcbiAgdHJhbnNmb3JtXG59KTtcbmV4cG9ydCBjb25zdCBtYXhIZWlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdtYXhIZWlnaHQnLFxuICB0cmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IG1pbkhlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ21pbkhlaWdodCcsXG4gIHRyYW5zZm9ybVxufSk7XG5leHBvcnQgY29uc3Qgc2l6ZVdpZHRoID0gc3R5bGUoe1xuICBwcm9wOiAnc2l6ZScsXG4gIGNzc1Byb3BlcnR5OiAnd2lkdGgnLFxuICB0cmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IHNpemVIZWlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdzaXplJyxcbiAgY3NzUHJvcGVydHk6ICdoZWlnaHQnLFxuICB0cmFuc2Zvcm1cbn0pO1xuZXhwb3J0IGNvbnN0IGJveFNpemluZyA9IHN0eWxlKHtcbiAgcHJvcDogJ2JveFNpemluZydcbn0pO1xuY29uc3Qgc2l6aW5nID0gY29tcG9zZSh3aWR0aCwgbWF4V2lkdGgsIG1pbldpZHRoLCBoZWlnaHQsIG1heEhlaWdodCwgbWluSGVpZ2h0LCBib3hTaXppbmcpO1xuZXhwb3J0IGRlZmF1bHQgc2l6aW5nOyIsImltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5leHBvcnQgY29uc3QgZm9udEZhbWlseSA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZvbnRGYW1pbHknLFxuICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG59KTtcbmV4cG9ydCBjb25zdCBmb250U2l6ZSA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZvbnRTaXplJyxcbiAgdGhlbWVLZXk6ICd0eXBvZ3JhcGh5J1xufSk7XG5leHBvcnQgY29uc3QgZm9udFN0eWxlID0gc3R5bGUoe1xuICBwcm9wOiAnZm9udFN0eWxlJyxcbiAgdGhlbWVLZXk6ICd0eXBvZ3JhcGh5J1xufSk7XG5leHBvcnQgY29uc3QgZm9udFdlaWdodCA9IHN0eWxlKHtcbiAgcHJvcDogJ2ZvbnRXZWlnaHQnLFxuICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG59KTtcbmV4cG9ydCBjb25zdCBsZXR0ZXJTcGFjaW5nID0gc3R5bGUoe1xuICBwcm9wOiAnbGV0dGVyU3BhY2luZydcbn0pO1xuZXhwb3J0IGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZSh7XG4gIHByb3A6ICdsaW5lSGVpZ2h0J1xufSk7XG5leHBvcnQgY29uc3QgdGV4dEFsaWduID0gc3R5bGUoe1xuICBwcm9wOiAndGV4dEFsaWduJ1xufSk7XG5leHBvcnQgY29uc3QgdHlwb2dyYXBoeVZhcmlhbnQgPSBzdHlsZSh7XG4gIHByb3A6ICd0eXBvZ3JhcGh5JyxcbiAgY3NzUHJvcGVydHk6IGZhbHNlLFxuICB0aGVtZUtleTogJ3R5cG9ncmFwaHknXG59KTtcbmNvbnN0IHR5cG9ncmFwaHkgPSBjb21wb3NlKHR5cG9ncmFwaHlWYXJpYW50LCBmb250RmFtaWx5LCBmb250U2l6ZSwgZm9udFN0eWxlLCBmb250V2VpZ2h0LCBsZXR0ZXJTcGFjaW5nLCBsaW5lSGVpZ2h0LCB0ZXh0QWxpZ24pO1xuZXhwb3J0IGRlZmF1bHQgdHlwb2dyYXBoeTsiLCJpbXBvcnQgYm9yZGVycyBmcm9tICcuL2JvcmRlcnMnO1xuaW1wb3J0IGRpc3BsYXkgZnJvbSAnLi9kaXNwbGF5JztcbmltcG9ydCBmbGV4Ym94IGZyb20gJy4vZmxleGJveCc7XG5pbXBvcnQgZ3JpZCBmcm9tICcuL2dyaWQnO1xuaW1wb3J0IHBvc2l0aW9ucyBmcm9tICcuL3Bvc2l0aW9ucyc7XG5pbXBvcnQgcGFsZXR0ZSBmcm9tICcuL3BhbGV0dGUnO1xuaW1wb3J0IHNoYWRvd3MgZnJvbSAnLi9zaGFkb3dzJztcbmltcG9ydCBzaXppbmcgZnJvbSAnLi9zaXppbmcnO1xuaW1wb3J0IHNwYWNpbmcgZnJvbSAnLi9zcGFjaW5nJztcbmltcG9ydCB0eXBvZ3JhcGh5IGZyb20gJy4vdHlwb2dyYXBoeSc7XG5jb25zdCBmaWx0ZXJQcm9wc01hcHBpbmcgPSB7XG4gIGJvcmRlcnM6IGJvcmRlcnMuZmlsdGVyUHJvcHMsXG4gIGRpc3BsYXk6IGRpc3BsYXkuZmlsdGVyUHJvcHMsXG4gIGZsZXhib3g6IGZsZXhib3guZmlsdGVyUHJvcHMsXG4gIGdyaWQ6IGdyaWQuZmlsdGVyUHJvcHMsXG4gIHBvc2l0aW9uczogcG9zaXRpb25zLmZpbHRlclByb3BzLFxuICBwYWxldHRlOiBwYWxldHRlLmZpbHRlclByb3BzLFxuICBzaGFkb3dzOiBzaGFkb3dzLmZpbHRlclByb3BzLFxuICBzaXppbmc6IHNpemluZy5maWx0ZXJQcm9wcyxcbiAgc3BhY2luZzogc3BhY2luZy5maWx0ZXJQcm9wcyxcbiAgdHlwb2dyYXBoeTogdHlwb2dyYXBoeS5maWx0ZXJQcm9wc1xufTtcbmNvbnN0IHN0eWxlRnVuY3Rpb25NYXBwaW5nID0ge1xuICBib3JkZXJzLFxuICBkaXNwbGF5LFxuICBmbGV4Ym94LFxuICBncmlkLFxuICBwb3NpdGlvbnMsXG4gIHBhbGV0dGUsXG4gIHNoYWRvd3MsXG4gIHNpemluZyxcbiAgc3BhY2luZyxcbiAgdHlwb2dyYXBoeVxufTtcbmV4cG9ydCBjb25zdCBwcm9wVG9TdHlsZUZ1bmN0aW9uID0gT2JqZWN0LmtleXMoZmlsdGVyUHJvcHNNYXBwaW5nKS5yZWR1Y2UoKGFjYywgc3R5bGVGbk5hbWUpID0+IHtcbiAgZmlsdGVyUHJvcHNNYXBwaW5nW3N0eWxlRm5OYW1lXS5mb3JFYWNoKHByb3BOYW1lID0+IHtcbiAgICBhY2NbcHJvcE5hbWVdID0gc3R5bGVGdW5jdGlvbk1hcHBpbmdbc3R5bGVGbk5hbWVdO1xuICB9KTtcbiAgcmV0dXJuIGFjYztcbn0sIHt9KTtcblxuZnVuY3Rpb24gZ2V0VGhlbWVWYWx1ZShwcm9wLCB2YWx1ZSwgdGhlbWUpIHtcbiAgY29uc3QgaW5wdXRQcm9wcyA9IHtcbiAgICBbcHJvcF06IHZhbHVlLFxuICAgIHRoZW1lXG4gIH07XG4gIGNvbnN0IHN0eWxlRnVuY3Rpb24gPSBwcm9wVG9TdHlsZUZ1bmN0aW9uW3Byb3BdO1xuICByZXR1cm4gc3R5bGVGdW5jdGlvbiA/IHN0eWxlRnVuY3Rpb24oaW5wdXRQcm9wcykgOiB7XG4gICAgW3Byb3BdOiB2YWx1ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRUaGVtZVZhbHVlOyIsImltcG9ydCBtZXJnZSBmcm9tICcuLi9tZXJnZSc7XG5pbXBvcnQgZ2V0VGhlbWVWYWx1ZSwgeyBwcm9wVG9TdHlsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vZ2V0VGhlbWVWYWx1ZSc7XG5pbXBvcnQgeyBoYW5kbGVCcmVha3BvaW50cywgY3JlYXRlRW1wdHlCcmVha3BvaW50T2JqZWN0LCByZW1vdmVVbnVzZWRCcmVha3BvaW50cyB9IGZyb20gJy4uL2JyZWFrcG9pbnRzJztcblxuZnVuY3Rpb24gb2JqZWN0c0hhdmVTYW1lS2V5cyguLi5vYmplY3RzKSB7XG4gIGNvbnN0IGFsbEtleXMgPSBvYmplY3RzLnJlZHVjZSgoa2V5cywgb2JqZWN0KSA9PiBrZXlzLmNvbmNhdChPYmplY3Qua2V5cyhvYmplY3QpKSwgW10pO1xuICBjb25zdCB1bmlvbiA9IG5ldyBTZXQoYWxsS2V5cyk7XG4gIHJldHVybiBvYmplY3RzLmV2ZXJ5KG9iamVjdCA9PiB1bmlvbi5zaXplID09PSBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxJZkZuKG1heWJlRm4sIGFyZykge1xuICByZXR1cm4gdHlwZW9mIG1heWJlRm4gPT09ICdmdW5jdGlvbicgPyBtYXliZUZuKGFyZykgOiBtYXliZUZuO1xufVxuXG5mdW5jdGlvbiBzdHlsZUZ1bmN0aW9uU3gocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHN4OiBzdHlsZXMsXG4gICAgdGhlbWUgPSB7fVxuICB9ID0gcHJvcHMgfHwge307XG5cbiAgaWYgKCFzdHlsZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3R5bGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHN0eWxlcyh0aGVtZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHN0eWxlcyAhPT0gJ29iamVjdCcpIHtcbiAgICAvLyB2YWx1ZVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBjb25zdCBlbXB0eUJyZWFrcG9pbnRzID0gY3JlYXRlRW1wdHlCcmVha3BvaW50T2JqZWN0KHRoZW1lLmJyZWFrcG9pbnRzKTtcbiAgY29uc3QgYnJlYWtwb2ludHNLZXlzID0gT2JqZWN0LmtleXMoZW1wdHlCcmVha3BvaW50cyk7XG4gIGxldCBjc3MgPSBlbXB0eUJyZWFrcG9pbnRzO1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goc3R5bGVLZXkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY2FsbElmRm4oc3R5bGVzW3N0eWxlS2V5XSwgdGhlbWUpO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVG9TdHlsZUZ1bmN0aW9uW3N0eWxlS2V5XSkge1xuICAgICAgICBjc3MgPSBtZXJnZShjc3MsIGdldFRoZW1lVmFsdWUoc3R5bGVLZXksIHZhbHVlLCB0aGVtZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYnJlYWtwb2ludHNWYWx1ZXMgPSBoYW5kbGVCcmVha3BvaW50cyh7XG4gICAgICAgICAgdGhlbWVcbiAgICAgICAgfSwgdmFsdWUsIHggPT4gKHtcbiAgICAgICAgICBbc3R5bGVLZXldOiB4XG4gICAgICAgIH0pKTtcblxuICAgICAgICBpZiAob2JqZWN0c0hhdmVTYW1lS2V5cyhicmVha3BvaW50c1ZhbHVlcywgdmFsdWUpKSB7XG4gICAgICAgICAgY3NzW3N0eWxlS2V5XSA9IHN0eWxlRnVuY3Rpb25TeCh7XG4gICAgICAgICAgICBzeDogdmFsdWUsXG4gICAgICAgICAgICB0aGVtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNzcyA9IG1lcmdlKGNzcywgYnJlYWtwb2ludHNWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzcyA9IG1lcmdlKGNzcywgZ2V0VGhlbWVWYWx1ZShzdHlsZUtleSwgdmFsdWUsIHRoZW1lKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlbW92ZVVudXNlZEJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzS2V5cywgY3NzKTtcbn1cblxuc3R5bGVGdW5jdGlvblN4LmZpbHRlclByb3BzID0gWydzeCddO1xuZXhwb3J0IGRlZmF1bHQgc3R5bGVGdW5jdGlvblN4OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJ2YWx1ZXNcIiwgXCJ1bml0XCIsIFwic3RlcFwiXTtcbi8vIFNvcnRlZCBBU0MgYnkgc2l6ZS4gVGhhdCdzIGltcG9ydGFudC5cbi8vIEl0IGNhbid0IGJlIGNvbmZpZ3VyZWQgYXMgaXQncyB1c2VkIHN0YXRpY2FsbHkgZm9yIHByb3BUeXBlcy5cbmV4cG9ydCBjb25zdCBicmVha3BvaW50S2V5cyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXTsgLy8gS2VlcCBpbiBtaW5kIHRoYXQgQG1lZGlhIGlzIGluY2x1c2l2ZSBieSB0aGUgQ1NTIHNwZWNpZmljYXRpb24uXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzKSB7XG4gIGNvbnN0IHtcbiAgICAvLyBUaGUgYnJlYWtwb2ludCAqKnN0YXJ0KiogYXQgdGhpcyB2YWx1ZS5cbiAgICAvLyBGb3IgaW5zdGFuY2Ugd2l0aCB0aGUgZmlyc3QgYnJlYWtwb2ludCB4czogW3hzLCBzbSkuXG4gICAgdmFsdWVzID0ge1xuICAgICAgeHM6IDAsXG4gICAgICAvLyBwaG9uZVxuICAgICAgc206IDYwMCxcbiAgICAgIC8vIHRhYmxldHNcbiAgICAgIG1kOiA5MDAsXG4gICAgICAvLyBzbWFsbCBsYXB0b3BcbiAgICAgIGxnOiAxMjAwLFxuICAgICAgLy8gZGVza3RvcFxuICAgICAgeGw6IDE1MzYgLy8gbGFyZ2Ugc2NyZWVuc1xuXG4gICAgfSxcbiAgICB1bml0ID0gJ3B4JyxcbiAgICBzdGVwID0gNVxuICB9ID0gYnJlYWtwb2ludHMsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoYnJlYWtwb2ludHMsIF9leGNsdWRlZCk7XG5cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlcyk7XG5cbiAgZnVuY3Rpb24gdXAoa2V5KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdmFsdWVzW2tleV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleV0gOiBrZXk7XG4gICAgcmV0dXJuIGBAbWVkaWEgKG1pbi13aWR0aDoke3ZhbHVlfSR7dW5pdH0pYDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvd24oa2V5KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdmFsdWVzW2tleV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleV0gOiBrZXk7XG4gICAgcmV0dXJuIGBAbWVkaWEgKG1heC13aWR0aDoke3ZhbHVlIC0gc3RlcCAvIDEwMH0ke3VuaXR9KWA7XG4gIH1cblxuICBmdW5jdGlvbiBiZXR3ZWVuKHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBlbmRJbmRleCA9IGtleXMuaW5kZXhPZihlbmQpO1xuICAgIHJldHVybiBgQG1lZGlhIChtaW4td2lkdGg6JHt0eXBlb2YgdmFsdWVzW3N0YXJ0XSA9PT0gJ251bWJlcicgPyB2YWx1ZXNbc3RhcnRdIDogc3RhcnR9JHt1bml0fSkgYW5kIGAgKyBgKG1heC13aWR0aDokeyhlbmRJbmRleCAhPT0gLTEgJiYgdHlwZW9mIHZhbHVlc1trZXlzW2VuZEluZGV4XV0gPT09ICdudW1iZXInID8gdmFsdWVzW2tleXNbZW5kSW5kZXhdXSA6IGVuZCkgLSBzdGVwIC8gMTAwfSR7dW5pdH0pYDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9ubHkoa2V5KSB7XG4gICAgaWYgKGtleXMuaW5kZXhPZihrZXkpICsgMSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gYmV0d2VlbihrZXksIGtleXNba2V5cy5pbmRleE9mKGtleSkgKyAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwKGtleSk7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGtleXMsXG4gICAgdmFsdWVzLFxuICAgIHVwLFxuICAgIGRvd24sXG4gICAgYmV0d2VlbixcbiAgICBvbmx5LFxuICAgIHVuaXRcbiAgfSwgb3RoZXIpO1xufSIsImNvbnN0IHNoYXBlID0ge1xuICBib3JkZXJSYWRpdXM6IDRcbn07XG5leHBvcnQgZGVmYXVsdCBzaGFwZTsiLCJpbXBvcnQgeyBjcmVhdGVVbmFyeVNwYWNpbmcgfSBmcm9tICcuLi9zcGFjaW5nJztcblxuLyogdHNsaW50OmVuYWJsZTp1bmlmaWVkLXNpZ25hdHVyZXMgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVNwYWNpbmcoc3BhY2luZ0lucHV0ID0gOCkge1xuICAvLyBBbHJlYWR5IHRyYW5zZm9ybWVkLlxuICBpZiAoc3BhY2luZ0lucHV0Lm11aSkge1xuICAgIHJldHVybiBzcGFjaW5nSW5wdXQ7XG4gIH0gLy8gTWF0ZXJpYWwgRGVzaWduIGxheW91dHMgYXJlIHZpc3VhbGx5IGJhbGFuY2VkLiBNb3N0IG1lYXN1cmVtZW50cyBhbGlnbiB0byBhbiA4ZHAgZ3JpZCwgd2hpY2ggYWxpZ25zIGJvdGggc3BhY2luZyBhbmQgdGhlIG92ZXJhbGwgbGF5b3V0LlxuICAvLyBTbWFsbGVyIGNvbXBvbmVudHMsIHN1Y2ggYXMgaWNvbnMsIGNhbiBhbGlnbiB0byBhIDRkcCBncmlkLlxuICAvLyBodHRwczovL21hdGVyaWFsLmlvL2Rlc2lnbi9sYXlvdXQvdW5kZXJzdGFuZGluZy1sYXlvdXQuaHRtbCN1c2FnZVxuXG5cbiAgY29uc3QgdHJhbnNmb3JtID0gY3JlYXRlVW5hcnlTcGFjaW5nKHtcbiAgICBzcGFjaW5nOiBzcGFjaW5nSW5wdXRcbiAgfSk7XG5cbiAgY29uc3Qgc3BhY2luZyA9ICguLi5hcmdzSW5wdXQpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCEoYXJnc0lucHV0Lmxlbmd0aCA8PSA0KSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBNVUk6IFRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCwgZXhwZWN0ZWQgYmV0d2VlbiAwIGFuZCA0LCBnb3QgJHthcmdzSW5wdXQubGVuZ3RofWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFyZ3MgPSBhcmdzSW5wdXQubGVuZ3RoID09PSAwID8gWzFdIDogYXJnc0lucHV0O1xuICAgIHJldHVybiBhcmdzLm1hcChhcmd1bWVudCA9PiB7XG4gICAgICBjb25zdCBvdXRwdXQgPSB0cmFuc2Zvcm0oYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBvdXRwdXQgPT09ICdudW1iZXInID8gYCR7b3V0cHV0fXB4YCA6IG91dHB1dDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH07XG5cbiAgc3BhY2luZy5tdWkgPSB0cnVlO1xuICByZXR1cm4gc3BhY2luZztcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiYnJlYWtwb2ludHNcIiwgXCJwYWxldHRlXCIsIFwic3BhY2luZ1wiLCBcInNoYXBlXCJdO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgY3JlYXRlQnJlYWtwb2ludHMgZnJvbSAnLi9jcmVhdGVCcmVha3BvaW50cyc7XG5pbXBvcnQgc2hhcGUgZnJvbSAnLi9zaGFwZSc7XG5pbXBvcnQgY3JlYXRlU3BhY2luZyBmcm9tICcuL2NyZWF0ZVNwYWNpbmcnO1xuXG5mdW5jdGlvbiBjcmVhdGVUaGVtZShvcHRpb25zID0ge30sIC4uLmFyZ3MpIHtcbiAgY29uc3Qge1xuICAgIGJyZWFrcG9pbnRzOiBicmVha3BvaW50c0lucHV0ID0ge30sXG4gICAgcGFsZXR0ZTogcGFsZXR0ZUlucHV0ID0ge30sXG4gICAgc3BhY2luZzogc3BhY2luZ0lucHV0LFxuICAgIHNoYXBlOiBzaGFwZUlucHV0ID0ge31cbiAgfSA9IG9wdGlvbnMsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3B0aW9ucywgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCBicmVha3BvaW50cyA9IGNyZWF0ZUJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzSW5wdXQpO1xuICBjb25zdCBzcGFjaW5nID0gY3JlYXRlU3BhY2luZyhzcGFjaW5nSW5wdXQpO1xuICBsZXQgbXVpVGhlbWUgPSBkZWVwbWVyZ2Uoe1xuICAgIGJyZWFrcG9pbnRzLFxuICAgIGRpcmVjdGlvbjogJ2x0cicsXG4gICAgY29tcG9uZW50czoge30sXG4gICAgLy8gSW5qZWN0IGNvbXBvbmVudCBkZWZpbml0aW9ucy5cbiAgICBwYWxldHRlOiBfZXh0ZW5kcyh7XG4gICAgICBtb2RlOiAnbGlnaHQnXG4gICAgfSwgcGFsZXR0ZUlucHV0KSxcbiAgICBzcGFjaW5nLFxuICAgIHNoYXBlOiBfZXh0ZW5kcyh7fSwgc2hhcGUsIHNoYXBlSW5wdXQpXG4gIH0sIG90aGVyKTtcbiAgbXVpVGhlbWUgPSBhcmdzLnJlZHVjZSgoYWNjLCBhcmd1bWVudCkgPT4gZGVlcG1lcmdlKGFjYywgYXJndW1lbnQpLCBtdWlUaGVtZSk7XG4gIHJldHVybiBtdWlUaGVtZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVGhlbWU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuY29uc3QgVGhlbWVDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFRoZW1lQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdUaGVtZUNvbnRleHQnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaGVtZUNvbnRleHQ7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRoZW1lQ29udGV4dCBmcm9tICcuL1RoZW1lQ29udGV4dCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VUaGVtZSgpIHtcbiAgY29uc3QgdGhlbWUgPSBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGVtZTtcbn0iLCJpbXBvcnQgeyB1c2VUaGVtZSBhcyBtdWlVc2VUaGVtZSB9IGZyb20gJ0BtdWkvcHJpdmF0ZS10aGVtaW5nJztcblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG5mdW5jdGlvbiB1c2VUaGVtZShkZWZhdWx0VGhlbWUgPSBudWxsKSB7XG4gIGNvbnN0IGNvbnRleHRUaGVtZSA9IG11aVVzZVRoZW1lKCk7XG4gIHJldHVybiAhY29udGV4dFRoZW1lIHx8IGlzT2JqZWN0RW1wdHkoY29udGV4dFRoZW1lKSA/IGRlZmF1bHRUaGVtZSA6IGNvbnRleHRUaGVtZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlVGhlbWU7IiwiaW1wb3J0IGNyZWF0ZVRoZW1lIGZyb20gJy4vY3JlYXRlVGhlbWUnO1xuaW1wb3J0IHVzZVRoZW1lV2l0aG91dERlZmF1bHQgZnJvbSAnLi91c2VUaGVtZVdpdGhvdXREZWZhdWx0JztcbmV4cG9ydCBjb25zdCBzeXN0ZW1EZWZhdWx0VGhlbWUgPSBjcmVhdGVUaGVtZSgpO1xuXG5mdW5jdGlvbiB1c2VUaGVtZShkZWZhdWx0VGhlbWUgPSBzeXN0ZW1EZWZhdWx0VGhlbWUpIHtcbiAgcmV0dXJuIHVzZVRoZW1lV2l0aG91dERlZmF1bHQoZGVmYXVsdFRoZW1lKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlVGhlbWU7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJ2YXJpYW50XCJdO1xuaW1wb3J0IHsgdW5zdGFibGVfY2FwaXRhbGl6ZSBhcyBjYXBpdGFsaXplIH0gZnJvbSAnQG11aS91dGlscyc7XG5cbmZ1bmN0aW9uIGlzRW1wdHkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubGVuZ3RoID09PSAwO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgc3RyaW5nIGNsYXNzS2V5IGJhc2VkIG9uIHRoZSBwcm9wZXJ0aWVzIHByb3ZpZGVkLiBJdCBzdGFydHMgd2l0aCB0aGVcbiAqIHZhcmlhbnQgaWYgZGVmaW5lZCwgYW5kIHRoZW4gaXQgYXBwZW5kcyBhbGwgb3RoZXIgcHJvcGVydGllcyBpbiBhbHBoYWJldGljYWwgb3JkZXIuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgLSB0aGUgcHJvcGVydGllcyBmb3Igd2hpY2ggdGhlIGNsYXNzS2V5IHNob3VsZCBiZSBjcmVhdGVkLlxuICovXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJvcHNUb0NsYXNzS2V5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB2YXJpYW50XG4gIH0gPSBwcm9wcyxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICBsZXQgY2xhc3NLZXkgPSB2YXJpYW50IHx8ICcnO1xuICBPYmplY3Qua2V5cyhvdGhlcikuc29ydCgpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAoa2V5ID09PSAnY29sb3InKSB7XG4gICAgICBjbGFzc0tleSArPSBpc0VtcHR5KGNsYXNzS2V5KSA/IHByb3BzW2tleV0gOiBjYXBpdGFsaXplKHByb3BzW2tleV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc0tleSArPSBgJHtpc0VtcHR5KGNsYXNzS2V5KSA/IGtleSA6IGNhcGl0YWxpemUoa2V5KX0ke2NhcGl0YWxpemUocHJvcHNba2V5XS50b1N0cmluZygpKX1gO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjbGFzc0tleTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wibmFtZVwiLCBcInNsb3RcIiwgXCJza2lwVmFyaWFudHNSZXNvbHZlclwiLCBcInNraXBTeFwiLCBcIm92ZXJyaWRlc1Jlc29sdmVyXCJdLFxuICAgICAgX2V4Y2x1ZGVkMiA9IFtcInRoZW1lXCJdLFxuICAgICAgX2V4Y2x1ZGVkMyA9IFtcInRoZW1lXCJdO1xuaW1wb3J0IHN0eWxlZEVuZ2luZVN0eWxlZCBmcm9tICdAbXVpL3N0eWxlZC1lbmdpbmUnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCBjcmVhdGVUaGVtZSBmcm9tICcuL2NyZWF0ZVRoZW1lJztcbmltcG9ydCBzdHlsZUZ1bmN0aW9uU3ggZnJvbSAnLi9zdHlsZUZ1bmN0aW9uU3gnO1xuaW1wb3J0IHByb3BzVG9DbGFzc0tleSBmcm9tICcuL3Byb3BzVG9DbGFzc0tleSc7XG5cbmZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cblxuY29uc3QgZ2V0U3R5bGVPdmVycmlkZXMgPSAobmFtZSwgdGhlbWUpID0+IHtcbiAgaWYgKHRoZW1lLmNvbXBvbmVudHMgJiYgdGhlbWUuY29tcG9uZW50c1tuYW1lXSAmJiB0aGVtZS5jb21wb25lbnRzW25hbWVdLnN0eWxlT3ZlcnJpZGVzKSB7XG4gICAgcmV0dXJuIHRoZW1lLmNvbXBvbmVudHNbbmFtZV0uc3R5bGVPdmVycmlkZXM7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGdldFZhcmlhbnRTdHlsZXMgPSAobmFtZSwgdGhlbWUpID0+IHtcbiAgbGV0IHZhcmlhbnRzID0gW107XG5cbiAgaWYgKHRoZW1lICYmIHRoZW1lLmNvbXBvbmVudHMgJiYgdGhlbWUuY29tcG9uZW50c1tuYW1lXSAmJiB0aGVtZS5jb21wb25lbnRzW25hbWVdLnZhcmlhbnRzKSB7XG4gICAgdmFyaWFudHMgPSB0aGVtZS5jb21wb25lbnRzW25hbWVdLnZhcmlhbnRzO1xuICB9XG5cbiAgY29uc3QgdmFyaWFudHNTdHlsZXMgPSB7fTtcbiAgdmFyaWFudHMuZm9yRWFjaChkZWZpbml0aW9uID0+IHtcbiAgICBjb25zdCBrZXkgPSBwcm9wc1RvQ2xhc3NLZXkoZGVmaW5pdGlvbi5wcm9wcyk7XG4gICAgdmFyaWFudHNTdHlsZXNba2V5XSA9IGRlZmluaXRpb24uc3R5bGU7XG4gIH0pO1xuICByZXR1cm4gdmFyaWFudHNTdHlsZXM7XG59O1xuXG5jb25zdCB2YXJpYW50c1Jlc29sdmVyID0gKHByb3BzLCBzdHlsZXMsIHRoZW1lLCBuYW1lKSA9PiB7XG4gIHZhciBfdGhlbWUkY29tcG9uZW50cywgX3RoZW1lJGNvbXBvbmVudHMkbmFtO1xuXG4gIGNvbnN0IHtcbiAgICBvd25lclN0YXRlID0ge31cbiAgfSA9IHByb3BzO1xuICBjb25zdCB2YXJpYW50c1N0eWxlcyA9IFtdO1xuICBjb25zdCB0aGVtZVZhcmlhbnRzID0gdGhlbWUgPT0gbnVsbCA/IHZvaWQgMCA6IChfdGhlbWUkY29tcG9uZW50cyA9IHRoZW1lLmNvbXBvbmVudHMpID09IG51bGwgPyB2b2lkIDAgOiAoX3RoZW1lJGNvbXBvbmVudHMkbmFtID0gX3RoZW1lJGNvbXBvbmVudHNbbmFtZV0pID09IG51bGwgPyB2b2lkIDAgOiBfdGhlbWUkY29tcG9uZW50cyRuYW0udmFyaWFudHM7XG5cbiAgaWYgKHRoZW1lVmFyaWFudHMpIHtcbiAgICB0aGVtZVZhcmlhbnRzLmZvckVhY2godGhlbWVWYXJpYW50ID0+IHtcbiAgICAgIGxldCBpc01hdGNoID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5rZXlzKHRoZW1lVmFyaWFudC5wcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAob3duZXJTdGF0ZVtrZXldICE9PSB0aGVtZVZhcmlhbnQucHJvcHNba2V5XSAmJiBwcm9wc1trZXldICE9PSB0aGVtZVZhcmlhbnQucHJvcHNba2V5XSkge1xuICAgICAgICAgIGlzTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIHZhcmlhbnRzU3R5bGVzLnB1c2goc3R5bGVzW3Byb3BzVG9DbGFzc0tleSh0aGVtZVZhcmlhbnQucHJvcHMpXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFyaWFudHNTdHlsZXM7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkRm9yd2FyZFByb3AocHJvcCkge1xuICByZXR1cm4gcHJvcCAhPT0gJ293bmVyU3RhdGUnICYmIHByb3AgIT09ICd0aGVtZScgJiYgcHJvcCAhPT0gJ3N4JyAmJiBwcm9wICE9PSAnYXMnO1xufVxuZXhwb3J0IGNvbnN0IHN5c3RlbURlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG5cbmNvbnN0IGxvd2VyY2FzZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlZChpbnB1dCA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0VGhlbWUgPSBzeXN0ZW1EZWZhdWx0VGhlbWUsXG4gICAgcm9vdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3AsXG4gICAgc2xvdFNob3VsZEZvcndhcmRQcm9wID0gc2hvdWxkRm9yd2FyZFByb3BcbiAgfSA9IGlucHV0O1xuICByZXR1cm4gKHRhZywgaW5wdXRPcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgc2xvdDogY29tcG9uZW50U2xvdCxcbiAgICAgIHNraXBWYXJpYW50c1Jlc29sdmVyOiBpbnB1dFNraXBWYXJpYW50c1Jlc29sdmVyLFxuICAgICAgc2tpcFN4OiBpbnB1dFNraXBTeCxcbiAgICAgIG92ZXJyaWRlc1Jlc29sdmVyXG4gICAgfSA9IGlucHV0T3B0aW9ucyxcbiAgICAgICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoaW5wdXRPcHRpb25zLCBfZXhjbHVkZWQpOyAvLyBpZiBza2lwVmFyaWFudHNSZXNvbHZlciBvcHRpb24gaXMgZGVmaW5lZCwgdGFrZSB0aGUgdmFsdWUsIG90aGVyd2lzZSwgdHJ1ZSBmb3Igcm9vdCBhbmQgZmFsc2UgZm9yIG90aGVyIHNsb3RzLlxuXG5cbiAgICBjb25zdCBza2lwVmFyaWFudHNSZXNvbHZlciA9IGlucHV0U2tpcFZhcmlhbnRzUmVzb2x2ZXIgIT09IHVuZGVmaW5lZCA/IGlucHV0U2tpcFZhcmlhbnRzUmVzb2x2ZXIgOiBjb21wb25lbnRTbG90ICYmIGNvbXBvbmVudFNsb3QgIT09ICdSb290JyB8fCBmYWxzZTtcbiAgICBjb25zdCBza2lwU3ggPSBpbnB1dFNraXBTeCB8fCBmYWxzZTtcbiAgICBsZXQgbGFiZWw7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgbGFiZWwgPSBgJHtjb21wb25lbnROYW1lfS0ke2xvd2VyY2FzZUZpcnN0TGV0dGVyKGNvbXBvbmVudFNsb3QgfHwgJ1Jvb3QnKX1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBzaG91bGRGb3J3YXJkUHJvcE9wdGlvbiA9IHNob3VsZEZvcndhcmRQcm9wO1xuXG4gICAgaWYgKGNvbXBvbmVudFNsb3QgPT09ICdSb290Jykge1xuICAgICAgc2hvdWxkRm9yd2FyZFByb3BPcHRpb24gPSByb290U2hvdWxkRm9yd2FyZFByb3A7XG4gICAgfSBlbHNlIGlmIChjb21wb25lbnRTbG90KSB7XG4gICAgICAvLyBhbnkgb3RoZXIgc2xvdCBzcGVjaWZpZWRcbiAgICAgIHNob3VsZEZvcndhcmRQcm9wT3B0aW9uID0gc2xvdFNob3VsZEZvcndhcmRQcm9wO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmF1bHRTdHlsZWRSZXNvbHZlciA9IHN0eWxlZEVuZ2luZVN0eWxlZCh0YWcsIF9leHRlbmRzKHtcbiAgICAgIHNob3VsZEZvcndhcmRQcm9wOiBzaG91bGRGb3J3YXJkUHJvcE9wdGlvbixcbiAgICAgIGxhYmVsXG4gICAgfSwgb3B0aW9ucykpO1xuXG4gICAgY29uc3QgbXVpU3R5bGVkUmVzb2x2ZXIgPSAoc3R5bGVBcmcsIC4uLmV4cHJlc3Npb25zKSA9PiB7XG4gICAgICBjb25zdCBleHByZXNzaW9uc1dpdGhEZWZhdWx0VGhlbWUgPSBleHByZXNzaW9ucyA/IGV4cHJlc3Npb25zLm1hcChzdHlsZXNBcmcgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0eWxlc0FyZyA9PT0gJ2Z1bmN0aW9uJyA/IF9yZWYgPT4ge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICB0aGVtZTogdGhlbWVJbnB1dFxuICAgICAgICAgIH0gPSBfcmVmLFxuICAgICAgICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIF9leGNsdWRlZDIpO1xuXG4gICAgICAgICAgcmV0dXJuIHN0eWxlc0FyZyhfZXh0ZW5kcyh7XG4gICAgICAgICAgICB0aGVtZTogaXNFbXB0eSh0aGVtZUlucHV0KSA/IGRlZmF1bHRUaGVtZSA6IHRoZW1lSW5wdXRcbiAgICAgICAgICB9LCBvdGhlcikpO1xuICAgICAgICB9IDogc3R5bGVzQXJnO1xuICAgICAgfSkgOiBbXTtcbiAgICAgIGxldCB0cmFuc2Zvcm1lZFN0eWxlQXJnID0gc3R5bGVBcmc7XG5cbiAgICAgIGlmIChjb21wb25lbnROYW1lICYmIG92ZXJyaWRlc1Jlc29sdmVyKSB7XG4gICAgICAgIGV4cHJlc3Npb25zV2l0aERlZmF1bHRUaGVtZS5wdXNoKHByb3BzID0+IHtcbiAgICAgICAgICBjb25zdCB0aGVtZSA9IGlzRW1wdHkocHJvcHMudGhlbWUpID8gZGVmYXVsdFRoZW1lIDogcHJvcHMudGhlbWU7XG4gICAgICAgICAgY29uc3Qgc3R5bGVPdmVycmlkZXMgPSBnZXRTdHlsZU92ZXJyaWRlcyhjb21wb25lbnROYW1lLCB0aGVtZSk7XG5cbiAgICAgICAgICBpZiAoc3R5bGVPdmVycmlkZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBvdmVycmlkZXNSZXNvbHZlcihwcm9wcywgc3R5bGVPdmVycmlkZXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXBvbmVudE5hbWUgJiYgIXNraXBWYXJpYW50c1Jlc29sdmVyKSB7XG4gICAgICAgIGV4cHJlc3Npb25zV2l0aERlZmF1bHRUaGVtZS5wdXNoKHByb3BzID0+IHtcbiAgICAgICAgICBjb25zdCB0aGVtZSA9IGlzRW1wdHkocHJvcHMudGhlbWUpID8gZGVmYXVsdFRoZW1lIDogcHJvcHMudGhlbWU7XG4gICAgICAgICAgcmV0dXJuIHZhcmlhbnRzUmVzb2x2ZXIocHJvcHMsIGdldFZhcmlhbnRTdHlsZXMoY29tcG9uZW50TmFtZSwgdGhlbWUpLCB0aGVtZSwgY29tcG9uZW50TmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNraXBTeCkge1xuICAgICAgICBleHByZXNzaW9uc1dpdGhEZWZhdWx0VGhlbWUucHVzaChwcm9wcyA9PiB7XG4gICAgICAgICAgY29uc3QgdGhlbWUgPSBpc0VtcHR5KHByb3BzLnRoZW1lKSA/IGRlZmF1bHRUaGVtZSA6IHByb3BzLnRoZW1lO1xuICAgICAgICAgIHJldHVybiBzdHlsZUZ1bmN0aW9uU3goX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgICB0aGVtZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG51bU9mQ3VzdG9tRm5zQXBwbGllZCA9IGV4cHJlc3Npb25zV2l0aERlZmF1bHRUaGVtZS5sZW5ndGggLSBleHByZXNzaW9ucy5sZW5ndGg7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlQXJnKSAmJiBudW1PZkN1c3RvbUZuc0FwcGxpZWQgPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVycyA9IG5ldyBBcnJheShudW1PZkN1c3RvbUZuc0FwcGxpZWQpLmZpbGwoJycpOyAvLyBJZiB0aGUgdHlwZSBpcyBhcnJheSwgdGhhbiB3ZSBuZWVkIHRvIGFkZCBwbGFjZWhvbGRlcnMgaW4gdGhlIHRlbXBsYXRlIGZvciB0aGUgb3ZlcnJpZGVzLCB2YXJpYW50cyBhbmQgdGhlIHN4IHN0eWxlcy5cblxuICAgICAgICB0cmFuc2Zvcm1lZFN0eWxlQXJnID0gWy4uLnN0eWxlQXJnLCAuLi5wbGFjZWhvbGRlcnNdO1xuICAgICAgICB0cmFuc2Zvcm1lZFN0eWxlQXJnLnJhdyA9IFsuLi5zdHlsZUFyZy5yYXcsIC4uLnBsYWNlaG9sZGVyc107XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZUFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJZiB0aGUgdHlwZSBpcyBmdW5jdGlvbiwgd2UgbmVlZCB0byBkZWZpbmUgdGhlIGRlZmF1bHQgdGhlbWUuXG4gICAgICAgIHRyYW5zZm9ybWVkU3R5bGVBcmcgPSBfcmVmMiA9PiB7XG4gICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIHRoZW1lOiB0aGVtZUlucHV0XG4gICAgICAgICAgfSA9IF9yZWYyLFxuICAgICAgICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBfZXhjbHVkZWQzKTtcblxuICAgICAgICAgIHJldHVybiBzdHlsZUFyZyhfZXh0ZW5kcyh7XG4gICAgICAgICAgICB0aGVtZTogaXNFbXB0eSh0aGVtZUlucHV0KSA/IGRlZmF1bHRUaGVtZSA6IHRoZW1lSW5wdXRcbiAgICAgICAgICB9LCBvdGhlcikpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBDb21wb25lbnQgPSBkZWZhdWx0U3R5bGVkUmVzb2x2ZXIodHJhbnNmb3JtZWRTdHlsZUFyZywgLi4uZXhwcmVzc2lvbnNXaXRoRGVmYXVsdFRoZW1lKTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgbGV0IGRpc3BsYXlOYW1lO1xuXG4gICAgICAgIGlmIChjb21wb25lbnROYW1lKSB7XG4gICAgICAgICAgZGlzcGxheU5hbWUgPSBgJHtjb21wb25lbnROYW1lfSR7Y29tcG9uZW50U2xvdCB8fCAnJ31gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkaXNwbGF5TmFtZSA9IGBTdHlsZWQoJHtnZXREaXNwbGF5TmFtZSh0YWcpfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgfTtcblxuICAgIHJldHVybiBtdWlTdHlsZWRSZXNvbHZlcjtcbiAgfTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1zeW50YXggKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRoZW1lUHJvcHMocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZSxcbiAgICBuYW1lLFxuICAgIHByb3BzXG4gIH0gPSBwYXJhbXM7XG5cbiAgaWYgKCF0aGVtZSB8fCAhdGhlbWUuY29tcG9uZW50cyB8fCAhdGhlbWUuY29tcG9uZW50c1tuYW1lXSB8fCAhdGhlbWUuY29tcG9uZW50c1tuYW1lXS5kZWZhdWx0UHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cblxuICBjb25zdCBvdXRwdXQgPSBfZXh0ZW5kcyh7fSwgcHJvcHMpOyAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHMsIGNvZGUgYm9ycm93IGZyb20gUmVhY3Qgc291cmNlLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi8xNWE4ZjAzMTgzOGE1NTNlNDFjMGI2NmViMWJjZjFkYTg0NDgxMDRkL3BhY2thZ2VzL3JlYWN0L3NyYy9SZWFjdEVsZW1lbnQuanMjTDIyMVxuXG5cbiAgY29uc3QgZGVmYXVsdFByb3BzID0gdGhlbWUuY29tcG9uZW50c1tuYW1lXS5kZWZhdWx0UHJvcHM7XG4gIGxldCBwcm9wTmFtZTtcblxuICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgIGlmIChvdXRwdXRbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dHB1dFtwcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59IiwiaW1wb3J0IGdldFRoZW1lUHJvcHMgZnJvbSAnLi9nZXRUaGVtZVByb3BzJztcbmltcG9ydCB1c2VUaGVtZSBmcm9tICcuLi91c2VUaGVtZSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VUaGVtZVByb3BzKHtcbiAgcHJvcHMsXG4gIG5hbWUsXG4gIGRlZmF1bHRUaGVtZVxufSkge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKGRlZmF1bHRUaGVtZSk7XG4gIGNvbnN0IG1lcmdlZFByb3BzID0gZ2V0VGhlbWVQcm9wcyh7XG4gICAgdGhlbWUsXG4gICAgbmFtZSxcbiAgICBwcm9wc1xuICB9KTtcbiAgcmV0dXJuIG1lcmdlZFByb3BzO1xufSIsImltcG9ydCB7IGZvcm1hdE11aUVycm9yTWVzc2FnZSBhcyBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkBtdWkvdXRpbHNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIHdob3NlIHZhbHVlIGlzIGxpbWl0ZWQgdG8gdGhlIGdpdmVuIHJhbmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBjbGFtcGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBsb3dlciBib3VuZGFyeSBvZiB0aGUgb3V0cHV0IHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSB1cHBlciBib3VuZGFyeSBvZiB0aGUgb3V0cHV0IHJhbmdlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIG51bWJlciBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4XVxuICovXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xuICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBUaGUgdmFsdWUgcHJvdmlkZWQgJHt2YWx1ZX0gaXMgb3V0IG9mIHJhbmdlIFske21pbn0sICR7bWF4fV0uYCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgdmFsdWUpLCBtYXgpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGZyb20gQ1NTIGhleCBmb3JtYXQgdG8gQ1NTIHJnYiBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBIZXggY29sb3IsIGkuZS4gI25ubiBvciAjbm5ubm5uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyByZ2IgY29sb3Igc3RyaW5nXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9SZ2IoY29sb3IpIHtcbiAgY29sb3IgPSBjb2xvci5zdWJzdHIoMSk7XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgLnsxLCR7Y29sb3IubGVuZ3RoID49IDYgPyAyIDogMX19YCwgJ2cnKTtcbiAgbGV0IGNvbG9ycyA9IGNvbG9yLm1hdGNoKHJlKTtcblxuICBpZiAoY29sb3JzICYmIGNvbG9yc1swXS5sZW5ndGggPT09IDEpIHtcbiAgICBjb2xvcnMgPSBjb2xvcnMubWFwKG4gPT4gbiArIG4pO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9ycyA/IGByZ2Ike2NvbG9ycy5sZW5ndGggPT09IDQgPyAnYScgOiAnJ30oJHtjb2xvcnMubWFwKChuLCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBpbmRleCA8IDMgPyBwYXJzZUludChuLCAxNikgOiBNYXRoLnJvdW5kKHBhcnNlSW50KG4sIDE2KSAvIDI1NSAqIDEwMDApIC8gMTAwMDtcbiAgfSkuam9pbignLCAnKX0pYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBpbnRUb0hleChpbnQpIHtcbiAgY29uc3QgaGV4ID0gaW50LnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyBgMCR7aGV4fWAgOiBoZXg7XG59XG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgYW5kIHZhbHVlcyBvZiBhIGNvbG9yLlxuICpcbiAqIE5vdGU6IERvZXMgbm90IHN1cHBvcnQgcmdiICUgdmFsdWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHJldHVybnMge29iamVjdH0gLSBBIE1VSSBjb2xvciBvYmplY3Q6IHt0eXBlOiBzdHJpbmcsIHZhbHVlczogbnVtYmVyW119XG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlQ29sb3IoY29sb3IpIHtcbiAgLy8gSWRlbXBvdGVudFxuICBpZiAoY29sb3IudHlwZSkge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIGlmIChjb2xvci5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgIHJldHVybiBkZWNvbXBvc2VDb2xvcihoZXhUb1JnYihjb2xvcikpO1xuICB9XG5cbiAgY29uc3QgbWFya2VyID0gY29sb3IuaW5kZXhPZignKCcpO1xuICBjb25zdCB0eXBlID0gY29sb3Iuc3Vic3RyaW5nKDAsIG1hcmtlcik7XG5cbiAgaWYgKFsncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnLCAnY29sb3InXS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBVbnN1cHBvcnRlZCBcXGAke2NvbG9yfVxcYCBjb2xvci5cblRoZSBmb2xsb3dpbmcgZm9ybWF0cyBhcmUgc3VwcG9ydGVkOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpLmAgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDksIGNvbG9yKSk7XG4gIH1cblxuICBsZXQgdmFsdWVzID0gY29sb3Iuc3Vic3RyaW5nKG1hcmtlciArIDEsIGNvbG9yLmxlbmd0aCAtIDEpO1xuICBsZXQgY29sb3JTcGFjZTtcblxuICBpZiAodHlwZSA9PT0gJ2NvbG9yJykge1xuICAgIHZhbHVlcyA9IHZhbHVlcy5zcGxpdCgnICcpO1xuICAgIGNvbG9yU3BhY2UgPSB2YWx1ZXMuc2hpZnQoKTtcblxuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSA0ICYmIHZhbHVlc1szXS5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgICAgdmFsdWVzWzNdID0gdmFsdWVzWzNdLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICBpZiAoWydzcmdiJywgJ2Rpc3BsYXktcDMnLCAnYTk4LXJnYicsICdwcm9waG90by1yZ2InLCAncmVjLTIwMjAnXS5pbmRleE9mKGNvbG9yU3BhY2UpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGBNVUk6IHVuc3VwcG9ydGVkIFxcYCR7Y29sb3JTcGFjZX1cXGAgY29sb3Igc3BhY2UuXG5UaGUgZm9sbG93aW5nIGNvbG9yIHNwYWNlcyBhcmUgc3VwcG9ydGVkOiBzcmdiLCBkaXNwbGF5LXAzLCBhOTgtcmdiLCBwcm9waG90by1yZ2IsIHJlYy0yMDIwLmAgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDEwLCBjb2xvclNwYWNlKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlcyA9IHZhbHVlcy5zcGxpdCgnLCcpO1xuICB9XG5cbiAgdmFsdWVzID0gdmFsdWVzLm1hcCh2YWx1ZSA9PiBwYXJzZUZsb2F0KHZhbHVlKSk7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB2YWx1ZXMsXG4gICAgY29sb3JTcGFjZVxuICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIG9iamVjdCB3aXRoIHR5cGUgYW5kIHZhbHVlcyB0byBhIHN0cmluZy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb2xvciAtIERlY29tcG9zZWQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvci50eXBlIC0gT25lIG9mOiAncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnXG4gKiBAcGFyYW0ge2FycmF5fSBjb2xvci52YWx1ZXMgLSBbbixuLG5dIG9yIFtuLG4sbixuXVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29tcG9zZUNvbG9yKGNvbG9yKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlLFxuICAgIGNvbG9yU3BhY2VcbiAgfSA9IGNvbG9yO1xuICBsZXQge1xuICAgIHZhbHVlc1xuICB9ID0gY29sb3I7XG5cbiAgaWYgKHR5cGUuaW5kZXhPZigncmdiJykgIT09IC0xKSB7XG4gICAgLy8gT25seSBjb252ZXJ0IHRoZSBmaXJzdCAzIHZhbHVlcyB0byBpbnQgKGkuZS4gbm90IGFscGhhKVxuICAgIHZhbHVlcyA9IHZhbHVlcy5tYXAoKG4sIGkpID0+IGkgPCAzID8gcGFyc2VJbnQobiwgMTApIDogbik7XG4gIH0gZWxzZSBpZiAodHlwZS5pbmRleE9mKCdoc2wnKSAhPT0gLTEpIHtcbiAgICB2YWx1ZXNbMV0gPSBgJHt2YWx1ZXNbMV19JWA7XG4gICAgdmFsdWVzWzJdID0gYCR7dmFsdWVzWzJdfSVgO1xuICB9XG5cbiAgaWYgKHR5cGUuaW5kZXhPZignY29sb3InKSAhPT0gLTEpIHtcbiAgICB2YWx1ZXMgPSBgJHtjb2xvclNwYWNlfSAke3ZhbHVlcy5qb2luKCcgJyl9YDtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZXMgPSBgJHt2YWx1ZXMuam9pbignLCAnKX1gO1xuICB9XG5cbiAgcmV0dXJuIGAke3R5cGV9KCR7dmFsdWVzfSlgO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGZyb20gQ1NTIHJnYiBmb3JtYXQgdG8gQ1NTIGhleCBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBSR0IgY29sb3IsIGkuZS4gcmdiKG4sIG4sIG4pXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyByZ2IgY29sb3Igc3RyaW5nLCBpLmUuICNubm5ubm5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9IZXgoY29sb3IpIHtcbiAgLy8gSWRlbXBvdGVudFxuICBpZiAoY29sb3IuaW5kZXhPZignIycpID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIHZhbHVlc1xuICB9ID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICByZXR1cm4gYCMke3ZhbHVlcy5tYXAoKG4sIGkpID0+IGludFRvSGV4KGkgPT09IDMgPyBNYXRoLnJvdW5kKDI1NSAqIG4pIDogbikpLmpvaW4oJycpfWA7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgZnJvbSBoc2wgZm9ybWF0IHRvIHJnYiBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBIU0wgY29sb3IgdmFsdWVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZ2IgY29sb3IgdmFsdWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbFRvUmdiKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb25zdCB7XG4gICAgdmFsdWVzXG4gIH0gPSBjb2xvcjtcbiAgY29uc3QgaCA9IHZhbHVlc1swXTtcbiAgY29uc3QgcyA9IHZhbHVlc1sxXSAvIDEwMDtcbiAgY29uc3QgbCA9IHZhbHVlc1syXSAvIDEwMDtcbiAgY29uc3QgYSA9IHMgKiBNYXRoLm1pbihsLCAxIC0gbCk7XG5cbiAgY29uc3QgZiA9IChuLCBrID0gKG4gKyBoIC8gMzApICUgMTIpID0+IGwgLSBhICogTWF0aC5tYXgoTWF0aC5taW4oayAtIDMsIDkgLSBrLCAxKSwgLTEpO1xuXG4gIGxldCB0eXBlID0gJ3JnYic7XG4gIGNvbnN0IHJnYiA9IFtNYXRoLnJvdW5kKGYoMCkgKiAyNTUpLCBNYXRoLnJvdW5kKGYoOCkgKiAyNTUpLCBNYXRoLnJvdW5kKGYoNCkgKiAyNTUpXTtcblxuICBpZiAoY29sb3IudHlwZSA9PT0gJ2hzbGEnKSB7XG4gICAgdHlwZSArPSAnYSc7XG4gICAgcmdiLnB1c2godmFsdWVzWzNdKTtcbiAgfVxuXG4gIHJldHVybiByZWNvbXBvc2VDb2xvcih7XG4gICAgdHlwZSxcbiAgICB2YWx1ZXM6IHJnYlxuICB9KTtcbn1cbi8qKlxuICogVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgYW55IHBvaW50IGluIGEgY29sb3Igc3BhY2UsXG4gKiBub3JtYWxpemVkIHRvIDAgZm9yIGRhcmtlc3QgYmxhY2sgYW5kIDEgZm9yIGxpZ2h0ZXN0IHdoaXRlLlxuICpcbiAqIEZvcm11bGE6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAtVEVDSFMvRzE3Lmh0bWwjRzE3LXRlc3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVsYXRpdmUgYnJpZ2h0bmVzcyBvZiB0aGUgY29sb3IgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEx1bWluYW5jZShjb2xvcikge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgbGV0IHJnYiA9IGNvbG9yLnR5cGUgPT09ICdoc2wnID8gZGVjb21wb3NlQ29sb3IoaHNsVG9SZ2IoY29sb3IpKS52YWx1ZXMgOiBjb2xvci52YWx1ZXM7XG4gIHJnYiA9IHJnYi5tYXAodmFsID0+IHtcbiAgICBpZiAoY29sb3IudHlwZSAhPT0gJ2NvbG9yJykge1xuICAgICAgdmFsIC89IDI1NTsgLy8gbm9ybWFsaXplZFxuICAgIH1cblxuICAgIHJldHVybiB2YWwgPD0gMC4wMzkyOCA/IHZhbCAvIDEyLjkyIDogKCh2YWwgKyAwLjA1NSkgLyAxLjA1NSkgKiogMi40O1xuICB9KTsgLy8gVHJ1bmNhdGUgYXQgMyBkaWdpdHNcblxuICByZXR1cm4gTnVtYmVyKCgwLjIxMjYgKiByZ2JbMF0gKyAwLjcxNTIgKiByZ2JbMV0gKyAwLjA3MjIgKiByZ2JbMl0pLnRvRml4ZWQoMykpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb250cmFzdCByYXRpbyBiZXR3ZWVuIHR3byBjb2xvcnMuXG4gKlxuICogRm9ybXVsYTogaHR0cHM6Ly93d3cudzMub3JnL1RSL1dDQUcyMC1URUNIUy9HMTcuaHRtbCNHMTctdGVzdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JlZ3JvdW5kIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIGNvbnRyYXN0IHJhdGlvIHZhbHVlIGluIHRoZSByYW5nZSAwIC0gMjEuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRyYXN0UmF0aW8oZm9yZWdyb3VuZCwgYmFja2dyb3VuZCkge1xuICBjb25zdCBsdW1BID0gZ2V0THVtaW5hbmNlKGZvcmVncm91bmQpO1xuICBjb25zdCBsdW1CID0gZ2V0THVtaW5hbmNlKGJhY2tncm91bmQpO1xuICByZXR1cm4gKE1hdGgubWF4KGx1bUEsIGx1bUIpICsgMC4wNSkgLyAoTWF0aC5taW4obHVtQSwgbHVtQikgKyAwLjA1KTtcbn1cbi8qKlxuICogU2V0cyB0aGUgYWJzb2x1dGUgdHJhbnNwYXJlbmN5IG9mIGEgY29sb3IuXG4gKiBBbnkgZXhpc3RpbmcgYWxwaGEgdmFsdWVzIGFyZSBvdmVyd3JpdHRlbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCksIGNvbG9yKClcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIHNldCB0aGUgYWxwaGEgY2hhbm5lbCB0byBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhKGNvbG9yLCB2YWx1ZSkge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgdmFsdWUgPSBjbGFtcCh2YWx1ZSk7XG5cbiAgaWYgKGNvbG9yLnR5cGUgPT09ICdyZ2InIHx8IGNvbG9yLnR5cGUgPT09ICdoc2wnKSB7XG4gICAgY29sb3IudHlwZSArPSAnYSc7XG4gIH1cblxuICBpZiAoY29sb3IudHlwZSA9PT0gJ2NvbG9yJykge1xuICAgIGNvbG9yLnZhbHVlc1szXSA9IGAvJHt2YWx1ZX1gO1xuICB9IGVsc2Uge1xuICAgIGNvbG9yLnZhbHVlc1szXSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKGNvbG9yKTtcbn1cbi8qKlxuICogRGFya2VucyBhIGNvbG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKSwgY29sb3IoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRhcmtlbihjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIGNvZWZmaWNpZW50ID0gY2xhbXAoY29lZmZpY2llbnQpO1xuXG4gIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ2hzbCcpICE9PSAtMSkge1xuICAgIGNvbG9yLnZhbHVlc1syXSAqPSAxIC0gY29lZmZpY2llbnQ7XG4gIH0gZWxzZSBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdyZ2InKSAhPT0gLTEgfHwgY29sb3IudHlwZS5pbmRleE9mKCdjb2xvcicpICE9PSAtMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKj0gMSAtIGNvZWZmaWNpZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWNvbXBvc2VDb2xvcihjb2xvcik7XG59XG4vKipcbiAqIExpZ2h0ZW5zIGEgY29sb3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQgLSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQpIHtcbiAgY29sb3IgPSBkZWNvbXBvc2VDb2xvcihjb2xvcik7XG4gIGNvZWZmaWNpZW50ID0gY2xhbXAoY29lZmZpY2llbnQpO1xuXG4gIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ2hzbCcpICE9PSAtMSkge1xuICAgIGNvbG9yLnZhbHVlc1syXSArPSAoMTAwIC0gY29sb3IudmFsdWVzWzJdKSAqIGNvZWZmaWNpZW50O1xuICB9IGVsc2UgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZigncmdiJykgIT09IC0xKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGNvbG9yLnZhbHVlc1tpXSArPSAoMjU1IC0gY29sb3IudmFsdWVzW2ldKSAqIGNvZWZmaWNpZW50O1xuICAgIH1cbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ2NvbG9yJykgIT09IC0xKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGNvbG9yLnZhbHVlc1tpXSArPSAoMSAtIGNvbG9yLnZhbHVlc1tpXSkgKiBjb2VmZmljaWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuLyoqXG4gKiBEYXJrZW4gb3IgbGlnaHRlbiBhIGNvbG9yLCBkZXBlbmRpbmcgb24gaXRzIGx1bWluYW5jZS5cbiAqIExpZ2h0IGNvbG9ycyBhcmUgZGFya2VuZWQsIGRhcmsgY29sb3JzIGFyZSBsaWdodGVuZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpLCBjb2xvcigpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQ9MC4xNSAtIG11bHRpcGxpZXIgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlbXBoYXNpemUoY29sb3IsIGNvZWZmaWNpZW50ID0gMC4xNSkge1xuICByZXR1cm4gZ2V0THVtaW5hbmNlKGNvbG9yKSA+IDAuNSA/IGRhcmtlbihjb2xvciwgY29lZmZpY2llbnQpIDogbGlnaHRlbihjb2xvciwgY29lZmZpY2llbnQpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXRVdGlsaXR5Q2xhc3MsIGNsYXNzZXMpIHtcbiAgY29uc3Qgb3V0cHV0ID0ge307XG4gIE9iamVjdC5rZXlzKHNsb3RzKS5mb3JFYWNoKCAvLyBgT2JqZXQua2V5cyhzbG90cylgIGNhbid0IGJlIHdpZGVyIHRoYW4gYFRgIGJlY2F1c2Ugd2UgaW5mZXIgYFRgIGZyb20gYHNsb3RzYC5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvcHVsbC8xMjI1MyNpc3N1ZWNvbW1lbnQtMjYzMTMyMjA4XG4gIHNsb3QgPT4ge1xuICAgIG91dHB1dFtzbG90XSA9IHNsb3RzW3Nsb3RdLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGNsYXNzZXMgJiYgY2xhc3Nlc1trZXldKSB7XG4gICAgICAgICAgYWNjLnB1c2goY2xhc3Nlc1trZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFjYy5wdXNoKGdldFV0aWxpdHlDbGFzcyhrZXkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSkuam9pbignICcpO1xuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn0iLCJjb25zdCBnbG9iYWxTdGF0ZUNsYXNzZXNNYXBwaW5nID0ge1xuICBhY3RpdmU6ICdNdWktYWN0aXZlJyxcbiAgY2hlY2tlZDogJ011aS1jaGVja2VkJyxcbiAgY29tcGxldGVkOiAnTXVpLWNvbXBsZXRlZCcsXG4gIGRpc2FibGVkOiAnTXVpLWRpc2FibGVkJyxcbiAgZXJyb3I6ICdNdWktZXJyb3InLFxuICBleHBhbmRlZDogJ011aS1leHBhbmRlZCcsXG4gIGZvY3VzZWQ6ICdNdWktZm9jdXNlZCcsXG4gIGZvY3VzVmlzaWJsZTogJ011aS1mb2N1c1Zpc2libGUnLFxuICByZXF1aXJlZDogJ011aS1yZXF1aXJlZCcsXG4gIHNlbGVjdGVkOiAnTXVpLXNlbGVjdGVkJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVXRpbGl0eUNsYXNzKGNvbXBvbmVudE5hbWUsIHNsb3QpIHtcbiAgY29uc3QgZ2xvYmFsU3RhdGVDbGFzcyA9IGdsb2JhbFN0YXRlQ2xhc3Nlc01hcHBpbmdbc2xvdF07XG4gIHJldHVybiBnbG9iYWxTdGF0ZUNsYXNzIHx8IGAke2NvbXBvbmVudE5hbWV9LSR7c2xvdH1gO1xufSIsImltcG9ydCBnZW5lcmF0ZVV0aWxpdHlDbGFzcyBmcm9tICcuLi9nZW5lcmF0ZVV0aWxpdHlDbGFzcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKGNvbXBvbmVudE5hbWUsIHNsb3RzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBzbG90cy5mb3JFYWNoKHNsb3QgPT4ge1xuICAgIHJlc3VsdFtzbG90XSA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzKGNvbXBvbmVudE5hbWUsIHNsb3QpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1peGlucyhicmVha3BvaW50cywgc3BhY2luZywgbWl4aW5zKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgbWluSGVpZ2h0OiA1NixcbiAgICAgIFtgJHticmVha3BvaW50cy51cCgneHMnKX0gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKWBdOiB7XG4gICAgICAgIG1pbkhlaWdodDogNDhcbiAgICAgIH0sXG4gICAgICBbYnJlYWtwb2ludHMudXAoJ3NtJyldOiB7XG4gICAgICAgIG1pbkhlaWdodDogNjRcbiAgICAgIH1cbiAgICB9XG4gIH0sIG1peGlucyk7XG59IiwiY29uc3QgY29tbW9uID0ge1xuICBibGFjazogJyMwMDAnLFxuICB3aGl0ZTogJyNmZmYnXG59O1xuZXhwb3J0IGRlZmF1bHQgY29tbW9uOyIsImNvbnN0IGdyZXkgPSB7XG4gIDUwOiAnI2ZhZmFmYScsXG4gIDEwMDogJyNmNWY1ZjUnLFxuICAyMDA6ICcjZWVlZWVlJyxcbiAgMzAwOiAnI2UwZTBlMCcsXG4gIDQwMDogJyNiZGJkYmQnLFxuICA1MDA6ICcjOWU5ZTllJyxcbiAgNjAwOiAnIzc1NzU3NScsXG4gIDcwMDogJyM2MTYxNjEnLFxuICA4MDA6ICcjNDI0MjQyJyxcbiAgOTAwOiAnIzIxMjEyMScsXG4gIEExMDA6ICcjZjVmNWY1JyxcbiAgQTIwMDogJyNlZWVlZWUnLFxuICBBNDAwOiAnI2JkYmRiZCcsXG4gIEE3MDA6ICcjNjE2MTYxJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGdyZXk7IiwiY29uc3QgcHVycGxlID0ge1xuICA1MDogJyNmM2U1ZjUnLFxuICAxMDA6ICcjZTFiZWU3JyxcbiAgMjAwOiAnI2NlOTNkOCcsXG4gIDMwMDogJyNiYTY4YzgnLFxuICA0MDA6ICcjYWI0N2JjJyxcbiAgNTAwOiAnIzljMjdiMCcsXG4gIDYwMDogJyM4ZTI0YWEnLFxuICA3MDA6ICcjN2IxZmEyJyxcbiAgODAwOiAnIzZhMWI5YScsXG4gIDkwMDogJyM0YTE0OGMnLFxuICBBMTAwOiAnI2VhODBmYycsXG4gIEEyMDA6ICcjZTA0MGZiJyxcbiAgQTQwMDogJyNkNTAwZjknLFxuICBBNzAwOiAnI2FhMDBmZidcbn07XG5leHBvcnQgZGVmYXVsdCBwdXJwbGU7IiwiY29uc3QgcmVkID0ge1xuICA1MDogJyNmZmViZWUnLFxuICAxMDA6ICcjZmZjZGQyJyxcbiAgMjAwOiAnI2VmOWE5YScsXG4gIDMwMDogJyNlNTczNzMnLFxuICA0MDA6ICcjZWY1MzUwJyxcbiAgNTAwOiAnI2Y0NDMzNicsXG4gIDYwMDogJyNlNTM5MzUnLFxuICA3MDA6ICcjZDMyZjJmJyxcbiAgODAwOiAnI2M2MjgyOCcsXG4gIDkwMDogJyNiNzFjMWMnLFxuICBBMTAwOiAnI2ZmOGE4MCcsXG4gIEEyMDA6ICcjZmY1MjUyJyxcbiAgQTQwMDogJyNmZjE3NDQnLFxuICBBNzAwOiAnI2Q1MDAwMCdcbn07XG5leHBvcnQgZGVmYXVsdCByZWQ7IiwiY29uc3Qgb3JhbmdlID0ge1xuICA1MDogJyNmZmYzZTAnLFxuICAxMDA6ICcjZmZlMGIyJyxcbiAgMjAwOiAnI2ZmY2M4MCcsXG4gIDMwMDogJyNmZmI3NGQnLFxuICA0MDA6ICcjZmZhNzI2JyxcbiAgNTAwOiAnI2ZmOTgwMCcsXG4gIDYwMDogJyNmYjhjMDAnLFxuICA3MDA6ICcjZjU3YzAwJyxcbiAgODAwOiAnI2VmNmMwMCcsXG4gIDkwMDogJyNlNjUxMDAnLFxuICBBMTAwOiAnI2ZmZDE4MCcsXG4gIEEyMDA6ICcjZmZhYjQwJyxcbiAgQTQwMDogJyNmZjkxMDAnLFxuICBBNzAwOiAnI2ZmNmQwMCdcbn07XG5leHBvcnQgZGVmYXVsdCBvcmFuZ2U7IiwiY29uc3QgYmx1ZSA9IHtcbiAgNTA6ICcjZTNmMmZkJyxcbiAgMTAwOiAnI2JiZGVmYicsXG4gIDIwMDogJyM5MGNhZjknLFxuICAzMDA6ICcjNjRiNWY2JyxcbiAgNDAwOiAnIzQyYTVmNScsXG4gIDUwMDogJyMyMTk2ZjMnLFxuICA2MDA6ICcjMWU4OGU1JyxcbiAgNzAwOiAnIzE5NzZkMicsXG4gIDgwMDogJyMxNTY1YzAnLFxuICA5MDA6ICcjMGQ0N2ExJyxcbiAgQTEwMDogJyM4MmIxZmYnLFxuICBBMjAwOiAnIzQ0OGFmZicsXG4gIEE0MDA6ICcjMjk3OWZmJyxcbiAgQTcwMDogJyMyOTYyZmYnXG59O1xuZXhwb3J0IGRlZmF1bHQgYmx1ZTsiLCJjb25zdCBsaWdodEJsdWUgPSB7XG4gIDUwOiAnI2UxZjVmZScsXG4gIDEwMDogJyNiM2U1ZmMnLFxuICAyMDA6ICcjODFkNGZhJyxcbiAgMzAwOiAnIzRmYzNmNycsXG4gIDQwMDogJyMyOWI2ZjYnLFxuICA1MDA6ICcjMDNhOWY0JyxcbiAgNjAwOiAnIzAzOWJlNScsXG4gIDcwMDogJyMwMjg4ZDEnLFxuICA4MDA6ICcjMDI3N2JkJyxcbiAgOTAwOiAnIzAxNTc5YicsXG4gIEExMDA6ICcjODBkOGZmJyxcbiAgQTIwMDogJyM0MGM0ZmYnLFxuICBBNDAwOiAnIzAwYjBmZicsXG4gIEE3MDA6ICcjMDA5MWVhJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGxpZ2h0Qmx1ZTsiLCJjb25zdCBncmVlbiA9IHtcbiAgNTA6ICcjZThmNWU5JyxcbiAgMTAwOiAnI2M4ZTZjOScsXG4gIDIwMDogJyNhNWQ2YTcnLFxuICAzMDA6ICcjODFjNzg0JyxcbiAgNDAwOiAnIzY2YmI2YScsXG4gIDUwMDogJyM0Y2FmNTAnLFxuICA2MDA6ICcjNDNhMDQ3JyxcbiAgNzAwOiAnIzM4OGUzYycsXG4gIDgwMDogJyMyZTdkMzInLFxuICA5MDA6ICcjMWI1ZTIwJyxcbiAgQTEwMDogJyNiOWY2Y2EnLFxuICBBMjAwOiAnIzY5ZjBhZScsXG4gIEE0MDA6ICcjMDBlNjc2JyxcbiAgQTcwMDogJyMwMGM4NTMnXG59O1xuZXhwb3J0IGRlZmF1bHQgZ3JlZW47IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmltcG9ydCB7IGZvcm1hdE11aUVycm9yTWVzc2FnZSBhcyBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkBtdWkvdXRpbHNcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcIm1vZGVcIiwgXCJjb250cmFzdFRocmVzaG9sZFwiLCBcInRvbmFsT2Zmc2V0XCJdO1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgeyBkYXJrZW4sIGdldENvbnRyYXN0UmF0aW8sIGxpZ2h0ZW4gfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgY29tbW9uIGZyb20gJy4uL2NvbG9ycy9jb21tb24nO1xuaW1wb3J0IGdyZXkgZnJvbSAnLi4vY29sb3JzL2dyZXknO1xuaW1wb3J0IHB1cnBsZSBmcm9tICcuLi9jb2xvcnMvcHVycGxlJztcbmltcG9ydCByZWQgZnJvbSAnLi4vY29sb3JzL3JlZCc7XG5pbXBvcnQgb3JhbmdlIGZyb20gJy4uL2NvbG9ycy9vcmFuZ2UnO1xuaW1wb3J0IGJsdWUgZnJvbSAnLi4vY29sb3JzL2JsdWUnO1xuaW1wb3J0IGxpZ2h0Qmx1ZSBmcm9tICcuLi9jb2xvcnMvbGlnaHRCbHVlJztcbmltcG9ydCBncmVlbiBmcm9tICcuLi9jb2xvcnMvZ3JlZW4nO1xuZXhwb3J0IGNvbnN0IGxpZ2h0ID0ge1xuICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gc3R5bGUgdGhlIHRleHQuXG4gIHRleHQ6IHtcbiAgICAvLyBUaGUgbW9zdCBpbXBvcnRhbnQgdGV4dC5cbiAgICBwcmltYXJ5OiAncmdiYSgwLCAwLCAwLCAwLjg3KScsXG4gICAgLy8gU2Vjb25kYXJ5IHRleHQuXG4gICAgc2Vjb25kYXJ5OiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcbiAgICAvLyBEaXNhYmxlZCB0ZXh0IGhhdmUgZXZlbiBsb3dlciB2aXN1YWwgcHJvbWluZW5jZS5cbiAgICBkaXNhYmxlZDogJ3JnYmEoMCwgMCwgMCwgMC4zOCknXG4gIH0sXG4gIC8vIFRoZSBjb2xvciB1c2VkIHRvIGRpdmlkZSBkaWZmZXJlbnQgZWxlbWVudHMuXG4gIGRpdmlkZXI6ICdyZ2JhKDAsIDAsIDAsIDAuMTIpJyxcbiAgLy8gVGhlIGJhY2tncm91bmQgY29sb3JzIHVzZWQgdG8gc3R5bGUgdGhlIHN1cmZhY2VzLlxuICAvLyBDb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZXNlIHZhbHVlcyBpcyBpbXBvcnRhbnQuXG4gIGJhY2tncm91bmQ6IHtcbiAgICBwYXBlcjogY29tbW9uLndoaXRlLFxuICAgIGRlZmF1bHQ6IGNvbW1vbi53aGl0ZVxuICB9LFxuICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gc3R5bGUgdGhlIGFjdGlvbiBlbGVtZW50cy5cbiAgYWN0aW9uOiB7XG4gICAgLy8gVGhlIGNvbG9yIG9mIGFuIGFjdGl2ZSBhY3Rpb24gbGlrZSBhbiBpY29uIGJ1dHRvbi5cbiAgICBhY3RpdmU6ICdyZ2JhKDAsIDAsIDAsIDAuNTQpJyxcbiAgICAvLyBUaGUgY29sb3Igb2YgYW4gaG92ZXJlZCBhY3Rpb24uXG4gICAgaG92ZXI6ICdyZ2JhKDAsIDAsIDAsIDAuMDQpJyxcbiAgICBob3Zlck9wYWNpdHk6IDAuMDQsXG4gICAgLy8gVGhlIGNvbG9yIG9mIGEgc2VsZWN0ZWQgYWN0aW9uLlxuICAgIHNlbGVjdGVkOiAncmdiYSgwLCAwLCAwLCAwLjA4KScsXG4gICAgc2VsZWN0ZWRPcGFjaXR5OiAwLjA4LFxuICAgIC8vIFRoZSBjb2xvciBvZiBhIGRpc2FibGVkIGFjdGlvbi5cbiAgICBkaXNhYmxlZDogJ3JnYmEoMCwgMCwgMCwgMC4yNiknLFxuICAgIC8vIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIGEgZGlzYWJsZWQgYWN0aW9uLlxuICAgIGRpc2FibGVkQmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAgIGRpc2FibGVkT3BhY2l0eTogMC4zOCxcbiAgICBmb2N1czogJ3JnYmEoMCwgMCwgMCwgMC4xMiknLFxuICAgIGZvY3VzT3BhY2l0eTogMC4xMixcbiAgICBhY3RpdmF0ZWRPcGFjaXR5OiAwLjEyXG4gIH1cbn07XG5leHBvcnQgY29uc3QgZGFyayA9IHtcbiAgdGV4dDoge1xuICAgIHByaW1hcnk6IGNvbW1vbi53aGl0ZSxcbiAgICBzZWNvbmRhcnk6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknLFxuICAgIGRpc2FibGVkOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyxcbiAgICBpY29uOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJ1xuICB9LFxuICBkaXZpZGVyOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKScsXG4gIGJhY2tncm91bmQ6IHtcbiAgICBwYXBlcjogJyMxMjEyMTInLFxuICAgIGRlZmF1bHQ6ICcjMTIxMjEyJ1xuICB9LFxuICBhY3Rpb246IHtcbiAgICBhY3RpdmU6IGNvbW1vbi53aGl0ZSxcbiAgICBob3ZlcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCknLFxuICAgIGhvdmVyT3BhY2l0eTogMC4wOCxcbiAgICBzZWxlY3RlZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNiknLFxuICAgIHNlbGVjdGVkT3BhY2l0eTogMC4xNixcbiAgICBkaXNhYmxlZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG4gICAgZGlzYWJsZWRCYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKScsXG4gICAgZGlzYWJsZWRPcGFjaXR5OiAwLjM4LFxuICAgIGZvY3VzOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKScsXG4gICAgZm9jdXNPcGFjaXR5OiAwLjEyLFxuICAgIGFjdGl2YXRlZE9wYWNpdHk6IDAuMjRcbiAgfVxufTtcblxuZnVuY3Rpb24gYWRkTGlnaHRPckRhcmsoaW50ZW50LCBkaXJlY3Rpb24sIHNoYWRlLCB0b25hbE9mZnNldCkge1xuICBjb25zdCB0b25hbE9mZnNldExpZ2h0ID0gdG9uYWxPZmZzZXQubGlnaHQgfHwgdG9uYWxPZmZzZXQ7XG4gIGNvbnN0IHRvbmFsT2Zmc2V0RGFyayA9IHRvbmFsT2Zmc2V0LmRhcmsgfHwgdG9uYWxPZmZzZXQgKiAxLjU7XG5cbiAgaWYgKCFpbnRlbnRbZGlyZWN0aW9uXSkge1xuICAgIGlmIChpbnRlbnQuaGFzT3duUHJvcGVydHkoc2hhZGUpKSB7XG4gICAgICBpbnRlbnRbZGlyZWN0aW9uXSA9IGludGVudFtzaGFkZV07XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdsaWdodCcpIHtcbiAgICAgIGludGVudC5saWdodCA9IGxpZ2h0ZW4oaW50ZW50Lm1haW4sIHRvbmFsT2Zmc2V0TGlnaHQpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZGFyaycpIHtcbiAgICAgIGludGVudC5kYXJrID0gZGFya2VuKGludGVudC5tYWluLCB0b25hbE9mZnNldERhcmspO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0UHJpbWFyeShtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IGJsdWVbMjAwXSxcbiAgICAgIGxpZ2h0OiBibHVlWzUwXSxcbiAgICAgIGRhcms6IGJsdWVbNDAwXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1haW46IGJsdWVbNzAwXSxcbiAgICBsaWdodDogYmx1ZVs0MDBdLFxuICAgIGRhcms6IGJsdWVbODAwXVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0U2Vjb25kYXJ5KG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogcHVycGxlWzIwMF0sXG4gICAgICBsaWdodDogcHVycGxlWzUwXSxcbiAgICAgIGRhcms6IHB1cnBsZVs0MDBdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWFpbjogcHVycGxlWzUwMF0sXG4gICAgbGlnaHQ6IHB1cnBsZVszMDBdLFxuICAgIGRhcms6IHB1cnBsZVs3MDBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRFcnJvcihtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IHJlZFs1MDBdLFxuICAgICAgbGlnaHQ6IHJlZFszMDBdLFxuICAgICAgZGFyazogcmVkWzcwMF1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYWluOiByZWRbNzAwXSxcbiAgICBsaWdodDogcmVkWzQwMF0sXG4gICAgZGFyazogcmVkWzgwMF1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEluZm8obW9kZSA9ICdsaWdodCcpIHtcbiAgaWYgKG1vZGUgPT09ICdkYXJrJykge1xuICAgIHJldHVybiB7XG4gICAgICBtYWluOiBsaWdodEJsdWVbNDAwXSxcbiAgICAgIGxpZ2h0OiBsaWdodEJsdWVbMzAwXSxcbiAgICAgIGRhcms6IGxpZ2h0Qmx1ZVs3MDBdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWFpbjogbGlnaHRCbHVlWzcwMF0sXG4gICAgbGlnaHQ6IGxpZ2h0Qmx1ZVs1MDBdLFxuICAgIGRhcms6IGxpZ2h0Qmx1ZVs5MDBdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRTdWNjZXNzKG1vZGUgPSAnbGlnaHQnKSB7XG4gIGlmIChtb2RlID09PSAnZGFyaycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFpbjogZ3JlZW5bNDAwXSxcbiAgICAgIGxpZ2h0OiBncmVlblszMDBdLFxuICAgICAgZGFyazogZ3JlZW5bNzAwXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1haW46IGdyZWVuWzgwMF0sXG4gICAgbGlnaHQ6IGdyZWVuWzUwMF0sXG4gICAgZGFyazogZ3JlZW5bOTAwXVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0V2FybmluZyhtb2RlID0gJ2xpZ2h0Jykge1xuICBpZiAobW9kZSA9PT0gJ2RhcmsnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1haW46IG9yYW5nZVs0MDBdLFxuICAgICAgbGlnaHQ6IG9yYW5nZVszMDBdLFxuICAgICAgZGFyazogb3JhbmdlWzcwMF1cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtYWluOiAnI0VENkMwMicsXG4gICAgLy8gY2xvc2VzdCB0byBvcmFuZ2VbODAwXSB0aGF0IHBhc3MgMzoxLlxuICAgIGxpZ2h0OiBvcmFuZ2VbNTAwXSxcbiAgICBkYXJrOiBvcmFuZ2VbOTAwXVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQYWxldHRlKHBhbGV0dGUpIHtcbiAgY29uc3Qge1xuICAgIG1vZGUgPSAnbGlnaHQnLFxuICAgIGNvbnRyYXN0VGhyZXNob2xkID0gMyxcbiAgICB0b25hbE9mZnNldCA9IDAuMlxuICB9ID0gcGFsZXR0ZSxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwYWxldHRlLCBfZXhjbHVkZWQpO1xuXG4gIGNvbnN0IHByaW1hcnkgPSBwYWxldHRlLnByaW1hcnkgfHwgZ2V0RGVmYXVsdFByaW1hcnkobW9kZSk7XG4gIGNvbnN0IHNlY29uZGFyeSA9IHBhbGV0dGUuc2Vjb25kYXJ5IHx8IGdldERlZmF1bHRTZWNvbmRhcnkobW9kZSk7XG4gIGNvbnN0IGVycm9yID0gcGFsZXR0ZS5lcnJvciB8fCBnZXREZWZhdWx0RXJyb3IobW9kZSk7XG4gIGNvbnN0IGluZm8gPSBwYWxldHRlLmluZm8gfHwgZ2V0RGVmYXVsdEluZm8obW9kZSk7XG4gIGNvbnN0IHN1Y2Nlc3MgPSBwYWxldHRlLnN1Y2Nlc3MgfHwgZ2V0RGVmYXVsdFN1Y2Nlc3MobW9kZSk7XG4gIGNvbnN0IHdhcm5pbmcgPSBwYWxldHRlLndhcm5pbmcgfHwgZ2V0RGVmYXVsdFdhcm5pbmcobW9kZSk7IC8vIFVzZSB0aGUgc2FtZSBsb2dpYyBhc1xuICAvLyBCb290c3RyYXA6IGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iLzFkNmUzNzEwZGQ0NDdkZTFhMjAwZjI5ZThmYTUyMWY4YTA5MDhmNzAvc2Nzcy9fZnVuY3Rpb25zLnNjc3MjTDU5XG4gIC8vIGFuZCBtYXRlcmlhbC1jb21wb25lbnRzLXdlYiBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL2FjNDZiODg2M2M0ZGFiOWZjMjJjNGM2NjJkYzZiZDFiNjVkZDY1MmYvcGFja2FnZXMvbWRjLXRoZW1lL19mdW5jdGlvbnMuc2NzcyNMNTRcblxuICBmdW5jdGlvbiBnZXRDb250cmFzdFRleHQoYmFja2dyb3VuZCkge1xuICAgIGNvbnN0IGNvbnRyYXN0VGV4dCA9IGdldENvbnRyYXN0UmF0aW8oYmFja2dyb3VuZCwgZGFyay50ZXh0LnByaW1hcnkpID49IGNvbnRyYXN0VGhyZXNob2xkID8gZGFyay50ZXh0LnByaW1hcnkgOiBsaWdodC50ZXh0LnByaW1hcnk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc3QgY29udHJhc3QgPSBnZXRDb250cmFzdFJhdGlvKGJhY2tncm91bmQsIGNvbnRyYXN0VGV4dCk7XG5cbiAgICAgIGlmIChjb250cmFzdCA8IDMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbYE1VSTogVGhlIGNvbnRyYXN0IHJhdGlvIG9mICR7Y29udHJhc3R9OjEgZm9yICR7Y29udHJhc3RUZXh0fSBvbiAke2JhY2tncm91bmR9YCwgJ2ZhbGxzIGJlbG93IHRoZSBXQ0FHIHJlY29tbWVuZGVkIGFic29sdXRlIG1pbmltdW0gY29udHJhc3QgcmF0aW8gb2YgMzoxLicsICdodHRwczovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyN2aXN1YWwtYXVkaW8tY29udHJhc3QtY29udHJhc3QnXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRyYXN0VGV4dDtcbiAgfVxuXG4gIGNvbnN0IGF1Z21lbnRDb2xvciA9ICh7XG4gICAgY29sb3IsXG4gICAgbmFtZSxcbiAgICBtYWluU2hhZGUgPSA1MDAsXG4gICAgbGlnaHRTaGFkZSA9IDMwMCxcbiAgICBkYXJrU2hhZGUgPSA3MDBcbiAgfSkgPT4ge1xuICAgIGNvbG9yID0gX2V4dGVuZHMoe30sIGNvbG9yKTtcblxuICAgIGlmICghY29sb3IubWFpbiAmJiBjb2xvclttYWluU2hhZGVdKSB7XG4gICAgICBjb2xvci5tYWluID0gY29sb3JbbWFpblNoYWRlXTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbG9yLmhhc093blByb3BlcnR5KCdtYWluJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBgTVVJOiBUaGUgY29sb3Ike25hbWUgPyBgICgke25hbWV9KWAgOiAnJ30gcHJvdmlkZWQgdG8gYXVnbWVudENvbG9yKGNvbG9yKSBpcyBpbnZhbGlkLlxuVGhlIGNvbG9yIG9iamVjdCBuZWVkcyB0byBoYXZlIGEgXFxgbWFpblxcYCBwcm9wZXJ0eSBvciBhIFxcYCR7bWFpblNoYWRlfVxcYCBwcm9wZXJ0eS5gIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSgxMSwgbmFtZSA/IGAgKCR7bmFtZX0pYCA6ICcnLCBtYWluU2hhZGUpKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yLm1haW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gYE1VSTogVGhlIGNvbG9yJHtuYW1lID8gYCAoJHtuYW1lfSlgIDogJyd9IHByb3ZpZGVkIHRvIGF1Z21lbnRDb2xvcihjb2xvcikgaXMgaW52YWxpZC5cblxcYGNvbG9yLm1haW5cXGAgc2hvdWxkIGJlIGEgc3RyaW5nLCBidXQgXFxgJHtKU09OLnN0cmluZ2lmeShjb2xvci5tYWluKX1cXGAgd2FzIHByb3ZpZGVkIGluc3RlYWQuXG5cbkRpZCB5b3UgaW50ZW5kIHRvIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBhcHByb2FjaGVzP1xuXG5pbXBvcnQgeyBncmVlbiB9IGZyb20gXCJAbXVpL21hdGVyaWFsL2NvbG9yc1wiO1xuXG5jb25zdCB0aGVtZTEgPSBjcmVhdGVUaGVtZSh7IHBhbGV0dGU6IHtcbiAgcHJpbWFyeTogZ3JlZW4sXG59IH0pO1xuXG5jb25zdCB0aGVtZTIgPSBjcmVhdGVUaGVtZSh7IHBhbGV0dGU6IHtcbiAgcHJpbWFyeTogeyBtYWluOiBncmVlbls1MDBdIH0sXG59IH0pO2AgOiBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlKDEyLCBuYW1lID8gYCAoJHtuYW1lfSlgIDogJycsIEpTT04uc3RyaW5naWZ5KGNvbG9yLm1haW4pKSk7XG4gICAgfVxuXG4gICAgYWRkTGlnaHRPckRhcmsoY29sb3IsICdsaWdodCcsIGxpZ2h0U2hhZGUsIHRvbmFsT2Zmc2V0KTtcbiAgICBhZGRMaWdodE9yRGFyayhjb2xvciwgJ2RhcmsnLCBkYXJrU2hhZGUsIHRvbmFsT2Zmc2V0KTtcblxuICAgIGlmICghY29sb3IuY29udHJhc3RUZXh0KSB7XG4gICAgICBjb2xvci5jb250cmFzdFRleHQgPSBnZXRDb250cmFzdFRleHQoY29sb3IubWFpbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xuICB9O1xuXG4gIGNvbnN0IG1vZGVzID0ge1xuICAgIGRhcmssXG4gICAgbGlnaHRcbiAgfTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICghbW9kZXNbbW9kZV0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE1VSTogVGhlIHBhbGV0dGUgbW9kZSBcXGAke21vZGV9XFxgIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGFsZXR0ZU91dHB1dCA9IGRlZXBtZXJnZShfZXh0ZW5kcyh7XG4gICAgLy8gQSBjb2xsZWN0aW9uIG9mIGNvbW1vbiBjb2xvcnMuXG4gICAgY29tbW9uLFxuICAgIC8vIFRoZSBwYWxldHRlIG1vZGUsIGNhbiBiZSBsaWdodCBvciBkYXJrLlxuICAgIG1vZGUsXG4gICAgLy8gVGhlIGNvbG9ycyB1c2VkIHRvIHJlcHJlc2VudCBwcmltYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHByaW1hcnk6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogcHJpbWFyeSxcbiAgICAgIG5hbWU6ICdwcmltYXJ5J1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgc2Vjb25kYXJ5IGludGVyZmFjZSBlbGVtZW50cyBmb3IgYSB1c2VyLlxuICAgIHNlY29uZGFyeTogYXVnbWVudENvbG9yKHtcbiAgICAgIGNvbG9yOiBzZWNvbmRhcnksXG4gICAgICBuYW1lOiAnc2Vjb25kYXJ5JyxcbiAgICAgIG1haW5TaGFkZTogJ0E0MDAnLFxuICAgICAgbGlnaHRTaGFkZTogJ0EyMDAnLFxuICAgICAgZGFya1NoYWRlOiAnQTcwMCdcbiAgICB9KSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gcmVwcmVzZW50IGludGVyZmFjZSBlbGVtZW50cyB0aGF0IHRoZSB1c2VyIHNob3VsZCBiZSBtYWRlIGF3YXJlIG9mLlxuICAgIGVycm9yOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IGVycm9yLFxuICAgICAgbmFtZTogJ2Vycm9yJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byByZXByZXNlbnQgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGFjdGlvbnMgb3IgaW1wb3J0YW50IG1lc3NhZ2VzLlxuICAgIHdhcm5pbmc6IGF1Z21lbnRDb2xvcih7XG4gICAgICBjb2xvcjogd2FybmluZyxcbiAgICAgIG5hbWU6ICd3YXJuaW5nJ1xuICAgIH0pLFxuICAgIC8vIFRoZSBjb2xvcnMgdXNlZCB0byBwcmVzZW50IGluZm9ybWF0aW9uIHRvIHRoZSB1c2VyIHRoYXQgaXMgbmV1dHJhbCBhbmQgbm90IG5lY2Vzc2FyaWx5IGltcG9ydGFudC5cbiAgICBpbmZvOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IGluZm8sXG4gICAgICBuYW1lOiAnaW5mbydcbiAgICB9KSxcbiAgICAvLyBUaGUgY29sb3JzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHN1Y2Nlc3NmdWwgY29tcGxldGlvbiBvZiBhbiBhY3Rpb24gdGhhdCB1c2VyIHRyaWdnZXJlZC5cbiAgICBzdWNjZXNzOiBhdWdtZW50Q29sb3Ioe1xuICAgICAgY29sb3I6IHN1Y2Nlc3MsXG4gICAgICBuYW1lOiAnc3VjY2VzcydcbiAgICB9KSxcbiAgICAvLyBUaGUgZ3JleSBjb2xvcnMuXG4gICAgZ3JleSxcbiAgICAvLyBVc2VkIGJ5IGBnZXRDb250cmFzdFRleHQoKWAgdG8gbWF4aW1pemUgdGhlIGNvbnRyYXN0IGJldHdlZW5cbiAgICAvLyB0aGUgYmFja2dyb3VuZCBhbmQgdGhlIHRleHQuXG4gICAgY29udHJhc3RUaHJlc2hvbGQsXG4gICAgLy8gVGFrZXMgYSBiYWNrZ3JvdW5kIGNvbG9yIGFuZCByZXR1cm5zIHRoZSB0ZXh0IGNvbG9yIHRoYXQgbWF4aW1pemVzIHRoZSBjb250cmFzdC5cbiAgICBnZXRDb250cmFzdFRleHQsXG4gICAgLy8gR2VuZXJhdGUgYSByaWNoIGNvbG9yIG9iamVjdC5cbiAgICBhdWdtZW50Q29sb3IsXG4gICAgLy8gVXNlZCBieSB0aGUgZnVuY3Rpb25zIGJlbG93IHRvIHNoaWZ0IGEgY29sb3IncyBsdW1pbmFuY2UgYnkgYXBwcm94aW1hdGVseVxuICAgIC8vIHR3byBpbmRleGVzIHdpdGhpbiBpdHMgdG9uYWwgcGFsZXR0ZS5cbiAgICAvLyBFLmcuLCBzaGlmdCBmcm9tIFJlZCA1MDAgdG8gUmVkIDMwMCBvciBSZWQgNzAwLlxuICAgIHRvbmFsT2Zmc2V0XG4gIH0sIG1vZGVzW21vZGVdKSwgb3RoZXIpO1xuICByZXR1cm4gcGFsZXR0ZU91dHB1dDtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuY29uc3QgX2V4Y2x1ZGVkID0gW1wiZm9udEZhbWlseVwiLCBcImZvbnRTaXplXCIsIFwiZm9udFdlaWdodExpZ2h0XCIsIFwiZm9udFdlaWdodFJlZ3VsYXJcIiwgXCJmb250V2VpZ2h0TWVkaXVtXCIsIFwiZm9udFdlaWdodEJvbGRcIiwgXCJodG1sRm9udFNpemVcIiwgXCJhbGxWYXJpYW50c1wiLCBcInB4VG9SZW1cIl07XG5pbXBvcnQgeyBkZWVwbWVyZ2UgfSBmcm9tICdAbXVpL3V0aWxzJztcblxuZnVuY3Rpb24gcm91bmQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxZTUpIC8gMWU1O1xufVxuXG5jb25zdCBjYXNlQWxsQ2FwcyA9IHtcbiAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZSdcbn07XG5jb25zdCBkZWZhdWx0Rm9udEZhbWlseSA9ICdcIlJvYm90b1wiLCBcIkhlbHZldGljYVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnO1xuLyoqXG4gKiBAc2VlIEBsaW5re2h0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL3R5cG9ncmFwaHkvdGhlLXR5cGUtc3lzdGVtLmh0bWx9XG4gKiBAc2VlIEBsaW5re2h0dHBzOi8vbWF0ZXJpYWwuaW8vZGVzaWduL3R5cG9ncmFwaHkvdW5kZXJzdGFuZGluZy10eXBvZ3JhcGh5Lmh0bWx9XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVHlwb2dyYXBoeShwYWxldHRlLCB0eXBvZ3JhcGh5KSB7XG4gIGNvbnN0IF9yZWYgPSB0eXBlb2YgdHlwb2dyYXBoeSA9PT0gJ2Z1bmN0aW9uJyA/IHR5cG9ncmFwaHkocGFsZXR0ZSkgOiB0eXBvZ3JhcGh5LFxuICAgICAgICB7XG4gICAgZm9udEZhbWlseSA9IGRlZmF1bHRGb250RmFtaWx5LFxuICAgIC8vIFRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBvZiB0aGUgTWF0ZXJpYWwgU3BlY2lmaWNhdGlvbi5cbiAgICBmb250U2l6ZSA9IDE0LFxuICAgIC8vIHB4XG4gICAgZm9udFdlaWdodExpZ2h0ID0gMzAwLFxuICAgIGZvbnRXZWlnaHRSZWd1bGFyID0gNDAwLFxuICAgIGZvbnRXZWlnaHRNZWRpdW0gPSA1MDAsXG4gICAgZm9udFdlaWdodEJvbGQgPSA3MDAsXG4gICAgLy8gVGVsbCBNVUkgd2hhdCdzIHRoZSBmb250LXNpemUgb24gdGhlIGh0bWwgZWxlbWVudC5cbiAgICAvLyAxNnB4IGlzIHRoZSBkZWZhdWx0IGZvbnQtc2l6ZSB1c2VkIGJ5IGJyb3dzZXJzLlxuICAgIGh0bWxGb250U2l6ZSA9IDE2LFxuICAgIC8vIEFwcGx5IHRoZSBDU1MgcHJvcGVydGllcyB0byBhbGwgdGhlIHZhcmlhbnRzLlxuICAgIGFsbFZhcmlhbnRzLFxuICAgIHB4VG9SZW06IHB4VG9SZW0yXG4gIH0gPSBfcmVmLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIF9leGNsdWRlZCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodHlwZW9mIGZvbnRTaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS5lcnJvcignTVVJOiBgZm9udFNpemVgIGlzIHJlcXVpcmVkIHRvIGJlIGEgbnVtYmVyLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaHRtbEZvbnRTaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS5lcnJvcignTVVJOiBgaHRtbEZvbnRTaXplYCBpcyByZXF1aXJlZCB0byBiZSBhIG51bWJlci4nKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjb2VmID0gZm9udFNpemUgLyAxNDtcblxuICBjb25zdCBweFRvUmVtID0gcHhUb1JlbTIgfHwgKHNpemUgPT4gYCR7c2l6ZSAvIGh0bWxGb250U2l6ZSAqIGNvZWZ9cmVtYCk7XG5cbiAgY29uc3QgYnVpbGRWYXJpYW50ID0gKGZvbnRXZWlnaHQsIHNpemUsIGxpbmVIZWlnaHQsIGxldHRlclNwYWNpbmcsIGNhc2luZykgPT4gX2V4dGVuZHMoe1xuICAgIGZvbnRGYW1pbHksXG4gICAgZm9udFdlaWdodCxcbiAgICBmb250U2l6ZTogcHhUb1JlbShzaXplKSxcbiAgICAvLyBVbml0bGVzcyBmb2xsb3dpbmcgaHR0cHM6Ly9tZXllcndlYi5jb20vZXJpYy90aG91Z2h0cy8yMDA2LzAyLzA4L3VuaXRsZXNzLWxpbmUtaGVpZ2h0cy9cbiAgICBsaW5lSGVpZ2h0XG4gIH0sIGZvbnRGYW1pbHkgPT09IGRlZmF1bHRGb250RmFtaWx5ID8ge1xuICAgIGxldHRlclNwYWNpbmc6IGAke3JvdW5kKGxldHRlclNwYWNpbmcgLyBzaXplKX1lbWBcbiAgfSA6IHt9LCBjYXNpbmcsIGFsbFZhcmlhbnRzKTtcblxuICBjb25zdCB2YXJpYW50cyA9IHtcbiAgICBoMTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRMaWdodCwgOTYsIDEuMTY3LCAtMS41KSxcbiAgICBoMjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRMaWdodCwgNjAsIDEuMiwgLTAuNSksXG4gICAgaDM6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgNDgsIDEuMTY3LCAwKSxcbiAgICBoNDogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAzNCwgMS4yMzUsIDAuMjUpLFxuICAgIGg1OiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDI0LCAxLjMzNCwgMCksXG4gICAgaDY6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TWVkaXVtLCAyMCwgMS42LCAwLjE1KSxcbiAgICBzdWJ0aXRsZTE6IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0UmVndWxhciwgMTYsIDEuNzUsIDAuMTUpLFxuICAgIHN1YnRpdGxlMjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRNZWRpdW0sIDE0LCAxLjU3LCAwLjEpLFxuICAgIGJvZHkxOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDE2LCAxLjUsIDAuMTUpLFxuICAgIGJvZHkyOiBidWlsZFZhcmlhbnQoZm9udFdlaWdodFJlZ3VsYXIsIDE0LCAxLjQzLCAwLjE1KSxcbiAgICBidXR0b246IGJ1aWxkVmFyaWFudChmb250V2VpZ2h0TWVkaXVtLCAxNCwgMS43NSwgMC40LCBjYXNlQWxsQ2FwcyksXG4gICAgY2FwdGlvbjogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxMiwgMS42NiwgMC40KSxcbiAgICBvdmVybGluZTogYnVpbGRWYXJpYW50KGZvbnRXZWlnaHRSZWd1bGFyLCAxMiwgMi42NiwgMSwgY2FzZUFsbENhcHMpXG4gIH07XG4gIHJldHVybiBkZWVwbWVyZ2UoX2V4dGVuZHMoe1xuICAgIGh0bWxGb250U2l6ZSxcbiAgICBweFRvUmVtLFxuICAgIGZvbnRGYW1pbHksXG4gICAgZm9udFNpemUsXG4gICAgZm9udFdlaWdodExpZ2h0LFxuICAgIGZvbnRXZWlnaHRSZWd1bGFyLFxuICAgIGZvbnRXZWlnaHRNZWRpdW0sXG4gICAgZm9udFdlaWdodEJvbGRcbiAgfSwgdmFyaWFudHMpLCBvdGhlciwge1xuICAgIGNsb25lOiBmYWxzZSAvLyBObyBuZWVkIHRvIGNsb25lIGRlZXBcblxuICB9KTtcbn0iLCJjb25zdCBzaGFkb3dLZXlVbWJyYU9wYWNpdHkgPSAwLjI7XG5jb25zdCBzaGFkb3dLZXlQZW51bWJyYU9wYWNpdHkgPSAwLjE0O1xuY29uc3Qgc2hhZG93QW1iaWVudFNoYWRvd09wYWNpdHkgPSAwLjEyO1xuXG5mdW5jdGlvbiBjcmVhdGVTaGFkb3coLi4ucHgpIHtcbiAgcmV0dXJuIFtgJHtweFswXX1weCAke3B4WzFdfXB4ICR7cHhbMl19cHggJHtweFszXX1weCByZ2JhKDAsMCwwLCR7c2hhZG93S2V5VW1icmFPcGFjaXR5fSlgLCBgJHtweFs0XX1weCAke3B4WzVdfXB4ICR7cHhbNl19cHggJHtweFs3XX1weCByZ2JhKDAsMCwwLCR7c2hhZG93S2V5UGVudW1icmFPcGFjaXR5fSlgLCBgJHtweFs4XX1weCAke3B4WzldfXB4ICR7cHhbMTBdfXB4ICR7cHhbMTFdfXB4IHJnYmEoMCwwLDAsJHtzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eX0pYF0uam9pbignLCcpO1xufSAvLyBWYWx1ZXMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL2JlODc0N2Y5NDU3NDY2OWNiNWU3YWRkMWE3YzU0ZmE0MWE4OWNlYzcvcGFja2FnZXMvbWRjLWVsZXZhdGlvbi9fdmFyaWFibGVzLnNjc3NcblxuXG5jb25zdCBzaGFkb3dzID0gWydub25lJywgY3JlYXRlU2hhZG93KDAsIDIsIDEsIC0xLCAwLCAxLCAxLCAwLCAwLCAxLCAzLCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDEsIC0yLCAwLCAyLCAyLCAwLCAwLCAxLCA1LCAwKSwgY3JlYXRlU2hhZG93KDAsIDMsIDMsIC0yLCAwLCAzLCA0LCAwLCAwLCAxLCA4LCAwKSwgY3JlYXRlU2hhZG93KDAsIDIsIDQsIC0xLCAwLCA0LCA1LCAwLCAwLCAxLCAxMCwgMCksIGNyZWF0ZVNoYWRvdygwLCAzLCA1LCAtMSwgMCwgNSwgOCwgMCwgMCwgMSwgMTQsIDApLCBjcmVhdGVTaGFkb3coMCwgMywgNSwgLTEsIDAsIDYsIDEwLCAwLCAwLCAxLCAxOCwgMCksIGNyZWF0ZVNoYWRvdygwLCA0LCA1LCAtMiwgMCwgNywgMTAsIDEsIDAsIDIsIDE2LCAxKSwgY3JlYXRlU2hhZG93KDAsIDUsIDUsIC0zLCAwLCA4LCAxMCwgMSwgMCwgMywgMTQsIDIpLCBjcmVhdGVTaGFkb3coMCwgNSwgNiwgLTMsIDAsIDksIDEyLCAxLCAwLCAzLCAxNiwgMiksIGNyZWF0ZVNoYWRvdygwLCA2LCA2LCAtMywgMCwgMTAsIDE0LCAxLCAwLCA0LCAxOCwgMyksIGNyZWF0ZVNoYWRvdygwLCA2LCA3LCAtNCwgMCwgMTEsIDE1LCAxLCAwLCA0LCAyMCwgMyksIGNyZWF0ZVNoYWRvdygwLCA3LCA4LCAtNCwgMCwgMTIsIDE3LCAyLCAwLCA1LCAyMiwgNCksIGNyZWF0ZVNoYWRvdygwLCA3LCA4LCAtNCwgMCwgMTMsIDE5LCAyLCAwLCA1LCAyNCwgNCksIGNyZWF0ZVNoYWRvdygwLCA3LCA5LCAtNCwgMCwgMTQsIDIxLCAyLCAwLCA1LCAyNiwgNCksIGNyZWF0ZVNoYWRvdygwLCA4LCA5LCAtNSwgMCwgMTUsIDIyLCAyLCAwLCA2LCAyOCwgNSksIGNyZWF0ZVNoYWRvdygwLCA4LCAxMCwgLTUsIDAsIDE2LCAyNCwgMiwgMCwgNiwgMzAsIDUpLCBjcmVhdGVTaGFkb3coMCwgOCwgMTEsIC01LCAwLCAxNywgMjYsIDIsIDAsIDYsIDMyLCA1KSwgY3JlYXRlU2hhZG93KDAsIDksIDExLCAtNSwgMCwgMTgsIDI4LCAyLCAwLCA3LCAzNCwgNiksIGNyZWF0ZVNoYWRvdygwLCA5LCAxMiwgLTYsIDAsIDE5LCAyOSwgMiwgMCwgNywgMzYsIDYpLCBjcmVhdGVTaGFkb3coMCwgMTAsIDEzLCAtNiwgMCwgMjAsIDMxLCAzLCAwLCA4LCAzOCwgNyksIGNyZWF0ZVNoYWRvdygwLCAxMCwgMTMsIC02LCAwLCAyMSwgMzMsIDMsIDAsIDgsIDQwLCA3KSwgY3JlYXRlU2hhZG93KDAsIDEwLCAxNCwgLTYsIDAsIDIyLCAzNSwgMywgMCwgOCwgNDIsIDcpLCBjcmVhdGVTaGFkb3coMCwgMTEsIDE0LCAtNywgMCwgMjMsIDM2LCAzLCAwLCA5LCA0NCwgOCksIGNyZWF0ZVNoYWRvdygwLCAxMSwgMTUsIC03LCAwLCAyNCwgMzgsIDMsIDAsIDksIDQ2LCA4KV07XG5leHBvcnQgZGVmYXVsdCBzaGFkb3dzOyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJkdXJhdGlvblwiLCBcImVhc2luZ1wiLCBcImRlbGF5XCJdO1xuLy8gRm9sbG93IGh0dHBzOi8vbWF0ZXJpYWwuZ29vZ2xlLmNvbS9tb3Rpb24vZHVyYXRpb24tZWFzaW5nLmh0bWwjZHVyYXRpb24tZWFzaW5nLW5hdHVyYWwtZWFzaW5nLWN1cnZlc1xuLy8gdG8gbGVhcm4gdGhlIGNvbnRleHQgaW4gd2hpY2ggZWFjaCBlYXNpbmcgc2hvdWxkIGJlIHVzZWQuXG5leHBvcnQgY29uc3QgZWFzaW5nID0ge1xuICAvLyBUaGlzIGlzIHRoZSBtb3N0IGNvbW1vbiBlYXNpbmcgY3VydmUuXG4gIGVhc2VJbk91dDogJ2N1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSknLFxuICAvLyBPYmplY3RzIGVudGVyIHRoZSBzY3JlZW4gYXQgZnVsbCB2ZWxvY2l0eSBmcm9tIG9mZi1zY3JlZW4gYW5kXG4gIC8vIHNsb3dseSBkZWNlbGVyYXRlIHRvIGEgcmVzdGluZyBwb2ludC5cbiAgZWFzZU91dDogJ2N1YmljLWJlemllcigwLjAsIDAsIDAuMiwgMSknLFxuICAvLyBPYmplY3RzIGxlYXZlIHRoZSBzY3JlZW4gYXQgZnVsbCB2ZWxvY2l0eS4gVGhleSBkbyBub3QgZGVjZWxlcmF0ZSB3aGVuIG9mZi1zY3JlZW4uXG4gIGVhc2VJbjogJ2N1YmljLWJlemllcigwLjQsIDAsIDEsIDEpJyxcbiAgLy8gVGhlIHNoYXJwIGN1cnZlIGlzIHVzZWQgYnkgb2JqZWN0cyB0aGF0IG1heSByZXR1cm4gdG8gdGhlIHNjcmVlbiBhdCBhbnkgdGltZS5cbiAgc2hhcnA6ICdjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpJ1xufTsgLy8gRm9sbG93IGh0dHBzOi8vbWF0ZXJpYWwuaW8vZ3VpZGVsaW5lcy9tb3Rpb24vZHVyYXRpb24tZWFzaW5nLmh0bWwjZHVyYXRpb24tZWFzaW5nLWNvbW1vbi1kdXJhdGlvbnNcbi8vIHRvIGxlYXJuIHdoZW4gdXNlIHdoYXQgdGltaW5nXG5cbmV4cG9ydCBjb25zdCBkdXJhdGlvbiA9IHtcbiAgc2hvcnRlc3Q6IDE1MCxcbiAgc2hvcnRlcjogMjAwLFxuICBzaG9ydDogMjUwLFxuICAvLyBtb3N0IGJhc2ljIHJlY29tbWVuZGVkIHRpbWluZ1xuICBzdGFuZGFyZDogMzAwLFxuICAvLyB0aGlzIGlzIHRvIGJlIHVzZWQgaW4gY29tcGxleCBhbmltYXRpb25zXG4gIGNvbXBsZXg6IDM3NSxcbiAgLy8gcmVjb21tZW5kZWQgd2hlbiBzb21ldGhpbmcgaXMgZW50ZXJpbmcgc2NyZWVuXG4gIGVudGVyaW5nU2NyZWVuOiAyMjUsXG4gIC8vIHJlY29tbWVuZGVkIHdoZW4gc29tZXRoaW5nIGlzIGxlYXZpbmcgc2NyZWVuXG4gIGxlYXZpbmdTY3JlZW46IDE5NVxufTtcblxuZnVuY3Rpb24gZm9ybWF0TXMobWlsbGlzZWNvbmRzKSB7XG4gIHJldHVybiBgJHtNYXRoLnJvdW5kKG1pbGxpc2Vjb25kcyl9bXNgO1xufVxuXG5mdW5jdGlvbiBnZXRBdXRvSGVpZ2h0RHVyYXRpb24oaGVpZ2h0KSB7XG4gIGlmICghaGVpZ2h0KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjb25zdCBjb25zdGFudCA9IGhlaWdodCAvIDM2OyAvLyBodHRwczovL3d3dy53b2xmcmFtYWxwaGEuY29tL2lucHV0Lz9pPSg0KyUyQisxNSsqKyh4KyUyRiszNispKyoqKzAuMjUrJTJCKyh4KyUyRiszNikrJTJGKzUpKyorMTBcblxuICByZXR1cm4gTWF0aC5yb3VuZCgoNCArIDE1ICogY29uc3RhbnQgKiogMC4yNSArIGNvbnN0YW50IC8gNSkgKiAxMCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25zKGlucHV0VHJhbnNpdGlvbnMpIHtcbiAgY29uc3QgbWVyZ2VkRWFzaW5nID0gX2V4dGVuZHMoe30sIGVhc2luZywgaW5wdXRUcmFuc2l0aW9ucy5lYXNpbmcpO1xuXG4gIGNvbnN0IG1lcmdlZER1cmF0aW9uID0gX2V4dGVuZHMoe30sIGR1cmF0aW9uLCBpbnB1dFRyYW5zaXRpb25zLmR1cmF0aW9uKTtcblxuICBjb25zdCBjcmVhdGUgPSAocHJvcHMgPSBbJ2FsbCddLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb25PcHRpb24gPSBtZXJnZWREdXJhdGlvbi5zdGFuZGFyZCxcbiAgICAgIGVhc2luZzogZWFzaW5nT3B0aW9uID0gbWVyZ2VkRWFzaW5nLmVhc2VJbk91dCxcbiAgICAgIGRlbGF5ID0gMFxuICAgIH0gPSBvcHRpb25zLFxuICAgICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3B0aW9ucywgX2V4Y2x1ZGVkKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zdCBpc1N0cmluZyA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7IC8vIElFMTEgc3VwcG9ydCwgcmVwbGFjZSB3aXRoIE51bWJlci5pc05hTlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuXG5cbiAgICAgIGNvbnN0IGlzTnVtYmVyID0gdmFsdWUgPT4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKTtcblxuICAgICAgaWYgKCFpc1N0cmluZyhwcm9wcykgJiYgIUFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01VSTogQXJndW1lbnQgXCJwcm9wc1wiIG11c3QgYmUgYSBzdHJpbmcgb3IgQXJyYXkuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOdW1iZXIoZHVyYXRpb25PcHRpb24pICYmICFpc1N0cmluZyhkdXJhdGlvbk9wdGlvbikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTVVJOiBBcmd1bWVudCBcImR1cmF0aW9uXCIgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZyBidXQgZm91bmQgJHtkdXJhdGlvbk9wdGlvbn0uYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTdHJpbmcoZWFzaW5nT3B0aW9uKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNVUk6IEFyZ3VtZW50IFwiZWFzaW5nXCIgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc051bWJlcihkZWxheSkgJiYgIWlzU3RyaW5nKGRlbGF5KSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNVUk6IEFyZ3VtZW50IFwiZGVsYXlcIiBtdXN0IGJlIGEgbnVtYmVyIG9yIGEgc3RyaW5nLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMob3RoZXIpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBNVUk6IFVucmVjb2duaXplZCBhcmd1bWVudChzKSBbJHtPYmplY3Qua2V5cyhvdGhlcikuam9pbignLCcpfV0uYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHByb3BzKSA/IHByb3BzIDogW3Byb3BzXSkubWFwKGFuaW1hdGVkUHJvcCA9PiBgJHthbmltYXRlZFByb3B9ICR7dHlwZW9mIGR1cmF0aW9uT3B0aW9uID09PSAnc3RyaW5nJyA/IGR1cmF0aW9uT3B0aW9uIDogZm9ybWF0TXMoZHVyYXRpb25PcHRpb24pfSAke2Vhc2luZ09wdGlvbn0gJHt0eXBlb2YgZGVsYXkgPT09ICdzdHJpbmcnID8gZGVsYXkgOiBmb3JtYXRNcyhkZWxheSl9YCkuam9pbignLCcpO1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgZ2V0QXV0b0hlaWdodER1cmF0aW9uLFxuICAgIGNyZWF0ZVxuICB9LCBpbnB1dFRyYW5zaXRpb25zLCB7XG4gICAgZWFzaW5nOiBtZXJnZWRFYXNpbmcsXG4gICAgZHVyYXRpb246IG1lcmdlZER1cmF0aW9uXG4gIH0pO1xufSIsIi8vIFdlIG5lZWQgdG8gY2VudHJhbGl6ZSB0aGUgekluZGV4IGRlZmluaXRpb25zIGFzIHRoZXkgd29ya1xuLy8gbGlrZSBnbG9iYWwgdmFsdWVzIGluIHRoZSBicm93c2VyLlxuY29uc3QgekluZGV4ID0ge1xuICBtb2JpbGVTdGVwcGVyOiAxMDAwLFxuICBzcGVlZERpYWw6IDEwNTAsXG4gIGFwcEJhcjogMTEwMCxcbiAgZHJhd2VyOiAxMjAwLFxuICBtb2RhbDogMTMwMCxcbiAgc25hY2tiYXI6IDE0MDAsXG4gIHRvb2x0aXA6IDE1MDBcbn07XG5leHBvcnQgZGVmYXVsdCB6SW5kZXg7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImJyZWFrcG9pbnRzXCIsIFwibWl4aW5zXCIsIFwic3BhY2luZ1wiLCBcInBhbGV0dGVcIiwgXCJ0cmFuc2l0aW9uc1wiLCBcInR5cG9ncmFwaHlcIiwgXCJzaGFwZVwiXTtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgfSBmcm9tICdAbXVpL2NvcmUnO1xuaW1wb3J0IHsgY3JlYXRlVGhlbWUgYXMgc3lzdGVtQ3JlYXRlVGhlbWUgfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgY3JlYXRlTWl4aW5zIGZyb20gJy4vY3JlYXRlTWl4aW5zJztcbmltcG9ydCBjcmVhdGVQYWxldHRlIGZyb20gJy4vY3JlYXRlUGFsZXR0ZSc7XG5pbXBvcnQgY3JlYXRlVHlwb2dyYXBoeSBmcm9tICcuL2NyZWF0ZVR5cG9ncmFwaHknO1xuaW1wb3J0IHNoYWRvd3MgZnJvbSAnLi9zaGFkb3dzJztcbmltcG9ydCBjcmVhdGVUcmFuc2l0aW9ucyBmcm9tICcuL2NyZWF0ZVRyYW5zaXRpb25zJztcbmltcG9ydCB6SW5kZXggZnJvbSAnLi96SW5kZXgnO1xuXG5mdW5jdGlvbiBjcmVhdGVUaGVtZShvcHRpb25zID0ge30sIC4uLmFyZ3MpIHtcbiAgY29uc3Qge1xuICAgIG1peGluczogbWl4aW5zSW5wdXQgPSB7fSxcbiAgICBwYWxldHRlOiBwYWxldHRlSW5wdXQgPSB7fSxcbiAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnNJbnB1dCA9IHt9LFxuICAgIHR5cG9ncmFwaHk6IHR5cG9ncmFwaHlJbnB1dCA9IHt9XG4gIH0gPSBvcHRpb25zLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKG9wdGlvbnMsIF9leGNsdWRlZCk7XG5cbiAgY29uc3QgcGFsZXR0ZSA9IGNyZWF0ZVBhbGV0dGUocGFsZXR0ZUlucHV0KTtcbiAgY29uc3Qgc3lzdGVtVGhlbWUgPSBzeXN0ZW1DcmVhdGVUaGVtZShvcHRpb25zKTtcbiAgbGV0IG11aVRoZW1lID0gZGVlcG1lcmdlKHN5c3RlbVRoZW1lLCB7XG4gICAgbWl4aW5zOiBjcmVhdGVNaXhpbnMoc3lzdGVtVGhlbWUuYnJlYWtwb2ludHMsIHN5c3RlbVRoZW1lLnNwYWNpbmcsIG1peGluc0lucHV0KSxcbiAgICBwYWxldHRlLFxuICAgIC8vIERvbid0IHVzZSBbLi4uc2hhZG93c10gdW50aWwgeW91J3ZlIHZlcmlmaWVkIGl0cyB0cmFuc3BpbGVkIGNvZGUgaXMgbm90IGludm9raW5nIHRoZSBpdGVyYXRvciBwcm90b2NvbC5cbiAgICBzaGFkb3dzOiBzaGFkb3dzLnNsaWNlKCksXG4gICAgdHlwb2dyYXBoeTogY3JlYXRlVHlwb2dyYXBoeShwYWxldHRlLCB0eXBvZ3JhcGh5SW5wdXQpLFxuICAgIHRyYW5zaXRpb25zOiBjcmVhdGVUcmFuc2l0aW9ucyh0cmFuc2l0aW9uc0lucHV0KSxcbiAgICB6SW5kZXg6IF9leHRlbmRzKHt9LCB6SW5kZXgpXG4gIH0pO1xuICBtdWlUaGVtZSA9IGRlZXBtZXJnZShtdWlUaGVtZSwgb3RoZXIpO1xuICBtdWlUaGVtZSA9IGFyZ3MucmVkdWNlKChhY2MsIGFyZ3VtZW50KSA9PiBkZWVwbWVyZ2UoYWNjLCBhcmd1bWVudCksIG11aVRoZW1lKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbnN0IHN0YXRlQ2xhc3NlcyA9IFsnYWN0aXZlJywgJ2NoZWNrZWQnLCAnY29tcGxldGVkJywgJ2Rpc2FibGVkJywgJ2Vycm9yJywgJ2V4cGFuZGVkJywgJ2ZvY3VzZWQnLCAnZm9jdXNWaXNpYmxlJywgJ3JlcXVpcmVkJywgJ3NlbGVjdGVkJ107XG5cbiAgICBjb25zdCB0cmF2ZXJzZSA9IChub2RlLCBjb21wb25lbnQpID0+IHtcbiAgICAgIGxldCBrZXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW4sIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG5cbiAgICAgIGZvciAoa2V5IGluIG5vZGUpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlW2tleV07XG5cbiAgICAgICAgaWYgKHN0YXRlQ2xhc3Nlcy5pbmRleE9mKGtleSkgIT09IC0xICYmIE9iamVjdC5rZXlzKGNoaWxkKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlQ2xhc3MgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzcygnJywga2V5KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoW2BNVUk6IFRoZSBcXGAke2NvbXBvbmVudH1cXGAgY29tcG9uZW50IGluY3JlYXNlcyBgICsgYHRoZSBDU1Mgc3BlY2lmaWNpdHkgb2YgdGhlIFxcYCR7a2V5fVxcYCBpbnRlcm5hbCBzdGF0ZS5gLCAnWW91IGNhbiBub3Qgb3ZlcnJpZGUgaXQgbGlrZSB0aGlzOiAnLCBKU09OLnN0cmluZ2lmeShub2RlLCBudWxsLCAyKSwgJycsIGBJbnN0ZWFkLCB5b3UgbmVlZCB0byB1c2UgdGhlICcmLiR7c3RhdGVDbGFzc30nIHN5bnRheDpgLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgICAgICBbYCYuJHtzdGF0ZUNsYXNzfWBdOiBjaGlsZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBudWxsLCAyKSwgJycsICdodHRwczovL211aS5jb20vci9zdGF0ZS1jbGFzc2VzLWd1aWRlJ10uam9pbignXFxuJykpO1xuICAgICAgICAgIH0gLy8gUmVtb3ZlIHRoZSBzdHlsZSB0byBwcmV2ZW50IGdsb2JhbCBjb25mbGljdHMuXG5cblxuICAgICAgICAgIG5vZGVba2V5XSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5rZXlzKG11aVRoZW1lLmNvbXBvbmVudHMpLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlT3ZlcnJpZGVzID0gbXVpVGhlbWUuY29tcG9uZW50c1tjb21wb25lbnRdLnN0eWxlT3ZlcnJpZGVzO1xuXG4gICAgICBpZiAoc3R5bGVPdmVycmlkZXMgJiYgY29tcG9uZW50LmluZGV4T2YoJ011aScpID09PSAwKSB7XG4gICAgICAgIHRyYXZlcnNlKHN0eWxlT3ZlcnJpZGVzLCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG11aVRoZW1lO1xufVxuXG5sZXQgd2FybmVkT25jZSA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU11aVRoZW1lKC4uLmFyZ3MpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoIXdhcm5lZE9uY2UpIHtcbiAgICAgIHdhcm5lZE9uY2UgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcihbJ01VSTogdGhlIGNyZWF0ZU11aVRoZW1lIGZ1bmN0aW9uIHdhcyByZW5hbWVkIHRvIGNyZWF0ZVRoZW1lLicsICcnLCBcIllvdSBzaG91bGQgdXNlIGBpbXBvcnQgeyBjcmVhdGVUaGVtZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvc3R5bGVzJ2BcIl0uam9pbignXFxuJykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVUaGVtZSguLi5hcmdzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lOyIsImltcG9ydCBjcmVhdGVUaGVtZSBmcm9tICcuL2NyZWF0ZVRoZW1lJztcbmNvbnN0IGRlZmF1bHRUaGVtZSA9IGNyZWF0ZVRoZW1lKCk7XG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0VGhlbWU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgYXMgdXNlVGhlbWVTeXN0ZW0gfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgZGVmYXVsdFRoZW1lIGZyb20gJy4vZGVmYXVsdFRoZW1lJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lKCkge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lU3lzdGVtKGRlZmF1bHRUaGVtZSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGVtZTtcbn0iLCJleHBvcnQgY29uc3QgcmVmbG93ID0gbm9kZSA9PiBub2RlLnNjcm9sbFRvcDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uUHJvcHMocHJvcHMsIG9wdGlvbnMpIHtcbiAgdmFyIF9zdHlsZSR0cmFuc2l0aW9uRHVyYSwgX3N0eWxlJHRyYW5zaXRpb25UaW1pO1xuXG4gIGNvbnN0IHtcbiAgICB0aW1lb3V0LFxuICAgIGVhc2luZyxcbiAgICBzdHlsZSA9IHt9XG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIHtcbiAgICBkdXJhdGlvbjogKF9zdHlsZSR0cmFuc2l0aW9uRHVyYSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbikgIT0gbnVsbCA/IF9zdHlsZSR0cmFuc2l0aW9uRHVyYSA6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiB0aW1lb3V0W29wdGlvbnMubW9kZV0gfHwgMCxcbiAgICBlYXNpbmc6IChfc3R5bGUkdHJhbnNpdGlvblRpbWkgPSBzdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24pICE9IG51bGwgPyBfc3R5bGUkdHJhbnNpdGlvblRpbWkgOiB0eXBlb2YgZWFzaW5nID09PSAnb2JqZWN0JyA/IGVhc2luZ1tvcHRpb25zLm1vZGVdIDogZWFzaW5nLFxuICAgIGRlbGF5OiBzdHlsZS50cmFuc2l0aW9uRGVsYXlcbiAgfTtcbn0iLCJpbXBvcnQgeyB1c2VUaGVtZVByb3BzIGFzIHN5c3RlbVVzZVRoZW1lUHJvcHMgfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgZGVmYXVsdFRoZW1lIGZyb20gJy4vZGVmYXVsdFRoZW1lJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lUHJvcHMoe1xuICBwcm9wcyxcbiAgbmFtZVxufSkge1xuICByZXR1cm4gc3lzdGVtVXNlVGhlbWVQcm9wcyh7XG4gICAgcHJvcHMsXG4gICAgbmFtZSxcbiAgICBkZWZhdWx0VGhlbWVcbiAgfSk7XG59IiwiaW1wb3J0IHsgY3JlYXRlU3R5bGVkLCBzaG91bGRGb3J3YXJkUHJvcCB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSAnLi9kZWZhdWx0VGhlbWUnO1xuZXhwb3J0IGNvbnN0IHJvb3RTaG91bGRGb3J3YXJkUHJvcCA9IHByb3AgPT4gc2hvdWxkRm9yd2FyZFByb3AocHJvcCkgJiYgcHJvcCAhPT0gJ2NsYXNzZXMnO1xuZXhwb3J0IGNvbnN0IHNsb3RTaG91bGRGb3J3YXJkUHJvcCA9IHNob3VsZEZvcndhcmRQcm9wO1xuY29uc3Qgc3R5bGVkID0gY3JlYXRlU3R5bGVkKHtcbiAgZGVmYXVsdFRoZW1lLFxuICByb290U2hvdWxkRm9yd2FyZFByb3Bcbn0pO1xuZXhwb3J0IGRlZmF1bHQgc3R5bGVkOyIsImltcG9ydCB7IGdlbmVyYXRlVXRpbGl0eUNsYXNzLCBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIH0gZnJvbSAnQG11aS9jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdmdJY29uVXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlTdmdJY29uJywgc2xvdCk7XG59XG5jb25zdCBzdmdJY29uQ2xhc3NlcyA9IGdlbmVyYXRlVXRpbGl0eUNsYXNzZXMoJ011aVN2Z0ljb24nLCBbJ3Jvb3QnLCAnY29sb3JQcmltYXJ5JywgJ2NvbG9yU2Vjb25kYXJ5JywgJ2NvbG9yQWN0aW9uJywgJ2NvbG9yRXJyb3InLCAnY29sb3JEaXNhYmxlZCcsICdmb250U2l6ZUluaGVyaXQnLCAnZm9udFNpemVTbWFsbCcsICdmb250U2l6ZU1lZGl1bScsICdmb250U2l6ZUxhcmdlJ10pO1xuZXhwb3J0IGRlZmF1bHQgc3ZnSWNvbkNsYXNzZXM7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiY29sb3JcIiwgXCJjb21wb25lbnRcIiwgXCJmb250U2l6ZVwiLCBcImh0bWxDb2xvclwiLCBcInRpdGxlQWNjZXNzXCIsIFwidmlld0JveFwiXTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB7IHVuc3RhYmxlX2NvbXBvc2VDbGFzc2VzIGFzIGNvbXBvc2VDbGFzc2VzIH0gZnJvbSAnQG11aS9jb3JlJztcbmltcG9ydCBjYXBpdGFsaXplIGZyb20gJy4uL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IHVzZVRoZW1lUHJvcHMgZnJvbSAnLi4vc3R5bGVzL3VzZVRoZW1lUHJvcHMnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICcuLi9zdHlsZXMvc3R5bGVkJztcbmltcG9ydCB7IGdldFN2Z0ljb25VdGlsaXR5Q2xhc3MgfSBmcm9tICcuL3N2Z0ljb25DbGFzc2VzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5cbmNvbnN0IHVzZVV0aWxpdHlDbGFzc2VzID0gb3duZXJTdGF0ZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb2xvcixcbiAgICBmb250U2l6ZSxcbiAgICBjbGFzc2VzXG4gIH0gPSBvd25lclN0YXRlO1xuICBjb25zdCBzbG90cyA9IHtcbiAgICByb290OiBbJ3Jvb3QnLCBjb2xvciAhPT0gJ2luaGVyaXQnICYmIGBjb2xvciR7Y2FwaXRhbGl6ZShjb2xvcil9YCwgYGZvbnRTaXplJHtjYXBpdGFsaXplKGZvbnRTaXplKX1gXVxuICB9O1xuICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldFN2Z0ljb25VdGlsaXR5Q2xhc3MsIGNsYXNzZXMpO1xufTtcblxuY29uc3QgU3ZnSWNvblJvb3QgPSBzdHlsZWQoJ3N2ZycsIHtcbiAgbmFtZTogJ011aVN2Z0ljb24nLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgb3duZXJTdGF0ZS5jb2xvciAhPT0gJ2luaGVyaXQnICYmIHN0eWxlc1tgY29sb3Ike2NhcGl0YWxpemUob3duZXJTdGF0ZS5jb2xvcil9YF0sIHN0eWxlc1tgZm9udFNpemUke2NhcGl0YWxpemUob3duZXJTdGF0ZS5mb250U2l6ZSl9YF1dO1xuICB9XG59KSgoe1xuICB0aGVtZSxcbiAgb3duZXJTdGF0ZVxufSkgPT4ge1xuICB2YXIgX3RoZW1lJHBhbGV0dGUkb3duZXJTLCBfdGhlbWUkcGFsZXR0ZSRvd25lclMyO1xuXG4gIHJldHVybiB7XG4gICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgIHdpZHRoOiAnMWVtJyxcbiAgICBoZWlnaHQ6ICcxZW0nLFxuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIGZpbGw6ICdjdXJyZW50Q29sb3InLFxuICAgIGZsZXhTaHJpbms6IDAsXG4gICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdmaWxsJywge1xuICAgICAgZHVyYXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXJcbiAgICB9KSxcbiAgICBmb250U2l6ZToge1xuICAgICAgaW5oZXJpdDogJ2luaGVyaXQnLFxuICAgICAgc21hbGw6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgyMCksXG4gICAgICBtZWRpdW06IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgyNCksXG4gICAgICBsYXJnZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDM1KVxuICAgIH1bb3duZXJTdGF0ZS5mb250U2l6ZV0sXG4gICAgLy8gVE9ETyB2NSBkZXByZWNhdGUsIHY2IHJlbW92ZSBmb3Igc3hcbiAgICBjb2xvcjogKF90aGVtZSRwYWxldHRlJG93bmVyUyA9IChfdGhlbWUkcGFsZXR0ZSRvd25lclMyID0gdGhlbWUucGFsZXR0ZVtvd25lclN0YXRlLmNvbG9yXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGVtZSRwYWxldHRlJG93bmVyUzIubWFpbikgIT0gbnVsbCA/IF90aGVtZSRwYWxldHRlJG93bmVyUyA6IHtcbiAgICAgIGFjdGlvbjogdGhlbWUucGFsZXR0ZS5hY3Rpb24uYWN0aXZlLFxuICAgICAgZGlzYWJsZWQ6IHRoZW1lLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkLFxuICAgICAgaW5oZXJpdDogdW5kZWZpbmVkXG4gICAgfVtvd25lclN0YXRlLmNvbG9yXVxuICB9O1xufSk7XG5jb25zdCBTdmdJY29uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gU3ZnSWNvbihpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VUaGVtZVByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpU3ZnSWNvbidcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBjb2xvciA9ICdpbmhlcml0JyxcbiAgICBjb21wb25lbnQgPSAnc3ZnJyxcbiAgICBmb250U2l6ZSA9ICdtZWRpdW0nLFxuICAgIGh0bWxDb2xvcixcbiAgICB0aXRsZUFjY2VzcyxcbiAgICB2aWV3Qm94ID0gJzAgMCAyNCAyNCdcbiAgfSA9IHByb3BzLFxuICAgICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIGNvbnN0IG93bmVyU3RhdGUgPSBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBjb2xvcixcbiAgICBjb21wb25lbnQsXG4gICAgZm9udFNpemUsXG4gICAgdmlld0JveFxuICB9KTtcblxuICBjb25zdCBjbGFzc2VzID0gdXNlVXRpbGl0eUNsYXNzZXMob3duZXJTdGF0ZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoU3ZnSWNvblJvb3QsIF9leHRlbmRzKHtcbiAgICBhczogY29tcG9uZW50LFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgb3duZXJTdGF0ZTogb3duZXJTdGF0ZSxcbiAgICBmb2N1c2FibGU6IFwiZmFsc2VcIixcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIGNvbG9yOiBodG1sQ29sb3IsXG4gICAgXCJhcmlhLWhpZGRlblwiOiB0aXRsZUFjY2VzcyA/IHVuZGVmaW5lZCA6IHRydWUsXG4gICAgcm9sZTogdGl0bGVBY2Nlc3MgPyAnaW1nJyA6IHVuZGVmaW5lZCxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlciwge1xuICAgIGNoaWxkcmVuOiBbY2hpbGRyZW4sIHRpdGxlQWNjZXNzID8gLyojX19QVVJFX18qL19qc3goXCJ0aXRsZVwiLCB7XG4gICAgICBjaGlsZHJlbjogdGl0bGVBY2Nlc3NcbiAgICB9KSA6IG51bGxdXG4gIH0pKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gU3ZnSWNvbi5wcm9wVHlwZXNcbi8qIHJlbW92ZS1wcm9wdHlwZXMgKi9cbj0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogTm9kZSBwYXNzZWQgaW50byB0aGUgU1ZHIGVsZW1lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIGNvbG9yIG9mIHRoZSBjb21wb25lbnQuIEl0IHN1cHBvcnRzIHRob3NlIHRoZW1lIGNvbG9ycyB0aGF0IG1ha2Ugc2Vuc2UgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKiBZb3UgY2FuIHVzZSB0aGUgYGh0bWxDb2xvcmAgcHJvcCB0byBhcHBseSBhIGNvbG9yIGF0dHJpYnV0ZSB0byB0aGUgU1ZHIGVsZW1lbnQuXG4gICAqIEBkZWZhdWx0ICdpbmhlcml0J1xuICAgKi9cbiAgY29sb3I6IFByb3BUeXBlc1xuICAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovXG4gIC5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ2luaGVyaXQnLCAnYWN0aW9uJywgJ2Rpc2FibGVkJywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ2Vycm9yJywgJ2luZm8nLCAnc3VjY2VzcycsICd3YXJuaW5nJ10pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBUaGUgZm9udFNpemUgYXBwbGllZCB0byB0aGUgaWNvbi4gRGVmYXVsdHMgdG8gMjRweCwgYnV0IGNhbiBiZSBjb25maWd1cmUgdG8gaW5oZXJpdCBmb250IHNpemUuXG4gICAqIEBkZWZhdWx0ICdtZWRpdW0nXG4gICAqL1xuICBmb250U2l6ZTogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnaW5oZXJpdCcsICdsYXJnZScsICdtZWRpdW0nLCAnc21hbGwnXSksIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAvKipcbiAgICogQXBwbGllcyBhIGNvbG9yIGF0dHJpYnV0ZSB0byB0aGUgU1ZHIGVsZW1lbnQuXG4gICAqL1xuICBodG1sQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBzaGFwZS1yZW5kZXJpbmcgYXR0cmlidXRlLiBUaGUgYmVoYXZpb3Igb2YgdGhlIGRpZmZlcmVudCBvcHRpb25zIGlzIGRlc2NyaWJlZCBvbiB0aGVcbiAgICogW01ETiBXZWIgRG9jc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9zaGFwZS1yZW5kZXJpbmcpLlxuICAgKiBJZiB5b3UgYXJlIGhhdmluZyBpc3N1ZXMgd2l0aCBibHVycnkgaWNvbnMgeW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB0aGlzIHByb3AuXG4gICAqL1xuICBzaGFwZVJlbmRlcmluZzogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9wIHRoYXQgYWxsb3dzIGRlZmluaW5nIHN5c3RlbSBvdmVycmlkZXMgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIENTUyBzdHlsZXMuXG4gICAqL1xuICBzeDogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBodW1hbi1yZWFkYWJsZSB0aXRsZSBmb3IgdGhlIGVsZW1lbnQgdGhhdCBjb250YWlucyBpdC5cbiAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL1NWRy1hY2Nlc3MvI0VxdWl2YWxlbnRcbiAgICovXG4gIHRpdGxlQWNjZXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIHJlZGVmaW5lIHdoYXQgdGhlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdW5pdHMgbWVhbiBpbnNpZGUgYW4gU1ZHIGVsZW1lbnQuXG4gICAqIEZvciBleGFtcGxlLCBpZiB0aGUgU1ZHIGVsZW1lbnQgaXMgNTAwICh3aWR0aCkgYnkgMjAwIChoZWlnaHQpLFxuICAgKiBhbmQgeW91IHBhc3Mgdmlld0JveD1cIjAgMCA1MCAyMFwiLFxuICAgKiB0aGlzIG1lYW5zIHRoYXQgdGhlIGNvb3JkaW5hdGVzIGluc2lkZSB0aGUgU1ZHIHdpbGwgZ28gZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyICgwLDApXG4gICAqIHRvIGJvdHRvbSByaWdodCAoNTAsMjApIGFuZCBlYWNoIHVuaXQgd2lsbCBiZSB3b3J0aCAxMHB4LlxuICAgKiBAZGVmYXVsdCAnMCAwIDI0IDI0J1xuICAgKi9cbiAgdmlld0JveDogUHJvcFR5cGVzLnN0cmluZ1xufSA6IHZvaWQgMDtcblN2Z0ljb24ubXVpTmFtZSA9ICdTdmdJY29uJztcbmV4cG9ydCBkZWZhdWx0IFN2Z0ljb247IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2VcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImFkZEVuZExpc3RlbmVyXCIsIFwiYXBwZWFyXCIsIFwiY2hpbGRyZW5cIiwgXCJjb250YWluZXJcIiwgXCJkaXJlY3Rpb25cIiwgXCJlYXNpbmdcIiwgXCJpblwiLCBcIm9uRW50ZXJcIiwgXCJvbkVudGVyZWRcIiwgXCJvbkVudGVyaW5nXCIsIFwib25FeGl0XCIsIFwib25FeGl0ZWRcIiwgXCJvbkV4aXRpbmdcIiwgXCJzdHlsZVwiLCBcInRpbWVvdXRcIiwgXCJUcmFuc2l0aW9uQ29tcG9uZW50XCJdO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCB7IGVsZW1lbnRBY2NlcHRpbmdSZWYsIEhUTUxFbGVtZW50VHlwZSwgY2hhaW5Qcm9wVHlwZXMgfSBmcm9tICdAbXVpL3V0aWxzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICcuLi91dGlscy9kZWJvdW5jZSc7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tICcuLi91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCB1c2VUaGVtZSBmcm9tICcuLi9zdHlsZXMvdXNlVGhlbWUnO1xuaW1wb3J0IHsgZHVyYXRpb24sIGVhc2luZyB9IGZyb20gJy4uL3N0eWxlcy9jcmVhdGVUcmFuc2l0aW9ucyc7XG5pbXBvcnQgeyByZWZsb3csIGdldFRyYW5zaXRpb25Qcm9wcyB9IGZyb20gJy4uL3RyYW5zaXRpb25zL3V0aWxzJztcbmltcG9ydCB7IG93bmVyV2luZG93IH0gZnJvbSAnLi4vdXRpbHMnOyAvLyBUcmFuc2xhdGUgdGhlIG5vZGUgc28gaXQgY2FuJ3QgYmUgc2VlbiBvbiB0aGUgc2NyZWVuLlxuLy8gTGF0ZXIsIHdlJ3JlIGdvaW5nIHRvIHRyYW5zbGF0ZSB0aGUgbm9kZSBiYWNrIHRvIGl0cyBvcmlnaW5hbCBsb2NhdGlvbiB3aXRoIGBub25lYC5cblxuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcblxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBub2RlLCByZXNvbHZlZENvbnRhaW5lcikge1xuICBjb25zdCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY29udGFpbmVyUmVjdCA9IHJlc29sdmVkQ29udGFpbmVyICYmIHJlc29sdmVkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb250YWluZXJXaW5kb3cgPSBvd25lcldpbmRvdyhub2RlKTtcbiAgbGV0IHRyYW5zZm9ybTtcblxuICBpZiAobm9kZS5mYWtlVHJhbnNmb3JtKSB7XG4gICAgdHJhbnNmb3JtID0gbm9kZS5mYWtlVHJhbnNmb3JtO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjb250YWluZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICB0cmFuc2Zvcm0gPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy13ZWJraXQtdHJhbnNmb3JtJykgfHwgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKTtcbiAgfVxuXG4gIGxldCBvZmZzZXRYID0gMDtcbiAgbGV0IG9mZnNldFkgPSAwO1xuXG4gIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScgJiYgdHlwZW9mIHRyYW5zZm9ybSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1WYWx1ZXMgPSB0cmFuc2Zvcm0uc3BsaXQoJygnKVsxXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsJyk7XG4gICAgb2Zmc2V0WCA9IHBhcnNlSW50KHRyYW5zZm9ybVZhbHVlc1s0XSwgMTApO1xuICAgIG9mZnNldFkgPSBwYXJzZUludCh0cmFuc2Zvcm1WYWx1ZXNbNV0sIDEwKTtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZVgoJHtjb250YWluZXJSZWN0LnJpZ2h0ICsgb2Zmc2V0WCAtIHJlY3QubGVmdH1weClgO1xuICAgIH1cblxuICAgIHJldHVybiBgdHJhbnNsYXRlWCgke2NvbnRhaW5lcldpbmRvdy5pbm5lcldpZHRoICsgb2Zmc2V0WCAtIHJlY3QubGVmdH1weClgO1xuICB9XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIGlmIChjb250YWluZXJSZWN0KSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZVgoLSR7cmVjdC5yaWdodCAtIGNvbnRhaW5lclJlY3QubGVmdCAtIG9mZnNldFh9cHgpYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYHRyYW5zbGF0ZVgoLSR7cmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAtIG9mZnNldFh9cHgpYDtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICBpZiAoY29udGFpbmVyUmVjdCkge1xuICAgICAgcmV0dXJuIGB0cmFuc2xhdGVZKCR7Y29udGFpbmVyUmVjdC5ib3R0b20gKyBvZmZzZXRZIC0gcmVjdC50b3B9cHgpYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYHRyYW5zbGF0ZVkoJHtjb250YWluZXJXaW5kb3cuaW5uZXJIZWlnaHQgKyBvZmZzZXRZIC0gcmVjdC50b3B9cHgpYDtcbiAgfSAvLyBkaXJlY3Rpb24gPT09ICdkb3duJ1xuXG5cbiAgaWYgKGNvbnRhaW5lclJlY3QpIHtcbiAgICByZXR1cm4gYHRyYW5zbGF0ZVkoLSR7cmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC0gb2Zmc2V0WX1weClgO1xuICB9XG5cbiAgcmV0dXJuIGB0cmFuc2xhdGVZKC0ke3JlY3QudG9wICsgcmVjdC5oZWlnaHQgLSBvZmZzZXRZfXB4KWA7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb250YWluZXIoY29udGFpbmVyUHJvcFByb3ApIHtcbiAgcmV0dXJuIHR5cGVvZiBjb250YWluZXJQcm9wUHJvcCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRhaW5lclByb3BQcm9wKCkgOiBjb250YWluZXJQcm9wUHJvcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgbm9kZSwgY29udGFpbmVyUHJvcCkge1xuICBjb25zdCByZXNvbHZlZENvbnRhaW5lciA9IHJlc29sdmVDb250YWluZXIoY29udGFpbmVyUHJvcCk7XG4gIGNvbnN0IHRyYW5zZm9ybSA9IGdldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgbm9kZSwgcmVzb2x2ZWRDb250YWluZXIpO1xuXG4gIGlmICh0cmFuc2Zvcm0pIHtcbiAgICBub2RlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgfVxufVxuY29uc3QgZGVmYXVsdEVhc2luZyA9IHtcbiAgZW50ZXI6IGVhc2luZy5lYXNlT3V0LFxuICBleGl0OiBlYXNpbmcuc2hhcnBcbn07XG5jb25zdCBkZWZhdWx0VGltZW91dCA9IHtcbiAgZW50ZXI6IGR1cmF0aW9uLmVudGVyaW5nU2NyZWVuLFxuICBleGl0OiBkdXJhdGlvbi5sZWF2aW5nU2NyZWVuXG59O1xuLyoqXG4gKiBUaGUgU2xpZGUgdHJhbnNpdGlvbiBpcyB1c2VkIGJ5IHRoZSBbRHJhd2VyXSgvY29tcG9uZW50cy9kcmF3ZXJzLykgY29tcG9uZW50LlxuICogSXQgdXNlcyBbcmVhY3QtdHJhbnNpdGlvbi1ncm91cF0oaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtdHJhbnNpdGlvbi1ncm91cCkgaW50ZXJuYWxseS5cbiAqL1xuXG5jb25zdCBTbGlkZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFNsaWRlKHByb3BzLCByZWYpIHtcbiAgY29uc3Qge1xuICAgIGFkZEVuZExpc3RlbmVyLFxuICAgIGFwcGVhciA9IHRydWUsXG4gICAgY2hpbGRyZW4sXG4gICAgY29udGFpbmVyOiBjb250YWluZXJQcm9wLFxuICAgIGRpcmVjdGlvbiA9ICdkb3duJyxcbiAgICBlYXNpbmc6IGVhc2luZ1Byb3AgPSBkZWZhdWx0RWFzaW5nLFxuICAgIGluOiBpblByb3AsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyZWQsXG4gICAgb25FbnRlcmluZyxcbiAgICBvbkV4aXQsXG4gICAgb25FeGl0ZWQsXG4gICAgb25FeGl0aW5nLFxuICAgIHN0eWxlLFxuICAgIHRpbWVvdXQgPSBkZWZhdWx0VGltZW91dCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuICAgIFRyYW5zaXRpb25Db21wb25lbnQgPSBUcmFuc2l0aW9uXG4gIH0gPSBwcm9wcyxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IGNoaWxkcmVuUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVSZWZJbnRlcm1lZGlhcnkgPSB1c2VGb3JrUmVmKGNoaWxkcmVuLnJlZiwgY2hpbGRyZW5SZWYpO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VGb3JrUmVmKGhhbmRsZVJlZkludGVybWVkaWFyeSwgcmVmKTtcblxuICBjb25zdCBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrID0gY2FsbGJhY2sgPT4gaXNBcHBlYXJpbmcgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gb25FbnRlclh4eCBhbmQgb25FeGl0WHh4IGNhbGxiYWNrcyBoYXZlIGEgZGlmZmVyZW50IGFyZ3VtZW50cy5sZW5ndGggdmFsdWUuXG4gICAgICBpZiAoaXNBcHBlYXJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayhjaGlsZHJlblJlZi5jdXJyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGNoaWxkcmVuUmVmLmN1cnJlbnQsIGlzQXBwZWFyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW50ZXIgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKChub2RlLCBpc0FwcGVhcmluZykgPT4ge1xuICAgIHNldFRyYW5zbGF0ZVZhbHVlKGRpcmVjdGlvbiwgbm9kZSwgY29udGFpbmVyUHJvcCk7XG4gICAgcmVmbG93KG5vZGUpO1xuXG4gICAgaWYgKG9uRW50ZXIpIHtcbiAgICAgIG9uRW50ZXIobm9kZSwgaXNBcHBlYXJpbmcpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUVudGVyaW5nID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBjb25zdCB0cmFuc2l0aW9uUHJvcHMgPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgdGltZW91dCxcbiAgICAgIHN0eWxlLFxuICAgICAgZWFzaW5nOiBlYXNpbmdQcm9wXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2VudGVyJ1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnLXdlYmtpdC10cmFuc2Zvcm0nLCBfZXh0ZW5kcyh7fSwgdHJhbnNpdGlvblByb3BzKSk7XG4gICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uID0gdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCd0cmFuc2Zvcm0nLCBfZXh0ZW5kcyh7fSwgdHJhbnNpdGlvblByb3BzKSk7XG4gICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG5cbiAgICBpZiAob25FbnRlcmluZykge1xuICAgICAgb25FbnRlcmluZyhub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRW50ZXJlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FbnRlcmVkKTtcbiAgY29uc3QgaGFuZGxlRXhpdGluZyA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sob25FeGl0aW5nKTtcbiAgY29uc3QgaGFuZGxlRXhpdCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgY29uc3QgdHJhbnNpdGlvblByb3BzID0gZ2V0VHJhbnNpdGlvblByb3BzKHtcbiAgICAgIHRpbWVvdXQsXG4gICAgICBzdHlsZSxcbiAgICAgIGVhc2luZzogZWFzaW5nUHJvcFxuICAgIH0sIHtcbiAgICAgIG1vZGU6ICdleGl0J1xuICAgIH0pO1xuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnLXdlYmtpdC10cmFuc2Zvcm0nLCB0cmFuc2l0aW9uUHJvcHMpO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbiA9IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywgdHJhbnNpdGlvblByb3BzKTtcbiAgICBzZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIG5vZGUsIGNvbnRhaW5lclByb3ApO1xuXG4gICAgaWYgKG9uRXhpdCkge1xuICAgICAgb25FeGl0KG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUV4aXRlZCA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgLy8gTm8gbmVlZCBmb3IgdHJhbnNpdGlvbnMgd2hlbiB0aGUgY29tcG9uZW50IGlzIGhpZGRlblxuICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICcnO1xuICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuXG4gICAgaWYgKG9uRXhpdGVkKSB7XG4gICAgICBvbkV4aXRlZChub2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUFkZEVuZExpc3RlbmVyID0gbmV4dCA9PiB7XG4gICAgaWYgKGFkZEVuZExpc3RlbmVyKSB7XG4gICAgICAvLyBPbGQgY2FsbCBzaWduYXR1cmUgYmVmb3JlIGByZWFjdC10cmFuc2l0aW9uLWdyb3VwYCBpbXBsZW1lbnRlZCBgbm9kZVJlZmBcbiAgICAgIGFkZEVuZExpc3RlbmVyKGNoaWxkcmVuUmVmLmN1cnJlbnQsIG5leHQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVQb3NpdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY2hpbGRyZW5SZWYuY3VycmVudCkge1xuICAgICAgc2V0VHJhbnNsYXRlVmFsdWUoZGlyZWN0aW9uLCBjaGlsZHJlblJlZi5jdXJyZW50LCBjb250YWluZXJQcm9wKTtcbiAgICB9XG4gIH0sIFtkaXJlY3Rpb24sIGNvbnRhaW5lclByb3BdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTa2lwIGNvbmZpZ3VyYXRpb24gd2hlcmUgdGhlIHBvc2l0aW9uIGlzIHNjcmVlbiBzaXplIGludmFyaWFudC5cbiAgICBpZiAoaW5Qcm9wIHx8IGRpcmVjdGlvbiA9PT0gJ2Rvd24nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBpZiAoY2hpbGRyZW5SZWYuY3VycmVudCkge1xuICAgICAgICBzZXRUcmFuc2xhdGVWYWx1ZShkaXJlY3Rpb24sIGNoaWxkcmVuUmVmLmN1cnJlbnQsIGNvbnRhaW5lclByb3ApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbnRhaW5lcldpbmRvdyA9IG93bmVyV2luZG93KGNoaWxkcmVuUmVmLmN1cnJlbnQpO1xuICAgIGNvbnRhaW5lcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBoYW5kbGVSZXNpemUuY2xlYXIoKTtcbiAgICAgIGNvbnRhaW5lcldpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIH07XG4gIH0sIFtkaXJlY3Rpb24sIGluUHJvcCwgY29udGFpbmVyUHJvcF0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaW5Qcm9wKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRyYXdlciB3aGVuIHRoZSBkaXJlY3Rpb24gY2hhbmdlIGFuZFxuICAgICAgLy8gd2hlbiBpdCdzIGhpZGRlbi5cbiAgICAgIHVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuICB9LCBbaW5Qcm9wLCB1cGRhdGVQb3NpdGlvbl0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goVHJhbnNpdGlvbkNvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgIG5vZGVSZWY6IGNoaWxkcmVuUmVmLFxuICAgIG9uRW50ZXI6IGhhbmRsZUVudGVyLFxuICAgIG9uRW50ZXJlZDogaGFuZGxlRW50ZXJlZCxcbiAgICBvbkVudGVyaW5nOiBoYW5kbGVFbnRlcmluZyxcbiAgICBvbkV4aXQ6IGhhbmRsZUV4aXQsXG4gICAgb25FeGl0ZWQ6IGhhbmRsZUV4aXRlZCxcbiAgICBvbkV4aXRpbmc6IGhhbmRsZUV4aXRpbmcsXG4gICAgYWRkRW5kTGlzdGVuZXI6IGhhbmRsZUFkZEVuZExpc3RlbmVyLFxuICAgIGFwcGVhcjogYXBwZWFyLFxuICAgIGluOiBpblByb3AsXG4gICAgdGltZW91dDogdGltZW91dFxuICB9LCBvdGhlciwge1xuICAgIGNoaWxkcmVuOiAoc3RhdGUsIGNoaWxkUHJvcHMpID0+IHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgIHZpc2liaWxpdHk6IHN0YXRlID09PSAnZXhpdGVkJyAmJiAhaW5Qcm9wID8gJ2hpZGRlbicgOiB1bmRlZmluZWRcbiAgICAgICAgfSwgc3R5bGUsIGNoaWxkcmVuLnByb3BzLnN0eWxlKVxuICAgICAgfSwgY2hpbGRQcm9wcykpO1xuICAgIH1cbiAgfSkpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBTbGlkZS5wcm9wVHlwZXNcbi8qIHJlbW92ZS1wcm9wdHlwZXMgKi9cbj0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogQWRkIGEgY3VzdG9tIHRyYW5zaXRpb24gZW5kIHRyaWdnZXIuIENhbGxlZCB3aXRoIHRoZSB0cmFuc2l0aW9uaW5nIERPTVxuICAgKiBub2RlIGFuZCBhIGRvbmUgY2FsbGJhY2suIEFsbG93cyBmb3IgbW9yZSBmaW5lIGdyYWluZWQgdHJhbnNpdGlvbiBlbmRcbiAgICogbG9naWMuIE5vdGU6IFRpbWVvdXRzIGFyZSBzdGlsbCB1c2VkIGFzIGEgZmFsbGJhY2sgaWYgcHJvdmlkZWQuXG4gICAqL1xuICBhZGRFbmRMaXN0ZW5lcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gdGhlIGVudGVyIHRyYW5zaXRpb24gd2hlbiBpdCBmaXJzdCBtb3VudHMgaWYgYGluYCBpcyBhbHNvIGB0cnVlYC5cbiAgICogU2V0IHRoaXMgdG8gYGZhbHNlYCB0byBkaXNhYmxlIHRoaXMgYmVoYXZpb3IuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGFwcGVhcjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEEgc2luZ2xlIGNoaWxkIGNvbnRlbnQgZWxlbWVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBlbGVtZW50QWNjZXB0aW5nUmVmLFxuXG4gIC8qKlxuICAgKiBBbiBIVE1MIGVsZW1lbnQsIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIG9uZS5cbiAgICogSXQncyB1c2VkIHRvIHNldCB0aGUgY29udGFpbmVyIHRoZSBTbGlkZSBpcyB0cmFuc2l0aW9uaW5nIGZyb20uXG4gICAqL1xuICBjb250YWluZXI6IGNoYWluUHJvcFR5cGVzKFByb3BUeXBlcy5vbmVPZlR5cGUoW0hUTUxFbGVtZW50VHlwZSwgUHJvcFR5cGVzLmZ1bmNdKSwgcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wcy5vcGVuKSB7XG4gICAgICBjb25zdCByZXNvbHZlZENvbnRhaW5lciA9IHJlc29sdmVDb250YWluZXIocHJvcHMuY29udGFpbmVyKTtcblxuICAgICAgaWYgKHJlc29sdmVkQ29udGFpbmVyICYmIHJlc29sdmVkQ29udGFpbmVyLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHJlc29sdmVkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmIGJveC50b3AgPT09IDAgJiYgYm94LmxlZnQgPT09IDAgJiYgYm94LnJpZ2h0ID09PSAwICYmIGJveC5ib3R0b20gPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFsnTVVJOiBUaGUgYGNvbnRhaW5lcmAgcHJvcCBwcm92aWRlZCB0byB0aGUgY29tcG9uZW50IGlzIGludmFsaWQuJywgJ1RoZSBhbmNob3IgZWxlbWVudCBzaG91bGQgYmUgcGFydCBvZiB0aGUgZG9jdW1lbnQgbGF5b3V0LicsIFwiTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHByZXNlbnQgaW4gdGhlIGRvY3VtZW50IG9yIHRoYXQgaXQncyBub3QgZGlzcGxheSBub25lLlwiXS5qb2luKCdcXG4nKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXJlc29sdmVkQ29udGFpbmVyIHx8IHR5cGVvZiByZXNvbHZlZENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09ICdmdW5jdGlvbicgfHwgcmVzb2x2ZWRDb250YWluZXIuY29udGV4dEVsZW1lbnQgIT0gbnVsbCAmJiByZXNvbHZlZENvbnRhaW5lci5jb250ZXh0RWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKFsnTVVJOiBUaGUgYGNvbnRhaW5lcmAgcHJvcCBwcm92aWRlZCB0byB0aGUgY29tcG9uZW50IGlzIGludmFsaWQuJywgJ0l0IHNob3VsZCBiZSBhbiBIVE1MIGVsZW1lbnQgaW5zdGFuY2UuJ10uam9pbignXFxuJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9KSxcblxuICAvKipcbiAgICogRGlyZWN0aW9uIHRoZSBjaGlsZCBub2RlIHdpbGwgZW50ZXIgZnJvbS5cbiAgICogQGRlZmF1bHQgJ2Rvd24nXG4gICAqL1xuICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2Rvd24nLCAnbGVmdCcsICdyaWdodCcsICd1cCddKSxcblxuICAvKipcbiAgICogVGhlIHRyYW5zaXRpb24gdGltaW5nIGZ1bmN0aW9uLlxuICAgKiBZb3UgbWF5IHNwZWNpZnkgYSBzaW5nbGUgZWFzaW5nIG9yIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50ZXIgYW5kIGV4aXQgdmFsdWVzLlxuICAgKiBAZGVmYXVsdCB7XG4gICAqICAgZW50ZXI6IGVhc2luZy5lYXNlT3V0LFxuICAgKiAgIGV4aXQ6IGVhc2luZy5zaGFycCxcbiAgICogfVxuICAgKi9cbiAgZWFzaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVudGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4aXQ6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSksIFByb3BUeXBlcy5zdHJpbmddKSxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgY29tcG9uZW50IHdpbGwgdHJhbnNpdGlvbiBpbi5cbiAgICovXG4gIGluOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXJpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRXhpdGluZzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICogQGRlZmF1bHQge1xuICAgKiAgIGVudGVyOiBkdXJhdGlvbi5lbnRlcmluZ1NjcmVlbixcbiAgICogICBleGl0OiBkdXJhdGlvbi5sZWF2aW5nU2NyZWVuLFxuICAgKiB9XG4gICAqL1xuICB0aW1lb3V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGFwcGVhcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBlbnRlcjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBleGl0OiBQcm9wVHlwZXMubnVtYmVyXG4gIH0pXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBTbGlkZTsiLCJpbXBvcnQgeyBnZW5lcmF0ZVV0aWxpdHlDbGFzcywgZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyB9IGZyb20gJ0BtdWkvY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sbGFwc2VVdGlsaXR5Q2xhc3Moc2xvdCkge1xuICByZXR1cm4gZ2VuZXJhdGVVdGlsaXR5Q2xhc3MoJ011aUNvbGxhcHNlJywgc2xvdCk7XG59XG5jb25zdCBjb2xsYXBzZUNsYXNzZXMgPSBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzKCdNdWlDb2xsYXBzZScsIFsncm9vdCcsICdob3Jpem9udGFsJywgJ3ZlcnRpY2FsJywgJ2VudGVyZWQnLCAnaGlkZGVuJywgJ3dyYXBwZXInLCAnd3JhcHBlcklubmVyJ10pO1xuZXhwb3J0IGRlZmF1bHQgY29sbGFwc2VDbGFzc2VzOyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5jb25zdCBfZXhjbHVkZWQgPSBbXCJhZGRFbmRMaXN0ZW5lclwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiY29sbGFwc2VkU2l6ZVwiLCBcImNvbXBvbmVudFwiLCBcImVhc2luZ1wiLCBcImluXCIsIFwib25FbnRlclwiLCBcIm9uRW50ZXJlZFwiLCBcIm9uRW50ZXJpbmdcIiwgXCJvbkV4aXRcIiwgXCJvbkV4aXRlZFwiLCBcIm9uRXhpdGluZ1wiLCBcIm9yaWVudGF0aW9uXCIsIFwic3R5bGVcIiwgXCJ0aW1lb3V0XCIsIFwiVHJhbnNpdGlvbkNvbXBvbmVudFwiXTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRyYW5zaXRpb24gfSBmcm9tICdyZWFjdC10cmFuc2l0aW9uLWdyb3VwJztcbmltcG9ydCB7IGVsZW1lbnRUeXBlQWNjZXB0aW5nUmVmIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgeyB1bnN0YWJsZV9jb21wb3NlQ2xhc3NlcyBhcyBjb21wb3NlQ2xhc3NlcyB9IGZyb20gJ0BtdWkvY29yZSc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJy4uL3N0eWxlcy9zdHlsZWQnO1xuaW1wb3J0IHVzZVRoZW1lUHJvcHMgZnJvbSAnLi4vc3R5bGVzL3VzZVRoZW1lUHJvcHMnO1xuaW1wb3J0IHsgZHVyYXRpb24gfSBmcm9tICcuLi9zdHlsZXMvY3JlYXRlVHJhbnNpdGlvbnMnO1xuaW1wb3J0IHsgZ2V0VHJhbnNpdGlvblByb3BzIH0gZnJvbSAnLi4vdHJhbnNpdGlvbnMvdXRpbHMnO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gJy4uL3N0eWxlcy91c2VUaGVtZSc7XG5pbXBvcnQgeyB1c2VGb3JrUmVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0Q29sbGFwc2VVdGlsaXR5Q2xhc3MgfSBmcm9tICcuL2NvbGxhcHNlQ2xhc3Nlcyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuXG5jb25zdCB1c2VVdGlsaXR5Q2xhc3NlcyA9IG93bmVyU3RhdGUgPT4ge1xuICBjb25zdCB7XG4gICAgb3JpZW50YXRpb24sXG4gICAgY2xhc3Nlc1xuICB9ID0gb3duZXJTdGF0ZTtcbiAgY29uc3Qgc2xvdHMgPSB7XG4gICAgcm9vdDogWydyb290JywgYCR7b3JpZW50YXRpb259YF0sXG4gICAgZW50ZXJlZDogWydlbnRlcmVkJ10sXG4gICAgaGlkZGVuOiBbJ2hpZGRlbiddLFxuICAgIHdyYXBwZXI6IFsnd3JhcHBlcicsIGAke29yaWVudGF0aW9ufWBdLFxuICAgIHdyYXBwZXJJbm5lcjogWyd3cmFwcGVySW5uZXInLCBgJHtvcmllbnRhdGlvbn1gXVxuICB9O1xuICByZXR1cm4gY29tcG9zZUNsYXNzZXMoc2xvdHMsIGdldENvbGxhcHNlVXRpbGl0eUNsYXNzLCBjbGFzc2VzKTtcbn07XG5cbmNvbnN0IENvbGxhcHNlUm9vdCA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ29sbGFwc2UnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG93bmVyU3RhdGVcbiAgICB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFtzdHlsZXMucm9vdCwgc3R5bGVzW293bmVyU3RhdGUub3JpZW50YXRpb25dLCBvd25lclN0YXRlLnN0YXRlID09PSAnZW50ZXJlZCcgJiYgc3R5bGVzLmVudGVyZWQsIG93bmVyU3RhdGUuc3RhdGUgPT09ICdleGl0ZWQnICYmICFvd25lclN0YXRlLmluICYmIG93bmVyU3RhdGUuY29sbGFwc2VkU2l6ZSA9PT0gJzBweCcgJiYgc3R5bGVzLmhpZGRlbl07XG4gIH1cbn0pKCh7XG4gIHRoZW1lLFxuICBvd25lclN0YXRlXG59KSA9PiBfZXh0ZW5kcyh7XG4gIGhlaWdodDogMCxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ2hlaWdodCcpXG59LCBvd25lclN0YXRlLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYge1xuICBoZWlnaHQ6ICdhdXRvJyxcbiAgd2lkdGg6IDAsXG4gIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnd2lkdGgnKVxufSwgb3duZXJTdGF0ZS5zdGF0ZSA9PT0gJ2VudGVyZWQnICYmIF9leHRlbmRzKHtcbiAgaGVpZ2h0OiAnYXV0bycsXG4gIG92ZXJmbG93OiAndmlzaWJsZSdcbn0sIG93bmVyU3RhdGUub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiB7XG4gIHdpZHRoOiAnYXV0bydcbn0pLCBvd25lclN0YXRlLnN0YXRlID09PSAnZXhpdGVkJyAmJiAhb3duZXJTdGF0ZS5pbiAmJiBvd25lclN0YXRlLmNvbGxhcHNlZFNpemUgPT09ICcwcHgnICYmIHtcbiAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbn0pKTtcbmNvbnN0IENvbGxhcHNlV3JhcHBlciA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ29sbGFwc2UnLFxuICBzbG90OiAnV3JhcHBlcicsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4gc3R5bGVzLndyYXBwZXJcbn0pKCh7XG4gIG93bmVyU3RhdGVcbn0pID0+IF9leHRlbmRzKHtcbiAgLy8gSGFjayB0byBnZXQgY2hpbGRyZW4gd2l0aCBhIG5lZ2F0aXZlIG1hcmdpbiB0byBub3QgZmFsc2lmeSB0aGUgaGVpZ2h0IGNvbXB1dGF0aW9uLlxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHdpZHRoOiAnMTAwJSdcbn0sIG93bmVyU3RhdGUub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiB7XG4gIHdpZHRoOiAnYXV0bycsXG4gIGhlaWdodDogJzEwMCUnXG59KSk7XG5jb25zdCBDb2xsYXBzZVdyYXBwZXJJbm5lciA9IHN0eWxlZCgnZGl2Jywge1xuICBuYW1lOiAnTXVpQ29sbGFwc2UnLFxuICBzbG90OiAnV3JhcHBlcklubmVyJyxcbiAgb3ZlcnJpZGVzUmVzb2x2ZXI6IChwcm9wcywgc3R5bGVzKSA9PiBzdHlsZXMud3JhcHBlcklubmVyXG59KSgoe1xuICBvd25lclN0YXRlXG59KSA9PiBfZXh0ZW5kcyh7XG4gIHdpZHRoOiAnMTAwJSdcbn0sIG93bmVyU3RhdGUub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyAmJiB7XG4gIHdpZHRoOiAnYXV0bycsXG4gIGhlaWdodDogJzEwMCUnXG59KSk7XG4vKipcbiAqIFRoZSBDb2xsYXBzZSB0cmFuc2l0aW9uIGlzIHVzZWQgYnkgdGhlXG4gKiBbVmVydGljYWwgU3RlcHBlcl0oL2NvbXBvbmVudHMvc3RlcHBlcnMvI3ZlcnRpY2FsLXN0ZXBwZXIpIFN0ZXBDb250ZW50IGNvbXBvbmVudC5cbiAqIEl0IHVzZXMgW3JlYWN0LXRyYW5zaXRpb24tZ3JvdXBdKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXApIGludGVybmFsbHkuXG4gKi9cblxuY29uc3QgQ29sbGFwc2UgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBDb2xsYXBzZShpblByb3BzLCByZWYpIHtcbiAgY29uc3QgcHJvcHMgPSB1c2VUaGVtZVByb3BzKHtcbiAgICBwcm9wczogaW5Qcm9wcyxcbiAgICBuYW1lOiAnTXVpQ29sbGFwc2UnXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICBhZGRFbmRMaXN0ZW5lcixcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgY29sbGFwc2VkU2l6ZTogY29sbGFwc2VkU2l6ZVByb3AgPSAnMHB4JyxcbiAgICBjb21wb25lbnQsXG4gICAgZWFzaW5nLFxuICAgIGluOiBpblByb3AsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyZWQsXG4gICAgb25FbnRlcmluZyxcbiAgICBvbkV4aXQsXG4gICAgb25FeGl0ZWQsXG4gICAgb25FeGl0aW5nLFxuICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJyxcbiAgICBzdHlsZSxcbiAgICB0aW1lb3V0ID0gZHVyYXRpb24uc3RhbmRhcmQsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3Byb3AtdHlwZXNcbiAgICBUcmFuc2l0aW9uQ29tcG9uZW50ID0gVHJhbnNpdGlvblxuICB9ID0gcHJvcHMsXG4gICAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgY29uc3Qgb3duZXJTdGF0ZSA9IF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIG9yaWVudGF0aW9uLFxuICAgIGNvbGxhcHNlZFNpemU6IGNvbGxhcHNlZFNpemVQcm9wXG4gIH0pO1xuXG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VVdGlsaXR5Q2xhc3Nlcyhvd25lclN0YXRlKTtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICBjb25zdCB0aW1lciA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCB3cmFwcGVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBhdXRvVHJhbnNpdGlvbkR1cmF0aW9uID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IGNvbGxhcHNlZFNpemUgPSB0eXBlb2YgY29sbGFwc2VkU2l6ZVByb3AgPT09ICdudW1iZXInID8gYCR7Y29sbGFwc2VkU2l6ZVByb3B9cHhgIDogY29sbGFwc2VkU2l6ZVByb3A7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gIGNvbnN0IHNpemUgPSBpc0hvcml6b250YWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lci5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IG5vZGVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYocmVmLCBub2RlUmVmKTtcblxuICBjb25zdCBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrID0gY2FsbGJhY2sgPT4gbWF5YmVJc0FwcGVhcmluZyA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZVJlZi5jdXJyZW50OyAvLyBvbkVudGVyWHh4IGFuZCBvbkV4aXRYeHggY2FsbGJhY2tzIGhhdmUgYSBkaWZmZXJlbnQgYXJndW1lbnRzLmxlbmd0aCB2YWx1ZS5cblxuICAgICAgaWYgKG1heWJlSXNBcHBlYXJpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayhub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGUsIG1heWJlSXNBcHBlYXJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRXcmFwcGVyU2l6ZSA9ICgpID0+IHdyYXBwZXJSZWYuY3VycmVudCA/IHdyYXBwZXJSZWYuY3VycmVudFtpc0hvcml6b250YWwgPyAnY2xpZW50V2lkdGgnIDogJ2NsaWVudEhlaWdodCddIDogMDtcblxuICBjb25zdCBoYW5kbGVFbnRlciA9IG5vcm1hbGl6ZWRUcmFuc2l0aW9uQ2FsbGJhY2soKG5vZGUsIGlzQXBwZWFyaW5nKSA9PiB7XG4gICAgaWYgKHdyYXBwZXJSZWYuY3VycmVudCAmJiBpc0hvcml6b250YWwpIHtcbiAgICAgIC8vIFNldCBhYnNvbHV0ZSBwb3NpdGlvbiB0byBnZXQgdGhlIHNpemUgb2YgY29sbGFwc2VkIGNvbnRlbnRcbiAgICAgIHdyYXBwZXJSZWYuY3VycmVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgfVxuXG4gICAgbm9kZS5zdHlsZVtzaXplXSA9IGNvbGxhcHNlZFNpemU7XG5cbiAgICBpZiAob25FbnRlcikge1xuICAgICAgb25FbnRlcihub2RlLCBpc0FwcGVhcmluZyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRW50ZXJpbmcgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKChub2RlLCBpc0FwcGVhcmluZykgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXJTaXplID0gZ2V0V3JhcHBlclNpemUoKTtcblxuICAgIGlmICh3cmFwcGVyUmVmLmN1cnJlbnQgJiYgaXNIb3Jpem9udGFsKSB7XG4gICAgICAvLyBBZnRlciB0aGUgc2l6ZSBpcyByZWFkIHJlc2V0IHRoZSBwb3NpdGlvbiBiYWNrIHRvIGRlZmF1bHRcbiAgICAgIHdyYXBwZXJSZWYuY3VycmVudC5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICBlYXNpbmc6IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblxuICAgIH0gPSBnZXRUcmFuc2l0aW9uUHJvcHMoe1xuICAgICAgc3R5bGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgZWFzaW5nXG4gICAgfSwge1xuICAgICAgbW9kZTogJ2VudGVyJ1xuICAgIH0pO1xuXG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgY29uc3QgZHVyYXRpb24yID0gdGhlbWUudHJhbnNpdGlvbnMuZ2V0QXV0b0hlaWdodER1cmF0aW9uKHdyYXBwZXJTaXplKTtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb24yfW1zYDtcbiAgICAgIGF1dG9UcmFuc2l0aW9uRHVyYXRpb24uY3VycmVudCA9IGR1cmF0aW9uMjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB0eXBlb2YgdHJhbnNpdGlvbkR1cmF0aW9uID09PSAnc3RyaW5nJyA/IHRyYW5zaXRpb25EdXJhdGlvbiA6IGAke3RyYW5zaXRpb25EdXJhdGlvbn1tc2A7XG4gICAgfVxuXG4gICAgbm9kZS5zdHlsZVtzaXplXSA9IGAke3dyYXBwZXJTaXplfXB4YDtcbiAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjtcblxuICAgIGlmIChvbkVudGVyaW5nKSB7XG4gICAgICBvbkVudGVyaW5nKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFbnRlcmVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjaygobm9kZSwgaXNBcHBlYXJpbmcpID0+IHtcbiAgICBub2RlLnN0eWxlW3NpemVdID0gJ2F1dG8nO1xuXG4gICAgaWYgKG9uRW50ZXJlZCkge1xuICAgICAgb25FbnRlcmVkKG5vZGUsIGlzQXBwZWFyaW5nKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVFeGl0ID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhub2RlID0+IHtcbiAgICBub2RlLnN0eWxlW3NpemVdID0gYCR7Z2V0V3JhcHBlclNpemUoKX1weGA7XG5cbiAgICBpZiAob25FeGl0KSB7XG4gICAgICBvbkV4aXQobm9kZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFuZGxlRXhpdGVkID0gbm9ybWFsaXplZFRyYW5zaXRpb25DYWxsYmFjayhvbkV4aXRlZCk7XG4gIGNvbnN0IGhhbmRsZUV4aXRpbmcgPSBub3JtYWxpemVkVHJhbnNpdGlvbkNhbGxiYWNrKG5vZGUgPT4ge1xuICAgIGNvbnN0IHdyYXBwZXJTaXplID0gZ2V0V3JhcHBlclNpemUoKTtcbiAgICBjb25zdCB7XG4gICAgICBkdXJhdGlvbjogdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cbiAgICB9ID0gZ2V0VHJhbnNpdGlvblByb3BzKHtcbiAgICAgIHN0eWxlLFxuICAgICAgdGltZW91dCxcbiAgICAgIGVhc2luZ1xuICAgIH0sIHtcbiAgICAgIG1vZGU6ICdleGl0J1xuICAgIH0pO1xuXG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgLy8gVE9ETzogcmVuYW1lIGdldEF1dG9IZWlnaHREdXJhdGlvbiB0byBzb21ldGhpbmcgbW9yZSBnZW5lcmljICh3aWR0aCBzdXBwb3J0KVxuICAgICAgLy8gQWN0dWFsbHkgaXQganVzdCBjYWxjdWxhdGVzIGFuaW1hdGlvbiBkdXJhdGlvbiBiYXNlZCBvbiBzaXplXG4gICAgICBjb25zdCBkdXJhdGlvbjIgPSB0aGVtZS50cmFuc2l0aW9ucy5nZXRBdXRvSGVpZ2h0RHVyYXRpb24od3JhcHBlclNpemUpO1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbjJ9bXNgO1xuICAgICAgYXV0b1RyYW5zaXRpb25EdXJhdGlvbi5jdXJyZW50ID0gZHVyYXRpb24yO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiB0cmFuc2l0aW9uRHVyYXRpb24gPT09ICdzdHJpbmcnID8gdHJhbnNpdGlvbkR1cmF0aW9uIDogYCR7dHJhbnNpdGlvbkR1cmF0aW9ufW1zYDtcbiAgICB9XG5cbiAgICBub2RlLnN0eWxlW3NpemVdID0gY29sbGFwc2VkU2l6ZTtcbiAgICBub2RlLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjtcblxuICAgIGlmIChvbkV4aXRpbmcpIHtcbiAgICAgIG9uRXhpdGluZyhub2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUFkZEVuZExpc3RlbmVyID0gbmV4dCA9PiB7XG4gICAgaWYgKHRpbWVvdXQgPT09ICdhdXRvJykge1xuICAgICAgdGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQobmV4dCwgYXV0b1RyYW5zaXRpb25EdXJhdGlvbi5jdXJyZW50IHx8IDApO1xuICAgIH1cblxuICAgIGlmIChhZGRFbmRMaXN0ZW5lcikge1xuICAgICAgLy8gT2xkIGNhbGwgc2lnbmF0dXJlIGJlZm9yZSBgcmVhY3QtdHJhbnNpdGlvbi1ncm91cGAgaW1wbGVtZW50ZWQgYG5vZGVSZWZgXG4gICAgICBhZGRFbmRMaXN0ZW5lcihub2RlUmVmLmN1cnJlbnQsIG5leHQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goVHJhbnNpdGlvbkNvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgIGluOiBpblByb3AsXG4gICAgb25FbnRlcjogaGFuZGxlRW50ZXIsXG4gICAgb25FbnRlcmVkOiBoYW5kbGVFbnRlcmVkLFxuICAgIG9uRW50ZXJpbmc6IGhhbmRsZUVudGVyaW5nLFxuICAgIG9uRXhpdDogaGFuZGxlRXhpdCxcbiAgICBvbkV4aXRlZDogaGFuZGxlRXhpdGVkLFxuICAgIG9uRXhpdGluZzogaGFuZGxlRXhpdGluZyxcbiAgICBhZGRFbmRMaXN0ZW5lcjogaGFuZGxlQWRkRW5kTGlzdGVuZXIsXG4gICAgbm9kZVJlZjogbm9kZVJlZixcbiAgICB0aW1lb3V0OiB0aW1lb3V0ID09PSAnYXV0bycgPyBudWxsIDogdGltZW91dFxuICB9LCBvdGhlciwge1xuICAgIGNoaWxkcmVuOiAoc3RhdGUsIGNoaWxkUHJvcHMpID0+IC8qI19fUFVSRV9fKi9fanN4KENvbGxhcHNlUm9vdCwgX2V4dGVuZHMoe1xuICAgICAgYXM6IGNvbXBvbmVudCxcbiAgICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwge1xuICAgICAgICAnZW50ZXJlZCc6IGNsYXNzZXMuZW50ZXJlZCxcbiAgICAgICAgJ2V4aXRlZCc6ICFpblByb3AgJiYgY29sbGFwc2VkU2l6ZSA9PT0gJzBweCcgJiYgY2xhc3Nlcy5oaWRkZW5cbiAgICAgIH1bc3RhdGVdKSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7XG4gICAgICAgIFtpc0hvcml6b250YWwgPyAnbWluV2lkdGgnIDogJ21pbkhlaWdodCddOiBjb2xsYXBzZWRTaXplXG4gICAgICB9LCBzdHlsZSksXG4gICAgICBvd25lclN0YXRlOiBfZXh0ZW5kcyh7fSwgb3duZXJTdGF0ZSwge1xuICAgICAgICBzdGF0ZVxuICAgICAgfSksXG4gICAgICByZWY6IGhhbmRsZVJlZlxuICAgIH0sIGNoaWxkUHJvcHMsIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChDb2xsYXBzZVdyYXBwZXIsIHtcbiAgICAgICAgb3duZXJTdGF0ZTogX2V4dGVuZHMoe30sIG93bmVyU3RhdGUsIHtcbiAgICAgICAgICBzdGF0ZVxuICAgICAgICB9KSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLndyYXBwZXIsXG4gICAgICAgIHJlZjogd3JhcHBlclJlZixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KENvbGxhcHNlV3JhcHBlcklubmVyLCB7XG4gICAgICAgICAgb3duZXJTdGF0ZTogX2V4dGVuZHMoe30sIG93bmVyU3RhdGUsIHtcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLndyYXBwZXJJbm5lcixcbiAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSkpXG4gIH0pKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQ29sbGFwc2UucHJvcFR5cGVzXG4vKiByZW1vdmUtcHJvcHR5cGVzICovXG49IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIEFkZCBhIGN1c3RvbSB0cmFuc2l0aW9uIGVuZCB0cmlnZ2VyLiBDYWxsZWQgd2l0aCB0aGUgdHJhbnNpdGlvbmluZyBET01cbiAgICogbm9kZSBhbmQgYSBkb25lIGNhbGxiYWNrLiBBbGxvd3MgZm9yIG1vcmUgZmluZSBncmFpbmVkIHRyYW5zaXRpb24gZW5kXG4gICAqIGxvZ2ljLiBOb3RlOiBUaW1lb3V0cyBhcmUgc3RpbGwgdXNlZCBhcyBhIGZhbGxiYWNrIGlmIHByb3ZpZGVkLlxuICAgKi9cbiAgYWRkRW5kTGlzdGVuZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBub2RlIHRvIGJlIGNvbGxhcHNlZC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggKGhvcml6b250YWwpIG9yIGhlaWdodCAodmVydGljYWwpIG9mIHRoZSBjb250YWluZXIgd2hlbiBjb2xsYXBzZWQuXG4gICAqIEBkZWZhdWx0ICcwcHgnXG4gICAqL1xuICBjb2xsYXBzZWRTaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYsXG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2l0aW9uIHRpbWluZyBmdW5jdGlvbi5cbiAgICogWW91IG1heSBzcGVjaWZ5IGEgc2luZ2xlIGVhc2luZyBvciBhIG9iamVjdCBjb250YWluaW5nIGVudGVyIGFuZCBleGl0IHZhbHVlcy5cbiAgICovXG4gIGVhc2luZzogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBlbnRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBleGl0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCB3aWxsIHRyYW5zaXRpb24gaW4uXG4gICAqL1xuICBpbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FeGl0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25FeGl0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNpdGlvbiBvcmllbnRhdGlvbi5cbiAgICogQGRlZmF1bHQgJ3ZlcnRpY2FsJ1xuICAgKi9cbiAgb3JpZW50YXRpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSksXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICpcbiAgICogU2V0IHRvICdhdXRvJyB0byBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZSB0cmFuc2l0aW9uIHRpbWUgYmFzZWQgb24gaGVpZ2h0LlxuICAgKiBAZGVmYXVsdCBkdXJhdGlvbi5zdGFuZGFyZFxuICAgKi9cbiAgdGltZW91dDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsnYXV0byddKSwgUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlYXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50ZXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZXhpdDogUHJvcFR5cGVzLm51bWJlclxuICB9KV0pXG59IDogdm9pZCAwO1xuQ29sbGFwc2UubXVpU3VwcG9ydEF1dG8gPSB0cnVlO1xuZXhwb3J0IGRlZmF1bHQgQ29sbGFwc2U7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGVsZW1lbnRBY2NlcHRpbmdSZWYsIGV4YWN0UHJvcCB9IGZyb20gJ0BtdWkvdXRpbHMnO1xuaW1wb3J0IG93bmVyRG9jdW1lbnQgZnJvbSAnLi4vdXRpbHMvb3duZXJEb2N1bWVudCc7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tICcuLi91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCB1c2VFdmVudENhbGxiYWNrIGZyb20gJy4uL3V0aWxzL3VzZUV2ZW50Q2FsbGJhY2snOyAvLyBUT0RPOiByZXR1cm4gYEV2ZW50SGFuZGxlck5hbWUgZXh0ZW5kcyBgb24ke2luZmVyIEV2ZW50TmFtZX1gID8gTG93ZXJjYXNlPEV2ZW50TmFtZT4gOiBuZXZlcmAgb25jZSBnZW5lcmF0ZVByb3BUeXBlcyBydW5zIHdpdGggVFMgNC4xXG5cbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5cbmZ1bmN0aW9uIG1hcEV2ZW50UHJvcFRvRXZlbnQoZXZlbnRQcm9wKSB7XG4gIHJldHVybiBldmVudFByb3Auc3Vic3RyaW5nKDIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIGNsaWNrZWRSb290U2Nyb2xsYmFyKGV2ZW50LCBkb2MpIHtcbiAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCBldmVudC5jbGllbnRYIHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IDwgZXZlbnQuY2xpZW50WTtcbn1cblxuLyoqXG4gKiBMaXN0ZW4gZm9yIGNsaWNrIGV2ZW50cyB0aGF0IG9jY3VyIHNvbWV3aGVyZSBpbiB0aGUgZG9jdW1lbnQsIG91dHNpZGUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICogRm9yIGluc3RhbmNlLCBpZiB5b3UgbmVlZCB0byBoaWRlIGEgbWVudSB3aGVuIHBlb3BsZSBjbGljayBhbnl3aGVyZSBlbHNlIG9uIHlvdXIgcGFnZS5cbiAqXG4gKiBEZW1vczpcbiAqXG4gKiAtIFtDbGljayBBd2F5IExpc3RlbmVyXShodHRwczovL211aS5jb20vY29tcG9uZW50cy9jbGljay1hd2F5LWxpc3RlbmVyLylcbiAqIC0gW01lbnVzXShodHRwczovL211aS5jb20vY29tcG9uZW50cy9tZW51cy8pXG4gKlxuICogQVBJOlxuICpcbiAqIC0gW0NsaWNrQXdheUxpc3RlbmVyIEFQSV0oaHR0cHM6Ly9tdWkuY29tL2FwaS9jbGljay1hd2F5LWxpc3RlbmVyLylcbiAqL1xuZnVuY3Rpb24gQ2xpY2tBd2F5TGlzdGVuZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGRpc2FibGVSZWFjdFRyZWUgPSBmYWxzZSxcbiAgICBtb3VzZUV2ZW50ID0gJ29uQ2xpY2snLFxuICAgIG9uQ2xpY2tBd2F5LFxuICAgIHRvdWNoRXZlbnQgPSAnb25Ub3VjaEVuZCdcbiAgfSA9IHByb3BzO1xuICBjb25zdCBtb3ZlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IG5vZGVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGFjdGl2YXRlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHN5bnRoZXRpY0V2ZW50UmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBFbnN1cmUgdGhhdCB0aGlzIGNvbXBvbmVudCBpcyBub3QgXCJhY3RpdmF0ZWRcIiBzeW5jaHJvbm91c2x5LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAwNzRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGFjdGl2YXRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYWN0aXZhdGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZVJlZiA9IHVzZUZvcmtSZWYoIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyB1cHN0cmVhbSBmaXhcbiAgY2hpbGRyZW4ucmVmLCBub2RlUmVmKTsgLy8gVGhlIGhhbmRsZXIgZG9lc24ndCB0YWtlIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgaW50byBhY2NvdW50OlxuICAvL1xuICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpIGlzIG1lYW50IHRvIHN0b3AgZGVmYXVsdCBiZWhhdmlvcnMgbGlrZVxuICAvLyBjbGlja2luZyBhIGNoZWNrYm94IHRvIGNoZWNrIGl0LCBoaXR0aW5nIGEgYnV0dG9uIHRvIHN1Ym1pdCBhIGZvcm0sXG4gIC8vIGFuZCBoaXR0aW5nIGxlZnQgYXJyb3cgdG8gbW92ZSB0aGUgY3Vyc29yIGluIGEgdGV4dCBpbnB1dCBldGMuXG4gIC8vIE9ubHkgc3BlY2lhbCBIVE1MIGVsZW1lbnRzIGhhdmUgdGhlc2UgZGVmYXVsdCBiZWhhdmlvcnMuXG5cbiAgY29uc3QgaGFuZGxlQ2xpY2tBd2F5ID0gdXNlRXZlbnRDYWxsYmFjayhldmVudCA9PiB7XG4gICAgLy8gR2l2ZW4gZGV2ZWxvcGVycyBjYW4gc3RvcCB0aGUgcHJvcGFnYXRpb24gb2YgdGhlIHN5bnRoZXRpYyBldmVudCxcbiAgICAvLyB3ZSBjYW4gb25seSBiZSBjb25maWRlbnQgd2l0aCBhIHBvc2l0aXZlIHZhbHVlLlxuICAgIGNvbnN0IGluc2lkZVJlYWN0VHJlZSA9IHN5bnRoZXRpY0V2ZW50UmVmLmN1cnJlbnQ7XG4gICAgc3ludGhldGljRXZlbnRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIGNvbnN0IGRvYyA9IG93bmVyRG9jdW1lbnQobm9kZVJlZi5jdXJyZW50KTsgLy8gMS4gSUUxMSBzdXBwb3J0LCB3aGljaCB0cmlnZ2VyIHRoZSBoYW5kbGVDbGlja0F3YXkgZXZlbiBhZnRlciB0aGUgdW5iaW5kXG4gICAgLy8gMi4gVGhlIGNoaWxkIG1pZ2h0IHJlbmRlciBudWxsLlxuICAgIC8vIDMuIEJlaGF2ZSBsaWtlIGEgYmx1ciBsaXN0ZW5lci5cblxuICAgIGlmICghYWN0aXZhdGVkUmVmLmN1cnJlbnQgfHwgIW5vZGVSZWYuY3VycmVudCB8fCAnY2xpZW50WCcgaW4gZXZlbnQgJiYgY2xpY2tlZFJvb3RTY3JvbGxiYXIoZXZlbnQsIGRvYykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIERvIG5vdCBhY3QgaWYgdXNlciBwZXJmb3JtZWQgdG91Y2htb3ZlXG5cblxuICAgIGlmIChtb3ZlZFJlZi5jdXJyZW50KSB7XG4gICAgICBtb3ZlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGluc2lkZURPTTsgLy8gSWYgbm90IGVub3VnaCwgY2FuIHVzZSBodHRwczovL2dpdGh1Yi5jb20vRGlldGVySG9sdm9ldC9ldmVudC1wcm9wYWdhdGlvbi1wYXRoL2Jsb2IvbWFzdGVyL3Byb3BhZ2F0aW9uUGF0aC5qc1xuXG4gICAgaWYgKGV2ZW50LmNvbXBvc2VkUGF0aCkge1xuICAgICAgaW5zaWRlRE9NID0gZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5kZXhPZihub2RlUmVmLmN1cnJlbnQpID4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2lkZURPTSA9ICFkb2MuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKCAvLyBAdHMtZXhwZWN0LWVycm9yIHJldHVybnMgYGZhbHNlYCBhcyBpbnRlbmRlZCB3aGVuIG5vdCBkaXNwYXRjaGVkIGZyb20gYSBOb2RlXG4gICAgICBldmVudC50YXJnZXQpIHx8IG5vZGVSZWYuY3VycmVudC5jb250YWlucyggLy8gQHRzLWV4cGVjdC1lcnJvciByZXR1cm5zIGBmYWxzZWAgYXMgaW50ZW5kZWQgd2hlbiBub3QgZGlzcGF0Y2hlZCBmcm9tIGEgTm9kZVxuICAgICAgZXZlbnQudGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAoIWluc2lkZURPTSAmJiAoZGlzYWJsZVJlYWN0VHJlZSB8fCAhaW5zaWRlUmVhY3RUcmVlKSkge1xuICAgICAgb25DbGlja0F3YXkoZXZlbnQpO1xuICAgIH1cbiAgfSk7IC8vIEtlZXAgdHJhY2sgb2YgbW91c2UvdG91Y2ggZXZlbnRzIHRoYXQgYnViYmxlZCB1cCB0aHJvdWdoIHRoZSBwb3J0YWwuXG5cbiAgY29uc3QgY3JlYXRlSGFuZGxlU3ludGhldGljID0gaGFuZGxlck5hbWUgPT4gZXZlbnQgPT4ge1xuICAgIHN5bnRoZXRpY0V2ZW50UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIGNvbnN0IGNoaWxkcmVuUHJvcHNIYW5kbGVyID0gY2hpbGRyZW4ucHJvcHNbaGFuZGxlck5hbWVdO1xuXG4gICAgaWYgKGNoaWxkcmVuUHJvcHNIYW5kbGVyKSB7XG4gICAgICBjaGlsZHJlblByb3BzSGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoaWxkcmVuUHJvcHMgPSB7XG4gICAgcmVmOiBoYW5kbGVSZWZcbiAgfTtcblxuICBpZiAodG91Y2hFdmVudCAhPT0gZmFsc2UpIHtcbiAgICBjaGlsZHJlblByb3BzW3RvdWNoRXZlbnRdID0gY3JlYXRlSGFuZGxlU3ludGhldGljKHRvdWNoRXZlbnQpO1xuICB9XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodG91Y2hFdmVudCAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IG1hcHBlZFRvdWNoRXZlbnQgPSBtYXBFdmVudFByb3BUb0V2ZW50KHRvdWNoRXZlbnQpO1xuICAgICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChub2RlUmVmLmN1cnJlbnQpO1xuXG4gICAgICBjb25zdCBoYW5kbGVUb3VjaE1vdmUgPSAoKSA9PiB7XG4gICAgICAgIG1vdmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIobWFwcGVkVG91Y2hFdmVudCwgaGFuZGxlQ2xpY2tBd2F5KTtcbiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIobWFwcGVkVG91Y2hFdmVudCwgaGFuZGxlQ2xpY2tBd2F5KTtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtoYW5kbGVDbGlja0F3YXksIHRvdWNoRXZlbnRdKTtcblxuICBpZiAobW91c2VFdmVudCAhPT0gZmFsc2UpIHtcbiAgICBjaGlsZHJlblByb3BzW21vdXNlRXZlbnRdID0gY3JlYXRlSGFuZGxlU3ludGhldGljKG1vdXNlRXZlbnQpO1xuICB9XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW91c2VFdmVudCAhPT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IG1hcHBlZE1vdXNlRXZlbnQgPSBtYXBFdmVudFByb3BUb0V2ZW50KG1vdXNlRXZlbnQpO1xuICAgICAgY29uc3QgZG9jID0gb3duZXJEb2N1bWVudChub2RlUmVmLmN1cnJlbnQpO1xuICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIobWFwcGVkTW91c2VFdmVudCwgaGFuZGxlQ2xpY2tBd2F5KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKG1hcHBlZE1vdXNlRXZlbnQsIGhhbmRsZUNsaWNrQXdheSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtoYW5kbGVDbGlja0F3YXksIG1vdXNlRXZlbnRdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIGNoaWxkcmVuUHJvcHMpXG4gIH0pO1xufVxuXG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDbGlja0F3YXlMaXN0ZW5lci5wcm9wVHlwZXNcbi8qIHJlbW92ZS1wcm9wdHlwZXMgKi9cbj0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCBUeXBlU2NyaXB0IHR5cGVzIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogVGhlIHdyYXBwZWQgZWxlbWVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBlbGVtZW50QWNjZXB0aW5nUmVmLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIFJlYWN0IHRyZWUgaXMgaWdub3JlZCBhbmQgb25seSB0aGUgRE9NIHRyZWUgaXMgY29uc2lkZXJlZC5cbiAgICogVGhpcyBwcm9wIGNoYW5nZXMgaG93IHBvcnRhbGVkIGVsZW1lbnRzIGFyZSBoYW5kbGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVJlYWN0VHJlZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBtb3VzZSBldmVudCB0byBsaXN0ZW4gdG8uIFlvdSBjYW4gZGlzYWJsZSB0aGUgbGlzdGVuZXIgYnkgcHJvdmlkaW5nIGBmYWxzZWAuXG4gICAqIEBkZWZhdWx0ICdvbkNsaWNrJ1xuICAgKi9cbiAgbW91c2VFdmVudDogUHJvcFR5cGVzLm9uZU9mKFsnb25DbGljaycsICdvbk1vdXNlRG93bicsICdvbk1vdXNlVXAnLCBmYWxzZV0pLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIGEgXCJjbGljayBhd2F5XCIgZXZlbnQgaXMgZGV0ZWN0ZWQuXG4gICAqL1xuICBvbkNsaWNrQXdheTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogVGhlIHRvdWNoIGV2ZW50IHRvIGxpc3RlbiB0by4gWW91IGNhbiBkaXNhYmxlIHRoZSBsaXN0ZW5lciBieSBwcm92aWRpbmcgYGZhbHNlYC5cbiAgICogQGRlZmF1bHQgJ29uVG91Y2hFbmQnXG4gICAqL1xuICB0b3VjaEV2ZW50OiBQcm9wVHlwZXMub25lT2YoWydvblRvdWNoRW5kJywgJ29uVG91Y2hTdGFydCcsIGZhbHNlXSlcbn0gOiB2b2lkIDA7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBDbGlja0F3YXlMaXN0ZW5lclsncHJvcFR5cGVzJyArICcnXSA9IGV4YWN0UHJvcChDbGlja0F3YXlMaXN0ZW5lci5wcm9wVHlwZXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDbGlja0F3YXlMaXN0ZW5lcjsiLCJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgZm9yd2FyZFJlZiwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QsIGNyZWF0ZUVsZW1lbnQsIHVzZVN0YXRlLCBDb21wb25lbnQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgU2xpZGUgZnJvbSAnQG11aS9tYXRlcmlhbC9TbGlkZSc7XG5pbXBvcnQgeyBzdHlsZWQsIGVtcGhhc2l6ZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvc3R5bGVzJztcbmltcG9ydCBDb2xsYXBzZSBmcm9tICdAbXVpL21hdGVyaWFsL0NvbGxhcHNlJztcbmltcG9ydCBTdmdJY29uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU3ZnSWNvbic7XG5pbXBvcnQgQ2xpY2tBd2F5TGlzdGVuZXIgZnJvbSAnQG11aS9tYXRlcmlhbC9DbGlja0F3YXlMaXN0ZW5lcic7XG5pbXBvcnQgaG9pc3ROb25SZWFjdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbnZhciBTbmFja2JhckNvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCgpO1xuXG52YXIgYWxsQ2xhc3NlcyA9IHtcbiAgbXVpOiB7XG4gICAgcm9vdDoge30sXG4gICAgYW5jaG9yT3JpZ2luVG9wQ2VudGVyOiB7fSxcbiAgICBhbmNob3JPcmlnaW5Cb3R0b21DZW50ZXI6IHt9LFxuICAgIGFuY2hvck9yaWdpblRvcFJpZ2h0OiB7fSxcbiAgICBhbmNob3JPcmlnaW5Cb3R0b21SaWdodDoge30sXG4gICAgYW5jaG9yT3JpZ2luVG9wTGVmdDoge30sXG4gICAgYW5jaG9yT3JpZ2luQm90dG9tTGVmdDoge31cbiAgfSxcbiAgY29udGFpbmVyOiB7XG4gICAgY29udGFpbmVyUm9vdDoge30sXG4gICAgY29udGFpbmVyQW5jaG9yT3JpZ2luVG9wQ2VudGVyOiB7fSxcbiAgICBjb250YWluZXJBbmNob3JPcmlnaW5Cb3R0b21DZW50ZXI6IHt9LFxuICAgIGNvbnRhaW5lckFuY2hvck9yaWdpblRvcFJpZ2h0OiB7fSxcbiAgICBjb250YWluZXJBbmNob3JPcmlnaW5Cb3R0b21SaWdodDoge30sXG4gICAgY29udGFpbmVyQW5jaG9yT3JpZ2luVG9wTGVmdDoge30sXG4gICAgY29udGFpbmVyQW5jaG9yT3JpZ2luQm90dG9tTGVmdDoge31cbiAgfVxufTtcbnZhciBNRVNTQUdFUyA9IHtcbiAgTk9fUEVSU0lTVF9BTEw6ICdXQVJOSU5HIC0gbm90aXN0YWNrOiBSZWFjaGVkIG1heFNuYWNrIHdoaWxlIGFsbCBlbnF1ZXVlZCBzbmFja2JhcnMgaGF2ZSBcXCdwZXJzaXN0XFwnIGZsYWcuIE5vdGlzdGFjayB3aWxsIGRpc21pc3MgdGhlIG9sZGVzdCBzbmFja2JhciBhbnl3YXkgdG8gYWxsb3cgb3RoZXIgb25lcyBpbiB0aGUgcXVldWUgdG8gYmUgcHJlc2VudGVkLidcbn07XG52YXIgU05BQ0tCQVJfSU5ERU5UUyA9IHtcbiAgdmlldzoge1xuICAgIFwiZGVmYXVsdFwiOiAyMCxcbiAgICBkZW5zZTogNFxuICB9LFxuICBzbmFja2Jhcjoge1xuICAgIFwiZGVmYXVsdFwiOiA2LFxuICAgIGRlbnNlOiAyXG4gIH1cbn07XG52YXIgREVGQVVMVFMgPSB7XG4gIG1heFNuYWNrOiAzLFxuICBkZW5zZTogZmFsc2UsXG4gIGhpZGVJY29uVmFyaWFudDogZmFsc2UsXG4gIHZhcmlhbnQ6ICdkZWZhdWx0JyxcbiAgYXV0b0hpZGVEdXJhdGlvbjogNTAwMCxcbiAgYW5jaG9yT3JpZ2luOiB7XG4gICAgdmVydGljYWw6ICdib3R0b20nLFxuICAgIGhvcml6b250YWw6ICdsZWZ0J1xuICB9LFxuICBUcmFuc2l0aW9uQ29tcG9uZW50OiBTbGlkZSxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiB7XG4gICAgZW50ZXI6IDIyNSxcbiAgICBleGl0OiAxOTVcbiAgfVxufTtcbnZhciBjYXBpdGFsaXNlID0gZnVuY3Rpb24gY2FwaXRhbGlzZSh0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zbGljZSgxKTtcbn07XG52YXIgb3JpZ2luS2V5RXh0cmFjdG9yID0gZnVuY3Rpb24gb3JpZ2luS2V5RXh0cmFjdG9yKGFuY2hvcikge1xuICByZXR1cm4gXCJcIiArIGNhcGl0YWxpc2UoYW5jaG9yLnZlcnRpY2FsKSArIGNhcGl0YWxpc2UoYW5jaG9yLmhvcml6b250YWwpO1xufTtcbi8qKlxyXG4gKiBPbWl0IFNuYWNrYmFyQ29udGFpbmVyIGNsYXNzIGtleXMgdGhhdCBhcmUgbm90IG5lZWRlZCBmb3IgU25hY2tiYXJJdGVtXHJcbiAqL1xuXG52YXIgb21pdENvbnRhaW5lcktleXMgPSBmdW5jdGlvbiBvbWl0Q29udGFpbmVyS2V5cyhjbGFzc2VzKSB7XG4gIHJldHVybiAoLy8gQHRzLWlnbm9yZVxuICAgIE9iamVjdC5rZXlzKGNsYXNzZXMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gIWFsbENsYXNzZXMuY29udGFpbmVyW2tleV07XG4gICAgfSkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgdmFyIF9leHRlbmRzMjtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBvYmosIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW2tleV0gPSBjbGFzc2VzW2tleV0sIF9leHRlbmRzMikpO1xuICAgIH0sIHt9KVxuICApO1xufTtcbnZhciBSRUFTT05TID0ge1xuICBUSU1FT1VUOiAndGltZW91dCcsXG4gIENMSUNLQVdBWTogJ2NsaWNrYXdheScsXG4gIE1BWFNOQUNLOiAnbWF4c25hY2snLFxuICBJTlNUUlVDVEVEOiAnaW5zdHJ1Y3RlZCdcbn07XG4vKiogVHJhbmZvcm1zIGNsYXNzZXMgbmFtZSAqL1xuXG52YXIgdHJhbnNmb3JtZXIgPSB7XG4gIHRvQ29udGFpbmVyQW5jaG9yT3JpZ2luOiBmdW5jdGlvbiB0b0NvbnRhaW5lckFuY2hvck9yaWdpbihvcmlnaW4pIHtcbiAgICByZXR1cm4gXCJjb250YWluZXJBbmNob3JPcmlnaW5cIiArIG9yaWdpbjtcbiAgfSxcbiAgdG9BbmNob3JPcmlnaW46IGZ1bmN0aW9uIHRvQW5jaG9yT3JpZ2luKF9yZWYpIHtcbiAgICB2YXIgdmVydGljYWwgPSBfcmVmLnZlcnRpY2FsLFxuICAgICAgICBob3Jpem9udGFsID0gX3JlZi5ob3Jpem9udGFsO1xuICAgIHJldHVybiBcImFuY2hvck9yaWdpblwiICsgY2FwaXRhbGlzZSh2ZXJ0aWNhbCkgKyBjYXBpdGFsaXNlKGhvcml6b250YWwpO1xuICB9LFxuICB0b1ZhcmlhbnQ6IGZ1bmN0aW9uIHRvVmFyaWFudCh2YXJpYW50KSB7XG4gICAgcmV0dXJuIFwidmFyaWFudFwiICsgY2FwaXRhbGlzZSh2YXJpYW50KTtcbiAgfVxufTtcbnZhciBpc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgfHwgdmFsdWUgPT09IDA7XG59O1xuXG52YXIgbnVtYmVyT3JOdWxsID0gZnVuY3Rpb24gbnVtYmVyT3JOdWxsKG51bWJlcmlzaCkge1xuICByZXR1cm4gdHlwZW9mIG51bWJlcmlzaCA9PT0gJ251bWJlcicgfHwgbnVtYmVyaXNoID09PSBudWxsO1xufTsgLy8gQHRzLWlnbm9yZVxuXG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKG9wdGlvbnMsIHByb3BzLCBkZWZhdWx0cykge1xuICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAobmFtZSA9PT0gJ2F1dG9IaWRlRHVyYXRpb24nKSB7XG4gICAgICBpZiAobnVtYmVyT3JOdWxsKG9wdGlvbnMuYXV0b0hpZGVEdXJhdGlvbikpIHJldHVybiBvcHRpb25zLmF1dG9IaWRlRHVyYXRpb247XG4gICAgICBpZiAobnVtYmVyT3JOdWxsKHByb3BzLmF1dG9IaWRlRHVyYXRpb24pKSByZXR1cm4gcHJvcHMuYXV0b0hpZGVEdXJhdGlvbjtcbiAgICAgIHJldHVybiBERUZBVUxUUy5hdXRvSGlkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zW25hbWVdIHx8IHByb3BzW25hbWVdIHx8IGRlZmF1bHRzW25hbWVdO1xuICB9O1xufTtcbmZ1bmN0aW9uIG9iamVjdE1lcmdlKG9wdGlvbnMsIHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgaWYgKGRlZmF1bHRzID09PSB2b2lkIDApIHtcbiAgICBkZWZhdWx0cyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0cywge30sIHByb3BzLCB7fSwgb3B0aW9ucyk7XG59XG5cbnZhciBjb21wb25lbnROYW1lID0gJ1NuYWNrYmFyQ29udGVudCc7XG52YXIgY2xhc3NlcyA9IHtcbiAgcm9vdDogY29tcG9uZW50TmFtZSArIFwiLXJvb3RcIlxufTtcbnZhciBSb290ID0gLyojX19QVVJFX18qL3N0eWxlZCgnZGl2JykoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIF9yZWYyLCBfcmVmMztcblxuICB2YXIgdGhlbWUgPSBfcmVmLnRoZW1lO1xuICByZXR1cm4gX3JlZjMgPSB7fSwgX3JlZjNbXCImLlwiICsgY2xhc3Nlcy5yb290XSA9IChfcmVmMiA9IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICBmbGV4R3JvdzogMVxuICB9LCBfcmVmMlt0aGVtZS5icmVha3BvaW50cy51cCgnc20nKV0gPSB7XG4gICAgZmxleEdyb3c6ICdpbml0aWFsJyxcbiAgICBtaW5XaWR0aDogMjg4XG4gIH0sIF9yZWYyKSwgX3JlZjM7XG59KTtcbnZhciBTbmFja2JhckNvbnRlbnQgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZjQsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZjQuY2xhc3NOYW1lLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmNCwgW1wiY2xhc3NOYW1lXCJdKTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb290LCBPYmplY3QuYXNzaWduKHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpXG4gIH0sIHByb3BzKSk7XG59KTtcblxudmFyIERJUkVDVElPTiA9IHtcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgYm90dG9tOiAndXAnLFxuICB0b3A6ICdkb3duJ1xufTtcbnZhciBnZXRUcmFuc2l0aW9uRGlyZWN0aW9uID0gZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkRpcmVjdGlvbihhbmNob3JPcmlnaW4pIHtcbiAgaWYgKGFuY2hvck9yaWdpbi5ob3Jpem9udGFsICE9PSAnY2VudGVyJykge1xuICAgIHJldHVybiBESVJFQ1RJT05bYW5jaG9yT3JpZ2luLmhvcml6b250YWxdO1xuICB9XG5cbiAgcmV0dXJuIERJUkVDVElPTlthbmNob3JPcmlnaW4udmVydGljYWxdO1xufTtcblxudmFyIENoZWNrSWNvbiA9IGZ1bmN0aW9uIENoZWNrSWNvbihwcm9wcykge1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdmdJY29uLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiAyQzYuNSAyIDIgNi41IDIgMTJTNi41IDIyIDEyIDIyIDIyIDE3LjUgMjIgMTIgMTcuNSAyIDEyIDJNMTAgMTdMNSAxMkw2LjQxXFxuICAgICAgICAxMC41OUwxMCAxNC4xN0wxNy41OSA2LjU4TDE5IDhMMTAgMTdaXCJcbiAgfSkpO1xufTtcblxudmFyIFdhcm5pbmdJY29uID0gZnVuY3Rpb24gV2FybmluZ0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3ZnSWNvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTMsMTRIMTFWMTBIMTNNMTMsMThIMTFWMTZIMTNNMSwyMUgyM0wxMiwyTDEsMjFaXCJcbiAgfSkpO1xufTtcblxudmFyIEVycm9ySWNvbiA9IGZ1bmN0aW9uIEVycm9ySWNvbihwcm9wcykge1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdmdJY29uLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiwyQzE3LjUzLDIgMjIsNi40NyAyMiwxMkMyMiwxNy41MyAxNy41MywyMiAxMiwyMkM2LjQ3LDIyIDIsMTcuNTMgMiwxMkMyLFxcbiAgICAgICAgNi40NyA2LjQ3LDIgMTIsMk0xNS41OSw3TDEyLDEwLjU5TDguNDEsN0w3LDguNDFMMTAuNTksMTJMNywxNS41OUw4LjQxLDE3TDEyLFxcbiAgICAgICAgMTMuNDFMMTUuNTksMTdMMTcsMTUuNTlMMTMuNDEsMTJMMTcsOC40MUwxNS41OSw3WlwiXG4gIH0pKTtcbn07XG5cbnZhciBJbmZvSWNvbiA9IGZ1bmN0aW9uIEluZm9JY29uKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z0ljb24sIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzLDlIMTFWN0gxM00xMywxN0gxMVYxMUgxM00xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLFxcbiAgICAgICAgMCAyMiwxMkExMCwxMCAwIDAsMCAxMiwyWlwiXG4gIH0pKTtcbn07XG5cbnZhciBpY29uU3R5bGVzID0ge1xuICBmb250U2l6ZTogMjAsXG4gIG1hcmdpbklubGluZUVuZDogOFxufTtcbnZhciBkZWZhdWx0SWNvblZhcmlhbnRzID0ge1xuICBcImRlZmF1bHRcIjogdW5kZWZpbmVkLFxuICBzdWNjZXNzOiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDaGVja0ljb24sIHtcbiAgICBzdHlsZTogaWNvblN0eWxlc1xuICB9KSxcbiAgd2FybmluZzogLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoV2FybmluZ0ljb24sIHtcbiAgICBzdHlsZTogaWNvblN0eWxlc1xuICB9KSxcbiAgZXJyb3I6IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVycm9ySWNvbiwge1xuICAgIHN0eWxlOiBpY29uU3R5bGVzXG4gIH0pLFxuICBpbmZvOiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJbmZvSWNvbiwge1xuICAgIHN0eWxlOiBpY29uU3R5bGVzXG4gIH0pXG59O1xuXG4vKipcbiAqIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWktb3JnL21hdGVyaWFsLXVpL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL21hdGVyaWFsLXVpL3NyYy91dGlscy9jcmVhdGVDaGFpbmVkRnVuY3Rpb24uanNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKGZ1bmNzLCBleHRyYUFyZykge1xuICByZXR1cm4gZnVuY3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGZ1bmMpIHtcbiAgICBpZiAoZnVuYyA9PSBudWxsKSByZXR1cm4gYWNjO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEFyZ3VtZW50IFR5cGUuIG11c3Qgb25seSBwcm92aWRlIGZ1bmN0aW9ucywgdW5kZWZpbmVkLCBvciBudWxsLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZ3VtcyA9IFtdLmNvbmNhdChhcmdzKTtcblxuICAgICAgaWYgKGV4dHJhQXJnICYmIGFyZ3Vtcy5pbmRleE9mKGV4dHJhQXJnKSA9PT0gLTEpIHtcbiAgICAgICAgYXJndW1zLnB1c2goZXh0cmFBcmcpO1xuICAgICAgfVxuXG4gICAgICBhY2MuYXBwbHkodGhpcywgYXJndW1zKTtcbiAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJndW1zKTtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoKSB7fSk7XG59XG5cbi8qKlxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211aS1vcmcvbWF0ZXJpYWwtdWkvYmxvYi9tYXN0ZXIvcGFja2FnZXMvbWF0ZXJpYWwtdWkvc3JjL3V0aWxzL3VzZUV2ZW50Q2FsbGJhY2suanNcbiAqL1xudmFyIHVzZUVuaGFuY2VkRWZmZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5mdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGZuKSB7XG4gIHZhciByZWYgPSB1c2VSZWYoZm4pO1xuICB1c2VFbmhhbmNlZEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmVmLmN1cnJlbnQgPSBmbjtcbiAgfSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChyZWYuY3VycmVudCkuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LCBbXSk7XG59XG5cbnZhciBTbmFja2JhciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgYXV0b0hpZGVEdXJhdGlvbiA9IHByb3BzLmF1dG9IaWRlRHVyYXRpb24sXG4gICAgICBDbGlja0F3YXlMaXN0ZW5lclByb3BzID0gcHJvcHMuQ2xpY2tBd2F5TGlzdGVuZXJQcm9wcyxcbiAgICAgIF9wcm9wcyRkaXNhYmxlV2luZG93QiA9IHByb3BzLmRpc2FibGVXaW5kb3dCbHVyTGlzdGVuZXIsXG4gICAgICBkaXNhYmxlV2luZG93Qmx1ckxpc3RlbmVyID0gX3Byb3BzJGRpc2FibGVXaW5kb3dCID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlV2luZG93QixcbiAgICAgIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlLFxuICAgICAgb25Nb3VzZUVudGVyID0gcHJvcHMub25Nb3VzZUVudGVyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlLFxuICAgICAgb3BlbiA9IHByb3BzLm9wZW4sXG4gICAgICByZXN1bWVIaWRlRHVyYXRpb24gPSBwcm9wcy5yZXN1bWVIaWRlRHVyYXRpb24sXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJjaGlsZHJlblwiLCBcImF1dG9IaWRlRHVyYXRpb25cIiwgXCJDbGlja0F3YXlMaXN0ZW5lclByb3BzXCIsIFwiZGlzYWJsZVdpbmRvd0JsdXJMaXN0ZW5lclwiLCBcIm9uQ2xvc2VcIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIiwgXCJvcGVuXCIsIFwicmVzdW1lSGlkZUR1cmF0aW9uXCJdKTtcblxuICB2YXIgdGltZXJBdXRvSGlkZSA9IHVzZVJlZigpO1xuICB2YXIgaGFuZGxlQ2xvc2UgPSB1c2VFdmVudENhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAob25DbG9zZSkge1xuICAgICAgb25DbG9zZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9KTtcbiAgdmFyIHNldEF1dG9IaWRlVGltZXIgPSB1c2VFdmVudENhbGxiYWNrKGZ1bmN0aW9uIChhdXRvSGlkZUR1cmF0aW9uUGFyYW0pIHtcbiAgICBpZiAoIW9uQ2xvc2UgfHwgYXV0b0hpZGVEdXJhdGlvblBhcmFtID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQodGltZXJBdXRvSGlkZS5jdXJyZW50KTtcbiAgICB0aW1lckF1dG9IaWRlLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGhhbmRsZUNsb3NlKG51bGwsIFJFQVNPTlMuVElNRU9VVCk7XG4gICAgfSwgYXV0b0hpZGVEdXJhdGlvblBhcmFtKTtcbiAgfSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG9wZW4pIHtcbiAgICAgIHNldEF1dG9IaWRlVGltZXIoYXV0b0hpZGVEdXJhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lckF1dG9IaWRlLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtvcGVuLCBhdXRvSGlkZUR1cmF0aW9uLCBzZXRBdXRvSGlkZVRpbWVyXSk7XG4gIC8qKlxuICAgKiBQYXVzZSB0aGUgdGltZXIgd2hlbiB0aGUgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIHRoZSBTbmFja2JhclxuICAgKiBvciB3aGVuIHRoZSB1c2VyIGhpZGUgdGhlIHdpbmRvdy5cbiAgICovXG5cbiAgdmFyIGhhbmRsZVBhdXNlID0gZnVuY3Rpb24gaGFuZGxlUGF1c2UoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyQXV0b0hpZGUuY3VycmVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXN0YXJ0IHRoZSB0aW1lciB3aGVuIHRoZSB1c2VyIGlzIG5vIGxvbmdlciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTbmFja2JhclxuICAgKiBvciB3aGVuIHRoZSB3aW5kb3cgaXMgc2hvd24gYmFjay5cbiAgICovXG5cblxuICB2YXIgaGFuZGxlUmVzdW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChhdXRvSGlkZUR1cmF0aW9uICE9IG51bGwpIHtcbiAgICAgIHNldEF1dG9IaWRlVGltZXIocmVzdW1lSGlkZUR1cmF0aW9uICE9IG51bGwgPyByZXN1bWVIaWRlRHVyYXRpb24gOiBhdXRvSGlkZUR1cmF0aW9uICogMC41KTtcbiAgICB9XG4gIH0sIFthdXRvSGlkZUR1cmF0aW9uLCByZXN1bWVIaWRlRHVyYXRpb24sIHNldEF1dG9IaWRlVGltZXJdKTtcblxuICB2YXIgaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoZXZlbnQpIHtcbiAgICBpZiAob25Nb3VzZUVudGVyKSB7XG4gICAgICBvbk1vdXNlRW50ZXIoZXZlbnQpO1xuICAgIH1cblxuICAgIGhhbmRsZVBhdXNlKCk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKGV2ZW50KSB7XG4gICAgaWYgKG9uTW91c2VMZWF2ZSkge1xuICAgICAgb25Nb3VzZUxlYXZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBoYW5kbGVSZXN1bWUoKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlQ2xpY2tBd2F5ID0gZnVuY3Rpb24gaGFuZGxlQ2xpY2tBd2F5KGV2ZW50KSB7XG4gICAgaWYgKG9uQ2xvc2UpIHtcbiAgICAgIG9uQ2xvc2UoZXZlbnQsIFJFQVNPTlMuQ0xJQ0tBV0FZKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRpc2FibGVXaW5kb3dCbHVyTGlzdGVuZXIgJiYgb3Blbikge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlUmVzdW1lKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlUGF1c2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlUmVzdW1lKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVQYXVzZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtkaXNhYmxlV2luZG93Qmx1ckxpc3RlbmVyLCBoYW5kbGVSZXN1bWUsIG9wZW5dKTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ2xpY2tBd2F5TGlzdGVuZXIsIF9leHRlbmRzKHtcbiAgICBvbkNsaWNrQXdheTogaGFuZGxlQ2xpY2tBd2F5XG4gIH0sIENsaWNrQXdheUxpc3RlbmVyUHJvcHMpLCBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBvbk1vdXNlRW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSwgY2hpbGRyZW4pKTtcbn0pO1xuXG52YXIgY29tcG9uZW50TmFtZSQxID0gJ1NuYWNrYmFySXRlbSc7XG52YXIgY2xhc3NlcyQxID0ge1xuICBjb250ZW50Um9vdDogY29tcG9uZW50TmFtZSQxICsgXCItY29udGVudFJvb3RcIixcbiAgbGVzc1BhZGRpbmc6IGNvbXBvbmVudE5hbWUkMSArIFwiLWxlc3NQYWRkaW5nXCIsXG4gIHZhcmlhbnRTdWNjZXNzOiBjb21wb25lbnROYW1lJDEgKyBcIi12YXJpYW50U3VjY2Vzc1wiLFxuICB2YXJpYW50RXJyb3I6IGNvbXBvbmVudE5hbWUkMSArIFwiLXZhcmlhbnRFcnJvclwiLFxuICB2YXJpYW50SW5mbzogY29tcG9uZW50TmFtZSQxICsgXCItdmFyaWFudEluZm9cIixcbiAgdmFyaWFudFdhcm5pbmc6IGNvbXBvbmVudE5hbWUkMSArIFwiLXZhcmlhbnRXYXJuaW5nXCIsXG4gIG1lc3NhZ2U6IGNvbXBvbmVudE5hbWUkMSArIFwiLW1lc3NhZ2VcIixcbiAgYWN0aW9uOiBjb21wb25lbnROYW1lJDEgKyBcIi1hY3Rpb25cIixcbiAgd3JhcHBlZFJvb3Q6IGNvbXBvbmVudE5hbWUkMSArIFwiLXdyYXBwZWRSb290XCJcbn07XG52YXIgU3R5bGVkU25hY2tiYXIgPSAvKiNfX1BVUkVfXyovc3R5bGVkKFNuYWNrYmFyKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZjI7XG5cbiAgdmFyIHRoZW1lID0gX3JlZi50aGVtZTtcbiAgdmFyIG1vZGUgPSB0aGVtZS5wYWxldHRlLm1vZGUgfHwgdGhlbWUucGFsZXR0ZS50eXBlO1xuICB2YXIgYmFja2dyb3VuZENvbG9yID0gZW1waGFzaXplKHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZFtcImRlZmF1bHRcIl0sIG1vZGUgPT09ICdsaWdodCcgPyAwLjggOiAwLjk4KTtcbiAgcmV0dXJuIF9yZWYyID0ge30sIF9yZWYyW1wiJi5cIiArIGNsYXNzZXMkMS53cmFwcGVkUm9vdF0gPSB7XG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgwKScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwXG4gIH0sIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLmNvbnRlbnRSb290XSA9IF9leHRlbmRzKHt9LCB0aGVtZS50eXBvZ3JhcGh5LmJvZHkyLCB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KGJhY2tncm91bmRDb2xvciksXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgcGFkZGluZzogJzZweCAxNnB4JyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIGJveFNoYWRvdzogJzBweCAzcHggNXB4IC0xcHggcmdiYSgwLDAsMCwwLjIpLDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwwLjE0KSwwcHggMXB4IDE4cHggMHB4IHJnYmEoMCwwLDAsMC4xMiknXG4gIH0pLCBfcmVmMltcIi5cIiArIGNsYXNzZXMkMS5sZXNzUGFkZGluZ10gPSB7XG4gICAgcGFkZGluZ0xlZnQ6IDggKiAyLjVcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEudmFyaWFudFN1Y2Nlc3NdID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyM0M2EwNDcnLFxuICAgIGNvbG9yOiAnI2ZmZidcbiAgfSwgX3JlZjJbXCIuXCIgKyBjbGFzc2VzJDEudmFyaWFudEVycm9yXSA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZDMyZjJmJyxcbiAgICBjb2xvcjogJyNmZmYnXG4gIH0sIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLnZhcmlhbnRJbmZvXSA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjE5NmYzJyxcbiAgICBjb2xvcjogJyNmZmYnXG4gIH0sIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLnZhcmlhbnRXYXJuaW5nXSA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmY5ODAwJyxcbiAgICBjb2xvcjogJyNmZmYnXG4gIH0sIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLm1lc3NhZ2VdID0ge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBwYWRkaW5nOiAnOHB4IDAnXG4gIH0sIF9yZWYyW1wiLlwiICsgY2xhc3NlcyQxLmFjdGlvbl0gPSB7XG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIG1hcmdpbkxlZnQ6ICdhdXRvJyxcbiAgICBwYWRkaW5nTGVmdDogMTYsXG4gICAgbWFyZ2luUmlnaHQ6IC04XG4gIH0sIF9yZWYyO1xufSk7XG5cbnZhciBTbmFja2Jhckl0ZW0gPSBmdW5jdGlvbiBTbmFja2Jhckl0ZW0oX3JlZjMpIHtcbiAgdmFyIHByb3BDbGFzc2VzID0gX3JlZjMuY2xhc3NlcyxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcImNsYXNzZXNcIl0pO1xuXG4gIHZhciB0aW1lb3V0ID0gdXNlUmVmKCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHRydWUpLFxuICAgICAgY29sbGFwc2VkID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Q29sbGFwc2VkID0gX3VzZVN0YXRlWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICB2YXIgaGFuZGxlQ2xvc2UgPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oW3Byb3BzLnNuYWNrLm9uQ2xvc2UsIHByb3BzLm9uQ2xvc2VdLCBwcm9wcy5zbmFjay5rZXkpO1xuXG4gIHZhciBoYW5kbGVFbnRlcmVkID0gZnVuY3Rpb24gaGFuZGxlRW50ZXJlZCgpIHtcbiAgICBpZiAocHJvcHMuc25hY2sucmVxdWVzdENsb3NlKSB7XG4gICAgICBoYW5kbGVDbG9zZShudWxsLCBSRUFTT05TLklOU1RSQ1VURUQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlRXhpdGVkU2NyZWVuID0gZnVuY3Rpb24gaGFuZGxlRXhpdGVkU2NyZWVuKCkge1xuICAgIHRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0Q29sbGFwc2VkKCFjb2xsYXBzZWQpO1xuICAgIH0sIDEyNSk7XG4gIH07XG5cbiAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBvdGhlckFyaWFBdHRyaWJ1dGVzID0gcHJvcHMuYXJpYUF0dHJpYnV0ZXMsXG4gICAgICBvdGhlckNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGhpZGVJY29uVmFyaWFudCA9IHByb3BzLmhpZGVJY29uVmFyaWFudCxcbiAgICAgIGljb25WYXJpYW50ID0gcHJvcHMuaWNvblZhcmlhbnQsXG4gICAgICBzbmFjayA9IHByb3BzLnNuYWNrLFxuICAgICAgb3RoZXJBY3Rpb24gPSBwcm9wcy5hY3Rpb24sXG4gICAgICBvdGhlckNvbnRlbnQgPSBwcm9wcy5jb250ZW50LFxuICAgICAgb3RoZXJUcmFuQ29tcG9uZW50ID0gcHJvcHMuVHJhbnNpdGlvbkNvbXBvbmVudCxcbiAgICAgIG90aGVyVHJhblByb3BzID0gcHJvcHMuVHJhbnNpdGlvblByb3BzLFxuICAgICAgb3RoZXJUcmFuRHVyYXRpb24gPSBwcm9wcy50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJzdHlsZVwiLCBcImRlbnNlXCIsIFwiYXJpYUF0dHJpYnV0ZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJoaWRlSWNvblZhcmlhbnRcIiwgXCJpY29uVmFyaWFudFwiLCBcInNuYWNrXCIsIFwiYWN0aW9uXCIsIFwiY29udGVudFwiLCBcIlRyYW5zaXRpb25Db21wb25lbnRcIiwgXCJUcmFuc2l0aW9uUHJvcHNcIiwgXCJ0cmFuc2l0aW9uRHVyYXRpb25cIiwgXCJvbkVudGVyXCIsIFwib25FbnRlcmVkXCIsIFwib25FbnRlcmluZ1wiLCBcIm9uRXhpdFwiLCBcIm9uRXhpdGVkXCIsIFwib25FeGl0aW5nXCJdKTtcblxuICB2YXIga2V5ID0gc25hY2sua2V5LFxuICAgICAgb3BlbiA9IHNuYWNrLm9wZW4sXG4gICAgICBzaW5nbGVDbGFzc05hbWUgPSBzbmFjay5jbGFzc05hbWUsXG4gICAgICB2YXJpYW50ID0gc25hY2sudmFyaWFudCxcbiAgICAgIHNpbmdsZUNvbnRlbnQgPSBzbmFjay5jb250ZW50LFxuICAgICAgc2luZ2xlQWN0aW9uID0gc25hY2suYWN0aW9uLFxuICAgICAgc2luZ2xlQXJpYUF0dHJpYnV0ZXMgPSBzbmFjay5hcmlhQXR0cmlidXRlcyxcbiAgICAgIGFuY2hvck9yaWdpbiA9IHNuYWNrLmFuY2hvck9yaWdpbixcbiAgICAgIHNuYWNrTWVzc2FnZSA9IHNuYWNrLm1lc3NhZ2UsXG4gICAgICBzaW5nbGVUcmFuQ29tcG9uZW50ID0gc25hY2suVHJhbnNpdGlvbkNvbXBvbmVudCxcbiAgICAgIHNpbmdsZVRyYW5Qcm9wcyA9IHNuYWNrLlRyYW5zaXRpb25Qcm9wcyxcbiAgICAgIHNpbmdsZVRyYW5EdXJhdGlvbiA9IHNuYWNrLnRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIHNpbmdsZVNuYWNrUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzbmFjaywgW1wicGVyc2lzdFwiLCBcImtleVwiLCBcIm9wZW5cIiwgXCJlbnRlcmVkXCIsIFwicmVxdWVzdENsb3NlXCIsIFwiY2xhc3NOYW1lXCIsIFwidmFyaWFudFwiLCBcImNvbnRlbnRcIiwgXCJhY3Rpb25cIiwgXCJhcmlhQXR0cmlidXRlc1wiLCBcImFuY2hvck9yaWdpblwiLCBcIm1lc3NhZ2VcIiwgXCJUcmFuc2l0aW9uQ29tcG9uZW50XCIsIFwiVHJhbnNpdGlvblByb3BzXCIsIFwidHJhbnNpdGlvbkR1cmF0aW9uXCIsIFwib25FbnRlclwiLCBcIm9uRW50ZXJlZFwiLCBcIm9uRW50ZXJpbmdcIiwgXCJvbkV4aXRcIiwgXCJvbkV4aXRlZFwiLCBcIm9uRXhpdGluZ1wiXSk7XG5cbiAgdmFyIGljb24gPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdEljb25WYXJpYW50cywge30sIGljb25WYXJpYW50KVt2YXJpYW50XTtcblxuICB2YXIgYXJpYUF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyh7XG4gICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnbm90aXN0YWNrLXNuYWNrYmFyJ1xuICB9LCBvYmplY3RNZXJnZShzaW5nbGVBcmlhQXR0cmlidXRlcywgb3RoZXJBcmlhQXR0cmlidXRlcykpO1xuXG4gIHZhciBUcmFuc2l0aW9uQ29tcG9uZW50ID0gc2luZ2xlVHJhbkNvbXBvbmVudCB8fCBvdGhlclRyYW5Db21wb25lbnQgfHwgREVGQVVMVFMuVHJhbnNpdGlvbkNvbXBvbmVudDtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IG9iamVjdE1lcmdlKHNpbmdsZVRyYW5EdXJhdGlvbiwgb3RoZXJUcmFuRHVyYXRpb24sIERFRkFVTFRTLnRyYW5zaXRpb25EdXJhdGlvbik7XG5cbiAgdmFyIHRyYW5zaXRpb25Qcm9wcyA9IF9leHRlbmRzKHtcbiAgICBkaXJlY3Rpb246IGdldFRyYW5zaXRpb25EaXJlY3Rpb24oYW5jaG9yT3JpZ2luKVxuICB9LCBvYmplY3RNZXJnZShzaW5nbGVUcmFuUHJvcHMsIG90aGVyVHJhblByb3BzKSk7XG5cbiAgdmFyIGFjdGlvbiA9IHNpbmdsZUFjdGlvbiB8fCBvdGhlckFjdGlvbjtcblxuICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFjdGlvbiA9IGFjdGlvbihrZXkpO1xuICB9XG5cbiAgdmFyIGNvbnRlbnQgPSBzaW5nbGVDb250ZW50IHx8IG90aGVyQ29udGVudDtcblxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb250ZW50ID0gY29udGVudChrZXksIHNuYWNrLm1lc3NhZ2UpO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvcGVyYXRvci1saW5lYnJlYWtcblxuXG4gIHZhciBjYWxsYmFja3MgPSBbJ29uRW50ZXInLCAnb25FbnRlcmluZycsICdvbkVudGVyZWQnLCAnb25FeGl0JywgJ29uRXhpdGluZycsICdvbkV4aXRlZCddLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjYk5hbWUpIHtcbiAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhY2MsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW2NiTmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24oW3Byb3BzLnNuYWNrW2NiTmFtZV0sIHByb3BzW2NiTmFtZV1dLCBwcm9wcy5zbmFjay5rZXkpLCBfZXh0ZW5kczIpKTtcbiAgfSwge30pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb2xsYXBzZSwge1xuICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgdGltZW91dDogMTc1LFxuICAgIFwiaW5cIjogY29sbGFwc2VkLFxuICAgIG9uRXhpdGVkOiBjYWxsYmFja3Mub25FeGl0ZWRcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdHlsZWRTbmFja2JhciwgT2JqZWN0LmFzc2lnbih7fSwgb3RoZXIsIHNpbmdsZVNuYWNrUHJvcHMsIHtcbiAgICBvcGVuOiBvcGVuLFxuICAgIGNsYXNzTmFtZTogY2xzeChwcm9wQ2xhc3Nlcy5yb290LCBjbGFzc2VzJDEud3JhcHBlZFJvb3QsIHByb3BDbGFzc2VzW3RyYW5zZm9ybWVyLnRvQW5jaG9yT3JpZ2luKGFuY2hvck9yaWdpbildKSxcbiAgICBvbkNsb3NlOiBoYW5kbGVDbG9zZVxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHtcbiAgICBhcHBlYXI6IHRydWUsXG4gICAgXCJpblwiOiBvcGVuLFxuICAgIHRpbWVvdXQ6IHRyYW5zaXRpb25EdXJhdGlvblxuICB9LCB0cmFuc2l0aW9uUHJvcHMsIHtcbiAgICBvbkV4aXQ6IGNhbGxiYWNrcy5vbkV4aXQsXG4gICAgb25FeGl0aW5nOiBjYWxsYmFja3Mub25FeGl0aW5nLFxuICAgIG9uRXhpdGVkOiBoYW5kbGVFeGl0ZWRTY3JlZW4sXG4gICAgb25FbnRlcjogY2FsbGJhY2tzLm9uRW50ZXIsXG4gICAgb25FbnRlcmluZzogY2FsbGJhY2tzLm9uRW50ZXJpbmcsXG4gICAgLy8gb3JkZXIgbWF0dGVycy4gZmlyc3QgY2FsbGJhY2tzLm9uRW50ZXJlZCB0byBzZXQgZW50ZXJlZDogdHJ1ZSxcbiAgICAvLyB0aGVuIGhhbmRsZUVudGVyZWQgdG8gY2hlY2sgaWYgdGhlcmUncyBhIHJlcXVlc3QgZm9yIGNsb3NpbmdcbiAgICBvbkVudGVyZWQ6IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihbY2FsbGJhY2tzLm9uRW50ZXJlZCwgaGFuZGxlRW50ZXJlZF0pXG4gIH0pLCBjb250ZW50IHx8IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXJDb250ZW50LCBPYmplY3QuYXNzaWduKHt9LCBhcmlhQXR0cmlidXRlcywge1xuICAgIHJvbGU6IFwiYWxlcnRcIixcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMkMS5jb250ZW50Um9vdCwgY2xhc3NlcyQxW3RyYW5zZm9ybWVyLnRvVmFyaWFudCh2YXJpYW50KV0sIG90aGVyQ2xhc3NOYW1lLCBzaW5nbGVDbGFzc05hbWUsICFoaWRlSWNvblZhcmlhbnQgJiYgaWNvbiAmJiBjbGFzc2VzJDEubGVzc1BhZGRpbmcpXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBpZDogYXJpYUF0dHJpYnV0ZXNbJ2FyaWEtZGVzY3JpYmVkYnknXSxcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMkMS5tZXNzYWdlXG4gIH0sICFoaWRlSWNvblZhcmlhbnQgPyBpY29uIDogbnVsbCwgc25hY2tNZXNzYWdlKSwgYWN0aW9uICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NlcyQxLmFjdGlvblxuICB9LCBhY3Rpb24pKSkpKTtcbn07XG5cbnZhciBjb2xsYXBzZSA9IHtcbiAgLy8gTWF0ZXJpYWwtVUkgNC4xMi54IGFuZCBhYm92ZSB1c2VzIE11aUNvbGxhcHNlLXJvb3Q7IGVhcmxpZXIgdmVyc2lvbnMgdXNlXG4gIC8vIE11aS1Db2xsYXBzZS1jb250YWluZXIuICBodHRwczovL2dpdGh1Yi5jb20vbXVpLW9yZy9tYXRlcmlhbC11aS9wdWxsLzI0MDg0XG4gIGNvbnRhaW5lcjogJyYgPiAuTXVpQ29sbGFwc2UtY29udGFpbmVyLCAmID4gLk11aUNvbGxhcHNlLXJvb3QnLFxuICB3cmFwcGVyOiAnJiA+IC5NdWlDb2xsYXBzZS1jb250YWluZXIgPiAuTXVpQ29sbGFwc2Utd3JhcHBlciwgJiA+IC5NdWlDb2xsYXBzZS1yb290ID4gLk11aUNvbGxhcHNlLXdyYXBwZXInXG59O1xudmFyIHhzV2lkdGhNYXJnaW4gPSAxNjtcbnZhciBjb21wb25lbnROYW1lJDIgPSAnU25hY2tiYXJDb250YWluZXInO1xudmFyIGNsYXNzZXMkMiA9IHtcbiAgcm9vdDogY29tcG9uZW50TmFtZSQyICsgXCItcm9vdFwiLFxuICByb290RGVuc2U6IGNvbXBvbmVudE5hbWUkMiArIFwiLXJvb3REZW5zZVwiLFxuICB0b3A6IGNvbXBvbmVudE5hbWUkMiArIFwiLXRvcFwiLFxuICBib3R0b206IGNvbXBvbmVudE5hbWUkMiArIFwiLWJvdHRvbVwiLFxuICBsZWZ0OiBjb21wb25lbnROYW1lJDIgKyBcIi1sZWZ0XCIsXG4gIHJpZ2h0OiBjb21wb25lbnROYW1lJDIgKyBcIi1yaWdodFwiLFxuICBjZW50ZXI6IGNvbXBvbmVudE5hbWUkMiArIFwiLWNlbnRlclwiXG59O1xudmFyIFJvb3QkMSA9IC8qI19fUFVSRV9fKi9zdHlsZWQoJ2RpdicpKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBfcmVmMiwgX3JlZjMsIF9yZWY0LCBfcmVmNSwgX3JlZjYsIF9yZWY3O1xuXG4gIHZhciB0aGVtZSA9IF9yZWYudGhlbWU7XG4gIHJldHVybiBfcmVmNyA9IHt9LCBfcmVmN1tcIiYuXCIgKyBjbGFzc2VzJDIucm9vdF0gPSAoX3JlZjIgPSB7XG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIG1heEhlaWdodDogJzEwMCUnLFxuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHpJbmRleDogdGhlbWUuekluZGV4LnNuYWNrYmFyLFxuICAgIGhlaWdodDogJ2F1dG8nLFxuICAgIHdpZHRoOiAnYXV0bycsXG4gICAgdHJhbnNpdGlvbjogJ3RvcCAzMDBtcyBlYXNlIDBtcywgcmlnaHQgMzAwbXMgZWFzZSAwbXMsIGJvdHRvbSAzMDBtcyBlYXNlIDBtcywgbGVmdCAzMDBtcyBlYXNlIDBtcywgbWFyZ2luIDMwMG1zIGVhc2UgMG1zLCBtYXgtd2lkdGggMzAwbXMgZWFzZSAwbXMnLFxuICAgIC8vIGNvbnRhaW5lciBpdHNlbGYgaXMgaW52aXNpYmxlIGFuZCBzaG91bGQgbm90IGJsb2NrIGNsaWNrcywgY2xpY2tzIHNob3VsZCBiZSBwYXNzZWQgdG8gaXRzIGNoaWxkcmVuXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gIH0sIF9yZWYyW2NvbGxhcHNlLmNvbnRhaW5lcl0gPSB7XG4gICAgcG9pbnRlckV2ZW50czogJ2FsbCdcbiAgfSwgX3JlZjJbY29sbGFwc2Uud3JhcHBlcl0gPSB7XG4gICAgcGFkZGluZzogU05BQ0tCQVJfSU5ERU5UUy5zbmFja2JhcltcImRlZmF1bHRcIl0gKyBcInB4IDBweFwiLFxuICAgIHRyYW5zaXRpb246ICdwYWRkaW5nIDMwMG1zIGVhc2UgMG1zJ1xuICB9LCBfcmVmMi5tYXhXaWR0aCA9IFwiY2FsYygxMDAlIC0gXCIgKyBTTkFDS0JBUl9JTkRFTlRTLnZpZXdbXCJkZWZhdWx0XCJdICogMiArIFwicHgpXCIsIF9yZWYyW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3NtJyldID0ge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgbWF4V2lkdGg6IFwiY2FsYygxMDAlIC0gXCIgKyB4c1dpZHRoTWFyZ2luICogMiArIFwicHgpXCJcbiAgfSwgX3JlZjIpLCBfcmVmN1tcIiYuXCIgKyBjbGFzc2VzJDIucm9vdERlbnNlXSA9IChfcmVmMyA9IHt9LCBfcmVmM1tjb2xsYXBzZS53cmFwcGVyXSA9IHtcbiAgICBwYWRkaW5nOiBTTkFDS0JBUl9JTkRFTlRTLnNuYWNrYmFyLmRlbnNlICsgXCJweCAwcHhcIlxuICB9LCBfcmVmMyksIF9yZWY3W1wiJi5cIiArIGNsYXNzZXMkMi50b3BdID0ge1xuICAgIHRvcDogU05BQ0tCQVJfSU5ERU5UUy52aWV3W1wiZGVmYXVsdFwiXSAtIFNOQUNLQkFSX0lOREVOVFMuc25hY2tiYXJbXCJkZWZhdWx0XCJdLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gIH0sIF9yZWY3W1wiJi5cIiArIGNsYXNzZXMkMi5ib3R0b21dID0ge1xuICAgIGJvdHRvbTogU05BQ0tCQVJfSU5ERU5UUy52aWV3W1wiZGVmYXVsdFwiXSAtIFNOQUNLQkFSX0lOREVOVFMuc25hY2tiYXJbXCJkZWZhdWx0XCJdLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4tcmV2ZXJzZSdcbiAgfSwgX3JlZjdbXCImLlwiICsgY2xhc3NlcyQyLmxlZnRdID0gKF9yZWY0ID0ge1xuICAgIGxlZnQ6IFNOQUNLQkFSX0lOREVOVFMudmlld1tcImRlZmF1bHRcIl1cbiAgfSwgX3JlZjRbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3NtJyldID0ge1xuICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0J1xuICB9LCBfcmVmNFt0aGVtZS5icmVha3BvaW50cy5kb3duKCdzbScpXSA9IHtcbiAgICBsZWZ0OiB4c1dpZHRoTWFyZ2luICsgXCJweFwiXG4gIH0sIF9yZWY0KSwgX3JlZjdbXCImLlwiICsgY2xhc3NlcyQyLnJpZ2h0XSA9IChfcmVmNSA9IHtcbiAgICByaWdodDogU05BQ0tCQVJfSU5ERU5UUy52aWV3W1wiZGVmYXVsdFwiXVxuICB9LCBfcmVmNVt0aGVtZS5icmVha3BvaW50cy51cCgnc20nKV0gPSB7XG4gICAgYWxpZ25JdGVtczogJ2ZsZXgtZW5kJ1xuICB9LCBfcmVmNVt0aGVtZS5icmVha3BvaW50cy5kb3duKCdzbScpXSA9IHtcbiAgICByaWdodDogeHNXaWR0aE1hcmdpbiArIFwicHhcIlxuICB9LCBfcmVmNSksIF9yZWY3W1wiJi5cIiArIGNsYXNzZXMkMi5jZW50ZXJdID0gKF9yZWY2ID0ge1xuICAgIGxlZnQ6ICc1MCUnLFxuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknXG4gIH0sIF9yZWY2W3RoZW1lLmJyZWFrcG9pbnRzLnVwKCdzbScpXSA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICB9LCBfcmVmNiksIF9yZWY3O1xufSk7XG5cbnZhciBTbmFja2JhckNvbnRhaW5lciA9IGZ1bmN0aW9uIFNuYWNrYmFyQ29udGFpbmVyKHByb3BzKSB7XG4gIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBhbmNob3JPcmlnaW4gPSBwcm9wcy5hbmNob3JPcmlnaW4sXG4gICAgICBkZW5zZSA9IHByb3BzLmRlbnNlLFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiY2xhc3NOYW1lXCIsIFwiYW5jaG9yT3JpZ2luXCIsIFwiZGVuc2VcIl0pO1xuXG4gIHZhciBjb21iaW5lZENsYXNzbmFtZSA9IGNsc3goY2xhc3NlcyQyW2FuY2hvck9yaWdpbi52ZXJ0aWNhbF0sIGNsYXNzZXMkMlthbmNob3JPcmlnaW4uaG9yaXpvbnRhbF0sIGNsYXNzZXMkMi5yb290LCAvLyByb290IHNob3VsZCBjb21lIGFmdGVyIG90aGVycyB0byBvdmVycmlkZSBtYXhXaWR0aFxuICBjbGFzc05hbWUsIGRlbnNlICYmIGNsYXNzZXMkMi5yb290RGVuc2UpO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb290JDEsIE9iamVjdC5hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogY29tYmluZWRDbGFzc25hbWVcbiAgfSwgb3RoZXIpKTtcbn07XG5cbnZhciBTbmFja2JhckNvbnRhaW5lciQxID0gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0Lm1lbW8oU25hY2tiYXJDb250YWluZXIpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xudmFyIF9fREVWX18gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xuXG52YXIgd2FybmluZyA9IChmdW5jdGlvbiAobWVzc2FnZSkge1xuICBpZiAoIV9fREVWX18pIHJldHVybjtcblxuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoICh4KSB7fVxufSk7XG5cbnZhciBTbmFja2JhclByb3ZpZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFNuYWNrYmFyUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNuYWNrYmFyUHJvdmlkZXIocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBuZXcgc25hY2tiYXIgdG8gdGhlIHF1ZXVlIHRvIGJlIHByZXNlbnRlZC5cclxuICAgICAqIFJldHVybnMgZ2VuZXJhdGVkIG9yIHVzZXIgZGVmaW5lZCBrZXkgcmVmZXJlbmNpbmcgdGhlIG5ldyBzbmFja2JhciBvciBudWxsXHJcbiAgICAgKi9cblxuICAgIF90aGlzLmVucXVldWVTbmFja2JhciA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRzKSB7XG4gICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9vcHRzID0gb3B0cyxcbiAgICAgICAgICBrZXkgPSBfb3B0cy5rZXksXG4gICAgICAgICAgcHJldmVudER1cGxpY2F0ZSA9IF9vcHRzLnByZXZlbnREdXBsaWNhdGUsXG4gICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vcHRzLCBbXCJrZXlcIiwgXCJwcmV2ZW50RHVwbGljYXRlXCJdKTtcblxuICAgICAgdmFyIGhhc1NwZWNpZmllZEtleSA9IGlzRGVmaW5lZChrZXkpO1xuICAgICAgdmFyIGlkID0gaGFzU3BlY2lmaWVkS2V5ID8ga2V5IDogbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBNYXRoLnJhbmRvbSgpO1xuICAgICAgdmFyIG1lcmdlciA9IG1lcmdlKG9wdGlvbnMsIF90aGlzLnByb3BzLCBERUZBVUxUUyk7XG5cbiAgICAgIHZhciBzbmFjayA9IF9leHRlbmRzKHtcbiAgICAgICAga2V5OiBpZFxuICAgICAgfSwgb3B0aW9ucywge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBvcGVuOiB0cnVlLFxuICAgICAgICBlbnRlcmVkOiBmYWxzZSxcbiAgICAgICAgcmVxdWVzdENsb3NlOiBmYWxzZSxcbiAgICAgICAgdmFyaWFudDogbWVyZ2VyKCd2YXJpYW50JyksXG4gICAgICAgIGFuY2hvck9yaWdpbjogbWVyZ2VyKCdhbmNob3JPcmlnaW4nKSxcbiAgICAgICAgYXV0b0hpZGVEdXJhdGlvbjogbWVyZ2VyKCdhdXRvSGlkZUR1cmF0aW9uJylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9ucy5wZXJzaXN0KSB7XG4gICAgICAgIHNuYWNrLmF1dG9IaWRlRHVyYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAocHJldmVudER1cGxpY2F0ZSA9PT0gdW5kZWZpbmVkICYmIF90aGlzLnByb3BzLnByZXZlbnREdXBsaWNhdGUgfHwgcHJldmVudER1cGxpY2F0ZSkge1xuICAgICAgICAgIHZhciBjb21wYXJlRnVuY3Rpb24gPSBmdW5jdGlvbiBjb21wYXJlRnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhc1NwZWNpZmllZEtleSA/IGl0ZW0ua2V5ID09PSBrZXkgOiBpdGVtLm1lc3NhZ2UgPT09IG1lc3NhZ2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBpblF1ZXVlID0gc3RhdGUucXVldWUuZmluZEluZGV4KGNvbXBhcmVGdW5jdGlvbikgPiAtMTtcbiAgICAgICAgICB2YXIgaW5WaWV3ID0gc3RhdGUuc25hY2tzLmZpbmRJbmRleChjb21wYXJlRnVuY3Rpb24pID4gLTE7XG5cbiAgICAgICAgICBpZiAoaW5RdWV1ZSB8fCBpblZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlRGlzcGxheVNuYWNrKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHF1ZXVlOiBbXS5jb25jYXQoc3RhdGUucXVldWUsIFtzbmFja10pXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaWQ7XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIFJlZHVjZXI6IERpc3BsYXkgc25hY2sgaWYgdGhlcmUncyBzcGFjZSBmb3IgaXQuIE90aGVyd2lzZSwgaW1tZWRpYXRlbHlcclxuICAgICAqIGJlZ2luIGRpc21pc3NpbmcgdGhlIG9sZGVzdCBtZXNzYWdlIHRvIHN0YXJ0IHNob3dpbmcgdGhlIG5ldyBvbmUuXHJcbiAgICAgKi9cblxuXG4gICAgX3RoaXMuaGFuZGxlRGlzcGxheVNuYWNrID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICB2YXIgc25hY2tzID0gc3RhdGUuc25hY2tzO1xuXG4gICAgICBpZiAoc25hY2tzLmxlbmd0aCA+PSBfdGhpcy5tYXhTbmFjaykge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlRGlzbWlzc09sZGVzdChzdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5wcm9jZXNzUXVldWUoc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBSZWR1Y2VyOiBEaXNwbGF5IGl0ZW1zIChub3RpZmljYXRpb25zKSBpbiB0aGUgcXVldWUgaWYgdGhlcmUncyBzcGFjZSBmb3IgdGhlbS5cclxuICAgICAqL1xuXG5cbiAgICBfdGhpcy5wcm9jZXNzUXVldWUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHZhciBxdWV1ZSA9IHN0YXRlLnF1ZXVlLFxuICAgICAgICAgIHNuYWNrcyA9IHN0YXRlLnNuYWNrcztcblxuICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHNuYWNrczogW10uY29uY2F0KHNuYWNrcywgW3F1ZXVlWzBdXSksXG4gICAgICAgICAgcXVldWU6IHF1ZXVlLnNsaWNlKDEsIHF1ZXVlLmxlbmd0aClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogUmVkdWNlcjogSGlkZSBvbGRlc3Qgc25hY2tiYXIgb24gdGhlIHNjcmVlbiBiZWNhdXNlIHRoZXJlIGV4aXN0cyBhIG5ldyBvbmUgd2hpY2ggd2UgaGF2ZSB0byBkaXNwbGF5LlxyXG4gICAgICogKGlnbm9yaW5nIHRoZSBvbmUgd2l0aCAncGVyc2lzdCcgZmxhZy4gaS5lLiBleHBsaWNpdGx5IHRvbGQgYnkgdXNlciBub3QgdG8gZ2V0IGRpc21pc3NlZCkuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSAxOiBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgbWVzc2FnZSBsZWF2aW5nIHRoZSBzY3JlZW4sIG5vIG5ldyBtZXNzYWdlcyBhcmUgZGlzbWlzc2VkLlxyXG4gICAgICogTm90ZSAyOiBJZiB0aGUgb2xkZXN0IG1lc3NhZ2UgaGFzIG5vdCB5ZXQgZW50ZXJlZCB0aGUgc2NyZWVuLCBvbmx5IGEgcmVxdWVzdCB0byBjbG9zZSB0aGVcclxuICAgICAqICAgICAgICAgc25hY2tiYXIgaXMgbWFkZS4gT25jZSBpdCBlbnRlcmVkIHRoZSBzY3JlZW4sIGl0IHdpbGwgYmUgaW1tZWRpYXRlbHkgZGlzbWlzc2VkLlxyXG4gICAgICovXG5cblxuICAgIF90aGlzLmhhbmRsZURpc21pc3NPbGRlc3QgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZS5zbmFja3Muc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gIWl0ZW0ub3BlbiB8fCBpdGVtLnJlcXVlc3RDbG9zZTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvcHBlZCA9IGZhbHNlO1xuICAgICAgdmFyIGlnbm9yZSA9IGZhbHNlO1xuICAgICAgdmFyIHBlcnNpc3RlbnRDb3VudCA9IHN0YXRlLnNuYWNrcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VycmVudCkge1xuICAgICAgICByZXR1cm4gYWNjICsgKGN1cnJlbnQub3BlbiAmJiBjdXJyZW50LnBlcnNpc3QgPyAxIDogMCk7XG4gICAgICB9LCAwKTtcblxuICAgICAgaWYgKHBlcnNpc3RlbnRDb3VudCA9PT0gX3RoaXMubWF4U25hY2spIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhNRVNTQUdFUy5OT19QRVJTSVNUX0FMTCkgOiB2b2lkIDA7XG4gICAgICAgIGlnbm9yZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBzbmFja3MgPSBzdGF0ZS5zbmFja3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICghcG9wcGVkICYmICghaXRlbS5wZXJzaXN0IHx8IGlnbm9yZSkpIHtcbiAgICAgICAgICBwb3BwZWQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKCFpdGVtLmVudGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaXRlbSwge1xuICAgICAgICAgICAgICByZXF1ZXN0Q2xvc2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpdGVtLm9uQ2xvc2UpIGl0ZW0ub25DbG9zZShudWxsLCBSRUFTT05TLk1BWFNOQUNLLCBpdGVtLmtleSk7XG4gICAgICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIF90aGlzLnByb3BzLm9uQ2xvc2UobnVsbCwgUkVBU09OUy5NQVhTTkFDSywgaXRlbS5rZXkpO1xuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaXRlbSwge1xuICAgICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaXRlbSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgc25hY2tzOiBzbmFja3NcbiAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGVudGVyZWQgc3RhdGUgb2YgdGhlIHNuYWNrYmFyIHdpdGggdGhlIGdpdmVuIGtleS5cclxuICAgICAqL1xuXG5cbiAgICBfdGhpcy5oYW5kbGVFbnRlcmVkU25hY2sgPSBmdW5jdGlvbiAobm9kZSwgaXNBcHBlYXJpbmcsIGtleSkge1xuICAgICAgaWYgKCFpc0RlZmluZWQoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZUVudGVyZWRTbmFjayBDYW5ub3QgYmUgY2FsbGVkIHdpdGggdW5kZWZpbmVkIGtleScpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgc25hY2tzID0gX3JlZi5zbmFja3M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc25hY2tzOiBzbmFja3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGtleSA/IF9leHRlbmRzKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgIGVudGVyZWQ6IHRydWVcbiAgICAgICAgICAgIH0pIDogX2V4dGVuZHMoe30sIGl0ZW0pO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxyXG4gICAgICogSGlkZSBhIHNuYWNrYmFyIGFmdGVyIGl0cyB0aW1lb3V0LlxyXG4gICAgICovXG5cblxuICAgIF90aGlzLmhhbmRsZUNsb3NlU25hY2sgPSBmdW5jdGlvbiAoZXZlbnQsIHJlYXNvbiwga2V5KSB7XG4gICAgICAvLyBzaG91bGQgbm90IHVzZSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24gZm9yIG9uQ2xvc2UuXG4gICAgICAvLyBiZWNhdXNlIHRoaXMuY2xvc2VTbmFja2JhciBjYWxsZWQgdGhpcyBmdW5jdGlvblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25DbG9zZShldmVudCwgcmVhc29uLCBrZXkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVhc29uID09PSBSRUFTT05TLkNMSUNLQVdBWSkgcmV0dXJuO1xuICAgICAgdmFyIHNob3VsZENsb3NlQWxsID0ga2V5ID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgc25hY2tzID0gX3JlZjIuc25hY2tzLFxuICAgICAgICAgICAgcXVldWUgPSBfcmVmMi5xdWV1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzbmFja3M6IHNuYWNrcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQ2xvc2VBbGwgJiYgaXRlbS5rZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5lbnRlcmVkID8gX2V4dGVuZHMoe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgICAgIH0pIDogX2V4dGVuZHMoe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgcmVxdWVzdENsb3NlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBxdWV1ZTogcXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5rZXkgIT09IGtleTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIENsb3NlIHNuYWNrYmFyIHdpdGggdGhlIGdpdmVuIGtleVxyXG4gICAgICovXG5cblxuICAgIF90aGlzLmNsb3NlU25hY2tiYXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAvLyBjYWxsIGluZGl2aWR1YWwgc25hY2tiYXIgb25DbG9zZSBjYWxsYmFjayBwYXNzZWQgdGhyb3VnaCBvcHRpb25zIHBhcmFtZXRlclxuICAgICAgdmFyIHRvQmVDbG9zZWQgPSBfdGhpcy5zdGF0ZS5zbmFja3MuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGtleTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNEZWZpbmVkKGtleSkgJiYgdG9CZUNsb3NlZCAmJiB0b0JlQ2xvc2VkLm9uQ2xvc2UpIHtcbiAgICAgICAgdG9CZUNsb3NlZC5vbkNsb3NlKG51bGwsIFJFQVNPTlMuSU5TVFJVQ1RFRCwga2V5KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaGFuZGxlQ2xvc2VTbmFjayhudWxsLCBSRUFTT05TLklOU1RSVUNURUQsIGtleSk7XG4gICAgfTtcbiAgICAvKipcclxuICAgICAqIFdoZW4gd2Ugc2V0IG9wZW4gYXR0cmlidXRlIG9mIGEgc25hY2tiYXIgdG8gZmFsc2UgKGkuZS4gYWZ0ZXIgd2UgaGlkZSBhIHNuYWNrYmFyKSxcclxuICAgICAqIGl0IGxlYXZlcyB0aGUgc2NyZWVuIGFuZCBpbW1lZGlhdGVseSBhZnRlciBsZWF2aW5nIGFuaW1hdGlvbiBpcyBkb25lLCB0aGlzIG1ldGhvZFxyXG4gICAgICogZ2V0cyBjYWxsZWQuIFdlIHJlbW92ZSB0aGUgaGlkZGVuIHNuYWNrYmFyIGZyb20gc3RhdGUgYW5kIHRoZW4gZGlzcGxheSBub3RpZmljYXRpb25zXHJcbiAgICAgKiB3YWl0aW5nIGluIHRoZSBxdWV1ZSAoaWYgYW55KS4gSWYgYWZ0ZXIgdGhpcyBwcm9jZXNzIHRoZSBxdWV1ZSBpcyBub3QgZW1wdHksIHRoZVxyXG4gICAgICogb2xkZXN0IG1lc3NhZ2UgaXMgZGlzbWlzc2VkLlxyXG4gICAgICovXG4gICAgLy8gQHRzLWlnbm9yZVxuXG5cbiAgICBfdGhpcy5oYW5kbGVFeGl0ZWRTbmFjayA9IGZ1bmN0aW9uIChldmVudCwga2V5MSwga2V5Mikge1xuICAgICAgdmFyIGtleSA9IGtleTEgfHwga2V5MjtcblxuICAgICAgaWYgKCFpc0RlZmluZWQoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZUV4aXRlZFNuYWNrIENhbm5vdCBiZSBjYWxsZWQgd2l0aCB1bmRlZmluZWQga2V5Jyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSBfdGhpcy5wcm9jZXNzUXVldWUoX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgc25hY2tzOiBzdGF0ZS5zbmFja3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5rZXkgIT09IGtleTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgaWYgKG5ld1N0YXRlLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVEaXNtaXNzT2xkZXN0KG5ld1N0YXRlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNuYWNrczogW10sXG4gICAgICBxdWV1ZTogW10sXG4gICAgICBjb250ZXh0VmFsdWU6IHtcbiAgICAgICAgZW5xdWV1ZVNuYWNrYmFyOiBfdGhpcy5lbnF1ZXVlU25hY2tiYXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksXG4gICAgICAgIGNsb3NlU25hY2tiYXI6IF90aGlzLmNsb3NlU25hY2tiYXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSlcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTbmFja2JhclByb3ZpZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGNvbnRleHRWYWx1ZSA9IHRoaXMuc3RhdGUuY29udGV4dFZhbHVlO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgaWNvblZhcmlhbnQgPSBfdGhpcyRwcm9wcy5pY29uVmFyaWFudCxcbiAgICAgICAgX3RoaXMkcHJvcHMkZGVuc2UgPSBfdGhpcyRwcm9wcy5kZW5zZSxcbiAgICAgICAgZGVuc2UgPSBfdGhpcyRwcm9wcyRkZW5zZSA9PT0gdm9pZCAwID8gREVGQVVMVFMuZGVuc2UgOiBfdGhpcyRwcm9wcyRkZW5zZSxcbiAgICAgICAgX3RoaXMkcHJvcHMkaGlkZUljb25WID0gX3RoaXMkcHJvcHMuaGlkZUljb25WYXJpYW50LFxuICAgICAgICBoaWRlSWNvblZhcmlhbnQgPSBfdGhpcyRwcm9wcyRoaWRlSWNvblYgPT09IHZvaWQgMCA/IERFRkFVTFRTLmhpZGVJY29uVmFyaWFudCA6IF90aGlzJHByb3BzJGhpZGVJY29uVixcbiAgICAgICAgZG9tUm9vdCA9IF90aGlzJHByb3BzLmRvbVJvb3QsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIF90aGlzJHByb3BzJGNsYXNzZXMgPSBfdGhpcyRwcm9wcy5jbGFzc2VzLFxuICAgICAgICBjbGFzc2VzID0gX3RoaXMkcHJvcHMkY2xhc3NlcyA9PT0gdm9pZCAwID8ge30gOiBfdGhpcyRwcm9wcyRjbGFzc2VzLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJtYXhTbmFja1wiLCBcInByZXZlbnREdXBsaWNhdGVcIiwgXCJ2YXJpYW50XCIsIFwiYW5jaG9yT3JpZ2luXCIsIFwiaWNvblZhcmlhbnRcIiwgXCJkZW5zZVwiLCBcImhpZGVJY29uVmFyaWFudFwiLCBcImRvbVJvb3RcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIl0pO1xuXG4gICAgdmFyIGNhdGVnID0gdGhpcy5zdGF0ZS5zbmFja3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnJlbnQpIHtcbiAgICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICAgIHZhciBjYXRlZ29yeSA9IG9yaWdpbktleUV4dHJhY3RvcihjdXJyZW50LmFuY2hvck9yaWdpbik7XG4gICAgICB2YXIgZXhpc3RpbmdPZkNhdGVnb3J5ID0gYWNjW2NhdGVnb3J5XSB8fCBbXTtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgYWNjLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMltjYXRlZ29yeV0gPSBbXS5jb25jYXQoZXhpc3RpbmdPZkNhdGVnb3J5LCBbY3VycmVudF0pLCBfZXh0ZW5kczIpKTtcbiAgICB9LCB7fSk7XG4gICAgdmFyIHNuYWNrYmFycyA9IE9iamVjdC5rZXlzKGNhdGVnKS5tYXAoZnVuY3Rpb24gKG9yaWdpbikge1xuICAgICAgdmFyIHNuYWNrcyA9IGNhdGVnW29yaWdpbl07XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTbmFja2JhckNvbnRhaW5lciQxLCB7XG4gICAgICAgIGtleTogb3JpZ2luLFxuICAgICAgICBkZW5zZTogZGVuc2UsXG4gICAgICAgIGFuY2hvck9yaWdpbjogc25hY2tzWzBdLmFuY2hvck9yaWdpbixcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMuY29udGFpbmVyUm9vdCwgY2xhc3Nlc1t0cmFuc2Zvcm1lci50b0NvbnRhaW5lckFuY2hvck9yaWdpbihvcmlnaW4pXSlcbiAgICAgIH0sIHNuYWNrcy5tYXAoZnVuY3Rpb24gKHNuYWNrKSB7XG4gICAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNuYWNrYmFySXRlbSwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICBrZXk6IHNuYWNrLmtleSxcbiAgICAgICAgICBzbmFjazogc25hY2ssXG4gICAgICAgICAgZGVuc2U6IGRlbnNlLFxuICAgICAgICAgIGljb25WYXJpYW50OiBpY29uVmFyaWFudCxcbiAgICAgICAgICBoaWRlSWNvblZhcmlhbnQ6IGhpZGVJY29uVmFyaWFudCxcbiAgICAgICAgICBjbGFzc2VzOiBvbWl0Q29udGFpbmVyS2V5cyhjbGFzc2VzKSxcbiAgICAgICAgICBvbkNsb3NlOiBfdGhpczIuaGFuZGxlQ2xvc2VTbmFjayxcbiAgICAgICAgICBvbkV4aXRlZDogY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKFtfdGhpczIuaGFuZGxlRXhpdGVkU25hY2ssIF90aGlzMi5wcm9wcy5vbkV4aXRlZF0pLFxuICAgICAgICAgIG9uRW50ZXJlZDogY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKFtfdGhpczIuaGFuZGxlRW50ZXJlZFNuYWNrLCBfdGhpczIucHJvcHMub25FbnRlcmVkXSlcbiAgICAgICAgfSkpO1xuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNuYWNrYmFyQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IGNvbnRleHRWYWx1ZVxuICAgIH0sIGNoaWxkcmVuLCBkb21Sb290ID8gY3JlYXRlUG9ydGFsKHNuYWNrYmFycywgZG9tUm9vdCkgOiBzbmFja2JhcnMpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTbmFja2JhclByb3ZpZGVyLCBbe1xuICAgIGtleTogXCJtYXhTbmFja1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubWF4U25hY2sgfHwgREVGQVVMVFMubWF4U25hY2s7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNuYWNrYmFyUHJvdmlkZXI7XG59KENvbXBvbmVudCk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9KYW1lc01HcmVlbmUvRnVuY3Rpb24ubmFtZS9ibG9iLzU4YjMxNGQ0YTk4MzExMGMzNjgyZjEyMjhmODQ1ZDM5Y2NjYTE4MTcvRnVuY3Rpb24ubmFtZS5qcyNMM1xudmFyIGZuTmFtZU1hdGNoUmVnZXggPSAvXlxccypmdW5jdGlvbig/Olxcc3xcXHMqXFwvXFwqLipcXCpcXC9cXHMqKSsoW14oXFxzL10qKVxccyovO1xuXG52YXIgZ2V0RnVuY3Rpb25OYW1lID0gZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZuKSB7XG4gIHZhciBtYXRjaCA9IChcIlwiICsgZm4pLm1hdGNoKGZuTmFtZU1hdGNoUmVnZXgpO1xuICB2YXIgbmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICByZXR1cm4gbmFtZSB8fCAnJztcbn07XG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IENvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGZhbGxiYWNrXG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICovXG5cblxudmFyIGdldEZ1bmN0aW9uQ29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uIGdldEZ1bmN0aW9uQ29tcG9uZW50TmFtZShDb21wb25lbnQsIGZhbGxiYWNrKSB7XG4gIGlmIChmYWxsYmFjayA9PT0gdm9pZCAwKSB7XG4gICAgZmFsbGJhY2sgPSAnJztcbiAgfVxuXG4gIHJldHVybiBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgZ2V0RnVuY3Rpb25OYW1lKENvbXBvbmVudCkgfHwgZmFsbGJhY2s7XG59O1xuXG52YXIgZ2V0V3JhcHBlZE5hbWUgPSBmdW5jdGlvbiBnZXRXcmFwcGVkTmFtZShvdXRlclR5cGUsIGlubmVyVHlwZSwgd3JhcHBlck5hbWUpIHtcbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGdldEZ1bmN0aW9uQ29tcG9uZW50TmFtZShpbm5lclR5cGUpO1xuICByZXR1cm4gb3V0ZXJUeXBlLmRpc3BsYXlOYW1lIHx8IChmdW5jdGlvbk5hbWUgIT09ICcnID8gd3JhcHBlck5hbWUgKyBcIihcIiArIGZ1bmN0aW9uTmFtZSArIFwiKVwiIDogd3JhcHBlck5hbWUpO1xufTtcbi8qKiBcbiAqIEZyb20gcmVhY3QtaXNcbiAqIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvUmVhY3RTeW1ib2xzLmpzXG4gKi9cblxuXG52YXIgRm9yd2FyZFJlZiA9IGZ1bmN0aW9uIEZvcndhcmRSZWYoKSB7XG4gIHZhciBzeW1ib2xGb3IgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFtcImZvclwiXTtcbiAgcmV0dXJuIHN5bWJvbEZvciA/IHN5bWJvbEZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcbn07XG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzc2OWIxZjI3MGUxMjUxZDlkYmRjZTBmY2JkOWU5MmU1MDJkMDU5YjgvcGFja2FnZXMvc2hhcmVkL2dldENvbXBvbmVudE5hbWUuanNcbiAqXG4gKiBAcGFyYW0ge1JlYWN0LlJlYWN0VHlwZX0gQ29tcG9uZW50XG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICovXG5cblxudmFyIGdldERpc3BsYXlOYW1lID0gKGZ1bmN0aW9uIChDb21wb25lbnQpIHtcbiAgaWYgKENvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBnZXRGdW5jdGlvbkNvbXBvbmVudE5hbWUoQ29tcG9uZW50LCAnQ29tcG9uZW50Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIENvbXBvbmVudCA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKENvbXBvbmVudC4kJHR5cGVvZikge1xuICAgICAgY2FzZSBGb3J3YXJkUmVmKCk6XG4gICAgICAgIHJldHVybiBnZXRXcmFwcGVkTmFtZShDb21wb25lbnQsIENvbXBvbmVudC5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn0pO1xuXG52YXIgd2l0aFNuYWNrYmFyID0gZnVuY3Rpb24gd2l0aFNuYWNrYmFyKENvbXBvbmVudCkge1xuICB2YXIgV3JhcHBlZENvbXBvbmVudCA9IFJlYWN0X19kZWZhdWx0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTbmFja2JhckNvbnRleHQuQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICByZWY6IHJlZixcbiAgICAgICAgZW5xdWV1ZVNuYWNrYmFyOiBjb250ZXh0LmVucXVldWVTbmFja2JhcixcbiAgICAgICAgY2xvc2VTbmFja2JhcjogY29udGV4dC5jbG9zZVNuYWNrYmFyXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IFwiV2l0aFNuYWNrYmFyKFwiICsgZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSArIFwiKVwiO1xuICB9XG5cbiAgaG9pc3ROb25SZWFjdFN0YXRpY3MoV3JhcHBlZENvbXBvbmVudCwgQ29tcG9uZW50KTtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQ7XG59O1xuXG52YXIgdXNlU25hY2tiYXIgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChTbmFja2JhckNvbnRleHQpO1xufSk7XG5cbmV4cG9ydCB7IFNuYWNrYmFyQ29udGVudCwgU25hY2tiYXJQcm92aWRlciwgdXNlU25hY2tiYXIsIHdpdGhTbmFja2JhciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm90aXN0YWNrLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IEF1dGhVc2VyIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IFVzZXIsIFVzZXJTZXR0aW5nIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlcidcbmltcG9ydCB7IEF2YXRhciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQXZhdGFyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsTG9naW5Gb3JtIHtcbiAgZW1haWw6IHN0cmluZ1xuICBwYXNzd29yZDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxSZWdpc3RyYXRpb25Gb3JtIHtcbiAgZW1haWw6IHN0cmluZ1xuICBwYXNzd29yZDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2l0aHViTG9naW5Gb3JtIHtcbiAgZW1haWw6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtlZEluTG9naW5Gb3JtIHtcbiAgZW1haWw6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgQXV0aEFjdGlvbiA9IHtcbiAgYWN0aW9uUHJvY2Vzc2luZzogKHByb2Nlc3Npbmc6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0FDVElPTl9QUk9DRVNTSU5HJyBhcyBjb25zdCxcbiAgICAgIHByb2Nlc3NpbmdcbiAgICB9XG4gIH0sXG4gIGxvZ2luVXNlclN1Y2Nlc3M6IChhdXRoVXNlcjogQXV0aFVzZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfU1VDQ0VTUycgYXMgY29uc3QsXG4gICAgICBhdXRoVXNlcixcbiAgICAgIG1lc3NhZ2U6ICcnXG4gICAgfVxuICB9LFxuICBsb2dpblVzZXJFcnJvcjogKGVycjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0dJTl9VU0VSX0VSUk9SJyBhcyBjb25zdCxcbiAgICAgIG1lc3NhZ2U6IGVyclxuICAgIH1cbiAgfSxcbiAgbG9naW5Vc2VyQnlHaXRodWJTdWNjZXNzOiAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0dJTl9VU0VSX0JZX0dJVEhVQl9TVUNDRVNTJyBhcyBjb25zdCxcbiAgICAgIG1lc3NhZ2VcbiAgICB9XG4gIH0sXG4gIGxvZ2luVXNlckJ5R2l0aHViRXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0xPR0lOX1VTRVJfQllfR0lUSFVCX0VSUk9SJyBhcyBjb25zdCxcbiAgICAgIG1lc3NhZ2VcbiAgICB9XG4gIH0sXG4gIGxvZ2luVXNlckJ5TGlua2VkaW5TdWNjZXNzOiAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0dJTl9VU0VSX0JZX0xJTktFRElOX1NVQ0NFU1MnIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZVxuICAgIH1cbiAgfSxcbiAgbG9naW5Vc2VyQnlMaW5rZWRpbkVycm9yOiAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0dJTl9VU0VSX0JZX0xJTktFRElOX0VSUk9SJyBhcyBjb25zdCxcbiAgICAgIG1lc3NhZ2VcbiAgICB9XG4gIH0sXG4gIGRpZExvZ291dDogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnTE9HT1VUX1VTRVInIGFzIGNvbnN0LFxuICAgICAgbWVzc2FnZTogJydcbiAgICB9XG4gIH0sXG4gIHJlZ2lzdGVyVXNlckJ5RW1haWxTdWNjZXNzOiAoaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnUkVHSVNURVJfVVNFUl9CWV9FTUFJTF9TVUNDRVNTJyBhcyBjb25zdCxcbiAgICAgIGlkZW50aXR5UHJvdmlkZXIsXG4gICAgICBtZXNzYWdlOiAnJ1xuICAgIH1cbiAgfSxcbiAgcmVnaXN0ZXJVc2VyQnlFbWFpbEVycm9yOiAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdSRUdJU1RFUl9VU0VSX0JZX0VNQUlMX0VSUk9SJyBhcyBjb25zdCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICB9XG4gIH0sXG4gIGRpZFZlcmlmeUVtYWlsOiAocmVzdWx0OiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdESURfVkVSSUZZX0VNQUlMJyBhcyBjb25zdCxcbiAgICAgIHJlc3VsdFxuICAgIH1cbiAgfSxcbiAgZGlkUmVzZW5kVmVyaWZpY2F0aW9uRW1haWw6IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0RJRF9SRVNFTkRfVkVSSUZJQ0FUSU9OX0VNQUlMJyBhcyBjb25zdCxcbiAgICAgIHJlc3VsdFxuICAgIH1cbiAgfSxcbiAgZGlkRm9yZ290UGFzc3dvcmQ6IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0RJRF9GT1JHT1RfUEFTU1dPUkQnIGFzIGNvbnN0LFxuICAgICAgcmVzdWx0XG4gICAgfVxuICB9LFxuICBkaWRSZXNldFBhc3N3b3JkOiAocmVzdWx0OiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdESURfUkVTRVRfUEFTU1dPUkQnIGFzIGNvbnN0LFxuICAgICAgcmVzdWx0XG4gICAgfVxuICB9LFxuICBkaWRDcmVhdGVNYWdpY0xpbms6IChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0RJRF9DUkVBVEVfTUFHSUNMSU5LJyBhcyBjb25zdCxcbiAgICAgIHJlc3VsdFxuICAgIH1cbiAgfSxcbiAgbG9hZGVkVXNlckRhdGE6ICh1c2VyOiBVc2VyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdMT0FERURfVVNFUl9EQVRBJyBhcyBjb25zdCxcbiAgICAgIHVzZXJcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZWRVc2VyU2V0dGluZ3NBY3Rpb246IChkYXRhOiBVc2VyU2V0dGluZykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnVVBEQVRFX1VTRVJfU0VUVElOR1MnIGFzIGNvbnN0LFxuICAgICAgZGF0YTogZGF0YVxuICAgIH1cbiAgfSxcbiAgYXZhdGFyVXBkYXRlZDogKHJlc3VsdDogYW55KSA9PiB7XG4gICAgY29uc3QgdXJsID0gcmVzdWx0LnVybFxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnQVZBVEFSX1VQREFURUQnIGFzIGNvbnN0LFxuICAgICAgdXJsXG4gICAgfVxuICB9LFxuICB1c2VybmFtZVVwZGF0ZWQ6IChyZXN1bHQ6IFVzZXIpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVzdWx0Lm5hbWVcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1VTRVJOQU1FX1VQREFURUQnIGFzIGNvbnN0LFxuICAgICAgbmFtZVxuICAgIH1cbiAgfSxcbiAgdXNlckF2YXRhcklkVXBkYXRlZDogKHJlc3VsdDogVXNlcikgPT4ge1xuICAgIGNvbnN0IGF2YXRhcklkID0gcmVzdWx0LmF2YXRhcklkXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdVU0VSQVZBVEFSSURfVVBEQVRFRCcgYXMgY29uc3QsXG4gICAgICBhdmF0YXJJZFxuICAgIH1cbiAgfSxcbiAgdXNlclVwZGF0ZWQ6ICh1c2VyOiBVc2VyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdVU0VSX1VQREFURUQnIGFzIGNvbnN0LFxuICAgICAgdXNlcjogdXNlclxuICAgIH1cbiAgfSxcbiAgdXBkYXRlQXZhdGFyTGlzdDogKGF2YXRhckxpc3Q6IEF2YXRhcltdKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdBVkFUQVJfRkVUQ0hFRCcgYXMgY29uc3QsXG4gICAgICBhdmF0YXJMaXN0XG4gICAgfVxuICB9LFxuICByZXN0b3JlQXV0aDogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnUkVTVE9SRScgYXMgY29uc3RcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQXV0aEFjdGlvblR5cGUgPSBSZXR1cm5UeXBlPHR5cGVvZiBBdXRoQWN0aW9uW2tleW9mIHR5cGVvZiBBdXRoQWN0aW9uXT5cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJvdXRlLCBTd2l0Y2ggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuXG5jbGFzcyBSb3V0ZXJDb21wIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PHt9LCB7IGhhc0Vycm9yOiBib29sZWFuIH0+IHtcbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpIHtcbiAgICByZXR1cm4geyBoYXNFcnJvcjogdHJ1ZSB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzRXJyb3I6IGZhbHNlIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiBmYWxzZSB9KVxuICAgIH0sIDIwMDApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzRXJyb3IpIHJldHVybiA8ZGl2PldvcmtpbmcuLi48L2Rpdj5cblxuICAgIHJldHVybiAoXG4gICAgICA8U3dpdGNoPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9cIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2luZGV4JykpfSBleGFjdCAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9sb2dpblwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbG9naW4nKSl9IC8+XG5cbiAgICAgICAgey8qIERlYnVnIFJvdXRlcyAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvd2VieHJcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL3dlYnhyJykpfSAvPlxuXG4gICAgICAgIHsvKiBBZG1pbiBSb3V0ZXMgKi99XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FkbWluL2FybWVkaWFcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2FkbWluL2FybWVkaWEnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FkbWluL3RoZWZlZWRzXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hZG1pbi90aGVmZWVkcycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYWRtaW4vZmVlZHNcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2FkbWluL2ZlZWRzJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hZG1pbi91c2Vyc1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYWRtaW4vdXNlcnMnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FkbWluXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hZG1pbi9pbmRleCcpKX0gLz5cblxuICAgICAgICB7LyogRWRpdG9yIFJvdXRlcyAqL31cbiAgICAgICAgPFJvdXRlXG4gICAgICAgICAgcGF0aD1cIi9lZGl0b3IvcHJvamVjdHMvOnByb2plY3RJZFwiXG4gICAgICAgICAgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHhyZW5naW5lL2VkaXRvci9zcmMvcGFnZXMvcHJvamVjdHMvW3Byb2plY3RJZF0nKSl9XG4gICAgICAgIC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2VkaXRvci9wcm9qZWN0c1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJ0B4cmVuZ2luZS9lZGl0b3Ivc3JjL3BhZ2VzL3Byb2plY3RzJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9lZGl0b3IvY3JlYXRlXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHhyZW5naW5lL2VkaXRvci9zcmMvcGFnZXMvY3JlYXRlJykpfSAvPlxuICAgICAgICB7LyogPFJlZGlyZWN0IHBhdGg9XCIvZWRpdG9yXCIgdG89XCIvZWRpdG9yL3Byb2plY3RzXCIgLz4gKi99XG5cbiAgICAgICAgey8qIDxSb3V0ZSBwYXRoPVwiL2VkaXRvci9wcm9qZWN0cy9jcmVhdGVcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2FkbWluL2VkaXRvcicpKX0gLz4gKi99XG5cbiAgICAgICAgey8qIEF1dGggUm91dGVzICovfVxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hdXRoL29hdXRoL2ZhY2Vib29rXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hdXRoL29hdXRoL2ZhY2Vib29rJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hdXRoL29hdXRoL2dpdGh1YlwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9vYXV0aC9naXRodWInKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2F1dGgvb2F1dGgvZ29vZ2xlXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hdXRoL29hdXRoL2dvb2dsZScpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYXV0aC9vYXV0aC9saW5rZWRpblwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvYXV0aC9vYXV0aC9saW5rZWRpbicpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYXV0aC9jb25maXJtXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hdXRoL2NvbmZpcm0nKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2F1dGgvZm9yZ290cGFzc3dvcmRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2F1dGgvZm9yZ290cGFzc3dvcmQnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2F1dGgvbWFnaWNsaW5rXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9hdXRoL21hZ2ljbGluaycpKX0gLz5cblxuICAgICAgICB7LyogUmVnaXN0cmF0aW9uIFJvdXRlcyAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvcmVnaXN0cmF0aW9uXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9SZWdpc3RyYXRpb24nKSl9IC8+XG5cbiAgICAgICAgey8qIFBvc3QgUm91dGVzICovfVxuICAgICAgICA8Um91dGUgcGF0aD1cIi9wb3N0LzpwaWRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL3Bvc3QvW3BpZF0nKSl9IC8+XG5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvYWN0aXZpdHlcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2FjdGl2aXR5JykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9jcmVhdG9yXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9jcmVhdG9yJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9jcmVhdG9yRWRpdFwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvY3JlYXRvckVkaXQnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2V4cGxvcmVcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL2NyZWF0b3JFZGl0JykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9mZWVkXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9mZWVkJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9sb2dpblwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbG9naW4nKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL21lc3NhZ2VzXCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9tZXNzYWdlcycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbmV3ZmVlZFwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbmV3ZmVlZCcpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbm90aWZpY2F0aW9uc1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvbm90aWZpY2F0aW9ucycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvb25ib2FyZGluZ1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvb25ib2FyZGluZycpKX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvdmlkZW9yZWNvcmRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL3ZpZGVvcmVjb3JkJykpfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9wcml2YWN5cG9saWN5XCIgY29tcG9uZW50PXtSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi9wYWdlcy9wcml2YWN5cG9saWN5JykpfSAvPlxuXG4gICAgICAgIHsvKiBUZXJtcyBhbmQgUG9saWN5ICovfVxuICAgICAgICA8Um91dGUgcGF0aD1cIi90ZXJtc1wiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvVGVybXNBbmRQb2xpY3kvdGVybXMnKSl9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3BvbGljeVwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvVGVybXNBbmRQb2xpY3kvcG9saWN5JykpfSAvPlxuXG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiLzpwaWRcIiBjb21wb25lbnQ9e1JlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL3BhZ2VzL1twaWRdJykpfSAvPlxuXG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiKlwiIGNvbXBvbmVudD17UmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4vcGFnZXMvNDA0JykpfSAvPlxuICAgICAgPC9Td2l0Y2g+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlckNvbXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICByZXR1cm4gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSAnQEByZWR1eC9JTklUJyA/ICdpbml0aWFsU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFN0YXRlTmFtZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XG5cbnZhciBfaW1tdXRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltbXV0YWJsZSk7XG5cbnZhciBfZ2V0U3RhdGVOYW1lID0gcmVxdWlyZSgnLi9nZXRTdGF0ZU5hbWUnKTtcblxudmFyIF9nZXRTdGF0ZU5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0U3RhdGVOYW1lKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gIHZhciByZWR1Y2VyTmFtZXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cbiAgaWYgKCFyZWR1Y2VyTmFtZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICB2YXIgc3RhdGVOYW1lID0gKDAsIF9nZXRTdGF0ZU5hbWUyLmRlZmF1bHQpKGFjdGlvbik7XG5cbiAgaWYgKF9pbW11dGFibGUyLmRlZmF1bHQuaXNJbW11dGFibGUgPyAhX2ltbXV0YWJsZTIuZGVmYXVsdC5pc0ltbXV0YWJsZShzdGF0ZSkgOiAhX2ltbXV0YWJsZTIuZGVmYXVsdC5JdGVyYWJsZS5pc0l0ZXJhYmxlKHN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBzdGF0ZU5hbWUgKyAnIGlzIG9mIHVuZXhwZWN0ZWQgdHlwZS4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgSW1tdXRhYmxlLkNvbGxlY3Rpb24gb3IgSW1tdXRhYmxlLlJlY29yZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczogXCInICsgcmVkdWNlck5hbWVzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLic7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZFN0YXRlUHJvcGVydHlOYW1lcyA9IHN0YXRlLnRvU2VxKCkua2V5U2VxKCkudG9BcnJheSgpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gIH0pO1xuXG4gIGlmICh1bmV4cGVjdGVkU3RhdGVQcm9wZXJ0eU5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkU3RhdGVQcm9wZXJ0eU5hbWVzLmxlbmd0aCA9PT0gMSA/ICdwcm9wZXJ0eScgOiAncHJvcGVydGllcycpICsgJyBcIicgKyB1bmV4cGVjdGVkU3RhdGVQcm9wZXJ0eU5hbWVzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBzdGF0ZU5hbWUgKyAnLiBFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBwcm9wZXJ0eSBuYW1lcyBpbnN0ZWFkOiBcIicgKyByZWR1Y2VyTmFtZXMuam9pbignXCIsIFwiJykgKyAnXCIuIFVuZXhwZWN0ZWQgcHJvcGVydGllcyB3aWxsIGJlIGlnbm9yZWQuJztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAobmV4dFN0YXRlLCByZWR1Y2VyTmFtZSwgYWN0aW9uKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZmluZWRcbiAgaWYgKG5leHRTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIHJlZHVjZXJOYW1lICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIGhhbmRsaW5nIFwiJyArIGFjdGlvbi50eXBlICsgJ1wiIGFjdGlvbi4gVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLicpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlTmV4dFN0YXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudmFsaWRhdGVOZXh0U3RhdGUgPSBleHBvcnRzLmdldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZSA9IGV4cG9ydHMuZ2V0U3RhdGVOYW1lID0gdW5kZWZpbmVkO1xuXG52YXIgX2dldFN0YXRlTmFtZTIgPSByZXF1aXJlKCcuL2dldFN0YXRlTmFtZScpO1xuXG52YXIgX2dldFN0YXRlTmFtZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRTdGF0ZU5hbWUyKTtcblxudmFyIF9nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UyID0gcmVxdWlyZSgnLi9nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UnKTtcblxudmFyIF9nZXRVbmV4cGVjdGVkSW52b2NhdGlvblBhcmFtZXRlck1lc3NhZ2UzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlMik7XG5cbnZhciBfdmFsaWRhdGVOZXh0U3RhdGUyID0gcmVxdWlyZSgnLi92YWxpZGF0ZU5leHRTdGF0ZScpO1xuXG52YXIgX3ZhbGlkYXRlTmV4dFN0YXRlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRlTmV4dFN0YXRlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZ2V0U3RhdGVOYW1lID0gX2dldFN0YXRlTmFtZTMuZGVmYXVsdDtcbmV4cG9ydHMuZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlID0gX2dldFVuZXhwZWN0ZWRJbnZvY2F0aW9uUGFyYW1ldGVyTWVzc2FnZTMuZGVmYXVsdDtcbmV4cG9ydHMudmFsaWRhdGVOZXh0U3RhdGUgPSBfdmFsaWRhdGVOZXh0U3RhdGUzLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XG5cbnZhciBfaW1tdXRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltbXV0YWJsZSk7XG5cbnZhciBfdXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJlZHVjZXJzKSB7XG4gIHZhciBnZXREZWZhdWx0U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IF9pbW11dGFibGUyLmRlZmF1bHQuTWFwO1xuXG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3BhY2UtaW5maXgtb3BzXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlucHV0U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGdldERlZmF1bHRTdGF0ZSgpO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gKDAsIF91dGlsaXRpZXMuZ2V0VW5leHBlY3RlZEludm9jYXRpb25QYXJhbWV0ZXJNZXNzYWdlKShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKTtcblxuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3Iod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnB1dFN0YXRlLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHRlbXBvcmFyeVN0YXRlKSB7XG4gICAgICByZWR1Y2VyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWR1Y2VyTmFtZSkge1xuICAgICAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW3JlZHVjZXJOYW1lXTtcbiAgICAgICAgdmFyIGN1cnJlbnREb21haW5TdGF0ZSA9IHRlbXBvcmFyeVN0YXRlLmdldChyZWR1Y2VyTmFtZSk7XG4gICAgICAgIHZhciBuZXh0RG9tYWluU3RhdGUgPSByZWR1Y2VyKGN1cnJlbnREb21haW5TdGF0ZSwgYWN0aW9uKTtcblxuICAgICAgICAoMCwgX3V0aWxpdGllcy52YWxpZGF0ZU5leHRTdGF0ZSkobmV4dERvbWFpblN0YXRlLCByZWR1Y2VyTmFtZSwgYWN0aW9uKTtcblxuICAgICAgICB0ZW1wb3JhcnlTdGF0ZS5zZXQocmVkdWNlck5hbWUsIG5leHREb21haW5TdGF0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZVJlZHVjZXJzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gdW5kZWZpbmVkO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VyczIgPSByZXF1aXJlKCcuL2NvbWJpbmVSZWR1Y2VycycpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VyczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lUmVkdWNlcnMyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMy5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQWRtaW5BY3Rpb25UeXBlIH0gZnJvbSAnLi9BZG1pbkFjdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5cbmV4cG9ydCBjb25zdCBBRE1JTl9QQUdFX0xJTUlUID0gMTAwXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBkYXRhOiB7fVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVkdWNlciA9IChfLCBhY3Rpb246IEFkbWluQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFkbWluUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBhZG1pblJlY2VwdG9yID0gKGFjdGlvbjogQWRtaW5BY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdWSURFT19DUkVBVEVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBkYXRhOiBhY3Rpb24uZGF0YSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBZG1pblN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBZG1pblN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IFVzZXJBY3Rpb25UeXBlIH0gZnJvbSAnLi9Vc2VyQWN0aW9ucydcbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBBdXRoVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuaW1wb3J0IHsgU3RhdGljUmVzb3VyY2UgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1N0YXRpY1Jlc291cmNlJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IFVzZXJSb2xlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyUm9sZSdcbmV4cG9ydCBjb25zdCBVU0VSX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgdXNlcnM6IHtcbiAgICB1c2VyczogW10gYXMgQXJyYXk8VXNlcj4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogVVNFUl9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9LFxuICB1c2VyUm9sZToge1xuICAgIHVzZXJSb2xlOiBbXSBhcyBBcnJheTxVc2VyUm9sZT4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogVVNFUl9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9LFxuICBzaW5nbGVVc2VyOiB7XG4gICAgc2luZ2xlVXNlcjogVXNlclNlZWQgYXMgVXNlcixcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfSxcbiAgc3RhdGljUmVzb3VyY2U6IHtcbiAgICBzdGF0aWNSZXNvdXJjZTogW10gYXMgQXJyYXk8U3RhdGljUmVzb3VyY2U+LFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5Vc2VyUmVkdWNlciA9IChfLCBhY3Rpb246IFVzZXJBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gdXNlclJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgdXNlclJlY2VwdG9yID0gKGFjdGlvbjogVXNlckFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQURNSU5fTE9BREVEX1VTRVJTJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnVzZXJSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2Uoe1xuICAgICAgICAgIHVzZXJzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdVU0VSX1JPTEVfUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnR5cGVzXG4gICAgICAgIHJldHVybiBzLnVzZXJSb2xlLm1lcmdlKHsgdXNlclJvbGU6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdVU0VSX1JPTEVfQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLnVzZXJSb2xlLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdVU0VSX0FETUlOX1JFTU9WRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uZGF0YVxuICAgICAgICBsZXQgdXNlclJlbW92ZSA9IFsuLi5zLnVzZXJzLnVzZXJzLnZhbHVlXVxuICAgICAgICB1c2VyUmVtb3ZlID0gdXNlclJlbW92ZS5maWx0ZXIoKHVzZXIpID0+IHVzZXIuaWQgIT09IHJlc3VsdC5pZClcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2UoeyB1c2VyczogdXNlclJlbW92ZSwgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdVU0VSX0FETUlOX0NSRUFURUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24udXNlclxuICAgICAgICByZXR1cm4gcy51c2Vycy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnVVNFUl9BRE1JTl9QQVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnVzZXJcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ1VTRVJfUk9MRV9VUERBVEVEJzpcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ1VTRVJfU0VBUkNIX0FETUlOJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLnVzZXJSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMudXNlcnMubWVyZ2Uoe1xuICAgICAgICAgIHVzZXJzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdTSU5HTEVfVVNFUl9BRE1JTl9MT0FERUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uZGF0YVxuICAgICAgICByZXR1cm4gcy5zaW5nbGVVc2VyLm1lcmdlKHsgc2luZ2xlVXNlcjogcmVzdWx0LCByZXRyaWV2aW5nOiBmYWxzZSwgZmV0Y2hlZDogdHJ1ZSwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnU1RBVElDX1JFU09VUkNFX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5zdGF0aWNSZXNvdXJjZVxuICAgICAgICByZXR1cm4gcy5zdGF0aWNSZXNvdXJjZS5tZXJnZSh7XG4gICAgICAgICAgc3RhdGljUmVzb3VyY2U6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnU0lOR0xFX1VTRVJfQURNSU5fUkVGRVRDSCc6XG4gICAgICAgIHJldHVybiBzLnNpbmdsZVVzZXIubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzVXNlclN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VVc2VyU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgQ29udGVudFBhY2tBY3Rpb25UeXBlIH0gZnJvbSAnLi9Db250ZW50UGFja0FjdGlvbnMnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBZG1pbkNvbnRlbnRQYWNrIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BZG1pbkNvbnRlbnRQYWNrJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgY29udGVudFBhY2tzOiBbXSBhcyBBcnJheTxBZG1pbkNvbnRlbnRQYWNrPixcbiAgdXBkYXRlTmVlZGVkOiB0cnVlXG59KVxuXG5leHBvcnQgY29uc3QgY29udGVudFBhY2tSZWR1Y2VyID0gKF8sIGFjdGlvbjogQ29udGVudFBhY2tBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gY29udGVudFBhY2tSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGNvbnRlbnRQYWNrUmVjZXB0b3IgPSAoYWN0aW9uOiBDb250ZW50UGFja0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0xPQURFRF9DT05URU5UX1BBQ0tTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IGZhbHNlLCBjb250ZW50UGFja3M6IGFjdGlvbi5jb250ZW50UGFja3MgfSlcbiAgICAgIGNhc2UgJ0NPTlRFTlRfUEFDS19DUkVBVEVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0NPTlRFTlRfUEFDS19QQVRDSEVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQ29udGVudFBhY2tTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQ29udGVudFBhY2tTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IEF2YXRhckFjdGlvblR5cGUgfSBmcm9tICcuL0F2YXRhckFjdGlvbnMnXG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F2YXRhcidcblxuZXhwb3J0IGNvbnN0IEFWQVRBUl9QQUdFX0xJTUlUID0gMTAwXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgZXJyb3I6ICcnLFxuICBhdXRoVXNlcjogQXV0aFVzZXJTZWVkLFxuICB1c2VyOiBVc2VyU2VlZCxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWQsXG4gIGF2YXRhcnM6IHtcbiAgICBhdmF0YXJzOiBbXSBhcyBBcnJheTxBdmF0YXI+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IEFWQVRBUl9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5BdmF0YXJSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXZhdGFyQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGF2YXRhclJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYXZhdGFyUmVjZXB0b3IgPSAoYWN0aW9uOiBBdmF0YXJBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQVZBVEFSU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYXZhdGFyc1xuXG4gICAgICAgIHMuYXZhdGFycy5tZXJnZSh7XG4gICAgICAgICAgYXZhdGFyczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBdmF0YXJTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQXZhdGFyU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgSW5zdGFuY2VBY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnN0YW5jZUFjdGlvbnMnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JbnN0YW5jZSdcblxuZXhwb3J0IGNvbnN0IElOU1ROQ0VfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgaXNMb2dnZWRJbjogZmFsc2UsXG4gIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbiAgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCxcbiAgdXNlcjogVXNlclNlZWQsXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkLFxuICBpbnN0YW5jZXM6IHtcbiAgICBpbnN0YW5jZXM6IFtdIGFzIEFycmF5PEluc3RhbmNlPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBJTlNUTkNFX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pbkluc3RhbmNlUmVkdWNlciA9IChfLCBhY3Rpb246IEluc3RhbmNlQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGluc3RhbmNlUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBpbnN0YW5jZVJlY2VwdG9yID0gKGFjdGlvbjogSW5zdGFuY2VBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0lOU1RBTkNFU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uaW5zdGFuY2VSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMuaW5zdGFuY2VzLm1lcmdlKHtcbiAgICAgICAgICBpbnN0YW5jZXM6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHNraXA6IHJlc3VsdC5za2lwLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0lOU1RBTkNFX1JFTU9WRURfUk9XJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmluc3RhbmNlXG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHN0YXRlLmluc3RhbmNlcy52YWx1ZVxuICAgICAgICBsZXQgaW5zdGFuY2VMaXN0ID0gaW5zdGFuY2UuaW5zdGFuY2VzXG4gICAgICAgIGluc3RhbmNlTGlzdCA9IGluc3RhbmNlTGlzdC5maWx0ZXIoKGluc3RhbmNlKSA9PiBpbnN0YW5jZS5pZCAhPT0gcmVzdWx0LmlkKVxuICAgICAgICBpbnN0YW5jZS5pbnN0YW5jZXMgPSBpbnN0YW5jZUxpc3RcbiAgICAgICAgcy5tZXJnZSh7IGluc3RhbmNlczogaW5zdGFuY2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzSW5zdGFuY2VTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlSW5zdGFuY2VTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IExvY2F0aW9uQWN0aW9uVHlwZSB9IGZyb20gJy4vTG9jYXRpb25BY3Rpb25zJ1xuaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0xvY2F0aW9uJ1xuaW1wb3J0IHsgTG9jYXRpb25UeXBlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Mb2NhdGlvblR5cGUnXG5leHBvcnQgY29uc3QgTE9DQVRJT05fUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgaXNMb2dnZWRJbjogZmFsc2UsXG4gIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gIGVycm9yOiAnJyxcbiAgYXV0aFVzZXI6IEF1dGhVc2VyU2VlZCxcbiAgdXNlcjogVXNlclNlZWQsXG4gIGlkZW50aXR5UHJvdmlkZXI6IElkZW50aXR5UHJvdmlkZXJTZWVkLFxuICBsb2NhdGlvbnM6IHtcbiAgICBsb2NhdGlvbnM6IFtdIGFzIEFycmF5PExvY2F0aW9uPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBMT0NBVElPTl9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBjcmVhdGVkOiBmYWxzZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9LFxuICBsb2NhdGlvblR5cGVzOiB7XG4gICAgbG9jYXRpb25UeXBlczogW10gYXMgQXJyYXk8TG9jYXRpb25UeXBlPixcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluTG9jYXRpb25SZWR1Y2VyID0gKF8sIGFjdGlvbjogTG9jYXRpb25BY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gbG9jYXRpb25SZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGxvY2F0aW9uUmVjZXB0b3IgPSAoYWN0aW9uOiBMb2NhdGlvbkFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdBRE1JTl9MT0NBVElPTlNfUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmxvY2F0aW9uc1xuICAgICAgICByZXR1cm4gcy5sb2NhdGlvbnMubWVyZ2Uoe1xuICAgICAgICAgIGxvY2F0aW9uczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgdXBkYXRlTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQURNSU5fTE9DQVRJT05fQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLmxvY2F0aW9ucy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSwgY3JlYXRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnQURNSU5fTE9DQVRJT05fUEFUQ0hFRCc6XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uc0xpc3QgPSBzdGF0ZS5sb2NhdGlvbnMubG9jYXRpb25zLnZhbHVlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChsb2NhdGlvbnNMaXN0W2ldLmlkID09PSBhY3Rpb24ubG9jYXRpb24uaWQpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uc0xpc3RbaV0gPSBhY3Rpb24ubG9jYXRpb25cbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi5sb2NhdGlvbi5pc0xvYmJ5ICYmIGxvY2F0aW9uc0xpc3RbaV0uaXNMb2JieSkge1xuICAgICAgICAgICAgLy8gaWYgdXBkYXRlZCBsb2NhdGlvbiBpcyBsb2JieSB0aGVuIHJlbW92ZSBvbGQgbG9iYnkuXG4gICAgICAgICAgICBsb2NhdGlvbnNMaXN0W2ldLmlzTG9iYnkgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5sb2NhdGlvbnMubWVyZ2UoeyBsb2NhdGlvbnM6IGxvY2F0aW9uc0xpc3QgfSlcblxuICAgICAgY2FzZSAnQURNSU5fTE9DQVRJT05fUkVNT1ZFRCc6XG4gICAgICAgIHJldHVybiBzLmxvY2F0aW9ucy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuXG4gICAgICBjYXNlICdBRE1JTl9MT0NBVElPTl9UWVBFU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubG9jYXRpb25UeXBlc1Jlc3VsdFxuICAgICAgICByZXR1cm4gcy5sb2NhdGlvblR5cGVzLnNldCh7IGxvY2F0aW9uVHlwZXM6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0xvY2F0aW9uU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUxvY2F0aW9uU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgUGFydHlBY3Rpb25UeXBlIH0gZnJvbSAnLi9QYXJ0QWN0aW9ucydcbmltcG9ydCB7IFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Vc2VyJ1xuaW1wb3J0IHsgSWRlbnRpdHlQcm92aWRlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0lkZW50aXR5UHJvdmlkZXInXG5pbXBvcnQgeyBBdXRoVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0F1dGhVc2VyJ1xuaW1wb3J0IHsgQWRtaW5QYXJ0eSB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQWRtaW5QYXJ0eSdcblxuZXhwb3J0IGNvbnN0IFBBUlRZX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgcGFydGllczoge1xuICAgIHBhcnRpZXM6IFtdIGFzIEFycmF5PEFkbWluUGFydHk+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IFBBUlRZX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pblBhcnR5UmVkdWNlciA9IChfLCBhY3Rpb246IFBhcnR5QWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHBhcnR5UmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBwYXJ0eVJlY2VwdG9yID0gKGFjdGlvbjogUGFydHlBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1BBUlRZX0FETUlOX0RJU1BMQVlFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5kYXRhXG4gICAgICAgIHJldHVybiBzLnBhcnRpZXMubWVyZ2UoeyBwYXJ0aWVzOiByZXN1bHQuZGF0YSwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnUEFSVFlfQURNSU5fQ1JFQVRFRCc6XG4gICAgICAgIHJldHVybiBzLnBhcnRpZXMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzUGFydHlTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUGFydHlTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvVXNlcidcbmltcG9ydCB7IElkZW50aXR5UHJvdmlkZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9JZGVudGl0eVByb3ZpZGVyJ1xuaW1wb3J0IHsgQXV0aFVzZXJTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BdXRoVXNlcidcbmltcG9ydCB7IFNjZW5lQWN0aW9uVHlwZSB9IGZyb20gJy4vU2NlbmVBY3Rpb25zJ1xuaW1wb3J0IHsgU2NlbmVEYXRhIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9TY2VuZURhdGEnXG5cbmV4cG9ydCBjb25zdCBTQ0VORV9QQUdFX0xJTUlUID0gMTAwXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgZXJyb3I6ICcnLFxuICBhdXRoVXNlcjogQXV0aFVzZXJTZWVkLFxuICB1c2VyOiBVc2VyU2VlZCxcbiAgaWRlbnRpdHlQcm92aWRlcjogSWRlbnRpdHlQcm92aWRlclNlZWQsXG4gIHNjZW5lczoge1xuICAgIHNjZW5lczogW10gYXMgQXJyYXk8U2NlbmVEYXRhPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBTQ0VORV9QQUdFX0xJTUlULFxuICAgIHRvdGFsOiAwLFxuICAgIHJldHJpZXZpbmc6IGZhbHNlLFxuICAgIGZldGNoZWQ6IGZhbHNlLFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5TY2VuZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBTY2VuZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzY2VuZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3Qgc2NlbmVSZWNlcHRvciA9IChhY3Rpb246IFNjZW5lQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0FETUlOX1NDRU5FU19SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uc2NlbmVEYXRhUmVzdWx0XG4gICAgICAgIHJldHVybiBzLnNjZW5lcy5tZXJnZSh7XG4gICAgICAgICAgc2NlbmVzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1NjZW5lU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVNjZW5lU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgQm90c0FjdGlvblR5cGUgfSBmcm9tICcuL0JvdHNBY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlcidcbmltcG9ydCB7IEF1dGhVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQXV0aFVzZXInXG5pbXBvcnQgeyBBZG1pbkJvdCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQWRtaW5Cb3QnXG5cbmV4cG9ydCBjb25zdCBCT1RTX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgYm90czoge1xuICAgIGJvdHM6IFtdIGFzIEFycmF5PEFkbWluQm90PixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBCT1RTX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH0sXG4gIGJvdENvbW1hbmQ6IHtcbiAgICBib3RDb21tYW5kOiBbXSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBCT1RTX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pbkJvdHNSZWR1Y2VyID0gKF8sIGFjdGlvbjogQm90c0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBib3RzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5leHBvcnQgY29uc3QgYm90c1JlY2VwdG9yID0gKGFjdGlvbjogQm90c0FjdGlvblR5cGUpOiB2b2lkID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0JPVF9BRE1JTl9ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmJvdHNcbiAgICAgICAgcy5tZXJnZSh7IGVycm9yOiAnJyB9KVxuICAgICAgICByZXR1cm4gcy5ib3RzLm1lcmdlKHtcbiAgICAgICAgICBib3RzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0JPVF9BRE1JTl9DUkVBVEUnOlxuICAgICAgICByZXR1cm4gcy5ib3RzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdCT1RfQ09NTUFORF9BRE1JTl9DUkVBVEUnOlxuICAgICAgICByZXR1cm4gcy5ib3RzLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdCT1RfQURNSU5fUkVNT1ZFJzpcbiAgICAgICAgcmV0dXJuIHMuYm90cy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnQk9UX0NPTU1BTkRfQURNSU5fUkVNT1ZFJzpcbiAgICAgICAgcmV0dXJuIHMuYm90cy5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnQk9UX0FETUlOX1VQREFURSc6XG4gICAgICAgIHJldHVybiBzLmJvdHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQm90U3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUJvdFN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEFuYWx5dGljc0FjdGlvblR5cGUgfSBmcm9tICcuL0FuYWx5dGljc0FjdGlvbnMnXG5leHBvcnQgY29uc3QgQU5BTFlUSUNTX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGFjdGl2ZUluc3RhbmNlczogW10sXG4gIGFjdGl2ZVBhcnRpZXM6IFtdLFxuICBpbnN0YW5jZVVzZXJzOiBbXSxcbiAgY2hhbm5lbFVzZXJzOiBbXSxcbiAgYWN0aXZlTG9jYXRpb25zOiBbXSxcbiAgYWN0aXZlU2NlbmVzOiBbXSxcbiAgZGFpbHlVc2VyczogW10sXG4gIGRhaWx5TmV3VXNlcnM6IFtdXG59KVxuXG5leHBvcnQgY29uc3QgQWRtaW5BbmFseXRpY3NSZWR1Y2VyID0gKF8sIGFjdGlvbjogQW5hbHl0aWNzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFuYWx5dGljc1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYW5hbHl0aWNzUmVjZXB0b3IgPSAoYWN0aW9uOiBBbmFseXRpY3NBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQUNUSVZFX0lOU1RBTkNFU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgYWN0aXZlSW5zdGFuY2VzOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgICAgY2FzZSAnQUNUSVZFX1BBUlRJRVNfRkVUQ0hFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hbmFseXRpY3NcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGFjdGl2ZVBhcnRpZXM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBQ1RJVkVfTE9DQVRJT05TX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYW5hbHl0aWNzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBhY3RpdmVMb2NhdGlvbnM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBQ1RJVkVfU0NFTkVTX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYW5hbHl0aWNzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBhY3RpdmVTY2VuZXM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdDSEFOTkVMX1VTRVJTX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYW5hbHl0aWNzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBjaGFubmVsVXNlcnM6IHJlc3VsdC5kYXRhXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBbbmV3IERhdGUoaXRlbS5jcmVhdGVkQXQpLmdldFRpbWUoKSwgaXRlbS5jb3VudF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdJTlNUQU5DRV9VU0VSU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgaW5zdGFuY2VVc2VyczogcmVzdWx0LmRhdGFcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgRGF0ZShpdGVtLmNyZWF0ZWRBdCkuZ2V0VGltZSgpLCBpdGVtLmNvdW50XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0RBSUxZX05FV19VU0VSU19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFuYWx5dGljc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7XG4gICAgICAgICAgZGFpbHlOZXdVc2VyczogcmVzdWx0LmRhdGFcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtuZXcgRGF0ZShpdGVtLmNyZWF0ZWRBdCkuZ2V0VGltZSgpLCBpdGVtLmNvdW50XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0RBSUxZX1VTRVJTX0ZFVENIRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uYW5hbHl0aWNzXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBkYWlseVVzZXJzOiByZXN1bHQuZGF0YVxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gW25ldyBEYXRlKGl0ZW0uY3JlYXRlZEF0KS5nZXRUaW1lKCksIGl0ZW0uY291bnRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBbmFseXRpY3NTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQW5hbHl0aWNzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgVXNlclNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBJZGVudGl0eVByb3ZpZGVyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSWRlbnRpdHlQcm92aWRlcidcbmltcG9ydCB7IEF1dGhVc2VyU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQXV0aFVzZXInXG5pbXBvcnQgeyBSZWFsaXR5UGFja0FjdGlvblR5cGUgfSBmcm9tICcuL1JlYWxpdHlQYWNrQWN0aW9ucydcbmltcG9ydCB7IEFkbWluUmVhbGl0eVBhY2sgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0FkbWluUmVhbGl0eVBhY2snXG5cbmV4cG9ydCBjb25zdCBSRUFMSVRZX1BBQ0tfUEFHRV9MSU1JVCA9IDEwMFxuXG5leHBvcnQgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxuICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxuICBlcnJvcjogJycsXG4gIGF1dGhVc2VyOiBBdXRoVXNlclNlZWQsXG4gIHVzZXI6IFVzZXJTZWVkLFxuICBpZGVudGl0eVByb3ZpZGVyOiBJZGVudGl0eVByb3ZpZGVyU2VlZCxcbiAgcmVhbGl0eVBhY2tzOiB7XG4gICAgcmVhbGl0eVBhY2tzOiBbXSBhcyBBcnJheTxBZG1pblJlYWxpdHlQYWNrPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBSRUFMSVRZX1BBQ0tfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVhbGl0eVBhY2tSZWR1Y2VyID0gKF8sIGFjdGlvbjogUmVhbGl0eVBhY2tBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gcmVhbGl0eVBhY2tSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHJlYWxpdHlQYWNrUmVjZXB0b3IgPSAoYWN0aW9uOiBSZWFsaXR5UGFja0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdSRUFMSVRZX1BBQ0tTX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hZG1pblJlYWxpdHlQYWNrUmVzdWx0XG4gICAgICAgIHJldHVybiBzLnJlYWxpdHlQYWNrcy5tZXJnZSh7XG4gICAgICAgICAgcmVhbGl0eVBhY2tzOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1JlYWxpdHlQYWNrU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVJlYWxpdHlQYWNrU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBck1lZGlhIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Bck1lZGlhJ1xuLyoqXG4gKiBDb21tZW50aW5nIGNvZGUgdG8gY29tcGlsZSBUU0RPQyBEb2N1c2F1cnVzXG4gKiB0aGlzIGZpbGUgY29udGFpbiBzb21lIGlzc3VlcyB3aXRoXG4gKiBGZWVkRmlyZXNBY3Rpb24sIEZlZWRGaXJlc1JldHJpZXZlQWN0aW9uIGltcG9ydHMgYXJlIG5vdCBhdmFpbGFibGUgaW4gYWN0aW9ucy50cyBmaWxlIGl0cyBlbXB0eSBmaWxlLlxuICpcbiAqL1xuXG5pbXBvcnQgeyBBck1lZGlhQWN0aW9uVHlwZSB9IGZyb20gJy4vQXJNZWRpYUFjdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBBUk1FRElBX1BBR0VfTElNSVQgPSAxMDBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGFyTWVkaWE6IHtcbiAgICBhck1lZGlhOiBbXSBhcyBBcnJheTxBck1lZGlhPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiBBUk1FRElBX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH0sXG4gIGFkbWluTGlzdDogW10sXG4gIGxpc3Q6IFtdIGFzIEFycmF5PEFyTWVkaWE+LFxuICBmZXRjaGluZzogZmFsc2UsXG4gIGl0ZW06IHt9IGFzIEFyTWVkaWEgfCB7fSxcbiAgZmV0Y2hpbmdJdGVtOiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IGFyTWVkaWFSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXJNZWRpYUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhck1lZGlhUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBhck1lZGlhUmVjZXB0b3IgPSAoYWN0aW9uOiBBck1lZGlhQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgbGV0IHJlc3VsdDogYW55XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQVJNRURJQV9GRVRDSElORyc6XG4gICAgICAgIHJldHVybiBzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnQVJNRURJQV9BRE1JTl9SRVRSSUVWRUQnOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24ubGlzdFxuICAgICAgICByZXR1cm4gcy5hck1lZGlhLm1lcmdlKHtcbiAgICAgICAgICBhck1lZGlhOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBUk1FRElBX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgbGlzdDogYWN0aW9uLmxpc3QsIGZldGNoaW5nOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQUREX0FSTUVESUEnOlxuICAgICAgICByZXR1cm4gcy5hck1lZGlhLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ1JFTU9WRV9BUk1FRElBJzpcbiAgICAgICAgcmV0dXJuIHMuYXJNZWRpYS51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdBUk1FRElBX0ZFVENISU5HX0lURU0nOlxuICAgICAgICByZXR1cm4gcy5mZXRjaGluZ0l0ZW0uc2V0KHRydWUpXG4gICAgICBjYXNlICdBUk1FRElBX1JFVFJJRVZFRF9JVEVNJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBpdGVtOiBhY3Rpb24uaXRlbSwgZmV0Y2hpbmdJdGVtOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnVVBEQVRFX0FSX01FRElBJzpcbiAgICAgICAgcmV0dXJuIHMuYXJNZWRpYS51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0FyTWVkaWFTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQXJNZWRpYVN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpXG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgRmVlZEFjdGlvblR5cGUgfSBmcm9tICcuL0ZlZWRBY3Rpb25zJ1xuaW1wb3J0IHsgRmVlZFNob3J0LCBGZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9GZWVkJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZmVlZHM6IHtcbiAgICBmZWVkczogW10gYXMgQXJyYXk8RmVlZD4sXG4gICAgZmVlZHNGZXRjaGluZzogZmFsc2UsXG4gICAgZmVlZHNGZWF0dXJlZDogW10gYXMgQXJyYXk8RmVlZFNob3J0PixcbiAgICBmZWVkc0ZlYXR1cmVkRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWRzQ3JlYXRvcjogW10gYXMgQXJyYXk8RmVlZFNob3J0PixcbiAgICBmZWVkc0NyZWF0b3JGZXRjaGluZzogZmFsc2UsXG4gICAgZmVlZHNCb29rbWFyazogW10gYXMgQXJyYXk8RmVlZFNob3J0PixcbiAgICBmZWVkc0Jvb2ttYXJrRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWRzRmlyZWQ6IFtdIGFzIEFycmF5PEZlZWRTaG9ydD4sXG4gICAgZmVlZHNGaXJlZEZldGNoaW5nOiBmYWxzZSxcbiAgICBteUZlYXR1cmVkOiBbXSBhcyBBcnJheTxGZWVkU2hvcnQ+LFxuICAgIG15RmVhdHVyZWRGZXRjaGluZzogZmFsc2UsXG4gICAgZmVlZDoge30sXG4gICAgZmV0Y2hpbmc6IGZhbHNlLFxuICAgIGZlZWRzQWRtaW46IHtcbiAgICAgIGZlZWRzOiBbXSBhcyBBcnJheTxGZWVkPixcbiAgICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgfSxcbiAgICBmZWVkc0FkbWluRmV0Y2hpbmc6IGZhbHNlLFxuICAgIGxhc3RGZWVkVmlkZW9Vcmw6IG51bGxcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGZlZWRSZWR1Y2VyID0gKF8sIGFjdGlvbjogRmVlZEFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBmZWVkUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBmZWVkUmVjZXB0b3IgPSAoYWN0aW9uOiBGZWVkQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRGZWVkXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnRkVFRFNfRkVUQ0gnOlxuICAgICAgICBzLmZlZWRzLmZlZWRzRmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVBVFVSRURfRkVFRFNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0ZlYXR1cmVkRmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdDUkVBVE9SX0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNDcmVhdG9yRmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdCT09LTUFSS19GRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzQm9va21hcmtGZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ01ZX0ZFQVRVUkVEX0ZFRURTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubXlGZWF0dXJlZEZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnQURNSU5fRkVFRFNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkc0FkbWluRmV0Y2hpbmcuc2V0KHRydWUpXG4gICAgICBjYXNlICdGSVJFRF9GRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzRmlyZWRGZXRjaGluZy5zZXQodHJ1ZSlcblxuICAgICAgY2FzZSAnRkVFRFNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkczogYWN0aW9uLmZlZWRzLCBmZWVkc0ZldGNoaW5nOiBmYWxzZSB9KVxuXG4gICAgICBjYXNlICdGRUVEU19GRUFUVVJFRF9SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IGZlZWRzRmVhdHVyZWQ6IGFjdGlvbi5mZWVkcywgZmVlZHNGZWF0dXJlZEZldGNoaW5nOiBmYWxzZSB9KVxuXG4gICAgICBjYXNlICdGRUVEU19DUkVBVE9SX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm1lcmdlKHsgZmVlZHNDcmVhdG9yOiBhY3Rpb24uZmVlZHMsIGZlZWRzQ3JlYXRvckZldGNoaW5nOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQ0xFQVJfQ1JFQVRPUl9GRUFUVVJFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm1lcmdlKHsgZmVlZHNDcmVhdG9yOiBbXSwgZmVlZHNDcmVhdG9yRmV0Y2hpbmc6IGZhbHNlIH0pXG4gICAgICBjYXNlICdGRUVEU19NWV9GRUFUVVJFRF9SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5tZXJnZSh7IG15RmVhdHVyZWQ6IGFjdGlvbi5mZWVkcywgbXlGZWF0dXJlZEZldGNoaW5nOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnRkVFRFNfQk9PS01BUktfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkc0Jvb2ttYXJrOiBhY3Rpb24uZmVlZHMsIGZlZWRzQm9va21hcmtGZXRjaGluZzogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0ZFRURTX0ZJUkVEX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLm1lcmdlKHsgZmVlZHNGaXJlZDogYWN0aW9uLmZlZWRzLCBmZWVkc0ZpcmVkRmV0Y2hpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0ZFRURfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkOiBhY3Rpb24uZmVlZCwgZmV0Y2hpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0FERF9GRUVEX0ZJUkVTJzpcbiAgICAgICAgY3VycmVudEZlZWQgPSBzLmZlZWRzLmZlZWQ/LnZhbHVlXG4gICAgICAgIHMuZmVlZHMuZmVlZHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHMudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCBmaXJlczogKytmZWVkLmZpcmVzLCBpc0ZpcmVkOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZC5zZXQoY3VycmVudEZlZWQgPyB7IC4uLmN1cnJlbnRGZWVkLCBmaXJlczogKytjdXJyZW50RmVlZC5maXJlcywgaXNGaXJlZDogdHJ1ZSB9IDoge30pXG4gICAgICBjYXNlICdSRU1PVkVfRkVFRF9GSVJFUyc6XG4gICAgICAgIGN1cnJlbnRGZWVkID0gcy5mZWVkcy5mZWVkPy52YWx1ZVxuICAgICAgICBzLmZlZWRzLmZlZWRzLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRzLnZhbHVlLm1hcCgoZmVlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZlZWQuaWQgPT09IGFjdGlvbi5mZWVkSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCwgZmlyZXM6IGZlZWQuZmlyZXMgLSAxLCBpc0ZpcmVkOiBmYWxzZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWQuc2V0KGN1cnJlbnRGZWVkID8geyAuLi5jdXJyZW50RmVlZCwgZmlyZXM6IC0tY3VycmVudEZlZWQuZmlyZXMsIGlzRmlyZWQ6IGZhbHNlIH0gOiB7fSlcbiAgICAgIGNhc2UgJ0FERF9GRUVEX0JPT0tNQVJLJzpcbiAgICAgICAgY3VycmVudEZlZWQgPSBzLmZlZWRzLmZlZWQ/LnZhbHVlXG4gICAgICAgIHMuZmVlZHMuZmVlZHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHMudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCBpc0Jvb2ttYXJrZWQ6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkLnNldChjdXJyZW50RmVlZCA/IHsgLi4uY3VycmVudEZlZWQsIGlzQm9va21hcmtlZDogdHJ1ZSB9IDoge30pXG5cbiAgICAgIGNhc2UgJ1JFTU9WRV9GRUVEX0JPT0tNQVJLJzpcbiAgICAgICAgY3VycmVudEZlZWQgPSBzLmZlZWRzLmZlZWQ/LnZhbHVlXG4gICAgICAgIHMuZmVlZHMuZmVlZHMuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHMudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCBpc0Jvb2ttYXJrZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZC5zZXQoY3VycmVudEZlZWQgPyB7IC4uLmN1cnJlbnRGZWVkLCBpc0Jvb2ttYXJrZWQ6IGZhbHNlIH0gOiB7fSlcblxuICAgICAgY2FzZSAnQUREX0ZFRURfVklFVyc6XG4gICAgICAgIHMuZmVlZHMuZmVlZHNGZWF0dXJlZC5zZXQoXG4gICAgICAgICAgcy5mZWVkcy5mZWVkc0ZlYXR1cmVkPy52YWx1ZT8ubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWRJZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkLCB2aWV3c0NvdW50OiArK2ZlZWQudmlld3NDb3VudCB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5mZWVkIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWQuc2V0KGN1cnJlbnRGZWVkID8geyAuLi5jdXJyZW50RmVlZCwgdmlld3NDb3VudDogKytjdXJyZW50RmVlZC52aWV3c0NvdW50IH0gOiB7fSlcbiAgICAgIGNhc2UgJ0FERF9GRUVEJzpcbiAgICAgICAgcy5mZWVkcy5mZWVkcy5zZXQoWy4uLnMuZmVlZHMuZmVlZHMudmFsdWUsIGFjdGlvbi5mZWVkXSlcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNGZXRjaGluZy5zZXQoZmFsc2UpXG5cbiAgICAgIGNhc2UgJ0FERF9GRUVEX0ZFQVRVUkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZHNDcmVhdG9yLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRzQ3JlYXRvci52YWx1ZS5tYXAoKGZlZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChmZWVkLmlkID09PSBhY3Rpb24uZmVlZElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQsIGZlYXR1cmVkOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ1JFTU9WRV9GRUVEX0ZFQVRVUkVEJzpcbiAgICAgICAgY29uc3QgbXlGZWF0dXJlZCA9IHN0YXRlLmZlZWRzLm15RmVhdHVyZWQudmFsdWVcbiAgICAgICAgcy5mZWVkcy5mZWVkc0NyZWF0b3Iuc2V0KFxuICAgICAgICAgIHMuZmVlZHMuZmVlZHNDcmVhdG9yLnZhbHVlLm1hcCgoZmVlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZlZWQuaWQgPT09IGFjdGlvbi5mZWVkSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCwgZmVhdHVyZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLmZlZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubXlGZWF0dXJlZC5zZXQoXG4gICAgICAgICAgbXlGZWF0dXJlZFxuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgLi4ubXlGZWF0dXJlZC5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICBteUZlYXR1cmVkLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gYWN0aW9uLmZlZWRJZCksXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdXG4gICAgICAgIClcblxuICAgICAgY2FzZSAnRkVFRFNfQVNfQURNSU5fUkVUUklFVkVEJzpcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYWN0aW9uLmZlZWRzXG5cbiAgICAgICAgcy5mZWVkcy5mZWVkc0FkbWluLm1lcmdlKHsgZmVlZHM6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlLCBsYXN0RmV0Y2hlZDogbmV3IERhdGUoKSB9KVxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZXRjaGluZy5zZXQoZmFsc2UpXG5cbiAgICAgIGNhc2UgJ1VQREFURV9GRUVEJzpcbiAgICAgICAgcy5mZWVkcy5mZWVkc0FkbWluLmZlZWRzLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRzQWRtaW4uZmVlZHMudmFsdWUubWFwKChmZWVkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVlZC5pZCA9PT0gYWN0aW9uLmZlZWQuaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCwgLi4uYWN0aW9uLmZlZWQgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmVlZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzQWRtaW5GZXRjaGluZy5zZXQoZmFsc2UpXG4gICAgICBjYXNlICdERUxFVEVfRkVFRCc6XG4gICAgICAgIHJldHVybiBzLmZlZWRzLmZlZWRzRmVhdHVyZWQuc2V0KFsuLi5zLmZlZWRzLmZlZWRzRmVhdHVyZWQudmFsdWUuZmlsdGVyKChmZWVkKSA9PiBmZWVkLmlkICE9PSBhY3Rpb24uZmVlZElkKV0pXG5cbiAgICAgIGNhc2UgJ0xBU1RfRkVFRF9WSURFT19VUkwnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5sYXN0RmVlZFZpZGVvVXJsLnNldChhY3Rpb24uZmlsZVBhdGgpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0ZlZWRTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlRmVlZFN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpXG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IENyZWF0b3JBY3Rpb25UeXBlIH0gZnJvbSAnLi9DcmVhdG9yQWN0aW9ucydcbmltcG9ydCB7IENyZWF0b3IsIENyZWF0b3JTaG9ydCwgQ3JlYXRvck5vdGlmaWNhdGlvbiB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQ3JlYXRvcidcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGNyZWF0b3JzOiB7XG4gICAgY3JlYXRvcnM6IFtdIGFzIEFycmF5PENyZWF0b3I+LFxuICAgIGZldGNoaW5nQ3JlYXRvcnM6IGZhbHNlLFxuICAgIGNyZWF0b3I6IHt9IGFzIENyZWF0b3IsXG4gICAgZmV0Y2hpbmdDcmVhdG9yOiBmYWxzZSxcbiAgICBjdXJyZW50Q3JlYXRvcjoge30gYXMgQ3JlYXRvcixcbiAgICBmZXRjaGluZ0N1cnJlbnRDcmVhdG9yOiBmYWxzZSxcbiAgICBjdXJyZW50Q3JlYXRvck5vdGlmaWNhdGlvbnM6IFtdIGFzIEFycmF5PENyZWF0b3JOb3RpZmljYXRpb24+LFxuICAgIGZvbGxvd2VyczogW10gYXMgQXJyYXk8Q3JlYXRvclNob3J0PixcbiAgICBmb2xsb3dpbmc6IFtdIGFzIEFycmF5PENyZWF0b3JTaG9ydD4sXG4gICAgZmV0Y2hpbmc6IGZhbHNlLFxuICAgIGJsb2NrZWQ6IFtdIGFzIEFycmF5PENyZWF0b3JTaG9ydD4sXG4gICAgc3BsYXNoVGltZW91dDogdHJ1ZSxcbiAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBjcmVhdG9yUmVkdWNlciA9IChfLCBhY3Rpb246IENyZWF0b3JBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gY3JlYXRvclJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgY3JlYXRvclJlY2VwdG9yID0gKGFjdGlvbjogQ3JlYXRvckFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NFVF9TVEFURV9DUkVBVE9SUyc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLnNwbGFzaFRpbWVvdXQuc2V0KGFjdGlvbi5zcGxhc2hUaW1lb3V0KVxuICAgICAgY2FzZSAnQ1VSUkVOVF9DUkVBVE9SX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuZmV0Y2hpbmdDdXJyZW50Q3JlYXRvci5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NVUlJFTlRfQ1JFQVRPUl9SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5tZXJnZSh7XG4gICAgICAgICAgY3VycmVudENyZWF0b3I6IGFjdGlvbi5jcmVhdG9yLFxuICAgICAgICAgIGNyZWF0b3JzOiBzLmNyZWF0b3JzLmNyZWF0b3JzPy52YWx1ZS5tYXAoKGNyZWF0b3IpID0+IHtcbiAgICAgICAgICAgIGlmIChjcmVhdG9yLmlkID09PSBhY3Rpb24uY3JlYXRvci5pZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5hY3Rpb24uY3JlYXRvciB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5jcmVhdG9yIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBmZXRjaGluZ0N1cnJlbnRDcmVhdG9yOiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICBjYXNlICdDUkVBVE9SX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMubWVyZ2UoeyBmZXRjaGluZ0NyZWF0b3I6IHRydWUsIGNyZWF0b3I6IHsgaWQ6ICcnLCBuYW1lOiAnJywgdXNlcm5hbWU6ICcnIH0gfSlcbiAgICAgIGNhc2UgJ0NSRUFUT1JfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMubWVyZ2UoeyBjcmVhdG9yOiBhY3Rpb24uY3JlYXRvciwgZmV0Y2hpbmdDcmVhdG9yOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQ1JFQVRPUlNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5tZXJnZSh7IGZldGNoaW5nQ3JlYXRvcnM6IHRydWUsIGNyZWF0b3JzOiBbXSB9KVxuICAgICAgY2FzZSAnQ1JFQVRPUlNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMubWVyZ2UoeyBjcmVhdG9yczogYWN0aW9uLmNyZWF0b3JzLCBmZXRjaGluZ0NyZWF0b3JzOiBmYWxzZSB9KVxuXG4gICAgICBjYXNlICdDUkVBVE9SX05PVElGSUNBVElPTl9MSVNUX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLm1lcmdlKHsgY3VycmVudENyZWF0b3JOb3RpZmljYXRpb25zOiBhY3Rpb24ubm90aWZpY2F0aW9ucywgZmV0Y2hpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ1NFVF9DUkVBVE9SX0FTX0ZPTExPV0VEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuY3JlYXRvci5mb2xsb3dlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ1NFVF9DUkVBVE9SX05PVF9GT0xMT1dFRCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLmNyZWF0b3IuZm9sbG93ZWQuc2V0KGZhbHNlKVxuICAgICAgY2FzZSAnU0VUX0NSRUFUT1JfQVNfQkxPQ0tFRCc6XG4gICAgICAgIGNvbnN0IG5ld0NyZWF0b3JzID0gWy4uLnMuY3JlYXRvcnMuY3JlYXRvcnMudmFsdWVdXG4gICAgICAgIGNvbnN0IGlkQmxvY2tlZENyZWF0b3IgPSBuZXdDcmVhdG9ycy5maW5kSW5kZXgoXG4gICAgICAgICAgKGl0ZW0pID0+IGl0ZW0uaWQgPT09IChhY3Rpb24gYXMgeyB0eXBlOiBzdHJpbmc7IGNyZWF0b3JJZDogc3RyaW5nIH0pLmNyZWF0b3JJZFxuICAgICAgICApXG4gICAgICAgIG5ld0NyZWF0b3JzLnNwbGljZShpZEJsb2NrZWRDcmVhdG9yLCAxKVxuICAgICAgICBzLmNyZWF0b3JzLmNyZWF0b3IuYmxvY2tlZC5zZXQodHJ1ZSlcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuY3JlYXRvcnMuc2V0KG5ld0NyZWF0b3JzKVxuXG4gICAgICBjYXNlICdTRVRfQ1JFQVRPUl9BU19VTl9CTE9DS0VEJzpcbiAgICAgICAgLy8g0LLQvNC10YHRgtC+INGN0YLQvtCz0L4g0YHQtNC10LvQsNGC0Ywg0LfQsNC/0YDQvtGBXG4gICAgICAgIGNvbnN0IGJsb2NrZWQgPSBbLi4ucy5jcmVhdG9ycy5ibG9ja2VkLnZhbHVlXVxuICAgICAgICBjb25zdCB1bkJsb2NrZWRDcmVhdG9ySWQgPSBibG9ja2VkLmZpbmRJbmRleChcbiAgICAgICAgICAoYmxvY2tlZENyZWF0b3IpID0+XG4gICAgICAgICAgICBibG9ja2VkQ3JlYXRvci51c2VySWQgPT09IChhY3Rpb24gYXMgeyB0eXBlOiBzdHJpbmc7IGJsb2tlZENyZWF0b3JJZDogc3RyaW5nIH0pLmJsb2tlZENyZWF0b3JJZFxuICAgICAgICApXG4gICAgICAgIGJsb2NrZWQuc3BsaWNlKHVuQmxvY2tlZENyZWF0b3JJZCwgMSlcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuYmxvY2tlZC5zZXQoYmxvY2tlZClcblxuICAgICAgY2FzZSAnQ1JFQVRPUl9CTE9DS0VEX1JFVFJJRVZFRCc6XG4gICAgICAgIHJldHVybiBzLmNyZWF0b3JzLmJsb2NrZWQuc2V0KGFjdGlvbi5jcmVhdG9ycylcblxuICAgICAgY2FzZSAnQ1JFQVRPUl9GT0xMT1dFUlNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuY3JlYXRvcnMuZm9sbG93ZXJzLnNldChhY3Rpb24uY3JlYXRvcnMpXG4gICAgICBjYXNlICdDUkVBVE9SX0ZPTExPV0lOR19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5jcmVhdG9ycy5mb2xsb3dpbmcuc2V0KGFjdGlvbi5jcmVhdG9ycylcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQ3JlYXRvclN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VDcmVhdG9yU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEdyb3VwQWN0aW9uVHlwZSB9IGZyb20gJy4vR3JvdXBBY3Rpb25zJ1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0dyb3VwJ1xuXG5leHBvcnQgY29uc3QgR1JPVVBfUEFHRV9MSU1JVCA9IDEwXG5cbmV4cG9ydCBjb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgZ3JvdXA6IHtcbiAgICBncm91cDogW10gYXMgQXJyYXk8R3JvdXA+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IEdST1VQX1BBR0VfTElNSVQsXG4gICAgdG90YWw6IDAsXG4gICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgZmV0Y2hlZDogZmFsc2UsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gIH0sXG4gIGZldGNoaW5nOiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluR3JvdXBSZWR1Y2VyID0gKF8sIGFjdGlvbjogR3JvdXBBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZ3JvdXBSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGdyb3VwUmVjZXB0b3IgPSAoYWN0aW9uOiBHcm91cEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdHUk9VUF9GRVRDSElORyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgZmV0Y2hpbmc6IHRydWUgfSlcbiAgICAgIGNhc2UgJ0dST1VQX0FETUlOX1JFVFJJRVZFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5saXN0XG4gICAgICAgIHJldHVybiBzLmdyb3VwLm1lcmdlKHtcbiAgICAgICAgICBncm91cDogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FERF9HUk9VUCc6XG4gICAgICAgIHJldHVybiBzLmdyb3VwLm1lcmdlKHsgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdHUk9VUF9BRE1JTl9VUERBVEUnOlxuICAgICAgICByZXR1cm4gcy5ncm91cC5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnR1JPVVBfQURNSU5fREVMRVRFJzpcbiAgICAgICAgcmV0dXJuIHMuZ3JvdXAubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzR3JvdXBTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlR3JvdXBTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBTY29wZUFjdGlvblR5cGUgfSBmcm9tICcuL1Njb3BlQWN0aW9ucydcbmltcG9ydCB7IEFkbWluU2NvcGVUeXBlIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BZG1pblNjb3BlVHlwZSdcbmltcG9ydCB7IEFkbWluU2NvcGUgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0FkbWluU2NvcGUnXG5leHBvcnQgY29uc3QgU0NPUEVfUEFHRV9MSU1JVCA9IDEwMFxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgc2NvcGU6IHtcbiAgICBzY29wZTogW10gYXMgQXJyYXk8QWRtaW5TY29wZT4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogU0NPUEVfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgc2NvcGVUeXBlOiB7XG4gICAgc2NvcGVUeXBlOiBbXSBhcyBBcnJheTxBZG1pblNjb3BlVHlwZT4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogU0NPUEVfUEFHRV9MSU1JVCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgfSxcbiAgZmV0Y2hpbmc6IGZhbHNlXG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5TY29wZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBTY29wZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzY29wZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3Qgc2NvcGVSZWNlcHRvciA9IChhY3Rpb246IFNjb3BlQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHQ6IGFueVxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NDT1BFX0ZFVENISU5HJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBmZXRjaGluZzogdHJ1ZSB9KVxuICAgICAgY2FzZSAnU0NPUEVfQURNSU5fUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFkbWluU2NvcGVSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMuc2NvcGUubWVyZ2Uoe1xuICAgICAgICAgIHNjb3BlOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBza2lwOiByZXN1bHQuc2tpcCxcbiAgICAgICAgICBsaW1pdDogcmVzdWx0LmxpbWl0LFxuICAgICAgICAgIHRvdGFsOiByZXN1bHQudG90YWwsXG4gICAgICAgICAgcmV0cmlldmluZzogZmFsc2UsXG4gICAgICAgICAgZmV0Y2hlZDogdHJ1ZSxcbiAgICAgICAgICB1cGRhdGVOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhc3RGZXRjaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBRERfU0NPUEUnOlxuICAgICAgICByZXR1cm4gcy5zY29wZS5tZXJnZSh7IHVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnVVBEQVRFX1NDT1BFJzpcbiAgICAgICAgcmV0dXJuIHMuc2NvcGUubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcblxuICAgICAgY2FzZSAnUkVNT1ZFX1NDT1BFJzpcbiAgICAgICAgcmV0dXJuIHMuc2NvcGUubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUgfSlcbiAgICAgIGNhc2UgJ1NDT1BFX1RZUEVfUkVUUklFVkVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFkbWluU2NvcFR5cGVSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMuc2NvcGVUeXBlLm1lcmdlKHtcbiAgICAgICAgICBzY29wZVR5cGU6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHNraXA6IHJlc3VsdC5za2lwLFxuICAgICAgICAgIGxpbWl0OiByZXN1bHQubGltaXQsXG4gICAgICAgICAgdG90YWw6IHJlc3VsdC50b3RhbCxcbiAgICAgICAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgbGFzdEZldGNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2NvcGVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlU2NvcGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBTZXR0aW5nQW5hbHl0aWNzQWN0aW9uVHlwZSB9IGZyb20gJy4vU2V0dGluZ0FuYWx5dGljc0FjdGlvbnMnXG5pbXBvcnQgeyBTZXR0aW5nQW5hbHl0aWNzIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9TZXR0aW5nQW5hbHl0aWNzJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgQW5hbHl0aWNzOiB7XG4gICAgYW5hbHl0aWNzOiBbXSBhcyBBcnJheTxTZXR0aW5nQW5hbHl0aWNzPixcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdBbmFseXRpY3NSZWR1Y2VyID0gKF8sIGFjdGlvbjogU2V0dGluZ0FuYWx5dGljc0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzZXR0aW5nQW5hbHl0aWNzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBzZXR0aW5nQW5hbHl0aWNzUmVjZXB0b3IgPSAoYWN0aW9uOiBTZXR0aW5nQW5hbHl0aWNzQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCByZXN1bHRcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTRVRUSU5HX0FOQUxZSVNfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5zZXR0aW5nQW5hbHl0aWNzUmVzdWx0XG4gICAgICAgIHJldHVybiBzLkFuYWx5dGljcy5tZXJnZSh7IGFuYWx5dGljczogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2V0dGluZ0FuYWx5dGljc1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VTZXR0aW5nQW5hbHl0aWNzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgU2VydmVyU2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL1NlcnZlclNldHRpbmdBY3Rpb25zJ1xuaW1wb3J0IHsgU2VydmVyU2V0dGluZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvU2VydmVyU2V0dGluZydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIFNlcnZlcjoge1xuICAgIHNlcnZlcjogW10gYXMgQXJyYXk8U2VydmVyU2V0dGluZz4sXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBzZXJ2ZXJTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IFNlcnZlclNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gc2VydmVyU2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3Qgc2VydmVyU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogU2VydmVyU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnU0VUVElOR19TRVJWRVJfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5zZXJ2ZXJTZXR0aW5nUmVzdWx0XG4gICAgICAgIHJldHVybiBzLlNlcnZlci5tZXJnZSh7IHNlcnZlcjogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzU2VydmVyU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgQ2xpZW50U2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL0NsaWVudFNldHRpbmdBY3Rpb25zJ1xuaW1wb3J0IHsgQ2xpZW50U2V0dGluZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQ2xpZW50U2V0dGluZydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIENsaWVudDoge1xuICAgIGNsaWVudDogW10gYXMgQXJyYXk8Q2xpZW50U2V0dGluZz4sXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBjbGllbnRTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IENsaWVudFNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gY2xpZW50U2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgY2xpZW50U2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQ2xpZW50U2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQ0xJRU5UX1NFVFRJTkdfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5jbGllbnRTZXR0aW5nUmVzdWx0XG4gICAgICAgIHJldHVybiBzLkNsaWVudC5tZXJnZSh7IGNsaWVudDogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQ2xpZW50U2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VDbGllbnRTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgR2FtZVNlcnZlclNldHRpbmdBY3Rpb25UeXBlIH0gZnJvbSAnLi9HYW1lU2VydmVyU2V0dGluZ0FjdGlvbnMnXG5pbXBvcnQgeyBHYW1lU2VydmVyU2V0dGluZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvR2FtZVNlcnZlclNldHRpbmcnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBnYW1lU2VydmVyOiB7XG4gICAgZ2FtZXNlcnZlcjogW10gYXMgQXJyYXk8R2FtZVNlcnZlclNldHRpbmc+LFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgZ2FtZVNlcnZlclNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogR2FtZVNlcnZlclNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZ2FtZVNlcnZlclNldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGdhbWVTZXJ2ZXJTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBHYW1lU2VydmVyU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnR0FNRV9TRVJWRVJfU0VUVElOR19ESVNQTEFZJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmdhbWVTZXJ2ZXJTZXR0aW5nUmVzdWx0XG4gICAgICAgIHJldHVybiBzLmdhbWVTZXJ2ZXIubWVyZ2UoeyBnYW1lc2VydmVyOiByZXN1bHQuZGF0YSwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NHYW1lU2VydmVyU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VHYW1lU2VydmVyU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEVtYWlsU2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL0VtYWlsU2V0dGluZ0FjdGlvbnMnXG5pbXBvcnQgeyBFbWFpbFNldHRpbmcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0VtYWlsU2V0dGluZydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIEVtYWlsOiB7XG4gICAgZW1haWw6IFtdIGFzIEFycmF5PEVtYWlsU2V0dGluZz4sXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBlbWFpbFNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogRW1haWxTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGVtYWlsU2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZW1haWxTZXR0aW5nUmVjZXB0b3IgPSAoYWN0aW9uOiBFbWFpbFNldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0VNQUlMX1NFVFRJTkdfRElTUExBWSc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5lbWFpbFNldHRpbmdSZXN1bHRcbiAgICAgICAgcmV0dXJuIHMuRW1haWwubWVyZ2UoeyBlbWFpbDogcmVzdWx0LmRhdGEsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzRW1haWxTZXR0aW5nU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUVtYWlsU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IENoYXJnZWJlZVNldHRpbmdBY3Rpb25UeXBlIH0gZnJvbSAnLi9DaGFyZ2ViZWVTZXR0aW5nQWN0aW9ucydcbmltcG9ydCB7IENoYXJnZWJlZVNldHRpbmcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NoYXJnZWJlZVNldHRpbmcnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBDaGFyZ2ViZWU6IHtcbiAgICBjaGFyZ2ViZWU6IFtdIGFzIEFycmF5PENoYXJnZWJlZVNldHRpbmc+LFxuICAgIHVwZGF0ZU5lZWRlZDogdHJ1ZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgY2hhcmdlYmVlU2V0dGluZ1JlZHVjZXIgPSAoXywgYWN0aW9uOiBDaGFyZ2ViZWVTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGNoYXJnZWJlZVNldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGNoYXJnZWJlZVNldHRpbmdSZWNlcHRvciA9IChhY3Rpb246IENoYXJnZWJlZVNldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0NIQVJHRUJFRV9TRVRUSU5HX0RJU1BMQVknOlxuICAgICAgICByZXN1bHQgPSBhY3Rpb24uY2hhcmdlYmVlU2V0dGluZ1Jlc3VsdFxuICAgICAgICByZXR1cm4gcy5DaGFyZ2ViZWUubWVyZ2UoeyBjaGFyZ2ViZWU6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0NoYXJnZWJlZVNldHRpbmdTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQ2hhcmdlYmVlU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEF1dGhTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vQXV0aFNldHRpbmdBY3Rpb25zJ1xuaW1wb3J0IHsgQWRtaW5BdXRoU2V0dGluZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQWRtaW5BdXRoU2V0dGluZydcbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBhdXRoU2V0dGluZ3M6IHtcbiAgICBhdXRoU2V0dGluZ3M6IFtdIGFzIEFycmF5PEFkbWluQXV0aFNldHRpbmc+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMCxcbiAgICB0b3RhbDogMCxcbiAgICByZXRyaWV2aW5nOiBmYWxzZSxcbiAgICBmZXRjaGVkOiBmYWxzZSxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluQXV0aFNldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXV0aFNldHRpbmdBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYWRtaW5BdXRoU2V0dGluZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgYWRtaW5BdXRoU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQXV0aFNldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG5cbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdBRE1JTl9BVVRIX1NFVFRJTkdfRkVUQ0hFRCc6XG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5hZG1pblJlZGlzU2V0dGluZ1Jlc3VsdFxuICAgICAgICByZXR1cm4gcy5hdXRoU2V0dGluZ3MubWVyZ2Uoe1xuICAgICAgICAgIGF1dGhTZXR0aW5nczogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc2tpcDogcmVzdWx0LnNraXAsXG4gICAgICAgICAgbGltaXQ6IHJlc3VsdC5saW1pdCxcbiAgICAgICAgICB0b3RhbDogcmVzdWx0LnRvdGFsLFxuICAgICAgICAgIHVwZGF0ZU5lZWRlZDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0FETUlOX0FVVEhfU0VUVElOR19QQVRDSEVEJzpcbiAgICAgICAgcmV0dXJuIHMuYXV0aFNldHRpbmdzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQWRtaW5BdXRoU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBZG1pbkF1dGhTZXR0aW5nU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuXG5pbXBvcnQgeyBBd3NTZXR0aW5nQWN0aW9uVHlwZSB9IGZyb20gJy4vQXdzU2V0dGluZ0FjdGlvbnMnXG5cbmltcG9ydCB7IEFkbWluQXdzU2V0dGluZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQWRtaW5Bd3NTZXR0aW5nJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgYXdzU2V0dGluZ3M6IHtcbiAgICBhd3NTZXR0aW5nczogW10gYXMgQXJyYXk8QWRtaW5Bd3NTZXR0aW5nPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDAsXG4gICAgdG90YWw6IDAsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pbkF3c1NldHRpbmdSZWR1Y2VyID0gKF8sIGFjdGlvbjogQXdzU2V0dGluZ0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBhZG1pbkF3c1NldHRpbmdSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGFkbWluQXdzU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQXdzU2V0dGluZ0FjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgcmVzdWx0OiBhbnlcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdBRE1JTl9BV1NfU0VUVElOR19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFkbWluUmVkaXNTZXR0aW5nUmVzdWx0XG4gICAgICAgIHJldHVybiBzLmF3c1NldHRpbmdzLm1lcmdlKHsgYXdzU2V0dGluZ3M6IHJlc3VsdC5kYXRhLCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0FkbWluQXdzU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBZG1pbkF3c1NldHRpbmdTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBBZG1pblJlZGlzU2V0dGluZ0FjdGlvblR5cGUgfSBmcm9tICcuL0FkbWluUmVkaXNTZXR0aW5nQWN0aW9ucydcbmltcG9ydCB7IEFkbWluUmVkaXNTZXR0aW5nIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9BZG1pblJlZGlzU2V0dGluZydcbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICByZWRpc1NldHRpbmdzOiB7XG4gICAgcmVkaXNTZXR0aW5nczogW10gYXMgQXJyYXk8QWRtaW5SZWRpc1NldHRpbmc+LFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMCxcbiAgICB0b3RhbDogMCxcbiAgICB1cGRhdGVOZWVkZWQ6IHRydWVcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVkaXNTZXR0aW5nUmVkdWNlciA9IChfLCBhY3Rpb246IEFkbWluUmVkaXNTZXR0aW5nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGFkbWluUmVkaXNTZXR0aW5nUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBhZG1pblJlZGlzU2V0dGluZ1JlY2VwdG9yID0gKGFjdGlvbjogQWRtaW5SZWRpc1NldHRpbmdBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IHJlc3VsdDogYW55XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQURNSU5fUkVESVNfU0VUVElOR19GRVRDSEVEJzpcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmFkbWluUmVkaXNTZXR0aW5nUmVzdWx0XG4gICAgICAgIHJldHVybiBzLnJlZGlzU2V0dGluZ3MubWVyZ2UoeyByZWRpc1NldHRpbmdzOiByZXN1bHQuZGF0YSwgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NBZG1pblJlZGlzU2V0dGluZ1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VBZG1pblJlZGlzU2V0dGluZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGFkbWluUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vQWRtaW5TdGF0ZSdcbmltcG9ydCB7IGFkbWluVXNlclJlZHVjZXIgfSBmcm9tICcuL2FkbWluL3VzZXIvVXNlclN0YXRlJ1xuaW1wb3J0IHsgY29udGVudFBhY2tSZWR1Y2VyIH0gZnJvbSAnLi9jb250ZW50UGFjay9Db250ZW50UGFja1N0YXRlJ1xuaW1wb3J0IHsgYWRtaW5BdmF0YXJSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9hdmF0YXIvQXZhdGFyU3RhdGUnXG5pbXBvcnQgeyBhZG1pbkluc3RhbmNlUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vaW5zdGFuY2UvSW5zdGFuY2VTdGF0ZSdcbmltcG9ydCB7IGFkbWluTG9jYXRpb25SZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9sb2NhdGlvbi9Mb2NhdGlvblN0YXRlJ1xuaW1wb3J0IHsgYWRtaW5QYXJ0eVJlZHVjZXIgfSBmcm9tICcuL2FkbWluL3BhcnR5L1BhcnR5U3RhdGUnXG5pbXBvcnQgeyBhZG1pblNjZW5lUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vc2NlbmUvU2NlbmVTdGF0ZSdcbmltcG9ydCB7IGFkbWluQm90c1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL2JvdHMvQm90c1N0YXRlJ1xuaW1wb3J0IHsgQWRtaW5BbmFseXRpY3NSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9hbmFseXRpY3MvQW5hbHl0aWNzU3RhdGUnXG5pbXBvcnQgeyBhZG1pblJlYWxpdHlQYWNrUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vcmVhbGl0eS1wYWNrL1JlYWxpdHlQYWNrU3RhdGUnXG5pbXBvcnQgeyBhck1lZGlhUmVkdWNlciB9IGZyb20gJy4uLy4uL3NvY2lhbC9yZWR1Y2Vycy9hck1lZGlhL0FyTWVkaWFTdGF0ZSdcbmltcG9ydCB7IGZlZWRSZWR1Y2VyIH0gZnJvbSAnLi4vLi4vc29jaWFsL3JlZHVjZXJzL2ZlZWQvRmVlZFN0YXRlJ1xuaW1wb3J0IHsgY3JlYXRvclJlZHVjZXIgfSBmcm9tICcuLi8uLi9zb2NpYWwvcmVkdWNlcnMvY3JlYXRvci9DcmVhdG9yU3RhdGUnXG5pbXBvcnQgeyBhZG1pbkdyb3VwUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vZ3JvdXAvR3JvdXBTdGF0ZSdcbmltcG9ydCB7IGFkbWluU2NvcGVSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9zY29wZS9TY29wZVN0YXRlJ1xuaW1wb3J0IHsgc2V0dGluZ0FuYWx5dGljc1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvYW5hbHl0aWNzL1NldHRpbmdBbmFseXRpY3NTdGF0ZSdcbmltcG9ydCB7IHNlcnZlclNldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL3NlcnZlci9TZXJ2ZXJTZXR0aW5nU3RhdGUnXG5pbXBvcnQgeyBjbGllbnRTZXR0aW5nUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vU2V0dGluZy9jbGllbnQvQ2xpZW50U2V0dGluZ1N0YXRlJ1xuaW1wb3J0IHsgZ2FtZVNlcnZlclNldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL2dhbWUtc2VydmVyL0dhbWVTZXJ2ZXJTZXR0aW5nU3RhdGUnXG5pbXBvcnQgeyBlbWFpbFNldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL2VtYWlsL0VtYWlsU2V0dGluZ1N0YXRlJ1xuaW1wb3J0IHsgY2hhcmdlYmVlU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvY2hhcmdlYmVlL0NoYXJnZWJlZVNldHRpbmdTdGF0ZSdcbmltcG9ydCB7IGFkbWluQXV0aFNldHRpbmdSZWR1Y2VyIH0gZnJvbSAnLi9hZG1pbi9TZXR0aW5nL2F1dGhlbnRpY2F0aW9uLXNldHRpbmcvQXV0aFNldHRpbmdTdGF0ZSdcbmltcG9ydCB7IGFkbWluQXdzU2V0dGluZ1JlZHVjZXIgfSBmcm9tICcuL2FkbWluL1NldHRpbmcvYXdzL0F3c1NldHRpbmdTdGF0ZSdcbmltcG9ydCB7IGFkbWluUmVkaXNTZXR0aW5nUmVkdWNlciB9IGZyb20gJy4vYWRtaW4vU2V0dGluZy9yZWRpcy9BZG1pblJlZGlzU2V0dGluZ1N0YXRlJ1xuLyoqXG4gKiBUT0RPOiBJIGFtIG1vdmluZyBhZG1pbiByZWR1Y2VyIHRvIGRpZmZlcmVudCBwYWNrYWdlc1xuICpcbiAqIEBhdXRob3IgS0lNRU5ZSSBLRVZJTiA8a2ltZW55aWtldmluQGdtYWlsLmNvbT5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFkbWluVXNlcjogYWRtaW5Vc2VyUmVkdWNlcixcbiAgYWRtaW46IGFkbWluUmVkdWNlcixcbiAgY29udGVudFBhY2s6IGNvbnRlbnRQYWNrUmVkdWNlcixcbiAgYWRtaW5BdmF0YXI6IGFkbWluQXZhdGFyUmVkdWNlcixcbiAgYWRtaW5JbnN0YW5jZTogYWRtaW5JbnN0YW5jZVJlZHVjZXIsXG4gIGFkbWluTG9jYXRpb246IGFkbWluTG9jYXRpb25SZWR1Y2VyLFxuICBhZG1pblBhcnR5OiBhZG1pblBhcnR5UmVkdWNlcixcbiAgYWRtaW5SZWFsaXR5UGFjazogYWRtaW5SZWFsaXR5UGFja1JlZHVjZXIsXG4gIGFkbWluU2NlbmU6IGFkbWluU2NlbmVSZWR1Y2VyLFxuICBhZG1pbkJvdHM6IGFkbWluQm90c1JlZHVjZXIsXG4gIGFkbWluQW5hbHl0aWNzOiBBZG1pbkFuYWx5dGljc1JlZHVjZXIsXG4gIGFyTWVkaWE6IGFyTWVkaWFSZWR1Y2VyLFxuICBmZWVkc0FkbWluOiBmZWVkUmVkdWNlcixcbiAgYWRtaW5DcmVhdG9yOiBjcmVhdG9yUmVkdWNlcixcbiAgZ3JvdXA6IGFkbWluR3JvdXBSZWR1Y2VyLFxuICBzY29wZTogYWRtaW5TY29wZVJlZHVjZXIsXG4gIHNldHRpbmdBbmFseXRpY3M6IHNldHRpbmdBbmFseXRpY3NSZWR1Y2VyLFxuICBzZXJ2ZXJTZXR0aW5nczogc2VydmVyU2V0dGluZ1JlZHVjZXIsXG4gIGNsaWVudFNldHRpbmdzOiBjbGllbnRTZXR0aW5nUmVkdWNlcixcbiAgZ2FtZVNlcnZlcjogZ2FtZVNlcnZlclNldHRpbmdSZWR1Y2VyLFxuICBlbWFpbDogZW1haWxTZXR0aW5nUmVkdWNlcixcbiAgYWRtaW5BdXRoU2V0dGluZzogYWRtaW5BdXRoU2V0dGluZ1JlZHVjZXIsXG4gIGFkbWluQXdzU2V0dGluZzogYWRtaW5Bd3NTZXR0aW5nUmVkdWNlcixcbiAgYWRtaW5DaGFyZ2VCZWVTZXR0aW5nOiBjaGFyZ2ViZWVTZXR0aW5nUmVkdWNlcixcbiAgYWRtaW5SZWRpc1NldHRpbmc6IGFkbWluUmVkaXNTZXR0aW5nUmVkdWNlclxufVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgQWxlcnRBY3Rpb25UeXBlIH0gZnJvbSAnLi9BbGVydEFjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICB0eXBlOiAnbm9uZScsXG4gIG1lc3NhZ2U6ICcnXG59KVxuXG5leHBvcnQgY29uc3QgQWxlcnRSZWR1Y2VyID0gKF8sIGFjdGlvbjogQWxlcnRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYWxlcnRSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGFsZXJ0UmVjZXB0b3IgPSAoYWN0aW9uOiBBbGVydEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NIT1dfTk9USUZJQ0FUSU9OJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB0eXBlOiBhY3Rpb24uYWxlcnRUeXBlLCBtZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSB9KVxuICAgICAgY2FzZSAnSElERV9OT1RJRklDQVRJT04nOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHR5cGU6IGFjdGlvbi5hbGVydFR5cGUsIG1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlIH0pXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfSwgYWN0aW9uLmFsZXJ0VHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFsZXJ0U3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUFsZXJ0U3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiZXhwb3J0IGVudW0gR2VuZXJhbFN0YXRlTGlzdCB7XG4gIFNUQVJUX1NUQVRFLFxuICBBV0FJVElOR19JTlBVVCxcbiAgU0NFTkVfTE9BRElORyxcbiAgU0NFTkVfTE9BREVELFxuICBTVUNDRVNTLFxuICBGQUlMRUQsXG4gIEFMTF9ET05FXG59XG5cbmV4cG9ydCBjb25zdCBBcHBBY3Rpb24gPSB7XG4gIC8vIHVzZWQgZm9yIGRpc3BsYXlpbmcgbG9hZGluZyBzY3JlZW5cbiAgc2V0QXBwTG9hZGVkOiAobG9hZGVkOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdTRVRfQVBQX0xPQURFRCcgYXMgY29uc3QsXG4gICAgICBsb2FkZWRcbiAgICB9XG4gIH0sXG4gIHNldEFwcExvYWRQZXJjZW50OiAobG9hZFBlcmNlbnQ6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnU0VUX0FQUF9MT0FESU5HX1BFUkNFTlQnIGFzIGNvbnN0LFxuICAgICAgbG9hZFBlcmNlbnRcbiAgICB9XG4gIH0sXG4gIC8vb25ib2FyZGluZyBwcm9ncmVzc1xuICBzZXRBcHBPbkJvYXJkaW5nU3RlcDogKG9uQm9hcmRpbmdTdGVwOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9BUFBfT05CT0FSRElOR19TVEVQJyBhcyBjb25zdCxcbiAgICAgIG9uQm9hcmRpbmdTdGVwXG4gICAgfVxuICB9LFxuICAvL3Jlc3RhcnQgdHV0b3JpYWwgd2Fsa3Rocm91Z2h0XG4gIHNldEFwcFNwZWNpZmljT25Cb2FyZGluZ1N0ZXA6IChvbkJvYXJkaW5nU3RlcDogbnVtYmVyLCBpc1R1dG9yaWFsOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdTRVRfQVBQX1NQRUNJRklDX09OQk9BUkRJTkdfU1RFUCcgYXMgY29uc3QsXG4gICAgICBvbkJvYXJkaW5nU3RlcCxcbiAgICAgIGlzVHV0b3JpYWxcbiAgICB9XG4gIH0sXG4gIC8vIHVzZWQgZm9yIGdldHRpbmcgd2luZG93LmlubmVyV2lkdGggYW5kIGhlaWdodC5cbiAgc2V0Vmlld3BvcnRTaXplOiAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9WSUVXUE9SVF9TSVpFJyBhcyBjb25zdCxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfVxuICB9LFxuICBzZXRBcHBJblZyTW9kZTogKGluVnJNb2RlOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdTRVRfSU5fVlJfTU9ERScgYXMgY29uc3QsXG4gICAgICBpblZyTW9kZVxuICAgIH1cbiAgfSxcbiAgc2V0VXNlckhhc0ludGVyYWN0ZWQ6ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NFVF9VU0VSX0hBU19JTlRFUkFDVEVEJyBhcyBjb25zdFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBcHBBY3Rpb25UeXBlID0gUmV0dXJuVHlwZTx0eXBlb2YgQXBwQWN0aW9uW2tleW9mIHR5cGVvZiBBcHBBY3Rpb25dPlxuIiwiaW1wb3J0IHsgR2VuZXJhbFN0YXRlTGlzdCwgQXBwQWN0aW9uVHlwZSB9IGZyb20gJy4vQXBwQWN0aW9ucydcbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcblxuLypcbnR5cGUgQXBwU3RhdGUgPSB7XG4gIGxvYWRlZDogYm9vbGVhblxuICBpblZyTW9kZTogYm9vbGVhblxuICB2aWV3cG9ydDoge1xuICAgIHdpZHRoOiBudW1iZXJcbiAgICBoZWlnaHQ6IG51bWJlclxuICB9XG4gIG9uQm9hcmRpbmdTdGVwOiBudW1iZXJcbiAgaXNUdXRvcmlhbDogYm9vbGVhbiB8IGZhbHNlXG4gIHVzZXJIYXNJbnRlcmFjdGVkOiBib29sZWFuXG4gIGxvYWRQZXJjZW50OiBudW1iZXJcbn0qL1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgbG9hZGVkOiBmYWxzZSxcbiAgaW5Wck1vZGU6IGZhbHNlLFxuICB2aWV3cG9ydDoge1xuICAgIHdpZHRoOiAxNDAwLFxuICAgIGhlaWdodDogOTAwXG4gIH0sXG4gIG9uQm9hcmRpbmdTdGVwOiBHZW5lcmFsU3RhdGVMaXN0LlNUQVJUX1NUQVRFLFxuICBpc1R1dG9yaWFsOiBmYWxzZSxcbiAgdXNlckhhc0ludGVyYWN0ZWQ6IGZhbHNlLFxuICBsb2FkUGVyY2VudDogMFxufSlcblxuZXhwb3J0IGNvbnN0IEFwcFJlZHVjZXIgPSAoXywgYWN0aW9uOiBBcHBBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gYXBwUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBhcHBSZWNlcHRvciA9IChhY3Rpb246IEFwcEFjdGlvblR5cGUpOiB2b2lkID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTRVRfQVBQX0xPQURFRCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgbG9hZGVkOiBhY3Rpb24ubG9hZGVkIH0pXG4gICAgICBjYXNlICdTRVRfQVBQX0xPQURJTkdfUEVSQ0VOVCc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgbG9hZFBlcmNlbnQ6IGFjdGlvbi5sb2FkUGVyY2VudCB9KVxuICAgICAgY2FzZSAnU0VUX1ZJRVdQT1JUX1NJWkUnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHZpZXdwb3J0OiB7IHdpZHRoOiBhY3Rpb24ud2lkdGgsIGhlaWdodDogYWN0aW9uLmhlaWdodCB9IH0pXG4gICAgICBjYXNlICdTRVRfSU5fVlJfTU9ERSc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaW5Wck1vZGU6IGFjdGlvbi5pblZyTW9kZSB9KVxuICAgICAgY2FzZSAnU0VUX1VTRVJfSEFTX0lOVEVSQUNURUQnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHVzZXJIYXNJbnRlcmFjdGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdTRVRfQVBQX09OQk9BUkRJTkdfU1RFUCc6XG4gICAgICAgIHJldHVybiBhY3Rpb24ub25Cb2FyZGluZ1N0ZXAgPT09IEdlbmVyYWxTdGF0ZUxpc3QuQUxMX0RPTkVcbiAgICAgICAgICA/IHMubWVyZ2Uoe1xuICAgICAgICAgICAgICBvbkJvYXJkaW5nU3RlcDpcbiAgICAgICAgICAgICAgICBhY3Rpb24ub25Cb2FyZGluZ1N0ZXAgPj0gc3RhdGUub25Cb2FyZGluZ1N0ZXAudmFsdWUgPyBhY3Rpb24ub25Cb2FyZGluZ1N0ZXAgOiBzdGF0ZS5vbkJvYXJkaW5nU3RlcC52YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA9PT0gR2VuZXJhbFN0YXRlTGlzdC5TQ0VORV9MT0FERURcbiAgICAgICAgICA/IHMubWVyZ2Uoe1xuICAgICAgICAgICAgICBvbkJvYXJkaW5nU3RlcDpcbiAgICAgICAgICAgICAgICBhY3Rpb24ub25Cb2FyZGluZ1N0ZXAgPj0gc3RhdGUub25Cb2FyZGluZ1N0ZXAudmFsdWVcbiAgICAgICAgICAgICAgICAgID8gYWN0aW9uLm9uQm9hcmRpbmdTdGVwXG4gICAgICAgICAgICAgICAgICA6IHN0YXRlLm9uQm9hcmRpbmdTdGVwLnZhbHVlLFxuICAgICAgICAgICAgICBpc1R1dG9yaWFsOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogcy5tZXJnZSh7XG4gICAgICAgICAgICAgIG9uQm9hcmRpbmdTdGVwOlxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbkJvYXJkaW5nU3RlcCA+PSBzdGF0ZS5vbkJvYXJkaW5nU3RlcC52YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBhY3Rpb24ub25Cb2FyZGluZ1N0ZXBcbiAgICAgICAgICAgICAgICAgIDogc3RhdGUub25Cb2FyZGluZ1N0ZXAudmFsdWUsXG4gICAgICAgICAgICAgIGlzVHV0b3JpYWw6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgY2FzZSAnU0VUX0FQUF9TUEVDSUZJQ19PTkJPQVJESU5HX1NURVAnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IG9uQm9hcmRpbmdTdGVwOiBhY3Rpb24ub25Cb2FyZGluZ1N0ZXAsIGlzVHV0b3JpYWw6IGFjdGlvbi5pc1R1dG9yaWFsIH0pXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhcHBTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlQXBwU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJleHBvcnQgaW50ZXJmYWNlIERpYWxvZyB7XG4gIHRpdGxlPzogc3RyaW5nXG4gIGNoaWxkcmVuPzogYW55XG59XG5cbmV4cG9ydCBjb25zdCBEaWFsb2dTZWVkOiBEaWFsb2cgPSB7XG4gIHRpdGxlOiB1bmRlZmluZWQsXG4gIGNoaWxkcmVuOiB1bmRlZmluZWRcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IERpYWxvZ0FjdGlvblR5cGUgfSBmcm9tICcuL0RpYWxvZ0FjdGlvbnMnXG5pbXBvcnQgeyBEaWFsb2dTZWVkIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9EaWFsb2cnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpc09wZW5lZDogZmFsc2UsXG4gIGNvbnRlbnQ6IERpYWxvZ1NlZWRcbn0pXG5cbmV4cG9ydCBjb25zdCBEaWFsb2dSZWR1Y2VyID0gKF8sIGFjdGlvbjogRGlhbG9nQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGRpYWxvZ1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZGlhbG9nUmVjZXB0b3IgPSAoYWN0aW9uOiBEaWFsb2dBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTSE9XX0RJQUxPRyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgaXNPcGVuZWQ6IHRydWUsIGNvbnRlbnQ6IGFjdGlvbi5jb250ZW50IH0pXG4gICAgICBjYXNlICdDTE9TRV9ESUFMT0cnOlxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGlzT3BlbmVkOiBmYWxzZSwgY29udGVudDogRGlhbG9nU2VlZCB9KVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgZGlhbG9nU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZURpYWxvZ1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IEVycm9yQWN0aW9uVHlwZSB9IGZyb20gJy4vRXJyb3JBY3Rpb25zJ1xuXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICByZWFkRXJyb3I6IHtcbiAgICBzY29wZUVycm9yTWVzc2FnZTogJycsXG4gICAgc3RhdHVzQ29kZTogMFxuICB9LFxuICB3cml0ZUVycm9yOiB7XG4gICAgc2NvcGVFcnJvck1lc3NhZ2U6ICcnLFxuICAgIHN0YXR1c0NvZGU6IDBcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IEVycm9yUmVkdWNlciA9IChfLCBhY3Rpb246IEVycm9yQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGVycm9yUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBlcnJvclJlY2VwdG9yID0gKGFjdGlvbjogRXJyb3JBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTRVRfU0NPUEVfUkVBRF9FUlJPUic6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgcmVhZEVycm9yOiB7IHNjb3BlRXJyb3JNZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSwgc3RhdHVzQ29kZTogYWN0aW9uLnN0YXR1c0NvZGUgfSB9KVxuICAgICAgY2FzZSAnU0VUX1NDT1BFX1dSSVRFX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB3cml0ZUVycm9yOiB7IHNjb3BlRXJyb3JNZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSwgc3RhdHVzQ29kZTogYWN0aW9uLnN0YXR1c0NvZGUgfSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBlcnJvclN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VFcnJvclN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IEFsZXJ0UmVkdWNlciB9IGZyb20gJy4vYWxlcnQvQWxlcnRTdGF0ZSdcbmltcG9ydCB7IEFwcFJlZHVjZXIgfSBmcm9tICcuL2FwcC9BcHBTdGF0ZSdcbmltcG9ydCB7IERpYWxvZ1JlZHVjZXIgfSBmcm9tICcuL2RpYWxvZy9EaWFsb2dTdGF0ZSdcbmltcG9ydCB7IEVycm9yUmVkdWNlciB9IGZyb20gJy4vZXJyb3IvRXJyb3JTdGF0ZSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhcHA6IEFwcFJlZHVjZXIsXG4gIGFsZXJ0OiBBbGVydFJlZHVjZXIsXG4gIGRpYWxvZzogRGlhbG9nUmVkdWNlcixcbiAgc2NvcGVFcnJvcjogRXJyb3JSZWR1Y2VyXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjIxJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbicsXG4gICAgICBJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUID0gJ0ludmFsaWQgYHZhcmlhYmxlYCBvcHRpb24gcGFzc2VkIGludG8gYF8udGVtcGxhdGVgJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG4gIHZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHZhbGlkYXRlIHRoZSBgdmFsaWRhdGVgIG9wdGlvbiBpbiBgXy50ZW1wbGF0ZWAgdmFyaWFibGUuXG4gICAqXG4gICAqIEZvcmJpZHMgY2hhcmFjdGVycyB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjaGFuZ2UgdGhlIG1lYW5pbmcgb2YgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50IGRlZmluaXRpb246XG4gICAqIC0gXCIoKSxcIiAobW9kaWZpY2F0aW9uIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gICAqIC0gXCJbXXt9XCIgKGRlc3RydWN0dXJpbmcgb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIi9cIiAoYmVnaW5uaW5nIG9mIGEgY29tbWVudClcbiAgICogLSB3aGl0ZXNwYWNlXG4gICAqL1xuICB2YXIgcmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMgPSAvWygpPSx7fVxcW1xcXVxcL1xcc10vO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZ1xuICAgICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICAgIDogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gICAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgaWYgKGl0ZXJhdGVlcy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIGlmIChpc0FycmF5KGl0ZXJhdGVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlR2V0KHZhbHVlLCBpdGVyYXRlZS5sZW5ndGggPT09IDEgPyBpdGVyYXRlZVswXSA6IGl0ZXJhdGVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpZGVudGl0eV07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZU1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VTb3J0QnkocmVzdWx0LCBmdW5jdGlvbihvYmplY3QsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnBpY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2sob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiAgYF8ucGlja0J5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICAgICAgdmFsdWUgPSBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgcGF0aCkpIHtcbiAgICAgICAgICBiYXNlU2V0KHJlc3VsdCwgY2FzdFBhdGgocGF0aCwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQWxsQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICAgKiBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgc2VlbiA9IGFycmF5O1xuXG4gICAgICBpZiAoYXJyYXkgPT09IHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogaW5kZXhlcyBvciBjYXB0dXJpbmcgdGhlIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlcyBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGlmIChsZW5ndGggPT0gbGFzdEluZGV4IHx8IGluZGV4ICE9PSBwcmV2aW91cykge1xuICAgICAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuICAgICAgICAgIGlmIChpc0luZGV4KGluZGV4KSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVVuc2V0KGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IHN1cHBvcnQgZm9yIHJldHVybmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlciBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKSB7XG4gICAgICByZXR1cm4gbG93ZXIgKyBuYXRpdmVGbG9vcihuYXRpdmVSYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmdlYCBhbmQgYF8ucmFuZ2VSaWdodGAgd2hpY2ggZG9lc24ndFxuICAgICAqIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChuYXRpdmVDZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSksIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVwZWF0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlcGVhdChzdHJpbmcsIG4pIHtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIGlmICghc3RyaW5nIHx8IG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBMZXZlcmFnZSB0aGUgZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcgYWxnb3JpdGhtIGZvciBhIGZhc3RlciByZXBlYXQuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXhwb25lbnRpYXRpb25fYnlfc3F1YXJpbmcgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG4gJSAyKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBuID0gbmF0aXZlRmxvb3IobiAvIDIpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG4pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYXJyYXlTYW1wbGUodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVTaXplYCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4pIHtcbiAgICAgIHZhciBhcnJheSA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihhcnJheSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgICAgIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nIHx8IGtleSA9PT0gJ2NvbnN0cnVjdG9yJyB8fCBrZXkgPT09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0RGF0YWAgd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0RGF0YSA9ICFtZXRhTWFwID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBkYXRhKSB7XG4gICAgICBtZXRhTWFwLnNldChmdW5jLCBkYXRhKTtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNodWZmbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZih2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogKChlbmQgLSBzdGFydCkgPj4+IDApO1xuICAgICAgc3RhcnQgPj4+PSAwO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29tZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiAhcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhgIHdoaWNoXG4gICAgICogcGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9mIGBhcnJheWAgdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyBsb3cgOiBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT09IHZhbHVlICYmIGhpZ2ggPD0gSEFMRl9NQVhfQVJSQVlfTEVOR1RIKSB7XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBhcnJheVttaWRdO1xuXG4gICAgICAgICAgaWYgKGNvbXB1dGVkICE9PSBudWxsICYmICFpc1N5bWJvbChjb21wdXRlZCkgJiZcbiAgICAgICAgICAgICAgKHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpKSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpZGVudGl0eSwgcmV0SGlnaGVzdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhCeWAgYW5kIGBfLnNvcnRlZExhc3RJbmRleEJ5YFxuICAgICAqIHdoaWNoIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZVxuICAgICAqIHRoZWlyIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChoaWdoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgIHZhciB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIGFyclN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKGFyclN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gYXJyU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IGFycmF5O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIG9ialN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChvYmpTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIG9ialN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBvYmplY3Q7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiIG9yIFwiY29uc3RydWN0b3JcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIENvbWJpbmluZyBzZXZlcmFsIHByZWRpY2F0ZXMgdXNpbmcgYF8ub3ZlckV2ZXJ5YCBvciBgXy5vdmVyU29tZWAuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8ub3ZlclNvbWUoW3sgJ2FnZSc6IDM2IH0sIFsnYWdlJywgNDBdXSkpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiAzMCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgMzBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBiYXNlVHJpbSh2YWx1ZSk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHRvIG5vcm1hbGl6ZSBhbGwga2luZHMgb2Ygd2hpdGVzcGFjZSwgc28gZS5nLiBuZXdsaW5lcyAoYW5kIHVuaWNvZGUgdmVyc2lvbnMgb2YgaXQpIGNhbid0IHNuZWFrIGluXG4gICAgICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1xccy9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIgd2FzIGZvdW5kIGluIGB2YXJpYWJsZWAsIHRvIHByZXZlbnRcbiAgICAgIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICAgICAgZWxzZSBpZiAocmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMudGVzdCh2YXJpYWJsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VUcmltKHN0cmluZyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksIF8ubWF0Y2hlcyh7ICdhJzogNCB9KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCAxKSwgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyRXZlcnkoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIG92ZXJFdmVyeSA9IGNyZWF0ZU92ZXIoYXJyYXlFdmVyeSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbnkqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIG1hdGNoZXNGdW5jID0gXy5vdmVyU29tZShbeyAnYSc6IDEgfSwgeyAnYSc6IDIgfV0pXG4gICAgICogdmFyIG1hdGNoZXNQcm9wZXJ0eUZ1bmMgPSBfLm92ZXJTb21lKFtbJ2EnLCAxXSwgWydhJywgMl1dKVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMjkuMVxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbnZhciBob29rQ2FsbGJhY2s7XG5cbmZ1bmN0aW9uIGhvb2tzKCkge1xuICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbi8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gKFxuICAgICAgICBpbnB1dCAhPSBudWxsICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoID09PSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrO1xuICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJ1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5OiBmYWxzZSxcbiAgICAgICAgdW51c2VkVG9rZW5zOiBbXSxcbiAgICAgICAgdW51c2VkSW5wdXQ6IFtdLFxuICAgICAgICBvdmVyZmxvdzogLTIsXG4gICAgICAgIGNoYXJzTGVmdE92ZXI6IDAsXG4gICAgICAgIG51bGxJbnB1dDogZmFsc2UsXG4gICAgICAgIGludmFsaWRFcmE6IG51bGwsXG4gICAgICAgIGludmFsaWRNb250aDogbnVsbCxcbiAgICAgICAgaW52YWxpZEZvcm1hdDogZmFsc2UsXG4gICAgICAgIHVzZXJJbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgICAgIGlzbzogZmFsc2UsXG4gICAgICAgIHBhcnNlZERhdGVQYXJ0czogW10sXG4gICAgICAgIGVyYTogbnVsbCxcbiAgICAgICAgbWVyaWRpZW06IG51bGwsXG4gICAgICAgIHJmYzI4MjI6IGZhbHNlLFxuICAgICAgICB3ZWVrZGF5TWlzbWF0Y2g6IGZhbHNlLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgbGVuID0gdC5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pLFxuICAgICAgICAgICAgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGlzTm93VmFsaWQgPVxuICAgICAgICAgICAgICAgICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEVyYSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3Mud2Vla2RheU1pc21hdGNoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9XG4gICAgICAgICAgICAgICAgaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcbiAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUludmFsaWQoZmxhZ3MpIHtcbiAgICB2YXIgbSA9IGNyZWF0ZVVUQyhOYU4pO1xuICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuLy8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cbnZhciBtb21lbnRQcm9wZXJ0aWVzID0gKGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXSksXG4gICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bztcbn1cblxuLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbmZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgIC8vIG9iamVjdHMuXG4gICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzTW9tZW50KG9iaikge1xuICAgIHJldHVybiAoXG4gICAgICAgIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbClcbiAgICApO1xufVxuXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIGlmIChcbiAgICAgICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgY29uc29sZS53YXJuXG4gICAgKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBrZXk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcChhcmd1bWVudHNbMF0sIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgbXNnICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcbkFyZ3VtZW50czogJyArXG4gICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcbicgK1xuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoKS5zdGFja1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sIGZuKTtcbn1cblxudmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG4gICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgIH1cbiAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG4gICAgfVxufVxuXG5ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcbmhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICAodHlwZW9mIEZ1bmN0aW9uICE9PSAndW5kZWZpbmVkJyAmJiBpbnB1dCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gc2V0KGNvbmZpZykge1xuICAgIHZhciBwcm9wLCBpO1xuICAgIGZvciAoaSBpbiBjb25maWcpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoY29uZmlnLCBpKSkge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLlxuICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICB0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICh0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLnNvdXJjZSB8fCB0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlKSArXG4gICAgICAgICAgICAnfCcgK1xuICAgICAgICAgICAgL1xcZHsxLDJ9Ly5zb3VyY2VcbiAgICApO1xufVxuXG5mdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksXG4gICAgICAgIHByb3A7XG4gICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGhhc093blByb3AocGFyZW50Q29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheTogJ1tUb2RheSBhdF0gTFQnLFxuICAgIG5leHREYXk6ICdbVG9tb3Jyb3cgYXRdIExUJyxcbiAgICBuZXh0V2VlazogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheTogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICBsYXN0V2VlazogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuICAgIHNhbWVFbHNlOiAnTCcsXG59O1xuXG5mdW5jdGlvbiBjYWxlbmRhcihrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxuZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuICAgIHJldHVybiAoXG4gICAgICAgIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArXG4gICAgICAgIGFic051bWJlclxuICAgICk7XG59XG5cbnZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xOezEsNX18WVlZWVlZfFlZWVlZfFlZWVl8WVl8eXsyLDR9fHlvP3xnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZyxcbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLFxuICAgIGZvcm1hdEZ1bmN0aW9ucyA9IHt9LFxuICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbi8vIHRva2VuOiAgICAnTSdcbi8vIHBhZGRlZDogICBbJ01NJywgMl1cbi8vIG9yZGluYWw6ICAnTW8nXG4vLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cbmZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b2tlbikge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgIH1cbiAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoXG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgIHRva2VuXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xufVxuXG5mdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLFxuICAgICAgICBpLFxuICAgICAgICBsZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gJycsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBpc0Z1bmN0aW9uKGFycmF5W2ldKVxuICAgICAgICAgICAgICAgID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdClcbiAgICAgICAgICAgICAgICA6IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cblxuLy8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG5mdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPVxuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblxuICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG4gICAgdmFyIGkgPSA1O1xuXG4gICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuICAgIH1cblxuICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2VucyxcbiAgICAgICAgICAgIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vuc1xuICAgICAgICApO1xuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaSAtPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbnZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG4gICAgTFRTOiAnaDptbTpzcyBBJyxcbiAgICBMVDogJ2g6bW0gQScsXG4gICAgTDogJ01NL0REL1lZWVknLFxuICAgIExMOiAnTU1NTSBELCBZWVlZJyxcbiAgICBMTEw6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICBMTExMOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQScsXG59O1xuXG5mdW5jdGlvbiBsb25nRGF0ZUZvcm1hdChrZXkpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcbiAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgIH1cblxuICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlclxuICAgICAgICAubWF0Y2goZm9ybWF0dGluZ1Rva2VucylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAodG9rKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdG9rID09PSAnTU1NTScgfHxcbiAgICAgICAgICAgICAgICB0b2sgPT09ICdNTScgfHxcbiAgICAgICAgICAgICAgICB0b2sgPT09ICdERCcgfHxcbiAgICAgICAgICAgICAgICB0b2sgPT09ICdkZGRkJ1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvay5zbGljZSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2s7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCcnKTtcblxuICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xufVxuXG52YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbmZ1bmN0aW9uIGludmFsaWREYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbn1cblxudmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJyxcbiAgICBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbmZ1bmN0aW9uIG9yZGluYWwobnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xufVxuXG52YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICBmdXR1cmU6ICdpbiAlcycsXG4gICAgcGFzdDogJyVzIGFnbycsXG4gICAgczogJ2EgZmV3IHNlY29uZHMnLFxuICAgIHNzOiAnJWQgc2Vjb25kcycsXG4gICAgbTogJ2EgbWludXRlJyxcbiAgICBtbTogJyVkIG1pbnV0ZXMnLFxuICAgIGg6ICdhbiBob3VyJyxcbiAgICBoaDogJyVkIGhvdXJzJyxcbiAgICBkOiAnYSBkYXknLFxuICAgIGRkOiAnJWQgZGF5cycsXG4gICAgdzogJ2Egd2VlaycsXG4gICAgd3c6ICclZCB3ZWVrcycsXG4gICAgTTogJ2EgbW9udGgnLFxuICAgIE1NOiAnJWQgbW9udGhzJyxcbiAgICB5OiAnYSB5ZWFyJyxcbiAgICB5eTogJyVkIHllYXJzJyxcbn07XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZShudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KVxuICAgICAgICA/IG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpXG4gICAgICAgIDogb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIHBhc3RGdXR1cmUoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzKHVuaXQsIHNob3J0aGFuZCkge1xuICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgcHJvcDtcblxuICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xufVxuXG52YXIgcHJpb3JpdGllcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICB2YXIgdW5pdHMgPSBbXSxcbiAgICAgICAgdTtcbiAgICBmb3IgKHUgaW4gdW5pdHNPYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3AodW5pdHNPYmosIHUpKSB7XG4gICAgICAgICAgICB1bml0cy5wdXNoKHsgdW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuaXRzO1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gbWFrZUdldFNldCh1bml0LCBrZWVwVGltZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXQobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKClcbiAgICAgICAgPyBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKVxuICAgICAgICA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdW5pdCA9PT0gJ0Z1bGxZZWFyJyAmJlxuICAgICAgICAgICAgaXNMZWFwWWVhcihtb20ueWVhcigpKSAmJlxuICAgICAgICAgICAgbW9tLm1vbnRoKCkgPT09IDEgJiZcbiAgICAgICAgICAgIG1vbS5kYXRlKCkgPT09IDI5XG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgbW9tLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgZGF5c0luTW9udGgodmFsdWUsIG1vbS5tb250aCgpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gc3RyaW5nR2V0KHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc3RyaW5nU2V0KHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKSxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG52YXIgbWF0Y2gxID0gL1xcZC8sIC8vICAgICAgIDAgLSA5XG4gICAgbWF0Y2gyID0gL1xcZFxcZC8sIC8vICAgICAgMDAgLSA5OVxuICAgIG1hdGNoMyA9IC9cXGR7M30vLCAvLyAgICAgMDAwIC0gOTk5XG4gICAgbWF0Y2g0ID0gL1xcZHs0fS8sIC8vICAgIDAwMDAgLSA5OTk5XG4gICAgbWF0Y2g2ID0gL1srLV0/XFxkezZ9LywgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIG1hdGNoMXRvMiA9IC9cXGRcXGQ/LywgLy8gICAgICAgMCAtIDk5XG4gICAgbWF0Y2gzdG80ID0gL1xcZFxcZFxcZFxcZD8vLCAvLyAgICAgOTk5IC0gOTk5OVxuICAgIG1hdGNoNXRvNiA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LywgLy8gICA5OTk5OSAtIDk5OTk5OVxuICAgIG1hdGNoMXRvMyA9IC9cXGR7MSwzfS8sIC8vICAgICAgIDAgLSA5OTlcbiAgICBtYXRjaDF0bzQgPSAvXFxkezEsNH0vLCAvLyAgICAgICAwIC0gOTk5OVxuICAgIG1hdGNoMXRvNiA9IC9bKy1dP1xcZHsxLDZ9LywgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIG1hdGNoVW5zaWduZWQgPSAvXFxkKy8sIC8vICAgICAgIDAgLSBpbmZcbiAgICBtYXRjaFNpZ25lZCA9IC9bKy1dP1xcZCsvLCAvLyAgICAtaW5mIC0gaW5mXG4gICAgbWF0Y2hPZmZzZXQgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2ksIC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuICAgIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naSwgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbiAgICBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy8sIC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG4gICAgLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4gICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgIG1hdGNoV29yZCA9IC9bMC05XXswLDI1Nn1bJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkYwN1xcdUZGMTAtXFx1RkZFRl17MSwyNTZ9fFtcXHUwNjAwLVxcdTA2RkZcXC9dezEsMjU2fShcXHMqP1tcXHUwNjAwLVxcdTA2RkZdezEsMjU2fSl7MSwyfS9pLFxuICAgIHJlZ2V4ZXM7XG5cbnJlZ2V4ZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUmVnZXhUb2tlbih0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KVxuICAgICAgICA/IHJlZ2V4XG4gICAgICAgIDogZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGVEYXRhKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpc1N0cmljdCAmJiBzdHJpY3RSZWdleCA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgICAgICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpIHtcbiAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVuZXNjYXBlRm9ybWF0KHRva2VuKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG59XG5cbi8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbmZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICByZXR1cm4gcmVnZXhFc2NhcGUoXG4gICAgICAgIHNcbiAgICAgICAgICAgIC5yZXBsYWNlKCdcXFxcJywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgbWF0Y2hlZCxcbiAgICAgICAgICAgICAgICBwMSxcbiAgICAgICAgICAgICAgICBwMixcbiAgICAgICAgICAgICAgICBwMyxcbiAgICAgICAgICAgICAgICBwNFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgICAgICAgICAgfSlcbiAgICApO1xufVxuXG5mdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG5cbnZhciB0b2tlbnMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUGFyc2VUb2tlbih0b2tlbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgaSxcbiAgICAgICAgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbih0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwLFxuICAgIE1PTlRIID0gMSxcbiAgICBEQVRFID0gMixcbiAgICBIT1VSID0gMyxcbiAgICBNSU5VVEUgPSA0LFxuICAgIFNFQ09ORCA9IDUsXG4gICAgTUlMTElTRUNPTkQgPSA2LFxuICAgIFdFRUsgPSA3LFxuICAgIFdFRUtEQVkgPSA4O1xuXG5mdW5jdGlvbiBtb2QobiwgeCkge1xuICAgIHJldHVybiAoKG4gJSB4KSArIHgpICUgeDtcbn1cblxudmFyIGluZGV4T2Y7XG5cbmlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbn0gZWxzZSB7XG4gICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIC8vIEkga25vd1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgaWYgKGlzTmFOKHllYXIpIHx8IGlzTmFOKG1vbnRoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICB2YXIgbW9kTW9udGggPSBtb2QobW9udGgsIDEyKTtcbiAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgIHJldHVybiBtb2RNb250aCA9PT0gMVxuICAgICAgICA/IGlzTGVhcFllYXIoeWVhcilcbiAgICAgICAgICAgID8gMjlcbiAgICAgICAgICAgIDogMjhcbiAgICAgICAgOiAzMSAtICgobW9kTW9udGggJSA3KSAlIDIpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ00nLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignTU0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoXG4gICAgICAgICdfJ1xuICAgICksXG4gICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdChcbiAgICAgICAgJ18nXG4gICAgKSxcbiAgICBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vLFxuICAgIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcblxuZnVuY3Rpb24gbG9jYWxlTW9udGhzKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpXG4gICAgICAgICAgICA/IHRoaXMuX21vbnRoc1xuICAgICAgICAgICAgOiB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKVxuICAgICAgICA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldXG4gICAgICAgIDogdGhpcy5fbW9udGhzW1xuICAgICAgICAgICAgICAodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KVxuICAgICAgICAgICAgICAgICAgPyAnZm9ybWF0J1xuICAgICAgICAgICAgICAgICAgOiAnc3RhbmRhbG9uZSdcbiAgICAgICAgICBdW20ubW9udGgoKV07XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1Nob3J0KG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydClcbiAgICAgICAgICAgID8gdGhpcy5fbW9udGhzU2hvcnRcbiAgICAgICAgICAgIDogdGhpcy5fbW9udGhzU2hvcnRbJ3N0YW5kYWxvbmUnXTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpXG4gICAgICAgID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXVxuICAgICAgICA6IHRoaXMuX21vbnRoc1Nob3J0W1xuICAgICAgICAgICAgICBNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXG4gICAgICAgICAgXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksXG4gICAgICAgIGlpLFxuICAgICAgICBtb20sXG4gICAgICAgIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChcbiAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJyxcbiAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsXG4gICAgICAgICAgICAgICAgJ2knXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTU0nICYmXG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTScgJiZcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHNldE1vbnRoKG1vbSwgdmFsdWUpIHtcbiAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgcmV0dXJuIG1vbTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0TW9udGgodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoKCkge1xuICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbn1cblxuZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICA/IHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXhcbiAgICAgICAgICAgIDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1JlZ2V4KGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3RcbiAgICAgICAgICAgID8gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXhcbiAgICAgICAgICAgIDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sXG4gICAgICAgIGxvbmdQaWVjZXMgPSBbXSxcbiAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSxcbiAgICAgICAgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICdpJ1xuICAgICk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICdpJ1xuICAgICk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICByZXR1cm4geSA8PSA5OTk5ID8gemVyb0ZpbGwoeSwgNCkgOiAnKycgKyB5O1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnllYXIoKSAlIDEwMDtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCA0XSwgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCA1XSwgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVlZJywgNiwgdHJ1ZV0sIDAsICd5ZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd5ZWFyJywgJ3knKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdZJywgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignWVknLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdZWVlZJywgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5hZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbmFkZFBhcnNlVG9rZW4oWydZWVlZWScsICdZWVlZWVknXSwgWUVBUik7XG5hZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID1cbiAgICAgICAgaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG5mdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcbn1cblxuLy8gSE9PS1NcblxuaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xufTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbmZ1bmN0aW9uIGdldElzTGVhcFllYXIoKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE4MTM0OFxuICAgIHZhciBkYXRlO1xuICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICBkYXRlID0gbmV3IERhdGUoeSArIDQwMCwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICBpZiAoaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUoeSkge1xuICAgIHZhciBkYXRlLCBhcmdzO1xuICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgIGFyZ3NbMF0gPSB5ICsgNDAwO1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICBpZiAoaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuICAgICAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbmZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbn1cblxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcbiAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgIHJlc1llYXIsXG4gICAgICAgIHJlc0RheU9mWWVhcjtcblxuICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG4gICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlayxcbiAgICAgICAgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtzSW5ZZWFyKHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgIHJldHVybiAoZGF5c0luWWVhcih5ZWFyKSAtIHdlZWtPZmZzZXQgKyB3ZWVrT2Zmc2V0TmV4dCkgLyA3O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrJywgNSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCd3JywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKFxuICAgIGlucHV0LFxuICAgIHdlZWssXG4gICAgY29uZmlnLFxuICAgIHRva2VuXG4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWsobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3c6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuICAgIGRveTogNiwgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxufTtcblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhcigpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2VlayhpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWsoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ2RkZCcsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGRkJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcbmZ1bmN0aW9uIHNoaWZ0V2Vla2RheXMod3MsIG4pIHtcbiAgICByZXR1cm4gd3Muc2xpY2UobiwgNykuY29uY2F0KHdzLnNsaWNlKDAsIG4pKTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoXG4gICAgICAgICdfJ1xuICAgICksXG4gICAgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpLFxuICAgIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKSxcbiAgICBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZCxcbiAgICBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgIGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4ID0gbWF0Y2hXb3JkO1xuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyhtLCBmb3JtYXQpIHtcbiAgICB2YXIgd2Vla2RheXMgPSBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKVxuICAgICAgICA/IHRoaXMuX3dlZWtkYXlzXG4gICAgICAgIDogdGhpcy5fd2Vla2RheXNbXG4gICAgICAgICAgICAgIG0gJiYgbSAhPT0gdHJ1ZSAmJiB0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdClcbiAgICAgICAgICAgICAgICAgID8gJ2Zvcm1hdCdcbiAgICAgICAgICAgICAgICAgIDogJ3N0YW5kYWxvbmUnXG4gICAgICAgICAgXTtcbiAgICByZXR1cm4gbSA9PT0gdHJ1ZVxuICAgICAgICA/IHNoaWZ0V2Vla2RheXMod2Vla2RheXMsIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICA6IG1cbiAgICAgICAgPyB3ZWVrZGF5c1ttLmRheSgpXVxuICAgICAgICA6IHdlZWtkYXlzO1xufVxuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0KG0pIHtcbiAgICByZXR1cm4gbSA9PT0gdHJ1ZVxuICAgICAgICA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgIDogbVxuICAgICAgICA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV1cbiAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbihtKSB7XG4gICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgPyBzaGlmdFdlZWtkYXlzKHRoaXMuX3dlZWtkYXlzTWluLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgOiBtXG4gICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV1cbiAgICAgICAgOiB0aGlzLl93ZWVrZGF5c01pbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgaWksXG4gICAgICAgIG1vbSxcbiAgICAgICAgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKFxuICAgICAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgICAgICAnJ1xuICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KFxuICAgICAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgICAgICAnJ1xuICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2Uod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJyxcbiAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLFxuICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJyxcbiAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgJ14nICtcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtkYXlzKG1vbSwgJycpICtcbiAgICAgICAgICAgICAgICAnfF4nICtcbiAgICAgICAgICAgICAgICB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgK1xuICAgICAgICAgICAgICAgICd8XicgK1xuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgZm9ybWF0ID09PSAnZGRkZCcgJiZcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgIGZvcm1hdCA9PT0gJ2RkZCcgJiZcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICBmb3JtYXQgPT09ICdkZCcgJiZcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mV2VlayhpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRheTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayhpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuXG4gICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2Vla2RheXNSZWdleChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICA/IHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXhcbiAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICA/IHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleFxuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3RcbiAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleFxuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIG1pblBpZWNlcyA9IFtdLFxuICAgICAgICBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICBsb25nUGllY2VzID0gW10sXG4gICAgICAgIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksXG4gICAgICAgIG1vbSxcbiAgICAgICAgbWlucCxcbiAgICAgICAgc2hvcnRwLFxuICAgICAgICBsb25ncDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIG1pbnAgPSByZWdleEVzY2FwZSh0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpKTtcbiAgICAgICAgc2hvcnRwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ3AgPSByZWdleEVzY2FwZSh0aGlzLndlZWtkYXlzKG1vbSwgJycpKTtcbiAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblxuICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICdpJ1xuICAgICk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJyxcbiAgICAgICAgJ2knXG4gICAgKTtcbiAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICdpJ1xuICAgICk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG59XG5cbmZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5hZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5hZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgJycgK1xuICAgICAgICBoRm9ybWF0LmFwcGx5KHRoaXMpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpXG4gICAgKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgJycgK1xuICAgICAgICB0aGlzLmhvdXJzKCkgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMilcbiAgICApO1xufSk7XG5cbmZ1bmN0aW9uIG1lcmlkaWVtKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0oXG4gICAgICAgICAgICB0aGlzLmhvdXJzKCksXG4gICAgICAgICAgICB0aGlzLm1pbnV0ZXMoKSxcbiAgICAgICAgICAgIGxvd2VyY2FzZVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5tZXJpZGllbSgnYScsIHRydWUpO1xubWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnaG91cicsIDEzKTtcblxuLy8gUEFSU0lOR1xuXG5mdW5jdGlvbiBtYXRjaE1lcmlkaWVtKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xufVxuXG5hZGRSZWdleFRva2VuKCdhJywgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdBJywgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdIJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2gnLCBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaycsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbigna2snLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydrJywgJ2trJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XG4gICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbn0pO1xuYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNCxcbiAgICAgICAgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNCxcbiAgICAgICAgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xufSk7XG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlSXNQTShpbnB1dCkge1xuICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAvLyBVc2luZyBjaGFyQXQgc2hvdWxkIGJlIG1vcmUgY29tcGF0aWJsZS5cbiAgICByZXR1cm4gKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCc7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pLFxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG5mdW5jdGlvbiBsb2NhbGVNZXJpZGllbShob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cbnZhciBiYXNlQ29uZmlnID0ge1xuICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG4gICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcbiAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlLFxuICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSxcbn07XG5cbi8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcbnZhciBsb2NhbGVzID0ge30sXG4gICAgbG9jYWxlRmFtaWxpZXMgPSB7fSxcbiAgICBnbG9iYWxMb2NhbGU7XG5cbmZ1bmN0aW9uIGNvbW1vblByZWZpeChhcnIxLCBhcnIyKSB7XG4gICAgdmFyIGksXG4gICAgICAgIG1pbmwgPSBNYXRoLm1pbihhcnIxLmxlbmd0aCwgYXJyMi5sZW5ndGgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtaW5sOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGFycjFbaV0gIT09IGFycjJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW5sO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xufVxuXG4vLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbi8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4vLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGosXG4gICAgICAgIG5leHQsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgc3BsaXQ7XG5cbiAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbmV4dCAmJlxuICAgICAgICAgICAgICAgIG5leHQubGVuZ3RoID49IGogJiZcbiAgICAgICAgICAgICAgICBjb21tb25QcmVmaXgoc3BsaXQsIG5leHQpID49IGogLSAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqLS07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICB2YXIgb2xkTG9jYWxlID0gbnVsbCxcbiAgICAgICAgYWxpYXNlZFJlcXVpcmU7XG4gICAgLy8gVE9ETzogRmluZCBhIGJldHRlciB3YXkgdG8gcmVnaXN0ZXIgYW5kIGxvYWQgYWxsIHRoZSBsb2NhbGVzIGluIE5vZGVcbiAgICBpZiAoXG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBtb2R1bGUgJiZcbiAgICAgICAgbW9kdWxlLmV4cG9ydHNcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgICAgICAgIGFsaWFzZWRSZXF1aXJlKCcuL2xvY2FsZS8nICsgbmFtZSk7XG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbWFyayBhcyBub3QgZm91bmQgdG8gYXZvaWQgcmVwZWF0aW5nIGV4cGVuc2l2ZSBmaWxlIHJlcXVpcmUgY2FsbCBjYXVzaW5nIGhpZ2ggQ1BVXG4gICAgICAgICAgICAvLyB3aGVuIHRyeWluZyB0byBmaW5kIGVuLVVTLCBlbl9VUywgZW4tdXMgZm9yIGV2ZXJ5IGZvcm1hdCBjYWxsXG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbnVsbDsgLy8gbnVsbCBtZWFucyBub3QgZm91bmRcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZShrZXksIHZhbHVlcykge1xuICAgIHZhciBkYXRhO1xuICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgJ0xvY2FsZSAnICsga2V5ICsgJyBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIGxvYWQgaXQ/J1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLFxuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoXG4gICAgICAgICAgICAgICAgJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZS5fY29uZmlnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIHZhciBsb2NhbGUsXG4gICAgICAgICAgICB0bXBMb2NhbGUsXG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwgJiYgbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGNoaWxkIGxvY2FsZSBpbi1wbGFjZSB0byBhdm9pZCBtZW1vcnktbGVha3NcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0uc2V0KG1lcmdlQ29uZmlncyhsb2NhbGVzW25hbWVdLl9jb25maWcsIGNvbmZpZykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgIHRtcExvY2FsZSA9IGxvYWRMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVMb2NhbGUgaXMgY2FsbGVkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGVcbiAgICAgICAgICAgICAgICAvLyBTZXQgYWJiciBzbyBpdCB3aWxsIGhhdmUgYSBuYW1lIChnZXR0ZXJzIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvdGhlcndpc2UpLlxuICAgICAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgICAgIGxvY2FsZS5wYXJlbnRMb2NhbGUgPSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IGdldFNldEdsb2JhbExvY2FsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyByZXR1cm5zIGxvY2FsZSBkYXRhXG5mdW5jdGlvbiBnZXRMb2NhbGUoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzKGxvY2FsZXMpO1xufVxuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93KG0pIHtcbiAgICB2YXIgb3ZlcmZsb3csXG4gICAgICAgIGEgPSBtLl9hO1xuXG4gICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICBhW01PTlRIXSA8IDAgfHwgYVtNT05USF0gPiAxMVxuICAgICAgICAgICAgICAgID8gTU9OVEhcbiAgICAgICAgICAgICAgICA6IGFbREFURV0gPCAxIHx8IGFbREFURV0gPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSlcbiAgICAgICAgICAgICAgICA/IERBVEVcbiAgICAgICAgICAgICAgICA6IGFbSE9VUl0gPCAwIHx8XG4gICAgICAgICAgICAgICAgICBhW0hPVVJdID4gMjQgfHxcbiAgICAgICAgICAgICAgICAgIChhW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChhW01JTlVURV0gIT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYVtTRUNPTkRdICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdICE9PSAwKSlcbiAgICAgICAgICAgICAgICA/IEhPVVJcbiAgICAgICAgICAgICAgICA6IGFbTUlOVVRFXSA8IDAgfHwgYVtNSU5VVEVdID4gNTlcbiAgICAgICAgICAgICAgICA/IE1JTlVURVxuICAgICAgICAgICAgICAgIDogYVtTRUNPTkRdIDwgMCB8fCBhW1NFQ09ORF0gPiA1OVxuICAgICAgICAgICAgICAgID8gU0VDT05EXG4gICAgICAgICAgICAgICAgOiBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTlcbiAgICAgICAgICAgICAgICA/IE1JTExJU0VDT05EXG4gICAgICAgICAgICAgICAgOiAtMTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmXG4gICAgICAgICAgICAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbKy1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLyxcbiAgICBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZHwpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbKy1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLyxcbiAgICB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vLFxuICAgIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWURERCcsIC9cXGR7N30vXSxcbiAgICAgICAgWydZWVlZTU0nLCAvXFxkezZ9LywgZmFsc2VdLFxuICAgICAgICBbJ1lZWVknLCAvXFxkezR9LywgZmFsc2VdLFxuICAgIF0sXG4gICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuICAgIGlzb1RpbWVzID0gW1xuICAgICAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG4gICAgICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgICAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEgnLCAvXFxkXFxkL10sXG4gICAgXSxcbiAgICBhc3BOZXRKc29uUmVnZXggPSAvXlxcLz9EYXRlXFwoKC0/XFxkKykvaSxcbiAgICAvLyBSRkMgMjgyMiByZWdleDogRm9yIGRldGFpbHMgc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMyODIyI3NlY3Rpb24tMy4zXG4gICAgcmZjMjgyMiA9IC9eKD86KE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksP1xccyk/KFxcZHsxLDJ9KVxccyhKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylcXHMoXFxkezIsNH0pXFxzKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkpP1xccyg/OihVVHxHTVR8W0VDTVBdW1NEXVQpfChbWnpdKXwoWystXVxcZHs0fSkpJC8sXG4gICAgb2JzT2Zmc2V0cyA9IHtcbiAgICAgICAgVVQ6IDAsXG4gICAgICAgIEdNVDogMCxcbiAgICAgICAgRURUOiAtNCAqIDYwLFxuICAgICAgICBFU1Q6IC01ICogNjAsXG4gICAgICAgIENEVDogLTUgKiA2MCxcbiAgICAgICAgQ1NUOiAtNiAqIDYwLFxuICAgICAgICBNRFQ6IC02ICogNjAsXG4gICAgICAgIE1TVDogLTcgKiA2MCxcbiAgICAgICAgUERUOiAtNyAqIDYwLFxuICAgICAgICBQU1Q6IC04ICogNjAsXG4gICAgfTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLFxuICAgICAgICBkYXRlRm9ybWF0LFxuICAgICAgICB0aW1lRm9ybWF0LFxuICAgICAgICB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhcbiAgICB5ZWFyU3RyLFxuICAgIG1vbnRoU3RyLFxuICAgIGRheVN0cixcbiAgICBob3VyU3RyLFxuICAgIG1pbnV0ZVN0cixcbiAgICBzZWNvbmRTdHJcbikge1xuICAgIHZhciByZXN1bHQgPSBbXG4gICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQuaW5kZXhPZihtb250aFN0ciksXG4gICAgICAgIHBhcnNlSW50KGRheVN0ciwgMTApLFxuICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgIHBhcnNlSW50KG1pbnV0ZVN0ciwgMTApLFxuICAgIF07XG5cbiAgICBpZiAoc2Vjb25kU3RyKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KHNlY29uZFN0ciwgMTApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSB7XG4gICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XG4gICAgaWYgKHllYXIgPD0gNDkpIHtcbiAgICAgICAgcmV0dXJuIDIwMDAgKyB5ZWFyO1xuICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcbiAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xuICAgIH1cbiAgICByZXR1cm4geWVhcjtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc1JGQzI4MjIocykge1xuICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csICcgJylcbiAgICAgICAgLnJlcGxhY2UoLyhcXHNcXHMrKS9nLCAnICcpXG4gICAgICAgIC5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrV2Vla2RheSh3ZWVrZGF5U3RyLCBwYXJzZWRJbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKHdlZWtkYXlTdHIpIHtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW5kZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICB2YXIgd2Vla2RheVByb3ZpZGVkID0gZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQuaW5kZXhPZih3ZWVrZGF5U3RyKSxcbiAgICAgICAgICAgIHdlZWtkYXlBY3R1YWwgPSBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICBwYXJzZWRJbnB1dFswXSxcbiAgICAgICAgICAgICAgICBwYXJzZWRJbnB1dFsxXSxcbiAgICAgICAgICAgICAgICBwYXJzZWRJbnB1dFsyXVxuICAgICAgICAgICAgKS5nZXREYXkoKTtcbiAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgaWYgKG9ic09mZnNldCkge1xuICAgICAgICByZXR1cm4gb2JzT2Zmc2V0c1tvYnNPZmZzZXRdO1xuICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgLy8gdGhlIG9ubHkgYWxsb3dlZCBtaWxpdGFyeSB0eiBpcyBaXG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBobSA9IHBhcnNlSW50KG51bU9mZnNldCwgMTApLFxuICAgICAgICAgICAgbSA9IGhtICUgMTAwLFxuICAgICAgICAgICAgaCA9IChobSAtIG0pIC8gMTAwO1xuICAgICAgICByZXR1cm4gaCAqIDYwICsgbTtcbiAgICB9XG59XG5cbi8vIGRhdGUgYW5kIHRpbWUgZnJvbSByZWYgMjgyMiBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgIHZhciBtYXRjaCA9IHJmYzI4MjIuZXhlYyhwcmVwcm9jZXNzUkZDMjgyMihjb25maWcuX2kpKSxcbiAgICAgICAgcGFyc2VkQXJyYXk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhcbiAgICAgICAgICAgIG1hdGNoWzRdLFxuICAgICAgICAgICAgbWF0Y2hbM10sXG4gICAgICAgICAgICBtYXRjaFsyXSxcbiAgICAgICAgICAgIG1hdGNoWzVdLFxuICAgICAgICAgICAgbWF0Y2hbNl0sXG4gICAgICAgICAgICBtYXRjaFs3XVxuICAgICAgICApO1xuICAgICAgICBpZiAoIWNoZWNrV2Vla2RheShtYXRjaFsxXSwgcGFyc2VkQXJyYXksIGNvbmZpZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fYSA9IHBhcnNlZEFycmF5O1xuICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgY29uZmlnLl9kID0gY3JlYXRlVVRDRGF0ZS5hcHBseShudWxsLCBjb25maWcuX2EpO1xuICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIDEpIEFTUC5ORVQsIDIpIElTTywgMykgUkZDIDI4MjIgZm9ybWF0cywgb3IgNCkgb3B0aW9uYWwgZmFsbGJhY2sgaWYgcGFyc2luZyBpc24ndCBzdHJpY3RcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuX3N0cmljdCkge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaW5hbCBhdHRlbXB0LCB1c2UgSW5wdXQgRmFsbGJhY2tcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAnZGlzY291cmFnZWQuIFBsZWFzZSByZWZlciB0byBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgfVxuKTtcblxuLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgICAgICAgIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksXG4gICAgICAgICAgICBub3dWYWx1ZS5nZXRVVENEYXRlKCksXG4gICAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbn1cblxuLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4vLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4vLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheShjb25maWcpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgZGF0ZSxcbiAgICAgICAgaW5wdXQgPSBbXSxcbiAgICAgICAgY3VycmVudERhdGUsXG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSxcbiAgICAgICAgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyICE9IG51bGwpIHtcbiAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkgfHxcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID09PSAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPT0gbnVsbCA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICBpZiAoXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMFxuICAgICkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShcbiAgICAgICAgbnVsbCxcbiAgICAgICAgaW5wdXRcbiAgICApO1xuICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDXG4gICAgICAgID8gY29uZmlnLl9kLmdldFVUQ0RheSgpXG4gICAgICAgIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgIGlmIChcbiAgICAgICAgY29uZmlnLl93ICYmXG4gICAgICAgIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheVxuICAgICkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdywgY3VyV2VlaztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKFxuICAgICAgICAgICAgdy5HRyxcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSxcbiAgICAgICAgICAgIHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhclxuICAgICAgICApO1xuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG4gICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXG4gICAgICAgIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcblxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblxuICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgY3VyV2Vlay53ZWVrKTtcblxuICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG4gICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIFJGQyAyODIyIGZvcm1cbmhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG4gICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuUkZDXzI4MjIpIHtcbiAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25maWcuX2EgPSBbXTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgaSxcbiAgICAgICAgcGFyc2VkSW5wdXQsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHNraXBwZWQsXG4gICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwLFxuICAgICAgICBlcmE7XG5cbiAgICB0b2tlbnMgPVxuICAgICAgICBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fFxuICAgICAgICAgICAgW10pWzBdO1xuICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShcbiAgICAgICAgICAgICAgICBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID1cbiAgICAgICAgc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuICAgIH1cblxuICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgaWYgKFxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwXG4gICAgKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAvLyBoYW5kbGUgbWVyaWRpZW1cbiAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlLFxuICAgICAgICBjb25maWcuX2FbSE9VUl0sXG4gICAgICAgIGNvbmZpZy5fbWVyaWRpZW1cbiAgICApO1xuXG4gICAgLy8gaGFuZGxlIGVyYVxuICAgIGVyYSA9IGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVyYTtcbiAgICBpZiAoZXJhICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IGNvbmZpZy5fbG9jYWxlLmVyYXNDb252ZXJ0WWVhcihlcmEsIGNvbmZpZy5fYVtZRUFSXSk7XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xufVxuXG5mdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgIHZhciBpc1BtO1xuXG4gICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgIGJlc3RNb21lbnQsXG4gICAgICAgIHNjb3JlVG9CZWF0LFxuICAgICAgICBpLFxuICAgICAgICBjdXJyZW50U2NvcmUsXG4gICAgICAgIHZhbGlkRm9ybWF0Rm91bmQsXG4gICAgICAgIGJlc3RGb3JtYXRJc1ZhbGlkID0gZmFsc2U7XG5cbiAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgdmFsaWRGb3JtYXRGb3VuZCA9IGZhbHNlO1xuICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWQodGVtcENvbmZpZykpIHtcbiAgICAgICAgICAgIHZhbGlkRm9ybWF0Rm91bmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoIWJlc3RGb3JtYXRJc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2NvcmVUb0JlYXQgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0IHx8XG4gICAgICAgICAgICAgICAgdmFsaWRGb3JtYXRGb3VuZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkRm9ybWF0Rm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdEZvcm1hdElzVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSksXG4gICAgICAgIGRheU9yRGF0ZSA9IGkuZGF5ID09PSB1bmRlZmluZWQgPyBpLmRhdGUgOiBpLmRheTtcbiAgICBjb25maWcuX2EgPSBtYXAoXG4gICAgICAgIFtpLnllYXIsIGkubW9udGgsIGRheU9yRGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdLFxuICAgICAgICBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnKGNvbmZpZykge1xuICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgaWYgKHJlcy5fbmV4dERheSkge1xuICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyhjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG4gICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoeyBudWxsSW5wdXQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgaWYgKGZvcm1hdCA9PT0gdHJ1ZSB8fCBmb3JtYXQgPT09IGZhbHNlKSB7XG4gICAgICAgIHN0cmljdCA9IGZvcm1hdDtcbiAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAgIChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG4gICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApXG4gICAgKSB7XG4gICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICBjLl9sID0gbG9jYWxlO1xuICAgIGMuX2kgPSBpbnB1dDtcbiAgICBjLl9mID0gZm9ybWF0O1xuICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblxuICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG59XG5cbnZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICksXG4gICAgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4vLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuLy8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuLy9cbi8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2Vcbi8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG5mdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcbiAgICB2YXIgcmVzLCBpO1xuICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG4gICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuICAgIH1cbiAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuICAgIH1cbiAgICByZXMgPSBtb21lbnRzWzBdO1xuICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuZnVuY3Rpb24gbWluKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gbWF4KCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArbmV3IERhdGUoKTtcbn07XG5cbnZhciBvcmRlcmluZyA9IFtcbiAgICAneWVhcicsXG4gICAgJ3F1YXJ0ZXInLFxuICAgICdtb250aCcsXG4gICAgJ3dlZWsnLFxuICAgICdkYXknLFxuICAgICdob3VyJyxcbiAgICAnbWludXRlJyxcbiAgICAnc2Vjb25kJyxcbiAgICAnbWlsbGlzZWNvbmQnLFxuXTtcblxuZnVuY3Rpb24gaXNEdXJhdGlvblZhbGlkKG0pIHtcbiAgICB2YXIga2V5LFxuICAgICAgICB1bml0SGFzRGVjaW1hbCA9IGZhbHNlLFxuICAgICAgICBpO1xuICAgIGZvciAoa2V5IGluIG0pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaGFzT3duUHJvcChtLCBrZXkpICYmXG4gICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgIGluZGV4T2YuY2FsbChvcmRlcmluZywga2V5KSAhPT0gLTEgJiZcbiAgICAgICAgICAgICAgICAobVtrZXldID09IG51bGwgfHwgIWlzTmFOKG1ba2V5XSkpXG4gICAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG9yZGVyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgaWYgKHVuaXRIYXNEZWNpbWFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvbmx5IGFsbG93IG5vbi1pbnRlZ2VycyBmb3Igc21hbGxlc3QgdW5pdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQobVtvcmRlcmluZ1tpXV0pICE9PSB0b0ludChtW29yZGVyaW5nW2ldXSkpIHtcbiAgICAgICAgICAgICAgICB1bml0SGFzRGVjaW1hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZCQxKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkJDEoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG59XG5cbmZ1bmN0aW9uIER1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IG5vcm1hbGl6ZWRJbnB1dC5pc29XZWVrIHx8IDAsXG4gICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICB0aGlzLl9pc1ZhbGlkID0gaXNEdXJhdGlvblZhbGlkKG5vcm1hbGl6ZWRJbnB1dCk7XG5cbiAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9XG4gICAgICAgICttaWxsaXNlY29uZHMgK1xuICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICB0aGlzLl9kYXlzID0gK2RheXMgKyB3ZWVrcyAqIDc7XG4gICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArIHF1YXJ0ZXJzICogMyArIHllYXJzICogMTI7XG5cbiAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblxuICAgIHRoaXMuX2J1YmJsZSgpO1xufVxuXG5mdW5jdGlvbiBpc0R1cmF0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gYWJzUm91bmQobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcbiAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0KHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKSxcbiAgICAgICAgICAgIHNpZ24gPSAnKyc7XG4gICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc2lnbiArXG4gICAgICAgICAgICB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICtcbiAgICAgICAgICAgIHNlcGFyYXRvciArXG4gICAgICAgICAgICB6ZXJvRmlsbCh+fm9mZnNldCAlIDYwLCAyKVxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG5vZmZzZXQoJ1onLCAnOicpO1xub2Zmc2V0KCdaWicsICcnKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdaJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyB0aW1lem9uZSBjaHVua2VyXG4vLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cbi8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxudmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG5mdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlciksXG4gICAgICAgIGNodW5rLFxuICAgICAgICBwYXJ0cyxcbiAgICAgICAgbWludXRlcztcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNodW5rID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHBhcnRzID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgIHJldHVybiBtaW51dGVzID09PSAwID8gMCA6IHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPVxuICAgICAgICAgICAgKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpXG4gICAgICAgICAgICAgICAgPyBpbnB1dC52YWx1ZU9mKClcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXRlT2Zmc2V0KG0pIHtcbiAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lLCBrZWVwTWludXRlcykge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYgJiYgIWtlZXBNaW51dGVzKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxvY2FsQWRqdXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgIT09IGlucHV0KSB7XG4gICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0Wm9uZShpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyhrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsKGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQoKSB7XG4gICAgaWYgKHRoaXMuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0KGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQgPyBjcmVhdGVMb2NhbChpbnB1dCkudXRjT2Zmc2V0KCkgOiAwO1xuXG4gICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCgpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICB2YXIgYyA9IHt9LFxuICAgICAgICBvdGhlcjtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9XG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQoKSAmJiBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xufVxuXG4vLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcbnZhciBhc3BOZXRSZWdleCA9IC9eKC18XFwrKT8oPzooXFxkKilbLiBdKT8oXFxkKyk6KFxcZCspKD86OihcXGQrKShcXC5cXGQqKT8pPyQvLFxuICAgIC8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4gICAgLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuICAgIC8vIGFuZCBmdXJ0aGVyIG1vZGlmaWVkIHRvIGFsbG93IGZvciBzdHJpbmdzIGNvbnRhaW5pbmcgYm90aCB3ZWVrIGFuZCBkYXlcbiAgICBpc29SZWdleCA9IC9eKC18XFwrKT9QKD86KFstK10/WzAtOSwuXSopWSk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopVyk/KD86KFstK10/WzAtOSwuXSopRCk/KD86VCg/OihbLStdP1swLTksLl0qKUgpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVMpPyk/JC87XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uKGlucHV0LCBrZXkpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgbWF0Y2ggPSBudWxsLFxuICAgICAgICBzaWduLFxuICAgICAgICByZXQsXG4gICAgICAgIGRpZmZSZXM7XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICBtczogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQ6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgTTogaW5wdXQuX21vbnRocyxcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSB8fCAhaXNOYU4oK2lucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gK2lucHV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gK2lucHV0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICgobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IG1hdGNoWzFdID09PSAnLScgPyAtMSA6IDE7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGQ6IHRvSW50KG1hdGNoW0RBVEVdKSAqIHNpZ24sXG4gICAgICAgICAgICBoOiB0b0ludChtYXRjaFtIT1VSXSkgKiBzaWduLFxuICAgICAgICAgICAgbTogdG9JbnQobWF0Y2hbTUlOVVRFXSkgKiBzaWduLFxuICAgICAgICAgICAgczogdG9JbnQobWF0Y2hbU0VDT05EXSkgKiBzaWduLFxuICAgICAgICAgICAgbXM6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24sIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSBtYXRjaFsxXSA9PT0gJy0nID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHk6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgIE06IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgIHc6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQ6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgIGg6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgIG06IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHM6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKSxcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcbiAgICAgICAgLy8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKVxuICAgICkge1xuICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoXG4gICAgICAgICAgICBjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSxcbiAgICAgICAgICAgIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKVxuICAgICAgICApO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2lzVmFsaWQnKSkge1xuICAgICAgICByZXQuX2lzVmFsaWQgPSBpbnB1dC5faXNWYWxpZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG5jcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcbmNyZWF0ZUR1cmF0aW9uLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkJDE7XG5cbmZ1bmN0aW9uIHBhcnNlSXNvKGlucCwgc2lnbikge1xuICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG4gICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcbiAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG59XG5cbmZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzID0ge307XG5cbiAgICByZXMubW9udGhzID1cbiAgICAgICAgb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcbiAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgIC0tcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gK2Jhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKTtcblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcztcbiAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiB7IG1pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwIH07XG4gICAgfVxuXG4gICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgJ21vbWVudCgpLicgK1xuICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdG1wID0gdmFsO1xuICAgICAgICAgICAgdmFsID0gcGVyaW9kO1xuICAgICAgICAgICAgcGVyaW9kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0KG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKGRheXMpIHtcbiAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgIH1cbn1cblxudmFyIGFkZCA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKSxcbiAgICBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuZnVuY3Rpb24gaXNTdHJpbmcoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBpbnB1dCBpbnN0YW5jZW9mIFN0cmluZztcbn1cblxuLy8gdHlwZSBNb21lbnRJbnB1dCA9IE1vbWVudCB8IERhdGUgfCBzdHJpbmcgfCBudW1iZXIgfCAobnVtYmVyIHwgc3RyaW5nKVtdIHwgTW9tZW50SW5wdXRPYmplY3QgfCB2b2lkOyAvLyBudWxsIHwgdW5kZWZpbmVkXG5mdW5jdGlvbiBpc01vbWVudElucHV0KGlucHV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaXNNb21lbnQoaW5wdXQpIHx8XG4gICAgICAgIGlzRGF0ZShpbnB1dCkgfHxcbiAgICAgICAgaXNTdHJpbmcoaW5wdXQpIHx8XG4gICAgICAgIGlzTnVtYmVyKGlucHV0KSB8fFxuICAgICAgICBpc051bWJlck9yU3RyaW5nQXJyYXkoaW5wdXQpIHx8XG4gICAgICAgIGlzTW9tZW50SW5wdXRPYmplY3QoaW5wdXQpIHx8XG4gICAgICAgIGlucHV0ID09PSBudWxsIHx8XG4gICAgICAgIGlucHV0ID09PSB1bmRlZmluZWRcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc01vbWVudElucHV0T2JqZWN0KGlucHV0KSB7XG4gICAgdmFyIG9iamVjdFRlc3QgPSBpc09iamVjdChpbnB1dCkgJiYgIWlzT2JqZWN0RW1wdHkoaW5wdXQpLFxuICAgICAgICBwcm9wZXJ0eVRlc3QgPSBmYWxzZSxcbiAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICd5ZWFycycsXG4gICAgICAgICAgICAneWVhcicsXG4gICAgICAgICAgICAneScsXG4gICAgICAgICAgICAnbW9udGhzJyxcbiAgICAgICAgICAgICdtb250aCcsXG4gICAgICAgICAgICAnTScsXG4gICAgICAgICAgICAnZGF5cycsXG4gICAgICAgICAgICAnZGF5JyxcbiAgICAgICAgICAgICdkJyxcbiAgICAgICAgICAgICdkYXRlcycsXG4gICAgICAgICAgICAnZGF0ZScsXG4gICAgICAgICAgICAnRCcsXG4gICAgICAgICAgICAnaG91cnMnLFxuICAgICAgICAgICAgJ2hvdXInLFxuICAgICAgICAgICAgJ2gnLFxuICAgICAgICAgICAgJ21pbnV0ZXMnLFxuICAgICAgICAgICAgJ21pbnV0ZScsXG4gICAgICAgICAgICAnbScsXG4gICAgICAgICAgICAnc2Vjb25kcycsXG4gICAgICAgICAgICAnc2Vjb25kJyxcbiAgICAgICAgICAgICdzJyxcbiAgICAgICAgICAgICdtaWxsaXNlY29uZHMnLFxuICAgICAgICAgICAgJ21pbGxpc2Vjb25kJyxcbiAgICAgICAgICAgICdtcycsXG4gICAgICAgIF0sXG4gICAgICAgIGksXG4gICAgICAgIHByb3BlcnR5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBwcm9wZXJ0eVRlc3QgPSBwcm9wZXJ0eVRlc3QgfHwgaGFzT3duUHJvcChpbnB1dCwgcHJvcGVydHkpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3RUZXN0ICYmIHByb3BlcnR5VGVzdDtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXJPclN0cmluZ0FycmF5KGlucHV0KSB7XG4gICAgdmFyIGFycmF5VGVzdCA9IGlzQXJyYXkoaW5wdXQpLFxuICAgICAgICBkYXRhVHlwZVRlc3QgPSBmYWxzZTtcbiAgICBpZiAoYXJyYXlUZXN0KSB7XG4gICAgICAgIGRhdGFUeXBlVGVzdCA9XG4gICAgICAgICAgICBpbnB1dC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzTnVtYmVyKGl0ZW0pICYmIGlzU3RyaW5nKGlucHV0KTtcbiAgICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5VGVzdCAmJiBkYXRhVHlwZVRlc3Q7XG59XG5cbmZ1bmN0aW9uIGlzQ2FsZW5kYXJTcGVjKGlucHV0KSB7XG4gICAgdmFyIG9iamVjdFRlc3QgPSBpc09iamVjdChpbnB1dCkgJiYgIWlzT2JqZWN0RW1wdHkoaW5wdXQpLFxuICAgICAgICBwcm9wZXJ0eVRlc3QgPSBmYWxzZSxcbiAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICdzYW1lRGF5JyxcbiAgICAgICAgICAgICduZXh0RGF5JyxcbiAgICAgICAgICAgICdsYXN0RGF5JyxcbiAgICAgICAgICAgICduZXh0V2VlaycsXG4gICAgICAgICAgICAnbGFzdFdlZWsnLFxuICAgICAgICAgICAgJ3NhbWVFbHNlJyxcbiAgICAgICAgXSxcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcGVydHk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgIHByb3BlcnR5VGVzdCA9IHByb3BlcnR5VGVzdCB8fCBoYXNPd25Qcm9wKGlucHV0LCBwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdFRlc3QgJiYgcHJvcGVydHlUZXN0O1xufVxuXG5mdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICByZXR1cm4gZGlmZiA8IC02XG4gICAgICAgID8gJ3NhbWVFbHNlJ1xuICAgICAgICA6IGRpZmYgPCAtMVxuICAgICAgICA/ICdsYXN0V2VlaydcbiAgICAgICAgOiBkaWZmIDwgMFxuICAgICAgICA/ICdsYXN0RGF5J1xuICAgICAgICA6IGRpZmYgPCAxXG4gICAgICAgID8gJ3NhbWVEYXknXG4gICAgICAgIDogZGlmZiA8IDJcbiAgICAgICAgPyAnbmV4dERheSdcbiAgICAgICAgOiBkaWZmIDwgN1xuICAgICAgICA/ICduZXh0V2VlaydcbiAgICAgICAgOiAnc2FtZUVsc2UnO1xufVxuXG5mdW5jdGlvbiBjYWxlbmRhciQxKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAvLyBTdXBwb3J0IGZvciBzaW5nbGUgcGFyYW1ldGVyLCBmb3JtYXRzIG9ubHkgb3ZlcmxvYWQgdG8gdGhlIGNhbGVuZGFyIGZ1bmN0aW9uXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgICAgIHRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3JtYXRzID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW9tZW50SW5wdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICAgICAgdGltZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGZvcm1hdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNDYWxlbmRhclNwZWMoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICAgICAgZm9ybWF0cyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnLFxuICAgICAgICBvdXRwdXQgPVxuICAgICAgICAgICAgZm9ybWF0cyAmJlxuICAgICAgICAgICAgKGlzRnVuY3Rpb24oZm9ybWF0c1tmb3JtYXRdKVxuICAgICAgICAgICAgICAgID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KVxuICAgICAgICAgICAgICAgIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChcbiAgICAgICAgb3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSlcbiAgICApO1xufVxuXG5mdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlcihpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JlZm9yZShpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICB2YXIgbG9jYWxGcm9tID0gaXNNb21lbnQoZnJvbSkgPyBmcm9tIDogY3JlYXRlTG9jYWwoZnJvbSksXG4gICAgICAgIGxvY2FsVG8gPSBpc01vbWVudCh0bykgPyB0byA6IGNyZWF0ZUxvY2FsKHRvKTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbEZyb20uaXNWYWxpZCgpICYmIGxvY2FsVG8uaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICByZXR1cm4gKFxuICAgICAgICAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJ1xuICAgICAgICAgICAgPyB0aGlzLmlzQWZ0ZXIobG9jYWxGcm9tLCB1bml0cylcbiAgICAgICAgICAgIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXG4gICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknXG4gICAgICAgICAgICA/IHRoaXMuaXNCZWZvcmUobG9jYWxUbywgdW5pdHMpXG4gICAgICAgICAgICA6ICF0aGlzLmlzQWZ0ZXIobG9jYWxUbywgdW5pdHMpKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZShpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICBpbnB1dE1zO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmXG4gICAgICAgICAgICBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NhbWVPckFmdGVyKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCwgdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPckJlZm9yZShpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGRpZmYoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgdmFyIHRoYXQsIHpvbmVEZWx0YSwgb3V0cHV0O1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHRoYXQgPSBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIHRoaXMpO1xuXG4gICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAxMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMWUzO1xuICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDBcbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7XG4gICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDM2ZTU7XG4gICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA4NjRlNTtcbiAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTtcbiAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgb3V0cHV0ID0gdGhpcyAtIHRoYXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYoYSwgYikge1xuICAgIGlmIChhLmRhdGUoKSA8IGIuZGF0ZSgpKSB7XG4gICAgICAgIC8vIGVuZC1vZi1tb250aCBjYWxjdWxhdGlvbnMgd29yayBjb3JyZWN0IHdoZW4gdGhlIHN0YXJ0IG1vbnRoIGhhcyBtb3JlXG4gICAgICAgIC8vIGRheXMgdGhhbiB0aGUgZW5kIG1vbnRoLlxuICAgICAgICByZXR1cm4gLW1vbnRoRGlmZihiLCBhKTtcbiAgICB9XG4gICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMiArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgIGFuY2hvcjIsXG4gICAgICAgIGFkanVzdDtcblxuICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgfVxuXG4gICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xufVxuXG5ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbmhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbmZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcbn1cblxuZnVuY3Rpb24gdG9JU09TdHJpbmcoa2VlcE9mZnNldCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB1dGMgPSBrZWVwT2Zmc2V0ICE9PSB0cnVlLFxuICAgICAgICBtID0gdXRjID8gdGhpcy5jbG9uZSgpLnV0YygpIDogdGhpcztcbiAgICBpZiAobS55ZWFyKCkgPCAwIHx8IG0ueWVhcigpID4gOTk5OSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIHV0Y1xuICAgICAgICAgICAgICAgID8gJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXSdcbiAgICAgICAgICAgICAgICA6ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJ1xuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgaWYgKHV0Yykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSArIHRoaXMudXRjT2Zmc2V0KCkgKiA2MCAqIDEwMDApXG4gICAgICAgICAgICAgICAgLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnWicsIGZvcm1hdE1vbWVudChtLCAnWicpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0TW9tZW50KFxuICAgICAgICBtLFxuICAgICAgICB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onXG4gICAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICpcbiAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuICAgIH1cbiAgICB2YXIgZnVuYyA9ICdtb21lbnQnLFxuICAgICAgICB6b25lID0gJycsXG4gICAgICAgIHByZWZpeCxcbiAgICAgICAgeWVhcixcbiAgICAgICAgZGF0ZXRpbWUsXG4gICAgICAgIHN1ZmZpeDtcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgIHllYXIgPSAwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKClcbiAgICAgICAgICAgID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0Y1xuICAgICAgICAgICAgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgIH1cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBmcm9tKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAoXG4gICAgICAgIHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8IGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSlcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHsgdG86IHRoaXMsIGZyb206IHRpbWUgfSlcbiAgICAgICAgICAgIC5sb2NhbGUodGhpcy5sb2NhbGUoKSlcbiAgICAgICAgICAgIC5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmcm9tTm93KHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG5mdW5jdGlvbiB0byh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKFxuICAgICAgICB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fCBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7IGZyb206IHRoaXMsIHRvOiB0aW1lIH0pXG4gICAgICAgICAgICAubG9jYWxlKHRoaXMubG9jYWxlKCkpXG4gICAgICAgICAgICAuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9Ob3cod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUoa2V5KSB7XG4gICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG52YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmZ1bmN0aW9uIGxvY2FsZURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbn1cblxudmFyIE1TX1BFUl9TRUNPTkQgPSAxMDAwLFxuICAgIE1TX1BFUl9NSU5VVEUgPSA2MCAqIE1TX1BFUl9TRUNPTkQsXG4gICAgTVNfUEVSX0hPVVIgPSA2MCAqIE1TX1BFUl9NSU5VVEUsXG4gICAgTVNfUEVSXzQwMF9ZRUFSUyA9ICgzNjUgKiA0MDAgKyA5NykgKiAyNCAqIE1TX1BFUl9IT1VSO1xuXG4vLyBhY3R1YWwgbW9kdWxvIC0gaGFuZGxlcyBuZWdhdGl2ZSBudW1iZXJzIChmb3IgZGF0ZXMgYmVmb3JlIDE5NzApOlxuZnVuY3Rpb24gbW9kJDEoZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICByZXR1cm4gKChkaXZpZGVuZCAlIGRpdmlzb3IpICsgZGl2aXNvcikgJSBkaXZpc29yO1xufVxuXG5mdW5jdGlvbiBsb2NhbFN0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQpIC0gTVNfUEVSXzQwMF9ZRUFSUztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoeSwgbSwgZCkudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXRjU3RhcnRPZkRhdGUoeSwgbSwgZCkge1xuICAgIC8vIERhdGUuVVRDIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBEYXRlLlVUQyh5LCBtLCBkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2YodW5pdHMpIHtcbiAgICB2YXIgdGltZSwgc3RhcnRPZkRhdGU7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcgfHwgIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXJ0T2ZEYXRlID0gdGhpcy5faXNVVEMgPyB1dGNTdGFydE9mRGF0ZSA6IGxvY2FsU3RhcnRPZkRhdGU7XG5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCAwLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCkgLSAodGhpcy5tb250aCgpICUgMyksXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgdGhpcy5tb250aCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgdGhpcy5tb250aCgpLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgdGltZSAtPSBtb2QkMShcbiAgICAgICAgICAgICAgICB0aW1lICsgKHRoaXMuX2lzVVRDID8gMCA6IHRoaXMudXRjT2Zmc2V0KCkgKiBNU19QRVJfTUlOVVRFKSxcbiAgICAgICAgICAgICAgICBNU19QRVJfSE9VUlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfTUlOVVRFKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVuZE9mKHVuaXRzKSB7XG4gICAgdmFyIHRpbWUsIHN0YXJ0T2ZEYXRlO1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSArIDEsIDAsIDEpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgIHRpbWUgPVxuICAgICAgICAgICAgICAgIHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpIC0gKHRoaXMubW9udGgoKSAlIDMpICsgMyxcbiAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpICsgMSwgMSkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgdGltZSA9XG4gICAgICAgICAgICAgICAgc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkgKyA3XG4gICAgICAgICAgICAgICAgKSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICB0aW1lID1cbiAgICAgICAgICAgICAgICBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSArIDdcbiAgICAgICAgICAgICAgICApIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCB0aGlzLmRhdGUoKSArIDEpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgKz1cbiAgICAgICAgICAgICAgICBNU19QRVJfSE9VUiAtXG4gICAgICAgICAgICAgICAgbW9kJDEoXG4gICAgICAgICAgICAgICAgICAgIHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLFxuICAgICAgICAgICAgICAgICAgICBNU19QRVJfSE9VUlxuICAgICAgICAgICAgICAgICkgLVxuICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX01JTlVURSAtIG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgdGltZSArPSBNU19QRVJfU0VDT05EIC0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xuICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDA7XG59XG5cbmZ1bmN0aW9uIHVuaXgoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbn1cblxuZnVuY3Rpb24gdG9EYXRlKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiBbXG4gICAgICAgIG0ueWVhcigpLFxuICAgICAgICBtLm1vbnRoKCksXG4gICAgICAgIG0uZGF0ZSgpLFxuICAgICAgICBtLmhvdXIoKSxcbiAgICAgICAgbS5taW51dGUoKSxcbiAgICAgICAgbS5zZWNvbmQoKSxcbiAgICAgICAgbS5taWxsaXNlY29uZCgpLFxuICAgIF07XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKCksXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDIoKSB7XG4gICAgcmV0dXJuIGlzVmFsaWQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNpbmdGbGFncygpIHtcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xufVxuXG5mdW5jdGlvbiBpbnZhbGlkQXQoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0LFxuICAgIH07XG59XG5cbmFkZEZvcm1hdFRva2VuKCdOJywgMCwgMCwgJ2VyYUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCdOTicsIDAsIDAsICdlcmFBYmJyJyk7XG5hZGRGb3JtYXRUb2tlbignTk5OJywgMCwgMCwgJ2VyYUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCdOTk5OJywgMCwgMCwgJ2VyYU5hbWUnKTtcbmFkZEZvcm1hdFRva2VuKCdOTk5OTicsIDAsIDAsICdlcmFOYXJyb3cnKTtcblxuYWRkRm9ybWF0VG9rZW4oJ3knLCBbJ3knLCAxXSwgJ3lvJywgJ2VyYVllYXInKTtcbmFkZEZvcm1hdFRva2VuKCd5JywgWyd5eScsIDJdLCAwLCAnZXJhWWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oJ3knLCBbJ3l5eScsIDNdLCAwLCAnZXJhWWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oJ3knLCBbJ3l5eXknLCA0XSwgMCwgJ2VyYVllYXInKTtcblxuYWRkUmVnZXhUb2tlbignTicsIG1hdGNoRXJhQWJicik7XG5hZGRSZWdleFRva2VuKCdOTicsIG1hdGNoRXJhQWJicik7XG5hZGRSZWdleFRva2VuKCdOTk4nLCBtYXRjaEVyYUFiYnIpO1xuYWRkUmVnZXhUb2tlbignTk5OTicsIG1hdGNoRXJhTmFtZSk7XG5hZGRSZWdleFRva2VuKCdOTk5OTicsIG1hdGNoRXJhTmFycm93KTtcblxuYWRkUGFyc2VUb2tlbihbJ04nLCAnTk4nLCAnTk5OJywgJ05OTk4nLCAnTk5OTk4nXSwgZnVuY3Rpb24gKFxuICAgIGlucHV0LFxuICAgIGFycmF5LFxuICAgIGNvbmZpZyxcbiAgICB0b2tlblxuKSB7XG4gICAgdmFyIGVyYSA9IGNvbmZpZy5fbG9jYWxlLmVyYXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICBpZiAoZXJhKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVyYSA9IGVyYTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRXJhID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbmFkZFJlZ2V4VG9rZW4oJ3knLCBtYXRjaFVuc2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ3l5JywgbWF0Y2hVbnNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCd5eXknLCBtYXRjaFVuc2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ3l5eXknLCBtYXRjaFVuc2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ3lvJywgbWF0Y2hFcmFZZWFyT3JkaW5hbCk7XG5cbmFkZFBhcnNlVG9rZW4oWyd5JywgJ3l5JywgJ3l5eScsICd5eXl5J10sIFlFQVIpO1xuYWRkUGFyc2VUb2tlbihbJ3lvJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KSB7XG4gICAgICAgIG1hdGNoID0gaW5wdXQubWF0Y2goY29uZmlnLl9sb2NhbGUuX2VyYVllYXJPcmRpbmFsUmVnZXgpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuX2xvY2FsZS5lcmFZZWFyT3JkaW5hbFBhcnNlKSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gY29uZmlnLl9sb2NhbGUuZXJhWWVhck9yZGluYWxQYXJzZShpbnB1dCwgbWF0Y2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gbG9jYWxlRXJhcyhtLCBmb3JtYXQpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgbCxcbiAgICAgICAgZGF0ZSxcbiAgICAgICAgZXJhcyA9IHRoaXMuX2VyYXMgfHwgZ2V0TG9jYWxlKCdlbicpLl9lcmFzO1xuICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIC8vIHRydW5jYXRlIHRpbWVcbiAgICAgICAgICAgICAgICBkYXRlID0gaG9va3MoZXJhc1tpXS5zaW5jZSkuc3RhcnRPZignZGF5Jyk7XG4gICAgICAgICAgICAgICAgZXJhc1tpXS5zaW5jZSA9IGRhdGUudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgZXJhc1tpXS51bnRpbCkge1xuICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgICAgICBlcmFzW2ldLnVudGlsID0gK0luZmluaXR5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGhvb2tzKGVyYXNbaV0udW50aWwpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICBlcmFzW2ldLnVudGlsID0gZGF0ZS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVyYXM7XG59XG5cbmZ1bmN0aW9uIGxvY2FsZUVyYXNQYXJzZShlcmFOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLFxuICAgICAgICBsLFxuICAgICAgICBlcmFzID0gdGhpcy5lcmFzKCksXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFiYnIsXG4gICAgICAgIG5hcnJvdztcbiAgICBlcmFOYW1lID0gZXJhTmFtZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIG5hbWUgPSBlcmFzW2ldLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgYWJiciA9IGVyYXNbaV0uYWJici50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBuYXJyb3cgPSBlcmFzW2ldLm5hcnJvdy50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgY2FzZSAnTk4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ05OTic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYmJyID09PSBlcmFOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ05OTk4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdOTk5OTic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXJyb3cgPT09IGVyYU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFtuYW1lLCBhYmJyLCBuYXJyb3ddLmluZGV4T2YoZXJhTmFtZSkgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZUVyYXNDb252ZXJ0WWVhcihlcmEsIHllYXIpIHtcbiAgICB2YXIgZGlyID0gZXJhLnNpbmNlIDw9IGVyYS51bnRpbCA/ICsxIDogLTE7XG4gICAgaWYgKHllYXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaG9va3MoZXJhLnNpbmNlKS55ZWFyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGhvb2tzKGVyYS5zaW5jZSkueWVhcigpICsgKHllYXIgLSBlcmEub2Zmc2V0KSAqIGRpcjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVyYU5hbWUoKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIHZhbCxcbiAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICB2YWwgPSB0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgIGlmIChlcmFzW2ldLnNpbmNlIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS51bnRpbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJhc1tpXS51bnRpbCA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0uc2luY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldEVyYU5hcnJvdygpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgbCxcbiAgICAgICAgdmFsLFxuICAgICAgICBlcmFzID0gdGhpcy5sb2NhbGVEYXRhKCkuZXJhcygpO1xuICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgIHZhbCA9IHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCk7XG5cbiAgICAgICAgaWYgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYXJyb3c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYXJyb3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldEVyYUFiYnIoKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIHZhbCxcbiAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICB2YWwgPSB0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgIGlmIChlcmFzW2ldLnNpbmNlIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS51bnRpbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0uYWJicjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJhc1tpXS51bnRpbCA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0uc2luY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLmFiYnI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldEVyYVllYXIoKSB7XG4gICAgdmFyIGksXG4gICAgICAgIGwsXG4gICAgICAgIGRpcixcbiAgICAgICAgdmFsLFxuICAgICAgICBlcmFzID0gdGhpcy5sb2NhbGVEYXRhKCkuZXJhcygpO1xuICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBkaXIgPSBlcmFzW2ldLnNpbmNlIDw9IGVyYXNbaV0udW50aWwgPyArMSA6IC0xO1xuXG4gICAgICAgIC8vIHRydW5jYXRlIHRpbWVcbiAgICAgICAgdmFsID0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZXJhc1tpXS5zaW5jZSA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0udW50aWwpIHx8XG4gICAgICAgICAgICAoZXJhc1tpXS51bnRpbCA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0uc2luY2UpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAodGhpcy55ZWFyKCkgLSBob29rcyhlcmFzW2ldLnNpbmNlKS55ZWFyKCkpICogZGlyICtcbiAgICAgICAgICAgICAgICBlcmFzW2ldLm9mZnNldFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnllYXIoKTtcbn1cblxuZnVuY3Rpb24gZXJhc05hbWVSZWdleChpc1N0cmljdCkge1xuICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX2VyYXNOYW1lUmVnZXgnKSkge1xuICAgICAgICBjb21wdXRlRXJhc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBpc1N0cmljdCA/IHRoaXMuX2VyYXNOYW1lUmVnZXggOiB0aGlzLl9lcmFzUmVnZXg7XG59XG5cbmZ1bmN0aW9uIGVyYXNBYmJyUmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19lcmFzQWJiclJlZ2V4JykpIHtcbiAgICAgICAgY29tcHV0ZUVyYXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gaXNTdHJpY3QgPyB0aGlzLl9lcmFzQWJiclJlZ2V4IDogdGhpcy5fZXJhc1JlZ2V4O1xufVxuXG5mdW5jdGlvbiBlcmFzTmFycm93UmVnZXgoaXNTdHJpY3QpIHtcbiAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19lcmFzTmFycm93UmVnZXgnKSkge1xuICAgICAgICBjb21wdXRlRXJhc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBpc1N0cmljdCA/IHRoaXMuX2VyYXNOYXJyb3dSZWdleCA6IHRoaXMuX2VyYXNSZWdleDtcbn1cblxuZnVuY3Rpb24gbWF0Y2hFcmFBYmJyKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLmVyYXNBYmJyUmVnZXgoaXNTdHJpY3QpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEVyYU5hbWUoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuZXJhc05hbWVSZWdleChpc1N0cmljdCk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoRXJhTmFycm93KGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLmVyYXNOYXJyb3dSZWdleChpc1N0cmljdCk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoRXJhWWVhck9yZGluYWwoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuX2VyYVllYXJPcmRpbmFsUmVnZXggfHwgbWF0Y2hVbnNpZ25lZDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUVyYXNQYXJzZSgpIHtcbiAgICB2YXIgYWJiclBpZWNlcyA9IFtdLFxuICAgICAgICBuYW1lUGllY2VzID0gW10sXG4gICAgICAgIG5hcnJvd1BpZWNlcyA9IFtdLFxuICAgICAgICBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLFxuICAgICAgICBsLFxuICAgICAgICBlcmFzID0gdGhpcy5lcmFzKCk7XG5cbiAgICBmb3IgKGkgPSAwLCBsID0gZXJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgbmFtZVBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0ubmFtZSkpO1xuICAgICAgICBhYmJyUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5hYmJyKSk7XG4gICAgICAgIG5hcnJvd1BpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0ubmFycm93KSk7XG5cbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hbWUpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLmFiYnIpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hcnJvdykpO1xuICAgIH1cblxuICAgIHRoaXMuX2VyYXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9lcmFzTmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbmFtZVBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fZXJhc0FiYnJSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGFiYnJQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX2VyYXNOYXJyb3dSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICdeKCcgKyBuYXJyb3dQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAnaSdcbiAgICApO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5mdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuKHRva2VuLCBnZXR0ZXIpIHtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG59XG5cbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrWWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdnJywgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignR0cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdnZycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdnZ2dnJywgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignR0dHR0cnLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5hZGRSZWdleFRva2VuKCdnZ2dnZycsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKFxuICAgIGlucHV0LFxuICAgIHdlZWssXG4gICAgY29uZmlnLFxuICAgIHRva2VuXG4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFyKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGlucHV0LFxuICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgdGhpcy53ZWVrZGF5KCksXG4gICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIHRoaXMuaXNvV2VlaygpLFxuICAgICAgICB0aGlzLmlzb1dlZWtkYXkoKSxcbiAgICAgICAgMSxcbiAgICAgICAgNFxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyKCkge1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1dlZWtzSW5JU09XZWVrWWVhcigpIHtcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy5pc29XZWVrWWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIoKSB7XG4gICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtzSW5XZWVrWWVhcigpIHtcbiAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy53ZWVrWWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRXZWVrQWxsKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG4gICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAnUW8nLCAncXVhcnRlcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0UXVhcnRlcihpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsXG4gICAgICAgID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpXG4gICAgICAgIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyAodGhpcy5tb250aCgpICUgMykpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICByZXR1cm4gaXNTdHJpY3RcbiAgICAgICAgPyBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2UgfHwgbG9jYWxlLl9vcmRpbmFsUGFyc2VcbiAgICAgICAgOiBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50O1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsIG1hdGNoMXRvMyk7XG5hZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbmFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyKGlucHV0KSB7XG4gICAgdmFyIGRheU9mWWVhciA9XG4gICAgICAgIE1hdGgucm91bmQoXG4gICAgICAgICAgICAodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNVxuICAgICAgICApICsgMTtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKGlucHV0IC0gZGF5T2ZZZWFyLCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdtJywgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ21tJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigncycsIFsnc3MnLCAyXSwgMCwgJ3NlY29uZCcpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigncycsIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbWlsbGlzZWNvbmQnLCAxNik7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignUycsIG1hdGNoMXRvMywgbWF0Y2gxKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTJywgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignU1NTJywgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG52YXIgdG9rZW4sIGdldFNldE1pbGxpc2Vjb25kO1xuZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG59XG5cbmZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbn1cblxuZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3onLCAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldFpvbmVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbn1cblxudmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblxucHJvdG8uYWRkID0gYWRkO1xucHJvdG8uY2FsZW5kYXIgPSBjYWxlbmRhciQxO1xucHJvdG8uY2xvbmUgPSBjbG9uZTtcbnByb3RvLmRpZmYgPSBkaWZmO1xucHJvdG8uZW5kT2YgPSBlbmRPZjtcbnByb3RvLmZvcm1hdCA9IGZvcm1hdDtcbnByb3RvLmZyb20gPSBmcm9tO1xucHJvdG8uZnJvbU5vdyA9IGZyb21Ob3c7XG5wcm90by50byA9IHRvO1xucHJvdG8udG9Ob3cgPSB0b05vdztcbnByb3RvLmdldCA9IHN0cmluZ0dldDtcbnByb3RvLmludmFsaWRBdCA9IGludmFsaWRBdDtcbnByb3RvLmlzQWZ0ZXIgPSBpc0FmdGVyO1xucHJvdG8uaXNCZWZvcmUgPSBpc0JlZm9yZTtcbnByb3RvLmlzQmV0d2VlbiA9IGlzQmV0d2VlbjtcbnByb3RvLmlzU2FtZSA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgPSBpc1NhbWVPckFmdGVyO1xucHJvdG8uaXNTYW1lT3JCZWZvcmUgPSBpc1NhbWVPckJlZm9yZTtcbnByb3RvLmlzVmFsaWQgPSBpc1ZhbGlkJDI7XG5wcm90by5sYW5nID0gbGFuZztcbnByb3RvLmxvY2FsZSA9IGxvY2FsZTtcbnByb3RvLmxvY2FsZURhdGEgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ID0gcHJvdG90eXBlTWF4O1xucHJvdG8ubWluID0gcHJvdG90eXBlTWluO1xucHJvdG8ucGFyc2luZ0ZsYWdzID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ID0gc3RyaW5nU2V0O1xucHJvdG8uc3RhcnRPZiA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSA9IHRvQXJyYXk7XG5wcm90by50b09iamVjdCA9IHRvT2JqZWN0O1xucHJvdG8udG9EYXRlID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgPSBpbnNwZWN0O1xuaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5mb3IgIT0gbnVsbCkge1xuICAgIHByb3RvW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ01vbWVudDwnICsgdGhpcy5mb3JtYXQoKSArICc+JztcbiAgICB9O1xufVxucHJvdG8udG9KU09OID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgPSB0b1N0cmluZztcbnByb3RvLnVuaXggPSB1bml4O1xucHJvdG8udmFsdWVPZiA9IHZhbHVlT2Y7XG5wcm90by5jcmVhdGlvbkRhdGEgPSBjcmVhdGlvbkRhdGE7XG5wcm90by5lcmFOYW1lID0gZ2V0RXJhTmFtZTtcbnByb3RvLmVyYU5hcnJvdyA9IGdldEVyYU5hcnJvdztcbnByb3RvLmVyYUFiYnIgPSBnZXRFcmFBYmJyO1xucHJvdG8uZXJhWWVhciA9IGdldEVyYVllYXI7XG5wcm90by55ZWFyID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xucHJvdG8ud2Vla1llYXIgPSBnZXRTZXRXZWVrWWVhcjtcbnByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xucHJvdG8ubW9udGggPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5wcm90by53ZWVrID0gcHJvdG8ud2Vla3MgPSBnZXRTZXRXZWVrO1xucHJvdG8uaXNvV2VlayA9IHByb3RvLmlzb1dlZWtzID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by53ZWVrc0luV2Vla1llYXIgPSBnZXRXZWVrc0luV2Vla1llYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xucHJvdG8uaXNvV2Vla3NJbklTT1dlZWtZZWFyID0gZ2V0SVNPV2Vla3NJbklTT1dlZWtZZWFyO1xucHJvdG8uZGF0ZSA9IGdldFNldERheU9mTW9udGg7XG5wcm90by5kYXkgPSBwcm90by5kYXlzID0gZ2V0U2V0RGF5T2ZXZWVrO1xucHJvdG8ud2Vla2RheSA9IGdldFNldExvY2FsZURheU9mV2VlaztcbnByb3RvLmlzb1dlZWtkYXkgPSBnZXRTZXRJU09EYXlPZldlZWs7XG5wcm90by5kYXlPZlllYXIgPSBnZXRTZXREYXlPZlllYXI7XG5wcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcbnByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5wcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xucHJvdG8udXRjT2Zmc2V0ID0gZ2V0U2V0T2Zmc2V0O1xucHJvdG8udXRjID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbnByb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG5wcm90by5pc0RTVCA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xucHJvdG8uaXNMb2NhbCA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgPSBpc1V0YztcbnByb3RvLmlzVVRDID0gaXNVdGM7XG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbnByb3RvLmRhdGVzID0gZGVwcmVjYXRlKFxuICAgICdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsXG4gICAgZ2V0U2V0RGF5T2ZNb250aFxuKTtcbnByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZShcbiAgICAnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJyxcbiAgICBnZXRTZXRNb250aFxuKTtcbnByb3RvLnllYXJzID0gZGVwcmVjYXRlKFxuICAgICd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJyxcbiAgICBnZXRTZXRZZWFyXG4pO1xucHJvdG8uem9uZSA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLFxuICAgIGdldFNldFpvbmVcbik7XG5wcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoXG4gICAgJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLFxuICAgIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZFxuKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peChpbnB1dCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJblpvbmUoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG59XG5cbmZ1bmN0aW9uIHByZVBhcnNlUG9zdEZvcm1hdChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgPSBjYWxlbmRhcjtcbnByb3RvJDEubG9uZ0RhdGVGb3JtYXQgPSBsb25nRGF0ZUZvcm1hdDtcbnByb3RvJDEuaW52YWxpZERhdGUgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCA9IG9yZGluYWw7XG5wcm90byQxLnByZXBhcnNlID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5yZWxhdGl2ZVRpbWUgPSByZWxhdGl2ZVRpbWU7XG5wcm90byQxLnBhc3RGdXR1cmUgPSBwYXN0RnV0dXJlO1xucHJvdG8kMS5zZXQgPSBzZXQ7XG5wcm90byQxLmVyYXMgPSBsb2NhbGVFcmFzO1xucHJvdG8kMS5lcmFzUGFyc2UgPSBsb2NhbGVFcmFzUGFyc2U7XG5wcm90byQxLmVyYXNDb252ZXJ0WWVhciA9IGxvY2FsZUVyYXNDb252ZXJ0WWVhcjtcbnByb3RvJDEuZXJhc0FiYnJSZWdleCA9IGVyYXNBYmJyUmVnZXg7XG5wcm90byQxLmVyYXNOYW1lUmVnZXggPSBlcmFzTmFtZVJlZ2V4O1xucHJvdG8kMS5lcmFzTmFycm93UmVnZXggPSBlcmFzTmFycm93UmVnZXg7XG5cbnByb3RvJDEubW9udGhzID0gbG9jYWxlTW9udGhzO1xucHJvdG8kMS5tb250aHNTaG9ydCA9IGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSA9IGxvY2FsZU1vbnRoc1BhcnNlO1xucHJvdG8kMS5tb250aHNSZWdleCA9IG1vbnRoc1JlZ2V4O1xucHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ID0gbW9udGhzU2hvcnRSZWdleDtcbnByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5wcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5wcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbnByb3RvJDEud2Vla2RheXMgPSBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gPSBsb2NhbGVXZWVrZGF5c01pbjtcbnByb3RvJDEud2Vla2RheXNTaG9ydCA9IGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgPSBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG5wcm90byQxLndlZWtkYXlzUmVnZXggPSB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggPSB3ZWVrZGF5c1Nob3J0UmVnZXg7XG5wcm90byQxLndlZWtkYXlzTWluUmVnZXggPSB3ZWVrZGF5c01pblJlZ2V4O1xuXG5wcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xucHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG5mdW5jdGlvbiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG4gICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICB1dGMgPSBjcmVhdGVVVEMoKS5zZXQoc2V0dGVyLCBpbmRleCk7XG4gICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaSxcbiAgICAgICAgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMCxcbiAgICAgICAgaSxcbiAgICAgICAgb3V0ID0gW107XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHMoZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4obG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBlcmFzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpbmNlOiAnMDAwMS0wMS0wMScsXG4gICAgICAgICAgICB1bnRpbDogK0luZmluaXR5LFxuICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgbmFtZTogJ0Fubm8gRG9taW5pJyxcbiAgICAgICAgICAgIG5hcnJvdzogJ0FEJyxcbiAgICAgICAgICAgIGFiYnI6ICdBRCcsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpbmNlOiAnMDAwMC0xMi0zMScsXG4gICAgICAgICAgICB1bnRpbDogLUluZmluaXR5LFxuICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgbmFtZTogJ0JlZm9yZSBDaHJpc3QnLFxuICAgICAgICAgICAgbmFycm93OiAnQkMnLFxuICAgICAgICAgICAgYWJicjogJ0JDJyxcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICAgICAgdG9JbnQoKG51bWJlciAlIDEwMCkgLyAxMCkgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgPyAndGgnXG4gICAgICAgICAgICAgICAgICAgIDogYiA9PT0gMVxuICAgICAgICAgICAgICAgICAgICA/ICdzdCdcbiAgICAgICAgICAgICAgICAgICAgOiBiID09PSAyXG4gICAgICAgICAgICAgICAgICAgID8gJ25kJ1xuICAgICAgICAgICAgICAgICAgICA6IGIgPT09IDNcbiAgICAgICAgICAgICAgICAgICAgPyAncmQnXG4gICAgICAgICAgICAgICAgICAgIDogJ3RoJztcbiAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICB9LFxufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuaG9va3MubGFuZyA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLFxuICAgIGdldFNldEdsb2JhbExvY2FsZVxuKTtcbmhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJyxcbiAgICBnZXRMb2NhbGVcbik7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicygpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgdGhpcy5fZGF5cyA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgdGhpcy5fbW9udGhzID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICBkYXRhLnNlY29uZHMgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgZGF0YS5taW51dGVzID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuICAgIGRhdGEuaG91cnMgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuICAgIGRhdGEubW9udGhzID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgZGF0YS55ZWFycyA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QkMShkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uLl9kYXlzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgIGR1cmF0aW9uLl9tb250aHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblxuICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcbmZ1bmN0aW9uIGFkZCQxKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG5mdW5jdGlvbiBzdWJ0cmFjdCQxKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYnViYmxlKCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHMsXG4gICAgICAgIGRheXMgPSB0aGlzLl9kYXlzLFxuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMsXG4gICAgICAgIGRhdGEgPSB0aGlzLl9kYXRhLFxuICAgICAgICBzZWNvbmRzLFxuICAgICAgICBtaW51dGVzLFxuICAgICAgICBob3VycyxcbiAgICAgICAgeWVhcnMsXG4gICAgICAgIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmIChcbiAgICAgICAgIShcbiAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKVxuICAgICAgICApXG4gICAgKSB7XG4gICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgZGF5cyA9IDA7XG4gICAgICAgIG1vbnRocyA9IDA7XG4gICAgfVxuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGJ1YmJsZXMgdXAgdmFsdWVzLCBzZWUgdGhlIHRlc3RzIGZvclxuICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICBzZWNvbmRzID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgbWludXRlcyA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzID0gbWludXRlcyAlIDYwO1xuXG4gICAgaG91cnMgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIGRhdGEuaG91cnMgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgPSBkYXlzO1xuICAgIGRhdGEubW9udGhzID0gbW9udGhzO1xuICAgIGRhdGEueWVhcnMgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMoZGF5cykge1xuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICByZXR1cm4gKGRheXMgKiA0ODAwKSAvIDE0NjA5Nztcbn1cblxuZnVuY3Rpb24gbW9udGhzVG9EYXlzKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiAobW9udGhzICogMTQ2MDk3KSAvIDQ4MDA7XG59XG5cbmZ1bmN0aW9uIGFzKHVuaXRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICB2YXIgZGF5cyxcbiAgICAgICAgbW9udGhzLFxuICAgICAgICBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRocztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBtb250aHMgLyAzO1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRocyAvIDEyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAvIDcgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAqIDI0ICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiAxNDQwICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcbiAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcbiAgICApO1xufVxuXG5mdW5jdGlvbiBtYWtlQXMoYWxpYXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgfTtcbn1cblxudmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpLFxuICAgIGFzU2Vjb25kcyA9IG1ha2VBcygncycpLFxuICAgIGFzTWludXRlcyA9IG1ha2VBcygnbScpLFxuICAgIGFzSG91cnMgPSBtYWtlQXMoJ2gnKSxcbiAgICBhc0RheXMgPSBtYWtlQXMoJ2QnKSxcbiAgICBhc1dlZWtzID0gbWFrZUFzKCd3JyksXG4gICAgYXNNb250aHMgPSBtYWtlQXMoJ00nKSxcbiAgICBhc1F1YXJ0ZXJzID0gbWFrZUFzKCdRJyksXG4gICAgYXNZZWFycyA9IG1ha2VBcygneScpO1xuXG5mdW5jdGlvbiBjbG9uZSQxKCkge1xuICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0JDIodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzW3VuaXRzICsgJ3MnXSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKSxcbiAgICBzZWNvbmRzID0gbWFrZUdldHRlcignc2Vjb25kcycpLFxuICAgIG1pbnV0ZXMgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyksXG4gICAgaG91cnMgPSBtYWtlR2V0dGVyKCdob3VycycpLFxuICAgIGRheXMgPSBtYWtlR2V0dGVyKCdkYXlzJyksXG4gICAgbW9udGhzID0gbWFrZUdldHRlcignbW9udGhzJyksXG4gICAgeWVhcnMgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG5mdW5jdGlvbiB3ZWVrcygpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICB0aHJlc2hvbGRzID0ge1xuICAgICAgICBzczogNDQsIC8vIGEgZmV3IHNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgICBzOiA0NSwgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICAgICAgbTogNDUsIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgICAgICBoOiAyMiwgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQ6IDI2LCAvLyBkYXlzIHRvIG1vbnRoL3dlZWtcbiAgICAgICAgdzogbnVsbCwgLy8gd2Vla3MgdG8gbW9udGhcbiAgICAgICAgTTogMTEsIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgfTtcblxuLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbmZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCB0aHJlc2hvbGRzLCBsb2NhbGUpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCksXG4gICAgICAgIHNlY29uZHMgPSByb3VuZChkdXJhdGlvbi5hcygncycpKSxcbiAgICAgICAgbWludXRlcyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpLFxuICAgICAgICBob3VycyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpLFxuICAgICAgICBkYXlzID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSksXG4gICAgICAgIG1vbnRocyA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpLFxuICAgICAgICB3ZWVrcyA9IHJvdW5kKGR1cmF0aW9uLmFzKCd3JykpLFxuICAgICAgICB5ZWFycyA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpLFxuICAgICAgICBhID1cbiAgICAgICAgICAgIChzZWNvbmRzIDw9IHRocmVzaG9sZHMuc3MgJiYgWydzJywgc2Vjb25kc10pIHx8XG4gICAgICAgICAgICAoc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3NzJywgc2Vjb25kc10pIHx8XG4gICAgICAgICAgICAobWludXRlcyA8PSAxICYmIFsnbSddKSB8fFxuICAgICAgICAgICAgKG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdKSB8fFxuICAgICAgICAgICAgKGhvdXJzIDw9IDEgJiYgWydoJ10pIHx8XG4gICAgICAgICAgICAoaG91cnMgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSkgfHxcbiAgICAgICAgICAgIChkYXlzIDw9IDEgJiYgWydkJ10pIHx8XG4gICAgICAgICAgICAoZGF5cyA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10pO1xuXG4gICAgaWYgKHRocmVzaG9sZHMudyAhPSBudWxsKSB7XG4gICAgICAgIGEgPVxuICAgICAgICAgICAgYSB8fFxuICAgICAgICAgICAgKHdlZWtzIDw9IDEgJiYgWyd3J10pIHx8XG4gICAgICAgICAgICAod2Vla3MgPCB0aHJlc2hvbGRzLncgJiYgWyd3dycsIHdlZWtzXSk7XG4gICAgfVxuICAgIGEgPSBhIHx8XG4gICAgICAgIChtb250aHMgPD0gMSAmJiBbJ00nXSkgfHxcbiAgICAgICAgKG1vbnRocyA8IHRocmVzaG9sZHMuTSAmJiBbJ01NJywgbW9udGhzXSkgfHxcbiAgICAgICAgKHllYXJzIDw9IDEgJiYgWyd5J10pIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICBhWzJdID0gd2l0aG91dFN1ZmZpeDtcbiAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcbiAgICBhWzRdID0gbG9jYWxlO1xuICAgIHJldHVybiBzdWJzdGl0dXRlVGltZUFnby5hcHBseShudWxsLCBhKTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJvdW5kaW5nRnVuY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgaWYgKHRocmVzaG9sZHNbdGhyZXNob2xkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxpbWl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICB9XG4gICAgdGhyZXNob2xkc1t0aHJlc2hvbGRdID0gbGltaXQ7XG4gICAgaWYgKHRocmVzaG9sZCA9PT0gJ3MnKSB7XG4gICAgICAgIHRocmVzaG9sZHMuc3MgPSBsaW1pdCAtIDE7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBodW1hbml6ZShhcmdXaXRoU3VmZml4LCBhcmdUaHJlc2hvbGRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICB2YXIgd2l0aFN1ZmZpeCA9IGZhbHNlLFxuICAgICAgICB0aCA9IHRocmVzaG9sZHMsXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgb3V0cHV0O1xuXG4gICAgaWYgKHR5cGVvZiBhcmdXaXRoU3VmZml4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhcmdUaHJlc2hvbGRzID0gYXJnV2l0aFN1ZmZpeDtcbiAgICAgICAgYXJnV2l0aFN1ZmZpeCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZ1dpdGhTdWZmaXggPT09ICdib29sZWFuJykge1xuICAgICAgICB3aXRoU3VmZml4ID0gYXJnV2l0aFN1ZmZpeDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdUaHJlc2hvbGRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aCA9IE9iamVjdC5hc3NpZ24oe30sIHRocmVzaG9sZHMsIGFyZ1RocmVzaG9sZHMpO1xuICAgICAgICBpZiAoYXJnVGhyZXNob2xkcy5zICE9IG51bGwgJiYgYXJnVGhyZXNob2xkcy5zcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aC5zcyA9IGFyZ1RocmVzaG9sZHMucyAtIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgdGgsIGxvY2FsZSk7XG5cbiAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxudmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIHNpZ24oeCkge1xuICAgIHJldHVybiAoeCA+IDApIC0gKHggPCAwKSB8fCAreDtcbn1cblxuZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcbiAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG4gICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDAsXG4gICAgICAgIGRheXMgPSBhYnMkMSh0aGlzLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzJDEodGhpcy5fbW9udGhzKSxcbiAgICAgICAgbWludXRlcyxcbiAgICAgICAgaG91cnMsXG4gICAgICAgIHllYXJzLFxuICAgICAgICBzLFxuICAgICAgICB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCksXG4gICAgICAgIHRvdGFsU2lnbixcbiAgICAgICAgeW1TaWduLFxuICAgICAgICBkYXlzU2lnbixcbiAgICAgICAgaG1zU2lnbjtcblxuICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgIHJldHVybiAnUDBEJztcbiAgICB9XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBob3VycyA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgc2Vjb25kcyAlPSA2MDtcbiAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgIG1vbnRocyAlPSAxMjtcblxuICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgcyA9IHNlY29uZHMgPyBzZWNvbmRzLnRvRml4ZWQoMykucmVwbGFjZSgvXFwuPzArJC8sICcnKSA6ICcnO1xuXG4gICAgdG90YWxTaWduID0gdG90YWwgPCAwID8gJy0nIDogJyc7XG4gICAgeW1TaWduID0gc2lnbih0aGlzLl9tb250aHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgIGRheXNTaWduID0gc2lnbih0aGlzLl9kYXlzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICBobXNTaWduID0gc2lnbih0aGlzLl9taWxsaXNlY29uZHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgdG90YWxTaWduICtcbiAgICAgICAgJ1AnICtcbiAgICAgICAgKHllYXJzID8geW1TaWduICsgeWVhcnMgKyAnWScgOiAnJykgK1xuICAgICAgICAobW9udGhzID8geW1TaWduICsgbW9udGhzICsgJ00nIDogJycpICtcbiAgICAgICAgKGRheXMgPyBkYXlzU2lnbiArIGRheXMgKyAnRCcgOiAnJykgK1xuICAgICAgICAoaG91cnMgfHwgbWludXRlcyB8fCBzZWNvbmRzID8gJ1QnIDogJycpICtcbiAgICAgICAgKGhvdXJzID8gaG1zU2lnbiArIGhvdXJzICsgJ0gnIDogJycpICtcbiAgICAgICAgKG1pbnV0ZXMgPyBobXNTaWduICsgbWludXRlcyArICdNJyA6ICcnKSArXG4gICAgICAgIChzZWNvbmRzID8gaG1zU2lnbiArIHMgKyAnUycgOiAnJylcbiAgICApO1xufVxuXG52YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxucHJvdG8kMi5pc1ZhbGlkID0gaXNWYWxpZCQxO1xucHJvdG8kMi5hYnMgPSBhYnM7XG5wcm90byQyLmFkZCA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyA9IGFzU2Vjb25kcztcbnByb3RvJDIuYXNNaW51dGVzID0gYXNNaW51dGVzO1xucHJvdG8kMi5hc0hvdXJzID0gYXNIb3VycztcbnByb3RvJDIuYXNEYXlzID0gYXNEYXlzO1xucHJvdG8kMi5hc1dlZWtzID0gYXNXZWVrcztcbnByb3RvJDIuYXNNb250aHMgPSBhc01vbnRocztcbnByb3RvJDIuYXNRdWFydGVycyA9IGFzUXVhcnRlcnM7XG5wcm90byQyLmFzWWVhcnMgPSBhc1llYXJzO1xucHJvdG8kMi52YWx1ZU9mID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlID0gYnViYmxlO1xucHJvdG8kMi5jbG9uZSA9IGNsb25lJDE7XG5wcm90byQyLmdldCA9IGdldCQyO1xucHJvdG8kMi5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgPSBzZWNvbmRzO1xucHJvdG8kMi5taW51dGVzID0gbWludXRlcztcbnByb3RvJDIuaG91cnMgPSBob3VycztcbnByb3RvJDIuZGF5cyA9IGRheXM7XG5wcm90byQyLndlZWtzID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyA9IG1vbnRocztcbnByb3RvJDIueWVhcnMgPSB5ZWFycztcbnByb3RvJDIuaHVtYW5pemUgPSBodW1hbml6ZTtcbnByb3RvJDIudG9JU09TdHJpbmcgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b1N0cmluZyA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvSlNPTiA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLmxvY2FsZSA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSA9IGxvY2FsZURhdGE7XG5cbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoXG4gICAgJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJyxcbiAgICB0b0lTT1N0cmluZyQxXG4pO1xucHJvdG8kMi5sYW5nID0gbGFuZztcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5hZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5hZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCkgKiAxMDAwKTtcbn0pO1xuYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG59KTtcblxuLy8hIG1vbWVudC5qc1xuXG5ob29rcy52ZXJzaW9uID0gJzIuMjkuMSc7XG5cbnNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbmhvb2tzLmZuID0gcHJvdG87XG5ob29rcy5taW4gPSBtaW47XG5ob29rcy5tYXggPSBtYXg7XG5ob29rcy5ub3cgPSBub3c7XG5ob29rcy51dGMgPSBjcmVhdGVVVEM7XG5ob29rcy51bml4ID0gY3JlYXRlVW5peDtcbmhvb2tzLm1vbnRocyA9IGxpc3RNb250aHM7XG5ob29rcy5pc0RhdGUgPSBpc0RhdGU7XG5ob29rcy5sb2NhbGUgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5ob29rcy5pbnZhbGlkID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb247XG5ob29rcy5pc01vbWVudCA9IGlzTW9tZW50O1xuaG9va3Mud2Vla2RheXMgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhID0gZ2V0TG9jYWxlO1xuaG9va3MuaXNEdXJhdGlvbiA9IGlzRHVyYXRpb247XG5ob29rcy5tb250aHNTaG9ydCA9IGxpc3RNb250aHNTaG9ydDtcbmhvb2tzLndlZWtkYXlzTWluID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyA9IGxpc3RMb2NhbGVzO1xuaG9va3Mud2Vla2RheXNTaG9ydCA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuaG9va3Mubm9ybWFsaXplVW5pdHMgPSBub3JtYWxpemVVbml0cztcbmhvb2tzLnJlbGF0aXZlVGltZVJvdW5kaW5nID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG5ob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5ob29rcy5jYWxlbmRhckZvcm1hdCA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlID0gcHJvdG87XG5cbi8vIGN1cnJlbnRseSBIVE1MNSBpbnB1dCB0eXBlIG9ubHkgc3VwcG9ydHMgMjQtaG91ciBmb3JtYXRzXG5ob29rcy5IVE1MNV9GTVQgPSB7XG4gICAgREFURVRJTUVfTE9DQUw6ICdZWVlZLU1NLUREVEhIOm1tJywgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIC8+XG4gICAgREFURVRJTUVfTE9DQUxfU0VDT05EUzogJ1lZWVktTU0tRERUSEg6bW06c3MnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjFcIiAvPlxuICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICBEQVRFOiAnWVlZWS1NTS1ERCcsIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIC8+XG4gICAgVElNRTogJ0hIOm1tJywgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5cbiAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIxXCIgLz5cbiAgICBUSU1FX01TOiAnSEg6bW06c3MuU1NTJywgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICBXRUVLOiAnR0dHRy1bV11XVycsIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgTU9OVEg6ICdZWVlZLU1NJywgLy8gPGlucHV0IHR5cGU9XCJtb250aFwiIC8+XG59O1xuXG5leHBvcnQgZGVmYXVsdCBob29rcztcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IENoYXRBY3Rpb25UeXBlIH0gZnJvbSAnLi9DaGF0QWN0aW9ucydcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL01lc3NhZ2UnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcbmltcG9ydCB7IHN0cmluZyB9IGZyb20gJ3l1cC9saWIvbG9jYWxlJ1xuXG4vLyBUT0RPOiBmaW5kIGV4aXN0aW5nIGludGVyZmFjZXMgZm9yIHRoZXNlIG9yIG1vdmUgdGhlc2UgdG8gQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlc1xuXG4vLyBUT0RPIC0gYWRkIHByb3BlciB0eXBlcyB0byB0aGlzXG5cbmV4cG9ydCB0eXBlIENoYW5uZWxUeXBlID0ge1xuICBjaGFubmVsVHlwZTogc3RyaW5nXG4gIGNyZWF0ZWRBdDogc3RyaW5nXG4gIGdyb3VwPzogYW55XG4gIGdyb3VwSWQ/OiBzdHJpbmdcbiAgaWQ6IHN0cmluZ1xuICBpbnN0YW5jZToge1xuICAgIGlkOiBzdHJpbmdcbiAgICBpcEFkZHJlc3M6IHN0cmluZ1xuICAgIGNoYW5uZWxJZDogc3RyaW5nXG4gICAgY3VycmVudFVzZXJzOiBudW1iZXJcbiAgICBlbmRlZDogYm9vbGVhblxuICB9XG4gIGluc3RhbmNlSWQ6IHN0cmluZ1xuICBsaW1pdDogbnVtYmVyXG4gIG1lc3NhZ2VzOiBhbnkgLy8gTWVzc2FnZVR5cGVcbiAgcGFydHk6IGFueVxuICBwYXJ0eUlkOiBzdHJpbmdcbiAgc2tpcDogbnVtYmVyXG4gIHRvdGFsOiBudW1iZXJcbiAgdXBkYXRlTmVlZGVkOiBib29sZWFuXG4gIHVwZGF0ZWRBdDogc3RyaW5nXG4gIHVzZXIxOiBhbnlcbiAgdXNlcjI6IGFueVxuICB1c2VySWQxOiBhbnlcbiAgdXNlcklkMjogYW55XG59XG5leHBvcnQgdHlwZSBDaGFubmVsc1R5cGUgPSB7IFtpZDogc3RyaW5nXTogQ2hhbm5lbFR5cGUgfVxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgY2hhbm5lbHM6IHtcbiAgICBjaGFubmVsczoge30gYXMgQ2hhbm5lbHNUeXBlLFxuICAgIGxpbWl0OiA1LFxuICAgIHNraXA6IDAsXG4gICAgdG90YWw6IDAsXG4gICAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICAgIGZldGNoaW5nSW5zdGFuY2VDaGFubmVsOiBmYWxzZVxuICB9LFxuICB0YXJnZXRPYmplY3RUeXBlOiAnJyxcbiAgdGFyZ2V0T2JqZWN0OiB7XG4gICAgaWQ6ICcnLFxuICAgIG5hbWU6ICcnXG4gIH0sXG4gIHRhcmdldENoYW5uZWxJZDogJycsXG4gIHVwZGF0ZU1lc3NhZ2VTY3JvbGw6IGZhbHNlLFxuICBtZXNzYWdlU2Nyb2xsSW5pdDogZmFsc2UsXG4gIGluc3RhbmNlQ2hhbm5lbEZldGNoaW5nOiBmYWxzZSxcbiAgaW5zdGFuY2VDaGFubmVsRmV0Y2hlZDogZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBjaGF0UmVkdWNlciA9IChfLCBhY3Rpb246IENoYXRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gY2hhdFJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgY2hhdFJlY2VwdG9yID0gKGFjdGlvbjogQ2hhdEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgdXBkYXRlTWFwLCBsb2NhbEFjdGlvbiwgdXBkYXRlTWFwQ2hhbm5lbHM6IENoYW5uZWxzVHlwZSwgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uIS50eXBlKSB7XG4gICAgICBjYXNlICdMT0FERURfQ0hBTk5FTFMnOlxuICAgICAgICBsb2NhbEFjdGlvbiA9IGFjdGlvblxuICAgICAgICB1cGRhdGVNYXAgPSBzdGF0ZS5jaGFubmVscy52YWx1ZVxuICAgICAgICB1cGRhdGVNYXAubGltaXQgPSBsb2NhbEFjdGlvbi5saW1pdFxuICAgICAgICB1cGRhdGVNYXAuc2tpcCA9IGxvY2FsQWN0aW9uLnNraXBcbiAgICAgICAgdXBkYXRlTWFwLnRvdGFsID0gbG9jYWxBY3Rpb24udG90YWxcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHMgPSB1cGRhdGVNYXAuY2hhbm5lbHNcbiAgICAgICAgdXBkYXRlTWFwLnVwZGF0ZU5lZWRlZCA9IGZhbHNlXG4gICAgICAgIGxvY2FsQWN0aW9uLmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IHtcbiAgICAgICAgICBpZiAodXBkYXRlTWFwQ2hhbm5lbHNbY2hhbm5lbC5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgY2hhbm5lbC51cGRhdGVOZWVkZWQgPSB0cnVlXG4gICAgICAgICAgICBjaGFubmVsLmxpbWl0ID0gOFxuICAgICAgICAgICAgY2hhbm5lbC5za2lwID0gMFxuICAgICAgICAgICAgY2hhbm5lbC50b3RhbCA9IDBcbiAgICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzW2NoYW5uZWwuaWRdID0gY2hhbm5lbFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdXBkYXRlTWFwLmNoYW5uZWxzID0gdXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBjaGFubmVsczogdXBkYXRlTWFwIH0pXG4gICAgICBjYXNlICdMT0FERURfQ0hBTk5FTCc6XG4gICAgICAgIGxvY2FsQWN0aW9uID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IG5ld0NoYW5uZWwgPSBsb2NhbEFjdGlvbi5jaGFubmVsXG4gICAgICAgIGNvbnN0IGNoYW5uZWxUeXBlID0gbG9jYWxBY3Rpb24uY2hhbm5lbFR5cGVcbiAgICAgICAgdXBkYXRlTWFwID0gcy5jaGFubmVscy52YWx1ZVxuICAgICAgICB1cGRhdGVNYXBDaGFubmVscyA9IHVwZGF0ZU1hcC5jaGFubmVsc1xuICAgICAgICBpZiAoY2hhbm5lbFR5cGUgPT09ICdpbnN0YW5jZScpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wVXBkYXRlTWFwQ2hhbm5lbHMgPSB7fVxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZU1hcENoYW5uZWxzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5jaGFubmVsVHlwZSAhPT0gJ2luc3RhbmNlJykgdGVtcFVwZGF0ZU1hcENoYW5uZWxzW2tleV0gPSB2YWx1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHMgPSB0ZW1wVXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Q2hhbm5lbD8uaWQgIT0gbnVsbCAmJiB1cGRhdGVNYXBDaGFubmVsc1tuZXdDaGFubmVsLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgbmV3Q2hhbm5lbC51cGRhdGVOZWVkZWQgPSB0cnVlXG4gICAgICAgICAgbmV3Q2hhbm5lbC5saW1pdCA9IDEwXG4gICAgICAgICAgbmV3Q2hhbm5lbC5za2lwID0gMFxuICAgICAgICAgIG5ld0NoYW5uZWwudG90YWwgPSAwXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNbbmV3Q2hhbm5lbC5pZF0gPSBuZXdDaGFubmVsXG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlTWFwLmNoYW5uZWxzID0gdXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgICAgaWYgKGNoYW5uZWxUeXBlID09PSAnaW5zdGFuY2UnKSB7XG4gICAgICAgICAgY29uc3QgY2hhbm5lbHMgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgICAgY2hhbm5lbHMuZmV0Y2hpbmdJbnN0YW5jZUNoYW5uZWwgPSBmYWxzZVxuICAgICAgICAgIHMubWVyZ2UoeyBpbnN0YW5jZUNoYW5uZWxGZXRjaGVkOiB0cnVlLCBjaGFubmVsczogY2hhbm5lbHMgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc1xuICAgICAgY2FzZSAnQ1JFQVRFRF9NRVNTQUdFJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgY29uc3QgY2hhbm5lbElkID0gbG9jYWxBY3Rpb24ubWVzc2FnZS5jaGFubmVsSWRcbiAgICAgICAgY29uc3Qgc2VsZlVzZXIgPSBsb2NhbEFjdGlvbi5zZWxmVXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tjaGFubmVsSWRdXG4gICAgICAgIGlmICh1cGRhdGVNYXBDaGFubmVsc0NoaWxkID09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXAudXBkYXRlTmVlZGVkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMgPVxuICAgICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcyA9PSBudWxsIHx8XG4gICAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzLnNpemUgIT0gbnVsbCB8fFxuICAgICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC51cGRhdGVOZWVkZWQgPT09IHRydWVcbiAgICAgICAgICAgICAgPyBbbG9jYWxBY3Rpb24ubWVzc2FnZV1cbiAgICAgICAgICAgICAgOiBfLnVuaW9uQnkodXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcywgW2xvY2FsQWN0aW9uLm1lc3NhZ2VdLCAnaWQnKVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCArIDFcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnVwZGF0ZWRBdCA9IG1vbWVudCgpLnV0YygpLnRvSlNPTigpXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNbY2hhbm5lbElkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcbiAgICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICB9XG4gICAgICAgIHMubWVyZ2UoeyBjaGFubmVsczogdXBkYXRlTWFwLCB1cGRhdGVNZXNzYWdlU2Nyb2xsOiB0cnVlIH0pXG5cbiAgICAgICAgaWYgKHMudGFyZ2V0Q2hhbm5lbElkLnZhbHVlLmxlbmd0aCA9PT0gMCAmJiB1cGRhdGVNYXBDaGFubmVsc0NoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBjaGFubmVsVHlwZSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuY2hhbm5lbFR5cGVcbiAgICAgICAgICBjb25zdCB0YXJnZXRPYmplY3QgPVxuICAgICAgICAgICAgY2hhbm5lbFR5cGUgPT09ICd1c2VyJ1xuICAgICAgICAgICAgICA/IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXNlcklkMSA9PT0gc2VsZlVzZXIuaWRcbiAgICAgICAgICAgICAgICA/IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXNlcjJcbiAgICAgICAgICAgICAgICA6IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXNlcjFcbiAgICAgICAgICAgICAgOiBjaGFubmVsVHlwZSA9PT0gJ2dyb3VwJ1xuICAgICAgICAgICAgICA/IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuZ3JvdXBcbiAgICAgICAgICAgICAgOiBjaGFubmVsVHlwZSA9PT0gJ2luc3RhbmNlJ1xuICAgICAgICAgICAgICA/IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuaW5zdGFuY2VcbiAgICAgICAgICAgICAgOiB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnBhcnR5XG4gICAgICAgICAgcy5tZXJnZSh7IHRhcmdldENoYW5uZWxJZDogY2hhbm5lbElkLCB0YXJnZXRPYmplY3RUeXBlOiBjaGFubmVsVHlwZSwgdGFyZ2V0T2JqZWN0OiB0YXJnZXRPYmplY3QgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc1xuICAgICAgY2FzZSAnTE9BREVEX01FU1NBR0VTJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdXBkYXRlTWFwID0gcy5jaGFubmVscy52YWx1ZVxuICAgICAgICB1cGRhdGVNYXBDaGFubmVscyA9IHVwZGF0ZU1hcC5jaGFubmVsc1xuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkID0gdXBkYXRlTWFwQ2hhbm5lbHNbbG9jYWxBY3Rpb24uY2hhbm5lbElkXVxuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzID1cbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzID09IG51bGwgfHxcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzLnNpemUgIT0gbnVsbCB8fFxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXBkYXRlTmVlZGVkID09PSB0cnVlXG4gICAgICAgICAgICA/IGxvY2FsQWN0aW9uLm1lc3NhZ2VzXG4gICAgICAgICAgICA6IF8udW5pb25CeSh1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzLCBsb2NhbEFjdGlvbi5tZXNzYWdlcywgJ2lkJylcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5saW1pdCA9IGxvY2FsQWN0aW9uLmxpbWl0XG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCA9IGxvY2FsQWN0aW9uLnNraXBcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC50b3RhbCA9IGxvY2FsQWN0aW9uLnRvdGFsXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXBkYXRlTmVlZGVkID0gZmFsc2VcbiAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNbbG9jYWxBY3Rpb24uY2hhbm5lbElkXSA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGRcblxuICAgICAgICByZXR1cm4gcy5jaGFubmVscy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXBDaGFubmVscyB9KVxuICAgICAgY2FzZSAnUkVNT1ZFRF9NRVNTQUdFJzpcbiAgICAgICAgbG9jYWxBY3Rpb24gPSBhY3Rpb25cbiAgICAgICAgdXBkYXRlTWFwID0gcy5jaGFubmVscy52YWx1ZVxuXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgPSB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5tZXNzYWdlLmNoYW5uZWxJZF1cbiAgICAgICAgaWYgKHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgIF8ucmVtb3ZlKHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQubWVzc2FnZXMsIChtZXNzYWdlOiBNZXNzYWdlKSA9PiBtZXNzYWdlLmlkID09PSBsb2NhbEFjdGlvbi5tZXNzYWdlLmlkKVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCA9IHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuc2tpcCAtIDFcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5tZXNzYWdlLmNoYW5uZWxJZF0gPSB1cGRhdGVNYXBDaGFubmVsc0NoaWxkXG4gICAgICAgICAgdXBkYXRlTWFwLmNoYW5uZWxzID0gdXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgIGNhc2UgJ1BBVENIRURfTUVTU0FHRSc6XG4gICAgICAgIGxvY2FsQWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuY2hhbm5lbHMudmFsdWVcblxuICAgICAgICB1cGRhdGVNYXBDaGFubmVscyA9IHVwZGF0ZU1hcC5jaGFubmVsc1xuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkID0gdXBkYXRlTWFwQ2hhbm5lbHNbbG9jYWxBY3Rpb24ubWVzc2FnZS5jaGFubmVsSWRdXG4gICAgICAgIGlmICh1cGRhdGVNYXBDaGFubmVsc0NoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLm1lc3NhZ2VzID0gdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5tZXNzYWdlcy5tYXAoKG1lc3NhZ2U6IE1lc3NhZ2UpID0+XG4gICAgICAgICAgICBtZXNzYWdlLmlkID09PSBsb2NhbEFjdGlvbi5tZXNzYWdlLmlkID8gbG9jYWxBY3Rpb24ubWVzc2FnZSA6IG1lc3NhZ2VcbiAgICAgICAgICApXG5cbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tsb2NhbEFjdGlvbi5tZXNzYWdlLmNoYW5uZWxJZF0gPSB1cGRhdGVNYXBDaGFubmVsc0NoaWxkXG4gICAgICAgICAgdXBkYXRlTWFwLmNoYW5uZWxzID0gdXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgIGNhc2UgJ0NSRUFURURfQ0hBTk5FTCc6XG4gICAgICAgIGxvY2FsQWN0aW9uID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IGNyZWF0ZWRDaGFubmVsID0gbG9jYWxBY3Rpb24uY2hhbm5lbFxuICAgICAgICB1cGRhdGVNYXAgPSBzLmNoYW5uZWxzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzID0gdXBkYXRlTWFwLmNoYW5uZWxzXG5cbiAgICAgICAgY3JlYXRlZENoYW5uZWwudXBkYXRlTmVlZGVkID0gdHJ1ZVxuICAgICAgICBjcmVhdGVkQ2hhbm5lbC5saW1pdCA9IDEwXG4gICAgICAgIGNyZWF0ZWRDaGFubmVsLnNraXAgPSAwXG4gICAgICAgIGNyZWF0ZWRDaGFubmVsLnRvdGFsID0gMFxuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc1tjcmVhdGVkQ2hhbm5lbC5pZF0gPSBjcmVhdGVkQ2hhbm5lbFxuICAgICAgICB1cGRhdGVNYXAuY2hhbm5lbHMgPSB1cGRhdGVNYXBDaGFubmVsc1xuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgIGNhc2UgJ1BBVENIRURfQ0hBTk5FTCc6XG4gICAgICAgIGxvY2FsQWN0aW9uID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IHVwZGF0ZUNoYW5uZWwgPSBsb2NhbEFjdGlvbi5jaGFubmVsXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuY2hhbm5lbHMudmFsdWVcblxuICAgICAgICB1cGRhdGVNYXBDaGFubmVscyA9IHVwZGF0ZU1hcC5jaGFubmVsc1xuICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkID0gdXBkYXRlTWFwQ2hhbm5lbHNbbG9jYWxBY3Rpb24uY2hhbm5lbC5pZF1cbiAgICAgICAgaWYgKHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXBkYXRlZEF0ID0gdXBkYXRlQ2hhbm5lbC51cGRhdGVkQXRcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLmdyb3VwID0gdXBkYXRlQ2hhbm5lbC5ncm91cFxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQuaW5zdGFuY2UgPSB1cGRhdGVDaGFubmVsLmluc3RhbmNlXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNDaGlsZC5wYXJ0eSA9IHVwZGF0ZUNoYW5uZWwucGFydHlcbiAgICAgICAgICB1cGRhdGVNYXBDaGFubmVsc0NoaWxkLnVzZXIxID0gdXBkYXRlQ2hhbm5lbC51c2VyMVxuICAgICAgICAgIHVwZGF0ZU1hcENoYW5uZWxzQ2hpbGQudXNlcjIgPSB1cGRhdGVDaGFubmVsLnVzZXIyXG4gICAgICAgICAgdXBkYXRlTWFwQ2hhbm5lbHNbbG9jYWxBY3Rpb24uY2hhbm5lbC5pZF0gPSB1cGRhdGVNYXBDaGFubmVsc0NoaWxkXG4gICAgICAgICAgdXBkYXRlTWFwLmNoYW5uZWxzID0gdXBkYXRlTWFwQ2hhbm5lbHNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGNoYW5uZWxzOiB1cGRhdGVNYXAgfSlcbiAgICAgIGNhc2UgJ1JFTU9WRURfQ0hBTk5FTCc6XG4gICAgICAgIGxvY2FsQWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHJldHVybiBzLmNoYW5uZWxzLmNoYW5uZWxzW2xvY2FsQWN0aW9uLmNoYW5uZWwuaWRdLnNldChub25lKVxuICAgICAgY2FzZSAnQ0hBVF9UQVJHRVRfU0VUJzpcbiAgICAgICAgY29uc3QgeyB0YXJnZXRPYmplY3RUeXBlLCB0YXJnZXRPYmplY3QsIHRhcmdldENoYW5uZWxJZCB9ID0gYWN0aW9uXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICB0YXJnZXRPYmplY3RUeXBlOiB0YXJnZXRPYmplY3RUeXBlLFxuICAgICAgICAgIHRhcmdldE9iamVjdDogdGFyZ2V0T2JqZWN0LFxuICAgICAgICAgIHRhcmdldENoYW5uZWxJZDogdGFyZ2V0Q2hhbm5lbElkLFxuICAgICAgICAgIHVwZGF0ZU1lc3NhZ2VTY3JvbGw6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZVNjcm9sbEluaXQ6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgY2FzZSAnU0VUX01FU1NBR0VfU0NST0xMX0lOSVQnOlxuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBhY3Rpb25cbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBtZXNzYWdlU2Nyb2xsSW5pdDogdmFsdWUgfSlcbiAgICAgIGNhc2UgJ0ZFVENISU5HX0lOU1RBTkNFX0NIQU5ORUwnOlxuICAgICAgICByZXR1cm4gcy5jaGFubmVscy5tZXJnZSh7IGZldGNoaW5nSW5zdGFuY2VDaGFubmVsOiB0cnVlIH0pXG4gICAgICBjYXNlICdTRVRfVVBEQVRFX01FU1NBR0VfU0NST0xMJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVNZXNzYWdlU2Nyb2xsOiBhY3Rpb24udmFsdWUgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzQ2hhdFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VDaGF0U3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgRnJpZW5kQWN0aW9uVHlwZSB9IGZyb20gJy4vRnJpZW5kQWN0aW9ucydcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBmcmllbmRzOiB7XG4gICAgZnJpZW5kczogW10gYXMgQXJyYXk8VXNlcj4sXG4gICAgdG90YWw6IDAsXG4gICAgbGltaXQ6IDUsXG4gICAgc2tpcDogMFxuICB9LFxuICBnZXRGcmllbmRzSW5Qcm9ncmVzczogZmFsc2UsXG4gIHVwZGF0ZU5lZWRlZDogdHJ1ZVxufSlcblxuZXhwb3J0IGNvbnN0IGZyaWVuZFJlZHVjZXIgPSAoXywgYWN0aW9uOiBGcmllbmRBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZnJpZW5kUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCBmcmllbmRSZWNlcHRvciA9IChhY3Rpb246IEZyaWVuZEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzLCBzZWxmVXNlciwgb3RoZXJVc2VyLCBvdGhlclVzZXJJZFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0xPQURFRF9GUklFTkRTJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGlmIChzLnVwZGF0ZU5lZWRlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHMuZnJpZW5kcy5mcmllbmRzLnNldChuZXdWYWx1ZXMuZnJpZW5kcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLmZyaWVuZHMuZnJpZW5kcy5zZXQoW3MuZnJpZW5kcy5mcmllbmRzLnZhbHVlLCBuZXdWYWx1ZXMuZnJpZW5kc10pXG4gICAgICAgIH1cbiAgICAgICAgcy5mcmllbmRzLnNraXAuc2V0KG5ld1ZhbHVlcy5za2lwKVxuICAgICAgICBzLmZyaWVuZHMubGltaXQuc2V0KG5ld1ZhbHVlcy5saW1pdClcbiAgICAgICAgcy5mcmllbmRzLnRvdGFsLnNldChuZXdWYWx1ZXMudG90YWwpXG4gICAgICAgIHMudXBkYXRlTmVlZGVkLnNldChmYWxzZSlcbiAgICAgICAgcmV0dXJuIHMuZ2V0RnJpZW5kc0luUHJvZ3Jlc3Muc2V0KGZhbHNlKVxuXG4gICAgICBjYXNlICdDUkVBVEVEX0ZSSUVORCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBjb25zdCBjcmVhdGVkVXNlclJlbGF0aW9uc2hpcCA9IG5ld1ZhbHVlcy51c2VyUmVsYXRpb25zaGlwXG4gICAgICAgIHMuZnJpZW5kcy5mcmllbmRzLnNldChbLi4ucy5mcmllbmRzLmZyaWVuZHMudmFsdWUsIGNyZWF0ZWRVc2VyUmVsYXRpb25zaGlwXSlcbiAgICAgIGNhc2UgJ1BBVENIRURfRlJJRU5EJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwID0gbmV3VmFsdWVzLnVzZXJSZWxhdGlvbnNoaXBcbiAgICAgICAgc2VsZlVzZXIgPSBuZXdWYWx1ZXMuc2VsZlVzZXJcbiAgICAgICAgb3RoZXJVc2VyID1cbiAgICAgICAgICBwYXRjaGVkVXNlclJlbGF0aW9uc2hpcC51c2VySWQgPT09IHNlbGZVc2VyLmlkXG4gICAgICAgICAgICA/IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwLnJlbGF0ZWRVc2VyXG4gICAgICAgICAgICA6IHBhdGNoZWRVc2VyUmVsYXRpb25zaGlwLnVzZXJcblxuICAgICAgICBjb25zdCBwYXRjaGVkRnJpZW5kSW5kZXggPSBzLmZyaWVuZHMuZnJpZW5kcy52YWx1ZS5maW5kSW5kZXgoKGZyaWVuZEl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZnJpZW5kSXRlbSAhPSBudWxsICYmIGZyaWVuZEl0ZW0uaWQgPT09IG90aGVyVXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAocGF0Y2hlZEZyaWVuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kcy5zZXQoWy4uLnMuZnJpZW5kcy5mcmllbmRzLnZhbHVlLCBvdGhlclVzZXJdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kc1twYXRjaGVkRnJpZW5kSW5kZXhdLnNldChvdGhlclVzZXIpXG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnUkVNT1ZFRF9GUklFTkQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgY29uc3QgcmVtb3ZlZFVzZXJSZWxhdGlvbnNoaXAgPSBuZXdWYWx1ZXMudXNlclJlbGF0aW9uc2hpcFxuICAgICAgICBzZWxmVXNlciA9IG5ld1ZhbHVlcy5zZWxmVXNlclxuICAgICAgICBvdGhlclVzZXJJZCA9XG4gICAgICAgICAgcmVtb3ZlZFVzZXJSZWxhdGlvbnNoaXAudXNlcklkID09PSBzZWxmVXNlci5pZFxuICAgICAgICAgICAgPyByZW1vdmVkVXNlclJlbGF0aW9uc2hpcC5yZWxhdGVkVXNlcklkXG4gICAgICAgICAgICA6IHJlbW92ZWRVc2VyUmVsYXRpb25zaGlwLnVzZXJJZFxuXG4gICAgICAgIGNvbnN0IGZyaWVuZElkID0gcy5mcmllbmRzLmZyaWVuZHMudmFsdWUuZmluZEluZGV4KChmcmllbmRJdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZyaWVuZEl0ZW0gIT0gbnVsbCAmJiBmcmllbmRJdGVtLmlkID09PSBvdGhlclVzZXJJZFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBzLmZyaWVuZHMuZnJpZW5kc1tmcmllbmRJZF0uc2V0KG5vbmUpXG4gICAgICBjYXNlICdGRVRDSElOR19GUklFTkRTJzpcbiAgICAgICAgcmV0dXJuIHMuZ2V0RnJpZW5kc0luUHJvZ3Jlc3Muc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0ZyaWVuZFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VGcmllbmRTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBMb2NhdGlvblNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhdGlvblNldHRpbmdzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgc2x1Z2lmaWVkTmFtZTogc3RyaW5nXG4gIG1heFVzZXJzUGVySW5zdGFuY2U6IG51bWJlclxuICBzY2VuZUlkOiBzdHJpbmdcbiAgbG9jYXRpb25TZXR0aW5nc0lkOiBzdHJpbmdcbiAgbG9jYXRpb25fc2V0dGluZ3M6IExvY2F0aW9uU2V0dGluZ3NcbiAgaXNMb2JieTogYm9vbGVhblxuICBpc0ZlYXR1cmVkOiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBMb2NhdGlvblNlZWQ6IExvY2F0aW9uID0ge1xuICBpZDogJycsXG4gIG5hbWU6ICcnLFxuICBzbHVnaWZpZWROYW1lOiAnJyxcbiAgbWF4VXNlcnNQZXJJbnN0YW5jZTogMTAsXG4gIHNjZW5lSWQ6ICcnLFxuICBsb2NhdGlvblNldHRpbmdzSWQ6ICcnLFxuICBpc0xvYmJ5OiBmYWxzZSxcbiAgaXNGZWF0dXJlZDogZmFsc2UsXG4gIGxvY2F0aW9uX3NldHRpbmdzOiB7XG4gICAgaWQ6ICcnLFxuICAgIGxvY2F0aW9uSWQ6ICcnLFxuICAgIGluc3RhbmNlTWVkaWFDaGF0RW5hYmxlZDogZmFsc2UsXG4gICAgYXVkaW9FbmFibGVkOiBmYWxzZSxcbiAgICBzY3JlZW5TaGFyaW5nRW5hYmxlZDogZmFsc2UsXG4gICAgZmFjZVN0cmVhbWluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgIGxvY2F0aW9uVHlwZTogJ3ByaXZhdGUnLFxuICAgIHZpZGVvRW5hYmxlZDogZmFsc2VcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgTG9jYXRpb24sIExvY2F0aW9uU2VlZCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvTG9jYXRpb24nXG5pbXBvcnQgeyBVc2VySWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXJJZCdcbmltcG9ydCB7IExvY2F0aW9uQWN0aW9uVHlwZSB9IGZyb20gJy4vTG9jYXRpb25BY3Rpb25zJ1xuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgbG9jYXRpb25zOiB7XG4gICAgbG9jYXRpb25zOiBbXSBhcyBMb2NhdGlvbltdLFxuICAgIHRvdGFsOiAwLFxuICAgIGxpbWl0OiAxMCxcbiAgICBza2lwOiAwXG4gIH0sXG4gIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgIGxvY2F0aW9uOiBMb2NhdGlvblNlZWQgYXMgTG9jYXRpb24sXG4gICAgYmFubmVkVXNlcnM6IFtdIGFzIFVzZXJJZFtdXG4gIH0sXG4gIHVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgY3VycmVudExvY2F0aW9uVXBkYXRlTmVlZGVkOiB0cnVlLFxuICBmZXRjaGluZ0N1cnJlbnRMb2NhdGlvbjogZmFsc2UsXG4gIGludmFsaWRMb2NhdGlvbjogZmFsc2Vcbn0pXG5cbmV4cG9ydCBjb25zdCBsb2NhdGlvblJlZHVjZXIgPSAoXywgYWN0aW9uOiBMb2NhdGlvbkFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBsb2NhdGlvblJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgbG9jYXRpb25SZWNlcHRvciA9IChhY3Rpb246IExvY2F0aW9uQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIGxldCBuZXdWYWx1ZXMsIHVwZGF0ZU1hcFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0xPQ0FUSU9OU19SRVRSSUVWRUQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb24ubG9jYXRpb25zXG5cbiAgICAgICAgaWYgKHMubG9jYXRpb25zLmxvY2F0aW9ucyA9PSBudWxsIHx8IHMudXBkYXRlTmVlZGVkLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgcy5sb2NhdGlvbnMubG9jYXRpb25zLnNldChuZXdWYWx1ZXMuZGF0YSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLmxvY2F0aW9ucy5sb2NhdGlvbnMuc2V0KFsuLi5zLmxvY2F0aW9ucy5sb2NhdGlvbnMudmFsdWUsIC4uLm5ld1ZhbHVlcy5kYXRhXSlcbiAgICAgICAgfVxuXG4gICAgICAgIHMubG9jYXRpb25zLnNraXAuc2V0KG5ld1ZhbHVlcy5za2lwKVxuICAgICAgICBzLmxvY2F0aW9ucy5saW1pdC5zZXQobmV3VmFsdWVzLmxpbWl0KVxuICAgICAgICBzLmxvY2F0aW9ucy50b3RhbC5zZXQobmV3VmFsdWVzLnRvdGFsKVxuICAgICAgICByZXR1cm4gcy51cGRhdGVOZWVkZWQuc2V0KGZhbHNlKVxuXG4gICAgICBjYXNlICdGRVRDSF9DVVJSRU5UX0xPQ0FUSU9OJzpcbiAgICAgICAgcmV0dXJuIHMuZmV0Y2hpbmdDdXJyZW50TG9jYXRpb24uc2V0KHRydWUpXG5cbiAgICAgIGNhc2UgJ0xPQ0FUSU9OX1JFVFJJRVZFRCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvbi5sb2NhdGlvblxuICAgICAgICBuZXdWYWx1ZXMubG9jYXRpb25TZXR0aW5ncyA9IG5ld1ZhbHVlcy5sb2NhdGlvbl9zZXR0aW5nXG5cbiAgICAgICAgbGV0IGJhbm5lZFVzZXJzID0gW10gYXMgVXNlcklkW11cbiAgICAgICAgbmV3VmFsdWVzPy5sb2NhdGlvbl9iYW5zPy5mb3JFYWNoKChiYW4pID0+IHtcbiAgICAgICAgICBiYW5uZWRVc2Vycy5wdXNoKGJhbi51c2VySWQpXG4gICAgICAgIH0pXG4gICAgICAgIGJhbm5lZFVzZXJzID0gWy4uLm5ldyBTZXQoYmFubmVkVXNlcnMpXVxuXG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLmxvY2F0aW9uLnNldChuZXdWYWx1ZXMpXG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLmJhbm5lZFVzZXJzLnNldChiYW5uZWRVc2VycylcbiAgICAgICAgcy5jdXJyZW50TG9jYXRpb25VcGRhdGVOZWVkZWQuc2V0KGZhbHNlKVxuICAgICAgICByZXR1cm4gcy5mZXRjaGluZ0N1cnJlbnRMb2NhdGlvbi5zZXQoZmFsc2UpXG5cbiAgICAgIGNhc2UgJ0xPQ0FUSU9OX05PVF9GT1VORCc6XG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uLm1lcmdlKHsgbG9jYXRpb246IExvY2F0aW9uU2VlZCwgYmFubmVkVXNlcnM6IFtdIH0pXG4gICAgICAgIHMuY3VycmVudExvY2F0aW9uVXBkYXRlTmVlZGVkLnNldChmYWxzZSlcbiAgICAgICAgcy5mZXRjaGluZ0N1cnJlbnRMb2NhdGlvbi5zZXQoZmFsc2UpXG4gICAgICAgIHJldHVybiBzLmludmFsaWRMb2NhdGlvbi5zZXQodHJ1ZSlcblxuICAgICAgY2FzZSAnTE9DQVRJT05fQkFOX0NSRUFURUQnOlxuICAgICAgICByZXR1cm4gcy5jdXJyZW50TG9jYXRpb25VcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc0xvY2F0aW9uU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUxvY2F0aW9uU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgR3JvdXBVc2VyIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Hcm91cFVzZXInXG5pbXBvcnQgeyBHcm91cEFjdGlvblR5cGUgfSBmcm9tICcuL0dyb3VwQWN0aW9ucydcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9Hcm91cCdcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIGdyb3Vwczoge1xuICAgIGdyb3VwczogW10gYXMgQXJyYXk8R3JvdXA+LFxuICAgIHRvdGFsOiAwLFxuICAgIGxpbWl0OiA1LFxuICAgIHNraXA6IDBcbiAgfSxcbiAgaW52aXRhYmxlR3JvdXBzOiB7XG4gICAgZ3JvdXBzOiBbXSBhcyBBcnJheTxHcm91cD4sXG4gICAgdG90YWw6IDAsXG4gICAgbGltaXQ6IDUsXG4gICAgc2tpcDogMFxuICB9LFxuICBnZXRJbnZpdGFibGVHcm91cHNJblByb2dyZXNzOiBmYWxzZSxcbiAgZ2V0R3JvdXBzSW5Qcm9ncmVzczogZmFsc2UsXG4gIGludml0YWJsZVVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgdXBkYXRlTmVlZGVkOiB0cnVlLFxuICBjbG9zZURldGFpbHM6ICcnXG59KVxuXG5leHBvcnQgY29uc3QgZ3JvdXBSZWR1Y2VyID0gKF8sIGFjdGlvbjogR3JvdXBBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZ3JvdXBSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IGdyb3VwUmVjZXB0b3IgPSAoYWN0aW9uOiBHcm91cEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzLFxuICAgIHVwZGF0ZU1hcCxcbiAgICB1cGRhdGVNYXBHcm91cHMsXG4gICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQsXG4gICAgdXBkYXRlTWFwR3JvdXBVc2VycyxcbiAgICBncm91cFVzZXIsXG4gICAgdXBkYXRlR3JvdXAsXG4gICAgZ3JvdXBJbmRleFxuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0xPQURFRF9HUk9VUFMnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgaWYgKHMudXBkYXRlTmVlZGVkLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgcy5ncm91cHMuZ3JvdXBzLnNldChuZXdWYWx1ZXMuZ3JvdXBzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuZ3JvdXBzLmdyb3Vwcy5zZXQoWy4uLnMuZ3JvdXBzLmdyb3Vwcy52YWx1ZSwgLi4ubmV3VmFsdWVzLmdyb3Vwc10pXG4gICAgICAgIH1cbiAgICAgICAgcy5ncm91cHMubWVyZ2UoeyBza2lwOiBuZXdWYWx1ZXMuc2tpcCwgbGltaXQ6IG5ld1ZhbHVlcy5saW1pdCwgdG90YWw6IG5ld1ZhbHVlcy50b3RhbCB9KVxuICAgICAgICBzLnVwZGF0ZU5lZWRlZC5zZXQoZmFsc2UpXG4gICAgICAgIHJldHVybiBzLmdldEdyb3Vwc0luUHJvZ3Jlc3Muc2V0KGZhbHNlKVxuXG4gICAgICBjYXNlICdMT0FERURfSU5WSVRBQkxFX0dST1VQUyc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuXG4gICAgICAgIGlmIChzLnVwZGF0ZU5lZWRlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHMuaW52aXRhYmxlR3JvdXBzLmdyb3Vwcy5zZXQobmV3VmFsdWVzLmdyb3VwcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLmludml0YWJsZUdyb3Vwcy5ncm91cHMuc2V0KFsuLi5zLmludml0YWJsZUdyb3Vwcy5ncm91cHMudmFsdWUsIC4uLm5ld1ZhbHVlcy5ncm91cHNdKVxuICAgICAgICB9XG4gICAgICAgIHMuaW52aXRhYmxlR3JvdXBzLnNraXAuc2V0KG5ld1ZhbHVlcy5za2lwKVxuICAgICAgICBzLmludml0YWJsZUdyb3Vwcy5saW1pdC5zZXQobmV3VmFsdWVzLmxpbWl0KVxuICAgICAgICBzLmludml0YWJsZUdyb3Vwcy50b3RhbC5zZXQobmV3VmFsdWVzLnRvdGFsKVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IGludml0YWJsZVVwZGF0ZU5lZWRlZDogZmFsc2UsIGdldEludml0YWJsZUdyb3Vwc0luUHJvZ3Jlc3M6IGZhbHNlIH0pXG5cbiAgICAgIGNhc2UgJ0NSRUFURURfR1JPVVAnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB1cGRhdGVOZWVkZWQ6IHRydWUsIGludml0YWJsZVVwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnUEFUQ0hFRF9HUk9VUCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICB1cGRhdGVHcm91cCA9IG5ld1ZhbHVlcy5ncm91cFxuXG4gICAgICAgIGdyb3VwSW5kZXggPSBzLmdyb3Vwcy5ncm91cHMudmFsdWUuZmluZEluZGV4KChncm91cEl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXBJdGVtICE9IG51bGwgJiYgZ3JvdXBJdGVtLmlkID09PSBncm91cFVzZXIuZ3JvdXBJZFxuICAgICAgICB9KVxuICAgICAgICBpZiAoZ3JvdXBJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gcy5ncm91cHMuZ3JvdXBzW2dyb3VwSW5kZXhdLnNldCh1cGRhdGVHcm91cClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc1xuICAgICAgY2FzZSAnUkVNT1ZFRF9HUk9VUCc6XG4gICAgICAgIHMudXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgICByZXR1cm4gcy5pbnZpdGFibGVVcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdJTlZJVEVEX0dST1VQX1VTRVInOlxuICAgICAgICByZXR1cm4gc1xuICAgICAgLy8gLnNldCgndXBkYXRlTmVlZGVkJywgdHJ1ZSlcbiAgICAgIGNhc2UgJ0xFRlRfR1JPVVAnOlxuICAgICAgICByZXR1cm4gcy51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdGRVRDSElOR19HUk9VUFMnOlxuICAgICAgICByZXR1cm4gcy5nZXRHcm91cHNJblByb2dyZXNzLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVUQ0hJTkdfSU5WSVRBQkxFX0dST1VQUyc6XG4gICAgICAgIHJldHVybiBzLmdldEludml0YWJsZUdyb3Vwc0luUHJvZ3Jlc3Muc2V0KHRydWUpXG4gICAgICBjYXNlICdDUkVBVEVEX0dST1VQX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgZ3JvdXBVc2VyID0gbmV3VmFsdWVzLmdyb3VwVXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBzLmdyb3Vwcy52YWx1ZVxuICAgICAgICB1cGRhdGVNYXBHcm91cHMgPSB1cGRhdGVNYXAuZ3JvdXBzXG4gICAgICAgIHVwZGF0ZU1hcEdyb3Vwc0NoaWxkID0gXy5maW5kKHVwZGF0ZU1hcEdyb3VwcywgKGdyb3VwKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGdyb3VwICE9IG51bGwgJiYgZ3JvdXAuaWQgPT09IGdyb3VwVXNlci5ncm91cElkXG4gICAgICAgIH0pXG4gICAgICAgIGlmICh1cGRhdGVNYXBHcm91cHNDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlTWFwR3JvdXBVc2VycyA9IHVwZGF0ZU1hcEdyb3Vwc0NoaWxkLmdyb3VwVXNlcnNcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IHVwZGF0ZU1hcEdyb3VwVXNlcnMuZmluZCgoZ1VzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnVXNlciAhPSBudWxsICYmIGdVc2VyLmlkID09PSBncm91cFVzZXIuaWRcbiAgICAgICAgICB9KVxuICAgICAgICAgIHVwZGF0ZU1hcEdyb3VwVXNlcnMgPSBBcnJheS5pc0FycmF5KHVwZGF0ZU1hcEdyb3VwVXNlcnMpXG4gICAgICAgICAgICA/IG1hdGNoID09IG51bGxcbiAgICAgICAgICAgICAgPyB1cGRhdGVNYXBHcm91cFVzZXJzLmNvbmNhdChbZ3JvdXBVc2VyXSlcbiAgICAgICAgICAgICAgOiB1cGRhdGVNYXBHcm91cFVzZXJzLm1hcCgoZ1VzZXIpID0+IChnVXNlci5pZCA9PT0gZ3JvdXBVc2VyLmlkID8gZ3JvdXBVc2VyIDogZ1VzZXIpKVxuICAgICAgICAgICAgOiBbZ3JvdXBVc2VyXVxuICAgICAgICAgIHVwZGF0ZU1hcEdyb3Vwc0NoaWxkLmdyb3VwVXNlcnMgPSB1cGRhdGVNYXBHcm91cFVzZXJzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMuZ3JvdXBzLmdyb3Vwcy5zZXQodXBkYXRlTWFwR3JvdXBzKVxuXG4gICAgICBjYXNlICdQQVRDSEVEX0dST1VQX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgZ3JvdXBVc2VyID0gbmV3VmFsdWVzLmdyb3VwVXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBzLmdyb3Vwcy52YWx1ZVxuICAgICAgICB1cGRhdGVNYXBHcm91cHMgPSB1cGRhdGVNYXAuZ3JvdXBzXG4gICAgICAgIHVwZGF0ZU1hcEdyb3Vwc0NoaWxkID0gXy5maW5kKHVwZGF0ZU1hcEdyb3VwcywgKGdyb3VwKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGdyb3VwICE9IG51bGwgJiYgZ3JvdXAuaWQgPT09IGdyb3VwVXNlci5ncm91cElkXG4gICAgICAgIH0pXG4gICAgICAgIGlmICh1cGRhdGVNYXBHcm91cHNDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQuZ3JvdXBVc2VycyA9IHVwZGF0ZU1hcEdyb3Vwc0NoaWxkLmdyb3VwVXNlcnMubWFwKChnVXNlcikgPT5cbiAgICAgICAgICAgIGdVc2VyLmlkID09PSBncm91cFVzZXIuaWQgPyBncm91cFVzZXIgOiBnVXNlclxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBzLmdyb3Vwcy5ncm91cHMuc2V0KHVwZGF0ZU1hcEdyb3VwcylcblxuICAgICAgY2FzZSAnUkVNT1ZFRF9HUk9VUF9VU0VSJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGdyb3VwVXNlciA9IG5ld1ZhbHVlcy5ncm91cFVzZXJcbiAgICAgICAgY29uc3Qgc2VsZiA9IG5ld1ZhbHVlcy5zZWxmXG4gICAgICAgIHVwZGF0ZU1hcCA9IHMuZ3JvdXBzLnZhbHVlXG4gICAgICAgIHVwZGF0ZU1hcEdyb3VwcyA9IHVwZGF0ZU1hcC5ncm91cHNcbiAgICAgICAgdXBkYXRlTWFwR3JvdXBzQ2hpbGQgPSBfLmZpbmQodXBkYXRlTWFwR3JvdXBzLCAoZ3JvdXApID0+IHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXAgIT0gbnVsbCAmJiBncm91cC5pZCA9PT0gZ3JvdXBVc2VyLmdyb3VwSWRcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKHVwZGF0ZU1hcEdyb3Vwc0NoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBHcm91cFVzZXJzID0gdXBkYXRlTWFwR3JvdXBzQ2hpbGQuZ3JvdXBVc2Vyc1xuICAgICAgICAgIF8uZmluZEluZGV4KHVwZGF0ZU1hcEdyb3VwVXNlcnMsIChnVXNlcjogR3JvdXBVc2VyKSA9PiBncm91cFVzZXIuaWQgPT09IGdVc2VyLmlkKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJldHVybmVkID0gcy5ncm91cHMuZ3JvdXBzLnNldCh1cGRhdGVNYXBHcm91cHMpXG4gICAgICAgIGlmIChzZWxmID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuZWQgPSBzLm1lcmdlKHsgY2xvc2VEZXRhaWxzOiBncm91cFVzZXIuZ3JvdXBJZCwgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybmVkXG5cbiAgICAgIGNhc2UgJ1JFTU9WRV9DTE9TRV9HUk9VUF9ERVRBSUwnOlxuICAgICAgICByZXR1cm4gcy5jbG9zZURldGFpbHMuc2V0KCcnKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NHcm91cFN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VHcm91cFN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFBhcnR5QWN0aW9uVHlwZSB9IGZyb20gJy4vUGFydHlBY3Rpb25zJ1xuXG5pbXBvcnQgeyBQYXJ0eVVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1BhcnR5VXNlcidcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IFBhcnR5IH0gZnJvbSAnQHhyZW5naW5lL2NvbW1vbi9zcmMvaW50ZXJmYWNlcy9QYXJ0eSdcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHBhcnR5OiB7fSBhcyBQYXJ0eSxcbiAgdXBkYXRlTmVlZGVkOiB0cnVlXG59KVxuXG5leHBvcnQgY29uc3QgcGFydHlSZWR1Y2VyID0gKF8sIGFjdGlvbjogUGFydHlBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gcGFydHlSZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHBhcnR5UmVjZXB0b3IgPSAoYWN0aW9uOiBQYXJ0eUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzLCB1cGRhdGVNYXAsIHBhcnR5VXNlciwgdXBkYXRlTWFwUGFydHlVc2Vyc1xuXG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnTE9BREVEX1BBUlRZJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBwYXJ0eTogYWN0aW9uLnBhcnR5LCB1cGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdDUkVBVEVEX1BBUlRZJzpcbiAgICAgICAgcmV0dXJuIHMudXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnUkVNT1ZFRF9QQVJUWSc6XG4gICAgICAgIHVwZGF0ZU1hcCA9IG5ldyBNYXAoKVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHBhcnR5OiB7fSwgdXBkYXRlTmVlZGVkOiB0cnVlIH0pXG4gICAgICBjYXNlICdJTlZJVEVEX1BBUlRZX1VTRVInOlxuICAgICAgICByZXR1cm4gcy51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdDUkVBVEVEX1BBUlRZX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgcGFydHlVc2VyID0gbmV3VmFsdWVzLnBhcnR5VXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBfLmNsb25lRGVlcChzLnBhcnR5LnZhbHVlKVxuICAgICAgICBpZiAodXBkYXRlTWFwICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBQYXJ0eVVzZXJzID0gdXBkYXRlTWFwLnBhcnR5VXNlcnNcbiAgICAgICAgICB1cGRhdGVNYXBQYXJ0eVVzZXJzID0gQXJyYXkuaXNBcnJheSh1cGRhdGVNYXBQYXJ0eVVzZXJzKVxuICAgICAgICAgICAgPyB1cGRhdGVNYXBQYXJ0eVVzZXJzLmZpbmQoKHBVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBVc2VyICE9IG51bGwgJiYgcFVzZXIuaWQgPT09IHBhcnR5VXNlci5pZFxuICAgICAgICAgICAgICB9KSA9PSBudWxsXG4gICAgICAgICAgICAgID8gdXBkYXRlTWFwUGFydHlVc2Vycy5jb25jYXQoW3BhcnR5VXNlcl0pXG4gICAgICAgICAgICAgIDogdXBkYXRlTWFwLnBhcnR5VXNlcnMubWFwKChwVXNlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBVc2VyICE9IG51bGwgJiYgcFVzZXIuaWQgPT09IHBhcnR5VXNlci5pZCA/IHBhcnR5VXNlciA6IHBVc2VyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogW3BhcnR5VXNlcl1cbiAgICAgICAgICB1cGRhdGVNYXAucGFydHlVc2VycyA9IHVwZGF0ZU1hcFBhcnR5VXNlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5wYXJ0eS5zZXQodXBkYXRlTWFwKVxuXG4gICAgICBjYXNlICdQQVRDSEVEX1BBUlRZX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgcGFydHlVc2VyID0gbmV3VmFsdWVzLnBhcnR5VXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBfLmNsb25lRGVlcChzLnBhcnR5LnZhbHVlKVxuICAgICAgICBpZiAodXBkYXRlTWFwICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBQYXJ0eVVzZXJzID0gdXBkYXRlTWFwLnBhcnR5VXNlcnNcbiAgICAgICAgICB1cGRhdGVNYXBQYXJ0eVVzZXJzID0gQXJyYXkuaXNBcnJheSh1cGRhdGVNYXBQYXJ0eVVzZXJzKVxuICAgICAgICAgICAgPyB1cGRhdGVNYXBQYXJ0eVVzZXJzLmZpbmQoKHBVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBVc2VyICE9IG51bGwgJiYgcFVzZXIuaWQgPT09IHBhcnR5VXNlci5pZFxuICAgICAgICAgICAgICB9KSA9PSBudWxsXG4gICAgICAgICAgICAgID8gdXBkYXRlTWFwUGFydHlVc2Vycy5jb25jYXQoW3BhcnR5VXNlcl0pXG4gICAgICAgICAgICAgIDogdXBkYXRlTWFwLnBhcnR5VXNlcnMubWFwKChwVXNlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBVc2VyICE9IG51bGwgJiYgcFVzZXIuaWQgPT09IHBhcnR5VXNlci5pZCA/IHBhcnR5VXNlciA6IHBVc2VyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogW3BhcnR5VXNlcl1cbiAgICAgICAgICB1cGRhdGVNYXAucGFydHlVc2VycyA9IHVwZGF0ZU1hcFBhcnR5VXNlcnNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5wYXJ0eS5zZXQodXBkYXRlTWFwKVxuXG4gICAgICBjYXNlICdSRU1PVkVEX1BBUlRZX1VTRVInOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgcGFydHlVc2VyID0gbmV3VmFsdWVzLnBhcnR5VXNlclxuICAgICAgICB1cGRhdGVNYXAgPSBfLmNsb25lRGVlcChzLnBhcnR5LnZhbHVlKVxuICAgICAgICBpZiAodXBkYXRlTWFwICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVNYXBQYXJ0eVVzZXJzID0gdXBkYXRlTWFwLnBhcnR5VXNlcnNcbiAgICAgICAgICBfLnJlbW92ZSh1cGRhdGVNYXBQYXJ0eVVzZXJzLCAocFVzZXI6IFBhcnR5VXNlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBVc2VyICE9IG51bGwgJiYgcGFydHlVc2VyLmlkID09PSBwVXNlci5pZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcy5wYXJ0eS5zZXQodXBkYXRlTWFwKVxuICAgICAgICByZXR1cm4gcy51cGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1BhcnR5U3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVBhcnR5U3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgSW52aXRlQWN0aW9uVHlwZSB9IGZyb20gJy4vSW52aXRlQWN0aW9ucydcbmltcG9ydCB7IEludml0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSW52aXRlJ1xuZXhwb3J0IGNvbnN0IElOVklURV9QQUdFX0xJTUlUID0gMTBcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHJlY2VpdmVkSW52aXRlczoge1xuICAgIGludml0ZXM6IFtdIGFzIEFycmF5PEludml0ZT4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNSxcbiAgICB0b3RhbDogMFxuICB9LFxuICBzZW50SW52aXRlczoge1xuICAgIGludml0ZXM6IFtdIGFzIEFycmF5PEludml0ZT4sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNSxcbiAgICB0b3RhbDogMFxuICB9LFxuICBzZW50VXBkYXRlTmVlZGVkOiB0cnVlLFxuICByZWNlaXZlZFVwZGF0ZU5lZWRlZDogdHJ1ZSxcbiAgZ2V0U2VudEludml0ZXNJblByb2dyZXNzOiBmYWxzZSxcbiAgZ2V0UmVjZWl2ZWRJbnZpdGVzSW5Qcm9ncmVzczogZmFsc2UsXG4gIHRhcmdldE9iamVjdElkOiAnJyxcbiAgdGFyZ2V0T2JqZWN0VHlwZTogJydcbn0pXG5cbmV4cG9ydCBjb25zdCBpbnZpdGVSZWR1Y2VyID0gKF8sIGFjdGlvbjogSW52aXRlQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGludml0ZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgaW52aXRlUmVjZXB0b3IgPSAoYWN0aW9uOiBJbnZpdGVBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgbGV0IG5ld1ZhbHVlc1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0lOVklURV9TRU5UJzpcbiAgICAgICAgcmV0dXJuIHMuc2VudFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ1NFTlRfSU5WSVRFU19SRVRSSUVWRUQnOlxuICAgICAgICBuZXdWYWx1ZXMgPSBhY3Rpb25cbiAgICAgICAgcy5zZW50SW52aXRlcy5tZXJnZSh7XG4gICAgICAgICAgaW52aXRlczogbmV3VmFsdWVzLmludml0ZXMsXG4gICAgICAgICAgc2tpcDogbmV3VmFsdWVzLnNraXAsXG4gICAgICAgICAgbGltaXQ6IG5ld1ZhbHVlcy5saW1pdCxcbiAgICAgICAgICB0b3RhbDogbmV3VmFsdWVzLnRvdGFsXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgc2VudFVwZGF0ZU5lZWRlZDogZmFsc2UsIGdldFNlbnRJbnZpdGVzSW5Qcm9ncmVzczogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ1JFQ0VJVkVEX0lOVklURVNfUkVUUklFVkVEJzpcbiAgICAgICAgbmV3VmFsdWVzID0gYWN0aW9uXG4gICAgICAgIGNvbnN0IHJlY2VpdmVkSW52aXRlcyA9IHMucmVjZWl2ZWRJbnZpdGVzLmludml0ZXMudmFsdWVcblxuICAgICAgICBpZiAocmVjZWl2ZWRJbnZpdGVzID09PSBudWxsIHx8IHMucmVjZWl2ZWRVcGRhdGVOZWVkZWQudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICBzLnJlY2VpdmVkSW52aXRlcy5pbnZpdGVzLnNldChuZXdWYWx1ZXMuaW52aXRlcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLnJlY2VpdmVkSW52aXRlcy5pbnZpdGVzLm1lcmdlKFsuLi5zLnJlY2VpdmVkSW52aXRlcy5pbnZpdGVzLnZhbHVlLCAuLi5uZXdWYWx1ZXMuaW52aXRlc10pXG4gICAgICAgIH1cbiAgICAgICAgcy5yZWNlaXZlZEludml0ZXMubWVyZ2UoeyBza2lwOiBuZXdWYWx1ZXMuc2tpcCwgbGltaXQ6IG5ld1ZhbHVlcy5saW1pdCwgdG90YWw6IG5ld1ZhbHVlcy50b3RhbCB9KVxuICAgICAgICByZXR1cm4gcy5tZXJnZSh7IHJlY2VpdmVkVXBkYXRlTmVlZGVkOiBmYWxzZSwgZ2V0UmVjZWl2ZWRJbnZpdGVzSW5Qcm9ncmVzczogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0NSRUFURURfUkVDRUlWRURfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMucmVjZWl2ZWRVcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdDUkVBVEVEX1NFTlRfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMuc2VudFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ1JFTU9WRURfUkVDRUlWRURfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMucmVjZWl2ZWRVcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdSRU1PVkVEX1NFTlRfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMuc2VudFVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0FDQ0VQVEVEX0lOVklURSc6XG4gICAgICAgIHJldHVybiBzLnJlY2VpdmVkVXBkYXRlTmVlZGVkLnNldCh0cnVlKVxuICAgICAgY2FzZSAnREVDTElORURfSU5WSVRFJzpcbiAgICAgICAgcmV0dXJuIHMucmVjZWl2ZWRVcGRhdGVOZWVkZWQuc2V0KHRydWUpXG4gICAgICBjYXNlICdJTlZJVEVfVEFSR0VUX1NFVCc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICByZXR1cm4gc3RhdGUubWVyZ2Uoe1xuICAgICAgICAgIHRhcmdldE9iamVjdElkOiBuZXdWYWx1ZXMudGFyZ2V0T2JqZWN0SWQgfHwgJycsXG4gICAgICAgICAgdGFyZ2V0T2JqZWN0VHlwZTogbmV3VmFsdWVzLnRhcmdldE9iamVjdFR5cGUgfHwgJydcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0ZFVENISU5HX1NFTlRfSU5WSVRFUyc6XG4gICAgICAgIHJldHVybiBzLmdldFNlbnRJbnZpdGVzSW5Qcm9ncmVzcy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZFVENISU5HX1JFQ0VJVkVEX0lOVklURVMnOlxuICAgICAgICByZXR1cm4gcy5nZXRSZWNlaXZlZEludml0ZXNJblByb2dyZXNzLnNldCh0cnVlKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NJbnZpdGVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlSW52aXRlU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgSW52aXRlVHlwZUFjdGlvblR5cGUgfSBmcm9tICcuL0ludml0ZVR5cGVBY3Rpb25zJ1xuaW1wb3J0IHsgSW52aXRlVHlwZSB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvSW52aXRlVHlwZSdcbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBpbnZpdGVUeXBlRGF0YToge1xuICAgIGludml0ZXNUeXBlOiBbXSBhcyBBcnJheTxJbnZpdGVUeXBlPixcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiA1LFxuICAgIHRvdGFsOiAwXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBpbnZpdGVUeXBlUmVkdWNlciA9IChfLCBhY3Rpb246IEludml0ZVR5cGVBY3Rpb25UeXBlKSA9PiB7XG4gIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gaW52aXRlVHlwZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgaW52aXRlVHlwZVJlY2VwdG9yID0gKGFjdGlvbjogSW52aXRlVHlwZUFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBsZXQgbmV3VmFsdWVzXG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnTE9BRF9JTlZJVEVfVFlQRSc6XG4gICAgICAgIG5ld1ZhbHVlcyA9IGFjdGlvblxuICAgICAgICBpZiAobmV3VmFsdWVzLmludml0ZXNUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICBzLmludml0ZVR5cGVEYXRhLmludml0ZXNUeXBlLm1lcmdlKFtuZXdWYWx1ZXMuaW52aXRlc1R5cGVdKVxuICAgICAgICB9XG4gICAgICAgIHMuaW52aXRlVHlwZURhdGEuc2tpcC5zZXQobmV3VmFsdWVzLnNraXApXG4gICAgICAgIHMuaW52aXRlVHlwZURhdGEubGltaXQuc2V0KG5ld1ZhbHVlcy5saW1pdClcbiAgICAgICAgcmV0dXJuIHMuaW52aXRlVHlwZURhdGEudG90YWwuc2V0KG5ld1ZhbHVlcy50b3RhbClcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzSW52aXRlVHlwZVN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VJbnZpdGVUeXBlU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSkgYXMgYW55IGFzIHR5cGVvZiBzdGF0ZVxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBGZWVkQ29tbWVudEFjdGlvblR5cGUgfSBmcm9tICcuL0ZlZWRDb21tZW50QWN0aW9ucydcbmltcG9ydCB7IENvbW1lbnRJbnRlcmZhY2UgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NvbW1lbnQnXG5pbXBvcnQgeyBDcmVhdG9yU2hvcnQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NyZWF0b3InXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBmZWVkczoge1xuICAgIGZlZWRDb21tZW50czogW10gYXMgQXJyYXk8Q29tbWVudEludGVyZmFjZT4sXG4gICAgY29tbWVudEZpcmVzOiBbXSBhcyBBcnJheTxDcmVhdG9yU2hvcnQ+LFxuICAgIGZldGNoaW5nOiBmYWxzZVxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgZmVlZENvbW1lbnRzUmVkdWNlciA9IChfLCBhY3Rpb246IEZlZWRDb21tZW50QWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGZlZWRDb21tZW50c1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZmVlZENvbW1lbnRzUmVjZXB0b3IgPSAoYWN0aW9uOiBGZWVkQ29tbWVudEFjdGlvblR5cGUpOiBhbnkgPT4ge1xuICBzdGF0ZS5iYXRjaCgocykgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0ZFRURfQ09NTUVOVFNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZXRjaGluZy5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0ZFRURfQ09NTUVOVFNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMubWVyZ2UoeyBmZWVkQ29tbWVudHM6IGFjdGlvbi5jb21tZW50cyB8fCBbXSwgZmV0Y2hpbmc6IGZhbHNlIH0pXG4gICAgICBjYXNlICdBRERfRkVFRF9DT01NRU5UX0ZJUkVTJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZENvbW1lbnRzLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRDb21tZW50cy52YWx1ZS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24uY29tbWVudElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0sIGZpcmVzOiBpdGVtLmZpcmVzICsgMSwgaXNGaXJlZDogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICBjYXNlICdSRU1PVkVfRkVFRF9DT01NRU5UX0ZJUkVTJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZHMuZmVlZENvbW1lbnRzLnNldChcbiAgICAgICAgICBzLmZlZWRzLmZlZWRDb21tZW50cy52YWx1ZS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24uY29tbWVudElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0sIGZpcmVzOiAtLWl0ZW0uZmlyZXMsIGlzRmlyZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLml0ZW0gfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ0FERF9GRUVEX0NPTU1FTlQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5mZWVkQ29tbWVudHMuc2V0KFthY3Rpb24uY29tbWVudCwgLi4uKHMuZmVlZHMuZmVlZENvbW1lbnRzLnZhbHVlIHx8IFtdKV0pXG5cbiAgICAgIGNhc2UgJ0NPTU1FTlRfRklSRVMnOlxuICAgICAgICByZXR1cm4gcy5mZWVkcy5jb21tZW50RmlyZXMuc2V0KGFjdGlvbi5jcmVhdG9ycylcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzRmVlZENvbW1lbnRzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZUZlZWRDb21tZW50c1N0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpXG4iLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IEZlZWRGaXJlc0FjdGlvblR5cGUgfSBmcm9tICcuL0ZlZWRGaXJlc0FjdGlvbnMnXG5pbXBvcnQgeyBDcmVhdG9yU2hvcnQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL0NyZWF0b3InXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICBmZWVkRmlyZXM6IHtcbiAgICBmZWVkRmlyZXM6IFtdIGFzIEFycmF5PENyZWF0b3JTaG9ydD4sXG4gICAgZmV0Y2hpbmc6IGZhbHNlXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBmZWVkRmlyZXNSZWR1Y2VyID0gKF8sIGFjdGlvbjogRmVlZEZpcmVzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGZlZWRGaXJlc1JlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgZmVlZEZpcmVzUmVjZXB0b3IgPSAoYWN0aW9uOiBGZWVkRmlyZXNBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdGRUVEX0ZJUkVTX0ZFVENIJzpcbiAgICAgICAgcmV0dXJuIHMuZmVlZEZpcmVzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnRkVFRF9GSVJFU19SRVRSSUVWRUQnOlxuICAgICAgICByZXR1cm4gcy5mZWVkRmlyZXMubWVyZ2UoeyBmZWVkRmlyZXM6IGFjdGlvbi5mZWVkRmlyZXMsIGZldGNoaW5nOiBmYWxzZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NGZWVkRmlyZXNTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlRmVlZEZpcmVzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsIi8qKlxuICogQGF1dGhvciBUYW55YSBWeWtsaXVrIDx0YW55YS52eWtsaXVrQGdtYWlsLmNvbT5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBQb3B1cHNTdGF0ZUFjdGlvblR5cGUgfSBmcm9tICcuL1BvcHVwc1N0YXRlQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHBvcHVwczoge1xuICAgIGNyZWF0b3JQYWdlOiBmYWxzZSxcbiAgICBjcmVhdG9yRm9ybTogZmFsc2UsXG4gICAgY3JlYXRvcklkOiBudWxsLFxuICAgIGZlZWRQYWdlOiBmYWxzZSxcbiAgICBmZWVkSWQ6IG51bGwsXG4gICAgc2hhcmVGZWVkUGFnZTogZmFsc2UsXG4gICAgYXJNZWRpYTogZmFsc2UsXG4gICAgc2hhcmVGb3JtOiBmYWxzZSxcbiAgICB2aWRlb1VybDogbnVsbCxcbiAgICB3ZWJ4cjogZmFsc2UsXG4gICAgdmlkZW9QYXRoOiBudWxsLFxuICAgIGltZ1NyYzogbnVsbCxcbiAgICBmUGF0aDogbnVsbCxcbiAgICBuYW1lSWQ6IG51bGwsXG4gICAgaXRlbUlkOiBudWxsXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBwb3B1cHNTdGF0ZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBQb3B1cHNTdGF0ZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBwb3B1cHNTdGF0ZVJlY2VwdG9yKGFjdGlvbikpXG4gIHJldHVybiBzdGF0ZS5hdHRhY2goRG93bmdyYWRlZCkudmFsdWVcbn1cblxuY29uc3QgcG9wdXBzU3RhdGVSZWNlcHRvciA9IChhY3Rpb246IFBvcHVwc1N0YXRlQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnQ0hBTkdFX0NSRUFUT1JfUEFHRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7IGNyZWF0b3JQYWdlOiBhY3Rpb24uc3RhdGUsIGNyZWF0b3JJZDogYWN0aW9uLmlkIH0pXG4gICAgICBjYXNlICdDSEFOR0VfQ1JFQVRPUl9GT1JNX1NUQVRFJzpcbiAgICAgICAgcmV0dXJuIHMucG9wdXBzLmNyZWF0b3JGb3JtLnNldChhY3Rpb24uc3RhdGUpXG4gICAgICBjYXNlICdDSEFOR0VfRkVFRF9QQUdFX1NUQVRFJzpcbiAgICAgICAgcmV0dXJuIHMucG9wdXBzLm1lcmdlKHsgZmVlZFBhZ2U6IGFjdGlvbi5zdGF0ZSwgZmVlZElkOiBhY3Rpb24uaWQgfSlcbiAgICAgIGNhc2UgJ0NIQU5HRV9BUk1FRElBX0NIT09TRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5hck1lZGlhLnNldChhY3Rpb24uc3RhdGUpXG4gICAgICBjYXNlICdDSEFOR0VfTkVXX0ZFRURfUEFHRV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7XG4gICAgICAgICAgc2hhcmVGZWVkUGFnZTogYWN0aW9uLnN0YXRlLFxuICAgICAgICAgIHZpZGVvUGF0aDogYWN0aW9uLmlkLFxuICAgICAgICAgIGZQYXRoOiBhY3Rpb24uZlBhdGgsXG4gICAgICAgICAgbmFtZUlkOiBhY3Rpb24ubmFtZUlkXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdDSEFOR0VfU0hBUkVfRk9STV9TVEFURSc6XG4gICAgICAgIHJldHVybiBzLnBvcHVwcy5tZXJnZSh7IHNoYXJlRm9ybTogYWN0aW9uLnN0YXRlLCB2aWRlb1VybDogYWN0aW9uLmlkLCBpbWdTcmM6IGFjdGlvbi5pbWdTcmMgfSlcbiAgICAgIGNhc2UgJ0NIQU5HRV9XRUJfWFJfU1RBVEUnOlxuICAgICAgICByZXR1cm4gcy5wb3B1cHMubWVyZ2UoeyB3ZWJ4cjogYWN0aW9uLnN0YXRlLCBpdGVtSWQ6IGFjdGlvbi5pdGVtSWQgfSlcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzUG9wdXBzU3RhdGVTdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUG9wdXBzU3RhdGVTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKVxuIiwiLyoqXG4gKiBAYXV0aG9yIEdsZWIgT3JkaW5za3kgPGdsZWJvcmRpbnNraWpqQGdtYWlsLmNvbT5cbiAqL1xuLy8gY29uc3QgdGhlZmVlZHMgPSAnJztcbi8vIGNvbnRzIFRoZUZlZWRzID0gJyc7XG4vLyBjb25zdCBUSEVGRUVEUyA9ICcnO1xuXG5pbXBvcnQgeyBUaGVGZWVkc1Nob3J0LCBUaGVGZWVkcyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvRmVlZHMnXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBUaGVGZWVkc0FjdGlvblR5cGUgfSBmcm9tICcuL1RoZUZlZWRzQWN0aW9ucydcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHRoZWZlZWRzOiBbXSBhcyBBcnJheTxUaGVGZWVkcz4sXG4gIGZldGNoaW5nOiBmYWxzZVxufSlcblxuZXhwb3J0IGNvbnN0IHRoZUZlZWRzUmVkdWNlciA9IChfLCBhY3Rpb246IFRoZUZlZWRzQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHRoZUZlZWRzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCB0aGVGZWVkc1JlY2VwdG9yID0gKGFjdGlvbjogVGhlRmVlZHNBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdUSEVGRUVEU19GRVRDSCc6XG4gICAgICAgIHJldHVybiBzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnVEhFRkVFRFNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyB0aGVmZWVkczogYWN0aW9uLnRoZWZlZWRzLCBmZXRjaGluZzogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0FERF9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChbLi4ucy50aGVmZWVkcy52YWx1ZSwgYWN0aW9uLnRoZWZlZWRzXSlcbiAgICAgIGNhc2UgJ1VQREFURV9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChcbiAgICAgICAgICBzLnRoZWZlZWRzLnZhbHVlLm1hcCgodGhlZmVlZHMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGVmZWVkcy5pZCA9PT0gYWN0aW9uLnRoZWZlZWRzLmlkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLnRoZWZlZWRzLCAuLi5hY3Rpb24udGhlZmVlZHMgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhlZmVlZHMgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ1JFTU9WRV9USEVGRUVEUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzLnNldChbLi4ucy50aGVmZWVkcy52YWx1ZS5maWx0ZXIoKHRoZWZlZWRzKSA9PiB0aGVmZWVkcy5pZCAhPT0gYWN0aW9uLnRoZWZlZWRzKV0pXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1RoZUZlZWRzU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVRoZUZlZWRzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsImltcG9ydCB7IFRoZUZlZWRzRmlyZXMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zZXJ2ZXItY29yZS9zcmMvc29jaWFsbWVkaWEvZmVlZHMtZmlyZXMvZmVlZHMtZmlyZXMuY2xhc3MnXG4vKipcbiAqIEBhdXRob3IgR2xlYiBPcmRpbnNreSA8Z2xlYm9yZGluc2tpampAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBUaGVGZWVkc0ZpcmVzQWN0aW9uVHlwZSB9IGZyb20gJy4vVGhlRmVlZHNGaXJlc0FjdGlvbnMnXG5cbi8vIHRoZWZlZWRzXG4vLyBUaGVGZWVkc1xuLy8gVEhFRkVFRFNcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHRoZWZlZWRzRmlyZXM6IHtcbiAgICB0aGVmZWVkc0ZpcmVzOiBbXSxcbiAgICBmZXRjaGluZzogZmFsc2VcbiAgfVxufSlcblxuZXhwb3J0IGNvbnN0IHRoZUZlZWRzRmlyZXNSZWR1Y2VyID0gKF8sIGFjdGlvbjogVGhlRmVlZHNGaXJlc0FjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB0aGVGZWVkc0ZpcmVzUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCB0aGVGZWVkc0ZpcmVzUmVjZXB0b3IgPSAoYWN0aW9uOiBUaGVGZWVkc0ZpcmVzQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIHN0YXRlLmJhdGNoKChzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSAnVEhFRkVFRFNfRklSRVNfRkVUQ0gnOlxuICAgICAgICByZXR1cm4gcy50aGVmZWVkc0ZpcmVzLmZldGNoaW5nLnNldCh0cnVlKVxuICAgICAgY2FzZSAnVEhFRkVFRFNfRklSRVNfUkVUUklFVkVEJzpcbiAgICAgICAgcmV0dXJuIHMudGhlZmVlZHNGaXJlcy50aGVmZWVkc0ZpcmVzLnNldChhY3Rpb24udGhlZmVlZHNGaXJlcylcbiAgICAgIGNhc2UgJ0FERF9USEVGRUVEU19GSVJFUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzRmlyZXMudGhlZmVlZHNGaXJlcy5zZXQoWy4uLnMudGhlZmVlZHNGaXJlcy50aGVmZWVkc0ZpcmVzLCBhY3Rpb24udGhlZmVlZHNGaXJlXSlcbiAgICAgIGNhc2UgJ1JFTU9WRV9USEVGRUVEU19GSVJFUyc6XG4gICAgICAgIHJldHVybiBzLnRoZWZlZWRzRmlyZXMudGhlZmVlZHNGaXJlcy5zZXQoXG4gICAgICAgICAgcy50aGVmZWVkc0ZpcmVzLnRoZWZlZWRzRmlyZXMudmFsdWUuZmlsdGVyKChpKSA9PiBpLmlkICE9PSBhY3Rpb24udGhlZmVlZHNGaXJlSWQpXG4gICAgICAgIClcbiAgICB9XG4gIH0sIGFjdGlvbi50eXBlKVxufVxuXG5leHBvcnQgY29uc3QgYWNjZXNzVGhlRmVlZHNGaXJlc1N0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VUaGVGZWVkc0ZpcmVzU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsIi8qKlxuICogQGF1dGhvciBHbGViIE9yZGluc2t5IDxnbGVib3JkaW5za2lqakBnbWFpbC5jb20+XG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlU3RhdGUsIHVzZVN0YXRlLCBub25lLCBEb3duZ3JhZGVkIH0gZnJvbSAnQGhvb2tzdGF0ZS9jb3JlJ1xuaW1wb3J0IHsgV2VieHJOYXRpdmVBY3Rpb25UeXBlIH0gZnJvbSAnLi9XZWJ4ck5hdGl2ZUFjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICB3ZWJ4cm5hdGl2ZTogbnVsbFxufSlcblxuZXhwb3J0IGNvbnN0IHdlYnhybmF0aXZlUmVkdWNlciA9IChfLCBhY3Rpb246IFdlYnhyTmF0aXZlQWN0aW9uVHlwZSkgPT4ge1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHdlYnhybmF0aXZlUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5jb25zdCB3ZWJ4cm5hdGl2ZVJlY2VwdG9yID0gKGFjdGlvbjogV2VieHJOYXRpdmVBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTRVRfV0VCWFJOQVRJVkUnOlxuICAgICAgICByZXR1cm4gcy53ZWJ4cm5hdGl2ZS5zZXQoZmFsc2UpXG4gICAgICBjYXNlICdUT0dHTEVfV0VCWFJOQVRJVkUnOlxuICAgICAgICByZXR1cm4gcy53ZWJ4cm5hdGl2ZS5zZXQoIXMud2VieHJuYXRpdmUudmFsdWUpXG4gICAgfVxuICB9LCBhY3Rpb24udHlwZSlcbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc1dlYnhyTmF0aXZlU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVdlYnhyTmF0aXZlU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFJlZ2lzdHJhdGlvbkFjdGlvblR5cGUgfSBmcm9tICcuL1JlZ2lzdHJhdGlvbkFjdGlvbnMnXG5cbmNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoe1xuICByZWdpc3RyYXRpb246IHt9XG59KVxuXG5leHBvcnQgY29uc3QgcmVnaXN0cmF0aW9uUmVkdWNlciA9IChfLCBhY3Rpb246IFJlZ2lzdHJhdGlvbkFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiByZWdpc3RyYXRpb25SZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHJlZ2lzdHJhdGlvblJlY2VwdG9yID0gKGFjdGlvbjogUmVnaXN0cmF0aW9uQWN0aW9uVHlwZSk6IGFueSA9PiB7XG4gIC8qIHN0YXRlLm1lcmdlKChzKT0+e1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59LGFjdGlvbi50eXBlKSovXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NSZWdpc3RyYXRpb25TdGF0ZSA9ICgpID0+IHN0YXRlXG5leHBvcnQgY29uc3QgdXNlUmVnaXN0cmF0aW9uU3RhdGUgPSAoKSA9PiB1c2VTdGF0ZShzdGF0ZSlcbiIsImltcG9ydCB7IGNoYXRSZWR1Y2VyIH0gZnJvbSAnLi9jaGF0L0NoYXRTdGF0ZSdcbmltcG9ydCB7IGZyaWVuZFJlZHVjZXIgfSBmcm9tICcuL2ZyaWVuZC9GcmllbmRTdGF0ZSdcbmltcG9ydCB7IGxvY2F0aW9uUmVkdWNlciB9IGZyb20gJy4vbG9jYXRpb24vTG9jYXRpb25TdGF0ZSdcbmltcG9ydCB7IGdyb3VwUmVkdWNlciB9IGZyb20gJy4vZ3JvdXAvR3JvdXBTdGF0ZSdcbmltcG9ydCB7IHBhcnR5UmVkdWNlciB9IGZyb20gJy4vcGFydHkvUGFydHlTdGF0ZSdcbmltcG9ydCB7IGludml0ZVJlZHVjZXIgfSBmcm9tICcuL2ludml0ZS9JbnZpdGVTdGF0ZSdcbmltcG9ydCB7IGludml0ZVR5cGVSZWR1Y2VyIH0gZnJvbSAnLi9pbnZpdGVUeXBlL0ludml0ZVR5cGVTdGF0ZSdcbmltcG9ydCB7IGFyTWVkaWFSZWR1Y2VyIH0gZnJvbSAnLi9hck1lZGlhL0FyTWVkaWFTdGF0ZSdcbmltcG9ydCB7IGNyZWF0b3JSZWR1Y2VyIH0gZnJvbSAnLi9jcmVhdG9yL0NyZWF0b3JTdGF0ZSdcbmltcG9ydCB7IGZlZWRSZWR1Y2VyIH0gZnJvbSAnLi9mZWVkL0ZlZWRTdGF0ZSdcbmltcG9ydCB7IGZlZWRDb21tZW50c1JlZHVjZXIgfSBmcm9tICcuL2ZlZWRDb21tZW50L0ZlZWRDb21tZW50U3RhdGUnXG5pbXBvcnQgeyBmZWVkRmlyZXNSZWR1Y2VyIH0gZnJvbSAnLi9mZWVkRmlyZXMvRmVlZEZpcmVzU3RhdGUnXG5pbXBvcnQgeyBwb3B1cHNTdGF0ZVJlZHVjZXIgfSBmcm9tICcuL3BvcHVwc1N0YXRlL1BvcHVwc1N0YXRlU3RhdGUnXG5pbXBvcnQgeyB0aGVGZWVkc1JlZHVjZXIgfSBmcm9tICcuL3RoZWZlZWRzL1RoZUZlZWRzU3RhdGUnXG5pbXBvcnQgeyB0aGVGZWVkc0ZpcmVzUmVkdWNlciB9IGZyb20gJy4vdGhlZmVlZHNGaXJlcy9UaGVGZWVkc0ZpcmVzU3RhdGUnXG5pbXBvcnQgeyB3ZWJ4cm5hdGl2ZVJlZHVjZXIgfSBmcm9tICcuL3dlYnhyX25hdGl2ZS9XZWJ4ck5hdGl2ZVN0YXRlJ1xuaW1wb3J0IHsgcmVnaXN0cmF0aW9uUmVkdWNlciB9IGZyb20gJy4vcmVnaXN0cmF0aW9uL1JlZ2lzdHJhdGlvblN0YXRlJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxvY2F0aW9uczogbG9jYXRpb25SZWR1Y2VyLFxuICBjaGF0OiBjaGF0UmVkdWNlcixcbiAgZnJpZW5kczogZnJpZW5kUmVkdWNlcixcbiAgcGFydHk6IHBhcnR5UmVkdWNlcixcbiAgZ3JvdXBzOiBncm91cFJlZHVjZXIsXG4gIGludml0ZTogaW52aXRlUmVkdWNlcixcbiAgaW52aXRlc1R5cGVEYXRhOiBpbnZpdGVUeXBlUmVkdWNlcixcbiAgY3JlYXRvcnM6IGNyZWF0b3JSZWR1Y2VyLFxuICBmZWVkczogZmVlZFJlZHVjZXIsXG4gIGZlZWRGaXJlczogZmVlZEZpcmVzUmVkdWNlcixcbiAgZmVlZENvbW1lbnRzOiBmZWVkQ29tbWVudHNSZWR1Y2VyLFxuICBhck1lZGlhOiBhck1lZGlhUmVkdWNlcixcbiAgcG9wdXBzOiBwb3B1cHNTdGF0ZVJlZHVjZXIsXG4gIHRoZWZlZWRzOiB0aGVGZWVkc1JlZHVjZXIsXG4gIHRoZWZlZWRzRmlyZXM6IHRoZUZlZWRzRmlyZXNSZWR1Y2VyLFxuICB3ZWJ4cm5hdGl2ZTogd2VieHJuYXRpdmVSZWR1Y2VyLFxuICByZWdpc3RyYXRpb25SZWR1Y2VyOiByZWdpc3RyYXRpb25SZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBhck1lZGlhUmVkdWNlciB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2FyTWVkaWEvQXJNZWRpYVN0YXRlJ1xuaW1wb3J0IHsgY3JlYXRvclJlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9jcmVhdG9yL0NyZWF0b3JTdGF0ZSdcbmltcG9ydCB7IGZlZWRSZWR1Y2VyIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZC9GZWVkU3RhdGUnXG5pbXBvcnQgeyBmZWVkQ29tbWVudHNSZWR1Y2VyIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZENvbW1lbnQvRmVlZENvbW1lbnRTdGF0ZSdcbmltcG9ydCB7IGZlZWRGaXJlc1JlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9mZWVkRmlyZXMvRmVlZEZpcmVzU3RhdGUnXG5pbXBvcnQgeyBwb3B1cHNTdGF0ZVJlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9wb3B1cHNTdGF0ZS9Qb3B1cHNTdGF0ZVN0YXRlJ1xuaW1wb3J0IHsgdGhlRmVlZHNSZWR1Y2VyIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvdGhlZmVlZHMvVGhlRmVlZHNTdGF0ZSdcbmltcG9ydCB7IHRoZUZlZWRzRmlyZXNSZWR1Y2VyIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvdGhlZmVlZHNGaXJlcy9UaGVGZWVkc0ZpcmVzU3RhdGUnXG5pbXBvcnQgeyB3ZWJ4cm5hdGl2ZVJlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy93ZWJ4cl9uYXRpdmUvV2VieHJOYXRpdmVTdGF0ZSdcbmltcG9ydCB7IHJlZ2lzdHJhdGlvblJlZHVjZXIgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9yZWdpc3RyYXRpb24vUmVnaXN0cmF0aW9uU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRvcnM6IGNyZWF0b3JSZWR1Y2VyLFxuICBmZWVkczogZmVlZFJlZHVjZXIsXG4gIGZlZWRGaXJlczogZmVlZEZpcmVzUmVkdWNlcixcbiAgZmVlZENvbW1lbnRzOiBmZWVkQ29tbWVudHNSZWR1Y2VyLFxuICBhck1lZGlhOiBhck1lZGlhUmVkdWNlcixcbiAgcG9wdXBzOiBwb3B1cHNTdGF0ZVJlZHVjZXIsXG4gIHRoZWZlZWRzOiB0aGVGZWVkc1JlZHVjZXIsXG4gIHRoZWZlZWRzRmlyZXM6IHRoZUZlZWRzRmlyZXNSZWR1Y2VyLFxuICB3ZWJ4cm5hdGl2ZTogd2VieHJuYXRpdmVSZWR1Y2VyLFxuICByZWdpc3RyYXRpb25SZWR1Y2VyOiByZWdpc3RyYXRpb25SZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi9Vc2VyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbGF0aW9uc2hpcCB7XG4gIHVzZXJJZDogc3RyaW5nXG4gIGZyaWVuZDogVXNlcltdXG4gIHJlcXVlc3RlZDogVXNlcltdXG4gIGJsb2NraW5nOiBVc2VyW11cbiAgYmxvY2tlZDogVXNlcltdXG59XG5cbmV4cG9ydCBjb25zdCBSZWxhdGlvbnNoaXBTZWVkOiBSZWxhdGlvbnNoaXAgPSB7XG4gIHVzZXJJZDogJycsXG4gIGZyaWVuZDogW10sXG4gIHJlcXVlc3RlZDogW10sXG4gIGJsb2NraW5nOiBbXSxcbiAgYmxvY2tlZDogW11cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVN0YXRlLCB1c2VTdGF0ZSwgbm9uZSwgRG93bmdyYWRlZCB9IGZyb20gJ0Bob29rc3RhdGUvY29yZSdcbmltcG9ydCB7IFJlbGF0aW9uc2hpcFNlZWQgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1JlbGF0aW9uc2hpcCdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9pbnRlcmZhY2VzL1VzZXInXG5pbXBvcnQgeyBVc2VyQWN0aW9uVHlwZSB9IGZyb20gJy4vVXNlckFjdGlvbidcblxuY29uc3Qgc3RhdGUgPSBjcmVhdGVTdGF0ZSh7XG4gIHJlbGF0aW9uc2hpcDogUmVsYXRpb25zaGlwU2VlZCxcbiAgdXNlcnM6IFtdIGFzIEFycmF5PFVzZXI+LFxuICB1cGRhdGVOZWVkZWQ6IHRydWUsXG4gIGxheWVyVXNlcnM6IFtdIGFzIEFycmF5PFVzZXI+LFxuICBsYXllclVzZXJzVXBkYXRlTmVlZGVkOiB0cnVlLFxuICBjaGFubmVsTGF5ZXJVc2VyczogW10gYXMgQXJyYXk8VXNlcj4sXG4gIGNoYW5uZWxMYXllclVzZXJzVXBkYXRlTmVlZGVkOiB0cnVlLFxuICB0b2FzdE1lc3NhZ2VzOiBbXSBhcyBBcnJheTx7IHVzZXI6IFVzZXI7IHVzZXJBZGRlZD86IGJvb2xlYW47IHVzZXJSZW1vdmVkPzogYm9vbGVhbiB9PlxufSlcblxuZXhwb3J0IGNvbnN0IHVzZXJSZWR1Y2VyID0gKF8sIGFjdGlvbjogVXNlckFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1c2VyUmVjZXB0b3IoYWN0aW9uKSlcbiAgcmV0dXJuIHN0YXRlLmF0dGFjaChEb3duZ3JhZGVkKS52YWx1ZVxufVxuXG5leHBvcnQgY29uc3QgdXNlclJlY2VwdG9yID0gKGFjdGlvbjogVXNlckFjdGlvblR5cGUpOiB2b2lkID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdMT0FERURfUkVMQVRJT05TSElQJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyByZWxhdGlvbnNoaXA6IGFjdGlvbi5yZWxhdGlvbnNoaXAsIHVwZGF0ZU5lZWRlZDogZmFsc2UgfSlcbiAgICAgIGNhc2UgJ0FETUlOX0xPQURFRF9VU0VSUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHsgdXNlcnM6IGFjdGlvbi51c2VycywgdXBkYXRlTmVlZGVkOiBmYWxzZSB9KVxuICAgICAgY2FzZSAnQ0hBTkdFRF9SRUxBVElPTic6XG4gICAgICAgIHJldHVybiBzLnVwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIGNhc2UgJ0NMRUFSX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsYXllclVzZXJzOiBbXSwgbGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZDogdHJ1ZSB9KVxuICAgICAgY2FzZSAnTE9BREVEX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBsYXllclVzZXJzOiBhY3Rpb24udXNlcnMsIGxheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IGZhbHNlIH0pXG4gICAgICBjYXNlICdBRERFRF9MQVlFUl9VU0VSJzoge1xuICAgICAgICBjb25zdCBuZXdVc2VyID0gYWN0aW9uLnVzZXJcbiAgICAgICAgY29uc3QgaWR4ID0gcy5sYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci5pZC52YWx1ZSA9PT0gbmV3VXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHMubGF5ZXJVc2Vycy5tZXJnZShbbmV3VXNlcl0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5sYXllclVzZXJzW2lkeF0uc2V0KG5ld1VzZXIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMubGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1JFTU9WRURfTEFZRVJfVVNFUic6IHtcbiAgICAgICAgY29uc3QgbGF5ZXJVc2VycyA9IHMubGF5ZXJVc2Vyc1xuICAgICAgICBjb25zdCBpZHggPSBsYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci52YWx1ZS5pZCA9PT0gYWN0aW9uLnVzZXIuaWRcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHMubGF5ZXJVc2Vyc1tpZHhdLnNldChub25lKVxuICAgICAgfVxuICAgICAgY2FzZSAnQ0xFQVJfQ0hBTk5FTF9MQVlFUl9VU0VSUyc6XG4gICAgICAgIHJldHVybiBzLm1lcmdlKHtcbiAgICAgICAgICBjaGFubmVsTGF5ZXJVc2VyczogW10sXG4gICAgICAgICAgY2hhbm5lbExheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIGNhc2UgJ0xPQURFRF9DSEFOTkVMX0xBWUVSX1VTRVJTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2Uoe1xuICAgICAgICAgIGNoYW5uZWxMYXllclVzZXJzOiBhY3Rpb24udXNlcnMsXG4gICAgICAgICAgY2hhbm5lbExheWVyVXNlcnNVcGRhdGVOZWVkZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICBjYXNlICdBRERFRF9DSEFOTkVMX0xBWUVSX1VTRVInOiB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhY3Rpb24udXNlclxuICAgICAgICBjb25zdCBpZHggPSBzLmNoYW5uZWxMYXllclVzZXJzLmZpbmRJbmRleCgobGF5ZXJVc2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGxheWVyVXNlciAhPSBudWxsICYmIGxheWVyVXNlci52YWx1ZS5pZCA9PT0gbmV3VXNlci5pZFxuICAgICAgICB9KVxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHMuY2hhbm5lbExheWVyVXNlcnMubWVyZ2UoW25ld1VzZXJdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuY2hhbm5lbExheWVyVXNlcnNbaWR4XS5zZXQobmV3VXNlcilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5jaGFubmVsTGF5ZXJVc2Vyc1VwZGF0ZU5lZWRlZC5zZXQodHJ1ZSlcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1JFTU9WRURfQ0hBTk5FTF9MQVlFUl9VU0VSJzpcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGFjdGlvbi51c2VyXG4gICAgICAgIGNvbnN0IGlkeCA9IHMuY2hhbm5lbExheWVyVXNlcnMuZmluZEluZGV4KChsYXllclVzZXIpID0+IHtcbiAgICAgICAgICByZXR1cm4gbGF5ZXJVc2VyICE9IG51bGwgJiYgbGF5ZXJVc2VyLnZhbHVlLmlkID09PSBuZXdVc2VyLmlkXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBzLmNoYW5uZWxMYXllclVzZXJzW2lkeF0uc2V0KG5vbmUpXG4gICAgICBjYXNlICdVU0VSX1RPQVNUJzpcbiAgICAgICAgcmV0dXJuIHMudG9hc3RNZXNzYWdlcy5tZXJnZShbYWN0aW9uLm1lc3NhZ2VdKVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NVc2VyU3RhdGUgPSAoKSA9PiBzdGF0ZVxuZXhwb3J0IGNvbnN0IHVzZVVzZXJTdGF0ZSA9ICgpID0+IHVzZVN0YXRlKHN0YXRlKSBhcyBhbnkgYXMgdHlwZW9mIHN0YXRlIGFzIHVua25vd24gYXMgdHlwZW9mIHN0YXRlXG4iLCJpbXBvcnQgeyBhdXRoUmVkdWNlciB9IGZyb20gJy4vYXV0aC9BdXRoU3RhdGUnXG5pbXBvcnQgeyB1c2VyUmVkdWNlciB9IGZyb20gJy4uL3N0b3JlL1VzZXJTdGF0ZSdcbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXV0aDogYXV0aFJlZHVjZXIsXG4gIHVzZXI6IHVzZXJSZWR1Y2VyXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVTdGF0ZSwgdXNlU3RhdGUsIG5vbmUsIERvd25ncmFkZWQgfSBmcm9tICdAaG9va3N0YXRlL2NvcmUnXG5pbXBvcnQgeyBTY2VuZUFjdGlvblR5cGUgfSBmcm9tICcuL1NjcmVlbkFjdGlvbnMnXG5leHBvcnQgaW50ZXJmYWNlIFB1YmxpY1NjZW5lc1N0YXRlIHtcbiAgc2NlbmVzOiBQdWJsaWNTY2VuZVtdXG4gIGN1cnJlbnRTY2VuZTogUHVibGljU2NlbmVcbiAgZXJyb3I6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1YmxpY1NjZW5lIHtcbiAgdXJsOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHRodW1ibmFpbFVybD86IHN0cmluZ1xufVxuXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHtcbiAgc2NlbmVzOiBbXSBhcyBQdWJsaWNTY2VuZVtdLFxuICBjdXJyZW50U2NlbmU6IG51bGwhIGFzIFB1YmxpY1NjZW5lLFxuICBlcnJvcjogJydcbn0pXG5cbmV4cG9ydCBjb25zdCBzY2VuZVJlZHVjZXIgPSAoXywgYWN0aW9uOiBTY2VuZUFjdGlvblR5cGUpID0+IHtcbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBzY3JlZW5SZWNlcHRvcihhY3Rpb24pKVxuICByZXR1cm4gc3RhdGUuYXR0YWNoKERvd25ncmFkZWQpLnZhbHVlXG59XG5cbmNvbnN0IHNjcmVlblJlY2VwdG9yID0gKGFjdGlvbjogU2NlbmVBY3Rpb25UeXBlKTogYW55ID0+IHtcbiAgc3RhdGUuYmF0Y2goKHMpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdTQ0VORVNfRkVUQ0hFRF9TVUNDRVNTJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBzY2VuZXM6IGFjdGlvbi5zY2VuZXMgfSlcbiAgICAgIGNhc2UgJ1NDRU5FU19GRVRDSEVEX0VSUk9SJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBlcnJvcjogYWN0aW9uLm1lc3NhZ2UgfSlcbiAgICAgIGNhc2UgJ1NFVF9DVVJSRU5UX1NDRU5FJzpcbiAgICAgICAgcmV0dXJuIHMubWVyZ2UoeyBjdXJyZW50U2NlbmU6IGFjdGlvbi5zY2VuZSB9KVxuICAgIH1cbiAgfSwgYWN0aW9uLnR5cGUpXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NTY2VuZVN0YXRlID0gKCkgPT4gc3RhdGVcbmV4cG9ydCBjb25zdCB1c2VTY2VuZVN0YXRlID0gKCkgPT4gdXNlU3RhdGUoc3RhdGUpIGFzIGFueSBhcyB0eXBlb2Ygc3RhdGVcbiIsImltcG9ydCB7IHNjZW5lUmVkdWNlciB9IGZyb20gJy4vc2NlbmVzL1NjZW5lU3RhdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2NlbmVzOiBzY2VuZVJlZHVjZXJcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4LWltbXV0YWJsZSdcbmltcG9ydCBhZG1pblJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9hZG1pbi9yZWR1Y2VycydcbmltcG9ydCBjb21tb25SZWR1Y2VyIGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvY29tbW9uL3JlZHVjZXJzJ1xuaW1wb3J0IHNvY2lhbFJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMnXG5pbXBvcnQgc29jaWFsbWVkaWFSZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMvaW5kZXgnXG5pbXBvcnQgdXNlclJlZHVjZXIgZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91c2VyL3JlZHVjZXJzJ1xuaW1wb3J0IHdvcmxkUmVkdWNlciBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3dvcmxkL3JlZHVjZXJzJ1xuXG5jb25zdCByZWR1Y2VycyA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIC4uLmFkbWluUmVkdWNlcixcbiAgLi4uY29tbW9uUmVkdWNlcixcbiAgLi4uc29jaWFsUmVkdWNlcixcbiAgLi4uc29jaWFsbWVkaWFSZWR1Y2VyLFxuICAuLi51c2VyUmVkdWNlcixcbiAgLi4ud29ybGRSZWR1Y2VyXG59KVxuXG5leHBvcnQgZGVmYXVsdCByZWR1Y2Vyc1xuIiwiLyohIENhcGFjaXRvcjogaHR0cHM6Ly9jYXBhY2l0b3Jqcy5jb20vIC0gTUlUIExpY2Vuc2UgKi9cbmNvbnN0IGNyZWF0ZUNhcGFjaXRvclBsYXRmb3JtcyA9ICh3aW4pID0+IHtcbiAgICBjb25zdCBkZWZhdWx0UGxhdGZvcm1NYXAgPSBuZXcgTWFwKCk7XG4gICAgZGVmYXVsdFBsYXRmb3JtTWFwLnNldCgnd2ViJywgeyBuYW1lOiAnd2ViJyB9KTtcbiAgICBjb25zdCBjYXBQbGF0Zm9ybXMgPSB3aW4uQ2FwYWNpdG9yUGxhdGZvcm1zIHx8IHtcbiAgICAgICAgY3VycmVudFBsYXRmb3JtOiB7IG5hbWU6ICd3ZWInIH0sXG4gICAgICAgIHBsYXRmb3JtczogZGVmYXVsdFBsYXRmb3JtTWFwLFxuICAgIH07XG4gICAgY29uc3QgYWRkUGxhdGZvcm0gPSAobmFtZSwgcGxhdGZvcm0pID0+IHtcbiAgICAgICAgY2FwUGxhdGZvcm1zLnBsYXRmb3Jtcy5zZXQobmFtZSwgcGxhdGZvcm0pO1xuICAgIH07XG4gICAgY29uc3Qgc2V0UGxhdGZvcm0gPSAobmFtZSkgPT4ge1xuICAgICAgICBpZiAoY2FwUGxhdGZvcm1zLnBsYXRmb3Jtcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0gPSBjYXBQbGF0Zm9ybXMucGxhdGZvcm1zLmdldChuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY2FwUGxhdGZvcm1zLmFkZFBsYXRmb3JtID0gYWRkUGxhdGZvcm07XG4gICAgY2FwUGxhdGZvcm1zLnNldFBsYXRmb3JtID0gc2V0UGxhdGZvcm07XG4gICAgcmV0dXJuIGNhcFBsYXRmb3Jtcztcbn07XG5jb25zdCBpbml0UGxhdGZvcm1zID0gKHdpbikgPT4gKHdpbi5DYXBhY2l0b3JQbGF0Zm9ybXMgPSBjcmVhdGVDYXBhY2l0b3JQbGF0Zm9ybXMod2luKSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFNldCBgQ2FwYWNpdG9yQ3VzdG9tUGxhdGZvcm1gIG9uIHRoZSB3aW5kb3cgb2JqZWN0IHByaW9yIHRvIHJ1bnRpbWUgZXhlY3V0aW5nIGluIHRoZSB3ZWIgYXBwIGluc3RlYWRcbiAqL1xuY29uc3QgQ2FwYWNpdG9yUGxhdGZvcm1zID0gLyojX19QVVJFX18qLyBpbml0UGxhdGZvcm1zKCh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IGdsb2JhbFRoaXNcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IHNlbGZcbiAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgICAgIDoge30pKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgU2V0IGBDYXBhY2l0b3JDdXN0b21QbGF0Zm9ybWAgb24gdGhlIHdpbmRvdyBvYmplY3QgcHJpb3IgdG8gcnVudGltZSBleGVjdXRpbmcgaW4gdGhlIHdlYiBhcHAgaW5zdGVhZFxuICovXG5jb25zdCBhZGRQbGF0Zm9ybSA9IENhcGFjaXRvclBsYXRmb3Jtcy5hZGRQbGF0Zm9ybTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgU2V0IGBDYXBhY2l0b3JDdXN0b21QbGF0Zm9ybWAgb24gdGhlIHdpbmRvdyBvYmplY3QgcHJpb3IgdG8gcnVudGltZSBleGVjdXRpbmcgaW4gdGhlIHdlYiBhcHAgaW5zdGVhZFxuICovXG5jb25zdCBzZXRQbGF0Zm9ybSA9IENhcGFjaXRvclBsYXRmb3Jtcy5zZXRQbGF0Zm9ybTtcblxuY29uc3QgbGVnYWN5UmVnaXN0ZXJXZWJQbHVnaW4gPSAoY2FwLCB3ZWJQbHVnaW4pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY29uZmlnID0gd2ViUGx1Z2luLmNvbmZpZztcbiAgICBjb25zdCBQbHVnaW5zID0gY2FwLlBsdWdpbnM7XG4gICAgaWYgKCFjb25maWcgfHwgIWNvbmZpZy5uYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IGFkZCBsaW5rIHRvIHVwZ3JhZGUgZ3VpZGVcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYXBhY2l0b3IgV2ViUGx1Z2luIGlzIHVzaW5nIHRoZSBkZXByZWNhdGVkIFwicmVnaXN0ZXJXZWJQbHVnaW4oKVwiIGZ1bmN0aW9uLCBidXQgd2l0aG91dCB0aGUgY29uZmlnLiBQbGVhc2UgdXNlIFwicmVnaXN0ZXJQbHVnaW4oKVwiIGluc3RlYWQgdG8gcmVnaXN0ZXIgdGhpcyB3ZWIgcGx1Z2luLlwiYCk7XG4gICAgfVxuICAgIC8vIFRPRE86IGFkZCBsaW5rIHRvIHVwZ3JhZGUgZ3VpZGVcbiAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBwbHVnaW4gXCIke2NvbmZpZy5uYW1lfVwiIGlzIHVzaW5nIHRoZSBkZXByZWNhdGVkIFwicmVnaXN0ZXJXZWJQbHVnaW4oKVwiIGZ1bmN0aW9uYCk7XG4gICAgaWYgKCFQbHVnaW5zW2NvbmZpZy5uYW1lXSB8fCAoKF9hID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnBsYXRmb3JtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKGNhcC5nZXRQbGF0Zm9ybSgpKSkpIHtcbiAgICAgICAgLy8gQWRkIHRoZSB3ZWIgcGx1Z2luIGludG8gdGhlIHBsdWdpbnMgcmVnaXN0cnkgaWYgdGhlcmUgYWxyZWFkeSBpc24ndFxuICAgICAgICAvLyBhbiBleGlzdGluZyBvbmUuIElmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCwgdGhhdCBtZWFuc1xuICAgICAgICAvLyB0aGVyZSdzIG5vIGV4aXN0aW5nIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgaXQuXG4gICAgICAgIC8vIC0gT1IgLVxuICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSBwbHVnaW4gcmVnaXN0ZXJlZCAobWVhbmluZyBpdCB3YXMgZGVmaW5lZCBpbiB0aGUgbmF0aXZlIGxheWVyKSxcbiAgICAgICAgLy8gdGhlbiB3ZSBzaG91bGQgb25seSBvdmVyd3JpdGUgaXQgaWYgdGhlIGNvcnJlc3BvbmRpbmcgd2ViIHBsdWdpbiBhY3RpdmF0ZXMgb25cbiAgICAgICAgLy8gYSBjZXJ0YWluIHBsYXRmb3JtLiBGb3IgZXhhbXBsZTogR2VvbG9jYXRpb24gdXNlcyB0aGUgV2ViUGx1Z2luIG9uIEFuZHJvaWQgYnV0IG5vdCBpT1NcbiAgICAgICAgUGx1Z2luc1tjb25maWcubmFtZV0gPSB3ZWJQbHVnaW47XG4gICAgfVxufTtcblxudmFyIEV4Y2VwdGlvbkNvZGU7XG4oZnVuY3Rpb24gKEV4Y2VwdGlvbkNvZGUpIHtcbiAgICAvKipcbiAgICAgKiBBUEkgaXMgbm90IGltcGxlbWVudGVkLlxuICAgICAqXG4gICAgICogVGhpcyB1c3VhbGx5IG1lYW5zIHRoZSBBUEkgY2FuJ3QgYmUgdXNlZCBiZWNhdXNlIGl0IGlzIG5vdCBpbXBsZW1lbnRlZCBmb3JcbiAgICAgKiB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICBFeGNlcHRpb25Db2RlW1wiVW5pbXBsZW1lbnRlZFwiXSA9IFwiVU5JTVBMRU1FTlRFRFwiO1xuICAgIC8qKlxuICAgICAqIEFQSSBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhpcyBtZWFucyB0aGUgQVBJIGNhbid0IGJlIHVzZWQgcmlnaHQgbm93IGJlY2F1c2U6XG4gICAgICogICAtIGl0IGlzIGN1cnJlbnRseSBtaXNzaW5nIGEgcHJlcmVxdWlzaXRlLCBzdWNoIGFzIG5ldHdvcmsgY29ubmVjdGl2aXR5XG4gICAgICogICAtIGl0IHJlcXVpcmVzIGEgcGFydGljdWxhciBwbGF0Zm9ybSBvciBicm93c2VyIHZlcnNpb25cbiAgICAgKi9cbiAgICBFeGNlcHRpb25Db2RlW1wiVW5hdmFpbGFibGVcIl0gPSBcIlVOQVZBSUxBQkxFXCI7XG59KShFeGNlcHRpb25Db2RlIHx8IChFeGNlcHRpb25Db2RlID0ge30pKTtcbmNsYXNzIENhcGFjaXRvckV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmNvbnN0IGdldFBsYXRmb3JtSWQgPSAod2luKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAod2luID09PSBudWxsIHx8IHdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luLmFuZHJvaWRCcmlkZ2UpIHtcbiAgICAgICAgcmV0dXJuICdhbmRyb2lkJztcbiAgICB9XG4gICAgZWxzZSBpZiAoKF9iID0gKF9hID0gd2luID09PSBudWxsIHx8IHdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luLndlYmtpdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2VIYW5kbGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJyaWRnZSkge1xuICAgICAgICByZXR1cm4gJ2lvcyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3dlYic7XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlQ2FwYWNpdG9yID0gKHdpbikgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgY2FwQ3VzdG9tUGxhdGZvcm0gPSB3aW4uQ2FwYWNpdG9yQ3VzdG9tUGxhdGZvcm0gfHwgbnVsbDtcbiAgICBjb25zdCBjYXAgPSB3aW4uQ2FwYWNpdG9yIHx8IHt9O1xuICAgIGNvbnN0IFBsdWdpbnMgPSAoY2FwLlBsdWdpbnMgPSBjYXAuUGx1Z2lucyB8fCB7fSk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBjYXBDdXN0b21QbGF0Zm9ybWAgaW5zdGVhZCwgZGVmYXVsdCBmdW5jdGlvbnMgbGlrZSByZWdpc3RlclBsdWdpbiB3aWxsIGZ1bmN0aW9uIHdpdGggdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgY29uc3QgY2FwUGxhdGZvcm1zID0gd2luLkNhcGFjaXRvclBsYXRmb3JtcztcbiAgICBjb25zdCBkZWZhdWx0R2V0UGxhdGZvcm0gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjYXBDdXN0b21QbGF0Zm9ybSAhPT0gbnVsbFxuICAgICAgICAgICAgPyBjYXBDdXN0b21QbGF0Zm9ybS5uYW1lXG4gICAgICAgICAgICA6IGdldFBsYXRmb3JtSWQod2luKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFBsYXRmb3JtID0gKChfYSA9IGNhcFBsYXRmb3JtcyA9PT0gbnVsbCB8fCBjYXBQbGF0Zm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQbGF0Zm9ybSkgfHwgZGVmYXVsdEdldFBsYXRmb3JtO1xuICAgIGNvbnN0IGRlZmF1bHRJc05hdGl2ZVBsYXRmb3JtID0gKCkgPT4gZ2V0UGxhdGZvcm0oKSAhPT0gJ3dlYic7XG4gICAgY29uc3QgaXNOYXRpdmVQbGF0Zm9ybSA9ICgoX2IgPSBjYXBQbGF0Zm9ybXMgPT09IG51bGwgfHwgY2FwUGxhdGZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYXBQbGF0Zm9ybXMuY3VycmVudFBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaXNOYXRpdmVQbGF0Zm9ybSkgfHwgZGVmYXVsdElzTmF0aXZlUGxhdGZvcm07XG4gICAgY29uc3QgZGVmYXVsdElzUGx1Z2luQXZhaWxhYmxlID0gKHBsdWdpbk5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gcmVnaXN0ZXJlZFBsdWdpbnMuZ2V0KHBsdWdpbk5hbWUpO1xuICAgICAgICBpZiAocGx1Z2luID09PSBudWxsIHx8IHBsdWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGx1Z2luLnBsYXRmb3Jtcy5oYXMoZ2V0UGxhdGZvcm0oKSkpIHtcbiAgICAgICAgICAgIC8vIEpTIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZSBmb3IgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGx1Z2luSGVhZGVyKHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICAvLyBOYXRpdmUgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgaXNQbHVnaW5BdmFpbGFibGUgPSAoKF9jID0gY2FwUGxhdGZvcm1zID09PSBudWxsIHx8IGNhcFBsYXRmb3JtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FwUGxhdGZvcm1zLmN1cnJlbnRQbGF0Zm9ybSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlzUGx1Z2luQXZhaWxhYmxlKSB8fFxuICAgICAgICBkZWZhdWx0SXNQbHVnaW5BdmFpbGFibGU7XG4gICAgY29uc3QgZGVmYXVsdEdldFBsdWdpbkhlYWRlciA9IChwbHVnaW5OYW1lKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGNhcC5QbHVnaW5IZWFkZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluZChoID0+IGgubmFtZSA9PT0gcGx1Z2luTmFtZSk7IH07XG4gICAgY29uc3QgZ2V0UGx1Z2luSGVhZGVyID0gKChfZCA9IGNhcFBsYXRmb3JtcyA9PT0gbnVsbCB8fCBjYXBQbGF0Zm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcFBsYXRmb3Jtcy5jdXJyZW50UGxhdGZvcm0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5nZXRQbHVnaW5IZWFkZXIpIHx8IGRlZmF1bHRHZXRQbHVnaW5IZWFkZXI7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyKSA9PiB3aW4uY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGNvbnN0IHBsdWdpbk1ldGhvZE5vb3AgPSAoX3RhcmdldCwgcHJvcCwgcGx1Z2luTmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cGx1Z2luTmFtZX0gZG9lcyBub3QgaGF2ZSBhbiBpbXBsZW1lbnRhdGlvbiBvZiBcIiR7cHJvcH1cIi5gKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZ2lzdGVyZWRQbHVnaW5zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlZmF1bHRSZWdpc3RlclBsdWdpbiA9IChwbHVnaW5OYW1lLCBqc0ltcGxlbWVudGF0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyZWRQbHVnaW4gPSByZWdpc3RlcmVkUGx1Z2lucy5nZXQocGx1Z2luTmFtZSk7XG4gICAgICAgIGlmIChyZWdpc3RlcmVkUGx1Z2luKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBwbHVnaW4gXCIke3BsdWdpbk5hbWV9XCIgYWxyZWFkeSByZWdpc3RlcmVkLiBDYW5ub3QgcmVnaXN0ZXIgcGx1Z2lucyB0d2ljZS5gKTtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkUGx1Z2luLnByb3h5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oKTtcbiAgICAgICAgY29uc3QgcGx1Z2luSGVhZGVyID0gZ2V0UGx1Z2luSGVhZGVyKHBsdWdpbk5hbWUpO1xuICAgICAgICBsZXQganNJbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgY29uc3QgbG9hZFBsdWdpbkltcGxlbWVudGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFqc0ltcGxlbWVudGF0aW9uICYmIHBsYXRmb3JtIGluIGpzSW1wbGVtZW50YXRpb25zKSB7XG4gICAgICAgICAgICAgICAganNJbXBsZW1lbnRhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGpzSW1wbGVtZW50YXRpb24gPSBhd2FpdCBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGpzSW1wbGVtZW50YXRpb24gPSBqc0ltcGxlbWVudGF0aW9uc1twbGF0Zm9ybV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2FwQ3VzdG9tUGxhdGZvcm0gIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAhanNJbXBsZW1lbnRhdGlvbiAmJlxuICAgICAgICAgICAgICAgICd3ZWInIGluIGpzSW1wbGVtZW50YXRpb25zKSB7XG4gICAgICAgICAgICAgICAganNJbXBsZW1lbnRhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGpzSW1wbGVtZW50YXRpb24gPSBhd2FpdCBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGpzSW1wbGVtZW50YXRpb24gPSBqc0ltcGxlbWVudGF0aW9uc1snd2ViJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGpzSW1wbGVtZW50YXRpb247XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNyZWF0ZVBsdWdpbk1ldGhvZCA9IChpbXBsLCBwcm9wKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKHBsdWdpbkhlYWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhlYWRlciA9IHBsdWdpbkhlYWRlciA9PT0gbnVsbCB8fCBwbHVnaW5IZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsdWdpbkhlYWRlci5tZXRob2RzLmZpbmQobSA9PiBwcm9wID09PSBtLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChtZXRob2RIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZEhlYWRlci5ydHlwZSA9PT0gJ3Byb21pc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMpID0+IGNhcC5uYXRpdmVQcm9taXNlKHBsdWdpbk5hbWUsIHByb3AudG9TdHJpbmcoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiBjYXAubmF0aXZlQ2FsbGJhY2socGx1Z2luTmFtZSwgcHJvcC50b1N0cmluZygpLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gaW1wbFtwcm9wXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoaW1wbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSBpbXBsW3Byb3BdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmluZChpbXBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYXBhY2l0b3JFeGNlcHRpb24oYFwiJHtwbHVnaW5OYW1lfVwiIHBsdWdpbiBpcyBub3QgaW1wbGVtZW50ZWQgb24gJHtwbGF0Zm9ybX1gLCBFeGNlcHRpb25Db2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVQbHVnaW5NZXRob2RXcmFwcGVyID0gKHByb3ApID0+IHtcbiAgICAgICAgICAgIGxldCByZW1vdmU7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gbG9hZFBsdWdpbkltcGxlbWVudGF0aW9uKCkudGhlbihpbXBsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBjcmVhdGVQbHVnaW5NZXRob2QoaW1wbCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlID0gcCA9PT0gbnVsbCB8fCBwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwLnJlbW92ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhcGFjaXRvckV4Y2VwdGlvbihgXCIke3BsdWdpbk5hbWV9LiR7cHJvcH0oKVwiIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiAke3BsYXRmb3JtfWAsIEV4Y2VwdGlvbkNvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2FkZExpc3RlbmVyJykge1xuICAgICAgICAgICAgICAgICAgICBwLnJlbW92ZSA9IGFzeW5jICgpID0+IHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTb21lIGZsYWlyIOKcqFxuICAgICAgICAgICAgd3JhcHBlci50b1N0cmluZyA9ICgpID0+IGAke3Byb3AudG9TdHJpbmcoKX0oKSB7IFtjYXBhY2l0b3IgY29kZV0gfWA7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcHBlciwgJ25hbWUnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb3AsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhZGRMaXN0ZW5lciA9IGNyZWF0ZVBsdWdpbk1ldGhvZFdyYXBwZXIoJ2FkZExpc3RlbmVyJyk7XG4gICAgICAgIGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gY3JlYXRlUGx1Z2luTWV0aG9kV3JhcHBlcigncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgY29uc3QgYWRkTGlzdGVuZXJOYXRpdmUgPSAoZXZlbnROYW1lLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IGFkZExpc3RlbmVyKHsgZXZlbnROYW1lIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFja0lkID0gYXdhaXQgY2FsbDtcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcih7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tJZCxcbiAgICAgICAgICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY2FsbC50aGVuKCgpID0+IHJlc29sdmUoeyByZW1vdmUgfSkpKTtcbiAgICAgICAgICAgIHAucmVtb3ZlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVXNpbmcgYWRkTGlzdGVuZXIoKSB3aXRob3V0ICdhd2FpdCcgaXMgZGVwcmVjYXRlZC5gKTtcbiAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAwMzBcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnJCR0eXBlb2YnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9KU09OJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiAoe30pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGRMaXN0ZW5lcic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luSGVhZGVyID8gYWRkTGlzdGVuZXJOYXRpdmUgOiBhZGRMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlTGlzdGVuZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUxpc3RlbmVyO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBsdWdpbk1ldGhvZFdyYXBwZXIocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIFBsdWdpbnNbcGx1Z2luTmFtZV0gPSBwcm94eTtcbiAgICAgICAgcmVnaXN0ZXJlZFBsdWdpbnMuc2V0KHBsdWdpbk5hbWUsIHtcbiAgICAgICAgICAgIG5hbWU6IHBsdWdpbk5hbWUsXG4gICAgICAgICAgICBwcm94eSxcbiAgICAgICAgICAgIHBsYXRmb3JtczogbmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoanNJbXBsZW1lbnRhdGlvbnMpLFxuICAgICAgICAgICAgICAgIC4uLihwbHVnaW5IZWFkZXIgPyBbcGxhdGZvcm1dIDogW10pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgfTtcbiAgICBjb25zdCByZWdpc3RlclBsdWdpbiA9ICgoX2UgPSBjYXBQbGF0Zm9ybXMgPT09IG51bGwgfHwgY2FwUGxhdGZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYXBQbGF0Zm9ybXMuY3VycmVudFBsYXRmb3JtKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UucmVnaXN0ZXJQbHVnaW4pIHx8IGRlZmF1bHRSZWdpc3RlclBsdWdpbjtcbiAgICAvLyBBZGQgaW4gY29udmVydEZpbGVTcmMgZm9yIHdlYiwgaXQgd2lsbCBhbHJlYWR5IGJlIGF2YWlsYWJsZSBpbiBuYXRpdmUgY29udGV4dFxuICAgIGlmICghY2FwLmNvbnZlcnRGaWxlU3JjKSB7XG4gICAgICAgIGNhcC5jb252ZXJ0RmlsZVNyYyA9IGZpbGVQYXRoID0+IGZpbGVQYXRoO1xuICAgIH1cbiAgICBjYXAuZ2V0UGxhdGZvcm0gPSBnZXRQbGF0Zm9ybTtcbiAgICBjYXAuaGFuZGxlRXJyb3IgPSBoYW5kbGVFcnJvcjtcbiAgICBjYXAuaXNOYXRpdmVQbGF0Zm9ybSA9IGlzTmF0aXZlUGxhdGZvcm07XG4gICAgY2FwLmlzUGx1Z2luQXZhaWxhYmxlID0gaXNQbHVnaW5BdmFpbGFibGU7XG4gICAgY2FwLnBsdWdpbk1ldGhvZE5vb3AgPSBwbHVnaW5NZXRob2ROb29wO1xuICAgIGNhcC5yZWdpc3RlclBsdWdpbiA9IHJlZ2lzdGVyUGx1Z2luO1xuICAgIGNhcC5FeGNlcHRpb24gPSBDYXBhY2l0b3JFeGNlcHRpb247XG4gICAgY2FwLkRFQlVHID0gISFjYXAuREVCVUc7XG4gICAgY2FwLmlzTG9nZ2luZ0VuYWJsZWQgPSAhIWNhcC5pc0xvZ2dpbmdFbmFibGVkO1xuICAgIC8vIERlcHJlY2F0ZWQgcHJvcHNcbiAgICBjYXAucGxhdGZvcm0gPSBjYXAuZ2V0UGxhdGZvcm0oKTtcbiAgICBjYXAuaXNOYXRpdmUgPSBjYXAuaXNOYXRpdmVQbGF0Zm9ybSgpO1xuICAgIHJldHVybiBjYXA7XG59O1xuY29uc3QgaW5pdENhcGFjaXRvckdsb2JhbCA9ICh3aW4pID0+ICh3aW4uQ2FwYWNpdG9yID0gY3JlYXRlQ2FwYWNpdG9yKHdpbikpO1xuXG5jb25zdCBDYXBhY2l0b3IgPSAvKiNfX1BVUkVfXyovIGluaXRDYXBhY2l0b3JHbG9iYWwodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICA6IHt9KTtcbmNvbnN0IHJlZ2lzdGVyUGx1Z2luID0gQ2FwYWNpdG9yLnJlZ2lzdGVyUGx1Z2luO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBQcm92aWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIENhcGFjaXRvciB2MiBwbHVnaW5zLlxuICogQ2FwYWNpdG9yIHYzIHBsdWdpbnMgc2hvdWxkIGltcG9ydCB0aGUgcGx1Z2luIGRpcmVjdGx5LiBUaGlzIFwiUGx1Z2luc1wiXG4gKiBleHBvcnQgaXMgZGVwcmVjYXRlZCBpbiB2MywgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NC5cbiAqL1xuY29uc3QgUGx1Z2lucyA9IENhcGFjaXRvci5QbHVnaW5zO1xuLyoqXG4gKiBQcm92aWRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFVzZSB0aGUgcmVnaXN0ZXJQbHVnaW4oKSBBUElcbiAqIGluc3RlYWQsIGFuZCBwcm92aWRlIHRoZSB3ZWIgcGx1Z2luIGFzIHRoZSBcIndlYlwiIGltcGxtZW5ldGF0aW9uLlxuICogRm9yIGV4YW1wbGVcbiAqXG4gKiBleHBvcnQgY29uc3QgRXhhbXBsZSA9IHJlZ2lzdGVyUGx1Z2luKCdFeGFtcGxlJywge1xuICogICB3ZWI6ICgpID0+IGltcG9ydCgnLi93ZWInKS50aGVuKG0gPT4gbmV3IG0uRXhhbXBsZSgpKVxuICogfSlcbiAqXG4gKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGluIHYzLCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB2NC5cbiAqL1xuY29uc3QgcmVnaXN0ZXJXZWJQbHVnaW4gPSAocGx1Z2luKSA9PiBsZWdhY3lSZWdpc3RlcldlYlBsdWdpbihDYXBhY2l0b3IsIHBsdWdpbik7XG5cbi8qKlxuICogQmFzZSBjbGFzcyB3ZWIgcGx1Z2lucyBzaG91bGQgZXh0ZW5kLlxuICovXG5jbGFzcyBXZWJQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLndpbmRvd0xpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgbGluayB0byB1cGdyYWRlIGd1aWRlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENhcGFjaXRvciBXZWJQbHVnaW4gXCIke2NvbmZpZy5uYW1lfVwiIGNvbmZpZyBvYmplY3Qgd2FzIGRlcHJlY2F0ZWQgaW4gdjMgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NC5gKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGxpc3RlbmVyRnVuYyk7XG4gICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgYWRkZWQgYSB3aW5kb3cgbGlzdGVuZXIgZm9yIHRoaXMgZXZlbnQgYW5kIGl0IHJlcXVpcmVzIG9uZSxcbiAgICAgICAgLy8gZ28gYWhlYWQgYW5kIGFkZCBpdFxuICAgICAgICBjb25zdCB3aW5kb3dMaXN0ZW5lciA9IHRoaXMud2luZG93TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICh3aW5kb3dMaXN0ZW5lciAmJiAhd2luZG93TGlzdGVuZXIucmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcih3aW5kb3dMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlID0gYXN5bmMgKCkgPT4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyRnVuYyk7XG4gICAgICAgIGNvbnN0IHAgPSBQcm9taXNlLnJlc29sdmUoeyByZW1vdmUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLCAncmVtb3ZlJywge1xuICAgICAgICAgICAgdmFsdWU6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVzaW5nIGFkZExpc3RlbmVyKCkgd2l0aG91dCAnYXdhaXQnIGlzIGRlcHJlY2F0ZWQuYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVtb3ZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGFzeW5jIHJlbW92ZUFsbExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBpbiB0aGlzLndpbmRvd0xpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVXaW5kb3dMaXN0ZW5lcih0aGlzLndpbmRvd0xpc3RlbmVyc1tsaXN0ZW5lcl0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0ge307XG4gICAgfVxuICAgIG5vdGlmeUxpc3RlbmVycyhldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc0xpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5sZW5ndGg7XG4gICAgfVxuICAgIHJlZ2lzdGVyV2luZG93TGlzdGVuZXIod2luZG93RXZlbnROYW1lLCBwbHVnaW5FdmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy53aW5kb3dMaXN0ZW5lcnNbcGx1Z2luRXZlbnROYW1lXSA9IHtcbiAgICAgICAgICAgIHJlZ2lzdGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2luZG93RXZlbnROYW1lLFxuICAgICAgICAgICAgcGx1Z2luRXZlbnROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHBsdWdpbkV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdW5pbXBsZW1lbnRlZChtc2cgPSAnbm90IGltcGxlbWVudGVkJykge1xuICAgICAgICByZXR1cm4gbmV3IENhcGFjaXRvci5FeGNlcHRpb24obXNnLCBFeGNlcHRpb25Db2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgIH1cbiAgICB1bmF2YWlsYWJsZShtc2cgPSAnbm90IGF2YWlsYWJsZScpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXBhY2l0b3IuRXhjZXB0aW9uKG1zZywgRXhjZXB0aW9uQ29kZS5VbmF2YWlsYWJsZSk7XG4gICAgfVxuICAgIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lckZ1bmMpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBtb3JlIGxpc3RlbmVycyBmb3IgdGhpcyB0eXBlIG9mIGV2ZW50LFxuICAgICAgICAvLyByZW1vdmUgdGhlIHdpbmRvdyBsaXN0ZW5lclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVyKHRoaXMud2luZG93TGlzdGVuZXJzW2V2ZW50TmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdpbmRvd0xpc3RlbmVyKGhhbmRsZSkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihoYW5kbGUud2luZG93RXZlbnROYW1lLCBoYW5kbGUuaGFuZGxlcik7XG4gICAgICAgIGhhbmRsZS5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlV2luZG93TGlzdGVuZXIoaGFuZGxlKSB7XG4gICAgICAgIGlmICghaGFuZGxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoaGFuZGxlLndpbmRvd0V2ZW50TmFtZSwgaGFuZGxlLmhhbmRsZXIpO1xuICAgICAgICBoYW5kbGUucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuY29uc3QgV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gcmVnaXN0ZXJQbHVnaW4oJ1dlYlZpZXcnKTtcblxuZXhwb3J0IHsgQ2FwYWNpdG9yLCBDYXBhY2l0b3JFeGNlcHRpb24sIENhcGFjaXRvclBsYXRmb3JtcywgRXhjZXB0aW9uQ29kZSwgUGx1Z2lucywgV2ViUGx1Z2luLCBXZWJWaWV3LCBhZGRQbGF0Zm9ybSwgcmVnaXN0ZXJQbHVnaW4sIHJlZ2lzdGVyV2ViUGx1Z2luLCBzZXRQbGF0Zm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCJpbXBvcnQgeyByZWdpc3RlclBsdWdpbiB9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSc7XG5jb25zdCBBcHAgPSByZWdpc3RlclBsdWdpbignQXBwJywge1xuICAgIHdlYjogKCkgPT4gaW1wb3J0KCcuL3dlYicpLnRoZW4obSA9PiBuZXcgbS5BcHBXZWIoKSksXG59KTtcbmV4cG9ydCAqIGZyb20gJy4vZGVmaW5pdGlvbnMnO1xuZXhwb3J0IHsgQXBwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCB7IEFwcCwgVVJMT3Blbkxpc3RlbmVyRXZlbnQgfSBmcm9tICdAY2FwYWNpdG9yL2FwcCdcblxuY29uc3QgQXBwVXJsTGlzdGVuZXI6IFJlYWN0LkZDPGFueT4gPSAoKSA9PiB7XG4gIGxldCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgQXBwLmFkZExpc3RlbmVyKCdhcHBVcmxPcGVuJywgKGV2ZW50OiBVUkxPcGVuTGlzdGVuZXJFdmVudCkgPT4ge1xuICAgICAgLy8gdXJsOiBodHRwczovL2Rldi5hcmNtZWRpYS51cy9sb2dpblxuICAgICAgLy8gc2x1ZyA9IC9sb2dpblxuICAgICAgY29uc3Qgc2x1ZyA9IGV2ZW50LnVybC5zcGxpdCgnLnVzJykucG9wKClcbiAgICAgIGlmIChzbHVnKSB7XG4gICAgICAgIGhpc3RvcnkucHVzaChzbHVnKVxuICAgICAgfVxuICAgICAgLy8gSWYgbm8gbWF0Y2gsIGRvIG5vdGhpbmcgLSBsZXQgcmVndWxhciByb3V0aW5nXG4gICAgICAvLyBsb2dpYyB0YWtlIG92ZXJcbiAgICB9KVxuICB9LCBbXSlcblxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBVcmxMaXN0ZW5lclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm92aWRlciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAncmVhY3QtaGVsbWV0J1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3N0b3JlJ1xuaW1wb3J0IHsgaW5pdEdBLCBsb2dQYWdlVmlldyB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvY29tbW9uL2NvbXBvbmVudHMvYW5hbHl0aWNzJ1xuaW1wb3J0IEdsb2JhbFN0eWxlIGZyb20gJ0B4cmVuZ2luZS9lZGl0b3Ivc3JjL2NvbXBvbmVudHMvR2xvYmFsU3R5bGUnXG5pbXBvcnQgdGhlbWUgZnJvbSAnLi4vLi4vdGhlbWUnXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9jb25maWcnXG5pbXBvcnQgeyBTbmFja2JhclByb3ZpZGVyIH0gZnJvbSAnbm90aXN0YWNrJ1xuaW1wb3J0IHsgQXV0aEFjdGlvbiB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhBY3Rpb24nXG5pbXBvcnQgUm91dGVyQ29tcCBmcm9tICcuLi9yb3V0ZXInXG5pbXBvcnQgcmVkdWNlcnMgZnJvbSAnLi4vcmVkdWNlcnMnXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnXG5pbXBvcnQgQXBwVXJsTGlzdGVuZXIgZnJvbSAnLi4vY29tcG9uZW50cy9BcHBEZWVwTGluaydcblxuY29uc3QgQXBwID0gKCk6IGFueSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuXG4gIGNvbnN0IGluaXRBcHAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52Lk5PREVfQ09ORklHKSB7XG4gICAgICA7KHdpbmRvdyBhcyBhbnkpLmVudiA9IHByb2Nlc3MuZW52Lk5PREVfQ09ORklHXG4gICAgfSBlbHNlIHtcbiAgICAgIDsod2luZG93IGFzIGFueSkuZW52ID0gJydcbiAgICB9XG5cbiAgICBkaXNwYXRjaChBdXRoQWN0aW9uLnJlc3RvcmVBdXRoKCkpXG5cbiAgICBpbml0R0EoKVxuXG4gICAgbG9nUGFnZVZpZXcoKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoaW5pdEFwcCwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlbG1ldD5cbiAgICAgICAgPHRpdGxlPntDb25maWcucHVibGljUnVudGltZUNvbmZpZy50aXRsZX08L3RpdGxlPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIG5hbWU9XCJ2aWV3cG9ydFwiXG4gICAgICAgICAgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wLCBzaHJpbmstdG8tZml0PW5vXCJcbiAgICAgICAgLz5cbiAgICAgIDwvSGVsbWV0PlxuICAgICAgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e3RoZW1lfT5cbiAgICAgICAgPFNuYWNrYmFyUHJvdmlkZXIgbWF4U25hY2s9ezN9PlxuICAgICAgICAgIDxHbG9iYWxTdHlsZSAvPlxuICAgICAgICAgIDxSb3V0ZXJDb21wIC8+XG4gICAgICAgIDwvU25hY2tiYXJQcm92aWRlcj5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICA8Lz5cbiAgKVxufVxuXG5jb25zdCBTdG9yZVByb3ZpZGVyID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxQcm92aWRlciBzdG9yZT17Y29uZmlndXJlU3RvcmUocmVkdWNlcnMpfT5cbiAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICA8QXBwVXJsTGlzdGVuZXI+PC9BcHBVcmxMaXN0ZW5lcj5cbiAgICAgICAgPEFwcCAvPlxuICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgIDwvUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RvcmVQcm92aWRlclxuIl0sIm5hbWVzIjpbIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwicmVxdWlyZSQkMCIsInByb3BUeXBlc01vZHVsZSIsIlJlYWN0IiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJfZXh0ZW5kcyIsImIiLCJmIiwiZyIsImgiLCJrIiwibSIsIm4iLCJwIiwicSIsInYiLCJ3IiwieCIsInoiLCJBIiwicmVhY3RJc01vZHVsZSIsInVzZUNvbnRleHQiLCJ1c2VSZWR1eENvbnRleHQiLCJ1c2VEZWZhdWx0UmVkdXhDb250ZXh0IiwidXNlU3RvcmUiLCJ1c2VEZWZhdWx0U3RvcmUiLCJiYXRjaCIsInNldFByb3RvdHlwZU9mIiwicHJlZml4IiwiY2FuVXNlRE9NIiwiaW52YXJpYW50IiwiYWRkTGVhZGluZ1NsYXNoIiwic3RyaXBCYXNlbmFtZSIsImNsYW1wIiwiX2luaGVyaXRzTG9vc2UiLCJDb21wb25lbnQiLCJpbmRleCIsImlzYXJyYXkiLCJwYXRoVG9SZWdleHBNb2R1bGUiLCJwYXJzZSIsImNvbXBpbGUiLCJjcmVhdGVDb250ZXh0IiwicGF0aFRvUmVnZXhwIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJob2lzdFN0YXRpY3MiLCJfX1JvdXRlckNvbnRleHQiLCJ3YXJuIiwiaXNFcXVhbCIsIndpdGhTaWRlRWZmZWN0IiwicmVhY3RQcm9wc1JlZ2V4IiwibWVtb2l6ZSIsImUiLCJyIiwicyIsIm8iLCJpIiwiYSIsIl8iLCJ1IiwieSIsImMiLCJkIiwiZGVmaW5lUHJvcGVydHkiLCJjcmVhdGVTdG9yZSIsImlzUGxhaW5PYmplY3QiLCJjb21wb3NlIiwiX29iamVjdFNwcmVhZCIsImhhc093blByb3BlcnR5IiwidmFsdWVPZiIsIk1hcCIsInRvU3RyaW5nIiwiZ2V0Iiwic2V0IiwibWVyZ2UkMSIsImhhc2giLCJTZXQiLCJ0b09iamVjdCIsIm1lcmdlIiwic2VsZiIsIlN0b3JlIiwic3RhdGUiLCJJbW11dGFibGUiLCJtaWRkbGV3YXJlIiwidGh1bmtNaWRkbGV3YXJlIiwicmVxdWlyZSQkMSIsImNyZWF0ZUdsb2JhbFN0eWxlIiwiX3R5cGVvZiIsImRlZXBtZXJnZSIsImRlY29tcG9zZUNvbG9yIiwicmVjb21wb3NlQ29sb3IiLCJoZXhUb1JnYiIsIl9mb3JtYXRNdWlFcnJvck1lc3NhZ2UiLCJnZXRMdW1pbmFuY2UiLCJoc2xUb1JnYiIsImRhcmtlbiIsImxpZ2h0ZW4iLCJrZXlzIiwiX2RlZmluZVByb3BlcnR5IiwiY29tbW9uIiwiZ3JleSIsInJlZCIsIm9yYW5nZSIsImJsdWUiLCJncmVlbiIsImxpZ2h0IiwiZGFyayIsImluZGlnbyIsInBpbmsiLCJnZXRDb250cmFzdFJhdGlvIiwiYWRkTGlnaHRPckRhcmsiLCJyb3VuZCIsImNhc2VBbGxDYXBzIiwiZGVmYXVsdEZvbnRGYW1pbHkiLCJzaGFkb3dLZXlVbWJyYU9wYWNpdHkiLCJzaGFkb3dLZXlQZW51bWJyYU9wYWNpdHkiLCJzaGFkb3dBbWJpZW50U2hhZG93T3BhY2l0eSIsInNoYWRvd3MiLCJjcmVhdGVTaGFkb3ciLCJzaGFwZSIsImFycmF5TGlrZVRvQXJyYXkiLCJhcnJheVdpdGhvdXRIb2xlcyIsIml0ZXJhYmxlVG9BcnJheSIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJ2YWx1ZXMiLCJkZWZhdWx0QnJlYWtwb2ludHMiLCJwcm9wZXJ0aWVzIiwiZGlyZWN0aW9ucyIsImFsaWFzZXMiLCJnZXRDc3NQcm9wZXJ0aWVzIiwic3BhY2luZ0tleXMiLCJnZXRWYWx1ZSIsImNyZWF0ZVVuYXJ5U3BhY2luZyIsImdldFN0eWxlRnJvbVByb3BWYWx1ZSIsImhhbmRsZUJyZWFrcG9pbnRzIiwic3BhY2luZyIsImVhc2luZyIsImR1cmF0aW9uIiwiZm9ybWF0TXMiLCJ6SW5kZXgiLCJjcmVhdGVQYWxldHRlIiwiY3JlYXRlQnJlYWtwb2ludHMiLCJjcmVhdGVTcGFjaW5nIiwiY3JlYXRlTWl4aW5zIiwiY3JlYXRlVHlwb2dyYXBoeSIsImNyZWF0ZVRoZW1lIiwidXNlRW5oYW5jZWRFZmZlY3QiLCJSZWFjdC51c2VMYXlvdXRFZmZlY3QiLCJSZWFjdC51c2VFZmZlY3QiLCJSZWFjdC51c2VSZWYiLCJSZWFjdC51c2VDYWxsYmFjayIsIlJlYWN0LnVzZU1lbW8iLCJhYnMiLCJmcm9tIiwicG9zaXRpb24iLCJ0b2tlbiIsInVuaXRsZXNzIiwiaGFzaFN0cmluZyIsImZvcndhcmRSZWYiLCJUaGVtZUNvbnRleHQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlU3R5bGVkIiwianN4UnVudGltZU1vZHVsZSIsInN0eWxlIiwiYnJlYWtwb2ludHNWYWx1ZXMiLCJib3JkZXJzIiwiZmxleGJveCIsImdyaWQiLCJwYWxldHRlIiwic2l6aW5nIiwidHlwb2dyYXBoeSIsIl9leGNsdWRlZCIsIlJlYWN0LmNyZWF0ZUNvbnRleHQiLCJSZWFjdC51c2VDb250ZXh0IiwibXVpVXNlVGhlbWUiLCJpc09iamVjdEVtcHR5Iiwic3lzdGVtRGVmYXVsdFRoZW1lIiwidXNlVGhlbWVXaXRob3V0RGVmYXVsdCIsImlzRW1wdHkiLCJzdHlsZWRFbmdpbmVTdHlsZWQiLCJ1c2VUaGVtZSIsInB1cnBsZSIsImxpZ2h0Qmx1ZSIsInN5c3RlbUNyZWF0ZVRoZW1lIiwidXNlVGhlbWVTeXN0ZW0iLCJkZWZhdWx0VGhlbWUiLCJzeXN0ZW1Vc2VUaGVtZVByb3BzIiwidXNlVXRpbGl0eUNsYXNzZXMiLCJzdHlsZWQiLCJSZWFjdC5mb3J3YXJkUmVmIiwiX2pzeHMiLCJfanN4IiwiVHJhbnNpdGlvbiIsIlJlYWN0LmNsb25lRWxlbWVudCIsInVzZUV2ZW50Q2FsbGJhY2siLCJSZWFjdC5GcmFnbWVudCIsIlJlYWN0X19kZWZhdWx0IiwiU2xpZGUiLCJTdmdJY29uIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VTdGF0ZSIsIkNvbGxhcHNlIiwiY3JlYXRlUG9ydGFsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUkJDIiLCJhZG1pblJlZHVjZXIiLCJ1c2VyUmVjZXB0b3IiLCJsb2NhdGlvblJlY2VwdG9yIiwiYWNjZXNzTG9jYXRpb25TdGF0ZSIsInBhcnR5UmVjZXB0b3IiLCJncm91cFJlY2VwdG9yIiwidW5kZWZpbmVkIiwiZ2xvYmFsIiwidGhpcyIsIm1vbWVudCIsInVzZXJSZWR1Y2VyIiwiQXBwIiwiSGVsbWV0IiwiVGhlbWVQcm92aWRlciIsInRoZW1lIl0sIm1hcHBpbmdzIjoic09BU0lBLEdBQXVCLCtDQUUzQixHQUFpQkEsR0NGYixHQUF1QkMsR0FFM0IsYUFBeUIsRUFDekIsYUFBa0MsRUFDbEMsR0FBdUIsa0JBQW9CLE1BRTNDLElBQWlCLFVBQVcsQ0FDMUIsV0FBYyxFQUFPLEVBQVUsRUFBZSxFQUFVLEVBQWMsRUFBUSxDQUM1RSxHQUFJLElBQVcsR0FJZixJQUFJLEdBQU0sR0FBSSxPQUNaLG1MQUlGLFFBQUksS0FBTyxzQkFDTCxHQUVSLEVBQUssV0FBYSxFQUNsQixZQUFtQixDQUNqQixNQUFPLEdBSVQsR0FBSSxHQUFpQixDQUNuQixNQUFPLEVBQ1AsS0FBTSxFQUNOLEtBQU0sRUFDTixPQUFRLEVBQ1IsT0FBUSxFQUNSLE9BQVEsRUFDUixPQUFRLEVBRVIsSUFBSyxFQUNMLFFBQVMsRUFDVCxRQUFTLEVBQ1QsWUFBYSxFQUNiLFdBQVksRUFDWixLQUFNLEVBQ04sU0FBVSxFQUNWLE1BQU8sRUFDUCxVQUFXLEVBQ1gsTUFBTyxFQUNQLE1BQU8sRUFFUCxlQUFnQixHQUNoQixrQkFBbUIsSUFHckIsU0FBZSxVQUFZLEVBRXBCLEdDN0NQQyxXQUFpQkQsdUJDaEJSLEdBQWlDRSxFQUFNLGNBQWMsTUNBaEUsWUFBMEIsRUFBVSxDQUNsQyxJQUdGLEdBQUksSUFBUSxHQUVELEdBQVcsU0FBa0IsRUFBVSxDQUNoRCxNQUFPLElBQVEsR0FHTixHQUFXLFVBQW9CLENBQ3hDLE1BQU8sS0NSVCxhQUFvQyxDQUNsQyxHQUFJLEdBQVEsS0FDUixFQUFRLEtBQ1IsRUFBTyxLQUNYLE1BQU8sQ0FDTCxNQUFPLFVBQWlCLENBQ3RCLEVBQVEsS0FDUixFQUFP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V0FBVyxJQUFJLEdBQUcsS0FBSyxPQUFPLEVBQUUsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxXQUFXLEdBQUcsRUFBRSxPQUFRLEdBQUUsS0FBSyxhQUFhLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLElBQUksS0FBSyxJQUFJLFdBQVcsRUFBRSxFQUFFLEtBQU0sTUFBSyxXQUFXLEtBQUssTUFBTSxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssT0FBTyxDQUFDLEdBQUksR0FBRSxLQUFLLFdBQVcsR0FBRyxFQUFFLEtBQUssYUFBYSxHQUFHLEVBQUUsRUFBRSxFQUFFLEtBQUssV0FBVyxHQUFHLEVBQUUsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxJQUFJLFdBQVcsS0FBSyxFQUFFLFNBQVMsU0FBUyxFQUFFLENBQUMsR0FBSSxHQUFFLEdBQUcsR0FBRyxHQUFHLEtBQUssUUFBUSxBQUFJLEtBQUssV0FBVyxLQUFwQixFQUF1QixNQUFPLEdBQUUsT0FBUSxHQUFFLEtBQUssV0FBVyxHQUFHLEVBQUUsS0FBSyxhQUFhLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxJQUFJLFFBQVEsR0FBRztBQUFBLEVBQVksTUFBTyxJQUFHLEtBQUssR0FBRSxHQUFJLEtBQUksR0FBRSxHQUFJLEtBQUksR0FBRSxFQUFFLEdBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxHQUFFLElBQUksR0FBRyxNQUFPLElBQUUsSUFBSSxHQUFHLEtBQUssR0FBRSxJQUFJLEtBQUksS0FBSSxHQUFJLEdBQUUsS0FBSSxNQUEwRSxJQUFFLElBQUksRUFBRSxHQUFHLEdBQUUsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFFLFNBQVMsRUFBRSxDQUFDLE1BQU8sSUFBRSxJQUFJLElBQUksR0FBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUksRUFBRSxHQUFHLEdBQUUsSUFBSSxFQUFFLElBQUksR0FBRSxTQUFTLEdBQUUsaUNBQWlDLEdBQUUsR0FBSSxRQUFPLElBQUksR0FBRSxnREFBZ0QsR0FBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBUSxHQUFFLEVBQUUsRUFBRSxNQUFNLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEFBQUMsR0FBRSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsSUFBSSxHQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsT0FBUSxHQUFHLEdBQUUsV0FBVyxJQUFJLE1BQU07QUFBQSxHQUFhLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxJQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLEdBQUcsQUFBSSxJQUFKLEdBQVEsSUFBRSxFQUFFLEdBQUcsR0FBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sTUFBTyxHQUFFLEtBQUssTUFBTXJDLEdBQUUsVUFBVSxDQUFDLE1BQU0sQUFBYSxPQUFPLFNBQXBCLGFBQTRCLEFBQVMsT0FBTyxvQkFBaEIsT0FBa0MsT0FBTyxrQkFBa0IsTUFBTSxHQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUksR0FBRSxTQUFTLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxTQUFTLGNBQWMsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLE9BQVEsR0FBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLE9BQU8sR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxBQUFJLEVBQUUsV0FBTixHQUFnQixFQUFFLGFBQWEsSUFBRyxNQUFPLEtBQUksR0FBRyxFQUFFLEFBQVMsSUFBVCxPQUFXLEVBQUUsWUFBWSxLQUFLLEVBQUUsYUFBYSxHQUFFLFVBQVUsRUFBRSxhQUFhLHNCQUFzQixTQUFTLEdBQUksR0FBRUEsS0FBSSxNQUFPLElBQUcsRUFBRSxhQUFhLFFBQVEsR0FBRyxFQUFFLGFBQWEsRUFBRSxHQUFHLEdBQUcsR0FBRSxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssUUFBUSxHQUFFLEdBQUcsRUFBRSxZQUFZLFNBQVMsZUFBZSxLQUFLLEtBQUssTUFBTSxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxNQUFPLEdBQUUsTUFBTSxPQUFRLEdBQUUsU0FBUyxZQUFZLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUksR0FBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLFlBQVksRUFBRSxNQUFPLEdBQUUsR0FBRSxLQUFLLEdBQUcsS0FBSyxPQUFPLEVBQUUsR0FBSSxHQUFFLEVBQUUsVUFBVSxNQUFPLEdBQUUsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFPLE1BQUssTUFBTSxXQUFXLEVBQUUsR0FBRyxLQUFLLFNBQVMsU0FBUyxFQUFOLENBQVMsTUFBTSxLQUFLLEVBQUUsV0FBVyxTQUFTLEVBQUUsQ0FBQyxLQUFLLE1BQU0sV0FBVyxHQUFHLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssTUFBTSxTQUFTLEdBQUcsTUFBTyxBQUFTLEtBQVQsUUFBWSxBQUFVLE1BQU8sR0FBRSxTQUFuQixTQUEyQixFQUFFLFFBQVEsSUFBSSxLQUFLLEdBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUksR0FBRSxLQUFLLFFBQVEsR0FBRSxHQUFHLEtBQUssTUFBTSxFQUFFLFdBQVcsS0FBSyxPQUFPLEVBQUUsR0FBSSxHQUFFLEVBQUUsVUFBVSxNQUFPLEdBQUUsV0FBVyxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxLQUFLLFFBQVEsR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLFNBQVMsZUFBZSxHQUFHLEVBQUUsS0FBSyxNQUFNLEdBQUcsTUFBTyxNQUFLLFFBQVEsYUFBYSxFQUFFLEdBQUcsTUFBTSxLQUFLLFNBQVMsR0FBRyxNQUFNLElBQUksRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLEtBQUssUUFBUSxZQUFZLEtBQUssTUFBTSxJQUFJLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsTUFBTyxHQUFFLEtBQUssT0FBTyxLQUFLLE1BQU0sR0FBRyxZQUFZLElBQUksS0FBSyxHQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLE1BQU0sR0FBRyxLQUFLLE9BQU8sRUFBRSxHQUFJLEdBQUUsRUFBRSxVQUFVLE1BQU8sR0FBRSxXQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsTUFBTyxJQUFHLEtBQUssUUFBUyxNQUFLLE1BQU0sT0FBTyxFQUFFLEVBQUUsR0FBRyxLQUFLLFNBQVMsS0FBSyxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLE9BQU8sRUFBRSxHQUFHLEtBQUssVUFBVSxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsTUFBTyxHQUFFLEtBQUssT0FBTyxLQUFLLE1BQU0sR0FBRyxJQUFJLEtBQUssR0FBRSxHQUFFLEdBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRSxrQkFBa0IsQ0FBQyxJQUFHLEdBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxBQUFTLElBQVQsUUFBYSxHQUFFLElBQUcsQUFBUyxJQUFULFFBQWEsR0FBRSxJQUFJLEtBQUssUUFBUSxHQUFFLEdBQUcsR0FBRSxHQUFHLEdBQUcsS0FBSyxHQUFHLEVBQUUsS0FBSyxNQUFNLEdBQUksS0FBSSxHQUFHLEtBQUssT0FBTyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsS0FBSyxRQUFRLElBQUcsSUFBSSxJQUFFLEdBQUcsU0FBUyxFQUFFLENBQUMsT0FBUSxHQUFFLFNBQVMsaUJBQWlCLElBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxHQUFHLEFBQVcsRUFBRSxhQUFhLE1BQTFCLFVBQStCLElBQUUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLFdBQVcsWUFBWSxNQUFNLE9BQU8sRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLE1BQU8sSUFBRSxJQUFJLEdBQUksR0FBRSxFQUFFLFVBQVUsTUFBTyxHQUFFLHVCQUF1QixTQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU8sQUFBUyxLQUFULFFBQWEsR0FBRSxJQUFJLEdBQUksR0FBRSxHQUFFLEdBQUcsS0FBSyxRQUFRLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxLQUFLLE9BQU8sU0FBUyxFQUFFLG1CQUFtQixTQUFTLEVBQUUsQ0FBQyxNQUFPLE1BQUssR0FBRyxHQUFJLE1BQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxFQUFFLE9BQU8sVUFBVSxDQUFDLE1BQU8sTUFBSyxLQUFNLE1BQUssSUFBSyxHQUFHLEdBQUUsS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBSSxJQUFFLEdBQUcsRUFBRSxHQUFJLElBQUUsR0FBRyxHQUFJLElBQUUsR0FBRyxHQUFJLElBQUUsS0FBSyxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLGFBQWEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxNQUFPLE1BQUssTUFBTSxJQUFJLElBQUksS0FBSyxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxhQUFhLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFFLEdBQUcsS0FBSyxNQUFNLElBQUksR0FBRyxLQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUksR0FBRSxHQUFJLEtBQUksRUFBRSxJQUFJLEdBQUcsS0FBSyxNQUFNLElBQUksRUFBRSxLQUFLLEVBQUUsWUFBWSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxhQUFhLEVBQUUsR0FBRyxLQUFLLFNBQVMsWUFBWSxHQUFFLEdBQUcsSUFBSSxFQUFFLFdBQVcsU0FBUyxFQUFFLENBQUMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLE1BQU0sSUFBSSxHQUFHLFNBQVMsRUFBRSxXQUFXLFNBQVMsRUFBRSxDQUFDLEtBQUssU0FBUyxXQUFXLEdBQUUsSUFBSSxLQUFLLFdBQVcsSUFBSSxFQUFFLFNBQVMsVUFBVSxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUUsU0FBUyxVQUFVLENBQUMsTUFBTyxVQUFTLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsR0FBRSxHQUFHLEdBQUcsQUFBUyxJQUFULE9BQVcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxNQUFNLElBQUksR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUksR0FBRSxHQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsQUFBUyxJQUFULFFBQVksRUFBRSxRQUFTLFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxHQUFJLElBQUcsRUFBRSxPQUFRLEdBQUcsR0FBRyxFQUFFLEVBQUUsYUFBYSxFQUFFO0FBQUEsSUFBZ0IsTUFBTyxJQUFHLE9BQU8sS0FBSyxHQUFFLFdBQVcsR0FBRSxTQUFTLEVBQUUsQ0FBQyxNQUFPLFFBQU8sYUFBYSxFQUFHLEdBQUUsR0FBRyxHQUFHLE1BQU0sWUFBWSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsS0FBSyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU8sSUFBRSxFQUFFLElBQUksR0FBRyxRQUFRLEdBQUUsU0FBUyxHQUFJLElBQUcsU0FBUyxFQUFFLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxXQUFXLEVBQUUsR0FBRyxNQUFPLElBQUcsR0FBRyxTQUFTLEVBQUUsQ0FBQyxNQUFPLElBQUcsS0FBSyxJQUFJLFlBQVksRUFBRSxDQUFDLE9BQVEsR0FBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLEdBQUcsR0FBRyxHQUFFLElBQUksQ0FBQyxHQUFFLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFJLElBQUcsR0FBRyxTQUFTLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLE1BQU0sRUFBRSxLQUFLLGNBQWMsR0FBRyxLQUFLLFNBQStDLENBQVMsSUFBVCxRQUFZLEVBQUUsV0FBVyxHQUFHLEdBQUcsS0FBSyxZQUFZLEVBQUUsS0FBSyxTQUFTLEdBQUcsR0FBRyxHQUFHLEtBQUssVUFBVSxFQUFFLEdBQUUsV0FBVyxHQUFHLE1BQU8sR0FBRSxVQUFVLHdCQUF3QixTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEtBQUssWUFBWSxFQUFFLEdBQUcsR0FBRyxLQUFLLFdBQVcsRUFBRSxLQUFLLEtBQUssVUFBVSx3QkFBd0IsRUFBRSxFQUFFLElBQUksS0FBSyxVQUFVLENBQUMsRUFBRSxLQUFLLEdBQUcsS0FBSyxlQUFlLEVBQUUsYUFBYSxFQUFFLEtBQUssZUFBZSxFQUFFLEtBQUssS0FBSyxtQkFBbUIsQ0FBQyxHQUFJLEdBQUUsR0FBRyxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLEVBQUUsR0FBRyxHQUFHLEtBQUssU0FBUyxLQUFLLEdBQUcsR0FBRyxDQUFDLEVBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUcsRUFBRSxZQUFZLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxHQUFHLEtBQUssY0FBYyxNQUFNLENBQUMsT0FBUSxHQUFFLEtBQUssTUFBTSxPQUFPLEVBQUUsR0FBRyxLQUFLLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFJLEdBQUUsS0FBSyxNQUFNLEdBQUcsR0FBRyxBQUFVLE1BQU8sSUFBakIsU0FBbUIsR0FBRyxVQUE2RCxFQUFFLENBQUMsR0FBSSxHQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxHQUFHLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFJLEdBQUUsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUcsRUFBRSxZQUFZLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxJQUFJLE1BQU8sR0FBRSxLQUFLLE1BQU0sS0FBSyxHQUFHLGdCQUFnQixHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxZQUFZLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxBQUFTLElBQVQsT0FBVyxHQUFFLEVBQUUsRUFBRSxHQUFJRCxJQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFOLEdBQVcsTUFBTyxVQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFFLEVBQUUsRUFBRSxHQUFFLEdBQUUsQ0FBQyxPQUFPLE9BQVEsR0FBRSxHQUFHLEFBQUksS0FBSixHQUFPLEFBQUssRUFBRSxXQUFXLEtBQWxCLEdBQXFCLE1BQU8sR0FBRSxFQUFFLEtBQUssR0FBRyxVQUFXLEdBQUUsR0FBRyxBQUFJLElBQUosRUFBTSxNQUFPLEdBQUUsUUFBUSxVQUFXLEdBQUUsT0FBTyxPQUFRLFNBQVMsS0FBSSxNQUFPLEdBQUUsRUFBRSxHQUFHLEdBQUcsV0FBVyxNQUFPLEdBQUcsQ0FBSSxLQUFKLEVBQU0sUUFBUSxRQUFRLEdBQUcsRUFBRSxNQUFNLFVBQVUsUUFBUSxNQUFPLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxLQUFNLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU8sQUFBSSxLQUFKLEdBQU8sQUFBSyxHQUFHLFFBQVEsRUFBRSxFQUFFLFdBQXBCLElBQThCLEVBQUUsTUFBTSxHQUFHLEVBQUUsSUFBSSxHQUFHLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEFBQVMsSUFBVCxRQUFhLEdBQUUsS0FBSyxHQUFJLEdBQUUsRUFBRSxRQUFRLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU8sR0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksUUFBTyxLQUFLLEVBQUUsTUFBTSxLQUFLLEVBQUUsR0FBSSxRQUFPLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTyxHQUFFLElBQUksR0FBRyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsQUFBSSxJQUFKLEdBQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxZQUFZLEdBQUcsR0FBSSxHQUFFLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxBQUFLLElBQUwsR0FBTyxDQUFDLEdBQUksR0FBRSxFQUFFLE1BQU8sR0FBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQVEsU0FBUyxFQUFFLEVBQUUsQ0FBQyxNQUFPLEdBQUUsTUFBTSxHQUFFLElBQUksR0FBRyxFQUFFLEVBQUUsT0FBUSxNQUFNLFdBQVcsR0FBRyxFQUFFLEdBQUksSUFBR3VDLEVBQUUsZ0JBQWdCLEdBQUcsR0FBRyxTQUFTLEdBQUdBLEVBQUUsZ0JBQWdCLEdBQUksSUFBRyxTQUFTLEdBQUksS0FBRyxHQUFHLEtBQUssYUFBYSxDQUFDLE1BQU9DLHVCQUFFLEtBQUssR0FBRyxhQUFhLENBQUMsTUFBT0EsdUJBQUUsS0FBSyxHQUFHLFlBQVksRUFBRSxDQUFDLEdBQUksR0FBRUMsb0JBQUUsRUFBRSxlQUFlLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFQyxtQkFBRyxVQUFVLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTyxHQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFTLEdBQUUsRUFBRSx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxLQUFLLEVBQUUsdUJBQXdCLEdBQUUsRUFBRSx1QkFBdUIsQ0FBQyxrQkFBa0IsTUFBTSxHQUFJLENBQUMsRUFBRSxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFQSxtQkFBRyxVQUFVLENBQUMsTUFBTyxJQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLHVCQUF1QixRQUFRLEtBQU0sQ0FBQyxFQUFFLHNCQUFzQixJQUFJLE1BQU9DLHNCQUFHLFVBQVUsQ0FBQy9DLEdBQUUsRUFBRSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsZ0JBQWlCLENBQUMsRUFBRSxnQkFBZ0IyQyxFQUFFLGNBQWMsR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFHQSxFQUFFLGNBQWMsR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFtRSxFQUFFLFdBQVcsR0FBSSxJQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxLQUFLLEtBQUssT0FBTyxTQUFTLEVBQUUsRUFBRSxDQUFDLEFBQVMsSUFBVCxRQUFhLEdBQUUsSUFBSSxHQUFJLEdBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxHQUFHLElBQUksRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEtBQUssU0FBUyxVQUFVLENBQUMsTUFBTyxJQUFFLEdBQUcsT0FBTyxFQUFFLFFBQVEsS0FBSyxLQUFLLEVBQUUsS0FBSyxHQUFHLGdCQUFnQixFQUFFLEtBQUssTUFBTSxFQUFFLE1BQU8sR0FBRSxVQUFVLFFBQVEsU0FBUyxFQUFFLENBQUMsTUFBTyxBQUFTLEtBQVQsUUFBYSxHQUFFLElBQUksS0FBSyxLQUFLLEVBQUUsTUFBTSxLQUFLLEdBQUcsVUFBVSxHQUFHLFdBQVcsR0FBRyxPQUFPLEdBQUcsU0FBUyxFQUFFLENBQUMsTUFBTSxJQUFJLEVBQUUsZUFBZSxZQUFZLEVBQUUsQ0FBQyxNQUFPLElBQUcsS0FBSyxHQUFHLEVBQUUsUUFBUSxHQUFHLElBQUksUUFBUSxHQUFHLFFBQVEsRUFBRSxHQUFJLElBQUcsU0FBUyxFQUFFLENBQUMsTUFBTyxBQUFNLElBQU4sTUFBUyxBQUFLLElBQUwsSUFBUSxBQUFLLElBQUwsSUFBUSxZQUFZLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBUSxHQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxBQUFNLEdBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLE1BQXBCLElBQTBCLE9BQU0sUUFBUSxHQUFHLEVBQUUsS0FBSyxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssSUFBSSxNQUFPLEdBQUUsR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRSxHQUFHLE1BQU0sSUFBSSxFQUFFLGtCQUFrQixHQUFHLEdBQUUsR0FBRyxDQUFDLEdBQUcsQUFBWSxNQUFPLEdBQUUsSUFBckIsWUFBeUIsRUFBRSxXQUFXLEVBQUUsVUFBVSxrQkFBa0IsQ0FBQyxFQUFFLE1BQU8sR0FBRSxHQUFJLEdBQUUsRUFBRSxHQUFHLE1BQXVQLElBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFJLEdBQUUsTUFBTyxhQUFhLElBQUcsRUFBRyxHQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxJQUFJLEVBQUUsR0FBRSxHQUFHLFdBQVcsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsRUFBRSxHQUFHLE9BQVEsS0FBSyxHQUFFLEVBQUUsZUFBZSxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQU0sT0FBTSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsT0FBTyxHQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssR0FBRyxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssR0FBRSxFQUFFLElBQUksRUFBRSxLQUFLLE1BQU0sRUFBRSxFQUFFLEVBQUUsR0FBRyxJQUFJLEVBQUUsS0FBSyxHQUFHLEdBQUcsS0FBTSxHQUFFLEVBQUUsQUFBTyxHQUFFLEVBQUUsS0FBWCxNQUFnQixBQUFXLE1BQU8sSUFBbEIsV0FBcUIsQUFBSyxJQUFMLEdBQU8sR0FBRyxBQUFVLE1BQU8sSUFBakIsVUFBb0IsQUFBSSxJQUFKLEdBQU8sSUFBSzdDLElBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRSxNQUFNLE1BQU0sTUFBTyxHQUFFLENBQUMsRUFBRSxNQUFNLE9BQU8sRUFBRSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUUsV0FBVyxHQUFJLElBQUcsU0FBUyxFQUFFLENBQUMsTUFBTyxPQUFNLFFBQVEsSUFBSyxHQUFFLE1BQU0sSUFBSSxHQUFHLFlBQVksRUFBRSxDQUFDLE9BQVEsR0FBRSxVQUFVLE9BQU8sRUFBRSxHQUFJLE9BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxVQUFVLEdBQUcsTUFBTyxJQUFFLElBQUksR0FBRSxHQUFHLEdBQUcsR0FBR0MsR0FBRSxHQUFFLENBQUMsR0FBRyxPQUFPLE1BQU0sQUFBSSxFQUFFLFNBQU4sR0FBYyxBQUFJLEVBQUUsU0FBTixHQUFjLEFBQVUsTUFBTyxHQUFFLElBQW5CLFNBQXNCLEVBQUUsR0FBRyxHQUFHQSxHQUFFLEVBQUUsS0FBUSxHQUFrckIsSUFBRyxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsTUFBTyxBQUFTLEtBQVQsUUFBYSxHQUFFLElBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sR0FBRyxFQUFFLE9BQU8sR0FBRyx3Q0FBd0MsR0FBRyxXQUFXLFlBQVksRUFBRSxDQUFDLE1BQU8sR0FBRSxRQUFRLEdBQUcsS0FBSyxRQUFRLEdBQUcsSUFBSSxHQUFJLElBQUcsU0FBUyxFQUFFLENBQUMsTUFBTyxJQUFHLEdBQUcsS0FBSyxJQUFJLFlBQVksRUFBRSxDQUFDLE1BQU0sQUFBVSxPQUFPLElBQWpCLFVBQXFCLEdBQThFLEdBQUksSUFBRyxTQUFTLEVBQUUsQ0FBQyxNQUFNLEFBQVksT0FBTyxJQUFuQixZQUFzQixBQUFVLE1BQU8sSUFBakIsVUFBb0IsQUFBTyxJQUFQLE1BQVUsQ0FBQyxNQUFNLFFBQVEsSUFBSSxHQUFHLFNBQVMsRUFBRSxDQUFDLE1BQU0sQUFBYyxLQUFkLGFBQWlCLEFBQWdCLElBQWhCLGVBQW1CLEFBQWMsSUFBZCxhQUFpQixZQUFZLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFDLE9BQVEsR0FBRSxVQUFVLE9BQU8sRUFBRSxHQUFJLE9BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsR0FBRyxVQUFVLEdBQUcsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQVEsS0FBSyxHQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsTUFBTyxHQUFLLEdBQUMsSUFBRzRDLEVBQUUsZ0JBQWdCLEdBQUcsR0FBRyxTQUFTLFlBQVksRUFBRSxDQUFDLEdBQUksR0FBRUMsc0JBQUUsSUFBSSxFQUFFRSxtQkFBRyxVQUFVLENBQUMsTUFBTyxVQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU8sSUFBRSxJQUFJLEdBQUcsR0FBRSxHQUFHLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxNQUEyRixHQUFPLE1BQU8sT0FBTSxRQUFRLElBQUksQUFBVSxNQUFPLElBQWpCLFNBQW1CLEdBQUUsR0FBRyxFQUFFLEdBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsTUFBTSxJQUFLLENBQUMsRUFBRSxNQUFNLElBQUksTUFBTyxHQUFFLFNBQVNILEVBQUUsY0FBYyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsRUFBRSxVQUFVLEtBQUssR0FBSSxJQUFHLEdBQUcsWUFBWSxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxHQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLEFBQVMsSUFBVCxPQUFXLEdBQUUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEFBQVMsSUFBVCxPQUFXLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEFBQVUsTUFBTyxJQUFqQixTQUFtQixLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUksSUFBRyxJQUFJLEdBQUcsRUFBRSxHQUFJLEdBQUUsRUFBRSxJQUFJLEdBQUcsUUFBUSxFQUFFLEdBQUcsSUFBSSxNQUFPLEdBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEFBQVMsSUFBVCxPQUFXLFNBQVMsRUFBRSxDQUFDLE1BQU8sSUFBRyxHQUFHLFVBQVUsRUFBRSxVQUFVSyxHQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxZQUFZLEdBQUcsRUFBRSxhQUFhLElBQUksRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sTUFBTSxVQUFVLE9BQU8sRUFBRSxNQUFNLEdBQUcsT0FBTyxTQUFTLEVBQUUsRUFBRSxFQUFFLGtCQUFrQixHQUFHLEVBQUUsbUJBQW9CLEdBQUUsRUFBRSxrQkFBa0IsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLE1BQU8sR0FBRSxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxtQkFBbUIsR0FBSSxHQUFFLEVBQUUsR0FBSSxJQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxRQUFRLEVBQUUsRUFBRSxVQUFVLEFBQUksRUFBRSxTQUFOLEVBQWEsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLE1BQU8sVUFBUyxFQUFFLEVBQUUsR0FBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxHQUFFLEVBQUUsZUFBZSxHQUFFLEVBQUUsYUFBYSxHQUFFLEVBQUUsbUJBQW1CLEdBQUUsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsT0FBcUQsRUFBRSxTQUFTLEVBQUUsRUFBRSxHQUFFLENBQUMsQUFBUyxJQUFULFFBQWEsR0FBRSxJQUFHLEdBQUksR0FBRSxHQUFFLEdBQUcsRUFBRSxDQUFDLE1BQU0sSUFBSSxHQUFFLEdBQUcsTUFBTyxJQUFFLFFBQVMsU0FBUyxHQUFFLENBQUMsR0FBSSxJQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBSSxLQUFLLElBQUUsS0FBSyxJQUFFLEdBQUUsSUFBSSxHQUFFLEVBQUUsSUFBRyxHQUFFLElBQUcsQUFBYyxLQUFkLFlBQWlCLElBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxHQUFFLElBQUksR0FBRSxJQUFHLElBQUcsR0FBRSxNQUFNLENBQUMsRUFBRSxLQUFJLEdBQUcsRUFBRUosc0JBQUUsSUFBSSxLQUFJLEdBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFF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QUFFLEtBQUssU0FBUyxHQUFHLEdBQUcsR0FBRSxXQUFXLEtBQUssWUFBWSxHQUFHLEdBQUksR0FBRSxFQUFFLFVBQVUsTUFBTyxHQUFFLGFBQWEsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsR0FBRyxLQUFLLE1BQU0sRUFBRSxFQUFFLEdBQUcsS0FBSyxJQUFJLElBQUksRUFBRSxLQUFLLFlBQVksRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLElBQUksRUFBRSxhQUFhLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxXQUFXLEtBQUssWUFBWSxJQUFJLEVBQUUsYUFBYSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsR0FBRSxXQUFXLEtBQUssWUFBWSxHQUFHLEtBQUssYUFBYSxFQUFFLEdBQUcsS0FBSyxhQUFhLEVBQUUsRUFBRSxFQUFFLElBQUksS0FBSyxZQUFZLEVBQUUsQ0FBQyxPQUFRLEdBQUUsVUFBVSxPQUFPLEVBQUUsR0FBSSxPQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsVUFBVSxHQUFHLEdBQUksR0FBRSxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsT0FBTyxJQUFJLEVBQUUsYUFBYSxHQUFHLEtBQUssVUFBVSxJQUFJLEVBQUUsR0FBSSxJQUFHLEVBQUUsR0FBRyxXQUFXLEVBQUUsQ0FBQyxHQUFJLEdBQUUsS0FBSyxFQUFFLEtBQUssRUFBRXlDLHNCQUFFLElBQUksRUFBRU8sa0JBQUUsRUFBRSxtQkFBbUIsSUFBSSxRQUFRLE1BQXlvQixHQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUdDLDJCQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLE1BQU8sR0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsVUFBVSxDQUFDLE1BQU8sR0FBRSxhQUFhLEVBQUUsS0FBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxLQUFLLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsR0FBRSxFQUFFLE9BQU8sQ0FBQyxHQUFJLEdBQUUsR0FBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxFQUFFLEVBQUUsRUFBRSxJQUFJLE1BQWlEVCxHQUFFLEtBQUssR0FBRyxZQUFZLEVBQUUsQ0FBd08sT0FBUSxHQUFFLFVBQVUsT0FBTyxFQUFFLEdBQUksT0FBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxHQUFHLFVBQVUsR0FBRyxHQUFJLEdBQUUsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLE9BQU8sSUFBSSxLQUFLLElBQUksRUFBRSxHQUFHLEdBQUcsTUFBTyxJQUFJLElBQUcsRUFBRSxHQUFHLEdBQUksSUFBRyxVQUFVLENBQUMsWUFBWSxDQUFDLEdBQUksR0FBRSxLQUFLLEtBQUssY0FBYyxVQUFVLENBQUMsR0FBSSxHQUFFLEVBQUUsU0FBUyxXQUFXLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFJLEdBQUV0QyxLQUFJLE1BQU0sVUFBVSxDQUFDLEdBQUcsVUFBVSxFQUFFLElBQUksR0FBRSxVQUFVLCtCQUErQixPQUFPLFNBQVMsS0FBSyxLQUFLLElBQUksRUFBRSxZQUFZLEtBQUssYUFBYSxVQUFVLENBQUMsTUFBTyxHQUFFLE9BQU8sR0FBRSxHQUFHLEVBQUUsaUJBQWlCLEtBQUssZ0JBQWdCLFVBQVUsQ0FBQyxHQUFJLEdBQUUsR0FBRyxFQUFFLE9BQU8sTUFBTyxJQUFFLEdBQUcsR0FBSSxHQUFJLElBQUUsSUFBSSxJQUFHLEdBQUcsRUFBRSx1QkFBdUIsUUFBUSxFQUFFLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxTQUFTLFlBQVksR0FBRyxFQUFFQSxLQUFJLE1BQU8sSUFBSSxHQUFFLE1BQU0sR0FBRyxDQUFDc0Ms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TyxVQUFVLFFBQVUsRUFBSSxPQUFZLFVBQVUsR0FBSSxPQUFPLE9BQU8sVUFBVSxRQUFVLEVBQUksT0FBWSxVQUFVLEdBQUksT0FBTyxPQUFPLFVBQVUsUUFBVSxHQUFLLE9BQVksVUFBVSxJQUFLLE9BQU8sT0FBTyxVQUFVLFFBQVUsR0FBSyxPQUFZLFVBQVUsSUFBSyxrQkFBa0IsT0FBT0MsR0FBNEIsTUFBTSxLQUFLLEtBSWo3QixHQUFJQyxJQUFVLENBQUMsT0FBUUMsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSUEsR0FBYSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksT0FDanhDRCxHQ1ZY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QUcsRUFBRyxFQUFHLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQWEsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBYSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFhLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdB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QUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3ZFLE9BQVUsSUFBTSxPQUFVLElBQzFCLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN2RSxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQ3hELE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDeEQsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN4RCxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUN0RixPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFBSyxPQUFVLElBQUssT0FBVSxJQUFLLE9BQVUsSUFDdEYsT0FBVSxJQUFNLE9BQVUsSUFDMUIsT0FBVSxJQUFNLE9BQVUsSUFBSyxPQUFVLElBQ3pDLE9BQVUsSUFBTSxPQUFVLElBQUssT0FBVSxJQUN6QyxPQUFVLElBQU0sT0FBVSxJQUFLLE9BQVUsSUFDekMsT0FBVSxLQUFNLE9BQVUsS0FDMUIsT0FBVSxLQUFNLE9BQVUsS0FDMUIsT0FBVSxLQUFNLE9BQVUsS0FJeEIsR0FBYyxDQUNoQixJQUFLLFFBQ0wsSUFBSyxPQUNMLElBQUssT0FDTCxJQUFLLFNBQ0wsSUFBSyxTQUlILEdBQWdCLENBQ2xCLFFBQVMsSUFDVCxPQUFRLElBQ1IsT0FBUSxJQUNSLFNBQVUsSUFDVixRQUFTLEtBSVAsR0FBZ0IsQ0FDbEIsS0FBTSxLQUNOLElBQUssSUFDTCxLQUFNLElBQ04sS0FBTSxJQUNOLFNBQVUsUUFDVixTQUFVLFNBSVIsR0FBaUIsV0FDakIsR0FBZSxTQUdmLEdBQWEsTUFBT0MsS0FBVSxVQUFZQSxJQUFVQSxHQUFPLFNBQVcsUUFBVUEsR0FHaEYsR0FBVyxNQUFPLE9BQVEsVUFBWSxNQUFRLEtBQUssU0FBVyxRQUFVLEtBR3hFLEdBQU8sSUFBYyxJQUFZLFNBQVMsaUJBRzFDLEdBQTRDLEdBQVcsQ0FBQyxFQUFRLFVBQVksRUFHNUUsR0FBYSxJQUFlLElBQTZCLEdBQVUsQ0FBQyxFQUFPLFVBQVksRUFHdkYsR0FBZ0IsSUFBYyxHQUFXLFVBQVksR0FHckQsR0FBYyxJQUFpQixHQUFXLFFBRzFDLEdBQVksVUFBVyxDQUN6QixHQUFJLENBRUYsR0FBSSxHQUFRLElBQWMsR0FBVyxTQUFXLEdBQVcsUUFBUSxRQUFRLE1BRTNFLE1BQUksSUFLRyxJQUFlLEdBQVksU0FBVyxHQUFZLFFBQVEsY0FDMUQsRUFBUCxNQUlBLEdBQW9CLElBQVksR0FBUyxjQUN6QyxHQUFhLElBQVksR0FBUyxPQUNsQyxHQUFZLElBQVksR0FBUyxNQUNqQyxHQUFlLElBQVksR0FBUyxTQUNwQyxHQUFZLElBQVksR0FBUyxNQUNqQyxHQUFtQixJQUFZLEdBQVMsYUFjNUMsWUFBZSxFQUFNLEVBQVMsRUFBTSxDQUNsQyxPQUFRLEVBQUssWUFDTixHQUFHLE1BQU8sR0FBSyxLQUFLLE9BQ3BCLEdBQUcsTUFBTyxHQUFLLEtBQUssRUFBUyxFQUFLLFFBQ2xDLEdBQUcsTUFBTyxHQUFLLEtBQUssRUFBUyxFQUFLLEdBQUksRUFBSyxRQUMzQyxHQUFHLE1BQU8sR0FBSyxLQUFLLEVBQVMsRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLElBRTNELE1BQU8sR0FBSyxNQUFNLEVBQVMsR0FhN0IsWUFBeUIsRUFBTyxFQUFRLEVBQVUsR0FBYSxDQUk3RCxPQUhJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsRUFBRSxHQUFRLElBQVEsQ0FDdkIsR0FBSSxJQUFRLEVBQU0sSUFDbEIsRUFBTyxHQUFhLEdBQU8sRUFBUyxJQUFRLEdBRTlDLE1BQU8sSUFZVCxZQUFtQixFQUFPLEVBQVUsQ0FJbEMsT0FISSxHQUFRLEdBQ1IsR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BRWhDLEVBQUUsRUFBUSxJQUNYLEVBQVMsRUFBTSxHQUFRLEVBQU8sS0FBVyxJQUE3QyxDQUlGLE1BQU8sR0FZVCxZQUF3QixFQUFPLEVBQVUsQ0FHdkMsT0FGSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsS0FDRCxFQUFTLEVBQU0sR0FBUyxFQUFRLEtBQVcsSUFBL0MsQ0FJRixNQUFPLEdBYVQsWUFBb0IsRUFBTyxFQUFXLENBSXBDLE9BSEksR0FBUSxHQUNSLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUVoQyxFQUFFLEVBQVEsSUFDZixHQUFJLENBQUMsRUFBVSxFQUFNLEdBQVEsRUFBTyxHQUNsQyxNQUFPLEdBR1gsTUFBTyxHQVlULFlBQXFCLEVBQU8sRUFBVyxDQU1yQyxPQUxJLEdBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDbkMsR0FBVyxFQUNYLEdBQVMsR0FFTixFQUFFLEVBQVEsSUFBUSxDQUN2QixHQUFJLElBQVEsRUFBTSxHQUNsQixBQUFJLEVBQVUsR0FBTyxFQUFPLElBQzFCLElBQU8sTUFBYyxJQUd6QixNQUFPLElBWVQsWUFBdUIsRUFBTyxFQUFPLENBQ25DLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQU8sQ0FBQyxDQUFDLEdBQVUsR0FBWSxFQUFPLEVBQU8sR0FBSyxHQVlwRCxZQUEyQixFQUFPLEVBQU8sRUFBWSxDQUluRCxPQUhJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FFaEMsRUFBRSxHQUFRLElBQ2YsR0FBSSxFQUFXLEVBQU8sRUFBTSxLQUMxQixNQUFPLEdBR1gsTUFBTyxHQVlULFlBQWtCLEVBQU8sRUFBVSxDQUtqQyxPQUpJLEdBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDbkMsR0FBUyxNQUFNLElBRVosRUFBRSxFQUFRLElBQ2YsR0FBTyxHQUFTLEVBQVMsRUFBTSxHQUFRLEVBQU8sR0FFaEQsTUFBTyxJQVdULFlBQW1CLEVBQU8sRUFBUSxDQUtoQyxPQUpJLEdBQVEsR0FDUixHQUFTLEVBQU8sT0FDaEIsR0FBUyxFQUFNLE9BRVosRUFBRSxFQUFRLElBQ2YsRUFBTSxHQUFTLEdBQVMsRUFBTyxHQUVqQyxNQUFPLEdBZVQsWUFBcUIsRUFBTyxFQUFVLEVBQWEsR0FBVyxDQUM1RCxHQUFJLElBQVEsR0FDUixHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FLdkMsSUFISSxJQUFhLElBQ2YsR0FBYyxFQUFNLEVBQUUsS0FFakIsRUFBRSxHQUFRLElBQ2YsRUFBYyxFQUFTLEVBQWEsRUFBTSxJQUFRLEdBQU8sR0FFM0QsTUFBTyxHQWVULFlBQTBCLEVBQU8sRUFBVSxFQUFhLEdBQVcsQ0FDakUsR0FBSSxJQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FJdkMsSUFISSxJQUFhLElBQ2YsR0FBYyxFQUFNLEVBQUUsS0FFakIsTUFDTCxFQUFjLEVBQVMsRUFBYSxFQUFNLElBQVMsR0FBUSxHQUU3RCxNQUFPLEdBYVQsWUFBbUIsRUFBTyxFQUFXLENBSW5DLE9BSEksR0FBUSxHQUNSLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUVoQyxFQUFFLEVBQVEsSUFDZixHQUFJLEVBQVUsRUFBTSxHQUFRLEVBQU8sR0FDakMsTUFBTyxHQUdYLE1BQU8sR0FVVCxHQUFJLElBQVksR0FBYSxVQVM3QixZQUFzQixFQUFRLENBQzVCLE1BQU8sR0FBTyxNQUFNLElBVXRCLFlBQW9CLEVBQVEsQ0FDMUIsTUFBTyxHQUFPLE1BQU0sS0FBZ0IsR0FjdEMsWUFBcUIsRUFBWSxFQUFXLEVBQVUsQ0FDcEQsR0FBSSxJQUNKLFNBQVMsRUFBWSxTQUFTLEdBQU8sR0FBSyxHQUFZLENBQ3BELEdBQUksRUFBVSxHQUFPLEdBQUssSUFDeEIsVUFBUyxHQUNGLEtBR0osR0FjVCxZQUF1QixFQUFPLEVBQVcsRUFBVyxHQUFXLENBSTdELE9BSEksSUFBUyxFQUFNLE9BQ2YsR0FBUSxFQUFhLElBQVksRUFBSSxJQUVqQyxHQUFZLEtBQVUsRUFBRSxHQUFRLElBQ3RDLEdBQUksRUFBVSxFQUFNLElBQVEsR0FBTyxHQUNqQyxNQUFPLElBR1gsTUFBTyxHQVlULFlBQXFCLEVBQU8sRUFBTyxFQUFXLENBQzVDLE1BQU8sS0FBVSxFQUNiLEdBQWMsRUFBTyxFQUFPLEdBQzVCLEdBQWMsRUFBTyxHQUFXLEdBYXRDLFlBQXlCLEVBQU8sRUFBTyxFQUFXLEdBQVksQ0FJNUQsT0FISSxJQUFRLEVBQVksRUFDcEIsR0FBUyxFQUFNLE9BRVosRUFBRSxHQUFRLElBQ2YsR0FBSSxHQUFXLEVBQU0sSUFBUSxHQUMzQixNQUFPLElBR1gsTUFBTyxHQVVULFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxLQUFVLEVBWW5CLFlBQWtCLEVBQU8sRUFBVSxDQUNqQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVUsR0FBUSxFQUFPLEdBQVksRUFBVSxFQVV4RCxZQUFzQixFQUFLLENBQ3pCLE1BQU8sVUFBUyxFQUFRLENBQ3RCLE1BQU8sSUFBVSxLQUFPRCxFQUFZLEVBQU8sSUFXL0MsWUFBd0IsRUFBUSxDQUM5QixNQUFPLFVBQVMsRUFBSyxDQUNuQixNQUFPLElBQVUsS0FBT0EsRUFBWSxFQUFPLElBaUIvQyxZQUFvQixFQUFZLEVBQVUsRUFBYSxHQUFXLEdBQVUsQ0FDMUUsVUFBUyxFQUFZLFNBQVMsR0FBTyxHQUFPLEdBQVksQ0FDdEQsRUFBYyxHQUNULElBQVksR0FBTyxJQUNwQixFQUFTLEVBQWEsR0FBTyxHQUFPLE1BRW5DLEVBYVQsWUFBb0IsRUFBTyxFQUFVLENBQ25DLEdBQUksR0FBUyxFQUFNLE9BR25CLElBREEsRUFBTSxLQUFLLEdBQ0osS0FDTCxFQUFNLEdBQVUsRUFBTSxHQUFRLE1BRWhDLE1BQU8sR0FZVCxZQUFpQixFQUFPLEVBQVUsQ0FLaEMsT0FKSSxHQUNBLEdBQVEsR0FDUixHQUFTLEVBQU0sT0FFWixFQUFFLEdBQVEsSUFBUSxDQUN2QixHQUFJLElBQVUsRUFBUyxFQUFNLEtBQzdCLEFBQUksS0FBWUEsR0FDZCxHQUFTLElBQVdBLEVBQVksR0FBVyxFQUFTLElBR3hELE1BQU8sR0FZVCxZQUFtQixFQUFHLEVBQVUsQ0FJOUIsT0FISSxHQUFRLEdBQ1IsR0FBUyxNQUFNLEdBRVosRUFBRSxFQUFRLEdBQ2YsR0FBTyxHQUFTLEVBQVMsR0FFM0IsTUFBTyxJQVlULFlBQXFCLEVBQVEsRUFBTyxDQUNsQyxNQUFPLElBQVMsRUFBTyxTQUFTLEVBQUssQ0FDbkMsTUFBTyxDQUFDLEVBQUssRUFBTyxNQVd4QixZQUFrQixFQUFRLENBQ3hCLE1BQU8sSUFDSCxFQUFPLE1BQU0sRUFBRyxHQUFnQixHQUFVLEdBQUcsUUFBUSxHQUFhLElBV3hFLFlBQW1CLEVBQU0sQ0FDdkIsTUFBTyxVQUFTLEVBQU8sQ0FDckIsTUFBTyxHQUFLLElBY2hCLFlBQW9CLEVBQVEsRUFBTyxDQUNqQyxNQUFPLElBQVMsRUFBTyxTQUFTLEVBQUssQ0FDbkMsTUFBTyxHQUFPLEtBWWxCLFlBQWtCLEVBQU8sRUFBSyxDQUM1QixNQUFPLEdBQU0sSUFBSSxHQVluQixZQUF5QixFQUFZLEVBQVksQ0FJL0MsT0FISSxHQUFRLEdBQ1IsR0FBUyxFQUFXLE9BRWpCLEVBQUUsRUFBUSxJQUFVLEdBQVksRUFBWSxFQUFXLEdBQVEsR0FBSyxJQUFJLENBQy9FLE1BQU8sR0FZVCxZQUF1QixFQUFZLEVBQVksQ0FHN0MsT0FGSSxHQUFRLEVBQVcsT0FFaEIsS0FBVyxHQUFZLEVBQVksRUFBVyxHQUFRLEdBQUssSUFBSSxDQUN0RSxNQUFPLEdBV1QsWUFBc0IsRUFBTyxFQUFhLENBSXhDLE9BSEksR0FBUyxFQUFNLE9BQ2YsR0FBUyxFQUVOLEtBQ0wsQUFBSSxFQUFNLEtBQVksR0FDcEIsRUFBRSxHQUdOLE1BQU8sSUFXVCxHQUFJLElBQWUsR0FBZSxJQVM5QixHQUFpQixHQUFlLElBU3BDLFlBQTBCLEVBQUssQ0FDN0IsTUFBTyxLQUFPLEdBQWMsR0FXOUIsWUFBa0IsRUFBUSxFQUFLLENBQzdCLE1BQU8sSUFBVSxLQUFPQSxFQUFZLEVBQU8sR0FVN0MsWUFBb0IsRUFBUSxDQUMxQixNQUFPLElBQWEsS0FBSyxHQVUzQixZQUF3QixFQUFRLENBQzlCLE1BQU8sSUFBaUIsS0FBSyxHQVUvQixZQUF5QixFQUFVLENBSWpDLE9BSEksR0FDQSxFQUFTLEdBRU4sQ0FBRSxHQUFPLEVBQVMsUUFBUSxNQUMvQixFQUFPLEtBQUssRUFBSyxPQUVuQixNQUFPLEdBVVQsWUFBb0IsRUFBSyxDQUN2QixHQUFJLEdBQVEsR0FDUixFQUFTLE1BQU0sRUFBSSxNQUV2QixTQUFJLFFBQVEsU0FBUyxHQUFPLEdBQUssQ0FDL0IsRUFBTyxFQUFFLEdBQVMsQ0FBQyxHQUFLLE1BRW5CLEVBV1QsWUFBaUIsRUFBTSxFQUFXLENBQ2hDLE1BQU8sVUFBUyxFQUFLLENBQ25CLE1BQU8sR0FBSyxFQUFVLEtBYTFCLFlBQXdCLEVBQU8sRUFBYSxDQU0xQyxPQUxJLEdBQVEsR0FDUixHQUFTLEVBQU0sT0FDZixHQUFXLEVBQ1gsR0FBUyxHQUVOLEVBQUUsRUFBUSxJQUFRLENBQ3ZCLEdBQUksSUFBUSxFQUFNLEdBQ2xCLEFBQUksTUFBVSxHQUFlLEtBQVUsSUFDckMsR0FBTSxHQUFTLEVBQ2YsR0FBTyxNQUFjLEdBR3pCLE1BQU8sSUFVVCxZQUFvQixFQUFLLENBQ3ZCLEdBQUksR0FBUSxHQUNSLEVBQVMsTUFBTSxFQUFJLE1BRXZCLFNBQUksUUFBUSxTQUFTLEdBQU8sQ0FDMUIsRUFBTyxFQUFFLEdBQVMsS0FFYixFQVVULFlBQW9CLEVBQUssQ0FDdkIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxNQUFNLEVBQUksTUFFdkIsU0FBSSxRQUFRLFNBQVMsR0FBTyxDQUMxQixFQUFPLEVBQUUsR0FBUyxDQUFDLEdBQU8sTUFFckIsRUFhVCxZQUF1QixFQUFPLEVBQU8sRUFBVyxDQUk5QyxPQUhJLElBQVEsRUFBWSxFQUNwQixHQUFTLEVBQU0sT0FFWixFQUFFLEdBQVEsSUFDZixHQUFJLEVBQU0sTUFBVyxFQUNuQixNQUFPLElBR1gsTUFBTyxHQWFULFlBQTJCLEVBQU8sRUFBTyxFQUFXLENBRWxELE9BREksSUFBUSxFQUFZLEVBQ2pCLE1BQ0wsR0FBSSxFQUFNLE1BQVcsRUFDbkIsTUFBTyxJQUdYLE1BQU8sSUFVVCxZQUFvQixFQUFRLENBQzFCLE1BQU8sSUFBVyxHQUNkLEdBQVksR0FDWixHQUFVLEdBVWhCLFlBQXVCLEVBQVEsQ0FDN0IsTUFBTyxJQUFXLEdBQ2QsR0FBZSxHQUNmLEdBQWEsR0FXbkIsWUFBeUIsRUFBUSxDQUcvQixPQUZJLEdBQVEsRUFBTyxPQUVaLEtBQVcsR0FBYSxLQUFLLEVBQU8sT0FBTyxLQUFTLENBQzNELE1BQU8sR0FVVCxHQUFJLElBQW1CLEdBQWUsSUFTdEMsWUFBcUIsRUFBUSxDQUUzQixPQURJLEdBQVMsR0FBVSxVQUFZLEVBQzVCLEdBQVUsS0FBSyxJQUNwQixFQUFFLEVBRUosTUFBTyxHQVVULFlBQXdCLEVBQVEsQ0FDOUIsTUFBTyxHQUFPLE1BQU0sS0FBYyxHQVVwQyxZQUFzQixFQUFRLENBQzVCLE1BQU8sR0FBTyxNQUFNLEtBQWtCLEdBa0N4QyxHQUFJLElBQWdCLFdBQXNCLEVBQVMsQ0FDakQsRUFBVSxHQUFXLEtBQU8sR0FBTyxHQUFFLFNBQVMsR0FBSyxTQUFVLEVBQVMsR0FBRSxLQUFLLEdBQU0sS0FHbkYsR0FBSSxHQUFRLEVBQVEsTUFDaEIsR0FBTyxFQUFRLEtBQ2YsR0FBUSxFQUFRLE1BQ2hCLEdBQVcsRUFBUSxTQUNuQixHQUFPLEVBQVEsS0FDZixHQUFTLEVBQVEsT0FDakIsR0FBUyxFQUFRLE9BQ2pCLEdBQVMsRUFBUSxPQUNqQixHQUFZLEVBQVEsVUFHcEIsR0FBYSxFQUFNLFVBQ25CLEdBQVksR0FBUyxVQUNyQixHQUFjLEdBQU8sVUFHckIsR0FBYSxFQUFRLHNCQUdyQixHQUFlLEdBQVUsU0FHekIsR0FBaUIsR0FBWSxlQUc3QixHQUFZLEVBR1osR0FBYyxVQUFXLENBQzNCLEdBQUksR0FBTSxTQUFTLEtBQUssSUFBYyxHQUFXLE1BQVEsR0FBVyxLQUFLLFVBQVksSUFDckYsTUFBTyxHQUFPLGlCQUFtQixFQUFPLE1BUXRDLEdBQXVCLEdBQVksU0FHbkMsR0FBbUIsR0FBYSxLQUFLLElBR3JDLEdBQVUsR0FBSyxFQUdmLEdBQWEsR0FBTyxJQUN0QixHQUFhLEtBQUssSUFBZ0IsUUFBUSxHQUFjLFFBQ3ZELFFBQVEseURBQTBELFNBQVcsS0FJNUUsR0FBUyxHQUFnQixFQUFRLE9BQVNBLEVBQzFDLEdBQVMsRUFBUSxPQUNqQixHQUFhLEVBQVEsV0FDckIsR0FBYyxHQUFTLEdBQU8sWUFBY0EsRUFDNUMsR0FBZSxHQUFRLEdBQU8sZUFBZ0IsSUFDOUMsR0FBZSxHQUFPLE9BQ3RCLEdBQXVCLEdBQVkscUJBQ25DLEdBQVMsR0FBVyxPQUNwQixHQUFtQixHQUFTLEdBQU8sbUJBQXFCQSxFQUN4RCxHQUFjLEdBQVMsR0FBTyxTQUFXQSxFQUN6QyxHQUFpQixHQUFTLEdBQU8sWUFBY0EsRUFFL0MsR0FBa0IsVUFBVyxDQUMvQixHQUFJLENBQ0YsR0FBSSxHQUFPLEdBQVUsR0FBUSxrQkFDN0IsU0FBSyxHQUFJLEdBQUksSUFDTixRQUNBLEVBQVAsTUFJQSxHQUFrQixFQUFRLGVBQWlCLEdBQUssY0FBZ0IsRUFBUSxhQUN4RSxHQUFTLElBQVEsR0FBSyxNQUFRLEdBQUssS0FBSyxLQUFPLEdBQUssSUFDcEQsR0FBZ0IsRUFBUSxhQUFlLEdBQUssWUFBYyxFQUFRLFdBR2xFLEdBQWEsR0FBSyxLQUNsQixHQUFjLEdBQUssTUFDbkIsR0FBbUIsR0FBTyxzQkFDMUIsR0FBaUIsR0FBUyxHQUFPLFNBQVdBLEVBQzVDLEdBQWlCLEVBQVEsU0FDekIsR0FBYSxHQUFXLEtBQ3hCLEdBQWEsR0FBUSxHQUFPLEtBQU0sSUFDbEMsR0FBWSxHQUFLLElBQ2pCLEdBQVksR0FBSyxJQUNqQixHQUFZLEdBQUssSUFDakIsR0FBaUIsRUFBUSxTQUN6QixHQUFlLEdBQUssT0FDcEIsR0FBZ0IsR0FBVyxRQUczQixHQUFXLEdBQVUsRUFBUyxZQUM5QixHQUFNLEdBQVUsRUFBUyxPQUN6QixHQUFVLEdBQVUsRUFBUyxXQUM3QixHQUFNLEdBQVUsRUFBUyxPQUN6QixHQUFVLEdBQVUsRUFBUyxXQUM3QixHQUFlLEdBQVUsR0FBUSxVQUdqQyxHQUFVLElBQVcsR0FBSSxJQUd6QixHQUFZLEdBR1osR0FBcUIsR0FBUyxJQUM5QixHQUFnQixHQUFTLElBQ3pCLEdBQW9CLEdBQVMsSUFDN0IsR0FBZ0IsR0FBUyxJQUN6QixHQUFvQixHQUFTLElBRzdCLEdBQWMsR0FBUyxHQUFPLFVBQVlBLEVBQzFDLEdBQWdCLEdBQWMsR0FBWSxRQUFVQSxFQUNwRCxHQUFpQixHQUFjLEdBQVksU0FBV0EsRUF5SDFELFdBQWdCLEVBQU8sQ0FDckIsR0FBSSxHQUFhLElBQVUsQ0FBQyxHQUFRLElBQVUsQ0FBRSxhQUFpQixLQUFjLENBQzdFLEdBQUksWUFBaUIsSUFDbkIsTUFBTyxHQUVULEdBQUksR0FBZSxLQUFLLEVBQU8sZUFDN0IsTUFBTyxJQUFhLEdBR3hCLE1BQU8sSUFBSSxJQUFjLEdBVzNCLEdBQUksSUFBYyxVQUFXLENBQzNCLFlBQWtCLEVBQ2xCLE1BQU8sVUFBUyxFQUFPLENBQ3JCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUVULEdBQUksR0FDRixNQUFPLElBQWEsR0FFdEIsRUFBTyxVQUFZLEVBQ25CLEdBQUksR0FBUyxHQUFJLEdBQ2pCLFNBQU8sVUFBWUEsRUFDWixNQVNYLGFBQXNCLEVBV3RCLFlBQXVCLEVBQU8sRUFBVSxDQUN0QyxLQUFLLFlBQWMsRUFDbkIsS0FBSyxZQUFjLEdBQ25CLEtBQUssVUFBWSxDQUFDLENBQUMsRUFDbkIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssV0FBYUEsRUFZcEIsRUFBTyxpQkFBbUIsQ0FReEIsT0FBVSxHQVFWLFNBQVksR0FRWixZQUFlLEdBUWYsU0FBWSxHQVFaLFFBQVcsQ0FRVCxFQUFLLElBS1QsRUFBTyxVQUFZLEdBQVcsVUFDOUIsRUFBTyxVQUFVLFlBQWMsRUFFL0IsR0FBYyxVQUFZLEdBQVcsR0FBVyxXQUNoRCxHQUFjLFVBQVUsWUFBYyxHQVd0QyxZQUFxQixFQUFPLENBQzFCLEtBQUssWUFBYyxFQUNuQixLQUFLLFlBQWMsR0FDbkIsS0FBSyxRQUFVLEVBQ2YsS0FBSyxhQUFlLEdBQ3BCLEtBQUssY0FBZ0IsR0FDckIsS0FBSyxjQUFnQixHQUNyQixLQUFLLFVBQVksR0FXbkIsYUFBcUIsQ0FDbkIsR0FBSSxHQUFTLEdBQUksSUFBWSxLQUFLLGFBQ2xDLFNBQU8sWUFBYyxHQUFVLEtBQUssYUFDcEMsRUFBTyxRQUFVLEtBQUssUUFDdEIsRUFBTyxhQUFlLEtBQUssYUFDM0IsRUFBTyxjQUFnQixHQUFVLEtBQUssZUFDdEMsRUFBTyxjQUFnQixLQUFLLGNBQzVCLEVBQU8sVUFBWSxHQUFVLEtBQUssV0FDM0IsRUFXVCxhQUF1QixDQUNyQixHQUFJLEtBQUssYUFBYyxDQUNyQixHQUFJLEdBQVMsR0FBSSxJQUFZLE1BQzdCLEVBQU8sUUFBVSxHQUNqQixFQUFPLGFBQWUsT0FFdEIsR0FBUyxLQUFLLFFBQ2QsRUFBTyxTQUFXLEdBRXBCLE1BQU8sR0FXVCxhQUFxQixDQUNuQixHQUFJLEdBQVEsS0FBSyxZQUFZLFFBQ3pCLEVBQU0sS0FBSyxRQUNYLEVBQVEsR0FBUSxHQUNoQixFQUFVLEVBQU0sRUFDaEIsRUFBWSxFQUFRLEVBQU0sT0FBUyxFQUNuQyxFQUFPLEdBQVEsRUFBRyxFQUFXLEtBQUssV0FDbEMsRUFBUSxFQUFLLE1BQ2IsRUFBTSxFQUFLLElBQ1gsRUFBUyxFQUFNLEVBQ2YsRUFBUSxFQUFVLEVBQU8sRUFBUSxFQUNqQyxFQUFZLEtBQUssY0FDakIsRUFBYSxFQUFVLE9BQ3ZCLEdBQVcsRUFDWCxHQUFZLEdBQVUsRUFBUSxLQUFLLGVBRXZDLEdBQUksQ0FBQyxHQUFVLENBQUMsR0FBVyxHQUFhLEdBQVUsSUFBYSxFQUM3RCxNQUFPLElBQWlCLEVBQU8sS0FBSyxhQUV0QyxHQUFJLElBQVMsR0FFYixFQUNBLEtBQU8sS0FBWSxHQUFXLElBQVcsQ0FDdkMsR0FBUyxFQUtULE9BSEksSUFBWSxHQUNaLEdBQVEsRUFBTSxHQUVYLEVBQUUsR0FBWSxHQUFZLENBQy9CLEdBQUksSUFBTyxFQUFVLElBQ2pCLEdBQVcsR0FBSyxTQUNoQixHQUFPLEdBQUssS0FDWixHQUFXLEdBQVMsSUFFeEIsR0FBSSxJQUFRLEVBQ1YsR0FBUSxXQUNDLENBQUMsR0FBVSxDQUNwQixHQUFJLElBQVEsRUFDVixXQUVBLFNBSU4sR0FBTyxNQUFjLEdBRXZCLE1BQU8sSUFJVCxHQUFZLFVBQVksR0FBVyxHQUFXLFdBQzlDLEdBQVksVUFBVSxZQUFjLEdBV3BDLFlBQWMsRUFBUyxDQUNyQixHQUFJLEdBQVEsR0FDUixFQUFTLEdBQVcsS0FBTyxFQUFJLEVBQVEsT0FHM0MsSUFEQSxLQUFLLFFBQ0UsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsR0FDcEIsS0FBSyxJQUFJLEVBQU0sR0FBSSxFQUFNLEtBVzdCLGFBQXFCLENBQ25CLEtBQUssU0FBVyxHQUFlLEdBQWEsTUFBUSxHQUNwRCxLQUFLLEtBQU8sRUFhZCxZQUFvQixFQUFLLENBQ3ZCLEdBQUksR0FBUyxLQUFLLElBQUksSUFBUSxNQUFPLE1BQUssU0FBUyxHQUNuRCxZQUFLLE1BQVEsRUFBUyxFQUFJLEVBQ25CLEVBWVQsWUFBaUIsRUFBSyxDQUNwQixHQUFJLEdBQU8sS0FBSyxTQUNoQixHQUFJLEdBQWMsQ0FDaEIsR0FBSSxHQUFTLEVBQUssR0FDbEIsTUFBTyxLQUFXLEVBQWlCQSxFQUFZLEVBRWpELE1BQU8sSUFBZSxLQUFLLEVBQU0sR0FBTyxFQUFLLEdBQU9BLEVBWXRELFlBQWlCLEVBQUssQ0FDcEIsR0FBSSxHQUFPLEtBQUssU0FDaEIsTUFBTyxJQUFnQixFQUFLLEtBQVNBLEVBQWEsR0FBZSxLQUFLLEVBQU0sR0FhOUUsWUFBaUIsRUFBSyxFQUFPLENBQzNCLEdBQUksR0FBTyxLQUFLLFNBQ2hCLFlBQUssTUFBUSxLQUFLLElBQUksR0FBTyxFQUFJLEVBQ2pDLEVBQUssR0FBUSxJQUFnQixJQUFVQSxFQUFhLEVBQWlCLEVBQzlELEtBSVQsR0FBSyxVQUFVLE1BQVEsR0FDdkIsR0FBSyxVQUFVLE9BQVksR0FDM0IsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FDckIsR0FBSyxVQUFVLElBQU0sR0FXckIsWUFBbUIsRUFBUyxDQUMxQixHQUFJLEdBQVEsR0FDUixFQUFTLEdBQVcsS0FBTyxFQUFJLEVBQVEsT0FHM0MsSUFEQSxLQUFLLFFBQ0UsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsR0FDcEIsS0FBSyxJQUFJLEVBQU0sR0FBSSxFQUFNLEtBVzdCLGFBQTBCLENBQ3hCLEtBQUssU0FBVyxHQUNoQixLQUFLLEtBQU8sRUFZZCxZQUF5QixFQUFLLENBQzVCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUSxHQUFhLEVBQU0sR0FFL0IsR0FBSSxFQUFRLEVBQ1YsTUFBTyxHQUVULEdBQUksR0FBWSxFQUFLLE9BQVMsRUFDOUIsTUFBSSxJQUFTLEVBQ1gsRUFBSyxNQUVMLEdBQU8sS0FBSyxFQUFNLEVBQU8sR0FFM0IsRUFBRSxLQUFLLEtBQ0EsR0FZVCxZQUFzQixFQUFLLENBQ3pCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUSxHQUFhLEVBQU0sR0FFL0IsTUFBTyxHQUFRLEVBQUlBLEVBQVksRUFBSyxHQUFPLEdBWTdDLFlBQXNCLEVBQUssQ0FDekIsTUFBTyxJQUFhLEtBQUssU0FBVSxHQUFPLEdBYTVDLFlBQXNCLEVBQUssRUFBTyxDQUNoQyxHQUFJLEdBQU8sS0FBSyxTQUNaLEVBQVEsR0FBYSxFQUFNLEdBRS9CLE1BQUksR0FBUSxFQUNWLEdBQUUsS0FBSyxLQUNQLEVBQUssS0FBSyxDQUFDLEVBQUssS0FFaEIsRUFBSyxHQUFPLEdBQUssRUFFWixLQUlULEdBQVUsVUFBVSxNQUFRLEdBQzVCLEdBQVUsVUFBVSxPQUFZLEdBQ2hDLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBQzFCLEdBQVUsVUFBVSxJQUFNLEdBVzFCLFlBQWtCLEVBQVMsQ0FDekIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxHQUFXLEtBQU8sRUFBSSxFQUFRLE9BRzNDLElBREEsS0FBSyxRQUNFLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxFQUFRLEdBQ3BCLEtBQUssSUFBSSxFQUFNLEdBQUksRUFBTSxLQVc3QixhQUF5QixDQUN2QixLQUFLLEtBQU8sRUFDWixLQUFLLFNBQVcsQ0FDZCxLQUFRLEdBQUksSUFDWixJQUFPLEdBQUssS0FBTyxJQUNuQixPQUFVLEdBQUksS0FhbEIsWUFBd0IsRUFBSyxDQUMzQixHQUFJLEdBQVMsR0FBVyxLQUFNLEdBQUssT0FBVSxHQUM3QyxZQUFLLE1BQVEsRUFBUyxFQUFJLEVBQ25CLEVBWVQsWUFBcUIsRUFBSyxDQUN4QixNQUFPLElBQVcsS0FBTSxHQUFLLElBQUksR0FZbkMsWUFBcUIsRUFBSyxDQUN4QixNQUFPLElBQVcsS0FBTSxHQUFLLElBQUksR0FhbkMsWUFBcUIsRUFBSyxFQUFPLENBQy9CLEdBQUksR0FBTyxHQUFXLEtBQU0sR0FDeEIsRUFBTyxFQUFLLEtBRWhCLFNBQUssSUFBSSxFQUFLLEdBQ2QsS0FBSyxNQUFRLEVBQUssTUFBUSxFQUFPLEVBQUksRUFDOUIsS0FJVCxHQUFTLFVBQVUsTUFBUSxHQUMzQixHQUFTLFVBQVUsT0FBWSxHQUMvQixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQUN6QixHQUFTLFVBQVUsSUFBTSxHQVl6QixZQUFrQixFQUFRLENBQ3hCLEdBQUksR0FBUSxHQUNSLEVBQVMsR0FBVSxLQUFPLEVBQUksRUFBTyxPQUd6QyxJQURBLEtBQUssU0FBVyxHQUFJLElBQ2IsRUFBRSxFQUFRLEdBQ2YsS0FBSyxJQUFJLEVBQU8sSUFjcEIsWUFBcUIsRUFBTyxDQUMxQixZQUFLLFNBQVMsSUFBSSxFQUFPLEdBQ2xCLEtBWVQsWUFBcUIsRUFBTyxDQUMxQixNQUFPLE1BQUssU0FBUyxJQUFJLEdBSTNCLEdBQVMsVUFBVSxJQUFNLEdBQVMsVUFBVSxLQUFPLEdBQ25ELEdBQVMsVUFBVSxJQUFNLEdBV3pCLFlBQWUsRUFBUyxDQUN0QixHQUFJLEdBQU8sS0FBSyxTQUFXLEdBQUksSUFBVSxHQUN6QyxLQUFLLEtBQU8sRUFBSyxLQVVuQixhQUFzQixDQUNwQixLQUFLLFNBQVcsR0FBSSxJQUNwQixLQUFLLEtBQU8sRUFZZCxZQUFxQixFQUFLLENBQ3hCLEdBQUksR0FBTyxLQUFLLFNBQ1osRUFBUyxFQUFLLE9BQVUsR0FFNUIsWUFBSyxLQUFPLEVBQUssS0FDVixFQVlULFlBQWtCLEVBQUssQ0FDckIsTUFBTyxNQUFLLFNBQVMsSUFBSSxHQVkzQixZQUFrQixFQUFLLENBQ3JCLE1BQU8sTUFBSyxTQUFTLElBQUksR0FhM0IsWUFBa0IsRUFBSyxFQUFPLENBQzVCLEdBQUksR0FBTyxLQUFLLFNBQ2hCLEdBQUksWUFBZ0IsSUFBVyxDQUM3QixHQUFJLEdBQVEsRUFBSyxTQUNqQixHQUFJLENBQUMsSUFBUSxFQUFNLE9BQVMsRUFBbUIsRUFDN0MsU0FBTSxLQUFLLENBQUMsRUFBSyxJQUNqQixLQUFLLEtBQU8sRUFBRSxFQUFLLEtBQ1osS0FFVCxFQUFPLEtBQUssU0FBVyxHQUFJLElBQVMsR0FFdEMsU0FBSyxJQUFJLEVBQUssR0FDZCxLQUFLLEtBQU8sRUFBSyxLQUNWLEtBSVQsR0FBTSxVQUFVLE1BQVEsR0FDeEIsR0FBTSxVQUFVLE9BQVksR0FDNUIsR0FBTSxVQUFVLElBQU0sR0FDdEIsR0FBTSxVQUFVLElBQU0sR0FDdEIsR0FBTSxVQUFVLElBQU0sR0FZdEIsWUFBdUIsRUFBTyxFQUFXLENBQ3ZDLEdBQUksR0FBUSxHQUFRLEdBQ2hCLEVBQVEsQ0FBQyxHQUFTLEdBQVksR0FDOUIsRUFBUyxDQUFDLEdBQVMsQ0FBQyxHQUFTLEdBQVMsR0FDdEMsRUFBUyxDQUFDLEdBQVMsQ0FBQyxHQUFTLENBQUMsR0FBVSxHQUFhLEdBQ3JELEVBQWMsR0FBUyxHQUFTLEdBQVUsRUFDMUMsRUFBUyxFQUFjLEdBQVUsRUFBTSxPQUFRLElBQVUsR0FDekQsRUFBUyxFQUFPLE9BRXBCLE9BQVMsS0FBTyxHQUNkLEFBQUssSUFBYSxHQUFlLEtBQUssRUFBTyxLQUN6QyxDQUFFLElBRUMsSUFBTyxVQUVOLEdBQVcsSUFBTyxVQUFZLEdBQU8sV0FFckMsR0FBVyxJQUFPLFVBQVksR0FBTyxjQUFnQixHQUFPLGVBRTdELEdBQVEsRUFBSyxNQUVsQixFQUFPLEtBQUssR0FHaEIsTUFBTyxHQVVULFlBQXFCLEVBQU8sQ0FDMUIsR0FBSSxHQUFTLEVBQU0sT0FDbkIsTUFBTyxHQUFTLEVBQU0sR0FBVyxFQUFHLEVBQVMsSUFBTUEsRUFXckQsWUFBeUIsRUFBTyxFQUFHLENBQ2pDLE1BQU8sSUFBWSxHQUFVLEdBQVEsR0FBVSxFQUFHLEVBQUcsRUFBTSxTQVU3RCxZQUFzQixFQUFPLENBQzNCLE1BQU8sSUFBWSxHQUFVLElBWS9CLFlBQTBCLEVBQVEsRUFBSyxFQUFPLENBQzVDLEFBQUssS0FBVUEsR0FBYSxDQUFDLEdBQUcsRUFBTyxHQUFNLElBQ3hDLElBQVVBLEdBQWEsQ0FBRSxLQUFPLE1BQ25DLEdBQWdCLEVBQVEsRUFBSyxHQWNqQyxZQUFxQixFQUFRLEVBQUssRUFBTyxDQUN2QyxHQUFJLEdBQVcsRUFBTyxHQUN0QixBQUFJLEVBQUUsSUFBZSxLQUFLLEVBQVEsSUFBUSxHQUFHLEVBQVUsS0FDbEQsSUFBVUEsR0FBYSxDQUFFLEtBQU8sTUFDbkMsR0FBZ0IsRUFBUSxFQUFLLEdBWWpDLFlBQXNCLEVBQU8sRUFBSyxDQUVoQyxPQURJLEdBQVMsRUFBTSxPQUNaLEtBQ0wsR0FBSSxHQUFHLEVBQU0sR0FBUSxHQUFJLEdBQ3ZCLE1BQU8sR0FHWCxNQUFPLEdBY1QsWUFBd0IsRUFBWSxFQUFRLEVBQVUsRUFBYSxDQUNqRSxVQUFTLEVBQVksU0FBUyxFQUFPLEVBQUssRUFBWSxDQUNwRCxFQUFPLEVBQWEsRUFBTyxFQUFTLEdBQVEsS0FFdkMsRUFZVCxZQUFvQixFQUFRLEVBQVEsQ0FDbEMsTUFBTyxJQUFVLEdBQVcsRUFBUSxHQUFLLEdBQVMsR0FZcEQsWUFBc0IsRUFBUSxFQUFRLENBQ3BDLE1BQU8sSUFBVSxHQUFXLEVBQVEsR0FBTyxHQUFTLEdBWXRELFlBQXlCLEVBQVEsRUFBSyxFQUFPLENBQzNDLEFBQUksR0FBTyxhQUFlLEdBQ3hCLEdBQWUsRUFBUSxFQUFLLENBQzFCLGFBQWdCLEdBQ2hCLFdBQWMsR0FDZCxNQUFTLEVBQ1QsU0FBWSxLQUdkLEVBQU8sR0FBTyxFQVlsQixZQUFnQixFQUFRLEVBQU8sQ0FNN0IsT0FMSSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BQ2YsRUFBUyxFQUFNLEdBQ2YsRUFBTyxHQUFVLEtBRWQsRUFBRSxFQUFRLEdBQ2YsRUFBTyxHQUFTLEVBQU9BLEVBQVksR0FBSSxFQUFRLEVBQU0sSUFFdkQsTUFBTyxHQVlULFlBQW1CLEVBQVEsRUFBTyxFQUFPLENBQ3ZDLE1BQUksS0FBVyxHQUNULEtBQVVBLEdBQ1osR0FBUyxHQUFVLEVBQVEsRUFBUyxHQUVsQyxJQUFVQSxHQUNaLEdBQVMsR0FBVSxFQUFRLEVBQVMsSUFHakMsRUFtQlQsWUFBbUIsRUFBTyxFQUFTLEVBQVksRUFBSyxFQUFRLEVBQU8sQ0FDakUsR0FBSSxHQUNBLEVBQVMsRUFBVSxFQUNuQixFQUFTLEVBQVUsRUFDbkIsRUFBUyxFQUFVLEVBS3ZCLEdBSEksR0FDRixHQUFTLEVBQVMsRUFBVyxFQUFPLEVBQUssRUFBUSxHQUFTLEVBQVcsSUFFbkUsSUFBV0EsRUFDYixNQUFPLEdBRVQsR0FBSSxDQUFDLEdBQVMsR0FDWixNQUFPLEdBRVQsR0FBSSxHQUFRLEdBQVEsR0FDcEIsR0FBSSxHQUVGLEdBREEsRUFBUyxHQUFlLEdBQ3BCLENBQUMsRUFDSCxNQUFPLElBQVUsRUFBTyxPQUVyQixDQUNMLEdBQUksR0FBTSxHQUFPLEdBQ2IsR0FBUyxHQUFPLElBQVcsR0FBTyxHQUV0QyxHQUFJLEdBQVMsR0FDWCxNQUFPLElBQVksRUFBTyxHQUU1QixHQUFJLEdBQU8sSUFBYSxHQUFPLEdBQVksSUFBVSxDQUFDLEdBRXBELEdBREEsRUFBVSxHQUFVLEdBQVUsR0FBSyxHQUFnQixHQUMvQyxDQUFDLEVBQ0gsTUFBTyxHQUNILEdBQWMsRUFBTyxHQUFhLEVBQVEsSUFDMUMsR0FBWSxFQUFPLEdBQVcsRUFBUSxRQUV2QyxDQUNMLEdBQUksQ0FBQyxHQUFjLEdBQ2pCLE1BQU8sR0FBUyxFQUFRLEdBRTFCLEVBQVMsR0FBZSxFQUFPLEVBQUssSUFJeEMsR0FBVSxHQUFRLEdBQUksS0FDdEIsR0FBSSxJQUFVLEVBQU0sSUFBSSxHQUN4QixHQUFJLEdBQ0YsTUFBTyxJQUVULEVBQU0sSUFBSSxFQUFPLEdBRWpCLEFBQUksR0FBTSxHQUNSLEVBQU0sUUFBUSxTQUFTLEdBQVUsQ0FDL0IsRUFBTyxJQUFJLEdBQVUsR0FBVSxFQUFTLEVBQVksR0FBVSxFQUFPLE1BRTlELEdBQU0sSUFDZixFQUFNLFFBQVEsU0FBUyxHQUFVLEdBQUssQ0FDcEMsRUFBTyxJQUFJLEdBQUssR0FBVSxHQUFVLEVBQVMsRUFBWSxHQUFLLEVBQU8sTUFJekUsR0FBSSxJQUFXLEVBQ1YsRUFBUyxHQUFlLEdBQ3hCLEVBQVMsR0FBUyxHQUVuQixHQUFRLEVBQVFBLEVBQVksR0FBUyxHQUN6QyxVQUFVLElBQVMsRUFBTyxTQUFTLEdBQVUsR0FBSyxDQUNoRCxBQUFJLElBQ0YsSUFBTSxHQUNOLEdBQVcsRUFBTSxLQUduQixHQUFZLEVBQVEsR0FBSyxHQUFVLEdBQVUsRUFBUyxFQUFZLEdBQUssRUFBTyxNQUV6RSxFQVVULFlBQXNCLEVBQVEsQ0FDNUIsR0FBSSxHQUFRLEdBQUssR0FDakIsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsTUFBTyxJQUFlLEVBQVEsRUFBUSxJQVkxQyxZQUF3QixFQUFRLEVBQVEsRUFBTyxDQUM3QyxHQUFJLEdBQVMsRUFBTSxPQUNuQixHQUFJLEdBQVUsS0FDWixNQUFPLENBQUMsRUFHVixJQURBLEVBQVMsR0FBTyxHQUNULEtBQVUsQ0FDZixHQUFJLEdBQU0sRUFBTSxHQUNaLEVBQVksRUFBTyxHQUNuQixFQUFRLEVBQU8sR0FFbkIsR0FBSyxJQUFVQSxHQUFhLENBQUUsS0FBTyxLQUFZLENBQUMsRUFBVSxHQUMxRCxNQUFPLEdBR1gsTUFBTyxHQWFULFlBQW1CLEVBQU0sRUFBTSxFQUFNLENBQ25DLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLE1BQU8sSUFBVyxVQUFXLENBQUUsRUFBSyxNQUFNQSxFQUFXLElBQVUsR0FjakUsWUFBd0IsRUFBTyxFQUFRLEVBQVUsRUFBWSxDQUMzRCxHQUFJLEdBQVEsR0FDUixFQUFXLEdBQ1gsRUFBVyxHQUNYLEVBQVMsRUFBTSxPQUNmLEVBQVMsR0FDVCxFQUFlLEVBQU8sT0FFMUIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEFBQUksR0FDRixHQUFTLEdBQVMsRUFBUSxHQUFVLEtBRXRDLEFBQUksRUFDRixHQUFXLEdBQ1gsRUFBVyxJQUVKLEVBQU8sUUFBVSxHQUN4QixHQUFXLEdBQ1gsRUFBVyxHQUNYLEVBQVMsR0FBSSxJQUFTLElBRXhCLEVBQ0EsS0FBTyxFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBTSxHQUNkLEVBQVcsR0FBWSxLQUFPLEVBQVEsRUFBUyxHQUduRCxHQURBLEVBQVMsR0FBYyxJQUFVLEVBQUssRUFBUSxFQUMxQyxHQUFZLElBQWEsRUFBVSxDQUVyQyxPQURJLElBQWMsRUFDWCxNQUNMLEdBQUksRUFBTyxNQUFpQixFQUMxQixXQUdKLEVBQU8sS0FBSyxPQUVULEFBQUssR0FBUyxFQUFRLEVBQVUsSUFDbkMsRUFBTyxLQUFLLEdBR2hCLE1BQU8sR0FXVCxHQUFJLElBQVcsR0FBZSxJQVUxQixHQUFnQixHQUFlLEdBQWlCLElBV3BELFlBQW1CLEVBQVksRUFBVyxDQUN4QyxHQUFJLEdBQVMsR0FDYixVQUFTLEVBQVksU0FBUyxFQUFPLEVBQU8sRUFBWSxDQUN0RCxTQUFTLENBQUMsQ0FBQyxFQUFVLEVBQU8sRUFBTyxHQUM1QixJQUVGLEVBYVQsWUFBc0IsRUFBTyxFQUFVLEVBQVksQ0FJakQsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BRVosRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFVLEVBQVMsR0FFdkIsR0FBSSxHQUFXLE1BQVMsS0FBYUEsRUFDNUIsSUFBWSxHQUFXLENBQUMsR0FBUyxHQUNsQyxFQUFXLEVBQVMsSUFFMUIsR0FBSSxHQUFXLEVBQ1gsRUFBUyxFQUdqQixNQUFPLEdBYVQsWUFBa0IsRUFBTyxFQUFPLEVBQU8sRUFBSyxDQUMxQyxHQUFJLEdBQVMsRUFBTSxPQVduQixJQVRBLEVBQVEsR0FBVSxHQUNkLEVBQVEsR0FDVixHQUFRLENBQUMsRUFBUSxFQUFTLEVBQUssRUFBUyxHQUUxQyxFQUFPLElBQVFBLEdBQWEsRUFBTSxFQUFVLEVBQVMsR0FBVSxHQUMzRCxFQUFNLEdBQ1IsSUFBTyxHQUVULEVBQU0sRUFBUSxFQUFNLEVBQUksR0FBUyxHQUMxQixFQUFRLEdBQ2IsRUFBTSxLQUFXLEVBRW5CLE1BQU8sR0FXVCxZQUFvQixFQUFZLEVBQVcsQ0FDekMsR0FBSSxHQUFTLEdBQ2IsVUFBUyxFQUFZLFNBQVMsRUFBTyxFQUFPLEVBQVksQ0FDdEQsQUFBSSxFQUFVLEVBQU8sRUFBTyxJQUMxQixFQUFPLEtBQUssS0FHVCxFQWNULFlBQXFCLEVBQU8sRUFBTyxFQUFXLEVBQVUsRUFBUSxDQUM5RCxHQUFJLEdBQVEsR0FDUixFQUFTLEVBQU0sT0FLbkIsSUFIQSxHQUFjLEdBQVksSUFDMUIsR0FBVyxHQUFTLElBRWIsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDbEIsQUFBSSxFQUFRLEdBQUssRUFBVSxHQUN6QixBQUFJLEVBQVEsRUFFVixHQUFZLEVBQU8sRUFBUSxFQUFHLEVBQVcsRUFBVSxHQUVuRCxHQUFVLEVBQVEsR0FFVixHQUNWLEdBQU8sRUFBTyxRQUFVLEdBRzVCLE1BQU8sR0FjVCxHQUFJLElBQVUsS0FZVixHQUFlLEdBQWMsSUFVakMsWUFBb0IsRUFBUSxFQUFVLENBQ3BDLE1BQU8sSUFBVSxHQUFRLEVBQVEsRUFBVSxJQVc3QyxZQUF5QixFQUFRLEVBQVUsQ0FDekMsTUFBTyxJQUFVLEdBQWEsRUFBUSxFQUFVLElBWWxELFlBQXVCLEVBQVEsRUFBTyxDQUNwQyxNQUFPLElBQVksRUFBTyxTQUFTLEVBQUssQ0FDdEMsTUFBTyxJQUFXLEVBQU8sTUFZN0IsWUFBaUIsRUFBUSxFQUFNLENBQzdCLEVBQU8sR0FBUyxFQUFNLEdBS3RCLE9BSEksR0FBUSxFQUNSLEVBQVMsRUFBSyxPQUVYLEdBQVUsTUFBUSxFQUFRLEdBQy9CLEVBQVMsRUFBTyxHQUFNLEVBQUssT0FFN0IsTUFBUSxJQUFTLEdBQVMsRUFBVSxFQUFTQSxFQWMvQyxZQUF3QixFQUFRLEVBQVUsRUFBYSxDQUNyRCxHQUFJLEdBQVMsRUFBUyxHQUN0QixNQUFPLElBQVEsR0FBVSxFQUFTLEdBQVUsRUFBUSxFQUFZLElBVWxFLFlBQW9CLEVBQU8sQ0FDekIsTUFBSSxJQUFTLEtBQ0osSUFBVUEsRUFBWSxHQUFlLEdBRXRDLElBQWtCLEtBQWtCLElBQU8sR0FDL0MsR0FBVSxHQUNWLEdBQWUsR0FZckIsWUFBZ0IsRUFBTyxFQUFPLENBQzVCLE1BQU8sR0FBUSxFQVdqQixZQUFpQixFQUFRLEVBQUssQ0FDNUIsTUFBTyxJQUFVLE1BQVEsR0FBZSxLQUFLLEVBQVEsR0FXdkQsWUFBbUIsRUFBUSxFQUFLLENBQzlCLE1BQU8sSUFBVSxNQUFRLElBQU8sSUFBTyxHQVl6QyxZQUFxQixFQUFRLEVBQU8sRUFBSyxDQUN2QyxNQUFPLElBQVUsR0FBVSxFQUFPLElBQVEsRUFBUyxHQUFVLEVBQU8sR0FhdEUsWUFBMEIsRUFBUSxFQUFVLEVBQVksQ0FTdEQsT0FSSSxHQUFXLEVBQWEsR0FBb0IsR0FDNUMsRUFBUyxFQUFPLEdBQUcsT0FDbkIsRUFBWSxFQUFPLE9BQ25CLEVBQVcsRUFDWCxFQUFTLEVBQU0sR0FDZixFQUFZLElBQ1osRUFBUyxHQUVOLEtBQVksQ0FDakIsR0FBSSxHQUFRLEVBQU8sR0FDbkIsQUFBSSxHQUFZLEdBQ2QsR0FBUSxHQUFTLEVBQU8sR0FBVSxLQUVwQyxFQUFZLEdBQVUsRUFBTSxPQUFRLEdBQ3BDLEVBQU8sR0FBWSxDQUFDLEdBQWUsSUFBYSxHQUFVLEtBQU8sRUFBTSxRQUFVLEtBQzdFLEdBQUksSUFBUyxHQUFZLEdBQ3pCQSxFQUVOLEVBQVEsRUFBTyxHQUVmLEdBQUksR0FBUSxHQUNSLEdBQU8sRUFBTyxHQUVsQixFQUNBLEtBQU8sRUFBRSxFQUFRLEdBQVUsRUFBTyxPQUFTLEdBQVcsQ0FDcEQsR0FBSSxJQUFRLEVBQU0sR0FDZCxHQUFXLEVBQVcsRUFBUyxJQUFTLEdBRzVDLEdBREEsR0FBUyxHQUFjLEtBQVUsRUFBSyxHQUFRLEVBQzFDLENBQUUsSUFDRSxHQUFTLEdBQU0sSUFDZixFQUFTLEVBQVEsR0FBVSxJQUM1QixDQUVMLElBREEsRUFBVyxFQUNKLEVBQUUsR0FBVSxDQUNqQixHQUFJLElBQVEsRUFBTyxHQUNuQixHQUFJLENBQUUsSUFDRSxHQUFTLEdBQU8sSUFDaEIsRUFBUyxFQUFPLEdBQVcsR0FBVSxJQUUzQyxXQUdKLEFBQUksSUFDRixHQUFLLEtBQUssSUFFWixFQUFPLEtBQUssS0FHaEIsTUFBTyxHQWNULFlBQXNCLEVBQVEsRUFBUSxFQUFVLEVBQWEsQ0FDM0QsVUFBVyxFQUFRLFNBQVMsRUFBTyxFQUFLLEVBQVEsQ0FDOUMsRUFBTyxFQUFhLEVBQVMsR0FBUSxFQUFLLEtBRXJDLEVBYVQsWUFBb0IsRUFBUSxFQUFNLEVBQU0sQ0FDdEMsRUFBTyxHQUFTLEVBQU0sR0FDdEIsRUFBUyxHQUFPLEVBQVEsR0FDeEIsR0FBSSxHQUFPLEdBQVUsS0FBTyxFQUFTLEVBQU8sR0FBTSxHQUFLLEtBQ3ZELE1BQU8sSUFBUSxLQUFPQSxFQUFZLEdBQU0sRUFBTSxFQUFRLEdBVXhELFlBQXlCLEVBQU8sQ0FDOUIsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEVBVXJELFlBQTJCLEVBQU8sQ0FDaEMsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBVXJELFlBQW9CLEVBQU8sQ0FDekIsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBaUJyRCxZQUFxQixFQUFPLEVBQU8sRUFBUyxFQUFZLEVBQU8sQ0FDN0QsTUFBSSxLQUFVLEVBQ0wsR0FFTCxHQUFTLE1BQVEsR0FBUyxNQUFTLENBQUMsR0FBYSxJQUFVLENBQUMsR0FBYSxHQUNwRSxJQUFVLEdBQVMsSUFBVSxFQUUvQixHQUFnQixFQUFPLEVBQU8sRUFBUyxFQUFZLEdBQWEsR0FpQnpFLFlBQXlCLEVBQVEsRUFBTyxFQUFTLEVBQVksRUFBVyxFQUFPLENBQzdFLEdBQUksR0FBVyxHQUFRLEdBQ25CLEVBQVcsR0FBUSxHQUNuQixFQUFTLEVBQVcsRUFBVyxHQUFPLEdBQ3RDLEVBQVMsRUFBVyxFQUFXLEdBQU8sR0FFMUMsRUFBUyxHQUFVLEVBQVUsR0FBWSxFQUN6QyxFQUFTLEdBQVUsRUFBVSxHQUFZLEVBRXpDLEdBQUksR0FBVyxHQUFVLEdBQ3JCLEVBQVcsR0FBVSxHQUNyQixHQUFZLEdBQVUsRUFFMUIsR0FBSSxJQUFhLEdBQVMsR0FBUyxDQUNqQyxHQUFJLENBQUMsR0FBUyxHQUNaLE1BQU8sR0FFVCxFQUFXLEdBQ1gsRUFBVyxHQUViLEdBQUksSUFBYSxDQUFDLEVBQ2hCLFVBQVUsR0FBUSxHQUFJLEtBQ2QsR0FBWSxHQUFhLEdBQzdCLEdBQVksRUFBUSxFQUFPLEVBQVMsRUFBWSxFQUFXLEdBQzNELEdBQVcsRUFBUSxFQUFPLEVBQVEsRUFBUyxFQUFZLEVBQVcsR0FFeEUsR0FBSSxDQUFFLEdBQVUsR0FBdUIsQ0FDckMsR0FBSSxJQUFlLEdBQVksR0FBZSxLQUFLLEVBQVEsZUFDdkQsR0FBZSxHQUFZLEdBQWUsS0FBSyxFQUFPLGVBRTFELEdBQUksSUFBZ0IsR0FBYyxDQUNoQyxHQUFJLElBQWUsR0FBZSxFQUFPLFFBQVUsRUFDL0MsR0FBZSxHQUFlLEVBQU0sUUFBVSxFQUVsRCxVQUFVLEdBQVEsR0FBSSxLQUNmLEVBQVUsR0FBYyxHQUFjLEVBQVMsRUFBWSxJQUd0RSxNQUFLLElBR0wsSUFBVSxHQUFRLEdBQUksS0FDZixHQUFhLEVBQVEsRUFBTyxFQUFTLEVBQVksRUFBVyxJQUgxRCxHQWFYLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsR0FBTyxJQUFVLEdBYWpELFlBQXFCLEVBQVEsRUFBUSxFQUFXLEVBQVksQ0FDMUQsR0FBSSxHQUFRLEVBQVUsT0FDbEIsRUFBUyxFQUNULEVBQWUsQ0FBQyxFQUVwQixHQUFJLEdBQVUsS0FDWixNQUFPLENBQUMsRUFHVixJQURBLEVBQVMsR0FBTyxHQUNULEtBQVMsQ0FDZCxHQUFJLEdBQU8sRUFBVSxHQUNyQixHQUFLLEdBQWdCLEVBQUssR0FDbEIsRUFBSyxLQUFPLEVBQU8sRUFBSyxJQUN4QixDQUFFLEdBQUssSUFBTSxJQUVuQixNQUFPLEdBR1gsS0FBTyxFQUFFLEVBQVEsR0FBUSxDQUN2QixFQUFPLEVBQVUsR0FDakIsR0FBSSxHQUFNLEVBQUssR0FDWCxFQUFXLEVBQU8sR0FDbEIsRUFBVyxFQUFLLEdBRXBCLEdBQUksR0FBZ0IsRUFBSyxJQUN2QixHQUFJLElBQWFBLEdBQWEsQ0FBRSxLQUFPLElBQ3JDLE1BQU8sT0FFSixDQUNMLEdBQUksR0FBUSxHQUFJLElBQ2hCLEdBQUksRUFDRixHQUFJLElBQVMsRUFBVyxFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQVEsR0FFbkUsR0FBSSxDQUFFLE1BQVdBLEVBQ1QsR0FBWSxFQUFVLEVBQVUsRUFBdUIsRUFBd0IsRUFBWSxHQUMzRixJQUVOLE1BQU8sSUFJYixNQUFPLEdBV1QsWUFBc0IsRUFBTyxDQUMzQixHQUFJLENBQUMsR0FBUyxJQUFVLEdBQVMsR0FDL0IsTUFBTyxHQUVULEdBQUksR0FBVSxHQUFXLEdBQVMsR0FBYSxHQUMvQyxNQUFPLEdBQVEsS0FBSyxHQUFTLElBVS9CLFlBQXNCLEVBQU8sQ0FDM0IsTUFBTyxJQUFhLElBQVUsR0FBVyxJQUFVLEdBVXJELFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsR0FBTyxJQUFVLEdBVWpELFlBQTBCLEVBQU8sQ0FDL0IsTUFBTyxJQUFhLElBQ2xCLEdBQVMsRUFBTSxTQUFXLENBQUMsQ0FBQyxHQUFlLEdBQVcsSUFVMUQsWUFBc0IsRUFBTyxDQUczQixNQUFJLE9BQU8sSUFBUyxXQUNYLEVBRUwsR0FBUyxLQUNKLEdBRUwsTUFBTyxJQUFTLFNBQ1gsR0FBUSxHQUNYLEdBQW9CLEVBQU0sR0FBSSxFQUFNLElBQ3BDLEdBQVksR0FFWCxHQUFTLEdBVWxCLFlBQWtCLEVBQVEsQ0FDeEIsR0FBSSxDQUFDLEdBQVksR0FDZixNQUFPLElBQVcsR0FFcEIsR0FBSSxHQUFTLEdBQ2IsT0FBUyxLQUFPLElBQU8sR0FDckIsQUFBSSxHQUFlLEtBQUssRUFBUSxJQUFRLEdBQU8sZUFDN0MsRUFBTyxLQUFLLEdBR2hCLE1BQU8sR0FVVCxZQUFvQixFQUFRLENBQzFCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxJQUFhLEdBRXRCLEdBQUksR0FBVSxHQUFZLEdBQ3RCLEVBQVMsR0FFYixPQUFTLEtBQU8sR0FDZCxBQUFNLEdBQU8sZUFBa0IsSUFBVyxDQUFDLEdBQWUsS0FBSyxFQUFRLEtBQ3JFLEVBQU8sS0FBSyxHQUdoQixNQUFPLEdBWVQsWUFBZ0IsRUFBTyxFQUFPLENBQzVCLE1BQU8sR0FBUSxFQVdqQixZQUFpQixFQUFZLEVBQVUsQ0FDckMsR0FBSSxHQUFRLEdBQ1IsRUFBUyxHQUFZLEdBQWMsRUFBTSxFQUFXLFFBQVUsR0FFbEUsVUFBUyxFQUFZLFNBQVMsRUFBTyxFQUFLLEVBQVksQ0FDcEQsRUFBTyxFQUFFLEdBQVMsRUFBUyxFQUFPLEVBQUssS0FFbEMsRUFVVCxZQUFxQixFQUFRLENBQzNCLEdBQUksR0FBWSxHQUFhLEdBQzdCLE1BQUksR0FBVSxRQUFVLEdBQUssRUFBVSxHQUFHLEdBQ2pDLEdBQXdCLEVBQVUsR0FBRyxHQUFJLEVBQVUsR0FBRyxJQUV4RCxTQUFTLEVBQVEsQ0FDdEIsTUFBTyxLQUFXLEdBQVUsR0FBWSxFQUFRLEVBQVEsSUFZNUQsWUFBNkIsRUFBTSxFQUFVLENBQzNDLE1BQUksSUFBTSxJQUFTLEdBQW1CLEdBQzdCLEdBQXdCLEdBQU0sR0FBTyxHQUV2QyxTQUFTLEVBQVEsQ0FDdEIsR0FBSSxHQUFXLEdBQUksRUFBUSxHQUMzQixNQUFRLEtBQWFBLEdBQWEsSUFBYSxFQUMzQyxHQUFNLEVBQVEsR0FDZCxHQUFZLEVBQVUsRUFBVSxFQUF1QixJQWUvRCxZQUFtQixFQUFRLEVBQVEsRUFBVSxFQUFZLEVBQU8sQ0FDOUQsQUFBSSxJQUFXLEdBR2YsR0FBUSxFQUFRLFNBQVMsRUFBVSxFQUFLLENBRXRDLEdBREEsR0FBVSxHQUFRLEdBQUksS0FDbEIsR0FBUyxHQUNYLEdBQWMsRUFBUSxFQUFRLEVBQUssRUFBVSxHQUFXLEVBQVksT0FFakUsQ0FDSCxHQUFJLEdBQVcsRUFDWCxFQUFXLEdBQVEsRUFBUSxHQUFNLEVBQVcsRUFBTSxHQUFLLEVBQVEsRUFBUSxHQUN2RUEsRUFFSixBQUFJLElBQWFBLEdBQ2YsR0FBVyxHQUViLEdBQWlCLEVBQVEsRUFBSyxLQUUvQixJQWtCTCxZQUF1QixFQUFRLEVBQVEsRUFBSyxFQUFVLEVBQVcsRUFBWSxFQUFPLENBQ2xGLEdBQUksR0FBVyxHQUFRLEVBQVEsR0FDM0IsRUFBVyxHQUFRLEVBQVEsR0FDM0IsRUFBVSxFQUFNLElBQUksR0FFeEIsR0FBSSxFQUFTLENBQ1gsR0FBaUIsRUFBUSxFQUFLLEdBQzlCLE9BRUYsR0FBSSxHQUFXLEVBQ1gsRUFBVyxFQUFVLEVBQVcsRUFBTSxHQUFLLEVBQVEsRUFBUSxHQUMzREEsRUFFQSxFQUFXLElBQWFBLEVBRTVCLEdBQUksRUFBVSxDQUNaLEdBQUksSUFBUSxHQUFRLEdBQ2hCLEdBQVMsQ0FBQyxJQUFTLEdBQVMsR0FDNUIsR0FBVSxDQUFDLElBQVMsQ0FBQyxJQUFVLEdBQWEsR0FFaEQsRUFBVyxFQUNYLEFBQUksSUFBUyxJQUFVLEdBQ3JCLEFBQUksR0FBUSxHQUNWLEVBQVcsRUFFUixBQUFJLEdBQWtCLEdBQ3pCLEVBQVcsR0FBVSxHQUVsQixBQUFJLEdBQ1AsR0FBVyxHQUNYLEVBQVcsR0FBWSxFQUFVLEtBRTlCLEFBQUksR0FDUCxHQUFXLEdBQ1gsRUFBVyxHQUFnQixFQUFVLEtBR3JDLEVBQVcsR0FHVixBQUFJLEdBQWMsSUFBYSxHQUFZLEdBQzlDLEdBQVcsRUFDWCxBQUFJLEdBQVksR0FDZCxFQUFXLEdBQWMsR0FFbEIsRUFBQyxHQUFTLElBQWEsR0FBVyxLQUN6QyxHQUFXLEdBQWdCLEtBSTdCLEVBQVcsR0FHZixBQUFJLEdBRUYsR0FBTSxJQUFJLEVBQVUsR0FDcEIsRUFBVSxFQUFVLEVBQVUsRUFBVSxFQUFZLEdBQ3BELEVBQU0sT0FBVSxJQUVsQixHQUFpQixFQUFRLEVBQUssR0FXaEMsWUFBaUIsRUFBTyxFQUFHLENBQ3pCLEdBQUksR0FBUyxFQUFNLE9BQ25CLEdBQUksRUFBQyxFQUdMLFVBQUssRUFBSSxFQUFJLEVBQVMsRUFDZixHQUFRLEVBQUcsR0FBVSxFQUFNLEdBQUtBLEVBWXpDLFlBQXFCLEVBQVksRUFBVyxFQUFRLENBQ2xELEFBQUksRUFBVSxPQUNaLEVBQVksR0FBUyxFQUFXLFNBQVMsRUFBVSxDQUNqRCxNQUFJLElBQVEsR0FDSCxTQUFTLEVBQU8sQ0FDckIsTUFBTyxJQUFRLEVBQU8sRUFBUyxTQUFXLEVBQUksRUFBUyxHQUFLLElBR3pELElBR1QsRUFBWSxDQUFDLElBR2YsR0FBSSxHQUFRLEdBQ1osRUFBWSxHQUFTLEVBQVcsR0FBVSxPQUUxQyxHQUFJLEdBQVMsR0FBUSxFQUFZLFNBQVMsRUFBTyxFQUFLLEVBQVksQ0FDaEUsR0FBSSxHQUFXLEdBQVMsRUFBVyxTQUFTLEVBQVUsQ0FDcEQsTUFBTyxHQUFTLEtBRWxCLE1BQU8sQ0FBRSxTQUFZLEVBQVUsTUFBUyxFQUFFLEVBQU8sTUFBUyxLQUc1RCxNQUFPLElBQVcsRUFBUSxTQUFTLEVBQVEsRUFBTyxDQUNoRCxNQUFPLElBQWdCLEVBQVEsRUFBTyxLQWExQyxZQUFrQixFQUFRLEVBQU8sQ0FDL0IsTUFBTyxJQUFXLEVBQVEsRUFBTyxTQUFTLEVBQU8sRUFBTSxDQUNyRCxNQUFPLElBQU0sRUFBUSxLQWF6QixZQUFvQixFQUFRLEVBQU8sRUFBVyxDQUs1QyxPQUpJLEdBQVEsR0FDUixFQUFTLEVBQU0sT0FDZixFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFPLEVBQU0sR0FDYixFQUFRLEdBQVEsRUFBUSxHQUU1QixBQUFJLEVBQVUsRUFBTyxJQUNuQixHQUFRLEVBQVEsR0FBUyxFQUFNLEdBQVMsR0FHNUMsTUFBTyxHQVVULFlBQTBCLEVBQU0sQ0FDOUIsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsTUFBTyxJQUFRLEVBQVEsSUFlM0IsWUFBcUIsRUFBTyxFQUFRLEVBQVUsRUFBWSxDQUN4RCxHQUFJLEdBQVUsRUFBYSxHQUFrQixHQUN6QyxFQUFRLEdBQ1IsRUFBUyxFQUFPLE9BQ2hCLEVBQU8sRUFRWCxJQU5JLElBQVUsR0FDWixHQUFTLEdBQVUsSUFFakIsR0FDRixHQUFPLEdBQVMsRUFBTyxHQUFVLEtBRTVCLEVBQUUsRUFBUSxHQUtmLE9BSkksR0FBWSxFQUNaLEVBQVEsRUFBTyxHQUNmLEVBQVcsRUFBVyxFQUFTLEdBQVMsRUFFcEMsR0FBWSxFQUFRLEVBQU0sRUFBVSxFQUFXLElBQWUsSUFDcEUsQUFBSSxJQUFTLEdBQ1gsR0FBTyxLQUFLLEVBQU0sRUFBVyxHQUUvQixHQUFPLEtBQUssRUFBTyxFQUFXLEdBR2xDLE1BQU8sR0FZVCxZQUFvQixFQUFPLEVBQVMsQ0FJbEMsT0FISSxHQUFTLEVBQVEsRUFBUSxPQUFTLEVBQ2xDLEVBQVksRUFBUyxFQUVsQixLQUFVLENBQ2YsR0FBSSxHQUFRLEVBQVEsR0FDcEIsR0FBSSxHQUFVLEdBQWEsSUFBVSxFQUFVLENBQzdDLEdBQUksR0FBVyxFQUNmLEFBQUksR0FBUSxHQUNWLEdBQU8sS0FBSyxFQUFPLEVBQU8sR0FFMUIsR0FBVSxFQUFPLElBSXZCLE1BQU8sR0FZVCxZQUFvQixFQUFPLEVBQU8sQ0FDaEMsTUFBTyxHQUFRLEdBQVksS0FBa0IsR0FBUSxFQUFRLElBYy9ELFlBQW1CLEVBQU8sRUFBSyxFQUFNLEVBQVcsQ0FLOUMsT0FKSSxHQUFRLEdBQ1IsRUFBUyxHQUFVLEdBQVksR0FBTSxHQUFVLElBQVEsSUFBSyxHQUM1RCxFQUFTLEVBQU0sR0FFWixLQUNMLEVBQU8sRUFBWSxFQUFTLEVBQUUsR0FBUyxFQUN2QyxHQUFTLEVBRVgsTUFBTyxHQVdULFlBQW9CLEVBQVEsRUFBRyxDQUM3QixHQUFJLEdBQVMsR0FDYixHQUFJLENBQUMsR0FBVSxFQUFJLEdBQUssRUFBSSxFQUMxQixNQUFPLEdBSVQsRUFDRSxBQUFJLEdBQUksR0FDTixJQUFVLEdBRVosRUFBSSxHQUFZLEVBQUksR0FDaEIsR0FDRixJQUFVLFNBRUwsR0FFVCxNQUFPLEdBV1QsWUFBa0IsRUFBTSxFQUFPLENBQzdCLE1BQU8sSUFBWSxHQUFTLEVBQU0sRUFBTyxJQUFXLEVBQU8sSUFVN0QsWUFBb0IsRUFBWSxDQUM5QixNQUFPLElBQVksR0FBTyxJQVc1QixZQUF3QixFQUFZLEVBQUcsQ0FDckMsR0FBSSxHQUFRLEdBQU8sR0FDbkIsTUFBTyxJQUFZLEVBQU8sR0FBVSxFQUFHLEVBQUcsRUFBTSxTQWFsRCxZQUFpQixFQUFRLEVBQU0sRUFBTyxFQUFZLENBQ2hELEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUVULEVBQU8sR0FBUyxFQUFNLEdBT3RCLE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBSyxPQUNkLEVBQVksRUFBUyxFQUNyQixFQUFTLEVBRU4sR0FBVSxNQUFRLEVBQUUsRUFBUSxHQUFRLENBQ3pDLEdBQUksR0FBTSxHQUFNLEVBQUssSUFDakIsRUFBVyxFQUVmLEdBQUksSUFBUSxhQUFlLElBQVEsZUFBaUIsSUFBUSxZQUMxRCxNQUFPLEdBR1QsR0FBSSxHQUFTLEVBQVcsQ0FDdEIsR0FBSSxHQUFXLEVBQU8sR0FDdEIsRUFBVyxFQUFhLEVBQVcsRUFBVSxFQUFLLEdBQVVBLEVBQ3hELElBQWFBLEdBQ2YsR0FBVyxHQUFTLEdBQ2hCLEVBQ0MsR0FBUSxFQUFLLEVBQVEsSUFBTSxHQUFLLElBR3pDLEdBQVksRUFBUSxFQUFLLEdBQ3pCLEVBQVMsRUFBTyxHQUVsQixNQUFPLEdBV1QsR0FBSSxJQUFjLEFBQUMsR0FBcUIsU0FBUyxFQUFNLEVBQU0sQ0FDM0QsVUFBUSxJQUFJLEVBQU0sR0FDWCxHQUZvQixHQWF6QixHQUFrQixBQUFDLEdBQTRCLFNBQVMsRUFBTSxFQUFRLENBQ3hFLE1BQU8sSUFBZSxFQUFNLFdBQVksQ0FDdEMsYUFBZ0IsR0FDaEIsV0FBYyxHQUNkLE1BQVMsR0FBUyxHQUNsQixTQUFZLE1BTHdCLEdBZ0J4QyxZQUFxQixFQUFZLENBQy9CLE1BQU8sSUFBWSxHQUFPLElBWTVCLFlBQW1CLEVBQU8sRUFBTyxFQUFLLENBQ3BDLEdBQUksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUVuQixBQUFJLEVBQVEsR0FDVixHQUFRLENBQUMsRUFBUSxFQUFTLEVBQUssRUFBUyxHQUUxQyxFQUFNLEVBQU0sRUFBUyxFQUFTLEVBQzFCLEVBQU0sR0FDUixJQUFPLEdBRVQsRUFBUyxFQUFRLEVBQU0sRUFBTSxFQUFNLElBQVcsRUFDOUMsS0FBVyxFQUdYLE9BREksR0FBUyxFQUFNLEdBQ1osRUFBRSxFQUFRLEdBQ2YsRUFBTyxHQUFTLEVBQU0sRUFBUSxHQUVoQyxNQUFPLEdBWVQsWUFBa0IsRUFBWSxFQUFXLENBQ3ZDLEdBQUksR0FFSixVQUFTLEVBQVksU0FBUyxFQUFPLEVBQU8sRUFBWSxDQUN0RCxTQUFTLEVBQVUsRUFBTyxFQUFPLEdBQzFCLENBQUMsSUFFSCxDQUFDLENBQUMsRUFlWCxZQUF5QixFQUFPLEVBQU8sRUFBWSxDQUNqRCxHQUFJLEdBQU0sRUFDTixFQUFPLEdBQVMsS0FBTyxFQUFNLEVBQU0sT0FFdkMsR0FBSSxNQUFPLElBQVMsVUFBWSxJQUFVLEdBQVMsR0FBUSxFQUF1QixDQUNoRixLQUFPLEVBQU0sR0FBTSxDQUNqQixHQUFJLEdBQU8sRUFBTSxJQUFVLEVBQ3ZCLEVBQVcsRUFBTSxHQUVyQixBQUFJLElBQWEsTUFBUSxDQUFDLEdBQVMsSUFDOUIsR0FBYyxHQUFZLEVBQVUsRUFBVyxHQUNsRCxFQUFNLEVBQU0sRUFFWixFQUFPLEVBR1gsTUFBTyxHQUVULE1BQU8sSUFBa0IsRUFBTyxFQUFPLEdBQVUsR0FnQm5ELFlBQTJCLEVBQU8sRUFBTyxFQUFVLEVBQVksQ0FDN0QsR0FBSSxHQUFNLEVBQ04sRUFBTyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3JDLEdBQUksSUFBUyxFQUNYLE1BQU8sR0FHVCxFQUFRLEVBQVMsR0FNakIsT0FMSSxHQUFXLElBQVUsRUFDckIsRUFBWSxJQUFVLEtBQ3RCLEVBQWMsR0FBUyxHQUN2QixFQUFpQixJQUFVQSxFQUV4QixFQUFNLEdBQU0sQ0FDakIsR0FBSSxHQUFNLEdBQWEsR0FBTSxHQUFRLEdBQ2pDLEVBQVcsRUFBUyxFQUFNLElBQzFCLEdBQWUsSUFBYUEsRUFDNUIsR0FBWSxJQUFhLEtBQ3pCLEdBQWlCLElBQWEsRUFDOUIsR0FBYyxHQUFTLEdBRTNCLEdBQUksRUFDRixHQUFJLElBQVMsR0FBYyxPQUN0QixBQUFJLEdBQ1QsR0FBUyxJQUFtQixJQUFjLElBQ3JDLEFBQUksRUFDVCxHQUFTLElBQWtCLElBQWlCLElBQWMsQ0FBQyxJQUN0RCxBQUFJLEVBQ1QsR0FBUyxJQUFrQixJQUFnQixDQUFDLElBQWMsSUFBYyxDQUFDLElBQ3BFLEFBQUksSUFBYSxHQUN0QixHQUFTLEdBRVQsR0FBUyxFQUFjLEdBQVksRUFBVSxFQUFXLEVBRTFELEFBQUksR0FDRixFQUFNLEVBQU0sRUFFWixFQUFPLEVBR1gsTUFBTyxJQUFVLEVBQU0sR0FZekIsWUFBd0IsRUFBTyxFQUFVLENBTXZDLE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUNmLEVBQVcsRUFDWCxFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFXLEVBQVcsRUFBUyxHQUFTLEVBRTVDLEdBQUksQ0FBQyxHQUFTLENBQUMsR0FBRyxFQUFVLEdBQU8sQ0FDakMsR0FBSSxHQUFPLEVBQ1gsRUFBTyxLQUFjLElBQVUsRUFBSSxFQUFJLEdBRzNDLE1BQU8sR0FXVCxZQUFzQixFQUFPLENBQzNCLE1BQUksT0FBTyxJQUFTLFNBQ1gsRUFFTCxHQUFTLEdBQ0osRUFFRixDQUFDLEVBV1YsWUFBc0IsRUFBTyxDQUUzQixHQUFJLE1BQU8sSUFBUyxTQUNsQixNQUFPLEdBRVQsR0FBSSxHQUFRLEdBRVYsTUFBTyxJQUFTLEVBQU8sSUFBZ0IsR0FFekMsR0FBSSxHQUFTLEdBQ1gsTUFBTyxJQUFpQixHQUFlLEtBQUssR0FBUyxHQUV2RCxHQUFJLEdBQVUsRUFBUSxHQUN0QixNQUFRLElBQVUsS0FBUSxFQUFJLEdBQVUsQ0FBQyxFQUFZLEtBQU8sRUFZOUQsWUFBa0IsRUFBTyxFQUFVLEVBQVksQ0FDN0MsR0FBSSxHQUFRLEdBQ1IsRUFBVyxHQUNYLEVBQVMsRUFBTSxPQUNmLEVBQVcsR0FDWCxFQUFTLEdBQ1QsRUFBTyxFQUVYLEdBQUksRUFDRixFQUFXLEdBQ1gsRUFBVyxXQUVKLEdBQVUsRUFBa0IsQ0FDbkMsR0FBSSxHQUFNLEVBQVcsS0FBTyxHQUFVLEdBQ3RDLEdBQUksRUFDRixNQUFPLElBQVcsR0FFcEIsRUFBVyxHQUNYLEVBQVcsR0FDWCxFQUFPLEdBQUksUUFHWCxHQUFPLEVBQVcsR0FBSyxFQUV6QixFQUNBLEtBQU8sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQU0sR0FDZCxFQUFXLEVBQVcsRUFBUyxHQUFTLEVBRzVDLEdBREEsRUFBUyxHQUFjLElBQVUsRUFBSyxFQUFRLEVBQzFDLEdBQVksSUFBYSxFQUFVLENBRXJDLE9BREksSUFBWSxFQUFLLE9BQ2QsTUFDTCxHQUFJLEVBQUssTUFBZSxFQUN0QixXQUdKLEFBQUksR0FDRixFQUFLLEtBQUssR0FFWixFQUFPLEtBQUssT0FFVCxBQUFLLEdBQVMsRUFBTSxFQUFVLElBQzdCLEtBQVMsR0FDWCxFQUFLLEtBQUssR0FFWixFQUFPLEtBQUssSUFHaEIsTUFBTyxHQVdULFlBQW1CLEVBQVEsRUFBTSxDQUMvQixTQUFPLEdBQVMsRUFBTSxHQUN0QixFQUFTLEdBQU8sRUFBUSxHQUNqQixHQUFVLE1BQVEsTUFBTyxHQUFPLEdBQU0sR0FBSyxLQWFwRCxZQUFvQixFQUFRLEVBQU0sRUFBUyxFQUFZLENBQ3JELE1BQU8sSUFBUSxFQUFRLEVBQU0sRUFBUSxHQUFRLEVBQVEsSUFBUSxHQWMvRCxZQUFtQixFQUFPLEVBQVcsRUFBUSxFQUFXLENBSXRELE9BSEksR0FBUyxFQUFNLE9BQ2YsRUFBUSxFQUFZLEVBQVMsR0FFekIsR0FBWSxJQUFVLEVBQUUsRUFBUSxJQUN0QyxFQUFVLEVBQU0sR0FBUSxFQUFPLElBQVEsQ0FFekMsTUFBTyxHQUNILEdBQVUsRUFBUSxFQUFZLEVBQUksRUFBUyxFQUFZLEVBQVEsRUFBSSxHQUNuRSxHQUFVLEVBQVEsRUFBWSxFQUFRLEVBQUksRUFBSyxFQUFZLEVBQVMsR0FhMUUsWUFBMEIsRUFBTyxFQUFTLENBQ3hDLEdBQUksR0FBUyxFQUNiLE1BQUksYUFBa0IsS0FDcEIsR0FBUyxFQUFPLFNBRVgsR0FBWSxFQUFTLFNBQVMsRUFBUSxFQUFRLENBQ25ELE1BQU8sR0FBTyxLQUFLLE1BQU0sRUFBTyxRQUFTLEdBQVUsQ0FBQyxHQUFTLEVBQU8sUUFDbkUsR0FhTCxZQUFpQixFQUFRLEVBQVUsRUFBWSxDQUM3QyxHQUFJLEdBQVMsRUFBTyxPQUNwQixHQUFJLEVBQVMsRUFDWCxNQUFPLEdBQVMsR0FBUyxFQUFPLElBQU0sR0FLeEMsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFNLEdBRVosRUFBRSxFQUFRLEdBSWYsT0FISSxHQUFRLEVBQU8sR0FDZixFQUFXLEdBRVIsRUFBRSxFQUFXLEdBQ2xCLEFBQUksR0FBWSxHQUNkLEdBQU8sR0FBUyxHQUFlLEVBQU8sSUFBVSxFQUFPLEVBQU8sR0FBVyxFQUFVLElBSXpGLE1BQU8sSUFBUyxHQUFZLEVBQVEsR0FBSSxFQUFVLEdBWXBELFlBQXVCLEVBQU8sRUFBUSxFQUFZLENBTWhELE9BTEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUNmLEVBQWEsRUFBTyxPQUNwQixFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFRLEVBQVEsRUFBYSxFQUFPLEdBQVNBLEVBQ2pELEVBQVcsRUFBUSxFQUFNLEdBQVEsR0FFbkMsTUFBTyxHQVVULFlBQTZCLEVBQU8sQ0FDbEMsTUFBTyxJQUFrQixHQUFTLEVBQVEsR0FVNUMsWUFBc0IsRUFBTyxDQUMzQixNQUFPLE9BQU8sSUFBUyxXQUFhLEVBQVEsR0FXOUMsWUFBa0IsRUFBTyxFQUFRLENBQy9CLE1BQUksSUFBUSxHQUNILEVBRUYsR0FBTSxFQUFPLEdBQVUsQ0FBQyxHQUFTLEdBQWEsR0FBUyxJQVloRSxHQUFJLElBQVcsR0FXZixZQUFtQixFQUFPLEVBQU8sRUFBSyxDQUNwQyxHQUFJLEdBQVMsRUFBTSxPQUNuQixTQUFNLElBQVFBLEVBQVksRUFBUyxFQUMzQixDQUFDLEdBQVMsR0FBTyxFQUFVLEVBQVEsR0FBVSxFQUFPLEVBQU8sR0FTckUsR0FBSSxJQUFlLElBQW1CLFNBQVMsRUFBSSxDQUNqRCxNQUFPLElBQUssYUFBYSxJQVczQixZQUFxQixFQUFRLEVBQVEsQ0FDbkMsR0FBSSxFQUNGLE1BQU8sR0FBTyxRQUVoQixHQUFJLEdBQVMsRUFBTyxPQUNoQixFQUFTLEdBQWMsR0FBWSxHQUFVLEdBQUksR0FBTyxZQUFZLEdBRXhFLFNBQU8sS0FBSyxHQUNMLEVBVVQsWUFBMEIsRUFBYSxDQUNyQyxHQUFJLEdBQVMsR0FBSSxHQUFZLFlBQVksRUFBWSxZQUNyRCxVQUFJLElBQVcsR0FBUSxJQUFJLEdBQUksSUFBVyxJQUNuQyxFQVdULFlBQXVCLEVBQVUsRUFBUSxDQUN2QyxHQUFJLEdBQVMsRUFBUyxHQUFpQixFQUFTLFFBQVUsRUFBUyxPQUNuRSxNQUFPLElBQUksR0FBUyxZQUFZLEVBQVEsRUFBUyxXQUFZLEVBQVMsWUFVeEUsWUFBcUIsRUFBUSxDQUMzQixHQUFJLEdBQVMsR0FBSSxHQUFPLFlBQVksRUFBTyxPQUFRLEdBQVEsS0FBSyxJQUNoRSxTQUFPLFVBQVksRUFBTyxVQUNuQixFQVVULFlBQXFCLEVBQVEsQ0FDM0IsTUFBTyxJQUFnQixHQUFPLEdBQWMsS0FBSyxJQUFXLEdBVzlELFlBQXlCLEVBQVksRUFBUSxDQUMzQyxHQUFJLEdBQVMsRUFBUyxHQUFpQixFQUFXLFFBQVUsRUFBVyxPQUN2RSxNQUFPLElBQUksR0FBVyxZQUFZLEVBQVEsRUFBVyxXQUFZLEVBQVcsUUFXOUUsWUFBMEIsRUFBTyxFQUFPLENBQ3RDLEdBQUksSUFBVSxFQUFPLENBQ25CLEdBQUksR0FBZSxJQUFVQSxFQUN6QixFQUFZLElBQVUsS0FDdEIsRUFBaUIsSUFBVSxFQUMzQixFQUFjLEdBQVMsR0FFdkIsRUFBZSxJQUFVQSxFQUN6QixFQUFZLElBQVUsS0FDdEIsRUFBaUIsSUFBVSxFQUMzQixFQUFjLEdBQVMsR0FFM0IsR0FBSyxDQUFDLEdBQWEsQ0FBQyxHQUFlLENBQUMsR0FBZSxFQUFRLEdBQ3RELEdBQWUsR0FBZ0IsR0FBa0IsQ0FBQyxHQUFhLENBQUMsR0FDaEUsR0FBYSxHQUFnQixHQUM3QixDQUFDLEdBQWdCLEdBQ2xCLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSyxDQUFDLEdBQWEsQ0FBQyxHQUFlLENBQUMsR0FBZSxFQUFRLEdBQ3RELEdBQWUsR0FBZ0IsR0FBa0IsQ0FBQyxHQUFhLENBQUMsR0FDaEUsR0FBYSxHQUFnQixHQUM3QixDQUFDLEdBQWdCLEdBQ2xCLENBQUMsRUFDSCxNQUFPLEdBR1gsTUFBTyxHQWlCVCxZQUF5QixFQUFRLEVBQU8sRUFBUSxDQU85QyxPQU5JLEdBQVEsR0FDUixFQUFjLEVBQU8sU0FDckIsRUFBYyxFQUFNLFNBQ3BCLEVBQVMsRUFBWSxPQUNyQixFQUFlLEVBQU8sT0FFbkIsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFTLEdBQWlCLEVBQVksR0FBUSxFQUFZLElBQzlELEdBQUksRUFBUSxDQUNWLEdBQUksR0FBUyxFQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVEsRUFBTyxHQUNuQixNQUFPLEdBQVUsSUFBUyxPQUFTLEdBQUssSUFVNUMsTUFBTyxHQUFPLE1BQVEsRUFBTSxNQWM5QixZQUFxQixFQUFNLEVBQVUsRUFBUyxFQUFXLENBVXZELE9BVEksR0FBWSxHQUNaLEVBQWEsRUFBSyxPQUNsQixFQUFnQixFQUFRLE9BQ3hCLEVBQVksR0FDWixFQUFhLEVBQVMsT0FDdEIsRUFBYyxHQUFVLEVBQWEsRUFBZSxHQUNwRCxFQUFTLEVBQU0sRUFBYSxHQUM1QixFQUFjLENBQUMsRUFFWixFQUFFLEVBQVksR0FDbkIsRUFBTyxHQUFhLEVBQVMsR0FFL0IsS0FBTyxFQUFFLEVBQVksR0FDbkIsQUFBSSxJQUFlLEVBQVksSUFDN0IsR0FBTyxFQUFRLElBQWMsRUFBSyxJQUd0QyxLQUFPLEtBQ0wsRUFBTyxLQUFlLEVBQUssS0FFN0IsTUFBTyxHQWNULFlBQTBCLEVBQU0sRUFBVSxFQUFTLEVBQVcsQ0FXNUQsT0FWSSxHQUFZLEdBQ1osRUFBYSxFQUFLLE9BQ2xCLEVBQWUsR0FDZixFQUFnQixFQUFRLE9BQ3hCLEVBQWEsR0FDYixFQUFjLEVBQVMsT0FDdkIsRUFBYyxHQUFVLEVBQWEsRUFBZSxHQUNwRCxFQUFTLEVBQU0sRUFBYyxHQUM3QixHQUFjLENBQUMsRUFFWixFQUFFLEVBQVksR0FDbkIsRUFBTyxHQUFhLEVBQUssR0FHM0IsT0FESSxJQUFTLEVBQ04sRUFBRSxFQUFhLEdBQ3BCLEVBQU8sR0FBUyxHQUFjLEVBQVMsR0FFekMsS0FBTyxFQUFFLEVBQWUsR0FDdEIsQUFBSSxLQUFlLEVBQVksSUFDN0IsR0FBTyxHQUFTLEVBQVEsSUFBaUIsRUFBSyxNQUdsRCxNQUFPLEdBV1QsWUFBbUIsRUFBUSxFQUFPLENBQ2hDLEdBQUksR0FBUSxHQUNSLEVBQVMsRUFBTyxPQUdwQixJQURBLEdBQVUsR0FBUSxFQUFNLElBQ2pCLEVBQUUsRUFBUSxHQUNmLEVBQU0sR0FBUyxFQUFPLEdBRXhCLE1BQU8sR0FhVCxZQUFvQixFQUFRLEVBQU8sRUFBUSxFQUFZLENBQ3JELEdBQUksR0FBUSxDQUFDLEVBQ2IsR0FBVyxHQUFTLElBS3BCLE9BSEksR0FBUSxHQUNSLEVBQVMsRUFBTSxPQUVaLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBTSxFQUFNLEdBRVosRUFBVyxFQUNYLEVBQVcsRUFBTyxHQUFNLEVBQU8sR0FBTSxFQUFLLEVBQVEsR0FDbERBLEVBRUosQUFBSSxJQUFhQSxHQUNmLEdBQVcsRUFBTyxJQUVwQixBQUFJLEVBQ0YsR0FBZ0IsRUFBUSxFQUFLLEdBRTdCLEdBQVksRUFBUSxFQUFLLEdBRzdCLE1BQU8sR0FXVCxZQUFxQixFQUFRLEVBQVEsQ0FDbkMsTUFBTyxJQUFXLEVBQVEsR0FBVyxHQUFTLEdBV2hELFlBQXVCLEVBQVEsRUFBUSxDQUNyQyxNQUFPLElBQVcsRUFBUSxHQUFhLEdBQVMsR0FXbEQsWUFBMEIsRUFBUSxFQUFhLENBQzdDLE1BQU8sVUFBUyxFQUFZLEVBQVUsQ0FDcEMsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFrQixHQUMvQyxFQUFjLEVBQWMsSUFBZ0IsR0FFaEQsTUFBTyxHQUFLLEVBQVksRUFBUSxHQUFZLEVBQVUsR0FBSSxJQVc5RCxZQUF3QixFQUFVLENBQ2hDLE1BQU8sSUFBUyxTQUFTLEVBQVEsRUFBUyxDQUN4QyxHQUFJLEdBQVEsR0FDUixFQUFTLEVBQVEsT0FDakIsRUFBYSxFQUFTLEVBQUksRUFBUSxFQUFTLEdBQUtBLEVBQ2hELEVBQVEsRUFBUyxFQUFJLEVBQVEsR0FBS0EsRUFXdEMsSUFUQSxFQUFjLEVBQVMsT0FBUyxHQUFLLE1BQU8sSUFBYyxXQUNyRCxLQUFVLEdBQ1hBLEVBRUEsR0FBUyxHQUFlLEVBQVEsR0FBSSxFQUFRLEdBQUksSUFDbEQsR0FBYSxFQUFTLEVBQUlBLEVBQVksRUFDdEMsRUFBUyxHQUVYLEVBQVMsR0FBTyxHQUNULEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUyxFQUFRLEdBQ3JCLEFBQUksR0FDRixFQUFTLEVBQVEsRUFBUSxFQUFPLEdBR3BDLE1BQU8sS0FZWCxZQUF3QixFQUFVLEVBQVcsQ0FDM0MsTUFBTyxVQUFTLEVBQVksRUFBVSxDQUNwQyxHQUFJLEdBQWMsS0FDaEIsTUFBTyxHQUVULEdBQUksQ0FBQyxHQUFZLEdBQ2YsTUFBTyxHQUFTLEVBQVksR0FNOUIsT0FKSSxHQUFTLEVBQVcsT0FDcEIsRUFBUSxFQUFZLEVBQVMsR0FDN0IsRUFBVyxHQUFPLEdBRWQsR0FBWSxJQUFVLEVBQUUsRUFBUSxJQUNsQyxFQUFTLEVBQVMsR0FBUSxFQUFPLEtBQWMsSUFBbkQsQ0FJRixNQUFPLElBV1gsWUFBdUIsRUFBVyxDQUNoQyxNQUFPLFVBQVMsRUFBUSxFQUFVLEVBQVUsQ0FNMUMsT0FMSSxHQUFRLEdBQ1IsRUFBVyxHQUFPLEdBQ2xCLEVBQVEsRUFBUyxHQUNqQixFQUFTLEVBQU0sT0FFWixLQUFVLENBQ2YsR0FBSSxHQUFNLEVBQU0sRUFBWSxFQUFTLEVBQUUsR0FDdkMsR0FBSSxFQUFTLEVBQVMsR0FBTSxFQUFLLEtBQWMsR0FDN0MsTUFHSixNQUFPLElBY1gsWUFBb0IsRUFBTSxFQUFTLEVBQVMsQ0FDMUMsR0FBSSxHQUFTLEVBQVUsRUFDbkIsRUFBTyxHQUFXLEdBRXRCLFlBQW1CLENBQ2pCLEdBQUksR0FBTSxNQUFRLE9BQVMsSUFBUSxlQUFnQixHQUFXLEVBQU8sRUFDckUsTUFBTyxHQUFHLE1BQU0sRUFBUyxFQUFVLEtBQU0sV0FFM0MsTUFBTyxHQVVULFlBQXlCLEVBQVksQ0FDbkMsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsRUFBUyxHQUFTLEdBRWxCLEdBQUksR0FBYSxHQUFXLEdBQ3hCLEdBQWMsR0FDZEEsRUFFQSxFQUFNLEVBQ04sRUFBVyxHQUNYLEVBQU8sT0FBTyxHQUVkLEVBQVcsRUFDWCxHQUFVLEVBQVksR0FBRyxLQUFLLElBQzlCLEVBQU8sTUFBTSxHQUVqQixNQUFPLEdBQUksS0FBZ0IsR0FXL0IsWUFBMEIsRUFBVSxDQUNsQyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFPLElBQVksR0FBTSxHQUFPLEdBQVEsUUFBUSxHQUFRLEtBQU0sRUFBVSxLQVk1RSxZQUFvQixFQUFNLENBQ3hCLE1BQU8sV0FBVyxDQUloQixHQUFJLEdBQU8sVUFDWCxPQUFRLEVBQUssWUFDTixHQUFHLE1BQU8sSUFBSSxPQUNkLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxRQUN4QixHQUFHLE1BQU8sSUFBSSxHQUFLLEVBQUssR0FBSSxFQUFLLFFBQ2pDLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQzFDLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxRQUNuRCxHQUFHLE1BQU8sSUFBSSxHQUFLLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQzVELEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLFFBQ3JFLEdBQUcsTUFBTyxJQUFJLEdBQUssRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLEdBQUksRUFBSyxJQUVyRixHQUFJLEdBQWMsR0FBVyxFQUFLLFdBQzlCLEVBQVMsRUFBSyxNQUFNLEVBQWEsR0FJckMsTUFBTyxJQUFTLEdBQVUsRUFBUyxHQWF2QyxZQUFxQixFQUFNLEVBQVMsRUFBTyxDQUN6QyxHQUFJLEdBQU8sR0FBVyxHQUV0QixZQUFtQixDQU1qQixPQUxJLEdBQVMsVUFBVSxPQUNuQixFQUFPLEVBQU0sR0FDYixFQUFRLEVBQ1IsRUFBYyxHQUFVLEdBRXJCLEtBQ0wsRUFBSyxHQUFTLFVBQVUsR0FFMUIsR0FBSSxHQUFXLEVBQVMsR0FBSyxFQUFLLEtBQU8sR0FBZSxFQUFLLEVBQVMsS0FBTyxFQUN6RSxHQUNBLEdBQWUsRUFBTSxHQUd6QixHQURBLEdBQVUsRUFBUSxPQUNkLEVBQVMsRUFDWCxNQUFPLElBQ0wsRUFBTSxFQUFTLEdBQWMsRUFBUSxZQUFhQSxFQUNsRCxFQUFNLEVBQVNBLEVBQVdBLEVBQVcsRUFBUSxHQUVqRCxHQUFJLEdBQU0sTUFBUSxPQUFTLElBQVEsZUFBZ0IsR0FBVyxFQUFPLEVBQ3JFLE1BQU8sSUFBTSxFQUFJLEtBQU0sR0FFekIsTUFBTyxHQVVULFlBQW9CLEVBQWUsQ0FDakMsTUFBTyxVQUFTLEVBQVksRUFBVyxFQUFXLENBQ2hELEdBQUksR0FBVyxHQUFPLEdBQ3RCLEdBQUksQ0FBQyxHQUFZLEdBQWEsQ0FDNUIsR0FBSSxHQUFXLEdBQVksRUFBVyxHQUN0QyxFQUFhLEdBQUssR0FDbEIsRUFBWSxTQUFTLEVBQUssQ0FBRSxNQUFPLEdBQVMsRUFBUyxHQUFNLEVBQUssSUFFbEUsR0FBSSxHQUFRLEVBQWMsRUFBWSxFQUFXLEdBQ2pELE1BQU8sR0FBUSxHQUFLLEVBQVMsRUFBVyxFQUFXLEdBQVMsR0FBU0EsR0FXekUsWUFBb0IsRUFBVyxDQUM3QixNQUFPLElBQVMsU0FBUyxFQUFPLENBQzlCLEdBQUksR0FBUyxFQUFNLE9BQ2YsRUFBUSxFQUNSLEVBQVMsR0FBYyxVQUFVLEtBS3JDLElBSEksR0FDRixFQUFNLFVBRUQsS0FBUyxDQUNkLEdBQUksR0FBTyxFQUFNLEdBQ2pCLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLEdBQUksR0FBVSxDQUFDLEdBQVcsR0FBWSxJQUFTLFVBQzdDLEdBQUksR0FBVSxHQUFJLElBQWMsR0FBSSxJQUl4QyxJQURBLEVBQVEsRUFBVSxFQUFRLEVBQ25CLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEVBQU8sRUFBTSxHQUViLEdBQUksR0FBVyxHQUFZLEdBQ3ZCLEVBQU8sR0FBWSxVQUFZLEdBQVEsR0FBUUEsRUFFbkQsQUFBSSxHQUFRLEdBQVcsRUFBSyxLQUN0QixFQUFLLElBQU8sR0FBZ0IsRUFBa0IsRUFBb0IsSUFDbEUsQ0FBQyxFQUFLLEdBQUcsUUFBVSxFQUFLLElBQU0sRUFFbEMsRUFBVSxFQUFRLEdBQVksRUFBSyxLQUFLLE1BQU0sRUFBUyxFQUFLLElBRTVELEVBQVcsRUFBSyxRQUFVLEdBQUssR0FBVyxHQUN0QyxFQUFRLEtBQ1IsRUFBUSxLQUFLLEdBR3JCLE1BQU8sV0FBVyxDQUNoQixHQUFJLEdBQU8sVUFDUCxFQUFRLEVBQUssR0FFakIsR0FBSSxHQUFXLEVBQUssUUFBVSxHQUFLLEdBQVEsR0FDekMsTUFBTyxHQUFRLE1BQU0sR0FBTyxRQUs5QixPQUhJLEdBQVEsRUFDUixHQUFTLEVBQVMsRUFBTSxHQUFPLE1BQU0sS0FBTSxHQUFRLEVBRWhELEVBQUUsRUFBUSxHQUNmLEdBQVMsRUFBTSxHQUFPLEtBQUssS0FBTSxJQUVuQyxNQUFPLE9Bd0JiLFlBQXNCLEVBQU0sRUFBUyxFQUFTLEVBQVUsRUFBUyxFQUFlLEVBQWMsRUFBUSxFQUFLLEVBQU8sQ0FDaEgsR0FBSSxHQUFRLEVBQVUsRUFDbEIsRUFBUyxFQUFVLEVBQ25CLEdBQVksRUFBVSxFQUN0QixHQUFZLEVBQVcsR0FBa0IsR0FDekMsR0FBUyxFQUFVLEdBQ25CLEdBQU8sR0FBWUEsRUFBWSxHQUFXLEdBRTlDLGFBQW1CLENBS2pCLE9BSkksSUFBUyxVQUFVLE9BQ25CLEdBQU8sRUFBTSxJQUNiLEdBQVEsR0FFTCxNQUNMLEdBQUssSUFBUyxVQUFVLElBRTFCLEdBQUksR0FDRixHQUFJLElBQWMsR0FBVSxJQUN4QixHQUFlLEdBQWEsR0FBTSxJQVN4QyxHQVBJLEdBQ0YsSUFBTyxHQUFZLEdBQU0sRUFBVSxFQUFTLEtBRTFDLEdBQ0YsSUFBTyxHQUFpQixHQUFNLEVBQWUsRUFBYyxLQUU3RCxJQUFVLEdBQ04sSUFBYSxHQUFTLEVBQU8sQ0FDL0IsR0FBSSxJQUFhLEdBQWUsR0FBTSxJQUN0QyxNQUFPLElBQ0wsRUFBTSxFQUFTLEdBQWMsR0FBUSxZQUFhLEVBQ2xELEdBQU0sR0FBWSxFQUFRLEVBQUssRUFBUSxJQUczQyxHQUFJLElBQWMsRUFBUyxFQUFVLEtBQ2pDLEdBQUssR0FBWSxHQUFZLEdBQVEsRUFFekMsVUFBUyxHQUFLLE9BQ2QsQUFBSSxFQUNGLEdBQU8sR0FBUSxHQUFNLEdBQ1osSUFBVSxHQUFTLEdBQzVCLEdBQUssVUFFSCxHQUFTLEVBQU0sSUFDakIsSUFBSyxPQUFTLEdBRVosTUFBUSxPQUFTLElBQVEsZUFBZ0IsS0FDM0MsSUFBSyxJQUFRLEdBQVcsS0FFbkIsR0FBRyxNQUFNLEdBQWEsSUFFL0IsTUFBTyxJQVdULFlBQXdCLEVBQVEsRUFBWSxDQUMxQyxNQUFPLFVBQVMsRUFBUSxFQUFVLENBQ2hDLE1BQU8sSUFBYSxFQUFRLEVBQVEsRUFBVyxHQUFXLEtBWTlELFlBQTZCLEVBQVUsRUFBYyxDQUNuRCxNQUFPLFVBQVMsRUFBTyxFQUFPLENBQzVCLEdBQUksR0FDSixHQUFJLElBQVVBLEdBQWEsSUFBVUEsRUFDbkMsTUFBTyxHQUtULEdBSEksSUFBVUEsR0FDWixHQUFTLEdBRVAsSUFBVUEsRUFBVyxDQUN2QixHQUFJLElBQVdBLEVBQ2IsTUFBTyxHQUVULEFBQUksTUFBTyxJQUFTLFVBQVksTUFBTyxJQUFTLFNBQzlDLEdBQVEsR0FBYSxHQUNyQixFQUFRLEdBQWEsSUFFckIsR0FBUSxHQUFhLEdBQ3JCLEVBQVEsR0FBYSxJQUV2QixFQUFTLEVBQVMsRUFBTyxHQUUzQixNQUFPLElBV1gsWUFBb0IsRUFBVyxDQUM3QixNQUFPLElBQVMsU0FBUyxFQUFXLENBQ2xDLFNBQVksR0FBUyxFQUFXLEdBQVUsT0FDbkMsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsR0FBSSxHQUFVLEtBQ2QsTUFBTyxHQUFVLEVBQVcsU0FBUyxFQUFVLENBQzdDLE1BQU8sSUFBTSxFQUFVLEVBQVMsU0FleEMsWUFBdUIsRUFBUSxFQUFPLENBQ3BDLEVBQVEsSUFBVUEsRUFBWSxJQUFNLEdBQWEsR0FFakQsR0FBSSxHQUFjLEVBQU0sT0FDeEIsR0FBSSxFQUFjLEVBQ2hCLE1BQU8sR0FBYyxHQUFXLEVBQU8sR0FBVSxFQUVuRCxHQUFJLEdBQVMsR0FBVyxFQUFPLEdBQVcsRUFBUyxHQUFXLEtBQzlELE1BQU8sSUFBVyxHQUNkLEdBQVUsR0FBYyxHQUFTLEVBQUcsR0FBUSxLQUFLLElBQ2pELEVBQU8sTUFBTSxFQUFHLEdBZXRCLFlBQXVCLEVBQU0sRUFBUyxFQUFTLEVBQVUsQ0FDdkQsR0FBSSxHQUFTLEVBQVUsRUFDbkIsRUFBTyxHQUFXLEdBRXRCLFlBQW1CLENBUWpCLE9BUEksR0FBWSxHQUNaLEVBQWEsVUFBVSxPQUN2QixFQUFZLEdBQ1osRUFBYSxFQUFTLE9BQ3RCLEVBQU8sRUFBTSxFQUFhLEdBQzFCLEdBQU0sTUFBUSxPQUFTLElBQVEsZUFBZ0IsR0FBVyxFQUFPLEVBRTlELEVBQUUsRUFBWSxHQUNuQixFQUFLLEdBQWEsRUFBUyxHQUU3QixLQUFPLEtBQ0wsRUFBSyxLQUFlLFVBQVUsRUFBRSxHQUVsQyxNQUFPLElBQU0sR0FBSSxFQUFTLEVBQVUsS0FBTSxHQUU1QyxNQUFPLEdBVVQsWUFBcUIsRUFBVyxDQUM5QixNQUFPLFVBQVMsRUFBTyxFQUFLLEVBQU0sQ0FDaEMsTUFBSSxJQUFRLE1BQU8sSUFBUSxVQUFZLEdBQWUsRUFBTyxFQUFLLElBQ2hFLEdBQU0sRUFBT0EsR0FHZixFQUFRLEdBQVMsR0FDakIsQUFBSSxJQUFRQSxFQUNWLEdBQU0sRUFDTixFQUFRLEdBRVIsRUFBTSxHQUFTLEdBRWpCLEVBQU8sSUFBU0EsRUFBYSxFQUFRLEVBQU0sRUFBSSxHQUFNLEdBQVMsR0FDdkQsR0FBVSxFQUFPLEVBQUssRUFBTSxJQVd2QyxZQUFtQyxFQUFVLENBQzNDLE1BQU8sVUFBUyxFQUFPLEVBQU8sQ0FDNUIsTUFBTSxPQUFPLElBQVMsVUFBWSxNQUFPLElBQVMsVUFDaEQsR0FBUSxHQUFTLEdBQ2pCLEVBQVEsR0FBUyxJQUVaLEVBQVMsRUFBTyxJQXFCM0IsWUFBdUIsRUFBTSxFQUFTLEVBQVUsRUFBYSxFQUFTLEVBQVUsRUFBUyxFQUFRLEVBQUssRUFBTyxDQUMzRyxHQUFJLEdBQVUsRUFBVSxFQUNwQixFQUFhLEVBQVUsRUFBVUEsRUFDakMsR0FBa0IsRUFBVUEsRUFBWSxFQUN4QyxHQUFjLEVBQVUsRUFBV0EsRUFDbkMsR0FBbUIsRUFBVUEsRUFBWSxFQUU3QyxHQUFZLEVBQVUsRUFBb0IsR0FDMUMsR0FBVyxDQUFFLEdBQVUsR0FBMEIsR0FFM0MsRUFBVSxHQUNkLElBQVcsQ0FBRSxHQUFpQixJQUVoQyxHQUFJLElBQVUsQ0FDWixFQUFNLEVBQVMsRUFBUyxHQUFhLEVBQVksR0FDakQsR0FBaUIsRUFBUSxFQUFLLEdBRzVCLEdBQVMsRUFBUyxNQUFNQSxFQUFXLElBQ3ZDLE1BQUksSUFBVyxJQUNiLEdBQVEsR0FBUSxJQUVsQixHQUFPLFlBQWMsRUFDZCxHQUFnQixHQUFRLEVBQU0sR0FVdkMsWUFBcUIsRUFBWSxDQUMvQixHQUFJLEdBQU8sR0FBSyxHQUNoQixNQUFPLFVBQVMsRUFBUSxFQUFXLENBR2pDLEdBRkEsRUFBUyxHQUFTLEdBQ2xCLEVBQVksR0FBYSxLQUFPLEVBQUksR0FBVSxHQUFVLEdBQVksS0FDaEUsR0FBYSxHQUFlLEdBQVMsQ0FHdkMsR0FBSSxHQUFRLElBQVMsR0FBVSxLQUFLLE1BQU0sS0FDdEMsRUFBUSxFQUFLLEVBQUssR0FBSyxJQUFPLEVBQUMsRUFBSyxHQUFLLElBRTdDLFNBQVEsSUFBUyxHQUFTLEtBQUssTUFBTSxLQUM5QixDQUFFLEdBQUssR0FBSyxJQUFPLEVBQUMsRUFBSyxHQUFLLElBRXZDLE1BQU8sR0FBSyxJQVdoQixHQUFJLElBQVksQUFBRSxJQUFRLEVBQUksR0FBVyxHQUFJLElBQUksRUFBRSxNQUFNLElBQU8sRUFBbUIsU0FBUyxFQUFRLENBQ2xHLE1BQU8sSUFBSSxJQUFJLElBRDJELEdBVzVFLFlBQXVCLEVBQVUsQ0FDL0IsTUFBTyxVQUFTLEVBQVEsQ0FDdEIsR0FBSSxHQUFNLEdBQU8sR0FDakIsTUFBSSxJQUFPLEdBQ0YsR0FBVyxHQUVoQixHQUFPLEdBQ0YsR0FBVyxHQUViLEdBQVksRUFBUSxFQUFTLEtBNkJ4QyxZQUFvQixFQUFNLEVBQVMsRUFBUyxFQUFVLEVBQVMsRUFBUSxFQUFLLEVBQU8sQ0FDakYsR0FBSSxHQUFZLEVBQVUsRUFDMUIsR0FBSSxDQUFDLEdBQWEsTUFBTyxJQUFRLFdBQy9CLEtBQU0sSUFBSSxJQUFVLEdBRXRCLEdBQUksR0FBUyxFQUFXLEVBQVMsT0FBUyxFQVMxQyxHQVJLLEdBQ0gsSUFBVyxDQUFFLEdBQW9CLElBQ2pDLEVBQVcsRUFBVUEsR0FFdkIsRUFBTSxJQUFRQSxFQUFZLEVBQU0sR0FBVSxHQUFVLEdBQU0sR0FDMUQsRUFBUSxJQUFVQSxFQUFZLEVBQVEsR0FBVSxHQUNoRCxHQUFVLEVBQVUsRUFBUSxPQUFTLEVBRWpDLEVBQVUsR0FBeUIsQ0FDckMsR0FBSSxHQUFnQixFQUNoQixFQUFlLEVBRW5CLEVBQVcsRUFBVUEsRUFFdkIsR0FBSSxJQUFPLEVBQVlBLEVBQVksR0FBUSxHQUV2QyxHQUFVLENBQ1osRUFBTSxFQUFTLEVBQVMsRUFBVSxFQUFTLEVBQWUsRUFDMUQsRUFBUSxFQUFLLEdBa0JmLEdBZkksSUFDRixHQUFVLEdBQVMsSUFFckIsRUFBTyxHQUFRLEdBQ2YsRUFBVSxHQUFRLEdBQ2xCLEVBQVUsR0FBUSxHQUNsQixFQUFXLEdBQVEsR0FDbkIsRUFBVSxHQUFRLEdBQ2xCLEVBQVEsR0FBUSxHQUFLLEdBQVEsS0FBT0EsRUFDL0IsRUFBWSxFQUFJLEVBQUssT0FDdEIsR0FBVSxHQUFRLEdBQUssRUFBUSxHQUUvQixDQUFDLEdBQVMsRUFBVyxHQUFrQixJQUN6QyxJQUFXLENBQUUsR0FBa0IsSUFFN0IsQ0FBQyxHQUFXLEdBQVcsRUFDekIsR0FBSSxJQUFTLEdBQVcsRUFBTSxFQUFTLE9BQ2xDLEFBQUksSUFBVyxHQUFtQixHQUFXLEVBQ2xELEdBQVMsR0FBWSxFQUFNLEVBQVMsR0FDL0IsQUFBSyxJQUFXLEdBQXFCLEdBQVksR0FBaUIsS0FBdUIsQ0FBQyxFQUFRLE9BQ3ZHLEdBQVMsR0FBYyxFQUFNLEVBQVMsRUFBUyxHQUUvQyxHQUFTLEdBQWEsTUFBTUEsRUFBVyxJQUV6QyxHQUFJLElBQVMsR0FBTyxHQUFjLEdBQ2xDLE1BQU8sSUFBZ0IsR0FBTyxHQUFRLElBQVUsRUFBTSxHQWV4RCxZQUFnQyxFQUFVLEVBQVUsRUFBSyxFQUFRLENBQy9ELE1BQUksS0FBYUEsR0FDWixHQUFHLEVBQVUsR0FBWSxLQUFTLENBQUMsR0FBZSxLQUFLLEVBQVEsR0FDM0QsRUFFRixFQWlCVCxZQUE2QixFQUFVLEVBQVUsRUFBSyxFQUFRLEVBQVEsRUFBTyxDQUMzRSxNQUFJLElBQVMsSUFBYSxHQUFTLElBRWpDLEdBQU0sSUFBSSxFQUFVLEdBQ3BCLEdBQVUsRUFBVSxFQUFVQSxFQUFXLEdBQXFCLEdBQzlELEVBQU0sT0FBVSxJQUVYLEVBWVQsWUFBeUIsRUFBTyxDQUM5QixNQUFPLElBQWMsR0FBU0EsRUFBWSxFQWdCNUMsWUFBcUIsRUFBTyxFQUFPLEVBQVMsRUFBWSxFQUFXLEVBQU8sQ0FDeEUsR0FBSSxHQUFZLEVBQVUsRUFDdEIsRUFBWSxFQUFNLE9BQ2xCLEVBQVksRUFBTSxPQUV0QixHQUFJLEdBQWEsR0FBYSxDQUFFLElBQWEsRUFBWSxHQUN2RCxNQUFPLEdBR1QsR0FBSSxHQUFhLEVBQU0sSUFBSSxHQUN2QixFQUFhLEVBQU0sSUFBSSxHQUMzQixHQUFJLEdBQWMsRUFDaEIsTUFBTyxJQUFjLEdBQVMsR0FBYyxFQUU5QyxHQUFJLEdBQVEsR0FDUixHQUFTLEdBQ1QsR0FBUSxFQUFVLEVBQTBCLEdBQUksSUFBV0EsRUFNL0QsSUFKQSxFQUFNLElBQUksRUFBTyxHQUNqQixFQUFNLElBQUksRUFBTyxHQUdWLEVBQUUsRUFBUSxHQUFXLENBQzFCLEdBQUksSUFBVyxFQUFNLEdBQ2pCLEdBQVcsRUFBTSxHQUVyQixHQUFJLEVBQ0YsR0FBSSxJQUFXLEVBQ1gsRUFBVyxHQUFVLEdBQVUsRUFBTyxFQUFPLEVBQU8sR0FDcEQsRUFBVyxHQUFVLEdBQVUsRUFBTyxFQUFPLEVBQU8sR0FFMUQsR0FBSSxLQUFhQSxFQUFXLENBQzFCLEdBQUksR0FDRixTQUVGLEdBQVMsR0FDVCxNQUdGLEdBQUksSUFDRixHQUFJLENBQUMsR0FBVSxFQUFPLFNBQVMsR0FBVSxHQUFVLENBQzdDLEdBQUksQ0FBQyxHQUFTLEdBQU0sS0FDZixNQUFhLElBQVksRUFBVSxHQUFVLEdBQVUsRUFBUyxFQUFZLElBQy9FLE1BQU8sSUFBSyxLQUFLLE1BRWpCLENBQ04sR0FBUyxHQUNULGVBRU8sQ0FDTCxNQUFhLElBQ1gsRUFBVSxHQUFVLEdBQVUsRUFBUyxFQUFZLElBQ3BELENBQ0wsR0FBUyxHQUNULE9BR0osU0FBTSxPQUFVLEdBQ2hCLEVBQU0sT0FBVSxHQUNULEdBb0JULFlBQW9CLEVBQVEsRUFBTyxFQUFLLEVBQVMsRUFBWSxFQUFXLEVBQU8sQ0FDN0UsT0FBUSxPQUNELElBQ0gsR0FBSyxFQUFPLFlBQWMsRUFBTSxZQUMzQixFQUFPLFlBQWMsRUFBTSxXQUM5QixNQUFPLEdBRVQsRUFBUyxFQUFPLE9BQ2hCLEVBQVEsRUFBTSxXQUVYLElBQ0gsTUFBSyxJQUFPLFlBQWMsRUFBTSxZQUM1QixDQUFDLEVBQVUsR0FBSSxJQUFXLEdBQVMsR0FBSSxJQUFXLFNBS25ELE9BQ0EsUUFDQSxJQUdILE1BQU8sSUFBRyxDQUFDLEVBQVEsQ0FBQyxPQUVqQixJQUNILE1BQU8sR0FBTyxNQUFRLEVBQU0sTUFBUSxFQUFPLFNBQVcsRUFBTSxZQUV6RCxRQUNBLElBSUgsTUFBTyxJQUFXLEVBQVEsT0FFdkIsSUFDSCxHQUFJLEdBQVUsT0FFWCxJQUNILEdBQUksR0FBWSxFQUFVLEVBRzFCLEdBRkEsR0FBWSxHQUFVLElBRWxCLEVBQU8sTUFBUSxFQUFNLE1BQVEsQ0FBQyxFQUNoQyxNQUFPLEdBR1QsR0FBSSxHQUFVLEVBQU0sSUFBSSxHQUN4QixHQUFJLEVBQ0YsTUFBTyxJQUFXLEVBRXBCLEdBQVcsRUFHWCxFQUFNLElBQUksRUFBUSxHQUNsQixHQUFJLEdBQVMsR0FBWSxFQUFRLEdBQVMsRUFBUSxHQUFRLEVBQVMsRUFBWSxFQUFXLEdBQzFGLFNBQU0sT0FBVSxHQUNULE1BRUosSUFDSCxHQUFJLEdBQ0YsTUFBTyxJQUFjLEtBQUssSUFBVyxHQUFjLEtBQUssR0FHOUQsTUFBTyxHQWdCVCxZQUFzQixFQUFRLEVBQU8sRUFBUyxFQUFZLEVBQVcsRUFBTyxDQUMxRSxHQUFJLEdBQVksRUFBVSxFQUN0QixFQUFXLEdBQVcsR0FDdEIsRUFBWSxFQUFTLE9BQ3JCLEVBQVcsR0FBVyxHQUN0QixFQUFZLEVBQVMsT0FFekIsR0FBSSxHQUFhLEdBQWEsQ0FBQyxFQUM3QixNQUFPLEdBR1QsT0FESSxHQUFRLEVBQ0wsS0FBUyxDQUNkLEdBQUksSUFBTSxFQUFTLEdBQ25CLEdBQUksQ0FBRSxHQUFZLEtBQU8sR0FBUSxHQUFlLEtBQUssRUFBTyxLQUMxRCxNQUFPLEdBSVgsR0FBSSxJQUFhLEVBQU0sSUFBSSxHQUN2QixHQUFhLEVBQU0sSUFBSSxHQUMzQixHQUFJLElBQWMsR0FDaEIsTUFBTyxLQUFjLEdBQVMsSUFBYyxFQUU5QyxHQUFJLElBQVMsR0FDYixFQUFNLElBQUksRUFBUSxHQUNsQixFQUFNLElBQUksRUFBTyxHQUdqQixPQURJLElBQVcsRUFDUixFQUFFLEVBQVEsR0FBVyxDQUMxQixHQUFNLEVBQVMsR0FDZixHQUFJLElBQVcsRUFBTyxJQUNsQixHQUFXLEVBQU0sSUFFckIsR0FBSSxFQUNGLEdBQUksSUFBVyxFQUNYLEVBQVcsR0FBVSxHQUFVLEdBQUssRUFBTyxFQUFRLEdBQ25ELEVBQVcsR0FBVSxHQUFVLEdBQUssRUFBUSxFQUFPLEdBR3pELEdBQUksQ0FBRSxNQUFhQSxFQUNWLEtBQWEsSUFBWSxFQUFVLEdBQVUsR0FBVSxFQUFTLEVBQVksR0FDN0UsSUFDRCxDQUNMLEdBQVMsR0FDVCxNQUVGLElBQWEsSUFBVyxJQUFPLGVBRWpDLEdBQUksSUFBVSxDQUFDLEdBQVUsQ0FDdkIsR0FBSSxJQUFVLEVBQU8sWUFDakIsR0FBVSxFQUFNLFlBR3BCLEFBQUksSUFBVyxJQUNWLGVBQWlCLElBQVUsZUFBaUIsSUFDN0MsQ0FBRSxPQUFPLEtBQVcsWUFBYyxhQUFtQixLQUNuRCxNQUFPLEtBQVcsWUFBYyxhQUFtQixNQUN2RCxJQUFTLElBR2IsU0FBTSxPQUFVLEdBQ2hCLEVBQU0sT0FBVSxHQUNULEdBVVQsWUFBa0IsRUFBTSxDQUN0QixNQUFPLElBQVksR0FBUyxFQUFNQSxFQUFXLElBQVUsRUFBTyxJQVVoRSxZQUFvQixFQUFRLENBQzFCLE1BQU8sSUFBZSxFQUFRLEdBQU0sSUFXdEMsWUFBc0IsRUFBUSxDQUM1QixNQUFPLElBQWUsRUFBUSxHQUFRLElBVXhDLEdBQUksSUFBVSxBQUFDLEdBQWlCLFNBQVMsRUFBTSxDQUM3QyxNQUFPLElBQVEsSUFBSSxJQURJLEdBV3pCLFlBQXFCLEVBQU0sQ0FLekIsT0FKSSxHQUFVLEVBQUssS0FBTyxHQUN0QixFQUFRLEdBQVUsR0FDbEIsRUFBUyxHQUFlLEtBQUssR0FBVyxHQUFVLEVBQU0sT0FBUyxFQUU5RCxLQUFVLENBQ2YsR0FBSSxHQUFPLEVBQU0sR0FDYixFQUFZLEVBQUssS0FDckIsR0FBSSxHQUFhLE1BQVEsR0FBYSxFQUNwQyxNQUFPLEdBQUssS0FHaEIsTUFBTyxHQVVULFlBQW1CLEVBQU0sQ0FDdkIsR0FBSSxHQUFTLEdBQWUsS0FBSyxFQUFRLGVBQWlCLEVBQVMsRUFDbkUsTUFBTyxHQUFPLFlBY2hCLGFBQXVCLENBQ3JCLEdBQUksR0FBUyxFQUFPLFVBQVksR0FDaEMsU0FBUyxJQUFXLEdBQVcsR0FBZSxFQUN2QyxVQUFVLE9BQVMsRUFBTyxVQUFVLEdBQUksVUFBVSxJQUFNLEVBV2pFLFlBQW9CLEVBQUssRUFBSyxDQUM1QixHQUFJLEdBQU8sRUFBSSxTQUNmLE1BQU8sSUFBVSxHQUNiLEVBQUssTUFBTyxJQUFPLFNBQVcsU0FBVyxRQUN6QyxFQUFLLElBVVgsWUFBc0IsRUFBUSxDQUk1QixPQUhJLEdBQVMsR0FBSyxHQUNkLEVBQVMsRUFBTyxPQUViLEtBQVUsQ0FDZixHQUFJLEdBQU0sRUFBTyxHQUNiLEVBQVEsRUFBTyxHQUVuQixFQUFPLEdBQVUsQ0FBQyxFQUFLLEVBQU8sR0FBbUIsSUFFbkQsTUFBTyxHQVdULFlBQW1CLEVBQVEsRUFBSyxDQUM5QixHQUFJLEdBQVEsR0FBUyxFQUFRLEdBQzdCLE1BQU8sSUFBYSxHQUFTLEVBQVFBLEVBVXZDLFlBQW1CLEVBQU8sQ0FDeEIsR0FBSSxHQUFRLEdBQWUsS0FBSyxFQUFPLElBQ25DLEVBQU0sRUFBTSxJQUVoQixHQUFJLENBQ0YsRUFBTSxJQUFrQkEsRUFDeEIsR0FBSSxHQUFXLFNBQ1IsRUFBUCxFQUVGLEdBQUksR0FBUyxHQUFxQixLQUFLLEdBQ3ZDLE1BQUksSUFDRixDQUFJLEVBQ0YsRUFBTSxJQUFrQixFQUV4QixNQUFPLEdBQU0sS0FHVixFQVVULEdBQUksSUFBYSxBQUFDLEdBQStCLFNBQVMsRUFBUSxDQUNoRSxNQUFJLElBQVUsS0FDTCxHQUVULEdBQVMsR0FBTyxHQUNULEdBQVksR0FBaUIsR0FBUyxTQUFTLEVBQVEsQ0FDNUQsTUFBTyxJQUFxQixLQUFLLEVBQVEsT0FOUixHQWlCakMsR0FBZSxBQUFDLEdBQStCLFNBQVMsRUFBUSxDQUVsRSxPQURJLEdBQVMsR0FDTixHQUNMLEdBQVUsRUFBUSxHQUFXLElBQzdCLEVBQVMsR0FBYSxHQUV4QixNQUFPLElBTjhCLEdBZ0JuQyxHQUFTLEdBR2IsQUFBSyxLQUFZLEdBQU8sR0FBSSxJQUFTLEdBQUksYUFBWSxNQUFRLElBQ3hELElBQU8sR0FBTyxHQUFJLE1BQVEsSUFDMUIsSUFBVyxHQUFPLEdBQVEsWUFBYyxJQUN4QyxJQUFPLEdBQU8sR0FBSSxNQUFRLElBQzFCLElBQVcsR0FBTyxHQUFJLE1BQVksS0FDckMsSUFBUyxTQUFTLEVBQU8sQ0FDdkIsR0FBSSxHQUFTLEdBQVcsR0FDcEIsRUFBTyxHQUFVLEdBQVksRUFBTSxZQUFjQSxFQUNqRCxFQUFhLEVBQU8sR0FBUyxHQUFRLEdBRXpDLEdBQUksRUFDRixPQUFRLE9BQ0QsSUFBb0IsTUFBTyxRQUMzQixJQUFlLE1BQU8sUUFDdEIsSUFBbUIsTUFBTyxRQUMxQixJQUFlLE1BQU8sUUFDdEIsSUFBbUIsTUFBTyxJQUduQyxNQUFPLEtBY1gsWUFBaUIsRUFBTyxFQUFLLEVBQVksQ0FJdkMsT0FISSxHQUFRLEdBQ1IsRUFBUyxFQUFXLE9BRWpCLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBTyxFQUFXLEdBQ2xCLEVBQU8sRUFBSyxLQUVoQixPQUFRLEVBQUssVUFDTixPQUFhLEdBQVMsRUFBTSxVQUM1QixZQUFhLEdBQU8sRUFBTSxVQUMxQixPQUFhLEVBQU0sR0FBVSxFQUFLLEVBQVEsR0FBTyxVQUNqRCxZQUFhLEVBQVEsR0FBVSxFQUFPLEVBQU0sR0FBTyxPQUc1RCxNQUFPLENBQUUsTUFBUyxFQUFPLElBQU8sR0FVbEMsWUFBd0IsRUFBUSxDQUM5QixHQUFJLEdBQVEsRUFBTyxNQUFNLElBQ3pCLE1BQU8sR0FBUSxFQUFNLEdBQUcsTUFBTSxJQUFrQixHQVlsRCxZQUFpQixFQUFRLEVBQU0sRUFBUyxDQUN0QyxFQUFPLEdBQVMsRUFBTSxHQU10QixPQUpJLEdBQVEsR0FDUixFQUFTLEVBQUssT0FDZCxFQUFTLEdBRU4sRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFNLEdBQU0sRUFBSyxJQUNyQixHQUFJLENBQUUsR0FBUyxHQUFVLE1BQVEsRUFBUSxFQUFRLElBQy9DLE1BRUYsRUFBUyxFQUFPLEdBRWxCLE1BQUksSUFBVSxFQUFFLEdBQVMsRUFDaEIsRUFFVCxHQUFTLEdBQVUsS0FBTyxFQUFJLEVBQU8sT0FDOUIsQ0FBQyxDQUFDLEdBQVUsR0FBUyxJQUFXLEdBQVEsRUFBSyxJQUNqRCxJQUFRLElBQVcsR0FBWSxLQVVwQyxZQUF3QixFQUFPLENBQzdCLEdBQUksR0FBUyxFQUFNLE9BQ2YsRUFBUyxHQUFJLEdBQU0sWUFBWSxHQUduQyxNQUFJLElBQVUsTUFBTyxHQUFNLElBQU0sVUFBWSxHQUFlLEtBQUssRUFBTyxVQUN0RSxHQUFPLE1BQVEsRUFBTSxNQUNyQixFQUFPLE1BQVEsRUFBTSxPQUVoQixFQVVULFlBQXlCLEVBQVEsQ0FDL0IsTUFBUSxPQUFPLEdBQU8sYUFBZSxZQUFjLENBQUMsR0FBWSxHQUM1RCxHQUFXLEdBQWEsSUFDeEIsR0FlTixZQUF3QixFQUFRLEVBQUssRUFBUSxDQUMzQyxHQUFJLEdBQU8sRUFBTyxZQUNsQixPQUFRLE9BQ0QsSUFDSCxNQUFPLElBQWlCLE9BRXJCLE9BQ0EsSUFDSCxNQUFPLElBQUksR0FBSyxDQUFDLE9BRWQsSUFDSCxNQUFPLElBQWMsRUFBUSxPQUUxQixRQUFpQixRQUNqQixRQUFjLFFBQWUsUUFDN0IsUUFBZSxRQUFzQixRQUFnQixJQUN4RCxNQUFPLElBQWdCLEVBQVEsT0FFNUIsSUFDSCxNQUFPLElBQUksT0FFUixRQUNBLElBQ0gsTUFBTyxJQUFJLEdBQUssT0FFYixJQUNILE1BQU8sSUFBWSxPQUVoQixJQUNILE1BQU8sSUFBSSxPQUVSLElBQ0gsTUFBTyxJQUFZLElBWXpCLFlBQTJCLEVBQVEsRUFBUyxDQUMxQyxHQUFJLEdBQVMsRUFBUSxPQUNyQixHQUFJLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSSxHQUFZLEVBQVMsRUFDekIsU0FBUSxHQUFjLEdBQVMsRUFBSSxLQUFPLElBQU0sRUFBUSxHQUN4RCxFQUFVLEVBQVEsS0FBSyxFQUFTLEVBQUksS0FBTyxLQUNwQyxFQUFPLFFBQVEsR0FBZTtBQUFBLG1CQUF5QixFQUFVO0FBQUEsR0FVMUUsWUFBdUIsRUFBTyxDQUM1QixNQUFPLElBQVEsSUFBVSxHQUFZLElBQ25DLENBQUMsQ0FBRSxLQUFvQixHQUFTLEVBQU0sS0FXMUMsWUFBaUIsRUFBTyxFQUFRLENBQzlCLEdBQUksR0FBTyxNQUFPLEdBQ2xCLFNBQVMsR0FBaUIsRUFFbkIsQ0FBQyxDQUFDLEdBQ04sSUFBUSxVQUNOLEdBQVEsVUFBWSxHQUFTLEtBQUssS0FDaEMsRUFBUSxJQUFNLEVBQVEsR0FBSyxHQUFLLEVBQVEsRUFhakQsWUFBd0IsRUFBTyxFQUFPLEVBQVEsQ0FDNUMsR0FBSSxDQUFDLEdBQVMsR0FDWixNQUFPLEdBRVQsR0FBSSxHQUFPLE1BQU8sR0FDbEIsTUFBSSxJQUFRLFNBQ0gsR0FBWSxJQUFXLEdBQVEsRUFBTyxFQUFPLFFBQzdDLEdBQVEsVUFBWSxJQUFTLElBRTdCLEdBQUcsRUFBTyxHQUFRLEdBRXBCLEdBV1QsWUFBZSxFQUFPLEVBQVEsQ0FDNUIsR0FBSSxHQUFRLEdBQ1YsTUFBTyxHQUVULEdBQUksR0FBTyxNQUFPLEdBQ2xCLE1BQUksSUFBUSxVQUFZLEdBQVEsVUFBWSxHQUFRLFdBQ2hELEdBQVMsTUFBUSxHQUFTLEdBQ3JCLEdBRUYsR0FBYyxLQUFLLElBQVUsQ0FBQyxHQUFhLEtBQUssSUFDcEQsR0FBVSxNQUFRLElBQVMsSUFBTyxHQVV2QyxZQUFtQixFQUFPLENBQ3hCLEdBQUksR0FBTyxNQUFPLEdBQ2xCLE1BQVEsSUFBUSxVQUFZLEdBQVEsVUFBWSxHQUFRLFVBQVksR0FBUSxVQUN2RSxJQUFVLFlBQ1YsSUFBVSxLQVdqQixZQUFvQixFQUFNLENBQ3hCLEdBQUksR0FBVyxHQUFZLEdBQ3ZCLEVBQVEsRUFBTyxHQUVuQixHQUFJLE1BQU8sSUFBUyxZQUFjLENBQUUsS0FBWSxJQUFZLFdBQzFELE1BQU8sR0FFVCxHQUFJLElBQVMsRUFDWCxNQUFPLEdBRVQsR0FBSSxHQUFPLEdBQVEsR0FDbkIsTUFBTyxDQUFDLENBQUMsR0FBUSxJQUFTLEVBQUssR0FVakMsWUFBa0IsRUFBTSxDQUN0QixNQUFPLENBQUMsQ0FBQyxJQUFlLEtBQWMsR0FVeEMsR0FBSSxJQUFhLEdBQWEsR0FBYSxHQVMzQyxZQUFxQixFQUFPLENBQzFCLEdBQUksR0FBTyxHQUFTLEVBQU0sWUFDdEIsRUFBUyxNQUFPLElBQVEsWUFBYyxFQUFLLFdBQWMsR0FFN0QsTUFBTyxLQUFVLEVBV25CLFlBQTRCLEVBQU8sQ0FDakMsTUFBTyxLQUFVLEdBQVMsQ0FBQyxHQUFTLEdBWXRDLFlBQWlDLEVBQUssRUFBVSxDQUM5QyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFJLElBQVUsS0FDTCxHQUVGLEVBQU8sS0FBUyxHQUNwQixLQUFhQSxHQUFjLElBQU8sSUFBTyxLQVloRCxZQUF1QixFQUFNLENBQzNCLEdBQUksR0FBUyxHQUFRLEVBQU0sU0FBUyxFQUFLLENBQ3ZDLE1BQUksR0FBTSxPQUFTLEdBQ2pCLEVBQU0sUUFFRCxJQUdMLEVBQVEsRUFBTyxNQUNuQixNQUFPLEdBbUJULFlBQW1CLEVBQU0sRUFBUSxDQUMvQixHQUFJLEdBQVUsRUFBSyxHQUNmLEVBQWEsRUFBTyxHQUNwQixFQUFhLEVBQVUsRUFDdkIsRUFBVyxFQUFjLEdBQWlCLEVBQXFCLEdBRS9ELEVBQ0EsR0FBYyxHQUFtQixHQUFXLEdBQzVDLEdBQWMsR0FBbUIsR0FBVyxHQUFxQixFQUFLLEdBQUcsUUFBVSxFQUFPLElBQzFGLEdBQWUsR0FBZ0IsSUFBc0IsRUFBTyxHQUFHLFFBQVUsRUFBTyxJQUFRLEdBQVcsRUFHdkcsR0FBSSxDQUFFLElBQVksR0FDaEIsTUFBTyxHQUdULEFBQUksRUFBYSxHQUNmLEdBQUssR0FBSyxFQUFPLEdBRWpCLEdBQWMsRUFBVSxFQUFpQixFQUFJLEdBRy9DLEdBQUksR0FBUSxFQUFPLEdBQ25CLEdBQUksRUFBTyxDQUNULEdBQUksR0FBVyxFQUFLLEdBQ3BCLEVBQUssR0FBSyxFQUFXLEdBQVksRUFBVSxFQUFPLEVBQU8sSUFBTSxFQUMvRCxFQUFLLEdBQUssRUFBVyxHQUFlLEVBQUssR0FBSSxHQUFlLEVBQU8sR0FHckUsU0FBUSxFQUFPLEdBQ1gsR0FDRixHQUFXLEVBQUssR0FDaEIsRUFBSyxHQUFLLEVBQVcsR0FBaUIsRUFBVSxFQUFPLEVBQU8sSUFBTSxFQUNwRSxFQUFLLEdBQUssRUFBVyxHQUFlLEVBQUssR0FBSSxHQUFlLEVBQU8sSUFHckUsRUFBUSxFQUFPLEdBQ1gsR0FDRixHQUFLLEdBQUssR0FHUixFQUFhLEdBQ2YsR0FBSyxHQUFLLEVBQUssSUFBTSxLQUFPLEVBQU8sR0FBSyxHQUFVLEVBQUssR0FBSSxFQUFPLEtBR2hFLEVBQUssSUFBTSxNQUNiLEdBQUssR0FBSyxFQUFPLElBR25CLEVBQUssR0FBSyxFQUFPLEdBQ2pCLEVBQUssR0FBSyxFQUVILEVBWVQsWUFBc0IsRUFBUSxDQUM1QixHQUFJLEdBQVMsR0FDYixHQUFJLEdBQVUsS0FDWixPQUFTLEtBQU8sSUFBTyxHQUNyQixFQUFPLEtBQUssR0FHaEIsTUFBTyxHQVVULFlBQXdCLEVBQU8sQ0FDN0IsTUFBTyxJQUFxQixLQUFLLEdBWW5DLFlBQWtCLEVBQU0sRUFBTyxFQUFXLENBQ3hDLFNBQVEsR0FBVSxJQUFVQSxFQUFhLEVBQUssT0FBUyxFQUFLLEVBQU8sR0FDNUQsVUFBVyxDQU1oQixPQUxJLEdBQU8sVUFDUCxFQUFRLEdBQ1IsRUFBUyxHQUFVLEVBQUssT0FBUyxFQUFPLEdBQ3hDLEVBQVEsRUFBTSxHQUVYLEVBQUUsRUFBUSxHQUNmLEVBQU0sR0FBUyxFQUFLLEVBQVEsR0FFOUIsRUFBUSxHQUVSLE9BREksR0FBWSxFQUFNLEVBQVEsR0FDdkIsRUFBRSxFQUFRLEdBQ2YsRUFBVSxHQUFTLEVBQUssR0FFMUIsU0FBVSxHQUFTLEVBQVUsR0FDdEIsR0FBTSxFQUFNLEtBQU0sSUFZN0IsWUFBZ0IsRUFBUSxFQUFNLENBQzVCLE1BQU8sR0FBSyxPQUFTLEVBQUksRUFBUyxHQUFRLEVBQVEsR0FBVSxFQUFNLEVBQUcsS0FhdkUsWUFBaUIsRUFBTyxFQUFTLENBSy9CLE9BSkksR0FBWSxFQUFNLE9BQ2xCLEVBQVMsR0FBVSxFQUFRLE9BQVEsR0FDbkMsRUFBVyxHQUFVLEdBRWxCLEtBQVUsQ0FDZixHQUFJLEdBQVEsRUFBUSxHQUNwQixFQUFNLEdBQVUsR0FBUSxFQUFPLEdBQWEsRUFBUyxHQUFTQSxFQUVoRSxNQUFPLEdBV1QsWUFBaUIsRUFBUSxFQUFLLENBQzVCLEdBQUksTUFBUSxlQUFpQixNQUFPLEdBQU8sSUFBUyxhQUloRCxHQUFPLFlBSVgsTUFBTyxHQUFPLEdBaUJoQixHQUFJLElBQVUsR0FBUyxJQVVuQixHQUFhLElBQWlCLFNBQVMsRUFBTSxFQUFNLENBQ3JELE1BQU8sSUFBSyxXQUFXLEVBQU0sSUFXM0IsR0FBYyxHQUFTLElBWTNCLFlBQXlCLEVBQVMsRUFBVyxFQUFTLENBQ3BELEdBQUksR0FBVSxFQUFZLEdBQzFCLE1BQU8sSUFBWSxFQUFTLEdBQWtCLEVBQVEsR0FBa0IsR0FBZSxHQUFTLEtBWWxHLFlBQWtCLEVBQU0sQ0FDdEIsR0FBSSxHQUFRLEVBQ1IsRUFBYSxFQUVqQixNQUFPLFdBQVcsQ0FDaEIsR0FBSSxHQUFRLEtBQ1IsRUFBWSxFQUFZLEdBQVEsR0FHcEMsR0FEQSxFQUFhLEVBQ1QsRUFBWSxHQUNkLEdBQUksRUFBRSxHQUFTLEdBQ2IsTUFBTyxXQUFVLE9BR25CLEdBQVEsRUFFVixNQUFPLEdBQUssTUFBTUEsRUFBVyxZQVlqQyxZQUFxQixFQUFPLEVBQU0sQ0FDaEMsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFNLE9BQ2YsRUFBWSxFQUFTLEVBR3pCLElBREEsRUFBTyxJQUFTQSxFQUFZLEVBQVMsRUFDOUIsRUFBRSxFQUFRLEdBQU0sQ0FDckIsR0FBSSxHQUFPLEdBQVcsRUFBTyxHQUN6QixFQUFRLEVBQU0sR0FFbEIsRUFBTSxHQUFRLEVBQU0sR0FDcEIsRUFBTSxHQUFTLEVBRWpCLFNBQU0sT0FBUyxFQUNSLEVBVVQsR0FBSSxJQUFlLEdBQWMsU0FBUyxFQUFRLENBQ2hELEdBQUksR0FBUyxHQUNiLE1BQUksR0FBTyxXQUFXLEtBQU8sSUFDM0IsRUFBTyxLQUFLLElBRWQsRUFBTyxRQUFRLEdBQVksU0FBUyxFQUFPLEVBQVEsRUFBTyxFQUFXLENBQ25FLEVBQU8sS0FBSyxFQUFRLEVBQVUsUUFBUSxHQUFjLE1BQVMsR0FBVSxLQUVsRSxJQVVULFlBQWUsRUFBTyxDQUNwQixHQUFJLE1BQU8sSUFBUyxVQUFZLEdBQVMsR0FDdkMsTUFBTyxHQUVULEdBQUksR0FBVSxFQUFRLEdBQ3RCLE1BQVEsSUFBVSxLQUFRLEVBQUksR0FBVSxDQUFDLEVBQVksS0FBTyxFQVU5RCxZQUFrQixFQUFNLENBQ3RCLEdBQUksR0FBUSxLQUFNLENBQ2hCLEdBQUksQ0FDRixNQUFPLElBQWEsS0FBSyxTQUNsQixFQUFQLEVBQ0YsR0FBSSxDQUNGLE1BQVEsR0FBTyxTQUNSLEVBQVAsR0FFSixNQUFPLEdBV1QsWUFBMkIsRUFBUyxFQUFTLENBQzNDLFVBQVUsRUFBVyxTQUFTLEVBQU0sQ0FDbEMsR0FBSSxHQUFRLEtBQU8sRUFBSyxHQUN4QixBQUFLLEVBQVUsRUFBSyxJQUFPLENBQUMsR0FBYyxFQUFTLElBQ2pELEVBQVEsS0FBSyxLQUdWLEVBQVEsT0FVakIsWUFBc0IsRUFBUyxDQUM3QixHQUFJLFlBQW1CLElBQ3JCLE1BQU8sR0FBUSxRQUVqQixHQUFJLEdBQVMsR0FBSSxJQUFjLEVBQVEsWUFBYSxFQUFRLFdBQzVELFNBQU8sWUFBYyxHQUFVLEVBQVEsYUFDdkMsRUFBTyxVQUFhLEVBQVEsVUFDNUIsRUFBTyxXQUFhLEVBQVEsV0FDckIsRUEwQlQsWUFBZSxFQUFPLEVBQU0sRUFBTyxDQUNqQyxBQUFLLEdBQVEsR0FBZSxFQUFPLEVBQU0sR0FBUyxJQUFTQSxHQUN6RCxFQUFPLEVBRVAsRUFBTyxHQUFVLEdBQVUsR0FBTyxHQUVwQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLENBQUMsR0FBVSxFQUFPLEVBQ3BCLE1BQU8sR0FNVCxPQUpJLEdBQVEsRUFDUixFQUFXLEVBQ1gsRUFBUyxFQUFNLEdBQVcsRUFBUyxJQUVoQyxFQUFRLEdBQ2IsRUFBTyxLQUFjLEdBQVUsRUFBTyxFQUFRLEdBQVMsR0FFekQsTUFBTyxHQWtCVCxZQUFpQixFQUFPLENBTXRCLE9BTEksR0FBUSxHQUNSLEVBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUNuQyxFQUFXLEVBQ1gsRUFBUyxHQUVOLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxFQUFNLEdBQ2xCLEFBQUksR0FDRixHQUFPLEtBQWMsR0FHekIsTUFBTyxHQXlCVCxhQUFrQixDQUNoQixHQUFJLEdBQVMsVUFBVSxPQUN2QixHQUFJLENBQUMsRUFDSCxNQUFPLEdBTVQsT0FKSSxHQUFPLEVBQU0sRUFBUyxHQUN0QixFQUFRLFVBQVUsR0FDbEIsRUFBUSxFQUVMLEtBQ0wsRUFBSyxFQUFRLEdBQUssVUFBVSxHQUU5QixNQUFPLElBQVUsR0FBUSxHQUFTLEdBQVUsR0FBUyxDQUFDLEdBQVEsR0FBWSxFQUFNLElBd0JsRixHQUFJLElBQWEsR0FBUyxTQUFTLEVBQU8sRUFBUSxDQUNoRCxNQUFPLElBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUFZLEVBQVEsRUFBRyxHQUFtQixLQUNoRSxLQTZCRixHQUFlLEdBQVMsU0FBUyxFQUFPLEVBQVEsQ0FDbEQsR0FBSSxHQUFXLEdBQUssR0FDcEIsTUFBSSxJQUFrQixJQUNwQixHQUFXQSxHQUVOLEdBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUFZLEVBQVEsRUFBRyxHQUFtQixJQUFPLEdBQVksRUFBVSxJQUM3RixLQTBCRixHQUFpQixHQUFTLFNBQVMsRUFBTyxFQUFRLENBQ3BELEdBQUksR0FBYSxHQUFLLEdBQ3RCLE1BQUksSUFBa0IsSUFDcEIsR0FBYUEsR0FFUixHQUFrQixHQUNyQixHQUFlLEVBQU8sR0FBWSxFQUFRLEVBQUcsR0FBbUIsSUFBT0EsRUFBVyxHQUNsRixLQTRCTixZQUFjLEVBQU8sRUFBRyxFQUFPLENBQzdCLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQUssR0FHTCxHQUFLLEdBQVMsSUFBTUEsRUFBYSxFQUFJLEdBQVUsR0FDeEMsR0FBVSxFQUFPLEVBQUksRUFBSSxFQUFJLEVBQUcsSUFIOUIsR0ErQlgsWUFBbUIsRUFBTyxFQUFHLEVBQU8sQ0FDbEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdMLEdBQUssR0FBUyxJQUFNQSxFQUFhLEVBQUksR0FBVSxHQUMvQyxFQUFJLEVBQVMsRUFDTixHQUFVLEVBQU8sRUFBRyxFQUFJLEVBQUksRUFBSSxJQUo5QixHQTBDWCxZQUF3QixFQUFPLEVBQVcsQ0FDeEMsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBVSxFQUFPLEdBQVksRUFBVyxHQUFJLEdBQU0sSUFDbEQsR0FzQ04sWUFBbUIsRUFBTyxFQUFXLENBQ25DLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQVUsRUFBTyxHQUFZLEVBQVcsR0FBSSxJQUM1QyxHQWdDTixZQUFjLEVBQU8sRUFBTyxFQUFPLEVBQUssQ0FDdEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdELElBQVMsTUFBTyxJQUFTLFVBQVksR0FBZSxFQUFPLEVBQU8sSUFDcEUsR0FBUSxFQUNSLEVBQU0sR0FFRCxHQUFTLEVBQU8sRUFBTyxFQUFPLElBTjVCLEdBNENYLFlBQW1CLEVBQU8sRUFBVyxFQUFXLENBQzlDLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLEdBQUksQ0FBQyxFQUNILE1BQU8sR0FFVCxHQUFJLEdBQVEsR0FBYSxLQUFPLEVBQUksR0FBVSxHQUM5QyxNQUFJLEdBQVEsR0FDVixHQUFRLEdBQVUsRUFBUyxFQUFPLElBRTdCLEdBQWMsRUFBTyxHQUFZLEVBQVcsR0FBSSxHQXNDekQsWUFBdUIsRUFBTyxFQUFXLEVBQVcsQ0FDbEQsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBUSxFQUFTLEVBQ3JCLE1BQUksS0FBY0EsR0FDaEIsR0FBUSxHQUFVLEdBQ2xCLEVBQVEsRUFBWSxFQUNoQixHQUFVLEVBQVMsRUFBTyxHQUMxQixHQUFVLEVBQU8sRUFBUyxJQUV6QixHQUFjLEVBQU8sR0FBWSxFQUFXLEdBQUksRUFBTyxJQWlCaEUsWUFBaUIsRUFBTyxDQUN0QixHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVMsR0FBWSxFQUFPLEdBQUssR0FpQjFDLFlBQXFCLEVBQU8sQ0FDMUIsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBTyxHQUFTLEdBQVksRUFBTyxHQUFZLEdBdUJqRCxZQUFzQixFQUFPLEVBQU8sQ0FDbEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBSyxHQUdMLEdBQVEsSUFBVUEsRUFBWSxFQUFJLEdBQVUsR0FDckMsR0FBWSxFQUFPLElBSGpCLEdBcUJYLFlBQW1CLEVBQU8sQ0FLeEIsT0FKSSxHQUFRLEdBQ1IsRUFBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ25DLEVBQVMsR0FFTixFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQU8sRUFBTSxHQUNqQixFQUFPLEVBQUssSUFBTSxFQUFLLEdBRXpCLE1BQU8sR0FxQlQsWUFBYyxFQUFPLENBQ25CLE1BQVEsSUFBUyxFQUFNLE9BQVUsRUFBTSxHQUFLQSxFQTBCOUMsWUFBaUIsRUFBTyxFQUFPLEVBQVcsQ0FDeEMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBUSxHQUFhLEtBQU8sRUFBSSxHQUFVLEdBQzlDLE1BQUksR0FBUSxHQUNWLEdBQVEsR0FBVSxFQUFTLEVBQU8sSUFFN0IsR0FBWSxFQUFPLEVBQU8sR0FpQm5DLFlBQWlCLEVBQU8sQ0FDdEIsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsTUFBTyxHQUFTLEdBQVUsRUFBTyxFQUFHLElBQU0sR0FvQjVDLEdBQUksSUFBZSxHQUFTLFNBQVMsRUFBUSxDQUMzQyxHQUFJLEdBQVMsR0FBUyxFQUFRLElBQzlCLE1BQVEsR0FBTyxRQUFVLEVBQU8sS0FBTyxFQUFPLEdBQzFDLEdBQWlCLEdBQ2pCLEtBMEJGLEdBQWlCLEdBQVMsU0FBUyxFQUFRLENBQzdDLEdBQUksR0FBVyxHQUFLLEdBQ2hCLEVBQVMsR0FBUyxFQUFRLElBRTlCLE1BQUksS0FBYSxHQUFLLEdBQ3BCLEVBQVdBLEVBRVgsRUFBTyxNQUVELEVBQU8sUUFBVSxFQUFPLEtBQU8sRUFBTyxHQUMxQyxHQUFpQixFQUFRLEdBQVksRUFBVSxJQUMvQyxLQXdCRixHQUFtQixHQUFTLFNBQVMsRUFBUSxDQUMvQyxHQUFJLEdBQWEsR0FBSyxHQUNsQixFQUFTLEdBQVMsRUFBUSxJQUU5QixTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3hELEdBQ0YsRUFBTyxNQUVELEVBQU8sUUFBVSxFQUFPLEtBQU8sRUFBTyxHQUMxQyxHQUFpQixFQUFRQSxFQUFXLEdBQ3BDLEtBa0JOLFlBQWMsRUFBTyxFQUFXLENBQzlCLE1BQU8sSUFBUyxLQUFPLEdBQUssR0FBVyxLQUFLLEVBQU8sR0FpQnJELFlBQWMsRUFBTyxDQUNuQixHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFPLEdBQVMsRUFBTSxFQUFTLEdBQUtBLEVBd0J0QyxZQUFxQixFQUFPLEVBQU8sRUFBVyxDQUM1QyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLENBQUMsRUFDSCxNQUFPLEdBRVQsR0FBSSxHQUFRLEVBQ1osTUFBSSxLQUFjQSxHQUNoQixHQUFRLEdBQVUsR0FDbEIsRUFBUSxFQUFRLEVBQUksR0FBVSxFQUFTLEVBQU8sR0FBSyxHQUFVLEVBQU8sRUFBUyxJQUV4RSxJQUFVLEVBQ2IsR0FBa0IsRUFBTyxFQUFPLEdBQ2hDLEdBQWMsRUFBTyxHQUFXLEVBQU8sSUF3QjdDLFlBQWEsRUFBTyxFQUFHLENBQ3JCLE1BQVEsSUFBUyxFQUFNLE9BQVUsR0FBUSxFQUFPLEdBQVUsSUFBTUEsRUEwQmxFLEdBQUksSUFBTyxHQUFTLElBc0JwQixZQUFpQixFQUFPLEVBQVEsQ0FDOUIsTUFBUSxJQUFTLEVBQU0sUUFBVSxHQUFVLEVBQU8sT0FDOUMsR0FBWSxFQUFPLEdBQ25CLEVBMEJOLFlBQW1CLEVBQU8sRUFBUSxFQUFVLENBQzFDLE1BQVEsSUFBUyxFQUFNLFFBQVUsR0FBVSxFQUFPLE9BQzlDLEdBQVksRUFBTyxFQUFRLEdBQVksRUFBVSxJQUNqRCxFQTBCTixZQUFxQixFQUFPLEVBQVEsRUFBWSxDQUM5QyxNQUFRLElBQVMsRUFBTSxRQUFVLEdBQVUsRUFBTyxPQUM5QyxHQUFZLEVBQU8sRUFBUUEsRUFBVyxHQUN0QyxFQTJCTixHQUFJLElBQVMsR0FBUyxTQUFTLEVBQU8sRUFBUyxDQUM3QyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUNuQyxFQUFTLEdBQU8sRUFBTyxHQUUzQixVQUFXLEVBQU8sR0FBUyxFQUFTLFNBQVMsRUFBTyxDQUNsRCxNQUFPLElBQVEsRUFBTyxHQUFVLENBQUMsRUFBUSxJQUN4QyxLQUFLLEtBRUQsSUErQlQsWUFBZ0IsRUFBTyxFQUFXLENBQ2hDLEdBQUksR0FBUyxHQUNiLEdBQUksQ0FBRSxJQUFTLEVBQU0sUUFDbkIsTUFBTyxHQUVULEdBQUksR0FBUSxHQUNSLEVBQVUsR0FDVixFQUFTLEVBQU0sT0FHbkIsSUFEQSxFQUFZLEdBQVksRUFBVyxHQUM1QixFQUFFLEVBQVEsR0FBUSxDQUN2QixHQUFJLEdBQVEsRUFBTSxHQUNsQixBQUFJLEVBQVUsRUFBTyxFQUFPLElBQzFCLEdBQU8sS0FBSyxHQUNaLEVBQVEsS0FBSyxJQUdqQixVQUFXLEVBQU8sR0FDWCxFQTBCVCxZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxLQUFPLEVBQVEsR0FBYyxLQUFLLEdBbUJwRCxZQUFlLEVBQU8sRUFBTyxFQUFLLENBQ2hDLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQUssR0FHTCxDQUFJLEdBQU8sTUFBTyxJQUFPLFVBQVksR0FBZSxFQUFPLEVBQU8sR0FDaEUsR0FBUSxFQUNSLEVBQU0sR0FHTixHQUFRLEdBQVMsS0FBTyxFQUFJLEdBQVUsR0FDdEMsRUFBTSxJQUFRQSxFQUFZLEVBQVMsR0FBVSxJQUV4QyxHQUFVLEVBQU8sRUFBTyxJQVZ0QixHQThCWCxZQUFxQixFQUFPLEVBQU8sQ0FDakMsTUFBTyxJQUFnQixFQUFPLEdBNEJoQyxZQUF1QixFQUFPLEVBQU8sRUFBVSxDQUM3QyxNQUFPLElBQWtCLEVBQU8sRUFBTyxHQUFZLEVBQVUsSUFtQi9ELFlBQXVCLEVBQU8sRUFBTyxDQUNuQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxHQUFJLEVBQVEsQ0FDVixHQUFJLEdBQVEsR0FBZ0IsRUFBTyxHQUNuQyxHQUFJLEVBQVEsR0FBVSxHQUFHLEVBQU0sR0FBUSxHQUNyQyxNQUFPLEdBR1gsTUFBTyxHQXFCVCxZQUF5QixFQUFPLEVBQU8sQ0FDckMsTUFBTyxJQUFnQixFQUFPLEVBQU8sSUE0QnZDLFlBQTJCLEVBQU8sRUFBTyxFQUFVLENBQ2pELE1BQU8sSUFBa0IsRUFBTyxFQUFPLEdBQVksRUFBVSxHQUFJLElBbUJuRSxZQUEyQixFQUFPLEVBQU8sQ0FDdkMsR0FBSSxHQUFTLEdBQVMsS0FBTyxFQUFJLEVBQU0sT0FDdkMsR0FBSSxFQUFRLENBQ1YsR0FBSSxHQUFRLEdBQWdCLEVBQU8sRUFBTyxJQUFRLEVBQ2xELEdBQUksR0FBRyxFQUFNLEdBQVEsR0FDbkIsTUFBTyxHQUdYLE1BQU8sR0FrQlQsWUFBb0IsRUFBTyxDQUN6QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFlLEdBQ2YsR0FtQk4sWUFBc0IsRUFBTyxFQUFVLENBQ3JDLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWUsRUFBTyxHQUFZLEVBQVUsSUFDNUMsR0FpQk4sWUFBYyxFQUFPLENBQ25CLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ3ZDLE1BQU8sR0FBUyxHQUFVLEVBQU8sRUFBRyxHQUFVLEdBNEJoRCxZQUFjLEVBQU8sRUFBRyxFQUFPLENBQzdCLE1BQU0sSUFBUyxFQUFNLE9BR3JCLEdBQUssR0FBUyxJQUFNQSxFQUFhLEVBQUksR0FBVSxHQUN4QyxHQUFVLEVBQU8sRUFBRyxFQUFJLEVBQUksRUFBSSxJQUg5QixHQStCWCxZQUFtQixFQUFPLEVBQUcsRUFBTyxDQUNsQyxHQUFJLEdBQVMsR0FBUyxLQUFPLEVBQUksRUFBTSxPQUN2QyxNQUFLLEdBR0wsR0FBSyxHQUFTLElBQU1BLEVBQWEsRUFBSSxHQUFVLEdBQy9DLEVBQUksRUFBUyxFQUNOLEdBQVUsRUFBTyxFQUFJLEVBQUksRUFBSSxFQUFHLElBSjlCLEdBMENYLFlBQXdCLEVBQU8sRUFBVyxDQUN4QyxNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFVLEVBQU8sR0FBWSxFQUFXLEdBQUksR0FBTyxJQUNuRCxHQXNDTixZQUFtQixFQUFPLEVBQVcsQ0FDbkMsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBVSxFQUFPLEdBQVksRUFBVyxJQUN4QyxHQW1CTixHQUFJLElBQVEsR0FBUyxTQUFTLEVBQVEsQ0FDcEMsTUFBTyxJQUFTLEdBQVksRUFBUSxFQUFHLEdBQW1CLE9BMEJ4RCxHQUFVLEdBQVMsU0FBUyxFQUFRLENBQ3RDLEdBQUksR0FBVyxHQUFLLEdBQ3BCLE1BQUksSUFBa0IsSUFDcEIsR0FBV0EsR0FFTixHQUFTLEdBQVksRUFBUSxFQUFHLEdBQW1CLElBQU8sR0FBWSxFQUFVLE1Bd0JyRixHQUFZLEdBQVMsU0FBUyxFQUFRLENBQ3hDLEdBQUksR0FBYSxHQUFLLEdBQ3RCLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDckQsR0FBUyxHQUFZLEVBQVEsRUFBRyxHQUFtQixJQUFPQSxFQUFXLEtBcUI5RSxZQUFjLEVBQU8sQ0FDbkIsTUFBUSxJQUFTLEVBQU0sT0FBVSxHQUFTLEdBQVMsR0EwQnJELFlBQWdCLEVBQU8sRUFBVSxDQUMvQixNQUFRLElBQVMsRUFBTSxPQUFVLEdBQVMsRUFBTyxHQUFZLEVBQVUsSUFBTSxHQXVCL0UsWUFBa0IsRUFBTyxFQUFZLENBQ25DLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDcEQsR0FBUyxFQUFNLE9BQVUsR0FBUyxFQUFPQSxFQUFXLEdBQWMsR0FzQjVFLFlBQWUsRUFBTyxDQUNwQixHQUFJLENBQUUsSUFBUyxFQUFNLFFBQ25CLE1BQU8sR0FFVCxHQUFJLEdBQVMsRUFDYixTQUFRLEdBQVksRUFBTyxTQUFTLEVBQU8sQ0FDekMsR0FBSSxHQUFrQixHQUNwQixTQUFTLEdBQVUsRUFBTSxPQUFRLEdBQzFCLEtBR0osR0FBVSxFQUFRLFNBQVMsRUFBTyxDQUN2QyxNQUFPLElBQVMsRUFBTyxHQUFhLE1BeUJ4QyxZQUFtQixFQUFPLEVBQVUsQ0FDbEMsR0FBSSxDQUFFLElBQVMsRUFBTSxRQUNuQixNQUFPLEdBRVQsR0FBSSxHQUFTLEdBQU0sR0FDbkIsTUFBSSxJQUFZLEtBQ1AsRUFFRixHQUFTLEVBQVEsU0FBUyxFQUFPLENBQ3RDLE1BQU8sSUFBTSxFQUFVQSxFQUFXLEtBd0J0QyxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQU8sRUFBUSxDQUM3QyxNQUFPLElBQWtCLEdBQ3JCLEdBQWUsRUFBTyxHQUN0QixLQXFCRixHQUFNLEdBQVMsU0FBUyxFQUFRLENBQ2xDLE1BQU8sSUFBUSxHQUFZLEVBQVEsT0EwQmpDLEdBQVEsR0FBUyxTQUFTLEVBQVEsQ0FDcEMsR0FBSSxHQUFXLEdBQUssR0FDcEIsTUFBSSxJQUFrQixJQUNwQixHQUFXQSxHQUVOLEdBQVEsR0FBWSxFQUFRLElBQW9CLEdBQVksRUFBVSxNQXdCM0UsR0FBVSxHQUFTLFNBQVMsRUFBUSxDQUN0QyxHQUFJLEdBQWEsR0FBSyxHQUN0QixTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVEsR0FBWSxFQUFRLElBQW9CQSxFQUFXLEtBbUJoRSxHQUFNLEdBQVMsSUFrQm5CLFlBQW1CLEVBQU8sRUFBUSxDQUNoQyxNQUFPLElBQWMsR0FBUyxHQUFJLEdBQVUsR0FBSSxJQWtCbEQsWUFBdUIsRUFBTyxFQUFRLENBQ3BDLE1BQU8sSUFBYyxHQUFTLEdBQUksR0FBVSxHQUFJLElBdUJsRCxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQVEsQ0FDdEMsR0FBSSxHQUFTLEVBQU8sT0FDaEIsRUFBVyxFQUFTLEVBQUksRUFBTyxFQUFTLEdBQUtBLEVBRWpELFNBQVcsTUFBTyxJQUFZLFdBQWMsR0FBTyxNQUFPLEdBQVlBLEVBQy9ELEdBQVUsRUFBUSxLQWtDM0IsWUFBZSxFQUFPLENBQ3BCLEdBQUksR0FBUyxFQUFPLEdBQ3BCLFNBQU8sVUFBWSxHQUNaLEVBMEJULFlBQWEsRUFBTyxFQUFhLENBQy9CLFNBQVksR0FDTCxFQTBCVCxZQUFjLEVBQU8sRUFBYSxDQUNoQyxNQUFPLEdBQVksR0FtQnJCLEdBQUksSUFBWSxHQUFTLFNBQVMsRUFBTyxDQUN2QyxHQUFJLEdBQVMsRUFBTSxPQUNmLEVBQVEsRUFBUyxFQUFNLEdBQUssRUFDNUIsRUFBUSxLQUFLLFlBQ2IsRUFBYyxTQUFTLEVBQVEsQ0FBRSxNQUFPLElBQU8sRUFBUSxJQUUzRCxNQUFJLEdBQVMsR0FBSyxLQUFLLFlBQVksUUFDL0IsQ0FBRSxhQUFpQixNQUFnQixDQUFDLEdBQVEsR0FDdkMsS0FBSyxLQUFLLEdBRW5CLEdBQVEsRUFBTSxNQUFNLEVBQU8sQ0FBQyxFQUFTLEdBQVMsRUFBSSxJQUNsRCxFQUFNLFlBQVksS0FBSyxDQUNyQixLQUFRLEdBQ1IsS0FBUSxDQUFDLEdBQ1QsUUFBV0EsSUFFTixHQUFJLElBQWMsRUFBTyxLQUFLLFdBQVcsS0FBSyxTQUFTLEVBQU8sQ0FDbkUsTUFBSSxJQUFVLENBQUMsRUFBTSxRQUNuQixFQUFNLEtBQUtBLEdBRU4sT0ErQlgsYUFBd0IsQ0FDdEIsTUFBTyxJQUFNLE1BNkJmLGFBQXlCLENBQ3ZCLE1BQU8sSUFBSSxJQUFjLEtBQUssUUFBUyxLQUFLLFdBeUI5QyxhQUF1QixDQUNyQixBQUFJLEtBQUssYUFBZUEsR0FDdEIsTUFBSyxXQUFhLEdBQVEsS0FBSyxVQUVqQyxHQUFJLEdBQU8sS0FBSyxXQUFhLEtBQUssV0FBVyxPQUN6QyxFQUFRLEVBQU9BLEVBQVksS0FBSyxXQUFXLEtBQUssYUFFcEQsTUFBTyxDQUFFLEtBQVEsRUFBTSxNQUFTLEdBcUJsQyxhQUE2QixDQUMzQixNQUFPLE1BMkJULFlBQXNCLEVBQU8sQ0FJM0IsT0FISSxHQUNBLEVBQVMsS0FFTixZQUFrQixLQUFZLENBQ25DLEdBQUksR0FBUSxHQUFhLEdBQ3pCLEVBQU0sVUFBWSxFQUNsQixFQUFNLFdBQWFBLEVBQ25CLEFBQUksRUFDRixFQUFTLFlBQWMsRUFFdkIsRUFBUyxFQUVYLEdBQUksR0FBVyxFQUNmLEVBQVMsRUFBTyxZQUVsQixTQUFTLFlBQWMsRUFDaEIsRUF1QlQsYUFBMEIsQ0FDeEIsR0FBSSxHQUFRLEtBQUssWUFDakIsR0FBSSxZQUFpQixJQUFhLENBQ2hDLEdBQUksR0FBVSxFQUNkLE1BQUksTUFBSyxZQUFZLFFBQ25CLEdBQVUsR0FBSSxJQUFZLE9BRTVCLEVBQVUsRUFBUSxVQUNsQixFQUFRLFlBQVksS0FBSyxDQUN2QixLQUFRLEdBQ1IsS0FBUSxDQUFDLElBQ1QsUUFBV0EsSUFFTixHQUFJLElBQWMsRUFBUyxLQUFLLFdBRXpDLE1BQU8sTUFBSyxLQUFLLElBaUJuQixhQUF3QixDQUN0QixNQUFPLElBQWlCLEtBQUssWUFBYSxLQUFLLGFBMkJqRCxHQUFJLElBQVUsR0FBaUIsU0FBUyxFQUFRLEVBQU8sRUFBSyxDQUMxRCxBQUFJLEdBQWUsS0FBSyxFQUFRLEdBQzlCLEVBQUUsRUFBTyxHQUVULEdBQWdCLEVBQVEsRUFBSyxLQTZDakMsWUFBZSxFQUFZLEVBQVcsRUFBTyxDQUMzQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWEsR0FDOUMsTUFBSSxJQUFTLEdBQWUsRUFBWSxFQUFXLElBQ2pELEdBQVlBLEdBRVAsRUFBSyxFQUFZLEdBQVksRUFBVyxJQTRDakQsWUFBZ0IsRUFBWSxFQUFXLENBQ3JDLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBYyxHQUMvQyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVcsSUF1Q2pELEdBQUksSUFBTyxHQUFXLElBcUJsQixHQUFXLEdBQVcsSUF1QjFCLFlBQWlCLEVBQVksRUFBVSxDQUNyQyxNQUFPLElBQVksR0FBSSxFQUFZLEdBQVcsR0F1QmhELFlBQXFCLEVBQVksRUFBVSxDQUN6QyxNQUFPLElBQVksR0FBSSxFQUFZLEdBQVcsR0F3QmhELFlBQXNCLEVBQVksRUFBVSxFQUFPLENBQ2pELFNBQVEsSUFBVUEsRUFBWSxFQUFJLEdBQVUsR0FDckMsR0FBWSxHQUFJLEVBQVksR0FBVyxHQWlDaEQsWUFBaUIsRUFBWSxFQUFVLENBQ3JDLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBWSxHQUM3QyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVUsSUF1QmhELFlBQXNCLEVBQVksRUFBVSxDQUMxQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWlCLEdBQ2xELE1BQU8sR0FBSyxFQUFZLEdBQVksRUFBVSxJQTBCaEQsR0FBSSxJQUFVLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDMUQsQUFBSSxHQUFlLEtBQUssRUFBUSxHQUM5QixFQUFPLEdBQUssS0FBSyxHQUVqQixHQUFnQixFQUFRLEVBQUssQ0FBQyxNQWtDbEMsWUFBa0IsRUFBWSxFQUFPLEVBQVcsRUFBTyxDQUNyRCxFQUFhLEdBQVksR0FBYyxFQUFhLEdBQU8sR0FDM0QsRUFBYSxHQUFhLENBQUMsRUFBUyxHQUFVLEdBQWEsRUFFM0QsR0FBSSxHQUFTLEVBQVcsT0FDeEIsTUFBSSxHQUFZLEdBQ2QsR0FBWSxHQUFVLEVBQVMsRUFBVyxJQUVyQyxHQUFTLEdBQ1gsR0FBYSxHQUFVLEVBQVcsUUFBUSxFQUFPLEdBQWEsR0FDOUQsQ0FBQyxDQUFDLEdBQVUsR0FBWSxFQUFZLEVBQU8sR0FBYSxHQTBCL0QsR0FBSSxJQUFZLEdBQVMsU0FBUyxFQUFZLEVBQU0sRUFBTSxDQUN4RCxHQUFJLEdBQVEsR0FDUixFQUFTLE1BQU8sSUFBUSxXQUN4QixFQUFTLEdBQVksR0FBYyxFQUFNLEVBQVcsUUFBVSxHQUVsRSxVQUFTLEVBQVksU0FBUyxFQUFPLENBQ25DLEVBQU8sRUFBRSxHQUFTLEVBQVMsR0FBTSxFQUFNLEVBQU8sR0FBUSxHQUFXLEVBQU8sRUFBTSxLQUV6RSxJQStCTCxHQUFRLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDeEQsR0FBZ0IsRUFBUSxFQUFLLEtBNkMvQixZQUFhLEVBQVksRUFBVSxDQUNqQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQVcsR0FDNUMsTUFBTyxHQUFLLEVBQVksR0FBWSxFQUFVLElBZ0NoRCxZQUFpQixFQUFZLEVBQVcsRUFBUSxFQUFPLENBQ3JELE1BQUksSUFBYyxLQUNULEdBRUosSUFBUSxJQUNYLEdBQVksR0FBYSxLQUFPLEdBQUssQ0FBQyxJQUV4QyxFQUFTLEVBQVFBLEVBQVksRUFDeEIsR0FBUSxJQUNYLEdBQVMsR0FBVSxLQUFPLEdBQUssQ0FBQyxJQUUzQixHQUFZLEVBQVksRUFBVyxJQXVDNUMsR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDNUQsRUFBTyxFQUFNLEVBQUksR0FBRyxLQUFLLElBQ3hCLFVBQVcsQ0FBRSxNQUFPLENBQUMsR0FBSSxNQXVDNUIsWUFBZ0IsRUFBWSxFQUFVLEVBQWEsQ0FDakQsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFjLEdBQzNDLEVBQVksVUFBVSxPQUFTLEVBRW5DLE1BQU8sR0FBSyxFQUFZLEdBQVksRUFBVSxHQUFJLEVBQWEsRUFBVyxJQXlCNUUsWUFBcUIsRUFBWSxFQUFVLEVBQWEsQ0FDdEQsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFtQixHQUNoRCxFQUFZLFVBQVUsT0FBUyxFQUVuQyxNQUFPLEdBQUssRUFBWSxHQUFZLEVBQVUsR0FBSSxFQUFhLEVBQVcsSUFxQzVFLFlBQWdCLEVBQVksRUFBVyxDQUNyQyxHQUFJLEdBQU8sR0FBUSxHQUFjLEdBQWMsR0FDL0MsTUFBTyxHQUFLLEVBQVksR0FBTyxHQUFZLEVBQVcsS0FpQnhELFlBQWdCLEVBQVksQ0FDMUIsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFjLEdBQy9DLE1BQU8sR0FBSyxHQXVCZCxZQUFvQixFQUFZLEVBQUcsRUFBTyxDQUN4QyxBQUFLLEdBQVEsR0FBZSxFQUFZLEVBQUcsR0FBUyxJQUFNQSxHQUN4RCxFQUFJLEVBRUosRUFBSSxHQUFVLEdBRWhCLEdBQUksR0FBTyxHQUFRLEdBQWMsR0FBa0IsR0FDbkQsTUFBTyxHQUFLLEVBQVksR0FrQjFCLFlBQWlCLEVBQVksQ0FDM0IsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFlLEdBQ2hELE1BQU8sR0FBSyxHQXdCZCxZQUFjLEVBQVksQ0FDeEIsR0FBSSxHQUFjLEtBQ2hCLE1BQU8sR0FFVCxHQUFJLEdBQVksR0FDZCxNQUFPLElBQVMsR0FBYyxHQUFXLEdBQWMsRUFBVyxPQUVwRSxHQUFJLEdBQU0sR0FBTyxHQUNqQixNQUFJLElBQU8sSUFBVSxHQUFPLEdBQ25CLEVBQVcsS0FFYixHQUFTLEdBQVksT0F1QzlCLFlBQWMsRUFBWSxFQUFXLEVBQU8sQ0FDMUMsR0FBSSxHQUFPLEdBQVEsR0FBYyxHQUFZLEdBQzdDLE1BQUksSUFBUyxHQUFlLEVBQVksRUFBVyxJQUNqRCxHQUFZQSxHQUVQLEVBQUssRUFBWSxHQUFZLEVBQVcsSUFnQ2pELEdBQUksSUFBUyxHQUFTLFNBQVMsRUFBWSxFQUFXLENBQ3BELEdBQUksR0FBYyxLQUNoQixNQUFPLEdBRVQsR0FBSSxHQUFTLEVBQVUsT0FDdkIsTUFBSSxHQUFTLEdBQUssR0FBZSxFQUFZLEVBQVUsR0FBSSxFQUFVLElBQ25FLEVBQVksR0FDSCxFQUFTLEdBQUssR0FBZSxFQUFVLEdBQUksRUFBVSxHQUFJLEVBQVUsS0FDNUUsR0FBWSxDQUFDLEVBQVUsS0FFbEIsR0FBWSxFQUFZLEdBQVksRUFBVyxHQUFJLE1BcUJ4RCxHQUFNLElBQVUsVUFBVyxDQUM3QixNQUFPLElBQUssS0FBSyxPQTZCbkIsWUFBZSxFQUFHLEVBQU0sQ0FDdEIsR0FBSSxNQUFPLElBQVEsV0FDakIsS0FBTSxJQUFJLElBQVUsR0FFdEIsU0FBSSxHQUFVLEdBQ1AsVUFBVyxDQUNoQixHQUFJLEVBQUUsRUFBSSxFQUNSLE1BQU8sR0FBSyxNQUFNLEtBQU0sWUFzQjlCLFlBQWEsRUFBTSxFQUFHLEVBQU8sQ0FDM0IsU0FBSSxFQUFRQSxFQUFZLEVBQ3hCLEVBQUssR0FBUSxHQUFLLEtBQVEsRUFBSyxPQUFTLEVBQ2pDLEdBQVcsRUFBTSxFQUFlQSxFQUFXQSxFQUFXQSxFQUFXQSxFQUFXLEdBb0JyRixZQUFnQixFQUFHLEVBQU0sQ0FDdkIsR0FBSSxHQUNKLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLFNBQUksR0FBVSxHQUNQLFVBQVcsQ0FDaEIsTUFBSSxFQUFFLEVBQUksR0FDUixHQUFTLEVBQUssTUFBTSxLQUFNLFlBRXhCLEdBQUssR0FDUCxHQUFPQSxHQUVGLEdBdUNYLEdBQUksSUFBTyxHQUFTLFNBQVMsRUFBTSxFQUFTLEVBQVUsQ0FDcEQsR0FBSSxHQUFVLEVBQ2QsR0FBSSxFQUFTLE9BQVEsQ0FDbkIsR0FBSSxHQUFVLEdBQWUsRUFBVSxHQUFVLEtBQ2pELEdBQVcsRUFFYixNQUFPLElBQVcsRUFBTSxFQUFTLEVBQVMsRUFBVSxLQWdEbEQsR0FBVSxHQUFTLFNBQVMsRUFBUSxFQUFLLEVBQVUsQ0FDckQsR0FBSSxHQUFVLEVBQWlCLEVBQy9CLEdBQUksRUFBUyxPQUFRLENBQ25CLEdBQUksR0FBVSxHQUFlLEVBQVUsR0FBVSxLQUNqRCxHQUFXLEVBRWIsTUFBTyxJQUFXLEVBQUssRUFBUyxFQUFRLEVBQVUsS0E0Q3BELFlBQWUsRUFBTSxFQUFPLEVBQU8sQ0FDakMsRUFBUSxFQUFRQSxFQUFZLEVBQzVCLEdBQUksR0FBUyxHQUFXLEVBQU0sRUFBaUJBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVcsR0FDdEcsU0FBTyxZQUFjLEdBQU0sWUFDcEIsRUF5Q1QsWUFBb0IsRUFBTSxFQUFPLEVBQU8sQ0FDdEMsRUFBUSxFQUFRQSxFQUFZLEVBQzVCLEdBQUksR0FBUyxHQUFXLEVBQU0sRUFBdUJBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVdBLEVBQVcsR0FDNUcsU0FBTyxZQUFjLEdBQVcsWUFDekIsRUF5RFQsWUFBa0IsRUFBTSxFQUFNLEVBQVMsQ0FDckMsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUFpQixFQUNqQixFQUFVLEdBQ1YsRUFBUyxHQUNULEdBQVcsR0FFZixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixFQUFPLEdBQVMsSUFBUyxFQUNyQixHQUFTLElBQ1gsR0FBVSxDQUFDLENBQUMsRUFBUSxRQUNwQixFQUFTLFdBQWEsR0FDdEIsRUFBVSxFQUFTLEdBQVUsR0FBUyxFQUFRLFVBQVksRUFBRyxHQUFRLEVBQ3JFLEdBQVcsWUFBYyxHQUFVLENBQUMsQ0FBQyxFQUFRLFNBQVcsSUFHMUQsWUFBb0IsR0FBTSxDQUN4QixHQUFJLElBQU8sRUFDUCxHQUFVLEVBRWQsU0FBVyxFQUFXQSxFQUN0QixFQUFpQixHQUNqQixFQUFTLEVBQUssTUFBTSxHQUFTLElBQ3RCLEVBR1QsWUFBcUIsR0FBTSxDQUV6QixTQUFpQixHQUVqQixFQUFVLEdBQVcsR0FBYyxHQUU1QixFQUFVLEdBQVcsSUFBUSxFQUd0QyxZQUF1QixHQUFNLENBQzNCLEdBQUksSUFBb0IsR0FBTyxFQUMzQixHQUFzQixHQUFPLEVBQzdCLEdBQWMsRUFBTyxHQUV6QixNQUFPLEdBQ0gsR0FBVSxHQUFhLEVBQVUsSUFDakMsR0FHTixZQUFzQixHQUFNLENBQzFCLEdBQUksSUFBb0IsR0FBTyxFQUMzQixHQUFzQixHQUFPLEVBS2pDLE1BQVEsS0FBaUJBLEdBQWMsSUFBcUIsR0FDekQsR0FBb0IsR0FBTyxHQUFVLElBQXVCLEVBR2pFLGFBQXdCLENBQ3RCLEdBQUksSUFBTyxLQUNYLEdBQUksR0FBYSxJQUNmLE1BQU8sSUFBYSxJQUd0QixFQUFVLEdBQVcsR0FBYyxHQUFjLEtBR25ELFlBQXNCLEdBQU0sQ0FLMUIsTUFKQSxHQUFVQSxFQUlOLElBQVksRUFDUCxHQUFXLElBRXBCLEdBQVcsRUFBV0EsRUFDZixHQUdULGFBQWtCLENBQ2hCLEFBQUksSUFBWUEsR0FDZCxHQUFhLEdBRWYsRUFBaUIsRUFDakIsRUFBVyxFQUFlLEVBQVcsRUFBVUEsRUFHakQsYUFBaUIsQ0FDZixNQUFPLEtBQVlBLEVBQVksRUFBUyxHQUFhLE1BR3ZELGFBQXFCLENBQ25CLEdBQUksSUFBTyxLQUNQLEdBQWEsR0FBYSxJQU05QixHQUpBLEVBQVcsVUFDWCxFQUFXLEtBQ1gsRUFBZSxHQUVYLEdBQVksQ0FDZCxHQUFJLElBQVlBLEVBQ2QsTUFBTyxJQUFZLEdBRXJCLEdBQUksRUFFRixVQUFhLEdBQ2IsRUFBVSxHQUFXLEdBQWMsR0FDNUIsR0FBVyxHQUd0QixNQUFJLEtBQVlBLEdBQ2QsR0FBVSxHQUFXLEdBQWMsSUFFOUIsRUFFVCxVQUFVLE9BQVMsR0FDbkIsR0FBVSxNQUFRLEdBQ1gsR0FxQlQsR0FBSSxJQUFRLEdBQVMsU0FBUyxFQUFNLEVBQU0sQ0FDeEMsTUFBTyxJQUFVLEVBQU0sRUFBRyxLQXNCeEIsR0FBUSxHQUFTLFNBQVMsRUFBTSxFQUFNLEVBQU0sQ0FDOUMsTUFBTyxJQUFVLEVBQU0sR0FBUyxJQUFTLEVBQUcsS0FxQjlDLFlBQWMsRUFBTSxDQUNsQixNQUFPLElBQVcsRUFBTSxJQStDMUIsWUFBaUIsRUFBTSxFQUFVLENBQy9CLEdBQUksTUFBTyxJQUFRLFlBQWUsR0FBWSxNQUFRLE1BQU8sSUFBWSxXQUN2RSxLQUFNLElBQUksSUFBVSxHQUV0QixHQUFJLEdBQVcsVUFBVyxDQUN4QixHQUFJLEdBQU8sVUFDUCxFQUFNLEVBQVcsRUFBUyxNQUFNLEtBQU0sR0FBUSxFQUFLLEdBQ25ELEVBQVEsRUFBUyxNQUVyQixHQUFJLEVBQU0sSUFBSSxHQUNaLE1BQU8sR0FBTSxJQUFJLEdBRW5CLEdBQUksR0FBUyxFQUFLLE1BQU0sS0FBTSxHQUM5QixTQUFTLE1BQVEsRUFBTSxJQUFJLEVBQUssSUFBVyxFQUNwQyxHQUVULFNBQVMsTUFBUSxHQUFLLElBQVEsT0FBUyxJQUNoQyxFQUlULEdBQVEsTUFBUSxHQXNCaEIsWUFBZ0IsRUFBVyxDQUN6QixHQUFJLE1BQU8sSUFBYSxXQUN0QixLQUFNLElBQUksSUFBVSxHQUV0QixNQUFPLFdBQVcsQ0FDaEIsR0FBSSxHQUFPLFVBQ1gsT0FBUSxFQUFLLFlBQ04sR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLFVBQzFCLEdBQUcsTUFBTyxDQUFDLEVBQVUsS0FBSyxLQUFNLEVBQUssUUFDckMsR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLEtBQU0sRUFBSyxHQUFJLEVBQUssUUFDOUMsR0FBRyxNQUFPLENBQUMsRUFBVSxLQUFLLEtBQU0sRUFBSyxHQUFJLEVBQUssR0FBSSxFQUFLLElBRTlELE1BQU8sQ0FBQyxFQUFVLE1BQU0sS0FBTSxJQXNCbEMsWUFBYyxFQUFNLENBQ2xCLE1BQU8sSUFBTyxFQUFHLEdBa0NuQixHQUFJLElBQVcsR0FBUyxTQUFTLEVBQU0sRUFBWSxDQUNqRCxFQUFjLEVBQVcsUUFBVSxHQUFLLEdBQVEsRUFBVyxJQUN2RCxHQUFTLEVBQVcsR0FBSSxHQUFVLE9BQ2xDLEdBQVMsR0FBWSxFQUFZLEdBQUksR0FBVSxPQUVuRCxHQUFJLEdBQWMsRUFBVyxPQUM3QixNQUFPLElBQVMsU0FBUyxFQUFNLENBSTdCLE9BSEksR0FBUSxHQUNSLEVBQVMsR0FBVSxFQUFLLE9BQVEsR0FFN0IsRUFBRSxFQUFRLEdBQ2YsRUFBSyxHQUFTLEVBQVcsR0FBTyxLQUFLLEtBQU0sRUFBSyxJQUVsRCxNQUFPLElBQU0sRUFBTSxLQUFNLE9BcUN6QixHQUFVLEdBQVMsU0FBUyxFQUFNLEVBQVUsQ0FDOUMsR0FBSSxHQUFVLEdBQWUsRUFBVSxHQUFVLEtBQ2pELE1BQU8sSUFBVyxFQUFNLEVBQW1CQSxFQUFXLEVBQVUsS0FtQzlELEdBQWUsR0FBUyxTQUFTLEVBQU0sRUFBVSxDQUNuRCxHQUFJLEdBQVUsR0FBZSxFQUFVLEdBQVUsS0FDakQsTUFBTyxJQUFXLEVBQU0sR0FBeUJBLEVBQVcsRUFBVSxLQXlCcEUsR0FBUSxHQUFTLFNBQVMsRUFBTSxFQUFTLENBQzNDLE1BQU8sSUFBVyxFQUFNLEVBQWlCQSxFQUFXQSxFQUFXQSxFQUFXLEtBNEI1RSxZQUFjLEVBQU0sRUFBTyxDQUN6QixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixTQUFRLElBQVVBLEVBQVksRUFBUSxHQUFVLEdBQ3pDLEdBQVMsRUFBTSxHQXFDeEIsWUFBZ0IsRUFBTSxFQUFPLENBQzNCLEdBQUksTUFBTyxJQUFRLFdBQ2pCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLFNBQVEsR0FBUyxLQUFPLEVBQUksR0FBVSxHQUFVLEdBQVEsR0FDakQsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsR0FBSSxHQUFRLEVBQUssR0FDYixFQUFZLEdBQVUsRUFBTSxFQUFHLEdBRW5DLE1BQUksSUFDRixHQUFVLEVBQVcsR0FFaEIsR0FBTSxFQUFNLEtBQU0sS0FnRDdCLFlBQWtCLEVBQU0sRUFBTSxFQUFTLENBQ3JDLEdBQUksR0FBVSxHQUNWLEVBQVcsR0FFZixHQUFJLE1BQU8sSUFBUSxXQUNqQixLQUFNLElBQUksSUFBVSxHQUV0QixNQUFJLElBQVMsSUFDWCxHQUFVLFdBQWEsR0FBVSxDQUFDLENBQUMsRUFBUSxRQUFVLEVBQ3JELEVBQVcsWUFBYyxHQUFVLENBQUMsQ0FBQyxFQUFRLFNBQVcsR0FFbkQsR0FBUyxFQUFNLEVBQU0sQ0FDMUIsUUFBVyxFQUNYLFFBQVcsRUFDWCxTQUFZLElBbUJoQixZQUFlLEVBQU0sQ0FDbkIsTUFBTyxJQUFJLEVBQU0sR0F5Qm5CLFlBQWMsRUFBTyxFQUFTLENBQzVCLE1BQU8sSUFBUSxHQUFhLEdBQVUsR0FzQ3hDLGFBQXFCLENBQ25CLEdBQUksQ0FBQyxVQUFVLE9BQ2IsTUFBTyxHQUVULEdBQUksR0FBUSxVQUFVLEdBQ3RCLE1BQU8sSUFBUSxHQUFTLEVBQVEsQ0FBQyxHQTZCbkMsWUFBZSxFQUFPLENBQ3BCLE1BQU8sSUFBVSxFQUFPLEdBa0MxQixZQUFtQixFQUFPLEVBQVksQ0FDcEMsU0FBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUNyRCxHQUFVLEVBQU8sRUFBb0IsR0FxQjlDLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFVLEVBQU8sRUFBa0IsR0ErQjVDLFlBQXVCLEVBQU8sRUFBWSxDQUN4QyxTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVUsRUFBTyxFQUFrQixFQUFvQixHQTJCaEUsWUFBb0IsRUFBUSxFQUFRLENBQ2xDLE1BQU8sSUFBVSxNQUFRLEdBQWUsRUFBUSxFQUFRLEdBQUssSUFtQy9ELFlBQVksRUFBTyxFQUFPLENBQ3hCLE1BQU8sS0FBVSxHQUFVLElBQVUsR0FBUyxJQUFVLEVBMEIxRCxHQUFJLElBQUssR0FBMEIsSUF5Qi9CLEdBQU0sR0FBMEIsU0FBUyxFQUFPLEVBQU8sQ0FDekQsTUFBTyxJQUFTLElBcUJkLEdBQWMsR0FBZ0IsVUFBVyxDQUFFLE1BQU8sZUFBa0IsR0FBa0IsU0FBUyxFQUFPLENBQ3hHLE1BQU8sSUFBYSxJQUFVLEdBQWUsS0FBSyxFQUFPLFdBQ3ZELENBQUMsR0FBcUIsS0FBSyxFQUFPLFdBMEJsQyxHQUFVLEVBQU0sUUFtQmhCLEdBQWdCLEdBQW9CLEdBQVUsSUFBcUIsR0EyQnZFLFlBQXFCLEVBQU8sQ0FDMUIsTUFBTyxJQUFTLE1BQVEsR0FBUyxFQUFNLFNBQVcsQ0FBQyxHQUFXLEdBNEJoRSxZQUEyQixFQUFPLENBQ2hDLE1BQU8sSUFBYSxJQUFVLEdBQVksR0FvQjVDLFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxLQUFVLElBQVEsSUFBVSxJQUNoQyxHQUFhLElBQVUsR0FBVyxJQUFVLEVBb0JqRCxHQUFJLElBQVcsSUFBa0IsR0FtQjdCLEdBQVMsR0FBYSxHQUFVLElBQWMsR0FtQmxELFlBQW1CLEVBQU8sQ0FDeEIsTUFBTyxJQUFhLElBQVUsRUFBTSxXQUFhLEdBQUssQ0FBQyxHQUFjLEdBb0N2RSxZQUFpQixFQUFPLENBQ3RCLEdBQUksR0FBUyxLQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVksSUFDWCxJQUFRLElBQVUsTUFBTyxJQUFTLFVBQVksTUFBTyxHQUFNLFFBQVUsWUFDcEUsR0FBUyxJQUFVLEdBQWEsSUFBVSxHQUFZLElBQzFELE1BQU8sQ0FBQyxFQUFNLE9BRWhCLEdBQUksR0FBTSxHQUFPLEdBQ2pCLEdBQUksR0FBTyxJQUFVLEdBQU8sR0FDMUIsTUFBTyxDQUFDLEVBQU0sS0FFaEIsR0FBSSxHQUFZLEdBQ2QsTUFBTyxDQUFDLEdBQVMsR0FBTyxPQUUxQixPQUFTLEtBQU8sR0FDZCxHQUFJLEdBQWUsS0FBSyxFQUFPLEdBQzdCLE1BQU8sR0FHWCxNQUFPLEdBK0JULFlBQWlCLEVBQU8sRUFBTyxDQUM3QixNQUFPLElBQVksRUFBTyxHQW1DNUIsWUFBcUIsRUFBTyxFQUFPLEVBQVksQ0FDN0MsRUFBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUM1RCxHQUFJLEdBQVMsRUFBYSxFQUFXLEVBQU8sR0FBU0EsRUFDckQsTUFBTyxLQUFXQSxFQUFZLEdBQVksRUFBTyxFQUFPQSxFQUFXLEdBQWMsQ0FBQyxDQUFDLEVBcUJyRixZQUFpQixFQUFPLENBQ3RCLEdBQUksQ0FBQyxHQUFhLEdBQ2hCLE1BQU8sR0FFVCxHQUFJLEdBQU0sR0FBVyxHQUNyQixNQUFPLElBQU8sSUFBWSxHQUFPLElBQzlCLE1BQU8sR0FBTSxTQUFXLFVBQVksTUFBTyxHQUFNLE1BQVEsVUFBWSxDQUFDLEdBQWMsR0E2QnpGLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFBWSxHQUFlLEdBb0JwRCxZQUFvQixFQUFPLENBQ3pCLEdBQUksQ0FBQyxHQUFTLEdBQ1osTUFBTyxHQUlULEdBQUksR0FBTSxHQUFXLEdBQ3JCLE1BQU8sSUFBTyxJQUFXLEdBQU8sSUFBVSxHQUFPLElBQVksR0FBTyxHQTZCdEUsWUFBbUIsRUFBTyxDQUN4QixNQUFPLE9BQU8sSUFBUyxVQUFZLEdBQVMsR0FBVSxHQTZCeEQsWUFBa0IsRUFBTyxDQUN2QixNQUFPLE9BQU8sSUFBUyxVQUNyQixFQUFRLElBQU0sRUFBUSxHQUFLLEdBQUssR0FBUyxFQTRCN0MsWUFBa0IsRUFBTyxDQUN2QixHQUFJLEdBQU8sTUFBTyxHQUNsQixNQUFPLElBQVMsTUFBUyxJQUFRLFVBQVksR0FBUSxZQTJCdkQsWUFBc0IsRUFBTyxDQUMzQixNQUFPLElBQVMsTUFBUSxNQUFPLElBQVMsU0FvQjFDLEdBQUksSUFBUSxHQUFZLEdBQVUsSUFBYSxHQThCL0MsWUFBaUIsRUFBUSxFQUFRLENBQy9CLE1BQU8sS0FBVyxHQUFVLEdBQVksRUFBUSxFQUFRLEdBQWEsSUFtQ3ZFLFlBQXFCLEVBQVEsRUFBUSxFQUFZLENBQy9DLFNBQWEsTUFBTyxJQUFjLFdBQWEsRUFBYUEsRUFDckQsR0FBWSxFQUFRLEVBQVEsR0FBYSxHQUFTLEdBK0IzRCxZQUFlLEVBQU8sQ0FJcEIsTUFBTyxJQUFTLElBQVUsR0FBUyxDQUFDLEVBNkJ0QyxZQUFrQixFQUFPLENBQ3ZCLEdBQUksR0FBVyxHQUNiLEtBQU0sSUFBSSxJQUFNLEdBRWxCLE1BQU8sSUFBYSxHQW9CdEIsWUFBZ0IsRUFBTyxDQUNyQixNQUFPLEtBQVUsS0F1Qm5CLFlBQWUsRUFBTyxDQUNwQixNQUFPLElBQVMsS0E2QmxCLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFDcEIsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQStCakQsWUFBdUIsRUFBTyxDQUM1QixHQUFJLENBQUMsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQUMvQyxNQUFPLEdBRVQsR0FBSSxHQUFRLEdBQWEsR0FDekIsR0FBSSxJQUFVLEtBQ1osTUFBTyxHQUVULEdBQUksR0FBTyxHQUFlLEtBQUssRUFBTyxnQkFBa0IsRUFBTSxZQUM5RCxNQUFPLE9BQU8sSUFBUSxZQUFjLFlBQWdCLElBQ2xELEdBQWEsS0FBSyxJQUFTLEdBb0IvQixHQUFJLElBQVcsR0FBZSxHQUFVLElBQWdCLEdBNkJ4RCxZQUF1QixFQUFPLENBQzVCLE1BQU8sSUFBVSxJQUFVLEdBQVMsQ0FBQyxHQUFvQixHQUFTLEVBb0JwRSxHQUFJLElBQVEsR0FBWSxHQUFVLElBQWEsR0FtQi9DLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxPQUFPLElBQVMsVUFDcEIsQ0FBQyxHQUFRLElBQVUsR0FBYSxJQUFVLEdBQVcsSUFBVSxHQW9CcEUsWUFBa0IsRUFBTyxDQUN2QixNQUFPLE9BQU8sSUFBUyxVQUNwQixHQUFhLElBQVUsR0FBVyxJQUFVLEdBb0JqRCxHQUFJLElBQWUsR0FBbUIsR0FBVSxJQUFvQixHQW1CcEUsWUFBcUIsRUFBTyxDQUMxQixNQUFPLEtBQVVBLEVBb0JuQixZQUFtQixFQUFPLENBQ3hCLE1BQU8sSUFBYSxJQUFVLEdBQU8sSUFBVSxHQW9CakQsWUFBbUIsRUFBTyxDQUN4QixNQUFPLElBQWEsSUFBVSxHQUFXLElBQVUsR0EwQnJELEdBQUksSUFBSyxHQUEwQixJQXlCL0IsR0FBTSxHQUEwQixTQUFTLEVBQU8sRUFBTyxDQUN6RCxNQUFPLElBQVMsSUEwQmxCLFlBQWlCLEVBQU8sQ0FDdEIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxHQUVULEdBQUksR0FBWSxHQUNkLE1BQU8sSUFBUyxHQUFTLEdBQWMsR0FBUyxHQUFVLEdBRTVELEdBQUksSUFBZSxFQUFNLElBQ3ZCLE1BQU8sSUFBZ0IsRUFBTSxPQUUvQixHQUFJLEdBQU0sR0FBTyxHQUNiLEVBQU8sR0FBTyxHQUFTLEdBQWMsR0FBTyxHQUFTLEdBQWEsR0FFdEUsTUFBTyxHQUFLLEdBMEJkLFlBQWtCLEVBQU8sQ0FDdkIsR0FBSSxDQUFDLEVBQ0gsTUFBTyxLQUFVLEVBQUksRUFBUSxFQUcvQixHQURBLEVBQVEsR0FBUyxHQUNiLElBQVUsR0FBWSxJQUFVLENBQUMsRUFBVSxDQUM3QyxHQUFJLEdBQVEsRUFBUSxFQUFJLEdBQUssRUFDN0IsTUFBTyxHQUFPLEdBRWhCLE1BQU8sS0FBVSxFQUFRLEVBQVEsRUE2Qm5DLFlBQW1CLEVBQU8sQ0FDeEIsR0FBSSxHQUFTLEdBQVMsR0FDbEIsRUFBWSxFQUFTLEVBRXpCLE1BQU8sS0FBVyxFQUFVLEVBQVksRUFBUyxFQUFZLEVBQVUsRUE4QnpFLFlBQWtCLEVBQU8sQ0FDdkIsTUFBTyxHQUFRLEdBQVUsR0FBVSxHQUFRLEVBQUcsSUFBb0IsRUEwQnBFLFlBQWtCLEVBQU8sQ0FDdkIsR0FBSSxNQUFPLElBQVMsU0FDbEIsTUFBTyxHQUVULEdBQUksR0FBUyxHQUNYLE1BQU8sR0FFVCxHQUFJLEdBQVMsR0FBUSxDQUNuQixHQUFJLEdBQVEsTUFBTyxHQUFNLFNBQVcsV0FBYSxFQUFNLFVBQVksRUFDbkUsRUFBUSxHQUFTLEdBQVUsRUFBUSxHQUFNLEVBRTNDLEdBQUksTUFBTyxJQUFTLFNBQ2xCLE1BQU8sS0FBVSxFQUFJLEVBQVEsQ0FBQyxFQUVoQyxFQUFRLEdBQVMsR0FDakIsR0FBSSxHQUFXLEdBQVcsS0FBSyxHQUMvQixNQUFRLElBQVksR0FBVSxLQUFLLEdBQy9CLEdBQWEsRUFBTSxNQUFNLEdBQUksRUFBVyxFQUFJLEdBQzNDLEdBQVcsS0FBSyxHQUFTLEVBQU0sQ0FBQyxFQTJCdkMsWUFBdUIsRUFBTyxDQUM1QixNQUFPLElBQVcsRUFBTyxHQUFPLElBMkJsQyxZQUF1QixFQUFPLENBQzVCLE1BQU8sR0FDSCxHQUFVLEdBQVUsR0FBUSxDQUFDLEVBQWtCLEdBQzlDLElBQVUsRUFBSSxFQUFRLEVBd0I3QixZQUFrQixFQUFPLENBQ3ZCLE1BQU8sSUFBUyxLQUFPLEdBQUssR0FBYSxHQXFDM0MsR0FBSSxJQUFTLEdBQWUsU0FBUyxFQUFRLEVBQVEsQ0FDbkQsR0FBSSxHQUFZLElBQVcsR0FBWSxHQUFTLENBQzlDLEdBQVcsRUFBUSxHQUFLLEdBQVMsR0FDakMsT0FFRixPQUFTLEtBQU8sR0FDZCxBQUFJLEdBQWUsS0FBSyxFQUFRLElBQzlCLEdBQVksRUFBUSxFQUFLLEVBQU8sTUFvQ2xDLEdBQVcsR0FBZSxTQUFTLEVBQVEsRUFBUSxDQUNyRCxHQUFXLEVBQVEsR0FBTyxHQUFTLEtBZ0NqQyxHQUFlLEdBQWUsU0FBUyxFQUFRLEVBQVEsRUFBVSxFQUFZLENBQy9FLEdBQVcsRUFBUSxHQUFPLEdBQVMsRUFBUSxLQStCekMsR0FBYSxHQUFlLFNBQVMsRUFBUSxFQUFRLEVBQVUsRUFBWSxDQUM3RSxHQUFXLEVBQVEsR0FBSyxHQUFTLEVBQVEsS0FvQnZDLEdBQUssR0FBUyxJQW9DbEIsWUFBZ0IsRUFBVyxFQUFZLENBQ3JDLEdBQUksR0FBUyxHQUFXLEdBQ3hCLE1BQU8sSUFBYyxLQUFPLEVBQVMsR0FBVyxFQUFRLEdBd0IxRCxHQUFJLElBQVcsR0FBUyxTQUFTLEVBQVEsRUFBUyxDQUNoRCxFQUFTLEdBQU8sR0FFaEIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFRLE9BQ2pCLEVBQVEsRUFBUyxFQUFJLEVBQVEsR0FBS0EsRUFNdEMsSUFKSSxHQUFTLEdBQWUsRUFBUSxHQUFJLEVBQVEsR0FBSSxJQUNsRCxHQUFTLEdBR0osRUFBRSxFQUFRLEdBTWYsT0FMSSxHQUFTLEVBQVEsR0FDakIsRUFBUSxHQUFPLEdBQ2YsRUFBYSxHQUNiLEVBQWMsRUFBTSxPQUVqQixFQUFFLEVBQWEsR0FBYSxDQUNqQyxHQUFJLEdBQU0sRUFBTSxHQUNaLEVBQVEsRUFBTyxHQUVuQixBQUFJLEtBQVVBLEdBQ1QsR0FBRyxFQUFPLEdBQVksS0FBUyxDQUFDLEdBQWUsS0FBSyxFQUFRLEtBQy9ELEdBQU8sR0FBTyxFQUFPLElBSzNCLE1BQU8sS0FzQkwsR0FBZSxHQUFTLFNBQVMsRUFBTSxDQUN6QyxTQUFLLEtBQUtBLEVBQVcsSUFDZCxHQUFNLEdBQVdBLEVBQVcsS0FzQ3JDLFlBQWlCLEVBQVEsRUFBVyxDQUNsQyxNQUFPLElBQVksRUFBUSxHQUFZLEVBQVcsR0FBSSxJQXNDeEQsWUFBcUIsRUFBUSxFQUFXLENBQ3RDLE1BQU8sSUFBWSxFQUFRLEdBQVksRUFBVyxHQUFJLElBK0J4RCxZQUFlLEVBQVEsRUFBVSxDQUMvQixNQUFPLElBQVUsS0FDYixFQUNBLEdBQVEsRUFBUSxHQUFZLEVBQVUsR0FBSSxJQTZCaEQsWUFBb0IsRUFBUSxFQUFVLENBQ3BDLE1BQU8sSUFBVSxLQUNiLEVBQ0EsR0FBYSxFQUFRLEdBQVksRUFBVSxHQUFJLElBK0JyRCxZQUFnQixFQUFRLEVBQVUsQ0FDaEMsTUFBTyxJQUFVLEdBQVcsRUFBUSxHQUFZLEVBQVUsSUE2QjVELFlBQXFCLEVBQVEsRUFBVSxDQUNyQyxNQUFPLElBQVUsR0FBZ0IsRUFBUSxHQUFZLEVBQVUsSUEwQmpFLFlBQW1CLEVBQVEsQ0FDekIsTUFBTyxJQUFVLEtBQU8sR0FBSyxHQUFjLEVBQVEsR0FBSyxJQTBCMUQsWUFBcUIsRUFBUSxDQUMzQixNQUFPLElBQVUsS0FBTyxHQUFLLEdBQWMsRUFBUSxHQUFPLElBNEI1RCxZQUFhLEVBQVEsRUFBTSxFQUFjLENBQ3ZDLEdBQUksR0FBUyxHQUFVLEtBQU9BLEVBQVksR0FBUSxFQUFRLEdBQzFELE1BQU8sS0FBV0EsRUFBWSxFQUFlLEVBOEIvQyxZQUFhLEVBQVEsRUFBTSxDQUN6QixNQUFPLElBQVUsTUFBUSxHQUFRLEVBQVEsRUFBTSxJQTZCakQsWUFBZSxFQUFRLEVBQU0sQ0FDM0IsTUFBTyxJQUFVLE1BQVEsR0FBUSxFQUFRLEVBQU0sSUFxQmpELEdBQUksSUFBUyxHQUFlLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDdkQsQUFBSSxHQUFTLE1BQ1QsTUFBTyxHQUFNLFVBQVksWUFDM0IsR0FBUSxHQUFxQixLQUFLLElBR3BDLEVBQU8sR0FBUyxHQUNmLEdBQVMsS0E0QlIsR0FBVyxHQUFlLFNBQVMsRUFBUSxFQUFPLEVBQUssQ0FDekQsQUFBSSxHQUFTLE1BQ1QsTUFBTyxHQUFNLFVBQVksWUFDM0IsR0FBUSxHQUFxQixLQUFLLElBR3BDLEFBQUksR0FBZSxLQUFLLEVBQVEsR0FDOUIsRUFBTyxHQUFPLEtBQUssR0FFbkIsRUFBTyxHQUFTLENBQUMsSUFFbEIsSUFvQkMsR0FBUyxHQUFTLElBOEJ0QixZQUFjLEVBQVEsQ0FDcEIsTUFBTyxJQUFZLEdBQVUsR0FBYyxHQUFVLEdBQVMsR0EwQmhFLFlBQWdCLEVBQVEsQ0FDdEIsTUFBTyxJQUFZLEdBQVUsR0FBYyxFQUFRLElBQVEsR0FBVyxHQXdCeEUsWUFBaUIsRUFBUSxFQUFVLENBQ2pDLEdBQUksR0FBUyxHQUNiLFNBQVcsR0FBWSxFQUFVLEdBRWpDLEdBQVcsRUFBUSxTQUFTLEVBQU8sRUFBSyxFQUFRLENBQzlDLEdBQWdCLEVBQVEsRUFBUyxFQUFPLEVBQUssR0FBUyxLQUVqRCxFQStCVCxZQUFtQixFQUFRLEVBQVUsQ0FDbkMsR0FBSSxHQUFTLEdBQ2IsU0FBVyxHQUFZLEVBQVUsR0FFakMsR0FBVyxFQUFRLFNBQVMsRUFBTyxFQUFLLEVBQVEsQ0FDOUMsR0FBZ0IsRUFBUSxFQUFLLEVBQVMsRUFBTyxFQUFLLE1BRTdDLEVBa0NULEdBQUksSUFBUSxHQUFlLFNBQVMsRUFBUSxFQUFRLEVBQVUsQ0FDNUQsR0FBVSxFQUFRLEVBQVEsS0FrQ3hCLEdBQVksR0FBZSxTQUFTLEVBQVEsRUFBUSxFQUFVLEVBQVksQ0FDNUUsR0FBVSxFQUFRLEVBQVEsRUFBVSxLQXVCbEMsR0FBTyxHQUFTLFNBQVMsRUFBUSxFQUFPLENBQzFDLEdBQUksR0FBUyxHQUNiLEdBQUksR0FBVSxLQUNaLE1BQU8sR0FFVCxHQUFJLEdBQVMsR0FDYixFQUFRLEdBQVMsRUFBTyxTQUFTLEVBQU0sQ0FDckMsU0FBTyxHQUFTLEVBQU0sR0FDdEIsR0FBVyxHQUFTLEVBQUssT0FBUyxHQUMzQixJQUVULEdBQVcsRUFBUSxHQUFhLEdBQVMsR0FDckMsR0FDRixHQUFTLEdBQVUsRUFBUSxFQUFrQixFQUFrQixFQUFvQixLQUdyRixPQURJLEdBQVMsRUFBTSxPQUNaLEtBQ0wsR0FBVSxFQUFRLEVBQU0sSUFFMUIsTUFBTyxLQXVCVCxZQUFnQixFQUFRLEVBQVcsQ0FDakMsTUFBTyxJQUFPLEVBQVEsR0FBTyxHQUFZLEtBb0IzQyxHQUFJLElBQU8sR0FBUyxTQUFTLEVBQVEsRUFBTyxDQUMxQyxNQUFPLElBQVUsS0FBTyxHQUFLLEdBQVMsRUFBUSxLQXFCaEQsWUFBZ0IsRUFBUSxFQUFXLENBQ2pDLEdBQUksR0FBVSxLQUNaLE1BQU8sR0FFVCxHQUFJLEdBQVEsR0FBUyxHQUFhLEdBQVMsU0FBUyxFQUFNLENBQ3hELE1BQU8sQ0FBQyxLQUVWLFNBQVksR0FBWSxHQUNqQixHQUFXLEVBQVEsRUFBTyxTQUFTLEVBQU8sRUFBTSxDQUNyRCxNQUFPLEdBQVUsRUFBTyxFQUFLLE1BaUNqQyxZQUFnQixFQUFRLEVBQU0sRUFBYyxDQUMxQyxFQUFPLEdBQVMsRUFBTSxHQUV0QixHQUFJLEdBQVEsR0FDUixFQUFTLEVBQUssT0FPbEIsSUFKSyxHQUNILEdBQVMsRUFDVCxFQUFTQSxHQUVKLEVBQUUsRUFBUSxHQUFRLENBQ3ZCLEdBQUksR0FBUSxHQUFVLEtBQU9BLEVBQVksRUFBTyxHQUFNLEVBQUssS0FDM0QsQUFBSSxJQUFVQSxHQUNaLEdBQVEsRUFDUixFQUFRLEdBRVYsRUFBUyxHQUFXLEdBQVMsRUFBTSxLQUFLLEdBQVUsRUFFcEQsTUFBTyxHQStCVCxZQUFhLEVBQVEsRUFBTSxFQUFPLENBQ2hDLE1BQU8sSUFBVSxLQUFPLEVBQVMsR0FBUSxFQUFRLEVBQU0sR0EyQnpELFlBQWlCLEVBQVEsRUFBTSxFQUFPLEVBQVksQ0FDaEQsU0FBYSxNQUFPLElBQWMsV0FBYSxFQUFhQSxFQUNyRCxHQUFVLEtBQU8sRUFBUyxHQUFRLEVBQVEsRUFBTSxFQUFPLEdBMkJoRSxHQUFJLElBQVUsR0FBYyxJQTBCeEIsR0FBWSxHQUFjLElBZ0M5QixZQUFtQixFQUFRLEVBQVUsRUFBYSxDQUNoRCxHQUFJLEdBQVEsR0FBUSxHQUNoQixFQUFZLEdBQVMsR0FBUyxJQUFXLEdBQWEsR0FHMUQsR0FEQSxFQUFXLEdBQVksRUFBVSxHQUM3QixHQUFlLEtBQU0sQ0FDdkIsR0FBSSxHQUFPLEdBQVUsRUFBTyxZQUM1QixBQUFJLEVBQ0YsRUFBYyxFQUFRLEdBQUksR0FBTyxHQUU5QixBQUFJLEdBQVMsR0FDaEIsRUFBYyxHQUFXLEdBQVEsR0FBVyxHQUFhLElBQVcsR0FHcEUsRUFBYyxHQUdsQixNQUFDLEdBQVksR0FBWSxJQUFZLEVBQVEsU0FBUyxFQUFPLEVBQU8sRUFBUSxDQUMxRSxNQUFPLEdBQVMsRUFBYSxFQUFPLEVBQU8sS0FFdEMsRUE4QlQsWUFBZSxFQUFRLEVBQU0sQ0FDM0IsTUFBTyxJQUFVLEtBQU8sR0FBTyxHQUFVLEVBQVEsR0E4Qm5ELFlBQWdCLEVBQVEsRUFBTSxFQUFTLENBQ3JDLE1BQU8sSUFBVSxLQUFPLEVBQVMsR0FBVyxFQUFRLEVBQU0sR0FBYSxJQTJCekUsWUFBb0IsRUFBUSxFQUFNLEVBQVMsRUFBWSxDQUNyRCxTQUFhLE1BQU8sSUFBYyxXQUFhLEVBQWFBLEVBQ3JELEdBQVUsS0FBTyxFQUFTLEdBQVcsRUFBUSxFQUFNLEdBQWEsR0FBVSxHQTZCbkYsWUFBZ0IsRUFBUSxDQUN0QixNQUFPLElBQVUsS0FBTyxHQUFLLEdBQVcsRUFBUSxHQUFLLElBMkJ2RCxZQUFrQixFQUFRLENBQ3hCLE1BQU8sSUFBVSxLQUFPLEdBQUssR0FBVyxFQUFRLEdBQU8sSUF3QnpELFlBQWUsRUFBUSxFQUFPLEVBQU8sQ0FDbkMsTUFBSSxLQUFVQSxHQUNaLEdBQVEsRUFDUixFQUFRQSxHQUVOLElBQVVBLEdBQ1osR0FBUSxHQUFTLEdBQ2pCLEVBQVEsSUFBVSxFQUFRLEVBQVEsR0FFaEMsSUFBVUEsR0FDWixHQUFRLEdBQVMsR0FDakIsRUFBUSxJQUFVLEVBQVEsRUFBUSxHQUU3QixHQUFVLEdBQVMsR0FBUyxFQUFPLEdBeUM1QyxZQUFpQixFQUFRLEVBQU8sRUFBSyxDQUNuQyxTQUFRLEdBQVMsR0FDakIsQUFBSSxJQUFRQSxFQUNWLEdBQU0sRUFDTixFQUFRLEdBRVIsRUFBTSxHQUFTLEdBRWpCLEVBQVMsR0FBUyxHQUNYLEdBQVksRUFBUSxFQUFPLEdBa0NwQyxZQUFnQixFQUFPLEVBQU8sRUFBVSxDQTJCdEMsR0ExQkksR0FBWSxNQUFPLElBQVksV0FBYSxHQUFlLEVBQU8sRUFBTyxJQUMzRSxHQUFRLEVBQVdBLEdBRWpCLElBQWFBLEdBQ2YsQ0FBSSxNQUFPLElBQVMsVUFDbEIsR0FBVyxFQUNYLEVBQVFBLEdBRUQsTUFBTyxJQUFTLFdBQ3ZCLEdBQVcsRUFDWCxFQUFRQSxJQUdaLEFBQUksSUFBVUEsR0FBYSxJQUFVQSxFQUNuQyxHQUFRLEVBQ1IsRUFBUSxHQUdSLEdBQVEsR0FBUyxHQUNqQixBQUFJLElBQVVBLEVBQ1osR0FBUSxFQUNSLEVBQVEsR0FFUixFQUFRLEdBQVMsSUFHakIsRUFBUSxFQUFPLENBQ2pCLEdBQUksR0FBTyxFQUNYLEVBQVEsRUFDUixFQUFRLEVBRVYsR0FBSSxHQUFZLEVBQVEsR0FBSyxFQUFRLEVBQUcsQ0FDdEMsR0FBSSxHQUFPLEtBQ1gsTUFBTyxJQUFVLEVBQVMsRUFBUSxHQUFRLEVBQVEsR0FBZSxNQUFVLElBQU8sSUFBSSxPQUFTLEtBQU8sR0FFeEcsTUFBTyxJQUFXLEVBQU8sR0F5QjNCLEdBQUksSUFBWSxHQUFpQixTQUFTLEVBQVEsRUFBTSxFQUFPLENBQzdELFNBQU8sRUFBSyxjQUNMLEVBQVUsR0FBUSxHQUFXLEdBQVEsS0FrQjlDLFlBQW9CLEVBQVEsQ0FDMUIsTUFBTyxJQUFXLEdBQVMsR0FBUSxlQXFCckMsWUFBZ0IsRUFBUSxDQUN0QixTQUFTLEdBQVMsR0FDWCxHQUFVLEVBQU8sUUFBUSxHQUFTLElBQWMsUUFBUSxHQUFhLElBMEI5RSxZQUFrQixFQUFRLEVBQVEsRUFBVSxDQUMxQyxFQUFTLEdBQVMsR0FDbEIsRUFBUyxHQUFhLEdBRXRCLEdBQUksR0FBUyxFQUFPLE9BQ3BCLEVBQVcsSUFBYUEsRUFDcEIsRUFDQSxHQUFVLEdBQVUsR0FBVyxFQUFHLEdBRXRDLEdBQUksR0FBTSxFQUNWLFVBQVksRUFBTyxPQUNaLEdBQVksR0FBSyxFQUFPLE1BQU0sRUFBVSxJQUFRLEVBK0J6RCxZQUFnQixFQUFRLENBQ3RCLFNBQVMsR0FBUyxHQUNWLEdBQVUsR0FBbUIsS0FBSyxHQUN0QyxFQUFPLFFBQVEsR0FBaUIsSUFDaEMsRUFrQk4sWUFBc0IsRUFBUSxDQUM1QixTQUFTLEdBQVMsR0FDVixHQUFVLEdBQWdCLEtBQUssR0FDbkMsRUFBTyxRQUFRLEdBQWMsUUFDN0IsRUF3Qk4sR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEVBQUssZ0JBdUJ4QyxHQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEVBQUssZ0JBb0J4QyxHQUFhLEdBQWdCLGVBeUJqQyxZQUFhLEVBQVEsRUFBUSxFQUFPLENBQ2xDLEVBQVMsR0FBUyxHQUNsQixFQUFTLEdBQVUsR0FFbkIsR0FBSSxHQUFZLEVBQVMsR0FBVyxHQUFVLEVBQzlDLEdBQUksQ0FBQyxHQUFVLEdBQWEsRUFDMUIsTUFBTyxHQUVULEdBQUksR0FBTyxHQUFTLEdBQWEsRUFDakMsTUFDRSxJQUFjLEdBQVksR0FBTSxHQUNoQyxFQUNBLEdBQWMsR0FBVyxHQUFNLEdBMkJuQyxZQUFnQixFQUFRLEVBQVEsRUFBTyxDQUNyQyxFQUFTLEdBQVMsR0FDbEIsRUFBUyxHQUFVLEdBRW5CLEdBQUksR0FBWSxFQUFTLEdBQVcsR0FBVSxFQUM5QyxNQUFRLElBQVUsRUFBWSxFQUN6QixFQUFTLEdBQWMsRUFBUyxFQUFXLEdBQzVDLEVBMEJOLFlBQWtCLEVBQVEsRUFBUSxFQUFPLENBQ3ZDLEVBQVMsR0FBUyxHQUNsQixFQUFTLEdBQVUsR0FFbkIsR0FBSSxHQUFZLEVBQVMsR0FBVyxHQUFVLEVBQzlDLE1BQVEsSUFBVSxFQUFZLEVBQ3pCLEdBQWMsRUFBUyxFQUFXLEdBQVMsRUFDNUMsRUEyQk4sWUFBa0IsRUFBUSxFQUFPLEVBQU8sQ0FDdEMsTUFBSSxJQUFTLEdBQVMsS0FDcEIsRUFBUSxFQUNDLEdBQ1QsR0FBUSxDQUFDLEdBRUosR0FBZSxHQUFTLEdBQVEsUUFBUSxHQUFhLElBQUssR0FBUyxHQXlCNUUsWUFBZ0IsRUFBUSxFQUFHLEVBQU8sQ0FDaEMsTUFBSyxHQUFRLEdBQWUsRUFBUSxFQUFHLEdBQVMsSUFBTUEsR0FDcEQsRUFBSSxFQUVKLEVBQUksR0FBVSxHQUVULEdBQVcsR0FBUyxHQUFTLEdBc0J0QyxhQUFtQixDQUNqQixHQUFJLEdBQU8sVUFDUCxFQUFTLEdBQVMsRUFBSyxJQUUzQixNQUFPLEdBQUssT0FBUyxFQUFJLEVBQVMsRUFBTyxRQUFRLEVBQUssR0FBSSxFQUFLLElBd0JqRSxHQUFJLElBQVksR0FBaUIsU0FBUyxFQUFRLEVBQU0sRUFBTyxDQUM3RCxNQUFPLEdBQVUsR0FBUSxJQUFNLElBQU0sRUFBSyxnQkFzQjVDLFlBQWUsRUFBUSxFQUFXLEVBQU8sQ0FLdkMsTUFKSSxJQUFTLE1BQU8sSUFBUyxVQUFZLEdBQWUsRUFBUSxFQUFXLElBQ3pFLEdBQVksRUFBUUEsR0FFdEIsRUFBUSxJQUFVQSxFQUFZLEdBQW1CLElBQVUsRUFDdkQsQUFBQyxFQUdMLEdBQVMsR0FBUyxHQUNkLEdBQ0UsT0FBTyxJQUFhLFVBQ25CLEdBQWEsTUFBUSxDQUFDLEdBQVMsS0FFcEMsR0FBWSxHQUFhLEdBQ3JCLENBQUMsR0FBYSxHQUFXLElBQ3BCLEdBQVUsR0FBYyxHQUFTLEVBQUcsR0FHeEMsRUFBTyxNQUFNLEVBQVcsSUFadEIsR0FvQ1gsR0FBSSxJQUFZLEdBQWlCLFNBQVMsRUFBUSxFQUFNLEVBQU8sQ0FDN0QsTUFBTyxHQUFVLEdBQVEsSUFBTSxJQUFNLEdBQVcsS0EwQmxELFlBQW9CLEVBQVEsRUFBUSxFQUFVLENBQzVDLFNBQVMsR0FBUyxHQUNsQixFQUFXLEdBQVksS0FDbkIsRUFDQSxHQUFVLEdBQVUsR0FBVyxFQUFHLEVBQU8sUUFFN0MsRUFBUyxHQUFhLEdBQ2YsRUFBTyxNQUFNLEVBQVUsRUFBVyxFQUFPLFNBQVcsRUEyRzdELFlBQWtCLEVBQVEsRUFBUyxFQUFPLENBSXhDLEdBQUksR0FBVyxFQUFPLGlCQUV0QixBQUFJLEdBQVMsR0FBZSxFQUFRLEVBQVMsSUFDM0MsR0FBVUEsR0FFWixFQUFTLEdBQVMsR0FDbEIsRUFBVSxHQUFhLEdBQUksRUFBUyxFQUFVLElBRTlDLEdBQUksR0FBVSxHQUFhLEdBQUksRUFBUSxRQUFTLEVBQVMsUUFBUyxJQUM5RCxFQUFjLEdBQUssR0FDbkIsRUFBZ0IsR0FBVyxFQUFTLEdBRXBDLEVBQ0EsRUFDQSxFQUFRLEVBQ1IsRUFBYyxFQUFRLGFBQWUsR0FDckMsRUFBUyxXQUdULEdBQWUsR0FDaEIsR0FBUSxRQUFVLElBQVcsT0FBUyxJQUN2QyxFQUFZLE9BQVMsSUFDcEIsS0FBZ0IsR0FBZ0IsR0FBZSxJQUFXLE9BQVMsSUFDbkUsR0FBUSxVQUFZLElBQVcsT0FBUyxLQUN6QyxLQU1FLEdBQVksaUJBQ2IsSUFBZSxLQUFLLEVBQVMsYUFDekIsR0FBUSxVQUFZLElBQUksUUFBUSxNQUFPLEtBQ3ZDLDBCQUE2QixHQUFFLEdBQW1CLEtBQ25EO0FBQUEsRUFFTixFQUFPLFFBQVEsR0FBYyxTQUFTLEdBQU8sR0FBYSxHQUFrQixHQUFpQixHQUFlLEdBQVEsQ0FDbEgsV0FBcUIsSUFBbUIsSUFHeEMsR0FBVSxFQUFPLE1BQU0sRUFBTyxJQUFRLFFBQVEsR0FBbUIsSUFHN0QsSUFDRixHQUFhLEdBQ2IsR0FBVTtBQUFBLE1BQWMsR0FBYztBQUFBLElBRXBDLElBQ0YsR0FBZSxHQUNmLEdBQVU7QUFBQSxFQUFTLEdBQWdCO0FBQUEsV0FFakMsSUFDRixJQUFVO0FBQUEsV0FBbUIsR0FBbUI7QUFBQSxJQUVsRCxFQUFRLEdBQVMsR0FBTSxPQUloQixLQUdULEdBQVU7QUFBQSxFQUlWLEdBQUksSUFBVyxHQUFlLEtBQUssRUFBUyxhQUFlLEVBQVEsU0FDbkUsR0FBSSxDQUFDLEdBQ0gsRUFBUztBQUFBLEVBQW1CLEVBQVM7QUFBQTtBQUFBLFVBSTlCLEdBQTJCLEtBQUssSUFDdkMsS0FBTSxJQUFJLElBQU0sR0FJbEIsRUFBVSxHQUFlLEVBQU8sUUFBUSxHQUFzQixJQUFNLEdBQ2pFLFFBQVEsR0FBcUIsTUFDN0IsUUFBUSxHQUF1QixPQUdsQyxFQUFTLFlBQWUsS0FBWSxPQUFTO0FBQUEsRUFDMUMsSUFDRyxHQUNBO0FBQUEsR0FFSixvQkFDQyxHQUNJLG1CQUNBLElBRUosR0FDRztBQUFBO0FBQUEsRUFFQTtBQUFBLEdBRUosRUFDQTtBQUFBLEdBRUYsR0FBSSxJQUFTLEdBQVEsVUFBVyxDQUM5QixNQUFPLElBQVMsRUFBYSxHQUFZLFVBQVksR0FDbEQsTUFBTUEsRUFBVyxLQU10QixHQURBLEdBQU8sT0FBUyxFQUNaLEdBQVEsSUFDVixLQUFNLElBRVIsTUFBTyxJQXdCVCxZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxHQUFPLGNBd0J6QixZQUFpQixFQUFPLENBQ3RCLE1BQU8sSUFBUyxHQUFPLGNBeUJ6QixZQUFjLEVBQVEsRUFBTyxFQUFPLENBRWxDLEdBREEsRUFBUyxHQUFTLEdBQ2QsR0FBVyxJQUFTLElBQVVBLEdBQ2hDLE1BQU8sSUFBUyxHQUVsQixHQUFJLENBQUMsR0FBVSxDQUFFLEdBQVEsR0FBYSxJQUNwQyxNQUFPLEdBRVQsR0FBSSxHQUFhLEdBQWMsR0FDM0IsRUFBYSxHQUFjLEdBQzNCLEVBQVEsR0FBZ0IsRUFBWSxHQUNwQyxFQUFNLEdBQWMsRUFBWSxHQUFjLEVBRWxELE1BQU8sSUFBVSxFQUFZLEVBQU8sR0FBSyxLQUFLLElBc0JoRCxZQUFpQixFQUFRLEVBQU8sRUFBTyxDQUVyQyxHQURBLEVBQVMsR0FBUyxHQUNkLEdBQVcsSUFBUyxJQUFVQSxHQUNoQyxNQUFPLEdBQU8sTUFBTSxFQUFHLEdBQWdCLEdBQVUsR0FFbkQsR0FBSSxDQUFDLEdBQVUsQ0FBRSxHQUFRLEdBQWEsSUFDcEMsTUFBTyxHQUVULEdBQUksR0FBYSxHQUFjLEdBQzNCLEVBQU0sR0FBYyxFQUFZLEdBQWMsSUFBVSxFQUU1RCxNQUFPLElBQVUsRUFBWSxFQUFHLEdBQUssS0FBSyxJQXNCNUMsWUFBbUIsRUFBUSxFQUFPLEVBQU8sQ0FFdkMsR0FEQSxFQUFTLEdBQVMsR0FDZCxHQUFXLElBQVMsSUFBVUEsR0FDaEMsTUFBTyxHQUFPLFFBQVEsR0FBYSxJQUVyQyxHQUFJLENBQUMsR0FBVSxDQUFFLEdBQVEsR0FBYSxJQUNwQyxNQUFPLEdBRVQsR0FBSSxHQUFhLEdBQWMsR0FDM0IsRUFBUSxHQUFnQixFQUFZLEdBQWMsSUFFdEQsTUFBTyxJQUFVLEVBQVksR0FBTyxLQUFLLElBd0MzQyxZQUFrQixFQUFRLEVBQVMsQ0FDakMsR0FBSSxHQUFTLEdBQ1QsRUFBVyxHQUVmLEdBQUksR0FBUyxHQUFVLENBQ3JCLEdBQUksR0FBWSxhQUFlLEdBQVUsRUFBUSxVQUFZLEVBQzdELEVBQVMsVUFBWSxHQUFVLEdBQVUsRUFBUSxRQUFVLEVBQzNELEVBQVcsWUFBYyxHQUFVLEdBQWEsRUFBUSxVQUFZLEVBRXRFLEVBQVMsR0FBUyxHQUVsQixHQUFJLEdBQVksRUFBTyxPQUN2QixHQUFJLEdBQVcsR0FBUyxDQUN0QixHQUFJLEdBQWEsR0FBYyxHQUMvQixFQUFZLEVBQVcsT0FFekIsR0FBSSxHQUFVLEVBQ1osTUFBTyxHQUVULEdBQUksR0FBTSxFQUFTLEdBQVcsR0FDOUIsR0FBSSxFQUFNLEVBQ1IsTUFBTyxHQUVULEdBQUksR0FBUyxFQUNULEdBQVUsRUFBWSxFQUFHLEdBQUssS0FBSyxJQUNuQyxFQUFPLE1BQU0sRUFBRyxHQUVwQixHQUFJLElBQWNBLEVBQ2hCLE1BQU8sR0FBUyxFQUtsQixHQUhJLEdBQ0YsSUFBUSxFQUFPLE9BQVMsR0FFdEIsR0FBUyxJQUNYLEdBQUksRUFBTyxNQUFNLEdBQUssT0FBTyxHQUFZLENBQ3ZDLEdBQUksR0FDQSxFQUFZLEVBTWhCLElBSkssRUFBVSxRQUNiLEdBQVksR0FBTyxFQUFVLE9BQVEsR0FBUyxHQUFRLEtBQUssSUFBYyxNQUUzRSxFQUFVLFVBQVksRUFDZCxFQUFRLEVBQVUsS0FBSyxJQUM3QixHQUFJLEdBQVMsRUFBTSxNQUVyQixFQUFTLEVBQU8sTUFBTSxFQUFHLElBQVdBLEVBQVksRUFBTSxZQUUvQyxFQUFPLFFBQVEsR0FBYSxHQUFZLElBQVEsRUFBSyxDQUM5RCxHQUFJLElBQVEsRUFBTyxZQUFZLEdBQy9CLEFBQUksR0FBUSxJQUNWLEdBQVMsRUFBTyxNQUFNLEVBQUcsS0FHN0IsTUFBTyxHQUFTLEVBc0JsQixZQUFrQixFQUFRLENBQ3hCLFNBQVMsR0FBUyxHQUNWLEdBQVUsR0FBaUIsS0FBSyxHQUNwQyxFQUFPLFFBQVEsR0FBZSxJQUM5QixFQXVCTixHQUFJLElBQVksR0FBaUIsU0FBUyxFQUFRLEVBQU0sRUFBTyxDQUM3RCxNQUFPLEdBQVUsR0FBUSxJQUFNLElBQU0sRUFBSyxnQkFvQnhDLEdBQWEsR0FBZ0IsZUFxQmpDLFlBQWUsRUFBUSxFQUFTLEVBQU8sQ0FJckMsTUFIQSxHQUFTLEdBQVMsR0FDbEIsRUFBVSxFQUFRQSxFQUFZLEVBRTFCLElBQVlBLEVBQ1AsR0FBZSxHQUFVLEdBQWEsR0FBVSxHQUFXLEdBRTdELEVBQU8sTUFBTSxJQUFZLEdBMkJsQyxHQUFJLElBQVUsR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUMxQyxHQUFJLENBQ0YsTUFBTyxJQUFNLEVBQU1BLEVBQVcsU0FDdkIsRUFBUCxDQUNBLE1BQU8sSUFBUSxHQUFLLEVBQUksR0FBSSxJQUFNLE1BOEJsQyxHQUFVLEdBQVMsU0FBUyxFQUFRLEVBQWEsQ0FDbkQsVUFBVSxFQUFhLFNBQVMsRUFBSyxDQUNuQyxFQUFNLEdBQU0sR0FDWixHQUFnQixFQUFRLEVBQUssR0FBSyxFQUFPLEdBQU0sTUFFMUMsSUFnQ1QsWUFBYyxFQUFPLENBQ25CLEdBQUksR0FBUyxHQUFTLEtBQU8sRUFBSSxFQUFNLE9BQ25DLEVBQWEsS0FFakIsU0FBUSxBQUFDLEVBQWMsR0FBUyxFQUFPLFNBQVMsRUFBTSxDQUNwRCxHQUFJLE1BQU8sR0FBSyxJQUFNLFdBQ3BCLEtBQU0sSUFBSSxJQUFVLEdBRXRCLE1BQU8sQ0FBQyxFQUFXLEVBQUssSUFBSyxFQUFLLE1BSmxCLEdBT1gsR0FBUyxTQUFTLEVBQU0sQ0FFN0IsT0FESSxHQUFRLEdBQ0wsRUFBRSxFQUFRLEdBQVEsQ0FDdkIsR0FBSSxHQUFPLEVBQU0sR0FDakIsR0FBSSxHQUFNLEVBQUssR0FBSSxLQUFNLEdBQ3ZCLE1BQU8sSUFBTSxFQUFLLEdBQUksS0FBTSxNQThCcEMsWUFBa0IsRUFBUSxDQUN4QixNQUFPLElBQWEsR0FBVSxFQUFRLElBc0J4QyxZQUFrQixFQUFPLENBQ3ZCLE1BQU8sV0FBVyxDQUNoQixNQUFPLElBd0JYLFlBQW1CLEVBQU8sRUFBYyxDQUN0QyxNQUFRLElBQVMsTUFBUSxJQUFVLEVBQVMsRUFBZSxFQXlCN0QsR0FBSSxJQUFPLEtBdUJQLEdBQVksR0FBVyxJQWtCM0IsWUFBa0IsRUFBTyxDQUN2QixNQUFPLEdBNkNULFlBQWtCLEVBQU0sQ0FDdEIsTUFBTyxJQUFhLE1BQU8sSUFBUSxXQUFhLEVBQU8sR0FBVSxFQUFNLElBc0N6RSxZQUFpQixFQUFRLENBQ3ZCLE1BQU8sSUFBWSxHQUFVLEVBQVEsSUFvQ3ZDLFlBQXlCLEVBQU0sRUFBVSxDQUN2QyxNQUFPLElBQW9CLEVBQU0sR0FBVSxFQUFVLElBMkJ2RCxHQUFJLElBQVMsR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUN6QyxNQUFPLFVBQVMsRUFBUSxDQUN0QixNQUFPLElBQVcsRUFBUSxFQUFNLE1BMkJoQyxHQUFXLEdBQVMsU0FBUyxFQUFRLEVBQU0sQ0FDN0MsTUFBTyxVQUFTLEVBQU0sQ0FDcEIsTUFBTyxJQUFXLEVBQVEsRUFBTSxNQXdDcEMsWUFBZSxFQUFRLEVBQVEsRUFBUyxDQUN0QyxHQUFJLEdBQVEsR0FBSyxHQUNiLEVBQWMsR0FBYyxFQUFRLEdBRXhDLEFBQUksR0FBVyxNQUNYLENBQUUsSUFBUyxJQUFZLEdBQVksUUFBVSxDQUFDLEVBQU0sVUFDdEQsR0FBVSxFQUNWLEVBQVMsRUFDVCxFQUFTLEtBQ1QsRUFBYyxHQUFjLEVBQVEsR0FBSyxLQUUzQyxHQUFJLEdBQVEsQ0FBRSxJQUFTLElBQVksU0FBVyxLQUFZLENBQUMsQ0FBQyxFQUFRLE1BQ2hFLEVBQVMsR0FBVyxHQUV4QixVQUFVLEVBQWEsU0FBUyxFQUFZLENBQzFDLEdBQUksR0FBTyxFQUFPLEdBQ2xCLEVBQU8sR0FBYyxFQUNqQixHQUNGLEdBQU8sVUFBVSxHQUFjLFVBQVcsQ0FDeEMsR0FBSSxHQUFXLEtBQUssVUFDcEIsR0FBSSxHQUFTLEVBQVUsQ0FDckIsR0FBSSxHQUFTLEVBQU8sS0FBSyxhQUNyQixFQUFVLEVBQU8sWUFBYyxHQUFVLEtBQUssYUFFbEQsU0FBUSxLQUFLLENBQUUsS0FBUSxFQUFNLEtBQVEsVUFBVyxRQUFXLElBQzNELEVBQU8sVUFBWSxFQUNaLEVBRVQsTUFBTyxHQUFLLE1BQU0sRUFBUSxHQUFVLENBQUMsS0FBSyxTQUFVLGdCQUtuRCxFQWdCVCxhQUFzQixDQUNwQixNQUFJLElBQUssSUFBTSxNQUNiLElBQUssRUFBSSxJQUVKLEtBZVQsYUFBZ0IsRUF3QmhCLFlBQWdCLEVBQUcsQ0FDakIsU0FBSSxHQUFVLEdBQ1AsR0FBUyxTQUFTLEVBQU0sQ0FDN0IsTUFBTyxJQUFRLEVBQU0sS0FzQnpCLEdBQUksSUFBTyxHQUFXLElBOEJsQixHQUFZLEdBQVcsSUFpQ3ZCLEdBQVcsR0FBVyxJQXdCMUIsWUFBa0IsRUFBTSxDQUN0QixNQUFPLElBQU0sR0FBUSxHQUFhLEdBQU0sSUFBUyxHQUFpQixHQXdCcEUsWUFBb0IsRUFBUSxDQUMxQixNQUFPLFVBQVMsRUFBTSxDQUNwQixNQUFPLElBQVUsS0FBT0EsRUFBWSxHQUFRLEVBQVEsSUE2Q3hELEdBQUksSUFBUSxLQXNDUixHQUFhLEdBQVksSUFvQjdCLGFBQXFCLENBQ25CLE1BQU8sR0FnQlQsYUFBcUIsQ0FDbkIsTUFBTyxHQXFCVCxhQUFzQixDQUNwQixNQUFPLEdBZ0JULGFBQXNCLENBQ3BCLE1BQU8sR0FnQlQsYUFBb0IsQ0FDbEIsTUFBTyxHQXNCVCxZQUFlLEVBQUcsRUFBVSxDQUUxQixHQURBLEVBQUksR0FBVSxHQUNWLEVBQUksR0FBSyxFQUFJLEVBQ2YsTUFBTyxHQUVULEdBQUksR0FBUSxHQUNSLEVBQVMsR0FBVSxFQUFHLElBRTFCLEVBQVcsR0FBWSxHQUN2QixHQUFLLEdBR0wsT0FESSxHQUFTLEdBQVUsRUFBUSxHQUN4QixFQUFFLEVBQVEsR0FDZixFQUFTLEdBRVgsTUFBTyxHQW9CVCxZQUFnQixFQUFPLENBQ3JCLE1BQUksSUFBUSxHQUNILEdBQVMsRUFBTyxJQUVsQixHQUFTLEdBQVMsQ0FBQyxHQUFTLEdBQVUsR0FBYSxHQUFTLEtBb0JyRSxZQUFrQixFQUFRLENBQ3hCLEdBQUksR0FBSyxFQUFFLEdBQ1gsTUFBTyxJQUFTLEdBQVUsRUFvQjVCLEdBQUksSUFBTSxHQUFvQixTQUFTLEVBQVEsRUFBUSxDQUNyRCxNQUFPLEdBQVMsR0FDZixHQXVCQyxHQUFPLEdBQVksUUFpQm5CLEdBQVMsR0FBb0IsU0FBUyxFQUFVLEVBQVMsQ0FDM0QsTUFBTyxHQUFXLEdBQ2pCLEdBdUJDLEdBQVEsR0FBWSxTQW9CeEIsWUFBYSxFQUFPLENBQ2xCLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWEsRUFBTyxHQUFVLElBQzlCQSxFQTBCTixZQUFlLEVBQU8sRUFBVSxDQUM5QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFhLEVBQU8sR0FBWSxFQUFVLEdBQUksSUFDOUNBLEVBaUJOLFlBQWMsRUFBTyxDQUNuQixNQUFPLElBQVMsRUFBTyxJQTBCekIsWUFBZ0IsRUFBTyxFQUFVLENBQy9CLE1BQU8sSUFBUyxFQUFPLEdBQVksRUFBVSxJQXFCL0MsWUFBYSxFQUFPLENBQ2xCLE1BQVEsSUFBUyxFQUFNLE9BQ25CLEdBQWEsRUFBTyxHQUFVLElBQzlCQSxFQTBCTixZQUFlLEVBQU8sRUFBVSxDQUM5QixNQUFRLElBQVMsRUFBTSxPQUNuQixHQUFhLEVBQU8sR0FBWSxFQUFVLEdBQUksSUFDOUNBLEVBa0JOLEdBQUksSUFBVyxHQUFvQixTQUFTLEVBQVksRUFBYyxDQUNwRSxNQUFPLEdBQWEsR0FDbkIsR0F1QkMsR0FBUSxHQUFZLFNBaUJwQixHQUFXLEdBQW9CLFNBQVMsRUFBUyxFQUFZLENBQy9ELE1BQU8sR0FBVSxHQUNoQixHQWdCSCxZQUFhLEVBQU8sQ0FDbEIsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBUSxFQUFPLElBQ2YsRUEwQk4sWUFBZSxFQUFPLEVBQVUsQ0FDOUIsTUFBUSxJQUFTLEVBQU0sT0FDbkIsR0FBUSxFQUFPLEdBQVksRUFBVSxJQUNyQyxFQU1OLFNBQU8sTUFBUSxHQUNmLEVBQU8sSUFBTSxHQUNiLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sV0FBYSxHQUNwQixFQUFPLEdBQUssR0FDWixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFVBQVksR0FDbkIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sT0FBUyxHQUNoQixFQUFPLEtBQU8sR0FDZCxFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sUUFBVSxHQUNqQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sTUFBUSxHQUNmLEVBQU8sV0FBYSxHQUNwQixFQUFPLGFBQWUsR0FDdEIsRUFBTyxlQUFpQixHQUN4QixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxlQUFpQixHQUN4QixFQUFPLFVBQVksR0FDbkIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sS0FBTyxHQUNkLEVBQU8sS0FBTyxHQUNkLEVBQU8sVUFBWSxHQUNuQixFQUFPLFVBQVksR0FDbkIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sWUFBYyxHQUNyQixFQUFPLFFBQVUsR0FDakIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sYUFBZSxHQUN0QixFQUFPLGVBQWlCLEdBQ3hCLEVBQU8saUJBQW1CLEdBQzFCLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLEtBQU8sR0FDZCxFQUFPLE9BQVMsR0FDaEIsRUFBTyxJQUFNLEdBQ2IsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFFBQVUsR0FDakIsRUFBTyxnQkFBa0IsR0FDekIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sTUFBUSxHQUNmLEVBQU8sVUFBWSxHQUNuQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sS0FBTyxHQUNkLEVBQU8sUUFBVSxHQUNqQixFQUFPLEtBQU8sR0FDZCxFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sV0FBYSxHQUNwQixFQUFPLEtBQU8sR0FDZCxFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sWUFBYyxHQUNyQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sV0FBYSxHQUNwQixFQUFPLElBQU0sR0FDYixFQUFPLFFBQVUsR0FDakIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sT0FBUyxHQUNoQixFQUFPLEtBQU8sR0FDZCxFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxlQUFpQixHQUN4QixFQUFPLFVBQVksR0FDbkIsRUFBTyxJQUFNLEdBQ2IsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sS0FBTyxHQUNkLEVBQU8sUUFBVSxHQUNqQixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sVUFBWSxHQUNuQixFQUFPLE1BQVEsR0FDZixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sS0FBTyxHQUNkLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxNQUFRLEdBQ2YsRUFBTyxLQUFPLEdBQ2QsRUFBTyxJQUFNLEdBQ2IsRUFBTyxNQUFRLEdBQ2YsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sSUFBTSxHQUNiLEVBQU8sVUFBWSxHQUNuQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sUUFBVSxHQUdqQixFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFdBQWEsR0FHcEIsR0FBTSxFQUFRLEdBS2QsRUFBTyxJQUFNLEdBQ2IsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxNQUFRLEdBQ2YsRUFBTyxNQUFRLEdBQ2YsRUFBTyxVQUFZLEdBQ25CLEVBQU8sY0FBZ0IsR0FDdkIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sV0FBYSxHQUNwQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sT0FBUyxHQUNoQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxHQUFLLEdBQ1osRUFBTyxPQUFTLEdBQ2hCLEVBQU8sYUFBZSxHQUN0QixFQUFPLE1BQVEsR0FDZixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sU0FBVyxHQUNsQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sWUFBYyxHQUNyQixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxhQUFlLEdBQ3RCLEVBQU8sTUFBUSxHQUNmLEVBQU8sV0FBYSxHQUNwQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sSUFBTSxHQUNiLEVBQU8sR0FBSyxHQUNaLEVBQU8sSUFBTSxHQUNiLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sS0FBTyxHQUNkLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sUUFBVSxHQUNqQixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sWUFBYyxHQUNyQixFQUFPLGtCQUFvQixHQUMzQixFQUFPLFVBQVksR0FDbkIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sT0FBUyxHQUNoQixFQUFPLFVBQVksR0FDbkIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sUUFBVSxHQUNqQixFQUFPLFlBQWMsR0FDckIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sU0FBVyxHQUNsQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLFFBQVUsR0FDakIsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sTUFBUSxHQUNmLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sU0FBVyxHQUNsQixFQUFPLGFBQWUsR0FDdEIsRUFBTyxjQUFnQixHQUN2QixFQUFPLFNBQVcsR0FDbEIsRUFBTyxjQUFnQixHQUN2QixFQUFPLE1BQVEsR0FDZixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sYUFBZSxHQUN0QixFQUFPLFlBQWMsR0FDckIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLFVBQVksR0FDbkIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxZQUFjLEdBQ3JCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxHQUFLLEdBQ1osRUFBTyxJQUFNLEdBQ2IsRUFBTyxJQUFNLEdBQ2IsRUFBTyxNQUFRLEdBQ2YsRUFBTyxLQUFPLEdBQ2QsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sVUFBWSxHQUNuQixFQUFPLFVBQVksR0FDbkIsRUFBTyxXQUFhLEdBQ3BCLEVBQU8sV0FBYSxHQUNwQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sSUFBTSxHQUNiLEVBQU8sV0FBYSxHQUNwQixFQUFPLEtBQU8sR0FDZCxFQUFPLElBQU0sR0FDYixFQUFPLElBQU0sR0FDYixFQUFPLE9BQVMsR0FDaEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sU0FBVyxHQUNsQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sWUFBYyxHQUNyQixFQUFPLE9BQVMsR0FDaEIsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sT0FBUyxHQUNoQixFQUFPLE1BQVEsR0FDZixFQUFPLGFBQWUsRUFDdEIsRUFBTyxPQUFTLEdBQ2hCLEVBQU8sS0FBTyxHQUNkLEVBQU8sVUFBWSxHQUNuQixFQUFPLEtBQU8sR0FDZCxFQUFPLFlBQWMsR0FDckIsRUFBTyxjQUFnQixHQUN2QixFQUFPLGNBQWdCLEdBQ3ZCLEVBQU8sZ0JBQWtCLEdBQ3pCLEVBQU8sa0JBQW9CLEdBQzNCLEVBQU8sa0JBQW9CLEdBQzNCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FDcEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sSUFBTSxHQUNiLEVBQU8sTUFBUSxHQUNmLEVBQU8sU0FBVyxHQUNsQixFQUFPLE1BQVEsR0FDZixFQUFPLFNBQVcsR0FDbEIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFFBQVUsR0FDakIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sY0FBZ0IsR0FDdkIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sUUFBVSxHQUNqQixFQUFPLEtBQU8sR0FDZCxFQUFPLFFBQVUsR0FDakIsRUFBTyxVQUFZLEdBQ25CLEVBQU8sU0FBVyxHQUNsQixFQUFPLFNBQVcsR0FDbEIsRUFBTyxTQUFXLEdBQ2xCLEVBQU8sVUFBWSxHQUNuQixFQUFPLFdBQWEsR0FHcEIsRUFBTyxLQUFPLEdBQ2QsRUFBTyxVQUFZLEdBQ25CLEVBQU8sTUFBUSxHQUVmLEdBQU0sRUFBUyxVQUFXLENBQ3hCLEdBQUksR0FBUyxHQUNiLFVBQVcsRUFBUSxTQUFTLEVBQU0sRUFBWSxDQUM1QyxBQUFLLEdBQWUsS0FBSyxFQUFPLFVBQVcsSUFDekMsR0FBTyxHQUFjLEtBR2xCLEtBQ0gsQ0FBRSxNQUFTLEtBV2pCLEVBQU8sUUFBVSxFQUdqQixHQUFVLENBQUMsT0FBUSxVQUFXLFFBQVMsYUFBYyxVQUFXLGdCQUFpQixTQUFTLEVBQVksQ0FDcEcsRUFBTyxHQUFZLFlBQWMsSUFJbkMsR0FBVSxDQUFDLE9BQVEsUUFBUyxTQUFTLEVBQVksRUFBTyxDQUN0RCxHQUFZLFVBQVUsR0FBYyxTQUFTLEVBQUcsQ0FDOUMsRUFBSSxJQUFNQSxFQUFZLEVBQUksR0FBVSxHQUFVLEdBQUksR0FFbEQsR0FBSSxHQUFVLEtBQUssY0FBZ0IsQ0FBQyxFQUNoQyxHQUFJLElBQVksTUFDaEIsS0FBSyxRQUVULE1BQUksR0FBTyxhQUNULEVBQU8sY0FBZ0IsR0FBVSxFQUFHLEVBQU8sZUFFM0MsRUFBTyxVQUFVLEtBQUssQ0FDcEIsS0FBUSxHQUFVLEVBQUcsSUFDckIsS0FBUSxFQUFjLEdBQU8sUUFBVSxFQUFJLFFBQVUsTUFHbEQsR0FHVCxHQUFZLFVBQVUsRUFBYSxTQUFXLFNBQVMsRUFBRyxDQUN4RCxNQUFPLE1BQUssVUFBVSxHQUFZLEdBQUcsYUFLekMsR0FBVSxDQUFDLFNBQVUsTUFBTyxhQUFjLFNBQVMsRUFBWSxFQUFPLENBQ3BFLEdBQUksR0FBTyxFQUFRLEVBQ2YsRUFBVyxHQUFRLEdBQW9CLEdBQVEsRUFFbkQsR0FBWSxVQUFVLEdBQWMsU0FBUyxFQUFVLENBQ3JELEdBQUksR0FBUyxLQUFLLFFBQ2xCLFNBQU8sY0FBYyxLQUFLLENBQ3hCLFNBQVksR0FBWSxFQUFVLEdBQ2xDLEtBQVEsSUFFVixFQUFPLGFBQWUsRUFBTyxjQUFnQixFQUN0QyxLQUtYLEdBQVUsQ0FBQyxPQUFRLFFBQVMsU0FBUyxFQUFZLEVBQU8sQ0FDdEQsR0FBSSxHQUFXLE9BQVUsR0FBUSxRQUFVLElBRTNDLEdBQVksVUFBVSxHQUFjLFVBQVcsQ0FDN0MsTUFBTyxNQUFLLEdBQVUsR0FBRyxRQUFRLE1BS3JDLEdBQVUsQ0FBQyxVQUFXLFFBQVMsU0FBUyxFQUFZLEVBQU8sQ0FDekQsR0FBSSxHQUFXLE9BQVUsR0FBUSxHQUFLLFNBRXRDLEdBQVksVUFBVSxHQUFjLFVBQVcsQ0FDN0MsTUFBTyxNQUFLLGFBQWUsR0FBSSxJQUFZLE1BQVEsS0FBSyxHQUFVLE1BSXRFLEdBQVksVUFBVSxRQUFVLFVBQVcsQ0FDekMsTUFBTyxNQUFLLE9BQU8sS0FHckIsR0FBWSxVQUFVLEtBQU8sU0FBUyxFQUFXLENBQy9DLE1BQU8sTUFBSyxPQUFPLEdBQVcsUUFHaEMsR0FBWSxVQUFVLFNBQVcsU0FBUyxFQUFXLENBQ25ELE1BQU8sTUFBSyxVQUFVLEtBQUssSUFHN0IsR0FBWSxVQUFVLFVBQVksR0FBUyxTQUFTLEVBQU0sRUFBTSxDQUM5RCxNQUFJLE9BQU8sSUFBUSxXQUNWLEdBQUksSUFBWSxNQUVsQixLQUFLLElBQUksU0FBUyxFQUFPLENBQzlCLE1BQU8sSUFBVyxFQUFPLEVBQU0sT0FJbkMsR0FBWSxVQUFVLE9BQVMsU0FBUyxFQUFXLENBQ2pELE1BQU8sTUFBSyxPQUFPLEdBQU8sR0FBWSxNQUd4QyxHQUFZLFVBQVUsTUFBUSxTQUFTLEVBQU8sRUFBSyxDQUNqRCxFQUFRLEdBQVUsR0FFbEIsR0FBSSxHQUFTLEtBQ2IsTUFBSSxHQUFPLGNBQWlCLEdBQVEsR0FBSyxFQUFNLEdBQ3RDLEdBQUksSUFBWSxHQUV6QixDQUFJLEVBQVEsRUFDVixFQUFTLEVBQU8sVUFBVSxDQUFDLEdBQ2xCLEdBQ1QsR0FBUyxFQUFPLEtBQUssSUFFbkIsSUFBUUEsR0FDVixHQUFNLEdBQVUsR0FDaEIsRUFBUyxFQUFNLEVBQUksRUFBTyxVQUFVLENBQUMsR0FBTyxFQUFPLEtBQUssRUFBTSxJQUV6RCxJQUdULEdBQVksVUFBVSxlQUFpQixTQUFTLEVBQVcsQ0FDekQsTUFBTyxNQUFLLFVBQVUsVUFBVSxHQUFXLFdBRzdDLEdBQVksVUFBVSxRQUFVLFVBQVcsQ0FDekMsTUFBTyxNQUFLLEtBQUssS0FJbkIsR0FBVyxHQUFZLFVBQVcsU0FBUyxFQUFNLEVBQVksQ0FDM0QsR0FBSSxHQUFnQixxQ0FBcUMsS0FBSyxHQUMxRCxFQUFVLGtCQUFrQixLQUFLLEdBQ2pDLEVBQWEsRUFBTyxFQUFXLE9BQVUsSUFBYyxPQUFTLFFBQVUsSUFBTyxHQUNqRixFQUFlLEdBQVcsUUFBUSxLQUFLLEdBRTNDLEFBQUksQ0FBQyxHQUdMLEdBQU8sVUFBVSxHQUFjLFVBQVcsQ0FDeEMsR0FBSSxHQUFRLEtBQUssWUFDYixFQUFPLEVBQVUsQ0FBQyxHQUFLLFVBQ3ZCLEVBQVMsWUFBaUIsSUFDMUIsRUFBVyxFQUFLLEdBQ2hCLEVBQVUsR0FBVSxHQUFRLEdBRTVCLEVBQWMsU0FBUyxHQUFPLENBQ2hDLEdBQUksSUFBUyxFQUFXLE1BQU0sRUFBUSxHQUFVLENBQUMsSUFBUSxJQUN6RCxNQUFRLElBQVcsR0FBWSxHQUFPLEdBQUssSUFHN0MsQUFBSSxHQUFXLEdBQWlCLE1BQU8sSUFBWSxZQUFjLEVBQVMsUUFBVSxHQUVsRixHQUFTLEVBQVUsSUFFckIsR0FBSSxJQUFXLEtBQUssVUFDaEIsR0FBVyxDQUFDLENBQUMsS0FBSyxZQUFZLE9BQzlCLEdBQWMsR0FBZ0IsQ0FBQyxHQUMvQixHQUFXLEdBQVUsQ0FBQyxHQUUxQixHQUFJLENBQUMsR0FBZ0IsRUFBUyxDQUM1QixFQUFRLEdBQVcsRUFBUSxHQUFJLElBQVksTUFDM0MsR0FBSSxJQUFTLEVBQUssTUFBTSxFQUFPLEdBQy9CLFVBQU8sWUFBWSxLQUFLLENBQUUsS0FBUSxHQUFNLEtBQVEsQ0FBQyxHQUFjLFFBQVdBLElBQ25FLEdBQUksSUFBYyxHQUFRLElBRW5DLE1BQUksS0FBZSxHQUNWLEVBQUssTUFBTSxLQUFNLEdBRTFCLElBQVMsS0FBSyxLQUFLLEdBQ1osR0FBZSxFQUFVLEdBQU8sUUFBUSxHQUFLLEdBQU8sUUFBVyxRQUsxRSxHQUFVLENBQUMsTUFBTyxPQUFRLFFBQVMsT0FBUSxTQUFVLFdBQVksU0FBUyxFQUFZLENBQ3BGLEdBQUksR0FBTyxHQUFXLEdBQ2xCLEVBQVksMEJBQTBCLEtBQUssR0FBYyxNQUFRLE9BQ2pFLEVBQWUsa0JBQWtCLEtBQUssR0FFMUMsRUFBTyxVQUFVLEdBQWMsVUFBVyxDQUN4QyxHQUFJLEdBQU8sVUFDWCxHQUFJLEdBQWdCLENBQUMsS0FBSyxVQUFXLENBQ25DLEdBQUksR0FBUSxLQUFLLFFBQ2pCLE1BQU8sR0FBSyxNQUFNLEdBQVEsR0FBUyxFQUFRLEdBQUksR0FFakQsTUFBTyxNQUFLLEdBQVcsU0FBUyxFQUFPLENBQ3JDLE1BQU8sR0FBSyxNQUFNLEdBQVEsR0FBUyxFQUFRLEdBQUksUUFNckQsR0FBVyxHQUFZLFVBQVcsU0FBUyxFQUFNLEVBQVksQ0FDM0QsR0FBSSxHQUFhLEVBQU8sR0FDeEIsR0FBSSxFQUFZLENBQ2QsR0FBSSxHQUFNLEVBQVcsS0FBTyxHQUM1QixBQUFLLEdBQWUsS0FBSyxHQUFXLElBQ2xDLElBQVUsR0FBTyxJQUVuQixHQUFVLEdBQUssS0FBSyxDQUFFLEtBQVEsRUFBWSxLQUFRLE9BSXRELEdBQVUsR0FBYUEsRUFBVyxHQUFvQixNQUFRLENBQUMsQ0FDN0QsS0FBUSxVQUNSLEtBQVFBLElBSVYsR0FBWSxVQUFVLE1BQVEsR0FDOUIsR0FBWSxVQUFVLFFBQVUsR0FDaEMsR0FBWSxVQUFVLE1BQVEsR0FHOUIsRUFBTyxVQUFVLEdBQUssR0FDdEIsRUFBTyxVQUFVLE1BQVEsR0FDekIsRUFBTyxVQUFVLE9BQVMsR0FDMUIsRUFBTyxVQUFVLEtBQU8sR0FDeEIsRUFBTyxVQUFVLE1BQVEsR0FDekIsRUFBTyxVQUFVLFFBQVUsR0FDM0IsRUFBTyxVQUFVLE9BQVMsRUFBTyxVQUFVLFFBQVUsRUFBTyxVQUFVLE1BQVEsR0FHOUUsRUFBTyxVQUFVLE1BQVEsRUFBTyxVQUFVLEtBRXRDLElBQ0YsR0FBTyxVQUFVLElBQWUsSUFFM0IsR0FNTCxHQUFJLEtBaUJILEFBQUksR0FFTixLQUFXLFFBQVUsSUFBRyxFQUFJLEdBRTdCLEdBQVksRUFBSSxJQUloQixHQUFLLEVBQUksS0FFWCxLQUFLRSx1Q0N4emhCUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsR0FBSSxJQUVKLGFBQWlCLENBQ2IsTUFBTyxJQUFhLE1BQU0sS0FBTSxXQUtwQyxZQUF5QixFQUFVLENBQy9CLEdBQWUsRUFHbkIsWUFBaUIsRUFBTyxDQUNwQixNQUNJLGFBQWlCLFFBQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxpQkFJbEQsWUFBa0IsRUFBTyxDQUdyQixNQUNJLElBQVMsTUFDVCxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQVcsa0JBSWxELFlBQW9CLEVBQUcsRUFBRyxDQUN0QixNQUFPLFFBQU8sVUFBVSxlQUFlLEtBQUssRUFBRyxHQUduRCxZQUF1QixFQUFLLENBQ3hCLEdBQUksT0FBTyxvQkFDUCxNQUFPLFFBQU8sb0JBQW9CLEdBQUssU0FBVyxFQUVsRCxHQUFJLEdBQ0osSUFBSyxJQUFLLEdBQ04sR0FBSSxHQUFXLEVBQUssR0FDaEIsTUFBTyxHQUdmLE1BQU8sR0FJZixZQUFxQixFQUFPLENBQ3hCLE1BQU8sS0FBVSxPQUdyQixZQUFrQixFQUFPLENBQ3JCLE1BQ0ksT0FBTyxJQUFVLFVBQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxrQkFJbEQsWUFBZ0IsRUFBTyxDQUNuQixNQUNJLGFBQWlCLE9BQ2pCLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBVyxnQkFJbEQsWUFBYSxFQUFLLEVBQUksQ0FDbEIsR0FBSSxHQUFNLEdBQ04sRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxFQUFFLEVBQzFCLEVBQUksS0FBSyxFQUFHLEVBQUksR0FBSSxJQUV4QixNQUFPLEdBR1gsWUFBZ0IsRUFBRyxFQUFHLENBQ2xCLE9BQVMsS0FBSyxHQUNWLEFBQUksR0FBVyxFQUFHLElBQ2QsR0FBRSxHQUFLLEVBQUUsSUFJakIsTUFBSSxJQUFXLEVBQUcsYUFDZCxHQUFFLFNBQVcsRUFBRSxVQUdmLEdBQVcsRUFBRyxZQUNkLEdBQUUsUUFBVSxFQUFFLFNBR1gsRUFHWCxZQUFtQixFQUFPLEVBQVEsRUFBUSxFQUFRLENBQzlDLE1BQU8sSUFBaUIsRUFBTyxFQUFRLEVBQVEsRUFBUSxJQUFNLE1BR2pFLGFBQStCLENBRTNCLE1BQU8sQ0FDSCxNQUFPLEdBQ1AsYUFBYyxHQUNkLFlBQWEsR0FDYixTQUFVLEdBQ1YsY0FBZSxFQUNmLFVBQVcsR0FDWCxXQUFZLEtBQ1osYUFBYyxLQUNkLGNBQWUsR0FDZixnQkFBaUIsR0FDakIsSUFBSyxHQUNMLGdCQUFpQixHQUNqQixJQUFLLEtBQ0wsU0FBVSxLQUNWLFFBQVMsR0FDVCxnQkFBaUIsSUFJekIsWUFBeUIsRUFBRyxDQUN4QixNQUFJLEdBQUUsS0FBTyxNQUNULEdBQUUsSUFBTSxNQUVMLEVBQUUsSUFHYixHQUFJLElBQ0osQUFBSSxNQUFNLFVBQVUsS0FDaEIsR0FBTyxNQUFNLFVBQVUsS0FFdkIsR0FBTyxTQUFVLEVBQUssQ0FDbEIsR0FBSSxHQUFJLE9BQU8sTUFDWCxFQUFNLEVBQUUsU0FBVyxFQUNuQixFQUVKLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxJQUNqQixHQUFJLElBQUssSUFBSyxFQUFJLEtBQUssS0FBTSxFQUFFLEdBQUksRUFBRyxHQUNsQyxNQUFPLEdBSWYsTUFBTyxJQUlmLFlBQWlCLEVBQUcsQ0FDaEIsR0FBSSxFQUFFLFVBQVksS0FBTSxDQUNwQixHQUFJLEdBQVEsR0FBZ0IsR0FDeEIsRUFBYyxHQUFLLEtBQUssRUFBTSxnQkFBaUIsU0FBVSxFQUFHLENBQ3hELE1BQU8sSUFBSyxPQUVoQixFQUNJLENBQUMsTUFBTSxFQUFFLEdBQUcsWUFDWixFQUFNLFNBQVcsR0FDakIsQ0FBQyxFQUFNLE9BQ1AsQ0FBQyxFQUFNLFlBQ1AsQ0FBQyxFQUFNLGNBQ1AsQ0FBQyxFQUFNLGdCQUNQLENBQUMsRUFBTSxpQkFDUCxDQUFDLEVBQU0sV0FDUCxDQUFDLEVBQU0sZUFDUCxDQUFDLEVBQU0saUJBQ04sRUFBQyxFQUFNLFVBQWEsRUFBTSxVQUFZLEdBVS9DLEdBUkksRUFBRSxTQUNGLEdBQ0ksR0FDQSxFQUFNLGdCQUFrQixHQUN4QixFQUFNLGFBQWEsU0FBVyxHQUM5QixFQUFNLFVBQVksUUFHdEIsT0FBTyxVQUFZLE1BQVEsQ0FBQyxPQUFPLFNBQVMsR0FDNUMsRUFBRSxTQUFXLE1BRWIsT0FBTyxHQUdmLE1BQU8sR0FBRSxTQUdiLFlBQXVCLEVBQU8sQ0FDMUIsR0FBSSxHQUFJLEdBQVUsS0FDbEIsTUFBSSxJQUFTLEtBQ1QsR0FBTyxHQUFnQixHQUFJLEdBRTNCLEdBQWdCLEdBQUcsZ0JBQWtCLEdBR2xDLEVBS1gsR0FBSSxJQUFvQixHQUFNLGlCQUFtQixHQUM3QyxHQUFtQixHQUV2QixZQUFvQixFQUFJLEVBQU0sQ0FDMUIsR0FBSSxHQUFHLEVBQU0sRUFpQ2IsR0EvQkssR0FBWSxFQUFLLG1CQUNsQixHQUFHLGlCQUFtQixFQUFLLGtCQUUxQixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssS0FDbEIsR0FBRyxHQUFLLEVBQUssSUFFWixHQUFZLEVBQUssVUFDbEIsR0FBRyxRQUFVLEVBQUssU0FFakIsR0FBWSxFQUFLLE9BQ2xCLEdBQUcsS0FBTyxFQUFLLE1BRWQsR0FBWSxFQUFLLFNBQ2xCLEdBQUcsT0FBUyxFQUFLLFFBRWhCLEdBQVksRUFBSyxVQUNsQixHQUFHLFFBQVUsRUFBSyxTQUVqQixHQUFZLEVBQUssTUFDbEIsR0FBRyxJQUFNLEdBQWdCLElBRXhCLEdBQVksRUFBSyxVQUNsQixHQUFHLFFBQVUsRUFBSyxTQUdsQixHQUFpQixPQUFTLEVBQzFCLElBQUssRUFBSSxFQUFHLEVBQUksR0FBaUIsT0FBUSxJQUNyQyxFQUFPLEdBQWlCLEdBQ3hCLEVBQU0sRUFBSyxHQUNOLEdBQVksSUFDYixHQUFHLEdBQVEsR0FLdkIsTUFBTyxHQUlYLFlBQWdCLEVBQVEsQ0FDcEIsR0FBVyxLQUFNLEdBQ2pCLEtBQUssR0FBSyxHQUFJLE1BQUssRUFBTyxJQUFNLEtBQU8sRUFBTyxHQUFHLFVBQVksS0FDeEQsS0FBSyxXQUNOLE1BQUssR0FBSyxHQUFJLE1BQUssTUFJbkIsS0FBcUIsSUFDckIsSUFBbUIsR0FDbkIsR0FBTSxhQUFhLE1BQ25CLEdBQW1CLElBSTNCLFlBQWtCLEVBQUssQ0FDbkIsTUFDSSxhQUFlLEtBQVcsR0FBTyxNQUFRLEVBQUksa0JBQW9CLEtBSXpFLFlBQWMsRUFBSyxDQUNmLEFBQ0ksR0FBTSw4QkFBZ0MsSUFDdEMsTUFBTyxVQUFZLGFBQ25CLFFBQVEsTUFFUixRQUFRLEtBQUssd0JBQTBCLEdBSS9DLFlBQW1CLEVBQUssRUFBSSxDQUN4QixHQUFJLEdBQVksR0FFaEIsTUFBTyxJQUFPLFVBQVksQ0FJdEIsR0FISSxHQUFNLG9CQUFzQixNQUM1QixHQUFNLG1CQUFtQixLQUFNLEdBRS9CLEVBQVcsQ0FDWCxHQUFJLEdBQU8sR0FDUCxFQUNBLEVBQ0EsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBRW5DLEdBREEsRUFBTSxHQUNGLE1BQU8sV0FBVSxJQUFPLFNBQVUsQ0FDbEMsR0FBTztBQUFBLEdBQVEsRUFBSSxLQUNuQixJQUFLLElBQU8sV0FBVSxHQUNsQixBQUFJLEdBQVcsVUFBVSxHQUFJLElBQ3pCLElBQU8sRUFBTSxLQUFPLFVBQVUsR0FBRyxHQUFPLE1BR2hELEVBQU0sRUFBSSxNQUFNLEVBQUcsUUFFbkIsR0FBTSxVQUFVLEdBRXBCLEVBQUssS0FBSyxHQUVkLEdBQ0ksRUFDSTtBQUFBLGFBQ0EsTUFBTSxVQUFVLE1BQU0sS0FBSyxHQUFNLEtBQUssSUFDdEM7QUFBQSxFQUNBLEdBQUksU0FBUSxPQUVwQixFQUFZLEdBRWhCLE1BQU8sR0FBRyxNQUFNLEtBQU0sWUFDdkIsR0FHUCxHQUFJLElBQWUsR0FFbkIsWUFBeUIsRUFBTSxFQUFLLENBQ2hDLEFBQUksR0FBTSxvQkFBc0IsTUFDNUIsR0FBTSxtQkFBbUIsRUFBTSxHQUU5QixHQUFhLElBQ2QsSUFBSyxHQUNMLEdBQWEsR0FBUSxJQUk3QixHQUFNLDRCQUE4QixHQUNwQyxHQUFNLG1CQUFxQixLQUUzQixZQUFvQixFQUFPLENBQ3ZCLE1BQ0ssT0FBTyxXQUFhLGFBQWUsWUFBaUIsV0FDckQsT0FBTyxVQUFVLFNBQVMsS0FBSyxLQUFXLG9CQUlsRCxZQUFhLEVBQVEsQ0FDakIsR0FBSSxHQUFNLEVBQ1YsSUFBSyxJQUFLLEdBQ04sQUFBSSxHQUFXLEVBQVEsSUFDbkIsR0FBTyxFQUFPLEdBQ2QsQUFBSSxHQUFXLEdBQ1gsS0FBSyxHQUFLLEVBRVYsS0FBSyxJQUFNLEdBQUssR0FJNUIsS0FBSyxRQUFVLEVBSWYsS0FBSywrQkFBaUMsR0FBSSxRQUNyQyxNQUFLLHdCQUF3QixRQUFVLEtBQUssY0FBYyxRQUN2RCxJQUNBLFVBQVUsUUFJdEIsWUFBc0IsRUFBYyxFQUFhLENBQzdDLEdBQUksR0FBTSxHQUFPLEdBQUksR0FDakIsRUFDSixJQUFLLElBQVEsR0FDVCxBQUFJLEdBQVcsRUFBYSxJQUN4QixDQUFJLEdBQVMsRUFBYSxLQUFVLEdBQVMsRUFBWSxJQUNyRCxHQUFJLEdBQVEsR0FDWixHQUFPLEVBQUksR0FBTyxFQUFhLElBQy9CLEdBQU8sRUFBSSxHQUFPLEVBQVksS0FDM0IsQUFBSSxFQUFZLElBQVMsS0FDNUIsRUFBSSxHQUFRLEVBQVksR0FFeEIsTUFBTyxHQUFJLElBSXZCLElBQUssSUFBUSxHQUNULEFBQ0ksR0FBVyxFQUFjLElBQ3pCLENBQUMsR0FBVyxFQUFhLElBQ3pCLEdBQVMsRUFBYSxLQUd0QixHQUFJLEdBQVEsR0FBTyxHQUFJLEVBQUksS0FHbkMsTUFBTyxHQUdYLFlBQWdCLEVBQVEsQ0FDcEIsQUFBSSxHQUFVLE1BQ1YsS0FBSyxJQUFJLEdBSWpCLEdBQUksSUFFSixBQUFJLE9BQU8sS0FDUCxHQUFPLE9BQU8sS0FFZCxHQUFPLFNBQVUsRUFBSyxDQUNsQixHQUFJLEdBQ0EsRUFBTSxHQUNWLElBQUssSUFBSyxHQUNOLEFBQUksR0FBVyxFQUFLLElBQ2hCLEVBQUksS0FBSyxHQUdqQixNQUFPLElBSWYsR0FBSSxJQUFrQixDQUNsQixRQUFTLGdCQUNULFFBQVMsbUJBQ1QsU0FBVSxlQUNWLFFBQVMsb0JBQ1QsU0FBVSxzQkFDVixTQUFVLEtBR2QsWUFBa0IsRUFBSyxFQUFLLEVBQUssQ0FDN0IsR0FBSSxHQUFTLEtBQUssVUFBVSxJQUFRLEtBQUssVUFBVSxTQUNuRCxNQUFPLElBQVcsR0FBVSxFQUFPLEtBQUssRUFBSyxHQUFPLEVBR3hELFlBQWtCLEVBQVEsRUFBYyxFQUFXLENBQy9DLEdBQUksR0FBWSxHQUFLLEtBQUssSUFBSSxHQUMxQixFQUFjLEVBQWUsRUFBVSxPQUN2QyxFQUFPLEdBQVUsRUFDckIsTUFDSyxHQUFRLEVBQVksSUFBTSxHQUFNLEtBQ2pDLEtBQUssSUFBSSxHQUFJLEtBQUssSUFBSSxFQUFHLElBQWMsV0FBVyxPQUFPLEdBQ3pELEVBSVIsR0FBSSxJQUFtQix5TUFDbkIsR0FBd0IsNkNBQ3hCLEdBQWtCLEdBQ2xCLEdBQXVCLEdBTTNCLFlBQXdCLEVBQU8sRUFBUSxFQUFTLEVBQVUsQ0FDdEQsR0FBSSxHQUFPLEVBQ1gsQUFBSSxNQUFPLElBQWEsVUFDcEIsR0FBTyxVQUFZLENBQ2YsTUFBTyxNQUFLLE9BR2hCLEdBQ0EsSUFBcUIsR0FBUyxHQUU5QixHQUNBLElBQXFCLEVBQU8sSUFBTSxVQUFZLENBQzFDLE1BQU8sSUFBUyxFQUFLLE1BQU0sS0FBTSxXQUFZLEVBQU8sR0FBSSxFQUFPLE1BR25FLEdBQ0EsSUFBcUIsR0FBVyxVQUFZLENBQ3hDLE1BQU8sTUFBSyxhQUFhLFFBQ3JCLEVBQUssTUFBTSxLQUFNLFdBQ2pCLEtBTWhCLFlBQWdDLEVBQU8sQ0FDbkMsTUFBSSxHQUFNLE1BQU0sWUFDTCxFQUFNLFFBQVEsV0FBWSxJQUU5QixFQUFNLFFBQVEsTUFBTyxJQUdoQyxZQUE0QixFQUFRLENBQ2hDLEdBQUksR0FBUSxFQUFPLE1BQU0sSUFDckIsRUFDQSxFQUVKLElBQUssRUFBSSxFQUFHLEVBQVMsRUFBTSxPQUFRLEVBQUksRUFBUSxJQUMzQyxBQUFJLEdBQXFCLEVBQU0sSUFDM0IsRUFBTSxHQUFLLEdBQXFCLEVBQU0sSUFFdEMsRUFBTSxHQUFLLEdBQXVCLEVBQU0sSUFJaEQsTUFBTyxVQUFVLEVBQUssQ0FDbEIsR0FBSSxHQUFTLEdBQ1QsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVEsSUFDcEIsR0FBVSxHQUFXLEVBQU0sSUFDckIsRUFBTSxHQUFHLEtBQUssRUFBSyxHQUNuQixFQUFNLEdBRWhCLE1BQU8sSUFLZixZQUFzQixFQUFHLEVBQVEsQ0FDN0IsTUFBSyxHQUFFLFVBSVAsR0FBUyxHQUFhLEVBQVEsRUFBRSxjQUNoQyxHQUFnQixHQUNaLEdBQWdCLElBQVcsR0FBbUIsR0FFM0MsR0FBZ0IsR0FBUSxJQVBwQixFQUFFLGFBQWEsY0FVOUIsWUFBc0IsRUFBUSxFQUFRLENBQ2xDLEdBQUksR0FBSSxFQUVSLFdBQXFDLEVBQU8sQ0FDeEMsTUFBTyxHQUFPLGVBQWUsSUFBVSxFQUkzQyxJQURBLEdBQXNCLFVBQVksRUFDM0IsR0FBSyxHQUFLLEdBQXNCLEtBQUssSUFDeEMsRUFBUyxFQUFPLFFBQ1osR0FDQSxHQUVKLEdBQXNCLFVBQVksRUFDbEMsR0FBSyxFQUdULE1BQU8sR0FHWCxHQUFJLElBQXdCLENBQ3hCLElBQUssWUFDTCxHQUFJLFNBQ0osRUFBRyxhQUNILEdBQUksZUFDSixJQUFLLHNCQUNMLEtBQU0sNkJBR1YsWUFBd0IsRUFBSyxDQUN6QixHQUFJLEdBQVMsS0FBSyxnQkFBZ0IsR0FDOUIsRUFBYyxLQUFLLGdCQUFnQixFQUFJLGVBRTNDLE1BQUksSUFBVSxDQUFDLEVBQ0osRUFHWCxNQUFLLGdCQUFnQixHQUFPLEVBQ3ZCLE1BQU0sSUFDTixJQUFJLFNBQVUsRUFBSyxDQUNoQixNQUNJLEtBQVEsUUFDUixJQUFRLE1BQ1IsSUFBUSxNQUNSLElBQVEsT0FFRCxFQUFJLE1BQU0sR0FFZCxJQUVWLEtBQUssSUFFSCxLQUFLLGdCQUFnQixJQUdoQyxHQUFJLElBQXFCLGVBRXpCLGFBQXVCLENBQ25CLE1BQU8sTUFBSyxhQUdoQixHQUFJLElBQWlCLEtBQ2pCLEdBQWdDLFVBRXBDLFlBQWlCLEVBQVEsQ0FDckIsTUFBTyxNQUFLLFNBQVMsUUFBUSxLQUFNLEdBR3ZDLEdBQUksSUFBc0IsQ0FDdEIsT0FBUSxRQUNSLEtBQU0sU0FDTixFQUFHLGdCQUNILEdBQUksYUFDSixFQUFHLFdBQ0gsR0FBSSxhQUNKLEVBQUcsVUFDSCxHQUFJLFdBQ0osRUFBRyxRQUNILEdBQUksVUFDSixFQUFHLFNBQ0gsR0FBSSxXQUNKLEVBQUcsVUFDSCxHQUFJLFlBQ0osRUFBRyxTQUNILEdBQUksWUFHUixZQUFzQixFQUFRLEVBQWUsRUFBUSxFQUFVLENBQzNELEdBQUksR0FBUyxLQUFLLGNBQWMsR0FDaEMsTUFBTyxJQUFXLEdBQ1osRUFBTyxFQUFRLEVBQWUsRUFBUSxHQUN0QyxFQUFPLFFBQVEsTUFBTyxHQUdoQyxZQUFvQixFQUFNLEVBQVEsQ0FDOUIsR0FBSSxHQUFTLEtBQUssY0FBYyxFQUFPLEVBQUksU0FBVyxRQUN0RCxNQUFPLElBQVcsR0FBVSxFQUFPLEdBQVUsRUFBTyxRQUFRLE1BQU8sR0FHdkUsR0FBSSxJQUFVLEdBRWQsWUFBc0IsRUFBTSxFQUFXLENBQ25DLEdBQUksR0FBWSxFQUFLLGNBQ3JCLEdBQVEsR0FBYSxHQUFRLEVBQVksS0FBTyxHQUFRLEdBQWEsRUFHekUsWUFBd0IsRUFBTyxDQUMzQixNQUFPLE9BQU8sSUFBVSxTQUNsQixHQUFRLElBQVUsR0FBUSxFQUFNLGVBQ2hDLE9BR1YsWUFBOEIsRUFBYSxDQUN2QyxHQUFJLEdBQWtCLEdBQ2xCLEVBQ0EsRUFFSixJQUFLLElBQVEsR0FDVCxBQUFJLEdBQVcsRUFBYSxJQUN4QixHQUFpQixHQUFlLEdBQzVCLEdBQ0EsR0FBZ0IsR0FBa0IsRUFBWSxLQUsxRCxNQUFPLEdBR1gsR0FBSSxJQUFhLEdBRWpCLFlBQXlCLEVBQU0sRUFBVSxDQUNyQyxHQUFXLEdBQVEsRUFHdkIsWUFBNkIsRUFBVSxDQUNuQyxHQUFJLEdBQVEsR0FDUixFQUNKLElBQUssSUFBSyxHQUNOLEFBQUksR0FBVyxFQUFVLElBQ3JCLEVBQU0sS0FBSyxDQUFFLEtBQU0sRUFBRyxTQUFVLEdBQVcsS0FHbkQsU0FBTSxLQUFLLFNBQVUsRUFBRyxFQUFHLENBQ3ZCLE1BQU8sR0FBRSxTQUFXLEVBQUUsV0FFbkIsRUFHWCxZQUFvQixFQUFNLENBQ3RCLE1BQVEsR0FBTyxHQUFNLEdBQUssRUFBTyxLQUFRLEdBQU0sRUFBTyxLQUFRLEVBR2xFLFlBQWtCLEVBQVEsQ0FDdEIsTUFBSSxHQUFTLEVBRUYsS0FBSyxLQUFLLElBQVcsRUFFckIsS0FBSyxNQUFNLEdBSTFCLFlBQWUsRUFBcUIsQ0FDaEMsR0FBSSxHQUFnQixDQUFDLEVBQ2pCLEVBQVEsRUFFWixNQUFJLEtBQWtCLEdBQUssU0FBUyxJQUNoQyxHQUFRLEdBQVMsSUFHZCxFQUdYLFlBQW9CLEVBQU0sRUFBVSxDQUNoQyxNQUFPLFVBQVUsRUFBTyxDQUNwQixNQUFJLElBQVMsS0FDVCxJQUFNLEtBQU0sRUFBTSxHQUNsQixHQUFNLGFBQWEsS0FBTSxHQUNsQixNQUVBLEdBQUksS0FBTSxJQUs3QixZQUFhLEVBQUssRUFBTSxDQUNwQixNQUFPLEdBQUksVUFDTCxFQUFJLEdBQUcsTUFBUyxHQUFJLE9BQVMsTUFBUSxJQUFNLEtBQzNDLElBR1YsWUFBZSxFQUFLLEVBQU0sRUFBTyxDQUM3QixBQUFJLEVBQUksV0FBYSxDQUFDLE1BQU0sSUFDeEIsQ0FDSSxJQUFTLFlBQ1QsR0FBVyxFQUFJLFNBQ2YsRUFBSSxVQUFZLEdBQ2hCLEVBQUksU0FBVyxHQUVmLEdBQVEsR0FBTSxHQUNkLEVBQUksR0FBRyxNQUFTLEdBQUksT0FBUyxNQUFRLElBQU0sR0FDdkMsRUFDQSxFQUFJLFFBQ0osR0FBWSxFQUFPLEVBQUksV0FHM0IsRUFBSSxHQUFHLE1BQVMsR0FBSSxPQUFTLE1BQVEsSUFBTSxHQUFNLElBTzdELFlBQW1CLEVBQU8sQ0FFdEIsTUFEQSxHQUFRLEdBQWUsR0FDbkIsR0FBVyxLQUFLLElBQ1QsS0FBSyxLQUVULEtBR1gsWUFBbUIsRUFBTyxFQUFPLENBQzdCLEdBQUksTUFBTyxJQUFVLFNBQVUsQ0FDM0IsRUFBUSxHQUFxQixHQUM3QixHQUFJLEdBQWMsR0FBb0IsR0FDbEMsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVksT0FBUSxJQUNoQyxLQUFLLEVBQVksR0FBRyxNQUFNLEVBQU0sRUFBWSxHQUFHLGVBR25ELEVBQVEsR0FBZSxHQUNuQixHQUFXLEtBQUssSUFDaEIsTUFBTyxNQUFLLEdBQU8sR0FHM0IsTUFBTyxNQUdYLEdBQUksSUFBUyxLQUNULEdBQVMsT0FDVCxHQUFTLFFBQ1QsR0FBUyxRQUNULEdBQVMsYUFDVCxHQUFZLFFBQ1osR0FBWSxZQUNaLEdBQVksZ0JBQ1osR0FBWSxVQUNaLEdBQVksVUFDWixHQUFZLGVBQ1osR0FBZ0IsTUFDaEIsR0FBYyxXQUNkLEdBQWMscUJBQ2QsR0FBbUIsMEJBQ25CLEdBQWlCLHVCQUdqQixHQUFZLHdKQUNaLEdBRUosR0FBVSxHQUVWLFlBQXVCLEVBQU8sRUFBTyxFQUFhLENBQzlDLEdBQVEsR0FBUyxHQUFXLEdBQ3RCLEVBQ0EsU0FBVSxFQUFVLEVBQVksQ0FDNUIsTUFBTyxJQUFZLEVBQWMsRUFBYyxHQUk3RCxZQUErQixFQUFPLEVBQVEsQ0FDMUMsTUFBSyxJQUFXLEdBQVMsR0FJbEIsR0FBUSxHQUFPLEVBQU8sUUFBUyxFQUFPLFNBSGxDLEdBQUksUUFBTyxHQUFlLElBT3pDLFlBQXdCLEVBQUcsQ0FDdkIsTUFBTyxJQUNILEVBQ0ssUUFBUSxLQUFNLElBQ2QsUUFBUSxzQ0FBdUMsU0FDNUMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsTUFBTyxJQUFNLEdBQU0sR0FBTSxLQUt6QyxZQUFxQixFQUFHLENBQ3BCLE1BQU8sR0FBRSxRQUFRLHlCQUEwQixRQUcvQyxHQUFJLElBQVMsR0FFYixZQUF1QixFQUFPLEVBQVUsQ0FDcEMsR0FBSSxHQUNBLEVBQU8sRUFTWCxJQVJJLE1BQU8sSUFBVSxVQUNqQixHQUFRLENBQUMsSUFFVCxHQUFTLElBQ1QsR0FBTyxTQUFVLEVBQU8sRUFBTyxDQUMzQixFQUFNLEdBQVksR0FBTSxLQUczQixFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDMUIsR0FBTyxFQUFNLElBQU0sRUFJM0IsWUFBMkIsRUFBTyxFQUFVLENBQ3hDLEdBQWMsRUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLEVBQU8sQ0FDeEQsRUFBTyxHQUFLLEVBQU8sSUFBTSxHQUN6QixFQUFTLEVBQU8sRUFBTyxHQUFJLEVBQVEsS0FJM0MsWUFBaUMsRUFBTyxFQUFPLEVBQVEsQ0FDbkQsQUFBSSxHQUFTLE1BQVEsR0FBVyxHQUFRLElBQ3BDLEdBQU8sR0FBTyxFQUFPLEVBQU8sR0FBSSxFQUFRLEdBSWhELEdBQUksSUFBTyxFQUNQLEdBQVEsRUFDUixHQUFPLEVBQ1AsR0FBTyxFQUNQLEdBQVMsRUFDVCxHQUFTLEVBQ1QsR0FBYyxFQUNkLEdBQU8sRUFDUCxHQUFVLEVBRWQsWUFBYSxFQUFHLEVBQUcsQ0FDZixNQUFTLEdBQUksRUFBSyxHQUFLLEVBRzNCLEdBQUksSUFFSixBQUFJLE1BQU0sVUFBVSxRQUNoQixHQUFVLE1BQU0sVUFBVSxRQUUxQixHQUFVLFNBQVUsRUFBRyxDQUVuQixHQUFJLEdBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxLQUFLLE9BQVEsRUFBRSxFQUMzQixHQUFJLEtBQUssS0FBTyxFQUNaLE1BQU8sR0FHZixNQUFPLElBSWYsWUFBcUIsRUFBTSxFQUFPLENBQzlCLEdBQUksTUFBTSxJQUFTLE1BQU0sR0FDckIsTUFBTyxLQUVYLEdBQUksR0FBVyxHQUFJLEVBQU8sSUFDMUIsVUFBUyxHQUFRLEdBQVksR0FDdEIsSUFBYSxFQUNkLEdBQVcsR0FDUCxHQUNBLEdBQ0osR0FBTyxFQUFXLEVBQUssRUFLakMsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sVUFBWSxDQUM3QyxNQUFPLE1BQUssUUFBVSxJQUcxQixHQUFlLE1BQU8sRUFBRyxFQUFHLFNBQVUsRUFBUSxDQUMxQyxNQUFPLE1BQUssYUFBYSxZQUFZLEtBQU0sS0FHL0MsR0FBZSxPQUFRLEVBQUcsRUFBRyxTQUFVLEVBQVEsQ0FDM0MsTUFBTyxNQUFLLGFBQWEsT0FBTyxLQUFNLEtBSzFDLEdBQWEsUUFBUyxLQUl0QixHQUFnQixRQUFTLEdBSXpCLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE1BQU8sU0FBVSxFQUFVLEVBQVEsQ0FDN0MsTUFBTyxHQUFPLGlCQUFpQixLQUVuQyxHQUFjLE9BQVEsU0FBVSxFQUFVLEVBQVEsQ0FDOUMsTUFBTyxHQUFPLFlBQVksS0FHOUIsR0FBYyxDQUFDLElBQUssTUFBTyxTQUFVLEVBQU8sRUFBTyxDQUMvQyxFQUFNLElBQVMsR0FBTSxHQUFTLElBR2xDLEdBQWMsQ0FBQyxNQUFPLFFBQVMsU0FBVSxFQUFPLEVBQU8sRUFBUSxFQUFPLENBQ2xFLEdBQUksR0FBUSxFQUFPLFFBQVEsWUFBWSxFQUFPLEVBQU8sRUFBTyxTQUU1RCxBQUFJLEdBQVMsS0FDVCxFQUFNLElBQVMsRUFFZixHQUFnQixHQUFRLGFBQWUsSUFNL0MsR0FBSSxJQUFzQix3RkFBd0YsTUFDMUcsS0FFSixHQUEyQixrREFBa0QsTUFDekUsS0FFSixHQUFtQixnQ0FDbkIsR0FBMEIsR0FDMUIsR0FBcUIsR0FFekIsWUFBc0IsRUFBRyxFQUFRLENBQzdCLE1BQUssR0FLRSxHQUFRLEtBQUssU0FDZCxLQUFLLFFBQVEsRUFBRSxTQUNmLEtBQUssUUFDQSxNQUFLLFFBQVEsVUFBWSxJQUFrQixLQUFLLEdBQzNDLFNBQ0EsY0FDUixFQUFFLFNBVkMsR0FBUSxLQUFLLFNBQ2QsS0FBSyxRQUNMLEtBQUssUUFBUSxXQVczQixZQUEyQixFQUFHLEVBQVEsQ0FDbEMsTUFBSyxHQUtFLEdBQVEsS0FBSyxjQUNkLEtBQUssYUFBYSxFQUFFLFNBQ3BCLEtBQUssYUFDRCxHQUFpQixLQUFLLEdBQVUsU0FBVyxjQUM3QyxFQUFFLFNBUkMsR0FBUSxLQUFLLGNBQ2QsS0FBSyxhQUNMLEtBQUssYUFBYSxXQVNoQyxZQUEyQixFQUFXLEVBQVEsRUFBUSxDQUNsRCxHQUFJLEdBQ0EsRUFDQSxFQUNBLEVBQU0sRUFBVSxvQkFDcEIsR0FBSSxDQUFDLEtBQUssYUFLTixJQUhBLEtBQUssYUFBZSxHQUNwQixLQUFLLGlCQUFtQixHQUN4QixLQUFLLGtCQUFvQixHQUNwQixFQUFJLEVBQUcsRUFBSSxHQUFJLEVBQUUsRUFDbEIsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUN2QixLQUFLLGtCQUFrQixHQUFLLEtBQUssWUFDN0IsRUFDQSxJQUNGLG9CQUNGLEtBQUssaUJBQWlCLEdBQUssS0FBSyxPQUFPLEVBQUssSUFBSSxvQkFJeEQsTUFBSSxHQUNJLElBQVcsTUFDWCxHQUFLLEdBQVEsS0FBSyxLQUFLLGtCQUFtQixHQUNuQyxJQUFPLEdBQUssRUFBSyxNQUV4QixHQUFLLEdBQVEsS0FBSyxLQUFLLGlCQUFrQixHQUNsQyxJQUFPLEdBQUssRUFBSyxNQUd4QixJQUFXLE1BQ1gsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDdEMsSUFBTyxHQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxpQkFBa0IsR0FDbEMsSUFBTyxHQUFLLEVBQUssT0FFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxpQkFBa0IsR0FDckMsSUFBTyxHQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssT0FLcEMsWUFBMkIsRUFBVyxFQUFRLEVBQVEsQ0FDbEQsR0FBSSxHQUFHLEVBQUssRUFFWixHQUFJLEtBQUssa0JBQ0wsTUFBTyxJQUFrQixLQUFLLEtBQU0sRUFBVyxFQUFRLEdBWTNELElBVEssS0FBSyxjQUNOLE1BQUssYUFBZSxHQUNwQixLQUFLLGlCQUFtQixHQUN4QixLQUFLLGtCQUFvQixJQU14QixFQUFJLEVBQUcsRUFBSSxHQUFJLElBQUssQ0FtQnJCLEdBakJBLEVBQU0sR0FBVSxDQUFDLElBQU0sSUFDbkIsR0FBVSxDQUFDLEtBQUssaUJBQWlCLElBQ2pDLE1BQUssaUJBQWlCLEdBQUssR0FBSSxRQUMzQixJQUFNLEtBQUssT0FBTyxFQUFLLElBQUksUUFBUSxJQUFLLElBQU0sSUFDOUMsS0FFSixLQUFLLGtCQUFrQixHQUFLLEdBQUksUUFDNUIsSUFBTSxLQUFLLFlBQVksRUFBSyxJQUFJLFFBQVEsSUFBSyxJQUFNLElBQ25ELE1BR0osQ0FBQyxHQUFVLENBQUMsS0FBSyxhQUFhLElBQzlCLEdBQ0ksSUFBTSxLQUFLLE9BQU8sRUFBSyxJQUFNLEtBQU8sS0FBSyxZQUFZLEVBQUssSUFDOUQsS0FBSyxhQUFhLEdBQUssR0FBSSxRQUFPLEVBQU0sUUFBUSxJQUFLLElBQUssTUFJMUQsR0FDQSxJQUFXLFFBQ1gsS0FBSyxpQkFBaUIsR0FBRyxLQUFLLEdBRTlCLE1BQU8sR0FDSixHQUNILEdBQ0EsSUFBVyxPQUNYLEtBQUssa0JBQWtCLEdBQUcsS0FBSyxHQUUvQixNQUFPLEdBQ0osR0FBSSxDQUFDLEdBQVUsS0FBSyxhQUFhLEdBQUcsS0FBSyxHQUM1QyxNQUFPLElBT25CLFlBQWtCLEVBQUssRUFBTyxDQUMxQixHQUFJLEdBRUosR0FBSSxDQUFDLEVBQUksVUFFTCxNQUFPLEdBR1gsR0FBSSxNQUFPLElBQVUsVUFDakIsR0FBSSxRQUFRLEtBQUssR0FDYixFQUFRLEdBQU0sV0FFZCxFQUFRLEVBQUksYUFBYSxZQUFZLEdBRWpDLENBQUMsR0FBUyxHQUNWLE1BQU8sR0FLbkIsU0FBYSxLQUFLLElBQUksRUFBSSxPQUFRLEdBQVksRUFBSSxPQUFRLElBQzFELEVBQUksR0FBRyxNQUFTLEdBQUksT0FBUyxNQUFRLElBQU0sU0FBUyxFQUFPLEdBQ3BELEVBR1gsWUFBcUIsRUFBTyxDQUN4QixNQUFJLElBQVMsS0FDVCxJQUFTLEtBQU0sR0FDZixHQUFNLGFBQWEsS0FBTSxJQUNsQixNQUVBLEdBQUksS0FBTSxTQUl6QixhQUEwQixDQUN0QixNQUFPLElBQVksS0FBSyxPQUFRLEtBQUssU0FHekMsWUFBMEIsRUFBVSxDQUNoQyxNQUFJLE1BQUssa0JBQ0EsSUFBVyxLQUFNLGlCQUNsQixHQUFtQixLQUFLLE1BRXhCLEVBQ08sS0FBSyx3QkFFTCxLQUFLLG1CQUdYLElBQVcsS0FBTSxzQkFDbEIsTUFBSyxrQkFBb0IsSUFFdEIsS0FBSyx5QkFBMkIsRUFDakMsS0FBSyx3QkFDTCxLQUFLLG1CQUluQixZQUFxQixFQUFVLENBQzNCLE1BQUksTUFBSyxrQkFDQSxJQUFXLEtBQU0saUJBQ2xCLEdBQW1CLEtBQUssTUFFeEIsRUFDTyxLQUFLLG1CQUVMLEtBQUssY0FHWCxJQUFXLEtBQU0saUJBQ2xCLE1BQUssYUFBZSxJQUVqQixLQUFLLG9CQUFzQixFQUM1QixLQUFLLG1CQUNMLEtBQUssY0FJbkIsYUFBOEIsQ0FDMUIsV0FBbUIsRUFBRyxFQUFHLENBQ3JCLE1BQU8sR0FBRSxPQUFTLEVBQUUsT0FHeEIsR0FBSSxHQUFjLEdBQ2QsRUFBYSxHQUNiLEVBQWMsR0FDZCxFQUNBLEVBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFJLElBRWhCLEVBQU0sR0FBVSxDQUFDLElBQU0sSUFDdkIsRUFBWSxLQUFLLEtBQUssWUFBWSxFQUFLLEtBQ3ZDLEVBQVcsS0FBSyxLQUFLLE9BQU8sRUFBSyxLQUNqQyxFQUFZLEtBQUssS0FBSyxPQUFPLEVBQUssS0FDbEMsRUFBWSxLQUFLLEtBQUssWUFBWSxFQUFLLEtBTzNDLElBSEEsRUFBWSxLQUFLLEdBQ2pCLEVBQVcsS0FBSyxHQUNoQixFQUFZLEtBQUssR0FDWixFQUFJLEVBQUcsRUFBSSxHQUFJLElBQ2hCLEVBQVksR0FBSyxHQUFZLEVBQVksSUFDekMsRUFBVyxHQUFLLEdBQVksRUFBVyxJQUUzQyxJQUFLLEVBQUksRUFBRyxFQUFJLEdBQUksSUFDaEIsRUFBWSxHQUFLLEdBQVksRUFBWSxJQUc3QyxLQUFLLGFBQWUsR0FBSSxRQUFPLEtBQU8sRUFBWSxLQUFLLEtBQU8sSUFBSyxLQUNuRSxLQUFLLGtCQUFvQixLQUFLLGFBQzlCLEtBQUssbUJBQXFCLEdBQUksUUFDMUIsS0FBTyxFQUFXLEtBQUssS0FBTyxJQUM5QixLQUVKLEtBQUssd0JBQTBCLEdBQUksUUFDL0IsS0FBTyxFQUFZLEtBQUssS0FBTyxJQUMvQixLQU1SLEdBQWUsSUFBSyxFQUFHLEVBQUcsVUFBWSxDQUNsQyxHQUFJLEdBQUksS0FBSyxPQUNiLE1BQU8sSUFBSyxLQUFPLEdBQVMsRUFBRyxHQUFLLElBQU0sSUFHOUMsR0FBZSxFQUFHLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFBWSxDQUN4QyxNQUFPLE1BQUssT0FBUyxNQUd6QixHQUFlLEVBQUcsQ0FBQyxPQUFRLEdBQUksRUFBRyxRQUNsQyxHQUFlLEVBQUcsQ0FBQyxRQUFTLEdBQUksRUFBRyxRQUNuQyxHQUFlLEVBQUcsQ0FBQyxTQUFVLEVBQUcsSUFBTyxFQUFHLFFBSTFDLEdBQWEsT0FBUSxLQUlyQixHQUFnQixPQUFRLEdBSXhCLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE9BQVEsR0FBVyxJQUNqQyxHQUFjLFFBQVMsR0FBVyxJQUNsQyxHQUFjLFNBQVUsR0FBVyxJQUVuQyxHQUFjLENBQUMsUUFBUyxVQUFXLElBQ25DLEdBQWMsT0FBUSxTQUFVLEVBQU8sRUFBTyxDQUMxQyxFQUFNLElBQ0YsRUFBTSxTQUFXLEVBQUksR0FBTSxrQkFBa0IsR0FBUyxHQUFNLEtBRXBFLEdBQWMsS0FBTSxTQUFVLEVBQU8sRUFBTyxDQUN4QyxFQUFNLElBQVEsR0FBTSxrQkFBa0IsS0FFMUMsR0FBYyxJQUFLLFNBQVUsRUFBTyxFQUFPLENBQ3ZDLEVBQU0sSUFBUSxTQUFTLEVBQU8sTUFLbEMsWUFBb0IsRUFBTSxDQUN0QixNQUFPLElBQVcsR0FBUSxJQUFNLElBS3BDLEdBQU0sa0JBQW9CLFNBQVUsRUFBTyxDQUN2QyxNQUFPLElBQU0sR0FBVSxJQUFNLEdBQVMsR0FBSyxLQUFPLE1BS3RELEdBQUksSUFBYSxHQUFXLFdBQVksSUFFeEMsYUFBeUIsQ0FDckIsTUFBTyxJQUFXLEtBQUssUUFHM0IsWUFBb0IsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBSSxDQUd0QyxHQUFJLEdBRUosTUFBSSxHQUFJLEtBQU8sR0FBSyxFQUVoQixHQUFPLEdBQUksTUFBSyxFQUFJLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3BDLFNBQVMsRUFBSyxnQkFDZCxFQUFLLFlBQVksSUFHckIsRUFBTyxHQUFJLE1BQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHL0IsRUFHWCxZQUF1QixFQUFHLENBQ3RCLEdBQUksR0FBTSxFQUVWLE1BQUksR0FBSSxLQUFPLEdBQUssRUFDaEIsR0FBTyxNQUFNLFVBQVUsTUFBTSxLQUFLLFdBRWxDLEVBQUssR0FBSyxFQUFJLElBQ2QsRUFBTyxHQUFJLE1BQUssS0FBSyxJQUFJLE1BQU0sS0FBTSxJQUNqQyxTQUFTLEVBQUssbUJBQ2QsRUFBSyxlQUFlLElBR3hCLEVBQU8sR0FBSSxNQUFLLEtBQUssSUFBSSxNQUFNLEtBQU0sWUFHbEMsRUFJWCxZQUF5QixFQUFNLEVBQUssRUFBSyxDQUNyQyxHQUNJLEdBQU0sRUFBSSxFQUFNLEVBRWhCLEVBQVMsR0FBSSxHQUFjLEVBQU0sRUFBRyxHQUFLLFlBQWMsR0FBTyxFQUVsRSxNQUFPLENBQUMsRUFBUSxFQUFNLEVBSTFCLFlBQTRCLEVBQU0sRUFBTSxFQUFTLEVBQUssRUFBSyxDQUN2RCxHQUFJLEdBQWdCLEdBQUksRUFBVSxHQUFPLEVBQ3JDLEVBQWEsR0FBZ0IsRUFBTSxFQUFLLEdBQ3hDLEVBQVksRUFBSSxFQUFLLEdBQU8sR0FBSyxFQUFlLEVBQ2hELEVBQ0EsRUFFSixNQUFJLElBQWEsRUFDYixHQUFVLEVBQU8sRUFDakIsRUFBZSxHQUFXLEdBQVcsR0FDbEMsQUFBSSxFQUFZLEdBQVcsR0FDOUIsR0FBVSxFQUFPLEVBQ2pCLEVBQWUsRUFBWSxHQUFXLElBRXRDLEdBQVUsRUFDVixFQUFlLEdBR1osQ0FDSCxLQUFNLEVBQ04sVUFBVyxHQUluQixZQUFvQixFQUFLLEVBQUssRUFBSyxDQUMvQixHQUFJLEdBQWEsR0FBZ0IsRUFBSSxPQUFRLEVBQUssR0FDOUMsRUFBTyxLQUFLLE1BQU8sR0FBSSxZQUFjLEVBQWEsR0FBSyxHQUFLLEVBQzVELEVBQ0EsRUFFSixNQUFJLEdBQU8sRUFDUCxHQUFVLEVBQUksT0FBUyxFQUN2QixFQUFVLEVBQU8sR0FBWSxFQUFTLEVBQUssSUFDeEMsQUFBSSxFQUFPLEdBQVksRUFBSSxPQUFRLEVBQUssR0FDM0MsR0FBVSxFQUFPLEdBQVksRUFBSSxPQUFRLEVBQUssR0FDOUMsRUFBVSxFQUFJLE9BQVMsR0FFdkIsR0FBVSxFQUFJLE9BQ2QsRUFBVSxHQUdQLENBQ0gsS0FBTSxFQUNOLEtBQU0sR0FJZCxZQUFxQixFQUFNLEVBQUssRUFBSyxDQUNqQyxHQUFJLEdBQWEsR0FBZ0IsRUFBTSxFQUFLLEdBQ3hDLEVBQWlCLEdBQWdCLEVBQU8sRUFBRyxFQUFLLEdBQ3BELE1BQVEsSUFBVyxHQUFRLEVBQWEsR0FBa0IsRUFLOUQsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sUUFDckMsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEtBQU0sV0FJckMsR0FBYSxPQUFRLEtBQ3JCLEdBQWEsVUFBVyxLQUl4QixHQUFnQixPQUFRLEdBQ3hCLEdBQWdCLFVBQVcsR0FJM0IsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsSUFBSyxJQUNuQixHQUFjLEtBQU0sR0FBVyxJQUUvQixHQUFrQixDQUFDLElBQUssS0FBTSxJQUFLLE1BQU8sU0FDdEMsRUFDQSxFQUNBLEVBQ0EsRUFDRixDQUNFLEVBQUssRUFBTSxPQUFPLEVBQUcsSUFBTSxHQUFNLEtBT3JDLFlBQW9CLEVBQUssQ0FDckIsTUFBTyxJQUFXLEVBQUssS0FBSyxNQUFNLElBQUssS0FBSyxNQUFNLEtBQUssS0FHM0QsR0FBSSxJQUFvQixDQUNwQixJQUFLLEVBQ0wsSUFBSyxHQUdULGFBQWdDLENBQzVCLE1BQU8sTUFBSyxNQUFNLElBR3RCLGFBQWdDLENBQzVCLE1BQU8sTUFBSyxNQUFNLElBS3RCLFlBQW9CLEVBQU8sQ0FDdkIsR0FBSSxHQUFPLEtBQUssYUFBYSxLQUFLLE1BQ2xDLE1BQU8sSUFBUyxLQUFPLEVBQU8sS0FBSyxJQUFLLEdBQVEsR0FBUSxFQUFHLEtBRy9ELFlBQXVCLEVBQU8sQ0FDMUIsR0FBSSxHQUFPLEdBQVcsS0FBTSxFQUFHLEdBQUcsS0FDbEMsTUFBTyxJQUFTLEtBQU8sRUFBTyxLQUFLLElBQUssR0FBUSxHQUFRLEVBQUcsS0FLL0QsR0FBZSxJQUFLLEVBQUcsS0FBTSxPQUU3QixHQUFlLEtBQU0sRUFBRyxFQUFHLFNBQVUsRUFBUSxDQUN6QyxNQUFPLE1BQUssYUFBYSxZQUFZLEtBQU0sS0FHL0MsR0FBZSxNQUFPLEVBQUcsRUFBRyxTQUFVLEVBQVEsQ0FDMUMsTUFBTyxNQUFLLGFBQWEsY0FBYyxLQUFNLEtBR2pELEdBQWUsT0FBUSxFQUFHLEVBQUcsU0FBVSxFQUFRLENBQzNDLE1BQU8sTUFBSyxhQUFhLFNBQVMsS0FBTSxLQUc1QyxHQUFlLElBQUssRUFBRyxFQUFHLFdBQzFCLEdBQWUsSUFBSyxFQUFHLEVBQUcsY0FJMUIsR0FBYSxNQUFPLEtBQ3BCLEdBQWEsVUFBVyxLQUN4QixHQUFhLGFBQWMsS0FHM0IsR0FBZ0IsTUFBTyxJQUN2QixHQUFnQixVQUFXLElBQzNCLEdBQWdCLGFBQWMsSUFJOUIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLFNBQVUsRUFBVSxFQUFRLENBQzVDLE1BQU8sR0FBTyxpQkFBaUIsS0FFbkMsR0FBYyxNQUFPLFNBQVUsRUFBVSxFQUFRLENBQzdDLE1BQU8sR0FBTyxtQkFBbUIsS0FFckMsR0FBYyxPQUFRLFNBQVUsRUFBVSxFQUFRLENBQzlDLE1BQU8sR0FBTyxjQUFjLEtBR2hDLEdBQWtCLENBQUMsS0FBTSxNQUFPLFFBQVMsU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQzNFLEdBQUksR0FBVSxFQUFPLFFBQVEsY0FBYyxFQUFPLEVBQU8sRUFBTyxTQUVoRSxBQUFJLEdBQVcsS0FDWCxFQUFLLEVBQUksRUFFVCxHQUFnQixHQUFRLGVBQWlCLElBSWpELEdBQWtCLENBQUMsSUFBSyxJQUFLLEtBQU0sU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQ3JFLEVBQUssR0FBUyxHQUFNLEtBS3hCLFlBQXNCLEVBQU8sRUFBUSxDQUNqQyxNQUFJLE9BQU8sSUFBVSxTQUNWLEVBR04sTUFBTSxHQUlYLEdBQVEsRUFBTyxjQUFjLEdBQ3pCLE1BQU8sSUFBVSxTQUNWLEVBR0osTUFSSSxTQUFTLEVBQU8sSUFXL0IsWUFBeUIsRUFBTyxFQUFRLENBQ3BDLE1BQUksT0FBTyxJQUFVLFNBQ1YsRUFBTyxjQUFjLEdBQVMsR0FBSyxFQUV2QyxNQUFNLEdBQVMsS0FBTyxFQUlqQyxZQUF1QixFQUFJLEVBQUcsQ0FDMUIsTUFBTyxHQUFHLE1BQU0sRUFBRyxHQUFHLE9BQU8sRUFBRyxNQUFNLEVBQUcsSUFHN0MsR0FBSSxJQUF3QiwyREFBMkQsTUFDL0UsS0FFSixHQUE2Qiw4QkFBOEIsTUFBTSxLQUNqRSxHQUEyQix1QkFBdUIsTUFBTSxLQUN4RCxHQUF1QixHQUN2QixHQUE0QixHQUM1QixHQUEwQixHQUU5QixZQUF3QixFQUFHLEVBQVEsQ0FDL0IsR0FBSSxHQUFXLEdBQVEsS0FBSyxXQUN0QixLQUFLLFVBQ0wsS0FBSyxVQUNELEdBQUssSUFBTSxJQUFRLEtBQUssVUFBVSxTQUFTLEtBQUssR0FDMUMsU0FDQSxjQUVoQixNQUFPLEtBQU0sR0FDUCxHQUFjLEVBQVUsS0FBSyxNQUFNLEtBQ25DLEVBQ0EsRUFBUyxFQUFFLE9BQ1gsRUFHVixZQUE2QixFQUFHLENBQzVCLE1BQU8sS0FBTSxHQUNQLEdBQWMsS0FBSyxlQUFnQixLQUFLLE1BQU0sS0FDOUMsRUFDQSxLQUFLLGVBQWUsRUFBRSxPQUN0QixLQUFLLGVBR2YsWUFBMkIsRUFBRyxDQUMxQixNQUFPLEtBQU0sR0FDUCxHQUFjLEtBQUssYUFBYyxLQUFLLE1BQU0sS0FDNUMsRUFDQSxLQUFLLGFBQWEsRUFBRSxPQUNwQixLQUFLLGFBR2YsWUFBNkIsRUFBYSxFQUFRLEVBQVEsQ0FDdEQsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUFNLEVBQVksb0JBQ3RCLEdBQUksQ0FBQyxLQUFLLGVBS04sSUFKQSxLQUFLLGVBQWlCLEdBQ3RCLEtBQUssb0JBQXNCLEdBQzNCLEtBQUssa0JBQW9CLEdBRXBCLEVBQUksRUFBRyxFQUFJLEVBQUcsRUFBRSxFQUNqQixFQUFNLEdBQVUsQ0FBQyxJQUFNLElBQUksSUFBSSxHQUMvQixLQUFLLGtCQUFrQixHQUFLLEtBQUssWUFDN0IsRUFDQSxJQUNGLG9CQUNGLEtBQUssb0JBQW9CLEdBQUssS0FBSyxjQUMvQixFQUNBLElBQ0Ysb0JBQ0YsS0FBSyxlQUFlLEdBQUssS0FBSyxTQUFTLEVBQUssSUFBSSxvQkFJeEQsTUFBSSxHQUNJLElBQVcsT0FDWCxHQUFLLEdBQVEsS0FBSyxLQUFLLGVBQWdCLEdBQ2hDLElBQU8sR0FBSyxFQUFLLE1BQ2pCLElBQVcsTUFDbEIsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDckMsSUFBTyxHQUFLLEVBQUssTUFFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssTUFHeEIsSUFBVyxPQUNYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssb0JBQXFCLEdBQ3hDLElBQU8sSUFDQSxFQUVYLEdBQUssR0FBUSxLQUFLLEtBQUssa0JBQW1CLEdBQ25DLElBQU8sR0FBSyxFQUFLLE9BQ2pCLElBQVcsTUFDbEIsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDeEMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDbkMsSUFBTyxHQUFLLEVBQUssT0FFeEIsR0FBSyxHQUFRLEtBQUssS0FBSyxrQkFBbUIsR0FDdEMsSUFBTyxJQUdYLEdBQUssR0FBUSxLQUFLLEtBQUssZUFBZ0IsR0FDbkMsSUFBTyxJQUNBLEVBRVgsR0FBSyxHQUFRLEtBQUssS0FBSyxvQkFBcUIsR0FDckMsSUFBTyxHQUFLLEVBQUssT0FLcEMsWUFBNkIsRUFBYSxFQUFRLEVBQVEsQ0FDdEQsR0FBSSxHQUFHLEVBQUssRUFFWixHQUFJLEtBQUssb0JBQ0wsTUFBTyxJQUFvQixLQUFLLEtBQU0sRUFBYSxFQUFRLEdBVS9ELElBUEssS0FBSyxnQkFDTixNQUFLLGVBQWlCLEdBQ3RCLEtBQUssa0JBQW9CLEdBQ3pCLEtBQUssb0JBQXNCLEdBQzNCLEtBQUssbUJBQXFCLElBR3pCLEVBQUksRUFBRyxFQUFJLEVBQUcsSUFBSyxDQTZCcEIsR0ExQkEsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUFJLElBQUksR0FDM0IsR0FBVSxDQUFDLEtBQUssbUJBQW1CLElBQ25DLE1BQUssbUJBQW1CLEdBQUssR0FBSSxRQUM3QixJQUFNLEtBQUssU0FBUyxFQUFLLElBQUksUUFBUSxJQUFLLFFBQVUsSUFDcEQsS0FFSixLQUFLLG9CQUFvQixHQUFLLEdBQUksUUFDOUIsSUFBTSxLQUFLLGNBQWMsRUFBSyxJQUFJLFFBQVEsSUFBSyxRQUFVLElBQ3pELEtBRUosS0FBSyxrQkFBa0IsR0FBSyxHQUFJLFFBQzVCLElBQU0sS0FBSyxZQUFZLEVBQUssSUFBSSxRQUFRLElBQUssUUFBVSxJQUN2RCxNQUdILEtBQUssZUFBZSxJQUNyQixHQUNJLElBQ0EsS0FBSyxTQUFTLEVBQUssSUFDbkIsS0FDQSxLQUFLLGNBQWMsRUFBSyxJQUN4QixLQUNBLEtBQUssWUFBWSxFQUFLLElBQzFCLEtBQUssZUFBZSxHQUFLLEdBQUksUUFBTyxFQUFNLFFBQVEsSUFBSyxJQUFLLE1BSTVELEdBQ0EsSUFBVyxRQUNYLEtBQUssbUJBQW1CLEdBQUcsS0FBSyxHQUVoQyxNQUFPLEdBQ0osR0FDSCxHQUNBLElBQVcsT0FDWCxLQUFLLG9CQUFvQixHQUFHLEtBQUssR0FFakMsTUFBTyxHQUNKLEdBQ0gsR0FDQSxJQUFXLE1BQ1gsS0FBSyxrQkFBa0IsR0FBRyxLQUFLLEdBRS9CLE1BQU8sR0FDSixHQUFJLENBQUMsR0FBVSxLQUFLLGVBQWUsR0FBRyxLQUFLLEdBQzlDLE1BQU8sSUFPbkIsWUFBeUIsRUFBTyxDQUM1QixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sSUFBUyxLQUFPLEtBQU8sSUFFbEMsR0FBSSxHQUFNLEtBQUssT0FBUyxLQUFLLEdBQUcsWUFBYyxLQUFLLEdBQUcsU0FDdEQsTUFBSSxJQUFTLEtBQ1QsR0FBUSxHQUFhLEVBQU8sS0FBSyxjQUMxQixLQUFLLElBQUksRUFBUSxFQUFLLE1BRXRCLEVBSWYsWUFBK0IsRUFBTyxDQUNsQyxHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sSUFBUyxLQUFPLEtBQU8sSUFFbEMsR0FBSSxHQUFXLE1BQUssTUFBUSxFQUFJLEtBQUssYUFBYSxNQUFNLEtBQU8sRUFDL0QsTUFBTyxJQUFTLEtBQU8sRUFBVSxLQUFLLElBQUksRUFBUSxFQUFTLEtBRy9ELFlBQTRCLEVBQU8sQ0FDL0IsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLElBQVMsS0FBTyxLQUFPLElBT2xDLEdBQUksR0FBUyxLQUFNLENBQ2YsR0FBSSxHQUFVLEdBQWdCLEVBQU8sS0FBSyxjQUMxQyxNQUFPLE1BQUssSUFBSSxLQUFLLE1BQVEsRUFBSSxFQUFVLEVBQVUsT0FFckQsT0FBTyxNQUFLLE9BQVMsRUFJN0IsWUFBdUIsRUFBVSxDQUM3QixNQUFJLE1BQUssb0JBQ0EsSUFBVyxLQUFNLG1CQUNsQixHQUFxQixLQUFLLE1BRTFCLEVBQ08sS0FBSyxxQkFFTCxLQUFLLGdCQUdYLElBQVcsS0FBTSxtQkFDbEIsTUFBSyxlQUFpQixJQUVuQixLQUFLLHNCQUF3QixFQUM5QixLQUFLLHFCQUNMLEtBQUssZ0JBSW5CLFlBQTRCLEVBQVUsQ0FDbEMsTUFBSSxNQUFLLG9CQUNBLElBQVcsS0FBTSxtQkFDbEIsR0FBcUIsS0FBSyxNQUUxQixFQUNPLEtBQUssMEJBRUwsS0FBSyxxQkFHWCxJQUFXLEtBQU0sd0JBQ2xCLE1BQUssb0JBQXNCLElBRXhCLEtBQUssMkJBQTZCLEVBQ25DLEtBQUssMEJBQ0wsS0FBSyxxQkFJbkIsWUFBMEIsRUFBVSxDQUNoQyxNQUFJLE1BQUssb0JBQ0EsSUFBVyxLQUFNLG1CQUNsQixHQUFxQixLQUFLLE1BRTFCLEVBQ08sS0FBSyx3QkFFTCxLQUFLLG1CQUdYLElBQVcsS0FBTSxzQkFDbEIsTUFBSyxrQkFBb0IsSUFFdEIsS0FBSyx5QkFBMkIsRUFDakMsS0FBSyx3QkFDTCxLQUFLLG1CQUluQixhQUFnQyxDQUM1QixXQUFtQixFQUFHLEVBQUcsQ0FDckIsTUFBTyxHQUFFLE9BQVMsRUFBRSxPQUd4QixHQUFJLEdBQVksR0FDWixFQUFjLEdBQ2QsRUFBYSxHQUNiLEVBQWMsR0FDZCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFHLElBRWYsRUFBTSxHQUFVLENBQUMsSUFBTSxJQUFJLElBQUksR0FDL0IsRUFBTyxHQUFZLEtBQUssWUFBWSxFQUFLLEtBQ3pDLEVBQVMsR0FBWSxLQUFLLGNBQWMsRUFBSyxLQUM3QyxFQUFRLEdBQVksS0FBSyxTQUFTLEVBQUssS0FDdkMsRUFBVSxLQUFLLEdBQ2YsRUFBWSxLQUFLLEdBQ2pCLEVBQVcsS0FBSyxHQUNoQixFQUFZLEtBQUssR0FDakIsRUFBWSxLQUFLLEdBQ2pCLEVBQVksS0FBSyxHQUlyQixFQUFVLEtBQUssR0FDZixFQUFZLEtBQUssR0FDakIsRUFBVyxLQUFLLEdBQ2hCLEVBQVksS0FBSyxHQUVqQixLQUFLLGVBQWlCLEdBQUksUUFBTyxLQUFPLEVBQVksS0FBSyxLQUFPLElBQUssS0FDckUsS0FBSyxvQkFBc0IsS0FBSyxlQUNoQyxLQUFLLGtCQUFvQixLQUFLLGVBRTlCLEtBQUsscUJBQXVCLEdBQUksUUFDNUIsS0FBTyxFQUFXLEtBQUssS0FBTyxJQUM5QixLQUVKLEtBQUssMEJBQTRCLEdBQUksUUFDakMsS0FBTyxFQUFZLEtBQUssS0FBTyxJQUMvQixLQUVKLEtBQUssd0JBQTBCLEdBQUksUUFDL0IsS0FBTyxFQUFVLEtBQUssS0FBTyxJQUM3QixLQU1SLGFBQW1CLENBQ2YsTUFBTyxNQUFLLFFBQVUsSUFBTSxHQUdoQyxhQUFtQixDQUNmLE1BQU8sTUFBSyxTQUFXLEdBRzNCLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLFFBQ2xDLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLElBQ2xDLEdBQWUsSUFBSyxDQUFDLEtBQU0sR0FBSSxFQUFHLElBRWxDLEdBQWUsTUFBTyxFQUFHLEVBQUcsVUFBWSxDQUNwQyxNQUFPLEdBQUssR0FBUSxNQUFNLE1BQVEsR0FBUyxLQUFLLFVBQVcsS0FHL0QsR0FBZSxRQUFTLEVBQUcsRUFBRyxVQUFZLENBQ3RDLE1BQ0ksR0FDQSxHQUFRLE1BQU0sTUFDZCxHQUFTLEtBQUssVUFBVyxHQUN6QixHQUFTLEtBQUssVUFBVyxLQUlqQyxHQUFlLE1BQU8sRUFBRyxFQUFHLFVBQVksQ0FDcEMsTUFBTyxHQUFLLEtBQUssUUFBVSxHQUFTLEtBQUssVUFBVyxLQUd4RCxHQUFlLFFBQVMsRUFBRyxFQUFHLFVBQVksQ0FDdEMsTUFDSSxHQUNBLEtBQUssUUFDTCxHQUFTLEtBQUssVUFBVyxHQUN6QixHQUFTLEtBQUssVUFBVyxLQUlqQyxZQUFrQixFQUFPLEVBQVcsQ0FDaEMsR0FBZSxFQUFPLEVBQUcsRUFBRyxVQUFZLENBQ3BDLE1BQU8sTUFBSyxhQUFhLFNBQ3JCLEtBQUssUUFDTCxLQUFLLFVBQ0wsS0FLWixHQUFTLElBQUssSUFDZCxHQUFTLElBQUssSUFJZCxHQUFhLE9BQVEsS0FHckIsR0FBZ0IsT0FBUSxJQUl4QixZQUF1QixFQUFVLEVBQVEsQ0FDckMsTUFBTyxHQUFPLGVBR2xCLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxJQUNuQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLEdBQVcsSUFFL0IsR0FBYyxNQUFPLElBQ3JCLEdBQWMsUUFBUyxJQUN2QixHQUFjLE1BQU8sSUFDckIsR0FBYyxRQUFTLElBRXZCLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFDM0IsR0FBYyxDQUFDLElBQUssTUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQ3ZELEdBQUksR0FBUyxHQUFNLEdBQ25CLEVBQU0sSUFBUSxJQUFXLEdBQUssRUFBSSxJQUV0QyxHQUFjLENBQUMsSUFBSyxLQUFNLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdEQsRUFBTyxNQUFRLEVBQU8sUUFBUSxLQUFLLEdBQ25DLEVBQU8sVUFBWSxJQUV2QixHQUFjLENBQUMsSUFBSyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdkQsRUFBTSxJQUFRLEdBQU0sR0FDcEIsR0FBZ0IsR0FBUSxRQUFVLEtBRXRDLEdBQWMsTUFBTyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQ2pELEdBQUksR0FBTSxFQUFNLE9BQVMsRUFDekIsRUFBTSxJQUFRLEdBQU0sRUFBTSxPQUFPLEVBQUcsSUFDcEMsRUFBTSxJQUFVLEdBQU0sRUFBTSxPQUFPLElBQ25DLEdBQWdCLEdBQVEsUUFBVSxLQUV0QyxHQUFjLFFBQVMsU0FBVSxFQUFPLEVBQU8sRUFBUSxDQUNuRCxHQUFJLEdBQU8sRUFBTSxPQUFTLEVBQ3RCLEVBQU8sRUFBTSxPQUFTLEVBQzFCLEVBQU0sSUFBUSxHQUFNLEVBQU0sT0FBTyxFQUFHLElBQ3BDLEVBQU0sSUFBVSxHQUFNLEVBQU0sT0FBTyxFQUFNLElBQ3pDLEVBQU0sSUFBVSxHQUFNLEVBQU0sT0FBTyxJQUNuQyxHQUFnQixHQUFRLFFBQVUsS0FFdEMsR0FBYyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDakQsR0FBSSxHQUFNLEVBQU0sT0FBUyxFQUN6QixFQUFNLElBQVEsR0FBTSxFQUFNLE9BQU8sRUFBRyxJQUNwQyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sTUFFdkMsR0FBYyxRQUFTLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDbkQsR0FBSSxHQUFPLEVBQU0sT0FBUyxFQUN0QixFQUFPLEVBQU0sT0FBUyxFQUMxQixFQUFNLElBQVEsR0FBTSxFQUFNLE9BQU8sRUFBRyxJQUNwQyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sRUFBTSxJQUN6QyxFQUFNLElBQVUsR0FBTSxFQUFNLE9BQU8sTUFLdkMsWUFBb0IsRUFBTyxDQUd2QixNQUFRLEdBQVEsSUFBSSxjQUFjLE9BQU8sS0FBTyxJQUdwRCxHQUFJLElBQTZCLGdCQUs3QixHQUFhLEdBQVcsUUFBUyxJQUVyQyxZQUF3QixFQUFPLEVBQVMsRUFBUyxDQUM3QyxNQUFJLEdBQVEsR0FDRCxFQUFVLEtBQU8sS0FFakIsRUFBVSxLQUFPLEtBSWhDLEdBQUksSUFBYSxDQUNiLFNBQVUsR0FDVixlQUFnQixHQUNoQixZQUFhLEdBQ2IsUUFBUyxHQUNULHVCQUF3QixHQUN4QixhQUFjLEdBRWQsT0FBUSxHQUNSLFlBQWEsR0FFYixLQUFNLEdBRU4sU0FBVSxHQUNWLFlBQWEsR0FDYixjQUFlLEdBRWYsY0FBZSxJQUlmLEdBQVUsR0FDVixHQUFpQixHQUNqQixHQUVKLFlBQXNCLEVBQU0sRUFBTSxDQUM5QixHQUFJLEdBQ0EsRUFBTyxLQUFLLElBQUksRUFBSyxPQUFRLEVBQUssUUFDdEMsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFNLEdBQUssRUFDdkIsR0FBSSxFQUFLLEtBQU8sRUFBSyxHQUNqQixNQUFPLEdBR2YsTUFBTyxHQUdYLFlBQXlCLEVBQUssQ0FDMUIsTUFBTyxJQUFNLEVBQUksY0FBYyxRQUFRLElBQUssS0FNaEQsWUFBc0IsRUFBTyxDQU96QixPQU5JLEdBQUksRUFDSixFQUNBLEVBQ0EsRUFDQSxFQUVHLEVBQUksRUFBTSxRQUFRLENBS3JCLElBSkEsRUFBUSxHQUFnQixFQUFNLElBQUksTUFBTSxLQUN4QyxFQUFJLEVBQU0sT0FDVixFQUFPLEdBQWdCLEVBQU0sRUFBSSxJQUNqQyxFQUFPLEVBQU8sRUFBSyxNQUFNLEtBQU8sS0FDekIsRUFBSSxHQUFHLENBRVYsR0FEQSxFQUFTLEdBQVcsRUFBTSxNQUFNLEVBQUcsR0FBRyxLQUFLLE1BQ3ZDLEVBQ0EsTUFBTyxHQUVYLEdBQ0ksR0FDQSxFQUFLLFFBQVUsR0FDZixHQUFhLEVBQU8sSUFBUyxFQUFJLEVBR2pDLE1BRUosSUFFSixJQUVKLE1BQU8sSUFHWCxZQUFvQixFQUFNLENBQ3RCLEdBQUksR0FBWSxLQUNaLEVBRUosR0FDSSxHQUFRLEtBQVUsUUFDbEIsTUFBTyxTQUFXLGFBQ2xCLFFBQ0EsT0FBTyxRQUVQLEdBQUksQ0FDQSxFQUFZLEdBQWEsTUFDekIsRUFBaUIsUUFDakIsRUFBZSxZQUFjLEdBQzdCLEdBQW1CLFNBQ2QsRUFBUCxDQUdFLEdBQVEsR0FBUSxLQUd4QixNQUFPLElBQVEsR0FNbkIsWUFBNEIsRUFBSyxFQUFRLENBQ3JDLEdBQUksR0FDSixNQUFJLElBQ0EsQ0FBSSxHQUFZLEdBQ1osRUFBTyxHQUFVLEdBRWpCLEVBQU8sR0FBYSxFQUFLLEdBRzdCLEFBQUksRUFFQSxHQUFlLEVBRVgsTUFBTyxVQUFZLGFBQWUsUUFBUSxNQUUxQyxRQUFRLEtBQ0osVUFBWSxFQUFNLDJDQU0zQixHQUFhLE1BR3hCLFlBQXNCLEVBQU0sRUFBUSxDQUNoQyxHQUFJLElBQVcsS0FBTSxDQUNqQixHQUFJLEdBQ0EsRUFBZSxHQUVuQixHQURBLEVBQU8sS0FBTyxFQUNWLEdBQVEsSUFBUyxLQUNqQixHQUNJLHVCQUNBLDJPQUtKLEVBQWUsR0FBUSxHQUFNLGdCQUN0QixFQUFPLGNBQWdCLEtBQzlCLEdBQUksR0FBUSxFQUFPLGVBQWlCLEtBQ2hDLEVBQWUsR0FBUSxFQUFPLGNBQWMsZ0JBRTVDLEVBQVMsR0FBVyxFQUFPLGNBQ3ZCLEdBQVUsS0FDVixFQUFlLEVBQU8sWUFFdEIsT0FBSyxJQUFlLEVBQU8sZUFDdkIsSUFBZSxFQUFPLGNBQWdCLElBRTFDLEdBQWUsRUFBTyxjQUFjLEtBQUssQ0FDckMsS0FBTSxFQUNOLE9BQVEsSUFFTCxLQUluQixVQUFRLEdBQVEsR0FBSSxJQUFPLEdBQWEsRUFBYyxJQUVsRCxHQUFlLElBQ2YsR0FBZSxHQUFNLFFBQVEsU0FBVSxFQUFHLENBQ3RDLEdBQWEsRUFBRSxLQUFNLEVBQUUsVUFPL0IsR0FBbUIsR0FFWixHQUFRLE9BR2YsY0FBTyxJQUFRLEdBQ1IsS0FJZixZQUFzQixFQUFNLEVBQVEsQ0FDaEMsR0FBSSxHQUFVLEtBQU0sQ0FDaEIsR0FBSSxHQUNBLEVBQ0EsRUFBZSxHQUVuQixBQUFJLEdBQVEsSUFBUyxNQUFRLEdBQVEsR0FBTSxjQUFnQixLQUV2RCxHQUFRLEdBQU0sSUFBSSxHQUFhLEdBQVEsR0FBTSxRQUFTLElBR3RELEdBQVksR0FBVyxHQUNuQixHQUFhLE1BQ2IsR0FBZSxFQUFVLFNBRTdCLEVBQVMsR0FBYSxFQUFjLEdBQ2hDLEdBQWEsTUFJYixHQUFPLEtBQU8sR0FFbEIsRUFBUyxHQUFJLElBQU8sR0FDcEIsRUFBTyxhQUFlLEdBQVEsR0FDOUIsR0FBUSxHQUFRLEdBSXBCLEdBQW1CLE9BR25CLEFBQUksSUFBUSxJQUFTLE1BQ2pCLENBQUksR0FBUSxHQUFNLGNBQWdCLEtBQzlCLElBQVEsR0FBUSxHQUFRLEdBQU0sYUFDMUIsSUFBUyxNQUNULEdBQW1CLElBRWhCLEdBQVEsSUFBUyxNQUN4QixNQUFPLElBQVEsSUFJM0IsTUFBTyxJQUFRLEdBSW5CLFlBQW1CLEVBQUssQ0FDcEIsR0FBSSxHQU1KLEdBSkksR0FBTyxFQUFJLFNBQVcsRUFBSSxRQUFRLE9BQ2xDLEdBQU0sRUFBSSxRQUFRLE9BR2xCLENBQUMsRUFDRCxNQUFPLElBR1gsR0FBSSxDQUFDLEdBQVEsR0FBTSxDQUdmLEdBREEsRUFBUyxHQUFXLEdBQ2hCLEVBQ0EsTUFBTyxHQUVYLEVBQU0sQ0FBQyxHQUdYLE1BQU8sSUFBYSxHQUd4QixhQUF1QixDQUNuQixNQUFPLElBQUssSUFHaEIsWUFBdUIsRUFBRyxDQUN0QixHQUFJLEdBQ0EsRUFBSSxFQUFFLEdBRVYsTUFBSSxJQUFLLEdBQWdCLEdBQUcsV0FBYSxJQUNyQyxHQUNJLEVBQUUsSUFBUyxHQUFLLEVBQUUsSUFBUyxHQUNyQixHQUNBLEVBQUUsSUFBUSxHQUFLLEVBQUUsSUFBUSxHQUFZLEVBQUUsSUFBTyxFQUFFLEtBQ2hELEdBQ0EsRUFBRSxJQUFRLEdBQ1YsRUFBRSxJQUFRLElBQ1QsRUFBRSxNQUFVLElBQ1IsR0FBRSxNQUFZLEdBQ1gsRUFBRSxNQUFZLEdBQ2QsRUFBRSxNQUFpQixHQUMzQixHQUNBLEVBQUUsSUFBVSxHQUFLLEVBQUUsSUFBVSxHQUM3QixHQUNBLEVBQUUsSUFBVSxHQUFLLEVBQUUsSUFBVSxHQUM3QixHQUNBLEVBQUUsSUFBZSxHQUFLLEVBQUUsSUFBZSxJQUN2QyxHQUNBLEdBR04sR0FBZ0IsR0FBRyxvQkFDbEIsR0FBVyxJQUFRLEVBQVcsS0FFL0IsR0FBVyxJQUVYLEdBQWdCLEdBQUcsZ0JBQWtCLElBQWEsSUFDbEQsR0FBVyxJQUVYLEdBQWdCLEdBQUcsa0JBQW9CLElBQWEsSUFDcEQsR0FBVyxJQUdmLEdBQWdCLEdBQUcsU0FBVyxHQUczQixFQUtYLEdBQUksSUFBbUIsaUpBQ25CLEdBQWdCLDZJQUNoQixHQUFVLHdCQUNWLEdBQVcsQ0FDUCxDQUFDLGVBQWdCLHVCQUNqQixDQUFDLGFBQWMsbUJBQ2YsQ0FBQyxlQUFnQixrQkFDakIsQ0FBQyxhQUFjLGNBQWUsSUFDOUIsQ0FBQyxXQUFZLGVBQ2IsQ0FBQyxVQUFXLGFBQWMsSUFDMUIsQ0FBQyxhQUFjLGNBQ2YsQ0FBQyxXQUFZLFNBQ2IsQ0FBQyxhQUFjLGVBQ2YsQ0FBQyxZQUFhLGNBQWUsSUFDN0IsQ0FBQyxVQUFXLFNBQ1osQ0FBQyxTQUFVLFFBQVMsSUFDcEIsQ0FBQyxPQUFRLFFBQVMsS0FHdEIsR0FBVyxDQUNQLENBQUMsZ0JBQWlCLHVCQUNsQixDQUFDLGdCQUFpQixzQkFDbEIsQ0FBQyxXQUFZLGtCQUNiLENBQUMsUUFBUyxhQUNWLENBQUMsY0FBZSxxQkFDaEIsQ0FBQyxjQUFlLG9CQUNoQixDQUFDLFNBQVUsZ0JBQ1gsQ0FBQyxPQUFRLFlBQ1QsQ0FBQyxLQUFNLFNBRVgsR0FBa0IscUJBRWxCLEdBQVUsMExBQ1YsR0FBYSxDQUNULEdBQUksRUFDSixJQUFLLEVBQ0wsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLEdBQ1YsSUFBSyxHQUFLLElBSWxCLFlBQXVCLEVBQVEsQ0FDM0IsR0FBSSxHQUNBLEVBQ0EsRUFBUyxFQUFPLEdBQ2hCLEVBQVEsR0FBaUIsS0FBSyxJQUFXLEdBQWMsS0FBSyxHQUM1RCxFQUNBLEVBQ0EsRUFDQSxFQUVKLEdBQUksRUFBTyxDQUdQLElBRkEsR0FBZ0IsR0FBUSxJQUFNLEdBRXpCLEVBQUksRUFBRyxFQUFJLEdBQVMsT0FBUSxFQUFJLEVBQUcsSUFDcEMsR0FBSSxHQUFTLEdBQUcsR0FBRyxLQUFLLEVBQU0sSUFBSyxDQUMvQixFQUFhLEdBQVMsR0FBRyxHQUN6QixFQUFZLEdBQVMsR0FBRyxLQUFPLEdBQy9CLE1BR1IsR0FBSSxHQUFjLEtBQU0sQ0FDcEIsRUFBTyxTQUFXLEdBQ2xCLE9BRUosR0FBSSxFQUFNLEdBQUksQ0FDVixJQUFLLEVBQUksRUFBRyxFQUFJLEdBQVMsT0FBUSxFQUFJLEVBQUcsSUFDcEMsR0FBSSxHQUFTLEdBQUcsR0FBRyxLQUFLLEVBQU0sSUFBSyxDQUUvQixFQUFjLEdBQU0sSUFBTSxLQUFPLEdBQVMsR0FBRyxHQUM3QyxNQUdSLEdBQUksR0FBYyxLQUFNLENBQ3BCLEVBQU8sU0FBVyxHQUNsQixRQUdSLEdBQUksQ0FBQyxHQUFhLEdBQWMsS0FBTSxDQUNsQyxFQUFPLFNBQVcsR0FDbEIsT0FFSixHQUFJLEVBQU0sR0FDTixHQUFJLEdBQVEsS0FBSyxFQUFNLElBQ25CLEVBQVcsUUFDUixDQUNILEVBQU8sU0FBVyxHQUNsQixPQUdSLEVBQU8sR0FBSyxFQUFjLElBQWMsSUFBTyxJQUFZLElBQzNELEdBQTBCLE9BRTFCLEdBQU8sU0FBVyxHQUkxQixZQUNJLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsR0FBSSxHQUFTLENBQ1QsR0FBZSxHQUNmLEdBQXlCLFFBQVEsR0FDakMsU0FBUyxFQUFRLElBQ2pCLFNBQVMsRUFBUyxJQUNsQixTQUFTLEVBQVcsS0FHeEIsTUFBSSxJQUNBLEVBQU8sS0FBSyxTQUFTLEVBQVcsS0FHN0IsRUFHWCxZQUF3QixFQUFTLENBQzdCLEdBQUksR0FBTyxTQUFTLEVBQVMsSUFDN0IsTUFBSSxJQUFRLEdBQ0QsSUFBTyxFQUNQLEdBQVEsSUFDUixLQUFPLEVBRVgsRUFHWCxZQUEyQixFQUFHLENBRTFCLE1BQU8sR0FDRixRQUFRLG9CQUFxQixLQUM3QixRQUFRLFdBQVksS0FDcEIsUUFBUSxTQUFVLElBQ2xCLFFBQVEsU0FBVSxJQUczQixZQUFzQixFQUFZLEVBQWEsRUFBUSxDQUNuRCxHQUFJLEVBQVksQ0FFWixHQUFJLEdBQWtCLEdBQTJCLFFBQVEsR0FDckQsRUFBZ0IsR0FBSSxNQUNoQixFQUFZLEdBQ1osRUFBWSxHQUNaLEVBQVksSUFDZCxTQUNOLEdBQUksSUFBb0IsRUFDcEIsVUFBZ0IsR0FBUSxnQkFBa0IsR0FDMUMsRUFBTyxTQUFXLEdBQ1gsR0FHZixNQUFPLEdBR1gsWUFBeUIsRUFBVyxFQUFnQixFQUFXLENBQzNELEdBQUksRUFDQSxNQUFPLElBQVcsR0FDZixHQUFJLEVBRVAsTUFBTyxHQUVQLEdBQUksR0FBSyxTQUFTLEVBQVcsSUFDekIsRUFBSSxFQUFLLElBQ1QsRUFBSyxHQUFLLEdBQUssSUFDbkIsTUFBTyxHQUFJLEdBQUssRUFLeEIsWUFBMkIsRUFBUSxDQUMvQixHQUFJLEdBQVEsR0FBUSxLQUFLLEdBQWtCLEVBQU8sS0FDOUMsRUFDSixHQUFJLEVBQU8sQ0FTUCxHQVJBLEVBQWMsR0FDVixFQUFNLEdBQ04sRUFBTSxHQUNOLEVBQU0sR0FDTixFQUFNLEdBQ04sRUFBTSxHQUNOLEVBQU0sSUFFTixDQUFDLEdBQWEsRUFBTSxHQUFJLEVBQWEsR0FDckMsT0FHSixFQUFPLEdBQUssRUFDWixFQUFPLEtBQU8sR0FBZ0IsRUFBTSxHQUFJLEVBQU0sR0FBSSxFQUFNLEtBRXhELEVBQU8sR0FBSyxHQUFjLE1BQU0sS0FBTSxFQUFPLElBQzdDLEVBQU8sR0FBRyxjQUFjLEVBQU8sR0FBRyxnQkFBa0IsRUFBTyxNQUUzRCxHQUFnQixHQUFRLFFBQVUsT0FFbEMsR0FBTyxTQUFXLEdBSzFCLFlBQTBCLEVBQVEsQ0FDOUIsR0FBSSxHQUFVLEdBQWdCLEtBQUssRUFBTyxJQUMxQyxHQUFJLElBQVksS0FBTSxDQUNsQixFQUFPLEdBQUssR0FBSSxNQUFLLENBQUMsRUFBUSxJQUM5QixPQUlKLEdBREEsR0FBYyxHQUNWLEVBQU8sV0FBYSxHQUNwQixNQUFPLEdBQU8sYUFFZCxRQUlKLEdBREEsR0FBa0IsR0FDZCxFQUFPLFdBQWEsR0FDcEIsTUFBTyxHQUFPLGFBRWQsUUFHSixBQUFJLEVBQU8sUUFDUCxFQUFPLFNBQVcsR0FHbEIsR0FBTSx3QkFBd0IsR0FJdEMsR0FBTSx3QkFBMEIsR0FDNUIsZ1NBR0EsU0FBVSxFQUFRLENBQ2QsRUFBTyxHQUFLLEdBQUksTUFBSyxFQUFPLEdBQU0sR0FBTyxRQUFVLE9BQVMsT0FLcEUsWUFBa0IsRUFBRyxFQUFHLEVBQUcsQ0FDdkIsTUFBSSxJQUdBLEdBR0csRUFHWCxZQUEwQixFQUFRLENBRTlCLEdBQUksR0FBVyxHQUFJLE1BQUssR0FBTSxPQUM5QixNQUFJLEdBQU8sUUFDQSxDQUNILEVBQVMsaUJBQ1QsRUFBUyxjQUNULEVBQVMsY0FHVixDQUFDLEVBQVMsY0FBZSxFQUFTLFdBQVksRUFBUyxXQU9sRSxZQUF5QixFQUFRLENBQzdCLEdBQUksR0FDQSxFQUNBLEVBQVEsR0FDUixFQUNBLEVBQ0EsRUFFSixHQUFJLEdBQU8sR0FnQ1gsS0E1QkEsRUFBYyxHQUFpQixHQUczQixFQUFPLElBQU0sRUFBTyxHQUFHLEtBQVMsTUFBUSxFQUFPLEdBQUcsS0FBVSxNQUM1RCxHQUFzQixHQUl0QixFQUFPLFlBQWMsTUFDckIsR0FBWSxHQUFTLEVBQU8sR0FBRyxJQUFPLEVBQVksS0FHOUMsR0FBTyxXQUFhLEdBQVcsSUFDL0IsRUFBTyxhQUFlLElBRXRCLElBQWdCLEdBQVEsbUJBQXFCLElBR2pELEVBQU8sR0FBYyxFQUFXLEVBQUcsRUFBTyxZQUMxQyxFQUFPLEdBQUcsSUFBUyxFQUFLLGNBQ3hCLEVBQU8sR0FBRyxJQUFRLEVBQUssY0FRdEIsRUFBSSxFQUFHLEVBQUksR0FBSyxFQUFPLEdBQUcsSUFBTSxLQUFNLEVBQUUsRUFDekMsRUFBTyxHQUFHLEdBQUssRUFBTSxHQUFLLEVBQVksR0FJMUMsS0FBTyxFQUFJLEVBQUcsSUFDVixFQUFPLEdBQUcsR0FBSyxFQUFNLEdBQ2pCLEVBQU8sR0FBRyxJQUFNLEtBQVEsSUFBTSxFQUFJLEVBQUksRUFBSyxFQUFPLEdBQUcsR0FJN0QsQUFDSSxFQUFPLEdBQUcsTUFBVSxJQUNwQixFQUFPLEdBQUcsTUFBWSxHQUN0QixFQUFPLEdBQUcsTUFBWSxHQUN0QixFQUFPLEdBQUcsTUFBaUIsR0FFM0IsR0FBTyxTQUFXLEdBQ2xCLEVBQU8sR0FBRyxJQUFRLEdBR3RCLEVBQU8sR0FBTSxHQUFPLFFBQVUsR0FBZ0IsSUFBWSxNQUN0RCxLQUNBLEdBRUosRUFBa0IsRUFBTyxRQUNuQixFQUFPLEdBQUcsWUFDVixFQUFPLEdBQUcsU0FJWixFQUFPLE1BQVEsTUFDZixFQUFPLEdBQUcsY0FBYyxFQUFPLEdBQUcsZ0JBQWtCLEVBQU8sTUFHM0QsRUFBTyxVQUNQLEdBQU8sR0FBRyxJQUFRLElBS2xCLEVBQU8sSUFDUCxNQUFPLEdBQU8sR0FBRyxHQUFNLGFBQ3ZCLEVBQU8sR0FBRyxJQUFNLEdBRWhCLElBQWdCLEdBQVEsZ0JBQWtCLEtBSWxELFlBQStCLEVBQVEsQ0FDbkMsR0FBSSxHQUFHLEVBQVUsRUFBTSxFQUFTLEVBQUssRUFBSyxFQUFNLEVBQWlCLEVBRWpFLEVBQUksRUFBTyxHQUNYLEFBQUksRUFBRSxJQUFNLE1BQVEsRUFBRSxHQUFLLE1BQVEsRUFBRSxHQUFLLEtBQ3RDLEdBQU0sRUFDTixFQUFNLEVBTU4sRUFBVyxHQUNQLEVBQUUsR0FDRixFQUFPLEdBQUcsSUFDVixHQUFXLEtBQWUsRUFBRyxHQUFHLE1BRXBDLEVBQU8sR0FBUyxFQUFFLEVBQUcsR0FDckIsRUFBVSxHQUFTLEVBQUUsRUFBRyxHQUNwQixHQUFVLEdBQUssRUFBVSxJQUN6QixHQUFrQixLQUd0QixHQUFNLEVBQU8sUUFBUSxNQUFNLElBQzNCLEVBQU0sRUFBTyxRQUFRLE1BQU0sSUFFM0IsRUFBVSxHQUFXLEtBQWUsRUFBSyxHQUV6QyxFQUFXLEdBQVMsRUFBRSxHQUFJLEVBQU8sR0FBRyxJQUFPLEVBQVEsTUFHbkQsRUFBTyxHQUFTLEVBQUUsRUFBRyxFQUFRLE1BRTdCLEFBQUksRUFBRSxHQUFLLEtBRVAsR0FBVSxFQUFFLEVBQ1IsR0FBVSxHQUFLLEVBQVUsSUFDekIsR0FBa0IsS0FFbkIsQUFBSSxFQUFFLEdBQUssS0FFZCxHQUFVLEVBQUUsRUFBSSxFQUNaLEdBQUUsRUFBSSxHQUFLLEVBQUUsRUFBSSxJQUNqQixHQUFrQixLQUl0QixFQUFVLEdBR2xCLEFBQUksRUFBTyxHQUFLLEVBQU8sR0FBWSxFQUFVLEVBQUssR0FDOUMsR0FBZ0IsR0FBUSxlQUFpQixHQUN0QyxBQUFJLEdBQW1CLEtBQzFCLEdBQWdCLEdBQVEsaUJBQW1CLEdBRTNDLEdBQU8sR0FBbUIsRUFBVSxFQUFNLEVBQVMsRUFBSyxHQUN4RCxFQUFPLEdBQUcsSUFBUSxFQUFLLEtBQ3ZCLEVBQU8sV0FBYSxFQUFLLFdBS2pDLEdBQU0sU0FBVyxVQUFZLEdBRzdCLEdBQU0sU0FBVyxVQUFZLEdBRzdCLFlBQW1DLEVBQVEsQ0FFdkMsR0FBSSxFQUFPLEtBQU8sR0FBTSxTQUFVLENBQzlCLEdBQWMsR0FDZCxPQUVKLEdBQUksRUFBTyxLQUFPLEdBQU0sU0FBVSxDQUM5QixHQUFrQixHQUNsQixPQUVKLEVBQU8sR0FBSyxHQUNaLEdBQWdCLEdBQVEsTUFBUSxHQUdoQyxHQUFJLEdBQVMsR0FBSyxFQUFPLEdBQ3JCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUFlLEVBQU8sT0FDdEIsRUFBeUIsRUFDekIsRUFLSixJQUhBLEVBQ0ksR0FBYSxFQUFPLEdBQUksRUFBTyxTQUFTLE1BQU0sS0FBcUIsR0FFbEUsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQzNCLEVBQVEsRUFBTyxHQUNmLEVBQWUsR0FBTyxNQUFNLEdBQXNCLEVBQU8sS0FDckQsSUFBSSxHQUNKLEdBQ0EsR0FBVSxFQUFPLE9BQU8sRUFBRyxFQUFPLFFBQVEsSUFDdEMsRUFBUSxPQUFTLEdBQ2pCLEdBQWdCLEdBQVEsWUFBWSxLQUFLLEdBRTdDLEVBQVMsRUFBTyxNQUNaLEVBQU8sUUFBUSxHQUFlLEVBQVksUUFFOUMsR0FBMEIsRUFBWSxRQUcxQyxBQUFJLEdBQXFCLEdBQ3JCLENBQUksRUFDQSxHQUFnQixHQUFRLE1BQVEsR0FFaEMsR0FBZ0IsR0FBUSxhQUFhLEtBQUssR0FFOUMsR0FBd0IsRUFBTyxFQUFhLElBQ3JDLEVBQU8sU0FBVyxDQUFDLEdBQzFCLEdBQWdCLEdBQVEsYUFBYSxLQUFLLEdBS2xELEdBQWdCLEdBQVEsY0FDcEIsRUFBZSxFQUNmLEVBQU8sT0FBUyxHQUNoQixHQUFnQixHQUFRLFlBQVksS0FBSyxHQUt6QyxFQUFPLEdBQUcsS0FBUyxJQUNuQixHQUFnQixHQUFRLFVBQVksSUFDcEMsRUFBTyxHQUFHLElBQVEsR0FFbEIsSUFBZ0IsR0FBUSxRQUFVLFFBR3RDLEdBQWdCLEdBQVEsZ0JBQWtCLEVBQU8sR0FBRyxNQUFNLEdBQzFELEdBQWdCLEdBQVEsU0FBVyxFQUFPLFVBRTFDLEVBQU8sR0FBRyxJQUFRLEdBQ2QsRUFBTyxRQUNQLEVBQU8sR0FBRyxJQUNWLEVBQU8sV0FJWCxFQUFNLEdBQWdCLEdBQVEsSUFDMUIsSUFBUSxNQUNSLEdBQU8sR0FBRyxJQUFRLEVBQU8sUUFBUSxnQkFBZ0IsRUFBSyxFQUFPLEdBQUcsTUFHcEUsR0FBZ0IsR0FDaEIsR0FBYyxHQUdsQixZQUF5QixFQUFRLEVBQU0sRUFBVSxDQUM3QyxHQUFJLEdBRUosTUFBSSxJQUFZLEtBRUwsRUFFUCxFQUFPLGNBQWdCLEtBQ2hCLEVBQU8sYUFBYSxFQUFNLEdBQzFCLEdBQU8sTUFBUSxNQUV0QixHQUFPLEVBQU8sS0FBSyxHQUNmLEdBQVEsRUFBTyxJQUNmLElBQVEsSUFFUixDQUFDLEdBQVEsSUFBUyxJQUNsQixHQUFPLElBRUosR0FRZixZQUFrQyxFQUFRLENBQ3RDLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBb0IsR0FFeEIsR0FBSSxFQUFPLEdBQUcsU0FBVyxFQUFHLENBQ3hCLEdBQWdCLEdBQVEsY0FBZ0IsR0FDeEMsRUFBTyxHQUFLLEdBQUksTUFBSyxLQUNyQixPQUdKLElBQUssRUFBSSxFQUFHLEVBQUksRUFBTyxHQUFHLE9BQVEsSUFDOUIsRUFBZSxFQUNmLEVBQW1CLEdBQ25CLEVBQWEsR0FBVyxHQUFJLEdBQ3hCLEVBQU8sU0FBVyxNQUNsQixHQUFXLFFBQVUsRUFBTyxTQUVoQyxFQUFXLEdBQUssRUFBTyxHQUFHLEdBQzFCLEdBQTBCLEdBRXRCLEdBQVEsSUFDUixHQUFtQixJQUl2QixHQUFnQixHQUFnQixHQUFZLGNBRzVDLEdBQWdCLEdBQWdCLEdBQVksYUFBYSxPQUFTLEdBRWxFLEdBQWdCLEdBQVksTUFBUSxFQUVwQyxBQUFLLEVBYUcsRUFBZSxHQUNmLEdBQWMsRUFDZCxFQUFhLEdBYmIsSUFBZSxNQUNmLEVBQWUsR0FDZixJQUVBLEdBQWMsRUFDZCxFQUFhLEVBQ1QsR0FDQSxHQUFvQixLQVdwQyxHQUFPLEVBQVEsR0FBYyxHQUdqQyxZQUEwQixFQUFRLENBQzlCLEdBQUksR0FBTyxHQUlYLElBQUksR0FBSSxHQUFxQixFQUFPLElBQ2hDLEVBQVksRUFBRSxNQUFRLE9BQVksRUFBRSxLQUFPLEVBQUUsSUFDakQsRUFBTyxHQUFLLEdBQ1IsQ0FBQyxFQUFFLEtBQU0sRUFBRSxNQUFPLEVBQVcsRUFBRSxLQUFNLEVBQUUsT0FBUSxFQUFFLE9BQVEsRUFBRSxhQUMzRCxTQUFVLEVBQUssQ0FDWCxNQUFPLElBQU8sU0FBUyxFQUFLLE1BSXBDLEdBQWdCLElBR3BCLFlBQTBCLEVBQVEsQ0FDOUIsR0FBSSxHQUFNLEdBQUksSUFBTyxHQUFjLEdBQWMsS0FDakQsTUFBSSxHQUFJLFVBRUosR0FBSSxJQUFJLEVBQUcsS0FDWCxFQUFJLFNBQVcsUUFHWixFQUdYLFlBQXVCLEVBQVEsQ0FDM0IsR0FBSSxHQUFRLEVBQU8sR0FDZixFQUFTLEVBQU8sR0FJcEIsTUFGQSxHQUFPLFFBQVUsRUFBTyxTQUFXLEdBQVUsRUFBTyxJQUVoRCxJQUFVLE1BQVMsSUFBVyxRQUFhLElBQVUsR0FDOUMsR0FBYyxDQUFFLFVBQVcsS0FHbEMsT0FBTyxJQUFVLFVBQ2pCLEdBQU8sR0FBSyxFQUFRLEVBQU8sUUFBUSxTQUFTLElBRzVDLEdBQVMsR0FDRixHQUFJLElBQU8sR0FBYyxJQUM3QixDQUFJLEdBQU8sR0FDZCxFQUFPLEdBQUssRUFDVCxBQUFJLEdBQVEsR0FDZixHQUF5QixHQUN0QixBQUFJLEVBQ1AsR0FBMEIsR0FFMUIsR0FBZ0IsR0FHZixHQUFRLElBQ1QsR0FBTyxHQUFLLE1BR1QsSUFHWCxZQUF5QixFQUFRLENBQzdCLEdBQUksR0FBUSxFQUFPLEdBQ25CLEFBQUksR0FBWSxHQUNaLEVBQU8sR0FBSyxHQUFJLE1BQUssR0FBTSxPQUN4QixBQUFJLEdBQU8sR0FDZCxFQUFPLEdBQUssR0FBSSxNQUFLLEVBQU0sV0FDeEIsQUFBSSxNQUFPLElBQVUsU0FDeEIsR0FBaUIsR0FDZCxBQUFJLEdBQVEsR0FDZixHQUFPLEdBQUssR0FBSSxFQUFNLE1BQU0sR0FBSSxTQUFVLEVBQUssQ0FDM0MsTUFBTyxVQUFTLEVBQUssTUFFekIsR0FBZ0IsSUFDYixBQUFJLEdBQVMsR0FDaEIsR0FBaUIsR0FDZCxBQUFJLEdBQVMsR0FFaEIsRUFBTyxHQUFLLEdBQUksTUFBSyxHQUVyQixHQUFNLHdCQUF3QixHQUl0QyxZQUEwQixFQUFPLEVBQVEsRUFBUSxFQUFRLEVBQU8sQ0FDNUQsR0FBSSxHQUFJLEdBRVIsTUFBSSxLQUFXLElBQVEsSUFBVyxLQUM5QixHQUFTLEVBQ1QsRUFBUyxRQUdULEtBQVcsSUFBUSxJQUFXLEtBQzlCLEdBQVMsRUFDVCxFQUFTLFFBSVIsSUFBUyxJQUFVLEdBQWMsSUFDakMsR0FBUSxJQUFVLEVBQU0sU0FBVyxJQUVwQyxHQUFRLFFBSVosRUFBRSxpQkFBbUIsR0FDckIsRUFBRSxRQUFVLEVBQUUsT0FBUyxFQUN2QixFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssRUFDUCxFQUFFLFFBQVUsRUFFTCxHQUFpQixHQUc1QixZQUFxQixFQUFPLEVBQVEsRUFBUSxFQUFRLENBQ2hELE1BQU8sSUFBaUIsRUFBTyxFQUFRLEVBQVEsRUFBUSxJQUczRCxHQUFJLElBQWUsR0FDWCxxR0FDQSxVQUFZLENBQ1IsR0FBSSxHQUFRLEdBQVksTUFBTSxLQUFNLFdBQ3BDLE1BQUksTUFBSyxXQUFhLEVBQU0sVUFDakIsRUFBUSxLQUFPLEtBQU8sRUFFdEIsT0FJbkIsR0FBZSxHQUNYLHFHQUNBLFVBQVksQ0FDUixHQUFJLEdBQVEsR0FBWSxNQUFNLEtBQU0sV0FDcEMsTUFBSSxNQUFLLFdBQWEsRUFBTSxVQUNqQixFQUFRLEtBQU8sS0FBTyxFQUV0QixPQVV2QixZQUFnQixFQUFJLEVBQVMsQ0FDekIsR0FBSSxHQUFLLEVBSVQsR0FISSxFQUFRLFNBQVcsR0FBSyxHQUFRLEVBQVEsS0FDeEMsR0FBVSxFQUFRLElBRWxCLENBQUMsRUFBUSxPQUNULE1BQU8sTUFHWCxJQURBLEVBQU0sRUFBUSxHQUNULEVBQUksRUFBRyxFQUFJLEVBQVEsT0FBUSxFQUFFLEVBQzlCLEFBQUksRUFBQyxFQUFRLEdBQUcsV0FBYSxFQUFRLEdBQUcsR0FBSSxLQUN4QyxHQUFNLEVBQVEsSUFHdEIsTUFBTyxHQUlYLGFBQWUsQ0FDWCxHQUFJLEdBQU8sR0FBRyxNQUFNLEtBQUssVUFBVyxHQUVwQyxNQUFPLElBQU8sV0FBWSxHQUc5QixhQUFlLENBQ1gsR0FBSSxHQUFPLEdBQUcsTUFBTSxLQUFLLFVBQVcsR0FFcEMsTUFBTyxJQUFPLFVBQVcsR0FHN0IsR0FBSSxJQUFNLFVBQVksQ0FDbEIsTUFBTyxNQUFLLElBQU0sS0FBSyxNQUFRLENBQUMsR0FBSSxPQUdwQyxHQUFXLENBQ1gsT0FDQSxVQUNBLFFBQ0EsT0FDQSxNQUNBLE9BQ0EsU0FDQSxTQUNBLGVBR0osWUFBeUIsRUFBRyxDQUN4QixHQUFJLEdBQ0EsRUFBaUIsR0FDakIsRUFDSixJQUFLLElBQU8sR0FDUixHQUNJLEdBQVcsRUFBRyxJQUNkLENBQ0ksSUFBUSxLQUFLLEdBQVUsS0FBUyxJQUMvQixHQUFFLElBQVEsTUFBUSxDQUFDLE1BQU0sRUFBRSxNQUdoQyxNQUFPLEdBSWYsSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFTLE9BQVEsRUFBRSxFQUMvQixHQUFJLEVBQUUsR0FBUyxJQUFLLENBQ2hCLEdBQUksRUFDQSxNQUFPLEdBRVgsQUFBSSxXQUFXLEVBQUUsR0FBUyxPQUFTLEdBQU0sRUFBRSxHQUFTLE1BQ2hELEdBQWlCLElBSzdCLE1BQU8sR0FHWCxhQUFxQixDQUNqQixNQUFPLE1BQUssU0FHaEIsYUFBMkIsQ0FDdkIsTUFBTyxJQUFlLEtBRzFCLFlBQWtCLEVBQVUsQ0FDeEIsR0FBSSxHQUFrQixHQUFxQixHQUN2QyxFQUFRLEVBQWdCLE1BQVEsRUFDaEMsRUFBVyxFQUFnQixTQUFXLEVBQ3RDLEVBQVMsRUFBZ0IsT0FBUyxFQUNsQyxFQUFRLEVBQWdCLE1BQVEsRUFBZ0IsU0FBVyxFQUMzRCxFQUFPLEVBQWdCLEtBQU8sRUFDOUIsRUFBUSxFQUFnQixNQUFRLEVBQ2hDLEVBQVUsRUFBZ0IsUUFBVSxFQUNwQyxFQUFVLEVBQWdCLFFBQVUsRUFDcEMsRUFBZSxFQUFnQixhQUFlLEVBRWxELEtBQUssU0FBVyxHQUFnQixHQUdoQyxLQUFLLGNBQ0QsQ0FBQyxFQUNELEVBQVUsSUFDVixFQUFVLElBQ1YsRUFBUSxJQUFPLEdBQUssR0FHeEIsS0FBSyxNQUFRLENBQUMsRUFBTyxFQUFRLEVBSTdCLEtBQUssUUFBVSxDQUFDLEVBQVMsRUFBVyxFQUFJLEVBQVEsR0FFaEQsS0FBSyxNQUFRLEdBRWIsS0FBSyxRQUFVLEtBRWYsS0FBSyxVQUdULFlBQW9CLEVBQUssQ0FDckIsTUFBTyxhQUFlLElBRzFCLFlBQWtCLEVBQVEsQ0FDdEIsTUFBSSxHQUFTLEVBQ0YsS0FBSyxNQUFNLEdBQUssR0FBVSxHQUUxQixLQUFLLE1BQU0sR0FLMUIsWUFBdUIsRUFBUSxFQUFRLEVBQWEsQ0FDaEQsR0FBSSxHQUFNLEtBQUssSUFBSSxFQUFPLE9BQVEsRUFBTyxRQUNyQyxFQUFhLEtBQUssSUFBSSxFQUFPLE9BQVMsRUFBTyxRQUM3QyxFQUFRLEVBQ1IsRUFDSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssSUFDakIsQUFDSyxJQUFlLEVBQU8sS0FBTyxFQUFPLElBQ3BDLENBQUMsR0FBZSxHQUFNLEVBQU8sTUFBUSxHQUFNLEVBQU8sTUFFbkQsSUFHUixNQUFPLEdBQVEsRUFLbkIsWUFBZ0IsRUFBTyxFQUFXLENBQzlCLEdBQWUsRUFBTyxFQUFHLEVBQUcsVUFBWSxDQUNwQyxHQUFJLEdBQVMsS0FBSyxZQUNkLEVBQU8sSUFDWCxNQUFJLEdBQVMsR0FDVCxHQUFTLENBQUMsRUFDVixFQUFPLEtBR1AsRUFDQSxHQUFTLENBQUMsQ0FBRSxHQUFTLElBQUssR0FDMUIsRUFDQSxHQUFTLENBQUMsQ0FBQyxFQUFTLEdBQUksS0FLcEMsR0FBTyxJQUFLLEtBQ1osR0FBTyxLQUFNLElBSWIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxJQUNwQixHQUFjLENBQUMsSUFBSyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsQ0FDdkQsRUFBTyxRQUFVLEdBQ2pCLEVBQU8sS0FBTyxHQUFpQixHQUFrQixLQVFyRCxHQUFJLElBQWMsa0JBRWxCLFlBQTBCLEVBQVMsRUFBUSxDQUN2QyxHQUFJLEdBQVcsSUFBVSxJQUFJLE1BQU0sR0FDL0IsRUFDQSxFQUNBLEVBRUosTUFBSSxLQUFZLEtBQ0wsS0FHWCxHQUFRLEVBQVEsRUFBUSxPQUFTLElBQU0sR0FDdkMsRUFBUyxHQUFRLElBQUksTUFBTSxLQUFnQixDQUFDLElBQUssRUFBRyxHQUNwRCxFQUFVLENBQUUsR0FBTSxHQUFLLElBQU0sR0FBTSxFQUFNLElBRWxDLElBQVksRUFBSSxFQUFJLEVBQU0sS0FBTyxJQUFNLEVBQVUsQ0FBQyxHQUk3RCxZQUF5QixFQUFPLEVBQU8sQ0FDbkMsR0FBSSxHQUFLLEVBQ1QsTUFBSSxHQUFNLE9BQ04sR0FBTSxFQUFNLFFBQ1osRUFDSyxJQUFTLElBQVUsR0FBTyxHQUNyQixFQUFNLFVBQ04sR0FBWSxHQUFPLFdBQWEsRUFBSSxVQUU5QyxFQUFJLEdBQUcsUUFBUSxFQUFJLEdBQUcsVUFBWSxHQUNsQyxHQUFNLGFBQWEsRUFBSyxJQUNqQixHQUVBLEdBQVksR0FBTyxRQUlsQyxZQUF1QixFQUFHLENBR3RCLE1BQU8sQ0FBQyxLQUFLLE1BQU0sRUFBRSxHQUFHLHFCQU81QixHQUFNLGFBQWUsVUFBWSxHQWNqQyxZQUFzQixFQUFPLEVBQWUsRUFBYSxDQUNyRCxHQUFJLEdBQVMsS0FBSyxTQUFXLEVBQ3pCLEVBQ0osR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLElBQVMsS0FBTyxLQUFPLElBRWxDLEdBQUksR0FBUyxLQUFNLENBQ2YsR0FBSSxNQUFPLElBQVUsVUFFakIsR0FEQSxFQUFRLEdBQWlCLEdBQWtCLEdBQ3ZDLElBQVUsS0FDVixNQUFPLFVBRVIsQUFBSSxNQUFLLElBQUksR0FBUyxJQUFNLENBQUMsR0FDaEMsR0FBUSxFQUFRLElBRXBCLE1BQUksQ0FBQyxLQUFLLFFBQVUsR0FDaEIsR0FBYyxHQUFjLE9BRWhDLEtBQUssUUFBVSxFQUNmLEtBQUssT0FBUyxHQUNWLEdBQWUsTUFDZixLQUFLLElBQUksRUFBYSxLQUV0QixJQUFXLEdBQ1gsQ0FBSSxDQUFDLEdBQWlCLEtBQUssa0JBQ3ZCLEdBQ0ksS0FDQSxHQUFlLEVBQVEsRUFBUSxLQUMvQixFQUNBLElBRUksS0FBSyxtQkFDYixNQUFLLGtCQUFvQixHQUN6QixHQUFNLGFBQWEsS0FBTSxJQUN6QixLQUFLLGtCQUFvQixPQUcxQixTQUVQLE9BQU8sTUFBSyxPQUFTLEVBQVMsR0FBYyxNQUlwRCxZQUFvQixFQUFPLEVBQWUsQ0FDdEMsTUFBSSxJQUFTLEtBQ0wsT0FBTyxJQUFVLFVBQ2pCLEdBQVEsQ0FBQyxHQUdiLEtBQUssVUFBVSxFQUFPLEdBRWYsTUFFQSxDQUFDLEtBQUssWUFJckIsWUFBd0IsRUFBZSxDQUNuQyxNQUFPLE1BQUssVUFBVSxFQUFHLEdBRzdCLFlBQTBCLEVBQWUsQ0FDckMsTUFBSSxNQUFLLFFBQ0wsTUFBSyxVQUFVLEVBQUcsR0FDbEIsS0FBSyxPQUFTLEdBRVYsR0FDQSxLQUFLLFNBQVMsR0FBYyxNQUFPLE1BR3BDLEtBR1gsYUFBbUMsQ0FDL0IsR0FBSSxLQUFLLE1BQVEsS0FDYixLQUFLLFVBQVUsS0FBSyxLQUFNLEdBQU8sWUFDMUIsTUFBTyxNQUFLLElBQU8sU0FBVSxDQUNwQyxHQUFJLEdBQVEsR0FBaUIsR0FBYSxLQUFLLElBQy9DLEFBQUksR0FBUyxLQUNULEtBQUssVUFBVSxHQUVmLEtBQUssVUFBVSxFQUFHLElBRzFCLE1BQU8sTUFHWCxZQUE4QixFQUFPLENBQ2pDLE1BQUssTUFBSyxVQUdWLEdBQVEsRUFBUSxHQUFZLEdBQU8sWUFBYyxFQUV6QyxNQUFLLFlBQWMsR0FBUyxJQUFPLEdBSmhDLEdBT2YsYUFBZ0MsQ0FDNUIsTUFDSSxNQUFLLFlBQWMsS0FBSyxRQUFRLE1BQU0sR0FBRyxhQUN6QyxLQUFLLFlBQWMsS0FBSyxRQUFRLE1BQU0sR0FBRyxZQUlqRCxhQUF1QyxDQUNuQyxHQUFJLENBQUMsR0FBWSxLQUFLLGVBQ2xCLE1BQU8sTUFBSyxjQUdoQixHQUFJLEdBQUksR0FDSixFQUVKLFVBQVcsRUFBRyxNQUNkLEVBQUksR0FBYyxHQUVsQixBQUFJLEVBQUUsR0FDRixHQUFRLEVBQUUsT0FBUyxHQUFVLEVBQUUsSUFBTSxHQUFZLEVBQUUsSUFDbkQsS0FBSyxjQUNELEtBQUssV0FBYSxHQUFjLEVBQUUsR0FBSSxFQUFNLFdBQWEsR0FFN0QsS0FBSyxjQUFnQixHQUdsQixLQUFLLGNBR2hCLGFBQW1CLENBQ2YsTUFBTyxNQUFLLFVBQVksQ0FBQyxLQUFLLE9BQVMsR0FHM0MsYUFBdUIsQ0FDbkIsTUFBTyxNQUFLLFVBQVksS0FBSyxPQUFTLEdBRzFDLGFBQWlCLENBQ2IsTUFBTyxNQUFLLFVBQVksS0FBSyxRQUFVLEtBQUssVUFBWSxFQUFJLEdBSWhFLEdBQUksSUFBYyx3REFJZCxHQUFXLHNLQUVmLFlBQXdCLEVBQU8sRUFBSyxDQUNoQyxHQUFJLEdBQVcsRUFFWCxFQUFRLEtBQ1IsRUFDQSxFQUNBLEVBRUosTUFBSSxJQUFXLEdBQ1gsRUFBVyxDQUNQLEdBQUksRUFBTSxjQUNWLEVBQUcsRUFBTSxNQUNULEVBQUcsRUFBTSxTQUVWLEFBQUksR0FBUyxJQUFVLENBQUMsTUFBTSxDQUFDLEdBQ2xDLEdBQVcsR0FDWCxBQUFJLEVBQ0EsRUFBUyxHQUFPLENBQUMsRUFFakIsRUFBUyxhQUFlLENBQUMsR0FFMUIsQUFBSyxHQUFRLEdBQVksS0FBSyxJQUNqQyxHQUFPLEVBQU0sS0FBTyxJQUFNLEdBQUssRUFDL0IsRUFBVyxDQUNQLEVBQUcsRUFDSCxFQUFHLEdBQU0sRUFBTSxLQUFTLEVBQ3hCLEVBQUcsR0FBTSxFQUFNLEtBQVMsRUFDeEIsRUFBRyxHQUFNLEVBQU0sS0FBVyxFQUMxQixFQUFHLEdBQU0sRUFBTSxLQUFXLEVBQzFCLEdBQUksR0FBTSxHQUFTLEVBQU0sSUFBZSxNQUFTLElBRWxELEFBQUssR0FBUSxHQUFTLEtBQUssSUFDOUIsR0FBTyxFQUFNLEtBQU8sSUFBTSxHQUFLLEVBQy9CLEVBQVcsQ0FDUCxFQUFHLEdBQVMsRUFBTSxHQUFJLEdBQ3RCLEVBQUcsR0FBUyxFQUFNLEdBQUksR0FDdEIsRUFBRyxHQUFTLEVBQU0sR0FBSSxHQUN0QixFQUFHLEdBQVMsRUFBTSxHQUFJLEdBQ3RCLEVBQUcsR0FBUyxFQUFNLEdBQUksR0FDdEIsRUFBRyxHQUFTLEVBQU0sR0FBSSxHQUN0QixFQUFHLEdBQVMsRUFBTSxHQUFJLEtBRXZCLEFBQUksR0FBWSxLQUVuQixFQUFXLEdBRVgsTUFBTyxJQUFhLFVBQ25CLFNBQVUsSUFBWSxNQUFRLEtBRS9CLEdBQVUsR0FDTixHQUFZLEVBQVMsTUFDckIsR0FBWSxFQUFTLEtBR3pCLEVBQVcsR0FDWCxFQUFTLEdBQUssRUFBUSxhQUN0QixFQUFTLEVBQUksRUFBUSxRQUd6QixFQUFNLEdBQUksSUFBUyxHQUVmLEdBQVcsSUFBVSxHQUFXLEVBQU8sWUFDdkMsR0FBSSxRQUFVLEVBQU0sU0FHcEIsR0FBVyxJQUFVLEdBQVcsRUFBTyxhQUN2QyxHQUFJLFNBQVcsRUFBTSxVQUdsQixFQUdYLEdBQWUsR0FBSyxHQUFTLFVBQzdCLEdBQWUsUUFBVSxHQUV6QixZQUFrQixFQUFLLEVBQU0sQ0FJekIsR0FBSSxHQUFNLEdBQU8sV0FBVyxFQUFJLFFBQVEsSUFBSyxNQUU3QyxNQUFRLE9BQU0sR0FBTyxFQUFJLEdBQU8sRUFHcEMsWUFBbUMsRUFBTSxFQUFPLENBQzVDLEdBQUksR0FBTSxHQUVWLFNBQUksT0FDQSxFQUFNLFFBQVUsRUFBSyxRQUFXLEdBQU0sT0FBUyxFQUFLLFFBQVUsR0FDOUQsRUFBSyxRQUFRLElBQUksRUFBSSxPQUFRLEtBQUssUUFBUSxJQUMxQyxFQUFFLEVBQUksT0FHVixFQUFJLGFBQWUsQ0FBQyxFQUFRLENBQUMsRUFBSyxRQUFRLElBQUksRUFBSSxPQUFRLEtBRW5ELEVBR1gsWUFBMkIsRUFBTSxFQUFPLENBQ3BDLEdBQUksR0FDSixNQUFNLEdBQUssV0FBYSxFQUFNLFVBSTlCLEdBQVEsR0FBZ0IsRUFBTyxHQUMvQixBQUFJLEVBQUssU0FBUyxHQUNkLEVBQU0sR0FBMEIsRUFBTSxHQUV0QyxHQUFNLEdBQTBCLEVBQU8sR0FDdkMsRUFBSSxhQUFlLENBQUMsRUFBSSxhQUN4QixFQUFJLE9BQVMsQ0FBQyxFQUFJLFFBR2YsR0FaSSxDQUFFLGFBQWMsRUFBRyxPQUFRLEdBZ0IxQyxZQUFxQixFQUFXLEVBQU0sQ0FDbEMsTUFBTyxVQUFVLEVBQUssRUFBUSxDQUMxQixHQUFJLEdBQUssRUFFVCxNQUFJLEtBQVcsTUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUMzQixJQUNJLEVBQ0EsWUFDSSxFQUNBLHVEQUNBLEVBQ0Esa0dBR1IsRUFBTSxFQUNOLEVBQU0sRUFDTixFQUFTLEdBR2IsRUFBTSxHQUFlLEVBQUssR0FDMUIsR0FBWSxLQUFNLEVBQUssR0FDaEIsTUFJZixZQUFxQixFQUFLLEVBQVUsRUFBVSxFQUFjLENBQ3hELEdBQUksR0FBZSxFQUFTLGNBQ3hCLEVBQU8sR0FBUyxFQUFTLE9BQ3pCLEVBQVMsR0FBUyxFQUFTLFNBRS9CLEFBQUksQ0FBQyxFQUFJLFdBS1QsR0FBZSxHQUF1QixHQUVsQyxHQUNBLEdBQVMsRUFBSyxHQUFJLEVBQUssU0FBVyxFQUFTLEdBRTNDLEdBQ0EsR0FBTSxFQUFLLE9BQVEsR0FBSSxFQUFLLFFBQVUsRUFBTyxHQUU3QyxHQUNBLEVBQUksR0FBRyxRQUFRLEVBQUksR0FBRyxVQUFZLEVBQWUsR0FFakQsR0FDQSxHQUFNLGFBQWEsRUFBSyxHQUFRLElBSXhDLEdBQUksSUFBTSxHQUFZLEVBQUcsT0FDckIsR0FBVyxHQUFZLEdBQUksWUFFL0IsWUFBa0IsRUFBTyxDQUNyQixNQUFPLE9BQU8sSUFBVSxVQUFZLFlBQWlCLFFBSXpELFlBQXVCLEVBQU8sQ0FDMUIsTUFDSSxJQUFTLElBQ1QsR0FBTyxJQUNQLEdBQVMsSUFDVCxHQUFTLElBQ1QsR0FBc0IsSUFDdEIsR0FBb0IsSUFDcEIsSUFBVSxNQUNWLElBQVUsT0FJbEIsWUFBNkIsRUFBTyxDQUNoQyxHQUFJLEdBQWEsR0FBUyxJQUFVLENBQUMsR0FBYyxHQUMvQyxFQUFlLEdBQ2YsRUFBYSxDQUNULFFBQ0EsT0FDQSxJQUNBLFNBQ0EsUUFDQSxJQUNBLE9BQ0EsTUFDQSxJQUNBLFFBQ0EsT0FDQSxJQUNBLFFBQ0EsT0FDQSxJQUNBLFVBQ0EsU0FDQSxJQUNBLFVBQ0EsU0FDQSxJQUNBLGVBQ0EsY0FDQSxNQUVKLEVBQ0EsRUFFSixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVcsT0FBUSxHQUFLLEVBQ3BDLEVBQVcsRUFBVyxHQUN0QixFQUFlLEdBQWdCLEdBQVcsRUFBTyxHQUdyRCxNQUFPLElBQWMsRUFHekIsWUFBK0IsRUFBTyxDQUNsQyxHQUFJLEdBQVksR0FBUSxHQUNwQixFQUFlLEdBQ25CLE1BQUksSUFDQSxHQUNJLEVBQU0sT0FBTyxTQUFVLEVBQU0sQ0FDekIsTUFBTyxDQUFDLEdBQVMsSUFBUyxHQUFTLEtBQ3BDLFNBQVcsR0FFZixHQUFhLEVBR3hCLFlBQXdCLEVBQU8sQ0FDM0IsR0FBSSxHQUFhLEdBQVMsSUFBVSxDQUFDLEdBQWMsR0FDL0MsRUFBZSxHQUNmLEVBQWEsQ0FDVCxVQUNBLFVBQ0EsVUFDQSxXQUNBLFdBQ0EsWUFFSixFQUNBLEVBRUosSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFXLE9BQVEsR0FBSyxFQUNwQyxFQUFXLEVBQVcsR0FDdEIsRUFBZSxHQUFnQixHQUFXLEVBQU8sR0FHckQsTUFBTyxJQUFjLEVBR3pCLFlBQTJCLEVBQVUsRUFBSyxDQUN0QyxHQUFJLEdBQU8sRUFBUyxLQUFLLEVBQUssT0FBUSxJQUN0QyxNQUFPLEdBQU8sR0FDUixXQUNBLEVBQU8sR0FDUCxXQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxVQUNBLEVBQU8sRUFDUCxXQUNBLFdBR1YsWUFBb0IsRUFBTSxFQUFTLENBRS9CLEFBQUksVUFBVSxTQUFXLEdBQ3JCLENBQUssVUFBVSxHQUdSLEFBQUksR0FBYyxVQUFVLElBQy9CLEdBQU8sVUFBVSxHQUNqQixFQUFVLFFBQ0gsR0FBZSxVQUFVLEtBQ2hDLEdBQVUsVUFBVSxHQUNwQixFQUFPLFFBUFAsR0FBTyxPQUNQLEVBQVUsU0FXbEIsR0FBSSxHQUFNLEdBQVEsS0FDZCxFQUFNLEdBQWdCLEVBQUssTUFBTSxRQUFRLE9BQ3pDLEVBQVMsR0FBTSxlQUFlLEtBQU0sSUFBUSxXQUM1QyxFQUNJLEdBQ0MsSUFBVyxFQUFRLElBQ2QsRUFBUSxHQUFRLEtBQUssS0FBTSxHQUMzQixFQUFRLElBRXRCLE1BQU8sTUFBSyxPQUNSLEdBQVUsS0FBSyxhQUFhLFNBQVMsRUFBUSxLQUFNLEdBQVksS0FJdkUsYUFBaUIsQ0FDYixNQUFPLElBQUksSUFBTyxNQUd0QixZQUFpQixFQUFPLEVBQU8sQ0FDM0IsR0FBSSxHQUFhLEdBQVMsR0FBUyxFQUFRLEdBQVksR0FDdkQsTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxVQUFZLEVBQVcsVUFFNUIsRUFBVyxVQUFZLEtBQUssUUFBUSxRQUFRLEdBQU8sV0FObkQsR0FVZixZQUFrQixFQUFPLEVBQU8sQ0FDNUIsR0FBSSxHQUFhLEdBQVMsR0FBUyxFQUFRLEdBQVksR0FDdkQsTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxVQUFZLEVBQVcsVUFFNUIsS0FBSyxRQUFRLE1BQU0sR0FBTyxVQUFZLEVBQVcsV0FOakQsR0FVZixZQUFtQixFQUFNLEVBQUksRUFBTyxFQUFhLENBQzdDLEdBQUksR0FBWSxHQUFTLEdBQVEsRUFBTyxHQUFZLEdBQ2hELEVBQVUsR0FBUyxHQUFNLEVBQUssR0FBWSxHQUM5QyxNQUFNLE1BQUssV0FBYSxFQUFVLFdBQWEsRUFBUSxVQUd2RCxHQUFjLEdBQWUsS0FFeEIsR0FBWSxLQUFPLElBQ2QsS0FBSyxRQUFRLEVBQVcsR0FDeEIsQ0FBQyxLQUFLLFNBQVMsRUFBVyxLQUMvQixHQUFZLEtBQU8sSUFDZCxLQUFLLFNBQVMsRUFBUyxHQUN2QixDQUFDLEtBQUssUUFBUSxFQUFTLEtBVHRCLEdBYWYsWUFBZ0IsRUFBTyxFQUFPLENBQzFCLEdBQUksR0FBYSxHQUFTLEdBQVMsRUFBUSxHQUFZLEdBQ25ELEVBQ0osTUFBTSxNQUFLLFdBQWEsRUFBVyxVQUduQyxHQUFRLEdBQWUsSUFBVSxjQUM3QixJQUFVLGNBQ0gsS0FBSyxZQUFjLEVBQVcsVUFFckMsR0FBVSxFQUFXLFVBRWpCLEtBQUssUUFBUSxRQUFRLEdBQU8sV0FBYSxHQUN6QyxHQUFXLEtBQUssUUFBUSxNQUFNLEdBQU8sWUFUbEMsR0FjZixZQUF1QixFQUFPLEVBQU8sQ0FDakMsTUFBTyxNQUFLLE9BQU8sRUFBTyxJQUFVLEtBQUssUUFBUSxFQUFPLEdBRzVELFlBQXdCLEVBQU8sRUFBTyxDQUNsQyxNQUFPLE1BQUssT0FBTyxFQUFPLElBQVUsS0FBSyxTQUFTLEVBQU8sR0FHN0QsWUFBYyxFQUFPLEVBQU8sRUFBUyxDQUNqQyxHQUFJLEdBQU0sRUFBVyxFQUVyQixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sS0FLWCxHQUZBLEVBQU8sR0FBZ0IsRUFBTyxNQUUxQixDQUFDLEVBQUssVUFDTixNQUFPLEtBT1gsT0FKQSxFQUFhLEdBQUssWUFBYyxLQUFLLGFBQWUsSUFFcEQsRUFBUSxHQUFlLEdBRWYsT0FDQyxPQUNELEVBQVMsR0FBVSxLQUFNLEdBQVEsR0FDakMsVUFDQyxRQUNELEVBQVMsR0FBVSxLQUFNLEdBQ3pCLFVBQ0MsVUFDRCxFQUFTLEdBQVUsS0FBTSxHQUFRLEVBQ2pDLFVBQ0MsU0FDRCxFQUFVLE1BQU8sR0FBUSxJQUN6QixVQUNDLFNBQ0QsRUFBVSxNQUFPLEdBQVEsSUFDekIsVUFDQyxPQUNELEVBQVUsTUFBTyxHQUFRLEtBQ3pCLFVBQ0MsTUFDRCxFQUFVLE1BQU8sRUFBTyxHQUFhLE1BQ3JDLFVBQ0MsT0FDRCxFQUFVLE1BQU8sRUFBTyxHQUFhLE9BQ3JDLGNBRUEsRUFBUyxLQUFPLEVBR3hCLE1BQU8sR0FBVSxFQUFTLEdBQVMsR0FHdkMsWUFBbUIsRUFBRyxFQUFHLENBQ3JCLEdBQUksRUFBRSxPQUFTLEVBQUUsT0FHYixNQUFPLENBQUMsR0FBVSxFQUFHLEdBR3pCLEdBQUksR0FBa0IsR0FBRSxPQUFTLEVBQUUsUUFBVSxHQUFNLEdBQUUsUUFBVSxFQUFFLFNBRTdELEVBQVMsRUFBRSxRQUFRLElBQUksRUFBZ0IsVUFDdkMsRUFDQSxFQUVKLE1BQUksR0FBSSxFQUFTLEVBQ2IsR0FBVSxFQUFFLFFBQVEsSUFBSSxFQUFpQixFQUFHLFVBRTVDLEVBQVUsR0FBSSxHQUFXLEdBQVMsSUFFbEMsR0FBVSxFQUFFLFFBQVEsSUFBSSxFQUFpQixFQUFHLFVBRTVDLEVBQVUsR0FBSSxHQUFXLEdBQVUsSUFJaEMsQ0FBRSxHQUFpQixJQUFXLEVBR3pDLEdBQU0sY0FBZ0IsdUJBQ3RCLEdBQU0saUJBQW1CLHlCQUV6QixhQUFvQixDQUNoQixNQUFPLE1BQUssUUFBUSxPQUFPLE1BQU0sT0FBTyxvQ0FHNUMsWUFBcUIsRUFBWSxDQUM3QixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sTUFFWCxHQUFJLEdBQU0sSUFBZSxHQUNyQixFQUFJLEVBQU0sS0FBSyxRQUFRLE1BQVEsS0FDbkMsTUFBSSxHQUFFLE9BQVMsR0FBSyxFQUFFLE9BQVMsS0FDcEIsR0FDSCxFQUNBLEVBQ00saUNBQ0EsZ0NBR1YsR0FBVyxLQUFLLFVBQVUsYUFFdEIsRUFDTyxLQUFLLFNBQVMsY0FFZCxHQUFJLE1BQUssS0FBSyxVQUFZLEtBQUssWUFBYyxHQUFLLEtBQ3BELGNBQ0EsUUFBUSxJQUFLLEdBQWEsRUFBRyxNQUduQyxHQUNILEVBQ0EsRUFBTSwrQkFBaUMsOEJBVS9DLGFBQW1CLENBQ2YsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLHFCQUF1QixLQUFLLEdBQUssT0FFNUMsR0FBSSxHQUFPLFNBQ1AsRUFBTyxHQUNQLEVBQ0EsRUFDQSxFQUNBLEVBQ0osTUFBSyxNQUFLLFdBQ04sR0FBTyxLQUFLLGNBQWdCLEVBQUksYUFBZSxtQkFDL0MsRUFBTyxLQUVYLEVBQVMsSUFBTSxFQUFPLE1BQ3RCLEVBQU8sR0FBSyxLQUFLLFFBQVUsS0FBSyxRQUFVLEtBQU8sT0FBUyxTQUMxRCxFQUFXLHdCQUNYLEVBQVMsRUFBTyxPQUVULEtBQUssT0FBTyxFQUFTLEVBQU8sRUFBVyxHQUdsRCxZQUFnQixFQUFhLENBQ3pCLEFBQUssR0FDRCxHQUFjLEtBQUssUUFDYixHQUFNLGlCQUNOLEdBQU0sZUFFaEIsR0FBSSxHQUFTLEdBQWEsS0FBTSxHQUNoQyxNQUFPLE1BQUssYUFBYSxXQUFXLEdBR3hDLFlBQWMsRUFBTSxFQUFlLENBQy9CLE1BQ0ksTUFBSyxXQUNILElBQVMsSUFBUyxFQUFLLFdBQWMsR0FBWSxHQUFNLFdBRWxELEdBQWUsQ0FBRSxHQUFJLEtBQU0sS0FBTSxJQUNuQyxPQUFPLEtBQUssVUFDWixTQUFTLENBQUMsR0FFUixLQUFLLGFBQWEsY0FJakMsWUFBaUIsRUFBZSxDQUM1QixNQUFPLE1BQUssS0FBSyxLQUFlLEdBR3BDLFlBQVksRUFBTSxFQUFlLENBQzdCLE1BQ0ksTUFBSyxXQUNILElBQVMsSUFBUyxFQUFLLFdBQWMsR0FBWSxHQUFNLFdBRWxELEdBQWUsQ0FBRSxLQUFNLEtBQU0sR0FBSSxJQUNuQyxPQUFPLEtBQUssVUFDWixTQUFTLENBQUMsR0FFUixLQUFLLGFBQWEsY0FJakMsWUFBZSxFQUFlLENBQzFCLE1BQU8sTUFBSyxHQUFHLEtBQWUsR0FNbEMsWUFBZ0IsRUFBSyxDQUNqQixHQUFJLEdBRUosTUFBSSxLQUFRLE9BQ0QsS0FBSyxRQUFRLE1BRXBCLEdBQWdCLEdBQVUsR0FDdEIsR0FBaUIsTUFDakIsTUFBSyxRQUFVLEdBRVosTUFJZixHQUFJLElBQU8sR0FDUCxrSkFDQSxTQUFVLEVBQUssQ0FDWCxNQUFJLEtBQVEsT0FDRCxLQUFLLGFBRUwsS0FBSyxPQUFPLEtBSy9CLGFBQXNCLENBQ2xCLE1BQU8sTUFBSyxRQUdoQixHQUFJLElBQWdCLElBQ2hCLEdBQWdCLEdBQUssR0FDckIsR0FBYyxHQUFLLEdBQ25CLEdBQW9CLEtBQU0sSUFBTSxJQUFNLEdBQUssR0FHL0MsWUFBZSxFQUFVLEVBQVMsQ0FDOUIsTUFBUyxHQUFXLEVBQVcsR0FBVyxFQUc5QyxZQUEwQixFQUFHLEVBQUcsRUFBRyxDQUUvQixNQUFJLEdBQUksS0FBTyxHQUFLLEVBRVQsR0FBSSxNQUFLLEVBQUksSUFBSyxFQUFHLEdBQUssR0FFMUIsR0FBSSxNQUFLLEVBQUcsRUFBRyxHQUFHLFVBSWpDLFlBQXdCLEVBQUcsRUFBRyxFQUFHLENBRTdCLE1BQUksR0FBSSxLQUFPLEdBQUssRUFFVCxLQUFLLElBQUksRUFBSSxJQUFLLEVBQUcsR0FBSyxHQUUxQixLQUFLLElBQUksRUFBRyxFQUFHLEdBSTlCLFlBQWlCLEVBQU8sQ0FDcEIsR0FBSSxHQUFNLEVBRVYsR0FEQSxFQUFRLEdBQWUsR0FDbkIsSUFBVSxRQUFhLElBQVUsZUFBaUIsQ0FBQyxLQUFLLFVBQ3hELE1BQU8sTUFLWCxPQUZBLEVBQWMsS0FBSyxPQUFTLEdBQWlCLEdBRXJDLE9BQ0MsT0FDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEVBQUcsR0FDbkMsVUFDQyxVQUNELEVBQU8sRUFDSCxLQUFLLE9BQ0wsS0FBSyxRQUFXLEtBQUssUUFBVSxFQUMvQixHQUVKLFVBQ0MsUUFDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEtBQUssUUFBUyxHQUM5QyxVQUNDLE9BQ0QsRUFBTyxFQUNILEtBQUssT0FDTCxLQUFLLFFBQ0wsS0FBSyxPQUFTLEtBQUssV0FFdkIsVUFDQyxVQUNELEVBQU8sRUFDSCxLQUFLLE9BQ0wsS0FBSyxRQUNMLEtBQUssT0FBVSxNQUFLLGFBQWUsSUFFdkMsVUFDQyxVQUNBLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUSxLQUFLLFFBQVMsS0FBSyxRQUNuRCxVQUNDLE9BQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQ0osRUFBUSxNQUFLLE9BQVMsRUFBSSxLQUFLLFlBQWMsSUFDN0MsSUFFSixVQUNDLFNBQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQU0sRUFBTSxJQUNwQixVQUNDLFNBQ0QsRUFBTyxLQUFLLEdBQUcsVUFDZixHQUFRLEdBQU0sRUFBTSxJQUNwQixNQUdSLFlBQUssR0FBRyxRQUFRLEdBQ2hCLEdBQU0sYUFBYSxLQUFNLElBQ2xCLEtBR1gsWUFBZSxFQUFPLENBQ2xCLEdBQUksR0FBTSxFQUVWLEdBREEsRUFBUSxHQUFlLEdBQ25CLElBQVUsUUFBYSxJQUFVLGVBQWlCLENBQUMsS0FBSyxVQUN4RCxNQUFPLE1BS1gsT0FGQSxFQUFjLEtBQUssT0FBUyxHQUFpQixHQUVyQyxPQUNDLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUyxFQUFHLEVBQUcsR0FBSyxFQUM1QyxVQUNDLFVBQ0QsRUFDSSxFQUNJLEtBQUssT0FDTCxLQUFLLFFBQVcsS0FBSyxRQUFVLEVBQUssRUFDcEMsR0FDQSxFQUNSLFVBQ0MsUUFDRCxFQUFPLEVBQVksS0FBSyxPQUFRLEtBQUssUUFBVSxFQUFHLEdBQUssRUFDdkQsVUFDQyxPQUNELEVBQ0ksRUFDSSxLQUFLLE9BQ0wsS0FBSyxRQUNMLEtBQUssT0FBUyxLQUFLLFVBQVksR0FDL0IsRUFDUixVQUNDLFVBQ0QsRUFDSSxFQUNJLEtBQUssT0FDTCxLQUFLLFFBQ0wsS0FBSyxPQUFVLE1BQUssYUFBZSxHQUFLLEdBQ3hDLEVBQ1IsVUFDQyxVQUNBLE9BQ0QsRUFBTyxFQUFZLEtBQUssT0FBUSxLQUFLLFFBQVMsS0FBSyxPQUFTLEdBQUssRUFDakUsVUFDQyxPQUNELEVBQU8sS0FBSyxHQUFHLFVBQ2YsR0FDSSxHQUNBLEdBQ0ksRUFBUSxNQUFLLE9BQVMsRUFBSSxLQUFLLFlBQWMsSUFDN0MsSUFFSixFQUNKLFVBQ0MsU0FDRCxFQUFPLEtBQUssR0FBRyxVQUNmLEdBQVEsR0FBZ0IsR0FBTSxFQUFNLElBQWlCLEVBQ3JELFVBQ0MsU0FDRCxFQUFPLEtBQUssR0FBRyxVQUNmLEdBQVEsR0FBZ0IsR0FBTSxFQUFNLElBQWlCLEVBQ3JELE1BR1IsWUFBSyxHQUFHLFFBQVEsR0FDaEIsR0FBTSxhQUFhLEtBQU0sSUFDbEIsS0FHWCxhQUFtQixDQUNmLE1BQU8sTUFBSyxHQUFHLFVBQWEsTUFBSyxTQUFXLEdBQUssSUFHckQsYUFBZ0IsQ0FDWixNQUFPLE1BQUssTUFBTSxLQUFLLFVBQVksS0FHdkMsYUFBa0IsQ0FDZCxNQUFPLElBQUksTUFBSyxLQUFLLFdBR3pCLGFBQW1CLENBQ2YsR0FBSSxHQUFJLEtBQ1IsTUFBTyxDQUNILEVBQUUsT0FDRixFQUFFLFFBQ0YsRUFBRSxPQUNGLEVBQUUsT0FDRixFQUFFLFNBQ0YsRUFBRSxTQUNGLEVBQUUsZUFJVixhQUFvQixDQUNoQixHQUFJLEdBQUksS0FDUixNQUFPLENBQ0gsTUFBTyxFQUFFLE9BQ1QsT0FBUSxFQUFFLFFBQ1YsS0FBTSxFQUFFLE9BQ1IsTUFBTyxFQUFFLFFBQ1QsUUFBUyxFQUFFLFVBQ1gsUUFBUyxFQUFFLFVBQ1gsYUFBYyxFQUFFLGdCQUl4QixhQUFrQixDQUVkLE1BQU8sTUFBSyxVQUFZLEtBQUssY0FBZ0IsS0FHakQsYUFBcUIsQ0FDakIsTUFBTyxJQUFRLE1BR25CLGFBQXdCLENBQ3BCLE1BQU8sSUFBTyxHQUFJLEdBQWdCLE9BR3RDLGFBQXFCLENBQ2pCLE1BQU8sSUFBZ0IsTUFBTSxTQUdqQyxhQUF3QixDQUNwQixNQUFPLENBQ0gsTUFBTyxLQUFLLEdBQ1osT0FBUSxLQUFLLEdBQ2IsT0FBUSxLQUFLLFFBQ2IsTUFBTyxLQUFLLE9BQ1osT0FBUSxLQUFLLFNBSXJCLEdBQWUsSUFBSyxFQUFHLEVBQUcsV0FDMUIsR0FBZSxLQUFNLEVBQUcsRUFBRyxXQUMzQixHQUFlLE1BQU8sRUFBRyxFQUFHLFdBQzVCLEdBQWUsT0FBUSxFQUFHLEVBQUcsV0FDN0IsR0FBZSxRQUFTLEVBQUcsRUFBRyxhQUU5QixHQUFlLElBQUssQ0FBQyxJQUFLLEdBQUksS0FBTSxXQUNwQyxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksRUFBRyxXQUNsQyxHQUFlLElBQUssQ0FBQyxNQUFPLEdBQUksRUFBRyxXQUNuQyxHQUFlLElBQUssQ0FBQyxPQUFRLEdBQUksRUFBRyxXQUVwQyxHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLElBQ3BCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxRQUFTLElBRXZCLEdBQWMsQ0FBQyxJQUFLLEtBQU0sTUFBTyxPQUFRLFNBQVUsU0FDL0MsRUFDQSxFQUNBLEVBQ0EsRUFDRixDQUNFLEdBQUksR0FBTSxFQUFPLFFBQVEsVUFBVSxFQUFPLEVBQU8sRUFBTyxTQUN4RCxBQUFJLEVBQ0EsR0FBZ0IsR0FBUSxJQUFNLEVBRTlCLEdBQWdCLEdBQVEsV0FBYSxJQUk3QyxHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLElBQ3BCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxLQUFNLElBRXBCLEdBQWMsQ0FBQyxJQUFLLEtBQU0sTUFBTyxRQUFTLElBQzFDLEdBQWMsQ0FBQyxNQUFPLFNBQVUsRUFBTyxFQUFPLEVBQVEsRUFBTyxDQUN6RCxHQUFJLEdBQ0osQUFBSSxFQUFPLFFBQVEsc0JBQ2YsR0FBUSxFQUFNLE1BQU0sRUFBTyxRQUFRLHVCQUd2QyxBQUFJLEVBQU8sUUFBUSxvQkFDZixFQUFNLElBQVEsRUFBTyxRQUFRLG9CQUFvQixFQUFPLEdBRXhELEVBQU0sSUFBUSxTQUFTLEVBQU8sTUFJdEMsWUFBb0IsRUFBRyxFQUFRLENBQzNCLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFBTyxLQUFLLE9BQVMsR0FBVSxNQUFNLE1BQ3pDLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBQUcsQ0FDckMsT0FBUSxNQUFPLEdBQUssR0FBRyxXQUNkLFNBRUQsRUFBTyxHQUFNLEVBQUssR0FBRyxPQUFPLFFBQVEsT0FDcEMsRUFBSyxHQUFHLE1BQVEsRUFBSyxVQUNyQixNQUdSLE9BQVEsTUFBTyxHQUFLLEdBQUcsV0FDZCxZQUNELEVBQUssR0FBRyxNQUFRLElBQ2hCLFVBQ0MsU0FFRCxFQUFPLEdBQU0sRUFBSyxHQUFHLE9BQU8sUUFBUSxPQUFPLFVBQzNDLEVBQUssR0FBRyxNQUFRLEVBQUssVUFDckIsT0FHWixNQUFPLEdBR1gsWUFBeUIsRUFBUyxFQUFRLEVBQVEsQ0FDOUMsR0FBSSxHQUNBLEVBQ0EsRUFBTyxLQUFLLE9BQ1osRUFDQSxFQUNBLEVBR0osSUFGQSxFQUFVLEVBQVEsY0FFYixFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsRUFBSSxFQUFHLEVBQUUsRUFLbEMsR0FKQSxFQUFPLEVBQUssR0FBRyxLQUFLLGNBQ3BCLEVBQU8sRUFBSyxHQUFHLEtBQUssY0FDcEIsRUFBUyxFQUFLLEdBQUcsT0FBTyxjQUVwQixFQUNBLE9BQVEsT0FDQyxRQUNBLFNBQ0EsTUFDRCxHQUFJLElBQVMsRUFDVCxNQUFPLEdBQUssR0FFaEIsVUFFQyxPQUNELEdBQUksSUFBUyxFQUNULE1BQU8sR0FBSyxHQUVoQixVQUVDLFFBQ0QsR0FBSSxJQUFXLEVBQ1gsTUFBTyxHQUFLLEdBRWhCLGNBRUQsQ0FBQyxFQUFNLEVBQU0sR0FBUSxRQUFRLElBQVksRUFDaEQsTUFBTyxHQUFLLEdBS3hCLFlBQStCLEVBQUssRUFBTSxDQUN0QyxHQUFJLEdBQU0sRUFBSSxPQUFTLEVBQUksTUFBUSxFQUFLLEdBQ3hDLE1BQUksS0FBUyxPQUNGLEdBQU0sRUFBSSxPQUFPLE9BRWpCLEdBQU0sRUFBSSxPQUFPLE9BQVUsR0FBTyxFQUFJLFFBQVUsRUFJL0QsYUFBc0IsQ0FDbEIsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUFPLEtBQUssYUFBYSxPQUM3QixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxFQUFJLEVBQUcsRUFBRSxFQU9sQyxHQUxBLEVBQU0sS0FBSyxRQUFRLFFBQVEsT0FBTyxVQUU5QixFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE9BR3ZDLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsTUFDdkMsTUFBTyxHQUFLLEdBQUcsS0FJdkIsTUFBTyxHQUdYLGFBQXdCLENBQ3BCLEdBQUksR0FDQSxFQUNBLEVBQ0EsRUFBTyxLQUFLLGFBQWEsT0FDN0IsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsRUFBSSxFQUFHLEVBQUUsRUFPbEMsR0FMQSxFQUFNLEtBQUssUUFBUSxRQUFRLE9BQU8sVUFFOUIsRUFBSyxHQUFHLE9BQVMsR0FBTyxHQUFPLEVBQUssR0FBRyxPQUd2QyxFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE1BQ3ZDLE1BQU8sR0FBSyxHQUFHLE9BSXZCLE1BQU8sR0FHWCxhQUFzQixDQUNsQixHQUFJLEdBQ0EsRUFDQSxFQUNBLEVBQU8sS0FBSyxhQUFhLE9BQzdCLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBT2xDLEdBTEEsRUFBTSxLQUFLLFFBQVEsUUFBUSxPQUFPLFVBRTlCLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsT0FHdkMsRUFBSyxHQUFHLE9BQVMsR0FBTyxHQUFPLEVBQUssR0FBRyxNQUN2QyxNQUFPLEdBQUssR0FBRyxLQUl2QixNQUFPLEdBR1gsYUFBc0IsQ0FDbEIsR0FBSSxHQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQU8sS0FBSyxhQUFhLE9BQzdCLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxPQUFRLEVBQUksRUFBRyxFQUFFLEVBTWxDLEdBTEEsRUFBTSxFQUFLLEdBQUcsT0FBUyxFQUFLLEdBQUcsTUFBUSxFQUFLLEdBRzVDLEVBQU0sS0FBSyxRQUFRLFFBQVEsT0FBTyxVQUc3QixFQUFLLEdBQUcsT0FBUyxHQUFPLEdBQU8sRUFBSyxHQUFHLE9BQ3ZDLEVBQUssR0FBRyxPQUFTLEdBQU8sR0FBTyxFQUFLLEdBQUcsTUFFeEMsTUFDSyxNQUFLLE9BQVMsR0FBTSxFQUFLLEdBQUcsT0FBTyxRQUFVLEVBQzlDLEVBQUssR0FBRyxPQUtwQixNQUFPLE1BQUssT0FHaEIsWUFBdUIsRUFBVSxDQUM3QixNQUFLLElBQVcsS0FBTSxtQkFDbEIsR0FBaUIsS0FBSyxNQUVuQixFQUFXLEtBQUssZUFBaUIsS0FBSyxXQUdqRCxZQUF1QixFQUFVLENBQzdCLE1BQUssSUFBVyxLQUFNLG1CQUNsQixHQUFpQixLQUFLLE1BRW5CLEVBQVcsS0FBSyxlQUFpQixLQUFLLFdBR2pELFlBQXlCLEVBQVUsQ0FDL0IsTUFBSyxJQUFXLEtBQU0scUJBQ2xCLEdBQWlCLEtBQUssTUFFbkIsRUFBVyxLQUFLLGlCQUFtQixLQUFLLFdBR25ELFlBQXNCLEVBQVUsRUFBUSxDQUNwQyxNQUFPLEdBQU8sY0FBYyxHQUdoQyxZQUFzQixFQUFVLEVBQVEsQ0FDcEMsTUFBTyxHQUFPLGNBQWMsR0FHaEMsWUFBd0IsRUFBVSxFQUFRLENBQ3RDLE1BQU8sR0FBTyxnQkFBZ0IsR0FHbEMsWUFBNkIsRUFBVSxFQUFRLENBQzNDLE1BQU8sR0FBTyxzQkFBd0IsR0FHMUMsYUFBNEIsQ0FDeEIsR0FBSSxHQUFhLEdBQ2IsRUFBYSxHQUNiLEVBQWUsR0FDZixFQUFjLEdBQ2QsRUFDQSxFQUNBLEVBQU8sS0FBSyxPQUVoQixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxFQUFJLEVBQUcsRUFBRSxFQUNsQyxFQUFXLEtBQUssR0FBWSxFQUFLLEdBQUcsT0FDcEMsRUFBVyxLQUFLLEdBQVksRUFBSyxHQUFHLE9BQ3BDLEVBQWEsS0FBSyxHQUFZLEVBQUssR0FBRyxTQUV0QyxFQUFZLEtBQUssR0FBWSxFQUFLLEdBQUcsT0FDckMsRUFBWSxLQUFLLEdBQVksRUFBSyxHQUFHLE9BQ3JDLEVBQVksS0FBSyxHQUFZLEVBQUssR0FBRyxTQUd6QyxLQUFLLFdBQWEsR0FBSSxRQUFPLEtBQU8sRUFBWSxLQUFLLEtBQU8sSUFBSyxLQUNqRSxLQUFLLGVBQWlCLEdBQUksUUFBTyxLQUFPLEVBQVcsS0FBSyxLQUFPLElBQUssS0FDcEUsS0FBSyxlQUFpQixHQUFJLFFBQU8sS0FBTyxFQUFXLEtBQUssS0FBTyxJQUFLLEtBQ3BFLEtBQUssaUJBQW1CLEdBQUksUUFDeEIsS0FBTyxFQUFhLEtBQUssS0FBTyxJQUNoQyxLQU1SLEdBQWUsRUFBRyxDQUFDLEtBQU0sR0FBSSxFQUFHLFVBQVksQ0FDeEMsTUFBTyxNQUFLLFdBQWEsTUFHN0IsR0FBZSxFQUFHLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFBWSxDQUN4QyxNQUFPLE1BQUssY0FBZ0IsTUFHaEMsWUFBZ0MsRUFBTyxFQUFRLENBQzNDLEdBQWUsRUFBRyxDQUFDLEVBQU8sRUFBTSxRQUFTLEVBQUcsR0FHaEQsR0FBdUIsT0FBUSxZQUMvQixHQUF1QixRQUFTLFlBQ2hDLEdBQXVCLE9BQVEsZUFDL0IsR0FBdUIsUUFBUyxlQUloQyxHQUFhLFdBQVksTUFDekIsR0FBYSxjQUFlLE1BSTVCLEdBQWdCLFdBQVksR0FDNUIsR0FBZ0IsY0FBZSxHQUkvQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsT0FBUSxHQUFXLElBQ2pDLEdBQWMsT0FBUSxHQUFXLElBQ2pDLEdBQWMsUUFBUyxHQUFXLElBQ2xDLEdBQWMsUUFBUyxHQUFXLElBRWxDLEdBQWtCLENBQUMsT0FBUSxRQUFTLE9BQVEsU0FBVSxTQUNsRCxFQUNBLEVBQ0EsRUFDQSxFQUNGLENBQ0UsRUFBSyxFQUFNLE9BQU8sRUFBRyxJQUFNLEdBQU0sS0FHckMsR0FBa0IsQ0FBQyxLQUFNLE1BQU8sU0FBVSxFQUFPLEVBQU0sRUFBUSxFQUFPLENBQ2xFLEVBQUssR0FBUyxHQUFNLGtCQUFrQixLQUsxQyxZQUF3QixFQUFPLENBQzNCLE1BQU8sSUFBcUIsS0FDeEIsS0FDQSxFQUNBLEtBQUssT0FDTCxLQUFLLFVBQ0wsS0FBSyxhQUFhLE1BQU0sSUFDeEIsS0FBSyxhQUFhLE1BQU0sS0FJaEMsWUFBMkIsRUFBTyxDQUM5QixNQUFPLElBQXFCLEtBQ3hCLEtBQ0EsRUFDQSxLQUFLLFVBQ0wsS0FBSyxhQUNMLEVBQ0EsR0FJUixhQUE2QixDQUN6QixNQUFPLElBQVksS0FBSyxPQUFRLEVBQUcsR0FHdkMsYUFBb0MsQ0FDaEMsTUFBTyxJQUFZLEtBQUssY0FBZSxFQUFHLEdBRzlDLGFBQTBCLENBQ3RCLEdBQUksR0FBVyxLQUFLLGFBQWEsTUFDakMsTUFBTyxJQUFZLEtBQUssT0FBUSxFQUFTLElBQUssRUFBUyxLQUczRCxhQUE4QixDQUMxQixHQUFJLEdBQVcsS0FBSyxhQUFhLE1BQ2pDLE1BQU8sSUFBWSxLQUFLLFdBQVksRUFBUyxJQUFLLEVBQVMsS0FHL0QsWUFBOEIsRUFBTyxFQUFNLEVBQVMsRUFBSyxFQUFLLENBQzFELEdBQUksR0FDSixNQUFJLElBQVMsS0FDRixHQUFXLEtBQU0sRUFBSyxHQUFLLEtBRWxDLEdBQWMsR0FBWSxFQUFPLEVBQUssR0FDbEMsRUFBTyxHQUNQLEdBQU8sR0FFSixHQUFXLEtBQUssS0FBTSxFQUFPLEVBQU0sRUFBUyxFQUFLLElBSWhFLFlBQW9CLEVBQVUsRUFBTSxFQUFTLEVBQUssRUFBSyxDQUNuRCxHQUFJLEdBQWdCLEdBQW1CLEVBQVUsRUFBTSxFQUFTLEVBQUssR0FDakUsRUFBTyxHQUFjLEVBQWMsS0FBTSxFQUFHLEVBQWMsV0FFOUQsWUFBSyxLQUFLLEVBQUssa0JBQ2YsS0FBSyxNQUFNLEVBQUssZUFDaEIsS0FBSyxLQUFLLEVBQUssY0FDUixLQUtYLEdBQWUsSUFBSyxFQUFHLEtBQU0sV0FJN0IsR0FBYSxVQUFXLEtBSXhCLEdBQWdCLFVBQVcsR0FJM0IsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxDQUN2QyxFQUFNLElBQVUsSUFBTSxHQUFTLEdBQUssSUFLeEMsWUFBdUIsRUFBTyxDQUMxQixNQUFPLElBQVMsS0FDVixLQUFLLEtBQU0sTUFBSyxRQUFVLEdBQUssR0FDL0IsS0FBSyxNQUFPLEdBQVEsR0FBSyxFQUFLLEtBQUssUUFBVSxHQUt2RCxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksS0FBTSxRQUlyQyxHQUFhLE9BQVEsS0FHckIsR0FBZ0IsT0FBUSxHQUl4QixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxLQUFNLFNBQVUsRUFBVSxFQUFRLENBRTVDLE1BQU8sR0FDRCxFQUFPLHlCQUEyQixFQUFPLGNBQ3pDLEVBQU8saUNBR2pCLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFDM0IsR0FBYyxLQUFNLFNBQVUsRUFBTyxFQUFPLENBQ3hDLEVBQU0sSUFBUSxHQUFNLEVBQU0sTUFBTSxJQUFXLE1BSy9DLEdBQUksSUFBbUIsR0FBVyxPQUFRLElBSTFDLEdBQWUsTUFBTyxDQUFDLE9BQVEsR0FBSSxPQUFRLGFBSTNDLEdBQWEsWUFBYSxPQUcxQixHQUFnQixZQUFhLEdBSTdCLEdBQWMsTUFBTyxJQUNyQixHQUFjLE9BQVEsSUFDdEIsR0FBYyxDQUFDLE1BQU8sUUFBUyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQzNELEVBQU8sV0FBYSxHQUFNLEtBTzlCLFlBQXlCLEVBQU8sQ0FDNUIsR0FBSSxHQUNBLEtBQUssTUFDQSxNQUFLLFFBQVEsUUFBUSxPQUFTLEtBQUssUUFBUSxRQUFRLFNBQVcsT0FDL0QsRUFDUixNQUFPLElBQVMsS0FBTyxFQUFZLEtBQUssSUFBSSxFQUFRLEVBQVcsS0FLbkUsR0FBZSxJQUFLLENBQUMsS0FBTSxHQUFJLEVBQUcsVUFJbEMsR0FBYSxTQUFVLEtBSXZCLEdBQWdCLFNBQVUsSUFJMUIsR0FBYyxJQUFLLElBQ25CLEdBQWMsS0FBTSxHQUFXLElBQy9CLEdBQWMsQ0FBQyxJQUFLLE1BQU8sSUFJM0IsR0FBSSxJQUFlLEdBQVcsVUFBVyxJQUl6QyxHQUFlLElBQUssQ0FBQyxLQUFNLEdBQUksRUFBRyxVQUlsQyxHQUFhLFNBQVUsS0FJdkIsR0FBZ0IsU0FBVSxJQUkxQixHQUFjLElBQUssSUFDbkIsR0FBYyxLQUFNLEdBQVcsSUFDL0IsR0FBYyxDQUFDLElBQUssTUFBTyxJQUkzQixHQUFJLElBQWUsR0FBVyxVQUFXLElBSXpDLEdBQWUsSUFBSyxFQUFHLEVBQUcsVUFBWSxDQUNsQyxNQUFPLENBQUMsQ0FBRSxNQUFLLGNBQWdCLE9BR25DLEdBQWUsRUFBRyxDQUFDLEtBQU0sR0FBSSxFQUFHLFVBQVksQ0FDeEMsTUFBTyxDQUFDLENBQUUsTUFBSyxjQUFnQixNQUduQyxHQUFlLEVBQUcsQ0FBQyxNQUFPLEdBQUksRUFBRyxlQUNqQyxHQUFlLEVBQUcsQ0FBQyxPQUFRLEdBQUksRUFBRyxVQUFZLENBQzFDLE1BQU8sTUFBSyxjQUFnQixLQUVoQyxHQUFlLEVBQUcsQ0FBQyxRQUFTLEdBQUksRUFBRyxVQUFZLENBQzNDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxTQUFVLEdBQUksRUFBRyxVQUFZLENBQzVDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxVQUFXLEdBQUksRUFBRyxVQUFZLENBQzdDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxXQUFZLEdBQUksRUFBRyxVQUFZLENBQzlDLE1BQU8sTUFBSyxjQUFnQixNQUVoQyxHQUFlLEVBQUcsQ0FBQyxZQUFhLEdBQUksRUFBRyxVQUFZLENBQy9DLE1BQU8sTUFBSyxjQUFnQixNQUtoQyxHQUFhLGNBQWUsTUFJNUIsR0FBZ0IsY0FBZSxJQUkvQixHQUFjLElBQUssR0FBVyxJQUM5QixHQUFjLEtBQU0sR0FBVyxJQUMvQixHQUFjLE1BQU8sR0FBVyxJQUVoQyxHQUFJLElBQU8sR0FDWCxJQUFLLEdBQVEsT0FBUSxHQUFNLFFBQVUsRUFBRyxJQUFTLElBQzdDLEdBQWMsR0FBTyxJQUd6QixZQUFpQixFQUFPLEVBQU8sQ0FDM0IsRUFBTSxJQUFlLEdBQU8sTUFBTyxHQUFTLEtBR2hELElBQUssR0FBUSxJQUFLLEdBQU0sUUFBVSxFQUFHLElBQVMsSUFDMUMsR0FBYyxHQUFPLElBR3pCLEdBQW9CLEdBQVcsZUFBZ0IsSUFJL0MsR0FBZSxJQUFLLEVBQUcsRUFBRyxZQUMxQixHQUFlLEtBQU0sRUFBRyxFQUFHLFlBSTNCLGFBQXVCLENBQ25CLE1BQU8sTUFBSyxPQUFTLE1BQVEsR0FHakMsYUFBdUIsQ0FDbkIsTUFBTyxNQUFLLE9BQVMsNkJBQStCLEdBR3hELEdBQUksSUFBUSxHQUFPLFVBRW5CLEdBQU0sSUFBTSxHQUNaLEdBQU0sU0FBVyxHQUNqQixHQUFNLE1BQVEsR0FDZCxHQUFNLEtBQU8sR0FDYixHQUFNLE1BQVEsR0FDZCxHQUFNLE9BQVMsR0FDZixHQUFNLEtBQU8sR0FDYixHQUFNLFFBQVUsR0FDaEIsR0FBTSxHQUFLLEdBQ1gsR0FBTSxNQUFRLEdBQ2QsR0FBTSxJQUFNLEdBQ1osR0FBTSxVQUFZLEdBQ2xCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFNBQVcsR0FDakIsR0FBTSxVQUFZLEdBQ2xCLEdBQU0sT0FBUyxHQUNmLEdBQU0sY0FBZ0IsR0FDdEIsR0FBTSxlQUFpQixHQUN2QixHQUFNLFFBQVUsR0FDaEIsR0FBTSxLQUFPLEdBQ2IsR0FBTSxPQUFTLEdBQ2YsR0FBTSxXQUFhLEdBQ25CLEdBQU0sSUFBTSxHQUNaLEdBQU0sSUFBTSxHQUNaLEdBQU0sYUFBZSxHQUNyQixHQUFNLElBQU0sR0FDWixHQUFNLFFBQVUsR0FDaEIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFNBQVcsR0FDakIsR0FBTSxPQUFTLEdBQ2YsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sUUFBVSxHQUNoQixBQUFJLE1BQU8sU0FBVyxhQUFlLE9BQU8sS0FBTyxNQUMvQyxJQUFNLE9BQU8sSUFBSSwrQkFBaUMsVUFBWSxDQUMxRCxNQUFPLFVBQVksS0FBSyxTQUFXLE1BRzNDLEdBQU0sT0FBUyxHQUNmLEdBQU0sU0FBVyxHQUNqQixHQUFNLEtBQU8sR0FDYixHQUFNLFFBQVUsR0FDaEIsR0FBTSxhQUFlLEdBQ3JCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFVBQVksR0FDbEIsR0FBTSxRQUFVLEdBQ2hCLEdBQU0sUUFBVSxHQUNoQixHQUFNLEtBQU8sR0FDYixHQUFNLFdBQWEsR0FDbkIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sWUFBYyxHQUNwQixHQUFNLFFBQVUsR0FBTSxTQUFXLEdBQ2pDLEdBQU0sTUFBUSxHQUNkLEdBQU0sWUFBYyxHQUNwQixHQUFNLEtBQU8sR0FBTSxNQUFRLEdBQzNCLEdBQU0sUUFBVSxHQUFNLFNBQVcsR0FDakMsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sZ0JBQWtCLEdBQ3hCLEdBQU0sZUFBaUIsR0FDdkIsR0FBTSxzQkFBd0IsR0FDOUIsR0FBTSxLQUFPLEdBQ2IsR0FBTSxJQUFNLEdBQU0sS0FBTyxHQUN6QixHQUFNLFFBQVUsR0FDaEIsR0FBTSxXQUFhLEdBQ25CLEdBQU0sVUFBWSxHQUNsQixHQUFNLEtBQU8sR0FBTSxNQUFRLEdBQzNCLEdBQU0sT0FBUyxHQUFNLFFBQVUsR0FDL0IsR0FBTSxPQUFTLEdBQU0sUUFBVSxHQUMvQixHQUFNLFlBQWMsR0FBTSxhQUFlLEdBQ3pDLEdBQU0sVUFBWSxHQUNsQixHQUFNLElBQU0sR0FDWixHQUFNLE1BQVEsR0FDZCxHQUFNLFVBQVksR0FDbEIsR0FBTSxxQkFBdUIsR0FDN0IsR0FBTSxNQUFRLEdBQ2QsR0FBTSxRQUFVLEdBQ2hCLEdBQU0sWUFBYyxHQUNwQixHQUFNLE1BQVEsR0FDZCxHQUFNLE1BQVEsR0FDZCxHQUFNLFNBQVcsR0FDakIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sTUFBUSxHQUNWLGtEQUNBLElBRUosR0FBTSxPQUFTLEdBQ1gsbURBQ0EsSUFFSixHQUFNLE1BQVEsR0FDVixpREFDQSxJQUVKLEdBQU0sS0FBTyxHQUNULDJHQUNBLElBRUosR0FBTSxhQUFlLEdBQ2pCLDBHQUNBLElBR0osWUFBb0IsRUFBTyxDQUN2QixNQUFPLElBQVksRUFBUSxLQUcvQixhQUF3QixDQUNwQixNQUFPLElBQVksTUFBTSxLQUFNLFdBQVcsWUFHOUMsWUFBNEIsRUFBUSxDQUNoQyxNQUFPLEdBR1gsR0FBSSxJQUFVLEdBQU8sVUFFckIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsZUFBaUIsR0FDekIsR0FBUSxZQUFjLEdBQ3RCLEdBQVEsUUFBVSxHQUNsQixHQUFRLFNBQVcsR0FDbkIsR0FBUSxXQUFhLEdBQ3JCLEdBQVEsYUFBZSxHQUN2QixHQUFRLFdBQWEsR0FDckIsR0FBUSxJQUFNLEdBQ2QsR0FBUSxLQUFPLEdBQ2YsR0FBUSxVQUFZLEdBQ3BCLEdBQVEsZ0JBQWtCLEdBQzFCLEdBQVEsY0FBZ0IsR0FDeEIsR0FBUSxjQUFnQixHQUN4QixHQUFRLGdCQUFrQixHQUUxQixHQUFRLE9BQVMsR0FDakIsR0FBUSxZQUFjLEdBQ3RCLEdBQVEsWUFBYyxHQUN0QixHQUFRLFlBQWMsR0FDdEIsR0FBUSxpQkFBbUIsR0FDM0IsR0FBUSxLQUFPLEdBQ2YsR0FBUSxlQUFpQixHQUN6QixHQUFRLGVBQWlCLEdBRXpCLEdBQVEsU0FBVyxHQUNuQixHQUFRLFlBQWMsR0FDdEIsR0FBUSxjQUFnQixHQUN4QixHQUFRLGNBQWdCLEdBRXhCLEdBQVEsY0FBZ0IsR0FDeEIsR0FBUSxtQkFBcUIsR0FDN0IsR0FBUSxpQkFBbUIsR0FFM0IsR0FBUSxLQUFPLEdBQ2YsR0FBUSxTQUFXLEdBRW5CLFlBQWUsRUFBUSxFQUFPLEVBQU8sRUFBUSxDQUN6QyxHQUFJLEdBQVMsS0FDVCxFQUFNLEtBQVksSUFBSSxFQUFRLEdBQ2xDLE1BQU8sR0FBTyxHQUFPLEVBQUssR0FHOUIsWUFBd0IsRUFBUSxFQUFPLEVBQU8sQ0FRMUMsR0FQSSxHQUFTLElBQ1QsR0FBUSxFQUNSLEVBQVMsUUFHYixFQUFTLEdBQVUsR0FFZixHQUFTLEtBQ1QsTUFBTyxJQUFNLEVBQVEsRUFBTyxFQUFPLFNBR3ZDLEdBQUksR0FDQSxFQUFNLEdBQ1YsSUFBSyxFQUFJLEVBQUcsRUFBSSxHQUFJLElBQ2hCLEVBQUksR0FBSyxHQUFNLEVBQVEsRUFBRyxFQUFPLFNBRXJDLE1BQU8sR0FXWCxZQUEwQixFQUFjLEVBQVEsRUFBTyxFQUFPLENBQzFELEFBQUksTUFBTyxJQUFpQixVQUNwQixJQUFTLElBQ1QsR0FBUSxFQUNSLEVBQVMsUUFHYixFQUFTLEdBQVUsSUFFbkIsR0FBUyxFQUNULEVBQVEsRUFDUixFQUFlLEdBRVgsR0FBUyxJQUNULEdBQVEsRUFDUixFQUFTLFFBR2IsRUFBUyxHQUFVLElBR3ZCLEdBQUksR0FBUyxLQUNULEVBQVEsRUFBZSxFQUFPLE1BQU0sSUFBTSxFQUMxQyxFQUNBLEVBQU0sR0FFVixHQUFJLEdBQVMsS0FDVCxNQUFPLElBQU0sRUFBUyxHQUFRLEdBQVMsRUFBRyxFQUFPLE9BR3JELElBQUssRUFBSSxFQUFHLEVBQUksRUFBRyxJQUNmLEVBQUksR0FBSyxHQUFNLEVBQVMsR0FBSSxHQUFTLEVBQUcsRUFBTyxPQUVuRCxNQUFPLEdBR1gsWUFBb0IsRUFBUSxFQUFPLENBQy9CLE1BQU8sSUFBZSxFQUFRLEVBQU8sVUFHekMsWUFBeUIsRUFBUSxFQUFPLENBQ3BDLE1BQU8sSUFBZSxFQUFRLEVBQU8sZUFHekMsWUFBc0IsRUFBYyxFQUFRLEVBQU8sQ0FDL0MsTUFBTyxJQUFpQixFQUFjLEVBQVEsRUFBTyxZQUd6RCxZQUEyQixFQUFjLEVBQVEsRUFBTyxDQUNwRCxNQUFPLElBQWlCLEVBQWMsRUFBUSxFQUFPLGlCQUd6RCxZQUF5QixFQUFjLEVBQVEsRUFBTyxDQUNsRCxNQUFPLElBQWlCLEVBQWMsRUFBUSxFQUFPLGVBR3pELEdBQW1CLEtBQU0sQ0FDckIsS0FBTSxDQUNGLENBQ0ksTUFBTyxhQUNQLE1BQU8sSUFDUCxPQUFRLEVBQ1IsS0FBTSxjQUNOLE9BQVEsS0FDUixLQUFNLE1BRVYsQ0FDSSxNQUFPLGFBQ1AsTUFBTyxLQUNQLE9BQVEsRUFDUixLQUFNLGdCQUNOLE9BQVEsS0FDUixLQUFNLE9BR2QsdUJBQXdCLHVCQUN4QixRQUFTLFNBQVUsRUFBUSxDQUN2QixHQUFJLEdBQUksRUFBUyxHQUNiLEVBQ0ksR0FBTyxFQUFTLElBQU8sTUFBUSxFQUN6QixLQUNBLElBQU0sRUFDTixLQUNBLElBQU0sRUFDTixLQUNBLElBQU0sRUFDTixLQUNBLEtBQ2QsTUFBTyxHQUFTLEtBTXhCLEdBQU0sS0FBTyxHQUNULHdEQUNBLElBRUosR0FBTSxTQUFXLEdBQ2IsZ0VBQ0EsSUFHSixHQUFJLElBQVUsS0FBSyxJQUVuQixhQUFlLENBQ1gsR0FBSSxHQUFPLEtBQUssTUFFaEIsWUFBSyxjQUFnQixHQUFRLEtBQUssZUFDbEMsS0FBSyxNQUFRLEdBQVEsS0FBSyxPQUMxQixLQUFLLFFBQVUsR0FBUSxLQUFLLFNBRTVCLEVBQUssYUFBZSxHQUFRLEVBQUssY0FDakMsRUFBSyxRQUFVLEdBQVEsRUFBSyxTQUM1QixFQUFLLFFBQVUsR0FBUSxFQUFLLFNBQzVCLEVBQUssTUFBUSxHQUFRLEVBQUssT0FDMUIsRUFBSyxPQUFTLEdBQVEsRUFBSyxRQUMzQixFQUFLLE1BQVEsR0FBUSxFQUFLLE9BRW5CLEtBR1gsWUFBdUIsRUFBVSxFQUFPLEVBQU8sRUFBVyxDQUN0RCxHQUFJLEdBQVEsR0FBZSxFQUFPLEdBRWxDLFNBQVMsZUFBaUIsRUFBWSxFQUFNLGNBQzVDLEVBQVMsT0FBUyxFQUFZLEVBQU0sTUFDcEMsRUFBUyxTQUFXLEVBQVksRUFBTSxRQUUvQixFQUFTLFVBSXBCLFlBQWUsRUFBTyxFQUFPLENBQ3pCLE1BQU8sSUFBYyxLQUFNLEVBQU8sRUFBTyxHQUk3QyxZQUFvQixFQUFPLEVBQU8sQ0FDOUIsTUFBTyxJQUFjLEtBQU0sRUFBTyxFQUFPLElBRzdDLFlBQWlCLEVBQVEsQ0FDckIsTUFBSSxHQUFTLEVBQ0YsS0FBSyxNQUFNLEdBRVgsS0FBSyxLQUFLLEdBSXpCLGFBQWtCLENBQ2QsR0FBSSxHQUFlLEtBQUssY0FDcEIsRUFBTyxLQUFLLE1BQ1osRUFBUyxLQUFLLFFBQ2QsRUFBTyxLQUFLLE1BQ1osRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUlKLE1BRVMsSUFBZ0IsR0FBSyxHQUFRLEdBQUssR0FBVSxHQUM1QyxHQUFnQixHQUFLLEdBQVEsR0FBSyxHQUFVLEdBR2pELElBQWdCLEdBQVEsR0FBYSxHQUFVLEdBQVEsTUFDdkQsRUFBTyxFQUNQLEVBQVMsR0FLYixFQUFLLGFBQWUsRUFBZSxJQUVuQyxFQUFVLEdBQVMsRUFBZSxLQUNsQyxFQUFLLFFBQVUsRUFBVSxHQUV6QixFQUFVLEdBQVMsRUFBVSxJQUM3QixFQUFLLFFBQVUsRUFBVSxHQUV6QixFQUFRLEdBQVMsRUFBVSxJQUMzQixFQUFLLE1BQVEsRUFBUSxHQUVyQixHQUFRLEdBQVMsRUFBUSxJQUd6QixFQUFpQixHQUFTLEdBQWEsSUFDdkMsR0FBVSxFQUNWLEdBQVEsR0FBUSxHQUFhLElBRzdCLEVBQVEsR0FBUyxFQUFTLElBQzFCLEdBQVUsR0FFVixFQUFLLEtBQU8sRUFDWixFQUFLLE9BQVMsRUFDZCxFQUFLLE1BQVEsRUFFTixLQUdYLFlBQXNCLEVBQU0sQ0FHeEIsTUFBUSxHQUFPLEtBQVEsT0FHM0IsWUFBc0IsRUFBUSxDQUUxQixNQUFRLEdBQVMsT0FBVSxLQUcvQixZQUFZLEVBQU8sQ0FDZixHQUFJLENBQUMsS0FBSyxVQUNOLE1BQU8sS0FFWCxHQUFJLEdBQ0EsRUFDQSxFQUFlLEtBQUssY0FJeEIsR0FGQSxFQUFRLEdBQWUsR0FFbkIsSUFBVSxTQUFXLElBQVUsV0FBYSxJQUFVLE9BR3RELE9BRkEsRUFBTyxLQUFLLE1BQVEsRUFBZSxNQUNuQyxFQUFTLEtBQUssUUFBVSxHQUFhLEdBQzdCLE9BQ0MsUUFDRCxNQUFPLE9BQ04sVUFDRCxNQUFPLEdBQVMsTUFDZixPQUNELE1BQU8sR0FBUyxPQUt4QixRQURBLEVBQU8sS0FBSyxNQUFRLEtBQUssTUFBTSxHQUFhLEtBQUssVUFDekMsT0FDQyxPQUNELE1BQU8sR0FBTyxFQUFJLEVBQWUsV0FDaEMsTUFDRCxNQUFPLEdBQU8sRUFBZSxVQUM1QixPQUNELE1BQU8sR0FBTyxHQUFLLEVBQWUsU0FDakMsU0FDRCxNQUFPLEdBQU8sS0FBTyxFQUFlLFFBQ25DLFNBQ0QsTUFBTyxHQUFPLE1BQVEsRUFBZSxRQUVwQyxjQUNELE1BQU8sTUFBSyxNQUFNLEVBQU8sT0FBUyxVQUVsQyxLQUFNLElBQUksT0FBTSxnQkFBa0IsSUFNbEQsYUFBcUIsQ0FDakIsTUFBSyxNQUFLLFVBSU4sS0FBSyxjQUNMLEtBQUssTUFBUSxNQUNaLEtBQUssUUFBVSxHQUFNLE9BQ3RCLEdBQU0sS0FBSyxRQUFVLElBQU0sUUFOcEIsSUFVZixZQUFnQixFQUFPLENBQ25CLE1BQU8sV0FBWSxDQUNmLE1BQU8sTUFBSyxHQUFHLElBSXZCLEdBQUksSUFBaUIsR0FBTyxNQUN4QixHQUFZLEdBQU8sS0FDbkIsR0FBWSxHQUFPLEtBQ25CLEdBQVUsR0FBTyxLQUNqQixHQUFTLEdBQU8sS0FDaEIsR0FBVSxHQUFPLEtBQ2pCLEdBQVcsR0FBTyxLQUNsQixHQUFhLEdBQU8sS0FDcEIsR0FBVSxHQUFPLEtBRXJCLGFBQW1CLENBQ2YsTUFBTyxJQUFlLE1BRzFCLFlBQWUsRUFBTyxDQUNsQixTQUFRLEdBQWUsR0FDaEIsS0FBSyxVQUFZLEtBQUssRUFBUSxPQUFTLElBR2xELFlBQW9CLEVBQU0sQ0FDdEIsTUFBTyxXQUFZLENBQ2YsTUFBTyxNQUFLLFVBQVksS0FBSyxNQUFNLEdBQVEsS0FJbkQsR0FBSSxJQUFlLEdBQVcsZ0JBQzFCLEdBQVUsR0FBVyxXQUNyQixHQUFVLEdBQVcsV0FDckIsR0FBUSxHQUFXLFNBQ25CLEdBQU8sR0FBVyxRQUNsQixHQUFTLEdBQVcsVUFDcEIsR0FBUSxHQUFXLFNBRXZCLGFBQWlCLENBQ2IsTUFBTyxJQUFTLEtBQUssT0FBUyxHQUdsQyxHQUFJLElBQVEsS0FBSyxNQUNiLEdBQWEsQ0FDVCxHQUFJLEdBQ0osRUFBRyxHQUNILEVBQUcsR0FDSCxFQUFHLEdBQ0gsRUFBRyxHQUNILEVBQUcsS0FDSCxFQUFHLElBSVgsWUFBMkIsRUFBUSxFQUFRLEVBQWUsRUFBVSxFQUFRLENBQ3hFLE1BQU8sR0FBTyxhQUFhLEdBQVUsRUFBRyxDQUFDLENBQUMsRUFBZSxFQUFRLEdBR3JFLFlBQXdCLEVBQWdCLEVBQWUsRUFBWSxFQUFRLENBQ3ZFLEdBQUksR0FBVyxHQUFlLEdBQWdCLE1BQzFDLEVBQVUsR0FBTSxFQUFTLEdBQUcsTUFDNUIsRUFBVSxHQUFNLEVBQVMsR0FBRyxNQUM1QixFQUFRLEdBQU0sRUFBUyxHQUFHLE1BQzFCLEVBQU8sR0FBTSxFQUFTLEdBQUcsTUFDekIsRUFBUyxHQUFNLEVBQVMsR0FBRyxNQUMzQixFQUFRLEdBQU0sRUFBUyxHQUFHLE1BQzFCLEVBQVEsR0FBTSxFQUFTLEdBQUcsTUFDMUIsRUFDSyxHQUFXLEVBQVcsSUFBTSxDQUFDLElBQUssSUFDbEMsRUFBVSxFQUFXLEdBQUssQ0FBQyxLQUFNLElBQ2pDLEdBQVcsR0FBSyxDQUFDLE1BQ2pCLEVBQVUsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUNqQyxHQUFTLEdBQUssQ0FBQyxNQUNmLEVBQVEsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUMvQixHQUFRLEdBQUssQ0FBQyxNQUNkLEVBQU8sRUFBVyxHQUFLLENBQUMsS0FBTSxHQUV2QyxNQUFJLEdBQVcsR0FBSyxNQUNoQixHQUNJLEdBQ0MsR0FBUyxHQUFLLENBQUMsTUFDZixFQUFRLEVBQVcsR0FBSyxDQUFDLEtBQU0sSUFFeEMsRUFBSSxHQUNDLEdBQVUsR0FBSyxDQUFDLE1BQ2hCLEVBQVMsRUFBVyxHQUFLLENBQUMsS0FBTSxJQUNoQyxHQUFTLEdBQUssQ0FBQyxNQUFTLENBQUMsS0FBTSxHQUVwQyxFQUFFLEdBQUssRUFDUCxFQUFFLEdBQUssQ0FBQyxFQUFpQixFQUN6QixFQUFFLEdBQUssRUFDQSxHQUFrQixNQUFNLEtBQU0sR0FJekMsWUFBb0MsRUFBa0IsQ0FDbEQsTUFBSSxLQUFxQixPQUNkLEdBRVAsTUFBTyxJQUFxQixXQUM1QixJQUFRLEVBQ0QsSUFFSixHQUlYLFlBQXFDLEVBQVcsRUFBTyxDQUNuRCxNQUFJLElBQVcsS0FBZSxPQUNuQixHQUVQLElBQVUsT0FDSCxHQUFXLEdBRXRCLElBQVcsR0FBYSxFQUNwQixJQUFjLEtBQ2QsSUFBVyxHQUFLLEVBQVEsR0FFckIsSUFHWCxZQUFrQixFQUFlLEVBQWUsQ0FDNUMsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLE1BQUssYUFBYSxjQUc3QixHQUFJLEdBQWEsR0FDYixFQUFLLEdBQ0wsRUFDQSxFQUVKLE1BQUksT0FBTyxJQUFrQixVQUN6QixHQUFnQixFQUNoQixFQUFnQixJQUVoQixNQUFPLElBQWtCLFdBQ3pCLEdBQWEsR0FFYixNQUFPLElBQWtCLFVBQ3pCLEdBQUssT0FBTyxPQUFPLEdBQUksR0FBWSxHQUMvQixFQUFjLEdBQUssTUFBUSxFQUFjLElBQU0sTUFDL0MsR0FBRyxHQUFLLEVBQWMsRUFBSSxJQUlsQyxFQUFTLEtBQUssYUFDZCxFQUFTLEdBQWUsS0FBTSxDQUFDLEVBQVksRUFBSSxHQUUzQyxHQUNBLEdBQVMsRUFBTyxXQUFXLENBQUMsS0FBTSxJQUcvQixFQUFPLFdBQVcsR0FHN0IsR0FBSSxJQUFRLEtBQUssSUFFakIsWUFBYyxFQUFHLENBQ2IsTUFBUSxHQUFJLEdBQU0sR0FBSSxJQUFNLENBQUMsRUFHakMsYUFBeUIsQ0FRckIsR0FBSSxDQUFDLEtBQUssVUFDTixNQUFPLE1BQUssYUFBYSxjQUc3QixHQUFJLEdBQVUsR0FBTSxLQUFLLGVBQWlCLElBQ3RDLEVBQU8sR0FBTSxLQUFLLE9BQ2xCLEVBQVMsR0FBTSxLQUFLLFNBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBUSxLQUFLLFlBQ2IsRUFDQSxFQUNBLEVBQ0EsRUFFSixNQUFLLEdBT0wsR0FBVSxHQUFTLEVBQVUsSUFDN0IsRUFBUSxHQUFTLEVBQVUsSUFDM0IsR0FBVyxHQUNYLEdBQVcsR0FHWCxFQUFRLEdBQVMsRUFBUyxJQUMxQixHQUFVLEdBR1YsRUFBSSxFQUFVLEVBQVEsUUFBUSxHQUFHLFFBQVEsU0FBVSxJQUFNLEdBRXpELEVBQVksRUFBUSxFQUFJLElBQU0sR0FDOUIsRUFBUyxHQUFLLEtBQUssV0FBYSxHQUFLLEdBQVMsSUFBTSxHQUNwRCxFQUFXLEdBQUssS0FBSyxTQUFXLEdBQUssR0FBUyxJQUFNLEdBQ3BELEVBQVUsR0FBSyxLQUFLLGlCQUFtQixHQUFLLEdBQVMsSUFBTSxHQUd2RCxFQUNBLElBQ0MsR0FBUSxFQUFTLEVBQVEsSUFBTSxJQUMvQixHQUFTLEVBQVMsRUFBUyxJQUFNLElBQ2pDLEdBQU8sRUFBVyxFQUFPLElBQU0sSUFDL0IsSUFBUyxHQUFXLEVBQVUsSUFBTSxJQUNwQyxHQUFRLEVBQVUsRUFBUSxJQUFNLElBQ2hDLEdBQVUsRUFBVSxFQUFVLElBQU0sSUFDcEMsR0FBVSxFQUFVLEVBQUksSUFBTSxLQTlCeEIsTUFrQ2YsR0FBSSxJQUFVLEdBQVMsVUFFdkIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsSUFBTSxHQUNkLEdBQVEsSUFBTSxHQUNkLEdBQVEsU0FBVyxHQUNuQixHQUFRLEdBQUssR0FDYixHQUFRLGVBQWlCLEdBQ3pCLEdBQVEsVUFBWSxHQUNwQixHQUFRLFVBQVksR0FDcEIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsT0FBUyxHQUNqQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsV0FBYSxHQUNyQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxRQUFVLEdBQ2xCLEdBQVEsUUFBVSxHQUNsQixHQUFRLE1BQVEsR0FDaEIsR0FBUSxJQUFNLEdBQ2QsR0FBUSxhQUFlLEdBQ3ZCLEdBQVEsUUFBVSxHQUNsQixHQUFRLFFBQVUsR0FDbEIsR0FBUSxNQUFRLEdBQ2hCLEdBQVEsS0FBTyxHQUNmLEdBQVEsTUFBUSxHQUNoQixHQUFRLE9BQVMsR0FDakIsR0FBUSxNQUFRLEdBQ2hCLEdBQVEsU0FBVyxHQUNuQixHQUFRLFlBQWMsR0FDdEIsR0FBUSxTQUFXLEdBQ25CLEdBQVEsT0FBUyxHQUNqQixHQUFRLE9BQVMsR0FDakIsR0FBUSxXQUFhLEdBRXJCLEdBQVEsWUFBYyxHQUNsQixzRkFDQSxJQUVKLEdBQVEsS0FBTyxHQUlmLEdBQWUsSUFBSyxFQUFHLEVBQUcsUUFDMUIsR0FBZSxJQUFLLEVBQUcsRUFBRyxXQUkxQixHQUFjLElBQUssSUFDbkIsR0FBYyxJQUFLLElBQ25CLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQy9DLEVBQU8sR0FBSyxHQUFJLE1BQUssV0FBVyxHQUFTLE9BRTdDLEdBQWMsSUFBSyxTQUFVLEVBQU8sRUFBTyxFQUFRLENBQy9DLEVBQU8sR0FBSyxHQUFJLE1BQUssR0FBTSxNQUcvQjtBQUVBLEdBQU0sUUFBVSxTQUVoQixHQUFnQixJQUVoQixHQUFNLEdBQUssR0FDWCxHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLElBQU0sR0FDWixHQUFNLEtBQU8sR0FDYixHQUFNLE9BQVMsR0FDZixHQUFNLE9BQVMsR0FDZixHQUFNLE9BQVMsR0FDZixHQUFNLFFBQVUsR0FDaEIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sU0FBVyxHQUNqQixHQUFNLFNBQVcsR0FDakIsR0FBTSxVQUFZLEdBQ2xCLEdBQU0sV0FBYSxHQUNuQixHQUFNLFdBQWEsR0FDbkIsR0FBTSxZQUFjLEdBQ3BCLEdBQU0sWUFBYyxHQUNwQixHQUFNLGFBQWUsR0FDckIsR0FBTSxhQUFlLEdBQ3JCLEdBQU0sUUFBVSxHQUNoQixHQUFNLGNBQWdCLEdBQ3RCLEdBQU0sZUFBaUIsR0FDdkIsR0FBTSxxQkFBdUIsR0FDN0IsR0FBTSxzQkFBd0IsR0FDOUIsR0FBTSxlQUFpQixHQUN2QixHQUFNLFVBQVksR0FHbEIsR0FBTSxVQUFZLENBQ2QsZUFBZ0IsbUJBQ2hCLHVCQUF3QixzQkFDeEIsa0JBQW1CLDBCQUNuQixLQUFNLGFBQ04sS0FBTSxRQUNOLGFBQWMsV0FDZCxRQUFTLGVBQ1QsS0FBTSxhQUNOLE1BQU8sV0NsL0tYLEtBQU10SSxJQUFRLEdBQVksQ0FDeEIsU0FBVSxDQUNSLFNBQVUsR0FDVixNQUFPLEVBQ1AsS0FBTSxFQUNOLE1BQU8sRUFDUCxhQUFjLEdBQ2Qsd0JBQXlCLElBRTNCLGlCQUFrQixHQUNsQixhQUFjLENBQ1osR0FBSSxHQUNKLEtBQU0sSUFFUixnQkFBaUIsR0FDakIsb0JBQXFCLEdBQ3JCLGtCQUFtQixHQUNuQix3QkFBeUIsR0FDekIsdUJBQXdCLEtBR2IsR0FBYyxDQUFDLEVBQUcsYUFDckIsVUFBVSxLQUFLLElBQU0sR0FBYSxJQUNuQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBZSxBQUFDLEdBQWdDLElBQ2hELEdBQVcsRUFBYSxFQUFpQyxLQUN2RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQVEsVUFDVCwyQkFDVyxJQUNGQSxHQUFNLFNBQVMsUUFDakIsTUFBUSxFQUFZLFFBQ3BCLEtBQU8sRUFBWSxPQUNuQixNQUFRLEVBQVksUUFDVixFQUFVLFdBQ3BCLGFBQWUsS0FDYixTQUFTLFFBQVEsQUFBQyxHQUFZLENBQ3BDLEVBQWtCLEVBQVEsS0FBTyxTQUMzQixhQUFlLEtBQ2YsTUFBUSxJQUNSLEtBQU8sSUFDUCxNQUFRLElBQ0UsRUFBUSxJQUFNLE9BRzFCLFNBQVcsRUFDZCxFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLG1CQUNXLE9BQ1IsR0FBYSxFQUFZLFFBQ3pCLEVBQWMsRUFBWSxpQkFDcEIsRUFBRSxTQUFTLFFBQ0gsRUFBVSxTQUMxQixJQUFnQixXQUFZLE1BQ3hCLEdBQXdCLFVBQ3ZCLFFBQVEsR0FBbUIsUUFBUSxDQUFDLENBQUMsRUFBSyxLQUFXLENBQ3RELEVBQU0sY0FBZ0IsZUFBa0MsR0FBTyxPQUVqRCxLQUVsQixHQUFZLElBQU0sTUFBUSxFQUFrQixFQUFXLEtBQU8sU0FDckQsYUFBZSxLQUNmLE1BQVEsS0FDUixLQUFPLElBQ1AsTUFBUSxJQUNELEVBQVcsSUFBTSxLQUUzQixTQUFXLElBQ25CLE1BQU0sQ0FBRSxTQUFVLElBQ2hCLElBQWdCLFdBQVksTUFDeEIsR0FBVyxFQUFFLFNBQVMsUUFDbkIsd0JBQTBCLEtBQ2pDLE1BQU0sQ0FBRSx1QkFBd0IsR0FBTSxtQkFFbkMsT0FDSixvQkFDVyxPQUNSLEdBQVksRUFBWSxRQUFRLFVBQ2hDLEVBQVcsRUFBWSxjQUNqQixFQUFFLFNBQVMsUUFDSCxFQUFVLFdBQ0wsRUFBa0IsR0FDdkMsR0FBMEIsT0FDbEIsYUFBZSxNQUVGLFNBQ3JCLEVBQXVCLFVBQVksTUFDbkMsRUFBdUIsU0FBUyxNQUFRLE1BQ3hDLEVBQXVCLGVBQWlCLEdBQ3BDLENBQUMsRUFBWSxTQUNiLEdBQUUsUUFBUSxFQUF1QixTQUFVLENBQUMsRUFBWSxTQUFVLFFBQ2pELEtBQU8sRUFBdUIsS0FBTyxJQUNyQyxVQUFZdUksS0FBUyxNQUFNLFdBQ2hDLEdBQWEsSUFDckIsU0FBVyxLQUVyQixNQUFNLENBQUUsU0FBVSxFQUFXLG9CQUFxQixLQUVoRCxFQUFFLGdCQUFnQixNQUFNLFNBQVcsR0FBSyxHQUEwQixLQUFNLE1BQ3BFLEdBQWMsRUFBdUIsWUFDckMsRUFDSixJQUFnQixPQUNaLEVBQXVCLFVBQVksRUFBUyxHQUMxQyxFQUF1QixNQUN2QixFQUF1QixNQUN6QixJQUFnQixRQUNoQixFQUF1QixNQUN2QixJQUFnQixXQUNoQixFQUF1QixTQUN2QixFQUF1QixRQUMzQixNQUFNLENBQUUsZ0JBQWlCLEVBQVcsaUJBQWtCLEVBQWEsYUFBYyxVQUU5RSxPQUNKLDJCQUNXLElBQ0YsRUFBRSxTQUFTLFFBQ0gsRUFBVSxXQUNMLEVBQWtCLEVBQVksYUFDaEMsU0FDckIsRUFBdUIsVUFBWSxNQUNuQyxFQUF1QixTQUFTLE1BQVEsTUFDeEMsRUFBdUIsZUFBaUIsR0FDcEMsRUFBWSxTQUNaLEdBQUUsUUFBUSxFQUF1QixTQUFVLEVBQVksU0FBVSxRQUNoRCxNQUFRLEVBQVksUUFDcEIsS0FBTyxFQUFZLE9BQ25CLE1BQVEsRUFBWSxRQUNwQixhQUFlLEtBQ3BCLEVBQVksV0FBYSxFQUVwQyxFQUFFLFNBQVMsTUFBTSxDQUFFLFNBQVUsUUFDakMsMkJBQ1csSUFDRixFQUFFLFNBQVMsUUFFSCxFQUFVLFdBQ0wsRUFBa0IsRUFBWSxRQUFRLFdBQzNELEdBQTBCLFVBQzFCLE9BQU8sRUFBdUIsU0FBVSxBQUFDLEdBQXFCLEVBQVEsS0FBTyxFQUFZLFFBQVEsTUFDNUUsS0FBTyxFQUF1QixLQUFPLElBQzFDLEVBQVksUUFBUSxXQUFhLElBQ3pDLFNBQVcsR0FFaEIsRUFBRSxNQUFNLENBQUUsU0FBVSxRQUN4QiwyQkFDVyxJQUNGLEVBQUUsU0FBUyxRQUVILEVBQVUsV0FDTCxFQUFrQixFQUFZLFFBQVEsV0FDM0QsR0FBMEIsU0FDTCxTQUFXLEVBQXVCLFNBQVMsSUFBSSxBQUFDLEdBQ3JFLEVBQVEsS0FBTyxFQUFZLFFBQVEsR0FBSyxFQUFZLFFBQVUsS0FHOUMsRUFBWSxRQUFRLFdBQWEsSUFDekMsU0FBVyxHQUVoQixFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLG9CQUNXLE9BQ1IsR0FBaUIsRUFBWSxpQkFDdkIsRUFBRSxTQUFTLFFBQ0gsRUFBVSxXQUVmLGFBQWUsS0FDZixNQUFRLEtBQ1IsS0FBTyxJQUNQLE1BQVEsSUFDTCxFQUFlLElBQU0sSUFDN0IsU0FBVyxFQUNkLEVBQUUsTUFBTSxDQUFFLFNBQVUsUUFDeEIsb0JBQ1csT0FDUixHQUFnQixFQUFZLGlCQUN0QixFQUFFLFNBQVMsUUFFSCxFQUFVLFdBQ0wsRUFBa0IsRUFBWSxRQUFRLElBQzNELEdBQTBCLFNBQ0wsVUFBWSxFQUFjLFlBQzFCLE1BQVEsRUFBYyxRQUN0QixTQUFXLEVBQWMsV0FDekIsTUFBUSxFQUFjLFFBQ3RCLE1BQVEsRUFBYyxRQUN0QixNQUFRLEVBQWMsUUFDM0IsRUFBWSxRQUFRLElBQU0sSUFDbEMsU0FBVyxHQUVoQixFQUFFLE1BQU0sQ0FBRSxTQUFVLFFBQ3hCLDJCQUNXLEVBQ1AsRUFBRSxTQUFTLFNBQVMsRUFBWSxRQUFRLElBQUksSUFBSSxRQUNwRCx1QkFDRyxDQUFFLG1CQUFrQixlQUFjLG1CQUFvQixRQUNyRCxHQUFFLE1BQU0sQ0FDYixtQkFDQSxlQUNBLGtCQUNBLG9CQUFxQixHQUNyQixrQkFBbUIsU0FHbEIsK0JBQ0csQ0FBRSxTQUFVLFFBQ1gsR0FBRSxNQUFNLENBQUUsa0JBQW1CLFFBQ2pDLGtDQUNJLEdBQUUsU0FBUyxNQUFNLENBQUUsd0JBQXlCLFNBQ2hELGtDQUNJLEdBQUUsTUFBTSxDQUFFLG9CQUFxQixFQUFPLFVBRWhELEVBQU8sT0N4UE52SSxHQUFRLEdBQVksQ0FDeEIsUUFBUyxDQUNQLFFBQVMsR0FDVCxNQUFPLEVBQ1AsTUFBTyxFQUNQLEtBQU0sR0FFUixxQkFBc0IsR0FDdEIsYUFBYyxLQUdILEdBQWdCLENBQUMsRUFBRyxhQUN2QixVQUFVLEtBQUssSUFBTSxHQUFlLElBQ3JDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFpQixBQUFDLEdBQWtDLElBQ3BELEdBQVcsRUFBVSxFQUFXLEtBQzlCLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLDBCQUNTLEVBQ1IsRUFBRSxhQUFhLFFBQVUsS0FDekIsUUFBUSxRQUFRLElBQUksRUFBVSxXQUU5QixRQUFRLFFBQVEsSUFBSSxDQUFDLEVBQUUsUUFBUSxRQUFRLE1BQU8sRUFBVSxZQUUxRCxRQUFRLEtBQUssSUFBSSxFQUFVLFFBQzNCLFFBQVEsTUFBTSxJQUFJLEVBQVUsU0FDNUIsUUFBUSxNQUFNLElBQUksRUFBVSxTQUM1QixhQUFhLElBQUksSUFDWixFQUFFLHFCQUFxQixJQUFJLFFBRS9CLG1CQUNTLE9BQ04sR0FBMEIsRUFBVSxtQkFDeEMsUUFBUSxRQUFRLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxRQUFRLE1BQU8sUUFDaEQsbUJBQ1MsT0FDTixHQUEwQixFQUFVLG1CQUMvQixFQUFVLFdBRW5CLEVBQXdCLFNBQVcsRUFBUyxHQUN4QyxFQUF3QixZQUN4QixFQUF3QixVQUV4QixHQUFxQixFQUFFLFFBQVEsUUFBUSxNQUFNLFVBQVUsQUFBQyxHQUNyRCxHQUFjLE1BQVEsRUFBVyxLQUFPLEVBQVUsVUFFdkQsS0FBdUIsR0FDbEIsRUFBRSxRQUFRLFFBQVEsSUFBSSxDQUFDLEdBQUcsRUFBRSxRQUFRLFFBQVEsTUFBTyxJQUVuRCxFQUFFLFFBQVEsUUFBUSxHQUFvQixJQUFJLE9BR2hELG1CQUNTLE9BQ04sR0FBMEIsRUFBVSxtQkFDL0IsRUFBVSxXQUVuQixFQUF3QixTQUFXLEVBQVMsR0FDeEMsRUFBd0IsY0FDeEIsRUFBd0IsWUFFeEIsR0FBVyxFQUFFLFFBQVEsUUFBUSxNQUFNLFVBQVUsQUFBQyxHQUMzQyxHQUFjLE1BQVEsRUFBVyxLQUFPLFNBRzFDLEdBQUUsUUFBUSxRQUFRLEdBQVUsSUFBSSxRQUNwQyx5QkFDSSxHQUFFLHFCQUFxQixJQUFJLE1BRXJDLEVBQU8sT0MvREMsR0FBeUIsQ0FDcEMsR0FBSSxHQUNKLEtBQU0sR0FDTixjQUFlLEdBQ2Ysb0JBQXFCLEdBQ3JCLFFBQVMsR0FDVCxtQkFBb0IsR0FDcEIsUUFBUyxHQUNULFdBQVksR0FDWixrQkFBbUIsQ0FDakIsR0FBSSxHQUNKLFdBQVksR0FDWix5QkFBMEIsR0FDMUIsYUFBYyxHQUNkLHFCQUFzQixHQUN0QixxQkFBc0IsR0FDdEIsYUFBYyxVQUNkLGFBQWMsS0MxQlpBLEdBQVEsR0FBWSxDQUN4QixVQUFXLENBQ1QsVUFBVyxHQUNYLE1BQU8sRUFDUCxNQUFPLEdBQ1AsS0FBTSxHQUVSLGdCQUFpQixDQUNmLFNBQVUsR0FDVixZQUFhLElBRWYsYUFBYyxHQUNkLDRCQUE2QixHQUM3Qix3QkFBeUIsR0FDekIsZ0JBQWlCLEtBR04sR0FBa0IsQ0FBQyxFQUFHLGFBQ3pCLFVBQVUsS0FBSyxJQUFNLEdBQWlCLElBQ3ZDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFtQixBQUFDLEdBQW9DLElBQ3hELE1BQ0UsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsK0JBQ1MsRUFBTyxVQUVmLEVBQUUsVUFBVSxXQUFhLE1BQVEsRUFBRSxhQUFhLFFBQVUsS0FDMUQsVUFBVSxVQUFVLElBQUksRUFBVSxRQUVsQyxVQUFVLFVBQVUsSUFBSSxDQUFDLEdBQUcsRUFBRSxVQUFVLFVBQVUsTUFBTyxHQUFHLEVBQVUsU0FHeEUsVUFBVSxLQUFLLElBQUksRUFBVSxRQUM3QixVQUFVLE1BQU0sSUFBSSxFQUFVLFNBQzlCLFVBQVUsTUFBTSxJQUFJLEVBQVUsT0FDekIsRUFBRSxhQUFhLElBQUksUUFFdkIsK0JBQ0ksR0FBRSx3QkFBd0IsSUFBSSxRQUVsQyx1QkFDUyxFQUFPLFdBQ1QsaUJBQW1CLEVBQVUsb0JBRW5DLEdBQWMsYUFDUCxlQUFlLFFBQVEsQUFBQyxHQUFRLEdBQzdCLEtBQUssRUFBSSxZQUVULENBQUMsR0FBRyxHQUFJLEtBQUksTUFFeEIsZ0JBQWdCLFNBQVMsSUFBSSxLQUM3QixnQkFBZ0IsWUFBWSxJQUFJLEtBQ2hDLDRCQUE0QixJQUFJLElBQzNCLEVBQUUsd0JBQXdCLElBQUksUUFFbEMsOEJBQ0QsZ0JBQWdCLE1BQU0sQ0FBRSxTQUFVLEdBQWMsWUFBYSxPQUM3RCw0QkFBNEIsSUFBSSxNQUNoQyx3QkFBd0IsSUFBSSxJQUN2QixFQUFFLGdCQUFnQixJQUFJLFFBRTFCLDZCQUNJLEdBQUUsNEJBQTRCLElBQUksTUFFNUMsRUFBTyxPQUdDLEdBQXNCLElBQU1BLEdDckVuQ0EsR0FBUSxHQUFZLENBQ3hCLE9BQVEsQ0FDTixPQUFRLEdBQ1IsTUFBTyxFQUNQLE1BQU8sRUFDUCxLQUFNLEdBRVIsZ0JBQWlCLENBQ2YsT0FBUSxHQUNSLE1BQU8sRUFDUCxNQUFPLEVBQ1AsS0FBTSxHQUVSLDZCQUE4QixHQUM5QixvQkFBcUIsR0FDckIsc0JBQXVCLEdBQ3ZCLGFBQWMsR0FDZCxhQUFjLEtBR0gsR0FBZSxDQUFDLEVBQUcsYUFDdEIsVUFBVSxLQUFLLElBQU0sR0FBYyxJQUNwQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBZ0IsQUFBQyxHQUFpQyxJQUNsRCxHQUNGLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEtBQ0ksTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IseUJBQ1MsRUFDUixFQUFFLGFBQWEsUUFBVSxLQUN6QixPQUFPLE9BQU8sSUFBSSxFQUFVLFVBRTVCLE9BQU8sT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU8sT0FBTyxNQUFPLEdBQUcsRUFBVSxXQUU1RCxPQUFPLE1BQU0sQ0FBRSxLQUFNLEVBQVUsS0FBTSxNQUFPLEVBQVUsTUFBTyxNQUFPLEVBQVUsVUFDOUUsYUFBYSxJQUFJLElBQ1osRUFBRSxvQkFBb0IsSUFBSSxRQUU5QixtQ0FDUyxFQUVSLEVBQUUsYUFBYSxRQUFVLEtBQ3pCLGdCQUFnQixPQUFPLElBQUksRUFBVSxVQUVyQyxnQkFBZ0IsT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFLGdCQUFnQixPQUFPLE1BQU8sR0FBRyxFQUFVLFdBRTlFLGdCQUFnQixLQUFLLElBQUksRUFBVSxRQUNuQyxnQkFBZ0IsTUFBTSxJQUFJLEVBQVUsU0FDcEMsZ0JBQWdCLE1BQU0sSUFBSSxFQUFVLE9BQy9CLEVBQUUsTUFBTSxDQUFFLHNCQUF1QixHQUFPLDZCQUE4QixTQUUxRSx5QkFDUyxFQUNMLEVBQUUsTUFBTSxDQUFFLGFBQWMsR0FBTSxzQkFBdUIsU0FDekQseUJBQ1MsSUFDRSxFQUFVLFFBRVgsRUFBRSxPQUFPLE9BQU8sTUFBTSxVQUFVLEFBQUMsR0FDckMsR0FBYSxNQUFRLEVBQVUsS0FBTyxFQUFVLFNBRXJELElBQWUsR0FDVixFQUFFLE9BQU8sT0FBTyxHQUFZLElBQUksR0FFbEMsTUFDSix5QkFDRCxhQUFhLElBQUksSUFDWixFQUFFLHNCQUFzQixJQUFJLFFBQ2hDLDJCQUNJLE9BRUosbUJBQ0ksR0FBRSxhQUFhLElBQUksUUFDdkIsd0JBQ0ksR0FBRSxvQkFBb0IsSUFBSSxRQUM5QixrQ0FDSSxHQUFFLDZCQUE2QixJQUFJLFFBQ3ZDLDBCQUNTLElBQ0EsRUFBVSxZQUNWLEVBQUUsT0FBTyxRQUNILEVBQVUsU0FDTCxHQUFFLEtBQUssRUFBaUIsQUFBQyxHQUN2QyxHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsU0FFN0MsR0FBd0IsS0FBTSxHQUNWLEVBQXFCLGdCQUNyQyxHQUFRLEVBQW9CLEtBQUssQUFBQyxHQUMvQixHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsTUFFM0IsTUFBTSxRQUFRLEdBQ2hDLEdBQVMsS0FDUCxFQUFvQixPQUFPLENBQUMsSUFDNUIsRUFBb0IsSUFBSSxBQUFDLEdBQVcsRUFBTSxLQUFPLEVBQVUsR0FBSyxFQUFZLEdBQzlFLENBQUMsS0FDZ0IsV0FBYSxRQUU3QixHQUFFLE9BQU8sT0FBTyxJQUFJLE9BRXhCLHVCQUNTLElBQ0EsRUFBVSxZQUNWLEVBQUUsT0FBTyxRQUNILEVBQVUsU0FDTCxHQUFFLEtBQUssRUFBaUIsQUFBQyxHQUN2QyxHQUFTLE1BQVEsRUFBTSxLQUFPLEVBQVUsU0FFN0MsR0FBd0IsU0FDTCxXQUFhLEVBQXFCLFdBQVcsSUFBSSxBQUFDLEdBQ3JFLEVBQU0sS0FBTyxFQUFVLEdBQUssRUFBWSxNQUcxQyxPQUFPLE9BQU8sSUFBSSxPQUVqQix1QkFDUyxJQUNBLEVBQVUsZUFDaEIsR0FBTyxFQUFVLE9BQ1gsRUFBRSxPQUFPLFFBQ0gsRUFBVSxTQUNMLEdBQUUsS0FBSyxFQUFpQixBQUFDLEdBQ3ZDLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxTQUU3QyxHQUF3QixTQUNKLEVBQXFCLGNBQ3pDLFVBQVUsRUFBcUIsQUFBQyxHQUFxQixFQUFVLEtBQU8sRUFBTSxRQUc1RSxHQUFXLEVBQUUsT0FBTyxPQUFPLElBQUksU0FDL0IsS0FBUyxPQUNBLEVBQUUsTUFBTSxDQUFFLGFBQWMsRUFBVSxRQUFTLGFBQWMsTUFFL0QsTUFFSixrQ0FDSSxHQUFFLGFBQWEsSUFBSSxNQUU3QixFQUFPLE9DakpOQSxHQUFRLEdBQVksQ0FDeEIsTUFBTyxHQUNQLGFBQWMsS0FHSCxHQUFlLENBQUMsRUFBRyxhQUN0QixVQUFVLEtBQUssSUFBTSxHQUFjLElBQ3BDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFnQixBQUFDLEdBQWlDLElBQ2xELEdBQVcsRUFBVyxFQUFXLEtBRS9CLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLHFCQUNJLEdBQUUsTUFBTSxDQUFFLE1BQU8sRUFBTyxNQUFPLGFBQWMsU0FDakQsc0JBQ0ksR0FBRSxhQUFhLElBQUksUUFDdkIseUJBQ1MsR0FBSSxLQUNULEVBQUUsTUFBTSxDQUFFLE1BQU8sR0FBSSxhQUFjLFNBQ3ZDLDJCQUNJLEdBQUUsYUFBYSxJQUFJLFFBQ3ZCLDhCQUNTLElBQ0EsRUFBVSxZQUNWLEdBQUUsVUFBVSxFQUFFLE1BQU0sT0FDNUIsR0FBYSxTQUNPLEVBQVUsYUFDVixNQUFNLFFBQVEsR0FDaEMsRUFBb0IsS0FBSyxBQUFDLEdBQ2pCLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxLQUMzQyxLQUNKLEVBQW9CLE9BQU8sQ0FBQyxJQUM1QixFQUFVLFdBQVcsSUFBSSxBQUFDLEdBQ2pCLEdBQVMsTUFBUSxFQUFNLEtBQU8sRUFBVSxHQUFLLEVBQVksR0FFcEUsQ0FBQyxLQUNLLFdBQWEsR0FFbEIsRUFBRSxNQUFNLElBQUksT0FFaEIsOEJBQ1MsSUFDQSxFQUFVLFlBQ1YsR0FBRSxVQUFVLEVBQUUsTUFBTSxPQUM1QixHQUFhLFNBQ08sRUFBVSxhQUNWLE1BQU0sUUFBUSxHQUNoQyxFQUFvQixLQUFLLEFBQUMsR0FDakIsR0FBUyxNQUFRLEVBQU0sS0FBTyxFQUFVLEtBQzNDLEtBQ0osRUFBb0IsT0FBTyxDQUFDLElBQzVCLEVBQVUsV0FBVyxJQUFJLEFBQUMsR0FDakIsR0FBUyxNQUFRLEVBQU0sS0FBTyxFQUFVLEdBQUssRUFBWSxHQUVwRSxDQUFDLEtBQ0ssV0FBYSxHQUVsQixFQUFFLE1BQU0sSUFBSSxPQUVoQiw4QkFDUyxJQUNBLEVBQVUsWUFDVixHQUFFLFVBQVUsRUFBRSxNQUFNLE9BQzVCLEdBQWEsU0FDTyxFQUFVLGNBQzlCLE9BQU8sRUFBcUIsQUFBQyxHQUN0QixHQUFTLE1BQVEsRUFBVSxLQUFPLEVBQU0sT0FHakQsTUFBTSxJQUFJLEdBQ0wsRUFBRSxhQUFhLElBQUksTUFFN0IsRUFBTyxPQUdDLEdBQW1CLElBQU1BLEdDaEZoQ0EsR0FBUSxHQUFZLENBQ3hCLGdCQUFpQixDQUNmLFFBQVMsR0FDVCxLQUFNLEVBQ04sTUFBTyxFQUNQLE1BQU8sR0FFVCxZQUFhLENBQ1gsUUFBUyxHQUNULEtBQU0sRUFDTixNQUFPLEVBQ1AsTUFBTyxHQUVULGlCQUFrQixHQUNsQixxQkFBc0IsR0FDdEIseUJBQTBCLEdBQzFCLDZCQUE4QixHQUM5QixlQUFnQixHQUNoQixpQkFBa0IsS0FHUCxHQUFnQixDQUFDLEVBQUcsYUFDdkIsVUFBVSxLQUFLLElBQU0sR0FBZSxJQUNyQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBaUIsQUFBQyxHQUFrQyxJQUNwRCxNQUNFLE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLG9CQUNJLEdBQUUsaUJBQWlCLElBQUksUUFDM0Isa0NBQ1MsSUFDVixZQUFZLE1BQU0sQ0FDbEIsUUFBUyxFQUFVLFFBQ25CLEtBQU0sRUFBVSxLQUNoQixNQUFPLEVBQVUsTUFDakIsTUFBTyxFQUFVLFFBRVosRUFBRSxNQUFNLENBQUUsaUJBQWtCLEdBQU8seUJBQTBCLFNBQ2pFLHNDQUNTLEVBR1IsQUFGb0IsRUFBRSxnQkFBZ0IsUUFBUSxRQUUxQixNQUFRLEVBQUUscUJBQXFCLFFBQVUsS0FDN0QsZ0JBQWdCLFFBQVEsSUFBSSxFQUFVLFdBRXRDLGdCQUFnQixRQUFRLE1BQU0sQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLFFBQVEsTUFBTyxHQUFHLEVBQVUsWUFFbEYsZ0JBQWdCLE1BQU0sQ0FBRSxLQUFNLEVBQVUsS0FBTSxNQUFPLEVBQVUsTUFBTyxNQUFPLEVBQVUsUUFDbEYsRUFBRSxNQUFNLENBQUUscUJBQXNCLEdBQU8sNkJBQThCLFNBQ3pFLGdDQUNJLEdBQUUscUJBQXFCLElBQUksUUFDL0IsNEJBQ0ksR0FBRSxpQkFBaUIsSUFBSSxRQUMzQixnQ0FDSSxHQUFFLHFCQUFxQixJQUFJLFFBQy9CLDRCQUNJLEdBQUUsaUJBQWlCLElBQUksUUFDM0Isd0JBQ0ksR0FBRSxxQkFBcUIsSUFBSSxRQUMvQix3QkFDSSxHQUFFLHFCQUFxQixJQUFJLFFBQy9CLDZCQUNTLEVBQ0xBLEdBQU0sTUFBTSxDQUNqQixlQUFnQixFQUFVLGdCQUFrQixHQUM1QyxpQkFBa0IsRUFBVSxrQkFBb0IsU0FFL0MsOEJBQ0ksR0FBRSx5QkFBeUIsSUFBSSxRQUNuQyxrQ0FDSSxHQUFFLDZCQUE2QixJQUFJLE1BRTdDLEVBQU8sT0M3RU5BLEdBQVEsR0FBWSxDQUN4QixlQUFnQixDQUNkLFlBQWEsR0FDYixLQUFNLEVBQ04sTUFBTyxFQUNQLE1BQU8sS0FJRSxHQUFvQixDQUFDLEVBQUcsYUFDM0IsVUFBVSxLQUFLLElBQU0sR0FBbUIsSUFDekNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXFCLEFBQUMsR0FBc0MsSUFDNUQsTUFDRSxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUiw0QkFDUyxFQUNSLEVBQVUsYUFBZSxRQUN6QixlQUFlLFlBQVksTUFBTSxDQUFDLEVBQVUsZ0JBRTlDLGVBQWUsS0FBSyxJQUFJLEVBQVUsUUFDbEMsZUFBZSxNQUFNLElBQUksRUFBVSxPQUM5QixFQUFFLGVBQWUsTUFBTSxJQUFJLEVBQVUsU0FFL0MsRUFBTyxPQ3RCTkEsR0FBUSxHQUFZLENBQ3hCLE1BQU8sQ0FDTCxhQUFjLEdBQ2QsYUFBYyxHQUNkLFNBQVUsTUFJRCxHQUFzQixDQUFDLEVBQUcsYUFDN0IsVUFBVSxLQUFLLElBQU0sR0FBcUIsSUFDM0NBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXVCLEFBQUMsR0FBdUMsSUFDN0QsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsNEJBQ0ksR0FBRSxNQUFNLFNBQVMsSUFBSSxRQUN6QixnQ0FDSSxHQUFFLE1BQU0sTUFBTSxDQUFFLGFBQWMsRUFBTyxVQUFZLEdBQUksU0FBVSxTQUNuRSwrQkFDSSxHQUFFLE1BQU0sYUFBYSxJQUMxQixFQUFFLE1BQU0sYUFBYSxNQUFNLElBQUksQUFBQyxHQUMxQixFQUFLLEtBQU8sRUFBTyxVQUNkLElBQUssRUFBTSxNQUFPLEVBQUssTUFBUSxFQUFHLFFBQVMsSUFFN0MsSUFBSyxTQUdiLGtDQUNJLEdBQUUsTUFBTSxhQUFhLElBQzFCLEVBQUUsTUFBTSxhQUFhLE1BQU0sSUFBSSxBQUFDLEdBQzFCLEVBQUssS0FBTyxFQUFPLFVBQ2QsSUFBSyxFQUFNLE1BQU8sRUFBRSxFQUFLLE1BQU8sUUFBUyxJQUUzQyxJQUFLLFNBR2IseUJBQ0ksR0FBRSxNQUFNLGFBQWEsSUFBSSxDQUFDLEVBQU8sUUFBUyxHQUFJLEVBQUUsTUFBTSxhQUFhLE9BQVMsU0FFaEYsc0JBQ0ksR0FBRSxNQUFNLGFBQWEsSUFBSSxFQUFPLFlBRTFDLEVBQU8sT0FJQyxHQUF1QixJQUFNLEdBQVNBLElDakQ3Q0EsR0FBUSxHQUFZLENBQ3hCLFVBQVcsQ0FDVCxVQUFXLEdBQ1gsU0FBVSxNQUlELEdBQW1CLENBQUMsRUFBRyxhQUMxQixVQUFVLEtBQUssSUFBTSxHQUFrQixJQUN4Q0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBb0IsQUFBQyxHQUFxQyxJQUN4RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUix5QkFDSSxHQUFFLFVBQVUsU0FBUyxJQUFJLFFBQzdCLDZCQUNJLEdBQUUsVUFBVSxNQUFNLENBQUUsVUFBVyxFQUFPLFVBQVcsU0FBVSxPQUVyRSxFQUFPLE9DcEJOQSxHQUFRLEdBQVksQ0FDeEIsT0FBUSxDQUNOLFlBQWEsR0FDYixZQUFhLEdBQ2IsVUFBVyxLQUNYLFNBQVUsR0FDVixPQUFRLEtBQ1IsY0FBZSxHQUNmLFFBQVMsR0FDVCxVQUFXLEdBQ1gsU0FBVSxLQUNWLE1BQU8sR0FDUCxVQUFXLEtBQ1gsT0FBUSxLQUNSLE1BQU8sS0FDUCxPQUFRLEtBQ1IsT0FBUSxRQUlDLEdBQXFCLENBQUMsRUFBRyxhQUM1QixVQUFVLEtBQUssSUFBTSxHQUFvQixJQUMxQ0EsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBc0IsQUFBQyxHQUF1QyxJQUM1RCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUixrQ0FDSSxHQUFFLE9BQU8sTUFBTSxDQUFFLFlBQWEsRUFBTyxNQUFPLFVBQVcsRUFBTyxTQUNsRSxrQ0FDSSxHQUFFLE9BQU8sWUFBWSxJQUFJLEVBQU8sV0FDcEMsK0JBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxTQUFVLEVBQU8sTUFBTyxPQUFRLEVBQU8sU0FDNUQsb0NBQ0ksR0FBRSxPQUFPLFFBQVEsSUFBSSxFQUFPLFdBQ2hDLG1DQUNJLEdBQUUsT0FBTyxNQUFNLENBQ3BCLGNBQWUsRUFBTyxNQUN0QixVQUFXLEVBQU8sR0FDbEIsTUFBTyxFQUFPLE1BQ2QsT0FBUSxFQUFPLGFBRWQsZ0NBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxVQUFXLEVBQU8sTUFBTyxTQUFVLEVBQU8sR0FBSSxPQUFRLEVBQU8sYUFDbEYsNEJBQ0ksR0FBRSxPQUFPLE1BQU0sQ0FBRSxNQUFPLEVBQU8sTUFBTyxPQUFRLEVBQU8sV0FFL0QsRUFBTyxPQUlDLEdBQXNCLElBQU0sR0FBU0EsSUNoRDVDQSxHQUFRLEdBQVksQ0FDeEIsU0FBVSxHQUNWLFNBQVUsS0FHQyxHQUFrQixDQUFDLEVBQUcsYUFDekIsVUFBVSxLQUFLLElBQU0sR0FBaUIsSUFDdkNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQW1CLEFBQUMsR0FBb0MsSUFDdEQsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsdUJBQ0ksR0FBRSxTQUFTLElBQUksUUFDbkIsMkJBQ0ksR0FBRSxNQUFNLENBQUUsU0FBVSxFQUFPLFNBQVUsU0FBVSxTQUNuRCxxQkFDSSxHQUFFLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRSxTQUFTLE1BQU8sRUFBTyxlQUNoRCx3QkFDSSxHQUFFLFNBQVMsSUFDaEIsRUFBRSxTQUFTLE1BQU0sSUFBSSxBQUFDLEdBQ2hCLEVBQVMsS0FBTyxFQUFPLFNBQVMsR0FDM0IsSUFBSyxLQUFhLEVBQU8sVUFFM0IsSUFBSyxTQUdiLHdCQUNJLEdBQUUsU0FBUyxJQUFJLENBQUMsR0FBRyxFQUFFLFNBQVMsTUFBTSxPQUFPLEFBQUMsR0FBYSxFQUFTLEtBQU8sRUFBTyxjQUUxRixFQUFPLE9BSUMsR0FBbUIsSUFBTSxHQUFTQSxJQ25DekNBLEdBQVEsR0FBWSxDQUN4QixjQUFlLENBQ2IsY0FBZSxHQUNmLFNBQVUsTUFJRCxHQUF1QixDQUFDLEVBQUcsYUFDOUIsVUFBVSxLQUFLLElBQU0sR0FBc0IsSUFDNUNBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXdCLEFBQUMsR0FBeUMsSUFDaEUsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsNkJBQ0ksR0FBRSxjQUFjLFNBQVMsSUFBSSxRQUNqQyxpQ0FDSSxHQUFFLGNBQWMsY0FBYyxJQUFJLEVBQU8sbUJBQzdDLDJCQUNJLEdBQUUsY0FBYyxjQUFjLElBQUksQ0FBQyxHQUFHLEVBQUUsY0FBYyxjQUFlLEVBQU8sbUJBQ2hGLDhCQUNJLEdBQUUsY0FBYyxjQUFjLElBQ25DLEVBQUUsY0FBYyxjQUFjLE1BQU0sT0FBTyxBQUFDLEdBQU0sRUFBRSxLQUFPLEVBQU8sbUJBR3ZFLEVBQU8sT0M5Qk5BLEdBQVEsR0FBWSxDQUN4QixZQUFhLE9BR0YsR0FBcUIsQ0FBQyxFQUFHLGFBQzVCLFVBQVUsS0FBSyxJQUFNLEdBQW9CLElBQzFDQSxHQUFNLE9BQU8sSUFBWSxPQUc1QixHQUFzQixBQUFDLEdBQXVDLElBQzVELE1BQU0sQUFBQyxHQUFNLFFBQ1QsRUFBTyxVQUNSLHdCQUNJLEdBQUUsWUFBWSxJQUFJLFFBQ3RCLDJCQUNJLEdBQUUsWUFBWSxJQUFJLENBQUMsRUFBRSxZQUFZLFNBRTNDLEVBQU8sT0FJQyxHQUFzQixJQUFNLEdBQVNBLElDekI1Q0EsR0FBUSxHQUFZLENBQ3hCLGFBQWMsS0FHSCxHQUFzQixDQUFDLEVBQUcsYUFDN0IsVUFBVSxLQUFLLElBQU0sTUFDdEJBLEdBQU0sT0FBTyxJQUFZLE9BRzVCLEdBQXVCLEFBQUMsR0FBd0MsR0NNdEUsT0FBZSxDQUNiLFVBQVcsR0FDWCxLQUFNLEdBQ04sUUFBUyxHQUNULE1BQU8sR0FDUCxPQUFRLEdBQ1IsT0FBUSxHQUNSLGdCQUFpQixHQUNqQixTQUFVLEdBQ1YsTUFBTyxHQUNQLFVBQVcsR0FDWCxhQUFjLEdBQ2QsUUFBUyxHQUNULE9BQVEsR0FDUixTQUFVLEdBQ1YsY0FBZSxHQUNmLFlBQWEsR0FDYiwyQkN4QmEsQ0FDYixTQUFVLEdBQ1YsTUFBTyxHQUNQLFVBQVcsR0FDWCxhQUFjLEdBQ2QsUUFBUyxHQUNULE9BQVEsR0FDUixTQUFVLEdBQ1YsY0FBZSxHQUNmLFlBQWEsR0FDYiw2QkNYVyxJQUFpQyxDQUM1QyxPQUFRLEdBQ1IsT0FBUSxHQUNSLFVBQVcsR0FDWCxTQUFVLEdBQ1YsUUFBUyxJQ1ZMQSxHQUFRLEdBQVksQ0FDeEIsYUFBYyxHQUNkLE1BQU8sR0FDUCxhQUFjLEdBQ2QsV0FBWSxHQUNaLHVCQUF3QixHQUN4QixrQkFBbUIsR0FDbkIsOEJBQStCLEdBQy9CLGNBQWUsS0FHSndJLEdBQWMsQ0FBQyxFQUFHLGFBQ3JCLFVBQVUsS0FBSyxJQUFNLEdBQWEsSUFDbkN4SSxHQUFNLE9BQU8sSUFBWSxPQUdyQixHQUFlLEFBQUMsR0FBaUMsSUFDdEQsTUFBTSxBQUFDLEdBQU0sUUFDVCxFQUFPLFVBQ1IsNEJBQ0ksR0FBRSxNQUFNLENBQUUsYUFBYyxFQUFPLGFBQWMsYUFBYyxTQUMvRCwyQkFDSSxHQUFFLE1BQU0sQ0FBRSxNQUFPLEVBQU8sTUFBTyxhQUFjLFNBQ2pELHlCQUNJLEdBQUUsYUFBYSxJQUFJLFFBQ3ZCLDBCQUNJLEdBQUUsTUFBTSxDQUFFLFdBQVksR0FBSSx1QkFBd0IsU0FDdEQsMkJBQ0ksR0FBRSxNQUFNLENBQUUsV0FBWSxFQUFPLE1BQU8sdUJBQXdCLFNBQ2hFLG1CQUFvQixNQUNqQixHQUFVLEVBQU8sS0FDakIsRUFBTSxFQUFFLFdBQVcsVUFBVSxBQUFDLEdBQzNCLEdBQWEsTUFBUSxFQUFVLEdBQUcsUUFBVSxFQUFRLFVBRXpELEtBQVEsS0FDUixXQUFXLE1BQU0sQ0FBQyxNQUVsQixXQUFXLEdBQUssSUFBSSxHQUVqQixFQUFFLHVCQUF1QixJQUFJLFFBRWpDLHFCQUFzQixNQUVuQixHQUFNLEFBRE8sRUFBRSxXQUNFLFVBQVUsQUFBQyxHQUN6QixHQUFhLE1BQVEsRUFBVSxNQUFNLEtBQU8sRUFBTyxLQUFLLFVBRTFELEdBQUUsV0FBVyxHQUFLLElBQUksUUFFMUIsa0NBQ0ksR0FBRSxNQUFNLENBQ2Isa0JBQW1CLEdBQ25CLDhCQUErQixTQUU5QixtQ0FDSSxHQUFFLE1BQU0sQ0FDYixrQkFBbUIsRUFBTyxNQUMxQiw4QkFBK0IsU0FFOUIsMkJBQTRCLE1BQ3pCLEdBQVUsRUFBTyxLQUNqQixFQUFNLEVBQUUsa0JBQWtCLFVBQVUsQUFBQyxHQUNsQyxHQUFhLE1BQVEsRUFBVSxNQUFNLEtBQU8sRUFBUSxVQUV6RCxLQUFRLEtBQ1Isa0JBQWtCLE1BQU0sQ0FBQyxNQUV6QixrQkFBa0IsR0FBSyxJQUFJLEdBRXhCLEVBQUUsOEJBQThCLElBQUksUUFFeEMsa0NBQ0csR0FBVSxFQUFPLEtBQ2pCLEVBQU0sRUFBRSxrQkFBa0IsVUFBVSxBQUFDLEdBQ2xDLEdBQWEsTUFBUSxFQUFVLE1BQU0sS0FBTyxFQUFRLFVBRXRELEdBQUUsa0JBQWtCLEdBQUssSUFBSSxRQUNqQyxtQkFDSSxHQUFFLGNBQWMsTUFBTSxDQUFDLEVBQU8sWUFFeEMsRUFBTyxPQ2xGWixPQUFlLENBQ2IsS0FBTSxHQUNOLEtBQU13SSxJQ1VSLEtBQU0sSUFBUSxHQUFZLENBQ3hCLE9BQVEsR0FDUixhQUFjLEtBQ2QsTUFBTyxLQUdJLEdBQWUsQ0FBQyxFQUFHLGFBQ3RCLFVBQVUsS0FBSyxJQUFNLEdBQWUsSUFDckMsR0FBTSxPQUFPLElBQVksT0FHNUIsR0FBaUIsQUFBQyxHQUFpQyxJQUNqRCxNQUFNLEFBQUMsR0FBTSxRQUNULEVBQU8sVUFDUiwrQkFDSSxHQUFFLE1BQU0sQ0FBRSxPQUFRLEVBQU8sYUFDN0IsNkJBQ0ksR0FBRSxNQUFNLENBQUUsTUFBTyxFQUFPLGNBQzVCLDBCQUNJLEdBQUUsTUFBTSxDQUFFLGFBQWMsRUFBTyxVQUV6QyxFQUFPLE9DakNaLE9BQWUsQ0FDYixPQUFRLElDS1YsS0FBTSxJQUFXLEdBQWdCLElBQzVCLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxLQ2RMLHdEQUNBLEtBQU0sSUFBMkIsQUFBQyxHQUFRLENBQ3RDLEtBQU0sR0FBcUIsR0FBSSxLQUMvQixFQUFtQixJQUFJLE1BQU8sQ0FBRSxLQUFNLFFBQ3RDLEtBQU0sR0FBZSxFQUFJLG9CQUFzQixDQUMzQyxnQkFBaUIsQ0FBRSxLQUFNLE9BQ3pCLFVBQVcsR0FFVCxFQUFjLENBQUMsRUFBTSxJQUFhLENBQ3BDLEVBQWEsVUFBVSxJQUFJLEVBQU0sSUFFL0IsRUFBYyxBQUFDLEdBQVMsQ0FDMUIsQUFBSSxFQUFhLFVBQVUsSUFBSSxJQUMzQixHQUFhLGdCQUFrQixFQUFhLFVBQVUsSUFBSSxLQUdsRSxTQUFhLFlBQWMsRUFDM0IsRUFBYSxZQUFjLEVBQ3BCLEdBRUwsR0FBZ0IsQUFBQyxHQUFTLEVBQUksbUJBQXFCLEdBQXlCLEdBSTVFLEdBQW1DLEdBQWUsTUFBTyxhQUFlLFlBQ3hFLFdBQ0EsTUFBTyxPQUFTLFlBQ1osS0FDQSxNQUFPLFNBQVcsWUFDZCxPQUNBLE1BQU8sU0FBVyxZQUNkLE9BQ0EsSUFJRSxHQUFtQixZQUluQixHQUFtQixZQXdCdkMsR0FBSSxJQUNKLEFBQUMsVUFBVSxFQUFlLENBT3RCLEVBQWMsY0FBbUIsZ0JBUWpDLEVBQWMsWUFBaUIsZ0JBQ2hDLElBQWtCLElBQWdCLEtBQ3JDLGdCQUFpQyxNQUFNLENBQ25DLFlBQVksRUFBUyxFQUFNLENBQ3ZCLE1BQU0sR0FDTixLQUFLLFFBQVUsRUFDZixLQUFLLEtBQU8sR0FHcEIsS0FBTSxJQUFnQixBQUFDLEdBQVEsQ0FDM0IsR0FBSSxHQUFJLEVBQ1IsTUFBSSxJQUFRLEtBQXlCLE9BQVMsRUFBSSxlQUN2QyxVQUVELElBQU0sR0FBSyxHQUFRLEtBQXlCLE9BQVMsRUFBSSxVQUFZLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxtQkFBcUIsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLFFBQ2pLLE1BR0EsT0FJVCxHQUFrQixBQUFDLEdBQVEsQ0FDN0IsR0FBSSxHQUFJLEVBQUksRUFBSSxFQUFJLEVBQ3BCLEtBQU0sR0FBb0IsRUFBSSx5QkFBMkIsS0FDbkQsRUFBTSxFQUFJLFdBQWEsR0FDdkIsRUFBVyxFQUFJLFFBQVUsRUFBSSxTQUFXLEdBSXhDLEVBQWUsRUFBSSxtQkFDbkIsRUFBcUIsSUFDaEIsSUFBc0IsS0FDdkIsRUFBa0IsS0FDbEIsR0FBYyxHQUVsQixFQUFnQixJQUFLLEdBQWlCLEtBQWtDLE9BQVMsRUFBYSxtQkFBcUIsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLGNBQWdCLEVBQ3ZLLEVBQTBCLElBQU0sTUFBa0IsTUFDbEQsRUFBcUIsSUFBSyxHQUFpQixLQUFrQyxPQUFTLEVBQWEsbUJBQXFCLE1BQVEsSUFBTyxPQUFTLE9BQVMsRUFBRyxtQkFBcUIsRUFDakwsRUFBMkIsQUFBQyxHQUFlLENBQzdDLEtBQU0sR0FBUyxFQUFrQixJQUFJLEdBS3JDLE1BSkksT0FBVyxLQUE0QixPQUFTLEVBQU8sVUFBVSxJQUFJLE9BSXJFLEVBQWdCLEtBTWxCLEVBQXNCLElBQUssR0FBaUIsS0FBa0MsT0FBUyxFQUFhLG1CQUFxQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsb0JBQy9KLEVBQ0UsRUFBeUIsQUFBQyxHQUFlLENBQUUsR0FBSSxHQUFJLE1BQVEsR0FBSyxFQUFJLGlCQUFtQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsS0FBSyxJQUFLLEdBQUUsT0FBUyxJQUNoSixFQUFvQixJQUFLLEdBQWlCLEtBQWtDLE9BQVMsRUFBYSxtQkFBcUIsTUFBUSxJQUFPLE9BQVMsT0FBUyxFQUFHLGtCQUFvQixFQUMvSyxFQUFjLEFBQUMsR0FBUSxFQUFJLFFBQVEsTUFBTSxHQUN6QyxFQUFtQixDQUFDLEVBQVMsRUFBTSxLQUM5QixRQUFRLE9BQU8sR0FBRywwQ0FBa0QsT0FFekUsRUFBb0IsR0FBSSxLQUN4QixFQUF3QixDQUFDLEVBQVksRUFBb0IsS0FBTyxDQUNsRSxLQUFNLElBQW1CLEVBQWtCLElBQUksR0FDL0MsR0FBSSxHQUNBLGVBQVEsS0FBSyxxQkFBcUIseURBQzNCLEdBQWlCLE1BRTVCLEtBQU0sSUFBVyxJQUNYLEdBQWUsRUFBZ0IsR0FDckMsR0FBSSxJQUNKLEtBQU0sR0FBMkIsU0FDN0IsQ0FBSSxDQUFDLElBQW9CLEtBQVksR0FDakMsR0FDSSxNQUFPLEdBQWtCLEtBQWMsV0FDaEMsR0FBbUIsS0FBTSxHQUFrQixNQUMzQyxHQUFtQixFQUFrQixJQUUzQyxJQUFzQixNQUMzQixDQUFDLElBQ0QsT0FBUyxJQUNULElBQ0ksTUFBTyxHQUFrQixLQUFXLFdBQzdCLEdBQW1CLEtBQU0sR0FBa0IsTUFDM0MsR0FBbUIsRUFBa0IsS0FFN0MsSUFFTCxFQUFxQixDQUFDLEVBQU0sS0FBUyxDQUN2QyxHQUFJLEdBQUksRUFDUixHQUFJLEdBQWMsQ0FDZCxLQUFNLEdBQWUsSUFBaUIsS0FBa0MsT0FBUyxHQUFhLFFBQVEsS0FBSyxHQUFLLEtBQVMsRUFBRSxNQUMzSCxHQUFJLEVBQ0EsTUFBSSxHQUFhLFFBQVUsVUFDaEIsQUFBQyxHQUFZLEVBQUksY0FBYyxFQUFZLEdBQUssV0FBWSxHQUc1RCxDQUFDLEVBQVMsSUFBYSxFQUFJLGVBQWUsRUFBWSxHQUFLLFdBQVksRUFBUyxHQUcxRixHQUFJLEVBQ0wsTUFBUSxHQUFLLEVBQUssT0FBVyxNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsS0FBSyxPQUd6RSxJQUFJLEVBQ0wsTUFBUSxHQUFLLEVBQUssT0FBVyxNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsS0FBSyxHQUd0RSxLQUFNLElBQUksSUFBbUIsSUFBSSxtQ0FBNEMsS0FBWSxHQUFjLGlCQUd6RyxFQUE0QixBQUFDLEdBQVMsQ0FDeEMsR0FBSSxJQUNKLEtBQU0sR0FBVSxJQUFJLElBQVMsQ0FDekIsS0FBTSxHQUFJLElBQTJCLEtBQUssR0FBUSxDQUM5QyxLQUFNLEdBQUssRUFBbUIsRUFBTSxHQUNwQyxHQUFJLEVBQUksQ0FDSixLQUFNLElBQUksRUFBRyxHQUFHLEdBQ2hCLFVBQVMsSUFBTSxLQUF1QixPQUFTLEdBQUUsT0FDMUMsT0FHUCxNQUFNLElBQUksSUFBbUIsSUFBSSxLQUFjLDhCQUFpQyxLQUFZLEdBQWMsaUJBR2xILE1BQUksS0FBUyxlQUNULEdBQUUsT0FBUyxTQUFZLE1BRXBCLEdBR1gsU0FBUSxTQUFXLElBQU0sR0FBRyxFQUFLLG9DQUNqQyxPQUFPLGVBQWUsRUFBUyxPQUFRLENBQ25DLE1BQU8sRUFDUCxTQUFVLEdBQ1YsYUFBYyxLQUVYLEdBRUwsRUFBYyxFQUEwQixlQUN4QyxFQUFpQixFQUEwQixrQkFDM0MsRUFBb0IsQ0FBQyxFQUFXLEtBQWEsQ0FDL0MsS0FBTSxHQUFPLEVBQVksQ0FBRSxhQUFhLElBQ2xDLEVBQVMsU0FBWSxDQUN2QixLQUFNLEdBQWEsS0FBTSxHQUN6QixFQUFlLENBQ1gsWUFDQSxjQUNELEtBRUQsRUFBSSxHQUFJLFNBQVEsR0FBVyxFQUFLLEtBQUssSUFBTSxFQUFRLENBQUUsYUFDM0QsU0FBRSxPQUFTLFNBQVksQ0FDbkIsUUFBUSxLQUFLLHNEQUNiLEtBQU0sTUFFSCxHQUVMLEdBQVEsR0FBSSxPQUFNLEdBQUksQ0FDeEIsSUFBSSxFQUFHLEdBQU0sQ0FDVCxPQUFRLFFBRUMsV0FDRCxXQUNDLFNBQ0QsTUFBTyxJQUFPLFNBQ2IsY0FDRCxNQUFPLElBQWUsRUFBb0IsTUFDekMsaUJBQ0QsTUFBTyxXQUVQLE1BQU8sR0FBMEIsUUFJakQsU0FBUSxHQUFjLEdBQ3RCLEVBQWtCLElBQUksRUFBWSxDQUM5QixLQUFNLEVBQ04sU0FDQSxVQUFXLEdBQUksS0FBSSxDQUNmLEdBQUcsT0FBTyxLQUFLLEdBQ2YsR0FBSSxHQUFlLENBQUMsSUFBWSxPQUdqQyxJQUVMLEdBQW1CLElBQUssR0FBaUIsS0FBa0MsT0FBUyxFQUFhLG1CQUFxQixNQUFRLElBQU8sT0FBUyxPQUFTLEVBQUcsaUJBQW1CLEVBRW5MLE1BQUssR0FBSSxnQkFDTCxHQUFJLGVBQWlCLEdBQVksR0FFckMsRUFBSSxZQUFjLEVBQ2xCLEVBQUksWUFBYyxFQUNsQixFQUFJLGlCQUFtQixFQUN2QixFQUFJLGtCQUFvQixFQUN4QixFQUFJLGlCQUFtQixFQUN2QixFQUFJLGVBQWlCLEdBQ3JCLEVBQUksVUFBWSxHQUNoQixFQUFJLE1BQVEsQ0FBQyxDQUFDLEVBQUksTUFDbEIsRUFBSSxpQkFBbUIsQ0FBQyxDQUFDLEVBQUksaUJBRTdCLEVBQUksU0FBVyxFQUFJLGNBQ25CLEVBQUksU0FBVyxFQUFJLG1CQUNaLEdBRUwsR0FBc0IsQUFBQyxHQUFTLEVBQUksVUFBWSxHQUFnQixHQUVoRSxHQUEwQixHQUFvQixNQUFPLGFBQWUsWUFDcEUsV0FDQSxNQUFPLE9BQVMsWUFDWixLQUNBLE1BQU8sU0FBVyxZQUNkLE9BQ0EsTUFBTyxTQUFXLFlBQ2QsT0FDQSxJQUNaLEdBQWlCLEdBQVUsZUFNM0IsR0FBVSxHQUFVLFFBaUIxQixRQUFnQixDQUNaLFlBQVksRUFBUSxDQUNoQixLQUFLLFVBQVksR0FDakIsS0FBSyxnQkFBa0IsR0FDbkIsR0FFQSxTQUFRLEtBQUssd0JBQXdCLEVBQU8sdUVBQzVDLEtBQUssT0FBUyxHQUd0QixZQUFZLEVBQVcsRUFBYyxDQUVqQyxBQUFLLEFBRGEsS0FBSyxVQUFVLElBRTdCLE1BQUssVUFBVSxHQUFhLElBRWhDLEtBQUssVUFBVSxHQUFXLEtBQUssR0FHL0IsS0FBTSxHQUFpQixLQUFLLGdCQUFnQixHQUM1QyxBQUFJLEdBQWtCLENBQUMsRUFBZSxZQUNsQyxLQUFLLGtCQUFrQixHQUUzQixLQUFNLEdBQVMsU0FBWSxLQUFLLGVBQWUsRUFBVyxHQUNwRCxFQUFJLFFBQVEsUUFBUSxDQUFFLFdBQzVCLGNBQU8sZUFBZSxFQUFHLFNBQVUsQ0FDL0IsTUFBTyxTQUFZLENBQ2YsUUFBUSxLQUFLLHNEQUNiLEtBQU0sUUFHUCxPQUVMLHFCQUFxQixDQUN2QixLQUFLLFVBQVksR0FDakIsU0FBVyxLQUFZLE1BQUssZ0JBQ3hCLEtBQUsscUJBQXFCLEtBQUssZ0JBQWdCLElBRW5ELEtBQUssZ0JBQWtCLEdBRTNCLGdCQUFnQixFQUFXLEVBQU0sQ0FDN0IsS0FBTSxHQUFZLEtBQUssVUFBVSxHQUNqQyxBQUFJLEdBQ0EsRUFBVSxRQUFRLEdBQVksRUFBUyxJQUcvQyxhQUFhLEVBQVcsQ0FDcEIsTUFBTyxDQUFDLENBQUMsS0FBSyxVQUFVLEdBQVcsT0FFdkMsdUJBQXVCLEVBQWlCLEVBQWlCLENBQ3JELEtBQUssZ0JBQWdCLEdBQW1CLENBQ3BDLFdBQVksR0FDWixrQkFDQSxrQkFDQSxRQUFTLEdBQVMsQ0FDZCxLQUFLLGdCQUFnQixFQUFpQixLQUlsRCxjQUFjLEVBQU0sa0JBQW1CLENBQ25DLE1BQU8sSUFBSSxJQUFVLFVBQVUsRUFBSyxHQUFjLGVBRXRELFlBQVksRUFBTSxnQkFBaUIsQ0FDL0IsTUFBTyxJQUFJLElBQVUsVUFBVSxFQUFLLEdBQWMsa0JBRWhELGdCQUFlLEVBQVcsRUFBYyxDQUMxQyxLQUFNLEdBQVksS0FBSyxVQUFVLEdBQ2pDLEdBQUksQ0FBQyxFQUNELE9BRUosS0FBTSxHQUFRLEVBQVUsUUFBUSxHQUNoQyxLQUFLLFVBQVUsR0FBVyxPQUFPLEVBQU8sR0FHbkMsS0FBSyxVQUFVLEdBQVcsUUFDM0IsS0FBSyxxQkFBcUIsS0FBSyxnQkFBZ0IsSUFHdkQsa0JBQWtCLEVBQVEsQ0FDdEIsT0FBTyxpQkFBaUIsRUFBTyxnQkFBaUIsRUFBTyxTQUN2RCxFQUFPLFdBQWEsR0FFeEIscUJBQXFCLEVBQVEsQ0FDekIsQUFBSSxDQUFDLEdBR0wsUUFBTyxvQkFBb0IsRUFBTyxnQkFBaUIsRUFBTyxTQUMxRCxFQUFPLFdBQWEsS0NqWjVCLEtBQU1DLElBQU0sR0FBZSxNQUFPLENBQzlCLElBQUssSUFBTSxPQUFPLHFCQUFTLEtBQUssR0FBSyxHQUFJLEdBQUUsVUNFekMsR0FBZ0MsSUFBTSxJQUN0QyxHQUFVLGlDQUNKLElBQU0sSUFDVixZQUFZLGFBQWMsQUFBQyxHQUFnQyxNQUd2RCxHQUFPLEVBQU0sSUFBSSxNQUFNLE9BQU8sTUFDaEMsS0FDTSxLQUFLLE1BS2hCLElBRUksTUNGSCxHQUFNLElBQVcsTUFDZixHQUFXLEtBRVgsRUFBVWpCLHVCQUFZLElBQU0sQ0FDNUIsdzdMQUFlLHM3TEFBWSxhQUMzQixPQUFlLElBQU0sczdMQUFZLFlBRWpDLE9BQWUsSUFBTSxLQUdoQixHQUFXLDBCQUtuQixnQ0FFTyxFQUFTLG9EQUlka0IsR0FBRCxxQkFDRyxRQUFELEtBQVEsR0FBTyxvQkFBb0IsdUJBQ2xDLE9BQUQsQ0FDRSxLQUFLLFdBQ0wsUUFBUSwrR0FHWEMsR0FBRCxPQUFlQyxvQkFDWixHQUFELENBQWtCLFNBQVUsbUJBQ3pCLEdBQUQsc0JBQ0MsR0FBRCxVQU9KLEdBQWdCLG9CQUVqQixHQUFELENBQVUsTUFBTyxHQUFlLHFCQUM3QixHQUFELHFCQUNHLEdBQUQsc0JBQ0MsR0FBRCJ9
